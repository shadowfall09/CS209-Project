{"items":[{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":3,"creation_date":1693765206,"post_id":77033646,"comment_id":135800611,"body_markdown":"Don&#39;t mess with this. Java requires that `public class Foo` is defined in `Foo.java`. Don&#39;t try to get around that unless you have a very good reason and know what you are doing.","body":"Don&#39;t mess with this. Java requires that <code>public class Foo</code> is defined in <code>Foo.java</code>. Don&#39;t try to get around that unless you have a very good reason and know what you are doing."},{"owner":{"account_id":26548460,"reputation":3,"user_id":20178186,"display_name":"Sunny Soren"},"score":0,"creation_date":1693765709,"post_id":77033646,"comment_id":135800666,"body_markdown":"@Robert I know that&#39;s why I defined my class without `public` so that i can use different class name and filename.","body":"@Robert I know that&#39;s why I defined my class without <code>public</code> so that i can use different class name and filename."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":3,"creation_date":1693765843,"post_id":77033646,"comment_id":135800681,"body_markdown":"Don&#39;t work against the framework. Why do you want to have different names in the first place? You&#39;re making it hard for yourself and everyone using your code. This sounds a lot like an [xy problem](https://xyproblem.info/). Why are you trying to do this?","body":"Don&#39;t work against the framework. Why do you want to have different names in the first place? You&#39;re making it hard for yourself and everyone using your code. This sounds a lot like an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">xy problem</a>. Why are you trying to do this?"},{"owner":{"account_id":26548460,"reputation":3,"user_id":20178186,"display_name":"Sunny Soren"},"score":0,"creation_date":1693766621,"post_id":77033646,"comment_id":135800749,"body_markdown":"@Robert Well one of reasons was that I couldn&#39;t use some names both for file and class and gave errors like &#39;Invalid Modifiers&#39; and &#39;Syntax error&#39; etc..","body":"@Robert Well one of reasons was that I couldn&#39;t use some names both for file and class and gave errors like &#39;Invalid Modifiers&#39; and &#39;Syntax error&#39; etc.."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1693766731,"post_id":77033646,"comment_id":135800761,"body_markdown":"Can you [edit] your question and give an example of a class that causes the &quot;invalid modifiers&quot; error?","body":"Can you <a href=\"https://stackoverflow.com/posts/77033646/edit\">edit</a> your question and give an example of a class that causes the &quot;invalid modifiers&quot; error?"},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1693767601,"post_id":77033646,"comment_id":135800885,"body_markdown":"`reverse-string` is not a valid class name. This has nothing to do with VS Code. It just enforces the rules that Java defines. I recommend that you read about valid names in Java to understand this better.","body":"<code>reverse-string</code> is not a valid class name. This has nothing to do with VS Code. It just enforces the rules that Java defines. I recommend that you read about valid names in Java to understand this better."},{"owner":{"account_id":26548460,"reputation":3,"user_id":20178186,"display_name":"Sunny Soren"},"score":0,"creation_date":1693768059,"post_id":77033646,"comment_id":135800938,"body_markdown":"@Code-Apprentice Yes I know but it is a valid filename and that&#39;s why I was using different names for filename and class name without using `public` . I just wanted to know if there&#39;s a way to run code that has class name different from filename .","body":"@Code-Apprentice Yes I know but it is a valid filename and that&#39;s why I was using different names for filename and class name without using <code>public</code> . I just wanted to know if there&#39;s a way to run code that has class name different from filename ."},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1693768220,"post_id":77033646,"comment_id":135800951,"body_markdown":"@SunnySoren No, you must keep the class name and file name the same. This is a rule from Java and VS Code is just helping you follow the rules.","body":"@SunnySoren No, you must keep the class name and file name the same. This is a rule from Java and VS Code is just helping you follow the rules."},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":2,"creation_date":1693768432,"post_id":77033646,"comment_id":135800968,"body_markdown":"@SunnySoren I recommend trying to compile and run your code from the command line without VS Code. You will still encounter errors if you try to make the class name and file name different. This shows that the problem is your code not following the rules defined by Java rather than a problem with VS Code.","body":"@SunnySoren I recommend trying to compile and run your code from the command line without VS Code. You will still encounter errors if you try to make the class name and file name different. This shows that the problem is your code not following the rules defined by Java rather than a problem with VS Code."},{"owner":{"account_id":26548460,"reputation":3,"user_id":20178186,"display_name":"Sunny Soren"},"score":1,"creation_date":1693768992,"post_id":77033646,"comment_id":135801030,"body_markdown":"@Code-Apprentice I see. I was just wondering as compiling and running can be done separately in cmd maybe there is a way in vscode(without manually entering command in terminal) . I see that using different names for class name and filename is just bad practice and that&#39;s what vscode is trying to tell.","body":"@Code-Apprentice I see. I was just wondering as compiling and running can be done separately in cmd maybe there is a way in vscode(without manually entering command in terminal) . I see that using different names for class name and filename is just bad practice and that&#39;s what vscode is trying to tell."},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1693769108,"post_id":77033646,"comment_id":135801050,"body_markdown":"As I said, try it from the command line. If you can&#39;t do what you want there, then VS Code can&#39;t do it, either.","body":"As I said, try it from the command line. If you can&#39;t do what you want there, then VS Code can&#39;t do it, either."},{"owner":{"account_id":26548460,"reputation":3,"user_id":20178186,"display_name":"Sunny Soren"},"score":0,"creation_date":1693770060,"post_id":77033646,"comment_id":135801174,"body_markdown":"@Code-Apprentice Yeah I asked a question here because it worked in cmd and also in vscode(just had to rewrite command in vscode terminal)","body":"@Code-Apprentice Yeah I asked a question here because it worked in cmd and also in vscode(just had to rewrite command in vscode terminal)"},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1693804407,"post_id":77033646,"comment_id":135803602,"body_markdown":"Note that ChatGPT is not the same as &quot;searched the internet&quot;. Please do not confuse the two. ChatGPT is a great tool when used properly, but it has the tendency to be flat out wrong at times. Use it with a critical eye.","body":"Note that ChatGPT is not the same as &quot;searched the internet&quot;. Please do not confuse the two. ChatGPT is a great tool when used properly, but it has the tendency to be flat out wrong at times. Use it with a critical eye."},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1693804574,"post_id":77033646,"comment_id":135803625,"body_markdown":"Also, when I create a file named `reverse-string.java` with a public class named `RverseString`, I get an error. What OS and version of Java did you use?  I&#39;m on macos... not sure which Java version.","body":"Also, when I create a file named <code>reverse-string.java</code> with a public class named <code>RverseString</code>, I get an error. What OS and version of Java did you use?  I&#39;m on macos... not sure which Java version."}],"answers":[{"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1693768723,"post_id":77033801,"comment_id":135800993,"body_markdown":"@sunny To add to this: follow conventions like for naming, or you will confuse people who try to work with you and your code. Python can take this to extremes, but the idea is the same: make your code easy to read and work with. Trying to force different file names is the opposite of this. You are wasting a lot of time and effort on something you really shouldn&#39;t do in the first place.","body":"@sunny To add to this: follow conventions like for naming, or you will confuse people who try to work with you and your code. Python can take this to extremes, but the idea is the same: make your code easy to read and work with. Trying to force different file names is the opposite of this. You are wasting a lot of time and effort on something you really shouldn&#39;t do in the first place."},{"owner":{"account_id":26548460,"reputation":3,"user_id":20178186,"display_name":"Sunny Soren"},"score":0,"creation_date":1693769809,"post_id":77033801,"comment_id":135801141,"body_markdown":"This is a bit confusing as both `javac reverse-string.java` and `java ReverseString` worked for me after removing `public` from class.","body":"This is a bit confusing as both <code>javac reverse-string.java</code> and <code>java ReverseString</code> worked for me after removing <code>public</code> from class."},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1693770057,"post_id":77033801,"comment_id":135801172,"body_markdown":"@SunnySoren You will have to post the code that you used that &quot;worked&quot; along with the exact commands because `javac reverse-string.java` doesn&#39;t work for me. Be sure you don&#39;t have any left-over .java or .class files from previous attempts.","body":"@SunnySoren You will have to post the code that you used that &quot;worked&quot; along with the exact commands because <code>javac reverse-string.java</code> doesn&#39;t work for me. Be sure you don&#39;t have any left-over .java or .class files from previous attempts."},{"owner":{"account_id":26548460,"reputation":3,"user_id":20178186,"display_name":"Sunny Soren"},"score":0,"creation_date":1693770816,"post_id":77033801,"comment_id":135801257,"body_markdown":"@Code-Apprentice I edited the question and added the code that worked.","body":"@Code-Apprentice I edited the question and added the code that worked."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":2,"creation_date":1693776748,"post_id":77033801,"comment_id":135801825,"body_markdown":"`javac` enforces classname=filename for _public_ class but not for default=package. And while traditionally `java` is given the name of a compiled main class, or a jar or (since j9) module containing such, since j11 `java filename.java` _compiles and runs_ a sourcefile which may contain a class with nonmatching name either public or package; see [12th bullet here](https://docs.oracle.com/en/java/javase/11/tools/java.html#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE__USINGSOURCE-FILEMODETOLAUNCHSINGLE--B5E57618). However this is confusing and (thus) not recommendable.","body":"<code>javac</code> enforces classname=filename for <i>public</i> class but not for default=package. And while traditionally <code>java</code> is given the name of a compiled main class, or a jar or (since j9) module containing such, since j11 <code>java filename.java</code> <i>compiles and runs</i> a sourcefile which may contain a class with nonmatching name either public or package; see <a href=\"https://docs.oracle.com/en/java/javase/11/tools/java.html#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE__USINGSOURCE-FILEMODETOLAUNCHSINGLE--B5E57618\" rel=\"nofollow noreferrer\">12th bullet here</a>. However this is confusing and (thus) not recommendable."}],"tags":[],"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693768596,"creation_date":1693767864,"answer_id":77033801,"question_id":77033646,"body_markdown":"Java requires that the .java file name matches the name of the public class defined in that file. VS Code is simply helping you follow this rule. You shouldn&#39;t try to get around it.\r\n\r\nThe real problem here is that `reverse-string` is not a valid class name because `-` is not allowed in any identifier in Java. Instead, you should name the class `ReverseString` and the file as `ReverseString.java`. While the capital first letter is not strictly required by Java, it is a common convention to differentiate class names easily from other names, such as methods and variables.\r\n\r\nAlternatively, Java won&#39;t allow you to name the file `reverse-string.java` with a class named `ReverseString`. I recommend using the command line directly with something like `javac reverse-string.java` to try it. Even if this works, running `java ReverseString` won&#39;t work.","title":"How do I edit the command to compile and run java file in vscode terminal?","body":"<p>Java requires that the .java file name matches the name of the public class defined in that file. VS Code is simply helping you follow this rule. You shouldn't try to get around it.</p>\n<p>The real problem here is that <code>reverse-string</code> is not a valid class name because <code>-</code> is not allowed in any identifier in Java. Instead, you should name the class <code>ReverseString</code> and the file as <code>ReverseString.java</code>. While the capital first letter is not strictly required by Java, it is a common convention to differentiate class names easily from other names, such as methods and variables.</p>\n<p>Alternatively, Java won't allow you to name the file <code>reverse-string.java</code> with a class named <code>ReverseString</code>. I recommend using the command line directly with something like <code>javac reverse-string.java</code> to try it. Even if this works, running <code>java ReverseString</code> won't work.</p>\n"},{"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1693809925,"post_id":77035578,"comment_id":135804358,"body_markdown":"https://github.com/formulahendry/vscode-code-runner/blob/master/README.md#configuration","body":"<a href=\"https://github.com/formulahendry/vscode-code-runner/blob/master/README.md#configuration\" rel=\"nofollow noreferrer\">github.com/formulahendry/vscode-code-runner/blob/master/&hellip;</a>"}],"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693809832,"creation_date":1693809832,"answer_id":77035578,"question_id":77033646,"body_markdown":"You should be using **Code Runner** to run the script. Add this setting\r\n\r\n```json\r\n    &quot;code-runner.customCommand&quot;: &quot;cd $dir &amp;&amp; javac $fileName &amp;&amp; java $fileName&quot;,\r\n```\r\n\r\nThen select `RUn Custom Command` in the command panel or use the shortcut key &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;K&lt;/kbd&gt; to execute the script using the command you defined.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOr you can also modify the execution command of the java language in the `code-runner.executorMap` setting:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y6ScO.png\r\n  [2]: https://i.stack.imgur.com/Ma2xn.png","title":"How do I edit the command to compile and run java file in vscode terminal?","body":"<p>You should be using <strong>Code Runner</strong> to run the script. Add this setting</p>\n<pre class=\"lang-json prettyprint-override\"><code>    &quot;code-runner.customCommand&quot;: &quot;cd $dir &amp;&amp; javac $fileName &amp;&amp; java $fileName&quot;,\n</code></pre>\n<p>Then select <code>RUn Custom Command</code> in the command panel or use the shortcut key <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>K</kbd> to execute the script using the command you defined.</p>\n<p><a href=\"https://i.stack.imgur.com/Y6ScO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y6ScO.png\" alt=\"enter image description here\" /></a></p>\n<p>Or you can also modify the execution command of the java language in the <code>code-runner.executorMap</code> setting:</p>\n<p><a href=\"https://i.stack.imgur.com/Ma2xn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ma2xn.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26548460,"reputation":3,"user_id":20178186,"display_name":"Sunny Soren"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77035578,"answer_count":2,"score":0,"last_activity_date":1693809832,"creation_date":1693765123,"question_id":77033646,"body_markdown":"Whenever I run a java program, both class name and filename have to be same, because the command to compile and run java in vscode terminal is:\r\n\r\n```\r\ncd &quot;c:\\Users\\user\\Desktop\\Java\\&quot; ; if ($?) { javac MyProgram.java } ; if ($?) { java MyProgram }\r\n```\r\n\r\nand when my class name is different from filename I have to edit the command to `...; if ($?) { java ActualClassname }` in terminal every time I run the code.\r\n\r\nSo how do I change this command for running and compiling java program in vscode?\r\n\r\nI just have to change it a little bit from:\r\n```\r\ncd &quot;c:\\Users\\user\\Desktop\\Java\\&quot; ; if ($?) { javac MyProgram.java } ; if ($?) { java MyProgram }\r\n```\r\nto:\r\n```\r\ncd &quot;c:\\Users\\user\\Desktop\\Java\\&quot; ; if ($?) { javac MyProgram.java } ; if ($?) { java MyProgram.java }\r\n```\r\nAdding `.java` in the end seems to solve my problem whenever I have different class name from filename.\r\n\r\nReason for asking this is some names for class were giving me errors\r\nfor example:\r\n```\r\n//reverse-string.java\r\nimport java.util.Scanner;\r\npublic class reverse-string //error:&quot;invalid modifiers&quot;\r\n{\r\n    public static void main(String[] args) {\r\n        String str, rev=&quot;&quot;;\r\n        char ch;\r\n        Scanner in=new Scanner(System.in);\r\n        System.out.println(&quot;Enter a String:&quot;);\r\n        str = in.next();\r\n        System.out.println(&quot;String = &quot;+str);\r\n        for (int i = 0; i &lt; str.length(); i++) {\r\n            ch = str.charAt(i);\r\n            rev = ch + rev;\r\n        }\r\n        System.out.println(&quot;Reverse String = &quot;+rev);\r\n        in.close();\r\n    }\r\n}\r\n\r\n```\r\n\r\nSo I used different names for class and file that&#39;s why had to remove `public` from class:\r\n```\r\n//reverse-string.java\r\nimport java.util.Scanner;\r\nclass ReverseString\r\n{\r\n    public static void main(String[] args) {\r\n        String str, rev=&quot;&quot;;\r\n        char ch;\r\n        Scanner in=new Scanner(System.in);\r\n        System.out.println(&quot;Enter a String:&quot;);\r\n        str = in.next();\r\n        System.out.println(&quot;String = &quot;+str);\r\n        for (int i = 0; i &lt; str.length(); i++) {\r\n            ch = str.charAt(i);\r\n            rev = ch + rev;\r\n        }\r\n        System.out.println(&quot;Reverse String = &quot;+rev);\r\n        in.close();\r\n    }\r\n}\r\n```\r\nand that worked both in vscode and command line using `javac reverse-string.java` and `java ReverseString`\r\n\r\nAfter searching in the internet (chatgpt) I found out that changing the `task.json` in `.vscode` directory would change the command that is required to run the program. But I don&#39;t know how do I change and even how do I open this `task.json` only for Java? It is very confusing.","title":"How do I edit the command to compile and run java file in vscode terminal?","body":"<p>Whenever I run a java program, both class name and filename have to be same, because the command to compile and run java in vscode terminal is:</p>\n<pre><code>cd &quot;c:\\Users\\user\\Desktop\\Java\\&quot; ; if ($?) { javac MyProgram.java } ; if ($?) { java MyProgram }\n</code></pre>\n<p>and when my class name is different from filename I have to edit the command to <code>...; if ($?) { java ActualClassname }</code> in terminal every time I run the code.</p>\n<p>So how do I change this command for running and compiling java program in vscode?</p>\n<p>I just have to change it a little bit from:</p>\n<pre><code>cd &quot;c:\\Users\\user\\Desktop\\Java\\&quot; ; if ($?) { javac MyProgram.java } ; if ($?) { java MyProgram }\n</code></pre>\n<p>to:</p>\n<pre><code>cd &quot;c:\\Users\\user\\Desktop\\Java\\&quot; ; if ($?) { javac MyProgram.java } ; if ($?) { java MyProgram.java }\n</code></pre>\n<p>Adding <code>.java</code> in the end seems to solve my problem whenever I have different class name from filename.</p>\n<p>Reason for asking this is some names for class were giving me errors\nfor example:</p>\n<pre><code>//reverse-string.java\nimport java.util.Scanner;\npublic class reverse-string //error:&quot;invalid modifiers&quot;\n{\n    public static void main(String[] args) {\n        String str, rev=&quot;&quot;;\n        char ch;\n        Scanner in=new Scanner(System.in);\n        System.out.println(&quot;Enter a String:&quot;);\n        str = in.next();\n        System.out.println(&quot;String = &quot;+str);\n        for (int i = 0; i &lt; str.length(); i++) {\n            ch = str.charAt(i);\n            rev = ch + rev;\n        }\n        System.out.println(&quot;Reverse String = &quot;+rev);\n        in.close();\n    }\n}\n\n</code></pre>\n<p>So I used different names for class and file that's why had to remove <code>public</code> from class:</p>\n<pre><code>//reverse-string.java\nimport java.util.Scanner;\nclass ReverseString\n{\n    public static void main(String[] args) {\n        String str, rev=&quot;&quot;;\n        char ch;\n        Scanner in=new Scanner(System.in);\n        System.out.println(&quot;Enter a String:&quot;);\n        str = in.next();\n        System.out.println(&quot;String = &quot;+str);\n        for (int i = 0; i &lt; str.length(); i++) {\n            ch = str.charAt(i);\n            rev = ch + rev;\n        }\n        System.out.println(&quot;Reverse String = &quot;+rev);\n        in.close();\n    }\n}\n</code></pre>\n<p>and that worked both in vscode and command line using <code>javac reverse-string.java</code> and <code>java ReverseString</code></p>\n<p>After searching in the internet (chatgpt) I found out that changing the <code>task.json</code> in <code>.vscode</code> directory would change the command that is required to run the program. But I don't know how do I change and even how do I open this <code>task.json</code> only for Java? It is very confusing.</p>\n"},{"tags":["java","selenium","xpath"],"comments":[{"owner":{"account_id":10230959,"reputation":3676,"user_id":7551712,"display_name":"Jortega"},"score":0,"creation_date":1581291348,"post_id":60135408,"comment_id":106371796,"body_markdown":"please remember to mark the answer that helps you solve your issue.  See https://stackoverflow.com/help/someone-answers","body":"please remember to mark the answer that helps you solve your issue.  See <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}],"answers":[{"tags":[],"owner":{"account_id":17722424,"reputation":9,"user_id":12867130,"display_name":"nikil reddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693808311,"creation_date":1581251854,"answer_id":60136696,"question_id":60135408,"body_markdown":"Try using Java script executor\r\n\r\n    JavascriptExecutor executor = (JavascriptExecutor)driver;\r\n    executor.executeScript(&quot;document.getElementById(&#39;bubble_rating&#39;).ui_bubble_rating fl bubble_05 bubble_50&quot;);\r\n\r\nthis would work, please kindly let me know ","title":"Unable to find the xpath of star using selenium &amp; java","body":"<p>Try using Java script executor</p>\n<pre><code>JavascriptExecutor executor = (JavascriptExecutor)driver;\nexecutor.executeScript(&quot;document.getElementById('bubble_rating').ui_bubble_rating fl bubble_05 bubble_50&quot;);\n</code></pre>\n<p>this would work, please kindly let me know</p>\n"},{"tags":[],"owner":{"account_id":15800350,"reputation":24,"user_id":11401040,"display_name":"Sandeep Koparde"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650500474,"creation_date":1581257415,"answer_id":60137480,"question_id":60135408,"body_markdown":"Try this:\r\n\r\n```java\r\nimport java.time.Duration;\r\nimport java.util.List;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.Dimension;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.interactions.Actions;\r\n\r\npublic class TripAdvisor \r\n{\r\n\tpublic static void main(String[] args) \r\n    {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\selenium\\\\Drivers\\\\chromedriver.exe&quot;);\r\n\t\tWebDriver driver = new ChromeDriver();\r\n        String baseUrl = &quot;https://www.tripadvisor.in/&quot;\r\n        \t\t\t\t+ &quot;UserReviewEdit-g641714-d1156207-Club_Mahindra_Madikeri_Coorg-Madikeri_Kodagu_Coorg_Karnataka.html&quot;;\r\n        driver.get(baseUrl);\r\n        \r\n        // Capture the webElement and its width\r\n        WebElement target = driver.findElement(By.xpath(&quot;//img[@alt=&#39;Roll over, then click to rate&#39;]/..&quot;));\r\n        Dimension dimension = target.getSize();\r\n        int  width= dimension.getWidth();\r\n        \r\n        // Initialize the list of 5 star rating with no elements\r\n        List&lt;WebElement&gt; rating5star= driver.findElements(By.xpath(&quot;//span[@class=&#39;ui_bubble_rating fl bubble_50&#39;]&quot;));\r\n        \r\n        \r\n        // When using the W3C Action commands, offsets are from the center of element\r\n        // This is in contradiction to the information provided in Selenium java docs\r\n        // https://selenium.dev/selenium/docs/api/java/org/openqa/selenium/interactions/Actions.html#moveToElement-org.openqa.selenium.WebElement-int-int-\r\n        // Hence the movement should be from -(width/2) to (width/2)\r\n        \r\n        Actions action = new Actions(driver);\r\n        int x = (0 - width/2);\r\n        while(rating5star.size()==0 &amp; x&lt;=(width/2))\r\n        {\r\n        \taction.moveToElement(target, x, 0).click().pause(Duration.ofSeconds(1)).perform();\r\n        \trating5star= driver.findElements(By.xpath(&quot;//span[@class=&#39;ui_bubble_rating fl bubble_50&#39;]&quot;));\r\n        \tSystem.out.println(rating5star.size());\r\n        \tx=x+10;\r\n        }\r\n\t}\r\n}\r\n```","title":"Unable to find the xpath of star using selenium &amp; java","body":"<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.Duration;\nimport java.util.List;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.Dimension;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.interactions.Actions;\n\npublic class TripAdvisor \n{\n    public static void main(String[] args) \n    {\n        // TODO Auto-generated method stub\n        \n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\selenium\\\\Drivers\\\\chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        String baseUrl = &quot;https://www.tripadvisor.in/&quot;\n                        + &quot;UserReviewEdit-g641714-d1156207-Club_Mahindra_Madikeri_Coorg-Madikeri_Kodagu_Coorg_Karnataka.html&quot;;\n        driver.get(baseUrl);\n        \n        // Capture the webElement and its width\n        WebElement target = driver.findElement(By.xpath(&quot;//img[@alt='Roll over, then click to rate']/..&quot;));\n        Dimension dimension = target.getSize();\n        int  width= dimension.getWidth();\n        \n        // Initialize the list of 5 star rating with no elements\n        List&lt;WebElement&gt; rating5star= driver.findElements(By.xpath(&quot;//span[@class='ui_bubble_rating fl bubble_50']&quot;));\n        \n        \n        // When using the W3C Action commands, offsets are from the center of element\n        // This is in contradiction to the information provided in Selenium java docs\n        // https://selenium.dev/selenium/docs/api/java/org/openqa/selenium/interactions/Actions.html#moveToElement-org.openqa.selenium.WebElement-int-int-\n        // Hence the movement should be from -(width/2) to (width/2)\n        \n        Actions action = new Actions(driver);\n        int x = (0 - width/2);\n        while(rating5star.size()==0 &amp; x&lt;=(width/2))\n        {\n            action.moveToElement(target, x, 0).click().pause(Duration.ofSeconds(1)).perform();\n            rating5star= driver.findElements(By.xpath(&quot;//span[@class='ui_bubble_rating fl bubble_50']&quot;));\n            System.out.println(rating5star.size());\n            x=x+10;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13973715,"reputation":2843,"user_id":10091597,"display_name":"Muzzamil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581260587,"creation_date":1581260004,"answer_id":60137872,"question_id":60135408,"body_markdown":"I think hover will not work as it is single element for whole rating bar. so what i have observed it will changed `class` value for selected rating. We can do change rating with change `class` attribute&#39;s `value`with `JS`\r\n\r\n\r\n    JavascriptExecutor js = (JavascriptExecutor) driver;\r\n    js.executeScript(&quot;document.getElementById(&#39;bubble_rating&#39;).setAttribute(&#39;class&#39;, &#39;ui_bubble_rating fl bubble_50&#39;)&quot;);\r\n\r\n\r\n**OR**\r\n\r\n    WebElement element = driver.findElement(By.id(&quot;bubble_rating&quot;));\r\n    \r\n        js.executeScript(&quot;arguments[0].setAttribute(&#39;class&#39;,&#39;ui_bubble_rating fl bubble_50&#39;)&quot;, element);\r\n\r\n\r\nit will do the job.","title":"Unable to find the xpath of star using selenium &amp; java","body":"<p>I think hover will not work as it is single element for whole rating bar. so what i have observed it will changed <code>class</code> value for selected rating. We can do change rating with change <code>class</code> attribute's <code>value</code>with <code>JS</code></p>\n\n<pre><code>JavascriptExecutor js = (JavascriptExecutor) driver;\njs.executeScript(\"document.getElementById('bubble_rating').setAttribute('class', 'ui_bubble_rating fl bubble_50')\");\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<pre><code>WebElement element = driver.findElement(By.id(\"bubble_rating\"));\n\n    js.executeScript(\"arguments[0].setAttribute('class','ui_bubble_rating fl bubble_50')\", element);\n</code></pre>\n\n<p>it will do the job.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581280165,"creation_date":1581280165,"answer_id":60141002,"question_id":60135408,"body_markdown":"To select the **5**&lt;sup&gt;th&lt;/sup&gt; star within https://www.tripadvisor.in/ you have to induce _WebDriverWait_ for the `visibilityOfElementLocated()` and you can use either of the following  [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- `xpath`:\r\n\r\n\t\tdriver.get(&quot;https://www.tripadvisor.in/UserReviewEdit-g641714-d1156207-Club_Mahindra_Madikeri_Coorg-Madikeri_Kodagu_Coorg_Karnataka.html]&quot;);\r\n\t\tnew Actions(driver).moveToElement(new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[@id=&#39;bubble_rating&#39;]&quot;))), 50, 0).click().build().perform();\r\n\r\n- `cssSelector`:\r\n\r\n\t\tdriver.get(&quot;https://www.tripadvisor.in/UserReviewEdit-g641714-d1156207-Club_Mahindra_Madikeri_Coorg-Madikeri_Kodagu_Coorg_Karnataka.html]&quot;);\r\n\t\tnew Actions(driver).moveToElement(new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;span#bubble_rating&quot;))), 50, 0).click().build().perform();\r\n\t\t\r\n\r\n- Browser Snapshot:\r\n\r\n![bubble_rating_widget](https://i.stack.imgur.com/Ll4FQ.png)","title":"Unable to find the xpath of star using selenium &amp; java","body":"<p>To select the <strong>5</strong><sup>th</sup> star within <a href=\"https://www.tripadvisor.in/\" rel=\"nofollow noreferrer\">https://www.tripadvisor.in/</a> you have to induce <em>WebDriverWait</em> for the <code>visibilityOfElementLocated()</code> and you can use either of the following  <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n\n<ul>\n<li><p><code>xpath</code>:</p>\n\n<pre><code>driver.get(\"https://www.tripadvisor.in/UserReviewEdit-g641714-d1156207-Club_Mahindra_Madikeri_Coorg-Madikeri_Kodagu_Coorg_Karnataka.html]\");\nnew Actions(driver).moveToElement(new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(\"//span[@id='bubble_rating']\"))), 50, 0).click().build().perform();\n</code></pre></li>\n<li><p><code>cssSelector</code>:</p>\n\n<pre><code>driver.get(\"https://www.tripadvisor.in/UserReviewEdit-g641714-d1156207-Club_Mahindra_Madikeri_Coorg-Madikeri_Kodagu_Coorg_Karnataka.html]\");\nnew Actions(driver).moveToElement(new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(\"span#bubble_rating\"))), 50, 0).click().build().perform();\n</code></pre></li>\n<li><p>Browser Snapshot:</p></li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/Ll4FQ.png\" alt=\"bubble_rating_widget\"></p>\n"}],"owner":{"account_id":12892117,"reputation":11,"user_id":12866725,"display_name":"Sonu Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1693808311,"creation_date":1581242559,"question_id":60135408,"body_markdown":"Thank you in advance !\r\n\r\nurl - https://www.tripadvisor.in/UserReviewEdit-g641714-d1156207-Club_Mahindra_Madikeri_Coorg-Madikeri_Kodagu_Coorg_Karnataka.html\r\n\r\ni need to hover on the stars and select the 5th star.\r\n\r\nplease find my code :-\r\n\r\n```\r\nprivate static void setRating(String star) {\r\n\t\t//new Actions(driver).moveToElement(driver.findElement(By.xpath(&quot;//*[@id=&#39;qid10&#39;]/option[1]&quot;))).perform();\r\n\t\tList&lt;WebElement&gt; rating = driver.findElements(By.xpath(&quot;//span[@class=&#39;ui_bubble_rating fl bubble_00&#39;]&quot;));\r\n\t\trating.size();\r\n\r\n\t\tList&lt;WebElement&gt; ele = driver.findElements(By.xpath(&quot;//div[@class=&#39;easyClear bigRatingParent&#39;]&quot;));\r\n\t\tSystem.out.println(ele.size());\r\n\t\tfor(WebElement ratings:ele) {\r\n\t\t\tSystem.out.println(ratings);\r\n\t\t}\r\n\t\tnew Actions(driver).moveToElement(driver.findElement(By.xpath(&quot;//div[@class=&#39;question rating bigRating labelAndInput required  &#39;]/child::label/following-sibling::div/child::span&quot;))).perform();\r\n\t\tdriver.findElement(By.xpath(&quot;//*[@id=&#39;qid10&#39;]/option[6]&quot;)).click();\r\n\r\n\t}\r\n}\r\n```","title":"Unable to find the xpath of star using selenium &amp; java","body":"<p>Thank you in advance !</p>\n\n<p>url - <a href=\"https://www.tripadvisor.in/UserReviewEdit-g641714-d1156207-Club_Mahindra_Madikeri_Coorg-Madikeri_Kodagu_Coorg_Karnataka.html\" rel=\"nofollow noreferrer\">https://www.tripadvisor.in/UserReviewEdit-g641714-d1156207-Club_Mahindra_Madikeri_Coorg-Madikeri_Kodagu_Coorg_Karnataka.html</a></p>\n\n<p>i need to hover on the stars and select the 5th star.</p>\n\n<p>please find my code :-</p>\n\n<pre><code>private static void setRating(String star) {\n        //new Actions(driver).moveToElement(driver.findElement(By.xpath(\"//*[@id='qid10']/option[1]\"))).perform();\n        List&lt;WebElement&gt; rating = driver.findElements(By.xpath(\"//span[@class='ui_bubble_rating fl bubble_00']\"));\n        rating.size();\n\n        List&lt;WebElement&gt; ele = driver.findElements(By.xpath(\"//div[@class='easyClear bigRatingParent']\"));\n        System.out.println(ele.size());\n        for(WebElement ratings:ele) {\n            System.out.println(ratings);\n        }\n        new Actions(driver).moveToElement(driver.findElement(By.xpath(\"//div[@class='question rating bigRating labelAndInput required  ']/child::label/following-sibling::div/child::span\"))).perform();\n        driver.findElement(By.xpath(\"//*[@id='qid10']/option[6]\")).click();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","logging","log4j2","slf4j","java-11"],"comments":[{"owner":{"account_id":101064,"reputation":12650,"user_id":272075,"accept_rate":100,"display_name":"Thorn G"},"score":0,"creation_date":1544478192,"post_id":53714010,"comment_id":94282737,"body_markdown":"Possibly related to https://openjdk.java.net/jeps/335","body":"Possibly related to <a href=\"https://openjdk.java.net/jeps/335\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/335</a>"},{"owner":{"account_id":11226954,"reputation":115,"user_id":8236301,"display_name":"Adam"},"score":0,"creation_date":1544479373,"post_id":53714010,"comment_id":94283211,"body_markdown":"I usually use Logback for the logger implementation: https://mvnrepository.com/artifact/ch.qos.logback/logback-classic. I don&#39;t have any further idea.","body":"I usually use Logback for the logger implementation: <a href=\"https://mvnrepository.com/artifact/ch.qos.logback/logback-classic\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/ch.qos.logback/logback-classic</a>. I don&#39;t have any further idea."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1544492386,"post_id":53714010,"comment_id":94286520,"body_markdown":"@TomG Read the non-goals from the same link  *This deprecation does not affect, in any way, the javax.script API.*","body":"@TomG Read the non-goals from the same link  <i>This deprecation does not affect, in any way, the javax.script API.</i>"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1544492492,"post_id":53714010,"comment_id":94286539,"body_markdown":"Can you share how you are building and running the app? Is it modular or not? If possible any frameworks used or not?","body":"Can you share how you are building and running the app? Is it modular or not? If possible any frameworks used or not?"},{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":4,"creation_date":1544514470,"post_id":53714010,"comment_id":94292407,"body_markdown":"Does org.apache.logging.log4j depend on java.scripting? If so then it must be missing `requires  java.scripting` from its module declaration. If it claims that it&#39;s an optional dependency then the issue is that nobody` requires  java.scripting` so this module will not be resolved. You should be able to work around it with `--add-modules java.scripting`. You won&#39;t have this issue with applications on the class path because  java.scripting will be resolved by default in that case.","body":"Does org.apache.logging.log4j depend on java.scripting? If so then it must be missing <code>requires  java.scripting</code> from its module declaration. If it claims that it&#39;s an optional dependency then the issue is that nobody` requires  java.scripting` so this module will not be resolved. You should be able to work around it with <code>--add-modules java.scripting</code>. You won&#39;t have this issue with applications on the class path because  java.scripting will be resolved by default in that case."},{"owner":{"account_id":3978651,"reputation":123,"user_id":3281185,"display_name":"RakSrinaNa"},"score":1,"creation_date":1544566538,"post_id":53714010,"comment_id":94320159,"body_markdown":"Thank you everyone for the comments.\n\nI didn&#39;t try every answer but the one of @AlanBateman did work by just adding the require in the module-info. :)","body":"Thank you everyone for the comments.  I didn&#39;t try every answer but the one of @AlanBateman did work by just adding the require in the module-info. :)"}],"answers":[{"comments":[{"owner":{"account_id":1891192,"reputation":8826,"user_id":1709216,"display_name":"rgoers"},"score":0,"creation_date":1561610439,"post_id":53750739,"comment_id":100122296,"body_markdown":"I should also add that this is an informational message and the only impact will be this message and that scripts in the configuration are not supported.","body":"I should also add that this is an informational message and the only impact will be this message and that scripts in the configuration are not supported."},{"owner":{"account_id":3461609,"reputation":565,"user_id":2898535,"display_name":"McFlurriez"},"score":0,"creation_date":1633644335,"post_id":53750739,"comment_id":122822112,"body_markdown":"So that I&#39;m understanding correctly, log4j2 won&#39;t run without this error unless you add this? If so, does anyone have an example?","body":"So that I&#39;m understanding correctly, log4j2 won&#39;t run without this error unless you add this? If so, does anyone have an example?"}],"tags":[],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1572062598,"creation_date":1544645981,"answer_id":53750739,"question_id":53714010,"body_markdown":"According to the [Log4j documentation](https://logging.apache.org/log4j/2.x/manual/configuration.html):\r\n\r\n&gt;Log4j provides support for JSR 223 scripting languages to be used in some of its components.\r\n\r\nand as said in the comments by `Alan Bateman` from Java 9 you have to add explicitly the java scripting module either with `--add-modules java.scripting` or in `module-info.java`.\r\n\r\nNote also that the module `jdk.scripting.nashorn` is [deprecated in Java 11](https://openjdk.java.net/jeps/335) and will be removed in a future release.\r\n\r\n","title":"Log4j2/Slf4j and Java 11","body":"<p>According to the <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"noreferrer\">Log4j documentation</a>:</p>\n\n<blockquote>\n  <p>Log4j provides support for JSR 223 scripting languages to be used in some of its components.</p>\n</blockquote>\n\n<p>and as said in the comments by <code>Alan Bateman</code> from Java 9 you have to add explicitly the java scripting module either with <code>--add-modules java.scripting</code> or in <code>module-info.java</code>.</p>\n\n<p>Note also that the module <code>jdk.scripting.nashorn</code> is <a href=\"https://openjdk.java.net/jeps/335\" rel=\"noreferrer\">deprecated in Java 11</a> and will be removed in a future release.</p>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1693915670,"post_id":77035409,"comment_id":135819710,"body_markdown":"Take the [tour] and visit the [help]. In my opinion, your &quot;answer&quot; is really a comment - since it seems that you are not sure as to whether upgrading &quot;log4j2&quot; will solve the problem. I believe you should adhere to the rules of SO which means that you should not post a comment as an answer merely because you don&#39;t yet have enough reputation to comment.","body":"Take the <a href=\"https://stackoverflow.com/tour\">tour</a> and visit the <a href=\"https://stackoverflow.com/help\">help center</a>. In my opinion, your &quot;answer&quot; is really a comment - since it seems that you are not sure as to whether upgrading &quot;log4j2&quot; will solve the problem. I believe you should adhere to the rules of SO which means that you should not post a comment as an answer merely because you don&#39;t yet have enough reputation to comment."}],"tags":[],"owner":{"account_id":29360946,"reputation":1,"user_id":22495682,"display_name":"pumbaa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693807745,"creation_date":1693807745,"answer_id":77035409,"question_id":53714010,"body_markdown":"Try upgrading to log4j2 version 2.17.2 or higher.","title":"Log4j2/Slf4j and Java 11","body":"<p>Try upgrading to log4j2 version 2.17.2 or higher.</p>\n"}],"owner":{"account_id":3978651,"reputation":123,"user_id":3281185,"display_name":"RakSrinaNa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12249,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":53750739,"answer_count":2,"score":9,"last_activity_date":1693807745,"creation_date":1544477774,"question_id":53714010,"body_markdown":"I&#39;m currently trying to build an app with log4j/slf4j and java 11 but I&#39;m facing this problem at runtime:\r\n\r\n    2018-12-10 22:09:27,225 main INFO Cannot initialize scripting support because this JRE does not support it. java.lang.NoClassDefFoundError: javax/script/ScriptEngineManager\r\n    \tat org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.script.ScriptManager.&lt;init&gt;(ScriptManager.java:69)\r\n    \tat org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:216)\r\n    \tat org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:250)\r\n    \tat org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:547)\r\n    \tat org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:619)\r\n    \tat org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:636)\r\n    \tat org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:231)\r\n    \tat org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:153)\r\n    \tat org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:45)\r\n    \tat org.apache.logging.log4j/org.apache.logging.log4j.LogManager.getContext(LogManager.java:194)\r\n    \tat org.apache.logging.log4j/org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:121)\r\n    \tat org.apache.logging.log4j.slf4j@2.11.1/org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:49)\r\n    \tat org.apache.logging.log4j/org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:46)\r\n    \tat org.apache.logging.log4j.slf4j@2.11.1/org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:29)\r\n    \tat org.slf4j/org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:355)\r\n    \tat org.slf4j/org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:380)\r\n    \tat fr.mrcraftcod.nameascreated/fr.mrcraftcod.nameascreated.NameAsCreated.&lt;clinit&gt;(NameAsCreated.java:39)\r\n    Caused by: java.lang.ClassNotFoundException: javax.script.ScriptEngineManager\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \t... 17 more\r\n\r\nThe code that is at the origin of this is the initialization of my logger:\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(NameAsCreated.class);\r\n\r\nI have dependencies on:\r\n\r\n - org.apache.logging.log4j:log4j-api:2.11.1\r\n - org.apache.logging.log4j:log4j-core:2.11.1\r\n - org.apache.logging.log4j:log4j-slf4j18-impl:2.11.1\r\n - A maven project that depends on org.slf4j:slf4j-api:1.8.0-beta2\r\n\r\nI&#39;m on OSX Mojave with Java version:\r\n\r\n    openjdk version &quot;11&quot; 2018-09-25\r\n    OpenJDK Runtime Environment AdoptOpenJDK (build 11+28-201810021910)\r\n    OpenJDK 64-Bit Server VM AdoptOpenJDK (build 11+28-201810021910, mixed mode)\r\n\r\nDoes someone have an idea of what I&#39;m doing wrong and how I can solve this?","title":"Log4j2/Slf4j and Java 11","body":"<p>I'm currently trying to build an app with log4j/slf4j and java 11 but I'm facing this problem at runtime:</p>\n\n<pre><code>2018-12-10 22:09:27,225 main INFO Cannot initialize scripting support because this JRE does not support it. java.lang.NoClassDefFoundError: javax/script/ScriptEngineManager\n    at org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.script.ScriptManager.&lt;init&gt;(ScriptManager.java:69)\n    at org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:216)\n    at org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:250)\n    at org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:547)\n    at org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:619)\n    at org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:636)\n    at org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:231)\n    at org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:153)\n    at org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:45)\n    at org.apache.logging.log4j/org.apache.logging.log4j.LogManager.getContext(LogManager.java:194)\n    at org.apache.logging.log4j/org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:121)\n    at org.apache.logging.log4j.slf4j@2.11.1/org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:49)\n    at org.apache.logging.log4j/org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:46)\n    at org.apache.logging.log4j.slf4j@2.11.1/org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:29)\n    at org.slf4j/org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:355)\n    at org.slf4j/org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:380)\n    at fr.mrcraftcod.nameascreated/fr.mrcraftcod.nameascreated.NameAsCreated.&lt;clinit&gt;(NameAsCreated.java:39)\nCaused by: java.lang.ClassNotFoundException: javax.script.ScriptEngineManager\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 17 more\n</code></pre>\n\n<p>The code that is at the origin of this is the initialization of my logger:</p>\n\n<pre><code>private static final Logger LOGGER = LoggerFactory.getLogger(NameAsCreated.class);\n</code></pre>\n\n<p>I have dependencies on:</p>\n\n<ul>\n<li>org.apache.logging.log4j:log4j-api:2.11.1</li>\n<li>org.apache.logging.log4j:log4j-core:2.11.1</li>\n<li>org.apache.logging.log4j:log4j-slf4j18-impl:2.11.1</li>\n<li>A maven project that depends on org.slf4j:slf4j-api:1.8.0-beta2</li>\n</ul>\n\n<p>I'm on OSX Mojave with Java version:</p>\n\n<pre><code>openjdk version \"11\" 2018-09-25\nOpenJDK Runtime Environment AdoptOpenJDK (build 11+28-201810021910)\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 11+28-201810021910, mixed mode)\n</code></pre>\n\n<p>Does someone have an idea of what I'm doing wrong and how I can solve this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"score":2,"creation_date":1508777545,"post_id":2817752,"comment_id":80736281,"body_markdown":"What you call byte-array in Java is called byte string in other languages (e.g. https://docs.racket-lang.org/guide/bytestrings.html)","body":"What you call byte-array in Java is called byte string in other languages (e.g. <a href=\"https://docs.racket-lang.org/guide/bytestrings.html\" rel=\"nofollow noreferrer\">docs.racket-lang.org/guide/bytestrings.html</a>)"}],"answers":[{"comments":[{"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":2,"creation_date":1273659847,"post_id":2817772,"comment_id":2857388,"body_markdown":"This will sign extend, e.g. try `-1`.","body":"This will sign extend, e.g. try <code>-1</code>."},{"owner":{"account_id":615266,"reputation":2161,"user_id":337942,"display_name":"Vivek"},"score":0,"creation_date":1273660562,"post_id":2817772,"comment_id":2857494,"body_markdown":"byte bv = 10; \nString hexString = Integer.toHexString(bv); \n\nThis seems to work firne.. I can apply it individually on every element of the array.. \nThe other code (Dealing with array ) gives back too large a value. What could bw the reaason for that ?","body":"byte bv = 10;  String hexString = Integer.toHexString(bv);   This seems to work firne.. I can apply it individually on every element of the array..  The other code (Dealing with array ) gives back too large a value. What could bw the reaason for that ?"},{"owner":{"account_id":63007,"reputation":2116,"user_id":186787,"accept_rate":85,"display_name":"MiKo"},"score":0,"creation_date":1273661698,"post_id":2817772,"comment_id":2857629,"body_markdown":"@Vivek, that&#39;s because in case of `bv` it returns a **single hexadecimal character**. Whereas the rest of code returns a **string of hexadecimal characters**. I&#39;ve changed the code with the delimeter so you can understand it now.","body":"@Vivek, that&#39;s because in case of <code>bv</code> it returns a <b>single hexadecimal character</b>. Whereas the rest of code returns a <b>string of hexadecimal characters</b>. I&#39;ve changed the code with the delimeter so you can understand it now."},{"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":0,"creation_date":1273662333,"post_id":2817772,"comment_id":2857684,"body_markdown":"@Bar: you can still use `Integer.toHexString` if you mask the `byte` with `0xFF` to undo sign extension.","body":"@Bar: you can still use <code>Integer.toHexString</code> if you mask the <code>byte</code> with <code>0xFF</code> to undo sign extension."},{"owner":{"account_id":615266,"reputation":2161,"user_id":337942,"display_name":"Vivek"},"score":0,"creation_date":1273746810,"post_id":2817772,"comment_id":2866604,"body_markdown":"CAse 1 (Byte Recieved : 68 Hex Output : : 44) \nCase : 2 (Byte Recieved : -46 Hex Output : : ffffffd2)\n\nI am getting unexpected output values in case of negative byte arrays ... How to handle this ?","body":"CAse 1 (Byte Recieved : 68 Hex Output : : 44)  Case : 2 (Byte Recieved : -46 Hex Output : : ffffffd2)  I am getting unexpected output values in case of negative byte arrays ... How to handle this ?"}],"tags":[],"owner":{"account_id":63007,"reputation":2116,"user_id":186787,"accept_rate":85,"display_name":"MiKo"},"comment_count":5,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1273661598,"creation_date":1273659162,"answer_id":2817772,"question_id":2817752,"body_markdown":"Try this way:\r\n\r\n    byte bv = 10;\r\n    String hexString = Integer.toHexString(bv);\r\n\r\nDealing with array (if I understood you correctly):\r\n\r\n    byte[] bytes = {9, 10, 11, 15, 16};\r\n    StringBuffer result = new StringBuffer();\r\n    for (byte b : bytes) {\r\n        result.append(String.format(&quot;%02X &quot;, b));\r\n        result.append(&quot; &quot;); // delimiter\r\n    }\r\n    return result.toString();\r\n\r\nAs polygenelubricants mentioned, `String.format()` is the right answer compare to `Integer.toHexString()` (since it deals with negative numbers in a right way).","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>Try this way:</p>\n\n<pre><code>byte bv = 10;\nString hexString = Integer.toHexString(bv);\n</code></pre>\n\n<p>Dealing with array (if I understood you correctly):</p>\n\n<pre><code>byte[] bytes = {9, 10, 11, 15, 16};\nStringBuffer result = new StringBuffer();\nfor (byte b : bytes) {\n    result.append(String.format(\"%02X \", b));\n    result.append(\" \"); // delimiter\n}\nreturn result.toString();\n</code></pre>\n\n<p>As polygenelubricants mentioned, <code>String.format()</code> is the right answer compare to <code>Integer.toHexString()</code> (since it deals with negative numbers in a right way).</p>\n"},{"comments":[{"owner":{"account_id":1907727,"reputation":2093,"user_id":1722245,"accept_rate":25,"display_name":"user1722245"},"score":0,"creation_date":1389255792,"post_id":2817779,"comment_id":31586106,"body_markdown":"there are not extra leading zerous!","body":"there are not extra leading zerous!"}],"tags":[],"owner":{"account_id":88574,"reputation":5071,"user_id":244888,"accept_rate":74,"display_name":"Juriy"},"comment_count":1,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1273659210,"creation_date":1273659210,"answer_id":2817779,"question_id":2817752,"body_markdown":"Use \r\n\r\n\tInteger.toHexString((int)b);","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>Use </p>\n\n<pre><code>Integer.toHexString((int)b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":95151,"reputation":14008,"user_id":259310,"accept_rate":25,"display_name":"Kilian Foth"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1489774473,"creation_date":1273659369,"answer_id":2817806,"question_id":2817752,"body_markdown":"If you want a constant-width hex representation, i.e. `0A` instead of `A`, so that you can recover the bytes unambiguously, try `format()`:\r\n\r\n    StringBuilder result = new StringBuilder();\r\n    for (byte bb : byteArray) {\r\n        result.append(String.format(&quot;%02X&quot;, bb));\r\n    }\r\n    return result.toString();\r\n\r\n","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>If you want a constant-width hex representation, i.e. <code>0A</code> instead of <code>A</code>, so that you can recover the bytes unambiguously, try <code>format()</code>:</p>\n\n<pre><code>StringBuilder result = new StringBuilder();\nfor (byte bb : byteArray) {\n    result.append(String.format(\"%02X\", bb));\n}\nreturn result.toString();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":0,"creation_date":1273661357,"post_id":2817883,"comment_id":2857597,"body_markdown":"@Vivek: what is &quot;an enormously large value&quot;? What&#39;s the input and what&#39;s the output?","body":"@Vivek: what is &quot;an enormously large value&quot;? What&#39;s the input and what&#39;s the output?"},{"owner":{"account_id":615266,"reputation":2161,"user_id":337942,"display_name":"Vivek"},"score":0,"creation_date":1273746580,"post_id":2817883,"comment_id":2866584,"body_markdown":"Let me explain again.. I have a collection of byte strings in an array. But what i have to do is analyse each byte seperately.. So, I dont want to work on the whole array, but individual byte string at a time, that is one component of that array.. The confusion arised because of the word &quot;array&quot;. Now in the below code &quot; byte bv = 10; String hexString = Integer.toHexString(bv); &quot;               CAse 1 (Byte Recieved : 68 Hex Output : : 44)  \n              Case : 2 (Byte Recieved : -46 Hex Output : : ffffffd2).........              \n Why am I getting such an unexpected result for some values ?","body":"Let me explain again.. I have a collection of byte strings in an array. But what i have to do is analyse each byte seperately.. So, I dont want to work on the whole array, but individual byte string at a time, that is one component of that array.. The confusion arised because of the word &quot;array&quot;. Now in the below code &quot; byte bv = 10; String hexString = Integer.toHexString(bv); &quot;               CAse 1 (Byte Recieved : 68 Hex Output : : 44)                 Case : 2 (Byte Recieved : -46 Hex Output : : ffffffd2).........                Why am I getting such an unexpected result for some values ?"},{"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":1,"creation_date":1273747740,"post_id":2817883,"comment_id":2866719,"body_markdown":"@Vivek: read my answer about using `toHexString`. You have to mask it with `&amp; 0xFF`, i.e. `Integer.toHexString(-46 &amp; 0xFF)` is `&quot;d2&quot;`.","body":"@Vivek: read my answer about using <code>toHexString</code>. You have to mask it with <code>&amp; 0xFF</code>, i.e. <code>Integer.toHexString(-46 &amp; 0xFF)</code> is <code>&quot;d2&quot;</code>."},{"owner":{"account_id":615266,"reputation":2161,"user_id":337942,"display_name":"Vivek"},"score":0,"creation_date":1273750137,"post_id":2817883,"comment_id":2867016,"body_markdown":"@polygenelubricants : Thanx a lot.. It seems, finally the code is working fine..  Is it safe to usen toHexString function now ? Or, there might be some loopholes with the approach ?","body":"@polygenelubricants : Thanx a lot.. It seems, finally the code is working fine..  Is it safe to usen toHexString function now ? Or, there might be some loopholes with the approach ?"},{"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":1,"creation_date":1273752034,"post_id":2817883,"comment_id":2867209,"body_markdown":"@Vivek: it&#39;s &quot;safe&quot;, you just have to be careful and make sure you mask the `byte` value with `&amp; 0xFF` every time. the `format` solution above may also require masking depending on what you&#39;re actually using as argument.","body":"@Vivek: it&#39;s &quot;safe&quot;, you just have to be careful and make sure you mask the <code>byte</code> value with <code>&amp; 0xFF</code> every time. the <code>format</code> solution above may also require masking depending on what you&#39;re actually using as argument."},{"owner":{"account_id":13255193,"reputation":289,"user_id":9571515,"display_name":"user9571515"},"score":0,"creation_date":1581549636,"post_id":2817883,"comment_id":106476682,"body_markdown":"@polygenelubricants I have same problem, and tried String.format(&quot;%02x&quot;, intValue), however when intValue = -1, the result I got is ffffffff instead of ff, can you help tell why?","body":"@polygenelubricants I have same problem, and tried String.format(&quot;%02x&quot;, intValue), however when intValue = -1, the result I got is ffffffff instead of ff, can you help tell why?"},{"owner":{"account_id":12383961,"reputation":285,"user_id":9028192,"display_name":"StefanJo"},"score":0,"creation_date":1607503782,"post_id":2817883,"comment_id":115290068,"body_markdown":"What does it mean: The result will be zero-padded ?\nWhat&#39;s that for?","body":"What does it mean: The result will be zero-padded ? What&#39;s that for?"}],"tags":[],"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":7,"down_vote_count":1,"up_vote_count":354,"is_accepted":false,"score":353,"last_activity_date":1693806907,"creation_date":1273659948,"answer_id":2817883,"question_id":2817752,"body_markdown":"```java\r\nbyte[] bytes = {-1, 0, 1, 2, 3 };\r\nStringBuilder sb = new StringBuilder();\r\nfor (byte b : bytes) {\r\n    sb.append(String.format(&quot;%02X &quot;, b));\r\n}\r\nSystem.out.println(sb.toString());\r\n// prints &quot;FF 00 01 02 03 &quot;\r\n```\r\n\r\n### See also\r\n\r\n* [`java.util.Formatter` syntax](http://java.sun.com/javase/6/docs/api/java/util/Formatter.html#syntax)\r\n  * `%[flags][width]conversion`\r\n     * Flag `&#39;0&#39;` - The result will be zero-padded \r\n     * Width `2`\r\n     * Conversion `&#39;X&#39;` - The result is formatted as a hexadecimal integer, uppercase\r\n\r\n---\r\n\r\nLooking at the text of the question, it&#39;s also possible that this is what is requested:\r\n\r\n```java\r\nString[] arr = {&quot;-1&quot;, &quot;0&quot;, &quot;10&quot;, &quot;20&quot; };\r\nfor (int i = 0; i &lt; arr.length; i++) {\r\n    arr[i] = String.format(&quot;%02x&quot;, Byte.parseByte(arr[i]));\r\n}\r\nSystem.out.println(java.util.Arrays.toString(arr));\r\n// prints &quot;[ff, 00, 0a, 14]&quot;\r\n```\r\n\r\n---\r\n\r\nSeveral answers here uses [`Integer.toHexString(int)`](http://java.sun.com/javase/6/docs/api/java/lang/Integer.html#toHexString%28int%29); this is doable, but with some caveats. Since the parameter is an `int`, a widening primitive conversion is performed to the `byte` argument, which involves sign extension.\r\n\r\n```java\r\nbyte b = -1;\r\nSystem.out.println(Integer.toHexString(b));\r\n// prints &quot;ffffffff&quot;\r\n```\r\n\r\nThe 8-bit `byte`, which is signed in Java, is sign-extended to a 32-bit `int`. To effectively undo this sign extension, one can mask the `byte` with `0xFF`.\r\n\r\n```java\r\nbyte b = -1;\r\nSystem.out.println(Integer.toHexString(b &amp; 0xFF));\r\n// prints &quot;ff&quot;\r\n```\r\n\r\nAnother issue with using `toHexString` is that it doesn&#39;t pad with zeroes:\r\n\r\n```java\r\nbyte b = 10;\r\nSystem.out.println(Integer.toHexString(b &amp; 0xFF));\r\n// prints &quot;a&quot;\r\n```\r\n\r\nBoth factors combined should make the `String.format` solution more preferable.\r\n\r\n### References\r\n\r\n* [JLS 4.2.1 Integral Types and Values](http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#4.2.1)\r\n   * For `byte`, from `-128` to `127`, inclusive\r\n* [JLS 5.1.2 Widening Primitive Conversion](http://java.sun.com/docs/books/jls/third_edition/html/conversions.html#5.1.2)","title":"How can I convert a byte array to hexadecimal in Java?","body":"<pre class=\"lang-java prettyprint-override\"><code>byte[] bytes = {-1, 0, 1, 2, 3 };\nStringBuilder sb = new StringBuilder();\nfor (byte b : bytes) {\n    sb.append(String.format(&quot;%02X &quot;, b));\n}\nSystem.out.println(sb.toString());\n// prints &quot;FF 00 01 02 03 &quot;\n</code></pre>\n<h3>See also</h3>\n<ul>\n<li><a href=\"http://java.sun.com/javase/6/docs/api/java/util/Formatter.html#syntax\" rel=\"nofollow noreferrer\"><code>java.util.Formatter</code> syntax</a>\n<ul>\n<li><code>%[flags][width]conversion</code>\n<ul>\n<li>Flag <code>'0'</code> - The result will be zero-padded</li>\n<li>Width <code>2</code></li>\n<li>Conversion <code>'X'</code> - The result is formatted as a hexadecimal integer, uppercase</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p>Looking at the text of the question, it's also possible that this is what is requested:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] arr = {&quot;-1&quot;, &quot;0&quot;, &quot;10&quot;, &quot;20&quot; };\nfor (int i = 0; i &lt; arr.length; i++) {\n    arr[i] = String.format(&quot;%02x&quot;, Byte.parseByte(arr[i]));\n}\nSystem.out.println(java.util.Arrays.toString(arr));\n// prints &quot;[ff, 00, 0a, 14]&quot;\n</code></pre>\n<hr />\n<p>Several answers here uses <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Integer.html#toHexString%28int%29\" rel=\"nofollow noreferrer\"><code>Integer.toHexString(int)</code></a>; this is doable, but with some caveats. Since the parameter is an <code>int</code>, a widening primitive conversion is performed to the <code>byte</code> argument, which involves sign extension.</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte b = -1;\nSystem.out.println(Integer.toHexString(b));\n// prints &quot;ffffffff&quot;\n</code></pre>\n<p>The 8-bit <code>byte</code>, which is signed in Java, is sign-extended to a 32-bit <code>int</code>. To effectively undo this sign extension, one can mask the <code>byte</code> with <code>0xFF</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte b = -1;\nSystem.out.println(Integer.toHexString(b &amp; 0xFF));\n// prints &quot;ff&quot;\n</code></pre>\n<p>Another issue with using <code>toHexString</code> is that it doesn't pad with zeroes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte b = 10;\nSystem.out.println(Integer.toHexString(b &amp; 0xFF));\n// prints &quot;a&quot;\n</code></pre>\n<p>Both factors combined should make the <code>String.format</code> solution more preferable.</p>\n<h3>References</h3>\n<ul>\n<li><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#4.2.1\" rel=\"nofollow noreferrer\">JLS 4.2.1 Integral Types and Values</a>\n<ul>\n<li>For <code>byte</code>, from <code>-128</code> to <code>127</code>, inclusive</li>\n</ul>\n</li>\n<li><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/conversions.html#5.1.2\" rel=\"nofollow noreferrer\">JLS 5.1.2 Widening Primitive Conversion</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1524517,"reputation":6229,"user_id":1423280,"accept_rate":92,"display_name":"AzizSM"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1338881497,"creation_date":1338881497,"answer_id":10893337,"question_id":2817752,"body_markdown":"Here is a simple function to convert byte to Hexadecimal\r\n\r\n\r\n       private static String convertToHex(byte[] data) {\r\n        StringBuffer buf = new StringBuffer();\r\n        for (int i = 0; i &lt; data.length; i++) {\r\n            int halfbyte = (data[i] &gt;&gt;&gt; 4) &amp; 0x0F;\r\n            int two_halfs = 0;\r\n            do {\r\n                if ((0 &lt;= halfbyte) &amp;&amp; (halfbyte &lt;= 9))\r\n                    buf.append((char) (&#39;0&#39; + halfbyte));\r\n                else\r\n                    buf.append((char) (&#39;a&#39; + (halfbyte - 10)));\r\n                halfbyte = data[i] &amp; 0x0F;\r\n            } while(two_halfs++ &lt; 1);\r\n        }\r\n        return buf.toString();\r\n    }","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>Here is a simple function to convert byte to Hexadecimal</p>\n\n<pre><code>   private static String convertToHex(byte[] data) {\n    StringBuffer buf = new StringBuffer();\n    for (int i = 0; i &lt; data.length; i++) {\n        int halfbyte = (data[i] &gt;&gt;&gt; 4) &amp; 0x0F;\n        int two_halfs = 0;\n        do {\n            if ((0 &lt;= halfbyte) &amp;&amp; (halfbyte &lt;= 9))\n                buf.append((char) ('0' + halfbyte));\n            else\n                buf.append((char) ('a' + (halfbyte - 10)));\n            halfbyte = data[i] &amp; 0x0F;\n        } while(two_halfs++ &lt; 1);\n    }\n    return buf.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353301027,"creation_date":1353300716,"answer_id":13447849,"question_id":2817752,"body_markdown":"Creating (and destroying) a bunch of `String` instances is not a good way if performance is an issue.\r\n\r\nPlease ignore those verbose (duplicate) arguments checking statements (`if`s). That&#39;s for (another) educational purposes. \r\n\r\nFull maven project: http://jinahya.googlecode.com/svn/trunk/com.googlecode.jinahya/hex-codec/\r\n\r\nEncoding...\r\n\r\n    /**\r\n     * Encodes a single nibble.\r\n     *\r\n     * @param decoded the nibble to encode.\r\n     *\r\n     * @return the encoded half octet.\r\n     */\r\n    protected static int encodeHalf(final int decoded) {\r\n\r\n        switch (decoded) {\r\n            case 0x00:\r\n            case 0x01:\r\n            case 0x02:\r\n            case 0x03:\r\n            case 0x04:\r\n            case 0x05:\r\n            case 0x06:\r\n            case 0x07:\r\n            case 0x08:\r\n            case 0x09:\r\n                return decoded + 0x30; // 0x30(&#39;0&#39;) - 0x39(&#39;9&#39;)\r\n            case 0x0A:\r\n            case 0x0B:\r\n            case 0x0C:\r\n            case 0x0D:\r\n            case 0x0E:\r\n            case 0x0F:\r\n                return decoded + 0x57; // 0x41(&#39;a&#39;) - 0x46(&#39;f&#39;)\r\n            default:\r\n                throw new IllegalArgumentException(&quot;illegal half: &quot; + decoded);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Encodes a single octet into two nibbles.\r\n     *\r\n     * @param decoded the octet to encode.\r\n     * @param encoded the array to which each encoded nibbles are written.\r\n     * @param offset the offset in the array.\r\n     */\r\n    protected static void encodeSingle(final int decoded, final byte[] encoded,\r\n                                       final int offset) {\r\n\r\n        if (encoded == null) {\r\n            throw new IllegalArgumentException(&quot;null encoded&quot;);\r\n        }\r\n\r\n        if (encoded.length &lt; 2) {\r\n            // not required\r\n            throw new IllegalArgumentException(\r\n                &quot;encoded.length(&quot; + encoded.length + &quot;) &lt; 2&quot;);\r\n        }\r\n\r\n        if (offset &lt; 0) {\r\n            throw new IllegalArgumentException(&quot;offset(&quot; + offset + &quot;) &lt; 0&quot;);\r\n        }\r\n\r\n        if (offset &gt;= encoded.length - 1) {\r\n            throw new IllegalArgumentException(\r\n                &quot;offset(&quot; + offset + &quot;) &gt;= encoded.length(&quot; + encoded.length\r\n                + &quot;) - 1&quot;);\r\n        }\r\n\r\n        encoded[offset] = (byte) encodeHalf((decoded &gt;&gt; 4) &amp; 0x0F);\r\n        encoded[offset + 1] = (byte) encodeHalf(decoded &amp; 0x0F);\r\n    }\r\n\r\n\r\n    /**\r\n     * Decodes given sequence of octets into a sequence of nibbles.\r\n     *\r\n     * @param decoded the octets to encode\r\n     *\r\n     * @return the encoded nibbles.\r\n     */\r\n    protected static byte[] encodeMultiple(final byte[] decoded) {\r\n\r\n        if (decoded == null) {\r\n            throw new IllegalArgumentException(&quot;null decoded&quot;);\r\n        }\r\n\r\n        final byte[] encoded = new byte[decoded.length &lt;&lt; 1];\r\n\r\n        int offset = 0;\r\n        for (int i = 0; i &lt; decoded.length; i++) {\r\n            encodeSingle(decoded[i], encoded, offset);\r\n            offset += 2;\r\n        }\r\n\r\n        return encoded;\r\n    }\r\n\r\n\r\n    /**\r\n     * Encodes given sequence of octets into a sequence of nibbles.\r\n     *\r\n     * @param decoded the octets to encode.\r\n     *\r\n     * @return the encoded nibbles.\r\n     */\r\n    public byte[] encode(final byte[] decoded) {\r\n\r\n        return encodeMultiple(decoded);\r\n    }\r\n\r\n\r\nDecoding...\r\n\r\n    /**\r\n     * Decodes a single nibble.\r\n     *\r\n     * @param encoded the nibble to decode.\r\n     *\r\n     * @return the decoded half octet.\r\n     */\r\n    protected static int decodeHalf(final int encoded) {\r\n\r\n        switch (encoded) {\r\n            case 0x30: // &#39;0&#39;\r\n            case 0x31: // &#39;1&#39;\r\n            case 0x32: // &#39;2&#39;\r\n            case 0x33: // &#39;3&#39;\r\n            case 0x34: // &#39;4&#39;\r\n            case 0x35: // &#39;5&#39;\r\n            case 0x36: // &#39;6&#39;\r\n            case 0x37: // &#39;7&#39;\r\n            case 0x38: // &#39;8&#39;\r\n            case 0x39: // &#39;9&#39;\r\n                return encoded - 0x30;\r\n            case 0x41: // &#39;A&#39;\r\n            case 0x42: // &#39;B&#39;\r\n            case 0x43: // &#39;C&#39;\r\n            case 0x44: // &#39;D&#39;\r\n            case 0x45: // &#39;E&#39;\r\n            case 0x46: // &#39;F&#39;\r\n                return encoded - 0x37;\r\n            case 0x61: // &#39;a&#39;\r\n            case 0x62: // &#39;b&#39;\r\n            case 0x63: // &#39;c&#39;\r\n            case 0x64: // &#39;d&#39;\r\n            case 0x65: // &#39;e&#39;\r\n            case 0x66: // &#39;f&#39;\r\n                return encoded - 0x57;\r\n            default:\r\n                throw new IllegalArgumentException(&quot;illegal half: &quot; + encoded);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Decodes two nibbles into a single octet.\r\n     *\r\n     * @param encoded the nibble array.\r\n     * @param offset the offset in the array.\r\n     *\r\n     * @return decoded octet.\r\n     */\r\n    protected static int decodeSingle(final byte[] encoded, final int offset) {\r\n\r\n        if (encoded == null) {\r\n            throw new IllegalArgumentException(&quot;null encoded&quot;);\r\n        }\r\n\r\n        if (encoded.length &lt; 2) {\r\n            // not required\r\n            throw new IllegalArgumentException(\r\n                &quot;encoded.length(&quot; + encoded.length + &quot;) &lt; 2&quot;);\r\n        }\r\n\r\n        if (offset &lt; 0) {\r\n            throw new IllegalArgumentException(&quot;offset(&quot; + offset + &quot;) &lt; 0&quot;);\r\n        }\r\n\r\n        if (offset &gt;= encoded.length - 1) {\r\n            throw new IllegalArgumentException(\r\n                &quot;offset(&quot; + offset + &quot;) &gt;= encoded.length(&quot; + encoded.length\r\n                + &quot;) - 1&quot;);\r\n        }\r\n\r\n        return (decodeHalf(encoded[offset]) &lt;&lt; 4)\r\n               | decodeHalf(encoded[offset + 1]);\r\n    }\r\n\r\n\r\n    /**\r\n     * Encodes given sequence of nibbles into a sequence of octets.\r\n     *\r\n     * @param encoded the nibbles to decode.\r\n     *\r\n     * @return the encoded octets.\r\n     */\r\n    protected static byte[] decodeMultiple(final byte[] encoded) {\r\n\r\n        if (encoded == null) {\r\n            throw new IllegalArgumentException(&quot;null encoded&quot;);\r\n        }\r\n\r\n        if ((encoded.length &amp; 0x01) == 0x01) {\r\n            throw new IllegalArgumentException(\r\n                &quot;encoded.length(&quot; + encoded.length + &quot;) is not even&quot;);\r\n        }\r\n\r\n        final byte[] decoded = new byte[encoded.length &gt;&gt; 1];\r\n\r\n        int offset = 0;\r\n        for (int i = 0; i &lt; decoded.length; i++) {\r\n            decoded[i] = (byte) decodeSingle(encoded, offset);\r\n            offset += 2;\r\n        }\r\n\r\n        return decoded;\r\n    }\r\n\r\n\r\n    /**\r\n     * Decodes given sequence of nibbles into a sequence of octets.\r\n     *\r\n     * @param encoded the nibbles to decode.\r\n     *\r\n     * @return the decoded octets.\r\n     */\r\n    public byte[] decode(final byte[] encoded) {\r\n\r\n        return decodeMultiple(encoded);\r\n    }\r\n\r\n\r\n","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>Creating (and destroying) a bunch of <code>String</code> instances is not a good way if performance is an issue.</p>\n\n<p>Please ignore those verbose (duplicate) arguments checking statements (<code>if</code>s). That's for (another) educational purposes. </p>\n\n<p>Full maven project: <a href=\"http://jinahya.googlecode.com/svn/trunk/com.googlecode.jinahya/hex-codec/\" rel=\"nofollow\">http://jinahya.googlecode.com/svn/trunk/com.googlecode.jinahya/hex-codec/</a></p>\n\n<p>Encoding...</p>\n\n<pre><code>/**\n * Encodes a single nibble.\n *\n * @param decoded the nibble to encode.\n *\n * @return the encoded half octet.\n */\nprotected static int encodeHalf(final int decoded) {\n\n    switch (decoded) {\n        case 0x00:\n        case 0x01:\n        case 0x02:\n        case 0x03:\n        case 0x04:\n        case 0x05:\n        case 0x06:\n        case 0x07:\n        case 0x08:\n        case 0x09:\n            return decoded + 0x30; // 0x30('0') - 0x39('9')\n        case 0x0A:\n        case 0x0B:\n        case 0x0C:\n        case 0x0D:\n        case 0x0E:\n        case 0x0F:\n            return decoded + 0x57; // 0x41('a') - 0x46('f')\n        default:\n            throw new IllegalArgumentException(\"illegal half: \" + decoded);\n    }\n}\n\n\n/**\n * Encodes a single octet into two nibbles.\n *\n * @param decoded the octet to encode.\n * @param encoded the array to which each encoded nibbles are written.\n * @param offset the offset in the array.\n */\nprotected static void encodeSingle(final int decoded, final byte[] encoded,\n                                   final int offset) {\n\n    if (encoded == null) {\n        throw new IllegalArgumentException(\"null encoded\");\n    }\n\n    if (encoded.length &lt; 2) {\n        // not required\n        throw new IllegalArgumentException(\n            \"encoded.length(\" + encoded.length + \") &lt; 2\");\n    }\n\n    if (offset &lt; 0) {\n        throw new IllegalArgumentException(\"offset(\" + offset + \") &lt; 0\");\n    }\n\n    if (offset &gt;= encoded.length - 1) {\n        throw new IllegalArgumentException(\n            \"offset(\" + offset + \") &gt;= encoded.length(\" + encoded.length\n            + \") - 1\");\n    }\n\n    encoded[offset] = (byte) encodeHalf((decoded &gt;&gt; 4) &amp; 0x0F);\n    encoded[offset + 1] = (byte) encodeHalf(decoded &amp; 0x0F);\n}\n\n\n/**\n * Decodes given sequence of octets into a sequence of nibbles.\n *\n * @param decoded the octets to encode\n *\n * @return the encoded nibbles.\n */\nprotected static byte[] encodeMultiple(final byte[] decoded) {\n\n    if (decoded == null) {\n        throw new IllegalArgumentException(\"null decoded\");\n    }\n\n    final byte[] encoded = new byte[decoded.length &lt;&lt; 1];\n\n    int offset = 0;\n    for (int i = 0; i &lt; decoded.length; i++) {\n        encodeSingle(decoded[i], encoded, offset);\n        offset += 2;\n    }\n\n    return encoded;\n}\n\n\n/**\n * Encodes given sequence of octets into a sequence of nibbles.\n *\n * @param decoded the octets to encode.\n *\n * @return the encoded nibbles.\n */\npublic byte[] encode(final byte[] decoded) {\n\n    return encodeMultiple(decoded);\n}\n</code></pre>\n\n<p>Decoding...</p>\n\n<pre><code>/**\n * Decodes a single nibble.\n *\n * @param encoded the nibble to decode.\n *\n * @return the decoded half octet.\n */\nprotected static int decodeHalf(final int encoded) {\n\n    switch (encoded) {\n        case 0x30: // '0'\n        case 0x31: // '1'\n        case 0x32: // '2'\n        case 0x33: // '3'\n        case 0x34: // '4'\n        case 0x35: // '5'\n        case 0x36: // '6'\n        case 0x37: // '7'\n        case 0x38: // '8'\n        case 0x39: // '9'\n            return encoded - 0x30;\n        case 0x41: // 'A'\n        case 0x42: // 'B'\n        case 0x43: // 'C'\n        case 0x44: // 'D'\n        case 0x45: // 'E'\n        case 0x46: // 'F'\n            return encoded - 0x37;\n        case 0x61: // 'a'\n        case 0x62: // 'b'\n        case 0x63: // 'c'\n        case 0x64: // 'd'\n        case 0x65: // 'e'\n        case 0x66: // 'f'\n            return encoded - 0x57;\n        default:\n            throw new IllegalArgumentException(\"illegal half: \" + encoded);\n    }\n}\n\n\n/**\n * Decodes two nibbles into a single octet.\n *\n * @param encoded the nibble array.\n * @param offset the offset in the array.\n *\n * @return decoded octet.\n */\nprotected static int decodeSingle(final byte[] encoded, final int offset) {\n\n    if (encoded == null) {\n        throw new IllegalArgumentException(\"null encoded\");\n    }\n\n    if (encoded.length &lt; 2) {\n        // not required\n        throw new IllegalArgumentException(\n            \"encoded.length(\" + encoded.length + \") &lt; 2\");\n    }\n\n    if (offset &lt; 0) {\n        throw new IllegalArgumentException(\"offset(\" + offset + \") &lt; 0\");\n    }\n\n    if (offset &gt;= encoded.length - 1) {\n        throw new IllegalArgumentException(\n            \"offset(\" + offset + \") &gt;= encoded.length(\" + encoded.length\n            + \") - 1\");\n    }\n\n    return (decodeHalf(encoded[offset]) &lt;&lt; 4)\n           | decodeHalf(encoded[offset + 1]);\n}\n\n\n/**\n * Encodes given sequence of nibbles into a sequence of octets.\n *\n * @param encoded the nibbles to decode.\n *\n * @return the encoded octets.\n */\nprotected static byte[] decodeMultiple(final byte[] encoded) {\n\n    if (encoded == null) {\n        throw new IllegalArgumentException(\"null encoded\");\n    }\n\n    if ((encoded.length &amp; 0x01) == 0x01) {\n        throw new IllegalArgumentException(\n            \"encoded.length(\" + encoded.length + \") is not even\");\n    }\n\n    final byte[] decoded = new byte[encoded.length &gt;&gt; 1];\n\n    int offset = 0;\n    for (int i = 0; i &lt; decoded.length; i++) {\n        decoded[i] = (byte) decodeSingle(encoded, offset);\n        offset += 2;\n    }\n\n    return decoded;\n}\n\n\n/**\n * Decodes given sequence of nibbles into a sequence of octets.\n *\n * @param encoded the nibbles to decode.\n *\n * @return the decoded octets.\n */\npublic byte[] decode(final byte[] encoded) {\n\n    return decodeMultiple(encoded);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2041247,"reputation":29451,"user_id":1822379,"accept_rate":60,"display_name":"Alan Thompson"},"score":4,"creation_date":1413743557,"post_id":18595580,"comment_id":41548646,"body_markdown":"An even easier way is to use the built-in functions javax.xml.bind.DatatypeConverter/parseHexBinary and printHexBinary.  See http://stackoverflow.com/questions/9655181/convert-from-byte-array-to-hex-string-in-java","body":"An even easier way is to use the built-in functions javax.xml.bind.DatatypeConverter/parseHexBinary and printHexBinary.  See <a href=\"http://stackoverflow.com/questions/9655181/convert-from-byte-array-to-hex-string-in-java\" title=\"convert from byte array to hex string in java\">stackoverflow.com/questions/9655181/&hellip;</a>"},{"owner":{"account_id":83967,"reputation":7565,"user_id":235026,"accept_rate":100,"display_name":"Mingjiang Shi"},"score":2,"creation_date":1435915642,"post_id":18595580,"comment_id":50409043,"body_markdown":"+1 to this option. The Hex also has a method encodeHexString, which takes a byte[] and returns a String.","body":"+1 to this option. The Hex also has a method encodeHexString, which takes a byte[] and returns a String."},{"owner":{"account_id":73961,"reputation":3749,"user_id":212749,"accept_rate":82,"display_name":"Mene"},"score":0,"creation_date":1459429950,"post_id":18595580,"comment_id":60290903,"body_markdown":"don&#39;t forget that the `javax` namespace isn&#39;t always available.","body":"don&#39;t forget that the <code>javax</code> namespace isn&#39;t always available."}],"tags":[],"owner":{"account_id":3108366,"reputation":330,"user_id":2630693,"accept_rate":100,"display_name":"ajrskelton"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1378220613,"creation_date":1378220613,"answer_id":18595580,"question_id":2817752,"body_markdown":"If you are happy to use an external library, the `org.apache.commons.codec.binary.Hex` class has an `encodeHex` method which takes a `byte[]` and returns a `char[]`. This methods is MUCH faster than the format option, and encapsulates the details of the conversion. Also comes with a `decodeHex` method for the opposite conversion.","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>If you are happy to use an external library, the <code>org.apache.commons.codec.binary.Hex</code> class has an <code>encodeHex</code> method which takes a <code>byte[]</code> and returns a <code>char[]</code>. This methods is MUCH faster than the format option, and encapsulates the details of the conversion. Also comes with a <code>decodeHex</code> method for the opposite conversion.</p>\n"},{"tags":[],"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1389580741,"creation_date":1389580741,"answer_id":21083047,"question_id":2817752,"body_markdown":"Others have covered the general case. But if you have a byte array of a known form, for example a MAC address, then you can:\r\n\r\n    byte[] mac = { (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00 };\r\n     \r\n    String str = String.format(&quot;%02X:%02X:%02X:%02X:%02X:%02X&quot;,\r\n                               mac[0], mac[1], mac[2], mac[3], mac[4], mac[5]); ","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>Others have covered the general case. But if you have a byte array of a known form, for example a MAC address, then you can:</p>\n\n<pre><code>byte[] mac = { (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00 };\n\nString str = String.format(\"%02X:%02X:%02X:%02X:%02X:%02X\",\n                           mac[0], mac[1], mac[2], mac[3], mac[4], mac[5]); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":3138548,"reputation":10293,"user_id":2654518,"accept_rate":80,"display_name":"ericbn"},"score":5,"creation_date":1406422240,"post_id":21178195,"comment_id":38826795,"body_markdown":"best answer! The symetric implementation of a hex String to byte would convertion then use `Character.digit()`, like `(byte) ((Character.digit(str.charAt(0), 16) &lt;&lt; 4) + Character.digit(str.charAt(1), 16))`","body":"best answer! The symetric implementation of a hex String to byte would convertion then use <code>Character.digit()</code>, like <code>(byte) ((Character.digit(str.charAt(0), 16) &lt;&lt; 4) + Character.digit(str.charAt(1), 16))</code>"}],"tags":[],"owner":{"account_id":2587487,"reputation":1161,"user_id":2242845,"accept_rate":80,"display_name":"jsinglet"},"comment_count":1,"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1389934660,"creation_date":1389934660,"answer_id":21178195,"question_id":2817752,"body_markdown":"I am posting because none of the existing answers explain why their approaches work, which I think is really important for this problem. In some cases, this causes the proposed solution to appear unnecessarily complicated and subtle.  To illustrate I will provide a fairly straightforward approach, but I&#39;ll provide a bit more detail to help illustrate **why** it works.\r\n\r\nFirst off, what are we trying to do? We want to convert a byte value (or an array of bytes) to a string which represents a hexadecimal value in ASCII. So step one is to find out exactly what a byte in Java is:\r\n\r\n&gt; The byte data type is an **8-bit signed two&#39;s complement integer**. It has a minimum value of -128 and a maximum value of 127 (inclusive). The byte data type can be useful for saving memory in large arrays, where the memory savings actually matters. They can also be used in place of int where their limits help to clarify your code; the fact that a variable&#39;s range is limited can serve as a form of documentation.\r\n\r\nWhat does this mean? A few things: First and most importantly, it means we are working with **8-bits**. So for example we can write the number 2 as 0000 0010. However, since it is two&#39;s complement, we write a negative 2 like this: 1111 1110. What is also means is that converting to hex is very straightforward. That is, you simply convert each 4 bit segment directly to hex. Note that to make sense of negative numbers in this scheme you will first need to understand two&#39;s complement. If you don&#39;t already understand two&#39;s complement, you can read an excellent explanation, here: http://www.cs.cornell.edu/~tomf/notes/cps104/twoscomp.html\r\n\r\n\r\n\r\n&lt;hr&gt;\r\n\r\n\r\nConverting Two&#39;s Complement to Hex In General\r\n=============================================\r\n\r\nOnce a number is in two&#39;s complement it is dead simple to convert it to hex. In general, converting from binary to hex is very straightforward, and as you will see in the next two examples, you can go directly from two&#39;s complement to hex. \r\n\r\nExamples\r\n--------\r\n\r\n**Example 1:** Convert 2 to Hex. \r\n\r\n1) First convert 2 to binary in two&#39;s complement: \r\n\r\n    2 (base 10) = 0000 0010 (base 2)\r\n\r\n2) Now convert binary to hex:\r\n\r\n    0000 = 0x0 in hex\r\n    0010 = 0x2 in hex\r\n\r\n    therefore 2 = 0000 0010 = 0x02. \r\n\r\n\r\n**Example 2:** Convert -2 (in two&#39;s complement) to Hex.\r\n\r\n1) First convert -2 to binary in two&#39;s complement: \r\n\r\n    -2 (base 10) = 0000 0010 (direct conversion to binary) \r\n                   1111 1101 (invert bits)\r\n                   1111 1110 (add 1)\r\n    therefore: -2 = 1111 1110 (in two&#39;s complement)\r\n\r\n\r\n2) Now Convert to Hex:\r\n\r\n    1111 = 0xF in hex\r\n    1110 = 0xE in hex\r\n\r\n    therefore: -2 = 1111 1110 = 0xFE.\r\n\r\n\r\n&lt;hr&gt;\r\nDoing this In Java\r\n==================\r\n\r\nNow that we&#39;ve covered the concept, you&#39;ll find we can achieve what we want with some simple masking and shifting. The key thing to understand is that **the byte you are trying to convert is already in two&#39;s complement.** You don&#39;t do this conversion yourself. I think this is a major point of confusion on this issue. Take for example the follow byte array:\r\n\r\n    byte[] bytes = new byte[]{-2,2};\r\n\r\nWe just manually converted them to hex, above, but how can we do it in Java? Here&#39;s how: \r\n\r\n**Step 1:** Create a StringBuffer to hold our computation.  \r\n\r\n    StringBuffer buffer = new StringBuffer();\r\n\r\n**Step 2:** Isolate the higher order bits, convert them to hex, and append them to the buffer\r\n\r\nGiven the binary number 1111 1110, we can isolate the higher order bits by first shifting them over by 4, and then zeroing out the rest of the number. Logically this is simple, however, the implementation details in Java (and many languages) introduce a wrinkle because of sign extension. Essentially, when you shift a byte value, Java first converts your value to an integer, and then performs sign extension. So while you would expect 1111 1110 &gt;&gt; 4 to be 0000 1111, in reality, in Java it is represented as the two&#39;s complement 0xFFFFFFFF!\r\n\r\nSo returning to our example: \r\n\r\n    1111 1110 &gt;&gt; 4 (shift right 4) = 1111 1111 1111 1111 1111 1111 1111 1111 (32 bit sign-extended number in two&#39;s complement)\r\n\r\nWe can then isolate the bits with a mask:\r\n\r\n    1111 1111 1111 1111 1111 1111 1111 1111 &amp; 0xF = 0000 0000 0000 0000 0000 0000 0000 1111\r\n    therefore: 1111 = 0xF in hex. \r\n\r\nIn Java we can do this all in one shot:\r\n \r\n    Character.forDigit((bytes[0] &gt;&gt; 4) &amp; 0xF, 16);\r\n\r\nThe forDigit function just maps the number you pass it onto the set of hexadecimal numbers 0-F. \r\n\r\n**Step 3:** Next we need to isolate the lower order bits. Since the bits we want are already in the correct position, we can just mask them out:\r\n\r\n    1111 1110 &amp; 0xF = 0000 0000 0000 0000 0000 0000 0000 1110 (recall sign extension from before)\r\n    therefore: 1110 = 0xE in hex.  \r\n\r\nLike before, in Java we can do this all in one shot:\r\n\r\n    Character.forDigit((bytes[0] &amp; 0xF), 16);\r\n\r\nPutting this all together we can do it as a for loop and convert the entire array:\r\n\r\n    for(int i=0; i &lt; bytes.length; i++){\r\n        buffer.append(Character.forDigit((bytes[i] &gt;&gt; 4) &amp; 0xF, 16));\r\n        buffer.append(Character.forDigit((bytes[i] &amp; 0xF), 16));\r\n    }\r\n\r\nHopefully this explanation makes things clearer for those of you wondering exactly what is going on in the many examples you will find on the internet. Hopefully I didn&#39;t make any egregious errors, but suggestions and corrections are highly welcome!  \r\n","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>I am posting because none of the existing answers explain why their approaches work, which I think is really important for this problem. In some cases, this causes the proposed solution to appear unnecessarily complicated and subtle.  To illustrate I will provide a fairly straightforward approach, but I'll provide a bit more detail to help illustrate <strong>why</strong> it works.</p>\n\n<p>First off, what are we trying to do? We want to convert a byte value (or an array of bytes) to a string which represents a hexadecimal value in ASCII. So step one is to find out exactly what a byte in Java is:</p>\n\n<blockquote>\n  <p>The byte data type is an <strong>8-bit signed two's complement integer</strong>. It has a minimum value of -128 and a maximum value of 127 (inclusive). The byte data type can be useful for saving memory in large arrays, where the memory savings actually matters. They can also be used in place of int where their limits help to clarify your code; the fact that a variable's range is limited can serve as a form of documentation.</p>\n</blockquote>\n\n<p>What does this mean? A few things: First and most importantly, it means we are working with <strong>8-bits</strong>. So for example we can write the number 2 as 0000 0010. However, since it is two's complement, we write a negative 2 like this: 1111 1110. What is also means is that converting to hex is very straightforward. That is, you simply convert each 4 bit segment directly to hex. Note that to make sense of negative numbers in this scheme you will first need to understand two's complement. If you don't already understand two's complement, you can read an excellent explanation, here: <a href=\"http://www.cs.cornell.edu/~tomf/notes/cps104/twoscomp.html\">http://www.cs.cornell.edu/~tomf/notes/cps104/twoscomp.html</a></p>\n\n<hr>\n\n<h1>Converting Two's Complement to Hex In General</h1>\n\n<p>Once a number is in two's complement it is dead simple to convert it to hex. In general, converting from binary to hex is very straightforward, and as you will see in the next two examples, you can go directly from two's complement to hex. </p>\n\n<h2>Examples</h2>\n\n<p><strong>Example 1:</strong> Convert 2 to Hex. </p>\n\n<p>1) First convert 2 to binary in two's complement: </p>\n\n<pre><code>2 (base 10) = 0000 0010 (base 2)\n</code></pre>\n\n<p>2) Now convert binary to hex:</p>\n\n<pre><code>0000 = 0x0 in hex\n0010 = 0x2 in hex\n\ntherefore 2 = 0000 0010 = 0x02. \n</code></pre>\n\n<p><strong>Example 2:</strong> Convert -2 (in two's complement) to Hex.</p>\n\n<p>1) First convert -2 to binary in two's complement: </p>\n\n<pre><code>-2 (base 10) = 0000 0010 (direct conversion to binary) \n               1111 1101 (invert bits)\n               1111 1110 (add 1)\ntherefore: -2 = 1111 1110 (in two's complement)\n</code></pre>\n\n<p>2) Now Convert to Hex:</p>\n\n<pre><code>1111 = 0xF in hex\n1110 = 0xE in hex\n\ntherefore: -2 = 1111 1110 = 0xFE.\n</code></pre>\n\n<p><hr></p>\n\n<h1>Doing this In Java</h1>\n\n<p>Now that we've covered the concept, you'll find we can achieve what we want with some simple masking and shifting. The key thing to understand is that <strong>the byte you are trying to convert is already in two's complement.</strong> You don't do this conversion yourself. I think this is a major point of confusion on this issue. Take for example the follow byte array:</p>\n\n<pre><code>byte[] bytes = new byte[]{-2,2};\n</code></pre>\n\n<p>We just manually converted them to hex, above, but how can we do it in Java? Here's how: </p>\n\n<p><strong>Step 1:</strong> Create a StringBuffer to hold our computation.  </p>\n\n<pre><code>StringBuffer buffer = new StringBuffer();\n</code></pre>\n\n<p><strong>Step 2:</strong> Isolate the higher order bits, convert them to hex, and append them to the buffer</p>\n\n<p>Given the binary number 1111 1110, we can isolate the higher order bits by first shifting them over by 4, and then zeroing out the rest of the number. Logically this is simple, however, the implementation details in Java (and many languages) introduce a wrinkle because of sign extension. Essentially, when you shift a byte value, Java first converts your value to an integer, and then performs sign extension. So while you would expect 1111 1110 >> 4 to be 0000 1111, in reality, in Java it is represented as the two's complement 0xFFFFFFFF!</p>\n\n<p>So returning to our example: </p>\n\n<pre><code>1111 1110 &gt;&gt; 4 (shift right 4) = 1111 1111 1111 1111 1111 1111 1111 1111 (32 bit sign-extended number in two's complement)\n</code></pre>\n\n<p>We can then isolate the bits with a mask:</p>\n\n<pre><code>1111 1111 1111 1111 1111 1111 1111 1111 &amp; 0xF = 0000 0000 0000 0000 0000 0000 0000 1111\ntherefore: 1111 = 0xF in hex. \n</code></pre>\n\n<p>In Java we can do this all in one shot:</p>\n\n<pre><code>Character.forDigit((bytes[0] &gt;&gt; 4) &amp; 0xF, 16);\n</code></pre>\n\n<p>The forDigit function just maps the number you pass it onto the set of hexadecimal numbers 0-F. </p>\n\n<p><strong>Step 3:</strong> Next we need to isolate the lower order bits. Since the bits we want are already in the correct position, we can just mask them out:</p>\n\n<pre><code>1111 1110 &amp; 0xF = 0000 0000 0000 0000 0000 0000 0000 1110 (recall sign extension from before)\ntherefore: 1110 = 0xE in hex.  \n</code></pre>\n\n<p>Like before, in Java we can do this all in one shot:</p>\n\n<pre><code>Character.forDigit((bytes[0] &amp; 0xF), 16);\n</code></pre>\n\n<p>Putting this all together we can do it as a for loop and convert the entire array:</p>\n\n<pre><code>for(int i=0; i &lt; bytes.length; i++){\n    buffer.append(Character.forDigit((bytes[i] &gt;&gt; 4) &amp; 0xF, 16));\n    buffer.append(Character.forDigit((bytes[i] &amp; 0xF), 16));\n}\n</code></pre>\n\n<p>Hopefully this explanation makes things clearer for those of you wondering exactly what is going on in the many examples you will find on the internet. Hopefully I didn't make any egregious errors, but suggestions and corrections are highly welcome!  </p>\n"},{"comments":[{"owner":{"account_id":2111849,"reputation":1037,"user_id":1876980,"accept_rate":86,"display_name":"Stephen M -on strike-"},"score":2,"creation_date":1503938980,"post_id":26975031,"comment_id":78806201,"body_markdown":"DatatypeConverter is no longer available in Java 9.  The dangerous thing is code using it will compile under Java 1.8 or earlier (Java 9 with source settings to earlier), but get a runtime exception under Java 9.","body":"DatatypeConverter is no longer available in Java 9.  The dangerous thing is code using it will compile under Java 1.8 or earlier (Java 9 with source settings to earlier), but get a runtime exception under Java 9."},{"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"score":0,"creation_date":1508777408,"post_id":26975031,"comment_id":80736192,"body_markdown":"I second @StephenMs point: using this with jre9 will crash with ClassNotFound Exception","body":"I second @StephenMs point: using this with jre9 will crash with ClassNotFound Exception"},{"owner":{"account_id":1077108,"reputation":7629,"user_id":1074998,"accept_rate":48,"display_name":""},"score":0,"creation_date":1528718860,"post_id":26975031,"comment_id":88600583,"body_markdown":"Actually can simply extract the source code method  `printHexBinary`  from src.zip of jdk, which seems 1 time  faster than 1st method.","body":"Actually can simply extract the source code method  <code>printHexBinary</code>  from src.zip of jdk, which seems 1 time  faster than 1st method."},{"owner":{"account_id":1141390,"reputation":1154,"user_id":1125191,"accept_rate":60,"display_name":"Dyorgio"},"score":2,"creation_date":1532627149,"post_id":26975031,"comment_id":90057291,"body_markdown":"If you work with char array for HEXES constant, instead String and charAt(), you gain ~20% more speed.","body":"If you work with char array for HEXES constant, instead String and charAt(), you gain ~20% more speed."}],"tags":[],"owner":{"account_id":2105809,"reputation":3833,"user_id":1872168,"accept_rate":64,"display_name":"Crystark"},"comment_count":4,"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1510572552,"creation_date":1416234939,"answer_id":26975031,"question_id":2817752,"body_markdown":"The **fastest** way i&#39;ve yet found to do this is the following:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    private static final String    HEXES    = &quot;0123456789ABCDEF&quot;;\r\n\r\n    static String getHex(byte[] raw) {\r\n        final StringBuilder hex = new StringBuilder(2 * raw.length);\r\n        for (final byte b : raw) {\r\n            hex.append(HEXES.charAt((b &amp; 0xF0) &gt;&gt; 4)).append(HEXES.charAt((b &amp; 0x0F)));\r\n        }\r\n        return hex.toString();\r\n    }\r\n\r\nIt&#39;s ~ 50x faster than `String.format`. if you want to test it:\r\n\r\n    public class MyTest{\r\n        private static final String    HEXES        = &quot;0123456789ABCDEF&quot;;\r\n\r\n        @Test\r\n        public void test_get_hex() {\r\n\t\t\tbyte[] raw = {\r\n\t\t\t\t(byte) 0xd0, (byte) 0x0b, (byte) 0x01, (byte) 0x2a, (byte) 0x63,\r\n\t\t\t\t(byte) 0x78, (byte) 0x01, (byte) 0x2e, (byte) 0xe3, (byte) 0x6c,\r\n\t\t\t\t(byte) 0xd2, (byte) 0xb0, (byte) 0x78, (byte) 0x51, (byte) 0x73,\r\n\t\t\t\t(byte) 0x34, (byte) 0xaf, (byte) 0xbb, (byte) 0xa0, (byte) 0x9f,\r\n\t\t\t\t(byte) 0xc3, (byte) 0xa9, (byte) 0x00, (byte) 0x1e, (byte) 0xd5,\r\n\t\t\t\t(byte) 0x4b, (byte) 0x89, (byte) 0xa3, (byte) 0x45, (byte) 0x35,\r\n\t\t\t\t(byte) 0xd6, (byte) 0x10,\r\n\t\t\t};\r\n\r\n\t\t\tint N = 77777;\r\n\t\t\tlong t;\r\n\r\n\t\t\t{\r\n\t\t\t\tt = System.currentTimeMillis();\r\n\t\t\t\tfor (int i = 0; i &lt; N; i++) {\r\n\t\t\t\t\tfinal StringBuilder hex = new StringBuilder(2 * raw.length);\r\n\t\t\t\t\tfor (final byte b : raw) {\r\n\t\t\t\t\t\thex.append(HEXES.charAt((b &amp; 0xF0) &gt;&gt; 4)).append(HEXES.charAt((b &amp; 0x0F)));\r\n\t\t\t\t\t}\r\n\t\t\t\t\thex.toString();\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(System.currentTimeMillis() - t); // 50\r\n\t\t\t}\r\n\r\n\t\t\t{\r\n\t\t\t\tt = System.currentTimeMillis();\r\n\t\t\t\tfor (int i = 0; i &lt; N; i++) {\r\n\t\t\t\t\tStringBuilder hex = new StringBuilder(2 * raw.length);\r\n\t\t\t\t\tfor (byte b : raw) {\r\n\t\t\t\t\t\thex.append(String.format(&quot;%02X&quot;, b));\r\n\t\t\t\t\t}\r\n\t\t\t\t\thex.toString();\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(System.currentTimeMillis() - t); // 2535\r\n\t\t\t}\r\n\r\n        }\r\n    }\r\n\r\n**Edit**: Just found something just a lil faster and that holds on one line but is **not compatible** with JRE 9. **Use at your own risks**\r\n\r\n    import javax.xml.bind.DatatypeConverter;\r\n\r\n    DatatypeConverter.printHexBinary(raw);","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>The <strong>fastest</strong> way i've yet found to do this is the following:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static final String    HEXES    = \"0123456789ABCDEF\";\n\nstatic String getHex(byte[] raw) {\n    final StringBuilder hex = new StringBuilder(2 * raw.length);\n    for (final byte b : raw) {\n        hex.append(HEXES.charAt((b &amp; 0xF0) &gt;&gt; 4)).append(HEXES.charAt((b &amp; 0x0F)));\n    }\n    return hex.toString();\n}\n</code></pre>\n\n<p>It's ~ 50x faster than <code>String.format</code>. if you want to test it:</p>\n\n<pre><code>public class MyTest{\n    private static final String    HEXES        = \"0123456789ABCDEF\";\n\n    @Test\n    public void test_get_hex() {\n        byte[] raw = {\n            (byte) 0xd0, (byte) 0x0b, (byte) 0x01, (byte) 0x2a, (byte) 0x63,\n            (byte) 0x78, (byte) 0x01, (byte) 0x2e, (byte) 0xe3, (byte) 0x6c,\n            (byte) 0xd2, (byte) 0xb0, (byte) 0x78, (byte) 0x51, (byte) 0x73,\n            (byte) 0x34, (byte) 0xaf, (byte) 0xbb, (byte) 0xa0, (byte) 0x9f,\n            (byte) 0xc3, (byte) 0xa9, (byte) 0x00, (byte) 0x1e, (byte) 0xd5,\n            (byte) 0x4b, (byte) 0x89, (byte) 0xa3, (byte) 0x45, (byte) 0x35,\n            (byte) 0xd6, (byte) 0x10,\n        };\n\n        int N = 77777;\n        long t;\n\n        {\n            t = System.currentTimeMillis();\n            for (int i = 0; i &lt; N; i++) {\n                final StringBuilder hex = new StringBuilder(2 * raw.length);\n                for (final byte b : raw) {\n                    hex.append(HEXES.charAt((b &amp; 0xF0) &gt;&gt; 4)).append(HEXES.charAt((b &amp; 0x0F)));\n                }\n                hex.toString();\n            }\n            System.out.println(System.currentTimeMillis() - t); // 50\n        }\n\n        {\n            t = System.currentTimeMillis();\n            for (int i = 0; i &lt; N; i++) {\n                StringBuilder hex = new StringBuilder(2 * raw.length);\n                for (byte b : raw) {\n                    hex.append(String.format(\"%02X\", b));\n                }\n                hex.toString();\n            }\n            System.out.println(System.currentTimeMillis() - t); // 2535\n        }\n\n    }\n}\n</code></pre>\n\n<p><strong>Edit</strong>: Just found something just a lil faster and that holds on one line but is <strong>not compatible</strong> with JRE 9. <strong>Use at your own risks</strong></p>\n\n<pre><code>import javax.xml.bind.DatatypeConverter;\n\nDatatypeConverter.printHexBinary(raw);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4159949,"reputation":888,"user_id":3410272,"display_name":"bapho"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425899553,"creation_date":1425899553,"answer_id":28940589,"question_id":2817752,"body_markdown":"This is a very fast way. No external libaries needed.\r\n\r\n    final protected static char[] HEXARRAY = &quot;0123456789abcdef&quot;.toCharArray();\r\n    \r\n    \tpublic static String encodeHexString( byte[] bytes ) {\r\n    \r\n    \t\tchar[] hexChars = new char[bytes.length * 2];\r\n    \t\tfor (int j = 0; j &lt; bytes.length; j++) {\r\n    \t\t\tint v = bytes[j] &amp; 0xFF;\r\n    \t\t\thexChars[j * 2] = HEXARRAY[v &gt;&gt;&gt; 4];\r\n    \t\t\thexChars[j * 2 + 1] = HEXARRAY[v &amp; 0x0F];\r\n    \t\t}\r\n    \t\treturn new String(hexChars);\r\n    \t}","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>This is a very fast way. No external libaries needed.</p>\n\n<pre><code>final protected static char[] HEXARRAY = \"0123456789abcdef\".toCharArray();\n\n    public static String encodeHexString( byte[] bytes ) {\n\n        char[] hexChars = new char[bytes.length * 2];\n        for (int j = 0; j &lt; bytes.length; j++) {\n            int v = bytes[j] &amp; 0xFF;\n            hexChars[j * 2] = HEXARRAY[v &gt;&gt;&gt; 4];\n            hexChars[j * 2 + 1] = HEXARRAY[v &amp; 0x0F];\n        }\n        return new String(hexChars);\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1729017,"reputation":1654,"user_id":1610553,"display_name":"bernard paulus"},"score":0,"creation_date":1638791017,"post_id":32123766,"comment_id":124173618,"body_markdown":"Nice to skip StringBuilder... Does your benchmark include the `String` creation time?","body":"Nice to skip StringBuilder... Does your benchmark include the <code>String</code> creation time?"}],"tags":[],"owner":{"account_id":427045,"reputation":5360,"user_id":808603,"accept_rate":73,"display_name":"Jerinaw"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1440088825,"creation_date":1440088825,"answer_id":32123766,"question_id":2817752,"body_markdown":"This is the code that I&#39;ve found to run the fastest so far. I ran it on 109015 byte arrays of length 32, in 23ms. I was running it on a VM so it&#39;ll probably run faster on bare metal.\r\n    \r\n    public static final char[] HEX_DIGITS =         {&#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;};\r\n\r\n    public static char[] encodeHex( final byte[] data ){\r\n        final int l = data.length;\r\n        final char[] out = new char[l&lt;&lt;1];\r\n        for( int i=0,j=0; i&lt;l; i++ ){\r\n            out[j++] = HEX_DIGITS[(0xF0 &amp; data[i]) &gt;&gt;&gt; 4];\r\n            out[j++] = HEX_DIGITS[0x0F &amp; data[i]];\r\n        }\r\n        return out;\r\n    }\r\n\r\nThen you can just do \r\n\r\n    String s = new String( encodeHex(myByteArray) );","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>This is the code that I've found to run the fastest so far. I ran it on 109015 byte arrays of length 32, in 23ms. I was running it on a VM so it'll probably run faster on bare metal.</p>\n\n<pre><code>public static final char[] HEX_DIGITS =         {'0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F'};\n\npublic static char[] encodeHex( final byte[] data ){\n    final int l = data.length;\n    final char[] out = new char[l&lt;&lt;1];\n    for( int i=0,j=0; i&lt;l; i++ ){\n        out[j++] = HEX_DIGITS[(0xF0 &amp; data[i]) &gt;&gt;&gt; 4];\n        out[j++] = HEX_DIGITS[0x0F &amp; data[i]];\n    }\n    return out;\n}\n</code></pre>\n\n<p>Then you can just do </p>\n\n<pre><code>String s = new String( encodeHex(myByteArray) );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":293480,"reputation":4652,"user_id":596794,"accept_rate":28,"display_name":"Mehdi Ijadnazar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457155058,"creation_date":1457155058,"answer_id":35810380,"question_id":2817752,"body_markdown":"I couldn&#39;t figure out what exactly you meant by byte String, but here are some conversions from byte to String and vice versa, of course there is a lot more on the official documentations\r\n\r\n    Integer intValue = 149;\r\n\r\nThe corresponding byte value is:\r\n\r\n    Byte byteValue = intValue.byteValue(); // this will convert the rightmost byte of the intValue to byte, because Byte is an 8 bit object and Integer is at least 16 bit, and it will give you a signed number in this case -107\r\n\r\nget the integer value back from a Byte variable:\r\n\r\n    Integer anInt = byteValue.intValue(); // This will convert the byteValue variable to a signed Integer\r\n\r\n**From Byte and Integer to hex String:**  \r\nThis is the way I do it:  \r\n\r\n    Integer anInt = 149\r\n    Byte aByte = anInt.byteValue();\r\n    \r\n    String hexFromInt = &quot;&quot;.format(&quot;0x%x&quot;, anInt); // This will output 0x95\r\n    String hexFromByte = &quot;&quot;.format(&quot;0x%x&quot;, aByte); // This will output 0x95\r\n\r\n**Converting an array of bytes to a hex string:**  \r\nAs far as I know there is no simple function to convert all the elements inside an array of some `Object` to elements of another `Object`, So you have to do it yourself. You can use the following functions:\r\n\r\n**From byte[] to String:**\r\n\r\n        public static String byteArrayToHexString(byte[] byteArray){\r\n            String hexString = &quot;&quot;;\r\n    \r\n            for(int i = 0; i &lt; byteArray.length; i++){\r\n                String thisByte = &quot;&quot;.format(&quot;%x&quot;, byteArray[i]);\r\n                hexString += thisByte;\r\n            }\r\n    \r\n            return hexString;\r\n        }\r\n\r\n**And from hex string to byte[]:**\r\n\r\n    public static byte[] hexStringToByteArray(String hexString){\r\n        byte[] bytes = new byte[hexString.length() / 2];\r\n    \r\n        for(int i = 0; i &lt; hexString.length(); i += 2){\r\n            String sub = hexString.substring(i, i + 2);\r\n            Integer intVal = Integer.parseInt(sub, 16);\r\n            bytes[i / 2] = intVal.byteValue();\r\n            String hex = &quot;&quot;.format(&quot;0x%x&quot;, bytes[i / 2]);\r\n        }\r\n    \r\n        return bytes;\r\n    }  \r\n\r\nIt is too late but I hope this could help some others ;)","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>I couldn't figure out what exactly you meant by byte String, but here are some conversions from byte to String and vice versa, of course there is a lot more on the official documentations</p>\n\n<pre><code>Integer intValue = 149;\n</code></pre>\n\n<p>The corresponding byte value is:</p>\n\n<pre><code>Byte byteValue = intValue.byteValue(); // this will convert the rightmost byte of the intValue to byte, because Byte is an 8 bit object and Integer is at least 16 bit, and it will give you a signed number in this case -107\n</code></pre>\n\n<p>get the integer value back from a Byte variable:</p>\n\n<pre><code>Integer anInt = byteValue.intValue(); // This will convert the byteValue variable to a signed Integer\n</code></pre>\n\n<p><strong>From Byte and Integer to hex String:</strong><br>\nThis is the way I do it:  </p>\n\n<pre><code>Integer anInt = 149\nByte aByte = anInt.byteValue();\n\nString hexFromInt = \"\".format(\"0x%x\", anInt); // This will output 0x95\nString hexFromByte = \"\".format(\"0x%x\", aByte); // This will output 0x95\n</code></pre>\n\n<p><strong>Converting an array of bytes to a hex string:</strong><br>\nAs far as I know there is no simple function to convert all the elements inside an array of some <code>Object</code> to elements of another <code>Object</code>, So you have to do it yourself. You can use the following functions:</p>\n\n<p><strong>From byte[] to String:</strong></p>\n\n<pre><code>    public static String byteArrayToHexString(byte[] byteArray){\n        String hexString = \"\";\n\n        for(int i = 0; i &lt; byteArray.length; i++){\n            String thisByte = \"\".format(\"%x\", byteArray[i]);\n            hexString += thisByte;\n        }\n\n        return hexString;\n    }\n</code></pre>\n\n<p><strong>And from hex string to byte[]:</strong></p>\n\n<pre><code>public static byte[] hexStringToByteArray(String hexString){\n    byte[] bytes = new byte[hexString.length() / 2];\n\n    for(int i = 0; i &lt; hexString.length(); i += 2){\n        String sub = hexString.substring(i, i + 2);\n        Integer intVal = Integer.parseInt(sub, 16);\n        bytes[i / 2] = intVal.byteValue();\n        String hex = \"\".format(\"0x%x\", bytes[i / 2]);\n    }\n\n    return bytes;\n}  \n</code></pre>\n\n<p>It is too late but I hope this could help some others ;)</p>\n"},{"comments":[{"owner":{"account_id":158578,"reputation":3109,"user_id":377320,"accept_rate":25,"display_name":"Martin Vysny"},"score":0,"creation_date":1550750741,"post_id":40155699,"comment_id":96389614,"body_markdown":"Doesn&#39;t work: `BigInteger(byteArrayOf(-1, 2, 3, 4, 5)).toString(16)` returns `&quot;-fdfcfbfb&quot;`","body":"Doesn&#39;t work: <code>BigInteger(byteArrayOf(-1, 2, 3, 4, 5)).toString(16)</code> returns <code>&quot;-fdfcfbfb&quot;</code>"},{"owner":{"account_id":2364348,"reputation":991,"user_id":2070363,"accept_rate":100,"display_name":"Wender"},"score":0,"creation_date":1552389042,"post_id":40155699,"comment_id":96981628,"body_markdown":"It&#39;s a right result. You working with bytes &#39;-1&#39;, &#39;2&#39; ... &#39;5&#39;. Thats bytes no have visualiztion (http://www.unicode.org) if you intention is work with the literal &#39;-1&#39;, &#39;2&#39; ... &#39;5&#39; you should work with the string values.","body":"It&#39;s a right result. You working with bytes &#39;-1&#39;, &#39;2&#39; ... &#39;5&#39;. Thats bytes no have visualiztion (<a href=\"http://www.unicode.org\" rel=\"nofollow noreferrer\">unicode.org</a>) if you intention is work with the literal &#39;-1&#39;, &#39;2&#39; ... &#39;5&#39; you should work with the string values."},{"owner":{"account_id":158578,"reputation":3109,"user_id":377320,"accept_rate":25,"display_name":"Martin Vysny"},"score":1,"creation_date":1552480578,"post_id":40155699,"comment_id":97024265,"body_markdown":"It is wrong result. Java byte value of -1 is in fact 0xFF (it&#39;s the same as `(int) 255`) since Java bytes are signed, so the result should be `FF02030405`. If you try out @Jerinaw solution above you&#39;ll see it will print the correct output. Also see Svetlin Nakov&#39;s solution below.","body":"It is wrong result. Java byte value of -1 is in fact 0xFF (it&#39;s the same as <code>(int) 255</code>) since Java bytes are signed, so the result should be <code>FF02030405</code>. If you try out @Jerinaw solution above you&#39;ll see it will print the correct output. Also see Svetlin Nakov&#39;s solution below."}],"tags":[],"owner":{"account_id":2364348,"reputation":991,"user_id":2070363,"accept_rate":100,"display_name":"Wender"},"comment_count":3,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1634107387,"creation_date":1476969742,"answer_id":40155699,"question_id":2817752,"body_markdown":"    BigInteger n = new BigInteger(byteArray);\r\n    String hexa = n.toString(16);","title":"How can I convert a byte array to hexadecimal in Java?","body":"<pre><code>BigInteger n = new BigInteger(byteArray);\nString hexa = n.toString(16);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2111849,"reputation":1037,"user_id":1876980,"accept_rate":86,"display_name":"Stephen M -on strike-"},"score":5,"creation_date":1503939012,"post_id":41127219,"comment_id":78806220,"body_markdown":"DatatypeConverter is no longer available in Java 9. The dangerous thing is code using it will compile under Java 1.8 or earlier (Java 9 with source settings to earlier), but get a runtime exception under Java 9.","body":"DatatypeConverter is no longer available in Java 9. The dangerous thing is code using it will compile under Java 1.8 or earlier (Java 9 with source settings to earlier), but get a runtime exception under Java 9."},{"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"score":0,"creation_date":1507248587,"post_id":41127219,"comment_id":80145696,"body_markdown":"Sad when you say its not in jdk9. `new BigInteger(byteArray).toString(16)` is the way to go then. Are are perf issues with that??","body":"Sad when you say its not in jdk9. <code>new BigInteger(byteArray).toString(16)</code> is the way to go then. Are are perf issues with that??"},{"owner":{"account_id":993756,"reputation":1090,"user_id":1127980,"accept_rate":50,"display_name":"Friso"},"score":0,"creation_date":1508234589,"post_id":41127219,"comment_id":80521179,"body_markdown":"Maybe not perf issues, but it will miss leading zeros (as they are meaningless to a number like BigInteger is)","body":"Maybe not perf issues, but it will miss leading zeros (as they are meaningless to a number like BigInteger is)"},{"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"score":0,"creation_date":1520255006,"post_id":41127219,"comment_id":85227247,"body_markdown":"Looks like it&#39;s still [in the java 9 docs](https://docs.oracle.com/javase/9/docs/api/javax/xml/bind/DatatypeConverter.html#printHexBinary-byte:A-), so seems like it&#39;s ok to use it still from what I can tell","body":"Looks like it&#39;s still <a href=\"https://docs.oracle.com/javase/9/docs/api/javax/xml/bind/DatatypeConverter.html#printHexBinary-byte:A-\" rel=\"nofollow noreferrer\">in the java 9 docs</a>, so seems like it&#39;s ok to use it still from what I can tell"},{"owner":{"account_id":8321393,"reputation":479,"user_id":6263968,"display_name":"lynx"},"score":0,"creation_date":1520628227,"post_id":41127219,"comment_id":85408893,"body_markdown":"i think as explained [here](https://stackoverflow.com/questions/46852065/java-9-module-java-xml-bind-is-not-accessible-in-eclipse) it is still ok to use for java9, but will be [removed](https://docs.oracle.com/javase/9/docs/api/java.xml.bind-summary.html) in future java releases. you will also still be able to use it with the &#39;new&#39; standalone jaxb module as of [version 2.3.0](https://javaee.github.io/jaxb-v2/doc/user-guide/ch02.html#a-2-3-0).","body":"i think as explained <a href=\"https://stackoverflow.com/questions/46852065/java-9-module-java-xml-bind-is-not-accessible-in-eclipse\">here</a> it is still ok to use for java9, but will be <a href=\"https://docs.oracle.com/javase/9/docs/api/java.xml.bind-summary.html\" rel=\"nofollow noreferrer\">removed</a> in future java releases. you will also still be able to use it with the &#39;new&#39; standalone jaxb module as of <a href=\"https://javaee.github.io/jaxb-v2/doc/user-guide/ch02.html#a-2-3-0\" rel=\"nofollow noreferrer\">version 2.3.0</a>."}],"tags":[],"owner":{"account_id":8321393,"reputation":479,"user_id":6263968,"display_name":"lynx"},"comment_count":5,"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1481650404,"creation_date":1481650404,"answer_id":41127219,"question_id":2817752,"body_markdown":"The Best solution is this badass one-liner:\r\n\r\n    String hex=DatatypeConverter.printHexBinary(byte[] b);\r\n\r\nas mentioned [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/5942951/6263968","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>The Best solution is this badass one-liner:</p>\n\n<pre><code>String hex=DatatypeConverter.printHexBinary(byte[] b);\n</code></pre>\n\n<p>as mentioned <a href=\"https://stackoverflow.com/a/5942951/6263968\">here</a></p>\n"},{"comments":[{"owner":{"account_id":1060062,"reputation":1639,"user_id":1061882,"display_name":"Svetlin Nakov"},"score":0,"creation_date":1548449953,"post_id":41958045,"comment_id":95559772,"body_markdown":"Yes, this is **the best solution**, but requires an external library: **Apache Commons Codec** (https://mvnrepository.com/artifact/commons-codec/commons-codec/1.11) or **BouncyCastle Provider** (https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk15on/1.60)","body":"Yes, this is <b>the best solution</b>, but requires an external library: <b>Apache Commons Codec</b> (<a href=\"https://mvnrepository.com/artifact/commons-codec/commons-codec/1.11\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/commons-codec/commons-codec/1.11</a>&zwnj;&#8203;) or <b>BouncyCastle Provider</b> (<a href=\"https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk15on/1.60\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk15on/&zwnj;&#8203;1.60</a>)"}],"tags":[],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"comment_count":1,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1548451186,"creation_date":1485866925,"answer_id":41958045,"question_id":2817752,"body_markdown":"You can use the method from [Bouncy Castle Provider][1] library:\r\n\r\n    org.bouncycastle.util.encoders.Hex.toHexString(byteArray);\r\n\r\n&gt; The Bouncy Castle Crypto package is a Java implementation of\r\n&gt; cryptographic algorithms. This jar contains JCE provider and\r\n&gt; lightweight API for the Bouncy Castle Cryptography APIs for JDK 1.5 to\r\n&gt; JDK 1.8.\r\n\r\nMaven dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n        &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n        &lt;version&gt;1.60&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nor from [Apache Commons Codec][2]:\r\n\r\n    org.apache.commons.codec.binary.Hex.encodeHexString(byteArray);\r\n\r\n&gt; The Apache Commons Codec package contains simple encoder and decoders\r\n&gt; for various formats such as Base64 and Hexadecimal. In addition to\r\n&gt; these widely used encoders and decoders, the codec package also\r\n&gt; maintains a collection of phonetic encoding utilities.\r\n\r\nMaven dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n        &lt;version&gt;1.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n \r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk15on/1.60\r\n  [2]: https://mvnrepository.com/artifact/commons-codec/commons-codec/1.11","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>You can use the method from <a href=\"https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk15on/1.60\" rel=\"nofollow noreferrer\">Bouncy Castle Provider</a> library:</p>\n\n<pre><code>org.bouncycastle.util.encoders.Hex.toHexString(byteArray);\n</code></pre>\n\n<blockquote>\n  <p>The Bouncy Castle Crypto package is a Java implementation of\n  cryptographic algorithms. This jar contains JCE provider and\n  lightweight API for the Bouncy Castle Cryptography APIs for JDK 1.5 to\n  JDK 1.8.</p>\n</blockquote>\n\n<p>Maven dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n    &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n    &lt;version&gt;1.60&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>or from <a href=\"https://mvnrepository.com/artifact/commons-codec/commons-codec/1.11\" rel=\"nofollow noreferrer\">Apache Commons Codec</a>:</p>\n\n<pre><code>org.apache.commons.codec.binary.Hex.encodeHexString(byteArray);\n</code></pre>\n\n<blockquote>\n  <p>The Apache Commons Codec package contains simple encoder and decoders\n  for various formats such as Base64 and Hexadecimal. In addition to\n  these widely used encoders and decoders, the codec package also\n  maintains a collection of phonetic encoding utilities.</p>\n</blockquote>\n\n<p>Maven dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n    &lt;version&gt;1.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":345234,"reputation":3288,"user_id":678016,"accept_rate":76,"display_name":"Rich S"},"score":2,"creation_date":1539714575,"post_id":50846880,"comment_id":92599640,"body_markdown":"ugly, but probably very efficient. :-)","body":"ugly, but probably very efficient. :-)"},{"owner":{"account_id":3191144,"reputation":5197,"user_id":2695344,"accept_rate":42,"display_name":"Martin Kersten"},"score":2,"creation_date":1617541940,"post_id":50846880,"comment_id":118328423,"body_markdown":"Come on. You can do better than this :-) (Hint: Two nested for-loops and constructed as a static variable so executed only once during class loading (cinit) time)","body":"Come on. You can do better than this :-) (Hint: Two nested for-loops and constructed as a static variable so executed only once during class loading (cinit) time)"}],"tags":[],"owner":{"account_id":3687061,"reputation":835,"user_id":3070613,"display_name":"loop"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1528929087,"creation_date":1528927105,"answer_id":50846880,"question_id":2817752,"body_markdown":"There&#39;s your fast method:\r\n\r\n    \tprivate static final String[] hexes = new String[]{\r\n\t\t\t&quot;00&quot;,&quot;01&quot;,&quot;02&quot;,&quot;03&quot;,&quot;04&quot;,&quot;05&quot;,&quot;06&quot;,&quot;07&quot;,&quot;08&quot;,&quot;09&quot;,&quot;0A&quot;,&quot;0B&quot;,&quot;0C&quot;,&quot;0D&quot;,&quot;0E&quot;,&quot;0F&quot;,\r\n\t\t\t&quot;10&quot;,&quot;11&quot;,&quot;12&quot;,&quot;13&quot;,&quot;14&quot;,&quot;15&quot;,&quot;16&quot;,&quot;17&quot;,&quot;18&quot;,&quot;19&quot;,&quot;1A&quot;,&quot;1B&quot;,&quot;1C&quot;,&quot;1D&quot;,&quot;1E&quot;,&quot;1F&quot;,\r\n\t\t\t&quot;20&quot;,&quot;21&quot;,&quot;22&quot;,&quot;23&quot;,&quot;24&quot;,&quot;25&quot;,&quot;26&quot;,&quot;27&quot;,&quot;28&quot;,&quot;29&quot;,&quot;2A&quot;,&quot;2B&quot;,&quot;2C&quot;,&quot;2D&quot;,&quot;2E&quot;,&quot;2F&quot;,\r\n\t\t\t&quot;30&quot;,&quot;31&quot;,&quot;32&quot;,&quot;33&quot;,&quot;34&quot;,&quot;35&quot;,&quot;36&quot;,&quot;37&quot;,&quot;38&quot;,&quot;39&quot;,&quot;3A&quot;,&quot;3B&quot;,&quot;3C&quot;,&quot;3D&quot;,&quot;3E&quot;,&quot;3F&quot;,\r\n\t\t\t&quot;40&quot;,&quot;41&quot;,&quot;42&quot;,&quot;43&quot;,&quot;44&quot;,&quot;45&quot;,&quot;46&quot;,&quot;47&quot;,&quot;48&quot;,&quot;49&quot;,&quot;4A&quot;,&quot;4B&quot;,&quot;4C&quot;,&quot;4D&quot;,&quot;4E&quot;,&quot;4F&quot;,\r\n\t\t\t&quot;50&quot;,&quot;51&quot;,&quot;52&quot;,&quot;53&quot;,&quot;54&quot;,&quot;55&quot;,&quot;56&quot;,&quot;57&quot;,&quot;58&quot;,&quot;59&quot;,&quot;5A&quot;,&quot;5B&quot;,&quot;5C&quot;,&quot;5D&quot;,&quot;5E&quot;,&quot;5F&quot;,\r\n\t\t\t&quot;60&quot;,&quot;61&quot;,&quot;62&quot;,&quot;63&quot;,&quot;64&quot;,&quot;65&quot;,&quot;66&quot;,&quot;67&quot;,&quot;68&quot;,&quot;69&quot;,&quot;6A&quot;,&quot;6B&quot;,&quot;6C&quot;,&quot;6D&quot;,&quot;6E&quot;,&quot;6F&quot;,\r\n\t\t\t&quot;70&quot;,&quot;71&quot;,&quot;72&quot;,&quot;73&quot;,&quot;74&quot;,&quot;75&quot;,&quot;76&quot;,&quot;77&quot;,&quot;78&quot;,&quot;79&quot;,&quot;7A&quot;,&quot;7B&quot;,&quot;7C&quot;,&quot;7D&quot;,&quot;7E&quot;,&quot;7F&quot;,\r\n\t\t\t&quot;80&quot;,&quot;81&quot;,&quot;82&quot;,&quot;83&quot;,&quot;84&quot;,&quot;85&quot;,&quot;86&quot;,&quot;87&quot;,&quot;88&quot;,&quot;89&quot;,&quot;8A&quot;,&quot;8B&quot;,&quot;8C&quot;,&quot;8D&quot;,&quot;8E&quot;,&quot;8F&quot;,\r\n\t\t\t&quot;90&quot;,&quot;91&quot;,&quot;92&quot;,&quot;93&quot;,&quot;94&quot;,&quot;95&quot;,&quot;96&quot;,&quot;97&quot;,&quot;98&quot;,&quot;99&quot;,&quot;9A&quot;,&quot;9B&quot;,&quot;9C&quot;,&quot;9D&quot;,&quot;9E&quot;,&quot;9F&quot;,\r\n\t\t\t&quot;A0&quot;,&quot;A1&quot;,&quot;A2&quot;,&quot;A3&quot;,&quot;A4&quot;,&quot;A5&quot;,&quot;A6&quot;,&quot;A7&quot;,&quot;A8&quot;,&quot;A9&quot;,&quot;AA&quot;,&quot;AB&quot;,&quot;AC&quot;,&quot;AD&quot;,&quot;AE&quot;,&quot;AF&quot;,\r\n\t\t\t&quot;B0&quot;,&quot;B1&quot;,&quot;B2&quot;,&quot;B3&quot;,&quot;B4&quot;,&quot;B5&quot;,&quot;B6&quot;,&quot;B7&quot;,&quot;B8&quot;,&quot;B9&quot;,&quot;BA&quot;,&quot;BB&quot;,&quot;BC&quot;,&quot;BD&quot;,&quot;BE&quot;,&quot;BF&quot;,\r\n\t\t\t&quot;C0&quot;,&quot;C1&quot;,&quot;C2&quot;,&quot;C3&quot;,&quot;C4&quot;,&quot;C5&quot;,&quot;C6&quot;,&quot;C7&quot;,&quot;C8&quot;,&quot;C9&quot;,&quot;CA&quot;,&quot;CB&quot;,&quot;CC&quot;,&quot;CD&quot;,&quot;CE&quot;,&quot;CF&quot;,\r\n\t\t\t&quot;D0&quot;,&quot;D1&quot;,&quot;D2&quot;,&quot;D3&quot;,&quot;D4&quot;,&quot;D5&quot;,&quot;D6&quot;,&quot;D7&quot;,&quot;D8&quot;,&quot;D9&quot;,&quot;DA&quot;,&quot;DB&quot;,&quot;DC&quot;,&quot;DD&quot;,&quot;DE&quot;,&quot;DF&quot;,\r\n\t\t\t&quot;E0&quot;,&quot;E1&quot;,&quot;E2&quot;,&quot;E3&quot;,&quot;E4&quot;,&quot;E5&quot;,&quot;E6&quot;,&quot;E7&quot;,&quot;E8&quot;,&quot;E9&quot;,&quot;EA&quot;,&quot;EB&quot;,&quot;EC&quot;,&quot;ED&quot;,&quot;EE&quot;,&quot;EF&quot;,\r\n\t\t\t&quot;F0&quot;,&quot;F1&quot;,&quot;F2&quot;,&quot;F3&quot;,&quot;F4&quot;,&quot;F5&quot;,&quot;F6&quot;,&quot;F7&quot;,&quot;F8&quot;,&quot;F9&quot;,&quot;FA&quot;,&quot;FB&quot;,&quot;FC&quot;,&quot;FD&quot;,&quot;FE&quot;,&quot;FF&quot;\r\n\t\t};\r\n\r\n\t\tpublic static String byteToHex(byte b) {\r\n\t\t\treturn hexes[b&amp;0xFF];\r\n\t\t}\r\n","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>There's your fast method:</p>\n\n<pre><code>    private static final String[] hexes = new String[]{\n        \"00\",\"01\",\"02\",\"03\",\"04\",\"05\",\"06\",\"07\",\"08\",\"09\",\"0A\",\"0B\",\"0C\",\"0D\",\"0E\",\"0F\",\n        \"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\",\"18\",\"19\",\"1A\",\"1B\",\"1C\",\"1D\",\"1E\",\"1F\",\n        \"20\",\"21\",\"22\",\"23\",\"24\",\"25\",\"26\",\"27\",\"28\",\"29\",\"2A\",\"2B\",\"2C\",\"2D\",\"2E\",\"2F\",\n        \"30\",\"31\",\"32\",\"33\",\"34\",\"35\",\"36\",\"37\",\"38\",\"39\",\"3A\",\"3B\",\"3C\",\"3D\",\"3E\",\"3F\",\n        \"40\",\"41\",\"42\",\"43\",\"44\",\"45\",\"46\",\"47\",\"48\",\"49\",\"4A\",\"4B\",\"4C\",\"4D\",\"4E\",\"4F\",\n        \"50\",\"51\",\"52\",\"53\",\"54\",\"55\",\"56\",\"57\",\"58\",\"59\",\"5A\",\"5B\",\"5C\",\"5D\",\"5E\",\"5F\",\n        \"60\",\"61\",\"62\",\"63\",\"64\",\"65\",\"66\",\"67\",\"68\",\"69\",\"6A\",\"6B\",\"6C\",\"6D\",\"6E\",\"6F\",\n        \"70\",\"71\",\"72\",\"73\",\"74\",\"75\",\"76\",\"77\",\"78\",\"79\",\"7A\",\"7B\",\"7C\",\"7D\",\"7E\",\"7F\",\n        \"80\",\"81\",\"82\",\"83\",\"84\",\"85\",\"86\",\"87\",\"88\",\"89\",\"8A\",\"8B\",\"8C\",\"8D\",\"8E\",\"8F\",\n        \"90\",\"91\",\"92\",\"93\",\"94\",\"95\",\"96\",\"97\",\"98\",\"99\",\"9A\",\"9B\",\"9C\",\"9D\",\"9E\",\"9F\",\n        \"A0\",\"A1\",\"A2\",\"A3\",\"A4\",\"A5\",\"A6\",\"A7\",\"A8\",\"A9\",\"AA\",\"AB\",\"AC\",\"AD\",\"AE\",\"AF\",\n        \"B0\",\"B1\",\"B2\",\"B3\",\"B4\",\"B5\",\"B6\",\"B7\",\"B8\",\"B9\",\"BA\",\"BB\",\"BC\",\"BD\",\"BE\",\"BF\",\n        \"C0\",\"C1\",\"C2\",\"C3\",\"C4\",\"C5\",\"C6\",\"C7\",\"C8\",\"C9\",\"CA\",\"CB\",\"CC\",\"CD\",\"CE\",\"CF\",\n        \"D0\",\"D1\",\"D2\",\"D3\",\"D4\",\"D5\",\"D6\",\"D7\",\"D8\",\"D9\",\"DA\",\"DB\",\"DC\",\"DD\",\"DE\",\"DF\",\n        \"E0\",\"E1\",\"E2\",\"E3\",\"E4\",\"E5\",\"E6\",\"E7\",\"E8\",\"E9\",\"EA\",\"EB\",\"EC\",\"ED\",\"EE\",\"EF\",\n        \"F0\",\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\",\"F8\",\"F9\",\"FA\",\"FB\",\"FC\",\"FD\",\"FE\",\"FF\"\n    };\n\n    public static String byteToHex(byte b) {\n        return hexes[b&amp;0xFF];\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":1,"creation_date":1609787992,"post_id":54250518,"comment_id":115926716,"body_markdown":"Another disadvantage is that you have to know the length of the byte array upfront. But `String.format(&quot;%0&quot; + (bytes.length * 2) + &quot;x&quot;, new BigInteger(1, bytes))` is easy enough, if a little ugly.","body":"Another disadvantage is that you have to know the length of the byte array upfront. But <code>String.format(&quot;%0&quot; + (bytes.length * 2) + &quot;x&quot;, new BigInteger(1, bytes))</code> is easy enough, if a little ugly."}],"tags":[],"owner":{"account_id":4471197,"reputation":1304,"user_id":3637482,"display_name":"Jan Martin Keil"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547801837,"creation_date":1547801837,"answer_id":54250518,"question_id":2817752,"body_markdown":"Just like some other answers, I recommend to use `String.format()` and `BigInteger`. But to interpret the byte array as [big-endian binary representation](https://en.wikipedia.org/wiki/Endianness) instead of [two&#39;s-complement binary representation](https://en.wikipedia.org/wiki/Two%27s_complement) (with signum and incomplete use of possible hex values range) use [BigInteger(int signum, byte[] magnitude)](https://docs.oracle.com/javase/8/docs/api/java/math/BigInteger.html#BigInteger-int-byte:A-), not [BigInteger(byte[] val)](https://docs.oracle.com/javase/8/docs/api/java/math/BigInteger.html#BigInteger-byte:A-).\r\n\r\nFor example, for a byte array of length 8 use:\r\n\r\n    String.format(&quot;%016X&quot;, new BigInteger(1,bytes))\r\n\r\nAdvantages:\r\n\r\n* leading zeros\r\n* no signum\r\n* only built-in functions\r\n* only one line of code\r\n\r\nDisadvantage:\r\n\r\n* there might be more efficient ways to do that\r\n\r\nExample:\r\n\r\n```java\r\nbyte[] bytes = new byte[8];\r\nRandom r = new Random();\r\nSystem.out.println(&quot;big-endian       | two&#39;s-complement&quot;);\r\nSystem.out.println(&quot;-----------------|-----------------&quot;);\r\nfor (int i = 0; i &lt; 10; i++) {\r\n\tr.nextBytes(bytes);\r\n\tSystem.out.print(String.format(&quot;%016X&quot;, new BigInteger(1,bytes)));\r\n\tSystem.out.print(&quot; | &quot;);\r\n\tSystem.out.print(String.format(&quot;%016X&quot;, new BigInteger(bytes)));\r\n\tSystem.out.println();\r\n}\r\n```\r\n\r\nExample output:\r\n\r\n```\r\nbig-endian       | two&#39;s-complement\r\n-----------------|-----------------\r\n3971B56BC7C80590 | 3971B56BC7C80590\r\n64D3C133C86CCBDC | 64D3C133C86CCBDC\r\nB232EFD5BC40FA61 | -4DCD102A43BF059F\r\nCD350CC7DF7C9731 | -32CAF338208368CF\r\n82CDC9ECC1BC8EED | -7D3236133E437113\r\nF438C8C34911A7F5 | -BC7373CB6EE580B\r\n5E99738BE6ACE798 | 5E99738BE6ACE798\r\nA565FE5CE43AA8DD | -5A9A01A31BC55723\r\n032EBA783D2E9A9F | 032EBA783D2E9A9F\r\n8FDAA07263217ABA | -70255F8D9CDE8546\r\n```","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>Just like some other answers, I recommend to use <code>String.format()</code> and <code>BigInteger</code>. But to interpret the byte array as <a href=\"https://en.wikipedia.org/wiki/Endianness\" rel=\"nofollow noreferrer\">big-endian binary representation</a> instead of <a href=\"https://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow noreferrer\">two's-complement binary representation</a> (with signum and incomplete use of possible hex values range) use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigInteger.html#BigInteger-int-byte:A-\" rel=\"nofollow noreferrer\">BigInteger(int signum, byte[] magnitude)</a>, not <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigInteger.html#BigInteger-byte:A-\" rel=\"nofollow noreferrer\">BigInteger(byte[] val)</a>.</p>\n\n<p>For example, for a byte array of length 8 use:</p>\n\n<pre><code>String.format(\"%016X\", new BigInteger(1,bytes))\n</code></pre>\n\n<p>Advantages:</p>\n\n<ul>\n<li>leading zeros</li>\n<li>no signum</li>\n<li>only built-in functions</li>\n<li>only one line of code</li>\n</ul>\n\n<p>Disadvantage:</p>\n\n<ul>\n<li>there might be more efficient ways to do that</li>\n</ul>\n\n<p>Example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>byte[] bytes = new byte[8];\nRandom r = new Random();\nSystem.out.println(\"big-endian       | two's-complement\");\nSystem.out.println(\"-----------------|-----------------\");\nfor (int i = 0; i &lt; 10; i++) {\n    r.nextBytes(bytes);\n    System.out.print(String.format(\"%016X\", new BigInteger(1,bytes)));\n    System.out.print(\" | \");\n    System.out.print(String.format(\"%016X\", new BigInteger(bytes)));\n    System.out.println();\n}\n</code></pre>\n\n<p>Example output:</p>\n\n<pre><code>big-endian       | two's-complement\n-----------------|-----------------\n3971B56BC7C80590 | 3971B56BC7C80590\n64D3C133C86CCBDC | 64D3C133C86CCBDC\nB232EFD5BC40FA61 | -4DCD102A43BF059F\nCD350CC7DF7C9731 | -32CAF338208368CF\n82CDC9ECC1BC8EED | -7D3236133E437113\nF438C8C34911A7F5 | -BC7373CB6EE580B\n5E99738BE6ACE798 | 5E99738BE6ACE798\nA565FE5CE43AA8DD | -5A9A01A31BC55723\n032EBA783D2E9A9F | 032EBA783D2E9A9F\n8FDAA07263217ABA | -70255F8D9CDE8546\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1081351,"reputation":891,"user_id":1078268,"accept_rate":100,"display_name":"Alex Jorgenson"},"score":2,"creation_date":1567715794,"post_id":54367131,"comment_id":102056674,"body_markdown":"If the leading byte has a decimal value of less than 16 you will also get a string with an odd number of hex characters.","body":"If the leading byte has a decimal value of less than 16 you will also get a string with an odd number of hex characters."}],"tags":[],"owner":{"account_id":1060062,"reputation":1639,"user_id":1061882,"display_name":"Svetlin Nakov"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1548449716,"creation_date":1548426085,"answer_id":54367131,"question_id":2817752,"body_markdown":"A short and simple way to convert `byte[]` to hex string by using `BigInteger`:\r\n\r\n    import java.math.BigInteger;\r\n\r\n    byte[] bytes = new byte[] {(byte)255, 10, 20, 30};\r\n    String hex = new BigInteger(1, bytes).toString(16);\r\n    System.out.println(hex); // ff0a141e\r\n\r\n## How It Works?\r\n\r\nThe built-in system class `java.math.BigInteger` class ([java.math.BigInteger](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigInteger.html)) is compatible with binary and hex data:\r\n\r\n - Its has a constructor `BigInteger(signum=1, byte[])` to create a big integer by `byte[]` (set its first parameter `signum` = `1` to handle correctly the negative bytes)\r\n - Use `BigInteger.toString(16)` to convert the big integer to **hex** string\r\n - To parse a hex number use `new BigInteger(&quot;ffa74b&quot;, 16)` - does not handle correctly the leading zero\r\n\r\nIf you may want to have the **leading zero** in the hex result, check its size and add the missing zero if necessary:\r\n\r\n    if (hex.length() % 2 == 1)\r\n        hex = &quot;0&quot; + hex;\r\n\r\n## Notes\r\n\r\nUse `new BigInteger(1, bytes)`, instead of `new BigInteger(bytes)`, because Java is &quot;**broken by design**&quot; and the `byte` data type does not hold bytes but signed tiny integers [-128...127]. If the first byte is negative, the `BigInteger` assumes you pass a negative big integer. Just pass `1` as first parameter (`signum=1`).\r\n\r\nThe conversion back **from hex to `byte[]`** is tricky: sometimes a leading zero enters in the produced output and it should be cleaned like this:\r\n\r\n    byte[] bytes = new BigInteger(&quot;ffa74b&quot;, 16).toByteArray();\r\n    if (bytes[0] == 0) {\r\n        byte[] newBytes = new byte[bytes.length - 1];\r\n        System.arraycopy(bytes, 1, newBytes, 0, newBytes.length);\r\n        bytes = newBytes;\r\n    }\r\n\r\nThe last note is the if the `byte[]` has several leading zeroes, they will be lost.","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>A short and simple way to convert <code>byte[]</code> to hex string by using <code>BigInteger</code>:</p>\n\n<pre><code>import java.math.BigInteger;\n\nbyte[] bytes = new byte[] {(byte)255, 10, 20, 30};\nString hex = new BigInteger(1, bytes).toString(16);\nSystem.out.println(hex); // ff0a141e\n</code></pre>\n\n<h2>How It Works?</h2>\n\n<p>The built-in system class <code>java.math.BigInteger</code> class (<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigInteger.html\" rel=\"noreferrer\">java.math.BigInteger</a>) is compatible with binary and hex data:</p>\n\n<ul>\n<li>Its has a constructor <code>BigInteger(signum=1, byte[])</code> to create a big integer by <code>byte[]</code> (set its first parameter <code>signum</code> = <code>1</code> to handle correctly the negative bytes)</li>\n<li>Use <code>BigInteger.toString(16)</code> to convert the big integer to <strong>hex</strong> string</li>\n<li>To parse a hex number use <code>new BigInteger(\"ffa74b\", 16)</code> - does not handle correctly the leading zero</li>\n</ul>\n\n<p>If you may want to have the <strong>leading zero</strong> in the hex result, check its size and add the missing zero if necessary:</p>\n\n<pre><code>if (hex.length() % 2 == 1)\n    hex = \"0\" + hex;\n</code></pre>\n\n<h2>Notes</h2>\n\n<p>Use <code>new BigInteger(1, bytes)</code>, instead of <code>new BigInteger(bytes)</code>, because Java is \"<strong>broken by design</strong>\" and the <code>byte</code> data type does not hold bytes but signed tiny integers [-128...127]. If the first byte is negative, the <code>BigInteger</code> assumes you pass a negative big integer. Just pass <code>1</code> as first parameter (<code>signum=1</code>).</p>\n\n<p>The conversion back <strong>from hex to <code>byte[]</code></strong> is tricky: sometimes a leading zero enters in the produced output and it should be cleaned like this:</p>\n\n<pre><code>byte[] bytes = new BigInteger(\"ffa74b\", 16).toByteArray();\nif (bytes[0] == 0) {\n    byte[] newBytes = new byte[bytes.length - 1];\n    System.arraycopy(bytes, 1, newBytes, 0, newBytes.length);\n    bytes = newBytes;\n}\n</code></pre>\n\n<p>The last note is the if the <code>byte[]</code> has several leading zeroes, they will be lost.</p>\n"},{"tags":[],"owner":{"account_id":257772,"reputation":3131,"user_id":539481,"accept_rate":50,"display_name":"Pawe Praak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606230494,"creation_date":1606230494,"answer_id":64989267,"question_id":2817752,"body_markdown":"If you use Tink, then there is:\r\n\r\n```java\r\npackage com.google.crypto.tink.subtle;\r\n\r\npublic final class Hex {\r\n  public static String encode(final byte[] bytes) { ... }\r\n  public static byte[] decode(String hex) { ... }\r\n}\r\n```\r\n\r\nso something like this should work:\r\n```java\r\nimport com.google.crypto.tink.subtle.Hex;\r\n\r\nbyte[] bytes = {-1, 0, 1, 2, 3 };\r\nString enc = Hex.encode(bytes);\r\nbyte[] dec = Hex.decode(enc)\r\n```","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>If you use Tink, then there is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.google.crypto.tink.subtle;\n\npublic final class Hex {\n  public static String encode(final byte[] bytes) { ... }\n  public static byte[] decode(String hex) { ... }\n}\n</code></pre>\n<p>so something like this should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.crypto.tink.subtle.Hex;\n\nbyte[] bytes = {-1, 0, 1, 2, 3 };\nString enc = Hex.encode(bytes);\nbyte[] dec = Hex.decode(enc)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609787758,"creation_date":1609787758,"answer_id":65568495,"question_id":2817752,"body_markdown":"If you like streams, here is a single-expression version of the format-and-concatenate approach:\r\n\r\n    String hex = IntStream.range(0, bytes.length)\r\n                          .map(i -&gt; bytes[i] &amp; 0xff)\r\n                          .mapToObj(b -&gt; String.format(&quot;%02x&quot;, b))\r\n                          .collect(Collectors.joining());\r\n\r\nIt&#39;s a shame there isn&#39;t a method like `Arrays::streamUnsignedBytes` for this.","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>If you like streams, here is a single-expression version of the format-and-concatenate approach:</p>\n<pre><code>String hex = IntStream.range(0, bytes.length)\n                      .map(i -&gt; bytes[i] &amp; 0xff)\n                      .mapToObj(b -&gt; String.format(&quot;%02x&quot;, b))\n                      .collect(Collectors.joining());\n</code></pre>\n<p>It's a shame there isn't a method like <code>Arrays::streamUnsignedBytes</code> for this.</p>\n"},{"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1613695095,"creation_date":1613695095,"answer_id":66270222,"question_id":2817752,"body_markdown":"# Java 17: Introducing *java.util.HexFormat*\r\n\r\nJava 17 comes with a utility to convert byte arrays and numbers to their hexadecimal counterparts. Let&#39;s say we have an MD5 digest of &quot;Hello World&quot; as a byte-array:\r\n\r\n```java\r\nvar md5 = MessageDigest.getInstance(&quot;md5&quot;);\r\nmd5.update(&quot;Hello world&quot;.getBytes(UTF_8));\r\n\r\nvar digest = md5.digest();\r\n```\r\nNow we can use the **`HexFormat.of().formatHex(byte[])`** method to convert the given `byte[]` to its hexadecimal form:\r\n```java\r\njshell&gt; HexFormat.of().formatHex(digest)\r\n$7 ==&gt; &quot;3e25960a79dbc69b674cd4ec67a72c62&quot;\r\n```\r\nThe `withUpperCase()` method returns the uppercase version of the previous output:\r\n```java\r\njshell&gt; HexFormat.of().withUpperCase().formatHex(digest)\r\n$8 ==&gt; &quot;3E25960A79DBC69B674CD4EC67A72C62&quot;\r\n```\r\n","title":"How can I convert a byte array to hexadecimal in Java?","body":"<h1>Java 17: Introducing <em>java.util.HexFormat</em></h1>\n<p>Java 17 comes with a utility to convert byte arrays and numbers to their hexadecimal counterparts. Let's say we have an MD5 digest of &quot;Hello World&quot; as a byte-array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var md5 = MessageDigest.getInstance(&quot;md5&quot;);\nmd5.update(&quot;Hello world&quot;.getBytes(UTF_8));\n\nvar digest = md5.digest();\n</code></pre>\n<p>Now we can use the <strong><code>HexFormat.of().formatHex(byte[])</code></strong> method to convert the given <code>byte[]</code> to its hexadecimal form:</p>\n<pre class=\"lang-java prettyprint-override\"><code>jshell&gt; HexFormat.of().formatHex(digest)\n$7 ==&gt; &quot;3e25960a79dbc69b674cd4ec67a72c62&quot;\n</code></pre>\n<p>The <code>withUpperCase()</code> method returns the uppercase version of the previous output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>jshell&gt; HexFormat.of().withUpperCase().formatHex(digest)\n$8 ==&gt; &quot;3E25960A79DBC69B674CD4EC67A72C62&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4829160,"reputation":159,"user_id":6994979,"display_name":"Adam D."},"score":0,"creation_date":1677890399,"post_id":66942004,"comment_id":133432974,"body_markdown":"Works good, I can&#39;t believe its not until Java 17 that this facility was added. I was trying to match MessageDigest hashes to stored hash values.","body":"Works good, I can&#39;t believe its not until Java 17 that this facility was added. I was trying to match MessageDigest hashes to stored hash values."}],"tags":[],"owner":{"account_id":3191144,"reputation":5197,"user_id":2695344,"accept_rate":42,"display_name":"Martin Kersten"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617544769,"creation_date":1617544769,"answer_id":66942004,"question_id":2817752,"body_markdown":"Just adding my two cents as I see many answers using a char array and/or using a StringBuilder instance and claiming to be fast or faster. \r\n\r\nSince I had a different idea using the ASCII table organization having 0-9 at code points 48-57 and A-F at 65-70 and a-f at 97-102, I wanted to test which idea is the fastest.\r\n\r\nSince I have not done something like that for quite some years now, I am giving this an extensive shoot out. I use 1 billion bytes in different sized arrays (1M, 1K, 10) so we have 1000 times 1M bytes per array, 1M times 1000 bytes per array and 100M times for 10 bytes per array.\r\n\r\nTurns out the char array from 1-F wins. Using a char array as output instead of a StringBuilder also wins hands down (less objects, no test of capacity and no new array nor copying when growing). Furthermore you seem to get a small penalty when using a foreach (for(var b : bytes)) loop.\r\n\r\nThe version using my idea was approx. 15% slower for 1M bytes per array, 21% slower for 1000 bytes per array and 18% slower for 10 bytes per array. The StringBuilder version was 210%, 380% and 310% slower. \r\n\r\nBad but not that unexpected as a lookup of small arrays in first level cache beats one if and an add... . (one cache access + offset calculation vs. one if, one jump, one add -&gt; not sure about the jump thou).\r\n\r\nMy version:\r\n\r\n    public static String bytesToHex(byte [] bytes) {\r\n\t\t\r\n\t\tchar [] result = new char [bytes.length * 2];\r\n\t\t\r\n\t\tfor(int index = 0; index &lt; bytes.length; index++) {\r\n\t\t\tint v = bytes[index]; \r\n\r\n\t\t\tint upper = (v &gt;&gt;&gt; 4) &amp; 0xF;\r\n\t\t\tresult[index * 2] = (char)(upper + (upper &lt; 10 ? 48 : 65 - 10));\r\n\t\t\t\r\n\t\t\tint lower = v &amp; 0xF;\r\n\t\t\tresult[index * 2 + 1] = (char)(lower + (lower &lt; 10 ? 48 : 65 - 10));\r\n\t\t}\r\n\t\t\r\n\t\treturn new String(result);\r\n\t}\r\n\r\nPS: Yes I did multiple runs and took the best run each, did warm up and also did runs with 10 billion characters to be sure same picture... .","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>Just adding my two cents as I see many answers using a char array and/or using a StringBuilder instance and claiming to be fast or faster.</p>\n<p>Since I had a different idea using the ASCII table organization having 0-9 at code points 48-57 and A-F at 65-70 and a-f at 97-102, I wanted to test which idea is the fastest.</p>\n<p>Since I have not done something like that for quite some years now, I am giving this an extensive shoot out. I use 1 billion bytes in different sized arrays (1M, 1K, 10) so we have 1000 times 1M bytes per array, 1M times 1000 bytes per array and 100M times for 10 bytes per array.</p>\n<p>Turns out the char array from 1-F wins. Using a char array as output instead of a StringBuilder also wins hands down (less objects, no test of capacity and no new array nor copying when growing). Furthermore you seem to get a small penalty when using a foreach (for(var b : bytes)) loop.</p>\n<p>The version using my idea was approx. 15% slower for 1M bytes per array, 21% slower for 1000 bytes per array and 18% slower for 10 bytes per array. The StringBuilder version was 210%, 380% and 310% slower.</p>\n<p>Bad but not that unexpected as a lookup of small arrays in first level cache beats one if and an add... . (one cache access + offset calculation vs. one if, one jump, one add -&gt; not sure about the jump thou).</p>\n<p>My version:</p>\n<pre><code>public static String bytesToHex(byte [] bytes) {\n    \n    char [] result = new char [bytes.length * 2];\n    \n    for(int index = 0; index &lt; bytes.length; index++) {\n        int v = bytes[index]; \n\n        int upper = (v &gt;&gt;&gt; 4) &amp; 0xF;\n        result[index * 2] = (char)(upper + (upper &lt; 10 ? 48 : 65 - 10));\n        \n        int lower = v &amp; 0xF;\n        result[index * 2 + 1] = (char)(lower + (lower &lt; 10 ? 48 : 65 - 10));\n    }\n    \n    return new String(result);\n}\n</code></pre>\n<p>PS: Yes I did multiple runs and took the best run each, did warm up and also did runs with 10 billion characters to be sure same picture... .</p>\n"}],"owner":{"account_id":615266,"reputation":2161,"user_id":337942,"display_name":"Vivek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386181,"favorite_count":0,"down_vote_count":0,"up_vote_count":209,"answer_count":23,"score":209,"last_activity_date":1693807375,"creation_date":1273658915,"question_id":2817752,"body_markdown":"I have an array of bytes. I want each byte String of that array to be converted to its corresponding hexadecimal value.\r\n\r\nIs there any function in Java to convert a byte array to Hexadecimal?","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>I have an array of bytes. I want each byte String of that array to be converted to its corresponding hexadecimal value.</p>\n<p>Is there any function in Java to convert a byte array to Hexadecimal?</p>\n"},{"tags":["java","oracle","oracle11g","oracle-sqldeveloper","oracle-apex"],"answers":[{"tags":[],"owner":{"display_name":"user13768246"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693805986,"creation_date":1693805986,"answer_id":77035298,"question_id":77031925,"body_markdown":"@jariola answer this question in Oracle forums and i want to share the correct answer here.\r\n&quot;Go edit your calendar region. Find attribute static id. Enter some string to that field and use that same string in JavaScript like this: &lt;p&gt; Create dynamic action that executes JavaScript when item changes &lt;p&gt;`var lMonth = &quot;2023-&quot; + this.triggeringElement.value + &quot;-01&quot;;\r\napex.region(&quot;&lt;region static id here&gt;&quot;).widget().data(&quot;fullCalendar&quot;).gotoDate(lMonth);`&quot; &lt;p&gt;Thank you very much jariola ","title":"Oracle APEX is it possible to change the calendar month when changing the month on a page item?","body":"<p>@jariola answer this question in Oracle forums and i want to share the correct answer here.\n&quot;Go edit your calendar region. Find attribute static id. Enter some string to that field and use that same string in JavaScript like this: <p> Create dynamic action that executes JavaScript when item changes <p><code>var lMonth = &quot;2023-&quot; + this.triggeringElement.value + &quot;-01&quot;; apex.region(&quot;&lt;region static id here&gt;&quot;).widget().data(&quot;fullCalendar&quot;).gotoDate(lMonth);</code>&quot; <p>Thank you very much jariola</p>\n"}],"owner":{"display_name":"user13768246"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77035298,"answer_count":1,"score":0,"last_activity_date":1693805986,"creation_date":1693737708,"question_id":77031925,"body_markdown":"because I&#39;m new to this and my JS knowledge is limited,\r\n\r\nI have P_2135_MONTH (which contains a select list of all months 01-12).\r\n\r\nCalendar always loads on current month e.g. September 2023\r\n\r\nis it possible to change the calendar month when changing the month on a page item?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dRu5S.png","title":"Oracle APEX is it possible to change the calendar month when changing the month on a page item?","body":"<p>because I'm new to this and my JS knowledge is limited,</p>\n<p>I have P_2135_MONTH (which contains a select list of all months 01-12).</p>\n<p>Calendar always loads on current month e.g. September 2023</p>\n<p>is it possible to change the calendar month when changing the month on a page item?</p>\n<p><a href=\"https://i.stack.imgur.com/dRu5S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dRu5S.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-8","partitioning"],"comments":[{"owner":{"account_id":3096665,"reputation":3441,"user_id":2621706,"accept_rate":94,"display_name":"Uwe Allner"},"score":0,"creation_date":1435042789,"post_id":30995763,"comment_id":50020677,"body_markdown":"You may have a look into Guava sourcecode and do it accordingly...?","body":"You may have a look into Guava sourcecode and do it accordingly...?"},{"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"score":0,"creation_date":1435042879,"post_id":30995763,"comment_id":50020739,"body_markdown":"Wring a function in plain java is not a problem, but JDK8 have some great features with streaming and operations on collections, and I assume it would be faster than writing own code. But that is only my assumption.","body":"Wring a function in plain java is not a problem, but JDK8 have some great features with streaming and operations on collections, and I assume it would be faster than writing own code. But that is only my assumption."},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":0,"creation_date":1435042901,"post_id":30995763,"comment_id":50020746,"body_markdown":"I marked it as possible duplicate as Java-8 solution is also available there.","body":"I marked it as possible duplicate as Java-8 solution is also available there."},{"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"score":0,"creation_date":1435044434,"post_id":30995763,"comment_id":50021659,"body_markdown":"Yes, I have seen that Question, but I missed Jdk8 solution, thanks:)","body":"Yes, I have seen that Question, but I missed Jdk8 solution, thanks:)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1435044645,"post_id":30995763,"comment_id":50021763,"body_markdown":"Also discussed [here](http://stackoverflow.com/q/28210775/2711488)","body":"Also discussed <a href=\"http://stackoverflow.com/q/28210775/2711488\">here</a>"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":0,"creation_date":1435051584,"post_id":30995763,"comment_id":50026048,"body_markdown":"@Holger, by the way just noticed that there are corner cases when list size or chunk size is close to `Integer.MAX_VALUE` and integer overflow is possible. Your answer has the same problem. I edited my answer in linked question.","body":"@Holger, by the way just noticed that there are corner cases when list size or chunk size is close to <code>Integer.MAX_VALUE</code> and integer overflow is possible. Your answer has the same problem. I edited my answer in linked question."},{"owner":{"account_id":6274802,"reputation":2986,"user_id":4877782,"display_name":"Shivkumar Birnale"},"score":0,"creation_date":1569593497,"post_id":30995763,"comment_id":102659090,"body_markdown":"Does it work the same way for List&lt;String&gt;?","body":"Does it work the same way for List&lt;String&gt;?"},{"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"score":0,"creation_date":1569608727,"post_id":30995763,"comment_id":102665934,"body_markdown":"Soliton 4 will work. Or use custom collector.","body":"Soliton 4 will work. Or use custom collector."}],"answers":[{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"comment_count":0,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1554704855,"creation_date":1435042910,"answer_id":30995931,"question_id":30995763,"body_markdown":"That can be done easily using the `subList()` method:\r\n\r\n\tList&lt;String&gt; collection = new ArrayList&lt;&gt;(21);\r\n\t// fill collection\r\n\tint chunkSize = 10;\r\n\tList&lt;List&lt;String&gt;&gt; lists = new ArrayList&lt;&gt;();\r\n\tfor (int i = 0; i &lt; collection.size(); i += chunkSize) {\r\n\t\tint end = Math.min(collection.size(), i + chunkSize);\r\n\t\tlists.add(collection.subList(i, end));\r\n\t}","title":"Java 8 partition list","body":"<p>That can be done easily using the <code>subList()</code> method:</p>\n\n<pre><code>List&lt;String&gt; collection = new ArrayList&lt;&gt;(21);\n// fill collection\nint chunkSize = 10;\nList&lt;List&lt;String&gt;&gt; lists = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; collection.size(); i += chunkSize) {\n    int end = Math.min(collection.size(), i + chunkSize);\n    lists.add(collection.subList(i, end));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8315618,"reputation":103,"user_id":6249027,"display_name":"chabbi aissa"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1532957806,"creation_date":1532953944,"answer_id":51594060,"question_id":30995763,"body_markdown":"Try using this code, it uses Java 8:\r\n\r\n    public static Collection&lt;List&lt;Integer&gt;&gt; splitListBySize(List&lt;Integer&gt; intList, int size) {\r\n\r\n\t\tif (!intList.isEmpty() &amp;&amp; size &gt; 0) {\r\n\t\t\tfinal AtomicInteger counter = new AtomicInteger(0);\r\n\t\t\treturn intList.stream().collect(Collectors.groupingBy(it -&gt; counter.getAndIncrement() / size)).values();\r\n\t\t}\r\n\t\treturn null;\r\n\t}","title":"Java 8 partition list","body":"<p>Try using this code, it uses Java 8:</p>\n\n<pre><code>public static Collection&lt;List&lt;Integer&gt;&gt; splitListBySize(List&lt;Integer&gt; intList, int size) {\n\n    if (!intList.isEmpty() &amp;&amp; size &gt; 0) {\n        final AtomicInteger counter = new AtomicInteger(0);\n        return intList.stream().collect(Collectors.groupingBy(it -&gt; counter.getAndIncrement() / size)).values();\n    }\n    return null;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"score":0,"creation_date":1693646051,"post_id":55580266,"comment_id":135790376,"body_markdown":"The fact that we are making a copy of objects and clearing the existing `total.add(new ArrayList&lt;&gt;(batch));batch.clear();` is computation inefficient compared to the sublist implementation mentioned in @Robert&#39;s answer as sublist just represents view.","body":"The fact that we are making a copy of objects and clearing the existing <code>total.add(new ArrayList&lt;&gt;(batch));batch.clear();</code> is computation inefficient compared to the sublist implementation mentioned in @Robert&#39;s answer as sublist just represents view."}],"tags":[],"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693805641,"creation_date":1554750744,"answer_id":55580266,"question_id":30995763,"body_markdown":"I have tried my own solution with a custom made Collector. I hope someone will find it useful, or help me improve it.\r\n\r\n    class PartitioningCollector&lt;T&gt; implements Collector&lt;T, List&lt;List&lt;T&gt;&gt;, List&lt;List&lt;T&gt;&gt;&gt; {\r\n    \r\n            private final int batchSize;\r\n            private final List&lt;T&gt; batch;\r\n    \r\n            public PartitioningCollector(int batchSize) {\r\n                this.batchSize = batchSize;\r\n                this.batch = new ArrayList&lt;&gt;(batchSize);\r\n            }\r\n    \r\n            @Override\r\n            public Supplier&lt;List&lt;List&lt;T&gt;&gt;&gt; supplier() {\r\n                return LinkedList::new;\r\n            }\r\n    \r\n            @Override\r\n            public BiConsumer&lt;List&lt;List&lt;T&gt;&gt;, T&gt; accumulator() {\r\n                return (total, element) -&gt; {\r\n                    batch.add(element);\r\n                    if (batch.size() &gt;= batchSize) {\r\n                        total.add(batch);\r\n                        batch = new ArrayList&lt;&gt;(batchSize);\r\n                    }\r\n                };\r\n            }\r\n    \r\n            @Override\r\n            public BinaryOperator&lt;List&lt;List&lt;T&gt;&gt;&gt; combiner() {\r\n                return (left, right) -&gt; {\r\n                    List&lt;List&lt;T&gt;&gt; result = new ArrayList&lt;&gt;();\r\n                    result.addAll(left);\r\n                    result.addAll(left);\r\n                    return result;\r\n                };\r\n            }\r\n    \r\n            @Override\r\n            public Function&lt;List&lt;List&lt;T&gt;&gt;, List&lt;List&lt;T&gt;&gt;&gt; finisher() {\r\n                return result -&gt; {\r\n                    if (!batch.isEmpty()) {\r\n                        total.add(batch);\r\n                        batch = new ArrayList&lt;&gt;(batchSize);\r\n                    }\r\n                    return result;\r\n                };\r\n            }\r\n    \r\n            @Override\r\n            public Set&lt;Characteristics&gt; characteristics() {\r\n                return emptySet();\r\n            }\r\n        }","title":"Java 8 partition list","body":"<p>I have tried my own solution with a custom made Collector. I hope someone will find it useful, or help me improve it.</p>\n<pre><code>class PartitioningCollector&lt;T&gt; implements Collector&lt;T, List&lt;List&lt;T&gt;&gt;, List&lt;List&lt;T&gt;&gt;&gt; {\n\n        private final int batchSize;\n        private final List&lt;T&gt; batch;\n\n        public PartitioningCollector(int batchSize) {\n            this.batchSize = batchSize;\n            this.batch = new ArrayList&lt;&gt;(batchSize);\n        }\n\n        @Override\n        public Supplier&lt;List&lt;List&lt;T&gt;&gt;&gt; supplier() {\n            return LinkedList::new;\n        }\n\n        @Override\n        public BiConsumer&lt;List&lt;List&lt;T&gt;&gt;, T&gt; accumulator() {\n            return (total, element) -&gt; {\n                batch.add(element);\n                if (batch.size() &gt;= batchSize) {\n                    total.add(batch);\n                    batch = new ArrayList&lt;&gt;(batchSize);\n                }\n            };\n        }\n\n        @Override\n        public BinaryOperator&lt;List&lt;List&lt;T&gt;&gt;&gt; combiner() {\n            return (left, right) -&gt; {\n                List&lt;List&lt;T&gt;&gt; result = new ArrayList&lt;&gt;();\n                result.addAll(left);\n                result.addAll(left);\n                return result;\n            };\n        }\n\n        @Override\n        public Function&lt;List&lt;List&lt;T&gt;&gt;, List&lt;List&lt;T&gt;&gt;&gt; finisher() {\n            return result -&gt; {\n                if (!batch.isEmpty()) {\n                    total.add(batch);\n                    batch = new ArrayList&lt;&gt;(batchSize);\n                }\n                return result;\n            };\n        }\n\n        @Override\n        public Set&lt;Characteristics&gt; characteristics() {\n            return emptySet();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1492447,"reputation":2094,"user_id":1399223,"display_name":"Mohamed.Abdo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561730733,"creation_date":1561730733,"answer_id":56808442,"question_id":30995763,"body_markdown":"    private final String dataSheet = &quot;103343262,6478342944, 103426540,84528784843, 103278808,263716791426, 103426733,27736529279, \r\n    103426000,27718159078, 103218982,19855201547, 103427376,27717278645, \r\n    103243034,81667273413&quot;;\r\n\r\n        final int chunk = 2;\r\n        AtomicInteger counter = new AtomicInteger();\r\n        Collection&lt;List&lt;String&gt;&gt; chuncks= Arrays.stream(dataSheet.split(&quot;,&quot;))\r\n                .map(String::trim)\r\n                .collect(Collectors.groupingBy(i-&gt;counter.getAndIncrement()/chunk))\r\n                .values();\r\n\r\n&gt; result:\r\n\r\n    pairs =\r\n     &quot;103218982&quot; -&gt; &quot;19855201547&quot;\r\n     &quot;103278808&quot; -&gt; &quot;263716791426&quot;\r\n     &quot;103243034&quot; -&gt; &quot;81667273413&quot;\r\n     &quot;103426733&quot; -&gt; &quot;27736529279&quot;\r\n     &quot;103426540&quot; -&gt; &quot;84528784843&quot;\r\n     &quot;103427376&quot; -&gt; &quot;27717278645&quot;\r\n     &quot;103426000&quot; -&gt; &quot;27718159078&quot;\r\n     &quot;103343262&quot; -&gt; &quot;6478342944&quot;\r\n\r\n&gt; We need to group each 2 elements into key, value pairs, so will partion the list into chunks of 2, (counter.getAndIncrement() / 2) will result same number each 2 hits ex:\r\n\r\n    IntStream.range(0,6).forEach((i)-&gt;System.out.println(counter.getAndIncrement()/2));\r\n    prints:\r\n    0\r\n    0\r\n    1\r\n    1\r\n    2\r\n    2\r\n\r\n&gt; You may ajust chunk sizee to partition lists sizes.","title":"Java 8 partition list","body":"<pre><code>private final String dataSheet = \"103343262,6478342944, 103426540,84528784843, 103278808,263716791426, 103426733,27736529279, \n103426000,27718159078, 103218982,19855201547, 103427376,27717278645, \n103243034,81667273413\";\n\n    final int chunk = 2;\n    AtomicInteger counter = new AtomicInteger();\n    Collection&lt;List&lt;String&gt;&gt; chuncks= Arrays.stream(dataSheet.split(\",\"))\n            .map(String::trim)\n            .collect(Collectors.groupingBy(i-&gt;counter.getAndIncrement()/chunk))\n            .values();\n</code></pre>\n\n<blockquote>\n  <p>result:</p>\n</blockquote>\n\n<pre><code>pairs =\n \"103218982\" -&gt; \"19855201547\"\n \"103278808\" -&gt; \"263716791426\"\n \"103243034\" -&gt; \"81667273413\"\n \"103426733\" -&gt; \"27736529279\"\n \"103426540\" -&gt; \"84528784843\"\n \"103427376\" -&gt; \"27717278645\"\n \"103426000\" -&gt; \"27718159078\"\n \"103343262\" -&gt; \"6478342944\"\n</code></pre>\n\n<blockquote>\n  <p>We need to group each 2 elements into key, value pairs, so will partion the list into chunks of 2, (counter.getAndIncrement() / 2) will result same number each 2 hits ex:</p>\n</blockquote>\n\n<pre><code>IntStream.range(0,6).forEach((i)-&gt;System.out.println(counter.getAndIncrement()/2));\nprints:\n0\n0\n1\n1\n2\n2\n</code></pre>\n\n<blockquote>\n  <p>You may ajust chunk sizee to partition lists sizes.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"score":2,"creation_date":1605781394,"post_id":64909633,"comment_id":114759499,"body_markdown":"The point of this question os to not use any external libs.","body":"The point of this question os to not use any external libs."},{"owner":{"account_id":7332798,"reputation":689,"user_id":5585130,"display_name":"Mario Codes"},"score":0,"creation_date":1605781756,"post_id":64909633,"comment_id":114759665,"body_markdown":"Hello and welcome to StackOverflow. Please, read the question before answering. It says he wants to use pure Jdk8. This is, without libraries such as Guava.","body":"Hello and welcome to StackOverflow. Please, read the question before answering. It says he wants to use pure Jdk8. This is, without libraries such as Guava."}],"tags":[],"owner":{"account_id":20011158,"reputation":1,"user_id":14668148,"display_name":"Andreas"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1605781169,"creation_date":1605781169,"answer_id":64909633,"question_id":30995763,"body_markdown":"Guava Lists class has a partition() method that does exactly this. See https://guava.dev/releases/21.0/api/docs/com/google/common/collect/Lists.html#partition-java.util.List-int-","title":"Java 8 partition list","body":"<p>Guava Lists class has a partition() method that does exactly this. See <a href=\"https://guava.dev/releases/21.0/api/docs/com/google/common/collect/Lists.html#partition-java.util.List-int-\" rel=\"nofollow noreferrer\">https://guava.dev/releases/21.0/api/docs/com/google/common/collect/Lists.html#partition-java.util.List-int-</a></p>\n"}],"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40213,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":30995931,"answer_count":5,"score":25,"last_activity_date":1693805641,"creation_date":1435042342,"question_id":30995763,"body_markdown":"Is it possible to partition a List in pure Jdk8 into equal chunks (sublists).\r\n\r\nI know it is possible using Guava [Lists][1] class, but can we do it with pure Jdk? I don&#39;t want to add new jars to my project, just for one use case.\r\n\r\n\r\n**SOLUTONS**:\r\n\r\nThe best solution till now was presented by [tagir-valeev][2]:\r\n\r\n\r\nI have also found [three other possibilities][3], but they are ment for only few cases:\r\n\r\n 1.Collectors.partitioningBy() to split the list into 2 sublists  as follows:\r\n\r\n    intList.stream().collect(Collectors.partitioningBy(s -&gt; s &gt; 6));\r\n        List&lt;List&lt;Integer&gt;&gt; subSets = new ArrayList&lt;List&lt;Integer&gt;&gt;(groups.values());\r\n\r\n 2.Collectors.groupingBy() to split our list to multiple partitions:\r\n\r\n     Map&lt;Integer, List&lt;Integer&gt;&gt; groups = \r\n          intList.stream().collect(Collectors.groupingBy(s -&gt; (s - 1) / 3));\r\n        List&lt;List&lt;Integer&gt;&gt; subSets = new ArrayList&lt;List&lt;Integer&gt;&gt;(groups.values());\r\n\r\n3.Split by separator:\r\n\r\n    List&lt;Integer&gt; intList = Lists.newArrayList(1, 2, 3, 0, 4, 5, 6, 0, 7, 8);\r\n     \r\n        int[] indexes = \r\n          Stream.of(IntStream.of(-1), IntStream.range(0, intList.size())\r\n          .filter(i -&gt; intList.get(i) == 0), IntStream.of(intList.size()))\r\n          .flatMapToInt(s -&gt; s).toArray();\r\n        List&lt;List&lt;Integer&gt;&gt; subSets = \r\n          IntStream.range(0, indexes.length - 1)\r\n                   .mapToObj(i -&gt; intList.subList(indexes[i] + 1, indexes[i + 1]))\r\n                   .collect(Collectors.toList());\r\n\r\n\r\n4.Using Streams + counter [source][4]:\r\n\r\n    final List&lt;Integer&gt; numbers = Arrays.asList(1,2,3,4,5,6,7);\r\n    final int chunkSize = 3;\r\n    final AtomicInteger counter = new AtomicInteger();\r\n    \r\n    final Collection&lt;List&lt;Integer&gt;&gt; result = numbers.stream()\r\n        .collect(Collectors.groupingBy(it -&gt; counter.getAndIncrement() / chunkSize))\r\n        .values();\r\n   \r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Lists.html\r\n  [2]: https://stackoverflow.com/questions/32434592/partition-a-java-8-stream\r\n  [3]: http://www.baeldung.com/java-list-split\r\n  [4]: https://e.printstacktrace.blog/divide-a-list-to-lists-of-n-size-in-Java-8/","title":"Java 8 partition list","body":"<p>Is it possible to partition a List in pure Jdk8 into equal chunks (sublists).</p>\n\n<p>I know it is possible using Guava <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Lists.html\" rel=\"noreferrer\">Lists</a> class, but can we do it with pure Jdk? I don't want to add new jars to my project, just for one use case.</p>\n\n<p><strong>SOLUTONS</strong>:</p>\n\n<p>The best solution till now was presented by <a href=\"https://stackoverflow.com/questions/32434592/partition-a-java-8-stream\">tagir-valeev</a>:</p>\n\n<p>I have also found <a href=\"http://www.baeldung.com/java-list-split\" rel=\"noreferrer\">three other possibilities</a>, but they are ment for only few cases:</p>\n\n<p>1.Collectors.partitioningBy() to split the list into 2 sublists  as follows:</p>\n\n<pre><code>intList.stream().collect(Collectors.partitioningBy(s -&gt; s &gt; 6));\n    List&lt;List&lt;Integer&gt;&gt; subSets = new ArrayList&lt;List&lt;Integer&gt;&gt;(groups.values());\n</code></pre>\n\n<p>2.Collectors.groupingBy() to split our list to multiple partitions:</p>\n\n<pre><code> Map&lt;Integer, List&lt;Integer&gt;&gt; groups = \n      intList.stream().collect(Collectors.groupingBy(s -&gt; (s - 1) / 3));\n    List&lt;List&lt;Integer&gt;&gt; subSets = new ArrayList&lt;List&lt;Integer&gt;&gt;(groups.values());\n</code></pre>\n\n<p>3.Split by separator:</p>\n\n<pre><code>List&lt;Integer&gt; intList = Lists.newArrayList(1, 2, 3, 0, 4, 5, 6, 0, 7, 8);\n\n    int[] indexes = \n      Stream.of(IntStream.of(-1), IntStream.range(0, intList.size())\n      .filter(i -&gt; intList.get(i) == 0), IntStream.of(intList.size()))\n      .flatMapToInt(s -&gt; s).toArray();\n    List&lt;List&lt;Integer&gt;&gt; subSets = \n      IntStream.range(0, indexes.length - 1)\n               .mapToObj(i -&gt; intList.subList(indexes[i] + 1, indexes[i + 1]))\n               .collect(Collectors.toList());\n</code></pre>\n\n<p>4.Using Streams + counter <a href=\"https://e.printstacktrace.blog/divide-a-list-to-lists-of-n-size-in-Java-8/\" rel=\"noreferrer\">source</a>:</p>\n\n<pre><code>final List&lt;Integer&gt; numbers = Arrays.asList(1,2,3,4,5,6,7);\nfinal int chunkSize = 3;\nfinal AtomicInteger counter = new AtomicInteger();\n\nfinal Collection&lt;List&lt;Integer&gt;&gt; result = numbers.stream()\n    .collect(Collectors.groupingBy(it -&gt; counter.getAndIncrement() / chunkSize))\n    .values();\n</code></pre>\n"},{"tags":["java","multithreading","threadpoolexecutor"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1693806791,"post_id":77035274,"comment_id":135803926,"body_markdown":"I think the exercise is looking for you to use a _priority queue_.","body":"I think the exercise is looking for you to use a <i>priority queue</i>."},{"owner":{"account_id":22115554,"reputation":31,"user_id":16395987,"display_name":"Xhyub"},"score":0,"creation_date":1693978039,"post_id":77035274,"comment_id":135829038,"body_markdown":"Yes I thought about priority but there tasks would be ordered like in an OS, here it&#39;s just a phone call to be answered by the next available, simple enough right? I did go with my solution after reading this https://medium.com/javarevisited/thread-pools-in-java-why-use-multiple-thread-pools-in-an-application-2d06d0fa4d79.","body":"Yes I thought about priority but there tasks would be ordered like in an OS, here it&#39;s just a phone call to be answered by the next available, simple enough right? I did go with my solution after reading this <a href=\"https://medium.com/javarevisited/thread-pools-in-java-why-use-multiple-thread-pools-in-an-application-2d06d0fa4d79\" rel=\"nofollow noreferrer\">medium.com/javarevisited/&hellip;</a>."}],"owner":{"account_id":22115554,"reputation":31,"user_id":16395987,"display_name":"Xhyub"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693805626,"creation_date":1693805626,"question_id":77035274,"body_markdown":"Hi I wanted to ask is there a way for multiple ThreadPoolExector types to poll tasks of a global queue? It is for an exercise out of a book which asks to design some OOP code for a Call Centre. There are three types of respondents in the callcentre and form a priority of who takes the call first.\r\n\r\n    public class Centre {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        // initialize resources\r\n        CallScheduler scheduler = new CallScheduler();\r\n        scheduler.initCallQueue();\r\n\r\n        // set up roster here\r\n        int n_respondents = 6;\r\n        int n_managers = 5;\r\n        int n_directors = 3;\r\n\r\n        scheduler.initRosterExecutors(n_respondents, n_managers, n_directors);\r\n\r\n        // listen for incoming client requests\r\n        try {\r\n\r\n            ServerSocket server = new ServerSocket(SERVICE_PORT);\r\n            System.out.println(&quot;Call Centre started.&quot;);\r\n\r\n            for (;;) {\r\n\r\n                Socket nxt_cal = server.accept();\r\n\r\n                System.out.println(&quot;Received call from &quot; + nxt_cal.getInetAddress() + &quot;:&quot;\r\n                        + nxt_cal.getPort());\r\n\r\n                scheduler.dispatchCall(nxt_cal);\r\n                Logger.global.fine(&quot;Dispatched Call.);\r\n\r\n                // Close the connection\r\n                nxt_cal.close();\r\n            }\r\n        }\r\n\r\nI&#39;m able to dispatch the call to a queue and have only a single object type run the worker tasks. This is not as per the requirements of the center, I need to have all three types polling for available tasks. I thought I would use the ThreadPoolExecutor class with its maximumPoolSize and declare multiple types and perhaps manage with some kind of state machine. \r\n\r\n    public static void initRosterExecutors(int res, int man, int dir) {\r\n\r\n        final int first_to_the_call = 1;\r\n\r\n        res_executor =\r\n                new RespondentExecutor(first_to_the_call, res, 5, TimeUnit.SECONDS,\r\n                        bqu, new RespondentExecutor.AbortPolicy());\r\n\r\n        res_executor.prestartAllCoreThreads();\r\n\r\n        man_executor =\r\n                new RespondentExecutor(first_to_the_call, man, 5, TimeUnit.SECONDS,\r\n                        bqu, new RespondentExecutor.AbortPolicy());\r\n\r\n        man_executor.prestartAllCoreThreads();\r\n\r\n        dir_executor =\r\n                new RespondentExecutor(first_to_the_call, dir, 5, TimeUnit.SECONDS,\r\n                        bqu, new RespondentExecutor.AbortPolicy());\r\n\r\n        dir_executor.prestartAllCoreThreads();\r\n\r\n    }\r\n\r\nAny recommendation is appreciated.\r\n\r\n","title":"Multiple ThreadPoolExecutor types refer to one task queue","body":"<p>Hi I wanted to ask is there a way for multiple ThreadPoolExector types to poll tasks of a global queue? It is for an exercise out of a book which asks to design some OOP code for a Call Centre. There are three types of respondents in the callcentre and form a priority of who takes the call first.</p>\n<pre><code>public class Centre {\n\npublic static void main(String[] args) {\n\n    // initialize resources\n    CallScheduler scheduler = new CallScheduler();\n    scheduler.initCallQueue();\n\n    // set up roster here\n    int n_respondents = 6;\n    int n_managers = 5;\n    int n_directors = 3;\n\n    scheduler.initRosterExecutors(n_respondents, n_managers, n_directors);\n\n    // listen for incoming client requests\n    try {\n\n        ServerSocket server = new ServerSocket(SERVICE_PORT);\n        System.out.println(&quot;Call Centre started.&quot;);\n\n        for (;;) {\n\n            Socket nxt_cal = server.accept();\n\n            System.out.println(&quot;Received call from &quot; + nxt_cal.getInetAddress() + &quot;:&quot;\n                    + nxt_cal.getPort());\n\n            scheduler.dispatchCall(nxt_cal);\n            Logger.global.fine(&quot;Dispatched Call.);\n\n            // Close the connection\n            nxt_cal.close();\n        }\n    }\n</code></pre>\n<p>I'm able to dispatch the call to a queue and have only a single object type run the worker tasks. This is not as per the requirements of the center, I need to have all three types polling for available tasks. I thought I would use the ThreadPoolExecutor class with its maximumPoolSize and declare multiple types and perhaps manage with some kind of state machine.</p>\n<pre><code>public static void initRosterExecutors(int res, int man, int dir) {\n\n    final int first_to_the_call = 1;\n\n    res_executor =\n            new RespondentExecutor(first_to_the_call, res, 5, TimeUnit.SECONDS,\n                    bqu, new RespondentExecutor.AbortPolicy());\n\n    res_executor.prestartAllCoreThreads();\n\n    man_executor =\n            new RespondentExecutor(first_to_the_call, man, 5, TimeUnit.SECONDS,\n                    bqu, new RespondentExecutor.AbortPolicy());\n\n    man_executor.prestartAllCoreThreads();\n\n    dir_executor =\n            new RespondentExecutor(first_to_the_call, dir, 5, TimeUnit.SECONDS,\n                    bqu, new RespondentExecutor.AbortPolicy());\n\n    dir_executor.prestartAllCoreThreads();\n\n}\n</code></pre>\n<p>Any recommendation is appreciated.</p>\n"},{"tags":["java","bluej"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1692616358,"post_id":76941854,"comment_id":135643047,"body_markdown":"Your image is not clear!","body":"Your image is not clear!"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1692616757,"post_id":76941854,"comment_id":135643123,"body_markdown":"What platform are you on? Is it Windows?","body":"What platform are you on? Is it Windows?"}],"answers":[{"tags":[],"owner":{"account_id":29264205,"reputation":1,"user_id":22420360,"display_name":"esauxbonilla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693805021,"creation_date":1693682433,"answer_id":77029733,"question_id":76941854,"body_markdown":"I already solved this problem, I had to put\r\n```none\r\n.root {\r\n\r\n   -fx-font-family: Source Sans Pro&quot;;\r\n\r\n}\r\n```\r\non every CSS file in `lib\\stylesheets` folder.\r\n\r\nIf you want any help with this one-in-a-million chance problem, feel free to send me a message :)","title":"How can I fix this strange text in Blue J","body":"<p>I already solved this problem, I had to put</p>\n<pre class=\"lang-none prettyprint-override\"><code>.root {\n\n   -fx-font-family: Source Sans Pro&quot;;\n\n}\n</code></pre>\n<p>on every CSS file in <code>lib\\stylesheets</code> folder.</p>\n<p>If you want any help with this one-in-a-million chance problem, feel free to send me a message :)</p>\n"}],"owner":{"account_id":29264205,"reputation":1,"user_id":22420360,"display_name":"esauxbonilla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693805021,"creation_date":1692579132,"question_id":76941854,"body_markdown":"I downloaded the program from the official website, had a normal installation, and literally without move anything, I got this strange language text, I tried to change language in preferences trying to guess every option because I don&#39;t understand anything, and I didn&#39;t get any change, I don&#39;t know what it&#39;s due to, I&#39;m from Mexico, I speak Spanish and everything on my laptop is either in Spanish or English.\r\n\r\nI would really appreciate it if someone could help me since I will use this program this semester at my university but the numbers and letters in the interface are too different to keep up with the teacher.\r\n \r\nThanks in advance.\r\n \r\nI will attach the images.\r\n[Image](https://i.stack.imgur.com/YQbEW.png)\r\n\r\nI tried like 4 versions and trying in another website but it didnt work. \r\n\r\nMy O.S. is Windows 10","title":"How can I fix this strange text in Blue J","body":"<p>I downloaded the program from the official website, had a normal installation, and literally without move anything, I got this strange language text, I tried to change language in preferences trying to guess every option because I don't understand anything, and I didn't get any change, I don't know what it's due to, I'm from Mexico, I speak Spanish and everything on my laptop is either in Spanish or English.</p>\n<p>I would really appreciate it if someone could help me since I will use this program this semester at my university but the numbers and letters in the interface are too different to keep up with the teacher.</p>\n<p>Thanks in advance.</p>\n<p>I will attach the images.\n<a href=\"https://i.stack.imgur.com/YQbEW.png\" rel=\"nofollow noreferrer\">Image</a></p>\n<p>I tried like 4 versions and trying in another website but it didnt work.</p>\n<p>My O.S. is Windows 10</p>\n"},{"tags":["java","hadoop","hbase"],"comments":[{"owner":{"account_id":1282715,"reputation":1912,"user_id":1236447,"display_name":"th30z"},"score":0,"creation_date":1441036624,"post_id":32310315,"comment_id":52505554,"body_markdown":"the error is right there in the message:\nNoSuchColumnFamilyException: Column family ColumnFamily1does not exist in region. make sure that colfamily has a valid name. check your table families with &quot;describe&quot; from the shell","body":"the error is right there in the message: NoSuchColumnFamilyException: Column family ColumnFamily1does not exist in region. make sure that colfamily has a valid name. check your table families with &quot;describe&quot; from the shell"},{"owner":{"account_id":6832054,"reputation":1,"user_id":5255643,"display_name":"Adi Dhoooollll"},"score":0,"creation_date":1441049902,"post_id":32310315,"comment_id":52512353,"body_markdown":"As the &quot;description&quot; of the table is little long, I have added that as a separate answer, Kindly have a look","body":"As the &quot;description&quot; of the table is little long, I have added that as a separate answer, Kindly have a look"}],"answers":[{"tags":[],"owner":{"account_id":7403706,"reputation":709,"user_id":5633255,"display_name":"Matiji66"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499997229,"creation_date":1499945503,"answer_id":45079369,"question_id":32310315,"body_markdown":"For my case make sure all region on line:\r\ncheck you region count and you region data file count in hdfs. \r\nIf they are different, you need try to fix hbase metadata.\r\n","title":"HBase : Failed to store data (org.apache.hadoop.hbase.client.RetriesExhaustedWithDetailsException)","body":"<p>For my case make sure all region on line:\ncheck you region count and you region data file count in hdfs. \nIf they are different, you need try to fix hbase metadata.</p>\n"}],"owner":{"account_id":6832054,"reputation":1,"user_id":5255643,"display_name":"Adi Dhoooollll"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10606,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693803955,"creation_date":1441020991,"question_id":32310315,"body_markdown":"Unable to store data using table.put(p) method, Which is throwing an exception:\r\n\r\n    Exception in thread &quot;main&quot; org.apache.hadoop.hbase.client.RetriesExhaustedWithDetailsException: Failed 1 action: org.apache.hadoop.hbase.regionserver.NoSuchColumnFamilyException\r\n\r\nPlease check below for complete exception details:\r\n\r\n    Exception in thread &quot;main&quot; org.apache.hadoop.hbase.client.RetriesExhaustedWithDetailsException: Failed 1 action: org.apache.hadoop.hbase.regionserver.NoSuchColumnFamilyException: Column family ColumnFamily1 \r\n     does not exist in region hbasesample2,,1440880732948.e63f5e1b82327208a862a98b302b9c85. in table &#39;hbasesample2&#39;, {NAME =&gt; &#39;ColumnFamily1 &#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, COMPRESSION =&gt; &#39;NONE&#39;, VERSIONS =&gt; &#39;1&#39;, TTL =&gt; &#39;FOREVER&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}, {NAME =&gt; &#39;ColumnFamily10&#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, COMPRESSION =&gt; &#39;NONE&#39;, VERSIONS =&gt; &#39;1&#39;, TTL =&gt; &#39;FOREVER&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}, {NAME =&gt; &#39;ColumnFamily2&#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, COMPRESSION =&gt; &#39;NONE&#39;, VERSIONS =&gt; &#39;1&#39;, TTL =&gt; &#39;FOREVER&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}, {NAME =&gt; &#39;ColumnFamily3&#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, COMPRESSION =&gt; &#39;NONE&#39;, VERSIONS =&gt; &#39;1&#39;, TTL =&gt; &#39;FOREVER&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}, {NAME =&gt; &#39;ColumnFamily4&#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, COMPRESSION =&gt; &#39;NONE&#39;, VERSIONS =&gt; &#39;1&#39;, TTL =&gt; &#39;FOREVER&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}, {NAME =&gt; &#39;ColumnFamily5&#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, COMPRESSION =&gt; &#39;NONE&#39;, VERSIONS =&gt; &#39;1&#39;, TTL =&gt; &#39;FOREVER&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}, {NAME =&gt; &#39;ColumnFamily6&#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, COMPRESSION =&gt; &#39;NONE&#39;, VERSIONS =&gt; &#39;1&#39;, TTL =&gt; &#39;FOREVER&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}, {NAME =&gt; &#39;ColumnFamily7&#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, COMPRESSION =&gt; &#39;NONE&#39;, VERSIONS =&gt; &#39;1&#39;, TTL =&gt; &#39;FOREVER&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}, {NAME =&gt; &#39;ColumnFamily8&#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, COMPRESSION =&gt; &#39;NONE&#39;, VERSIONS =&gt; &#39;1&#39;, TTL =&gt; &#39;FOREVER&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}, {NAME =&gt; &#39;ColumnFamily9&#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, COMPRESSION =&gt; &#39;NONE&#39;, VERSIONS =&gt; &#39;1&#39;, TTL =&gt; &#39;FOREVER&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}\r\n    \tat org.apache.hadoop.hbase.regionserver.RSRpcServices.doBatchOp(RSRpcServices.java:659)\r\n    \tat org.apache.hadoop.hbase.regionserver.RSRpcServices.doNonAtomicRegionMutation(RSRpcServices.java:615)\r\n    \tat org.apache.hadoop.hbase.regionserver.RSRpcServices.multi(RSRpcServices.java:1896)\r\n    \tat org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:31451)\r\n    \tat org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2035)\r\n    \tat org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:107)\r\n    \tat org.apache.hadoop.hbase.ipc.RpcExecutor.consumerLoop(RpcExecutor.java:130)\r\n    \tat org.apache.hadoop.hbase.ipc.RpcExecutor$1.run(RpcExecutor.java:107)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    : 1 time, \r\n    \tat org.apache.hadoop.hbase.client.AsyncProcess$BatchErrors.makeException(AsyncProcess.java:227)\r\n    \tat org.apache.hadoop.hbase.client.AsyncProcess$BatchErrors.access$1700(AsyncProcess.java:207)\r\n    \tat org.apache.hadoop.hbase.client.AsyncProcess.waitForAllPreviousOpsAndReset(AsyncProcess.java:1658)\r\n    \tat org.apache.hadoop.hbase.client.BufferedMutatorImpl.backgroundFlushCommits(BufferedMutatorImpl.java:208)\r\n    \tat org.apache.hadoop.hbase.client.BufferedMutatorImpl.flush(BufferedMutatorImpl.java:183)\r\n    \tat org.apache.hadoop.hbase.client.HTable.flushCommits(HTable.java:1482)\r\n    \tat org.apache.hadoop.hbase.client.HTable.put(HTable.java:1095)\r\n    \tat Hbase.Hbase_Auto.main(Hbase_Auto.java:93)\r\n\r\nHere is the code snippet :\r\n\r\n    p.addColumn(Bytes.toBytes(colfamily),Bytes.toBytes(column),Bytes.toBytes(temp));\r\n    table.put(p);\r\n\t\r\nPlease somebody who know about this help me out.\r\n\r\n### EDIT #1\r\nI have pasted below the &quot;description&quot; of the table &#39;hbasesample2&#39;, the column family are same as the one which we find in that exception. Totally I have 10 column family for that table, as of now I have copy pasted some 4 family desc. \r\n\r\n___________________________________________________________________________\r\n\r\n    hbase(main):003:0&gt; describe &#39;hbasesample2&#39;\r\n    Table hbasesample2 is ENABLED                                                                                                                                           \r\n    hbasesample2                                                                                                                                                            \r\n    COLUMN FAMILIES DESCRIPTION                                                                                                                                             \r\n    {NAME =&gt; &#39;ColumnFamily1 &#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, VERSIONS =&gt; &#39;1&#39;, COMPRESSION =&gt; &#39;NONE&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, T\r\n    TL =&gt; &#39;FOREVER&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}                                                       \r\n    {NAME =&gt; &#39;ColumnFamily10&#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, VERSIONS =&gt; &#39;1&#39;, COMPRESSION =&gt; &#39;NONE&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, T\r\n    TL =&gt; &#39;FOREVER&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}                                                       \r\n    {NAME =&gt; &#39;ColumnFamily2&#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, VERSIONS =&gt; &#39;1&#39;, COMPRESSION =&gt; &#39;NONE&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, TT\r\n    L =&gt; &#39;FOREVER&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}                                                        \r\n    {NAME =&gt; &#39;ColumnFamily3&#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, VERSIONS =&gt; &#39;1&#39;, COMPRESSION =&gt; &#39;NONE&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, TT\r\n    L =&gt; &#39;FOREVER&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}","title":"HBase : Failed to store data (org.apache.hadoop.hbase.client.RetriesExhaustedWithDetailsException)","body":"<p>Unable to store data using table.put(p) method, Which is throwing an exception:</p>\n\n<pre><code>Exception in thread \"main\" org.apache.hadoop.hbase.client.RetriesExhaustedWithDetailsException: Failed 1 action: org.apache.hadoop.hbase.regionserver.NoSuchColumnFamilyException\n</code></pre>\n\n<p>Please check below for complete exception details:</p>\n\n<pre><code>Exception in thread \"main\" org.apache.hadoop.hbase.client.RetriesExhaustedWithDetailsException: Failed 1 action: org.apache.hadoop.hbase.regionserver.NoSuchColumnFamilyException: Column family ColumnFamily1 \n does not exist in region hbasesample2,,1440880732948.e63f5e1b82327208a862a98b302b9c85. in table 'hbasesample2', {NAME =&gt; 'ColumnFamily1 ', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', COMPRESSION =&gt; 'NONE', VERSIONS =&gt; '1', TTL =&gt; 'FOREVER', MIN_VERSIONS =&gt; '0', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}, {NAME =&gt; 'ColumnFamily10', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', COMPRESSION =&gt; 'NONE', VERSIONS =&gt; '1', TTL =&gt; 'FOREVER', MIN_VERSIONS =&gt; '0', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}, {NAME =&gt; 'ColumnFamily2', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', COMPRESSION =&gt; 'NONE', VERSIONS =&gt; '1', TTL =&gt; 'FOREVER', MIN_VERSIONS =&gt; '0', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}, {NAME =&gt; 'ColumnFamily3', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', COMPRESSION =&gt; 'NONE', VERSIONS =&gt; '1', TTL =&gt; 'FOREVER', MIN_VERSIONS =&gt; '0', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}, {NAME =&gt; 'ColumnFamily4', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', COMPRESSION =&gt; 'NONE', VERSIONS =&gt; '1', TTL =&gt; 'FOREVER', MIN_VERSIONS =&gt; '0', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}, {NAME =&gt; 'ColumnFamily5', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', COMPRESSION =&gt; 'NONE', VERSIONS =&gt; '1', TTL =&gt; 'FOREVER', MIN_VERSIONS =&gt; '0', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}, {NAME =&gt; 'ColumnFamily6', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', COMPRESSION =&gt; 'NONE', VERSIONS =&gt; '1', TTL =&gt; 'FOREVER', MIN_VERSIONS =&gt; '0', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}, {NAME =&gt; 'ColumnFamily7', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', COMPRESSION =&gt; 'NONE', VERSIONS =&gt; '1', TTL =&gt; 'FOREVER', MIN_VERSIONS =&gt; '0', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}, {NAME =&gt; 'ColumnFamily8', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', COMPRESSION =&gt; 'NONE', VERSIONS =&gt; '1', TTL =&gt; 'FOREVER', MIN_VERSIONS =&gt; '0', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}, {NAME =&gt; 'ColumnFamily9', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', COMPRESSION =&gt; 'NONE', VERSIONS =&gt; '1', TTL =&gt; 'FOREVER', MIN_VERSIONS =&gt; '0', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}\n    at org.apache.hadoop.hbase.regionserver.RSRpcServices.doBatchOp(RSRpcServices.java:659)\n    at org.apache.hadoop.hbase.regionserver.RSRpcServices.doNonAtomicRegionMutation(RSRpcServices.java:615)\n    at org.apache.hadoop.hbase.regionserver.RSRpcServices.multi(RSRpcServices.java:1896)\n    at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:31451)\n    at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2035)\n    at org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:107)\n    at org.apache.hadoop.hbase.ipc.RpcExecutor.consumerLoop(RpcExecutor.java:130)\n    at org.apache.hadoop.hbase.ipc.RpcExecutor$1.run(RpcExecutor.java:107)\n    at java.lang.Thread.run(Thread.java:745)\n: 1 time, \n    at org.apache.hadoop.hbase.client.AsyncProcess$BatchErrors.makeException(AsyncProcess.java:227)\n    at org.apache.hadoop.hbase.client.AsyncProcess$BatchErrors.access$1700(AsyncProcess.java:207)\n    at org.apache.hadoop.hbase.client.AsyncProcess.waitForAllPreviousOpsAndReset(AsyncProcess.java:1658)\n    at org.apache.hadoop.hbase.client.BufferedMutatorImpl.backgroundFlushCommits(BufferedMutatorImpl.java:208)\n    at org.apache.hadoop.hbase.client.BufferedMutatorImpl.flush(BufferedMutatorImpl.java:183)\n    at org.apache.hadoop.hbase.client.HTable.flushCommits(HTable.java:1482)\n    at org.apache.hadoop.hbase.client.HTable.put(HTable.java:1095)\n    at Hbase.Hbase_Auto.main(Hbase_Auto.java:93)\n</code></pre>\n\n<p>Here is the code snippet :</p>\n\n<pre><code>p.addColumn(Bytes.toBytes(colfamily),Bytes.toBytes(column),Bytes.toBytes(temp));\ntable.put(p);\n</code></pre>\n\n<p>Please somebody who know about this help me out.</p>\n\n<h3>EDIT #1</h3>\n\n<p>I have pasted below the \"description\" of the table 'hbasesample2', the column family are same as the one which we find in that exception. Totally I have 10 column family for that table, as of now I have copy pasted some 4 family desc. </p>\n\n<hr>\n\n<pre><code>hbase(main):003:0&gt; describe 'hbasesample2'\nTable hbasesample2 is ENABLED                                                                                                                                           \nhbasesample2                                                                                                                                                            \nCOLUMN FAMILIES DESCRIPTION                                                                                                                                             \n{NAME =&gt; 'ColumnFamily1 ', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', VERSIONS =&gt; '1', COMPRESSION =&gt; 'NONE', MIN_VERSIONS =&gt; '0', T\nTL =&gt; 'FOREVER', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}                                                       \n{NAME =&gt; 'ColumnFamily10', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', VERSIONS =&gt; '1', COMPRESSION =&gt; 'NONE', MIN_VERSIONS =&gt; '0', T\nTL =&gt; 'FOREVER', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}                                                       \n{NAME =&gt; 'ColumnFamily2', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', VERSIONS =&gt; '1', COMPRESSION =&gt; 'NONE', MIN_VERSIONS =&gt; '0', TT\nL =&gt; 'FOREVER', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}                                                        \n{NAME =&gt; 'ColumnFamily3', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', VERSIONS =&gt; '1', COMPRESSION =&gt; 'NONE', MIN_VERSIONS =&gt; '0', TT\nL =&gt; 'FOREVER', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}\n</code></pre>\n"},{"tags":["java","android","pixel"],"answers":[{"comments":[{"owner":{"account_id":16441906,"reputation":15,"user_id":11877921,"display_name":"Mark Taylor"},"score":0,"creation_date":1693804336,"post_id":77035106,"comment_id":135803597,"body_markdown":"I understand. Thank you for your time and solving my problem.","body":"I understand. Thank you for your time and solving my problem."}],"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693802401,"creation_date":1693802401,"answer_id":77035106,"question_id":77035011,"body_markdown":"Assuming you&#39;re not scaling the image at all, your math is right.  If you&#39;re scaling, you need to multiply by the scale factor (and the x and y scale factors can be independent, although generally they are the same).  You also have to make sure you&#39;re using the right dpi-  you want to use the logical dpi of the running OS, not the native dpi of the physical device (some devices might have a physical dpi of say 300 pixels per inch, but the OS will pretend its some smaller number (say 250) to provide some magnification).","title":"How to convert from pixel unit to square inches of an image in android studio?","body":"<p>Assuming you're not scaling the image at all, your math is right.  If you're scaling, you need to multiply by the scale factor (and the x and y scale factors can be independent, although generally they are the same).  You also have to make sure you're using the right dpi-  you want to use the logical dpi of the running OS, not the native dpi of the physical device (some devices might have a physical dpi of say 300 pixels per inch, but the OS will pretend its some smaller number (say 250) to provide some magnification).</p>\n"}],"owner":{"account_id":16441906,"reputation":15,"user_id":11877921,"display_name":"Mark Taylor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77035106,"answer_count":1,"score":1,"last_activity_date":1693803636,"creation_date":1693800242,"question_id":77035011,"body_markdown":"I am doing an Android Project. I have area of the image in pixel per unit. How can I convert that to square inches\r\n\r\nI have tested the conversion of unit in one particular image. I have used this particular formula for conversion in Java.\r\n\r\n    float inchesWidth = (float) width / dpi;\r\n    float inchesHeight = (float) height / dpi;\r\n    float areaInSquareInches = inchesWidth * inchesHeight;\r\n\r\nSuppose the Width of the image is 678. The height of the image is 452. The dpi of the Android device is 440. I am getting area = 1.58 square inches. Can anyone confirm me that I am using right formula and right method because there is no way to confirm this.","title":"How to convert from pixel unit to square inches of an image in android studio?","body":"<p>I am doing an Android Project. I have area of the image in pixel per unit. How can I convert that to square inches</p>\n<p>I have tested the conversion of unit in one particular image. I have used this particular formula for conversion in Java.</p>\n<pre><code>float inchesWidth = (float) width / dpi;\nfloat inchesHeight = (float) height / dpi;\nfloat areaInSquareInches = inchesWidth * inchesHeight;\n</code></pre>\n<p>Suppose the Width of the image is 678. The height of the image is 452. The dpi of the Android device is 440. I am getting area = 1.58 square inches. Can anyone confirm me that I am using right formula and right method because there is no way to confirm this.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1402983797,"post_id":24256463,"comment_id":37470010,"body_markdown":"Have you tried using a debugger? If so, what did you learn from using it?","body":"Have you tried using a debugger? If so, what did you learn from using it?"},{"owner":{"account_id":3350265,"reputation":47,"user_id":2814456,"display_name":"Ben10"},"score":0,"creation_date":1402984275,"post_id":24256463,"comment_id":37470182,"body_markdown":"Yes I did, i can fix that but it won&#39;t be generic. So i need a generic one.","body":"Yes I did, i can fix that but it won&#39;t be generic. So i need a generic one."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1402984358,"post_id":24256463,"comment_id":37470204,"body_markdown":"Fix what? And what do you mean by &quot;generic&quot;?","body":"Fix what? And what do you mean by &quot;generic&quot;?"},{"owner":{"account_id":3350265,"reputation":47,"user_id":2814456,"display_name":"Ben10"},"score":0,"creation_date":1402984496,"post_id":24256463,"comment_id":37470259,"body_markdown":"Code that will work for all the Arithmetic operations.","body":"Code that will work for all the Arithmetic operations."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1402984603,"post_id":24256463,"comment_id":37470289,"body_markdown":"Don&#39;t put code in comments. It&#39;s pretty much unreadable.","body":"Don&#39;t put code in comments. It&#39;s pretty much unreadable."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1402984770,"post_id":24256463,"comment_id":37470352,"body_markdown":"You don&#39;t. Update your question.","body":"You don&#39;t. Update your question."},{"owner":{"account_id":3572172,"reputation":6531,"user_id":2982225,"display_name":"Infinite Recursion"},"score":0,"creation_date":1402985964,"post_id":24256463,"comment_id":37470841,"body_markdown":"Since you have a working code, but want to improve the quality of code, you can try [codereview site](http://codereview.stackexchange.com/)","body":"Since you have a working code, but want to improve the quality of code, you can try <a href=\"http://codereview.stackexchange.com/\">codereview site</a>"},{"owner":{"account_id":3350265,"reputation":47,"user_id":2814456,"display_name":"Ben10"},"score":0,"creation_date":1402987153,"post_id":24256463,"comment_id":37471343,"body_markdown":"Hi Payeli, I can&#39;t do that in code. it will fail for others.","body":"Hi Payeli, I can&#39;t do that in code. it will fail for others."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1569365288,"post_id":24256463,"comment_id":102571309,"body_markdown":"Throw it all away and look up the Dijkstra Shunting-yard algorithm, or recursive descent expression parsing. You will never implement operator predecence or parentheses with this code as a basis.","body":"Throw it all away and look up the Dijkstra Shunting-yard algorithm, or recursive descent expression parsing. You will never implement operator predecence or parentheses with this code as a basis."}],"answers":[{"comments":[{"owner":{"account_id":234691,"reputation":3320,"user_id":501011,"accept_rate":86,"display_name":"MechMK1"},"score":1,"creation_date":1513539095,"post_id":47858494,"comment_id":82681872,"body_markdown":"Please also add some explanation for your answers. Just code alone does not explain anything and is considered low-quality. Please look at [answer] and [edit] your answer.","body":"Please also add some explanation for your answers. Just code alone does not explain anything and is considered low-quality. Please look at <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a> and <a href=\"https://stackoverflow.com/posts/47858494/edit\">edit</a> your answer."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1569365409,"post_id":47858494,"comment_id":102571332,"body_markdown":"This *is* the Dijkstra Shunting-yard algorithm. You should certainly have said so, and you should have explained how and why this solves the problem.","body":"This <i>is</i> the Dijkstra Shunting-yard algorithm. You should certainly have said so, and you should have explained how and why this solves the problem."},{"owner":{"account_id":7733437,"reputation":279,"user_id":5855755,"display_name":"Chetan Hallan"},"score":0,"creation_date":1608053273,"post_id":47858494,"comment_id":115462591,"body_markdown":"Also this does not handle the cases of negative input such as (&quot;-4 * -4&quot;)","body":"Also this does not handle the cases of negative input such as (&quot;-4 * -4&quot;)"}],"tags":[],"owner":{"account_id":12130532,"reputation":29,"user_id":8857705,"display_name":"Amit Kumar"},"comment_count":3,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1513543532,"creation_date":1513537584,"answer_id":47858494,"question_id":24256463,"body_markdown":"    import java.util.Stack;\r\n     \r\n    public class EvaluateString\r\n    {\r\n        public static int evaluate(String expression)\r\n        {\r\n            char[] tokens = expression.toCharArray();\r\n     \r\n             // Stack for numbers: &#39;values&#39;\r\n            Stack&lt;Integer&gt; values = new Stack&lt;Integer&gt;();\r\n     \r\n            // Stack for Operators: &#39;ops&#39;\r\n            Stack&lt;Character&gt; ops = new Stack&lt;Character&gt;();\r\n     \r\n            for (int i = 0; i &lt; tokens.length; i++)\r\n            {\r\n                 // Current token is a whitespace, skip it\r\n                if (tokens[i] == &#39; &#39;)\r\n                    continue;\r\n     \r\n                // Current token is a number, push it to stack for numbers\r\n                if (tokens[i] &gt;= &#39;0&#39; &amp;&amp; tokens[i] &lt;= &#39;9&#39;)\r\n                {\r\n                    StringBuffer sbuf = new StringBuffer();\r\n                    // There may be more than one digits in number\r\n                    while (i &lt; tokens.length &amp;&amp; tokens[i] &gt;= &#39;0&#39; &amp;&amp; tokens[i] &lt;= &#39;9&#39;)\r\n                        sbuf.append(tokens[i++]);\r\n                    values.push(Integer.parseInt(sbuf.toString()));\r\n                }\r\n     \r\n                // Current token is an opening brace, push it to &#39;ops&#39;\r\n                else if (tokens[i] == &#39;(&#39;)\r\n                    ops.push(tokens[i]);\r\n     \r\n                // Closing brace encountered, solve entire brace\r\n                else if (tokens[i] == &#39;)&#39;)\r\n                {\r\n                    while (ops.peek() != &#39;(&#39;)\r\n                      values.push(applyOp(ops.pop(), values.pop(), values.pop()));\r\n                    ops.pop();\r\n                }\r\n     \r\n                // Current token is an operator.\r\n                else if (tokens[i] == &#39;+&#39; || tokens[i] == &#39;-&#39; ||\r\n                         tokens[i] == &#39;*&#39; || tokens[i] == &#39;/&#39;)\r\n                {\r\n                    // While top of &#39;ops&#39; has same or greater precedence to current\r\n                    // token, which is an operator. Apply operator on top of &#39;ops&#39;\r\n                    // to top two elements in values stack\r\n                    while (!ops.empty() &amp;&amp; hasPrecedence(tokens[i], ops.peek()))\r\n                      values.push(applyOp(ops.pop(), values.pop(), values.pop()));\r\n     \r\n                    // Push current token to &#39;ops&#39;.\r\n                    ops.push(tokens[i]);\r\n                }\r\n            }\r\n     \r\n            // Entire expression has been parsed at this point, apply remaining\r\n            // ops to remaining values\r\n            while (!ops.empty())\r\n                values.push(applyOp(ops.pop(), values.pop(), values.pop()));\r\n     \r\n            // Top of &#39;values&#39; contains result, return it\r\n            return values.pop();\r\n        }\r\n     \r\n        // Returns true if &#39;op2&#39; has higher or same precedence as &#39;op1&#39;,\r\n        // otherwise returns false.\r\n        public static boolean hasPrecedence(char op1, char op2)\r\n        {\r\n            if (op2 == &#39;(&#39; || op2 == &#39;)&#39;)\r\n                return false;\r\n            if ((op1 == &#39;*&#39; || op1 == &#39;/&#39;) &amp;&amp; (op2 == &#39;+&#39; || op2 == &#39;-&#39;))\r\n                return false;\r\n            else\r\n                return true;\r\n        }\r\n     \r\n        // A utility method to apply an operator &#39;op&#39; on operands &#39;a&#39; \r\n        // and &#39;b&#39;. Return the result.\r\n        public static int applyOp(char op, int b, int a)\r\n        {\r\n            switch (op)\r\n            {\r\n            case &#39;+&#39;:\r\n                return a + b;\r\n            case &#39;-&#39;:\r\n                return a - b;\r\n            case &#39;*&#39;:\r\n                return a * b;\r\n            case &#39;/&#39;:\r\n                if (b == 0)\r\n                    throw new\r\n                    UnsupportedOperationException(&quot;Cannot divide by zero&quot;);\r\n                return a / b;\r\n            }\r\n            return 0;\r\n        }\r\n     \r\n        // Driver method to test above methods\r\n        public static void main(String[] args)\r\n        {\r\n            System.out.println(EvaluateString.evaluate(&quot;10 + 2 * 6&quot;));\r\n            System.out.println(EvaluateString.evaluate(&quot;100 * 2 + 12&quot;));\r\n            System.out.println(EvaluateString.evaluate(&quot;100 * ( 2 + 12 )&quot;));\r\n            System.out.println(EvaluateString.evaluate(&quot;100 * ( 2 + 12 ) / 14&quot;));\r\n        }\r\n    }","title":"Arithmetic calculation for BODMAS in Java","body":"<pre><code>import java.util.Stack;\n\npublic class EvaluateString\n{\n    public static int evaluate(String expression)\n    {\n        char[] tokens = expression.toCharArray();\n\n         // Stack for numbers: 'values'\n        Stack&lt;Integer&gt; values = new Stack&lt;Integer&gt;();\n\n        // Stack for Operators: 'ops'\n        Stack&lt;Character&gt; ops = new Stack&lt;Character&gt;();\n\n        for (int i = 0; i &lt; tokens.length; i++)\n        {\n             // Current token is a whitespace, skip it\n            if (tokens[i] == ' ')\n                continue;\n\n            // Current token is a number, push it to stack for numbers\n            if (tokens[i] &gt;= '0' &amp;&amp; tokens[i] &lt;= '9')\n            {\n                StringBuffer sbuf = new StringBuffer();\n                // There may be more than one digits in number\n                while (i &lt; tokens.length &amp;&amp; tokens[i] &gt;= '0' &amp;&amp; tokens[i] &lt;= '9')\n                    sbuf.append(tokens[i++]);\n                values.push(Integer.parseInt(sbuf.toString()));\n            }\n\n            // Current token is an opening brace, push it to 'ops'\n            else if (tokens[i] == '(')\n                ops.push(tokens[i]);\n\n            // Closing brace encountered, solve entire brace\n            else if (tokens[i] == ')')\n            {\n                while (ops.peek() != '(')\n                  values.push(applyOp(ops.pop(), values.pop(), values.pop()));\n                ops.pop();\n            }\n\n            // Current token is an operator.\n            else if (tokens[i] == '+' || tokens[i] == '-' ||\n                     tokens[i] == '*' || tokens[i] == '/')\n            {\n                // While top of 'ops' has same or greater precedence to current\n                // token, which is an operator. Apply operator on top of 'ops'\n                // to top two elements in values stack\n                while (!ops.empty() &amp;&amp; hasPrecedence(tokens[i], ops.peek()))\n                  values.push(applyOp(ops.pop(), values.pop(), values.pop()));\n\n                // Push current token to 'ops'.\n                ops.push(tokens[i]);\n            }\n        }\n\n        // Entire expression has been parsed at this point, apply remaining\n        // ops to remaining values\n        while (!ops.empty())\n            values.push(applyOp(ops.pop(), values.pop(), values.pop()));\n\n        // Top of 'values' contains result, return it\n        return values.pop();\n    }\n\n    // Returns true if 'op2' has higher or same precedence as 'op1',\n    // otherwise returns false.\n    public static boolean hasPrecedence(char op1, char op2)\n    {\n        if (op2 == '(' || op2 == ')')\n            return false;\n        if ((op1 == '*' || op1 == '/') &amp;&amp; (op2 == '+' || op2 == '-'))\n            return false;\n        else\n            return true;\n    }\n\n    // A utility method to apply an operator 'op' on operands 'a' \n    // and 'b'. Return the result.\n    public static int applyOp(char op, int b, int a)\n    {\n        switch (op)\n        {\n        case '+':\n            return a + b;\n        case '-':\n            return a - b;\n        case '*':\n            return a * b;\n        case '/':\n            if (b == 0)\n                throw new\n                UnsupportedOperationException(\"Cannot divide by zero\");\n            return a / b;\n        }\n        return 0;\n    }\n\n    // Driver method to test above methods\n    public static void main(String[] args)\n    {\n        System.out.println(EvaluateString.evaluate(\"10 + 2 * 6\"));\n        System.out.println(EvaluateString.evaluate(\"100 * 2 + 12\"));\n        System.out.println(EvaluateString.evaluate(\"100 * ( 2 + 12 )\"));\n        System.out.println(EvaluateString.evaluate(\"100 * ( 2 + 12 ) / 14\"));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9860129,"reputation":106,"user_id":7303414,"display_name":"El Nuru"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1569364823,"creation_date":1544479691,"answer_id":53714416,"question_id":24256463,"body_markdown":"The Java Scripting API allows you to pass parameters from Java application to the script engine and vice versa. \r\n\r\nYou can use Javax ScriptEngine to pass values from your app to a script.\r\n\r\nAnd using it&#39;s `eval()` method, you can give it a mathematical expression in the form of a string and it will do the the math for you... (Handles BODMAS too).\r\n\r\n*Example:*\r\n\r\n         ScriptEngineManager mgr = new.ScriptEngineManager();\r\n         ScriptEngine engine = mgr.getEngineByName(&quot;JavaScript&quot;);\r\n         String foo = &quot;40+2/3*45&quot;;\r\n         System.out.println(engine.eval(foo));\r\n\r\n**Outputs:** *70*\r\n\r\nInclude the following imports , if the IDE doesn&#39;t suggest them :\r\n\r\n    import javax.script.ScriptEngineManager;\r\n    import javax.script.ScriptEngine;\r\n    import javax.script.ScriptException;\r\n\r\nCheck the documentation here [ScriptEngine][1]\r\n\r\nI hope it helps. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/script/ScriptEngine.html","title":"Arithmetic calculation for BODMAS in Java","body":"<p>The Java Scripting API allows you to pass parameters from Java application to the script engine and vice versa. </p>\n\n<p>You can use Javax ScriptEngine to pass values from your app to a script.</p>\n\n<p>And using it's <code>eval()</code> method, you can give it a mathematical expression in the form of a string and it will do the the math for you... (Handles BODMAS too).</p>\n\n<p><em>Example:</em></p>\n\n<pre><code>     ScriptEngineManager mgr = new.ScriptEngineManager();\n     ScriptEngine engine = mgr.getEngineByName(\"JavaScript\");\n     String foo = \"40+2/3*45\";\n     System.out.println(engine.eval(foo));\n</code></pre>\n\n<p><strong>Outputs:</strong> <em>70</em></p>\n\n<p>Include the following imports , if the IDE doesn't suggest them :</p>\n\n<pre><code>import javax.script.ScriptEngineManager;\nimport javax.script.ScriptEngine;\nimport javax.script.ScriptException;\n</code></pre>\n\n<p>Check the documentation here <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/script/ScriptEngine.html\" rel=\"nofollow noreferrer\">ScriptEngine</a></p>\n\n<p>I hope it helps. </p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608215720,"creation_date":1608215720,"answer_id":65342712,"question_id":24256463,"body_markdown":"&quot;BODMAS&quot; is a not very operational rule. Especially addition and subtraction have the same precedence and are calculated from left to right 1-2+3-4+5 = (((1-2)+3)-4)+5.\r\n\r\nThe rule is for a nested loop.\r\n\r\nLoop\r\n\r\n1. replaceAll `(` number `)` --&gt; number\r\n2. replaceAll number `[*/]&#39; number --&gt; number op number\r\n3. replaceAll number `[+-]&#39; number --&gt; number op number\r\n\r\nUntil nothing is replaced.\r\n\r\nThis ensures that 3-4/2*6+5 -2-&gt; 3-2*6+5 -2-&gt; 3-12+5 -3-&gt; -9+5 -3-&gt; -4\r\n","title":"Arithmetic calculation for BODMAS in Java","body":"<p>&quot;BODMAS&quot; is a not very operational rule. Especially addition and subtraction have the same precedence and are calculated from left to right 1-2+3-4+5 = (((1-2)+3)-4)+5.</p>\n<p>The rule is for a nested loop.</p>\n<p>Loop</p>\n<ol>\n<li>replaceAll <code>(</code> number <code>)</code> --&gt; number</li>\n<li>replaceAll number `[*/]' number --&gt; number op number</li>\n<li>replaceAll number `[+-]' number --&gt; number op number</li>\n</ol>\n<p>Until nothing is replaced.</p>\n<p>This ensures that 3-4/2<em>6+5 -2-&gt; 3-2</em>6+5 -2-&gt; 3-12+5 -3-&gt; -9+5 -3-&gt; -4</p>\n"},{"tags":[],"owner":{"account_id":21496230,"reputation":11,"user_id":15841221,"display_name":"Alex Maina"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656661133,"creation_date":1656661133,"answer_id":72825901,"question_id":24256463,"body_markdown":"The solution can be achieved by using the shunting yard algorithm. We start by creating an infix notation of the equation then follows the postfix notation. Here is a description of the algorithm https://en.wikipedia.org/wiki/Shunting_yard_algorithm. This solution solves for any nested number of brackets on the string expression.\r\n\r\n      public static double evaluate(String exp) {\r\n        char[] tokens = exp.toCharArray();\r\n  \r\n        Queue&lt;Object&gt; values = new LinkedList&lt;&gt;();\r\n        // Stack for Operators: &#39;ops&#39;\r\n        Stack&lt;Character&gt; ops = new Stack&lt;Character&gt;();\r\n        for (int i = 0; i &lt; tokens.length; i++) {\r\n            //infix\r\n            // Current token is a whitespace, skip it\r\n            if (tokens[i] == &#39; &#39;) {\r\n                continue;\r\n            }\r\n            // Current token is a number, push it to stack for numbers\r\n            else if (tokens[i] &gt;= &#39;0&#39; &amp;&amp; tokens[i] &lt;= &#39;9&#39;) {\r\n                StringBuffer sbuf = new StringBuffer();\r\n                // There may be more than one digits in number\r\n\r\n                while (i &lt; tokens.length &amp;&amp; tokens[i] &gt;= &#39;0&#39; &amp;&amp; tokens[i] &lt;= &#39;9&#39;) {\r\n                    sbuf.append(tokens[i]);\r\n                    if ((i+1)&lt;tokens.length &amp;&amp;tokens[i + 1] &gt;= &#39;0&#39; &amp;&amp; tokens[i + 1] &lt;= &#39;9&#39;) {\r\n                        i++;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n                values.add(Double.parseDouble(sbuf.toString()));\r\n            } else if (tokens[i] == &#39;*&#39; || tokens[i] == &#39;-&#39; || tokens[i] == &#39;/&#39; || tokens[i] == &#39;+&#39;) {\r\n                if (ops.isEmpty()) {\r\n                    ops.push(tokens[i]);\r\n                    continue;\r\n                }\r\n                char op1 = ops.peek();\r\n                boolean hasHighPrecedence = hasPrecedence(op1, tokens[i]);\r\n                if (hasHighPrecedence) {\r\n                    char op = ops.pop();\r\n                    values.add(op);\r\n                    ops.push(tokens[i]);\r\n                } else {\r\n                    ops.push(tokens[i]);\r\n                }\r\n            } else if (tokens[i] == &#39;(&#39;) {\r\n                ops.push(tokens[i]);\r\n            } else if (tokens[i] == &#39;)&#39;) {\r\n                while (ops.peek() != &#39;(&#39;) {\r\n                    values.add(ops.pop());\r\n                }\r\n                ops.pop();\r\n            }\r\n        }\r\n        while (!ops.isEmpty()) {\r\n            values.add(ops.pop());\r\n        }\r\n        //post fix\r\n        Stack&lt;Double&gt; numStack = new Stack&lt;&gt;();\r\n        while (!values.isEmpty()) {\r\n            Object val = values.poll();\r\n            if (val instanceof Character) {\r\n                char v = (Character) val;\r\n                if (v == &#39;*&#39; || v == &#39;-&#39; || v == &#39;/&#39; || v == &#39;+&#39;) {\r\n                    double num2, num1;\r\n                    num1 = numStack.pop();\r\n                    num2 = numStack.pop();\r\n                    double ans = applyOp(v, num1, num2);\r\n                    numStack.push(ans);\r\n\r\n                }\r\n            } else {\r\n                double num = (double) val;\r\n                numStack.push(num);\r\n            }\r\n        }\r\n        return numStack.pop();\r\n\r\n    }\r\n\r\n    public static double applyOp(char op, double b, double a) {\r\n        switch (op) {\r\n            case &#39;+&#39;:\r\n                return a + b;\r\n            case &#39;-&#39;:\r\n                return a - b;\r\n            case &#39;*&#39;:\r\n                return a * b;\r\n            case &#39;/&#39;:\r\n                if (b == 0)\r\n                    throw new\r\n                            IllegalArgumentException(&quot;Cannot divide by zero&quot;);\r\n                return a / b;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    public static boolean hasPrecedence(char op1, char op2) {\r\n        if (op1 == &#39;*&#39; &amp;&amp; op2 == &#39;/&#39;) {\r\n            return false;\r\n        } else if (op1 == &#39;/&#39; &amp;&amp; op2 == &#39;*&#39;) {\r\n            return true;\r\n        } else if ((op1 == &#39;*&#39; || op1 == &#39;/&#39;) &amp;&amp; (op2 == &#39;+&#39; || op2 == &#39;-&#39;)) {\r\n            return true;\r\n        } else if (op1 == &#39;+&#39; &amp;&amp; op2 == &#39;-&#39;) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }","title":"Arithmetic calculation for BODMAS in Java","body":"<p>The solution can be achieved by using the shunting yard algorithm. We start by creating an infix notation of the equation then follows the postfix notation. Here is a description of the algorithm <a href=\"https://en.wikipedia.org/wiki/Shunting_yard_algorithm\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Shunting_yard_algorithm</a>. This solution solves for any nested number of brackets on the string expression.</p>\n<pre><code>  public static double evaluate(String exp) {\n    char[] tokens = exp.toCharArray();\n\n    Queue&lt;Object&gt; values = new LinkedList&lt;&gt;();\n    // Stack for Operators: 'ops'\n    Stack&lt;Character&gt; ops = new Stack&lt;Character&gt;();\n    for (int i = 0; i &lt; tokens.length; i++) {\n        //infix\n        // Current token is a whitespace, skip it\n        if (tokens[i] == ' ') {\n            continue;\n        }\n        // Current token is a number, push it to stack for numbers\n        else if (tokens[i] &gt;= '0' &amp;&amp; tokens[i] &lt;= '9') {\n            StringBuffer sbuf = new StringBuffer();\n            // There may be more than one digits in number\n\n            while (i &lt; tokens.length &amp;&amp; tokens[i] &gt;= '0' &amp;&amp; tokens[i] &lt;= '9') {\n                sbuf.append(tokens[i]);\n                if ((i+1)&lt;tokens.length &amp;&amp;tokens[i + 1] &gt;= '0' &amp;&amp; tokens[i + 1] &lt;= '9') {\n                    i++;\n                } else {\n                    break;\n                }\n            }\n            values.add(Double.parseDouble(sbuf.toString()));\n        } else if (tokens[i] == '*' || tokens[i] == '-' || tokens[i] == '/' || tokens[i] == '+') {\n            if (ops.isEmpty()) {\n                ops.push(tokens[i]);\n                continue;\n            }\n            char op1 = ops.peek();\n            boolean hasHighPrecedence = hasPrecedence(op1, tokens[i]);\n            if (hasHighPrecedence) {\n                char op = ops.pop();\n                values.add(op);\n                ops.push(tokens[i]);\n            } else {\n                ops.push(tokens[i]);\n            }\n        } else if (tokens[i] == '(') {\n            ops.push(tokens[i]);\n        } else if (tokens[i] == ')') {\n            while (ops.peek() != '(') {\n                values.add(ops.pop());\n            }\n            ops.pop();\n        }\n    }\n    while (!ops.isEmpty()) {\n        values.add(ops.pop());\n    }\n    //post fix\n    Stack&lt;Double&gt; numStack = new Stack&lt;&gt;();\n    while (!values.isEmpty()) {\n        Object val = values.poll();\n        if (val instanceof Character) {\n            char v = (Character) val;\n            if (v == '*' || v == '-' || v == '/' || v == '+') {\n                double num2, num1;\n                num1 = numStack.pop();\n                num2 = numStack.pop();\n                double ans = applyOp(v, num1, num2);\n                numStack.push(ans);\n\n            }\n        } else {\n            double num = (double) val;\n            numStack.push(num);\n        }\n    }\n    return numStack.pop();\n\n}\n\npublic static double applyOp(char op, double b, double a) {\n    switch (op) {\n        case '+':\n            return a + b;\n        case '-':\n            return a - b;\n        case '*':\n            return a * b;\n        case '/':\n            if (b == 0)\n                throw new\n                        IllegalArgumentException(&quot;Cannot divide by zero&quot;);\n            return a / b;\n    }\n    return 0;\n}\n\npublic static boolean hasPrecedence(char op1, char op2) {\n    if (op1 == '*' &amp;&amp; op2 == '/') {\n        return false;\n    } else if (op1 == '/' &amp;&amp; op2 == '*') {\n        return true;\n    } else if ((op1 == '*' || op1 == '/') &amp;&amp; (op2 == '+' || op2 == '-')) {\n        return true;\n    } else if (op1 == '+' &amp;&amp; op2 == '-') {\n        return true;\n    } else {\n        return false;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3350265,"reputation":47,"user_id":2814456,"display_name":"Ben10"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14916,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":4,"score":2,"last_activity_date":1693803300,"creation_date":1402983641,"question_id":24256463,"body_markdown":"I have written this code for Bodmas, but getting some error in this. If I do 3-5+9, it will result in 3.04.0.\r\n\r\nIt just start concatenating, though it works for all other operations like *, / and -, please help.\r\n\r\n    public static String calculation(BODMASCalculation bodmas, String result) {\r\n\t\twhile (bodmas.hasMatch()) {\r\n\t\t\tdouble value, leftOfOperator = bodmas.getLeft();\r\n\t\t\tchar op = bodmas.getOperator();\r\n\t\t\tdouble rightOfOprator = bodmas.getRight();\r\n\r\n\t\t\tswitch (op) {\r\n\t\t\tcase &#39;/&#39;:\r\n\t\t\t\tif(rightOfOprator == 0) //Divide by 0 generates Infinity\r\n\t\t\t\t\tvalue = 0;\r\n\t\t\t\telse\r\n\t\t\t\t\tvalue = leftOfOperator / rightOfOprator;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;*&#39;:\r\n\t\t\t\tvalue = leftOfOperator * rightOfOprator;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;+&#39;:\r\n\t\t\t\tvalue = leftOfOperator + rightOfOprator;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;-&#39;:\r\n\t\t\t\tvalue = leftOfOperator - rightOfOprator;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new IllegalArgumentException(&quot;Unknown operator.&quot;);\r\n\t\t\t}\t\t\t\r\n\t\t\tresult = result.substring(0, bodmas.getStart()) + value\t+ result.substring(bodmas.getEnd());\r\n\t\t\tbodmas = new BODMASCalculation(result);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\nAnother function is:-\r\n\r\n    public boolean getMatchFor(String text, char operator) {\r\n\t\tString regex = &quot;(-?[\\\\d\\\\.]+)(\\\\x)(-?[\\\\d\\\\.]+)&quot;;\r\n\t\tjava.util.regex.Matcher matcher = java.util.regex.Pattern.compile(regex.replace(&#39;x&#39;, operator)).matcher(text);\r\n\t\tif (matcher.find()) {\r\n\t\t\tthis.leftOfOperator = Double.parseDouble(matcher.group(1));\r\n\t\t\tthis.op = matcher.group(2).charAt(0);\r\n\t\t\tthis.rightOfOprator = Double.parseDouble(matcher.group(3));\r\n\t\t\tthis.start = matcher.start();\r\n\t\t\tthis.end = matcher.end();\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\nI have a solution by adding\r\n\r\n    String sss = null;\r\n\t\t\tif(op == &#39;+&#39; &amp;&amp; !Str.isBlank(result.substring(0, bodmas.getStart())) &amp;&amp; value &gt;= 0)\r\n\t\t\t\tsss = &quot;+&quot;;\r\n\t\t\telse\r\n\t\t\t\tsss = &quot;&quot;;\r\n\t\t\tresult = result.substring(0, bodmas.getStart()) + sss + value\t+ result.substring(bodmas.getEnd());\r\n\r\nBut don&#39;t want to do that, I want this to work for all the operators.","title":"Arithmetic calculation for BODMAS in Java","body":"<p>I have written this code for Bodmas, but getting some error in this. If I do 3-5+9, it will result in 3.04.0.</p>\n\n<p>It just start concatenating, though it works for all other operations like *, / and -, please help.</p>\n\n<pre><code>public static String calculation(BODMASCalculation bodmas, String result) {\n    while (bodmas.hasMatch()) {\n        double value, leftOfOperator = bodmas.getLeft();\n        char op = bodmas.getOperator();\n        double rightOfOprator = bodmas.getRight();\n\n        switch (op) {\n        case '/':\n            if(rightOfOprator == 0) //Divide by 0 generates Infinity\n                value = 0;\n            else\n                value = leftOfOperator / rightOfOprator;\n            break;\n        case '*':\n            value = leftOfOperator * rightOfOprator;\n            break;\n        case '+':\n            value = leftOfOperator + rightOfOprator;\n            break;\n        case '-':\n            value = leftOfOperator - rightOfOprator;\n            break;\n        default:\n            throw new IllegalArgumentException(\"Unknown operator.\");\n        }           \n        result = result.substring(0, bodmas.getStart()) + value + result.substring(bodmas.getEnd());\n        bodmas = new BODMASCalculation(result);\n    }\n    return result;\n}\n</code></pre>\n\n<p>Another function is:-</p>\n\n<pre><code>public boolean getMatchFor(String text, char operator) {\n    String regex = \"(-?[\\\\d\\\\.]+)(\\\\x)(-?[\\\\d\\\\.]+)\";\n    java.util.regex.Matcher matcher = java.util.regex.Pattern.compile(regex.replace('x', operator)).matcher(text);\n    if (matcher.find()) {\n        this.leftOfOperator = Double.parseDouble(matcher.group(1));\n        this.op = matcher.group(2).charAt(0);\n        this.rightOfOprator = Double.parseDouble(matcher.group(3));\n        this.start = matcher.start();\n        this.end = matcher.end();\n        return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>I have a solution by adding</p>\n\n<pre><code>String sss = null;\n        if(op == '+' &amp;&amp; !Str.isBlank(result.substring(0, bodmas.getStart())) &amp;&amp; value &gt;= 0)\n            sss = \"+\";\n        else\n            sss = \"\";\n        result = result.substring(0, bodmas.getStart()) + sss + value   + result.substring(bodmas.getEnd());\n</code></pre>\n\n<p>But don't want to do that, I want this to work for all the operators.</p>\n"},{"tags":["java","compilation"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1693795265,"post_id":77034823,"comment_id":135803015,"body_markdown":"Please show a [mcve], including but not limited to the commands you used to compile the code.","body":"Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, including but not limited to the commands you used to compile the code."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1693797709,"post_id":77034823,"comment_id":135803139,"body_markdown":"If a relevant source file wasn&#39;t compiled, the code would crash with a `NoSuchClassError` on run. The fact that it _did_ run means your code ran fine and simply returned 0 (i.e. had a bug in it). Of course, if you had compiled `Player.java` before that probably means the old version remained and caused the unexpected output. Nobody* uses `javac` directly, everybody uses a build system such as maven or gradle. (*: Rounded down).","body":"If a relevant source file wasn&#39;t compiled, the code would crash with a <code>NoSuchClassError</code> on run. The fact that it <i>did</i> run means your code ran fine and simply returned 0 (i.e. had a bug in it). Of course, if you had compiled <code>Player.java</code> before that probably means the old version remained and caused the unexpected output. Nobody* uses <code>javac</code> directly, everybody uses a build system such as maven or gradle. (*: Rounded down)."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693802814,"creation_date":1693802814,"answer_id":77035122,"question_id":77034823,"body_markdown":"For compiling `GameLauncher.java` the java compiler needs the class file of the `GuessGame` class. If that class file doesn&#39;t exist but the java compiler finds the `GuessGame.java` file it compiles it automatically. Similarly for the `Player` class file and the `Player.java` file.\r\n\r\n**But** the java compiler does not check whether `GuessGame.java` was changed after the `GuessGame` class file has been created. If you change the `GuessGame.java` file after the `GuessGame` class file has been created it is your responsability to either delete the `GuessGame` class file or manually compile `GuessGame.java`.\r\n\r\nIn your simple example it is easy to just always delete all class files before compiling `GameLauncher.java`, but in a more complex project you don&#39;t want to delete all class files and compile all source files again - you want to compile only the source files that have changed and the source files that depend on the changed source files.\r\n\r\nThat is why everyone uses a build system - build systems do those checks for you. ","title":"Java Compilation Rule","body":"<p>For compiling <code>GameLauncher.java</code> the java compiler needs the class file of the <code>GuessGame</code> class. If that class file doesn't exist but the java compiler finds the <code>GuessGame.java</code> file it compiles it automatically. Similarly for the <code>Player</code> class file and the <code>Player.java</code> file.</p>\n<p><strong>But</strong> the java compiler does not check whether <code>GuessGame.java</code> was changed after the <code>GuessGame</code> class file has been created. If you change the <code>GuessGame.java</code> file after the <code>GuessGame</code> class file has been created it is your responsability to either delete the <code>GuessGame</code> class file or manually compile <code>GuessGame.java</code>.</p>\n<p>In your simple example it is easy to just always delete all class files before compiling <code>GameLauncher.java</code>, but in a more complex project you don't want to delete all class files and compile all source files again - you want to compile only the source files that have changed and the source files that depend on the changed source files.</p>\n<p>That is why everyone uses a build system - build systems do those checks for you.</p>\n"}],"owner":{"account_id":28439874,"reputation":1,"user_id":21759389,"display_name":"Augmas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693802814,"creation_date":1693795139,"question_id":77034823,"body_markdown":"In the main-method class of my program, I created objects of other classes. Do I need to compile not only the main-method class, but also the other classes? \r\n\r\nMy code looks something like this: \r\n\r\n```\r\npublic class GameLauncher {\r\n    public static void main(String[] args) {\r\n        GuessGame newGame = new GuessGame();\r\n        newGame.startGame();\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class GuessGame {\r\n    Player p1;\r\n    Player p2;\r\n    Player p3;\r\n    int targetNumber;\r\n\r\n    public void startGame() {\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class Player {\r\n    private int number;\r\n\r\n    public int guess() {\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nWhen I only compiled the main-method class, the Player objects only returned 0 as their guesses (the actual guess function had code in it). After I compiled all three classes, the program run as expected. \r\n\r\nI am just wondering what the logic behind this rule is. I originally thought that when an unknown, new class is encountered during compilation, the javac program knows that it will need to compile the encountered source file itself. ","title":"Java Compilation Rule","body":"<p>In the main-method class of my program, I created objects of other classes. Do I need to compile not only the main-method class, but also the other classes?</p>\n<p>My code looks something like this:</p>\n<pre><code>public class GameLauncher {\n    public static void main(String[] args) {\n        GuessGame newGame = new GuessGame();\n        newGame.startGame();\n    }\n}\n</code></pre>\n<pre><code>public class GuessGame {\n    Player p1;\n    Player p2;\n    Player p3;\n    int targetNumber;\n\n    public void startGame() {\n    }\n}\n</code></pre>\n<pre><code>public class Player {\n    private int number;\n\n    public int guess() {\n    }\n}\n</code></pre>\n<p>When I only compiled the main-method class, the Player objects only returned 0 as their guesses (the actual guess function had code in it). After I compiled all three classes, the program run as expected.</p>\n<p>I am just wondering what the logic behind this rule is. I originally thought that when an unknown, new class is encountered during compilation, the javac program knows that it will need to compile the encountered source file itself.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":17735162,"reputation":68,"user_id":12876703,"display_name":"Harshad"},"score":0,"creation_date":1588143993,"post_id":61479461,"comment_id":108783203,"body_markdown":"actually i am using postman for sending request and i can get all headers passed through postman but cant able to get headers that are added by using wrapper in controller please look into it and share me your opinion.thanks","body":"actually i am using postman for sending request and i can get all headers passed through postman but cant able to get headers that are added by using wrapper in controller please look into it and share me your opinion.thanks"},{"owner":{"account_id":17735162,"reputation":68,"user_id":12876703,"display_name":"Harshad"},"score":0,"creation_date":1588144535,"post_id":61479461,"comment_id":108783425,"body_markdown":"and i am only forwarding get request by adding header x-user-id rest of the request type i am not forwarding them at all directly sending reponse to POST,OPTION,PUT and DELETE method type so thats not issue i guess","body":"and i am only forwarding get request by adding header x-user-id rest of the request type i am not forwarding them at all directly sending reponse to POST,OPTION,PUT and DELETE method type so thats not issue i guess"}],"tags":[],"owner":{"account_id":3745976,"reputation":1103,"user_id":3114631,"display_name":"Sachin Kumar"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588074429,"creation_date":1588074429,"answer_id":61479461,"question_id":61479029,"body_markdown":"When you make a request to controller, first OPTIONS request is sent, in which filter will not found values which you have set.\r\nFist skip the option request then try.\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response,\r\n            FilterChain chain) throws IOException, ServletException {\r\n        HttpServletRequest req = (HttpServletRequest) request;\r\n    \t\r\n    \t\tif(!&quot;OPTIONS&quot;.equalsIgnoreCase(request.getMethod())) {\r\n        MutableHttpServletRequest mutableRequest = new MutableHttpServletRequest(req);\r\n        ...\r\n        mutableRequest.putHeader(&quot;x-user-id&quot;, &quot;1&quot;);\r\n        chain.doFilter(mutableRequest, response);\r\n    \t\t}\r\n    }","title":"How to add Request Headers in filter and get that header in controller","body":"<p>When you make a request to controller, first OPTIONS request is sent, in which filter will not found values which you have set.\nFist skip the option request then try.</p>\n\n<pre><code>@Override\npublic void doFilter(ServletRequest request, ServletResponse response,\n        FilterChain chain) throws IOException, ServletException {\n    HttpServletRequest req = (HttpServletRequest) request;\n\n        if(!\"OPTIONS\".equalsIgnoreCase(request.getMethod())) {\n    MutableHttpServletRequest mutableRequest = new MutableHttpServletRequest(req);\n    ...\n    mutableRequest.putHeader(\"x-user-id\", \"1\");\n    chain.doFilter(mutableRequest, response);\n        }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1693610912,"post_id":77014852,"comment_id":135788349,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77014852/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29336370,"reputation":1,"user_id":22476680,"display_name":"neunggu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693802597,"creation_date":1693476475,"answer_id":77014852,"question_id":61479029,"body_markdown":"Override getHeaders() in MutableHttpServletRequest class\r\nto get value using @RequestHeader.\r\n\r\n\r\n```\r\n// MutableHttpServletRequest class\r\n...\r\n@Override\r\npublic Enumeration&lt;String&gt; getHeaders(String name) {\r\n    Set&lt;String&gt; set = new HashSet();\r\n    if (customHeaders.keySet().contains(name)) {\r\n        set.add(getHeader(name));\r\n    }\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    Enumeration&lt;String&gt; e = ((HttpServletRequest) getRequest()).getHeaders(name);\r\n    while (e.hasMoreElements()) {\r\n        String n = e.nextElement();\r\n        set.add(n);\r\n    }\r\n    return Collections.enumeration(set);\r\n}\r\n...\r\n```\r\n\r\n\r\nAnd this page help for you\r\nhttps://neunggu.tistory.com/50\r\n","title":"How to add Request Headers in filter and get that header in controller","body":"<p>Override getHeaders() in MutableHttpServletRequest class\nto get value using @RequestHeader.</p>\n<pre><code>// MutableHttpServletRequest class\n...\n@Override\npublic Enumeration&lt;String&gt; getHeaders(String name) {\n    Set&lt;String&gt; set = new HashSet();\n    if (customHeaders.keySet().contains(name)) {\n        set.add(getHeader(name));\n    }\n    @SuppressWarnings(&quot;unchecked&quot;)\n    Enumeration&lt;String&gt; e = ((HttpServletRequest) getRequest()).getHeaders(name);\n    while (e.hasMoreElements()) {\n        String n = e.nextElement();\n        set.add(n);\n    }\n    return Collections.enumeration(set);\n}\n...\n</code></pre>\n<p>And this page help for you\n<a href=\"https://neunggu.tistory.com/50\" rel=\"nofollow noreferrer\">https://neunggu.tistory.com/50</a></p>\n"}],"owner":{"account_id":17735162,"reputation":68,"user_id":12876703,"display_name":"Harshad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6681,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693802597,"creation_date":1588072961,"question_id":61479029,"body_markdown":"I am Using following wrapper to add headers its adding headers in request \r\n```\r\nfinal class MutableHttpServletRequest extends HttpServletRequestWrapper {\r\n    // holds custom header and value mapping\r\n    private final Map&lt;String, String&gt; customHeaders;\r\n\r\n    public MutableHttpServletRequest(HttpServletRequest request){\r\n        super(request);\r\n        this.customHeaders = new HashMap&lt;String, String&gt;();\r\n    }\r\n\r\n    public void putHeader(String name, String value){\r\n        this.customHeaders.put(name, value);\r\n    }\r\n\r\n    public String getHeader(String name) {\r\n        // check the custom headers first\r\n        String headerValue = customHeaders.get(name);\r\n\r\n        if (headerValue != null){\r\n            return headerValue;\r\n        }\r\n        // else return from into the original wrapped object\r\n        return ((HttpServletRequest) getRequest()).getHeader(name);\r\n    }\r\n\r\n    public Enumeration&lt;String&gt; getHeaderNames() {\r\n        // create a set of the custom header names\r\n        Set&lt;String&gt; set = new HashSet&lt;String&gt;(customHeaders.keySet());\r\n\r\n        // now add the headers from the wrapped request object\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        Enumeration&lt;String&gt; e = ((HttpServletRequest) getRequest()).getHeaderNames();\r\n        while (e.hasMoreElements()) {\r\n            // add the names of the request headers into the list\r\n            String n = e.nextElement();\r\n            set.add(n);\r\n        }\r\n\r\n        // create an enumeration from the set and return\r\n        return Collections.enumeration(set);\r\n    }\r\n}\r\n```\r\nwith filter \r\n```\r\n@Override\r\npublic void doFilter(ServletRequest request, ServletResponse response,\r\n        FilterChain chain) throws IOException, ServletException {\r\n    HttpServletRequest req = (HttpServletRequest) request;\r\n    MutableHttpServletRequest mutableRequest = new MutableHttpServletRequest(req);\r\n    ...\r\n    mutableRequest.putHeader(&quot;x-user-id&quot;, &quot;1&quot;);\r\n    chain.doFilter(mutableRequest, response);\r\n}\r\n```\r\nbut i cant able to get that header in contoller its giving null\r\nso anyone please tell me how to set headers in filter and access that header in controller.\r\n```\r\n @GetMapping(&quot;/api1/temp1&quot;)\r\n\t    private ResponseEntity&lt;Object&gt;  temp1(@RequestHeader HttpHeaders headers, @RequestHeader(value=&quot;x-user-id&quot;,required=false) String userId){\r\n\t    \tSystem.out.println(userId));\r\n\t    \treturn new ResponseEntity&lt;Object&gt;(&quot;temp1 method&quot;, HttpStatus.OK);\r\n\t    }\r\n```","title":"How to add Request Headers in filter and get that header in controller","body":"<p>I am Using following wrapper to add headers its adding headers in request </p>\n\n<pre><code>final class MutableHttpServletRequest extends HttpServletRequestWrapper {\n    // holds custom header and value mapping\n    private final Map&lt;String, String&gt; customHeaders;\n\n    public MutableHttpServletRequest(HttpServletRequest request){\n        super(request);\n        this.customHeaders = new HashMap&lt;String, String&gt;();\n    }\n\n    public void putHeader(String name, String value){\n        this.customHeaders.put(name, value);\n    }\n\n    public String getHeader(String name) {\n        // check the custom headers first\n        String headerValue = customHeaders.get(name);\n\n        if (headerValue != null){\n            return headerValue;\n        }\n        // else return from into the original wrapped object\n        return ((HttpServletRequest) getRequest()).getHeader(name);\n    }\n\n    public Enumeration&lt;String&gt; getHeaderNames() {\n        // create a set of the custom header names\n        Set&lt;String&gt; set = new HashSet&lt;String&gt;(customHeaders.keySet());\n\n        // now add the headers from the wrapped request object\n        @SuppressWarnings(\"unchecked\")\n        Enumeration&lt;String&gt; e = ((HttpServletRequest) getRequest()).getHeaderNames();\n        while (e.hasMoreElements()) {\n            // add the names of the request headers into the list\n            String n = e.nextElement();\n            set.add(n);\n        }\n\n        // create an enumeration from the set and return\n        return Collections.enumeration(set);\n    }\n}\n</code></pre>\n\n<p>with filter </p>\n\n<pre><code>@Override\npublic void doFilter(ServletRequest request, ServletResponse response,\n        FilterChain chain) throws IOException, ServletException {\n    HttpServletRequest req = (HttpServletRequest) request;\n    MutableHttpServletRequest mutableRequest = new MutableHttpServletRequest(req);\n    ...\n    mutableRequest.putHeader(\"x-user-id\", \"1\");\n    chain.doFilter(mutableRequest, response);\n}\n</code></pre>\n\n<p>but i cant able to get that header in contoller its giving null\nso anyone please tell me how to set headers in filter and access that header in controller.</p>\n\n<pre><code> @GetMapping(\"/api1/temp1\")\n        private ResponseEntity&lt;Object&gt;  temp1(@RequestHeader HttpHeaders headers, @RequestHeader(value=\"x-user-id\",required=false) String userId){\n            System.out.println(userId));\n            return new ResponseEntity&lt;Object&gt;(\"temp1 method\", HttpStatus.OK);\n        }\n</code></pre>\n"},{"tags":["java","eclipse","lambda","functional-interface","apache-httpcomponents"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":2,"creation_date":1693478142,"post_id":77015018,"comment_id":135767706,"body_markdown":"It is possible, but I&#39;d advise you to look for the &quot;-source 7&quot; issue. I&#39;d guess it&#39;s in a maven file (&quot;&lt;source&gt;7&lt;/source&gt;&quot;).","body":"It is possible, but I&#39;d advise you to look for the &quot;-source 7&quot; issue. I&#39;d guess it&#39;s in a maven file (&quot;&lt;source&gt;7&lt;/source&gt;&quot;)."},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":1,"creation_date":1693478811,"post_id":77015018,"comment_id":135767847,"body_markdown":"just to clarify, do you really want to compile with java 1.7 (basically backport your code to java 1.7) and looking for non-lambda alternative of the code snippet or the issue is that eclipse doesn&#39;t compile with 1.8 for some reason? If you want to remove lambda (and sure that there are no other java 8 code parts in your codebase) then please check the  definition of `loadKeyMaterial` method. Its last parameter must be an interface, please post it in the question as well so that we could provide a working non-lambda alternative","body":"just to clarify, do you really want to compile with java 1.7 (basically backport your code to java 1.7) and looking for non-lambda alternative of the code snippet or the issue is that eclipse doesn&#39;t compile with 1.8 for some reason? If you want to remove lambda (and sure that there are no other java 8 code parts in your codebase) then please check the  definition of <code>loadKeyMaterial</code> method. Its last parameter must be an interface, please post it in the question as well so that we could provide a working non-lambda alternative"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1693479280,"post_id":77015018,"comment_id":135767931,"body_markdown":"Look at the Javadoc for `loadKeyMaterial`, see what type it expects for that parameter, and create an instance of that type, presumably by creating an anonymous instance. But as others have said, check your pom.xml","body":"Look at the Javadoc for <code>loadKeyMaterial</code>, see what type it expects for that parameter, and create an instance of that type, presumably by creating an anonymous instance. But as others have said, check your pom.xml"},{"owner":{"account_id":267247,"reputation":1186,"user_id":555303,"accept_rate":30,"display_name":"user555303"},"score":0,"creation_date":1693481347,"post_id":77015018,"comment_id":135768379,"body_markdown":"@MarkBramnik - I am not wanting to compile with java 1.7... I was asking this question because I have spent a lot time trying to (unsuccessfully) figure out why Eclipse/Maven thinks it should be building using Java 1.7 already, so I thought that an alternative might be just getting rid of the lambda expression from the code.  Not optimal, I know, but just really frustrated.  Sorry","body":"@MarkBramnik - I am not wanting to compile with java 1.7... I was asking this question because I have spent a lot time trying to (unsuccessfully) figure out why Eclipse/Maven thinks it should be building using Java 1.7 already, so I thought that an alternative might be just getting rid of the lambda expression from the code.  Not optimal, I know, but just really frustrated.  Sorry"},{"owner":{"account_id":267247,"reputation":1186,"user_id":555303,"accept_rate":30,"display_name":"user555303"},"score":0,"creation_date":1693481423,"post_id":77015018,"comment_id":135768392,"body_markdown":"@daniu - when you say &quot;a maven file&quot;, which file or files were you referring to?  Thanks!","body":"@daniu - when you say &quot;a maven file&quot;, which file or files were you referring to?  Thanks!"},{"owner":{"account_id":267247,"reputation":1186,"user_id":555303,"accept_rate":30,"display_name":"user555303"},"score":0,"creation_date":1693481782,"post_id":77015018,"comment_id":135768472,"body_markdown":"@daniu - I just editd the original post to correct the error message - it says &quot;1.7&quot;, not &quot;7&quot;.  I think I actually saw that somewhere last night in one of the files (I think it was &#39;source&#39; and &#39;target&#39;) and I tried changing that to 1.8, but it didn&#39;t work.  I&#39;ll try to find it again now ...","body":"@daniu - I just editd the original post to correct the error message - it says &quot;1.7&quot;, not &quot;7&quot;.  I think I actually saw that somewhere last night in one of the files (I think it was &#39;source&#39; and &#39;target&#39;) and I tried changing that to 1.8, but it didn&#39;t work.  I&#39;ll try to find it again now ..."},{"owner":{"account_id":267247,"reputation":1186,"user_id":555303,"accept_rate":30,"display_name":"user555303"},"score":0,"creation_date":1693482058,"post_id":77015018,"comment_id":135768527,"body_markdown":"@daniu - I found the 1.7 references again.  It is in the src-parent/pom.xml and has &quot;source&quot; and &quot;target&quot; set to &quot;1.7&quot;.  I know I tried changing this last night but I&#39;ll do it again and try a build again now and will post back.","body":"@daniu - I found the 1.7 references again.  It is in the src-parent/pom.xml and has &quot;source&quot; and &quot;target&quot; set to &quot;1.7&quot;.  I know I tried changing this last night but I&#39;ll do it again and try a build again now and will post back."},{"owner":{"account_id":267247,"reputation":1186,"user_id":555303,"accept_rate":30,"display_name":"user555303"},"score":1,"creation_date":1693483251,"post_id":77015018,"comment_id":135768814,"body_markdown":"@daniu - I made the change in the file and now it compiled!  Like I said I remember finding and trying a build last night, but I think I may&#39;ve mistakenly built the wrong project last night :( !!","body":"@daniu - I made the change in the file and now it compiled!  Like I said I remember finding and trying a build last night, but I think I may&#39;ve mistakenly built the wrong project last night :( !!"},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":1,"creation_date":1693483308,"post_id":77015018,"comment_id":135768823,"body_markdown":"I see, so try to make two things: 1. Post maven pom.xml - what happens when you compile outside eclipse (mvn clean package)  - does it compile? Especially check the properties and the definitions of maven compiler plugin in your pom.xml (you might also have defaults, which is java 1.5 at all) 2. Post the interface like I&#39;ve asked in the previous comment - this is required to help you to create a non-lambda alternative for this specific case.","body":"I see, so try to make two things: 1. Post maven pom.xml - what happens when you compile outside eclipse (mvn clean package)  - does it compile? Especially check the properties and the definitions of maven compiler plugin in your pom.xml (you might also have defaults, which is java 1.5 at all) 2. Post the interface like I&#39;ve asked in the previous comment - this is required to help you to create a non-lambda alternative for this specific case."},{"owner":{"account_id":267247,"reputation":1186,"user_id":555303,"accept_rate":30,"display_name":"user555303"},"score":0,"creation_date":1693483336,"post_id":77015018,"comment_id":135768829,"body_markdown":"@all - so I think, as far as the original question about the build problem, I am good now.  Thanks for ALL of the help/questions!!  I think that I&#39;ve been to deep/heads-down on this thing so they were all helpful.  Thanks again!!!","body":"@all - so I think, as far as the original question about the build problem, I am good now.  Thanks for ALL of the help/questions!!  I think that I&#39;ve been to deep/heads-down on this thing so they were all helpful.  Thanks again!!!"},{"owner":{"account_id":267247,"reputation":1186,"user_id":555303,"accept_rate":30,"display_name":"user555303"},"score":0,"creation_date":1693483643,"post_id":77015018,"comment_id":135768885,"body_markdown":"@daniu - I think I know what I did wrong last night - so last night, I found the 1.7 values in the src-parent/pom.xml, and I made the change in that pom.xml, then I tried to do the Run As-&gt;Maven build on the src-parent, and THAT build failed (and also failed just before now. But then after it failed just before now, I decided to do the Run As on the actual project I was working on, which was the one I was getting the lambda error on, and when I tried to build THAT project after changing the src-parent/pom.xml, the specific project built all right !!","body":"@daniu - I think I know what I did wrong last night - so last night, I found the 1.7 values in the src-parent/pom.xml, and I made the change in that pom.xml, then I tried to do the Run As-&gt;Maven build on the src-parent, and THAT build failed (and also failed just before now. But then after it failed just before now, I decided to do the Run As on the actual project I was working on, which was the one I was getting the lambda error on, and when I tried to build THAT project after changing the src-parent/pom.xml, the specific project built all right !!"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1693486524,"post_id":77015018,"comment_id":135769478,"body_markdown":"The problem is not limited to the posted code but also in the code that expects a lambda as an argument to a method.  The entire structure may be completely different.","body":"The problem is not limited to the posted code but also in the code that expects a lambda as an argument to a method.  The entire structure may be completely different."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693802325,"creation_date":1693802325,"answer_id":77035102,"question_id":77015018,"body_markdown":"You can&#39;t compile Java 8 features (lambda expression, method references) with the Java 7 compiler.\r\n\r\nAssuming you use the method from the latest version of [Apache HttpCore 4.4.16][1], just implement an instance of the anonymous class `PrivateKeyStrategy`:\r\n\r\n```java\r\nSSLContext sslContext = SSLContexts.custom().loadKeyMaterial(\r\n\tMutualHttpsMain.class.getResource(TEST_CLIENT_KEYSTORE_RESOURCE),\r\n\tstorePassword,\r\n\tkeyPassword,\r\n\tnew PrivateKeyStrategy() {\r\n\t\t@Override\r\n\t\tpublic String chooseAlias(Map&lt;String, PrivateKeyDetails&gt; aliases, Socket socket) {\r\n\t\t\treturn aliases.keySet().iterator().next();\r\n\t\t}\r\n\t}\r\n).build();\r\n```\r\n\r\n**A deprectaion note**: If you use the deprecated Apache HttpClient `org.apache.http.conn.ssl.SSLContextBuilder`, consider moving to Apache HttpCore `org.apache.http.ssl.SSLContextBuilder`.\r\n\r\n  [1]: https://javadoc.io/doc/org.apache.httpcomponents/httpcore/4.4.16/org/apache/http/ssl/SSLContextBuilder.html#loadKeyMaterial(java.net.URL,%20char[],%20char[],%20org.apache.http.ssl.PrivateKeyStrategy)","title":"How to convert Java code to non-lambda expression?","body":"<p>You can't compile Java 8 features (lambda expression, method references) with the Java 7 compiler.</p>\n<p>Assuming you use the method from the latest version of <a href=\"https://javadoc.io/doc/org.apache.httpcomponents/httpcore/4.4.16/org/apache/http/ssl/SSLContextBuilder.html#loadKeyMaterial(java.net.URL,%20char%5B%5D,%20char%5B%5D,%20org.apache.http.ssl.PrivateKeyStrategy)\" rel=\"nofollow noreferrer\">Apache HttpCore 4.4.16</a>, just implement an instance of the anonymous class <code>PrivateKeyStrategy</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SSLContext sslContext = SSLContexts.custom().loadKeyMaterial(\n    MutualHttpsMain.class.getResource(TEST_CLIENT_KEYSTORE_RESOURCE),\n    storePassword,\n    keyPassword,\n    new PrivateKeyStrategy() {\n        @Override\n        public String chooseAlias(Map&lt;String, PrivateKeyDetails&gt; aliases, Socket socket) {\n            return aliases.keySet().iterator().next();\n        }\n    }\n).build();\n</code></pre>\n<p><strong>A deprectaion note</strong>: If you use the deprecated Apache HttpClient <code>org.apache.http.conn.ssl.SSLContextBuilder</code>, consider moving to Apache HttpCore <code>org.apache.http.ssl.SSLContextBuilder</code>.</p>\n"}],"owner":{"account_id":267247,"reputation":1186,"user_id":555303,"accept_rate":30,"display_name":"user555303"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693802352,"creation_date":1693477919,"question_id":77015018,"body_markdown":"I am trying to build (in Eclipse) and use the code in this older thread:\r\n\r\nhttps://stackoverflow.com/questions/18541813/how-do-i-pass-the-client-certificate-with-http-client/46821977#46821977\r\n\r\nBut I am having problems compiling it because this line is causing the compiler to flag an error:\r\n\r\n```java\r\nSSLContext sslContext = SSLContexts.custom().loadKeyMaterial(\r\n    MutualHttpsMain.class.getResource(TEST_CLIENT_KEYSTORE_RESOURCE),\r\n    storePassword, \r\n    keyPassword,\r\n    (aliases, socket) -&gt; aliases.keySet().iterator().next()\r\n).build();\r\n```\r\n\r\nThe error is:\r\n\r\n    error: lambda expressions are not supported in -source 1.7\r\n\r\nMy understanding is that lambda expressions were not supported in Java/JDK 1.7, so it seems like Eclipse (or Maven) thinks that the compiler is 1.8, but I&#39;ve gone through my Eclipse configuration and everything appears to be configured for using JDK 1.8, so I don&#39;t know why I am still getting the error, so I am wondering:  Is it possible to convert that line so it is no longer a lambda expression?  \r\n\r\nCan someone here help with that?\r\n\r\nEDIT: Sorry, I had to correct the text of the error above... the correct error message says `1.7` and not `7`.","title":"How to convert Java code to non-lambda expression?","body":"<p>I am trying to build (in Eclipse) and use the code in this older thread:</p>\n<p><a href=\"https://stackoverflow.com/questions/18541813/how-do-i-pass-the-client-certificate-with-http-client/46821977#46821977\">How do I pass the client certificate with HTTP client?</a></p>\n<p>But I am having problems compiling it because this line is causing the compiler to flag an error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SSLContext sslContext = SSLContexts.custom().loadKeyMaterial(\n    MutualHttpsMain.class.getResource(TEST_CLIENT_KEYSTORE_RESOURCE),\n    storePassword, \n    keyPassword,\n    (aliases, socket) -&gt; aliases.keySet().iterator().next()\n).build();\n</code></pre>\n<p>The error is:</p>\n<pre><code>error: lambda expressions are not supported in -source 1.7\n</code></pre>\n<p>My understanding is that lambda expressions were not supported in Java/JDK 1.7, so it seems like Eclipse (or Maven) thinks that the compiler is 1.8, but I've gone through my Eclipse configuration and everything appears to be configured for using JDK 1.8, so I don't know why I am still getting the error, so I am wondering:  Is it possible to convert that line so it is no longer a lambda expression?</p>\n<p>Can someone here help with that?</p>\n<p>EDIT: Sorry, I had to correct the text of the error above... the correct error message says <code>1.7</code> and not <code>7</code>.</p>\n"},{"tags":["java","selenium-webdriver","cucumber"],"comments":[{"owner":{"account_id":198515,"reputation":819,"user_id":2132930,"accept_rate":100,"display_name":"Prabodh Mhalgi"},"score":0,"creation_date":1694030885,"post_id":77034974,"comment_id":135839464,"body_markdown":"Explicitly mention the cucumber version you are looking for. The question is going to say here for decades.","body":"Explicitly mention the cucumber version you are looking for. The question is going to say here for decades."}],"owner":{"account_id":29360385,"reputation":1,"user_id":22495228,"display_name":"Seetharam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693799558,"creation_date":1693799558,"question_id":77034974,"body_markdown":"Which java and selenium latest versions supported latest cucumber without any deviation. \r\nCurrently I am facing issue with java 17 and old eclipse versions. These are not supported test runner execution. \r\n\r\nPlease help me in this\r\n\r\nCompatibility with latest versions supported by java and selenium and also eclipse ide. \r\n\r\n","title":"Cucumber compatibility with java and eclipse and selenium","body":"<p>Which java and selenium latest versions supported latest cucumber without any deviation.\nCurrently I am facing issue with java 17 and old eclipse versions. These are not supported test runner execution.</p>\n<p>Please help me in this</p>\n<p>Compatibility with latest versions supported by java and selenium and also eclipse ide.</p>\n"},{"tags":["java","jodatime"],"answers":[{"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1289306985,"post_id":4133719,"comment_id":4456392,"body_markdown":"so I guess you mean this: `new DateMidnight(new DateTime())`","body":"so I guess you mean this: <code>new DateMidnight(new DateTime())</code>"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":1,"creation_date":1289307237,"post_id":4133719,"comment_id":4456450,"body_markdown":"@Erick true, but IMHO not a reason for a downvote. This is still a good answer","body":"@Erick true, but IMHO not a reason for a downvote. This is still a good answer"},{"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"score":2,"creation_date":1289307882,"post_id":4133719,"comment_id":4456596,"body_markdown":"I don&#39;t understand why this is a better answer than using `withMillisOfDay(0)`.  A `DateMidnight` object is not a `DateTime` object, so an extra object needs to be created this way.","body":"I don&#39;t understand why this is a better answer than using <code>withMillisOfDay(0)</code>.  A <code>DateMidnight</code> object is not a <code>DateTime</code> object, so an extra object needs to be created this way."},{"owner":{"account_id":17393,"reputation":61637,"user_id":38896,"accept_rate":80,"display_name":"JodaStephen"},"score":2,"creation_date":1347540462,"post_id":4133719,"comment_id":16672839,"body_markdown":"DateMidnight should be avoided, as it has dodgy semantics (not all locations have midnight on DST change days). Use LocalDate instead of DateMidnight. The intended mechanism for this in Joda-Time is roundFloorCopy(), Soundlinks answer.","body":"DateMidnight should be avoided, as it has dodgy semantics (not all locations have midnight on DST change days). Use LocalDate instead of DateMidnight. The intended mechanism for this in Joda-Time is roundFloorCopy(), Soundlinks answer."}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":4,"down_vote_count":3,"up_vote_count":24,"is_accepted":false,"score":21,"last_activity_date":1376770257,"creation_date":1289306316,"answer_id":4133719,"question_id":4133682,"body_markdown":"Take a look at [`DateMidnight`][1].\r\n\r\n\r\n    DateTime startOfMonth = new DateTime(new DateMidnight(input.withDayOfMonth(1)));\r\n\r\nUpdate: 2013-08-16 by JodaStephen: Version 2.3 of Joda-Time deprecates `DateMidnight` as it was a very bad idea of a class.\r\n\r\nSo use:\r\n\r\n    DateTime startOfMonth = input.withDayOfMonth(1).withTimeAtStartOfDay();\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateMidnight.html","title":"JodaTime equivalent of DateUtils.truncate()","body":"<p>Take a look at <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateMidnight.html\" rel=\"noreferrer\"><code>DateMidnight</code></a>.</p>\n\n<pre><code>DateTime startOfMonth = new DateTime(new DateMidnight(input.withDayOfMonth(1)));\n</code></pre>\n\n<p>Update: 2013-08-16 by JodaStephen: Version 2.3 of Joda-Time deprecates <code>DateMidnight</code> as it was a very bad idea of a class.</p>\n\n<p>So use:</p>\n\n<pre><code>DateTime startOfMonth = input.withDayOfMonth(1).withTimeAtStartOfDay();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1289307120,"post_id":4133797,"comment_id":4456423,"body_markdown":"Bozho&#39;s answer is probably the &quot;official&quot; solution, but I like this one better. Thanks.","body":"Bozho&#39;s answer is probably the &quot;official&quot; solution, but I like this one better. Thanks."},{"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"score":0,"creation_date":1289308019,"post_id":4133797,"comment_id":4456616,"body_markdown":"Why would you think that?  I don&#39;t get it.  I like this one better too, because it requires the minimum number of objects to be created.","body":"Why would you think that?  I don&#39;t get it.  I like this one better too, because it requires the minimum number of objects to be created."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1289318941,"post_id":4133797,"comment_id":4459089,"body_markdown":"Why would I think that? Because a dedicated class exists for this exact kind of problem.","body":"Why would I think that? Because a dedicated class exists for this exact kind of problem."},{"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"score":3,"creation_date":1289323135,"post_id":4133797,"comment_id":4460015,"body_markdown":"I would say that the `withMillisOfDay` method exists for this exact kind of problem.  The `DateMidnight` class exists for some other kind of problem, where you want to keep references to those objects around.  It&#39;s silly to use another class just to have to convert it back immediately -- especially when the class you were working with has a method that does exactly what you&#39;re looking for.","body":"I would say that the <code>withMillisOfDay</code> method exists for this exact kind of problem.  The <code>DateMidnight</code> class exists for some other kind of problem, where you want to keep references to those objects around.  It&#39;s silly to use another class just to have to convert it back immediately -- especially when the class you were working with has a method that does exactly what you&#39;re looking for."},{"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"score":0,"creation_date":1461259689,"post_id":4133797,"comment_id":61129837,"body_markdown":"both answers each construct the same number of objects","body":"both answers each construct the same number of objects"}],"tags":[],"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"comment_count":5,"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1693798947,"creation_date":1289306859,"answer_id":4133797,"question_id":4133682,"body_markdown":"**Use the &lt;code&gt;withMillisOfDay()&lt;/code&gt; method to shorten the syntax.**\r\n\r\n```java\r\nDateTime startOfMonth = input.withDayOfMonth(1).withMillisOfDay(0);\r\n```","title":"JodaTime equivalent of DateUtils.truncate()","body":"<p><strong>Use the <code>withMillisOfDay()</code> method to shorten the syntax.</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTime startOfMonth = input.withDayOfMonth(1).withMillisOfDay(0);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":154530,"reputation":2330,"user_id":370532,"accept_rate":83,"display_name":"Andrew Wynham"},"score":1,"creation_date":1368462267,"post_id":8510936,"comment_id":23731530,"body_markdown":"By far the best in my opinion.  I needed the date to be &quot;rounded&quot; by something selected by the user.  Using [code]input.property(&lt;DateTimeFieldType&gt;).roundFloorCopy()[/code] saved a lot of custom coding.","body":"By far the best in my opinion.  I needed the date to be &quot;rounded&quot; by something selected by the user.  Using [code]input.property(&lt;DateTimeFieldType&gt;).roundFloorCopy()[/&zwnj;&#8203;code] saved a lot of custom coding."}],"tags":[],"owner":{"account_id":33849,"reputation":3935,"user_id":95103,"accept_rate":50,"display_name":"Soundlink"},"comment_count":1,"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1376677072,"creation_date":1323893186,"answer_id":8510936,"question_id":4133682,"body_markdown":"You can use **[roundFloorCopy()][1]** to mimic DateUtils.truncate\r\n\r\n    Date truncateMonth = DateUtils.truncate(input, Calendar.MONTH);\r\n    -&gt; DateTime truncateMonth = input.dayOfMonth().roundFloorCopy();\r\n\r\n    Date truncateMinute = DateUtils.truncate(input, Calendar.MINUTE);\r\n    -&gt; DateTime truncateMinute = input.minuteOfDay().roundFloorCopy();\r\n\r\n    Date truncateHourOfDay = DateUtils.truncate(input, Calendar.HOUR_OF_DAY);\r\n    -&gt; DateTime truncateHourOfDay = input.hourOfDay().roundFloorCopy()\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/apidocs/org/joda/time/LocalDate.Property.html#roundFloorCopy%28%29","title":"JodaTime equivalent of DateUtils.truncate()","body":"<p>You can use <strong><a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/LocalDate.Property.html#roundFloorCopy%28%29\">roundFloorCopy()</a></strong> to mimic DateUtils.truncate</p>\n\n<pre><code>Date truncateMonth = DateUtils.truncate(input, Calendar.MONTH);\n-&gt; DateTime truncateMonth = input.dayOfMonth().roundFloorCopy();\n\nDate truncateMinute = DateUtils.truncate(input, Calendar.MINUTE);\n-&gt; DateTime truncateMinute = input.minuteOfDay().roundFloorCopy();\n\nDate truncateHourOfDay = DateUtils.truncate(input, Calendar.HOUR_OF_DAY);\n-&gt; DateTime truncateHourOfDay = input.hourOfDay().roundFloorCopy()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1381998429,"creation_date":1381998429,"answer_id":19421660,"question_id":4133682,"body_markdown":"Joda Time also supports the [withFields][1] method in the `DateTime` type. This can also be used to create a short syntax:\r\n\r\n    new DateTime().withDayOfMonth(1).withFields(new LocalTime(0, 0));\r\n\r\nIn production code the argument to `withFields` should be factored out to a constant.\r\n\r\n\r\n  [1]: http://joda-time.sourceforge.net/apidocs/src-html/org/joda/time/DateTime.html#line.775","title":"JodaTime equivalent of DateUtils.truncate()","body":"<p>Joda Time also supports the <a href=\"http://joda-time.sourceforge.net/apidocs/src-html/org/joda/time/DateTime.html#line.775\" rel=\"nofollow\">withFields</a> method in the <code>DateTime</code> type. This can also be used to create a short syntax:</p>\n\n<pre><code>new DateTime().withDayOfMonth(1).withFields(new LocalTime(0, 0));\n</code></pre>\n\n<p>In production code the argument to <code>withFields</code> should be factored out to a constant.</p>\n"}],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28399,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":8510936,"answer_count":4,"score":45,"last_activity_date":1693798947,"creation_date":1289306093,"question_id":4133682,"body_markdown":"I have never used [JodaTime][1] before, but answering this question, https://stackoverflow.com/questions/4131558/how-to-get-weekdays-in-a-month/4132083#4132083. \r\n\r\nI tried it and came up with this ugly code to unset all fields below day:\r\n\r\n    DateTime startOfMonth =\r\n        input.withDayOfMonth(1)\r\n            .withHourOfDay(0)       // there\r\n            .withMinuteOfHour(0)    // has got to\r\n            .withSecondOfMinute(0)  // be a shorter way\r\n            .withMillisOfSecond(0); // to do this\r\n\r\nWhere the [Commons / Lang][3] equivalent using [DateUtils][4] would be\r\n\r\n    Date startOfMonth = DateUtils.truncate(input, Calendar.MONTH);\r\n\r\nWhat&#39;s the preferred idiom to do that in JodaTime?\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/\r\n  [3]: http://commons.apache.org/lang\r\n  [4]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.5/org/apache/commons/lang/time/DateUtils.html","title":"JodaTime equivalent of DateUtils.truncate()","body":"<p>I have never used <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">JodaTime</a> before, but answering this question, <a href=\"https://stackoverflow.com/questions/4131558/how-to-get-weekdays-in-a-month/4132083#4132083\">How to get ordinal Weekdays in a Month</a>.</p>\n<p>I tried it and came up with this ugly code to unset all fields below day:</p>\n<pre><code>DateTime startOfMonth =\n    input.withDayOfMonth(1)\n        .withHourOfDay(0)       // there\n        .withMinuteOfHour(0)    // has got to\n        .withSecondOfMinute(0)  // be a shorter way\n        .withMillisOfSecond(0); // to do this\n</code></pre>\n<p>Where the <a href=\"http://commons.apache.org/lang\" rel=\"nofollow noreferrer\">Commons / Lang</a> equivalent using <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.5/org/apache/commons/lang/time/DateUtils.html\" rel=\"nofollow noreferrer\">DateUtils</a> would be</p>\n<pre><code>Date startOfMonth = DateUtils.truncate(input, Calendar.MONTH);\n</code></pre>\n<p>What's the preferred idiom to do that in JodaTime?</p>\n"},{"tags":["java","database","oracle","hibernate","ddl"],"comments":[{"owner":{"account_id":2599844,"reputation":8426,"user_id":2252572,"accept_rate":63,"display_name":"Bacteria"},"score":0,"creation_date":1434488573,"post_id":30875863,"comment_id":49797259,"body_markdown":"If u have provision to use Spring with hibernate then Spring 3 has support for embedded Java database engines. Embedded databases like HSQL, H2, or Derby.  For details [View](http://docs.spring.io/spring/docs/3.0.0.RC2/spring-framework-reference/html/ch12s08.html?ref=driverlayer.com/web) this.","body":"If u have provision to use Spring with hibernate then Spring 3 has support for embedded Java database engines. Embedded databases like HSQL, H2, or Derby.  For details <a href=\"http://docs.spring.io/spring/docs/3.0.0.RC2/spring-framework-reference/html/ch12s08.html?ref=driverlayer.com/web\" rel=\"nofollow noreferrer\">View</a> this."},{"owner":{"account_id":428764,"reputation":4721,"user_id":811299,"accept_rate":47,"display_name":"Steve Cohen"},"score":0,"creation_date":1434490756,"post_id":30875863,"comment_id":49798353,"body_markdown":"sounds cool - but I need Oracle.","body":"sounds cool - but I need Oracle."},{"owner":{"account_id":2599844,"reputation":8426,"user_id":2252572,"accept_rate":63,"display_name":"Bacteria"},"score":0,"creation_date":1434491145,"post_id":30875863,"comment_id":49798537,"body_markdown":"without installing oracle.I don&#39;t think it is possible.Oracle Database XE-is an entry-level, small-footprint database and easy to install &amp;  It&#39;s free.U can easily use it.","body":"without installing oracle.I don&#39;t think it is possible.Oracle Database XE-is an entry-level, small-footprint database and easy to install &amp;  It&#39;s free.U can easily use it."}],"answers":[{"comments":[{"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"score":0,"creation_date":1493993179,"post_id":30884476,"comment_id":74653102,"body_markdown":"What is `&lt;pathelement path=&quot;${maven_test_classpath}&quot;/&gt;` ?","body":"What is <code>&lt;pathelement path=&quot;${maven_test_classpath}&quot;&#47;&gt;</code> ?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1493993989,"post_id":30884476,"comment_id":74653710,"body_markdown":"That&#39;s the path to the test classpath so that you can have the Ant task get access to the same libraries defined by your Maven test phase.","body":"That&#39;s the path to the test classpath so that you can have the Ant task get access to the same libraries defined by your Maven test phase."}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1515092226,"creation_date":1434524680,"answer_id":30884476,"question_id":30875863,"body_markdown":"1. You can either use an [In-memory database during testing phase][1];\r\n\r\n    hibernate.hbm2ddl.auto=&quot;update&quot;\r\n\r\n2. Or you can generate your DDL using the `hibernatetool` from `Maven`:\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;generate-test-sql-scripts&lt;/id&gt;\r\n                    &lt;phase&gt;generate-test-resources&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;run&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;tasks&gt;\r\n                            &lt;property name=&quot;maven_test_classpath&quot; refid=&quot;maven.test.classpath&quot;/&gt;\r\n                            &lt;path id=&quot;hibernate_tools_path&quot;&gt;\r\n                                &lt;pathelement path=&quot;${maven_test_classpath}&quot;/&gt;\r\n                            &lt;/path&gt;\r\n                            &lt;property name=&quot;hibernate_tools_classpath&quot; refid=&quot;hibernate_tools_path&quot;/&gt;\r\n                            &lt;taskdef name=&quot;hibernatetool&quot;\r\n                                     classname=&quot;org.hibernate.tool.ant.HibernateToolTask&quot;/&gt;\r\n                            &lt;mkdir dir=&quot;${project.build.directory}/test-classes/hsqldb&quot;/&gt;\r\n                            &lt;hibernatetool destdir=&quot;${project.build.directory}/test-classes/hsqldb&quot;&gt;\r\n                                &lt;classpath refid=&quot;hibernate_tools_path&quot;/&gt;\r\n                                &lt;jpaconfiguration persistenceunit=&quot;testPersistenceUnit&quot;\r\n                                                  propertyfile=&quot;src/test/resources/META-INF/spring/jdbc.properties&quot;/&gt;\r\n                                &lt;hbm2ddl drop=&quot;false&quot; create=&quot;true&quot; export=&quot;false&quot;\r\n                                         outputfilename=&quot;create_db.sql&quot;\r\n                                         delimiter=&quot;;&quot; format=&quot;true&quot;/&gt;\r\n                                &lt;hbm2ddl drop=&quot;true&quot; create=&quot;false&quot; export=&quot;false&quot;\r\n                                         outputfilename=&quot;drop_db.sql&quot;\r\n                                         delimiter=&quot;;&quot; format=&quot;true&quot;/&gt;\r\n                            &lt;/hibernatetool&gt;\r\n                        &lt;/tasks&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    \r\n This `Maven` plugin will generate the following DDL files:\r\n\r\n- create_db.sql (containing all DDL statements for creating the DB)\r\n- drop_db.sql (containing all DDL statements for dropping the DB)\r\n\r\n  [1]: https://vladmihalcea.com/hibernate-facts-integration-testing-strategies/","title":"Can Hibernate Schema generation be used to generate DDL without database connection","body":"<ol>\n<li><p>You can either use an <a href=\"https://vladmihalcea.com/hibernate-facts-integration-testing-strategies/\" rel=\"nofollow noreferrer\">In-memory database during testing phase</a>;</p>\n\n<p>hibernate.hbm2ddl.auto=\"update\"</p></li>\n<li><p>Or you can generate your DDL using the <code>hibernatetool</code> from <code>Maven</code>:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;generate-test-sql-scripts&lt;/id&gt;\n            &lt;phase&gt;generate-test-resources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;run&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;tasks&gt;\n                    &lt;property name=\"maven_test_classpath\" refid=\"maven.test.classpath\"/&gt;\n                    &lt;path id=\"hibernate_tools_path\"&gt;\n                        &lt;pathelement path=\"${maven_test_classpath}\"/&gt;\n                    &lt;/path&gt;\n                    &lt;property name=\"hibernate_tools_classpath\" refid=\"hibernate_tools_path\"/&gt;\n                    &lt;taskdef name=\"hibernatetool\"\n                             classname=\"org.hibernate.tool.ant.HibernateToolTask\"/&gt;\n                    &lt;mkdir dir=\"${project.build.directory}/test-classes/hsqldb\"/&gt;\n                    &lt;hibernatetool destdir=\"${project.build.directory}/test-classes/hsqldb\"&gt;\n                        &lt;classpath refid=\"hibernate_tools_path\"/&gt;\n                        &lt;jpaconfiguration persistenceunit=\"testPersistenceUnit\"\n                                          propertyfile=\"src/test/resources/META-INF/spring/jdbc.properties\"/&gt;\n                        &lt;hbm2ddl drop=\"false\" create=\"true\" export=\"false\"\n                                 outputfilename=\"create_db.sql\"\n                                 delimiter=\";\" format=\"true\"/&gt;\n                        &lt;hbm2ddl drop=\"true\" create=\"false\" export=\"false\"\n                                 outputfilename=\"drop_db.sql\"\n                                 delimiter=\";\" format=\"true\"/&gt;\n                    &lt;/hibernatetool&gt;\n                &lt;/tasks&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>This <code>Maven</code> plugin will generate the following DDL files:</p>\n\n<ul>\n<li>create_db.sql (containing all DDL statements for creating the DB)</li>\n<li>drop_db.sql (containing all DDL statements for dropping the DB)</li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":970793,"reputation":440,"user_id":993401,"display_name":"jstadler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533628544,"creation_date":1533628544,"answer_id":51721652,"question_id":30875863,"body_markdown":"As of hibernate-tools 5.3 you can also use the integrated [hibernate-tools-maven-plugin][1]. There you should also find documentation on how to use it.\r\n\r\nUnfortunatelly the maven-site with detailed description of the parameters/goals for it is not yet published but a little bit older version of it is available [here][2].\r\n\r\nThere would be a PR ([#842][3]) that would allow for the site to be generated... unfortunatelly it hasn&#39;t found its way in yet.\r\n\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-tools/tree/master/maven\r\n  [2]: https://stadler.github.io/hibernate-tools-maven-plugin/\r\n  [3]: https://github.com/hibernate/hibernate-tools/pull/842","title":"Can Hibernate Schema generation be used to generate DDL without database connection","body":"<p>As of hibernate-tools 5.3 you can also use the integrated <a href=\"https://github.com/hibernate/hibernate-tools/tree/master/maven\" rel=\"nofollow noreferrer\">hibernate-tools-maven-plugin</a>. There you should also find documentation on how to use it.</p>\n\n<p>Unfortunatelly the maven-site with detailed description of the parameters/goals for it is not yet published but a little bit older version of it is available <a href=\"https://stadler.github.io/hibernate-tools-maven-plugin/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>There would be a PR (<a href=\"https://github.com/hibernate/hibernate-tools/pull/842\" rel=\"nofollow noreferrer\">#842</a>) that would allow for the site to be generated... unfortunatelly it hasn't found its way in yet.</p>\n"},{"tags":[],"owner":{"account_id":97204,"reputation":4979,"user_id":263801,"accept_rate":74,"display_name":"Archie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693798447,"creation_date":1693798447,"answer_id":77034943,"question_id":30875863,"body_markdown":"Please try my new plugin which addresses this exact problem which has also plagued me for many years.\r\n\r\nhttps://github.com/archiecobbs/hibernate-jpa-schemagen","title":"Can Hibernate Schema generation be used to generate DDL without database connection","body":"<p>Please try my new plugin which addresses this exact problem which has also plagued me for many years.</p>\n<p><a href=\"https://github.com/archiecobbs/hibernate-jpa-schemagen\" rel=\"nofollow noreferrer\">https://github.com/archiecobbs/hibernate-jpa-schemagen</a></p>\n"}],"owner":{"account_id":428764,"reputation":4721,"user_id":811299,"accept_rate":47,"display_name":"Steve Cohen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2570,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1693798447,"creation_date":1434480753,"question_id":30875863,"body_markdown":"I&#39;d like to use Hibernate&#39; schema generation to generate DDL for a database that I cannot access directly from my PC, just using hibernate config files.  I&#39;d like to skip, if possible, the installation of a local oracle database.  Can hibernate generate DDL for a &quot;theoretical&quot; database of the appropriate dialect, version, etc., or is this a pipe dream?\r\n\r\nAre there other tools that can do this?\r\n","title":"Can Hibernate Schema generation be used to generate DDL without database connection","body":"<p>I'd like to use Hibernate' schema generation to generate DDL for a database that I cannot access directly from my PC, just using hibernate config files.  I'd like to skip, if possible, the installation of a local oracle database.  Can hibernate generate DDL for a \"theoretical\" database of the appropriate dialect, version, etc., or is this a pipe dream?</p>\n\n<p>Are there other tools that can do this?</p>\n"},{"tags":["java","php","android"],"comments":[{"owner":{"account_id":24000166,"reputation":220,"user_id":17985195,"display_name":"TP95"},"score":0,"creation_date":1693798082,"post_id":77034903,"comment_id":135803165,"body_markdown":"The symbol &quot;\\n&quot; is an escape character for new line. This indicates in text that the next characters after this symbol is written in the next line. Usually the keyboard shortcuts for this is just pressing our &quot;Enter&quot; key. Maybe when the username is added and then the user presses &quot;Enter&quot; to submit the login form its registering this symbol.","body":"The symbol &quot;\\n&quot; is an escape character for new line. This indicates in text that the next characters after this symbol is written in the next line. Usually the keyboard shortcuts for this is just pressing our &quot;Enter&quot; key. Maybe when the username is added and then the user presses &quot;Enter&quot; to submit the login form its registering this symbol."},{"owner":{"account_id":29360244,"reputation":1,"user_id":22495119,"display_name":"Ahmad Fauzan"},"score":0,"creation_date":1693798373,"post_id":77034903,"comment_id":135803190,"body_markdown":"VERY HELPFUL I found the problem like u said when I register the username I pressed&quot;enter&quot;, thank you","body":"VERY HELPFUL I found the problem like u said when I register the username I pressed&quot;enter&quot;, thank you"},{"owner":{"account_id":1129881,"reputation":11551,"user_id":1116230,"display_name":"Nico Haase"},"score":0,"creation_date":1693812059,"post_id":77034903,"comment_id":135804676,"body_markdown":"Is this a PHP problem or a Java problem? Please share the code involved, along with your attempts to resolve the problem","body":"Is this a PHP problem or a Java problem? Please share the code involved, along with your attempts to resolve the problem"}],"answers":[{"comments":[{"owner":{"account_id":29360244,"reputation":1,"user_id":22495119,"display_name":"Ahmad Fauzan"},"score":0,"creation_date":1693798145,"post_id":77034928,"comment_id":135803173,"body_markdown":"mean is this a normal thing? sorry to ask like this I&#39;m a beginner","body":"mean is this a normal thing? sorry to ask like this I&#39;m a beginner"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1693798315,"post_id":77034928,"comment_id":135803185,"body_markdown":"It is expected that if a string has special characters not allowed by the JSON specification they have to escaped. You should get familiar with the specification. If that character was intended for this particular string is something that you should ask to whoever provided that JSON document.","body":"It is expected that if a string has special characters not allowed by the JSON specification they have to escaped. You should get familiar with the specification. If that character was intended for this particular string is something that you should ask to whoever provided that JSON document."},{"owner":{"account_id":29360244,"reputation":1,"user_id":22495119,"display_name":"Ahmad Fauzan"},"score":0,"creation_date":1693798757,"post_id":77034928,"comment_id":135803215,"body_markdown":"VERY HELPFUL I found the problem,  when I register the username I pressed&quot;enter&quot;, thank you aled","body":"VERY HELPFUL I found the problem,  when I register the username I pressed&quot;enter&quot;, thank you aled"}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693798146,"creation_date":1693798025,"answer_id":77034928,"question_id":77034903,"body_markdown":"That&#39;s an escaped newline character inside the string. Unescaped newlines are invalid inside JSON strings.\r\n\r\nNote that a newline may not be visible is there is no further text in a UI, so it may be not obvious to a user.","title":"an inappropriate symbol appears in the response","body":"<p>That's an escaped newline character inside the string. Unescaped newlines are invalid inside JSON strings.</p>\n<p>Note that a newline may not be visible is there is no further text in a UI, so it may be not obvious to a user.</p>\n"}],"owner":{"account_id":29360244,"reputation":1,"user_id":22495119,"display_name":"Ahmad Fauzan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1693798146,"creation_date":1693797455,"question_id":77034903,"body_markdown":"I created a registration and login code that connects to Android Studio, but I face a login that cannot, after I checked with Postman that my login and register was successful but apparently I found a strange symbol appeared in the response.\r\n\r\n{\r\n&quot;status&quot;: true,\r\n&quot;message&quot;: &quot;Login Berhasil&quot;,\r\n&quot;data&quot;: {\r\n&quot;user_id&quot;: 3,\r\n&quot;username&quot;: &quot;admin2\\n&quot;,\r\n&quot;name&quot;: &quot;admin2&quot;\r\n}\r\n}\r\n\r\nthe strange symbol I mean is the &quot;\\n&quot; that appears in the username section\r\n\r\nI&#39;ve been trying to find where this symbol is located but can&#39;t find it, I hope here I can find a solution.","title":"an inappropriate symbol appears in the response","body":"<p>I created a registration and login code that connects to Android Studio, but I face a login that cannot, after I checked with Postman that my login and register was successful but apparently I found a strange symbol appeared in the response.</p>\n<p>{\n&quot;status&quot;: true,\n&quot;message&quot;: &quot;Login Berhasil&quot;,\n&quot;data&quot;: {\n&quot;user_id&quot;: 3,\n&quot;username&quot;: &quot;admin2\\n&quot;,\n&quot;name&quot;: &quot;admin2&quot;\n}\n}</p>\n<p>the strange symbol I mean is the &quot;\\n&quot; that appears in the username section</p>\n<p>I've been trying to find where this symbol is located but can't find it, I hope here I can find a solution.</p>\n"},{"tags":["java","spring","generics","design-patterns","interface"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1693753851,"post_id":77032783,"comment_id":135799217,"body_markdown":"I&#39;m not sure I understand the problem. Each validator receives a different type, so that distinction has to be propagated somehow. The bit that confuses me is that you want a generic thing, which is already `InputValidator&lt;T&gt;`, what else do you want different? It&#39;s worth mentioning that Spring encourages a very, very poor OO design in which all logic is in &#39;Services/handers/whatever`, and I wonder if you are feeling some frustration due to it.","body":"I&#39;m not sure I understand the problem. Each validator receives a different type, so that distinction has to be propagated somehow. The bit that confuses me is that you want a generic thing, which is already <code>InputValidator&lt;T&gt;</code>, what else do you want different? It&#39;s worth mentioning that Spring encourages a very, very poor OO design in which all logic is in &#39;Services/handers/whatever`, and I wonder if you are feeling some frustration due to it."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1693758036,"post_id":77032783,"comment_id":135799687,"body_markdown":"https://en.wikipedia.org/wiki/Bean_Validation and https://jakarta.ee/specifications/bean-validation/","body":"<a href=\"https://en.wikipedia.org/wiki/Bean_Validation\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Bean_Validation</a> and <a href=\"https://jakarta.ee/specifications/bean-validation/\" rel=\"nofollow noreferrer\">jakarta.ee/specifications/bean-validation</a>"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1693896236,"post_id":77032783,"comment_id":135815898,"body_markdown":"To add to Basil&#39;s comment: You seem to have implemented your own validation mechanism. Java EE / Jakarta EE has a standard API for validation, the Bean Validation API. Spring supports this as well. It would be better to use the standard mechanism instead of re-inventing this yourself.","body":"To add to Basil&#39;s comment: You seem to have implemented your own validation mechanism. Java EE / Jakarta EE has a standard API for validation, the Bean Validation API. Spring supports this as well. It would be better to use the standard mechanism instead of re-inventing this yourself."}],"answers":[{"tags":[],"owner":{"account_id":27505,"reputation":32693,"user_id":72673,"accept_rate":72,"display_name":"Maurice Perry"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693755918,"creation_date":1693755918,"answer_id":77033053,"question_id":77032783,"body_markdown":"I&#39;m not sure I understand your question fully, but here are a few ideas.\r\n\r\nYou can group multiple validators on the same type with a class like this:\r\n\r\n    public class MultiInputsValidator&lt;T&gt; implements InputsValidator&lt;T&gt; {\r\n        private final InputsValidator&lt;T&gt;[] validators;\r\n    \r\n        public MultiInputsValidator(InputsValidator&lt;T&gt;... validators) {\r\n            this.validators = validators;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;MessageEnum&gt; validator(T input) {\r\n            List&lt;MessageEnum&gt; result = new ArrayList&lt;&gt;();\r\n            for (InputsValidator&lt;T&gt; tor: validators) {\r\n                result.addAll(tor.validator(input));\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n\r\nYou can write a validator class that validates a property of an object as follows:\r\n\r\n    public class PropertyValidator&lt;T,F&gt; implements InputsValidator&lt;T&gt; {\r\n        private final Function&lt;T,F&gt; getter;\r\n        private final InputsValidator&lt;F&gt; fieldValidator;\r\n    \r\n        public PropertyValidator(\r\n                Function&lt;T,F&gt; getter, InputsValidator&lt;F&gt; fieldValidator) {\r\n            this.getter = getter;\r\n            this.fieldValidator = fieldValidator;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;MessageEnum&gt; validator(T input) {\r\n            return fieldValidator.validator(getter.apply(input));\r\n        }\r\n    }\r\n\r\nAnd you can combine the above for a particular class, like say:\r\n\r\n    public class Compound {\r\n        private Contact contact;\r\n        private Address address;\r\n    \r\n        public Contact getContact() {\r\n            return contact;\r\n        }\r\n    \r\n        public Address getAddress() {\r\n            return address;\r\n        }\r\n\r\n        ...\r\n    }\r\n\r\nAs follows:\r\n\r\n    @Component\r\n    public class CompoundInputsValidator extends MultiInputsValidator&lt;Compound&gt; {\r\n        @Autowired\r\n        public CompoundInputsValidator(\r\n                AddressInputsValidator addressValidator,\r\n                ContactInputsValidator contactValidator) {\r\n            super(new PropertyValidator&lt;&gt;(Compound::getAddress,addressValidator),\r\n                    new PropertyValidator&lt;&gt;(Compound::getContact,contactValidator));\r\n        }\r\n        \r\n    }\r\n\r\nI hope this will help.\r\n\r\n","title":"How to simplify dependency injection of generic interfaces with multiple implementations in a Java application?","body":"<p>I'm not sure I understand your question fully, but here are a few ideas.</p>\n<p>You can group multiple validators on the same type with a class like this:</p>\n<pre><code>public class MultiInputsValidator&lt;T&gt; implements InputsValidator&lt;T&gt; {\n    private final InputsValidator&lt;T&gt;[] validators;\n\n    public MultiInputsValidator(InputsValidator&lt;T&gt;... validators) {\n        this.validators = validators;\n    }\n\n    @Override\n    public List&lt;MessageEnum&gt; validator(T input) {\n        List&lt;MessageEnum&gt; result = new ArrayList&lt;&gt;();\n        for (InputsValidator&lt;T&gt; tor: validators) {\n            result.addAll(tor.validator(input));\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>You can write a validator class that validates a property of an object as follows:</p>\n<pre><code>public class PropertyValidator&lt;T,F&gt; implements InputsValidator&lt;T&gt; {\n    private final Function&lt;T,F&gt; getter;\n    private final InputsValidator&lt;F&gt; fieldValidator;\n\n    public PropertyValidator(\n            Function&lt;T,F&gt; getter, InputsValidator&lt;F&gt; fieldValidator) {\n        this.getter = getter;\n        this.fieldValidator = fieldValidator;\n    }\n\n    @Override\n    public List&lt;MessageEnum&gt; validator(T input) {\n        return fieldValidator.validator(getter.apply(input));\n    }\n}\n</code></pre>\n<p>And you can combine the above for a particular class, like say:</p>\n<pre><code>public class Compound {\n    private Contact contact;\n    private Address address;\n\n    public Contact getContact() {\n        return contact;\n    }\n\n    public Address getAddress() {\n        return address;\n    }\n\n    ...\n}\n</code></pre>\n<p>As follows:</p>\n<pre><code>@Component\npublic class CompoundInputsValidator extends MultiInputsValidator&lt;Compound&gt; {\n    @Autowired\n    public CompoundInputsValidator(\n            AddressInputsValidator addressValidator,\n            ContactInputsValidator contactValidator) {\n        super(new PropertyValidator&lt;&gt;(Compound::getAddress,addressValidator),\n                new PropertyValidator&lt;&gt;(Compound::getContact,contactValidator));\n    }\n    \n}\n</code></pre>\n<p>I hope this will help.</p>\n"},{"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693784171,"creation_date":1693758174,"answer_id":77033212,"question_id":77032783,"body_markdown":"Spring automatically groups all the validators inside a list in this manner:\r\n\r\n    @Autowired\r\n    List&lt;InputsValidator&gt; inputsValidators;\r\n\r\nThis, `inputValidators` list will contain all the implementation classes of `InputsValidator`","title":"How to simplify dependency injection of generic interfaces with multiple implementations in a Java application?","body":"<p>Spring automatically groups all the validators inside a list in this manner:</p>\n<pre><code>@Autowired\nList&lt;InputsValidator&gt; inputsValidators;\n</code></pre>\n<p>This, <code>inputValidators</code> list will contain all the implementation classes of <code>InputsValidator</code></p>\n"}],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77033053,"answer_count":2,"score":0,"last_activity_date":1693797505,"creation_date":1693751735,"question_id":77032783,"body_markdown":"I have an interface that looks like this:\r\n\r\n    public interface InputsValidator&lt;T&gt; {\r\n        List&lt;MessageEnum&gt; validator(T input);\r\n    }\r\n\r\nI have multiple implementations for example:\r\n\r\n    @Component\r\n    class AddressInputsValidator implements InputsValidator&lt;Address&gt; {\r\n    \r\n        @Override\r\n        public List&lt;MessageEnum&gt; validator(Address input) {\r\n            List&lt;MessageEnum&gt; messages = new ArrayList&lt;&gt;();\r\n            // Some actions\r\n            return messages;\r\n        }\r\n    }\r\n\r\nand \r\n\r\n    @Component\r\n    class ContactInputsValidator implements InputsValidator&lt;Contact&gt; {\r\n    \r\n        @Override\r\n        public List&lt;MessageEnum&gt; validator(Contact input) {\r\n            List&lt;MessageEnum&gt; messages = new ArrayList&lt;&gt;();\r\n            // Some actions\r\n            return messages;\r\n        }\r\n    }\r\n\r\nNow, in my Spring Boot service, I need to call multiple validators. Today, if I need 10 validators I need to declare all of them:\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    class MyServiceApiImpl extends DelegateHelper implements UserApiDelegate {\r\n    \r\n        private final InputsValidator&lt;Address&gt; addressInputsValidator;\r\n        private final InputsValidator&lt;Contact&gt; contactInputsValidator;\r\n        ....\r\n    }\r\n\r\nIs there an elegant way or design pattern to replace all these InputsValidator declarations of each type, with only generic one? For example\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    class MyServiceApiImpl extends DelegateHelper implements UserApiDelegate {\r\n    \r\n        private final InputsValidator&lt;T&gt; inputsValidator; // Wrong solution\r\n        ....\r\n    }\r\n","title":"How to simplify dependency injection of generic interfaces with multiple implementations in a Java application?","body":"<p>I have an interface that looks like this:</p>\n<pre><code>public interface InputsValidator&lt;T&gt; {\n    List&lt;MessageEnum&gt; validator(T input);\n}\n</code></pre>\n<p>I have multiple implementations for example:</p>\n<pre><code>@Component\nclass AddressInputsValidator implements InputsValidator&lt;Address&gt; {\n\n    @Override\n    public List&lt;MessageEnum&gt; validator(Address input) {\n        List&lt;MessageEnum&gt; messages = new ArrayList&lt;&gt;();\n        // Some actions\n        return messages;\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Component\nclass ContactInputsValidator implements InputsValidator&lt;Contact&gt; {\n\n    @Override\n    public List&lt;MessageEnum&gt; validator(Contact input) {\n        List&lt;MessageEnum&gt; messages = new ArrayList&lt;&gt;();\n        // Some actions\n        return messages;\n    }\n}\n</code></pre>\n<p>Now, in my Spring Boot service, I need to call multiple validators. Today, if I need 10 validators I need to declare all of them:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\nclass MyServiceApiImpl extends DelegateHelper implements UserApiDelegate {\n\n    private final InputsValidator&lt;Address&gt; addressInputsValidator;\n    private final InputsValidator&lt;Contact&gt; contactInputsValidator;\n    ....\n}\n</code></pre>\n<p>Is there an elegant way or design pattern to replace all these InputsValidator declarations of each type, with only generic one? For example</p>\n<pre><code>@Component\n@RequiredArgsConstructor\nclass MyServiceApiImpl extends DelegateHelper implements UserApiDelegate {\n\n    private final InputsValidator&lt;T&gt; inputsValidator; // Wrong solution\n    ....\n}\n</code></pre>\n"},{"tags":["java","html","pdf","itext"],"answers":[{"comments":[{"owner":{"account_id":4054403,"reputation":378,"user_id":3332886,"accept_rate":88,"display_name":"SivaTeja"},"score":0,"creation_date":1430998095,"post_id":30099596,"comment_id":48310916,"body_markdown":"can you suggest me how can i generate table of contents for the pdf just like a book having index . thanks","body":"can you suggest me how can i generate table of contents for the pdf just like a book having index . thanks"}],"tags":[],"owner":{"account_id":3108540,"reputation":1945,"user_id":2630841,"accept_rate":82,"display_name":"Raj"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1430999100,"creation_date":1430997545,"answer_id":30099596,"question_id":30098293,"body_markdown":"There are some open source and some paid options. itext imho would bring out the best result if you can use a product under AGPL license. \r\n\r\n**If you are looking for open source / free**\r\n\r\n\r\nYet another Html to Pdf converter ==&gt; http://www.allcolor.org/YaHPConverter/\r\n\r\nwkhtmltopdf  ==&gt; http://wkhtmltopdf.org/\r\n\r\nPDF Box ==&gt; http://pdfbox.apache.org/\r\n\r\nitext ( AGPL(free) / commercial licence ) http://itextpdf.com/pricing\r\n\r\n\r\n**If you are looking for paid(and almost always easier)**\r\n\r\nhttp://docraptor.com/ \r\n\r\nhttp://pd4ml.com/\r\n\r\nhttp://pdfcrowd.com/web-html-to-pdf-java/\r\n\r\nhttp://www.aspose.com/docs/display/pdfjava/Convert+HTML+to+PDF+Format\r\n\r\nhttp://www.princexml.com/\r\n\r\nRegarding TOC\r\n=============\r\nThis answer is provided by **Bruno Lowagie creater of itext.**\r\n\r\nhttp://support.itextpdf.com/node/113\r\n\r\n\r\nThere are different ways to solve this problem.\r\n\r\n**Solution 1**: you could create a PDF with bookmarks in a first pass, without worrying about a table of contents. Then in a second pass, you take the PDF you&#39;ve generated to create a TOC based on the bookmarks and create a new PDF with the TOC, followed by the content.\r\n\r\n**Solution 2**: you could create two PDF files simultaneously, one with the actual content, one with the TOC. Once you&#39;ve created all the content, you can concatenate both files: first the TOC, then the actual content.\r\n\r\n**Solution 3**: you can keep all the entries for the TOC in memory, add these entries at the end of the document, and then reorder the pages.\r\n\r\nThese three solutions are the first that come to mind (based on examples in the book); there may be other ways to do it.\r\n\r\nThere&#39;s one major difficulty you need to take into account: what about page numbers?\r\n\r\nIf you look at a Manning book (for example &quot;iText in Action&quot;), you&#39;ll see that the TOC is numbered i, ii, iii, iv, v,... whereas the actual content is numbered 1, 2, 3, 4, 5,...\r\n\r\nIf you want to avoid this, if you want to number the pages 1, 2, 3, 4, 5, 6, 7,... from the start, a solution where you create the PDF &quot;in two passes&quot; is best, because you can wait to add the page numbers until the second pass (only then you know how many pages there are in the TOC).\r\n\r\nAlso check links\r\n\r\nhttp://itextpdf.com/sandbox/merge/MergeWithToc \r\n\r\nhttps://stackoverflow.com/questions/22108090/how-to-generate-a-table-of-contents-toc-with-itext\r\n\r\n","title":"Generate pdf file dynamically from html template and produce table of contents in java","body":"<p>There are some open source and some paid options. itext imho would bring out the best result if you can use a product under AGPL license. </p>\n\n<p><strong>If you are looking for open source / free</strong></p>\n\n<p>Yet another Html to Pdf converter ==> <a href=\"http://www.allcolor.org/YaHPConverter/\" rel=\"noreferrer\">http://www.allcolor.org/YaHPConverter/</a></p>\n\n<p>wkhtmltopdf  ==> <a href=\"http://wkhtmltopdf.org/\" rel=\"noreferrer\">http://wkhtmltopdf.org/</a></p>\n\n<p>PDF Box ==> <a href=\"http://pdfbox.apache.org/\" rel=\"noreferrer\">http://pdfbox.apache.org/</a></p>\n\n<p>itext ( AGPL(free) / commercial licence ) <a href=\"http://itextpdf.com/pricing\" rel=\"noreferrer\">http://itextpdf.com/pricing</a></p>\n\n<p><strong>If you are looking for paid(and almost always easier)</strong></p>\n\n<p><a href=\"http://docraptor.com/\" rel=\"noreferrer\">http://docraptor.com/</a> </p>\n\n<p><a href=\"http://pd4ml.com/\" rel=\"noreferrer\">http://pd4ml.com/</a></p>\n\n<p><a href=\"http://pdfcrowd.com/web-html-to-pdf-java/\" rel=\"noreferrer\">http://pdfcrowd.com/web-html-to-pdf-java/</a></p>\n\n<p><a href=\"http://www.aspose.com/docs/display/pdfjava/Convert+HTML+to+PDF+Format\" rel=\"noreferrer\">http://www.aspose.com/docs/display/pdfjava/Convert+HTML+to+PDF+Format</a></p>\n\n<p><a href=\"http://www.princexml.com/\" rel=\"noreferrer\">http://www.princexml.com/</a></p>\n\n<h1>Regarding TOC</h1>\n\n<p>This answer is provided by <strong>Bruno Lowagie creater of itext.</strong></p>\n\n<p><a href=\"http://support.itextpdf.com/node/113\" rel=\"noreferrer\">http://support.itextpdf.com/node/113</a></p>\n\n<p>There are different ways to solve this problem.</p>\n\n<p><strong>Solution 1</strong>: you could create a PDF with bookmarks in a first pass, without worrying about a table of contents. Then in a second pass, you take the PDF you've generated to create a TOC based on the bookmarks and create a new PDF with the TOC, followed by the content.</p>\n\n<p><strong>Solution 2</strong>: you could create two PDF files simultaneously, one with the actual content, one with the TOC. Once you've created all the content, you can concatenate both files: first the TOC, then the actual content.</p>\n\n<p><strong>Solution 3</strong>: you can keep all the entries for the TOC in memory, add these entries at the end of the document, and then reorder the pages.</p>\n\n<p>These three solutions are the first that come to mind (based on examples in the book); there may be other ways to do it.</p>\n\n<p>There's one major difficulty you need to take into account: what about page numbers?</p>\n\n<p>If you look at a Manning book (for example \"iText in Action\"), you'll see that the TOC is numbered i, ii, iii, iv, v,... whereas the actual content is numbered 1, 2, 3, 4, 5,...</p>\n\n<p>If you want to avoid this, if you want to number the pages 1, 2, 3, 4, 5, 6, 7,... from the start, a solution where you create the PDF \"in two passes\" is best, because you can wait to add the page numbers until the second pass (only then you know how many pages there are in the TOC).</p>\n\n<p>Also check links</p>\n\n<p><a href=\"http://itextpdf.com/sandbox/merge/MergeWithToc\" rel=\"noreferrer\">http://itextpdf.com/sandbox/merge/MergeWithToc</a> </p>\n\n<p><a href=\"https://stackoverflow.com/questions/22108090/how-to-generate-a-table-of-contents-toc-with-itext\">How to generate a Table of Contents &quot;TOC&quot; with iText?</a></p>\n"}],"owner":{"account_id":4054403,"reputation":378,"user_id":3332886,"accept_rate":88,"display_name":"SivaTeja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20488,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"closed_date":1693831827,"accepted_answer_id":30099596,"answer_count":1,"score":7,"last_activity_date":1693797387,"creation_date":1430994229,"question_id":30098293,"body_markdown":"We have an editor which is used to design templates for catalogs. it is basically for designing purpose. First, we design a template in the editor and bind our data in that template format. We  then get the template in HTML format from front end. From that template, I need to bind the data and generate pdf file with table of contents (index).\r\n\r\nMany suggested to use `itext` library. But my requirement is not to convert html page to pdf. I have to dump all my products data according to the html template which is dynamically generated by user.\r\n\r\nCan any one suggest how to implement it?","title":"Generate pdf file dynamically from html template and produce table of contents in java","body":"<p>We have an editor which is used to design templates for catalogs. it is basically for designing purpose. First, we design a template in the editor and bind our data in that template format. We  then get the template in HTML format from front end. From that template, I need to bind the data and generate pdf file with table of contents (index).</p>\n\n<p>Many suggested to use <code>itext</code> library. But my requirement is not to convert html page to pdf. I have to dump all my products data according to the html template which is dynamically generated by user.</p>\n\n<p>Can any one suggest how to implement it?</p>\n"},{"tags":["java","xslt","glassfish","payara"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1693603686,"post_id":77026045,"comment_id":135787737,"body_markdown":"You need to explain what you are using to process the resource. What bit of software is handling the `&lt;xsl:include`? Please edit your question to include the full stack trace of the exception.","body":"You need to explain what you are using to process the resource. What bit of software is handling the <code>&lt;xsl:include</code>? Please edit your question to include the full stack trace of the exception."}],"answers":[{"comments":[{"owner":{"account_id":29348027,"reputation":11,"user_id":22485873,"display_name":"liubitel"},"score":0,"creation_date":1693606052,"post_id":77026171,"comment_id":135787963,"body_markdown":"Yes, I did put it as you said &lt;xsl:include href=&quot;dir/i18n.inc.xslt&quot;/&gt; and the directory structure is exact structure as you describe but it seems to be looking for config directory of domain in payara instead.","body":"Yes, I did put it as you said &lt;xsl:include href=&quot;dir/i18n.inc.xslt&quot;/&gt; and the directory structure is exact structure as you describe but it seems to be looking for config directory of domain in payara instead."},{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1693606727,"post_id":77026171,"comment_id":135788010,"body_markdown":"@liubitel Please read the **Update** chapter in my answer. I added some new approaches that might fix the issue.","body":"@liubitel Please read the <b>Update</b> chapter in my answer. I added some new approaches that might fix the issue."}],"tags":[],"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1693606697,"creation_date":1693605694,"answer_id":77026171,"question_id":77026045,"body_markdown":"The context in which the `XSLT file` is loaded can sometimes be hard to understand, so it is important that you know how those paths are resolved based on the file context.\r\n\r\nThe `XSLT file` is located in the resource directory, so using a relative path to reference the `i18n.inc.xslt` file which is located inside the `dir subdirectory`. So the solution is to provide a path which is relative to the location of the `XSLT file`.\r\nAssuming your directory structure looks like this:\r\n```css\r\nsrc\r\n main\r\n     resources\r\n         example.xsl\r\n         dir\r\n             i18n.inc.xslt\r\n```\r\n\r\nRefer to `it8n.inc.xslt` in the `example.xsl` file by using the relative path. \r\nDo it like this:\r\n```xml\r\n&lt;xsl:include href=&quot;dir/i18n.inc.xslt&quot;/&gt;\r\n```\r\n\r\nOf course the `Deployment Configuration` could also be messed up. If there is an issue in configuration or classpath, make sure that the applications classpath and resource loading configuration is set up correctly.\r\n\r\nMind that it is crucial to use correct relative paths within the context of the resources location when referencing resources within `XSLT` files or other resources that were loaded from classpath. Otherwise it won&#39;t function correctly.\r\n\r\n**Update:**\r\n\r\nUsing a `Different Path Resolution Method` could fix this issue. Lets don&#39;t rely on relative paths solely, lets try to use the absolute path which points to the resource within the classpath. Obtain the absolute path with code and use it afterwards inside the `XSLT File`:\r\n```java\r\nString includePath = class.getClassLoader().getResource(&quot;dir/i18n.inc.xslt&quot;).toExternalForm();\r\n// Pass includePath to the XSLT as a parameter or substitute it in the XSLT file.\r\n```\r\n\r\nAnd in the `XSLT File:`\r\n```xml\r\n&lt;xsl:include href=&quot;{includePath}&quot;/&gt;\r\n```\r\n\r\n**System ClassLoader Approach:**\r\nDifferent class loaders or deployment environments can lead to unexpected behaviour in resource loading. Using the `System Class Loader` to load the resource could help:\r\n```java\r\nInputStream inputStream = ClassLoader.getSystemResourceAsStream(&quot;dir/i18n.inc.xslt&quot;);\r\n// If this idea works differently from the original one you were using\r\n// this could be a workaround for your situation.\r\n```","title":"Relative path for a file accesed from Java resource directory file","body":"<p>The context in which the <code>XSLT file</code> is loaded can sometimes be hard to understand, so it is important that you know how those paths are resolved based on the file context.</p>\n<p>The <code>XSLT file</code> is located in the resource directory, so using a relative path to reference the <code>i18n.inc.xslt</code> file which is located inside the <code>dir subdirectory</code>. So the solution is to provide a path which is relative to the location of the <code>XSLT file</code>.\nAssuming your directory structure looks like this:</p>\n<pre class=\"lang-css prettyprint-override\"><code>src\n main\n     resources\n         example.xsl\n         dir\n             i18n.inc.xslt\n</code></pre>\n<p>Refer to <code>it8n.inc.xslt</code> in the <code>example.xsl</code> file by using the relative path.\nDo it like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xsl:include href=&quot;dir/i18n.inc.xslt&quot;/&gt;\n</code></pre>\n<p>Of course the <code>Deployment Configuration</code> could also be messed up. If there is an issue in configuration or classpath, make sure that the applications classpath and resource loading configuration is set up correctly.</p>\n<p>Mind that it is crucial to use correct relative paths within the context of the resources location when referencing resources within <code>XSLT</code> files or other resources that were loaded from classpath. Otherwise it won't function correctly.</p>\n<p><strong>Update:</strong></p>\n<p>Using a <code>Different Path Resolution Method</code> could fix this issue. Lets don't rely on relative paths solely, lets try to use the absolute path which points to the resource within the classpath. Obtain the absolute path with code and use it afterwards inside the <code>XSLT File</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String includePath = class.getClassLoader().getResource(&quot;dir/i18n.inc.xslt&quot;).toExternalForm();\n// Pass includePath to the XSLT as a parameter or substitute it in the XSLT file.\n</code></pre>\n<p>And in the <code>XSLT File:</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xsl:include href=&quot;{includePath}&quot;/&gt;\n</code></pre>\n<p><strong>System ClassLoader Approach:</strong>\nDifferent class loaders or deployment environments can lead to unexpected behaviour in resource loading. Using the <code>System Class Loader</code> to load the resource could help:</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputStream inputStream = ClassLoader.getSystemResourceAsStream(&quot;dir/i18n.inc.xslt&quot;);\n// If this idea works differently from the original one you were using\n// this could be a workaround for your situation.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29348027,"reputation":11,"user_id":22485873,"display_name":"liubitel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693631086,"creation_date":1693631086,"answer_id":77027039,"question_id":77026045,"body_markdown":"At the end the problem was resolved by setting systemId in Source for Transformer.\r\n```\r\nString sysId = this.class.getClassLoader().getResource(&quot;example.xsl&quot;).toURI().toString();\r\nInputStream  styleSheetInput = this.class.getClassLoader().getResourceAsStream(&quot;example.xsl&quot;);\r\n...\r\nSource mySrc = new StreamSource(styleSheetInput);\r\nmySrc.setSystemId(sysId);\r\nTransformer transformer = factory.newTransformer(mySrc);\r\n```\r\nI also renamed `i18n.inc.xslt` into `i18n.inc.xsl` otherwise it would not get into `WEB-INF/classes` for some reason. ","title":"Relative path for a file accesed from Java resource directory file","body":"<p>At the end the problem was resolved by setting systemId in Source for Transformer.</p>\n<pre><code>String sysId = this.class.getClassLoader().getResource(&quot;example.xsl&quot;).toURI().toString();\nInputStream  styleSheetInput = this.class.getClassLoader().getResourceAsStream(&quot;example.xsl&quot;);\n...\nSource mySrc = new StreamSource(styleSheetInput);\nmySrc.setSystemId(sysId);\nTransformer transformer = factory.newTransformer(mySrc);\n</code></pre>\n<p>I also renamed <code>i18n.inc.xslt</code> into <code>i18n.inc.xsl</code> otherwise it would not get into <code>WEB-INF/classes</code> for some reason.</p>\n"}],"owner":{"account_id":29348027,"reputation":11,"user_id":22485873,"display_name":"liubitel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693797237,"creation_date":1693603221,"question_id":77026045,"body_markdown":"I have an `example.xsl File` in Java resource directory that is accessed in Java through:\r\n\r\n```java\r\nclass.getClassLoader().getResourceAsStream(&quot;example.xsl&quot;);\r\n```\r\nBut the `example.xsl File` itself has a reference:\r\n\r\n```xml\r\n&lt;xsl:include href=&quot;dir/i18n.inc.xslt&quot;/&gt;\r\n```\r\n\r\nI want to put the `dir directory` with `i18n.inc.xslt` inside the resource directory, however it seems like that when I deploy the code, the program is looking for `dir/i18n.inc.xslt` inside `glassfish/domains/domain1/config`.\r\n\r\nHow should I refer to `dir/i18n.inc.xslt` in `href` so that it will look inside resources?\r\n\r\n**Edit:**\r\nI use `Java 17` and `Payara 6`. XSLT is used to convert XML into PDF. I am using `Apache FOP` for this purpose.\r\n```java\r\nInputStream  styleSheetInput = MyClass.class.getClassLoader().getResourceAsStream(&quot;example.xsl&quot;);\r\n\r\n            final FopFactory fopFactory = FopFactory.newInstance(new File(&quot;.&quot;).toURI());\r\n            FOUserAgent foUserAgent = fopFactory.newFOUserAgent();\r\n\r\n            try {\r\n                Fop fop = fopFactory.newFop(MimeConstants.MIME_PDF, foUserAgent, outputStream);\r\n                // Setup XSLT\r\n                TransformerFactory factory = TransformerFactory.newInstance();\r\n                Transformer transformer = factory.newTransformer(new StreamSource(styleSheetInput));\r\n\r\n                // Set the value of a &lt;param&gt; in the stylesheet\r\n                transformer.setParameter(&quot;versionParam&quot;, &quot;2.0&quot;);\r\n\r\n                // Setup input for XSLT transformation\r\n                Source src = new StreamSource(datafile);\r\n\r\n                // Resulting SAX events (the generated FO) must be piped through to FOP\r\n                Result res = new SAXResult(fop.getDefaultHandler());\r\n\r\n                // Start XSLT transformation and FOP processing\r\n                transformer.transform(src, res);\r\n           }\r\n``` \r\n**The Exception I get:**\r\n```\r\n [tid: _ThreadID=279 _ThreadName=__ejb-thread-pool11] [timeMillis: 1693598088423] [levelVal\r\n  /usr/local/payara6/glassfish/domains/domain1/config/dir/i18n.inc.xslt (No such file or directory)]]\r\n```\r\nSo it seems it is looking inside config directory as a base directory. But I do not to put the `XSLT File` there. I put it in the same place as `example.xsl` in resources.","title":"Relative path for a file accesed from Java resource directory file","body":"<p>I have an <code>example.xsl File</code> in Java resource directory that is accessed in Java through:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class.getClassLoader().getResourceAsStream(&quot;example.xsl&quot;);\n</code></pre>\n<p>But the <code>example.xsl File</code> itself has a reference:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xsl:include href=&quot;dir/i18n.inc.xslt&quot;/&gt;\n</code></pre>\n<p>I want to put the <code>dir directory</code> with <code>i18n.inc.xslt</code> inside the resource directory, however it seems like that when I deploy the code, the program is looking for <code>dir/i18n.inc.xslt</code> inside <code>glassfish/domains/domain1/config</code>.</p>\n<p>How should I refer to <code>dir/i18n.inc.xslt</code> in <code>href</code> so that it will look inside resources?</p>\n<p><strong>Edit:</strong>\nI use <code>Java 17</code> and <code>Payara 6</code>. XSLT is used to convert XML into PDF. I am using <code>Apache FOP</code> for this purpose.</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputStream  styleSheetInput = MyClass.class.getClassLoader().getResourceAsStream(&quot;example.xsl&quot;);\n\n            final FopFactory fopFactory = FopFactory.newInstance(new File(&quot;.&quot;).toURI());\n            FOUserAgent foUserAgent = fopFactory.newFOUserAgent();\n\n            try {\n                Fop fop = fopFactory.newFop(MimeConstants.MIME_PDF, foUserAgent, outputStream);\n                // Setup XSLT\n                TransformerFactory factory = TransformerFactory.newInstance();\n                Transformer transformer = factory.newTransformer(new StreamSource(styleSheetInput));\n\n                // Set the value of a &lt;param&gt; in the stylesheet\n                transformer.setParameter(&quot;versionParam&quot;, &quot;2.0&quot;);\n\n                // Setup input for XSLT transformation\n                Source src = new StreamSource(datafile);\n\n                // Resulting SAX events (the generated FO) must be piped through to FOP\n                Result res = new SAXResult(fop.getDefaultHandler());\n\n                // Start XSLT transformation and FOP processing\n                transformer.transform(src, res);\n           }\n</code></pre>\n<p><strong>The Exception I get:</strong></p>\n<pre><code> [tid: _ThreadID=279 _ThreadName=__ejb-thread-pool11] [timeMillis: 1693598088423] [levelVal\n  /usr/local/payara6/glassfish/domains/domain1/config/dir/i18n.inc.xslt (No such file or directory)]]\n</code></pre>\n<p>So it seems it is looking inside config directory as a base directory. But I do not to put the <code>XSLT File</code> there. I put it in the same place as <code>example.xsl</code> in resources.</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":4889037,"reputation":587,"user_id":3940670,"display_name":"M.Hossein Rahimi"},"score":0,"creation_date":1575375536,"post_id":4000169,"comment_id":104538036,"body_markdown":"I found the following reference quite comprehensive, https://www.programiz.com/java-programming/multidimensional-array","body":"I found the following reference quite comprehensive, <a href=\"https://www.programiz.com/java-programming/multidimensional-array\" rel=\"nofollow noreferrer\">programiz.com/java-programming/multidimensional-array</a>"}],"answers":[{"comments":[{"owner":{"account_id":191565,"reputation":20067,"user_id":432209,"accept_rate":84,"display_name":"user432209"},"score":1,"creation_date":1287775626,"post_id":4000217,"comment_id":4284449,"body_markdown":"Unrelated question about your answer.  What is the technique/method called where you put &quot;{...};&quot; after the object definition.  As a new developer I keep seeing this more and more.","body":"Unrelated question about your answer.  What is the technique/method called where you put &quot;{...};&quot; after the object definition.  As a new developer I keep seeing this more and more."},{"owner":{"account_id":191565,"reputation":20067,"user_id":432209,"accept_rate":84,"display_name":"user432209"},"score":0,"creation_date":1287777203,"post_id":4000217,"comment_id":4284724,"body_markdown":"Well, I understand that much :).  I just thought there might be a specific name for the technique.","body":"Well, I understand that much :).  I just thought there might be a specific name for the technique."},{"owner":{"account_id":97250,"reputation":22660,"user_id":263895,"accept_rate":100,"display_name":"NG."},"score":0,"creation_date":1287777564,"post_id":4000217,"comment_id":4284789,"body_markdown":"Not sure what the name of it is - object initialization? inline initialization?  one of our Java Gurus will know","body":"Not sure what the name of it is - object initialization? inline initialization?  one of our Java Gurus will know"},{"owner":{"account_id":48192,"reputation":10791,"user_id":143069,"display_name":"ILMTitan"},"score":9,"creation_date":1287779410,"post_id":4000217,"comment_id":4285103,"body_markdown":"Per JLS 10.6 and 15.10, the curly braces part is simply an Array Initializer, while the whole thing starting with new is an Array Creation Expression.","body":"Per JLS 10.6 and 15.10, the curly braces part is simply an Array Initializer, while the whole thing starting with new is an Array Creation Expression."},{"owner":{"account_id":164059,"reputation":1169,"user_id":386587,"display_name":"Erk"},"score":0,"creation_date":1608925842,"post_id":4000217,"comment_id":115714753,"body_markdown":"Also, if you accept a 2D array as input, e.g. in a constructor. You should check it and throw exceptions where applicable.","body":"Also, if you accept a 2D array as input, e.g. in a constructor. You should check it and throw exceptions where applicable."}],"tags":[],"owner":{"account_id":97250,"reputation":22660,"user_id":263895,"accept_rate":100,"display_name":"NG."},"comment_count":5,"down_vote_count":0,"up_vote_count":232,"is_accepted":true,"score":232,"last_activity_date":1287775266,"creation_date":1287775266,"answer_id":4000217,"question_id":4000169,"body_markdown":"Consider\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint[][] foo = new int[][] {\r\n\t\t\tnew int[] { 1, 2, 3 },\r\n\t\t\tnew int[] { 1, 2, 3, 4},\r\n\t\t};\r\n\t\t\r\n\t\tSystem.out.println(foo.length); //2\r\n\t\tSystem.out.println(foo[0].length); //3\r\n\t\tSystem.out.println(foo[1].length); //4\r\n\t}\r\n\t\r\n\r\nColumn lengths differ per row.  If you&#39;re backing some data by a fixed size 2D array, then provide getters to the fixed values in a wrapper class.","title":"Getting the array length of a 2D array in Java","body":"<p>Consider</p>\n\n<pre><code>public static void main(String[] args) {\n\n    int[][] foo = new int[][] {\n        new int[] { 1, 2, 3 },\n        new int[] { 1, 2, 3, 4},\n    };\n\n    System.out.println(foo.length); //2\n    System.out.println(foo[0].length); //3\n    System.out.println(foo[1].length); //4\n}\n</code></pre>\n\n<p>Column lengths differ per row.  If you're backing some data by a fixed size 2D array, then provide getters to the fixed values in a wrapper class.</p>\n"},{"tags":[],"owner":{"account_id":83469,"reputation":9224,"user_id":234009,"display_name":"robert_x44"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1287775275,"creation_date":1287775275,"answer_id":4000220,"question_id":4000169,"body_markdown":"Java allows you to create &quot;ragged arrays&quot; where each &quot;row&quot; has different lengths.  If you know you have a square array, you can use your code modified to protect against an empty array like this:  \r\n\r\n    if (row &gt; 0) col = test[0].length;","title":"Getting the array length of a 2D array in Java","body":"<p>Java allows you to create \"ragged arrays\" where each \"row\" has different lengths.  If you know you have a square array, you can use your code modified to protect against an empty array like this:  </p>\n\n<pre><code>if (row &gt; 0) col = test[0].length;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":42361,"reputation":17687,"user_id":123378,"accept_rate":100,"display_name":"kaliatech"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1287775416,"creation_date":1287775416,"answer_id":4000245,"question_id":4000169,"body_markdown":"There&#39;s not a cleaner way at the language level because not all multidimensional arrays are rectangular. Sometimes jagged (differing column lengths) arrays are necessary.\r\n\r\nYou could easy create your own class to abstract the functionality you need.\r\n\r\nIf you aren&#39;t limited to arrays, then perhaps some of the various collection classes would work as well, like a [Multimap][1].\r\n\r\n\r\n  [1]: http://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/collect/Multimap.html","title":"Getting the array length of a 2D array in Java","body":"<p>There's not a cleaner way at the language level because not all multidimensional arrays are rectangular. Sometimes jagged (differing column lengths) arrays are necessary.</p>\n\n<p>You could easy create your own class to abstract the functionality you need.</p>\n\n<p>If you aren't limited to arrays, then perhaps some of the various collection classes would work as well, like a <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/collect/Multimap.html\" rel=\"nofollow\">Multimap</a>.</p>\n"},{"tags":[],"owner":{"account_id":134312,"reputation":11572,"user_id":336355,"display_name":"Ishtar"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1287776102,"creation_date":1287776102,"answer_id":4000324,"question_id":4000169,"body_markdown":"A 2D array is not a rectangular grid. Or maybe better, there is no such thing as a 2D array in Java. \r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class Main {\r\n      public static void main(String args[]) {\r\n    \r\n        int[][] test; \r\n        test = new int[5][];//&#39;2D array&#39;\r\n        for (int i=0;i&lt;test.length;i++)\r\n          test[i] = new int[i];\r\n        \r\n        System.out.println(Arrays.deepToString(test));\r\n    \r\n        Object[] test2; \r\n        test2 = new Object[5];//array of objects\r\n        for (int i=0;i&lt;test2.length;i++)\r\n          test2[i] = new int[i];//array is a object too\r\n        \r\n        System.out.println(Arrays.deepToString(test2));\r\n      }\r\n    }\r\n\r\nOutputs\r\n\r\n    [[], [0], [0, 0], [0, 0, 0], [0, 0, 0, 0]]\r\n    [[], [0], [0, 0], [0, 0, 0], [0, 0, 0, 0]]\r\n\r\nThe arrays `test` and `test2` are (more or less) the same.","title":"Getting the array length of a 2D array in Java","body":"<p>A 2D array is not a rectangular grid. Or maybe better, there is no such thing as a 2D array in Java. </p>\n\n<pre><code>import java.util.Arrays;\n\npublic class Main {\n  public static void main(String args[]) {\n\n    int[][] test; \n    test = new int[5][];//'2D array'\n    for (int i=0;i&lt;test.length;i++)\n      test[i] = new int[i];\n\n    System.out.println(Arrays.deepToString(test));\n\n    Object[] test2; \n    test2 = new Object[5];//array of objects\n    for (int i=0;i&lt;test2.length;i++)\n      test2[i] = new int[i];//array is a object too\n\n    System.out.println(Arrays.deepToString(test2));\n  }\n}\n</code></pre>\n\n<p>Outputs</p>\n\n<pre><code>[[], [0], [0, 0], [0, 0, 0], [0, 0, 0, 0]]\n[[], [0], [0, 0], [0, 0, 0], [0, 0, 0, 0]]\n</code></pre>\n\n<p>The arrays <code>test</code> and <code>test2</code> are (more or less) the same.</p>\n"},{"tags":[],"owner":{"account_id":10009525,"reputation":9,"user_id":7402735,"display_name":"Pampanagouda Karmanchi"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1484117510,"creation_date":1484112035,"answer_id":41583231,"question_id":4000169,"body_markdown":"Try this following program for 2d array in java:\r\n\r\n    public class ArrayTwo2 {\r\n    \tpublic static void main(String[] args) throws  IOException,NumberFormatException{\r\n    \t\tBufferedReader br=new BufferedReader(new InputStreamReader(System.in));\r\n    \t\tint[][] a;\r\n    \t\tint sum=0;\r\n    \t\ta=new int[3][2];\r\n    \t\tSystem.out.println(&quot;Enter array with 5 elements&quot;);\r\n    \t\tfor(int i=0;i&lt;a.length;i++)\r\n    \t\t{\r\n    \t\t\tfor(int j=0;j&lt;a[0].length;j++)\r\n    \t\t\t{\r\n    \t\t\ta[i][j]=Integer.parseInt(br.readLine());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tfor(int i=0;i&lt;a.length;i++)\r\n    \t\t{\r\n    \t\t\tfor(int j=0;j&lt;a[0].length;j++)\r\n    \t\t\t{\r\n    \t\t\tSystem.out.print(a[i][j]+&quot;  &quot;);\r\n    \t\t\tsum=sum+a[i][j];\r\n    \t\t\t}\r\n    \t\tSystem.out.println();\t\r\n    \t\t//System.out.println(&quot;Array Sum: &quot;+sum);\r\n    \t\tsum=0;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Getting the array length of a 2D array in Java","body":"<p>Try this following program for 2d array in java:</p>\n\n<pre><code>public class ArrayTwo2 {\n    public static void main(String[] args) throws  IOException,NumberFormatException{\n        BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\n        int[][] a;\n        int sum=0;\n        a=new int[3][2];\n        System.out.println(\"Enter array with 5 elements\");\n        for(int i=0;i&lt;a.length;i++)\n        {\n            for(int j=0;j&lt;a[0].length;j++)\n            {\n            a[i][j]=Integer.parseInt(br.readLine());\n            }\n        }\n        for(int i=0;i&lt;a.length;i++)\n        {\n            for(int j=0;j&lt;a[0].length;j++)\n            {\n            System.out.print(a[i][j]+\"  \");\n            sum=sum+a[i][j];\n            }\n        System.out.println();   \n        //System.out.println(\"Array Sum: \"+sum);\n        sum=0;\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":68248,"reputation":2864,"user_id":199236,"accept_rate":93,"display_name":"alfonso.kim"},"score":1,"creation_date":1492693955,"post_id":43520317,"comment_id":74094409,"body_markdown":"this is not related to the question","body":"this is not related to the question"}],"tags":[],"owner":{"account_id":10729266,"reputation":1,"user_id":7895865,"display_name":"peter"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1492693246,"creation_date":1492693246,"answer_id":43520317,"question_id":4000169,"body_markdown":"    public class Array_2D {\r\n    int arr[][];\r\n    public Array_2D() {\r\n        Random r=new Random(10);\r\n         arr = new int[5][10];\r\n         for(int i=0;i&lt;5;i++)\r\n         {\r\n             for(int j=0;j&lt;10;j++)\r\n             {\r\n                 arr[i][j]=(int)r.nextInt(10);\r\n             }\r\n         }\r\n     }\r\n      public void display()\r\n      {\r\n             for(int i=0;i&lt;5;i++)\r\n\r\n             {\r\n                 for(int j=0;j&lt;10;j++)\r\n                 {\r\n                     System.out.print(arr[i][j]+&quot; &quot;); \r\n                 }\r\n                 System.out.println(&quot;&quot;);\r\n             }\r\n       }\r\n         public static void main(String[] args) {\r\n         Array_2D s=new Array_2D();\r\n         s.display();\r\n       }  \r\n      }\r\n","title":"Getting the array length of a 2D array in Java","body":"<pre><code>public class Array_2D {\nint arr[][];\npublic Array_2D() {\n    Random r=new Random(10);\n     arr = new int[5][10];\n     for(int i=0;i&lt;5;i++)\n     {\n         for(int j=0;j&lt;10;j++)\n         {\n             arr[i][j]=(int)r.nextInt(10);\n         }\n     }\n }\n  public void display()\n  {\n         for(int i=0;i&lt;5;i++)\n\n         {\n             for(int j=0;j&lt;10;j++)\n             {\n                 System.out.print(arr[i][j]+\" \"); \n             }\n             System.out.println(\"\");\n         }\n   }\n     public static void main(String[] args) {\n     Array_2D s=new Array_2D();\n     s.display();\n   }  \n  }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user8491933"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1507043732,"creation_date":1507043732,"answer_id":46547969,"question_id":4000169,"body_markdown":"**If you have this array:**\r\n=\r\n\r\n    String [][] example = {{{&quot;Please!&quot;, &quot;Thanks&quot;}, {&quot;Hello!&quot;, &quot;Hey&quot;, &quot;Hi!&quot;}},\r\n                           {{&quot;Why?&quot;, &quot;Where?&quot;, &quot;When?&quot;, &quot;Who?&quot;}, {&quot;Yes!&quot;}}};\r\n\r\n**You can do this:**\r\n=\r\n\r\n    example.length;\r\n\r\n= 2\r\n\r\n    example[0].length;\r\n\r\n= 2\r\n\r\n    example[1].length;\r\n\r\n= 2\r\n\r\n    example[0][1].length;\r\n\r\n= 3\r\n\r\n    example[1][0].length;\r\n\r\n= 4","title":"Getting the array length of a 2D array in Java","body":"<h1><strong>If you have this array:</strong></h1>\n\n<pre><code>String [][] example = {{{\"Please!\", \"Thanks\"}, {\"Hello!\", \"Hey\", \"Hi!\"}},\n                       {{\"Why?\", \"Where?\", \"When?\", \"Who?\"}, {\"Yes!\"}}};\n</code></pre>\n\n<h1><strong>You can do this:</strong></h1>\n\n<pre><code>example.length;\n</code></pre>\n\n<p>= 2</p>\n\n<pre><code>example[0].length;\n</code></pre>\n\n<p>= 2</p>\n\n<pre><code>example[1].length;\n</code></pre>\n\n<p>= 2</p>\n\n<pre><code>example[0][1].length;\n</code></pre>\n\n<p>= 3</p>\n\n<pre><code>example[1][0].length;\n</code></pre>\n\n<p>= 4</p>\n"},{"comments":[{"owner":{"account_id":14728695,"reputation":11,"user_id":10636740,"display_name":"RobynVG"},"score":0,"creation_date":1541955431,"post_id":53251017,"comment_id":93386837,"body_markdown":"Will print [[300.0], [600.0], [700.0], [800.0], [900.0], [1000.0]] convert to ints to lose decimal point.\nThis solution assumes your input array will always be of size ([x][1])","body":"Will print [[300.0], [600.0], [700.0], [800.0], [900.0], [1000.0]] convert to ints to lose decimal point. This solution assumes your input array will always be of size ([x][1])"}],"tags":[],"owner":{"account_id":14728695,"reputation":11,"user_id":10636740,"display_name":"RobynVG"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541956669,"creation_date":1541955245,"answer_id":53251017,"question_id":4000169,"body_markdown":"    import java.util.Arrays;\r\n\r\n    public class Main {\r\n\r\n\t\tpublic static void main(String[] args) \r\n\t\t{\r\n\t\t\r\n\t\t\tdouble[][] test = { {100}, {200}, {300}, {400}, {500}, {600}, {700}, {800}, {900}, {1000}};\r\n              \r\n\t\t\tint [][] removeRow = { {0}, {1}, {3}, {4}, };\r\n\t\r\n\t\t\tdouble[][] newTest = new double[test.length - removeRow.length][test[0].length];\r\n\t\t\r\n\t\t\tfor (int i = 0, j = 0, k = 0; i &lt; test.length; i++) {\r\n\t\t\t\tif (j &lt; removeRow.length) {\r\n\t\t\t\t\tif (i == removeRow[j][0]) {\r\n\t\t\t\t\t\tj++;\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tnewTest[k][0] = test[i][0];\r\n\t\t\t\tk++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(Arrays.deepToString(newTest));\t\r\n\t\t}\r\n\t}\r\n","title":"Getting the array length of a 2D array in Java","body":"<pre><code>import java.util.Arrays;\n\npublic class Main {\n\n    public static void main(String[] args) \n    {\n\n        double[][] test = { {100}, {200}, {300}, {400}, {500}, {600}, {700}, {800}, {900}, {1000}};\n\n        int [][] removeRow = { {0}, {1}, {3}, {4}, };\n\n        double[][] newTest = new double[test.length - removeRow.length][test[0].length];\n\n        for (int i = 0, j = 0, k = 0; i &lt; test.length; i++) {\n            if (j &lt; removeRow.length) {\n                if (i == removeRow[j][0]) {\n                    j++;\n                    continue;\n                }\n            }\n            newTest[k][0] = test[i][0];\n            k++;\n        }\n\n        System.out.println(Arrays.deepToString(newTest));   \n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4935611,"reputation":1212,"user_id":3973834,"display_name":"Evan Rosica"},"score":11,"creation_date":1553152149,"post_id":54331158,"comment_id":97280883,"body_markdown":"You have this backwards. &quot;In this case, we access [1, 1, 1, 1] and thus, the number of rows = 4.&quot;  Actually, that means there are 4 columns.","body":"You have this backwards. &quot;In this case, we access [1, 1, 1, 1] and thus, the number of rows = 4.&quot;  Actually, that means there are 4 columns."},{"owner":{"account_id":11098274,"reputation":835,"user_id":8147680,"display_name":"Nitin Nanda"},"score":0,"creation_date":1591571870,"post_id":54331158,"comment_id":110099516,"body_markdown":"Correct @Evan Rosica","body":"Correct @Evan Rosica"}],"tags":[],"owner":{"account_id":12053308,"reputation":365,"user_id":8815371,"display_name":"gocode"},"comment_count":2,"down_vote_count":5,"up_vote_count":26,"is_accepted":false,"score":21,"last_activity_date":1693797122,"creation_date":1548259218,"answer_id":54331158,"question_id":4000169,"body_markdown":"It was really hard to remember that \r\n\r\n        int numberOfColumns = arr.length;\r\n\t\tint numberOfRows = arr[0].length;\r\n\r\nLet&#39;s understand why this is so and how we can figure this out when we&#39;re given an array problem. From the below code we can see that rows = 4 and columns = 3:\r\n\r\n        int[][] arr = { {1, 1, 1, 1}, \r\n\t\t\t\t\r\n\t\t\t\t\t\t{2, 2, 2, 2}, \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{3, 3, 3, 3} };\r\n\r\n`arr` has multiple arrays in it, and these arrays can be arranged in a vertical manner to get the number of rows. To get the number of columns, we need to access the first array and consider its length. In this case, we access [1, 1, 1, 1] and thus, the number of columns = 4. When you&#39;re given a problem where you can&#39;t see the array, you can visualize the array as a rectangle with n X m dimensions and conclude that we can get the number of columns by accessing the first array then its length. The other one (`arr.length`) is for the rows.\r\n\r\n(Rows and columns corrected as per Evan&#39;s comment). \r\n","title":"Getting the array length of a 2D array in Java","body":"<p>It was really hard to remember that</p>\n<pre><code>    int numberOfColumns = arr.length;\n    int numberOfRows = arr[0].length;\n</code></pre>\n<p>Let's understand why this is so and how we can figure this out when we're given an array problem. From the below code we can see that rows = 4 and columns = 3:</p>\n<pre><code>    int[][] arr = { {1, 1, 1, 1}, \n            \n                    {2, 2, 2, 2}, \n                    \n                    {3, 3, 3, 3} };\n</code></pre>\n<p><code>arr</code> has multiple arrays in it, and these arrays can be arranged in a vertical manner to get the number of rows. To get the number of columns, we need to access the first array and consider its length. In this case, we access [1, 1, 1, 1] and thus, the number of columns = 4. When you're given a problem where you can't see the array, you can visualize the array as a rectangle with n X m dimensions and conclude that we can get the number of columns by accessing the first array then its length. The other one (<code>arr.length</code>) is for the rows.</p>\n<p>(Rows and columns corrected as per Evan's comment).</p>\n"},{"comments":[{"owner":{"account_id":478441,"reputation":3062,"user_id":890537,"accept_rate":70,"display_name":"m02ph3u5"},"score":1,"creation_date":1558022565,"post_id":56171830,"comment_id":98971591,"body_markdown":"Welcome to SO. You should add some more explanation to your answer.","body":"Welcome to SO. You should add some more explanation to your answer."}],"tags":[],"owner":{"account_id":15951624,"reputation":21,"user_id":11510842,"display_name":"asdfgghjkll"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1558019924,"creation_date":1558019924,"answer_id":56171830,"question_id":4000169,"body_markdown":".length = number of rows / column length \r\n\r\n[0].length = number of columns / row length ","title":"Getting the array length of a 2D array in Java","body":"<p>.length = number of rows / column length </p>\n\n<p>[0].length = number of columns / row length </p>\n"},{"tags":[],"owner":{"account_id":14387497,"reputation":1756,"user_id":10393067,"display_name":"logbasex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588950406,"creation_date":1588950406,"answer_id":61682162,"question_id":4000169,"body_markdown":"With `Java 8`, allow you doing something more elegant like this:\r\n\r\n    int[][] foo = new int[][] {\r\n            new int[] { 1, 2, 3 },\r\n            new int[] { 1, 2, 3, 4},\r\n        };\r\n\r\n    int length = Arrays.stream(array).max(Comparator.comparingInt(ArrayUtils::getLength)).get().length","title":"Getting the array length of a 2D array in Java","body":"<p>With <code>Java 8</code>, allow you doing something more elegant like this:</p>\n\n<pre><code>int[][] foo = new int[][] {\n        new int[] { 1, 2, 3 },\n        new int[] { 1, 2, 3, 4},\n    };\n\nint length = Arrays.stream(array).max(Comparator.comparingInt(ArrayUtils::getLength)).get().length\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11306958,"reputation":61,"user_id":8291270,"display_name":"Ankush kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642494180,"creation_date":1623050211,"answer_id":67867426,"question_id":4000169,"body_markdown":"Example Array 1:\r\n\r\n\r\n    int arr[][] = { { 1, 3, 1, 5 },\r\n                     { 2, 2, 4, 1 },\r\n                     { 5, 0, 2, 3 },\r\n                     { 0, 6, 1, 2 } };\r\n    \r\nExample Array 2:\r\n\r\n    int arr[][] = { { 1, 3, 1 },\r\n                     { 2, 2, 4 },\r\n                     { 5, 0, 2 },\r\n                     { 0, 6, 1 } };\r\n    \r\nBelow function will work for any Symmetric and Asymmetric Array Matrix \r\n\r\n``` java \r\n\r\n row_Count = arr.length\r\n column_Count = arr[0].length\r\n\r\n```","title":"Getting the array length of a 2D array in Java","body":"<p>Example Array 1:</p>\n<pre><code>int arr[][] = { { 1, 3, 1, 5 },\n                 { 2, 2, 4, 1 },\n                 { 5, 0, 2, 3 },\n                 { 0, 6, 1, 2 } };\n</code></pre>\n<p>Example Array 2:</p>\n<pre><code>int arr[][] = { { 1, 3, 1 },\n                 { 2, 2, 4 },\n                 { 5, 0, 2 },\n                 { 0, 6, 1 } };\n</code></pre>\n<p>Below function will work for any Symmetric and Asymmetric Array Matrix</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n row_Count = arr.length\n column_Count = arr[0].length\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667964099,"post_id":74338449,"comment_id":131291677,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74338449/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26848750,"reputation":1,"user_id":20434070,"display_name":"Souhardya Gayen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668112811,"creation_date":1667757949,"answer_id":74338449,"question_id":4000169,"body_markdown":"```\r\nint rows=arr.length; //For knowing No of rows\r\n\r\nint cols=arr[0].length; //For Knowing No of columns\r\n```\r\n\r\nRun This code... and Understand...\r\n\r\n```\r\npublic class Store2darrays {   \r\n\r\n    public static void main(String args[]) {\r\n      int[]arr={1,2,3,4};\r\n      System.out.println(arr.length);\r\n      int[][] arr2d={{1,2,3,4},{5,6,7,8},{9,10,11,12}};\r\n      System.out.println(arr2d.length);\r\n      System.out.println(arr2d);\r\n      System.out.println(arr2d[0]);\r\n      System.out.println(arr2d[1]);\r\n      System.out.println(arr2d.length);\r\n      System.out.println(arr2d[0].length); }\r\n}\r\n```","title":"Getting the array length of a 2D array in Java","body":"<pre><code>int rows=arr.length; //For knowing No of rows\n\nint cols=arr[0].length; //For Knowing No of columns\n</code></pre>\n<p>Run This code... and Understand...</p>\n<pre><code>public class Store2darrays {   \n\n    public static void main(String args[]) {\n      int[]arr={1,2,3,4};\n      System.out.println(arr.length);\n      int[][] arr2d={{1,2,3,4},{5,6,7,8},{9,10,11,12}};\n      System.out.println(arr2d.length);\n      System.out.println(arr2d);\n      System.out.println(arr2d[0]);\n      System.out.println(arr2d[1]);\n      System.out.println(arr2d.length);\n      System.out.println(arr2d[0].length); }\n}\n</code></pre>\n"}],"owner":{"account_id":191565,"reputation":20067,"user_id":432209,"accept_rate":84,"display_name":"user432209"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":762806,"favorite_count":0,"down_vote_count":0,"up_vote_count":171,"accepted_answer_id":4000217,"answer_count":13,"score":171,"last_activity_date":1693797122,"creation_date":1287774910,"question_id":4000169,"body_markdown":"I need to get the length of a 2D array for both the row and column.  Ive successfully done this, using the following code:\r\n\r\n    public class MyClass {\r\n    \r\n     public static void main(String args[])\r\n        {\r\n      int[][] test; \r\n      test = new int[5][10];\r\n      \r\n      int row = test.length;\r\n      int col = test[0].length;\r\n      \r\n      System.out.println(row);\r\n      System.out.println(col);\r\n        }\r\n    }\r\n\r\nThis prints out 5, 10 as expected.\r\n\r\nNow take a look at this line:\r\n\r\n      int col = test[0].length;\r\n\r\nNotice that I actually have to reference a particular row, in order to get the column length.  To me, this seems incredibly ugly.  Additionally, if the array was defined as:\r\n\r\n    test = new int[0][10];\r\n\r\nThen the code would fail when trying to get the length.  Is there a different (more intelligent) way to do this?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Getting the array length of a 2D array in Java","body":"<p>I need to get the length of a 2D array for both the row and column.  Ive successfully done this, using the following code:</p>\n\n<pre><code>public class MyClass {\n\n public static void main(String args[])\n    {\n  int[][] test; \n  test = new int[5][10];\n\n  int row = test.length;\n  int col = test[0].length;\n\n  System.out.println(row);\n  System.out.println(col);\n    }\n}\n</code></pre>\n\n<p>This prints out 5, 10 as expected.</p>\n\n<p>Now take a look at this line:</p>\n\n<pre><code>  int col = test[0].length;\n</code></pre>\n\n<p>Notice that I actually have to reference a particular row, in order to get the column length.  To me, this seems incredibly ugly.  Additionally, if the array was defined as:</p>\n\n<pre><code>test = new int[0][10];\n</code></pre>\n\n<p>Then the code would fail when trying to get the length.  Is there a different (more intelligent) way to do this?</p>\n"},{"tags":["java","hibernate","criteria"],"answers":[{"comments":[{"owner":{"account_id":2402662,"reputation":141,"user_id":2099987,"display_name":"cz_Nesh"},"score":0,"creation_date":1368651598,"post_id":16571595,"comment_id":23817444,"body_markdown":"Hello Ziul, thx for your reply. With your advice I get List of objects but Java throws Exception when I try to cast any object from the list to the Book.","body":"Hello Ziul, thx for your reply. With your advice I get List of objects but Java throws Exception when I try to cast any object from the list to the Book."},{"owner":{"account_id":2402662,"reputation":141,"user_id":2099987,"display_name":"cz_Nesh"},"score":0,"creation_date":1368651780,"post_id":16571595,"comment_id":23817528,"body_markdown":"Ehm, I delete line with transformer O:-)... After adding this line back I still get List of null objects.","body":"Ehm, I delete line with transformer O:-)... After adding this line back I still get List of null objects."},{"owner":{"account_id":2402662,"reputation":141,"user_id":2099987,"display_name":"cz_Nesh"},"score":0,"creation_date":1368804007,"post_id":16571595,"comment_id":23882580,"body_markdown":"Thank you for editing your post. I don&#39;t wanna get only one property but whole object.  I need to get the same list of objects like after calling `SELECT b FROM Book b GROUP BY volumeCode` so the result should be List&lt;Book&gt;","body":"Thank you for editing your post. I don&#39;t wanna get only one property but whole object.  I need to get the same list of objects like after calling <code>SELECT b FROM Book b GROUP BY volumeCode</code> so the result should be List&lt;Book&gt;"},{"owner":{"account_id":1752981,"reputation":883,"user_id":1601662,"accept_rate":89,"display_name":"Ziul"},"score":0,"creation_date":1368819926,"post_id":16571595,"comment_id":23890268,"body_markdown":"Then you need to get the transformer working, just add every property of your Bean to the projection with a matching alias (same name for alias and property), and it will work.","body":"Then you need to get the transformer working, just add every property of your Bean to the projection with a matching alias (same name for alias and property), and it will work."},{"owner":{"account_id":1291135,"reputation":2869,"user_id":2587343,"display_name":"Vlastimil Ov&#225;&#237;k"},"score":0,"creation_date":1459794704,"post_id":16571595,"comment_id":60436320,"body_markdown":"When you `GROUP BY` volume code, shouldn&#39;t you also group by all the other properties, id and description? Or put them in some aggregation function?","body":"When you <code>GROUP BY</code> volume code, shouldn&#39;t you also group by all the other properties, id and description? Or put them in some aggregation function?"}],"tags":[],"owner":{"account_id":1752981,"reputation":883,"user_id":1601662,"accept_rate":89,"display_name":"Ziul"},"comment_count":5,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1368713102,"creation_date":1368639725,"answer_id":16571595,"question_id":16571129,"body_markdown":"First of all, the projecton filters the amount of data retrieved, if you want more data, you should add those properties to the projection too.\r\n\r\nExample:\r\n\r\n    c.setProjection( Projections.projectionList()\r\n        .add( Projections.property(&quot;id&quot;).as(&quot;id&quot;) )\r\n        .add( Projections.property(&quot;descripction&quot;).as(&quot;description&quot;) )\r\n        .add( Projections.groupProperty(&quot;volumeCode&quot;).as(&quot;volumeCode&quot;) ));\r\n\r\nNow, the transformer does what it says &quot;Alias to Bean&quot;, it does an alias match with the properties of your java bean &quot;Book.java&quot;.\r\n\r\nEdit:\r\n\r\nWithout the transformer, if the projection has more than one property, the result comes out like this:\r\n\r\n    for(Object[] item:criteria.list()){\r\n        System.out.println( (String)item[0] ); //ID\r\n        System.out.println( (String)item[1] ); //Description\r\n        System.out.println( (String)item[2] ); //Volume code\r\n    }\r\n\r\nThats why you were getting the cast exception, about the transformer, try to match every alias with the property name of your java bean.","title":"Hibernate criteria Using GROUP BY and RETURN ENTITY LIST","body":"<p>First of all, the projecton filters the amount of data retrieved, if you want more data, you should add those properties to the projection too.</p>\n\n<p>Example:</p>\n\n<pre><code>c.setProjection( Projections.projectionList()\n    .add( Projections.property(\"id\").as(\"id\") )\n    .add( Projections.property(\"descripction\").as(\"description\") )\n    .add( Projections.groupProperty(\"volumeCode\").as(\"volumeCode\") ));\n</code></pre>\n\n<p>Now, the transformer does what it says \"Alias to Bean\", it does an alias match with the properties of your java bean \"Book.java\".</p>\n\n<p>Edit:</p>\n\n<p>Without the transformer, if the projection has more than one property, the result comes out like this:</p>\n\n<pre><code>for(Object[] item:criteria.list()){\n    System.out.println( (String)item[0] ); //ID\n    System.out.println( (String)item[1] ); //Description\n    System.out.println( (String)item[2] ); //Volume code\n}\n</code></pre>\n\n<p>Thats why you were getting the cast exception, about the transformer, try to match every alias with the property name of your java bean.</p>\n"},{"comments":[{"owner":{"account_id":5362359,"reputation":21,"user_id":4273219,"display_name":"Mazrul"},"score":1,"creation_date":1416477873,"post_id":27033761,"comment_id":42593701,"body_markdown":"@rayryeng I encounter the same problem trying to get `SELECT p FROM person p GROUP BY personId` using criteria but using setProjection it just convert it to sql equivalent of `select distint(personId) from person` and return list of personId wheres i need the whole person object and `List&lt;Person&gt; list = session.createCriteria(&quot;Person&quot;,&quot;p&quot;)\n.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);` return the list of person object. as for why and how hope this will help [here](http://stackoverflow.com/questions/10961048/setresulttransformer-in-criteria)","body":"@rayryeng I encounter the same problem trying to get <code>SELECT p FROM person p GROUP BY personId</code> using criteria but using setProjection it just convert it to sql equivalent of <code>select distint(personId) from person</code> and return list of personId wheres i need the whole person object and <code>List&lt;Person&gt; list = session.createCriteria(&quot;Person&quot;,&quot;p&quot;) .setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);</code> return the list of person object. as for why and how hope this will help <a href=\"http://stackoverflow.com/questions/10961048/setresulttransformer-in-criteria\">here</a>"},{"owner":{"account_id":3933264,"reputation":103330,"user_id":3250829,"display_name":"rayryeng"},"score":0,"creation_date":1416494911,"post_id":27033761,"comment_id":42603842,"body_markdown":"Add this to your post. We didn&#39;t know why this helped you initially","body":"Add this to your post. We didn&#39;t know why this helped you initially"}],"tags":[],"owner":{"account_id":5362359,"reputation":21,"user_id":4273219,"display_name":"Mazrul"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693796450,"creation_date":1416467428,"answer_id":27033761,"question_id":16571129,"body_markdown":"I think you can use: \r\n\r\n```java\r\ncriteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\r\n```","title":"Hibernate criteria Using GROUP BY and RETURN ENTITY LIST","body":"<p>I think you can use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>criteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1183832,"reputation":4336,"user_id":1158189,"accept_rate":49,"display_name":"Manoj Shrestha"},"score":0,"creation_date":1545451223,"post_id":29838324,"comment_id":94632333,"body_markdown":"I&#39;m getting the list of entire objects. But all the fields are null. Do you know why that&#39;s happening?","body":"I&#39;m getting the list of entire objects. But all the fields are null. Do you know why that&#39;s happening?"}],"tags":[],"owner":{"account_id":6182134,"reputation":137,"user_id":4817262,"display_name":"Jerome"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1429846855,"creation_date":1429846855,"answer_id":29838324,"question_id":16571129,"body_markdown":"cz_Nesh.\r\nsorry about my first answer.\r\ni read Hibernate api and read some Hibernate source code i find that. \r\nif you use this code \r\n\r\n    session.createCriteria(EmpUserImpl.class).list();  \r\nit will return List EmpUserImpl.\r\nif you use this code \r\n\r\n    \t\tcriteria.setProjection(Projections.projectionList()\r\n\t\t\t\t.add(Projections.groupProperty(&quot;company&quot;).as(&quot;company&quot;))\r\n\t\t\t\t.add(Projections.property(&quot;name&quot;).as(&quot;name&quot;))\r\n\t\t\t\t.add(Projections.property(&quot;company&quot;).as(&quot;company&quot;)));\r\n\t\t    List list = criteria.list();\r\nit will return List ,is not List EmpUserImpl   why?\r\ni see the criterion&#39;s parent class CriteriaSpecification i find that . \r\n\r\n    public interface CriteriaSpecification {\r\n\r\n\t/**\r\n\t * The alias that refers to the &quot;root&quot; entity of the criteria query.\r\n\t */\r\n\tpublic static final String ROOT_ALIAS = &quot;this&quot;;\r\n\r\n\t/**\r\n\t * Each row of results is a &lt;tt&gt;Map&lt;/tt&gt; from alias to entity instance\r\n\t */\r\n\tpublic static final ResultTransformer ALIAS_TO_ENTITY_MAP = AliasToEntityMapResultTransformer.INSTANCE;\r\n\r\n\t/**\r\n\t * Each row of results is an instance of the root entity\r\n\t */\r\n\tpublic static final ResultTransformer ROOT_ENTITY = RootEntityResultTransformer.INSTANCE;\r\n\r\n\t/**\r\n\t * Each row of results is a distinct instance of the root entity\r\n\t */\r\n\tpublic static final ResultTransformer DISTINCT_ROOT_ENTITY = DistinctRootEntityResultTransformer.INSTANCE;\r\n\r\n\t/**\r\n\t * This result transformer is selected implicitly by calling &lt;tt&gt;setProjection()&lt;/tt&gt;\r\n\t */\r\n\tpublic static final ResultTransformer PROJECTION = PassThroughResultTransformer.INSTANCE;\r\n\r\n\t/**\r\n\t * Specifies joining to an entity based on an inner join.\r\n\t *\r\n\t * @deprecated use {@link org.hibernate.sql.JoinType#INNER_JOIN}\r\n\t */\r\n\t@Deprecated\r\n\tpublic static final int INNER_JOIN = JoinType.INNER_JOIN.getJoinTypeValue();\r\n\r\n\t/**\r\n\t * Specifies joining to an entity based on a full join.\r\n\t *\r\n\t * @deprecated use {@link org.hibernate.sql.JoinType#FULL_JOIN}\r\n\t */\r\n\t@Deprecated\r\n\tpublic static final int FULL_JOIN = JoinType.FULL_JOIN.getJoinTypeValue();\r\n\r\n\t/**\r\n\t * Specifies joining to an entity based on a left outer join.\r\n\t *\r\n\t * @deprecated use {@link org.hibernate.sql.JoinType#LEFT_OUTER_JOIN}\r\n\t */\r\n\t@Deprecated\r\n\tpublic static final int LEFT_JOIN = JoinType.LEFT_OUTER_JOIN.getJoinTypeValue();\r\n\r\n\r\n}\r\n\r\ncan you see the public static final ResultTransformer PROJECTION  ? it say that This result transformer is selected implicitly by calling &lt;tt&gt;setProjection()&lt;/tt&gt;\r\nis mean when you use criteria.setProjection,the result will not List EmpUserImpl,because ResultTransformer is change to &quot;PROJECTION&quot; from &quot;ROOT_ENTITY&quot;.it will packaging by Projection(like select name,oid .. ).\r\nso, if you want to return List EmpUserImpl you need set Projections.property(&quot;name&quot;).as(&quot;name&quot;).,(if you need name just set name).\r\nthis is my code . \r\n\r\n        \tCriteria criteria = session.createCriteria(EmpUserImpl.class);\r\n\t\tcriteria.setProjection(Projections.projectionList()\r\n\t\t\t\t.add(Projections.groupProperty(&quot;company&quot;).as(&quot;company&quot;))\r\n\t\t\t\t.add(Projections.property(&quot;name&quot;).as(&quot;name&quot;))\r\n\t\t\t\t.add(Projections.property(&quot;company&quot;).as(&quot;company&quot;)));\r\n\t\tcriteria.setResultTransformer(Transformers.aliasToBean(EmpUserImpl.class));\r\n\t\tList&lt;EmpUserImpl&gt; list = criteria.list();\r\n\t\tfor (EmpUserImpl empUserImpl : list) {\r\n\t\t\tSystem.out.println(empUserImpl.getName());\r\n\t\t}\r\nit can work .  i hope it can help you.\r\n","title":"Hibernate criteria Using GROUP BY and RETURN ENTITY LIST","body":"<p>cz_Nesh.\nsorry about my first answer.\ni read Hibernate api and read some Hibernate source code i find that. \nif you use this code </p>\n\n<pre><code>session.createCriteria(EmpUserImpl.class).list();  \n</code></pre>\n\n<p>it will return List EmpUserImpl.\nif you use this code </p>\n\n<pre><code>        criteria.setProjection(Projections.projectionList()\n            .add(Projections.groupProperty(\"company\").as(\"company\"))\n            .add(Projections.property(\"name\").as(\"name\"))\n            .add(Projections.property(\"company\").as(\"company\")));\n        List list = criteria.list();\n</code></pre>\n\n<p>it will return List ,is not List EmpUserImpl   why?\ni see the criterion's parent class CriteriaSpecification i find that . </p>\n\n<pre><code>public interface CriteriaSpecification {\n\n/**\n * The alias that refers to the \"root\" entity of the criteria query.\n */\npublic static final String ROOT_ALIAS = \"this\";\n\n/**\n * Each row of results is a &lt;tt&gt;Map&lt;/tt&gt; from alias to entity instance\n */\npublic static final ResultTransformer ALIAS_TO_ENTITY_MAP = AliasToEntityMapResultTransformer.INSTANCE;\n\n/**\n * Each row of results is an instance of the root entity\n */\npublic static final ResultTransformer ROOT_ENTITY = RootEntityResultTransformer.INSTANCE;\n\n/**\n * Each row of results is a distinct instance of the root entity\n */\npublic static final ResultTransformer DISTINCT_ROOT_ENTITY = DistinctRootEntityResultTransformer.INSTANCE;\n\n/**\n * This result transformer is selected implicitly by calling &lt;tt&gt;setProjection()&lt;/tt&gt;\n */\npublic static final ResultTransformer PROJECTION = PassThroughResultTransformer.INSTANCE;\n\n/**\n * Specifies joining to an entity based on an inner join.\n *\n * @deprecated use {@link org.hibernate.sql.JoinType#INNER_JOIN}\n */\n@Deprecated\npublic static final int INNER_JOIN = JoinType.INNER_JOIN.getJoinTypeValue();\n\n/**\n * Specifies joining to an entity based on a full join.\n *\n * @deprecated use {@link org.hibernate.sql.JoinType#FULL_JOIN}\n */\n@Deprecated\npublic static final int FULL_JOIN = JoinType.FULL_JOIN.getJoinTypeValue();\n\n/**\n * Specifies joining to an entity based on a left outer join.\n *\n * @deprecated use {@link org.hibernate.sql.JoinType#LEFT_OUTER_JOIN}\n */\n@Deprecated\npublic static final int LEFT_JOIN = JoinType.LEFT_OUTER_JOIN.getJoinTypeValue();\n</code></pre>\n\n<p>}</p>\n\n<p>can you see the public static final ResultTransformer PROJECTION  ? it say that This result transformer is selected implicitly by calling setProjection()\nis mean when you use criteria.setProjection,the result will not List EmpUserImpl,because ResultTransformer is change to \"PROJECTION\" from \"ROOT_ENTITY\".it will packaging by Projection(like select name,oid .. ).\nso, if you want to return List EmpUserImpl you need set Projections.property(\"name\").as(\"name\").,(if you need name just set name).\nthis is my code . </p>\n\n<pre><code>        Criteria criteria = session.createCriteria(EmpUserImpl.class);\n    criteria.setProjection(Projections.projectionList()\n            .add(Projections.groupProperty(\"company\").as(\"company\"))\n            .add(Projections.property(\"name\").as(\"name\"))\n            .add(Projections.property(\"company\").as(\"company\")));\n    criteria.setResultTransformer(Transformers.aliasToBean(EmpUserImpl.class));\n    List&lt;EmpUserImpl&gt; list = criteria.list();\n    for (EmpUserImpl empUserImpl : list) {\n        System.out.println(empUserImpl.getName());\n    }\n</code></pre>\n\n<p>it can work .  i hope it can help you.</p>\n"}],"owner":{"account_id":2402662,"reputation":141,"user_id":2099987,"display_name":"cz_Nesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40243,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1693796450,"creation_date":1368637895,"question_id":16571129,"body_markdown":"I&#39;m trying to use `GROUP BY` in my criteria. I need to do this:\r\n\r\n    SELECT b FROM Book b GROUP BY volumeCode;\r\n\r\nI have following code:\r\n\r\n        Criteria c = s.createCriteria(Book.class);\r\n        c.setProjection(Projections.projectionList().add(Projections.groupProperty(&quot;volumeCode&quot;)));\r\n        List&lt;Book&gt; result = c.list();\r\n\r\nBut this criteria returns only `volumeCode`s (a list of Strings). I need to get a list of `Book`s. So I tried to use Transformers:\r\n\r\n        Criteria c = s.createCriteria(Book.class);\r\n        c.setProjection(Projections.projectionList().add(Projections.groupProperty(&quot;volumeCode&quot;)));\r\n        c.setResultTransformer(Transformers.aliasToBean(Book.class));\r\n        List&lt;Book&gt; result = c.list();\r\n\r\nThis code returns list of null values. Is it possible to do that with criteria?","title":"Hibernate criteria Using GROUP BY and RETURN ENTITY LIST","body":"<p>I'm trying to use <code>GROUP BY</code> in my criteria. I need to do this:</p>\n\n<pre><code>SELECT b FROM Book b GROUP BY volumeCode;\n</code></pre>\n\n<p>I have following code:</p>\n\n<pre><code>    Criteria c = s.createCriteria(Book.class);\n    c.setProjection(Projections.projectionList().add(Projections.groupProperty(\"volumeCode\")));\n    List&lt;Book&gt; result = c.list();\n</code></pre>\n\n<p>But this criteria returns only <code>volumeCode</code>s (a list of Strings). I need to get a list of <code>Book</code>s. So I tried to use Transformers:</p>\n\n<pre><code>    Criteria c = s.createCriteria(Book.class);\n    c.setProjection(Projections.projectionList().add(Projections.groupProperty(\"volumeCode\")));\n    c.setResultTransformer(Transformers.aliasToBean(Book.class));\n    List&lt;Book&gt; result = c.list();\n</code></pre>\n\n<p>This code returns list of null values. Is it possible to do that with criteria?</p>\n"},{"tags":["java","html","css","pdf","itext7"],"comments":[{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1585149855,"post_id":60827977,"comment_id":107662818,"body_markdown":"You should use `@page` media selector and `running` elements in CSS to exclude an element from the main flow and include it into a header","body":"You should use <code>@page</code> media selector and <code>running</code> elements in CSS to exclude an element from the main flow and include it into a header"},{"owner":{"account_id":18042937,"reputation":35,"user_id":13114610,"display_name":"Semi"},"score":0,"creation_date":1585159937,"post_id":60827977,"comment_id":107668314,"body_markdown":"Thank you...I used running elements previously &amp; it worked fine. However, the content in both sections limited to only one line. I&#39;m trying to accomplish fitting at least 3 lines in the header and footer sections dynamically. Any alternatives?","body":"Thank you...I used running elements previously &amp; it worked fine. However, the content in both sections limited to only one line. I&#39;m trying to accomplish fitting at least 3 lines in the header and footer sections dynamically. Any alternatives?"},{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1585160088,"post_id":60827977,"comment_id":107668386,"body_markdown":"you can use running elements with block-level elements (div, paragraphs) perfectly fine and it should give you the desired result","body":"you can use running elements with block-level elements (div, paragraphs) perfectly fine and it should give you the desired result"},{"owner":{"account_id":18042937,"reputation":35,"user_id":13114610,"display_name":"Semi"},"score":0,"creation_date":1585161609,"post_id":60827977,"comment_id":107669100,"body_markdown":"I&#39;ve tried it with div...still the content shows only 2 lines although I&#39;ve added 3 lines and specify the div height as 15% of the page.","body":"I&#39;ve tried it with div...still the content shows only 2 lines although I&#39;ve added 3 lines and specify the div height as 15% of the page."},{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1585167719,"post_id":60827977,"comment_id":107672047,"body_markdown":"you should also specify the height of the header, it&#39;s specified with `margin-top` CSS declaration: `@page { margin-top: 200px; }`","body":"you should also specify the height of the header, it&#39;s specified with <code>margin-top</code> CSS declaration: <code>@page { margin-top: 200px; }</code>"},{"owner":{"account_id":18042937,"reputation":35,"user_id":13114610,"display_name":"Semi"},"score":0,"creation_date":1585244507,"post_id":60827977,"comment_id":107699785,"body_markdown":"Please demonstrate with an example. I&#39;ve tried with the margin but the whole section still won&#39;t appear. Thanks.","body":"Please demonstrate with an example. I&#39;ve tried with the margin but the whole section still won&#39;t appear. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1585339167,"creation_date":1585339167,"answer_id":60893311,"question_id":60827977,"body_markdown":"Here is an example of HTML that is correctly processed by `pdfHTML` and multiline header is displayed fully at the top of the page as expected:\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n    &lt;style&gt;\r\n        #header {\r\n            position: running(header);\r\n        }\r\n\r\n        @page {\r\n            margin-top: 100px;\r\n            @top-center {\r\n                content: element(header);\r\n            }\r\n        }\r\n    &lt;/style&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\r\n&lt;div id=&quot;header&quot;&gt;Header line 1&lt;br/&gt;Header line 2&lt;br/&gt;Header line 3&lt;/div&gt;\r\n\r\n&lt;p&gt;Content of the page&lt;/p&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nPage looks as follows in the resultant PDF:\r\n\r\n[![result][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lPlVm.png","title":"Convert HTML Template to PDF using itext7 with dynamic header &amp; footer","body":"<p>Here is an example of HTML that is correctly processed by <code>pdfHTML</code> and multiline header is displayed fully at the top of the page as expected:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n    &lt;style&gt;\n        #header {\n            position: running(header);\n        }\n\n        @page {\n            margin-top: 100px;\n            @top-center {\n                content: element(header);\n            }\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;div id=\"header\"&gt;Header line 1&lt;br/&gt;Header line 2&lt;br/&gt;Header line 3&lt;/div&gt;\n\n&lt;p&gt;Content of the page&lt;/p&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Page looks as follows in the resultant PDF:</p>\n\n<p><a href=\"https://i.stack.imgur.com/lPlVm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lPlVm.png\" alt=\"result\"></a></p>\n"}],"owner":{"account_id":18042937,"reputation":35,"user_id":13114610,"display_name":"Semi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1601,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60893311,"answer_count":1,"score":1,"last_activity_date":1693796392,"creation_date":1585041175,"question_id":60827977,"body_markdown":"I&#39;ve tried to use the below HTML template to convert it to PDF using iText7 but both header and footer are not binding to their intended position.\r\n[used example][1]\r\nI&#39;m trying to avoid @Page header and footer properties since I&#39;m trying to accomplish fitting dynamic content in both sections with extended space more than 3 rows in each. \r\n\r\n\r\niText code and result:\r\n\r\n    ConverterProperties properties = new ConverterProperties();\r\n\t//properties.setFontProvider(fontProvider);\r\n\tproperties.setMediaDeviceDescription(new MediaDeviceDescription(MediaType.PRINT));\r\n\tPdfWriter writer = new PdfWriter(&quot;out.pdf&quot;);\r\n\tPdfDocument pdf = new PdfDocument(writer);\r\n\tpdf.setTagged();\r\n\tPageSize pageSize = PageSize.LETTER;\r\n\tpdf.setDefaultPageSize(pageSize);\r\n\t\r\n\tOutlineHandler outlineHandler = OutlineHandler.createStandardHandler();\r\n\tproperties.setOutlineHandler(outlineHandler);\r\n    \r\n    //html template (templateOutput)\r\n\tHtmlConverter.convertToPdf(templateOutput, pdf, properties);\r\n\tbyte[] pdfData = byteArrayOutputStream.toByteArray();\r\n\tpdf.close();\r\n![The second page without header and footer][2]\r\n![First Page][3]\r\n\r\nPlease any suggestions to resolve the issue?\r\nThank you\r\n\r\n  [1]: https://plnkr.co/edit/lWk6Yd?preview\r\n  [2]: https://i.stack.imgur.com/insOe.png\r\n  [3]: https://i.stack.imgur.com/ZiMRa.png","title":"Convert HTML Template to PDF using itext7 with dynamic header &amp; footer","body":"<p>I've tried to use the below HTML template to convert it to PDF using iText7 but both header and footer are not binding to their intended position.\n<a href=\"https://plnkr.co/edit/lWk6Yd?preview\" rel=\"nofollow noreferrer\">used example</a>\nI'm trying to avoid @Page header and footer properties since I'm trying to accomplish fitting dynamic content in both sections with extended space more than 3 rows in each. </p>\n\n<p>iText code and result:</p>\n\n<pre><code>ConverterProperties properties = new ConverterProperties();\n//properties.setFontProvider(fontProvider);\nproperties.setMediaDeviceDescription(new MediaDeviceDescription(MediaType.PRINT));\nPdfWriter writer = new PdfWriter(\"out.pdf\");\nPdfDocument pdf = new PdfDocument(writer);\npdf.setTagged();\nPageSize pageSize = PageSize.LETTER;\npdf.setDefaultPageSize(pageSize);\n\nOutlineHandler outlineHandler = OutlineHandler.createStandardHandler();\nproperties.setOutlineHandler(outlineHandler);\n\n//html template (templateOutput)\nHtmlConverter.convertToPdf(templateOutput, pdf, properties);\nbyte[] pdfData = byteArrayOutputStream.toByteArray();\npdf.close();\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/insOe.png\" alt=\"The second page without header and footer\">\n<img src=\"https://i.stack.imgur.com/ZiMRa.png\" alt=\"First Page\"></p>\n\n<p>Please any suggestions to resolve the issue?\nThank you</p>\n"},{"tags":["java","rust","crash","jnr"],"comments":[{"owner":{"account_id":2518247,"reputation":46814,"user_id":2189130,"display_name":"kmdreko"},"score":0,"creation_date":1693792744,"post_id":77034733,"comment_id":135802863,"body_markdown":"This needs a lot more information to answer. This crosses the boundary between programming languages so the interface between them is of utmost importance and is also easy to get wrong. So please show how you are loading and calling the Rust code from Java.","body":"This needs a lot more information to answer. This crosses the boundary between programming languages so the interface between them is of utmost importance and is also easy to get wrong. So please show how you are loading and calling the Rust code from Java."},{"owner":{"account_id":29013292,"reputation":25,"user_id":22224305,"display_name":"hello planet"},"score":0,"creation_date":1693792796,"post_id":77034733,"comment_id":135802867,"body_markdown":"ok, I will update my question to clarify how I am using Rust from Java.","body":"ok, I will update my question to clarify how I am using Rust from Java."},{"owner":{"account_id":29013292,"reputation":25,"user_id":22224305,"display_name":"hello planet"},"score":0,"creation_date":1693793402,"post_id":77034733,"comment_id":135802911,"body_markdown":"I have updated my question to include more details about how I am referencing the native code from the JVM","body":"I have updated my question to include more details about how I am referencing the native code from the JVM"}],"answers":[{"comments":[{"owner":{"account_id":29013292,"reputation":25,"user_id":22224305,"display_name":"hello planet"},"score":0,"creation_date":1693800257,"post_id":77034773,"comment_id":135803309,"body_markdown":"This worked very well for me! I did not understand the deallocation logic, but I do now. Thank you so much! Have a great one","body":"This worked very well for me! I did not understand the deallocation logic, but I do now. Thank you so much! Have a great one"}],"tags":[],"owner":{"account_id":2518247,"reputation":46814,"user_id":2189130,"display_name":"kmdreko"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1693793745,"creation_date":1693793745,"answer_id":77034773,"question_id":77034733,"body_markdown":"You should not use `Box` to handle memory you got from the Java side. `Box` will attempt to deallocate the memory when it goes out of scope, but that will encounter errors since the memory was not allocated by `Box` initially.\r\n\r\nInstead use the slice only:\r\n\r\n```rust\r\nfn create_bitvec(data: &amp;[u8]) -&gt; [u8; 49152] {\r\n    // ...\r\n}\r\n\r\npub fn create(data: &amp;[u8]) -&gt; Chunk {\r\n    // ...\r\n}\r\n```\r\n\r\n```rust\r\n.build((x, y), slice::from_raw_parts_mut(arr as *mut u8, WIDTH * WIDTH * HEIGHT));\r\n```\r\n\r\nAnd any other code you omitted that uses it. The implementations within the functions should not change (much) since `Box` is fairly transparent.","title":"Why does Rust native library randomly crash when calling function?","body":"<p>You should not use <code>Box</code> to handle memory you got from the Java side. <code>Box</code> will attempt to deallocate the memory when it goes out of scope, but that will encounter errors since the memory was not allocated by <code>Box</code> initially.</p>\n<p>Instead use the slice only:</p>\n<pre class=\"lang-rust prettyprint-override\"><code>fn create_bitvec(data: &amp;[u8]) -&gt; [u8; 49152] {\n    // ...\n}\n\npub fn create(data: &amp;[u8]) -&gt; Chunk {\n    // ...\n}\n</code></pre>\n<pre class=\"lang-rust prettyprint-override\"><code>.build((x, y), slice::from_raw_parts_mut(arr as *mut u8, WIDTH * WIDTH * HEIGHT));\n</code></pre>\n<p>And any other code you omitted that uses it. The implementations within the functions should not change (much) since <code>Box</code> is fairly transparent.</p>\n"}],"owner":{"account_id":29013292,"reputation":25,"user_id":22224305,"display_name":"hello planet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77034773,"answer_count":1,"score":2,"last_activity_date":1693793745,"creation_date":1693792303,"question_id":77034733,"body_markdown":"In Rust, I have a function that compresses an array:\r\n\r\n```rust\r\nfn create_bitvec(data: Box&lt;[u8]&gt;) -&gt; [u8; 49152] {\r\n    let mut bit_vector = [0u8; 49152];\r\n    for (index, &amp;value) in data.iter().enumerate() {\r\n        let byte_index = (index * 4) / 8;\r\n        let bit_index = (index * 4) % 8;\r\n        let value_mask = 0b00001111 &lt;&lt; bit_index;\r\n        let shifted_value = (value &lt;&lt; bit_index) &amp; value_mask;\r\n        bit_vector[byte_index] &amp;= !value_mask;\r\n        bit_vector[byte_index] |= shifted_value;\r\n    }\r\n    debug!(&quot;made it here. {:?}&quot;, bit_vector);\r\n    bit_vector\r\n}\r\n```\r\n\r\n*(sorry if the implementation of the function is bad, but that&#39;s not the specific problem here).*\r\n\r\nThe function is used like this:\r\n\r\n```rust\r\npub fn create(data: Box&lt;[u8]&gt;) -&gt; Chunk {\r\n    assert_eq!(data.len(), FULL, &quot;Data length doesn&#39;t match!&quot;);\r\n    let bitvec = Chunk::create_bitvec(data);\r\n    debug!(&quot;Got here 1!&quot;);\r\n    let c = Chunk {\r\n        data: Chunk::create_rle(bitvec),\r\n    };\r\n    debug!(&quot;Got here 2: {:?} {}!&quot;, c.data, c.data.len());\r\n    c\r\n}\r\n```\r\n\r\nThis program is used as a native library for Java. The struct is not directly used, but only some crucial functions are exposed using `extern &quot;C&quot; fn` from `lib.rs`. When calling create from rust as part of a unit test, everything works as expected, but when used from the JVM, the program crashes with no additional panic/debug info, with exit code `-1073740940 (0xC0000374)`. The really confusing part that I simply cannot wrap my head around is that `made it here` gets logged just fine, with the correct array, but the program crashes before `Got here 1` can be logged. Here are some things I have already tried:\r\n\r\n- Verifying the array length\r\n\r\n- Verifying the data fits under the `u8` type\r\n\r\n- Testing the code from only Rust\r\n\r\nI suspect the issue may have something to do with memory, but I am not sure, especially since I passed `Xmx8G` to the JVM.\r\n\r\nI am using `jnr-ffi` for the natives.\r\n\r\nHere is the relevant rust code from `lib.rs`:\r\n```rust\r\nstatic CHUNK_STATE: Mutex&lt;Cell&lt;Option&lt;ChunkManager&gt;&gt;&gt; = Mutex::new(Cell::new(None));\r\n#[no_mangle]\r\npub extern &quot;C&quot; fn chunk_build(x: i64, y: i64, arr: *const u8) {\r\n    info!(&quot;Building chunk: {}, {}&quot;, x, y);\r\n    unsafe {\r\n        CHUNK_STATE.lock().get_mut().as_mut().expect(&quot;Not initialized!&quot;).build((x, y), Box::from_raw(slice::from_raw_parts_mut(arr as *mut u8, WIDTH * WIDTH * HEIGHT)));\r\n    }\r\n}\r\n```\r\n\r\nAnd its usage from Java:\r\n```java\r\npublic interface NativeLib {\r\n    void chunk_build(int x, int y, byte[] arr);\r\n}\r\n```\r\n\r\n```\r\nimport jnr.ffi.LibraryLoader;\r\n\r\npublic class Natives {\r\n    public static NativeLib INSTANCE;\r\n\r\n    public static void init() {\r\n        INSTANCE = LibraryLoader.create(NativeLib.class).load(&quot;C:\\\\Users\\\\*\\\\*\\\\*\\\\nativelib\\\\target\\\\release\\\\pathlib.dll&quot;);\r\n        INSTANCE.init();\r\n    }\r\n}\r\n```","title":"Why does Rust native library randomly crash when calling function?","body":"<p>In Rust, I have a function that compresses an array:</p>\n<pre class=\"lang-rust prettyprint-override\"><code>fn create_bitvec(data: Box&lt;[u8]&gt;) -&gt; [u8; 49152] {\n    let mut bit_vector = [0u8; 49152];\n    for (index, &amp;value) in data.iter().enumerate() {\n        let byte_index = (index * 4) / 8;\n        let bit_index = (index * 4) % 8;\n        let value_mask = 0b00001111 &lt;&lt; bit_index;\n        let shifted_value = (value &lt;&lt; bit_index) &amp; value_mask;\n        bit_vector[byte_index] &amp;= !value_mask;\n        bit_vector[byte_index] |= shifted_value;\n    }\n    debug!(&quot;made it here. {:?}&quot;, bit_vector);\n    bit_vector\n}\n</code></pre>\n<p><em>(sorry if the implementation of the function is bad, but that's not the specific problem here).</em></p>\n<p>The function is used like this:</p>\n<pre class=\"lang-rust prettyprint-override\"><code>pub fn create(data: Box&lt;[u8]&gt;) -&gt; Chunk {\n    assert_eq!(data.len(), FULL, &quot;Data length doesn't match!&quot;);\n    let bitvec = Chunk::create_bitvec(data);\n    debug!(&quot;Got here 1!&quot;);\n    let c = Chunk {\n        data: Chunk::create_rle(bitvec),\n    };\n    debug!(&quot;Got here 2: {:?} {}!&quot;, c.data, c.data.len());\n    c\n}\n</code></pre>\n<p>This program is used as a native library for Java. The struct is not directly used, but only some crucial functions are exposed using <code>extern &quot;C&quot; fn</code> from <code>lib.rs</code>. When calling create from rust as part of a unit test, everything works as expected, but when used from the JVM, the program crashes with no additional panic/debug info, with exit code <code>-1073740940 (0xC0000374)</code>. The really confusing part that I simply cannot wrap my head around is that <code>made it here</code> gets logged just fine, with the correct array, but the program crashes before <code>Got here 1</code> can be logged. Here are some things I have already tried:</p>\n<ul>\n<li><p>Verifying the array length</p>\n</li>\n<li><p>Verifying the data fits under the <code>u8</code> type</p>\n</li>\n<li><p>Testing the code from only Rust</p>\n</li>\n</ul>\n<p>I suspect the issue may have something to do with memory, but I am not sure, especially since I passed <code>Xmx8G</code> to the JVM.</p>\n<p>I am using <code>jnr-ffi</code> for the natives.</p>\n<p>Here is the relevant rust code from <code>lib.rs</code>:</p>\n<pre class=\"lang-rust prettyprint-override\"><code>static CHUNK_STATE: Mutex&lt;Cell&lt;Option&lt;ChunkManager&gt;&gt;&gt; = Mutex::new(Cell::new(None));\n#[no_mangle]\npub extern &quot;C&quot; fn chunk_build(x: i64, y: i64, arr: *const u8) {\n    info!(&quot;Building chunk: {}, {}&quot;, x, y);\n    unsafe {\n        CHUNK_STATE.lock().get_mut().as_mut().expect(&quot;Not initialized!&quot;).build((x, y), Box::from_raw(slice::from_raw_parts_mut(arr as *mut u8, WIDTH * WIDTH * HEIGHT)));\n    }\n}\n</code></pre>\n<p>And its usage from Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface NativeLib {\n    void chunk_build(int x, int y, byte[] arr);\n}\n</code></pre>\n<pre><code>import jnr.ffi.LibraryLoader;\n\npublic class Natives {\n    public static NativeLib INSTANCE;\n\n    public static void init() {\n        INSTANCE = LibraryLoader.create(NativeLib.class).load(&quot;C:\\\\Users\\\\*\\\\*\\\\*\\\\nativelib\\\\target\\\\release\\\\pathlib.dll&quot;);\n        INSTANCE.init();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","react-native","gradle"],"answers":[{"comments":[{"owner":{"account_id":389013,"reputation":724,"user_id":748253,"accept_rate":56,"display_name":"kumaheiyama"},"score":1,"creation_date":1675616431,"post_id":74695403,"comment_id":132963253,"body_markdown":"Save solution and path to gradle file when the problem is for an Android native app.","body":"Save solution and path to gradle file when the problem is for an Android native app."},{"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"score":0,"creation_date":1686219598,"post_id":74695403,"comment_id":134770369,"body_markdown":"I&#39;m having a similar problem, can you help me out: https://stackoverflow.com/questions/76405709/react-native-v0-71-8-react-native-vector-icons-icons-you-dont-see","body":"I&#39;m having a similar problem, can you help me out: <a href=\"https://stackoverflow.com/questions/76405709/react-native-v0-71-8-react-native-vector-icons-icons-you-dont-see\" title=\"react native v0 71 8 react native vector icons icons you dont see\">stackoverflow.com/questions/76405709/&hellip;</a>"}],"tags":[],"owner":{"account_id":22102656,"reputation":627,"user_id":16358865,"display_name":"Jon"},"comment_count":2,"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1670281136,"creation_date":1670281136,"answer_id":74695403,"question_id":74695402,"body_markdown":"SOLUTION:\r\n\r\nThis is a dependency issue and we need the latest version of Gradle to support Java 19.\r\n\r\nIn your React Native application folder, nav to `android/gradle/wrapper/gradle-wrapper.properties`\r\n\r\nFind the `distributionUrl` variable and change the end path to `gradle-7.6-all.zip`","title":"BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63","body":"<p>SOLUTION:</p>\n<p>This is a dependency issue and we need the latest version of Gradle to support Java 19.</p>\n<p>In your React Native application folder, nav to <code>android/gradle/wrapper/gradle-wrapper.properties</code></p>\n<p>Find the <code>distributionUrl</code> variable and change the end path to <code>gradle-7.6-all.zip</code></p>\n"},{"tags":[],"owner":{"account_id":12364158,"reputation":11,"user_id":9017053,"display_name":"gandalf-86"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693793694,"creation_date":1693793694,"answer_id":77034771,"question_id":74695402,"body_markdown":"In my case, the problem was related to the fact that I had incompatible versions of Java and Gradle running together. \r\nLook at this [compatibility matrix][1] to ensure that your installed Java version matches the Gradle one. \r\n\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/compatibility.html","title":"BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63","body":"<p>In my case, the problem was related to the fact that I had incompatible versions of Java and Gradle running together.\nLook at this <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">compatibility matrix</a> to ensure that your installed Java version matches the Gradle one.</p>\n"}],"owner":{"account_id":22102656,"reputation":627,"user_id":16358865,"display_name":"Jon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17875,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":74695403,"answer_count":2,"score":9,"last_activity_date":1693793694,"creation_date":1670281136,"question_id":74695402,"body_markdown":"Bug when first trying to run a brand new React Native application.\r\n\r\nBUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63\r\n\r\nI encountered this error when I first installed the latest version of Java \r\n\r\n&gt; java 19.0.1\r\n\r\nand creating a React Native application that auto generated with \r\n\r\n&gt; react-native dependency v0.70.6\r\n\r\n\r\n\r\n\r\n ","title":"BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63","body":"<p>Bug when first trying to run a brand new React Native application.</p>\n<p>BUG! exception in phase 'semantic analysis' in source unit '<em>BuildScript</em>' Unsupported class file major version 63</p>\n<p>I encountered this error when I first installed the latest version of Java</p>\n<blockquote>\n<p>java 19.0.1</p>\n</blockquote>\n<p>and creating a React Native application that auto generated with</p>\n<blockquote>\n<p>react-native dependency v0.70.6</p>\n</blockquote>\n"},{"tags":["java","jvm","oom"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1693557806,"post_id":77020168,"comment_id":135779816,"body_markdown":"Dont ask three different question at once.","body":"Dont ask three different question at once."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1693794524,"post_id":77020168,"comment_id":135802970,"body_markdown":"If you write code that catches `OutOfMemoryException` and returns `null` instead, you have only yourself to blame.","body":"If you write code that catches <code>OutOfMemoryException</code> and returns <code>null</code> instead, you have only yourself to blame."}],"answers":[{"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1693539861,"post_id":77020169,"comment_id":135777464,"body_markdown":"Next time find the related question **before** asking your duplicate question.","body":"Next time find the related question <b>before</b> asking your duplicate question."}],"tags":[],"owner":{"account_id":3861275,"reputation":300,"user_id":3198960,"accept_rate":22,"display_name":"rufushuang"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693535082,"creation_date":1693535082,"answer_id":77020169,"question_id":77020168,"body_markdown":"Found related: https://stackoverflow.com/questions/72865015/why-jvm-can-recovery-from-oom-java-heap-space-by-itself\r\n\r\nSo, jvm arguments:\r\n\r\n    -XX:+CrashOnOutOfMemoryError\r\nFurther, also can run a script:\r\n\r\n    -XX:OnOutOfMemoryError=&quot;/dir/oomKillAndRestart.sh&quot;\r\n","title":"Why JVM NOT crash after oom?","body":"<p>Found related: <a href=\"https://stackoverflow.com/questions/72865015/why-jvm-can-recovery-from-oom-java-heap-space-by-itself\">Why JVM can recovery from OOM Java heap space by itself</a></p>\n<p>So, jvm arguments:</p>\n<pre><code>-XX:+CrashOnOutOfMemoryError\n</code></pre>\n<p>Further, also can run a script:</p>\n<pre><code>-XX:OnOutOfMemoryError=&quot;/dir/oomKillAndRestart.sh&quot;\n</code></pre>\n"}],"owner":{"account_id":3861275,"reputation":300,"user_id":3198960,"accept_rate":22,"display_name":"rufushuang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693536038,"accepted_answer_id":77020169,"answer_count":1,"score":0,"last_activity_date":1693793484,"creation_date":1693535082,"question_id":77020168,"body_markdown":"This maybe an interesting question to ask. In most cases, we do not want jvm crash.\r\n\r\nBut sometimes the &#39;**oom-ed but not crash**&#39; jvm process keeps runing, and may return a value with NULL instead of the correct value. For some scenarios sensitive to value accuracy, this is not acceptable.\r\n\r\nSo is there way to **make jvm DO CRASH after oom**? Like some jvm arguments, or alternative approaches to solving this issue to make scenarios keep accuracy.\r\n","title":"Why JVM NOT crash after oom?","body":"<p>This maybe an interesting question to ask. In most cases, we do not want jvm crash.</p>\n<p>But sometimes the '<strong>oom-ed but not crash</strong>' jvm process keeps runing, and may return a value with NULL instead of the correct value. For some scenarios sensitive to value accuracy, this is not acceptable.</p>\n<p>So is there way to <strong>make jvm DO CRASH after oom</strong>? Like some jvm arguments, or alternative approaches to solving this issue to make scenarios keep accuracy.</p>\n"},{"tags":["java","image","fileinputstream","business-process-management"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1693626410,"post_id":77026795,"comment_id":135789069,"body_markdown":"Since you havent shown us any of your code, its hard to know where to start explaining things.  Have you ever used those classes before?  Have you used the File class before?  Have you written a Java program before?  Do you have any information on the BMP format?","body":"Since you havent shown us any of your code, its hard to know where to start explaining things.  Have you ever used those classes before?  Have you used the File class before?  Have you written a Java program before?  Do you have any information on the BMP format?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1693626870,"post_id":77026795,"comment_id":135789096,"body_markdown":"You didn&#39;t make any questions. What issue do you have?","body":"You didn&#39;t make any questions. What issue do you have?"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693793385,"creation_date":1693630988,"answer_id":77027033,"question_id":77026795,"body_markdown":"&gt; _&quot;... I want to read the header of a BMP image ...&quot;_\r\n\r\nHere is the _Wikipedia_ article on the _Bitmap_ image format, specifically the _file header_ section.  \r\n_[Wikipedia &amp;ndash; BMP file format &amp;ndash; Bitmap file header](https://en.wikipedia.org/wiki/BMP_file_format#DIB_header_(bitmap_information_header))_.\r\n \r\nThe byte offsets for width and height are _18_ and _22_.  \r\n\r\n&gt; _&quot;... the teacher suggested to use FileInputStream and FileOutputStream&quot;_\r\n\r\nYou can use the _[InputStream#readNBytes](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/InputStream.html#readNBytes(int))_ method to obtain the first _n_ bytes of data.&amp;nbsp; In this case, _n + 4_ since the last field is 4 bytes.\r\n\r\n```java\r\ntry (FileInputStream stream = new FileInputStream(&quot;image.bmp&quot;)) {\r\n    byte[] b = stream.readNBytes(0x32 + 4);\r\n}\r\n```\r\n\r\n&gt; _&quot;... when a person writes the path of an image bmp, it displays:_\r\n&gt;\r\n&gt; - _the File size in bytes_  \r\n&gt; - _the Width in pixels_  \r\n&gt; - _the Height in pixels_  \r\n&gt;\r\n&gt; ...&quot;\r\n\r\nYou could utilize the _[ByteBuffer](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/ByteBuffer.html)_ class to convert the numeric values.\r\n\r\nI am using the following _NASA_ bitmap image.  \r\n_[NASA &amp;ndash; SVS &amp;ndash; Index of Frames Files for ID 13326 &amp;ndash; frame_0001.bmp (3840&amp;times;3840)](https://svs.gsfc.nasa.gov/vis/a010000/a013300/a013326/frames/3840x3840_1x1_30p/360/frame_0001.bmp)_.\r\n\r\n```java\r\ntry (FileInputStream stream = new FileInputStream(&quot;files/frame_0001.bmp&quot;)) {\r\n    byte[] b = stream.readNBytes(0x32 + 4);\r\n    ByteBuffer bb = ByteBuffer.allocate(b.length);\r\n    for (byte x : b) bb.put((byte) (x &amp; 0xff));\r\n    bb.order(ByteOrder.LITTLE_ENDIAN);\r\n    String id;\r\n    int size, sizeB, offset, width, height, planes, bpp,\r\n        hSize, compression, image, h_ppm, v_ppm, colors, important;\r\n    byte[] reserved1, reserved2;\r\n    id = new String(Arrays.copyOfRange(b, 0, 2));\r\n    bb.position(2);\r\n    size = bb.getInt();\r\n    reserved1 = Arrays.copyOfRange(b, 6, 8);\r\n    reserved2 = Arrays.copyOfRange(b, 8, 10);\r\n    bb.position(10);\r\n    offset = bb.getInt();\r\n    hSize = bb.getInt();\r\n    width = bb.getInt();\r\n    height = bb.getInt();\r\n    planes = bb.getChar();\r\n    bpp = bb.getChar();\r\n    compression = bb.getInt();\r\n    sizeB = bb.getInt();\r\n    h_ppm = bb.getInt();\r\n    v_ppm = bb.getInt();\r\n    colors = bb.getInt();\r\n    important = bb.getInt();\r\n    String string\r\n        = &quot;b= %,d (0x%1$x), %s%n&quot;.formatted(b.length, Arrays.toString(b))\r\n        + &quot;id= &#39;%s&#39;, %s%n&quot;.formatted(id, Arrays.toString(id.getBytes()))\r\n        + &quot;size= %,d%n&quot;.formatted(size)\r\n        + &quot;reserved1= %s%n&quot;.formatted(Arrays.toString(reserved1))\r\n        + &quot;reserved2= %s%n&quot;.formatted(Arrays.toString(reserved2))\r\n        + &quot;offset= %,d (0x%1$x)%n&quot;.formatted(offset)\r\n        + &quot;hSize= %,d (0x%1$x)%n&quot;.formatted(hSize)\r\n        + &quot;width= %,d%n&quot;.formatted(width)\r\n        + &quot;height= %,d%n&quot;.formatted(height)\r\n        + &quot;planes= %,d%n&quot;.formatted(planes)\r\n        + &quot;bpp= %,d%n&quot;.formatted(bpp)\r\n        + &quot;compression= %d%n&quot;.formatted(compression)\r\n        + &quot;sizeB= %,d%n&quot;.formatted(sizeB)\r\n        + &quot;h_ppm= %d%n&quot;.formatted(h_ppm)\r\n        + &quot;v_ppm= %d%n&quot;.formatted(v_ppm)\r\n        + &quot;colors= %d%n&quot;.formatted(colors)\r\n        + &quot;important= %d%n&quot;.formatted(important);\r\n    System.out.println(string);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nb= 54 (0x36), [66, 77, 54, 4, -31, 0, 0, 0, 0, 0, 54, 4, 0, 0, 40, 0, 0, 0, 0, 15, 0, 0, 0, 15, 0, 0, 1, 0, 8, 0, 0, 0, 0, 0, 0, 0, -31, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\r\nid= &#39;BM&#39;, [66, 77]\r\nsize= 14,746,678\r\nreserved1= [0, 0]\r\nreserved2= [0, 0]\r\noffset= 1,078 (0x436)\r\nhSize= 40 (0x28)\r\nwidth= 3,840\r\nheight= 3,840\r\nplanes= 1\r\nbpp= 8\r\ncompression= 0\r\nsizeB= 14,745,600\r\nh_ppm= 0\r\nv_ppm= 0\r\ncolors= 0\r\nimportant= 0\r\n```\r\n\r\nAnother approach is to use _[bit-wise and shift operations](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html)_.","title":"reading BMP header in Java","body":"<blockquote>\n<p><em>&quot;... I want to read the header of a BMP image ...&quot;</em></p>\n</blockquote>\n<p>Here is the <em>Wikipedia</em> article on the <em>Bitmap</em> image format, specifically the <em>file header</em> section.<br />\n<em><a href=\"https://en.wikipedia.org/wiki/BMP_file_format#DIB_header_(bitmap_information_header)\" rel=\"nofollow noreferrer\">Wikipedia  BMP file format  Bitmap file header</a></em>.</p>\n<p>The byte offsets for width and height are <em>18</em> and <em>22</em>.</p>\n<blockquote>\n<p><em>&quot;... the teacher suggested to use FileInputStream and FileOutputStream&quot;</em></p>\n</blockquote>\n<p>You can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/InputStream.html#readNBytes(int)\" rel=\"nofollow noreferrer\">InputStream#readNBytes</a></em> method to obtain the first <em>n</em> bytes of data. In this case, <em>n + 4</em> since the last field is 4 bytes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (FileInputStream stream = new FileInputStream(&quot;image.bmp&quot;)) {\n    byte[] b = stream.readNBytes(0x32 + 4);\n}\n</code></pre>\n<blockquote>\n<p><em>&quot;... when a person writes the path of an image bmp, it displays:</em></p>\n<ul>\n<li><em>the File size in bytes</em></li>\n<li><em>the Width in pixels</em></li>\n<li><em>the Height in pixels</em></li>\n</ul>\n<p>...&quot;</p>\n</blockquote>\n<p>You could utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/ByteBuffer.html\" rel=\"nofollow noreferrer\">ByteBuffer</a></em> class to convert the numeric values.</p>\n<p>I am using the following <em>NASA</em> bitmap image.<br />\n<em><a href=\"https://svs.gsfc.nasa.gov/vis/a010000/a013300/a013326/frames/3840x3840_1x1_30p/360/frame_0001.bmp\" rel=\"nofollow noreferrer\">NASA  SVS  Index of Frames Files for ID 13326  frame_0001.bmp (38403840)</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (FileInputStream stream = new FileInputStream(&quot;files/frame_0001.bmp&quot;)) {\n    byte[] b = stream.readNBytes(0x32 + 4);\n    ByteBuffer bb = ByteBuffer.allocate(b.length);\n    for (byte x : b) bb.put((byte) (x &amp; 0xff));\n    bb.order(ByteOrder.LITTLE_ENDIAN);\n    String id;\n    int size, sizeB, offset, width, height, planes, bpp,\n        hSize, compression, image, h_ppm, v_ppm, colors, important;\n    byte[] reserved1, reserved2;\n    id = new String(Arrays.copyOfRange(b, 0, 2));\n    bb.position(2);\n    size = bb.getInt();\n    reserved1 = Arrays.copyOfRange(b, 6, 8);\n    reserved2 = Arrays.copyOfRange(b, 8, 10);\n    bb.position(10);\n    offset = bb.getInt();\n    hSize = bb.getInt();\n    width = bb.getInt();\n    height = bb.getInt();\n    planes = bb.getChar();\n    bpp = bb.getChar();\n    compression = bb.getInt();\n    sizeB = bb.getInt();\n    h_ppm = bb.getInt();\n    v_ppm = bb.getInt();\n    colors = bb.getInt();\n    important = bb.getInt();\n    String string\n        = &quot;b= %,d (0x%1$x), %s%n&quot;.formatted(b.length, Arrays.toString(b))\n        + &quot;id= '%s', %s%n&quot;.formatted(id, Arrays.toString(id.getBytes()))\n        + &quot;size= %,d%n&quot;.formatted(size)\n        + &quot;reserved1= %s%n&quot;.formatted(Arrays.toString(reserved1))\n        + &quot;reserved2= %s%n&quot;.formatted(Arrays.toString(reserved2))\n        + &quot;offset= %,d (0x%1$x)%n&quot;.formatted(offset)\n        + &quot;hSize= %,d (0x%1$x)%n&quot;.formatted(hSize)\n        + &quot;width= %,d%n&quot;.formatted(width)\n        + &quot;height= %,d%n&quot;.formatted(height)\n        + &quot;planes= %,d%n&quot;.formatted(planes)\n        + &quot;bpp= %,d%n&quot;.formatted(bpp)\n        + &quot;compression= %d%n&quot;.formatted(compression)\n        + &quot;sizeB= %,d%n&quot;.formatted(sizeB)\n        + &quot;h_ppm= %d%n&quot;.formatted(h_ppm)\n        + &quot;v_ppm= %d%n&quot;.formatted(v_ppm)\n        + &quot;colors= %d%n&quot;.formatted(colors)\n        + &quot;important= %d%n&quot;.formatted(important);\n    System.out.println(string);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>b= 54 (0x36), [66, 77, 54, 4, -31, 0, 0, 0, 0, 0, 54, 4, 0, 0, 40, 0, 0, 0, 0, 15, 0, 0, 0, 15, 0, 0, 1, 0, 8, 0, 0, 0, 0, 0, 0, 0, -31, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\nid= 'BM', [66, 77]\nsize= 14,746,678\nreserved1= [0, 0]\nreserved2= [0, 0]\noffset= 1,078 (0x436)\nhSize= 40 (0x28)\nwidth= 3,840\nheight= 3,840\nplanes= 1\nbpp= 8\ncompression= 0\nsizeB= 14,745,600\nh_ppm= 0\nv_ppm= 0\ncolors= 0\nimportant= 0\n</code></pre>\n<p>Another approach is to use <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\" rel=\"nofollow noreferrer\">bit-wise and shift operations</a></em>.</p>\n"}],"owner":{"account_id":28768014,"reputation":9,"user_id":22032454,"display_name":"Andres  Ordonez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1693630172,"answer_count":1,"score":-1,"last_activity_date":1693793385,"creation_date":1693623290,"question_id":77026795,"body_markdown":"I want to read the header of a BMP image so that when a person writes the path of an image bmp, it displays:\r\n\r\n- the File size in bytes\r\n- the Width in pixels\r\n- the Height in pixels\r\n\r\n I&#39;m working on Java and the teacher suggested to use FileInputStream and FileOutputStream.","title":"reading BMP header in Java","body":"<p>I want to read the header of a BMP image so that when a person writes the path of an image bmp, it displays:</p>\n<ul>\n<li>the File size in bytes</li>\n<li>the Width in pixels</li>\n<li>the Height in pixels</li>\n</ul>\n<p>I'm working on Java and the teacher suggested to use FileInputStream and FileOutputStream.</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"score":0,"creation_date":1436211635,"post_id":31254016,"comment_id":50505475,"body_markdown":"@the8472 It&#39;s advanced twice in the constructor, so I don&#39;t see how it could be lazily-initialized.  (I think the question is still valid anyway, given how IntStream.concat is documented to be lazy.)","body":"@the8472 It&#39;s advanced twice in the constructor, so I don&#39;t see how it could be lazily-initialized.  (I think the question is still valid anyway, given how IntStream.concat is documented to be lazy.)"},{"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"score":1,"creation_date":1436249535,"post_id":31254016,"comment_id":50517638,"body_markdown":"It doesn&#39;t pertain to the lazy stream, but `x -&gt; x + 2*p` is likely a bug since `p` is a member variable that might change before the lambda is evaluated.","body":"It doesn&#39;t pertain to the lazy stream, but <code>x -&gt; x + 2*p</code> is likely a bug since <code>p</code> is a member variable that might change before the lambda is evaluated."}],"answers":[{"comments":[{"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"score":0,"creation_date":1436214054,"post_id":31254841,"comment_id":50506734,"body_markdown":"I&#39;m sorry, I don&#39;t understand.  The Python code begins by advancing the second sieve twice: `p = next(ps) and next(ps)`, which your suggestion omits.  (Also, while this approach might solve my specific problem, it doesn&#39;t resolve my confusion about IntStream.concat claiming to be lazy, though maybe I should ask a separate question with no code about that.)  Not being a big Python programmer, perhaps I&#39;m just confused about what the source does, but there is a question in the comments there and the answer is &quot;it only works because it&#39;s lazy&quot;.","body":"I&#39;m sorry, I don&#39;t understand.  The Python code begins by advancing the second sieve twice: <code>p = next(ps) and next(ps)</code>, which your suggestion omits.  (Also, while this approach might solve my specific problem, it doesn&#39;t resolve my confusion about IntStream.concat claiming to be lazy, though maybe I should ask a separate question with no code about that.)  Not being a big Python programmer, perhaps I&#39;m just confused about what the source does, but there is a question in the comments there and the answer is &quot;it only works because it&#39;s lazy&quot;."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1436214121,"post_id":31254841,"comment_id":50506769,"body_markdown":"It doesn&#39;t omit it, it places it at a different place.","body":"It doesn&#39;t omit it, it places it at a different place."},{"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"score":0,"creation_date":1436214186,"post_id":31254841,"comment_id":50506800,"body_markdown":"Okay, I guess you edited it, that makes more sense.  Still confused about stream laziness but I&#39;ll ask another question about it if it ever comes up again.","body":"Okay, I guess you edited it, that makes more sense.  Still confused about stream laziness but I&#39;ll ask another question about it if it ever comes up again."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1436214202,"post_id":31254841,"comment_id":50506808,"body_markdown":"No, this is the first and only version of code which I posted.","body":"No, this is the first and only version of code which I posted."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1436214585,"post_id":31254841,"comment_id":50507010,"body_markdown":"Have you considered using the idiom `Stream.of(stream1, stream2).flatMap(identity())` which is semantically equivalent to `concat`, but could be lazier?","body":"Have you considered using the idiom <code>Stream.of(stream1, stream2).flatMap(identity())</code> which is semantically equivalent to <code>concat</code>, but could be lazier?"},{"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"score":0,"creation_date":1436215087,"post_id":31254841,"comment_id":50507306,"body_markdown":"That&#39;s lazy enough, but now `primes().limit(5).forEachOrdered(System.out::println);` does not terminate (in a reasonable time) after printing the first five primes.  I think it&#39;s a bug in my sieve implementation, as I haven&#39;t previously been able to test it.  (I wouldn&#39;t have thought of that one, thanks for the suggestion.)","body":"That&#39;s lazy enough, but now <code>primes().limit(5).forEachOrdered(System.out::println);</code> does not terminate (in a reasonable time) after printing the first five primes.  I think it&#39;s a bug in my sieve implementation, as I haven&#39;t previously been able to test it.  (I wouldn&#39;t have thought of that one, thanks for the suggestion.)"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":1,"creation_date":1436237497,"post_id":31254841,"comment_id":50514165,"body_markdown":"The `flatMap` is not *lazier* in this case. Yes, unlike `Stream.concat` flatMap does not retrieve the stream spliterator until the traversal reaches given point. But in this case the spliterators for both streams already exist at the very start, thus it doesn&#39;t matter. Also the `flatMap`-ped stream does not report its size (unlike `concat`-enated stream), so `105097564` constant becomes useless.","body":"The <code>flatMap</code> is not <i>lazier</i> in this case. Yes, unlike <code>Stream.concat</code> flatMap does not retrieve the stream spliterator until the traversal reaches given point. But in this case the spliterators for both streams already exist at the very start, thus it doesn&#39;t matter. Also the <code>flatMap</code>-ped stream does not report its size (unlike <code>concat</code>-enated stream), so <code>105097564</code> constant becomes useless."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1436256419,"post_id":31254841,"comment_id":50521347,"body_markdown":"@TagirValeev Flatmapping a stream of suppliers of streams should be a fix for that (as in my edited example). Propagating the reported size is tougher because it&#39;s a chicken-and-egg problem: you can&#39;t find out the reported size before you instantiate the spliterator.","body":"@TagirValeev Flatmapping a stream of suppliers of streams should be a fix for that (as in my edited example). Propagating the reported size is tougher because it&#39;s a chicken-and-egg problem: you can&#39;t find out the reported size before you instantiate the spliterator."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1436258467,"post_id":31254841,"comment_id":50522522,"body_markdown":"All told, for the specific problem I&#39;d recommend the first solution proposed in my answer. On a more general note, Java streams just aren&#39;t designed to support OP&#39;s idiom because the instantiation of a spliterator is not considered consumption. Only calling `tryAdvance/forEachRemaining` counts as one, and OP&#39;s code violates that.","body":"All told, for the specific problem I&#39;d recommend the first solution proposed in my answer. On a more general note, Java streams just aren&#39;t designed to support OP&#39;s idiom because the instantiation of a spliterator is not considered consumption. Only calling <code>tryAdvance&#47;forEachRemaining</code> counts as one, and OP&#39;s code violates that."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1436258816,"post_id":31254841,"comment_id":50522779,"body_markdown":"Any `flatMap` based solution [is doomed to fail](http://stackoverflow.com/q/29229373/2711488). Besides that, the logic doesnt seem to be fundamentally different to [this much simpler solution](http://stackoverflow.com/a/20007272/2711488) and the raised complexity and low level operating doesnt seem to provide a performance benefit either. I agree with Marko Topolnik that Java streams are not designed for this. However, if you still want to try to make them do that, you should strive for simplicity","body":"Any <code>flatMap</code> based solution <a href=\"http://stackoverflow.com/q/29229373/2711488\">is doomed to fail</a>. Besides that, the logic doesnt seem to be fundamentally different to <a href=\"http://stackoverflow.com/a/20007272/2711488\">this much simpler solution</a> and the raised complexity and low level operating doesnt seem to provide a performance benefit either. I agree with Marko Topolnik that Java streams are not designed for this. However, if you still want to try to make them do that, you should strive for simplicity"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1436259272,"post_id":31254841,"comment_id":50523092,"body_markdown":"@Holger Whichever variant was considered so far, I think that parallelizing it would fail. And, unfortunately for some, the design of Java streams is bent quite a bit towards the needs of parallelization. We could almost argue that everything else is a lucky extra, just like with defender methods.","body":"@Holger Whichever variant was considered so far, I think that parallelizing it would fail. And, unfortunately for some, the design of Java streams is bent quite a bit towards the needs of parallelization. We could almost argue that everything else is a lucky extra, just like with defender methods."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1436259836,"post_id":31254841,"comment_id":50523476,"body_markdown":"@Marko Topolnik: well, everyone who tries to find primes but doesnt use a simple loop and a `BitSet` for `int`s or `BigInteger.nextProbablePrime` for larger values but the `Stream` API instead, seems to want to make an exercise in functional programming rather than finding a simple pragmatic solution. In that regard, the `Stream` API does everything right by throwing exactly these obstacles into the programmers way that (s)he seeks for.","body":"@Marko Topolnik: well, everyone who tries to find primes but doesnt use a simple loop and a <code>BitSet</code> for <code>int</code>s or <code>BigInteger.nextProbablePrime</code> for larger values but the <code>Stream</code> API instead, seems to want to make an exercise in functional programming rather than finding a simple pragmatic solution. In that regard, the <code>Stream</code> API does everything right by throwing exactly these obstacles into the programmers way that (s)he seeks for."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1436260196,"post_id":31254841,"comment_id":50523723,"body_markdown":"@Holger I appreciate the sarcasm :) Still, an FP library with a different focus would probably take more care to respect lazy semantics. OP could be better off with the Functional Java library if his goal is acquiring some practice with pure FP idioms.","body":"@Holger I appreciate the sarcasm :) Still, an FP library with a different focus would probably take more care to respect lazy semantics. OP could be better off with the Functional Java library if his goal is acquiring some practice with pure FP idioms."},{"owner":{"account_id":1135767,"reputation":1478,"user_id":1120854,"display_name":"charlie"},"score":0,"creation_date":1467206935,"post_id":31254841,"comment_id":63635895,"body_markdown":"@Holger: I&#39;d say a _floating sieve (dictionary)_ logic **is** fundamentally different from a _trial division_. ;o)","body":"@Holger: I&#39;d say a <i>floating sieve (dictionary)</i> logic <b>is</b> fundamentally different from a <i>trial division</i>. ;o)"}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":14,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1436265762,"creation_date":1436213884,"answer_id":31254841,"question_id":31254016,"body_markdown":"Your apparently assume that the Streams API extends its guarantees of laziness even to the instantiation of spliterators; this is not correct. It expects to be able to instantiate the stream&#39;s spliterator at any time before the actual consumption begins, for example just to find out the stream&#39;s characteristics and reported size. Consumption only begins by invoking `trySplit`, `tryAdvance`, or `forEachRemaining`.\r\n\r\nHaving that in mind, you are initializing the postponed sieve earlier than you need it. You don&#39;t get to use any of its results until the `else if` part in `tryAdvance`. So move the code to the last possible moment which gives correctness:\r\n\r\n    @Override\r\n    public boolean tryAdvance(IntConsumer action) {\r\n        for (; c &gt; 0 /* overflow */; c += 2) {\r\n            Supplier&lt;IntStream&gt; maybeS = sieve.remove(c);\r\n            if (maybeS != null)\r\n                s = maybeS;\r\n            else {\r\n                if (postponedSieve == null) {\r\n                  postponedSieve = primes().iterator();\r\n                  postponedSieve.nextInt();\r\n                  this.p = postponedSieve.nextInt();\r\n                  this.q = p*p;\r\n                }\r\n                if (c &lt; q) {\r\n                  action.accept(c);\r\n                  return true; //continue\r\n\r\nI think that, with this change, even your first attempt at `primes()` should work.\r\n\r\nIf you want to stay with your current approach, you could involve the following idiom:\r\n\r\n    Stream.&lt;Supplier&lt;IntStream&gt;&gt;of(\r\n      ()-&gt;IntStream.of(2, 3, 5, 7),\r\n      ()-&gt;intStream(new PrimeSpliterator()))\r\n    .flatMap(Supplier::get);\r\n\r\nYou may find that this gives you as much laziness as you need.","title":"How do I lazily concatenate streams?","body":"<p>Your apparently assume that the Streams API extends its guarantees of laziness even to the instantiation of spliterators; this is not correct. It expects to be able to instantiate the stream's spliterator at any time before the actual consumption begins, for example just to find out the stream's characteristics and reported size. Consumption only begins by invoking <code>trySplit</code>, <code>tryAdvance</code>, or <code>forEachRemaining</code>.</p>\n\n<p>Having that in mind, you are initializing the postponed sieve earlier than you need it. You don't get to use any of its results until the <code>else if</code> part in <code>tryAdvance</code>. So move the code to the last possible moment which gives correctness:</p>\n\n<pre><code>@Override\npublic boolean tryAdvance(IntConsumer action) {\n    for (; c &gt; 0 /* overflow */; c += 2) {\n        Supplier&lt;IntStream&gt; maybeS = sieve.remove(c);\n        if (maybeS != null)\n            s = maybeS;\n        else {\n            if (postponedSieve == null) {\n              postponedSieve = primes().iterator();\n              postponedSieve.nextInt();\n              this.p = postponedSieve.nextInt();\n              this.q = p*p;\n            }\n            if (c &lt; q) {\n              action.accept(c);\n              return true; //continue\n</code></pre>\n\n<p>I think that, with this change, even your first attempt at <code>primes()</code> should work.</p>\n\n<p>If you want to stay with your current approach, you could involve the following idiom:</p>\n\n<pre><code>Stream.&lt;Supplier&lt;IntStream&gt;&gt;of(\n  ()-&gt;IntStream.of(2, 3, 5, 7),\n  ()-&gt;intStream(new PrimeSpliterator()))\n.flatMap(Supplier::get);\n</code></pre>\n\n<p>You may find that this gives you as much laziness as you need.</p>\n"},{"tags":[],"owner":{"account_id":24392010,"reputation":56,"user_id":18321854,"display_name":"selalerercapitolis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655711960,"creation_date":1655711960,"answer_id":72683894,"question_id":31254016,"body_markdown":"I like to use `Supplier` to do that:\r\n\r\n    return Stream.&lt;Supplier&lt;Stream&lt;WhatEver&gt;&gt;of(\r\n      () -&gt; generateStreamOfWhatEverAndChangeSomeState(input, state),\r\n      () -&gt; generateStreamOfMoreWhatEversDependendingOnMutatedState(state)\r\n    ).flatMap(Supplier::get);\r\n\r\nSince stream is lazily evaluated the `generateStreamOfWhatEverAndChangeSomeState()` will finish before `generateStreamOfMoreWhatEversDependendingOnMutatedState()` start and the `state` would be updated.\r\n\r\nI should note that this is probably not what the designers of `Stream` had in mind. Idealy a `Stream` should not change state, only read each item and produce a new item.","title":"How do I lazily concatenate streams?","body":"<p>I like to use <code>Supplier</code> to do that:</p>\n<pre><code>return Stream.&lt;Supplier&lt;Stream&lt;WhatEver&gt;&gt;of(\n  () -&gt; generateStreamOfWhatEverAndChangeSomeState(input, state),\n  () -&gt; generateStreamOfMoreWhatEversDependendingOnMutatedState(state)\n).flatMap(Supplier::get);\n</code></pre>\n<p>Since stream is lazily evaluated the <code>generateStreamOfWhatEverAndChangeSomeState()</code> will finish before <code>generateStreamOfMoreWhatEversDependendingOnMutatedState()</code> start and the <code>state</code> would be updated.</p>\n<p>I should note that this is probably not what the designers of <code>Stream</code> had in mind. Idealy a <code>Stream</code> should not change state, only read each item and produce a new item.</p>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1693799111,"post_id":77034746,"comment_id":135803237,"body_markdown":"Method [takeWhile](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#takeWhile(java.util.function.Predicate)) was added to interface `java.util.stream.Stream` in JDK 9 which came out four years after the original question was posted. I think you should mention that in your answer since (at time of writing this comment) many people are still using JDK 8 (which, of-course, doesn&#39;t have method `takeWhile`).","body":"Method <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#takeWhile(java.util.function.Predicate)\" rel=\"nofollow noreferrer\">takeWhile</a> was added to interface <code>java.util.stream.Stream</code> in JDK 9 which came out four years after the original question was posted. I think you should mention that in your answer since (at time of writing this comment) many people are still using JDK 8 (which, of-course, doesn&#39;t have method <code>takeWhile</code>)."}],"tags":[],"owner":{"account_id":23858475,"reputation":1,"user_id":17861730,"display_name":"ds1"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693792864,"creation_date":1693792864,"answer_id":77034746,"question_id":31254016,"body_markdown":"@selalerercapitolis&#39;s answer was very helpful for my use case, which has nothing to do with mutation: to get elements from the concatenated stream until one of the elements doesn&#39;t have a certain property.\r\n\r\nExample:\r\n```\r\nStream&lt;String&gt; concatenated = Stream.of(supplierA, supplierB).flatMap(Supplier::get); // selalerercapitolis&#39;s answer.\r\nList&lt;String&gt; result = concatenated.takeWhile(s -&gt; s.length() &gt; 5).toList();\r\n```\r\n\r\n`supplierB` generates a stream that is a bit expensive to create, so I was avoiding creating it if one of the elements generated by `supplierA` fails the condition tested by `takeWhile()`. That is, if `result` will only contain elements generated by `supplierA`.","title":"How do I lazily concatenate streams?","body":"<p>@selalerercapitolis's answer was very helpful for my use case, which has nothing to do with mutation: to get elements from the concatenated stream until one of the elements doesn't have a certain property.</p>\n<p>Example:</p>\n<pre><code>Stream&lt;String&gt; concatenated = Stream.of(supplierA, supplierB).flatMap(Supplier::get); // selalerercapitolis's answer.\nList&lt;String&gt; result = concatenated.takeWhile(s -&gt; s.length() &gt; 5).toList();\n</code></pre>\n<p><code>supplierB</code> generates a stream that is a bit expensive to create, so I was avoiding creating it if one of the elements generated by <code>supplierA</code> fails the condition tested by <code>takeWhile()</code>. That is, if <code>result</code> will only contain elements generated by <code>supplierA</code>.</p>\n"}],"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2126,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1693792864,"creation_date":1436210765,"question_id":31254016,"body_markdown":"I&#39;m trying to implement a stream that uses another instance of itself in its implementation.  The stream has a few constant elements prepended (with IntStream.concat) to it, so this should work as long as the concatenated stream creates the non-constant part lazily.  I think using the [StreamSupport.intStream overload taking a Supplier](https://docs.oracle.com/javase/8/docs/api/java/util/stream/StreamSupport.html#intStream-java.util.function.Supplier-int-boolean-) with IntStream.concat (which [&quot;creates a lazily concatenated stream&quot;](https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#concat-java.util.stream.IntStream-java.util.stream.IntStream-)) should be lazy enough to only create the second spliterator when elements are demanded from it, but even creating the stream (not evaluating it) overflows the stack.  How can I lazily concatenate streams?\r\n\r\n---\r\n\r\nI&#39;m attempting to port the streaming prime number sieve from [this answer](https://stackoverflow.com/a/10733621/3614835) into Java.  This sieve uses another instance of itself (`ps = postponed_sieve()` in the Python code).  If I break the initial four constant elements (`yield 2; yield 3; yield 5; yield 7;`) into their own stream, it&#39;s easy to implement the generator as a spliterator:\r\n\r\n    /**\r\n\t * based on https://stackoverflow.com/a/10733621/3614835\r\n\t */\r\n\tstatic class PrimeSpliterator extends Spliterators.AbstractIntSpliterator {\r\n\t\tprivate static final int CHARACTERISTICS = Spliterator.DISTINCT | Spliterator.IMMUTABLE | Spliterator.NONNULL | Spliterator.ORDERED | Spliterator.SORTED;\r\n\t\tprivate final Map&lt;Integer, Supplier&lt;IntStream&gt;&gt; sieve = new HashMap&lt;&gt;();\r\n\t\tprivate final PrimitiveIterator.OfInt postponedSieve = primes().iterator();\r\n\t\tprivate int p, q, c = 9;\r\n\t\tprivate Supplier&lt;IntStream&gt; s;\r\n\t\tPrimeSpliterator() {\r\n\t\t\tsuper(105097564 /* according to Wolfram Alpha */ - 4 /* in prefix */,\r\n\t\t\t\t\tCHARACTERISTICS);\r\n\t\t\t//p = next(ps) and next(ps) (that&#39;s Pythonic?)\r\n\t\t\tpostponedSieve.nextInt();\r\n\t\t\tthis.p = postponedSieve.nextInt();\r\n\t\t\tthis.q = p*p;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic boolean tryAdvance(IntConsumer action) {\r\n\t\t\tfor (; c &gt; 0 /* overflow */; c += 2) {\r\n\t\t\t\tSupplier&lt;IntStream&gt; maybeS = sieve.remove(c);\r\n\t\t\t\tif (maybeS != null)\r\n\t\t\t\t\ts = maybeS;\r\n\t\t\t\telse if (c &lt; q) {\r\n\t\t\t\t\taction.accept(c);\r\n\t\t\t\t\treturn true; //continue\r\n\t\t\t\t} else {\r\n\t\t\t\t\ts = () -&gt; IntStream.iterate(q+2*p, x -&gt; x + 2*p);\r\n\t\t\t\t\tp = postponedSieve.nextInt();\r\n\t\t\t\t\tq = p*p;\r\n\t\t\t\t}\r\n\t\t\t\tint m = s.get().filter(x -&gt; !sieve.containsKey(x)).findFirst().getAsInt();\r\n\t\t\t\tsieve.put(m, s);\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\nMy first attempt at the primes() method returns an IntStream concatenating a constant stream with a new PrimeSpliterator:\r\n\r\n    public static IntStream primes() {\r\n\t\treturn IntStream.concat(IntStream.of(2, 3, 5, 7),\r\n\t\t\t\tStreamSupport.intStream(new PrimeSpliterator()));\r\n\t}\r\n\r\nCalling primes() results in a StackOverflowError because primes() always instantiates a PrimeSpliterator, but PrimeSpliterator&#39;s field initializer always calls primes().  However, there&#39;s an overload of StreamSupport.intStream that takes a Supplier, which should allow lazily creating the PrimeSpliterator:\r\n\r\n    public static IntStream primes() {\r\n\t\treturn IntStream.concat(IntStream.of(2, 3, 5, 7),\r\n\t\t\t\tStreamSupport.intStream(PrimeSpliterator::new, PrimeSpliterator.CHARACTERISTICS, false));\r\n\t}\r\n\r\nHowever, I instead get a StackOverflowError with a different backtrace (trimmed, as it repeats).  Note that the recursion is entirely in the call to primes() -- the terminal operation iterator() is never invoked on a returned stream.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.StackOverflowError\r\n    \tat java.util.stream.StreamSpliterators$DelegatingSpliterator$OfInt.&lt;init&gt;(StreamSpliterators.java:582)\r\n    \tat java.util.stream.IntPipeline.lazySpliterator(IntPipeline.java:155)\r\n    \tat java.util.stream.IntPipeline$Head.lazySpliterator(IntPipeline.java:514)\r\n    \tat java.util.stream.AbstractPipeline.spliterator(AbstractPipeline.java:352)\r\n    \tat java.util.stream.IntPipeline.spliterator(IntPipeline.java:181)\r\n    \tat java.util.stream.IntStream.concat(IntStream.java:851)\r\n    \tat com.jeffreybosboom.projecteuler.util.Primes.primes(Primes.java:22)\r\n    \tat com.jeffreybosboom.projecteuler.util.Primes$PrimeSpliterator.&lt;init&gt;(Primes.java:32)\r\n    \tat com.jeffreybosboom.projecteuler.util.Primes$$Lambda$1/834600351.get(Unknown Source)\r\n    \tat java.util.stream.StreamSpliterators$DelegatingSpliterator.get(StreamSpliterators.java:513)\r\n    \tat java.util.stream.StreamSpliterators$DelegatingSpliterator.estimateSize(StreamSpliterators.java:536)\r\n    \tat java.util.stream.Streams$ConcatSpliterator.&lt;init&gt;(Streams.java:713)\r\n    \tat java.util.stream.Streams$ConcatSpliterator$OfPrimitive.&lt;init&gt;(Streams.java:789)\r\n    \tat java.util.stream.Streams$ConcatSpliterator$OfPrimitive.&lt;init&gt;(Streams.java:785)\r\n    \tat java.util.stream.Streams$ConcatSpliterator$OfInt.&lt;init&gt;(Streams.java:819)\r\n    \tat java.util.stream.IntStream.concat(IntStream.java:851)\r\n    \tat com.jeffreybosboom.projecteuler.util.Primes.primes(Primes.java:22)\r\n    \tat com.jeffreybosboom.projecteuler.util.Primes$PrimeSpliterator.&lt;init&gt;(Primes.java:32)\r\n    \tat com.jeffreybosboom.projecteuler.util.Primes$$Lambda$1/834600351.get(Unknown Source)\r\n    \tat java.util.stream.StreamSpliterators$DelegatingSpliterator.get(StreamSpliterators.java:513)\r\n    \tat java.util.stream.StreamSpliterators$DelegatingSpliterator.estimateSize(StreamSpliterators.java:536)\r\n    \tat java.util.stream.Streams$ConcatSpliterator.&lt;init&gt;(Streams.java:713)\r\n    \tat java.util.stream.Streams$ConcatSpliterator$OfPrimitive.&lt;init&gt;(Streams.java:789)\r\n    \tat java.util.stream.Streams$ConcatSpliterator$OfPrimitive.&lt;init&gt;(Streams.java:785)\r\n    \tat java.util.stream.Streams$ConcatSpliterator$OfInt.&lt;init&gt;(Streams.java:819)\r\n    \tat java.util.stream.IntStream.concat(IntStream.java:851)\r\n    \tat com.jeffreybosboom.projecteuler.util.Primes.primes(Primes.java:22)\r\n\r\nHow can I concatenate streams lazily enough to allow a stream to use another copy of itself in its implementation?","title":"How do I lazily concatenate streams?","body":"<p>I'm trying to implement a stream that uses another instance of itself in its implementation.  The stream has a few constant elements prepended (with IntStream.concat) to it, so this should work as long as the concatenated stream creates the non-constant part lazily.  I think using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/StreamSupport.html#intStream-java.util.function.Supplier-int-boolean-\" rel=\"noreferrer\">StreamSupport.intStream overload taking a Supplier</a> with IntStream.concat (which <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#concat-java.util.stream.IntStream-java.util.stream.IntStream-\" rel=\"noreferrer\">\"creates a lazily concatenated stream\"</a>) should be lazy enough to only create the second spliterator when elements are demanded from it, but even creating the stream (not evaluating it) overflows the stack.  How can I lazily concatenate streams?</p>\n\n<hr>\n\n<p>I'm attempting to port the streaming prime number sieve from <a href=\"https://stackoverflow.com/a/10733621/3614835\">this answer</a> into Java.  This sieve uses another instance of itself (<code>ps = postponed_sieve()</code> in the Python code).  If I break the initial four constant elements (<code>yield 2; yield 3; yield 5; yield 7;</code>) into their own stream, it's easy to implement the generator as a spliterator:</p>\n\n<pre><code>/**\n * based on https://stackoverflow.com/a/10733621/3614835\n */\nstatic class PrimeSpliterator extends Spliterators.AbstractIntSpliterator {\n    private static final int CHARACTERISTICS = Spliterator.DISTINCT | Spliterator.IMMUTABLE | Spliterator.NONNULL | Spliterator.ORDERED | Spliterator.SORTED;\n    private final Map&lt;Integer, Supplier&lt;IntStream&gt;&gt; sieve = new HashMap&lt;&gt;();\n    private final PrimitiveIterator.OfInt postponedSieve = primes().iterator();\n    private int p, q, c = 9;\n    private Supplier&lt;IntStream&gt; s;\n    PrimeSpliterator() {\n        super(105097564 /* according to Wolfram Alpha */ - 4 /* in prefix */,\n                CHARACTERISTICS);\n        //p = next(ps) and next(ps) (that's Pythonic?)\n        postponedSieve.nextInt();\n        this.p = postponedSieve.nextInt();\n        this.q = p*p;\n    }\n\n    @Override\n    public boolean tryAdvance(IntConsumer action) {\n        for (; c &gt; 0 /* overflow */; c += 2) {\n            Supplier&lt;IntStream&gt; maybeS = sieve.remove(c);\n            if (maybeS != null)\n                s = maybeS;\n            else if (c &lt; q) {\n                action.accept(c);\n                return true; //continue\n            } else {\n                s = () -&gt; IntStream.iterate(q+2*p, x -&gt; x + 2*p);\n                p = postponedSieve.nextInt();\n                q = p*p;\n            }\n            int m = s.get().filter(x -&gt; !sieve.containsKey(x)).findFirst().getAsInt();\n            sieve.put(m, s);\n        }\n        return false;\n    }\n}\n</code></pre>\n\n<p>My first attempt at the primes() method returns an IntStream concatenating a constant stream with a new PrimeSpliterator:</p>\n\n<pre><code>public static IntStream primes() {\n    return IntStream.concat(IntStream.of(2, 3, 5, 7),\n            StreamSupport.intStream(new PrimeSpliterator()));\n}\n</code></pre>\n\n<p>Calling primes() results in a StackOverflowError because primes() always instantiates a PrimeSpliterator, but PrimeSpliterator's field initializer always calls primes().  However, there's an overload of StreamSupport.intStream that takes a Supplier, which should allow lazily creating the PrimeSpliterator:</p>\n\n<pre><code>public static IntStream primes() {\n    return IntStream.concat(IntStream.of(2, 3, 5, 7),\n            StreamSupport.intStream(PrimeSpliterator::new, PrimeSpliterator.CHARACTERISTICS, false));\n}\n</code></pre>\n\n<p>However, I instead get a StackOverflowError with a different backtrace (trimmed, as it repeats).  Note that the recursion is entirely in the call to primes() -- the terminal operation iterator() is never invoked on a returned stream.</p>\n\n<pre><code>Exception in thread \"main\" java.lang.StackOverflowError\n    at java.util.stream.StreamSpliterators$DelegatingSpliterator$OfInt.&lt;init&gt;(StreamSpliterators.java:582)\n    at java.util.stream.IntPipeline.lazySpliterator(IntPipeline.java:155)\n    at java.util.stream.IntPipeline$Head.lazySpliterator(IntPipeline.java:514)\n    at java.util.stream.AbstractPipeline.spliterator(AbstractPipeline.java:352)\n    at java.util.stream.IntPipeline.spliterator(IntPipeline.java:181)\n    at java.util.stream.IntStream.concat(IntStream.java:851)\n    at com.jeffreybosboom.projecteuler.util.Primes.primes(Primes.java:22)\n    at com.jeffreybosboom.projecteuler.util.Primes$PrimeSpliterator.&lt;init&gt;(Primes.java:32)\n    at com.jeffreybosboom.projecteuler.util.Primes$$Lambda$1/834600351.get(Unknown Source)\n    at java.util.stream.StreamSpliterators$DelegatingSpliterator.get(StreamSpliterators.java:513)\n    at java.util.stream.StreamSpliterators$DelegatingSpliterator.estimateSize(StreamSpliterators.java:536)\n    at java.util.stream.Streams$ConcatSpliterator.&lt;init&gt;(Streams.java:713)\n    at java.util.stream.Streams$ConcatSpliterator$OfPrimitive.&lt;init&gt;(Streams.java:789)\n    at java.util.stream.Streams$ConcatSpliterator$OfPrimitive.&lt;init&gt;(Streams.java:785)\n    at java.util.stream.Streams$ConcatSpliterator$OfInt.&lt;init&gt;(Streams.java:819)\n    at java.util.stream.IntStream.concat(IntStream.java:851)\n    at com.jeffreybosboom.projecteuler.util.Primes.primes(Primes.java:22)\n    at com.jeffreybosboom.projecteuler.util.Primes$PrimeSpliterator.&lt;init&gt;(Primes.java:32)\n    at com.jeffreybosboom.projecteuler.util.Primes$$Lambda$1/834600351.get(Unknown Source)\n    at java.util.stream.StreamSpliterators$DelegatingSpliterator.get(StreamSpliterators.java:513)\n    at java.util.stream.StreamSpliterators$DelegatingSpliterator.estimateSize(StreamSpliterators.java:536)\n    at java.util.stream.Streams$ConcatSpliterator.&lt;init&gt;(Streams.java:713)\n    at java.util.stream.Streams$ConcatSpliterator$OfPrimitive.&lt;init&gt;(Streams.java:789)\n    at java.util.stream.Streams$ConcatSpliterator$OfPrimitive.&lt;init&gt;(Streams.java:785)\n    at java.util.stream.Streams$ConcatSpliterator$OfInt.&lt;init&gt;(Streams.java:819)\n    at java.util.stream.IntStream.concat(IntStream.java:851)\n    at com.jeffreybosboom.projecteuler.util.Primes.primes(Primes.java:22)\n</code></pre>\n\n<p>How can I concatenate streams lazily enough to allow a stream to use another copy of itself in its implementation?</p>\n"},{"tags":["java","ignite","apacheignite"],"answers":[{"comments":[{"owner":{"account_id":17403057,"reputation":481,"user_id":12611597,"display_name":"jdk"},"score":0,"creation_date":1693791921,"post_id":76945369,"comment_id":135802814,"body_markdown":"Thanks. In this case I have not configured off heap to particular size, and my data is also much  larger than what the size of off heap printed in logs. I&#39;m still confused.","body":"Thanks. In this case I have not configured off heap to particular size, and my data is also much  larger than what the size of off heap printed in logs. I&#39;m still confused."}],"tags":[],"owner":{"account_id":2182,"reputation":51860,"user_id":2998,"accept_rate":69,"display_name":"Stephen Darlington"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692621619,"creation_date":1692621619,"answer_id":76945369,"question_id":76939187,"body_markdown":"Whether or not it&#39;s concerning rather depends on what you&#39;re doing! In Ignite, all data is _stored_ off-heap. You&#39;d expect the off-heap size to increase as the amount of data stored increases. The heap is used to _process_ the data, so you&#39;d expect it to increase as you stream in data, run SQL queries, etc.","title":"How is Apache Ignite page memory related to heap and non-heap?","body":"<p>Whether or not it's concerning rather depends on what you're doing! In Ignite, all data is <em>stored</em> off-heap. You'd expect the off-heap size to increase as the amount of data stored increases. The heap is used to <em>process</em> the data, so you'd expect it to increase as you stream in data, run SQL queries, etc.</p>\n"}],"owner":{"account_id":17403057,"reputation":481,"user_id":12611597,"display_name":"jdk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693790407,"creation_date":1692531188,"question_id":76939187,"body_markdown":"I have java application running on ignite cluster.  \r\nIn ignite logs there are various parameters are logged.\r\n\r\neg., heap, non heap and pagememory.\r\n\r\nignite.log\r\n\r\n```\r\n    ^-- PageMemory [pages=82885]\r\n    ^-- Heap [used=661MB, free=89.24%, comm=6144MB]\r\n    ^-- Non heap [used=129MB, free=-1%, comm=139MB]\r\n```\r\n\r\nThe application has around 6Gb heap configured. Non Heap and pagememory parameters are not configured.  \r\nIn ignite logs, heap usage in always below designated quota.\r\n\r\nIn same logs non heap values are logged around 140mb max and they are used around 130mb.\r\n\r\nAnd pagememory values are like around 50k-900k. This values gradually increases. When application is started it is around 60k, after two days it reaches 300k. No impact on application performance.\r\n\r\nIs this increase in pagememory really concerning, as there isn&#39;t much documentation available relating pagememory to heap, nonheap?","title":"How is Apache Ignite page memory related to heap and non-heap?","body":"<p>I have java application running on ignite cluster.<br />\nIn ignite logs there are various parameters are logged.</p>\n<p>eg., heap, non heap and pagememory.</p>\n<p>ignite.log</p>\n<pre><code>    ^-- PageMemory [pages=82885]\n    ^-- Heap [used=661MB, free=89.24%, comm=6144MB]\n    ^-- Non heap [used=129MB, free=-1%, comm=139MB]\n</code></pre>\n<p>The application has around 6Gb heap configured. Non Heap and pagememory parameters are not configured.<br />\nIn ignite logs, heap usage in always below designated quota.</p>\n<p>In same logs non heap values are logged around 140mb max and they are used around 130mb.</p>\n<p>And pagememory values are like around 50k-900k. This values gradually increases. When application is started it is around 60k, after two days it reaches 300k. No impact on application performance.</p>\n<p>Is this increase in pagememory really concerning, as there isn't much documentation available relating pagememory to heap, nonheap?</p>\n"},{"tags":["java","var"],"comments":[{"owner":{"display_name":"user7655213"},"score":5,"creation_date":1595592481,"post_id":63073153,"comment_id":111535851,"body_markdown":"It&#39;ll be the actual type, i. e. the implementation. (A class can implement multiple interfaces.)","body":"It&#39;ll be the actual type, i. e. the implementation. (A class can implement multiple interfaces.)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1595592589,"post_id":63073153,"comment_id":111535898,"body_markdown":"See G5 here: https://openjdk.java.net/projects/amber/LVTIstyle.html","body":"See G5 here: <a href=\"https://openjdk.java.net/projects/amber/LVTIstyle.html\" rel=\"nofollow noreferrer\">openjdk.java.net/projects/amber/LVTIstyle.html</a>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1595592792,"post_id":63073153,"comment_id":111535975,"body_markdown":"The recommendation of &quot;programming to the interface&quot; is somewhat relaxed for local variables.","body":"The recommendation of &quot;programming to the interface&quot; is somewhat relaxed for local variables."},{"owner":{"account_id":4083471,"reputation":1723,"user_id":3353388,"accept_rate":62,"display_name":"Barat Sahdzijeu"},"score":0,"creation_date":1609747184,"post_id":63073153,"comment_id":115909079,"body_markdown":"@user7655213 not really, please check my sample code","body":"@user7655213 not really, please check my sample code"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1595592770,"creation_date":1595592770,"answer_id":63073329,"question_id":63073153,"body_markdown":"The &#39;official&#39; Local Variable Type Inference style guide (https://openjdk.java.net/projects/amber/LVTIstyle.html) raises this concern, but says: \r\n\r\n&gt; &quot;It must be reiterated here that var can only be used for local\r\n&gt; variables. It cannot be used to infer field types, method parameter\r\n&gt; types, and method return types. The principle of &quot;programming to the\r\n&gt; interface&quot; is still as important as ever in those contexts.&quot;\r\n\r\n and \r\n\r\n&gt; &quot;If, as recommended in guideline G2, the scope of the local variable\r\n&gt; is small, the risks from &quot;leakage&quot; of the concrete implementation that\r\n&gt; can impact the subsequent code are limited.&quot;\r\n\r\n\r\n","title":"Var keyword in Java","body":"<p>The 'official' Local Variable Type Inference style guide (<a href=\"https://openjdk.java.net/projects/amber/LVTIstyle.html\" rel=\"noreferrer\">https://openjdk.java.net/projects/amber/LVTIstyle.html</a>) raises this concern, but says:</p>\n<blockquote>\n<p>&quot;It must be reiterated here that var can only be used for local\nvariables. It cannot be used to infer field types, method parameter\ntypes, and method return types. The principle of &quot;programming to the\ninterface&quot; is still as important as ever in those contexts.&quot;</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>&quot;If, as recommended in guideline G2, the scope of the local variable\nis small, the risks from &quot;leakage&quot; of the concrete implementation that\ncan impact the subsequent code are limited.&quot;</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":2,"creation_date":1595593455,"post_id":63073339,"comment_id":111536289,"body_markdown":"Regarding your second paragraph: or simply declare the variable with the interface type instead of using the `var` keyword.","body":"Regarding your second paragraph: or simply declare the variable with the interface type instead of using the <code>var</code> keyword."}],"tags":[],"owner":{"account_id":1894231,"reputation":1519,"user_id":1711558,"accept_rate":83,"display_name":"Dmitry Kaigorodov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595592821,"creation_date":1595592821,"answer_id":63073339,"question_id":63073153,"body_markdown":"The type will be exactly the same of the value the variable gets assigned to.\r\n\r\nIn case you are more concerned with interface over implementation idea: you can create function which returns interface type but creates a specific implementation instance inside.","title":"Var keyword in Java","body":"<p>The type will be exactly the same of the value the variable gets assigned to.</p>\n<p>In case you are more concerned with interface over implementation idea: you can create function which returns interface type but creates a specific implementation instance inside.</p>\n"},{"comments":[{"owner":{"account_id":4870870,"reputation":482,"user_id":3927452,"display_name":"Rubens Gomes"},"score":24,"creation_date":1637430161,"post_id":63073591,"comment_id":123826286,"body_markdown":"To me var makes the code harder to read as it hides the type of a variable.  When I am reading code I like to see the variable types clearly and explicitly declared regardless if the variable is local or not.","body":"To me var makes the code harder to read as it hides the type of a variable.  When I am reading code I like to see the variable types clearly and explicitly declared regardless if the variable is local or not."},{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1675322811,"post_id":63073591,"comment_id":132904872,"body_markdown":"@RubensGomes I agree to some extent. I, myself, also don&#39;t use it almost at all.","body":"@RubensGomes I agree to some extent. I, myself, also don&#39;t use it almost at all."},{"owner":{"account_id":5432277,"reputation":97,"user_id":4322751,"display_name":"Winter Melon"},"score":0,"creation_date":1675960118,"post_id":63073591,"comment_id":133044361,"body_markdown":"Having type declaration is clear to read. How can obscuring type information make anything clearer? It does not. var keyword saves some some typing at the cost of obscuring information. Most IDEs will autocomplete this. You are not writing by hand.","body":"Having type declaration is clear to read. How can obscuring type information make anything clearer? It does not. var keyword saves some some typing at the cost of obscuring information. Most IDEs will autocomplete this. You are not writing by hand."},{"owner":{"account_id":5432277,"reputation":97,"user_id":4322751,"display_name":"Winter Melon"},"score":6,"creation_date":1690771969,"post_id":63073591,"comment_id":135394756,"body_markdown":"I agree . var should be removed from Java. The people who introduced also should be transferred to JavaScript","body":"I agree . var should be removed from Java. The people who introduced also should be transferred to JavaScript"},{"owner":{"account_id":174319,"reputation":413,"user_id":403601,"accept_rate":100,"display_name":"elgaz"},"score":1,"creation_date":1700380255,"post_id":63073591,"comment_id":136645748,"body_markdown":"100% agree with you.  I see no way in which the use of `var` is desirable.  As someone trying to nurture a culture of readable code, I find it really annoying.  What&#39;s wrong with typing a few extra characters to specify the type (and getting immediate feedback if you made a bad assumption?) If I don&#39;t know the compile-time type of a Java variable when I declare it, well, then I shouldn&#39;t be coding.  I see nothing good and plenty bad about this.","body":"100% agree with you.  I see no way in which the use of <code>var</code> is desirable.  As someone trying to nurture a culture of readable code, I find it really annoying.  What&#39;s wrong with typing a few extra characters to specify the type (and getting immediate feedback if you made a bad assumption?) If I don&#39;t know the compile-time type of a Java variable when I declare it, well, then I shouldn&#39;t be coding.  I see nothing good and plenty bad about this."}],"tags":[],"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":5,"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1677940477,"creation_date":1595593719,"answer_id":63073591,"question_id":63073153,"body_markdown":"Answer to your question:\r\n-\r\n&gt;What happens when the class I instantiate and assign to the variable declared with var, is the implementation of the interface? which type is it going to be inferred, Interface or the implementation?\r\n\r\nInferred type of the variable will be exactly *the class*, reference to the instance of which you&#39;re assigning to the variable declared with `var`.\r\n\r\nRegarding &quot;interface&quot; point: if it (class of the object, reference to which you assign to variable declared with &quot;var&quot;) is an implementation of some interface, what do you think will happen if that class implements two or more interfaces? how, do you think, Java should decide on which super-type (i.e. interface) to infer for the variable? this is impossible even by basing our judgement purely on a logic (without any relation to Java) - there will be no &quot;source of truth&quot;, by which, Java would be able to decide on this.\r\n\r\n---\r\nMotivation for *var* keyword:\r\n-\r\nRemember, that the only stated purpose of using `var`, according to the language designers (since JDK 10+), has been the point to beautify the code and make it more readable (which, I personally think, is a non-sense as having &quot;var&quot; in Java, is worse than having explicit types, and in many ways so).\r\n\r\nFor example, this code:\r\n\r\n    URL url = new URL(&quot;http://www.oracle.com/&quot;); \r\n    URLConnection conn = url.openConnection(); \r\n    Reader reader = new BufferedReader(\r\n    new InputStreamReader(conn.getInputStream()));\r\n\r\nis (according to official JEP document) less clear to read than:\r\n\r\n    var url = new URL(&quot;http://www.oracle.com/&quot;); \r\n    var conn = url.openConnection(); \r\n    var reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\r\n\r\n---\r\nImplementation details:\r\n-\r\n\r\n`var` was introduced with the purpose of serve the *cleaner/better readability* and NOT to amend the Type System of the Java language. That&#39;s why, you can&#39;t use it in the class level (for static or instance) fields, because fields might be used with polymorphism (might receive different implementation types, might be injected by IoC, or etc.) and at the bytecode, it&#39;s not possible to dynamically change the field type for each different case.\r\n\r\n---\r\nUpdate:\r\n=\r\nWhy I think &quot;var&quot; is bad and why I try to avoid it?\r\n-\r\nWell, for several reasons:\r\n1. code gets actually *harder* to read, and not only in a sense of merely reading it, but also in a sense, that you may have hard times when trying to understand what is the *actual* type you are getting the reference to. Imagine if the actual object creation expression is some long builder pattern code.. or factory pattern call.. or etc. you basically have to go and open/decompile the source and see what you get. So, it&#39;s harder to read and harder to understand;\r\n2. this will often lead (especially a bit less experienced in Java) engineers to confusion whether typing becomes dynamic or keeps static;\r\n3. polymorphic calls are not supported and polymorphism, in general, is not possible, because compiler cannot infer different types with the same code;\r\n4. code actually gets inconsistent, as you&#39;ll be having explicit types for fields and &quot;var&quot;s for local variables. This will also (but not only) confuse newcomers to Java;\r\n5. maybe not that important.. but this **can** be important as well: &quot;var&quot; will also break backwards compatibility, as you won&#39;t be able to downgrade to the Java version below 10.","title":"Var keyword in Java","body":"<h2>Answer to your question:</h2>\n<blockquote>\n<p>What happens when the class I instantiate and assign to the variable declared with var, is the implementation of the interface? which type is it going to be inferred, Interface or the implementation?</p>\n</blockquote>\n<p>Inferred type of the variable will be exactly <em>the class</em>, reference to the instance of which you're assigning to the variable declared with <code>var</code>.</p>\n<p>Regarding &quot;interface&quot; point: if it (class of the object, reference to which you assign to variable declared with &quot;var&quot;) is an implementation of some interface, what do you think will happen if that class implements two or more interfaces? how, do you think, Java should decide on which super-type (i.e. interface) to infer for the variable? this is impossible even by basing our judgement purely on a logic (without any relation to Java) - there will be no &quot;source of truth&quot;, by which, Java would be able to decide on this.</p>\n<hr />\n<h2>Motivation for <em>var</em> keyword:</h2>\n<p>Remember, that the only stated purpose of using <code>var</code>, according to the language designers (since JDK 10+), has been the point to beautify the code and make it more readable (which, I personally think, is a non-sense as having &quot;var&quot; in Java, is worse than having explicit types, and in many ways so).</p>\n<p>For example, this code:</p>\n<pre><code>URL url = new URL(&quot;http://www.oracle.com/&quot;); \nURLConnection conn = url.openConnection(); \nReader reader = new BufferedReader(\nnew InputStreamReader(conn.getInputStream()));\n</code></pre>\n<p>is (according to official JEP document) less clear to read than:</p>\n<pre><code>var url = new URL(&quot;http://www.oracle.com/&quot;); \nvar conn = url.openConnection(); \nvar reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\n</code></pre>\n<hr />\n<h2>Implementation details:</h2>\n<p><code>var</code> was introduced with the purpose of serve the <em>cleaner/better readability</em> and NOT to amend the Type System of the Java language. That's why, you can't use it in the class level (for static or instance) fields, because fields might be used with polymorphism (might receive different implementation types, might be injected by IoC, or etc.) and at the bytecode, it's not possible to dynamically change the field type for each different case.</p>\n<hr />\n<h1>Update:</h1>\n<h2>Why I think &quot;var&quot; is bad and why I try to avoid it?</h2>\n<p>Well, for several reasons:</p>\n<ol>\n<li>code gets actually <em>harder</em> to read, and not only in a sense of merely reading it, but also in a sense, that you may have hard times when trying to understand what is the <em>actual</em> type you are getting the reference to. Imagine if the actual object creation expression is some long builder pattern code.. or factory pattern call.. or etc. you basically have to go and open/decompile the source and see what you get. So, it's harder to read and harder to understand;</li>\n<li>this will often lead (especially a bit less experienced in Java) engineers to confusion whether typing becomes dynamic or keeps static;</li>\n<li>polymorphic calls are not supported and polymorphism, in general, is not possible, because compiler cannot infer different types with the same code;</li>\n<li>code actually gets inconsistent, as you'll be having explicit types for fields and &quot;var&quot;s for local variables. This will also (but not only) confuse newcomers to Java;</li>\n<li>maybe not that important.. but this <strong>can</strong> be important as well: &quot;var&quot; will also break backwards compatibility, as you won't be able to downgrade to the Java version below 10.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1625155185,"creation_date":1595595048,"answer_id":63073929,"question_id":63073153,"body_markdown":"The other answers so far don&#39;t stress one important point, the distinction between compile-time deducible type and run-time instance class.\r\n\r\nSuppose we have\r\n\r\n    var data = Collections.singleton(&quot;test&quot;);\r\n\r\nThen, the compiler can see that `Collections.singleton(&quot;test&quot;)` is declared to return `Set&lt;String&gt;`. So `data` effectively gets declared as `Set&lt;String&gt;` (not e.g. `Collection&lt;String&gt;` nor `Object` nor `Collections.SingletonSet`). `Set&lt;String&gt;` is the most specific info the compiler can find out.\r\n\r\nWhen running, the instance referenced in `data` will be of some implementation class (e.g. `Collections.SingletonSet`), decided upon by the `Collections.singleton()` method, meaning that `data.getClass()` will not return the `Set` class, but something different that implements the `Set` interface, i.e. `Collections.SingletonSet`.\r\n\r\nSo we have to consider three types:\r\n\r\n 1. The run-time class of the instance that gets assigned to the variable (e.g. a `Collections.SingletonSet`). This will of course always be compatible with (2) and (3), and cannot be known at compile-time.\r\n 2. The compile-time type of the expression that you assign to the variable (e.g. `Set&lt;String&gt;`).\r\n 3. The declared type of the variable. Classically, you&#39;d find that explicitly left of the variable name, and when using the `var` keyword, the compiler treats it as if declared with the type from (2) (i.e. `Set&lt;String&gt;`).","title":"Var keyword in Java","body":"<p>The other answers so far don't stress one important point, the distinction between compile-time deducible type and run-time instance class.</p>\n<p>Suppose we have</p>\n<pre><code>var data = Collections.singleton(&quot;test&quot;);\n</code></pre>\n<p>Then, the compiler can see that <code>Collections.singleton(&quot;test&quot;)</code> is declared to return <code>Set&lt;String&gt;</code>. So <code>data</code> effectively gets declared as <code>Set&lt;String&gt;</code> (not e.g. <code>Collection&lt;String&gt;</code> nor <code>Object</code> nor <code>Collections.SingletonSet</code>). <code>Set&lt;String&gt;</code> is the most specific info the compiler can find out.</p>\n<p>When running, the instance referenced in <code>data</code> will be of some implementation class (e.g. <code>Collections.SingletonSet</code>), decided upon by the <code>Collections.singleton()</code> method, meaning that <code>data.getClass()</code> will not return the <code>Set</code> class, but something different that implements the <code>Set</code> interface, i.e. <code>Collections.SingletonSet</code>.</p>\n<p>So we have to consider three types:</p>\n<ol>\n<li>The run-time class of the instance that gets assigned to the variable (e.g. a <code>Collections.SingletonSet</code>). This will of course always be compatible with (2) and (3), and cannot be known at compile-time.</li>\n<li>The compile-time type of the expression that you assign to the variable (e.g. <code>Set&lt;String&gt;</code>).</li>\n<li>The declared type of the variable. Classically, you'd find that explicitly left of the variable name, and when using the <code>var</code> keyword, the compiler treats it as if declared with the type from (2) (i.e. <code>Set&lt;String&gt;</code>).</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":4083471,"reputation":1723,"user_id":3353388,"accept_rate":62,"display_name":"Barat Sahdzijeu"},"score":0,"creation_date":1655361603,"post_id":65559064,"comment_id":128315521,"body_markdown":"@trashgod for reference, the `ContextualKeyword` was added only in Java 17 JLS, while my answer (and question too) dated before Java 17 was released.","body":"@trashgod for reference, the <code>ContextualKeyword</code> was added only in Java 17 JLS, while my answer (and question too) dated before Java 17 was released."}],"tags":[],"owner":{"account_id":4083471,"reputation":1723,"user_id":3353388,"accept_rate":62,"display_name":"Barat Sahdzijeu"},"comment_count":1,"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1693789961,"creation_date":1609745315,"answer_id":65559064,"question_id":63073153,"body_markdown":"My 2 cents to correct the question and answers:\r\n\r\n 1. The `var` is **NOT a Java keyword**. It&#39;s a **reserved type name**. It seems not a big difference but in fact, it IS:\r\n\r\n    ```\r\n    var var = 0;\r\n    ```\r\n\r\n    Here `var` is a variable name too, so the `var` can be used as a type name, but there is no restriction like for regular keyword (i.e. we can have a variable named `var` too).\r\n\r\n 2. The actual type of the variable IS decided by the Java compiler on the line where the variable is declared, at compile-time, but the type is NOT actually the exact implementation you use on the right side of the expression. See this code:\r\n\r\n\r\n    ```\r\n    var i = true ? Integer.valueOf(1) : &quot;ABC&quot;;\r\n    ```\r\n\r\n    The Java compiler needs to pick a type for variable `i` which will satisfy both branches. It could be a) `Object`, b) `Serializable`, c) `Comparable`, or combination, or all three. We don&#39;t care and don&#39;t know.","title":"Var keyword in Java","body":"<p>My 2 cents to correct the question and answers:</p>\n<ol>\n<li><p>The <code>var</code> is <strong>NOT a Java keyword</strong>. It's a <strong>reserved type name</strong>. It seems not a big difference but in fact, it IS:</p>\n<pre><code>var var = 0;\n</code></pre>\n<p>Here <code>var</code> is a variable name too, so the <code>var</code> can be used as a type name, but there is no restriction like for regular keyword (i.e. we can have a variable named <code>var</code> too).</p>\n</li>\n<li><p>The actual type of the variable IS decided by the Java compiler on the line where the variable is declared, at compile-time, but the type is NOT actually the exact implementation you use on the right side of the expression. See this code:</p>\n<pre><code>var i = true ? Integer.valueOf(1) : &quot;ABC&quot;;\n</code></pre>\n<p>The Java compiler needs to pick a type for variable <code>i</code> which will satisfy both branches. It could be a) <code>Object</code>, b) <code>Serializable</code>, c) <code>Comparable</code>, or combination, or all three. We don't care and don't know.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":5980947,"reputation":383,"user_id":4700028,"display_name":"Harold Ibouanga"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32938,"favorite_count":0,"down_vote_count":4,"up_vote_count":36,"answer_count":5,"score":32,"last_activity_date":1693789961,"creation_date":1595592124,"question_id":63073153,"body_markdown":"With Java 10 or +, we can use var keyword for declaration. At initialization, a type is going to be inferred by the compiler. \r\n\r\nWhat happens when the class I instantiate and assign to the variable declared with `var`, is the implementation of the interface?  which type is it going to be inferred, Interface or the implementation?","title":"Var keyword in Java","body":"<p>With Java 10 or +, we can use var keyword for declaration. At initialization, a type is going to be inferred by the compiler.</p>\n<p>What happens when the class I instantiate and assign to the variable declared with <code>var</code>, is the implementation of the interface?  which type is it going to be inferred, Interface or the implementation?</p>\n"},{"tags":["java","spring-boot","azure-sql-database","azure-managed-identity","azure-container-apps"],"comments":[{"owner":{"account_id":5210616,"reputation":26054,"user_id":4167200,"accept_rate":91,"display_name":"Thomas"},"score":0,"creation_date":1693897254,"post_id":77034299,"comment_id":135816098,"body_markdown":"if you connect to the console can you reach the MSI endpoint form within the container app ?","body":"if you connect to the console can you reach the MSI endpoint form within the container app ?"},{"owner":{"account_id":1190669,"reputation":435,"user_id":1163543,"display_name":"dgolive"},"score":0,"creation_date":1694196111,"post_id":77034299,"comment_id":135864327,"body_markdown":"it&#39;s unstable, using `az containerapp exec -n aca-main -g rg-test --command bash` connected and suddenly `ERROR: {&quot;Error&quot;:{&quot;Code&quot;:&quot;ClusterExecEndpointWebSocketConnectionError&quot;,&quot;Message&quot;:&quot;Failed to establish WebSocket connection with the container, error is Failed to establish WebSocket connection with Managed Environment exec endpoint, error: The server returned status code \\u0027500\\u0027 when status code \\u0027101\\u0027 was expected..&quot;,&quot;Details&quot;:null,&quot;Target&quot;:null,&quot;AdditionalInfo&quot;:null}} Disconnecting...`","body":"it&#39;s unstable, using <code>az containerapp exec -n aca-main -g rg-test --command bash</code> connected and suddenly <code>ERROR: {&quot;Error&quot;:{&quot;Code&quot;:&quot;ClusterExecEndpointWebSocketConnectionErro&zwnj;&#8203;r&quot;,&quot;Message&quot;:&quot;Failed to establish WebSocket connection with the container, error is Failed to establish WebSocket connection with Managed Environment exec endpoint, error: The server returned status code \\u0027500\\u0027 when status code \\u0027101\\u0027 was expected..&quot;,&quot;Details&quot;:null,&quot;Target&quot;:null,&quot;AdditionalInfo&quot;:nu&zwnj;&#8203;ll}} Disconnecting...</code>"},{"owner":{"account_id":1190669,"reputation":435,"user_id":1163543,"display_name":"dgolive"},"score":0,"creation_date":1694277405,"post_id":77034299,"comment_id":135871571,"body_markdown":"UPDATE: upgrading version of mssql-jdbc from 11.2.3.jre17 to 12.3.0.jre17-preview and azure-identity from 1.5.4 to 1.9.0 result in `com.azure.identity.CredentialUnavailableException: Managed Identity authentication is not available.`","body":"UPDATE: upgrading version of mssql-jdbc from 11.2.3.jre17 to 12.3.0.jre17-preview and azure-identity from 1.5.4 to 1.9.0 result in <code>com.azure.identity.CredentialUnavailableException: Managed Identity authentication is not available.</code>"},{"owner":{"account_id":14577408,"reputation":161,"user_id":10528903,"display_name":"Nick"},"score":0,"creation_date":1696258360,"post_id":77034299,"comment_id":136126657,"body_markdown":"@dgolive I am struggling with the same. Did you figure it out?","body":"@dgolive I am struggling with the same. Did you figure it out?"}],"owner":{"account_id":1190669,"reputation":435,"user_id":1163543,"display_name":"dgolive"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693788001,"creation_date":1693778073,"question_id":77034299,"body_markdown":"I&#39;m receiving the error below when deploy a container apps connecting to SQL database using user-assigned managed identity.\r\n\r\n```\r\nERROR 1 --- [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Exception during pool initialization.\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: MSI Token failure: Failed to acquire token from MSI Endpoint\r\nat com.microsoft.sqlserver.jdbc.SQLServerSecurityUtility.getMSIAuthToken(SQLServerSecurityUtility.java:499) ~[mssql-jdbc-11.2.3.jre17.jar:na]\r\n...\r\n```\r\n\r\nHere are the important parts of my Spring Boot application:\r\n\r\n*pom.xml*\r\n``` xml\r\n...\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n...\r\n```\r\n\r\n*application.properties*\r\n```\r\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\nspring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServerDialect\r\nspring.datasource.url=jdbc:sqlserver://danieltestsqlserver1101.database.windows.net:1433;databaseName=testdatabase01;msiClientId=&lt;managed-identity-client-id&gt;;authentication=ActiveDirectoryMSI;\r\n```\r\n\r\nAnd here is my Azure setup:\r\n\r\n1. User-assigned managed identity &quot;mi-test-app&quot; created.\r\n2. AD group &quot;DB admin&quot; created with &quot;mi-test-app&quot; and my main user as owners and members.\r\n3. SQL server created and &quot;DB admin&quot; group set as administrator.\r\n4. Private endpoint created for SQL server (public access was disabled).\r\n5. Private DNS zone created and proper virtual network link added.\r\n6. SQL database created and configured with:\r\n\r\n``` sql\r\nCREATE USER [mi-test-app] FROM EXTERNAL PROVIDER;\r\nALTER ROLE db_datareader ADD MEMBER [mi-test-app];\r\nALTER ROLE db_datawriter ADD MEMBER [mi-test-app];\r\nALTER ROLE db_ddladmin ADD MEMBER [mi-test-app];\r\nGO\r\n```\r\n\r\n7. Container apps created with new own environment.\r\n8. Managed identity &quot;mi-test-app&quot; added as identity in container apps.\r\n9. Container apps revision restarted.\r\n\r\nWhen started, the process fail with the error above.\r\n\r\nI tried to set SQL server with public access and allowing Azure services and resources to access it but doesn&#39;t work.\r\n\r\nAny help would be welcome.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/085P8.png","title":"Container apps connecting to SQL database using user-assigned managed identity: Failed to acquire token from MSI Endpoint (MSI Token failure)","body":"<p>I'm receiving the error below when deploy a container apps connecting to SQL database using user-assigned managed identity.</p>\n<pre><code>ERROR 1 --- [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Exception during pool initialization.\ncom.microsoft.sqlserver.jdbc.SQLServerException: MSI Token failure: Failed to acquire token from MSI Endpoint\nat com.microsoft.sqlserver.jdbc.SQLServerSecurityUtility.getMSIAuthToken(SQLServerSecurityUtility.java:499) ~[mssql-jdbc-11.2.3.jre17.jar:na]\n...\n</code></pre>\n<p>Here are the important parts of my Spring Boot application:</p>\n<p><em>pom.xml</em></p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\n            &lt;version&gt;1.5.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n...\n</code></pre>\n<p><em>application.properties</em></p>\n<pre><code>spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServerDialect\nspring.datasource.url=jdbc:sqlserver://danieltestsqlserver1101.database.windows.net:1433;databaseName=testdatabase01;msiClientId=&lt;managed-identity-client-id&gt;;authentication=ActiveDirectoryMSI;\n</code></pre>\n<p>And here is my Azure setup:</p>\n<ol>\n<li>User-assigned managed identity &quot;mi-test-app&quot; created.</li>\n<li>AD group &quot;DB admin&quot; created with &quot;mi-test-app&quot; and my main user as owners and members.</li>\n<li>SQL server created and &quot;DB admin&quot; group set as administrator.</li>\n<li>Private endpoint created for SQL server (public access was disabled).</li>\n<li>Private DNS zone created and proper virtual network link added.</li>\n<li>SQL database created and configured with:</li>\n</ol>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE USER [mi-test-app] FROM EXTERNAL PROVIDER;\nALTER ROLE db_datareader ADD MEMBER [mi-test-app];\nALTER ROLE db_datawriter ADD MEMBER [mi-test-app];\nALTER ROLE db_ddladmin ADD MEMBER [mi-test-app];\nGO\n</code></pre>\n<ol start=\"7\">\n<li>Container apps created with new own environment.</li>\n<li>Managed identity &quot;mi-test-app&quot; added as identity in container apps.</li>\n<li>Container apps revision restarted.</li>\n</ol>\n<p>When started, the process fail with the error above.</p>\n<p>I tried to set SQL server with public access and allowing Azure services and resources to access it but doesn't work.</p>\n<p>Any help would be welcome.</p>\n<p><a href=\"https://i.stack.imgur.com/085P8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/085P8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","onclick","calculator"],"comments":[{"owner":{"account_id":402229,"reputation":94004,"user_id":769265,"display_name":"David Wasser"},"score":1,"creation_date":1693758798,"post_id":77032925,"comment_id":135799786,"body_markdown":"You should edit your question and paste the exception message and stack trace from the logcat into your question. Only then can we see why your app is crashing.","body":"You should edit your question and paste the exception message and stack trace from the logcat into your question. Only then can we see why your app is crashing."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1693764922,"post_id":77032925,"comment_id":135800578,"body_markdown":"Your code is most likely failing on `Double.parseDouble` if the string is not a valid double (like &quot;1+&quot;). If you &quot;tried exception handling&quot; - show what you tried and describe what happened with actual information, not just &quot;it didn&#39;t work&quot;. Show the Logcat with the full error message.","body":"Your code is most likely failing on <code>Double.parseDouble</code> if the string is not a valid double (like &quot;1+&quot;). If you &quot;tried exception handling&quot; - show what you tried and describe what happened with actual information, not just &quot;it didn&#39;t work&quot;. Show the Logcat with the full error message."},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1693804842,"post_id":77032925,"comment_id":135803657,"body_markdown":"Please share also error message","body":"Please share also error message"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693783726,"creation_date":1693782846,"answer_id":77034453,"question_id":77032925,"body_markdown":"&gt; _&quot;... The app works fine until I click the button for Square operation i.e. `x^2` button in the app when there is no input taken or when I click the Square operation button after any operator. ...&quot;_\r\n\r\nAdditionally check if _tvMain.getText().toString()_ can be parsed without throwing a _[NumberFormatException](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/NumberFormatException.html)_.  \r\nAnd, I suggest using _[String#isBlank](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#isBlank())_ over _[isEmpty](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#isEmpty())_.\r\n\r\nIn this example I am using a _boolean_ to contain the input validity.  \r\nOnly setting it to _true_ once it has parsed successfully.\r\n\r\n```java\r\nbsquare.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View v) {\r\n        String string = tvMain.getText().toString();\r\n        boolean valid = false;\r\n        double d = 0;\r\n        if (string != null &amp;&amp; !string.isBlank()) {\r\n            try {\r\n                d = Double.parseDouble(string);\r\n                valid = true;\r\n            } catch (NumberFormatException exception) { }\r\n        }\r\n        if (!valid)\r\n            Toast.makeText(MainActivity.this, &quot;Please enter a valid number..&quot;, Toast.LENGTH_SHORT).show();\r\n        else {\r\n            double square = d * d;\r\n            tvMain.setText(String.valueOf(square));\r\n            tvsec.setText(d + &quot;&#178;&quot;);\r\n        }\r\n    }\r\n});\r\n```\r\n\r\nThe _Java_ documentation for _Double#valueOf_ has some helpful information on this type of input situation.\r\n\r\n_[Double#valueOf (Java SE 20 &amp;amp; JDK 20)](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Double.html#valueOf(java.lang.String))_,\r\n\r\n&gt; _... To avoid calling this method on an invalid string and having a NumberFormatException be thrown, the regular expression below can be used to screen the input string:_\r\n&gt;\r\n&gt; ```java\r\n&gt; final String Digits     = &quot;(\\\\p{Digit}+)&quot;;\r\n&gt; final String HexDigits  = &quot;(\\\\p{XDigit}+)&quot;;\r\n&gt; // an exponent is &#39;e&#39; or &#39;E&#39; followed by an optionally\r\n&gt; // signed decimal integer.\r\n&gt; final String Exp        = &quot;[eE][+-]?&quot;+Digits;\r\n&gt; final String fpRegex    =\r\n&gt;     (&quot;[\\\\x00-\\\\x20]*&quot;+  // Optional leading &quot;whitespace&quot;\r\n&gt;      &quot;[+-]?(&quot; + // Optional sign character\r\n&gt;      &quot;NaN|&quot; +           // &quot;NaN&quot; string\r\n&gt;      &quot;Infinity|&quot; +      // &quot;Infinity&quot; string\r\n&gt;\r\n&gt;      // A decimal floating-point string representing a finite positive\r\n&gt;      // number without a leading sign has at most five basic pieces:\r\n&gt;      // Digits . Digits ExponentPart FloatTypeSuffix\r\n&gt;      //\r\n&gt;      // Since this method allows integer-only strings as input\r\n&gt;      // in addition to strings of floating-point literals, the\r\n&gt;      // two sub-patterns below are simplifications of the grammar\r\n&gt;      // productions from section 3.10.2 of\r\n&gt;      // The Java Language Specification.\r\n&gt;\r\n&gt;      // Digits ._opt Digits_opt ExponentPart_opt FloatTypeSuffix_opt\r\n&gt;      &quot;(((&quot;+Digits+&quot;(\\\\.)?(&quot;+Digits+&quot;?)(&quot;+Exp+&quot;)?)|&quot;+\r\n&gt;\r\n&gt;      // . Digits ExponentPart_opt FloatTypeSuffix_opt\r\n&gt;      &quot;(\\\\.(&quot;+Digits+&quot;)(&quot;+Exp+&quot;)?)|&quot;+\r\n&gt;\r\n&gt;      // Hexadecimal strings\r\n&gt;      &quot;((&quot; +\r\n&gt;       // 0[xX] HexDigits ._opt BinaryExponent FloatTypeSuffix_opt\r\n&gt;       &quot;(0[xX]&quot; + HexDigits + &quot;(\\\\.)?)|&quot; +\r\n&gt;\r\n&gt;       // 0[xX] HexDigits_opt . HexDigits BinaryExponent FloatTypeSuffix_opt\r\n&gt;       &quot;(0[xX]&quot; + HexDigits + &quot;?(\\\\.)&quot; + HexDigits + &quot;)&quot; +\r\n&gt;\r\n&gt;       &quot;)[pP][+-]?&quot; + Digits + &quot;))&quot; +\r\n&gt;      &quot;[fFdD]?))&quot; +\r\n&gt;      &quot;[\\\\x00-\\\\x20]*&quot;);// Optional trailing &quot;whitespace&quot;\r\n&gt; if (Pattern.matches(fpRegex, myString))\r\n&gt;     Double.valueOf(myString); // Will not throw NumberFormatException\r\n&gt; else {\r\n&gt;     // Perform suitable alternative action\r\n&gt; }\r\n&gt; ```\r\n\r\n&gt; _&quot;... When I enter the input `1+` and then when I try to enter `x^2`, it automatically exit from the app. I tried multiple Try catch block in order to stop the app from abruptly existing but it didn&#39;t work Below I have the code for onClick method of Square button ...&quot;_\r\n\r\nIn this situation, you can use the _[String#substring](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#substring(int,int))_ method, to isolate the number.\r\n\r\n```java\r\nString string = tvMain.getText().toString();\r\nstring = string.substring(0, string.length() - 1);\r\n```\r\n\r\nAlternately, if you are unsure how many appended operators there may be, you can use a _loop_ to trim the value.  \r\nIn this case, while the last character is not a digit.\r\n\r\n```java\r\nString string = tvMain.getText().toString();\r\nwhile (!Character.isDigit(string.charAt(string.length() - 1)))\r\n    string = string.substring(0, string.length() - 1);\r\n```\r\n\r\nHere is a re-factor.\r\n\r\n```java\r\nString string = tvMain.getText().toString();\r\nboolean valid = false;\r\ndouble d = 0;\r\nif (string != null &amp;&amp; !string.isBlank()) {\r\n    while (!Character.isDigit(string.charAt(string.length() - 1)))\r\n        string = string.substring(0, string.length() - 1);\r\n    try {\r\n        d = Double.parseDouble(string);\r\n        valid = true;\r\n    } catch (NumberFormatException exception) { }\r\n}\r\nif (!valid)\r\n    Toast.makeText(MainActivity.this, &quot;Please enter a valid number..&quot;, Toast.LENGTH_SHORT).show();\r\nelse {\r\n    double square = d * d;\r\n    tvMain.setText(String.valueOf(square));\r\n    tvsec.setText(d + &quot;&#178;&quot;);\r\n}\r\n```","title":"Square button(x^2) exception handling error in Calculator android app development","body":"<blockquote>\n<p><em>&quot;... The app works fine until I click the button for Square operation i.e. <code>x^2</code> button in the app when there is no input taken or when I click the Square operation button after any operator. ...&quot;</em></p>\n</blockquote>\n<p>Additionally check if <em>tvMain.getText().toString()</em> can be parsed without throwing a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/NumberFormatException.html\" rel=\"nofollow noreferrer\">NumberFormatException</a></em>.<br />\nAnd, I suggest using <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#isBlank()\" rel=\"nofollow noreferrer\">String#isBlank</a></em> over <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#isEmpty()\" rel=\"nofollow noreferrer\">isEmpty</a></em>.</p>\n<p>In this example I am using a <em>boolean</em> to contain the input validity.<br />\nOnly setting it to <em>true</em> once it has parsed successfully.</p>\n<pre class=\"lang-java prettyprint-override\"><code>bsquare.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        String string = tvMain.getText().toString();\n        boolean valid = false;\n        double d = 0;\n        if (string != null &amp;&amp; !string.isBlank()) {\n            try {\n                d = Double.parseDouble(string);\n                valid = true;\n            } catch (NumberFormatException exception) { }\n        }\n        if (!valid)\n            Toast.makeText(MainActivity.this, &quot;Please enter a valid number..&quot;, Toast.LENGTH_SHORT).show();\n        else {\n            double square = d * d;\n            tvMain.setText(String.valueOf(square));\n            tvsec.setText(d + &quot;&quot;);\n        }\n    }\n});\n</code></pre>\n<p>The <em>Java</em> documentation for <em>Double#valueOf</em> has some helpful information on this type of input situation.</p>\n<p><em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Double.html#valueOf(java.lang.String)\" rel=\"nofollow noreferrer\">Double#valueOf (Java SE 20 &amp; JDK 20)</a></em>,</p>\n<blockquote>\n<p><em>... To avoid calling this method on an invalid string and having a NumberFormatException be thrown, the regular expression below can be used to screen the input string:</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>final String Digits     = &quot;(\\\\p{Digit}+)&quot;;\nfinal String HexDigits  = &quot;(\\\\p{XDigit}+)&quot;;\n// an exponent is 'e' or 'E' followed by an optionally\n// signed decimal integer.\nfinal String Exp        = &quot;[eE][+-]?&quot;+Digits;\nfinal String fpRegex    =\n    (&quot;[\\\\x00-\\\\x20]*&quot;+  // Optional leading &quot;whitespace&quot;\n     &quot;[+-]?(&quot; + // Optional sign character\n     &quot;NaN|&quot; +           // &quot;NaN&quot; string\n     &quot;Infinity|&quot; +      // &quot;Infinity&quot; string\n\n     // A decimal floating-point string representing a finite positive\n     // number without a leading sign has at most five basic pieces:\n     // Digits . Digits ExponentPart FloatTypeSuffix\n     //\n     // Since this method allows integer-only strings as input\n     // in addition to strings of floating-point literals, the\n     // two sub-patterns below are simplifications of the grammar\n     // productions from section 3.10.2 of\n     // The Java Language Specification.\n\n     // Digits ._opt Digits_opt ExponentPart_opt FloatTypeSuffix_opt\n     &quot;(((&quot;+Digits+&quot;(\\\\.)?(&quot;+Digits+&quot;?)(&quot;+Exp+&quot;)?)|&quot;+\n\n     // . Digits ExponentPart_opt FloatTypeSuffix_opt\n     &quot;(\\\\.(&quot;+Digits+&quot;)(&quot;+Exp+&quot;)?)|&quot;+\n\n     // Hexadecimal strings\n     &quot;((&quot; +\n      // 0[xX] HexDigits ._opt BinaryExponent FloatTypeSuffix_opt\n      &quot;(0[xX]&quot; + HexDigits + &quot;(\\\\.)?)|&quot; +\n\n      // 0[xX] HexDigits_opt . HexDigits BinaryExponent FloatTypeSuffix_opt\n      &quot;(0[xX]&quot; + HexDigits + &quot;?(\\\\.)&quot; + HexDigits + &quot;)&quot; +\n\n      &quot;)[pP][+-]?&quot; + Digits + &quot;))&quot; +\n     &quot;[fFdD]?))&quot; +\n     &quot;[\\\\x00-\\\\x20]*&quot;);// Optional trailing &quot;whitespace&quot;\nif (Pattern.matches(fpRegex, myString))\n    Double.valueOf(myString); // Will not throw NumberFormatException\nelse {\n    // Perform suitable alternative action\n}\n</code></pre>\n</blockquote>\n<blockquote>\n<p><em>&quot;... When I enter the input <code>1+</code> and then when I try to enter <code>x^2</code>, it automatically exit from the app. I tried multiple Try catch block in order to stop the app from abruptly existing but it didn't work Below I have the code for onClick method of Square button ...&quot;</em></p>\n</blockquote>\n<p>In this situation, you can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#substring(int,int)\" rel=\"nofollow noreferrer\">String#substring</a></em> method, to isolate the number.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = tvMain.getText().toString();\nstring = string.substring(0, string.length() - 1);\n</code></pre>\n<p>Alternately, if you are unsure how many appended operators there may be, you can use a <em>loop</em> to trim the value.<br />\nIn this case, while the last character is not a digit.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = tvMain.getText().toString();\nwhile (!Character.isDigit(string.charAt(string.length() - 1)))\n    string = string.substring(0, string.length() - 1);\n</code></pre>\n<p>Here is a re-factor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = tvMain.getText().toString();\nboolean valid = false;\ndouble d = 0;\nif (string != null &amp;&amp; !string.isBlank()) {\n    while (!Character.isDigit(string.charAt(string.length() - 1)))\n        string = string.substring(0, string.length() - 1);\n    try {\n        d = Double.parseDouble(string);\n        valid = true;\n    } catch (NumberFormatException exception) { }\n}\nif (!valid)\n    Toast.makeText(MainActivity.this, &quot;Please enter a valid number..&quot;, Toast.LENGTH_SHORT).show();\nelse {\n    double square = d * d;\n    tvMain.setText(String.valueOf(square));\n    tvsec.setText(d + &quot;&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":26669382,"reputation":1,"user_id":20281018,"display_name":"Abhijit Zende"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693783726,"creation_date":1693753982,"question_id":77032925,"body_markdown":"I am currently trying to develop a Calculator android app in android studio using Java. The app works fine until I click the button for Square operation i.e. `x^2` button in the app when there is no input taken or when I click the Square operation button after any operator. For e.g. When I enter the input `1+` and then when I try to enter `x^2`, it automatically exit from the app. I tried multiple Try catch block in order to stop the app from abruptly existing but it didn&#39;t work \r\nBelow I have the code for onClick method of Square button\r\n\r\n```java\r\nbsquare.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (tvMain.getText().toString().isEmpty()) {\r\n                        Toast.makeText(MainActivity.this, &quot;Please enter a valid number..&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        double d = Double.parseDouble(tvMain.getText().toString());\r\n                        double square = d * d;\r\n                        tvMain.setText(String.valueOf(square));\r\n                        tvsec.setText(d + &quot;&#178;&quot;);\r\n                    }\r\n                }\r\n            });\r\n```\r\n\r\nI tried exception handling for stoping the app from abruplty existing but that didn&#39;t work","title":"Square button(x^2) exception handling error in Calculator android app development","body":"<p>I am currently trying to develop a Calculator android app in android studio using Java. The app works fine until I click the button for Square operation i.e. <code>x^2</code> button in the app when there is no input taken or when I click the Square operation button after any operator. For e.g. When I enter the input <code>1+</code> and then when I try to enter <code>x^2</code>, it automatically exit from the app. I tried multiple Try catch block in order to stop the app from abruptly existing but it didn't work\nBelow I have the code for onClick method of Square button</p>\n<pre class=\"lang-java prettyprint-override\"><code>bsquare.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    if (tvMain.getText().toString().isEmpty()) {\n                        Toast.makeText(MainActivity.this, &quot;Please enter a valid number..&quot;, Toast.LENGTH_SHORT).show();\n                    } else {\n                        double d = Double.parseDouble(tvMain.getText().toString());\n                        double square = d * d;\n                        tvMain.setText(String.valueOf(square));\n                        tvsec.setText(d + &quot;&quot;);\n                    }\n                }\n            });\n</code></pre>\n<p>I tried exception handling for stoping the app from abruplty existing but that didn't work</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"score":0,"creation_date":1536041128,"post_id":52159579,"comment_id":91269064,"body_markdown":"Are you sure there was another window? what is the size of `driver.getWindowHandles()`?","body":"Are you sure there was another window? what is the size of <code>driver.getWindowHandles()</code>?"}],"answers":[{"comments":[{"owner":{"account_id":9869472,"reputation":79,"user_id":7309686,"display_name":"user7309686"},"score":0,"creation_date":1536558742,"post_id":52167042,"comment_id":91450985,"body_markdown":"issue not resolved .i think it is not issue with code. when i use same code in(selenium) my system it works. but this issue only occurs in cloud remote server.I changed chromedriver and all jars but still not working. please help","body":"issue not resolved .i think it is not issue with code. when i use same code in(selenium) my system it works. but this issue only occurs in cloud remote server.I changed chromedriver and all jars but still not working. please help"}],"tags":[],"owner":{"account_id":10643148,"reputation":51,"user_id":7837493,"display_name":"Vijayakumar Ganesan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536147005,"creation_date":1536066338,"answer_id":52167042,"question_id":52159579,"body_markdown":"@user7309686 Hope the below script will solve your problem. better to put one validation before switch to new windows. Thanks\r\n\r\n    public  void switchToNewWindow(WebDriver driver)\r\n    {\r\n        String mainWindow = driver.getWindowHandle();\r\n        Set&lt;String&gt; openedWindows = driver.getWindowHandles();\r\n        if(openedWindows.size() &gt; 1)\r\n        {\r\n            for(String newWindow : openedWindows)\r\n            {\r\n                driver.switchTo().window(newWindow);\r\n            }\r\n            driver.close();\r\n            Log.info(&quot;Closing the current Opened Window - Invoice&quot;);\r\n            driver.switchTo().window(mainWindow);\r\n        }\r\n    }","title":"target window already closed from unknown error: web view not found","body":"<p>@user7309686 Hope the below script will solve your problem. better to put one validation before switch to new windows. Thanks</p>\n\n<pre><code>public  void switchToNewWindow(WebDriver driver)\n{\n    String mainWindow = driver.getWindowHandle();\n    Set&lt;String&gt; openedWindows = driver.getWindowHandles();\n    if(openedWindows.size() &gt; 1)\n    {\n        for(String newWindow : openedWindows)\n        {\n            driver.switchTo().window(newWindow);\n        }\n        driver.close();\n        Log.info(\"Closing the current Opened Window - Invoice\");\n        driver.switchTo().window(mainWindow);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17023231,"reputation":1,"user_id":12315196,"display_name":"Vinh Phan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1572771691,"creation_date":1572771691,"answer_id":58678706,"question_id":52159579,"body_markdown":"This works for me in C#, I don&#39;t know Java though:\r\n\r\n    foreach (var tab in driver.WindowHandles)\r\n    {\r\n    driver.SwitchTo().Window(tab);\r\n    }","title":"target window already closed from unknown error: web view not found","body":"<p>This works for me in C#, I don't know Java though:</p>\n\n<pre><code>foreach (var tab in driver.WindowHandles)\n{\ndriver.SwitchTo().Window(tab);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10860508,"reputation":1460,"user_id":7985538,"display_name":"Sreekant Shenoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679899691,"creation_date":1679899691,"answer_id":75852809,"question_id":52159579,"body_markdown":"Found a similar case in `python`. The issue was that selenium wasn&#39;t able to keep track of opening a new window if you are closing a window just before.\r\n\r\nThe solution is to add this line\r\n`driver.switch_to.window(driver.window_handles[-1])`, which tells selenium to visit the last tab (before opening the new window).\r\n\r\n```python\r\nfor i, labelResultUrl in enumerate(labelResultUrls):\r\n\tdriver.switch_to.window(driver.window_handles[-1])  #this line will fix\r\n\tdriver.switch_to.new_window()\r\n\tdriver.get(labelResultUrl)\r\n\r\n\t...\r\n\r\n\tif failCount == 0:\r\n\t\tdriver.close()\r\n\r\n\ttime.sleep(2)\r\n```","title":"target window already closed from unknown error: web view not found","body":"<p>Found a similar case in <code>python</code>. The issue was that selenium wasn't able to keep track of opening a new window if you are closing a window just before.</p>\n<p>The solution is to add this line\n<code>driver.switch_to.window(driver.window_handles[-1])</code>, which tells selenium to visit the last tab (before opening the new window).</p>\n<pre class=\"lang-py prettyprint-override\"><code>for i, labelResultUrl in enumerate(labelResultUrls):\n    driver.switch_to.window(driver.window_handles[-1])  #this line will fix\n    driver.switch_to.new_window()\n    driver.get(labelResultUrl)\n\n    ...\n\n    if failCount == 0:\n        driver.close()\n\n    time.sleep(2)\n</code></pre>\n"}],"owner":{"account_id":9869472,"reputation":79,"user_id":7309686,"display_name":"user7309686"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20295,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1693782455,"creation_date":1536040357,"question_id":52159579,"body_markdown":"    String mainWindow = driver.getWindowHandle();\r\n\tdriver.findElement(By.xpath(pro.getProperty(&quot;&quot;))).click();\r\n\t\r\n    for(String newWindow : driver.getWindowHandles()){\r\n\t\tdriver.switchTo().window(newWindow);\r\n    }\r\n\t\t\r\n\tdriver.close();\r\n\r\n\tLog.info(&quot;Closing the current Opened Window - Invoice&quot;);\r\n\tdriver.switchTo().window(mainWindow); ---error in this line\r\n\t\r\nI am getting error while switching to main window.\r\n\r\n&gt; org.openqa.selenium.NoSuchWindowException: no such window: target\r\n&gt; window already closed from unknown error: web view not found\r\n\r\nI have tried switching to default window, commenting driver.close and adding thread.sleep also but issue not resolved.\r\n\t\r\n\t","title":"target window already closed from unknown error: web view not found","body":"<pre><code>String mainWindow = driver.getWindowHandle();\ndriver.findElement(By.xpath(pro.getProperty(\"\"))).click();\n\nfor(String newWindow : driver.getWindowHandles()){\n    driver.switchTo().window(newWindow);\n}\n\ndriver.close();\n\nLog.info(\"Closing the current Opened Window - Invoice\");\ndriver.switchTo().window(mainWindow); ---error in this line\n</code></pre>\n\n<p>I am getting error while switching to main window.</p>\n\n<blockquote>\n  <p>org.openqa.selenium.NoSuchWindowException: no such window: target\n  window already closed from unknown error: web view not found</p>\n</blockquote>\n\n<p>I have tried switching to default window, commenting driver.close and adding thread.sleep also but issue not resolved.</p>\n"},{"tags":["java","spring","hibernate","rest","session"],"comments":[{"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"score":0,"creation_date":1454589599,"post_id":35200973,"comment_id":58118350,"body_markdown":"You have to start a new Hibernate session/transaction if you delegate some work to another thread.","body":"You have to start a new Hibernate session/transaction if you delegate some work to another thread."},{"owner":{"account_id":2268079,"reputation":121,"user_id":1996183,"display_name":"user1996183"},"score":0,"creation_date":1454589804,"post_id":35200973,"comment_id":58118497,"body_markdown":"@Dragan Bozanovic I am not delegating work to new thread. I am doing the same work twice (concurrently) in two threads. I know hibernate session is not thread safe so sharing of sessions across threads is a strict NO-NO","body":"@Dragan Bozanovic I am not delegating work to new thread. I am doing the same work twice (concurrently) in two threads. I know hibernate session is not thread safe so sharing of sessions across threads is a strict NO-NO"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1454590965,"post_id":35200973,"comment_id":58119268,"body_markdown":"What is the `getSession` method do?","body":"What is the <code>getSession</code> method do?"},{"owner":{"account_id":2268079,"reputation":121,"user_id":1996183,"display_name":"user1996183"},"score":0,"creation_date":1454593046,"post_id":35200973,"comment_id":58120606,"body_markdown":"getSession is basically calling sessionFactory.getCurrentSession()","body":"getSession is basically calling sessionFactory.getCurrentSession()"},{"owner":{"account_id":5475819,"reputation":1022,"user_id":4353862,"display_name":"Manuel Romeiro"},"score":0,"creation_date":1505987946,"post_id":35200973,"comment_id":79641565,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/12705700/hibernate-assertionfailure-in-different-threads","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/12705700/hibernate-assertionfailure-in-different-threads\" title=\"hibernate assertionfailure in different threads\">stackoverflow.com/questions/12705700/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7734625,"reputation":535,"user_id":5856587,"accept_rate":71,"display_name":"Peter G. Horvath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454590633,"creation_date":1454590633,"answer_id":35201623,"question_id":35200973,"body_markdown":"I think, that if you use Hibernate like that, then you should acquire the session by calling `getSession(false)` instead so as to ensure you have the session bound to the transaction.\r\n\r\nThis is explained in chapter [Implementing Spring-based DAOs without callbacks in Spring documentation] [1] : *such code will usually pass false as the value of the getSession(..) methods allowCreate argument, to enforce running within a transaction (which avoids the need to close the returned Session, as its lifecycle is managed by the transaction).*\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#orm-hibernate-daos","title":"org.hibernate.AssertionFailure: possible non-threadsafe access to the session","body":"<p>I think, that if you use Hibernate like that, then you should acquire the session by calling <code>getSession(false)</code> instead so as to ensure you have the session bound to the transaction.</p>\n\n<p>This is explained in chapter <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#orm-hibernate-daos\" rel=\"nofollow\">Implementing Spring-based DAOs without callbacks in Spring documentation</a> : <em>such code will usually pass false as the value of the getSession(..) methods allowCreate argument, to enforce running within a transaction (which avoids the need to close the returned Session, as its lifecycle is managed by the transaction).</em></p>\n"}],"owner":{"account_id":2268079,"reputation":121,"user_id":1996183,"display_name":"user1996183"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19331,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":1,"score":10,"last_activity_date":1693782455,"creation_date":1454588692,"question_id":35200973,"body_markdown":"I am developing a web application with AngularJs as front-end and Spring+Hibernate as the service layer. Service Layer has a set of REST API&#39;s that are consumed by AngularJs. The front end of the application has no major issues. But in the service layer, I am facing some concurrency issues. For some scenarios, I have to make parallel Asychronous calls to same REST API&#39;s from the same http session. When I do that, there are times when I get the above error. Actually, the error keeps of changing everytime. Sometimes I also get NULLPointerException on Query.List() operation. Sometimes I get TransactionResourceAlreadyClosed exception. Various configurations and code snippets are attached below.\r\n\r\nWeb.xml\r\n\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;WEB-INF/config/fs-cxf-serverContext.xml,WEB-INF/config/fs-spring-jpa-config.xml,WEB-INF/config/security-beans.xml&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\r\n\t&lt;listener&gt;\r\n\t\t&lt;listener-class&gt;org.springframework.web.context.request.RequestContextListener&lt;/listener-class&gt;\r\n\t&lt;/listener&gt;\r\n\t&lt;listener&gt;\r\n\t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n\t&lt;/listener&gt;\r\n\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;cors.allowed.origins&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;*&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;cors.allowed.headers&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;Content-Type,X-Requested-With,accept,Origin,Access-Control-Request-Method,Access-Control-Request-Headers,Access-Control-Allow-Origin&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;cors.exposed.headers&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;Access-Control-Allow-Origin&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;cors.allowed.methods&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;GET, POST, PUT, DELETE, OPTIONS, HEAD&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\n\t&lt;servlet&gt;\r\n\t\t&lt;description&gt;Servlet to Initialize and shutdown the Scheduler&lt;/description&gt;\r\n\t\t&lt;servlet-name&gt;QuartzInitializer&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.quartz.ee.servlet.QuartzInitializerServlet&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;config-file&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;quartz.properties&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;shutdown-on-unload&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;start-scheduler-on-load&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;2&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.apache.cxf.transport.servlet.CXFServlet&lt;/servlet-class&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/services/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\n\t&lt;resource-ref&gt;\r\n\t\t&lt;res-ref-name&gt;jdbc/foodsafetyDS&lt;/res-ref-name&gt;\r\n\t\t&lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\r\n\t\t&lt;res-auth&gt;Container&lt;/res-auth&gt;\r\n\t\t&lt;res-sharing-scope&gt;Shareable&lt;/res-sharing-scope&gt;\r\n\t&lt;/resource-ref&gt;\r\n&lt;/web-app&gt;\r\n\r\n\r\nJPA Configuration\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n\txmlns:task=&quot;http://www.springframework.org/schema/task&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\r\n\t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\r\n\t\thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd\r\n\t\thttp://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.2.xsd&quot;&gt;\r\n\r\n\t&lt;!-- Hibernate session factory --&gt;\r\n\t&lt;bean id=&quot;sessionFactory&quot;\r\n\t\tclass=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;configLocation&quot; value=&quot;classpath:hibernate.cfg.xml&quot; /&gt;\r\n\t\t&lt;property name=&quot;entityInterceptor&quot;&gt;\r\n\t\t\t&lt;bean class=&quot;com.cts.foodSafety.interceptor.AuditLogInterceptor&quot;/&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;transactionManager&quot;\r\n\t\tclass=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n\t\t&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;persistenceAnnotation&quot;\r\n\t\tclass=&quot;org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor&quot; /&gt;\r\n\r\n\t&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;\r\n\t&lt;task:annotation-driven/&gt;\r\n\r\n&lt;/beans&gt;\r\n\r\nHibernate.cfg.xml\r\n\r\n    &lt;hibernate-configuration&gt;\r\n\t&lt;session-factory&gt;\r\n\t\t&lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.connection.datasource&quot;&gt;java:comp/env/jdbc/foodsafetyDS&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n\t\t&lt;property name=&quot;show_sql&quot;&gt;false&lt;/property&gt;\r\n\r\n\t\t&lt;!-- Mapping with model class containing annotations --&gt;\r\n\r\n\r\nI have created a simple rest controller using CXF. REST end point is as below\r\n\r\n    @Path(&quot;/units&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public interface UnitService extends Serializable {\r\n\r\n\t@GET\r\n\t@Path(&quot;/getGraphData/{type}&quot;)\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n\tpublic UnitServiceBean getGraphData(@PathParam(&quot;type&quot;) String type)\r\n\t\t\tthrows FoodSafetyException;\r\n}\r\n\r\nImplementation of the controller is as below\r\n\r\nxxxServiceImpl.java\r\n\r\n    @Service(&quot;unit&quot;)\r\n    @Transactional\r\n    public class xxxServiceImpl implements xxxService {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Autowired\r\n\txxxDelegate xxxDelegate;\r\n\r\n\t@Override\r\n\tpublic UnitServiceBean getGraphData(String type) throws FoodSafetyException {\r\n\t\tUnitServiceBean bean = new UnitServiceBean();\r\n\r\n\t\tList&lt;String[]&gt; data = unitDelegate.getGraphData(type);\r\n\t\t....\r\n        ....\r\n\t\treturn bean;\r\n\t}\r\n\r\n\r\nDelegate calls the DAO. (We haven&#39;t introduced the Business object as of now). Implementation of DAO is as below\r\n\r\n    @Component\r\n    public class UnitDAOImpl extends FoodSafetyDAO implements UnitDAO {\r\n\t@Override\r\n\tpublic List&lt;String[]&gt; getGraphData(String type) {\r\n\t\tList&lt;String[]&gt; data = new ArrayList&lt;String[]&gt;();\r\n\t\tMap&lt;String, List&lt;UnitReadingEntity&gt;&gt; readings = new HashMap&lt;String, List&lt;UnitReadingEntity&gt;&gt;();\r\n\r\n\t\tSimpleDateFormat df = CommonConstants.TIME_FORMATTER;\r\n\r\n\t\t// Get all the Units\r\n\t\tQuery query = getSession().getNamedQuery(\r\n\t\t\t\tQueryConstants.FIND_UNITS_BY_TYPE);\r\n\t\tquery.setParameter(QueryConstants.TYPE, type);\r\n\t\tList&lt;UnitEntity&gt; units = (List&lt;UnitEntity&gt;) query.list();\r\n\t\tif (units != null &amp;&amp; units.size() != 0) {\r\n\t\t\t.....\r\n\t\t\t.....\r\n\r\n\t\t\tfor (UnitEntity unit : units) {\r\n\t\t\t\tCalendar cal1 = Calendar.getInstance();\r\n\t\t\t\tcal1.add(Calendar.DAY_OF_YEAR, -1);\r\n\t\t\t\tquery = getSession().getNamedQuery(\r\n\t\t\t\t\t\tQueryConstants.FIND_READING_BY_UNIT_TIME).setLong(\r\n\t\t\t\t\t\tQueryConstants.UNIT_ID, unit.getUnitId());\r\n\r\n\t\t\t\tList&lt;UnitReadingEntity&gt; rr = query.list();\r\n\t\t\t\t...\r\n\t\t\t\t...\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t}\r\n\r\nNow, when I call the REST service &quot;getGraphData&quot; once using POSTMAN etc. it works fine without any issue. But when I simulate concurrent call to this rest service using I get following error\r\n\r\n    Caused by: org.hibernate.AssertionFailure: possible non-threadsafe access to the session\r\n\tat org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:130)\r\n\tat org.hibernate.loader.Loader.initializeEntitiesAndCollections(Loader.java:1108)\r\n\tat org.hibernate.loader.Loader.processResultSet(Loader.java:964)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:911)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:342)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2526)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2512)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2342)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2337)\r\n\tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:495)\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:356)\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:195)\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1269)\r\n\tat org.hibernate.internal.QueryImpl.list(QueryImpl.java:101)\r\n\tat com.cts.foodSafety.model.dao.impl.UnitDAOImpl.getGraphData(UnitDAOImpl.java:255)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n\tat org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:51)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:42)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n\tat com.sun.proxy.$Proxy51.getGraphData(Unknown Source)\r\n\tat com.cts.foodSafety.delegate.UnitDelegate.getGraphData(UnitDelegate.java:39)\r\n\tat com.cts.foodSafety.delegate.UnitDelegate$$FastClassByCGLIB$$aac35d0d.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:698)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n\tat org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:51)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:42)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:631)\r\n\tat com.cts.foodSafety.delegate.UnitDelegate$$EnhancerByCGLIB$$75af66.getGraphData(&lt;generated&gt;)\r\n\tat com.cts.foodSafety.service.impl.UnitServiceImpl.getGraphData(UnitServiceImpl.java:108)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n\tat org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:51)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:42)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:55)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n\tat com.sun.proxy.$Proxy72.getGraphData(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:180)\r\n\tat org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)\r\n\r\n\r\nClient that I used to make concurrent request is as below\r\n\r\n    public class RestClient implements Runnable{\r\n\t\r\n\tprivate String i;\r\n\t\r\n\tpublic RestClient(String x) {\r\n\t\ti=x;\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tfor(int i =1;i&lt;=2;i++) {\r\n\t\t\tThread t = new Thread(new RestClient(String.valueOf(i)));\r\n\t\t\tt.start();\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tSystem.out.println(&quot;started &quot; + i);\r\n\t\t  try {\r\n\r\n\t\t\t\tURL url = new URL(&quot; http://localhost:8080/fs/services/units/getGraphData/Freezer&quot;);\r\n\t\t\t\tHttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n\t\t\t\tconn.setRequestMethod(&quot;GET&quot;);\r\n\t\t\t\tconn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\r\n\t\t\t\tif (conn.getResponseCode() != 204) {\r\n\t\t\t\t\tthrow new RuntimeException(&quot;Failed : HTTP error code : &quot;\r\n\t\t\t\t\t\t\t+ conn.getResponseCode());\r\n\t\t\t\t}\r\n\r\n\r\nAny pointers/suggestions ? I have gone through a lot of material on sessions and transaction management in Spring+hibernate. But I am not able to get my head around this problem.","title":"org.hibernate.AssertionFailure: possible non-threadsafe access to the session","body":"<p>I am developing a web application with AngularJs as front-end and Spring+Hibernate as the service layer. Service Layer has a set of REST API's that are consumed by AngularJs. The front end of the application has no major issues. But in the service layer, I am facing some concurrency issues. For some scenarios, I have to make parallel Asychronous calls to same REST API's from the same http session. When I do that, there are times when I get the above error. Actually, the error keeps of changing everytime. Sometimes I also get NULLPointerException on Query.List() operation. Sometimes I get TransactionResourceAlreadyClosed exception. Various configurations and code snippets are attached below.</p>\n\n<p>Web.xml</p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;WEB-INF/config/fs-cxf-serverContext.xml,WEB-INF/config/fs-spring-jpa-config.xml,WEB-INF/config/security-beans.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.context.request.RequestContextListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n&lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n\n&lt;filter&gt;\n    &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;cors.allowed.origins&lt;/param-name&gt;\n        &lt;param-value&gt;*&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;cors.allowed.headers&lt;/param-name&gt;\n        &lt;param-value&gt;Content-Type,X-Requested-With,accept,Origin,Access-Control-Request-Method,Access-Control-Request-Headers,Access-Control-Allow-Origin&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;cors.exposed.headers&lt;/param-name&gt;\n        &lt;param-value&gt;Access-Control-Allow-Origin&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;cors.allowed.methods&lt;/param-name&gt;\n        &lt;param-value&gt;GET, POST, PUT, DELETE, OPTIONS, HEAD&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n\n&lt;filter&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n\n&lt;servlet&gt;\n    &lt;description&gt;Servlet to Initialize and shutdown the Scheduler&lt;/description&gt;\n    &lt;servlet-name&gt;QuartzInitializer&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.quartz.ee.servlet.QuartzInitializerServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;config-file&lt;/param-name&gt;\n        &lt;param-value&gt;quartz.properties&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;shutdown-on-unload&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;start-scheduler-on-load&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet&gt;\n    &lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.apache.cxf.transport.servlet.CXFServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/services/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n\n&lt;resource-ref&gt;\n    &lt;res-ref-name&gt;jdbc/foodsafetyDS&lt;/res-ref-name&gt;\n    &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n    &lt;res-auth&gt;Container&lt;/res-auth&gt;\n    &lt;res-sharing-scope&gt;Shareable&lt;/res-sharing-scope&gt;\n&lt;/resource-ref&gt;\n</code></pre>\n\n<p></p>\n\n<p>JPA Configuration</p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\"\nxmlns:tx=\"http://www.springframework.org/schema/tx\"\nxmlns:task=\"http://www.springframework.org/schema/task\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd\n    http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.2.xsd\"&gt;\n\n&lt;!-- Hibernate session factory --&gt;\n&lt;bean id=\"sessionFactory\"\n    class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n    &lt;property name=\"configLocation\" value=\"classpath:hibernate.cfg.xml\" /&gt;\n    &lt;property name=\"entityInterceptor\"&gt;\n        &lt;bean class=\"com.cts.foodSafety.interceptor.AuditLogInterceptor\"/&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"transactionManager\"\n    class=\"org.springframework.orm.hibernate4.HibernateTransactionManager\"&gt;\n    &lt;property name=\"sessionFactory\" ref=\"sessionFactory\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"persistenceAnnotation\"\n    class=\"org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor\" /&gt;\n\n&lt;tx:annotation-driven transaction-manager=\"transactionManager\" /&gt;\n&lt;task:annotation-driven/&gt;\n</code></pre>\n\n<p></p>\n\n<p>Hibernate.cfg.xml</p>\n\n<pre><code>&lt;hibernate-configuration&gt;\n&lt;session-factory&gt;\n    &lt;property name=\"hibernate.connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n    &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.datasource\"&gt;java:comp/env/jdbc/foodsafetyDS&lt;/property&gt;\n    &lt;property name=\"hbm2ddl.auto\"&gt;update&lt;/property&gt;\n    &lt;property name=\"show_sql\"&gt;false&lt;/property&gt;\n\n    &lt;!-- Mapping with model class containing annotations --&gt;\n</code></pre>\n\n<p>I have created a simple rest controller using CXF. REST end point is as below</p>\n\n<pre><code>@Path(\"/units\")\n@Produces(MediaType.APPLICATION_JSON)\npublic interface UnitService extends Serializable {\n\n@GET\n@Path(\"/getGraphData/{type}\")\n@Produces(MediaType.APPLICATION_JSON)\npublic UnitServiceBean getGraphData(@PathParam(\"type\") String type)\n        throws FoodSafetyException;\n</code></pre>\n\n<p>}</p>\n\n<p>Implementation of the controller is as below</p>\n\n<p>xxxServiceImpl.java</p>\n\n<pre><code>@Service(\"unit\")\n@Transactional\npublic class xxxServiceImpl implements xxxService {\n\nprivate static final long serialVersionUID = 1L;\n\n@Autowired\nxxxDelegate xxxDelegate;\n\n@Override\npublic UnitServiceBean getGraphData(String type) throws FoodSafetyException {\n    UnitServiceBean bean = new UnitServiceBean();\n\n    List&lt;String[]&gt; data = unitDelegate.getGraphData(type);\n    ....\n    ....\n    return bean;\n}\n</code></pre>\n\n<p>Delegate calls the DAO. (We haven't introduced the Business object as of now). Implementation of DAO is as below</p>\n\n<pre><code>@Component\npublic class UnitDAOImpl extends FoodSafetyDAO implements UnitDAO {\n@Override\npublic List&lt;String[]&gt; getGraphData(String type) {\n    List&lt;String[]&gt; data = new ArrayList&lt;String[]&gt;();\n    Map&lt;String, List&lt;UnitReadingEntity&gt;&gt; readings = new HashMap&lt;String, List&lt;UnitReadingEntity&gt;&gt;();\n\n    SimpleDateFormat df = CommonConstants.TIME_FORMATTER;\n\n    // Get all the Units\n    Query query = getSession().getNamedQuery(\n            QueryConstants.FIND_UNITS_BY_TYPE);\n    query.setParameter(QueryConstants.TYPE, type);\n    List&lt;UnitEntity&gt; units = (List&lt;UnitEntity&gt;) query.list();\n    if (units != null &amp;&amp; units.size() != 0) {\n        .....\n        .....\n\n        for (UnitEntity unit : units) {\n            Calendar cal1 = Calendar.getInstance();\n            cal1.add(Calendar.DAY_OF_YEAR, -1);\n            query = getSession().getNamedQuery(\n                    QueryConstants.FIND_READING_BY_UNIT_TIME).setLong(\n                    QueryConstants.UNIT_ID, unit.getUnitId());\n\n            List&lt;UnitReadingEntity&gt; rr = query.list();\n            ...\n            ...\n        }\n    }\n\n    return data;\n}\n</code></pre>\n\n<p>Now, when I call the REST service \"getGraphData\" once using POSTMAN etc. it works fine without any issue. But when I simulate concurrent call to this rest service using I get following error</p>\n\n<pre><code>Caused by: org.hibernate.AssertionFailure: possible non-threadsafe access to the session\nat org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:130)\nat org.hibernate.loader.Loader.initializeEntitiesAndCollections(Loader.java:1108)\nat org.hibernate.loader.Loader.processResultSet(Loader.java:964)\nat org.hibernate.loader.Loader.doQuery(Loader.java:911)\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:342)\nat org.hibernate.loader.Loader.doList(Loader.java:2526)\nat org.hibernate.loader.Loader.doList(Loader.java:2512)\nat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2342)\nat org.hibernate.loader.Loader.list(Loader.java:2337)\nat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:495)\nat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:356)\nat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:195)\nat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1269)\nat org.hibernate.internal.QueryImpl.list(QueryImpl.java:101)\nat com.cts.foodSafety.model.dao.impl.UnitDAOImpl.getGraphData(UnitDAOImpl.java:255)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\nat org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:51)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:42)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\nat com.sun.proxy.$Proxy51.getGraphData(Unknown Source)\nat com.cts.foodSafety.delegate.UnitDelegate.getGraphData(UnitDelegate.java:39)\nat com.cts.foodSafety.delegate.UnitDelegate$$FastClassByCGLIB$$aac35d0d.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:698)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\nat org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:51)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:42)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:631)\nat com.cts.foodSafety.delegate.UnitDelegate$$EnhancerByCGLIB$$75af66.getGraphData(&lt;generated&gt;)\nat com.cts.foodSafety.service.impl.UnitServiceImpl.getGraphData(UnitServiceImpl.java:108)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\nat org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:51)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:42)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:55)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\nat com.sun.proxy.$Proxy72.getGraphData(Unknown Source)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:180)\nat org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)\n</code></pre>\n\n<p>Client that I used to make concurrent request is as below</p>\n\n<pre><code>public class RestClient implements Runnable{\n\nprivate String i;\n\npublic RestClient(String x) {\n    i=x;\n}\npublic static void main(String[] args) {\n\n    for(int i =1;i&lt;=2;i++) {\n        Thread t = new Thread(new RestClient(String.valueOf(i)));\n        t.start();\n    }\n}\n\n@Override\npublic void run() {\n    System.out.println(\"started \" + i);\n      try {\n\n            URL url = new URL(\" http://localhost:8080/fs/services/units/getGraphData/Freezer\");\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n            conn.setRequestMethod(\"GET\");\n            conn.setRequestProperty(\"Accept\", \"application/json\");\n\n            if (conn.getResponseCode() != 204) {\n                throw new RuntimeException(\"Failed : HTTP error code : \"\n                        + conn.getResponseCode());\n            }\n</code></pre>\n\n<p>Any pointers/suggestions ? I have gone through a lot of material on sessions and transaction management in Spring+hibernate. But I am not able to get my head around this problem.</p>\n"},{"tags":["java","tree","weka","decision-tree"],"answers":[{"comments":[{"owner":{"account_id":2125740,"reputation":343,"user_id":1887967,"accept_rate":100,"display_name":"SSM89"},"score":0,"creation_date":1462717763,"post_id":37097513,"comment_id":61744041,"body_markdown":"Thanks that solved the error, but how can I get the output in this case yes or no for each example in the maitretest.arff, because rigth now I&#39;m getting general results.","body":"Thanks that solved the error, but how can I get the output in this case yes or no for each example in the maitretest.arff, because rigth now I&#39;m getting general results."},{"owner":{"account_id":6207504,"reputation":284,"user_id":4834962,"accept_rate":75,"display_name":"Rahul Rajput"},"score":0,"creation_date":1462720180,"post_id":37097513,"comment_id":61744740,"body_markdown":"You will have to label the output attribute of &#39;maitretest.arff &#39; as ?. And please tick the answer as accepted if it has helped.","body":"You will have to label the output attribute of &#39;maitretest.arff &#39; as ?. And please tick the answer as accepted if it has helped."},{"owner":{"account_id":2125740,"reputation":343,"user_id":1887967,"accept_rate":100,"display_name":"SSM89"},"score":0,"creation_date":1462727392,"post_id":37097513,"comment_id":61747162,"body_markdown":"I don&#39;t follow, how do I set the follow attribute ?? And then how do I access the output for each example ??","body":"I don&#39;t follow, how do I set the follow attribute ?? And then how do I access the output for each example ??"},{"owner":{"account_id":6207504,"reputation":284,"user_id":4834962,"accept_rate":75,"display_name":"Rahul Rajput"},"score":0,"creation_date":1462728098,"post_id":37097513,"comment_id":61747368,"body_markdown":"Just edit the arff file manually and put &#39;?&#39; in place of attribute you want to predict instead of yes and no.","body":"Just edit the arff file manually and put &#39;?&#39; in place of attribute you want to predict instead of yes and no."}],"tags":[],"owner":{"account_id":6207504,"reputation":284,"user_id":4834962,"accept_rate":75,"display_name":"Rahul Rajput"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1462693924,"creation_date":1462693924,"answer_id":37097513,"question_id":37095259,"body_markdown":"Yes ofcourse it has problem with your file format. save the both files as .arff file and then repeat the process. And yes for that you will need to read arff files with arffloader....below code will help you...\r\n\r\n            ArffLoader loader= new ArffLoader();\r\n    \t\tloader.setSource(new File(&quot;C:/Users/..../Desktop/maitre.arff&quot;));\r\n    \t\tInstances data= loader.getDataSet();\r\n\r\nGood luck :)","title":"How can I use weka to implement a decision tree?","body":"<p>Yes ofcourse it has problem with your file format. save the both files as .arff file and then repeat the process. And yes for that you will need to read arff files with arffloader....below code will help you...</p>\n\n<pre><code>        ArffLoader loader= new ArffLoader();\n        loader.setSource(new File(\"C:/Users/..../Desktop/maitre.arff\"));\n        Instances data= loader.getDataSet();\n</code></pre>\n\n<p>Good luck :)</p>\n"},{"tags":[],"owner":{"account_id":6207504,"reputation":284,"user_id":4834962,"accept_rate":75,"display_name":"Rahul Rajput"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462728374,"creation_date":1462728374,"answer_id":37102704,"question_id":37095259,"body_markdown":"This code might help...\r\n\r\n    for(int i=0;i&lt;Train.numInstances();i++)\r\n      \t\t{\r\n            \t  double value=cls.classifyInstance(originalTrain.instance(i));\r\n            \t  String prediction=Train.classAttribute().value((int)value); \r\n           System.out.println(Train.instance(i)+&quot;............Prediction.......... &quot;+prediction); \r\n      \t\t}\r\n This above code is for predicting the value. Below is your sample maitretest.arff file. Hope it helps :)\r\n\r\n    @relation maitretest\r\n    \r\n    @attribute patrons {none, some, full}\r\n    @attribute waitEstation {0-10,10-30,30-60,&gt;60}\r\n    @attribute reservation {TRUE, FALSE}\r\n    @attribute bar {TRUE, FALSE}\r\n    @attribute alternative {TRUE, FALSE}\r\n    @attribute sit {yes, no}\r\n    \r\n    @data\r\n    some,0-10,TRUE,FALSE,TRUE,?\r\n    full,30-60,FALSE,FALSE,TRUE,?\r\n\r\n","title":"How can I use weka to implement a decision tree?","body":"<p>This code might help...</p>\n\n<pre><code>for(int i=0;i&lt;Train.numInstances();i++)\n        {\n              double value=cls.classifyInstance(originalTrain.instance(i));\n              String prediction=Train.classAttribute().value((int)value); \n       System.out.println(Train.instance(i)+\"............Prediction.......... \"+prediction); \n        }\n</code></pre>\n\n<p>This above code is for predicting the value. Below is your sample maitretest.arff file. Hope it helps :)</p>\n\n<pre><code>@relation maitretest\n\n@attribute patrons {none, some, full}\n@attribute waitEstation {0-10,10-30,30-60,&gt;60}\n@attribute reservation {TRUE, FALSE}\n@attribute bar {TRUE, FALSE}\n@attribute alternative {TRUE, FALSE}\n@attribute sit {yes, no}\n\n@data\nsome,0-10,TRUE,FALSE,TRUE,?\nfull,30-60,FALSE,FALSE,TRUE,?\n</code></pre>\n"}],"owner":{"account_id":2125740,"reputation":343,"user_id":1887967,"accept_rate":100,"display_name":"SSM89"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3644,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":37097513,"answer_count":2,"score":0,"last_activity_date":1693779118,"creation_date":1462670043,"question_id":37095259,"body_markdown":"I&#39;m working with java, eclipse and weka, I want to show the tree with every rule and the predictin of a set of data to test my decision tree.\r\n\r\nI was trying somenthing with this code but it&#39;s not doing what I need which is to show all the tree with every possible rule. I can only see part of the tree not all. \r\n\r\nAnd I haven&#39;t been able to test it with a data test and data training, I think it has somenthing to do with the format I&#39;m using in the text and train file.\r\n\r\nSo the question is, how can I show the tree with every possible decition and then test it ??\r\n\r\nThis is what I have so far:\r\n\r\n    public class Test {\r\n\t    public static BufferedReader readDataFile(String filename) {\r\n\t\t    BufferedReader inputReader = null;\r\n \r\n\t\t     try {\r\n\t\t\t     inputReader = new BufferedReader(new FileReader(filename));\r\n\t\t      } catch (FileNotFoundException ex) {\r\n\t\t\t     System.err.println(&quot;File not found: &quot; + filename);\r\n\t\t     }\r\n \r\n\t\t     return inputReader;\r\n\t     }\r\n \r\n\t    public static void main(String[] args) throws Exception {\r\n\t\t\r\n\t\t    //Get File\r\n            BufferedReader reader = readDataFile(&quot;maitre.txt&quot;);\r\n\r\n           //Get the data\r\n           Instances data = new Instances(reader);\r\n           reader.close();\r\n\r\n           //Setting class attribute \r\n           data.setClassIndex(data.numAttributes() - 1);\r\n\r\n          //Make tree\r\n          J48 tree = new J48();\r\n          String[] options = new String[1];\r\n          options[0] = &quot;-U&quot;; \r\n          tree.setOptions(options);\r\n          tree.buildClassifier(data);\r\n\r\n          //Print tree\r\n          System.out.println(tree);\r\n        \r\n          //Predictions with test and training set of data\r\n        \r\n          BufferedReader datafile = readDataFile(&quot;maitre.txt&quot;);\r\n          BufferedReader testfile = readDataFile(&quot;maitretest.txt&quot;);\r\n        \r\n\t\t  Instances train = new Instances(datafile);\r\n\t      data.setClassIndex(data.numAttributes() - 1);  // from somewhere\r\n\t\t  Instances test = new Instances(testfile);\r\n\t      data.setClassIndex(data.numAttributes() - 1);    // from somewhere\r\n\t\t  // train classifier\r\n\t\t  Classifier cls = new J48();\r\n\t\t  cls.buildClassifier(train);\r\n\t\t  // evaluate classifier and print some statistics\r\n\t\t  Evaluation eval = new Evaluation(train);\r\n\t\t  eval.evaluateModel(cls, test);\r\n\t\t  System.out.println(eval.toSummaryString(&quot;\\nResults\\n======\\n&quot;, false));\r\n\t   }\r\n    }\r\n\r\nthe error:\r\n\r\n    Exception in thread &quot;main&quot; weka.core.UnassignedClassException: weka.classifiers.trees.j48.C45PruneableClassifierTree: Class attribute not set!\r\n\t    at weka.core.Capabilities.test(Capabilities.java:1284)\r\n\t    at weka.core.Capabilities.test(Capabilities.java:1208)\r\n\t    at weka.core.Capabilities.testWithFail(Capabilities.java:1506)\r\n\t    at weka.classifiers.trees.j48.C45PruneableClassifierTree.buildClassifier(C45PruneableClassifierTree.java:120)\r\n\t    at weka.classifiers.trees.J48.buildClassifier(J48.java:293)\r\n    \tat Test.main(Test.java:60)\r\n\r\nmaitre.txt and  maitretest.txt have are somenthing like this:\r\n\r\n    @relation maitre\r\n\r\n    @attribute patrons {none, some, full}\r\n    @attribute waitEstation {0-10,10-30,30-60,&gt;60}\r\n    @attribute reservation {TRUE, FALSE}\r\n    @attribute bar {TRUE, FALSE}\r\n    @attribute alternative {TRUE, FALSE}\r\n    @attribute sit {yes, no}\r\n\r\n    @data\r\n    some,0-10,TRUE,FALSE,TRUE,yes\r\n    full,30-60,FALSE,FALSE,TRUE,no\r\n    some,0-10,FALSE,TRUE,FALSE,yes\r\n    full,10-30,FALSE,FALSE,TRUE,yes\r\n    full,&gt;60,TRUE,FALSE,TRUE,no\r\n    some,0-10,TRUE,TRUE,FALSE,yes\r\n    none,0-10,FALSE,TRUE,FALSE,no\r\n    some,0-10,TRUE,FALSE,FALSE,yes\r\n    full,&gt;60,FALSE,TRUE,FALSE,no\r\n    full,10-30,TRUE,TRUE,TRUE,yes\r\n    none,0-10,FALSE,FALSE,FALSE,no\r\n    full,30-60,FALSE,TRUE,TRUE,no\r\n\r\n","title":"How can I use weka to implement a decision tree?","body":"<p>I'm working with java, eclipse and weka, I want to show the tree with every rule and the predictin of a set of data to test my decision tree.</p>\n\n<p>I was trying somenthing with this code but it's not doing what I need which is to show all the tree with every possible rule. I can only see part of the tree not all. </p>\n\n<p>And I haven't been able to test it with a data test and data training, I think it has somenthing to do with the format I'm using in the text and train file.</p>\n\n<p>So the question is, how can I show the tree with every possible decition and then test it ??</p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>public class Test {\n    public static BufferedReader readDataFile(String filename) {\n        BufferedReader inputReader = null;\n\n         try {\n             inputReader = new BufferedReader(new FileReader(filename));\n          } catch (FileNotFoundException ex) {\n             System.err.println(\"File not found: \" + filename);\n         }\n\n         return inputReader;\n     }\n\n    public static void main(String[] args) throws Exception {\n\n        //Get File\n        BufferedReader reader = readDataFile(\"maitre.txt\");\n\n       //Get the data\n       Instances data = new Instances(reader);\n       reader.close();\n\n       //Setting class attribute \n       data.setClassIndex(data.numAttributes() - 1);\n\n      //Make tree\n      J48 tree = new J48();\n      String[] options = new String[1];\n      options[0] = \"-U\"; \n      tree.setOptions(options);\n      tree.buildClassifier(data);\n\n      //Print tree\n      System.out.println(tree);\n\n      //Predictions with test and training set of data\n\n      BufferedReader datafile = readDataFile(\"maitre.txt\");\n      BufferedReader testfile = readDataFile(\"maitretest.txt\");\n\n      Instances train = new Instances(datafile);\n      data.setClassIndex(data.numAttributes() - 1);  // from somewhere\n      Instances test = new Instances(testfile);\n      data.setClassIndex(data.numAttributes() - 1);    // from somewhere\n      // train classifier\n      Classifier cls = new J48();\n      cls.buildClassifier(train);\n      // evaluate classifier and print some statistics\n      Evaluation eval = new Evaluation(train);\n      eval.evaluateModel(cls, test);\n      System.out.println(eval.toSummaryString(\"\\nResults\\n======\\n\", false));\n   }\n}\n</code></pre>\n\n<p>the error:</p>\n\n<pre><code>Exception in thread \"main\" weka.core.UnassignedClassException: weka.classifiers.trees.j48.C45PruneableClassifierTree: Class attribute not set!\n    at weka.core.Capabilities.test(Capabilities.java:1284)\n    at weka.core.Capabilities.test(Capabilities.java:1208)\n    at weka.core.Capabilities.testWithFail(Capabilities.java:1506)\n    at weka.classifiers.trees.j48.C45PruneableClassifierTree.buildClassifier(C45PruneableClassifierTree.java:120)\n    at weka.classifiers.trees.J48.buildClassifier(J48.java:293)\n    at Test.main(Test.java:60)\n</code></pre>\n\n<p>maitre.txt and  maitretest.txt have are somenthing like this:</p>\n\n<pre><code>@relation maitre\n\n@attribute patrons {none, some, full}\n@attribute waitEstation {0-10,10-30,30-60,&gt;60}\n@attribute reservation {TRUE, FALSE}\n@attribute bar {TRUE, FALSE}\n@attribute alternative {TRUE, FALSE}\n@attribute sit {yes, no}\n\n@data\nsome,0-10,TRUE,FALSE,TRUE,yes\nfull,30-60,FALSE,FALSE,TRUE,no\nsome,0-10,FALSE,TRUE,FALSE,yes\nfull,10-30,FALSE,FALSE,TRUE,yes\nfull,&gt;60,TRUE,FALSE,TRUE,no\nsome,0-10,TRUE,TRUE,FALSE,yes\nnone,0-10,FALSE,TRUE,FALSE,no\nsome,0-10,TRUE,FALSE,FALSE,yes\nfull,&gt;60,FALSE,TRUE,FALSE,no\nfull,10-30,TRUE,TRUE,TRUE,yes\nnone,0-10,FALSE,FALSE,FALSE,no\nfull,30-60,FALSE,TRUE,TRUE,no\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":1,"creation_date":1693722464,"post_id":77031109,"comment_id":135796294,"body_markdown":"Just move the loop counter inside the inner `for`.","body":"Just move the loop counter inside the inner <code>for</code>."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1693722968,"post_id":77031109,"comment_id":135796329,"body_markdown":"The manual count is off. `y = x + 1` gives 3 (y) + 2 (x) + 1 (x).","body":"The manual count is off. <code>y = x + 1</code> gives 3 (y) + 2 (x) + 1 (x)."},{"owner":{"account_id":22571790,"reputation":140,"user_id":16757869,"display_name":"Plegeus"},"score":0,"creation_date":1693741256,"post_id":77031109,"comment_id":135797884,"body_markdown":"I am not saying that it is pointless what you are doing, but in my experience it is often better to just compute an estimate using big O notation rather than putting in the work to actually count the executions, it is all in the code. The only reason I can think of to need to count the executions specifically is for embedded systems to squeeze every bit of performance out. However, then you would be using C or Rust, certainly not Java.","body":"I am not saying that it is pointless what you are doing, but in my experience it is often better to just compute an estimate using big O notation rather than putting in the work to actually count the executions, it is all in the code. The only reason I can think of to need to count the executions specifically is for embedded systems to squeeze every bit of performance out. However, then you would be using C or Rust, certainly not Java."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1693746793,"post_id":77031109,"comment_id":135798456,"body_markdown":"I don&#39;t understand what you&#39;re asking for, but I am guessing you need to add an `else` to the `if` to update stats when the `if` condition is false.","body":"I don&#39;t understand what you&#39;re asking for, but I am guessing you need to add an <code>else</code> to the <code>if</code> to update stats when the <code>if</code> condition is false."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693777603,"creation_date":1693754866,"answer_id":77032972,"question_id":77031109,"body_markdown":"&gt; _&quot;... I am working on a program that would count how many statements are executed in an algorithm. I am not able to count when the inside loop condition turns to false. ...&quot;_\r\n\r\n_Java_ defines a _statement_ as the following.\r\n\r\n_[Expressions, Statements, and Blocks (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Language Basics)](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html)_.\r\n\r\n&gt; _&quot;Statements are roughly equivalent to sentences in natural languages. A statement forms a complete unit of execution. The following types of expressions can be made into a statement by terminating the expression with a semicolon (;)._\r\n&gt;\r\n&gt; - _Assignment expressions_\r\n&gt; - _Any use of ++ or --_\r\n&gt; - _Method invocations_\r\n&gt; - _Object creation expressions_&quot;\r\n\r\nSo, I would use the following for the _Stats_ class.\r\n\r\n```java\r\nclass Stats {\r\n    int assignments, unaryOps, calls, newObjects;\r\n\r\n    @Override\r\n    public String toString() {\r\n        return\r\n              &quot;assignments=%,d%n&quot;.formatted(assignments)\r\n            + &quot;unaryOps=%,d%n&quot;.formatted(unaryOps)\r\n            + &quot;calls=%,d%n&quot;.formatted(calls)\r\n            + &quot;newObjects=%,d&quot;.formatted(newObjects);\r\n    }\r\n}\r\n```\r\n\r\nAnd, for the procedure, I&#39;d count the values like this.\r\n\r\n```java\r\npublic static Stats bubbleSort(List&lt;String&gt; names) {\r\n    Stats stats = new Stats();\r\n    stats.assignments++;\r\n    stats.newObjects++;\r\n    String temp;\r\n    for (int x = 0; x &lt; names.size() - 1; x++) {\r\n        stats.calls++;\r\n        stats.unaryOps++;\r\n        for (int y = x + 1; y &lt; names.size(); y++) {\r\n            stats.calls++;\r\n            stats.unaryOps++;\r\n            if (names.get(x).compareTo(names.get(y)) &gt; 0) {\r\n                stats.calls += 3;\r\n                temp = names.get(x);\r\n                stats.assignments++;\r\n                stats.calls++;\r\n                names.set(x, names.get(y));\r\n                names.set(y, temp);\r\n                stats.calls += 3;\r\n            }\r\n        }\r\n        stats.assignments++;\r\n        stats.calls++;\r\n        stats.unaryOps++;\r\n    }\r\n    stats.assignments++;\r\n    stats.calls++;\r\n    stats.unaryOps++;\r\n    return stats;\r\n}\r\n```\r\n\r\nHere is the output for a 3 item list, _&quot;a&quot;, &quot;b&quot;, &quot;c&quot;_, once forward and once backward.\r\n\r\n```java\r\nassignments=4\r\nunaryOps=8\r\ncalls=8\r\nnewObjects=1\r\n\r\nassignments=7\r\nunaryOps=8\r\ncalls=29\r\nnewObjects=1\r\n```\r\n\r\n&gt; _&quot;...  The problem is when I am testing it with a List composed of three elements, the loop condition statements are only 6 in the best case scenario. Although, when I manually count it should be 8. What could be causing this? ...&quot;_\r\n\r\nYou&#39;ll need to increment _stats.conditionStatements_ after the _for-loop_, additionally.  \r\nAlso, I don&#39;t think you&#39;re counting the _if_ statement, which is a _conditional-statement_.\r\n\r\n```java\r\nfor (int x = 0; x &lt; names.size() - 1; x++) {\r\n    for (int y = x + 1; y &lt; names.size(); y++) {\r\n        if (names.get(x).compareTo(names.get(y)) &gt; 0) {\r\n        }\r\n        stats.conditionStatements += 2;\r\n    }\r\n    stats.conditionStatements += 2;\r\n}\r\nstats.conditionStatements += 1;\r\n```\r\n\r\nAs a solution, to visualize the _loop_ execution, and the state of the variables, just print their values.  \r\nI typically indent the output for each _scope_.\r\n\r\n```java\r\npublic static Stats bubbleSort(List&lt;String&gt; names) {\r\n    out.printf(&quot;names = %,d, %s%n&quot;, names.size(), names);\r\n // Stats stats = new Stats();\r\n    String temp;\r\n    int x, y;\r\n    for (x = 0; x &lt; names.size() - 1; x++) {\r\n        out.printf(&quot;  x = %,d%n&quot;, x);\r\n        for (y = x + 1; y &lt; names.size(); y++) {\r\n            out.printf(&quot;    y = %,d%n&quot;, y);\r\n            out.printf(&quot;    x - y = %,d%n&quot;, names.get(x).compareTo(names.get(y)));\r\n            if (names.get(x).compareTo(names.get(y)) &gt; 0) {\r\n                temp = names.get(x);\r\n                out.printf(&quot;      temp = &#39;%s&#39;%n&quot;, temp);\r\n                names.set(x, names.get(y));\r\n                names.set(y, temp);\r\n                out.printf(&quot;      swapped %,d and %,d%n&quot;, x, y);\r\n            }\r\n        }\r\n        out.printf(&quot;  y = %,d%n&quot;, y);\r\n    }\r\n    out.printf(&quot;x = %,d%n&quot;, x);\r\n    return null;\r\n}\r\n```\r\n\r\nHere is the output for _a, b, c_.\r\n\r\n```none\r\nnames = 3, [a, b, c]\r\n  x = 0\r\n    y = 1\r\n    x - y = -1\r\n    y = 2\r\n    x - y = -2\r\n  y = 3\r\n  x = 1\r\n    y = 2\r\n    x - y = -1\r\n  y = 3\r\nx = 2\r\n```\r\n\r\nHere is _c, b, a_.\r\n\r\n```none\r\nnames = 3, [c, b, a]\r\n  x = 0\r\n    y = 1\r\n    x - y = 1\r\n      temp = &#39;c&#39;\r\n      swapped 0 and 1\r\n    y = 2\r\n    x - y = 1\r\n      temp = &#39;b&#39;\r\n      swapped 0 and 2\r\n  y = 3\r\n  x = 1\r\n    y = 2\r\n    x - y = 1\r\n      temp = &#39;c&#39;\r\n      swapped 1 and 2\r\n  y = 3\r\nx = 2\r\n```\r\n\r\nAnd, here is a random sequence.\r\n\r\n```none\r\nnames = 10, [i, p, z, p, w, p, a, x, r, m]\r\n  x = 0\r\n    y = 1\r\n    x - y = -7\r\n    y = 2\r\n    x - y = -17\r\n    y = 3\r\n    x - y = -7\r\n    y = 4\r\n    x - y = -14\r\n    y = 5\r\n    x - y = -7\r\n    y = 6\r\n    x - y = 8\r\n      temp = &#39;i&#39;\r\n      swapped 0 and 6\r\n    y = 7\r\n    x - y = -23\r\n    y = 8\r\n    x - y = -17\r\n    y = 9\r\n    x - y = -12\r\n  y = 10\r\n  x = 1\r\n    y = 2\r\n    x - y = -10\r\n    y = 3\r\n    x - y = 0\r\n    y = 4\r\n    x - y = -7\r\n    y = 5\r\n    x - y = 0\r\n    y = 6\r\n    x - y = 7\r\n      temp = &#39;p&#39;\r\n      swapped 1 and 6\r\n    y = 7\r\n    x - y = -15\r\n    y = 8\r\n    x - y = -9\r\n    y = 9\r\n    x - y = -4\r\n  y = 10\r\n  x = 2\r\n    y = 3\r\n    x - y = 10\r\n      temp = &#39;z&#39;\r\n      swapped 2 and 3\r\n    y = 4\r\n    x - y = -7\r\n    y = 5\r\n    x - y = 0\r\n    y = 6\r\n    x - y = 0\r\n    y = 7\r\n    x - y = -8\r\n    y = 8\r\n    x - y = -2\r\n    y = 9\r\n    x - y = 3\r\n      temp = &#39;p&#39;\r\n      swapped 2 and 9\r\n  y = 10\r\n  x = 3\r\n    y = 4\r\n    x - y = 3\r\n      temp = &#39;z&#39;\r\n      swapped 3 and 4\r\n    y = 5\r\n    x - y = 7\r\n      temp = &#39;w&#39;\r\n      swapped 3 and 5\r\n    y = 6\r\n    x - y = 0\r\n    y = 7\r\n    x - y = -8\r\n    y = 8\r\n    x - y = -2\r\n    y = 9\r\n    x - y = 0\r\n  y = 10\r\n  x = 4\r\n    y = 5\r\n    x - y = 3\r\n      temp = &#39;z&#39;\r\n      swapped 4 and 5\r\n    y = 6\r\n    x - y = 7\r\n      temp = &#39;w&#39;\r\n      swapped 4 and 6\r\n    y = 7\r\n    x - y = -8\r\n    y = 8\r\n    x - y = -2\r\n    y = 9\r\n    x - y = 0\r\n  y = 10\r\n  x = 5\r\n    y = 6\r\n    x - y = 3\r\n      temp = &#39;z&#39;\r\n      swapped 5 and 6\r\n    y = 7\r\n    x - y = -1\r\n    y = 8\r\n    x - y = 5\r\n      temp = &#39;w&#39;\r\n      swapped 5 and 8\r\n    y = 9\r\n    x - y = 2\r\n      temp = &#39;r&#39;\r\n      swapped 5 and 9\r\n  y = 10\r\n  x = 6\r\n    y = 7\r\n    x - y = 2\r\n      temp = &#39;z&#39;\r\n      swapped 6 and 7\r\n    y = 8\r\n    x - y = 1\r\n      temp = &#39;x&#39;\r\n      swapped 6 and 8\r\n    y = 9\r\n    x - y = 5\r\n      temp = &#39;w&#39;\r\n      swapped 6 and 9\r\n  y = 10\r\n  x = 7\r\n    y = 8\r\n    x - y = 2\r\n      temp = &#39;z&#39;\r\n      swapped 7 and 8\r\n    y = 9\r\n    x - y = 1\r\n      temp = &#39;x&#39;\r\n      swapped 7 and 9\r\n  y = 10\r\n  x = 8\r\n    y = 9\r\n    x - y = 2\r\n      temp = &#39;z&#39;\r\n      swapped 8 and 9\r\n  y = 10\r\nx = 9\r\n```\r\n\r\nAs a final example, here are both codes merged.\r\n\r\n```java\r\npublic static Stats bubbleSort(List&lt;String&gt; names) {\r\n    out.printf(&quot;names = %,d, %s%n&quot;, names.size(), names);\r\n    Stats stats = new Stats();\r\n    stats.assignments++;\r\n    stats.newObjects++;\r\n    out.printf(&quot;stats = %n%s&quot;, stats.toString().indent(2));\r\n    String temp = null;\r\n    out.println(&quot;temp = &quot; + temp);\r\n    int x, y;\r\n    for (x = 0; x &lt; names.size() - 1; x++) {\r\n        stats.calls++;\r\n        stats.unaryOps++;\r\n        out.printf(&quot;  x = %,d%n&quot;, x);\r\n        for (y = x + 1; y &lt; names.size(); y++) {\r\n            stats.calls++;\r\n            stats.unaryOps++;\r\n            out.printf(&quot;    y = %,d%n&quot;, y);\r\n            out.printf(&quot;    x - y = %,d%n&quot;, names.get(x).compareTo(names.get(y)));\r\n            if (names.get(x).compareTo(names.get(y)) &gt; 0) {\r\n                stats.calls += 3;\r\n                temp = names.get(x);\r\n                stats.calls++;\r\n                out.printf(&quot;      temp = &#39;%s&#39;%n&quot;, temp);\r\n                names.set(x, names.get(y));\r\n                names.set(y, temp);\r\n                stats.calls += 3;\r\n                out.printf(&quot;      swapped %,d and %,d%n&quot;, x, y);\r\n            }\r\n        }\r\n        stats.assignments++;\r\n        stats.calls++;\r\n        stats.unaryOps++;\r\n        out.println(&quot;  y = &quot; + y);\r\n    }\r\n    stats.assignments++;\r\n    stats.calls++;\r\n    stats.unaryOps++;\r\n    out.println(&quot;x = &quot; + x);\r\n    out.printf(&quot;stats = %n%s&quot;, stats.toString().indent(2));\r\n    return null;\r\n}\r\n```\r\n\r\nAnd, here is the output for the same lists.\r\n\r\n```none\r\nnames = 3, [a, b, c]\r\nstats = \r\n  assignments=1\r\n  unaryOps=0\r\n  calls=0\r\n  newObjects=1\r\ntemp = null\r\n  x = 0\r\n    y = 1\r\n    x - y = -1\r\n    y = 2\r\n    x - y = -2\r\n  y = 3\r\n  x = 1\r\n    y = 2\r\n    x - y = -1\r\n  y = 3\r\nx = 2\r\nstats = \r\n  assignments=4\r\n  unaryOps=8\r\n  calls=8\r\n  newObjects=1\r\n\r\nnames = 3, [c, b, a]\r\nstats = \r\n  assignments=1\r\n  unaryOps=0\r\n  calls=0\r\n  newObjects=1\r\ntemp = null\r\n  x = 0\r\n    y = 1\r\n    x - y = 1\r\n      temp = &#39;c&#39;\r\n      swapped 0 and 1\r\n    y = 2\r\n    x - y = 1\r\n      temp = &#39;b&#39;\r\n      swapped 0 and 2\r\n  y = 3\r\n  x = 1\r\n    y = 2\r\n    x - y = 1\r\n      temp = &#39;c&#39;\r\n      swapped 1 and 2\r\n  y = 3\r\nx = 2\r\nstats = \r\n  assignments=4\r\n  unaryOps=8\r\n  calls=29\r\n  newObjects=1\r\n\r\nnames = 10, [d, w, n, u, y, d, s, f, i, s]\r\nstats = \r\n  assignments=1\r\n  unaryOps=0\r\n  calls=0\r\n  newObjects=1\r\ntemp = null\r\n  x = 0\r\n    y = 1\r\n    x - y = -19\r\n    y = 2\r\n    x - y = -10\r\n    y = 3\r\n    x - y = -17\r\n    y = 4\r\n    x - y = -21\r\n    y = 5\r\n    x - y = 0\r\n    y = 6\r\n    x - y = -15\r\n    y = 7\r\n    x - y = -2\r\n    y = 8\r\n    x - y = -5\r\n    y = 9\r\n    x - y = -15\r\n  y = 10\r\n  x = 1\r\n    y = 2\r\n    x - y = 9\r\n      temp = &#39;w&#39;\r\n      swapped 1 and 2\r\n    y = 3\r\n    x - y = -7\r\n    y = 4\r\n    x - y = -11\r\n    y = 5\r\n    x - y = 10\r\n      temp = &#39;n&#39;\r\n      swapped 1 and 5\r\n    y = 6\r\n    x - y = -15\r\n    y = 7\r\n    x - y = -2\r\n    y = 8\r\n    x - y = -5\r\n    y = 9\r\n    x - y = -15\r\n  y = 10\r\n  x = 2\r\n    y = 3\r\n    x - y = 2\r\n      temp = &#39;w&#39;\r\n      swapped 2 and 3\r\n    y = 4\r\n    x - y = -4\r\n    y = 5\r\n    x - y = 7\r\n      temp = &#39;u&#39;\r\n      swapped 2 and 5\r\n    y = 6\r\n    x - y = -5\r\n    y = 7\r\n    x - y = 8\r\n      temp = &#39;n&#39;\r\n      swapped 2 and 7\r\n    y = 8\r\n    x - y = -3\r\n    y = 9\r\n    x - y = -13\r\n  y = 10\r\n  x = 3\r\n    y = 4\r\n    x - y = -2\r\n    y = 5\r\n    x - y = 2\r\n      temp = &#39;w&#39;\r\n      swapped 3 and 5\r\n    y = 6\r\n    x - y = 2\r\n      temp = &#39;u&#39;\r\n      swapped 3 and 6\r\n    y = 7\r\n    x - y = 5\r\n      temp = &#39;s&#39;\r\n      swapped 3 and 7\r\n    y = 8\r\n    x - y = 5\r\n      temp = &#39;n&#39;\r\n      swapped 3 and 8\r\n    y = 9\r\n    x - y = -10\r\n  y = 10\r\n  x = 4\r\n    y = 5\r\n    x - y = 2\r\n      temp = &#39;y&#39;\r\n      swapped 4 and 5\r\n    y = 6\r\n    x - y = 2\r\n      temp = &#39;w&#39;\r\n      swapped 4 and 6\r\n    y = 7\r\n    x - y = 2\r\n      temp = &#39;u&#39;\r\n      swapped 4 and 7\r\n    y = 8\r\n    x - y = 5\r\n      temp = &#39;s&#39;\r\n      swapped 4 and 8\r\n    y = 9\r\n    x - y = -5\r\n  y = 10\r\n  x = 5\r\n    y = 6\r\n    x - y = 2\r\n      temp = &#39;y&#39;\r\n      swapped 5 and 6\r\n    y = 7\r\n    x - y = 2\r\n      temp = &#39;w&#39;\r\n      swapped 5 and 7\r\n    y = 8\r\n    x - y = 2\r\n      temp = &#39;u&#39;\r\n      swapped 5 and 8\r\n    y = 9\r\n    x - y = 0\r\n  y = 10\r\n  x = 6\r\n    y = 7\r\n    x - y = 2\r\n      temp = &#39;y&#39;\r\n      swapped 6 and 7\r\n    y = 8\r\n    x - y = 2\r\n      temp = &#39;w&#39;\r\n      swapped 6 and 8\r\n    y = 9\r\n    x - y = 2\r\n      temp = &#39;u&#39;\r\n      swapped 6 and 9\r\n  y = 10\r\n  x = 7\r\n    y = 8\r\n    x - y = 2\r\n      temp = &#39;y&#39;\r\n      swapped 7 and 8\r\n    y = 9\r\n    x - y = 2\r\n      temp = &#39;w&#39;\r\n      swapped 7 and 9\r\n  y = 10\r\n  x = 8\r\n    y = 9\r\n    x - y = 2\r\n      temp = &#39;y&#39;\r\n      swapped 8 and 9\r\n  y = 10\r\nx = 9\r\nstats = \r\n  assignments=11\r\n  unaryOps=64\r\n  calls=218\r\n  newObjects=1\r\n```","title":"How to count how many times a loop condition is checked","body":"<blockquote>\n<p><em>&quot;... I am working on a program that would count how many statements are executed in an algorithm. I am not able to count when the inside loop condition turns to false. ...&quot;</em></p>\n</blockquote>\n<p><em>Java</em> defines a <em>statement</em> as the following.</p>\n<p><em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html\" rel=\"nofollow noreferrer\">Expressions, Statements, and Blocks (The Java Tutorials &gt; Learning the Java Language &gt; Language Basics)</a></em>.</p>\n<blockquote>\n<p><em>&quot;Statements are roughly equivalent to sentences in natural languages. A statement forms a complete unit of execution. The following types of expressions can be made into a statement by terminating the expression with a semicolon (;).</em></p>\n<ul>\n<li><em>Assignment expressions</em></li>\n<li><em>Any use of ++ or --</em></li>\n<li><em>Method invocations</em></li>\n<li><em>Object creation expressions</em>&quot;</li>\n</ul>\n</blockquote>\n<p>So, I would use the following for the <em>Stats</em> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Stats {\n    int assignments, unaryOps, calls, newObjects;\n\n    @Override\n    public String toString() {\n        return\n              &quot;assignments=%,d%n&quot;.formatted(assignments)\n            + &quot;unaryOps=%,d%n&quot;.formatted(unaryOps)\n            + &quot;calls=%,d%n&quot;.formatted(calls)\n            + &quot;newObjects=%,d&quot;.formatted(newObjects);\n    }\n}\n</code></pre>\n<p>And, for the procedure, I'd count the values like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Stats bubbleSort(List&lt;String&gt; names) {\n    Stats stats = new Stats();\n    stats.assignments++;\n    stats.newObjects++;\n    String temp;\n    for (int x = 0; x &lt; names.size() - 1; x++) {\n        stats.calls++;\n        stats.unaryOps++;\n        for (int y = x + 1; y &lt; names.size(); y++) {\n            stats.calls++;\n            stats.unaryOps++;\n            if (names.get(x).compareTo(names.get(y)) &gt; 0) {\n                stats.calls += 3;\n                temp = names.get(x);\n                stats.assignments++;\n                stats.calls++;\n                names.set(x, names.get(y));\n                names.set(y, temp);\n                stats.calls += 3;\n            }\n        }\n        stats.assignments++;\n        stats.calls++;\n        stats.unaryOps++;\n    }\n    stats.assignments++;\n    stats.calls++;\n    stats.unaryOps++;\n    return stats;\n}\n</code></pre>\n<p>Here is the output for a 3 item list, <em>&quot;a&quot;, &quot;b&quot;, &quot;c&quot;</em>, once forward and once backward.</p>\n<pre class=\"lang-java prettyprint-override\"><code>assignments=4\nunaryOps=8\ncalls=8\nnewObjects=1\n\nassignments=7\nunaryOps=8\ncalls=29\nnewObjects=1\n</code></pre>\n<blockquote>\n<p><em>&quot;...  The problem is when I am testing it with a List composed of three elements, the loop condition statements are only 6 in the best case scenario. Although, when I manually count it should be 8. What could be causing this? ...&quot;</em></p>\n</blockquote>\n<p>You'll need to increment <em>stats.conditionStatements</em> after the <em>for-loop</em>, additionally.<br />\nAlso, I don't think you're counting the <em>if</em> statement, which is a <em>conditional-statement</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int x = 0; x &lt; names.size() - 1; x++) {\n    for (int y = x + 1; y &lt; names.size(); y++) {\n        if (names.get(x).compareTo(names.get(y)) &gt; 0) {\n        }\n        stats.conditionStatements += 2;\n    }\n    stats.conditionStatements += 2;\n}\nstats.conditionStatements += 1;\n</code></pre>\n<p>As a solution, to visualize the <em>loop</em> execution, and the state of the variables, just print their values.<br />\nI typically indent the output for each <em>scope</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Stats bubbleSort(List&lt;String&gt; names) {\n    out.printf(&quot;names = %,d, %s%n&quot;, names.size(), names);\n // Stats stats = new Stats();\n    String temp;\n    int x, y;\n    for (x = 0; x &lt; names.size() - 1; x++) {\n        out.printf(&quot;  x = %,d%n&quot;, x);\n        for (y = x + 1; y &lt; names.size(); y++) {\n            out.printf(&quot;    y = %,d%n&quot;, y);\n            out.printf(&quot;    x - y = %,d%n&quot;, names.get(x).compareTo(names.get(y)));\n            if (names.get(x).compareTo(names.get(y)) &gt; 0) {\n                temp = names.get(x);\n                out.printf(&quot;      temp = '%s'%n&quot;, temp);\n                names.set(x, names.get(y));\n                names.set(y, temp);\n                out.printf(&quot;      swapped %,d and %,d%n&quot;, x, y);\n            }\n        }\n        out.printf(&quot;  y = %,d%n&quot;, y);\n    }\n    out.printf(&quot;x = %,d%n&quot;, x);\n    return null;\n}\n</code></pre>\n<p>Here is the output for <em>a, b, c</em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>names = 3, [a, b, c]\n  x = 0\n    y = 1\n    x - y = -1\n    y = 2\n    x - y = -2\n  y = 3\n  x = 1\n    y = 2\n    x - y = -1\n  y = 3\nx = 2\n</code></pre>\n<p>Here is <em>c, b, a</em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>names = 3, [c, b, a]\n  x = 0\n    y = 1\n    x - y = 1\n      temp = 'c'\n      swapped 0 and 1\n    y = 2\n    x - y = 1\n      temp = 'b'\n      swapped 0 and 2\n  y = 3\n  x = 1\n    y = 2\n    x - y = 1\n      temp = 'c'\n      swapped 1 and 2\n  y = 3\nx = 2\n</code></pre>\n<p>And, here is a random sequence.</p>\n<pre class=\"lang-none prettyprint-override\"><code>names = 10, [i, p, z, p, w, p, a, x, r, m]\n  x = 0\n    y = 1\n    x - y = -7\n    y = 2\n    x - y = -17\n    y = 3\n    x - y = -7\n    y = 4\n    x - y = -14\n    y = 5\n    x - y = -7\n    y = 6\n    x - y = 8\n      temp = 'i'\n      swapped 0 and 6\n    y = 7\n    x - y = -23\n    y = 8\n    x - y = -17\n    y = 9\n    x - y = -12\n  y = 10\n  x = 1\n    y = 2\n    x - y = -10\n    y = 3\n    x - y = 0\n    y = 4\n    x - y = -7\n    y = 5\n    x - y = 0\n    y = 6\n    x - y = 7\n      temp = 'p'\n      swapped 1 and 6\n    y = 7\n    x - y = -15\n    y = 8\n    x - y = -9\n    y = 9\n    x - y = -4\n  y = 10\n  x = 2\n    y = 3\n    x - y = 10\n      temp = 'z'\n      swapped 2 and 3\n    y = 4\n    x - y = -7\n    y = 5\n    x - y = 0\n    y = 6\n    x - y = 0\n    y = 7\n    x - y = -8\n    y = 8\n    x - y = -2\n    y = 9\n    x - y = 3\n      temp = 'p'\n      swapped 2 and 9\n  y = 10\n  x = 3\n    y = 4\n    x - y = 3\n      temp = 'z'\n      swapped 3 and 4\n    y = 5\n    x - y = 7\n      temp = 'w'\n      swapped 3 and 5\n    y = 6\n    x - y = 0\n    y = 7\n    x - y = -8\n    y = 8\n    x - y = -2\n    y = 9\n    x - y = 0\n  y = 10\n  x = 4\n    y = 5\n    x - y = 3\n      temp = 'z'\n      swapped 4 and 5\n    y = 6\n    x - y = 7\n      temp = 'w'\n      swapped 4 and 6\n    y = 7\n    x - y = -8\n    y = 8\n    x - y = -2\n    y = 9\n    x - y = 0\n  y = 10\n  x = 5\n    y = 6\n    x - y = 3\n      temp = 'z'\n      swapped 5 and 6\n    y = 7\n    x - y = -1\n    y = 8\n    x - y = 5\n      temp = 'w'\n      swapped 5 and 8\n    y = 9\n    x - y = 2\n      temp = 'r'\n      swapped 5 and 9\n  y = 10\n  x = 6\n    y = 7\n    x - y = 2\n      temp = 'z'\n      swapped 6 and 7\n    y = 8\n    x - y = 1\n      temp = 'x'\n      swapped 6 and 8\n    y = 9\n    x - y = 5\n      temp = 'w'\n      swapped 6 and 9\n  y = 10\n  x = 7\n    y = 8\n    x - y = 2\n      temp = 'z'\n      swapped 7 and 8\n    y = 9\n    x - y = 1\n      temp = 'x'\n      swapped 7 and 9\n  y = 10\n  x = 8\n    y = 9\n    x - y = 2\n      temp = 'z'\n      swapped 8 and 9\n  y = 10\nx = 9\n</code></pre>\n<p>As a final example, here are both codes merged.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Stats bubbleSort(List&lt;String&gt; names) {\n    out.printf(&quot;names = %,d, %s%n&quot;, names.size(), names);\n    Stats stats = new Stats();\n    stats.assignments++;\n    stats.newObjects++;\n    out.printf(&quot;stats = %n%s&quot;, stats.toString().indent(2));\n    String temp = null;\n    out.println(&quot;temp = &quot; + temp);\n    int x, y;\n    for (x = 0; x &lt; names.size() - 1; x++) {\n        stats.calls++;\n        stats.unaryOps++;\n        out.printf(&quot;  x = %,d%n&quot;, x);\n        for (y = x + 1; y &lt; names.size(); y++) {\n            stats.calls++;\n            stats.unaryOps++;\n            out.printf(&quot;    y = %,d%n&quot;, y);\n            out.printf(&quot;    x - y = %,d%n&quot;, names.get(x).compareTo(names.get(y)));\n            if (names.get(x).compareTo(names.get(y)) &gt; 0) {\n                stats.calls += 3;\n                temp = names.get(x);\n                stats.calls++;\n                out.printf(&quot;      temp = '%s'%n&quot;, temp);\n                names.set(x, names.get(y));\n                names.set(y, temp);\n                stats.calls += 3;\n                out.printf(&quot;      swapped %,d and %,d%n&quot;, x, y);\n            }\n        }\n        stats.assignments++;\n        stats.calls++;\n        stats.unaryOps++;\n        out.println(&quot;  y = &quot; + y);\n    }\n    stats.assignments++;\n    stats.calls++;\n    stats.unaryOps++;\n    out.println(&quot;x = &quot; + x);\n    out.printf(&quot;stats = %n%s&quot;, stats.toString().indent(2));\n    return null;\n}\n</code></pre>\n<p>And, here is the output for the same lists.</p>\n<pre class=\"lang-none prettyprint-override\"><code>names = 3, [a, b, c]\nstats = \n  assignments=1\n  unaryOps=0\n  calls=0\n  newObjects=1\ntemp = null\n  x = 0\n    y = 1\n    x - y = -1\n    y = 2\n    x - y = -2\n  y = 3\n  x = 1\n    y = 2\n    x - y = -1\n  y = 3\nx = 2\nstats = \n  assignments=4\n  unaryOps=8\n  calls=8\n  newObjects=1\n\nnames = 3, [c, b, a]\nstats = \n  assignments=1\n  unaryOps=0\n  calls=0\n  newObjects=1\ntemp = null\n  x = 0\n    y = 1\n    x - y = 1\n      temp = 'c'\n      swapped 0 and 1\n    y = 2\n    x - y = 1\n      temp = 'b'\n      swapped 0 and 2\n  y = 3\n  x = 1\n    y = 2\n    x - y = 1\n      temp = 'c'\n      swapped 1 and 2\n  y = 3\nx = 2\nstats = \n  assignments=4\n  unaryOps=8\n  calls=29\n  newObjects=1\n\nnames = 10, [d, w, n, u, y, d, s, f, i, s]\nstats = \n  assignments=1\n  unaryOps=0\n  calls=0\n  newObjects=1\ntemp = null\n  x = 0\n    y = 1\n    x - y = -19\n    y = 2\n    x - y = -10\n    y = 3\n    x - y = -17\n    y = 4\n    x - y = -21\n    y = 5\n    x - y = 0\n    y = 6\n    x - y = -15\n    y = 7\n    x - y = -2\n    y = 8\n    x - y = -5\n    y = 9\n    x - y = -15\n  y = 10\n  x = 1\n    y = 2\n    x - y = 9\n      temp = 'w'\n      swapped 1 and 2\n    y = 3\n    x - y = -7\n    y = 4\n    x - y = -11\n    y = 5\n    x - y = 10\n      temp = 'n'\n      swapped 1 and 5\n    y = 6\n    x - y = -15\n    y = 7\n    x - y = -2\n    y = 8\n    x - y = -5\n    y = 9\n    x - y = -15\n  y = 10\n  x = 2\n    y = 3\n    x - y = 2\n      temp = 'w'\n      swapped 2 and 3\n    y = 4\n    x - y = -4\n    y = 5\n    x - y = 7\n      temp = 'u'\n      swapped 2 and 5\n    y = 6\n    x - y = -5\n    y = 7\n    x - y = 8\n      temp = 'n'\n      swapped 2 and 7\n    y = 8\n    x - y = -3\n    y = 9\n    x - y = -13\n  y = 10\n  x = 3\n    y = 4\n    x - y = -2\n    y = 5\n    x - y = 2\n      temp = 'w'\n      swapped 3 and 5\n    y = 6\n    x - y = 2\n      temp = 'u'\n      swapped 3 and 6\n    y = 7\n    x - y = 5\n      temp = 's'\n      swapped 3 and 7\n    y = 8\n    x - y = 5\n      temp = 'n'\n      swapped 3 and 8\n    y = 9\n    x - y = -10\n  y = 10\n  x = 4\n    y = 5\n    x - y = 2\n      temp = 'y'\n      swapped 4 and 5\n    y = 6\n    x - y = 2\n      temp = 'w'\n      swapped 4 and 6\n    y = 7\n    x - y = 2\n      temp = 'u'\n      swapped 4 and 7\n    y = 8\n    x - y = 5\n      temp = 's'\n      swapped 4 and 8\n    y = 9\n    x - y = -5\n  y = 10\n  x = 5\n    y = 6\n    x - y = 2\n      temp = 'y'\n      swapped 5 and 6\n    y = 7\n    x - y = 2\n      temp = 'w'\n      swapped 5 and 7\n    y = 8\n    x - y = 2\n      temp = 'u'\n      swapped 5 and 8\n    y = 9\n    x - y = 0\n  y = 10\n  x = 6\n    y = 7\n    x - y = 2\n      temp = 'y'\n      swapped 6 and 7\n    y = 8\n    x - y = 2\n      temp = 'w'\n      swapped 6 and 8\n    y = 9\n    x - y = 2\n      temp = 'u'\n      swapped 6 and 9\n  y = 10\n  x = 7\n    y = 8\n    x - y = 2\n      temp = 'y'\n      swapped 7 and 8\n    y = 9\n    x - y = 2\n      temp = 'w'\n      swapped 7 and 9\n  y = 10\n  x = 8\n    y = 9\n    x - y = 2\n      temp = 'y'\n      swapped 8 and 9\n  y = 10\nx = 9\nstats = \n  assignments=11\n  unaryOps=64\n  calls=218\n  newObjects=1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24764960,"reputation":11,"user_id":18648894,"display_name":"bebo969"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693761805,"creation_date":1693761805,"answer_id":77033443,"question_id":77031109,"body_markdown":"The correct counting of the conditions:\r\n\r\n    for (int x = 0; x &lt; names.size() - 1; x++) {\r\n        for (int y = x + 1; y &lt; names.size(); y++) {\r\n            if (names.get(x).compareTo(names.get(y)) &gt; 0) {\r\n            }\r\n            stats.conditionStatements += 1;\r\n        }\r\n        stats.conditionStatements += 2;\r\n    }\r\n    stats.conditionStatements += 1;\r\n\r\n\r\nWithin the inner loop, we count the true condition, so we increase the counter by one there. Outside of the inner cycle, but within the outer cycle, we count also the true condition of the outer cycle and the false condition that causes exit from the inner cycle. Therefore, the counter must be increased by two there. Finally, after the outer loop, we increase it by one again, because of the false condition only.","title":"How to count how many times a loop condition is checked","body":"<p>The correct counting of the conditions:</p>\n<pre><code>for (int x = 0; x &lt; names.size() - 1; x++) {\n    for (int y = x + 1; y &lt; names.size(); y++) {\n        if (names.get(x).compareTo(names.get(y)) &gt; 0) {\n        }\n        stats.conditionStatements += 1;\n    }\n    stats.conditionStatements += 2;\n}\nstats.conditionStatements += 1;\n</code></pre>\n<p>Within the inner loop, we count the true condition, so we increase the counter by one there. Outside of the inner cycle, but within the outer cycle, we count also the true condition of the outer cycle and the false condition that causes exit from the inner cycle. Therefore, the counter must be increased by two there. Finally, after the outer loop, we increase it by one again, because of the false condition only.</p>\n"}],"owner":{"account_id":28640020,"reputation":1,"user_id":21929324,"display_name":"Sheryn C"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693777603,"creation_date":1693721682,"question_id":77031109,"body_markdown":"I am working on a program that would count how many statements are executed in an algorithm. I am not able to count when the inside loop condition turns to false.\r\n\r\nCurrently, I am working on a program that counts the number of executed statements in a bubble sort algorithm. Here is my current method: \r\n\r\n```\r\npublic static Stats bubbleSort(List&lt;String&gt; names) {\r\n    Stats stats = new Stats();\r\n    for (int x = 0; x &lt; names.size() - 1; x++) {\r\n        for (int y = x + 1; y &lt; names.size(); y++) {\r\n            if (names.get(x).compareTo(names.get(y)) &gt; 0) {\r\n                String temp = names.get(x);\r\n                names.set(x, names.get(y));\r\n                names.set(y, temp);\r\n                stats.inLineStatements += 3;\r\n            }\r\n            stats.ifStatements += 1;\r\n            stats.updateExpressionStatements += 1;\r\n            stats.conditionStatements += 1;\r\n        }\r\n        stats.updateExpressionStatements += 1;\r\n        stats.conditionStatements += 1;\r\n    }\r\n    stats.conditionStatements += 1;\r\n    stats.initializationExpressionStatements += 2;\r\n    return stats;\r\n}\r\n```\r\nI made a Stats class containing the different statements to be counted. The problem is when I am testing it with a List composed of three elements, the loop condition statements are only 6 in the best case scenario. Although, when I manually count it should be 8. What could be causing this? I am suspecting that it has something to do with the inner loop not being counted although I am not quite sure. \r\n\r\nHere is an example of a sample run:\r\n\r\n```none\r\nBubble Sort: \r\nInitialization Statements (For Loop): \t2\r\nLoop Condition Statements: \t6\r\nIf Statements: \t3\r\nIn Line Statements: \t0\r\nUpdate Expression Statements (For Loop): \t5\r\nTotal Statements: \t16\r\n```","title":"How to count how many times a loop condition is checked","body":"<p>I am working on a program that would count how many statements are executed in an algorithm. I am not able to count when the inside loop condition turns to false.</p>\n<p>Currently, I am working on a program that counts the number of executed statements in a bubble sort algorithm. Here is my current method:</p>\n<pre><code>public static Stats bubbleSort(List&lt;String&gt; names) {\n    Stats stats = new Stats();\n    for (int x = 0; x &lt; names.size() - 1; x++) {\n        for (int y = x + 1; y &lt; names.size(); y++) {\n            if (names.get(x).compareTo(names.get(y)) &gt; 0) {\n                String temp = names.get(x);\n                names.set(x, names.get(y));\n                names.set(y, temp);\n                stats.inLineStatements += 3;\n            }\n            stats.ifStatements += 1;\n            stats.updateExpressionStatements += 1;\n            stats.conditionStatements += 1;\n        }\n        stats.updateExpressionStatements += 1;\n        stats.conditionStatements += 1;\n    }\n    stats.conditionStatements += 1;\n    stats.initializationExpressionStatements += 2;\n    return stats;\n}\n</code></pre>\n<p>I made a Stats class containing the different statements to be counted. The problem is when I am testing it with a List composed of three elements, the loop condition statements are only 6 in the best case scenario. Although, when I manually count it should be 8. What could be causing this? I am suspecting that it has something to do with the inner loop not being counted although I am not quite sure.</p>\n<p>Here is an example of a sample run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Bubble Sort: \nInitialization Statements (For Loop):   2\nLoop Condition Statements:  6\nIf Statements:  3\nIn Line Statements:     0\nUpdate Expression Statements (For Loop):    5\nTotal Statements:   16\n</code></pre>\n"},{"tags":["java","mysql","hibernate","spring-mvc","maven-3"],"comments":[{"owner":{"account_id":7292926,"reputation":715,"user_id":5558746,"accept_rate":86,"display_name":"Ghost Rider"},"score":0,"creation_date":1487436110,"post_id":42317566,"comment_id":71788973,"body_markdown":"I have added &quot;Transactional&quot; annotation to all the methods of PersonServiceImpl method which is again annotated with &quot;@Service&quot; at class level.","body":"I have added &quot;Transactional&quot; annotation to all the methods of PersonServiceImpl method which is again annotated with &quot;@Service&quot; at class level."},{"owner":{"account_id":4563058,"reputation":9186,"user_id":3704831,"accept_rate":78,"display_name":"wogsland"},"score":0,"creation_date":1487437491,"post_id":42317566,"comment_id":71789426,"body_markdown":"Suggested Reading: [How to create a Minimal, Complete, and Verifiable example](http://stackoverflow.com/help/mcve)","body":"Suggested Reading: <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>"},{"owner":{"account_id":285638,"reputation":10283,"user_id":584420,"accept_rate":60,"display_name":"James Jithin"},"score":0,"creation_date":1487443760,"post_id":42317566,"comment_id":71791708,"body_markdown":"Please share your sample Java JDBC connection you tried.","body":"Please share your sample Java JDBC connection you tried."}],"answers":[{"comments":[{"owner":{"account_id":1714975,"reputation":20238,"user_id":1572269,"accept_rate":43,"display_name":"Naros"},"score":0,"creation_date":1487447726,"post_id":42318242,"comment_id":71793168,"body_markdown":"Or simply remove the `personService` bean definition from the XML.  He&#39;s already annotating it with `@Service` and has setup component scanning.  He shouldn&#39;t have to do anything else based on his configuration.","body":"Or simply remove the <code>personService</code> bean definition from the XML.  He&#39;s already annotating it with <code>@Service</code> and has setup component scanning.  He shouldn&#39;t have to do anything else based on his configuration."},{"owner":{"account_id":7292926,"reputation":715,"user_id":5558746,"accept_rate":86,"display_name":"Ghost Rider"},"score":0,"creation_date":1487484511,"post_id":42318242,"comment_id":71801483,"body_markdown":"@Naros: I have removed &quot;personService&quot; bean from xml and try to run. I am getting an error. &quot;personController&quot; class is expecting &quot;personService&quot; to be autowired.","body":"@Naros: I have removed &quot;personService&quot; bean from xml and try to run. I am getting an error. &quot;personController&quot; class is expecting &quot;personService&quot; to be autowired."},{"owner":{"account_id":7292926,"reputation":715,"user_id":5558746,"accept_rate":86,"display_name":"Ghost Rider"},"score":0,"creation_date":1487484746,"post_id":42318242,"comment_id":71801530,"body_markdown":"@Maciej Kowalski: I will try updating my code as per your comments and I will post my comments here.","body":"@Maciej Kowalski: I will try updating my code as per your comments and I will post my comments here."},{"owner":{"account_id":7292926,"reputation":715,"user_id":5558746,"accept_rate":86,"display_name":"Ghost Rider"},"score":0,"creation_date":1487493030,"post_id":42318242,"comment_id":71803354,"body_markdown":"@Maciej Kowalski: I have removed the &quot;Transactional&quot; annotation for PersonService and updated my &#39;servlet-context.xml&#39; as above. I still see the same issue. Is there any changes needed at the MySql DB point.","body":"@Maciej Kowalski: I have removed the &quot;Transactional&quot; annotation for PersonService and updated my &#39;servlet-context.xml&#39; as above. I still see the same issue. Is there any changes needed at the MySql DB point."},{"owner":{"account_id":1714975,"reputation":20238,"user_id":1572269,"accept_rate":43,"display_name":"Naros"},"score":0,"creation_date":1487519985,"post_id":42318242,"comment_id":71811487,"body_markdown":"@GhostRider `&lt;context:component-scan base-package=&quot;com.journeldev.spring&quot; /&gt;` basically tells spring to find any annotated `@Component` or its derivative classes and create them as beans.  That is why you shouldn&#39;t need them listed in the XML unless something else is wrong with your Spring setup.","body":"@GhostRider <code>&lt;context:component-scan base-package=&quot;com.journeldev.spring&quot; &#47;&gt;</code> basically tells spring to find any annotated <code>@Component</code> or its derivative classes and create them as beans.  That is why you shouldn&#39;t need them listed in the XML unless something else is wrong with your Spring setup."}],"tags":[],"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487438309,"creation_date":1487438309,"answer_id":42318242,"question_id":42317566,"body_markdown":"You have defined your `personService` in the xml file, but you try to add transactional behaviour to it via annotations. Not 100% sure but i would stick to the xml definitions all the way and add transactional configuration there:\r\n\r\n    &lt;!-- the transactional advice (what &#39;happens&#39;; see the &lt;aop:advisor/&gt; bean below) --&gt;\r\n        &lt;tx:advice id=&quot;txAdvice&quot; transaction-manager=&quot;txManager&quot;&gt;\r\n            &lt;!-- the transactional semantics... --&gt;\r\n            &lt;tx:attributes&gt;\r\n                &lt;!-- all methods starting with &#39;get&#39; are read-only --&gt;\r\n                &lt;tx:method name=&quot;get*&quot; read-only=&quot;true&quot;/&gt;\r\n                &lt;!-- other methods use the default transaction settings (see below) --&gt;\r\n                &lt;tx:method name=&quot;*&quot;/&gt;\r\n            &lt;/tx:attributes&gt;\r\n        &lt;/tx:advice&gt;\r\n    \r\n        &lt;!-- ensure that the above transactional advice runs for any execution\r\n            of an operation defined by the FooService interface --&gt;\r\n        &lt;aop:config&gt;\r\n            &lt;aop:pointcut id=&quot;personServiceOperation&quot; expression=&quot;execution(* com.journeldev.spring.service.PersonServiceImpl.*(..))&quot;/&gt;\r\n            &lt;aop:advisor advice-ref=&quot;txAdvice&quot; pointcut-ref=&quot;personServiceOperation&quot;/&gt;\r\n        &lt;/aop:config&gt;\r\n\r\nAlso remove the @Transactional annotations from the service just in case.\r\n\r\nExample is based on: [Spring Transaction Management Article][1]. It contains information on how to make your entire service layer transactional using xml configuration.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/transaction.html","title":"Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Could not open connection","body":"<p>You have defined your <code>personService</code> in the xml file, but you try to add transactional behaviour to it via annotations. Not 100% sure but i would stick to the xml definitions all the way and add transactional configuration there:</p>\n\n<pre><code>&lt;!-- the transactional advice (what 'happens'; see the &lt;aop:advisor/&gt; bean below) --&gt;\n    &lt;tx:advice id=\"txAdvice\" transaction-manager=\"txManager\"&gt;\n        &lt;!-- the transactional semantics... --&gt;\n        &lt;tx:attributes&gt;\n            &lt;!-- all methods starting with 'get' are read-only --&gt;\n            &lt;tx:method name=\"get*\" read-only=\"true\"/&gt;\n            &lt;!-- other methods use the default transaction settings (see below) --&gt;\n            &lt;tx:method name=\"*\"/&gt;\n        &lt;/tx:attributes&gt;\n    &lt;/tx:advice&gt;\n\n    &lt;!-- ensure that the above transactional advice runs for any execution\n        of an operation defined by the FooService interface --&gt;\n    &lt;aop:config&gt;\n        &lt;aop:pointcut id=\"personServiceOperation\" expression=\"execution(* com.journeldev.spring.service.PersonServiceImpl.*(..))\"/&gt;\n        &lt;aop:advisor advice-ref=\"txAdvice\" pointcut-ref=\"personServiceOperation\"/&gt;\n    &lt;/aop:config&gt;\n</code></pre>\n\n<p>Also remove the @Transactional annotations from the service just in case.</p>\n\n<p>Example is based on: <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/transaction.html\" rel=\"nofollow noreferrer\">Spring Transaction Management Article</a>. It contains information on how to make your entire service layer transactional using xml configuration.</p>\n"},{"comments":[{"owner":{"account_id":7292926,"reputation":715,"user_id":5558746,"accept_rate":86,"display_name":"Ghost Rider"},"score":0,"creation_date":1487483669,"post_id":42318359,"comment_id":71801313,"body_markdown":"I have MySQL WorkBench setup a connection to the DB and it connecting thru Standard(TCP/IP) connection Method.","body":"I have MySQL WorkBench setup a connection to the DB and it connecting thru Standard(TCP/IP) connection Method."},{"owner":{"account_id":5853564,"reputation":1377,"user_id":4611543,"accept_rate":58,"display_name":"Mickers"},"score":0,"creation_date":1606855764,"post_id":42318359,"comment_id":115088216,"body_markdown":"I hadn&#39;t put in the correct server address in my aws environment. This helped me figure out what I did wrong.","body":"I hadn&#39;t put in the correct server address in my aws environment. This helped me figure out what I did wrong."}],"tags":[],"owner":{"account_id":2555788,"reputation":794,"user_id":2217804,"accept_rate":75,"display_name":"raminr"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693777190,"creation_date":1487438948,"answer_id":42318359,"question_id":42317566,"body_markdown":"You should trust the error message: \r\n\r\n&gt; org.hibernate.exception.JDBCConnectionException: Could not open\r\n&gt; connection\r\n\r\nJust because you can connect to the DB using a MySQL client application, doesn&#39;t mean that you can get to the DB over TCP. MySQL can connect over TCP port, or it could connect using pipe. Your MySQL client is probably connecting to the DB using *named pipe*.\r\n\r\nhttps://dev.mysql.com/doc/refman/5.7/en/connecting.html\r\n","title":"Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Could not open connection","body":"<p>You should trust the error message:</p>\n<blockquote>\n<p>org.hibernate.exception.JDBCConnectionException: Could not open\nconnection</p>\n</blockquote>\n<p>Just because you can connect to the DB using a MySQL client application, doesn't mean that you can get to the DB over TCP. MySQL can connect over TCP port, or it could connect using pipe. Your MySQL client is probably connecting to the DB using <em>named pipe</em>.</p>\n<p><a href=\"https://dev.mysql.com/doc/refman/5.7/en/connecting.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/5.7/en/connecting.html</a></p>\n"},{"tags":[],"owner":{"account_id":7292926,"reputation":715,"user_id":5558746,"accept_rate":86,"display_name":"Ghost Rider"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682346978,"creation_date":1487999379,"answer_id":42452216,"question_id":42317566,"body_markdown":"That&#39;s one heck of a mistake that I have done.! I apologize. There is no issue from the code and the xml configuration file.\r\n\r\nInitial Plan: I have MySql setup in a virtual machine and running under port 3306. Plan is to run the application from tomcat instance that is running on my host machine. So, I have initiated port forwarding from host to VM with port 3307-&gt;3306 and a remote user &#39;raju&#39; is created in MySQL to be able to connect from my host(tomcat running in host).\r\n\r\n&gt; Mistake: (because of some inexplicable reasons). I have decided to\r\n&gt; run the application in a separate tomcat instance that is running on\r\n&gt; my Virtual machine. In that case both tomcat and MySQL will be running\r\n&gt; on the same machine.\r\n&gt; \r\n&gt; 1: so there is no need do the PORT FORWARDING I should directly use\r\n&gt; the port 3306.\r\n&gt; \r\n&gt; \r\n&gt; 2: I have granted permission to the current remote user ( &#39;raju&#39; ) to\r\n&gt; have the ability to connect locally as\r\n\r\n    grant all privileges on rajuDB.* to &#39;raju&#39;@&#39;localhost&#39; identified by &#39;XXXX&#39;;\r\n\r\n\r\nFinal Result: Now I am able to fetch the details from database. Everything works as expected.","title":"Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Could not open connection","body":"<p>That's one heck of a mistake that I have done.! I apologize. There is no issue from the code and the xml configuration file.</p>\n<p>Initial Plan: I have MySql setup in a virtual machine and running under port 3306. Plan is to run the application from tomcat instance that is running on my host machine. So, I have initiated port forwarding from host to VM with port 3307-&gt;3306 and a remote user 'raju' is created in MySQL to be able to connect from my host(tomcat running in host).</p>\n<blockquote>\n<p>Mistake: (because of some inexplicable reasons). I have decided to\nrun the application in a separate tomcat instance that is running on\nmy Virtual machine. In that case both tomcat and MySQL will be running\non the same machine.</p>\n<p>1: so there is no need do the PORT FORWARDING I should directly use\nthe port 3306.</p>\n<p>2: I have granted permission to the current remote user ( 'raju' ) to\nhave the ability to connect locally as</p>\n</blockquote>\n<pre><code>grant all privileges on rajuDB.* to 'raju'@'localhost' identified by 'XXXX';\n</code></pre>\n<p>Final Result: Now I am able to fetch the details from database. Everything works as expected.</p>\n"},{"comments":[{"owner":{"account_id":7292926,"reputation":715,"user_id":5558746,"accept_rate":86,"display_name":"Ghost Rider"},"score":0,"creation_date":1594708101,"post_id":61933680,"comment_id":111211513,"body_markdown":"thank you. My problem got solved and I have shared the mistake that i have done. I would suggest you to add your reply as a comment rather than adding as an Answer as there is no potential solution given by you.","body":"thank you. My problem got solved and I have shared the mistake that i have done. I would suggest you to add your reply as a comment rather than adding as an Answer as there is no potential solution given by you."}],"tags":[],"owner":{"account_id":15644115,"reputation":1,"user_id":11286714,"display_name":"Ashutosh Dubey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590061193,"creation_date":1590061193,"answer_id":61933680,"question_id":42317566,"body_markdown":"if you find , every bit of your connection code is correct , then you should check your Mysql Version that should compatible with Spring .\r\nsome of the older version is doesn&#39;t work with Spring latest version.","title":"Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Could not open connection","body":"<p>if you find , every bit of your connection code is correct , then you should check your Mysql Version that should compatible with Spring .\nsome of the older version is doesn't work with Spring latest version.</p>\n"}],"owner":{"account_id":7292926,"reputation":715,"user_id":5558746,"accept_rate":86,"display_name":"Ghost Rider"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28866,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":42452216,"answer_count":4,"score":7,"last_activity_date":1693777190,"creation_date":1487434644,"question_id":42317566,"body_markdown":"I am new to Spring-MVC and Hibernate. Trying to create a test web application with **Spring-MVC(4.0.3)** , **Hibernate(4.3.5)** and using **MySQL** as back end.\r\n\r\nThere is no issue in connecting to the DB as I tried to fetch the data from the same db in a sample testJavaClass by using simple JDBC connection statements and I am able to fetch the records.\r\n\r\nError Log:\r\n\r\n    org.springframework.web.util.NestedServletException: Request processing failed; nested exception is  org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is   org.hibernate.exception.JDBCConnectionException: Could not open connection\r\n\t org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:973)\r\n\torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:852)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:620)\r\n\torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:837)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:727)\r\n    \r\n    root cause\r\n\r\n     org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Could not open connection\r\n\torg.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:515)\r\n\torg.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\r\n\torg.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:420)\r\n\torg.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:257)\r\n\torg.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\r\n\torg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\torg.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n\tcom.sun.proxy.$Proxy130.listPersons(Unknown Source)\r\n\tcom.journeldev.spring.PersonController.listPersons(PersonController.java:29)\r\n\tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tjava.lang.reflect.Method.invoke(Method.java:606)\r\n\torg.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\r\n\torg.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\r\n\torg.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n\torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:749)\r\n\torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:689)\r\n\torg.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:83)\r\n\torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:938)\r\n\torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:870)\r\n\torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:961)\r\n\torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:852)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:620)\r\n\torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:837)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:727)\r\n\r\n\r\nHere is my pom.xml:\r\n\r\n       &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;org.raju.spring&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-mvc-hibernate&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n  \r\n      &lt;properties&gt;\r\n\t\t&lt;java-version&gt;1.7&lt;/java-version&gt;\r\n\t\t&lt;org.springframework-version&gt;4.0.3.RELEASE&lt;/org.springframework-version&gt;\r\n\t\t&lt;org.aspectj-version&gt;1.7.4&lt;/org.aspectj-version&gt;\r\n\t\t&lt;org.slf4j-version&gt;1.7.5&lt;/org.slf4j-version&gt;\r\n\t\t&lt;hibernate.version&gt;4.3.5.Final&lt;/hibernate.version&gt;\r\n\t&lt;/properties&gt;\r\n\t\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n\t\t\t\t &lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- Apache Commons DBCP --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- Spring ORM --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- AspectJ --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.aspectj-version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- Logging --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.15&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jmxri&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- @Inject --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- Servlet --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- Test --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.7&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;5.1.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\t\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\r\n                \t&lt;version&gt;2.9&lt;/version&gt;\r\n                \t&lt;configuration&gt;\r\n                    \t&lt;additionalProjectnatures&gt;\r\n                        \t &lt;projectnature&gt;org.springframework.ide.eclipse.core.springnature&lt;/projectnature&gt;\r\n                    \t&lt;/additionalProjectnatures&gt;\r\n                    \t&lt;additionalBuildcommands&gt;\r\n                        \t&lt;buildcommand&gt;org.springframework.ide.eclipse.core.springbuilder&lt;/buildcommand&gt;\r\n                    \t&lt;/additionalBuildcommands&gt;\r\n                    \t&lt;downloadSources&gt;true&lt;/downloadSources&gt;\r\n                    \t&lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;\r\n                \t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.6&lt;/source&gt;\r\n                    &lt;target&gt;1.6&lt;/target&gt;\r\n                    &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\r\n                    &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n                    &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;org.test.int1.Main&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n\t   &lt;/build&gt;\r\n      &lt;/project&gt;\r\n\r\nProject structure in Eclipse:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nservlet-context.xml: (updated as per the answer by @Maciej Kowalski and I still see the same issue)\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n\t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\r\n\t\thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd http://www.springframework.org/schema/aop\r\n\t\thttp://www.springframework.org/schema/aop/spring-aop-3.0.xsd&quot;&gt;\r\n\r\n\t&lt;!-- DispatcherServlet Context: defines this servlet&#39;s request-processing \r\n\t\tinfrastructure --&gt;\r\n\r\n\t&lt;!-- Enables the Spring MVC @Controller programming model --&gt;\r\n\t&lt;annotation-driven /&gt;\r\n\r\n\t&lt;!-- Handles HTTP GET requests for /resources/** by efficiently serving \r\n\t\tup static resources in the ${webappRoot}/resources directory --&gt;\r\n\t&lt;resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; /&gt;\r\n\r\n\t&lt;!-- Resolves views selected for rendering by @Controllers to .jsp resources \r\n\t\tin the /WEB-INF/views directory --&gt;\r\n\t&lt;beans:bean\r\n\t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;beans:bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;\r\n\t\tdestroy-method=&quot;close&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;url&quot;\r\n\t\t\tvalue=&quot;jdbc:mysql://localhost:3307/rajuDB&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;username&quot; value=&quot;raju&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;password&quot; value=&quot;raju&quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;!-- Hibernate 4 SessionFactory Bean definition --&gt;\r\n\t&lt;beans:bean id=&quot;hibernate4AnnotatedSessionFactory&quot;\r\n\t\tclass=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;annotatedClasses&quot;&gt;\r\n\t\t\t&lt;beans:list&gt;\r\n\t\t\t\t&lt;beans:value&gt;com.journeldev.spring.model.Person&lt;/beans:value&gt;\r\n\t\t\t&lt;/beans:list&gt;\r\n\t\t&lt;/beans:property&gt;\r\n\t\t&lt;beans:property name=&quot;hibernateProperties&quot;&gt;\r\n\t\t\t&lt;beans:props&gt;\r\n\t\t\t\t&lt;beans:prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect\r\n\t\t\t\t&lt;/beans:prop&gt;\r\n\t\t\t\t&lt;beans:prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/beans:prop&gt;\r\n\t\t\t&lt;/beans:props&gt;\r\n\t\t&lt;/beans:property&gt;\r\n\t&lt;/beans:bean&gt;\r\n\t\r\n\t&lt;beans:bean id=&quot;personDAO&quot; class=&quot;com.journeldev.spring.dao.PersonDAOImpl&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;sessionFactory&quot; ref=&quot;hibernate4AnnotatedSessionFactory&quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\t&lt;beans:bean id=&quot;personService&quot; class=&quot;com.journeldev.spring.service.PersonServiceImpl&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;personDAO&quot; ref=&quot;personDAO&quot;&gt;&lt;/beans:property&gt;\r\n\t&lt;/beans:bean&gt;\r\n\t\r\n\t&lt;!-- the transactional advice (what &#39;happens&#39;; see the &lt;aop:advisor/&gt; bean below) --&gt;\r\n    \r\n\t&lt;context:component-scan base-package=&quot;com.journeldev.spring&quot; /&gt;\r\n\t\r\n\t&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;\r\n\t\r\n\t&lt;beans:bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;sessionFactory&quot; ref=&quot;hibernate4AnnotatedSessionFactory&quot; /&gt;\r\n\t &lt;/beans:bean&gt;\r\n\r\n     &lt;tx:advice id=&quot;txAdvice&quot; transaction-manager=&quot;transactionManager&quot;&gt;\r\n        &lt;!-- the transactional semantics... --&gt;\r\n        &lt;tx:attributes&gt;\r\n            &lt;!-- all methods starting with &#39;get&#39; are read-only --&gt;\r\n            &lt;tx:method name=&quot;get*&quot; read-only=&quot;true&quot;/&gt;\r\n            &lt;!-- other methods use the default transaction settings (see below) --&gt;\r\n            &lt;tx:method name=&quot;*&quot;/&gt;\r\n        &lt;/tx:attributes&gt;\r\n     &lt;/tx:advice&gt;\r\n\r\n     &lt;!-- ensure that the above transactional advice runs for any execution\r\n        of an operation defined by the FooService interface --&gt;\r\n     &lt;aop:config&gt;\r\n        &lt;aop:pointcut id=&quot;personServiceOperation&quot; expression=&quot;execution(* com.journeldev.spring.service.PersonServiceImpl.*(..))&quot;/&gt;\r\n        &lt;aop:advisor advice-ref=&quot;txAdvice&quot; pointcut-ref=&quot;personServiceOperation&quot;/&gt;\r\n     &lt;/aop:config&gt;\r\n     &lt;/beans:beans&gt;\r\n\r\nI have checked a lot of other threads on the internet and tried to change my `servlet-context.xml` file but nothing solved my issue.\r\n\r\nEx: tried to add extra parameters as per this [StackOverflow Thread][2] as below\r\n\r\n        &lt;beans:property name=&quot;initialSize&quot; value=&quot;7&quot;/&gt;\r\n\t\t&lt;beans:property name=&quot;maxActive&quot; value=&quot;7&quot;/&gt;\r\n\t\t&lt;beans:property name=&quot;maxWait&quot; value=&quot;10000&quot;/&gt;\r\n\t\t&lt;beans:property name=&quot;validationQuery&quot; value=&quot;SELECT 1&quot; /&gt;\r\n        &lt;beans:property name=&quot;validationQueryTimeout&quot; value=&quot;34000&quot; /&gt;\r\n        &lt;beans:property name=&quot;testOnBorrow&quot; value=&quot;true&quot; /&gt;\r\n\r\n&gt; Result: issue still remains same:\r\n\r\nEx 2: tried to change data source as per this [StackOverflow Thread][3] as below\r\n\r\n    &lt;beans:bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;url&quot;\r\n\t\t\tvalue=&quot;jdbc:mysql://localhost:3307/rajuDB&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;username&quot; value=&quot;raju&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;password&quot; value=&quot;raju&quot; /&gt;\r\n    &lt;/beans:bean&gt;\r\n\r\n&gt; result: issue remains same\r\n\r\nUpdate as per comment from @James Jithin :19-Feb-2017\r\n\r\n    try{\r\n\t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\t\t\tConnection  conn=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3307/rajuDB&quot;, &quot;raju&quot;, &quot;raju&quot;);\r\n\t\t\tStatement state=conn.createStatement();\r\n\t\t\tResultSet rs=state.executeQuery(&quot;select * from Person&quot;);\r\n\t\t\t\r\n\t\t\tif(rs!=null &amp;&amp; rs.next())\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;conn connected&quot;);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;not connected&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e){\r\n\t\t\t\r\n\t\t}\r\n\r\n  [1]: https://i.stack.imgur.com/KIt6l.png\r\n  [2]: https://stackoverflow.com/questions/31476782/could-not-open-hibernate-session-for-transaction-on-first-login\r\n  [3]: https://stackoverflow.com/questions/20261404/springmvc-hibernate-cannotcreatetransactionexception-could-not-open-hiberna","title":"Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Could not open connection","body":"<p>I am new to Spring-MVC and Hibernate. Trying to create a test web application with <strong>Spring-MVC(4.0.3)</strong> , <strong>Hibernate(4.3.5)</strong> and using <strong>MySQL</strong> as back end.</p>\n\n<p>There is no issue in connecting to the DB as I tried to fetch the data from the same db in a sample testJavaClass by using simple JDBC connection statements and I am able to fetch the records.</p>\n\n<p>Error Log:</p>\n\n<pre><code>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is  org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is   org.hibernate.exception.JDBCConnectionException: Could not open connection\n org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:973)\norg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:852)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:620)\norg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:837)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:727)\n\nroot cause\n\n org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Could not open connection\norg.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:515)\norg.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\norg.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:420)\norg.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:257)\norg.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\norg.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\ncom.sun.proxy.$Proxy130.listPersons(Unknown Source)\ncom.journeldev.spring.PersonController.listPersons(PersonController.java:29)\nsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njava.lang.reflect.Method.invoke(Method.java:606)\norg.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\norg.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\norg.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\norg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:749)\norg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:689)\norg.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:83)\norg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:938)\norg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:870)\norg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:961)\norg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:852)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:620)\norg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:837)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:727)\n</code></pre>\n\n<p>Here is my pom.xml:</p>\n\n<pre><code>   &lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.raju.spring&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-mvc-hibernate&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;properties&gt;\n    &lt;java-version&gt;1.7&lt;/java-version&gt;\n    &lt;org.springframework-version&gt;4.0.3.RELEASE&lt;/org.springframework-version&gt;\n    &lt;org.aspectj-version&gt;1.7.4&lt;/org.aspectj-version&gt;\n    &lt;org.slf4j-version&gt;1.7.5&lt;/org.slf4j-version&gt;\n    &lt;hibernate.version&gt;4.3.5.Final&lt;/hibernate.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n             &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;${hibernate.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;${hibernate.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Apache Commons DBCP --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Spring ORM --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- AspectJ --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n        &lt;version&gt;${org.aspectj-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Logging --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n        &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.15&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n                &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n                &lt;artifactId&gt;jms&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\n                &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\n                &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- @Inject --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n        &lt;version&gt;1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Servlet --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n        &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Test --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.7&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.9&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;additionalProjectnatures&gt;\n                         &lt;projectnature&gt;org.springframework.ide.eclipse.core.springnature&lt;/projectnature&gt;\n                    &lt;/additionalProjectnatures&gt;\n                    &lt;additionalBuildcommands&gt;\n                        &lt;buildcommand&gt;org.springframework.ide.eclipse.core.springbuilder&lt;/buildcommand&gt;\n                    &lt;/additionalBuildcommands&gt;\n                    &lt;downloadSources&gt;true&lt;/downloadSources&gt;\n                    &lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;\n                &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.6&lt;/source&gt;\n                &lt;target&gt;1.6&lt;/target&gt;\n                &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\n                &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n                &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.2.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;org.test.int1.Main&lt;/mainClass&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n   &lt;/build&gt;\n  &lt;/project&gt;\n</code></pre>\n\n<p>Project structure in Eclipse:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KIt6l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KIt6l.png\" alt=\"enter image description here\"></a></p>\n\n<p>servlet-context.xml: (updated as per the answer by @Maciej Kowalski and I still see the same issue)</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n &lt;beans:beans xmlns=\"http://www.springframework.org/schema/mvc\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:beans=\"http://www.springframework.org/schema/beans\"\nxmlns:context=\"http://www.springframework.org/schema/context\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\nxmlns:aop=\"http://www.springframework.org/schema/aop\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\n    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd http://www.springframework.org/schema/aop\n    http://www.springframework.org/schema/aop/spring-aop-3.0.xsd\"&gt;\n\n&lt;!-- DispatcherServlet Context: defines this servlet's request-processing \n    infrastructure --&gt;\n\n&lt;!-- Enables the Spring MVC @Controller programming model --&gt;\n&lt;annotation-driven /&gt;\n\n&lt;!-- Handles HTTP GET requests for /resources/** by efficiently serving \n    up static resources in the ${webappRoot}/resources directory --&gt;\n&lt;resources mapping=\"/resources/**\" location=\"/resources/\" /&gt;\n\n&lt;!-- Resolves views selected for rendering by @Controllers to .jsp resources \n    in the /WEB-INF/views directory --&gt;\n&lt;beans:bean\n    class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n    &lt;beans:property name=\"prefix\" value=\"/WEB-INF/views/\" /&gt;\n    &lt;beans:property name=\"suffix\" value=\".jsp\" /&gt;\n&lt;/beans:bean&gt;\n\n&lt;beans:bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\"\n    destroy-method=\"close\"&gt;\n    &lt;beans:property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" /&gt;\n    &lt;beans:property name=\"url\"\n        value=\"jdbc:mysql://localhost:3307/rajuDB\" /&gt;\n    &lt;beans:property name=\"username\" value=\"raju\" /&gt;\n    &lt;beans:property name=\"password\" value=\"raju\" /&gt;\n&lt;/beans:bean&gt;\n\n&lt;!-- Hibernate 4 SessionFactory Bean definition --&gt;\n&lt;beans:bean id=\"hibernate4AnnotatedSessionFactory\"\n    class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n    &lt;beans:property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;beans:property name=\"annotatedClasses\"&gt;\n        &lt;beans:list&gt;\n            &lt;beans:value&gt;com.journeldev.spring.model.Person&lt;/beans:value&gt;\n        &lt;/beans:list&gt;\n    &lt;/beans:property&gt;\n    &lt;beans:property name=\"hibernateProperties\"&gt;\n        &lt;beans:props&gt;\n            &lt;beans:prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect\n            &lt;/beans:prop&gt;\n            &lt;beans:prop key=\"hibernate.show_sql\"&gt;true&lt;/beans:prop&gt;\n        &lt;/beans:props&gt;\n    &lt;/beans:property&gt;\n&lt;/beans:bean&gt;\n\n&lt;beans:bean id=\"personDAO\" class=\"com.journeldev.spring.dao.PersonDAOImpl\"&gt;\n    &lt;beans:property name=\"sessionFactory\" ref=\"hibernate4AnnotatedSessionFactory\" /&gt;\n&lt;/beans:bean&gt;\n&lt;beans:bean id=\"personService\" class=\"com.journeldev.spring.service.PersonServiceImpl\"&gt;\n    &lt;beans:property name=\"personDAO\" ref=\"personDAO\"&gt;&lt;/beans:property&gt;\n&lt;/beans:bean&gt;\n\n&lt;!-- the transactional advice (what 'happens'; see the &lt;aop:advisor/&gt; bean below) --&gt;\n\n&lt;context:component-scan base-package=\"com.journeldev.spring\" /&gt;\n\n&lt;tx:annotation-driven transaction-manager=\"transactionManager\"/&gt;\n\n&lt;beans:bean id=\"transactionManager\" class=\"org.springframework.orm.hibernate4.HibernateTransactionManager\"&gt;\n    &lt;beans:property name=\"sessionFactory\" ref=\"hibernate4AnnotatedSessionFactory\" /&gt;\n &lt;/beans:bean&gt;\n\n &lt;tx:advice id=\"txAdvice\" transaction-manager=\"transactionManager\"&gt;\n    &lt;!-- the transactional semantics... --&gt;\n    &lt;tx:attributes&gt;\n        &lt;!-- all methods starting with 'get' are read-only --&gt;\n        &lt;tx:method name=\"get*\" read-only=\"true\"/&gt;\n        &lt;!-- other methods use the default transaction settings (see below) --&gt;\n        &lt;tx:method name=\"*\"/&gt;\n    &lt;/tx:attributes&gt;\n &lt;/tx:advice&gt;\n\n &lt;!-- ensure that the above transactional advice runs for any execution\n    of an operation defined by the FooService interface --&gt;\n &lt;aop:config&gt;\n    &lt;aop:pointcut id=\"personServiceOperation\" expression=\"execution(* com.journeldev.spring.service.PersonServiceImpl.*(..))\"/&gt;\n    &lt;aop:advisor advice-ref=\"txAdvice\" pointcut-ref=\"personServiceOperation\"/&gt;\n &lt;/aop:config&gt;\n &lt;/beans:beans&gt;\n</code></pre>\n\n<p>I have checked a lot of other threads on the internet and tried to change my <code>servlet-context.xml</code> file but nothing solved my issue.</p>\n\n<p>Ex: tried to add extra parameters as per this <a href=\"https://stackoverflow.com/questions/31476782/could-not-open-hibernate-session-for-transaction-on-first-login\">StackOverflow Thread</a> as below</p>\n\n<pre><code>    &lt;beans:property name=\"initialSize\" value=\"7\"/&gt;\n    &lt;beans:property name=\"maxActive\" value=\"7\"/&gt;\n    &lt;beans:property name=\"maxWait\" value=\"10000\"/&gt;\n    &lt;beans:property name=\"validationQuery\" value=\"SELECT 1\" /&gt;\n    &lt;beans:property name=\"validationQueryTimeout\" value=\"34000\" /&gt;\n    &lt;beans:property name=\"testOnBorrow\" value=\"true\" /&gt;\n</code></pre>\n\n<blockquote>\n  <p>Result: issue still remains same:</p>\n</blockquote>\n\n<p>Ex 2: tried to change data source as per this <a href=\"https://stackoverflow.com/questions/20261404/springmvc-hibernate-cannotcreatetransactionexception-could-not-open-hiberna\">StackOverflow Thread</a> as below</p>\n\n<pre><code>&lt;beans:bean id=\"dataSource\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;beans:property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" /&gt;\n    &lt;beans:property name=\"url\"\n        value=\"jdbc:mysql://localhost:3307/rajuDB\" /&gt;\n    &lt;beans:property name=\"username\" value=\"raju\" /&gt;\n    &lt;beans:property name=\"password\" value=\"raju\" /&gt;\n&lt;/beans:bean&gt;\n</code></pre>\n\n<blockquote>\n  <p>result: issue remains same</p>\n</blockquote>\n\n<p>Update as per comment from @James Jithin :19-Feb-2017</p>\n\n<pre><code>try{\n        Class.forName(\"com.mysql.jdbc.Driver\");\n        Connection  conn=DriverManager.getConnection(\"jdbc:mysql://localhost:3307/rajuDB\", \"raju\", \"raju\");\n        Statement state=conn.createStatement();\n        ResultSet rs=state.executeQuery(\"select * from Person\");\n\n        if(rs!=null &amp;&amp; rs.next())\n        {\n            System.out.println(\"conn connected\");\n        }\n        else\n        {\n            System.out.println(\"not connected\");\n        }\n    }\n    catch(Exception e){\n\n    }\n</code></pre>\n"},{"tags":["java","spring"],"owner":{"account_id":5853055,"reputation":1234,"user_id":4611186,"accept_rate":62,"display_name":"Katlock"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693776380,"creation_date":1693776380,"question_id":77034226,"body_markdown":"I am using the following to return a page of objects from my backend service:\r\n\r\n```\r\n\r\n@JsonIgnoreProperties(ignoreUnknown = true, value = {&quot;pageable&quot;})\r\nclass RestPage&lt;Role&gt; extends PageImpl&lt;Role&gt; {\r\n    private static final Logger LOG = LoggerFactory.getLogger(RestPage.class);\r\n\r\n    @JsonCreator(mode = JsonCreator.Mode.PROPERTIES)\r\n    public RestPage(@JsonProperty(&quot;content&quot;) List&lt;Role&gt; content,\r\n                    @JsonProperty(&quot;number&quot;) int page,\r\n                    @JsonProperty(&quot;size&quot;) int size,\r\n                    @JsonProperty(&quot;totalElements&quot;) long total,\r\n                    @JsonProperty(&quot;numberOfElements&quot;) int numberOfElements,\r\n                    @JsonProperty(&quot;pageNumber&quot;) int pageNumber\r\n    ) {\r\n        super(content, PageRequest.of(page, size), total);\r\n    }\r\n\r\n    public RestPage(Page&lt;Role&gt; page) {\r\n        super(page.getContent(), page.getPageable(), page.getTotalElements());\r\n        LOG.info(&quot;page.content: {}&quot;, page.getContent());\r\n    }\r\n\r\n    \r\n\r\n}\r\n```\r\n\r\nWhen I fetch the page from the following http requests and attempt to go thru the stream with list using following code:\r\n```\r\n  EntityExchangeResult&lt;RestPage&gt; entityExchangeResult = webTestClient.get().uri(&quot;/roles/&quot;+organizationId)\r\n                .headers(addJwt(jwt)).exchange().expectStatus().isOk().expectBody(RestPage.class)\r\n                .returnResult();\r\n\r\n       \r\n        LOG.info(&quot;roles found: {}&quot;, entityExchangeResult.getResponseBody().getContent());\r\n        List&lt;Role&gt; list = entityExchangeResult.getResponseBody().getContent();\r\n        List&lt;String&gt; listOfNames = list.stream().map(Role::getName).collect(toList());\r\n\r\n```\r\n\r\nI get the following error on the `map()` function line:\r\n```\r\nclass java.util.LinkedHashMap cannot be cast to class my.package.repo.entity.Role\r\n```\r\n\r\nIs there a way to put a ObjectMapper call in the `RestPage` to convert to the Object type I want?  I would like to get my specific type instead of a LinkedHashMap that I am seeing currently.\r\n\r\n\r\n","title":"How to convert a Restpage to a specific object type in Spring?","body":"<p>I am using the following to return a page of objects from my backend service:</p>\n<pre><code>\n@JsonIgnoreProperties(ignoreUnknown = true, value = {&quot;pageable&quot;})\nclass RestPage&lt;Role&gt; extends PageImpl&lt;Role&gt; {\n    private static final Logger LOG = LoggerFactory.getLogger(RestPage.class);\n\n    @JsonCreator(mode = JsonCreator.Mode.PROPERTIES)\n    public RestPage(@JsonProperty(&quot;content&quot;) List&lt;Role&gt; content,\n                    @JsonProperty(&quot;number&quot;) int page,\n                    @JsonProperty(&quot;size&quot;) int size,\n                    @JsonProperty(&quot;totalElements&quot;) long total,\n                    @JsonProperty(&quot;numberOfElements&quot;) int numberOfElements,\n                    @JsonProperty(&quot;pageNumber&quot;) int pageNumber\n    ) {\n        super(content, PageRequest.of(page, size), total);\n    }\n\n    public RestPage(Page&lt;Role&gt; page) {\n        super(page.getContent(), page.getPageable(), page.getTotalElements());\n        LOG.info(&quot;page.content: {}&quot;, page.getContent());\n    }\n\n    \n\n}\n</code></pre>\n<p>When I fetch the page from the following http requests and attempt to go thru the stream with list using following code:</p>\n<pre><code>  EntityExchangeResult&lt;RestPage&gt; entityExchangeResult = webTestClient.get().uri(&quot;/roles/&quot;+organizationId)\n                .headers(addJwt(jwt)).exchange().expectStatus().isOk().expectBody(RestPage.class)\n                .returnResult();\n\n       \n        LOG.info(&quot;roles found: {}&quot;, entityExchangeResult.getResponseBody().getContent());\n        List&lt;Role&gt; list = entityExchangeResult.getResponseBody().getContent();\n        List&lt;String&gt; listOfNames = list.stream().map(Role::getName).collect(toList());\n\n</code></pre>\n<p>I get the following error on the <code>map()</code> function line:</p>\n<pre><code>class java.util.LinkedHashMap cannot be cast to class my.package.repo.entity.Role\n</code></pre>\n<p>Is there a way to put a ObjectMapper call in the <code>RestPage</code> to convert to the Object type I want?  I would like to get my specific type instead of a LinkedHashMap that I am seeing currently.</p>\n"},{"tags":["java","lambda","collections","java-8","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":7,"creation_date":1399545561,"post_id":14830313,"comment_id":36112267,"body_markdown":"In case you dont need the `sourceLongList` afterwards theres [`Collection.removeIf()`](http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-) for convenience.","body":"In case you dont need the <code>sourceLongList</code> afterwards theres <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-\" rel=\"nofollow noreferrer\"><code>Collection.removeIf()</code></a> for convenience."},{"owner":{"account_id":1196398,"reputation":6672,"user_id":1168041,"accept_rate":72,"display_name":"leeyuiwah"},"score":3,"creation_date":1532558029,"post_id":14830313,"comment_id":90025646,"body_markdown":"How about this? `List&lt;Long&gt; targetLongList = sourceLongList.stream().collect(Collectors.toList());`","body":"How about this? <code>List&lt;Long&gt; targetLongList = sourceLongList.stream().collect(Collectors.toList());</code>"}],"answers":[{"comments":[{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":11,"creation_date":1467190460,"post_id":14832470,"comment_id":63624449,"body_markdown":"Addition: I think this codes gets a little shorter, clearer and prettier if you use a static import of `toList`. This is done by placing the following among the imports of the file: `static import java.util.stream.Collectors.toList;`. Then the collect call reads just `.collect(toList())`.","body":"Addition: I think this codes gets a little shorter, clearer and prettier if you use a static import of <code>toList</code>. This is done by placing the following among the imports of the file: <code>static import java.util.stream.Collectors.toList;</code>. Then the collect call reads just <code>.collect(toList())</code>."},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":4,"creation_date":1467190694,"post_id":14832470,"comment_id":63624594,"body_markdown":"In Eclipse it is possible to make the IDE add a static import for methods. This is done by adding the `Collectors` class in *Preferences* -&gt; *Java* -&gt; *Editor* -&gt; *Content Assist* -&gt; *Favorites*. After this, you only have to type `toLi` at hit *Ctr+Space* to have the IDE fill in `toList` and add the static import.","body":"In Eclipse it is possible to make the IDE add a static import for methods. This is done by adding the <code>Collectors</code> class in <i>Preferences</i> -&gt; <i>Java</i> -&gt; <i>Editor</i> -&gt; <i>Content Assist</i> -&gt; <i>Favorites</i>. After this, you only have to type <code>toLi</code> at hit <i>Ctr+Space</i> to have the IDE fill in <code>toList</code> and add the static import."},{"owner":{"account_id":974084,"reputation":3173,"user_id":995935,"accept_rate":55,"display_name":"Mutant Bob"},"score":5,"creation_date":1505243353,"post_id":14832470,"comment_id":79330274,"body_markdown":"One thing to keep in mind is that `IntStream` and some other almost-but-not-quite-`Stream`s do not have the `collect(Collector)` method and you will have to call `IntStream.boxed()` to convert them to a regular `Stream` first.  Then again, maybe you just want `toArray()` .","body":"One thing to keep in mind is that <code>IntStream</code> and some other almost-but-not-quite-<code>Stream</code>s do not have the <code>collect(Collector)</code> method and you will have to call <code>IntStream.boxed()</code> to convert them to a regular <code>Stream</code> first.  Then again, maybe you just want <code>toArray()</code> ."},{"owner":{"account_id":10961577,"reputation":964,"user_id":8054721,"display_name":"amarnath harish"},"score":0,"creation_date":1537255075,"post_id":14832470,"comment_id":91706175,"body_markdown":"why we have to use `sequential()` before `forEach` or use &#39;forEachOrdered`","body":"why we have to use <code>sequential()</code> before <code>forEach</code> or use &#39;forEachOrdered`"},{"owner":{"account_id":29398,"reputation":10394,"user_id":1859863,"display_name":"Maurice Naftalin"},"score":1,"creation_date":1537344601,"post_id":14832470,"comment_id":91746055,"body_markdown":"@amarnathharish Because forEach doesn&#39;t guarantee the order of operation execution for a parallel stream. The JavaDoc says &quot;The behavior of this operation is explicitly nondeterministic. For parallel stream pipelines, this operation does not guarantee to respect the encounter order of the stream, as doing so would sacrifice the benefit of parallelism.&quot; (The first sentence of this quote actually means that order is not guaranteed for sequential streams either, although in practice it is preserved.)","body":"@amarnathharish Because forEach doesn&#39;t guarantee the order of operation execution for a parallel stream. The JavaDoc says &quot;The behavior of this operation is explicitly nondeterministic. For parallel stream pipelines, this operation does not guarantee to respect the encounter order of the stream, as doing so would sacrifice the benefit of parallelism.&quot; (The first sentence of this quote actually means that order is not guaranteed for sequential streams either, although in practice it is preserved.)"},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1593567184,"post_id":14832470,"comment_id":110824566,"body_markdown":"why cannot it be as simple as C# syntax: `(some ienumerable).ToList()`?","body":"why cannot it be as simple as C# syntax: <code>(some ienumerable).ToList()</code>?"}],"tags":[],"owner":{"account_id":29398,"reputation":10394,"user_id":1859863,"display_name":"Maurice Naftalin"},"comment_count":6,"down_vote_count":1,"up_vote_count":669,"is_accepted":true,"score":668,"last_activity_date":1392752734,"creation_date":1360671770,"answer_id":14832470,"question_id":14830313,"body_markdown":"What you are doing may be the simplest way, provided your stream stays sequential&amp;mdash;otherwise you will have to put a call to sequential() before &lt;code&gt;forEach&lt;/code&gt;. \r\n\r\n[later edit: the reason the call to sequential() is necessary is that the code as it stands (`forEach(targetLongList::add)`) would be racy if the stream was parallel. Even then, it will not achieve the effect intended, as `forEach` is explicitly nondeterministic&amp;mdash;even in a sequential stream the order of element processing is not guaranteed. You would have to use `forEachOrdered` to ensure correct ordering. The intention of the Stream API designers is that you will use collector in this situation, as below.]\r\n\r\nAn alternative is \r\n\r\n    targetLongList = sourceLongList.stream()\r\n        .filter(l -&gt; l &gt; 100)\r\n        .collect(Collectors.toList());","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>What you are doing may be the simplest way, provided your stream stays sequential&mdash;otherwise you will have to put a call to sequential() before <code>forEach</code>. </p>\n\n<p>[later edit: the reason the call to sequential() is necessary is that the code as it stands (<code>forEach(targetLongList::add)</code>) would be racy if the stream was parallel. Even then, it will not achieve the effect intended, as <code>forEach</code> is explicitly nondeterministic&mdash;even in a sequential stream the order of element processing is not guaranteed. You would have to use <code>forEachOrdered</code> to ensure correct ordering. The intention of the Stream API designers is that you will use collector in this situation, as below.]</p>\n\n<p>An alternative is </p>\n\n<pre><code>targetLongList = sourceLongList.stream()\n    .filter(l -&gt; l &gt; 100)\n    .collect(Collectors.toList());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":176669,"reputation":7451,"user_id":407502,"accept_rate":70,"display_name":"orbfish"},"score":69,"creation_date":1434243808,"post_id":15458176,"comment_id":49695972,"body_markdown":"This is, however, useful if you want a particular List implementation.","body":"This is, however, useful if you want a particular List implementation."},{"owner":{"account_id":1961922,"reputation":236,"user_id":1763219,"accept_rate":20,"display_name":"Eduard Korenschi"},"score":1,"creation_date":1448978963,"post_id":15458176,"comment_id":55799614,"body_markdown":"Despite beeing recommended to code against interfaces, there are clear cases (one of them being GWT) when you have to code against concrete implementations (unless you want all List implementations compiled and delivered as javascript).","body":"Despite beeing recommended to code against interfaces, there are clear cases (one of them being GWT) when you have to code against concrete implementations (unless you want all List implementations compiled and delivered as javascript)."},{"owner":{"account_id":1122900,"reputation":864,"user_id":1110820,"accept_rate":88,"display_name":"Charles Wood"},"score":4,"creation_date":1510071709,"post_id":15458176,"comment_id":81275073,"body_markdown":"Another pro for this method, from the `Collectors::toList` javadoc: &quot;There are no guarantees on the type, mutability, serializability, or thread-safety of the List returned; if more control over the returned List is required, use `toCollection(Supplier)`.&quot;","body":"Another pro for this method, from the <code>Collectors::toList</code> javadoc: &quot;There are no guarantees on the type, mutability, serializability, or thread-safety of the List returned; if more control over the returned List is required, use <code>toCollection(Supplier)</code>.&quot;"}],"tags":[],"owner":{"account_id":83276,"reputation":6162,"user_id":233598,"accept_rate":76,"display_name":"MohamedSanaulla"},"comment_count":3,"down_vote_count":1,"up_vote_count":196,"is_accepted":false,"score":195,"last_activity_date":1550391960,"creation_date":1363501700,"answer_id":15458176,"question_id":14830313,"body_markdown":"Updated:\r\n\r\nAnother approach is to use `Collectors.toList`:\r\n\r\n    targetLongList = \r\n        sourceLongList.stream().\r\n        filter(l -&gt; l &gt; 100).\r\n        collect(Collectors.toList());\r\n\r\nPrevious Solution:\r\n\r\nAnother approach is to use `Collectors.toCollection`:\r\n\r\n```\r\ntargetLongList = \r\n    sourceLongList.stream().\r\n    filter(l -&gt; l &gt; 100).\r\n    collect(Collectors.toCollection(ArrayList::new));\r\n```\r\n\r\n","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>Updated:</p>\n\n<p>Another approach is to use <code>Collectors.toList</code>:</p>\n\n<pre><code>targetLongList = \n    sourceLongList.stream().\n    filter(l -&gt; l &gt; 100).\n    collect(Collectors.toList());\n</code></pre>\n\n<p>Previous Solution:</p>\n\n<p>Another approach is to use <code>Collectors.toCollection</code>:</p>\n\n<pre><code>targetLongList = \n    sourceLongList.stream().\n    filter(l -&gt; l &gt; 100).\n    collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":231844,"reputation":15747,"user_id":496289,"accept_rate":86,"display_name":"Kashyap"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443800541,"creation_date":1443800541,"answer_id":32910910,"question_id":14830313,"body_markdown":"In case someone (like me) out there is looking for ways deal with Objects instead of primitive types then use [`mapToObj()`][1]\r\n\r\n\tString ss = &quot;An alternative way is to insert the following VM option before &quot;\r\n\t\t\t+ &quot;the -vmargs option in the Eclipse shortcut properties(edit the &quot;\r\n\t\t\t+ &quot;field Target inside the Shortcut tab):&quot;;\r\n\r\n\tList&lt;Character&gt; ll = ss\r\n\t\t\t\t\t\t\t.chars()\r\n\t\t\t\t\t\t\t.mapToObj(c -&gt; new Character((char) c))\r\n\t\t\t\t\t\t\t.collect(Collectors.toList());\r\n\r\n\tSystem.out.println(&quot;List type: &quot; + ll.getClass());\r\n\tSystem.out.println(&quot;Elem type: &quot; + ll.get(0).getClass());\r\n\tll.stream().limit(50).forEach(System.out::print);\r\n\r\nprints:\r\n\r\n    List type: class java.util.ArrayList\r\n    Elem type: class java.lang.Character\r\n    An alternative way is to insert the following VM o\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#mapToObj-java.util.function.IntFunction-\r\n\r\n","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>In case someone (like me) out there is looking for ways deal with Objects instead of primitive types then use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#mapToObj-java.util.function.IntFunction-\" rel=\"nofollow\"><code>mapToObj()</code></a></p>\n\n<pre><code>String ss = \"An alternative way is to insert the following VM option before \"\n        + \"the -vmargs option in the Eclipse shortcut properties(edit the \"\n        + \"field Target inside the Shortcut tab):\";\n\nList&lt;Character&gt; ll = ss\n                        .chars()\n                        .mapToObj(c -&gt; new Character((char) c))\n                        .collect(Collectors.toList());\n\nSystem.out.println(\"List type: \" + ll.getClass());\nSystem.out.println(\"Elem type: \" + ll.get(0).getClass());\nll.stream().limit(50).forEach(System.out::print);\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>List type: class java.util.ArrayList\nElem type: class java.lang.Character\nAn alternative way is to insert the following VM o\n</code></pre>\n"},{"comments":[{"owner":{"account_id":34247,"reputation":1973,"user_id":96617,"accept_rate":78,"display_name":"Lluis Martinez"},"score":0,"creation_date":1487365446,"post_id":33822891,"comment_id":71769576,"body_markdown":"If you declare result as List&lt;Long&gt; you don&#39;t need to use this util method. Collectors.toList will do. Also, using specific classes instead of interfaces is a code smell.","body":"If you declare result as List&lt;Long&gt; you don&#39;t need to use this util method. Collectors.toList will do. Also, using specific classes instead of interfaces is a code smell."},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":2,"creation_date":1487412055,"post_id":33822891,"comment_id":71781376,"body_markdown":"@LluisMartinez: *&quot;Collectors.toList will do.&quot;*: No, not in many situations. Because it&#39;s not a good idea to use `toList` if you for example want to modify the list later in the program. The [`toList` documentation](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toList--) says this: *&quot;There are no guarantees on the type, mutability, serializability, or thread-safety of the List returned; if more control over the returned List is required, use `toCollection`.&quot;*. My answer demonstrates a way to make it more convenient to do that in a common case.","body":"@LluisMartinez: <i>&quot;Collectors.toList will do.&quot;</i>: No, not in many situations. Because it&#39;s not a good idea to use <code>toList</code> if you for example want to modify the list later in the program. The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toList--\" rel=\"nofollow noreferrer\"><code>toList</code> documentation</a> says this: <i>&quot;There are no guarantees on the type, mutability, serializability, or thread-safety of the List returned; if more control over the returned List is required, use <code>toCollection</code>.&quot;</i>. My answer demonstrates a way to make it more convenient to do that in a common case."},{"owner":{"account_id":34247,"reputation":1973,"user_id":96617,"accept_rate":78,"display_name":"Lluis Martinez"},"score":0,"creation_date":1487608457,"post_id":33822891,"comment_id":71850486,"body_markdown":"If you want to specifically create an ArrayList then it&#39;s ok.","body":"If you want to specifically create an ArrayList then it&#39;s ok."}],"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"comment_count":3,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1478535746,"creation_date":1448010939,"answer_id":33822891,"question_id":14830313,"body_markdown":"I like to use a util method that returns a collector for `ArrayList` when that is what I want. \r\n\r\nI think the solution using `Collectors.toCollection(ArrayList::new)` is a little too noisy for such a common operation.\r\n\r\nExample:\r\n\r\n    ArrayList&lt;Long&gt; result = sourceLongList.stream()\r\n        .filter(l -&gt; l &gt; 100)\r\n        .collect(toArrayList());\r\n\r\n    public static &lt;T&gt; Collector&lt;T, ?, ArrayList&lt;T&gt;&gt; toArrayList() {\r\n        return Collectors.toCollection(ArrayList::new);\r\n    }\r\n\r\nWith this answer I also want to demonstrate how simple it is to create and use custom collectors, which is very useful generally.\r\n","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>I like to use a util method that returns a collector for <code>ArrayList</code> when that is what I want. </p>\n\n<p>I think the solution using <code>Collectors.toCollection(ArrayList::new)</code> is a little too noisy for such a common operation.</p>\n\n<p>Example:</p>\n\n<pre><code>ArrayList&lt;Long&gt; result = sourceLongList.stream()\n    .filter(l -&gt; l &gt; 100)\n    .collect(toArrayList());\n\npublic static &lt;T&gt; Collector&lt;T, ?, ArrayList&lt;T&gt;&gt; toArrayList() {\n    return Collectors.toCollection(ArrayList::new);\n}\n</code></pre>\n\n<p>With this answer I also want to demonstrate how simple it is to create and use custom collectors, which is very useful generally.</p>\n"},{"tags":[],"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456395481,"creation_date":1456395481,"answer_id":35624405,"question_id":14830313,"body_markdown":"If you don&#39;t mind using 3rd party libraries, AOL&#39;s [cyclops-react][1] lib (disclosure I am a contributor) has extensions for all [JDK Collection][2] types, including [List][3]. The ListX interface extends java.util.List and adds a large number of useful operators, including filter.\r\n\r\nYou can simply write-\r\n\r\n    ListX&lt;Long&gt; sourceLongList = ListX.of(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\r\n    ListX&lt;Long&gt; targetLongList = sourceLongList.filter(l -&gt; l &gt; 100);\r\n\r\nListX also can be created from an existing List (via ListX.fromIterable)\r\n\r\n[1]: https://github.com/aol/cyclops-react\r\n [2]: https://medium.com/@johnmcclean/extending-jdk-8-collections-8ae8d43dd75e#.j5lxtrqze\r\n [3]: http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-RC1/com/aol/cyclops/data/collections/extensions/standard/ListX.html","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>If you don't mind using 3rd party libraries, AOL's <a href=\"https://github.com/aol/cyclops-react\" rel=\"nofollow\">cyclops-react</a> lib (disclosure I am a contributor) has extensions for all <a href=\"https://medium.com/@johnmcclean/extending-jdk-8-collections-8ae8d43dd75e#.j5lxtrqze\" rel=\"nofollow\">JDK Collection</a> types, including <a href=\"http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-RC1/com/aol/cyclops/data/collections/extensions/standard/ListX.html\" rel=\"nofollow\">List</a>. The ListX interface extends java.util.List and adds a large number of useful operators, including filter.</p>\n\n<p>You can simply write-</p>\n\n<pre><code>ListX&lt;Long&gt; sourceLongList = ListX.of(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\nListX&lt;Long&gt; targetLongList = sourceLongList.filter(l -&gt; l &gt; 100);\n</code></pre>\n\n<p>ListX also can be created from an existing List (via ListX.fromIterable)</p>\n"},{"tags":[],"owner":{"account_id":6722754,"reputation":1152,"user_id":5182052,"display_name":"Nikhil Nanivadekar"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1459038138,"creation_date":1459037321,"answer_id":36242356,"question_id":14830313,"body_markdown":"If you have an array of primitives, you can use the primitive collections available in [Eclipse Collections][1].\r\n\r\n    LongList sourceLongList = LongLists.mutable.of(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\r\n    LongList targetLongList = sourceLongList.select(l -&gt; l &gt; 100);\r\n\r\nIf you can&#39;t change the sourceLongList from `List`:\r\n\r\n    List&lt;Long&gt; sourceLongList = Arrays.asList(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\r\n    List&lt;Long&gt; targetLongList = \r\n        ListAdapter.adapt(sourceLongList).select(l -&gt; l &gt; 100, new ArrayList&lt;&gt;());\r\n\r\nIf you want to use `LongStream`:\r\n\r\n    long[] sourceLongs = new long[]{1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L};\r\n    LongList targetList = \r\n        LongStream.of(sourceLongs)\r\n        .filter(l -&gt; l &gt; 100)\r\n        .collect(LongArrayList::new, LongArrayList::add, LongArrayList::addAll);\r\n\r\nNote: I am a contributor to Eclipse Collections.\r\n\r\n  [1]: http://www.eclipse.org/collections/","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>If you have an array of primitives, you can use the primitive collections available in <a href=\"http://www.eclipse.org/collections/\" rel=\"nofollow\">Eclipse Collections</a>.</p>\n\n<pre><code>LongList sourceLongList = LongLists.mutable.of(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\nLongList targetLongList = sourceLongList.select(l -&gt; l &gt; 100);\n</code></pre>\n\n<p>If you can't change the sourceLongList from <code>List</code>:</p>\n\n<pre><code>List&lt;Long&gt; sourceLongList = Arrays.asList(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\nList&lt;Long&gt; targetLongList = \n    ListAdapter.adapt(sourceLongList).select(l -&gt; l &gt; 100, new ArrayList&lt;&gt;());\n</code></pre>\n\n<p>If you want to use <code>LongStream</code>:</p>\n\n<pre><code>long[] sourceLongs = new long[]{1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L};\nLongList targetList = \n    LongStream.of(sourceLongs)\n    .filter(l -&gt; l &gt; 100)\n    .collect(LongArrayList::new, LongArrayList::add, LongArrayList::addAll);\n</code></pre>\n\n<p>Note: I am a contributor to Eclipse Collections.</p>\n"},{"comments":[{"owner":{"account_id":1750802,"reputation":5797,"user_id":1599926,"accept_rate":83,"display_name":"Daniel K."},"score":0,"creation_date":1470986672,"post_id":38911865,"comment_id":65181828,"body_markdown":"I don&#39;t like that the collect() is only used to drive the stream so that the peek() hook is called on each item. The result of the terminal operation is discarded.","body":"I don&#39;t like that the collect() is only used to drive the stream so that the peek() hook is called on each item. The result of the terminal operation is discarded."},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1471937036,"post_id":38911865,"comment_id":65536638,"body_markdown":"It is very weird to call `collect` and then not save the return value. In that case you could use `forEach` instead. But that is still a poor solution.","body":"It is very weird to call <code>collect</code> and then not save the return value. In that case you could use <code>forEach</code> instead. But that is still a poor solution."},{"owner":{"account_id":2570598,"reputation":13282,"user_id":2229438,"accept_rate":94,"display_name":"Grzegorz Piwowarek"},"score":1,"creation_date":1501003723,"post_id":38911865,"comment_id":77582071,"body_markdown":"Using peek() in this way is an antipattern.","body":"Using peek() in this way is an antipattern."},{"owner":{"account_id":5660675,"reputation":575,"user_id":4478439,"display_name":"Vaneet Kataria"},"score":0,"creation_date":1548415390,"post_id":38911865,"comment_id":95542444,"body_markdown":"As per Stream Java docs peek method must be used for debugging purposes only .It should not be used for any processing other than debugging .","body":"As per Stream Java docs peek method must be used for debugging purposes only .It should not be used for any processing other than debugging ."}],"tags":[],"owner":{"account_id":4608562,"reputation":1127,"user_id":3737355,"accept_rate":45,"display_name":"Debapriya Biswas"},"comment_count":4,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1473741774,"creation_date":1470985465,"answer_id":38911865,"question_id":14830313,"body_markdown":"If you don&#39;t use `parallel()` this will work \r\n\r\n    List&lt;Long&gt; sourceLongList = Arrays.asList(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\r\n    \r\n    List&lt;Long&gt; targetLongList =  new ArrayList&lt;Long&gt;();\r\n    \r\n    sourceLongList.stream().peek(i-&gt;targetLongList.add(i)).collect(Collectors.toList());","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>If you don't use <code>parallel()</code> this will work </p>\n\n<pre><code>List&lt;Long&gt; sourceLongList = Arrays.asList(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\n\nList&lt;Long&gt; targetLongList =  new ArrayList&lt;Long&gt;();\n\nsourceLongList.stream().peek(i-&gt;targetLongList.add(i)).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3090265,"reputation":8447,"user_id":2616537,"accept_rate":33,"display_name":"msayag"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1475738003,"creation_date":1475738003,"answer_id":39889739,"question_id":14830313,"body_markdown":"A little more efficient way (avoid the creating the source List&lt;Long&gt; and the auto-unboxing by the filter):\r\n\r\n    List&lt;Long&gt; targetLongList = LongStream.of(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L)\r\n        .filter(l -&gt; l &gt; 100)\r\n        .boxed()\r\n        .collect(Collectors.toList());","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>A little more efficient way (avoid the creating the source List and the auto-unboxing by the filter):</p>\n\n<pre><code>List&lt;Long&gt; targetLongList = LongStream.of(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L)\n    .filter(l -&gt; l &gt; 100)\n    .boxed()\n    .collect(Collectors.toList());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5660675,"reputation":575,"user_id":4478439,"display_name":"Vaneet Kataria"},"score":1,"creation_date":1548418395,"post_id":40927188,"comment_id":95543907,"body_markdown":"I don&#39;t find any toList method present in LongStream class. Could you run this code ?","body":"I don&#39;t find any toList method present in LongStream class. Could you run this code ?"},{"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"score":0,"creation_date":1548529738,"post_id":40927188,"comment_id":95576648,"body_markdown":"@VaneetKataria try `com.landawn.abacus.util.stream.LongStream` or `LongStreamEx` in AbacusUtil","body":"@VaneetKataria try <code>com.landawn.abacus.util.stream.LongStream</code> or <code>LongStreamEx</code> in AbacusUtil"}],"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673587199,"creation_date":1480664797,"answer_id":40927188,"question_id":14830313,"body_markdown":"Here is code by [abacus-common][1]\r\n    \r\n    LongStream.of(1, 10, 50, 80, 100, 120, 133, 333).filter(e -&gt; e &gt; 100).toList();\r\n\r\nDisclosure I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>Here is code by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>LongStream.of(1, 10, 50, 80, 100, 120, 133, 333).filter(e -&gt; e &gt; 100).toList();\n</code></pre>\n<p>Disclosure I'm the developer of abacus-common.</p>\n"},{"tags":[],"owner":{"account_id":9964013,"reputation":225,"user_id":7372285,"display_name":"sharath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487892347,"creation_date":1487890463,"answer_id":42427732,"question_id":14830313,"body_markdown":"    String joined = \r\n    \t\t\t    Stream.of(isRead?&quot;read&quot;:&quot;&quot;, isFlagged?&quot;flagged&quot;:&quot;&quot;, isActionRequired?&quot;action&quot;:&quot;&quot;, isHide?&quot;hide&quot;:&quot;&quot;)\r\n    \t\t\t          .filter(s -&gt; s != null &amp;&amp; !s.isEmpty())\r\n    \t\t\t          .collect(Collectors.joining(&quot;,&quot;));","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<pre><code>String joined = \n                Stream.of(isRead?\"read\":\"\", isFlagged?\"flagged\":\"\", isActionRequired?\"action\":\"\", isHide?\"hide\":\"\")\n                      .filter(s -&gt; s != null &amp;&amp; !s.isEmpty())\n                      .collect(Collectors.joining(\",\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1277078,"reputation":387,"user_id":1232088,"accept_rate":62,"display_name":"Pramod"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1589675112,"creation_date":1505729026,"answer_id":46276622,"question_id":14830313,"body_markdown":"    collect(Collectors.toList());\r\n    \r\nThis is the call which you can use to convert any Stream to List.\r\n\r\nmore concretely:\r\n\r\n\r\n        List&lt;String&gt; myList = stream.collect(Collectors.toList()); \r\n  \r\n\r\nfrom:\r\n\r\nhttps://www.geeksforgeeks.org/collectors-tolist-method-in-java-with-examples/\r\n","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<pre><code>collect(Collectors.toList());\n</code></pre>\n\n<p>This is the call which you can use to convert any Stream to List.</p>\n\n<p>more concretely:</p>\n\n<pre><code>    List&lt;String&gt; myList = stream.collect(Collectors.toList()); \n</code></pre>\n\n<p>from:</p>\n\n<p><a href=\"https://www.geeksforgeeks.org/collectors-tolist-method-in-java-with-examples/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/collectors-tolist-method-in-java-with-examples/</a></p>\n"},{"tags":[],"owner":{"account_id":5660675,"reputation":575,"user_id":4478439,"display_name":"Vaneet Kataria"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548418781,"creation_date":1548417449,"answer_id":54364909,"question_id":14830313,"body_markdown":"There is an another variant of collect method provided by LongStream class and \r\nsimilarly by IntStream and DoubleStream classes too .   \r\n\r\n    &lt;R&gt; R collect(Supplier&lt;R&gt; supplier,\r\n                  ObjLongConsumer&lt;R&gt; accumulator,\r\n                  BiConsumer&lt;R,R&gt; combiner)\r\n\r\nPerforms a mutable reduction operation on the elements of this stream. A mutable reduction is one in which the reduced value is a mutable result container, such as an ArrayList, and elements are incorporated by updating the state of the result rather than by replacing the result. This produces a result equivalent to:\r\n  \r\n    R result = supplier.get();\r\n      for (long element : this stream)\r\n           accumulator.accept(result, element);\r\n      return result;\r\n\r\n**Like reduce(long, LongBinaryOperator), collect operations can be parallelized without requiring additional synchronization.\r\nThis is a terminal operation.**\r\n\r\nAnd answer to your question with this collect method is as below : \r\n\r\n        LongStream.of(1L, 2L, 3L, 3L).filter(i -&gt; i &gt; 2)\r\n        .collect(ArrayList::new, (list, value) -&gt; list.add(value)\r\n        , (list1, list2) -&gt; list1.addAll(list2));\r\n\r\nBelow is the method reference variant which is quite smart but some what tricky to understand :\r\n\r\n         LongStream.of(1L, 2L, 3L, 3L).filter(i -&gt; i &gt; 2)\r\n        .collect(ArrayList::new, List::add , List::addAll);\r\n\r\nBelow will be the HashSet variant : \r\n\r\n\r\n         LongStream.of(1L, 2L, 3L, 3).filter(i -&gt; i &gt; 2)\r\n\t     .collect(HashSet::new, HashSet::add, HashSet::addAll);\r\n\r\nSimilarly LinkedList variant is like this : \r\n\r\n         LongStream.of(1L, 2L, 3L, 3L)\r\n         .filter(i -&gt; i &gt; 2)\r\n         .collect(LinkedList::new, LinkedList::add, LinkedList::addAll);\r\n    \r\n\r\n             ","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>There is an another variant of collect method provided by LongStream class and \nsimilarly by IntStream and DoubleStream classes too .   </p>\n\n<pre><code>&lt;R&gt; R collect(Supplier&lt;R&gt; supplier,\n              ObjLongConsumer&lt;R&gt; accumulator,\n              BiConsumer&lt;R,R&gt; combiner)\n</code></pre>\n\n<p>Performs a mutable reduction operation on the elements of this stream. A mutable reduction is one in which the reduced value is a mutable result container, such as an ArrayList, and elements are incorporated by updating the state of the result rather than by replacing the result. This produces a result equivalent to:</p>\n\n<pre><code>R result = supplier.get();\n  for (long element : this stream)\n       accumulator.accept(result, element);\n  return result;\n</code></pre>\n\n<p><strong>Like reduce(long, LongBinaryOperator), collect operations can be parallelized without requiring additional synchronization.\nThis is a terminal operation.</strong></p>\n\n<p>And answer to your question with this collect method is as below : </p>\n\n<pre><code>    LongStream.of(1L, 2L, 3L, 3L).filter(i -&gt; i &gt; 2)\n    .collect(ArrayList::new, (list, value) -&gt; list.add(value)\n    , (list1, list2) -&gt; list1.addAll(list2));\n</code></pre>\n\n<p>Below is the method reference variant which is quite smart but some what tricky to understand :</p>\n\n<pre><code>     LongStream.of(1L, 2L, 3L, 3L).filter(i -&gt; i &gt; 2)\n    .collect(ArrayList::new, List::add , List::addAll);\n</code></pre>\n\n<p>Below will be the HashSet variant : </p>\n\n<pre><code>     LongStream.of(1L, 2L, 3L, 3).filter(i -&gt; i &gt; 2)\n     .collect(HashSet::new, HashSet::add, HashSet::addAll);\n</code></pre>\n\n<p>Similarly LinkedList variant is like this : </p>\n\n<pre><code>     LongStream.of(1L, 2L, 3L, 3L)\n     .filter(i -&gt; i &gt; 2)\n     .collect(LinkedList::new, LinkedList::add, LinkedList::addAll);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11362321,"reputation":5646,"user_id":8330162,"display_name":"B--rian"},"score":0,"creation_date":1564144441,"post_id":57219868,"comment_id":100944483,"body_markdown":"Thanks for your input. However, please explain what you changed and in how far it relates to the question.","body":"Thanks for your input. However, please explain what you changed and in how far it relates to the question."},{"owner":{"account_id":16305686,"reputation":81,"user_id":11775734,"display_name":"Pratik Pawar"},"score":0,"creation_date":1564491226,"post_id":57219868,"comment_id":101042315,"body_markdown":"Here firstly I converted my ArrayList to steam them using filter I filter out required data. Finally I have used  collect method of java 8 stream to collect data in new list called as targetLongList.","body":"Here firstly I converted my ArrayList to steam them using filter I filter out required data. Finally I have used  collect method of java 8 stream to collect data in new list called as targetLongList."}],"tags":[],"owner":{"account_id":16305686,"reputation":81,"user_id":11775734,"display_name":"Pratik Pawar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564145771,"creation_date":1564143306,"answer_id":57219868,"question_id":14830313,"body_markdown":"You can rewrite code as below :\r\n```\r\nList&lt;Long&gt; sourceLongList = Arrays.asList(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\r\nList&lt;Long&gt; targetLongList = sourceLongList.stream().filter(l -&gt; l &gt; 100).collect(Collectors.toList());\r\n```","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>You can rewrite code as below :</p>\n\n<pre><code>List&lt;Long&gt; sourceLongList = Arrays.asList(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\nList&lt;Long&gt; targetLongList = sourceLongList.stream().filter(l -&gt; l &gt; 100).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591467920,"creation_date":1591467920,"answer_id":62236179,"question_id":14830313,"body_markdown":"To collect in a mutable list:\r\n```\r\ntargetList = sourceList.stream()\r\n                       .filter(i -&gt; i &gt; 100) //apply filter\r\n                       .collect(Collectors.toList());\r\n```\r\nTo collect in a immutable list:\r\n```\r\ntargetList = sourceList.stream()\r\n                       .filter(i -&gt; i &gt; 100) //apply filter\r\n                       .collect(Collectors.toUnmodifiableList());\r\n```\r\nExplanation of `collect` from the [JavaDoc][1]:\r\n\r\n&gt; Performs a mutable reduction operation on the elements of this stream\r\n&gt; using a Collector. A Collector encapsulates the functions used as\r\n&gt; arguments to collect(Supplier, BiConsumer, BiConsumer), allowing for\r\n&gt; reuse of collection strategies and composition of collect operations\r\n&gt; such as multiple-level grouping or partitioning. If the stream is\r\n&gt; parallel, and the Collector is concurrent, and either the stream is\r\n&gt; unordered or the collector is unordered, then a concurrent reduction\r\n&gt; will be performed (see Collector for details on concurrent reduction.)\r\n&gt; \r\n&gt; This is a terminal operation.\r\n&gt; \r\n&gt; When executed in parallel, multiple intermediate results may be\r\n&gt; instantiated, populated, and merged so as to maintain isolation of\r\n&gt; mutable data structures. Therefore, even when executed in parallel\r\n&gt; with non-thread-safe data structures (such as ArrayList), no\r\n&gt; additional synchronization is needed for a parallel reduction.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.stream.Collector-","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>To collect in a mutable list:</p>\n\n<pre><code>targetList = sourceList.stream()\n                       .filter(i -&gt; i &gt; 100) //apply filter\n                       .collect(Collectors.toList());\n</code></pre>\n\n<p>To collect in a immutable list:</p>\n\n<pre><code>targetList = sourceList.stream()\n                       .filter(i -&gt; i &gt; 100) //apply filter\n                       .collect(Collectors.toUnmodifiableList());\n</code></pre>\n\n<p>Explanation of <code>collect</code> from the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.stream.Collector-\" rel=\"nofollow noreferrer\">JavaDoc</a>:</p>\n\n<blockquote>\n  <p>Performs a mutable reduction operation on the elements of this stream\n  using a Collector. A Collector encapsulates the functions used as\n  arguments to collect(Supplier, BiConsumer, BiConsumer), allowing for\n  reuse of collection strategies and composition of collect operations\n  such as multiple-level grouping or partitioning. If the stream is\n  parallel, and the Collector is concurrent, and either the stream is\n  unordered or the collector is unordered, then a concurrent reduction\n  will be performed (see Collector for details on concurrent reduction.)</p>\n  \n  <p>This is a terminal operation.</p>\n  \n  <p>When executed in parallel, multiple intermediate results may be\n  instantiated, populated, and merged so as to maintain isolation of\n  mutable data structures. Therefore, even when executed in parallel\n  with non-thread-safe data structures (such as ArrayList), no\n  additional synchronization is needed for a parallel reduction.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1693775983,"creation_date":1609749363,"answer_id":65559746,"question_id":14830313,"body_markdown":"There is a new method [Stream.toList()][1] in Java 16:\r\n\r\n    List&lt;Long&gt; targetLongList = sourceLongList\r\n             .stream()\r\n             .filter(l -&gt; l &gt; 100)\r\n             .toList();\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/stream/Stream.html#toList()","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>There is a new method <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/stream/Stream.html#toList()\" rel=\"nofollow noreferrer\">Stream.toList()</a> in Java 16:</p>\n<pre><code>List&lt;Long&gt; targetLongList = sourceLongList\n         .stream()\n         .filter(l -&gt; l &gt; 100)\n         .toList();\n</code></pre>\n"}],"owner":{"account_id":1750802,"reputation":5797,"user_id":1599926,"accept_rate":83,"display_name":"Daniel K."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439142,"favorite_count":0,"down_vote_count":0,"up_vote_count":497,"accepted_answer_id":14832470,"answer_count":15,"score":497,"last_activity_date":1693775983,"creation_date":1360664768,"question_id":14830313,"body_markdown":"I was playing around with Java 8 lambdas to easily filter collections. But I did not find a concise way to retrieve the result as a new list within the same statement. Here is my most concise approach so far:\r\n\r\n    List&lt;Long&gt; sourceLongList = Arrays.asList(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\r\n    List&lt;Long&gt; targetLongList = new ArrayList&lt;&gt;();\r\n    sourceLongList.stream().filter(l -&gt; l &gt; 100).forEach(targetLongList::add);\r\n\r\nExamples on the net did not answer my question because they stop without generating a new result list. There must be a more concise way. I would have expected, that the `Stream` class has methods as `toList()`, `toSet()`, \r\n\r\nIs there a way that the variables `targetLongList` can be directly be assigned by the third line?","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>I was playing around with Java 8 lambdas to easily filter collections. But I did not find a concise way to retrieve the result as a new list within the same statement. Here is my most concise approach so far:</p>\n\n<pre><code>List&lt;Long&gt; sourceLongList = Arrays.asList(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\nList&lt;Long&gt; targetLongList = new ArrayList&lt;&gt;();\nsourceLongList.stream().filter(l -&gt; l &gt; 100).forEach(targetLongList::add);\n</code></pre>\n\n<p>Examples on the net did not answer my question because they stop without generating a new result list. There must be a more concise way. I would have expected, that the <code>Stream</code> class has methods as <code>toList()</code>, <code>toSet()</code>, </p>\n\n<p>Is there a way that the variables <code>targetLongList</code> can be directly be assigned by the third line?</p>\n"},{"tags":["java","collections","frameworks"],"comments":[{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":1,"creation_date":1526458664,"post_id":50365605,"comment_id":87747531,"body_markdown":"Could you post some code that&#39;s giving you this error?","body":"Could you post some code that&#39;s giving you this error?"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526458886,"creation_date":1526458886,"answer_id":50365734,"question_id":50365605,"body_markdown":"&gt;What does it mean to say values must be of collection type\r\n\r\nPerhaps you are referring to the `values()` method of the `Map` interface.\r\n\r\nRegardless of what the type of a single value in the `Map` may be (`Integer`, `String`, `Set&lt;String&gt;`, etc...), when you call the `values()` method, which returns all the values stored in the `Map`, you get a `Collection` of these values.\r\n\r\nFor example, in the case of your:\r\n\r\n    Map&lt;String,Set&lt;String&gt;&gt; map;\r\n\r\ncalling `values()` will give you a:\r\n\r\n    Collection&lt;Set&lt;String&gt;&gt; values = map.values();\r\n\r\nThe reasons a general `Collection` is returned here are:\r\n\r\n1. Values don&#39;t have to be unique (there can be duplicates), so we can&#39;t return a `Set` of values.\r\n2. Values don&#39;t have to be ordered (this the entries of a `Map` don&#39;t have to be ordered), so returning a `List` of values doesn&#39;t make sense.\r\n","title":"The values must be of a collection type from the Collections Framework","body":"<blockquote>\n  <p>What does it mean to say values must be of collection type</p>\n</blockquote>\n\n<p>Perhaps you are referring to the <code>values()</code> method of the <code>Map</code> interface.</p>\n\n<p>Regardless of what the type of a single value in the <code>Map</code> may be (<code>Integer</code>, <code>String</code>, <code>Set&lt;String&gt;</code>, etc...), when you call the <code>values()</code> method, which returns all the values stored in the <code>Map</code>, you get a <code>Collection</code> of these values.</p>\n\n<p>For example, in the case of your:</p>\n\n<pre><code>Map&lt;String,Set&lt;String&gt;&gt; map;\n</code></pre>\n\n<p>calling <code>values()</code> will give you a:</p>\n\n<pre><code>Collection&lt;Set&lt;String&gt;&gt; values = map.values();\n</code></pre>\n\n<p>The reasons a general <code>Collection</code> is returned here are:</p>\n\n<ol>\n<li>Values don't have to be unique (there can be duplicates), so we can't return a <code>Set</code> of values.</li>\n<li>Values don't have to be ordered (this the entries of a <code>Map</code> don't have to be ordered), so returning a <code>List</code> of values doesn't make sense.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10828765,"reputation":23,"user_id":7963896,"display_name":"Flying Dutchman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526459052,"creation_date":1526459052,"answer_id":50365796,"question_id":50365605,"body_markdown":"Java Collections is a general class framework on top of data structures such as lists, sets, maps and more. Collections has a large number of methods defined, which can operate on a number of actual data structures. The well-developed casting and overriding mechanism in Java ensures that the appropriate data structures are converted to, before a general collections method is being called.\r\n\r\nThere are also special collection types, like immutable maps and immutable lists.\r\n\r\nAll-in-all the Collections framework allows Java developers to apply a large set of well-known operators (methods) to many structured data types. You can read the book on OCP, where one chapter is devoted completely to the collections framework.","title":"The values must be of a collection type from the Collections Framework","body":"<p>Java Collections is a general class framework on top of data structures such as lists, sets, maps and more. Collections has a large number of methods defined, which can operate on a number of actual data structures. The well-developed casting and overriding mechanism in Java ensures that the appropriate data structures are converted to, before a general collections method is being called.</p>\n\n<p>There are also special collection types, like immutable maps and immutable lists.</p>\n\n<p>All-in-all the Collections framework allows Java developers to apply a large set of well-known operators (methods) to many structured data types. You can read the book on OCP, where one chapter is devoted completely to the collections framework.</p>\n"}],"owner":{"account_id":13583350,"reputation":11,"user_id":9798685,"display_name":"Daniel Irish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693775634,"creation_date":1526458451,"question_id":50365605,"body_markdown":"\r\nExample scenario:\r\n\r\nA Map with Strings that are Keys and represent peoples Names. \r\nThe values are Sets of Strings and each String represents a Car they own. \r\n\r\nWhat does it mean to say values must be of collection type. I don&#39;t get it, are they not collection type when in the collection. For instance are the Strings not collection type when in the Set collection. Could someone explain that sentence?","title":"The values must be of a collection type from the Collections Framework","body":"<p>Example scenario:</p>\n<p>A Map with Strings that are Keys and represent peoples Names.\nThe values are Sets of Strings and each String represents a Car they own.</p>\n<p>What does it mean to say values must be of collection type. I don't get it, are they not collection type when in the collection. For instance are the Strings not collection type when in the Set collection. Could someone explain that sentence?</p>\n"},{"tags":["java","hashmap","duplicates","size"],"comments":[{"owner":{"account_id":12695174,"reputation":45207,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1562072779,"post_id":56853073,"comment_id":100256385,"body_markdown":"Maybe [this question](https://stackoverflow.com/questions/304268/getting-a-files-md5-checksum-in-java) could be of help","body":"Maybe <a href=\"https://stackoverflow.com/questions/304268/getting-a-files-md5-checksum-in-java\">this question</a> could be of help"},{"owner":{"account_id":968480,"reputation":166,"user_id":991488,"display_name":"Konrad Szakowski"},"score":0,"creation_date":1562073156,"post_id":56853073,"comment_id":100256589,"body_markdown":"Have you tried to introduce some FileHeader class in which you use all the elements that matter to you? On basis of this class output some checksum - sha or md5  and use it for a key in Collectors.grouping()?","body":"Have you tried to introduce some FileHeader class in which you use all the elements that matter to you? On basis of this class output some checksum - sha or md5  and use it for a key in Collectors.grouping()?"}],"answers":[{"comments":[{"owner":{"account_id":16222987,"reputation":43,"user_id":11714122,"display_name":"Petru  L"},"score":0,"creation_date":1562077947,"post_id":56853406,"comment_id":100259603,"body_markdown":"If I use private static MessageDigest messageDigest;\n    static {\n        try {\n            messageDigest = MessageDigest.getInstance(&quot;SHA-512&quot;);\n        } catch (NoSuchAlgorithmException e) {\n            throw new RuntimeException(&quot;cannot initialize SHA-512 hash function&quot;, e);\n        }\n    }    ,it&#39;s the same think like you say ?","body":"If I use private static MessageDigest messageDigest;     static {         try {             messageDigest = MessageDigest.getInstance(&quot;SHA-512&quot;);         } catch (NoSuchAlgorithmException e) {             throw new RuntimeException(&quot;cannot initialize SHA-512 hash function&quot;, e);         }     }    ,it&#39;s the same think like you say ?"},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1693696181,"post_id":56853406,"comment_id":135795007,"body_markdown":"Really like Lombok, but we can use Java records instead of `@Value` now, no?","body":"Really like Lombok, but we can use Java records instead of <code>@Value</code> now, no?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1693736342,"post_id":56853406,"comment_id":135797400,"body_markdown":"@riddle_me_this Records cannot extend, records imply all sorts of things (example: Every value must be settable during construction; no value can be generated, e.g. you can&#39;t have an always-randomly generated ID), they don&#39;t have builders yet, and lombok does other things like builders for methods-with-lots-of-args.","body":"@riddle_me_this Records cannot extend, records imply all sorts of things (example: Every value must be settable during construction; no value can be generated, e.g. you can&#39;t have an always-randomly generated ID), they don&#39;t have builders yet, and lombok does other things like builders for methods-with-lots-of-args."},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1693761814,"post_id":56853406,"comment_id":135800188,"body_markdown":"Valid points.  I suppose that if you needed a builder, you can use `@Builder` from Lombok on the record until that is supported.","body":"Valid points.  I suppose that if you needed a builder, you can use <code>@Builder</code> from Lombok on the record until that is supported."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562073456,"creation_date":1562073456,"answer_id":56853406,"question_id":56853073,"body_markdown":"Considering 2 files equal if they have the same extension and the same file size is simply a matter of creating an object that represents this &#39;equality&#39;. So, you&#39;d make something like:\r\n\r\n    public class FileEquality {\r\n        private final String fileExtension;\r\n        private final long fileSize;\r\n\r\n        // constructor, toString, equals, hashCode, and getters here.\r\n    }\r\n\r\n(and fill in all the missing boilerplate: Constructor, toString, equals, hashCode, and getters. See [Project Lombok&#39;s @Value](https://projectlombok.org/features/Value) to make this easy if you like). You can get the file extension from a file name by using `fileName.lastIndexOf(&#39;.&#39;)` and `fileName.substring(lastIndex)`. With lombok all you&#39;d have to write is:\r\n\r\n    @lombok.Value public class FileEquality {\r\n        String fileExtension;\r\n        long fileSize;\r\n    }\r\n\r\nThen use `FileEquality` objects as keys in your hashmap instead of strings. However, just because you have, say, &#39;foo.txt&#39; and &#39;bar.txt&#39; that both happen to be 500 bytes in size doesn&#39;t mean these 2 files are duplicates. So, you want content involved too, but, if you extend your `FileEquality` class to include the content of the file, then 2 things come up:\r\n\r\n1. If you&#39;re checking content anyway, what does the size and file extension matter? If the content of `foo.txt` and `bar.jpg` are precisely the same, they are duplicates, no? Why bother. You can convey the content as a `byte[]`, but note that writing a proper `hashCode()` and `equals()` implementation (which are required if you want to use this object as a key for hashmaps) becomes a little trickier. Fortunately, lombok&#39;s `@Value` will get it right, so I suggest you use that.\r\n\r\n2. This implies the _entirety_ of the file content is in your JVM&#39;s process memory. Unless you&#39;re doing a check on very small files, you&#39;ll just run out of memory. You can abstract this away somewhat by not storing the file&#39;s entire content, but storing a hash of the content. Google around for how to calculate the sha-256 hash of a file in java. Put this hash value in your `FileEquality` and now you avoid the memory issue. It is theoretically possible to have 2 files with different contents which nevertheless hash to the exact same sha-256 value but the chances of that are astronomical, and more to the point, sha-256 is designed such that it is not mathematically feasible to intentionally make 2 such files to mess with your application. Therefore, I suggest you just trust the hash :)\r\n\r\nNote, of course, that hashing an entire file requires reading the entire file, so if you run your duplicate finder on a directory containing, say, 500GB worth of files, then your application will require at the very least reading of 500GB, which will take some time.\r\n","title":"Java: How to search duplicate files in a folder not only by name ,but also by size and content?","body":"<p>Considering 2 files equal if they have the same extension and the same file size is simply a matter of creating an object that represents this 'equality'. So, you'd make something like:</p>\n\n<pre><code>public class FileEquality {\n    private final String fileExtension;\n    private final long fileSize;\n\n    // constructor, toString, equals, hashCode, and getters here.\n}\n</code></pre>\n\n<p>(and fill in all the missing boilerplate: Constructor, toString, equals, hashCode, and getters. See <a href=\"https://projectlombok.org/features/Value\" rel=\"nofollow noreferrer\">Project Lombok's @Value</a> to make this easy if you like). You can get the file extension from a file name by using <code>fileName.lastIndexOf('.')</code> and <code>fileName.substring(lastIndex)</code>. With lombok all you'd have to write is:</p>\n\n<pre><code>@lombok.Value public class FileEquality {\n    String fileExtension;\n    long fileSize;\n}\n</code></pre>\n\n<p>Then use <code>FileEquality</code> objects as keys in your hashmap instead of strings. However, just because you have, say, 'foo.txt' and 'bar.txt' that both happen to be 500 bytes in size doesn't mean these 2 files are duplicates. So, you want content involved too, but, if you extend your <code>FileEquality</code> class to include the content of the file, then 2 things come up:</p>\n\n<ol>\n<li><p>If you're checking content anyway, what does the size and file extension matter? If the content of <code>foo.txt</code> and <code>bar.jpg</code> are precisely the same, they are duplicates, no? Why bother. You can convey the content as a <code>byte[]</code>, but note that writing a proper <code>hashCode()</code> and <code>equals()</code> implementation (which are required if you want to use this object as a key for hashmaps) becomes a little trickier. Fortunately, lombok's <code>@Value</code> will get it right, so I suggest you use that.</p></li>\n<li><p>This implies the <em>entirety</em> of the file content is in your JVM's process memory. Unless you're doing a check on very small files, you'll just run out of memory. You can abstract this away somewhat by not storing the file's entire content, but storing a hash of the content. Google around for how to calculate the sha-256 hash of a file in java. Put this hash value in your <code>FileEquality</code> and now you avoid the memory issue. It is theoretically possible to have 2 files with different contents which nevertheless hash to the exact same sha-256 value but the chances of that are astronomical, and more to the point, sha-256 is designed such that it is not mathematically feasible to intentionally make 2 such files to mess with your application. Therefore, I suggest you just trust the hash :)</p></li>\n</ol>\n\n<p>Note, of course, that hashing an entire file requires reading the entire file, so if you run your duplicate finder on a directory containing, say, 500GB worth of files, then your application will require at the very least reading of 500GB, which will take some time.</p>\n"},{"tags":[],"owner":{"account_id":14379342,"reputation":644,"user_id":10387008,"display_name":"Eboubaker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562074075,"creation_date":1562073511,"answer_id":56853419,"question_id":56853073,"body_markdown":"I made this application long ago I found some of its source code for you if you want to learn.\r\n\r\nthis method works by comparing both of files bytes.\r\n\r\n    public static boolean checkBinaryEquality(File file1, File file2) {\r\n\t\tif(file1.length() != file2.length()) return false;\r\n\t\ttry(FileInputStream f1 = new FileInputStream(file1); FileInputStream f2 = new FileInputStream(file2)){\r\n\t\t\t\tbyte bus1[] = new byte[1024],\r\n\t\t\t\t\t bus2[] = new byte[1024];\r\n\t\t\t\t// comparing files bytes one by one if we found unmatched results that means they are not equal\r\n\t\t\t\twhile((f1.read(bus1)) &gt;= 0) {\r\n\t\t\t\t\tf2.read(bus2);\r\n\t\t\t\t\tfor(int i = 0; i &lt; 1024;i++)\r\n\t\t\t\t\t\tif(bus1[i] != bus2[i]) \r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t// passed\r\n\t\t\t\treturn true;\r\n\t\t} catch (IOException exp) {\r\n\t\t\t// problems occurred so let&#39;s consider them not equal\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\ncombine this method with name and extension checking and you are ready to go.","title":"Java: How to search duplicate files in a folder not only by name ,but also by size and content?","body":"<p>I made this application long ago I found some of its source code for you if you want to learn.</p>\n\n<p>this method works by comparing both of files bytes.</p>\n\n<pre><code>public static boolean checkBinaryEquality(File file1, File file2) {\n    if(file1.length() != file2.length()) return false;\n    try(FileInputStream f1 = new FileInputStream(file1); FileInputStream f2 = new FileInputStream(file2)){\n            byte bus1[] = new byte[1024],\n                 bus2[] = new byte[1024];\n            // comparing files bytes one by one if we found unmatched results that means they are not equal\n            while((f1.read(bus1)) &gt;= 0) {\n                f2.read(bus2);\n                for(int i = 0; i &lt; 1024;i++)\n                    if(bus1[i] != bus2[i]) \n                        return false;\n            }\n            // passed\n            return true;\n    } catch (IOException exp) {\n        // problems occurred so let's consider them not equal\n        return false;\n    }\n}\n</code></pre>\n\n<p>combine this method with name and extension checking and you are ready to go.</p>\n"},{"tags":[],"owner":{"account_id":16222987,"reputation":43,"user_id":11714122,"display_name":"Petru  L"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1562078595,"creation_date":1562078595,"answer_id":56854960,"question_id":56853073,"body_markdown":"I used MessageDigest and checked some files and find the duplicates according to all the criteria I have listed in the title and description. Thank you all.\r\n\r\n    private static MessageDigest messageDigest;\r\n    static {\r\n        try {\r\n            messageDigest = MessageDigest.getInstance(&quot;SHA-512&quot;);\r\n        } catch (NoSuchAlgorithmException e) {\r\n            throw new RuntimeException(&quot;cannot initialize SHA-512 hash function&quot;, e);\r\n        }\r\n    }   \r\n\r\nand this is the result after implementation in the search code for duplicates\r\n\r\n    public static void find(Map&lt;String, List&lt;String&gt;&gt; lists, File dir) {\r\n    for (File f : dir.listFiles()) {\r\n      if (f.isDirectory()) {\r\n        find(lists, f);\r\n      } else {\r\n          try{\r\n              FileInputStream fi = new FileInputStream(f);\r\n              byte fileData[] = new byte[(int) f.length()];\r\n                    fi.read(fileData);\r\n                    fi.close();\r\n                    //Crearea id unic hash pentru fisierul curent\r\n                    String hash = new BigInteger(1, messageDigest.digest(fileData)).toString(16);\r\n                    List&lt;String&gt; list = lists.get(hash);\r\n                    if (list == null) {\r\n                        list = new LinkedList&lt;String&gt;();\r\n                    }\r\n                    //Adugai calea ctre list\r\n                    list.add(f.getAbsolutePath());\r\n                    //Adauga lista actualizat la tabelul Hash\r\n                    lists.put(hash, list);\r\n                    \r\n          }catch (IOException e) {\r\n                    throw new RuntimeException(&quot;cannot read file &quot; + f.getAbsolutePath(), e);\r\n                }\r\n        \r\n      }\r\n    }\r\n  }","title":"Java: How to search duplicate files in a folder not only by name ,but also by size and content?","body":"<p>I used MessageDigest and checked some files and find the duplicates according to all the criteria I have listed in the title and description. Thank you all.</p>\n\n<pre><code>private static MessageDigest messageDigest;\nstatic {\n    try {\n        messageDigest = MessageDigest.getInstance(\"SHA-512\");\n    } catch (NoSuchAlgorithmException e) {\n        throw new RuntimeException(\"cannot initialize SHA-512 hash function\", e);\n    }\n}   \n</code></pre>\n\n<p>and this is the result after implementation in the search code for duplicates</p>\n\n<pre><code>public static void find(Map&lt;String, List&lt;String&gt;&gt; lists, File dir) {\nfor (File f : dir.listFiles()) {\n  if (f.isDirectory()) {\n    find(lists, f);\n  } else {\n      try{\n          FileInputStream fi = new FileInputStream(f);\n          byte fileData[] = new byte[(int) f.length()];\n                fi.read(fileData);\n                fi.close();\n                //Crearea id unic hash pentru fisierul curent\n                String hash = new BigInteger(1, messageDigest.digest(fileData)).toString(16);\n                List&lt;String&gt; list = lists.get(hash);\n                if (list == null) {\n                    list = new LinkedList&lt;String&gt;();\n                }\n                //Adugai calea ctre list\n                list.add(f.getAbsolutePath());\n                //Adauga lista actualizat la tabelul Hash\n                lists.put(hash, list);\n\n      }catch (IOException e) {\n                throw new RuntimeException(\"cannot read file \" + f.getAbsolutePath(), e);\n            }\n\n  }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"display_name":"user4602302"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562083350,"creation_date":1562082486,"answer_id":56856069,"question_id":56853073,"body_markdown":"copy-paste-example\r\n\r\n 1. create a class that extends `File`\r\n\r\n        import java.io.File;\r\n        import java.io.FileInputStream;\r\n        import java.io.IOException;\r\n        import java.util.Arrays;\r\n        \r\n        public class MyFile extends File {\r\n            private static final long serialVersionUID = 1L;\r\n        \r\n            public MyFile(final String pathname) {\r\n                super(pathname);\r\n            }\r\n        \r\n            @Override\r\n            public boolean equals(final Object obj) {\r\n                if (this == obj) {\r\n                    return true;\r\n                }\r\n                if (this.getClass() != obj.getClass()) {\r\n                    return false;\r\n                }\r\n                final MyFile other = (MyFile) obj;\r\n                if (!Arrays.equals(this.getContent(), other.getContent())) {\r\n                    return false;\r\n                }\r\n                if (this.getName() == null) {\r\n                    if (other.getName() != null) {\r\n                        return false;\r\n                    }\r\n                } else if (!this.getName().equals(other.getName())) {\r\n                    return false;\r\n                }\r\n                if (this.length() != other.length()) {\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n        \r\n            @Override\r\n            public int hashCode() {\r\n                final int prime = 31;\r\n                int result = prime;\r\n                result = (prime * result) + Arrays.hashCode(this.getContent());\r\n                result = (prime * result) + ((this.getName() == null) ? 0 : this.getName().hashCode());\r\n                result = (prime * result) + (int) (this.length() ^ (this.length() &gt;&gt;&gt; 32));\r\n                return result;\r\n            }\r\n        \r\n            private byte[] getContent() {\r\n                try (final FileInputStream fis = new FileInputStream(this)) {\r\n                    return fis.readAllBytes();\r\n                } catch (final IOException e) {\r\n                    e.printStackTrace();\r\n                    return new byte[] {};\r\n                }\r\n            }\r\n        }\r\n\r\n 2. read base directory\r\n\r\n        import java.io.File;\r\n        import java.util.HashMap;\r\n        import java.util.Iterator;\r\n        import java.util.List;\r\n        import java.util.Map;\r\n        import java.util.Map.Entry;\r\n        import java.util.Vector;\r\n        \r\n        public class FileTest {\r\n            public FileTest() {\r\n                super();\r\n            }\r\n        \r\n            public static void main(final String[] args) {\r\n                final Map&lt;MyFile, List&lt;MyFile&gt;&gt; duplicates = new HashMap&lt;&gt;();\r\n                FileTest.handleDirectory(duplicates, new File(&quot;[path to base directory]&quot;));\r\n                final Iterator&lt;Entry&lt;MyFile, List&lt;MyFile&gt;&gt;&gt; iterator = duplicates.entrySet().iterator();\r\n                while (iterator.hasNext()) {\r\n                    final Entry&lt;MyFile, List&lt;MyFile&gt;&gt; next = iterator.next();\r\n                    if (next.getValue().size() == 0) {\r\n                        iterator.remove();\r\n                    } else {\r\n                        System.out.println(next.getKey().getName() + &quot; - &quot; + next.getKey().getAbsolutePath());\r\n                        for (final MyFile file : next.getValue()) {\r\n                            System.out.println(&quot;        -&gt;&quot; + file.getName() + &quot; - &quot; + file.getAbsolutePath());\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        \r\n            private static void handleDirectory(final Map&lt;MyFile, List&lt;MyFile&gt;&gt; duplicates, final File directory) {\r\n                final File dir = directory;\r\n                if (dir.isDirectory()) {\r\n                    final File[] files = dir.listFiles();\r\n                    for (final File file : files) {\r\n                        if (file.isDirectory()) {\r\n                            FileTest.handleDirectory(duplicates, file);\r\n                            continue;\r\n                        }\r\n                        final MyFile myFile = new MyFile(file.getAbsolutePath());\r\n                        if (!duplicates.containsKey(myFile)) {\r\n                            duplicates.put(myFile, new Vector&lt;&gt;());\r\n                        } else {\r\n                            duplicates.get(myFile).add(myFile);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n","title":"Java: How to search duplicate files in a folder not only by name ,but also by size and content?","body":"<p>copy-paste-example</p>\n\n<ol>\n<li><p>create a class that extends <code>File</code></p>\n\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.util.Arrays;\n\npublic class MyFile extends File {\n    private static final long serialVersionUID = 1L;\n\n    public MyFile(final String pathname) {\n        super(pathname);\n    }\n\n    @Override\n    public boolean equals(final Object obj) {\n        if (this == obj) {\n            return true;\n        }\n        if (this.getClass() != obj.getClass()) {\n            return false;\n        }\n        final MyFile other = (MyFile) obj;\n        if (!Arrays.equals(this.getContent(), other.getContent())) {\n            return false;\n        }\n        if (this.getName() == null) {\n            if (other.getName() != null) {\n                return false;\n            }\n        } else if (!this.getName().equals(other.getName())) {\n            return false;\n        }\n        if (this.length() != other.length()) {\n            return false;\n        }\n        return true;\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = prime;\n        result = (prime * result) + Arrays.hashCode(this.getContent());\n        result = (prime * result) + ((this.getName() == null) ? 0 : this.getName().hashCode());\n        result = (prime * result) + (int) (this.length() ^ (this.length() &gt;&gt;&gt; 32));\n        return result;\n    }\n\n    private byte[] getContent() {\n        try (final FileInputStream fis = new FileInputStream(this)) {\n            return fis.readAllBytes();\n        } catch (final IOException e) {\n            e.printStackTrace();\n            return new byte[] {};\n        }\n    }\n}\n</code></pre></li>\n<li><p>read base directory</p>\n\n<pre><code>import java.io.File;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.Vector;\n\npublic class FileTest {\n    public FileTest() {\n        super();\n    }\n\n    public static void main(final String[] args) {\n        final Map&lt;MyFile, List&lt;MyFile&gt;&gt; duplicates = new HashMap&lt;&gt;();\n        FileTest.handleDirectory(duplicates, new File(\"[path to base directory]\"));\n        final Iterator&lt;Entry&lt;MyFile, List&lt;MyFile&gt;&gt;&gt; iterator = duplicates.entrySet().iterator();\n        while (iterator.hasNext()) {\n            final Entry&lt;MyFile, List&lt;MyFile&gt;&gt; next = iterator.next();\n            if (next.getValue().size() == 0) {\n                iterator.remove();\n            } else {\n                System.out.println(next.getKey().getName() + \" - \" + next.getKey().getAbsolutePath());\n                for (final MyFile file : next.getValue()) {\n                    System.out.println(\"        -&gt;\" + file.getName() + \" - \" + file.getAbsolutePath());\n                }\n            }\n        }\n    }\n\n    private static void handleDirectory(final Map&lt;MyFile, List&lt;MyFile&gt;&gt; duplicates, final File directory) {\n        final File dir = directory;\n        if (dir.isDirectory()) {\n            final File[] files = dir.listFiles();\n            for (final File file : files) {\n                if (file.isDirectory()) {\n                    FileTest.handleDirectory(duplicates, file);\n                    continue;\n                }\n                final MyFile myFile = new MyFile(file.getAbsolutePath());\n                if (!duplicates.containsKey(myFile)) {\n                    duplicates.put(myFile, new Vector&lt;&gt;());\n                } else {\n                    duplicates.get(myFile).add(myFile);\n                }\n            }\n        }\n    }\n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693774969,"creation_date":1693762505,"answer_id":77033494,"question_id":56853073,"body_markdown":"Here is one way that works with Java records and a Comparator.  These are immutable.  You can also adjust the semantics of `equals()` and `hashCode()` for your use case.\r\n\r\nAs @rzwitserloot notes, a drawback is lack of builder support (for which you can annotate the record with @Builder from Lombok as needed) and values must be set at construction.\r\n    \r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Objects;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public record FileEquality(String name,\r\n                               String fileExtension,\r\n                               long fileSize) implements Comparable&lt;FileEquality&gt; {\r\n    \r\n        private static final Comparator&lt;FileEquality&gt; COMPARATOR =\r\n                Comparator.comparingLong(FileEquality::fileSize)\r\n                        .thenComparing(FileEquality::fileExtension);\r\n            \r\n        @Override\r\n        public int compareTo(FileEquality other) {\r\n            return COMPARATOR.compare(this, other);\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (!(o instanceof FileEquality that)) return false;\r\n            return fileSize == that.fileSize &amp;&amp;\r\n                    Objects.equals(fileExtension, that.fileExtension);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(fileSize, fileExtension);\r\n        }\r\n    \r\n        public String toString() {\r\n            return &quot;name=&quot; + this.name + \r\n                    &quot;, size=&quot; + this.fileSize + &quot;, ext=&quot; + this.fileExtension;\r\n        }\r\n    }\r\n\r\nYour choice of how you find the duplicates, as there are many ways:\r\n\r\n    public List&lt;FileEquality&gt; findDuplicates(List&lt;FileEquality&gt; fileList) {\r\n        Map&lt;FileEquality, Long&gt; counts = fileList.stream()\r\n                .collect(Collectors.groupingBy(\r\n                        file -&gt; file,\r\n                        Collectors.counting()\r\n                ));\r\n    \r\n        return counts.entrySet().stream()\r\n                .filter(entry -&gt; entry.getValue() &gt; 1)\r\n                .map(Map.Entry::getKey)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\nAnd calling it:\r\n\r\n    List&lt;FileEquality&gt; equalityList = new ArrayList&lt;&gt;(0);\r\n    //create one for each file here\r\n    FileEquality equality = new FileEquality(yourFileName, yourFileSize, yourFileExtension);\r\n    equalityList.add(equality);\r\n\r\n    List&lt;FileEquality&gt; duplicates = findDuplicates(equalityList);\r\n    System.out.println(&quot;Duplicate files by size and extension:&quot;);\r\n    duplicates.forEach(System.out::println);\r\n\r\n(Use a logger in your real code).","title":"Java: How to search duplicate files in a folder not only by name ,but also by size and content?","body":"<p>Here is one way that works with Java records and a Comparator.  These are immutable.  You can also adjust the semantics of <code>equals()</code> and <code>hashCode()</code> for your use case.</p>\n<p>As @rzwitserloot notes, a drawback is lack of builder support (for which you can annotate the record with @Builder from Lombok as needed) and values must be set at construction.</p>\n<pre><code>import java.util.Comparator;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Objects;\nimport java.util.stream.Collectors;\n\npublic record FileEquality(String name,\n                           String fileExtension,\n                           long fileSize) implements Comparable&lt;FileEquality&gt; {\n\n    private static final Comparator&lt;FileEquality&gt; COMPARATOR =\n            Comparator.comparingLong(FileEquality::fileSize)\n                    .thenComparing(FileEquality::fileExtension);\n        \n    @Override\n    public int compareTo(FileEquality other) {\n        return COMPARATOR.compare(this, other);\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof FileEquality that)) return false;\n        return fileSize == that.fileSize &amp;&amp;\n                Objects.equals(fileExtension, that.fileExtension);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(fileSize, fileExtension);\n    }\n\n    public String toString() {\n        return &quot;name=&quot; + this.name + \n                &quot;, size=&quot; + this.fileSize + &quot;, ext=&quot; + this.fileExtension;\n    }\n}\n</code></pre>\n<p>Your choice of how you find the duplicates, as there are many ways:</p>\n<pre><code>public List&lt;FileEquality&gt; findDuplicates(List&lt;FileEquality&gt; fileList) {\n    Map&lt;FileEquality, Long&gt; counts = fileList.stream()\n            .collect(Collectors.groupingBy(\n                    file -&gt; file,\n                    Collectors.counting()\n            ));\n\n    return counts.entrySet().stream()\n            .filter(entry -&gt; entry.getValue() &gt; 1)\n            .map(Map.Entry::getKey)\n            .collect(Collectors.toList());\n}\n</code></pre>\n<p>And calling it:</p>\n<pre><code>List&lt;FileEquality&gt; equalityList = new ArrayList&lt;&gt;(0);\n//create one for each file here\nFileEquality equality = new FileEquality(yourFileName, yourFileSize, yourFileExtension);\nequalityList.add(equality);\n\nList&lt;FileEquality&gt; duplicates = findDuplicates(equalityList);\nSystem.out.println(&quot;Duplicate files by size and extension:&quot;);\nduplicates.forEach(System.out::println);\n</code></pre>\n<p>(Use a logger in your real code).</p>\n"}],"owner":{"account_id":16222987,"reputation":43,"user_id":11714122,"display_name":"Petru  L"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5830,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56854960,"answer_count":5,"score":2,"last_activity_date":1693774969,"creation_date":1562072408,"question_id":56853073,"body_markdown":"I want to create a Java application to identify duplicates. So far I can find duplicates only by name, but I also need size, file type, and maybe content. This is my code so far, using a `HashMap`:\r\n\r\n```java\r\npublic static void find(Map&lt;String, List&lt;String&gt;&gt; lists, File dir) {\r\n    for (File f : dir.listFiles()) {\r\n        if (f.isDirectory()) {\r\n            find(lists, f);\r\n        } else {\r\n            String hash = f.getName() + f.length();\r\n            List&lt;String&gt; list = lists.get(hash);\r\n            if (list == null) {\r\n                list = new LinkedList&lt;String&gt;();\r\n                lists.put(hash, list);\r\n            }\r\n            list.add(f.getAbsolutePath());\r\n        }\r\n    }\r\n}\r\n```","title":"Java: How to search duplicate files in a folder not only by name ,but also by size and content?","body":"<p>I want to create a Java application to identify duplicates. So far I can find duplicates only by name, but I also need size, file type, and maybe content. This is my code so far, using a <code>HashMap</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void find(Map&lt;String, List&lt;String&gt;&gt; lists, File dir) {\n    for (File f : dir.listFiles()) {\n        if (f.isDirectory()) {\n            find(lists, f);\n        } else {\n            String hash = f.getName() + f.length();\n            List&lt;String&gt; list = lists.get(hash);\n            if (list == null) {\n                list = new LinkedList&lt;String&gt;();\n                lists.put(hash, list);\n            }\n            list.add(f.getAbsolutePath());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","string","string-interpolation"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":4,"creation_date":1372422124,"post_id":17364632,"comment_id":25200239,"body_markdown":"http://stackoverflow.com/questions/3695230/how-to-use-java-string-format","body":"<a href=\"http://stackoverflow.com/questions/3695230/how-to-use-java-string-format\" title=\"how to use java string format\">stackoverflow.com/questions/3695230/&hellip;</a>"},{"owner":{"account_id":4219756,"reputation":461,"user_id":4290127,"display_name":"Himanshu Chaudhary"},"score":1,"creation_date":1538750967,"post_id":17364632,"comment_id":92266252,"body_markdown":"The slf4J uses `org.slf4j.helpers.MessageFormatter`\nThe code looks like this:\n   `String str = &quot;Hello this is {} string {}&quot;;\n    MessageFormatter.format(str, new String[]{&quot;hello&quot;, &quot;world&quot;, &quot;blah&quot;}).getMessage();`","body":"The slf4J uses <code>org.slf4j.helpers.MessageFormatter</code> The code looks like this:    <code>String str = &quot;Hello this is {} string {}&quot;;     MessageFormatter.format(str, new String[]{&quot;hello&quot;, &quot;world&quot;, &quot;blah&quot;}).getMessage();</code>"},{"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"score":0,"creation_date":1671377358,"post_id":17364632,"comment_id":132082086,"body_markdown":"Does this answer your question? [String replacement in java, similar to a velocity template](https://stackoverflow.com/questions/3655424/string-replacement-in-java-similar-to-a-velocity-template)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3655424/string-replacement-in-java-similar-to-a-velocity-template\">String replacement in java, similar to a velocity template</a>"}],"answers":[{"tags":[],"owner":{"account_id":544182,"reputation":11238,"user_id":913543,"accept_rate":89,"display_name":"LaurentG"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1372422181,"creation_date":1372422181,"answer_id":17364669,"question_id":17364632,"body_markdown":"If you can change the format of your placeholder, you could use `String.format()`. If not, you could also replace it as pre-processing.\r\n\r\n    String.format(&quot;hello %s!&quot;, &quot;world&quot;);\r\n\r\nMore information in [this other thread][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3695230/how-to-use-java-string-format","title":"Java generating Strings with placeholders","body":"<p>If you can change the format of your placeholder, you could use <code>String.format()</code>. If not, you could also replace it as pre-processing.</p>\n\n<pre><code>String.format(\"hello %s!\", \"world\");\n</code></pre>\n\n<p>More information in <a href=\"https://stackoverflow.com/questions/3695230/how-to-use-java-string-format\">this other thread</a>.</p>\n"},{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1372422200,"creation_date":1372422200,"answer_id":17364677,"question_id":17364632,"body_markdown":"If you can tolerate a different kind of placeholder (i.e. `%s` in place of `{}`) you can use [`String.format`][1] method for that:\r\n\r\n    String s = &quot;hello %s!&quot;;\r\n    s = String.format(s, &quot;world&quot; );\r\n    assertEquals(s, &quot;hello world!&quot;); // true\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29","title":"Java generating Strings with placeholders","body":"<p>If you can tolerate a different kind of placeholder (i.e. <code>%s</code> in place of <code>{}</code>) you can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29\" rel=\"noreferrer\"><code>String.format</code></a> method for that:</p>\n\n<pre><code>String s = \"hello %s!\";\ns = String.format(s, \"world\" );\nassertEquals(s, \"hello world!\"); // true\n</code></pre>\n"},{"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1372422248,"post_id":17364678,"comment_id":25200304,"body_markdown":"I remember reading/testing that MessageFormat was pretty slow.","body":"I remember reading/testing that MessageFormat was pretty slow."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1372422315,"post_id":17364678,"comment_id":25200337,"body_markdown":"@assylias meh, I don&#39;t know, my message bundle API proposes both since I have `ResourceBundle` compatibility... But I personally always use `Formatter`.","body":"@assylias meh, I don&#39;t know, my message bundle API proposes both since I have <code>ResourceBundle</code> compatibility... But I personally always use <code>Formatter</code>."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1372422400,"post_id":17364678,"comment_id":25200376,"body_markdown":"I am not sure to be honest - and in most situations it won&#39;t make a difference anyway.","body":"I am not sure to be honest - and in most situations it won&#39;t make a difference anyway."},{"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"score":0,"creation_date":1372423010,"post_id":17364678,"comment_id":25200744,"body_markdown":"`MessageFormat` does have a few advantages over `Formatter` though, particularly the possibility to embed [`ChoiceFormat`](http://docs.oracle.com/javase/6/docs/api/java/text/ChoiceFormat.html) expressions.","body":"<code>MessageFormat</code> does have a few advantages over <code>Formatter</code> though, particularly the possibility to embed <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/ChoiceFormat.html\" rel=\"nofollow noreferrer\"><code>ChoiceFormat</code></a> expressions."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1372423227,"post_id":17364678,"comment_id":25200886,"body_markdown":"@gustafc not a problem, `Formatter` has [`Formattable`](http://docs.oracle.com/javase/7/docs/api/java/util/Formattable.html), which is even more powerful ;)","body":"@gustafc not a problem, <code>Formatter</code> has <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Formattable.html\" rel=\"nofollow noreferrer\"><code>Formattable</code></a>, which is even more powerful ;)"},{"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"score":0,"creation_date":1372424786,"post_id":17364678,"comment_id":25201833,"body_markdown":"@fge I wouldn&#39;t say that&#39;s a clearly better option in all circumstances, the canonical example being format strings like `Found {0,choice,0#nothing|1#one thing|{0} things}`","body":"@fge I wouldn&#39;t say that&#39;s a clearly better option in all circumstances, the canonical example being format strings like <code>Found {0,choice,0#nothing|1#one thing|{0} things}</code>"}],"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"comment_count":6,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1372422208,"creation_date":1372422208,"answer_id":17364678,"question_id":17364632,"body_markdown":"There are two solutions:\r\n\r\n* [`MessageFormat`][1];\r\n* [`Formatter`][2].\r\n\r\n`Formatter` is more recent even though it takes over `printf()` which is 40 years old...\r\n\r\nYour placeholder as you currently define it is one `MessageFormat` can use, but why use an antique technique? ;) Use `Formatter`.\r\n\r\nThere is all the more reason to use `Formatter` that you don&#39;t need to escape single quotes! `MessageFormat` requires you to do so. Also, `Formatter` has a shortcut via `String.format()` to generate strings, and `PrintWriter`s have `.printf()` (that includes `System.out` and `System.err` which are both `PrintWriter`s by default)\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html","title":"Java generating Strings with placeholders","body":"<p>There are two solutions:</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html\"><code>MessageFormat</code></a>;</li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html\"><code>Formatter</code></a>.</li>\n</ul>\n\n<p><code>Formatter</code> is more recent even though it takes over <code>printf()</code> which is 40 years old...</p>\n\n<p>Your placeholder as you currently define it is one <code>MessageFormat</code> can use, but why use an antique technique? ;) Use <code>Formatter</code>.</p>\n\n<p>There is all the more reason to use <code>Formatter</code> that you don't need to escape single quotes! <code>MessageFormat</code> requires you to do so. Also, <code>Formatter</code> has a shortcut via <code>String.format()</code> to generate strings, and <code>PrintWriter</code>s have <code>.printf()</code> (that includes <code>System.out</code> and <code>System.err</code> which are both <code>PrintWriter</code>s by default)</p>\n"},{"tags":[],"owner":{"account_id":46772,"reputation":19976,"user_id":138256,"accept_rate":90,"display_name":"codebox"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1372430280,"creation_date":1372422221,"answer_id":17364684,"question_id":17364632,"body_markdown":"You won&#39;t need a library; if you are using a recent version of Java, have a look at `String.format`:\r\n\r\n    String.format(&quot;Hello %s!&quot;, &quot;world&quot;);","title":"Java generating Strings with placeholders","body":"<p>You won't need a library; if you are using a recent version of Java, have a look at <code>String.format</code>:</p>\n\n<pre><code>String.format(\"Hello %s!\", \"world\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6115219,"reputation":409,"user_id":4770468,"accept_rate":56,"display_name":"Carlos.V"},"score":1,"creation_date":1547229728,"post_id":17364689,"comment_id":95134674,"body_markdown":"how to replace two `String`s in the same `format()` ? example `String.format(&quot;%s %s!&quot;, [&quot;hello&quot;, &quot;world&quot;]);` is this possible?","body":"how to replace two <code>String</code>s in the same <code>format()</code> ? example <code>String.format(&quot;%s %s!&quot;, [&quot;hello&quot;, &quot;world&quot;]);</code> is this possible?"},{"owner":{"account_id":2182386,"reputation":1126,"user_id":1931563,"display_name":"AlokeT"},"score":2,"creation_date":1565676300,"post_id":17364689,"comment_id":101416174,"body_markdown":"@Carlos.V use `String.format(&quot;Hello %s welcome to %s!&quot;, &quot;Carlos. V&quot;, &quot;JAVA&quot;);` will print `Hello Carlos. V welcome to JAVA!` and you can use as many %s as you can. :)","body":"@Carlos.V use <code>String.format(&quot;Hello %s welcome to %s!&quot;, &quot;Carlos. V&quot;, &quot;JAVA&quot;);</code> will print <code>Hello Carlos. V welcome to JAVA!</code> and you can use as many %s as you can. :)"}],"tags":[],"owner":{"account_id":203374,"reputation":47785,"user_id":450989,"display_name":"Grzegorz ur"},"comment_count":2,"down_vote_count":2,"up_vote_count":100,"is_accepted":true,"score":98,"last_activity_date":1429926566,"creation_date":1372422232,"answer_id":17364689,"question_id":17364632,"body_markdown":"See [`String.format`][1] method.\r\n\r\n    String s = &quot;hello %s!&quot;;\r\n    s = String.format(s, &quot;world&quot;);\r\n    assertEquals(s, &quot;hello world!&quot;); // should be true\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#format-java.lang.String-java.lang.Object...-","title":"Java generating Strings with placeholders","body":"<p>See <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#format-java.lang.String-java.lang.Object...-\"><code>String.format</code></a> method.</p>\n\n<pre><code>String s = \"hello %s!\";\ns = String.format(s, \"world\");\nassertEquals(s, \"hello world!\"); // should be true\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10861237,"reputation":593,"user_id":7986053,"display_name":"KeaganFouche"},"score":4,"creation_date":1537472793,"post_id":39874249,"comment_id":91808181,"body_markdown":"The StrSubstitutor is deprecated, see [this SO post for a work around.](https://stackoverflow.com/questions/14044715/strsubstitutor-replacement-with-jre-libraries)","body":"The StrSubstitutor is deprecated, see <a href=\"https://stackoverflow.com/questions/14044715/strsubstitutor-replacement-with-jre-libraries\">this SO post for a work around.</a>"},{"owner":{"account_id":288665,"reputation":1204,"user_id":589216,"accept_rate":55,"display_name":"andred"},"score":0,"creation_date":1619695734,"post_id":39874249,"comment_id":118985949,"body_markdown":"The `org.apache.commons.text.StringSubstitutor` from `org.apache.commons:commons-text:x.y` has taken it&#39;s place. Simply drop that one in and you&#39;re good to go without deprecation warnings.","body":"The <code>org.apache.commons.text.StringSubstitutor</code> from <code>org.apache.commons:commons-text:x.y</code> has taken it&#39;s place. Simply drop that one in and you&#39;re good to go without deprecation warnings."}],"tags":[],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"comment_count":2,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1693774378,"creation_date":1475671262,"answer_id":39874249,"question_id":17364632,"body_markdown":"`StrSubstitutor` from Apache Commons Lang may be used for string formatting with named placeholders:\r\n\r\n&lt;!-- language: xml --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nhttps://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/text/StrSubstitutor.html :\r\n\r\n&gt; Substitutes variables within a string by values.\r\n&gt; \r\n&gt; This class takes a piece of text and substitutes all the variables\r\n&gt; within it. The default definition of a variable is ${variableName}.\r\n&gt; The prefix and suffix can be changed via constructors and set methods.\r\n&gt; \r\n&gt; Variable values are typically resolved from a map, but could also be\r\n&gt; resolved from system properties, or by supplying a custom variable\r\n&gt; resolver.\r\n\r\nExample:\r\n\r\n    String template = &quot;Hi ${name}! Your number is ${number}&quot;;\r\n \r\n    Map&lt;String, String&gt; data = new HashMap&lt;String, String&gt;();\r\n    data.put(&quot;name&quot;, &quot;John&quot;);\r\n    data.put(&quot;number&quot;, &quot;1&quot;);\r\n   \r\n    String formattedString = StrSubstitutor.replace(template, data);","title":"Java generating Strings with placeholders","body":"<p><code>StrSubstitutor</code> from Apache Commons Lang may be used for string formatting with named placeholders:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n    &lt;version&gt;1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/text/StrSubstitutor.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/text/StrSubstitutor.html</a> :</p>\n<blockquote>\n<p>Substitutes variables within a string by values.</p>\n<p>This class takes a piece of text and substitutes all the variables\nwithin it. The default definition of a variable is ${variableName}.\nThe prefix and suffix can be changed via constructors and set methods.</p>\n<p>Variable values are typically resolved from a map, but could also be\nresolved from system properties, or by supplying a custom variable\nresolver.</p>\n</blockquote>\n<p>Example:</p>\n<pre><code>String template = &quot;Hi ${name}! Your number is ${number}&quot;;\n\nMap&lt;String, String&gt; data = new HashMap&lt;String, String&gt;();\ndata.put(&quot;name&quot;, &quot;John&quot;);\ndata.put(&quot;number&quot;, &quot;1&quot;);\n\nString formattedString = StrSubstitutor.replace(template, data);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8652943,"reputation":22456,"user_id":6478047,"accept_rate":76,"display_name":"Manohar"},"score":2,"creation_date":1603974498,"post_id":59497416,"comment_id":114208936,"body_markdown":"This is the best solution when adding localization as the place holder order changes for different languages .","body":"This is the best solution when adding localization as the place holder order changes for different languages ."}],"tags":[],"owner":{"account_id":1044026,"reputation":2141,"user_id":1049391,"accept_rate":62,"display_name":"AbhishekB"},"comment_count":1,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1577431493,"creation_date":1577431493,"answer_id":59497416,"question_id":17364632,"body_markdown":"This can be done in a single line without the use of library. Please check `java.text.MessageFormat` class.\r\n\r\nExample\r\n\r\n    String stringWithPlaceHolder = &quot;test String with placeholders {0} {1} {2} {3}&quot;;\r\n    String formattedStrin = java.text.MessageFormat.format(stringWithPlaceHolder, &quot;place-holder-1&quot;, &quot;place-holder-2&quot;, &quot;place-holder-3&quot;, &quot;place-holder-4&quot;);\r\n\r\nOutput will be \r\n\r\n    test String with placeholders place-holder-1 place-holder-2 place-holder-3 place-holder-4\r\n\r\n","title":"Java generating Strings with placeholders","body":"<p>This can be done in a single line without the use of library. Please check <code>java.text.MessageFormat</code> class.</p>\n\n<p>Example</p>\n\n<pre><code>String stringWithPlaceHolder = \"test String with placeholders {0} {1} {2} {3}\";\nString formattedStrin = java.text.MessageFormat.format(stringWithPlaceHolder, \"place-holder-1\", \"place-holder-2\", \"place-holder-3\", \"place-holder-4\");\n</code></pre>\n\n<p>Output will be </p>\n\n<pre><code>test String with placeholders place-holder-1 place-holder-2 place-holder-3 place-holder-4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4897719,"reputation":546,"user_id":3946752,"accept_rate":83,"display_name":"Conrad"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1693774399,"creation_date":1597358175,"answer_id":63404121,"question_id":17364632,"body_markdown":"Justas answer is outdated so I&#39;m posting up to date answer with apache text commons.\r\n\r\n`StringSubstitutor` from Apache Commons Text may be used for string formatting with named placeholders:\r\nhttps://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html\r\n\r\n&lt;!-- language: xml --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&gt; This class takes a piece of text and substitutes all the variables\r\n&gt; within it. The default definition of a variable is ${variableName}.\r\n&gt; The prefix and suffix can be changed via constructors and set methods.\r\n&gt; Variable values are typically resolved from a map, but could also be\r\n&gt; resolved from system properties, or by supplying a custom variable\r\n&gt; resolver.\r\n\r\nExample:\r\n\r\n    // Build map\r\n    Map&lt;String, String&gt; valuesMap = new HashMap&lt;&gt;();\r\n    valuesMap.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\r\n    valuesMap.put(&quot;target&quot;, &quot;lazy dog&quot;);\r\n    String templateString = &quot;The ${animal} jumped over the ${target}.&quot;;\r\n    \r\n    // Build StringSubstitutor\r\n    StringSubstitutor sub = new StringSubstitutor(valuesMap);\r\n    \r\n    // Replace\r\n    String resolvedString = sub.replace(templateString);\r\n\r\n","title":"Java generating Strings with placeholders","body":"<p>Justas answer is outdated so I'm posting up to date answer with apache text commons.</p>\n<p><code>StringSubstitutor</code> from Apache Commons Text may be used for string formatting with named placeholders:\n<a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n    &lt;version&gt;1.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<blockquote>\n<p>This class takes a piece of text and substitutes all the variables\nwithin it. The default definition of a variable is ${variableName}.\nThe prefix and suffix can be changed via constructors and set methods.\nVariable values are typically resolved from a map, but could also be\nresolved from system properties, or by supplying a custom variable\nresolver.</p>\n</blockquote>\n<p>Example:</p>\n<pre><code>// Build map\nMap&lt;String, String&gt; valuesMap = new HashMap&lt;&gt;();\nvaluesMap.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\nvaluesMap.put(&quot;target&quot;, &quot;lazy dog&quot;);\nString templateString = &quot;The ${animal} jumped over the ${target}.&quot;;\n\n// Build StringSubstitutor\nStringSubstitutor sub = new StringSubstitutor(valuesMap);\n\n// Replace\nString resolvedString = sub.replace(templateString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2647931,"reputation":3,"user_id":3274551,"display_name":"Rishi Raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693774444,"creation_date":1638336123,"answer_id":70179479,"question_id":17364632,"body_markdown":"The suggestion by https://stackoverflow.com/users/4290127/himanshu-chaudhary works quite well:\r\n```\r\nString str = &quot;Hello this is {} string {}&quot;;     \r\nstr = MessageFormatter.format(str, &quot;hello&quot;, &quot;world&quot;).getMessage();\r\n```\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.8.0-beta4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\t\t ","title":"Java generating Strings with placeholders","body":"<p>The suggestion by <a href=\"https://stackoverflow.com/users/4290127/himanshu-chaudhary\">https://stackoverflow.com/users/4290127/himanshu-chaudhary</a> works quite well:</p>\n<pre><code>String str = &quot;Hello this is {} string {}&quot;;     \nstr = MessageFormatter.format(str, &quot;hello&quot;, &quot;world&quot;).getMessage();\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;1.8.0-beta4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4456117,"reputation":3177,"user_id":3626353,"accept_rate":100,"display_name":"MeLean"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643105188,"creation_date":1643105188,"answer_id":70846752,"question_id":17364632,"body_markdown":"If you want to use some string to different placeholders, you could use pointers like this:\r\n\r\n    String.format(&quot;%1$s %2$s %1$s&quot;, &quot;startAndEndText&quot;, &quot;middleText&quot;);","title":"Java generating Strings with placeholders","body":"<p>If you want to use some string to different placeholders, you could use pointers like this:</p>\n<pre><code>String.format(&quot;%1$s %2$s %1$s&quot;, &quot;startAndEndText&quot;, &quot;middleText&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7547173,"reputation":11,"user_id":5729774,"display_name":"aimilin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693774419,"creation_date":1669089095,"answer_id":74527330,"question_id":17364632,"body_markdown":"if you are user spring you can like this:\r\n\r\n    String template = &quot;hello #{#param}&quot;;\r\n    EvaluationContext context = new StandardEvaluationContext();\r\n    context.setVariable(&quot;param&quot;, &quot;world&quot;);\r\n    String value = new SpelExpressionParser().parseExpression(template, new TemplateParserContext()).getValue(context, String.class);\r\n    System.out.println(value);\r\n\r\nout put:\r\n\r\n    hello world","title":"Java generating Strings with placeholders","body":"<p>if you are user spring you can like this:</p>\n<pre><code>String template = &quot;hello #{#param}&quot;;\nEvaluationContext context = new StandardEvaluationContext();\ncontext.setVariable(&quot;param&quot;, &quot;world&quot;);\nString value = new SpelExpressionParser().parseExpression(template, new TemplateParserContext()).getValue(context, String.class);\nSystem.out.println(value);\n</code></pre>\n<p>out put:</p>\n<pre><code>hello world\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691186156,"creation_date":1671377263,"answer_id":74842563,"question_id":17364632,"body_markdown":"Java is going to have string templates (from version **21**, as a preview feature).\r\n\r\nSee [the string templates proposal (JEP 430) here](https://openjdk.org/jeps/430).\r\n\r\nIt will be something along the lines of this:\r\n\r\n```java\r\nString name = &quot;World&quot;;\r\nString info = STR.&quot;Hello \\{name}!&quot;;\r\nSystem.out.println(info); // Hello World!\r\n```\r\n---\r\n\r\nP.S. [Kotlin][1] is 100% interoperable with Java. It supports cleaner string templates out of the box:\r\n\r\n```kotlin\r\nval name = &quot;World&quot;\r\nval info = &quot;Hello $name!&quot;\r\nprintln(info) // Hello World!\r\n```\r\n\r\nCombined with [extension functions][2], you can achieve the same thing the Java template processors (e.g. `STR`) will do.\r\n\r\n\r\n  [1]: https://kotlinlang.org/\r\n  [2]: https://kotlinlang.org/docs/extensions.html","title":"Java generating Strings with placeholders","body":"<p>Java is going to have string templates (from version <strong>21</strong>, as a preview feature).</p>\n<p>See <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">the string templates proposal (JEP 430) here</a>.</p>\n<p>It will be something along the lines of this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;World&quot;;\nString info = STR.&quot;Hello \\{name}!&quot;;\nSystem.out.println(info); // Hello World!\n</code></pre>\n<hr />\n<p>P.S. <a href=\"https://kotlinlang.org/\" rel=\"nofollow noreferrer\">Kotlin</a> is 100% interoperable with Java. It supports cleaner string templates out of the box:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val name = &quot;World&quot;\nval info = &quot;Hello $name!&quot;\nprintln(info) // Hello World!\n</code></pre>\n<p>Combined with <a href=\"https://kotlinlang.org/docs/extensions.html\" rel=\"nofollow noreferrer\">extension functions</a>, you can achieve the same thing the Java template processors (e.g. <code>STR</code>) will do.</p>\n"}],"owner":{"account_id":1068705,"reputation":3315,"user_id":1068510,"accept_rate":76,"display_name":"ndrizza"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210185,"favorite_count":0,"down_vote_count":0,"up_vote_count":80,"accepted_answer_id":17364689,"answer_count":12,"score":80,"last_activity_date":1693774444,"creation_date":1372422039,"question_id":17364632,"body_markdown":"I&#39;m looking for something to achieve the following:\r\n\r\n```java\r\nString s = &quot;hello {}!&quot;;\r\ns = generate(s, new Object[]{ &quot;world&quot; });\r\nassertEquals(s, &quot;hello world!&quot;); // should be true\r\n```\r\n\r\nI could write it myself, but It seems to me that I saw a library once which did this, probably it was the slf4j logger, but I don&#39;t want to write log messages. I just want to generate strings.\r\n\r\nDo you know about a library which does this?\r\n","title":"Java generating Strings with placeholders","body":"<p>I'm looking for something to achieve the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;hello {}!&quot;;\ns = generate(s, new Object[]{ &quot;world&quot; });\nassertEquals(s, &quot;hello world!&quot;); // should be true\n</code></pre>\n<p>I could write it myself, but It seems to me that I saw a library once which did this, probably it was the slf4j logger, but I don't want to write log messages. I just want to generate strings.</p>\n<p>Do you know about a library which does this?</p>\n"},{"tags":["java","installation","protocol-buffers"],"comments":[{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":0,"creation_date":1485613143,"post_id":41910741,"comment_id":71002783,"body_markdown":"What does descriptor.proto look like?","body":"What does descriptor.proto look like?"},{"owner":{"account_id":5379765,"reputation":866,"user_id":4285386,"accept_rate":69,"display_name":"Daniel Soutar"},"score":0,"creation_date":1485613465,"post_id":41910741,"comment_id":71002899,"body_markdown":"@JoeC not quite sure what you&#39;re asking for exactly. The file can be found at this link (https://github.com/google/protobuf/blob/master/src/google/protobuf/descriptor.proto) and the syntax field is set to &quot;proto2&quot; if that means anything.","body":"@JoeC not quite sure what you&#39;re asking for exactly. The file can be found at this link (<a href=\"https://github.com/google/protobuf/blob/master/src/google/protobuf/descriptor.proto\" rel=\"nofollow noreferrer\">github.com/google/protobuf/blob/master/src/google/protobuf/&zwnj;&#8203;&hellip;</a>) and the syntax field is set to &quot;proto2&quot; if that means anything."}],"answers":[{"comments":[{"owner":{"account_id":5379765,"reputation":866,"user_id":4285386,"accept_rate":69,"display_name":"Daniel Soutar"},"score":0,"creation_date":1485871524,"post_id":41918984,"comment_id":71097807,"body_markdown":"That makes sense! Any idea on how I might remove 2.6.1?","body":"That makes sense! Any idea on how I might remove 2.6.1?"},{"owner":{"account_id":3179906,"reputation":42189,"user_id":2686899,"display_name":"Kenton Varda"},"score":0,"creation_date":1485937165,"post_id":41918984,"comment_id":71127619,"body_markdown":"@DanielSoutar Depends on how you installed it in the first place. :)","body":"@DanielSoutar Depends on how you installed it in the first place. :)"}],"tags":[],"owner":{"account_id":3179906,"reputation":42189,"user_id":2686899,"display_name":"Kenton Varda"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1485678493,"creation_date":1485678493,"answer_id":41918984,"question_id":41910741,"body_markdown":"&gt; protoc-3.2.0rc2-linux-x86_64.zip (although it says the version is 2.6.1)\r\n\r\nThis is the problem -- you are somehow using protoc 2.6.1 and not 3.2.0. This could be because protoc 2.6.1 was already installed on your system, and somehow it is taking precedence over 3.2.0. If you look at the errors in descriptor.proto, you&#39;ll notice they happen on the `reserved` keyword, which is new; 2.6.1 didn&#39;t support it.\r\n\r\nIt&#39;s important to use exactly the same version of protoc as the Java runtime library, otherwise the generated code may not compile correctly, or may compile but not run correctly.","title":"Compilation error when installing Protocol Buffers","body":"<blockquote>\n  <p>protoc-3.2.0rc2-linux-x86_64.zip (although it says the version is 2.6.1)</p>\n</blockquote>\n\n<p>This is the problem -- you are somehow using protoc 2.6.1 and not 3.2.0. This could be because protoc 2.6.1 was already installed on your system, and somehow it is taking precedence over 3.2.0. If you look at the errors in descriptor.proto, you'll notice they happen on the <code>reserved</code> keyword, which is new; 2.6.1 didn't support it.</p>\n\n<p>It's important to use exactly the same version of protoc as the Java runtime library, otherwise the generated code may not compile correctly, or may compile but not run correctly.</p>\n"},{"comments":[{"owner":{"account_id":5379765,"reputation":866,"user_id":4285386,"accept_rate":69,"display_name":"Daniel Soutar"},"score":0,"creation_date":1693828513,"post_id":77034135,"comment_id":135807473,"body_markdown":"This doesn&#39;t add anything to *my* old question with an accepted answer - if you&#39;re just doing this to boost your points.","body":"This doesn&#39;t add anything to <i>my</i> old question with an accepted answer - if you&#39;re just doing this to boost your points."},{"owner":{"account_id":2238602,"reputation":864,"user_id":1974239,"display_name":"Christos"},"score":0,"creation_date":1693947644,"post_id":77034135,"comment_id":135826266,"body_markdown":"you are saying that the exact same version is needed. maybe was accurate back then. the docs these days say: `matches (or is newer than)`","body":"you are saying that the exact same version is needed. maybe was accurate back then. the docs these days say: <code>matches (or is newer than)</code>"}],"tags":[],"owner":{"account_id":2238602,"reputation":864,"user_id":1974239,"display_name":"Christos"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693774336,"creation_date":1693774336,"answer_id":77034135,"question_id":41910741,"body_markdown":"tldr `Again, be sure to check that the version number matches (or is newer than) the version number of protoc that you are using.`\r\n\r\nlink to official github: [github.com/protocolbuffers/protobuf][1]\r\n\r\n\r\n [1]: https://github.com/protocolbuffers/protobuf/tree/main/java#gradle","title":"Compilation error when installing Protocol Buffers","body":"<p>tldr <code>Again, be sure to check that the version number matches (or is newer than) the version number of protoc that you are using.</code></p>\n<p>link to official github: <a href=\"https://github.com/protocolbuffers/protobuf/tree/main/java#gradle\" rel=\"nofollow noreferrer\">github.com/protocolbuffers/protobuf</a></p>\n"}],"owner":{"account_id":5379765,"reputation":866,"user_id":4285386,"accept_rate":69,"display_name":"Daniel Soutar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1875,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41918984,"answer_count":2,"score":2,"last_activity_date":1693774336,"creation_date":1485612672,"question_id":41910741,"body_markdown":"Have been trying to install Protocol Buffers compiler and java runtime installation, but I&#39;m getting an error when compiling the java classes. I downloaded:\r\n\r\n* protoc-3.2.0rc2-linux-x86_64.zip (although it says the version is 2.6.1)\r\n\r\n* protobuf-java-3.2.0rc2.zip\r\n\r\nThe file structure looks like this:\r\n\r\n* project/\r\n * protobuf_dir/\r\n     * the protobuf files/directories including src/ and java/\r\n     * src/\r\n         * protoc (binary)\r\n         * protoc_dir/ (the other bits and bobs from protoc zip file)\r\n     * java/\r\n         * core/\r\n         * lite/\r\n         * ...\r\n\r\nSo assuming that&#39;s all fine, I typed in:\r\n\r\n    protoc --java_out=src/main/java -I../src \\../src/google/protobuf/descriptor.proto\r\n\r\nSo protoc seems to be working fine. But then I kept getting errors like these until I commented them out (not sure if that is a problem?):\r\n\r\n    google/protobuf/descriptor.proto:443:3: Expected &quot;required&quot;, &quot;optional&quot;, or &quot;repeated&quot;.\r\n    google/protobuf/descriptor.proto:443:12: Expected field name.\r\n    google/protobuf/descriptor.proto:541:3: Expected &quot;required&quot;, &quot;optional&quot;, or &quot;repeated&quot;.\r\n    google/protobuf/descriptor.proto:541:12: Expected field name.\r\n\r\nBut when I try compiling all the java classes, I just keep getting an error saying:\r\n\r\n    Descriptors.java:1175: error: cannot find symbol\r\n        return FieldDescriptorProto.Type.forNumber(ordinal() + 1);\r\n\r\nAny ideas on how to solve the problem? Can&#39;t see why it shouldn&#39;t compile. Tried looking on Google&#39;s page but nothing comes up on this.\r\n\r\nAware I sound a bit clueless although I&#39;ve never really used libraries like protobuf from Github before so this is all new to me!\r\n\r\nEDIT: Hi all, this issue was resolved with exactly the same file structure. I uninstalled protoc2.6.1, set my $JAVA_HOME and $PATH variables (you should store them too rather than having to export them every time), installed maven (properly).\r\n\r\nAll is well! Everything compiled without a hitch. Thanks to the responder!","title":"Compilation error when installing Protocol Buffers","body":"<p>Have been trying to install Protocol Buffers compiler and java runtime installation, but I'm getting an error when compiling the java classes. I downloaded:</p>\n\n<ul>\n<li><p>protoc-3.2.0rc2-linux-x86_64.zip (although it says the version is 2.6.1)</p></li>\n<li><p>protobuf-java-3.2.0rc2.zip</p></li>\n</ul>\n\n<p>The file structure looks like this:</p>\n\n<ul>\n<li>project/\n\n<ul>\n<li>protobuf_dir/\n\n<ul>\n<li>the protobuf files/directories including src/ and java/</li>\n<li>src/\n\n<ul>\n<li>protoc (binary)</li>\n<li>protoc_dir/ (the other bits and bobs from protoc zip file)</li>\n</ul></li>\n<li>java/\n\n<ul>\n<li>core/</li>\n<li>lite/</li>\n<li>...</li>\n</ul></li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>So assuming that's all fine, I typed in:</p>\n\n<pre><code>protoc --java_out=src/main/java -I../src \\../src/google/protobuf/descriptor.proto\n</code></pre>\n\n<p>So protoc seems to be working fine. But then I kept getting errors like these until I commented them out (not sure if that is a problem?):</p>\n\n<pre><code>google/protobuf/descriptor.proto:443:3: Expected \"required\", \"optional\", or \"repeated\".\ngoogle/protobuf/descriptor.proto:443:12: Expected field name.\ngoogle/protobuf/descriptor.proto:541:3: Expected \"required\", \"optional\", or \"repeated\".\ngoogle/protobuf/descriptor.proto:541:12: Expected field name.\n</code></pre>\n\n<p>But when I try compiling all the java classes, I just keep getting an error saying:</p>\n\n<pre><code>Descriptors.java:1175: error: cannot find symbol\n    return FieldDescriptorProto.Type.forNumber(ordinal() + 1);\n</code></pre>\n\n<p>Any ideas on how to solve the problem? Can't see why it shouldn't compile. Tried looking on Google's page but nothing comes up on this.</p>\n\n<p>Aware I sound a bit clueless although I've never really used libraries like protobuf from Github before so this is all new to me!</p>\n\n<p>EDIT: Hi all, this issue was resolved with exactly the same file structure. I uninstalled protoc2.6.1, set my $JAVA_HOME and $PATH variables (you should store them too rather than having to export them every time), installed maven (properly).</p>\n\n<p>All is well! Everything compiled without a hitch. Thanks to the responder!</p>\n"},{"tags":["java","oop","hash"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1693772069,"post_id":77033984,"comment_id":135801394,"body_markdown":"Are you asking why someone wrote `equals` and `hashCode` methods in that class?","body":"Are you asking why someone wrote <code>equals</code> and <code>hashCode</code> methods in that class?"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1693772234,"post_id":77033984,"comment_id":135801413,"body_markdown":"Don&#39;t think about it too hard. The only thing a hash function has to do is `A==B =&gt; h(A)==h(B)`, which this obviously does. Then there is `A!=B =&gt; h(A)!=h(B) &quot;as often as you can manage&quot;` which makes it fast. Violating the second nice-to-have rule will still result in a working hash (albeit a slower one). Try a hashCode that returns 0 for everything. Things should still work.","body":"Don&#39;t think about it too hard. The only thing a hash function has to do is <code>A==B =&gt; h(A)==h(B)</code>, which this obviously does. Then there is <code>A!=B =&gt; h(A)!=h(B) &quot;as often as you can manage&quot;</code> which makes it fast. Violating the second nice-to-have rule will still result in a working hash (albeit a slower one). Try a hashCode that returns 0 for everything. Things should still work."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1693772332,"post_id":77033984,"comment_id":135801425,"body_markdown":"But to your question, if `id` is `int`, `^ &gt;&gt;&gt;` does nothing. If it is `long`, it xors its two 32-bit halves together.","body":"But to your question, if <code>id</code> is <code>int</code>, <code>^ &gt;&gt;&gt;</code> does nothing. If it is <code>long</code>, it xors its two 32-bit halves together."},{"owner":{"account_id":29330050,"reputation":76,"user_id":22471702,"display_name":"user22471702"},"score":0,"creation_date":1693775016,"post_id":77033984,"comment_id":135801663,"body_markdown":"assuming `id` is a `long`,  this is just calculating its hashcode in the same way as done by  [`Long.hashCode()`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Long.html#hashCode())","body":"assuming <code>id</code> is a <code>long</code>,  this is just calculating its hashcode in the same way as done by  <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Long.html#hashCode()\" rel=\"nofollow noreferrer\"><code>Long.hashCode()</code></a>"}],"answers":[{"comments":[{"owner":{"account_id":29330050,"reputation":76,"user_id":22471702,"display_name":"user22471702"},"score":0,"creation_date":1693773642,"post_id":77034057,"comment_id":135801532,"body_markdown":"... so, if `id` is a long, it is combining all 64 bits in a 32 bit `int` ...","body":"... so, if <code>id</code> is a long, it is combining all 64 bits in a 32 bit <code>int</code> ..."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1693773863,"post_id":77034057,"comment_id":135801553,"body_markdown":"Not quite. If id is a long, `id &gt;&gt;&gt; 32` will move the high order `int` to the low order position with 32 0&#39;s now in the high order position. Then the original id will be exclusive or&#39;d with that resulting in a new long.  The overall contents are determined by the original contents of course.","body":"Not quite. If id is a long, <code>id &gt;&gt;&gt; 32</code> will move the high order <code>int</code> to the low order position with 32 0&#39;s now in the high order position. Then the original id will be exclusive or&#39;d with that resulting in a new long.  The overall contents are determined by the original contents of course."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1693774249,"post_id":77034057,"comment_id":135801591,"body_markdown":"@user22471702 I modified my answer to provide a demo of my comment.","body":"@user22471702 I modified my answer to provide a demo of my comment."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1693774225,"creation_date":1693772790,"answer_id":77034057,"question_id":77033984,"body_markdown":"&gt; Explain res = id^(id &gt;&gt;&gt; 32) please\r\n\r\n- `id &gt;&gt;&gt; n` for an int, shifts id right `n%32` bits without extending the negative sign bit if one is present.  So `(id &gt;&gt;&gt; 32)` is effectively == id.\r\n- `^` is an exclusive OR which says for any bit `a` and `b`, `a^b == 1` if `a and b` are different otherwise they `a^b == 0`.  E.g. `1^1 == 0.  0^0 == 0, 1^0 == 1`\r\n\r\nSo `id ^ id == 0`.\r\n\r\nif `id` is a long, `(id &gt;&gt;&gt; 32)` shifts the high order `32 bits` of that long `right 32 bits` and then `exclusive ors` the original long with that value.\r\n\r\nThe over all computation of hashCode is to use that technique sometimes employed with others to generate a number for use in data structures that are used to index by hashcode.  in Java, primary examples are `Maps` and `Sets`.\r\n\r\nHere is a demo.\r\n```\r\nlong v = Long.MIN_VALUE; // has 1 in hob (high order bit) and rest is 0&#39;s\r\nSystem.out.println(Long.toBinaryString(v));\r\n \r\nlong result = v ^ (v &gt;&gt;&gt; 32); // now hob should be 1 and hob of low order int should be 1\r\n\r\nSystem.out.println(Long.toBinaryString(result));\r\n1000000000000000000000000000000000000000000000000000000000000000\r\n1000000000000000000000000000000010000000000000000000000000000000\r\n","title":"Explain res = id^(id &gt;&gt;&gt; 32), please","body":"<blockquote>\n<p>Explain res = id^(id &gt;&gt;&gt; 32) please</p>\n</blockquote>\n<ul>\n<li><code>id &gt;&gt;&gt; n</code> for an int, shifts id right <code>n%32</code> bits without extending the negative sign bit if one is present.  So <code>(id &gt;&gt;&gt; 32)</code> is effectively == id.</li>\n<li><code>^</code> is an exclusive OR which says for any bit <code>a</code> and <code>b</code>, <code>a^b == 1</code> if <code>a and b</code> are different otherwise they <code>a^b == 0</code>.  E.g. <code>1^1 == 0.  0^0 == 0, 1^0 == 1</code></li>\n</ul>\n<p>So <code>id ^ id == 0</code>.</p>\n<p>if <code>id</code> is a long, <code>(id &gt;&gt;&gt; 32)</code> shifts the high order <code>32 bits</code> of that long <code>right 32 bits</code> and then <code>exclusive ors</code> the original long with that value.</p>\n<p>The over all computation of hashCode is to use that technique sometimes employed with others to generate a number for use in data structures that are used to index by hashcode.  in Java, primary examples are <code>Maps</code> and <code>Sets</code>.</p>\n<p>Here is a demo.</p>\n<pre><code>long v = Long.MIN_VALUE; // has 1 in hob (high order bit) and rest is 0's\nSystem.out.println(Long.toBinaryString(v));\n \nlong result = v ^ (v &gt;&gt;&gt; 32); // now hob should be 1 and hob of low order int should be 1\n\nSystem.out.println(Long.toBinaryString(result));\n1000000000000000000000000000000000000000000000000000000000000000\n1000000000000000000000000000000010000000000000000000000000000000\n</code></pre>\n"}],"owner":{"account_id":29305471,"reputation":23,"user_id":22452627,"display_name":"AishaWho"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77034057,"answer_count":1,"score":1,"last_activity_date":1693774225,"creation_date":1693771261,"question_id":77033984,"body_markdown":"Hullo!\r\nI have this code\r\n\r\n```\r\npublic int hashCode(){\r\n        int res = (int) (id ^ (id &gt;&gt;&gt; 32));\r\n        res = 31 * res + (name != null ? name.hashCode() : 0);\r\n        return res;\r\n    }\r\n```\r\nAnd this is my equals code\r\n\r\n```\r\n    public boolean equals(Object o) {\r\n        // object ref identical or not\r\n        if (this == o) return true;\r\n        if (o == null) return false;\r\n        //class identical?\r\n        if (getClass() != o.getClass()) return false;\r\n        Person person = (Person) o;\r\n\r\n        if(id != person.id) return false;\r\n\r\n        return Objects.equals(name, person.name);\r\n    }\r\n```\r\n\r\n\r\nI don`t understand operations over result.\r\nWhy do we have to do these operations?\r\nWill be very grateful if someone can explain it to me\r\n\r\nEquals i understand well, but i read they are connected somehow, so I&#39;ve attached the comparison code just in case","title":"Explain res = id^(id &gt;&gt;&gt; 32), please","body":"<p>Hullo!\nI have this code</p>\n<pre><code>public int hashCode(){\n        int res = (int) (id ^ (id &gt;&gt;&gt; 32));\n        res = 31 * res + (name != null ? name.hashCode() : 0);\n        return res;\n    }\n</code></pre>\n<p>And this is my equals code</p>\n<pre><code>    public boolean equals(Object o) {\n        // object ref identical or not\n        if (this == o) return true;\n        if (o == null) return false;\n        //class identical?\n        if (getClass() != o.getClass()) return false;\n        Person person = (Person) o;\n\n        if(id != person.id) return false;\n\n        return Objects.equals(name, person.name);\n    }\n</code></pre>\n<p>I don`t understand operations over result.\nWhy do we have to do these operations?\nWill be very grateful if someone can explain it to me</p>\n<p>Equals i understand well, but i read they are connected somehow, so I've attached the comparison code just in case</p>\n"},{"tags":["java","ssh","sftp","jsch"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1693684435,"post_id":77029688,"comment_id":135794065,"body_markdown":"Did you try to download a file from one server? If yes, where in that code do you have problems extending it to multiple servers? If not, I would suggest that you try this, the JSch homepage has even an [example](http://www.jcraft.com/jsch/examples/ScpFrom.java.html) how to download a file with scp.","body":"Did you try to download a file from one server? If yes, where in that code do you have problems extending it to multiple servers? If not, I would suggest that you try this, the JSch homepage has even an <a href=\"http://www.jcraft.com/jsch/examples/ScpFrom.java.html\" rel=\"nofollow noreferrer\">example</a> how to download a file with scp."}],"answers":[{"tags":[],"owner":{"account_id":2005971,"reputation":536,"user_id":1795860,"accept_rate":91,"display_name":"TheNytangel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693772388,"creation_date":1693772388,"answer_id":77034042,"question_id":77029688,"body_markdown":"Referencing [JSch - Examples - Sftp.java](http://www.jcraft.com/jsch/examples/Sftp.java.html) and the [ChannelSftp JavaDoc](https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html)\r\n\r\n```java\r\nJSch jsch=new JSch();\r\n\r\n// Create a session to your first SFTP server\r\nSession session1 = jsch.getSession(&quot;username&quot;, &quot;hostname1.com&quot;, 22);\r\nsession1.connect();\r\n// Open an SFTP channel and connect\r\nChannelSftp sftpChannel1 = (ChannelSftp) session1.openChannel(&quot;sftp&quot;);\r\nsftpChannel1 .connect();\r\n// Run SFTP commands\r\nsftpChannel1.get(&quot;/path/to/file&quot;);\r\n\r\n// Create a session to your second SFTP server\r\nSession session2 = jsch.getSession(&quot;username&quot;, &quot;hostname2.com&quot;, 22);\r\nsession2.connect();\r\n// Open an SFTP channel and connect\r\nChannelSftp sftpChannel2 = (ChannelSftp) session2.openChannel(&quot;sftp&quot;);\r\nsftpChannel2.connect();\r\n// Run SFTP commands\r\nsftpChannel2.get(&quot;/path/to/file&quot;);\r\n\r\n// Repeat as many times as needed\r\n```","title":"Reading file data from Multiple SFTP servers using JSch","body":"<p>Referencing <a href=\"http://www.jcraft.com/jsch/examples/Sftp.java.html\" rel=\"nofollow noreferrer\">JSch - Examples - Sftp.java</a> and the <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html\" rel=\"nofollow noreferrer\">ChannelSftp JavaDoc</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>JSch jsch=new JSch();\n\n// Create a session to your first SFTP server\nSession session1 = jsch.getSession(&quot;username&quot;, &quot;hostname1.com&quot;, 22);\nsession1.connect();\n// Open an SFTP channel and connect\nChannelSftp sftpChannel1 = (ChannelSftp) session1.openChannel(&quot;sftp&quot;);\nsftpChannel1 .connect();\n// Run SFTP commands\nsftpChannel1.get(&quot;/path/to/file&quot;);\n\n// Create a session to your second SFTP server\nSession session2 = jsch.getSession(&quot;username&quot;, &quot;hostname2.com&quot;, 22);\nsession2.connect();\n// Open an SFTP channel and connect\nChannelSftp sftpChannel2 = (ChannelSftp) session2.openChannel(&quot;sftp&quot;);\nsftpChannel2.connect();\n// Run SFTP commands\nsftpChannel2.get(&quot;/path/to/file&quot;);\n\n// Repeat as many times as needed\n</code></pre>\n"}],"owner":{"account_id":28465143,"reputation":1,"user_id":21781323,"display_name":"D&#39;DAS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693772388,"creation_date":1693681484,"question_id":77029688,"body_markdown":"Could any one provide info on, how to connect to multiple SFTP servers with Java JSch  client?.\r\n\r\nI have around Four remote SFTP servers containing files, and expectation is read the files from all the Four SFTP servers \r\n\r\ndoes Java JSch client library has support for opening multiple SFTP connection to multiple remote SFTP servers ?.\r\nEx: For the Four remote SFTP servers Four connection, once connection per SFTP server.","title":"Reading file data from Multiple SFTP servers using JSch","body":"<p>Could any one provide info on, how to connect to multiple SFTP servers with Java JSch  client?.</p>\n<p>I have around Four remote SFTP servers containing files, and expectation is read the files from all the Four SFTP servers</p>\n<p>does Java JSch client library has support for opening multiple SFTP connection to multiple remote SFTP servers ?.\nEx: For the Four remote SFTP servers Four connection, once connection per SFTP server.</p>\n"},{"tags":["java","gradle","github-actions"],"comments":[{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1693623965,"post_id":77026674,"comment_id":135788970,"body_markdown":"See https://docs.github.com/en/actions/migrating-to-github-actions/manually-migrating-to-github-actions/migrating-from-jenkins-to-github-actions.","body":"See <a href=\"https://docs.github.com/en/actions/migrating-to-github-actions/manually-migrating-to-github-actions/migrating-from-jenkins-to-github-actions\" rel=\"nofollow noreferrer\">docs.github.com/en/actions/migrating-to-github-actions/&hellip;</a>."},{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1693634983,"post_id":77026674,"comment_id":135789470,"body_markdown":"There&#39;s one to one mapping Jenkins&#39; `environment` and GHA&#39;s job/steps `env`. You can use that for this migration.","body":"There&#39;s one to one mapping Jenkins&#39; <code>environment</code> and GHA&#39;s job/steps <code>env</code>. You can use that for this migration."}],"owner":{"account_id":27947363,"reputation":23,"user_id":21342044,"display_name":"Acacio Afonso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693772110,"creation_date":1693619374,"question_id":77026674,"body_markdown":"I have this task on build.gradle\r\n\r\n```\r\nversion = &quot;1.2.3&quot;\r\n\r\ntasks.register(&quot;printVersion&quot;) {\r\n\tprintln(&quot;version=$version&quot;)\r\n}\r\n```\r\n\r\nAnd i can use it on my Jenkinsfile like this:\r\n\r\n```\r\npipeline {\r\n    environment {\r\n        VERSION = &#39;latest&#39;\r\n    }\r\n    stages {\r\n        stage(&#39;Read Version&#39;) {\r\n            steps {\r\n                script {\r\n                    VERSION = sh(\r\n                        returnStdout: true,\r\n                        script: &quot;./gradlew printVersion | grep version=&quot;\r\n                    ).substring(8).trim()\r\n                    echo &quot;Version: $VERSION&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nThe echo command on Jenkinsfile returns: Version: 1.2.3\r\n\r\nNow i&#39;m migrating Jenkinsfile to gh actions, and i can&#39;t figured out how to get this version from the task\r\n\r\nThis is my gh_actions.yaml so far\r\n\r\n```\r\nname: GitHub Actions Deploy\r\n\r\non:\r\n  push:\r\n    branches:\r\n      - poc_gh_actions\r\n\r\nenv:\r\n  BRANCH_NAME: ${{ github.head_ref || github.ref_name }}\r\n  AWS_DEFAULT_REGION: ${{ vars.AWS_DEFAULT_REGION }}\r\n\r\njobs:\r\n  build:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - name: Checkout\r\n        uses: actions/checkout@v2\r\n      - name: Getting git hash\r\n        run: |\r\n          export GIT_HASH=$(git rev-parse --short HEAD)\r\n          echo $GIT_HASH\r\n      - name: Restore gradle dependencies\r\n        uses: actions/cache@v2\r\n        with:\r\n          path: &quot;~/.gradle&quot;\r\n          key: ${{ runner.os }}-modules-${{ hashFiles(&#39;**/build.gradle&#39;) }}\r\n      - name: Set up JDK 17\r\n        uses: actions/setup-java@v3\r\n        with:\r\n          java-version: &#39;17&#39;\r\n          distribution: &#39;temurin&#39;\r\n      - name: Validate Gradle wrapper\r\n        uses: gradle/wrapper-validation-action@ccb4328a959376b642e027874838f60f8e596de3\r\n      - name: Getting build.gradle version\r\n        run: |\r\n          chmod +x gradlew\r\n          ./gradlew printVersion | grep version=\r\n```\r\n\r\nI can only run the task, witch returns: version=1.2.3\r\n\r\nBut i want save it and only the &quot;1.2.3&quot; text on a variable to tag my docker image later\r\n\r\n\r\nJust to know. Using java 17 and gradle 7.6.1\r\n\r\n\r\nSo far i tried:\r\n\r\n```\r\n- name: Getting build.gradle version\r\n  run: |\r\n    chmod +x gradlew\r\n    export VERSION=./gradlew printVersion | grep version=\r\n    echo $VERSION\r\n```\r\n\r\n```\r\n- name: Getting build.gradle version\r\n  run: |\r\n    chmod +x gradlew\r\n    export VERSION=latest\r\n    ./gradlew printVersion | grep version= &gt;&gt; $VERSION\r\n    echo $VERSION\r\n```","title":"Use build.gradle task on githut_actions yaml","body":"<p>I have this task on build.gradle</p>\n<pre><code>version = &quot;1.2.3&quot;\n\ntasks.register(&quot;printVersion&quot;) {\n    println(&quot;version=$version&quot;)\n}\n</code></pre>\n<p>And i can use it on my Jenkinsfile like this:</p>\n<pre><code>pipeline {\n    environment {\n        VERSION = 'latest'\n    }\n    stages {\n        stage('Read Version') {\n            steps {\n                script {\n                    VERSION = sh(\n                        returnStdout: true,\n                        script: &quot;./gradlew printVersion | grep version=&quot;\n                    ).substring(8).trim()\n                    echo &quot;Version: $VERSION&quot;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>The echo command on Jenkinsfile returns: Version: 1.2.3</p>\n<p>Now i'm migrating Jenkinsfile to gh actions, and i can't figured out how to get this version from the task</p>\n<p>This is my gh_actions.yaml so far</p>\n<pre><code>name: GitHub Actions Deploy\n\non:\n  push:\n    branches:\n      - poc_gh_actions\n\nenv:\n  BRANCH_NAME: ${{ github.head_ref || github.ref_name }}\n  AWS_DEFAULT_REGION: ${{ vars.AWS_DEFAULT_REGION }}\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v2\n      - name: Getting git hash\n        run: |\n          export GIT_HASH=$(git rev-parse --short HEAD)\n          echo $GIT_HASH\n      - name: Restore gradle dependencies\n        uses: actions/cache@v2\n        with:\n          path: &quot;~/.gradle&quot;\n          key: ${{ runner.os }}-modules-${{ hashFiles('**/build.gradle') }}\n      - name: Set up JDK 17\n        uses: actions/setup-java@v3\n        with:\n          java-version: '17'\n          distribution: 'temurin'\n      - name: Validate Gradle wrapper\n        uses: gradle/wrapper-validation-action@ccb4328a959376b642e027874838f60f8e596de3\n      - name: Getting build.gradle version\n        run: |\n          chmod +x gradlew\n          ./gradlew printVersion | grep version=\n</code></pre>\n<p>I can only run the task, witch returns: version=1.2.3</p>\n<p>But i want save it and only the &quot;1.2.3&quot; text on a variable to tag my docker image later</p>\n<p>Just to know. Using java 17 and gradle 7.6.1</p>\n<p>So far i tried:</p>\n<pre><code>- name: Getting build.gradle version\n  run: |\n    chmod +x gradlew\n    export VERSION=./gradlew printVersion | grep version=\n    echo $VERSION\n</code></pre>\n<pre><code>- name: Getting build.gradle version\n  run: |\n    chmod +x gradlew\n    export VERSION=latest\n    ./gradlew printVersion | grep version= &gt;&gt; $VERSION\n    echo $VERSION\n</code></pre>\n"},{"tags":["java","angular","spring-boot","compression","gzip"],"answers":[{"tags":[],"owner":{"account_id":24672893,"reputation":73,"user_id":18567686,"display_name":"Magic Developement"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693772009,"creation_date":1693772009,"answer_id":77034026,"question_id":77033959,"body_markdown":"What I understand from your question is that you are trying to send Blob data from Angular to Spring Boot. I think it will be easier if you follow this approach:\r\n\r\nIn the Frontend:\r\n```\r\nconstructor(private http: HttpClient) {}\r\n\r\n  uploadFile(blobData: Blob): Observable&lt;any&gt; {\r\n    const formData = new FormData();\r\n    formData.append(&#39;file&#39;, blobData);\r\n\r\n    return this.http.post&lt;any&gt;(&#39;your_backend_url&#39;, formData);\r\n  }\r\n```\r\nIn the Backend\r\n\r\n``` \r\n@PostMapping(&quot;/users&quot;)\r\n  public ResponseEntity&lt;String&gt; createUser(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n    // add Your logic\r\n   // you will get all the data in the file\r\n    return ResponseEntity.ok(&quot;File uploaded successfully&quot;);\r\n  }\r\n```\r\nI hope that helpful.","title":"After decompres a request in Spring Boot, how can I trigger an endpoint which is waiting JSON data","body":"<p>What I understand from your question is that you are trying to send Blob data from Angular to Spring Boot. I think it will be easier if you follow this approach:</p>\n<p>In the Frontend:</p>\n<pre><code>constructor(private http: HttpClient) {}\n\n  uploadFile(blobData: Blob): Observable&lt;any&gt; {\n    const formData = new FormData();\n    formData.append('file', blobData);\n\n    return this.http.post&lt;any&gt;('your_backend_url', formData);\n  }\n</code></pre>\n<p>In the Backend</p>\n<pre><code>@PostMapping(&quot;/users&quot;)\n  public ResponseEntity&lt;String&gt; createUser(@RequestParam(&quot;file&quot;) MultipartFile file) {\n    // add Your logic\n   // you will get all the data in the file\n    return ResponseEntity.ok(&quot;File uploaded successfully&quot;);\n  }\n</code></pre>\n<p>I hope that helpful.</p>\n"}],"owner":{"account_id":6210880,"reputation":21,"user_id":4837199,"display_name":"Ana Bel&#233;n Gonz&#225;lez Villalba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693772009,"creation_date":1693770830,"question_id":77033959,"body_markdown":"I need to compress the calls for a WebApp built on Angular/Spring Boot. \r\n\r\nAngular is compressing the request to the Backend with pako and sending in a Blob (thanks to a previous question in stackoverflow)\r\n\r\n    var compressedBody = pako.gzip(JSON.stringify(request.body))\r\n    var blobCompressedBody = new Blob([compressedBody]);\r\n    const newRequest = request.clone({ headers: request.headers.append(&#39;Content-Encoding&#39;, &#39;gzip&#39;), body: blobCompressedBody });\r\n\r\n\r\nSpring Boot is readin the compress request with a filter defined on https://stackoverflow.com/a/26226246/1778299\r\n\r\n    \t\tpublic GzippedInputStreamWrapper(final HttpServletRequest request) throws IOException {\r\n           super(request);\r\n            try {\r\n                    final InputStream in = new GZIPInputStream(request.getInputStream());\r\n                    inputStream = in;\r\n            } catch (EOFException e) {\r\n                inputStream = null;\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\nAnd now the problem is that the Controller is waiting an application/json data\r\n\r\n    @PostMapping(\r\n            value = &quot;/users&quot;,\r\n            consumes = {&quot;application/json&quot;},\r\n            produces = {&quot;application/json&quot;})\r\n    ResponseEntity&lt;User&gt; createUser(\r\n            @Valid @RequestBody UserDTO userDTO);      \r\n\r\nAnd the  endpoint on the Controller can be trigger, because the data is unknown format. \r\n\r\nSpring Boot doesn&#39;t know how to map the data that we are getting for the UnGZip process, and it&#39;s returning :\r\n\r\nmessage:  &quot;Content type &#39;&#39; not supported&quot;\r\n\r\nI don&#39;t know how to format the data from the request.getInputStream to transform in JSONdata before calling the doFilter(request, response) that the endpoint can be triggered. \r\n\r\nCan anyone help me with this, please?\r\n\r\nThank you so much in advance","title":"After decompres a request in Spring Boot, how can I trigger an endpoint which is waiting JSON data","body":"<p>I need to compress the calls for a WebApp built on Angular/Spring Boot.</p>\n<p>Angular is compressing the request to the Backend with pako and sending in a Blob (thanks to a previous question in stackoverflow)</p>\n<pre><code>var compressedBody = pako.gzip(JSON.stringify(request.body))\nvar blobCompressedBody = new Blob([compressedBody]);\nconst newRequest = request.clone({ headers: request.headers.append('Content-Encoding', 'gzip'), body: blobCompressedBody });\n</code></pre>\n<p>Spring Boot is readin the compress request with a filter defined on <a href=\"https://stackoverflow.com/a/26226246/1778299\">https://stackoverflow.com/a/26226246/1778299</a></p>\n<pre><code>        public GzippedInputStreamWrapper(final HttpServletRequest request) throws IOException {\n       super(request);\n        try {\n                final InputStream in = new GZIPInputStream(request.getInputStream());\n                inputStream = in;\n        } catch (EOFException e) {\n            inputStream = null;\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>And now the problem is that the Controller is waiting an application/json data</p>\n<pre><code>@PostMapping(\n        value = &quot;/users&quot;,\n        consumes = {&quot;application/json&quot;},\n        produces = {&quot;application/json&quot;})\nResponseEntity&lt;User&gt; createUser(\n        @Valid @RequestBody UserDTO userDTO);      \n</code></pre>\n<p>And the  endpoint on the Controller can be trigger, because the data is unknown format.</p>\n<p>Spring Boot doesn't know how to map the data that we are getting for the UnGZip process, and it's returning :</p>\n<p>message:  &quot;Content type '' not supported&quot;</p>\n<p>I don't know how to format the data from the request.getInputStream to transform in JSONdata before calling the doFilter(request, response) that the endpoint can be triggered.</p>\n<p>Can anyone help me with this, please?</p>\n<p>Thank you so much in advance</p>\n"},{"tags":["java","sql","database"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1573936306,"post_id":58894875,"comment_id":104054647,"body_markdown":"Stop the two other programs currently using the database and retry?","body":"Stop the two other programs currently using the database and retry?"},{"owner":{"account_id":8867817,"reputation":1108,"user_id":6815416,"display_name":"Ahmed HENTETI"},"score":0,"creation_date":1573936369,"post_id":58894875,"comment_id":104054664,"body_markdown":"How you are creating your database ?","body":"How you are creating your database ?"},{"owner":{"account_id":17113580,"reputation":155,"user_id":12383730,"display_name":"Sabrina MK"},"score":0,"creation_date":1573946607,"post_id":58894875,"comment_id":104056886,"body_markdown":"I try to stop the other database but is not working. I m creating database like = &quot;create&quot; &gt; &quot; Database &quot; , the name &quot;eCommerce&quot; and when i click to &quot;save&quot; the message appears.","body":"I try to stop the other database but is not working. I m creating database like = &quot;create&quot; &gt; &quot; Database &quot; , the name &quot;eCommerce&quot; and when i click to &quot;save&quot; the message appears."}],"answers":[{"tags":[],"owner":{"account_id":17106551,"reputation":339,"user_id":12378461,"display_name":"mZed"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1573943174,"creation_date":1573943174,"answer_id":58895777,"question_id":58894875,"body_markdown":"You simply need to terminate the connections before deleting the database :) \r\n\r\n        //Terminate all Connections on HostDB\r\n         SELECT pg_terminate_backend(pid) FROM pg_stat_activity WHERE datname = &#39;Database_you_want_to_delete&#39;;\r\n\r\nAfter that deleting shall work without an further problems. \r\n\r\nEdit: For further information please take a look at this thread: https://stackoverflow.com/questions/5108876/kill-a-postgresql-session-connection","title":"How to delete a database in pgadmin","body":"<p>You simply need to terminate the connections before deleting the database :) </p>\n\n<pre><code>    //Terminate all Connections on HostDB\n     SELECT pg_terminate_backend(pid) FROM pg_stat_activity WHERE datname = 'Database_you_want_to_delete';\n</code></pre>\n\n<p>After that deleting shall work without an further problems. </p>\n\n<p>Edit: For further information please take a look at this thread: <a href=\"https://stackoverflow.com/questions/5108876/kill-a-postgresql-session-connection\">Kill a postgresql session/connection</a></p>\n"},{"comments":[{"owner":{"account_id":2123597,"reputation":9673,"user_id":1886334,"display_name":"Madhawa Priyashantha"},"score":6,"creation_date":1610022945,"post_id":64889251,"comment_id":116004964,"body_markdown":"But i cannot select the required db.","body":"But i cannot select the required db."},{"owner":{"account_id":4976466,"reputation":1884,"user_id":4002633,"display_name":"Bernd Wechner"},"score":1,"creation_date":1620617413,"post_id":64889251,"comment_id":119244252,"body_markdown":"I just discovered this &quot;feature&quot; of pgadmin34. Pretty stupid that Delete/Drop exists on the right-click menu at all, given it is broken!","body":"I just discovered this &quot;feature&quot; of pgadmin34. Pretty stupid that Delete/Drop exists on the right-click menu at all, given it is broken!"}],"tags":[],"owner":{"account_id":17642409,"reputation":521,"user_id":12804431,"display_name":"softi"},"comment_count":2,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1605687042,"creation_date":1605687042,"answer_id":64889251,"question_id":58894875,"body_markdown":"It&#39;s impossible to drop a database in pgAdmin4 by right-clicking on it and selecting Delete/Drop from the context menu. Because as soon as you right-click on it pgAdmin opens a connection to that database.\r\n\r\nBut there is another way in pgAdmin4:\r\n\r\n1. Close connections to the databases you would like to delete by right-clicking on it and selecting &quot;Disconnect database...&quot;\r\n\r\n2. Left-click on &quot;Databases&quot; (One up in the hierarchy: The folder that contains all your databases)\r\n\r\n3. Select tab &quot;Properties&quot; on the right hand side\r\n\r\n4. There you can select all your databases you would like to delete and click on the trashcan icon:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s64F4.png","title":"How to delete a database in pgadmin","body":"<p>It's impossible to drop a database in pgAdmin4 by right-clicking on it and selecting Delete/Drop from the context menu. Because as soon as you right-click on it pgAdmin opens a connection to that database.</p>\n<p>But there is another way in pgAdmin4:</p>\n<ol>\n<li><p>Close connections to the databases you would like to delete by right-clicking on it and selecting &quot;Disconnect database...&quot;</p>\n</li>\n<li><p>Left-click on &quot;Databases&quot; (One up in the hierarchy: The folder that contains all your databases)</p>\n</li>\n<li><p>Select tab &quot;Properties&quot; on the right hand side</p>\n</li>\n<li><p>There you can select all your databases you would like to delete and click on the trashcan icon:</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/s64F4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/s64F4.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":19835760,"reputation":893,"user_id":14529454,"display_name":"Muluken Getachew"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1630835024,"creation_date":1612968827,"answer_id":66139273,"question_id":58894875,"body_markdown":"**The Simplest Solution**, I think, is **closing opened tabs**\r\n\r\n&gt; simply closing any opened tabs related to that database in pgAdmin solves it.\r\n\r\nIn your case, **2 processes &quot;might&quot; be translated as at most two tabs in pgAdmin related to that database!**","title":"How to delete a database in pgadmin","body":"<p><strong>The Simplest Solution</strong>, I think, is <strong>closing opened tabs</strong></p>\n<blockquote>\n<p>simply closing any opened tabs related to that database in pgAdmin solves it.</p>\n</blockquote>\n<p>In your case, <strong>2 processes &quot;might&quot; be translated as at most two tabs in pgAdmin related to that database!</strong></p>\n"},{"tags":[],"owner":{"account_id":13997203,"reputation":44,"user_id":10109710,"display_name":"dodiws"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1646388603,"creation_date":1646388603,"answer_id":71349777,"question_id":58894875,"body_markdown":"You can not drop the currently open database. Run query `DROP DATABASE db_name;` in `Query Tool` from another database.","title":"How to delete a database in pgadmin","body":"<p>You can not drop the currently open database. Run query <code>DROP DATABASE db_name;</code> in <code>Query Tool</code> from another database.</p>\n"},{"tags":[],"owner":{"account_id":25390932,"reputation":1,"user_id":19201930,"display_name":"Hope Chijuka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653515847,"creation_date":1653515847,"answer_id":72384577,"question_id":58894875,"body_markdown":"Using pgAdmin, I followed @softi&#39;s solution but tweaked it a little bit and it worked\r\n\r\nFirst, Close connections to the database(s) you would like to delete by right-clicking on it and selecting &quot;Disconnect database...&quot;\r\n\r\nLeft-click on &quot;Databases&quot; (One up in the hierarchy: The folder that contains all your databases)\r\n\r\nSelect &quot;Dashboard&quot; tab on the right hand side and terminate the session(s) of the database(s) you want to delete/drop\r\n\r\n\r\nThen go to the &quot;Properties&quot; tab (next to the Dashboard tab), then select the database(s) you would like to delete and click on the trashcan icon above the list","title":"How to delete a database in pgadmin","body":"<p>Using pgAdmin, I followed @softi's solution but tweaked it a little bit and it worked</p>\n<p>First, Close connections to the database(s) you would like to delete by right-clicking on it and selecting &quot;Disconnect database...&quot;</p>\n<p>Left-click on &quot;Databases&quot; (One up in the hierarchy: The folder that contains all your databases)</p>\n<p>Select &quot;Dashboard&quot; tab on the right hand side and terminate the session(s) of the database(s) you want to delete/drop</p>\n<p>Then go to the &quot;Properties&quot; tab (next to the Dashboard tab), then select the database(s) you would like to delete and click on the trashcan icon above the list</p>\n"},{"tags":[],"owner":{"account_id":3829184,"reputation":649,"user_id":3175251,"display_name":"RoyalBigMack"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693771786,"creation_date":1693771786,"answer_id":77034013,"question_id":58894875,"body_markdown":"0. Close PgAdmin\r\n1. Open a terminal\r\n2. `psql`\r\n3. `drop database [db_name];`\r\n\r\nBonus points:\r\nto create a database:\r\n`create database [db_name];`","title":"How to delete a database in pgadmin","body":"<ol start=\"0\">\n<li>Close PgAdmin</li>\n<li>Open a terminal</li>\n<li><code>psql</code></li>\n<li><code>drop database [db_name];</code></li>\n</ol>\n<p>Bonus points:\nto create a database:\n<code>create database [db_name];</code></p>\n"}],"owner":{"account_id":17113580,"reputation":155,"user_id":12383730,"display_name":"Sabrina MK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35324,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":58895777,"answer_count":6,"score":15,"last_activity_date":1693771786,"creation_date":1573935963,"question_id":58894875,"body_markdown":"When i try to create other database with the name &quot;eCommerce&quot; in pgadmin 4 this message appears \r\n\r\n\r\n**ERROR: source database &quot;template1&quot; is being accessed by other users\r\nDETAIL: There are 2 other sessions using the database.**\r\n\r\nI try to delete the others databases but is not working and appears\r\n\r\n **ERROR: cannot drop a template database**\r\n\r\nWhat should i do?","title":"How to delete a database in pgadmin","body":"<p>When i try to create other database with the name \"eCommerce\" in pgadmin 4 this message appears </p>\n\n<p><strong>ERROR: source database \"template1\" is being accessed by other users\nDETAIL: There are 2 other sessions using the database.</strong></p>\n\n<p>I try to delete the others databases but is not working and appears</p>\n\n<p><strong>ERROR: cannot drop a template database</strong></p>\n\n<p>What should i do?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","jpql"],"comments":[{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1693442857,"post_id":77011929,"comment_id":135763103,"body_markdown":"Does the record exist in database?","body":"Does the record exist in database?"},{"owner":{"account_id":21420169,"reputation":13,"user_id":17626524,"display_name":"Doug"},"score":0,"creation_date":1693485784,"post_id":77011929,"comment_id":135769310,"body_markdown":"yess. Iam working now. I`ll update with a database screenshot.","body":"yess. Iam working now. I`ll update with a database screenshot."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1693491446,"post_id":77011929,"comment_id":135770702,"body_markdown":"This is a commonly asked question with many answers. You have a bidirectional relationship and might be forgetting JPA caches entities - It is up to you to set both sides of a bidirectional relationship as these are just java objects. So every time you  set Idea.user reference, you should also add that idea to the user&#39;s ideas list and save it to keep the object model in synch with the database. Alternatively, you can force a reload using entityManager.fresh(user) - if there is data, it will get read back in. If this doesn&#39;t help, show the SQL involved, especially on the refresh.","body":"This is a commonly asked question with many answers. You have a bidirectional relationship and might be forgetting JPA caches entities - It is up to you to set both sides of a bidirectional relationship as these are just java objects. So every time you  set Idea.user reference, you should also add that idea to the user&#39;s ideas list and save it to keep the object model in synch with the database. Alternatively, you can force a reload using entityManager.fresh(user) - if there is data, it will get read back in. If this doesn&#39;t help, show the SQL involved, especially on the refresh."},{"owner":{"account_id":21420169,"reputation":13,"user_id":17626524,"display_name":"Doug"},"score":0,"creation_date":1693770965,"post_id":77011929,"comment_id":135801278,"body_markdown":"i updated with screenshots. Probably i have to do some consult and update my user list. But not make sense to me this empty list...","body":"i updated with screenshots. Probably i have to do some consult and update my user list. But not make sense to me this empty list..."}],"owner":{"account_id":21420169,"reputation":13,"user_id":17626524,"display_name":"Doug"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693770847,"creation_date":1693435207,"question_id":77011929,"body_markdown":"everybody.\r\nwhen i called /users to getAll users, my ideas list return empty. How can i get user ideias when i called findAll users?\r\nDo i need to implements something in UserRepository?\r\nIts seems weird to me, because every time i called /users resource, the ideas list return empty.\r\nIs that right?\r\nIt will always return empty in a one to many relationship?\r\nIf i want to implement this, do i need to implements some JPQL in UserRepository?\r\n\r\n\r\nClass user:\r\n   \r\n    @Entity\r\n    @Table(name = &quot;tb_user&quot;)\r\n    public class User implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\tprivate String name;\r\n\r\n\t@OneToMany(mappedBy = &quot;user&quot;)\r\n\tprivate List&lt;Idea&gt; ideas = new ArrayList&lt;&gt;();\r\n\r\n\tpublic User() {\r\n\r\n\t}\r\n\r\n\tpublic User(Long id, String name) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic List&lt;Idea&gt; getIdeas() {\r\n\t\treturn ideas;\r\n\t}\r\n\t\r\n\r\n\r\n\r\n\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\treturn Objects.hash(id);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n\t\tif (this == obj)\r\n\t\t\treturn true;\r\n\t\tif (obj == null)\r\n\t\t\treturn false;\r\n\t\tif (getClass() != obj.getClass())\r\n\t\t\treturn false;\r\n\t\tUser other = (User) obj;\r\n\t\treturn Objects.equals(id, other.id);\r\n\t}\r\n\r\n    }\r\n\r\nClass idea:\r\n\r\n    @Entity\r\n    @Table(name = &quot;tb_idea&quot;)\r\n    public class Idea implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\tprivate String title;\r\n\tprivate String description;\r\n\t\r\n\t@Column(columnDefinition = &quot;TIMESTAMP WITHOUT TIME ZONE&quot;)\r\n\tprivate Instant date;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;user_id&quot;)\r\n\tprivate User user;\r\n\r\n\tpublic Idea() {\r\n\t\t\r\n\t}\r\n\r\n\tpublic Idea(Long id, String title, String description, Instant date, User user) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.title = title;\r\n\t\tthis.description = description;\r\n\t\tthis.date = date;\r\n\t\tthis.user = user;\r\n\t}\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getTitle() {\r\n\t\treturn title;\r\n\t}\r\n\r\n\tpublic void setTitle(String title) {\r\n\t\tthis.title = title;\r\n\t}\r\n\r\n\tpublic String getDescription() {\r\n\t\treturn description;\r\n\t}\r\n\r\n\tpublic void setDescription(String description) {\r\n\t\tthis.description = description;\r\n\t}\r\n\r\n\tpublic User getUser() {\r\n\t\treturn user;\r\n\t}\r\n\r\n\tpublic void setUser(User user) {\r\n\t\tthis.user = user;\r\n\t}\r\n\t\r\n\t\r\n\r\n\tpublic Instant getDate() {\r\n\t\treturn date;\r\n\t}\r\n\r\n\tpublic void setDate(Instant date) {\r\n\t\tthis.date = date;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\treturn Objects.hash(id);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n\t\tif (this == obj)\r\n\t\t\treturn true;\r\n\t\tif (obj == null)\r\n\t\t\treturn false;\r\n\t\tif (getClass() != obj.getClass())\r\n\t\t\treturn false;\r\n\t\tIdea other = (Idea) obj;\r\n\t\treturn Objects.equals(id, other.id);\r\n\t}\r\n\t\r\n\t\r\n\r\n    }\r\n\r\nUser repository:\r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt;{\r\n\r\n    }\r\n\r\nUser service:\r\n\r\n    @Service\r\n    public class UserService {\r\n\r\n\t@Autowired\r\n\tprivate UserRepository repository;\r\n\r\n\t@Transactional(readOnly = true)\r\n\tpublic List&lt;UserDTO&gt; findAll() {\r\n\r\n\t\tList&lt;User&gt; list = repository.findAll();\r\n\r\n\t\treturn list.stream().map(x -&gt; new UserDTO(x)).collect(Collectors.toList());\r\n\r\n\t}\r\n\r\n    }\r\n\r\n\r\nUser Resource\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/users&quot;)\r\n    public class UserResource {\r\n\t\r\n\t@Autowired\r\n\tprivate UserService service;\r\n\t\r\n\t@GetMapping\r\n\tpublic ResponseEntity&lt;List&lt;UserDTO&gt;&gt; findAll() {\r\n\t\t\r\n\t\tList&lt;UserDTO&gt; list = service.findAll();\r\n\t\treturn ResponseEntity.ok().body(list);\r\n\t}\r\n\r\n    }\r\n\r\n\r\nTable Idea:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nTable users: \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nInsomnia: \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qfkP6.png\r\n  [2]: https://i.stack.imgur.com/8R4x1.png\r\n  [3]: https://i.stack.imgur.com/A8Uhb.png","title":"One To Many Java Spring list return empty","body":"<p>everybody.\nwhen i called /users to getAll users, my ideas list return empty. How can i get user ideias when i called findAll users?\nDo i need to implements something in UserRepository?\nIts seems weird to me, because every time i called /users resource, the ideas list return empty.\nIs that right?\nIt will always return empty in a one to many relationship?\nIf i want to implement this, do i need to implements some JPQL in UserRepository?</p>\n<p>Class user:</p>\n<pre><code>@Entity\n@Table(name = &quot;tb_user&quot;)\npublic class User implements Serializable {\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\nprivate String name;\n\n@OneToMany(mappedBy = &quot;user&quot;)\nprivate List&lt;Idea&gt; ideas = new ArrayList&lt;&gt;();\n\npublic User() {\n\n}\n\npublic User(Long id, String name) {\n    super();\n    this.id = id;\n    this.name = name;\n}\n\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic List&lt;Idea&gt; getIdeas() {\n    return ideas;\n}\n\n\n\n\n\n@Override\npublic int hashCode() {\n    return Objects.hash(id);\n}\n\n@Override\npublic boolean equals(Object obj) {\n    if (this == obj)\n        return true;\n    if (obj == null)\n        return false;\n    if (getClass() != obj.getClass())\n        return false;\n    User other = (User) obj;\n    return Objects.equals(id, other.id);\n}\n\n}\n</code></pre>\n<p>Class idea:</p>\n<pre><code>@Entity\n@Table(name = &quot;tb_idea&quot;)\npublic class Idea implements Serializable {\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\nprivate String title;\nprivate String description;\n\n@Column(columnDefinition = &quot;TIMESTAMP WITHOUT TIME ZONE&quot;)\nprivate Instant date;\n\n@ManyToOne\n@JoinColumn(name = &quot;user_id&quot;)\nprivate User user;\n\npublic Idea() {\n    \n}\n\npublic Idea(Long id, String title, String description, Instant date, User user) {\n    super();\n    this.id = id;\n    this.title = title;\n    this.description = description;\n    this.date = date;\n    this.user = user;\n}\n\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic String getTitle() {\n    return title;\n}\n\npublic void setTitle(String title) {\n    this.title = title;\n}\n\npublic String getDescription() {\n    return description;\n}\n\npublic void setDescription(String description) {\n    this.description = description;\n}\n\npublic User getUser() {\n    return user;\n}\n\npublic void setUser(User user) {\n    this.user = user;\n}\n\n\n\npublic Instant getDate() {\n    return date;\n}\n\npublic void setDate(Instant date) {\n    this.date = date;\n}\n\n@Override\npublic int hashCode() {\n    return Objects.hash(id);\n}\n\n@Override\npublic boolean equals(Object obj) {\n    if (this == obj)\n        return true;\n    if (obj == null)\n        return false;\n    if (getClass() != obj.getClass())\n        return false;\n    Idea other = (Idea) obj;\n    return Objects.equals(id, other.id);\n}\n\n\n\n}\n</code></pre>\n<p>User repository:</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt;{\n\n}\n</code></pre>\n<p>User service:</p>\n<pre><code>@Service\npublic class UserService {\n\n@Autowired\nprivate UserRepository repository;\n\n@Transactional(readOnly = true)\npublic List&lt;UserDTO&gt; findAll() {\n\n    List&lt;User&gt; list = repository.findAll();\n\n    return list.stream().map(x -&gt; new UserDTO(x)).collect(Collectors.toList());\n\n}\n\n}\n</code></pre>\n<p>User Resource</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/users&quot;)\npublic class UserResource {\n\n@Autowired\nprivate UserService service;\n\n@GetMapping\npublic ResponseEntity&lt;List&lt;UserDTO&gt;&gt; findAll() {\n    \n    List&lt;UserDTO&gt; list = service.findAll();\n    return ResponseEntity.ok().body(list);\n}\n\n}\n</code></pre>\n<p>Table Idea:</p>\n<p><a href=\"https://i.stack.imgur.com/qfkP6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qfkP6.png\" alt=\"enter image description here\" /></a></p>\n<p>Table users:</p>\n<p><a href=\"https://i.stack.imgur.com/8R4x1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8R4x1.png\" alt=\"enter image description here\" /></a></p>\n<p>Insomnia:</p>\n<p><a href=\"https://i.stack.imgur.com/A8Uhb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A8Uhb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-8","java-stream","word-count"],"answers":[{"tags":[],"owner":{"account_id":3983395,"reputation":3281,"user_id":3284749,"accept_rate":65,"display_name":"Mouna"},"comment_count":0,"down_vote_count":0,"up_vote_count":118,"is_accepted":true,"score":118,"last_activity_date":1644316053,"creation_date":1426682582,"answer_id":29122395,"question_id":29122394,"body_markdown":"I want to share the solution I found because at first I expected to use map-and-reduce methods, but it was a bit different.\r\n\r\n```\r\nMap&lt;String,Long&gt; collect = wordsList.stream()\r\n    .collect( Collectors.groupingBy( Function.identity(), Collectors.counting() ));\r\n```\r\nOr for Integer values:\r\n\r\n```\r\nMap&lt;String,Integer&gt; collect = wordsList.stream()\r\n     .collect( Collectors.groupingBy( Function.identity(), Collectors.summingInt(e -&gt; 1) ));\r\n```\r\n**EDIT**\r\n\r\nI add how to sort the map by value: \r\n\r\n\tLinkedHashMap&lt;String, Long&gt; countByWordSorted = collect.entrySet()\r\n\t\t\t\t.stream()\r\n\t\t\t\t.sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\r\n\t\t\t\t.collect(Collectors.toMap(\r\n\t\t\t\t\t\tMap.Entry::getKey,\r\n\t\t\t\t\t\tMap.Entry::getValue,\r\n\t\t\t\t\t\t(v1, v2) -&gt; {\r\n\t\t\t\t\t\t\tthrow new IllegalStateException();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tLinkedHashMap::new\r\n\t\t\t\t));","title":"Word frequency count Java 8","body":"<p>I want to share the solution I found because at first I expected to use map-and-reduce methods, but it was a bit different.</p>\n<pre><code>Map&lt;String,Long&gt; collect = wordsList.stream()\n    .collect( Collectors.groupingBy( Function.identity(), Collectors.counting() ));\n</code></pre>\n<p>Or for Integer values:</p>\n<pre><code>Map&lt;String,Integer&gt; collect = wordsList.stream()\n     .collect( Collectors.groupingBy( Function.identity(), Collectors.summingInt(e -&gt; 1) ));\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>I add how to sort the map by value:</p>\n<pre><code>LinkedHashMap&lt;String, Long&gt; countByWordSorted = collect.entrySet()\n            .stream()\n            .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\n            .collect(Collectors.toMap(\n                    Map.Entry::getKey,\n                    Map.Entry::getValue,\n                    (v1, v2) -&gt; {\n                        throw new IllegalStateException();\n                    },\n                    LinkedHashMap::new\n            ));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1426702627,"post_id":29127257,"comment_id":46485141,"body_markdown":"I guess, `Collectors.groupingByConcurrent(w-&gt;w, Collectors.counting())` will be more efficient.","body":"I guess, <code>Collectors.groupingByConcurrent(w-&gt;w, Collectors.counting())</code> will be more efficient."},{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1426710526,"post_id":29127257,"comment_id":46489856,"body_markdown":"@Holger I added an EDIT about this.","body":"@Holger I added an EDIT about this."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1426711017,"post_id":29127257,"comment_id":46490164,"body_markdown":"Your should also care about the number of *equal* words. The contention for a single map entry might have a significant impact. Counting thousand distinct words might work without any contention in Java&#160;8s `ConcurrentMap` though I wouldnt call storing `1`s counting. So, counting thousand occurrences of the same word might give a different picture","body":"Your should also care about the number of <i>equal</i> words. The contention for a single map entry might have a significant impact. Counting thousand distinct words might work without any contention in Java 8s <code>ConcurrentMap</code> though I wouldnt call storing <code>1</code>s counting. So, counting thousand occurrences of the same word might give a different picture"},{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1426711790,"post_id":29127257,"comment_id":46490633,"body_markdown":"@Holger Sure, that&#39;s what I tried to cover (as far as reasonably possible) with a list size of 10000 containing random words of length 2: There are between 6 and 32 (average: ~15) occurrances of the same words. A quick (!) test with 100000 times &quot;aa&quot; looks like the timings are more similar then, but this test does not tell much about the performance in a realistic application case.","body":"@Holger Sure, that&#39;s what I tried to cover (as far as reasonably possible) with a list size of 10000 containing random words of length 2: There are between 6 and 32 (average: ~15) occurrances of the same words. A quick (!) test with 100000 times &quot;aa&quot; looks like the timings are more similar then, but this test does not tell much about the performance in a realistic application case."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1426756493,"post_id":29127257,"comment_id":46504989,"body_markdown":"It would be great if you could post your benchmark code.","body":"It would be great if you could post your benchmark code."},{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1426757392,"post_id":29127257,"comment_id":46505492,"body_markdown":"@Holger I didn&#39;t want to bloat the answer with something that does not really answer the actual question, but I&#39;ll clean up and post the code later today.","body":"@Holger I didn&#39;t want to bloat the answer with something that does not really answer the actual question, but I&#39;ll clean up and post the code later today."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1426757664,"post_id":29127257,"comment_id":46505641,"body_markdown":"Understandable, but when discussing alternatives, having a comparison will be useful. After all, even the OPs own `groupingBy` approach can work in parallel and it would be great to expand the benchmark to see the differences between all variants (`groupingBy` vs `toMap`)&#215;(ordinary vs. `Concurrent`)","body":"Understandable, but when discussing alternatives, having a comparison will be useful. After all, even the OPs own <code>groupingBy</code> approach can work in parallel and it would be great to expand the benchmark to see the differences between all variants (<code>groupingBy</code> vs <code>toMap</code>)&#215;(ordinary vs. <code>Concurrent</code>)"}],"tags":[],"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"comment_count":7,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1426797107,"creation_date":1426695532,"answer_id":29127257,"question_id":29122394,"body_markdown":"(**NOTE: See the edits below**)\r\n\r\n\r\nAs an alternative to [Mounas answer][1], here is an approach that does the word count in parallel:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class ParallelWordCount\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            List&lt;String&gt; list = Arrays.asList(\r\n                &quot;hello&quot;, &quot;bye&quot;, &quot;ciao&quot;, &quot;bye&quot;, &quot;ciao&quot;);\r\n            Map&lt;String, Integer&gt; counts = list.parallelStream().\r\n                collect(Collectors.toConcurrentMap(\r\n                    w -&gt; w, w -&gt; 1, Integer::sum));\r\n            System.out.println(counts);\r\n        }\r\n    }\r\n\r\n\r\n&gt; EDIT In response to the comment, I ran a small test with JMH, comparing the `toConcurrentMap` and the `groupingByConcurrent` approach, with different input list sizes and random words of different lengths. This test suggested that the `toConcurrentMap` approach was faster. When considering how different these approaches are &quot;under the hood&quot;, it&#39;s hard to predict something like this.\r\n\r\n&gt; As a further extension, based on further comments, I extended the test to cover all four combinations of `toMap`, `groupingBy`, serial and parallel. \r\n\r\n&gt; The results are still that the `toMap` approach is faster, but unexpectedly (at least, for me) the &quot;concurrent&quot; versions in both cases are slower than the serial versions...:\r\n\r\n    \r\n\r\n                 (method)  (count) (wordLength)  Mode  Cnt     Score    Error  Units\r\n          toConcurrentMap     1000            2  avgt   50   146,636 &#177;  0,880  us/op\r\n          toConcurrentMap     1000            5  avgt   50   272,762 &#177;  1,232  us/op\r\n          toConcurrentMap     1000           10  avgt   50   271,121 &#177;  1,125  us/op\r\n                    toMap     1000            2  avgt   50    44,396 &#177;  0,541  us/op\r\n                    toMap     1000            5  avgt   50    46,938 &#177;  0,872  us/op\r\n                    toMap     1000           10  avgt   50    46,180 &#177;  0,557  us/op\r\n               groupingBy     1000            2  avgt   50    46,797 &#177;  1,181  us/op\r\n               groupingBy     1000            5  avgt   50    68,992 &#177;  1,537  us/op\r\n               groupingBy     1000           10  avgt   50    68,636 &#177;  1,349  us/op\r\n     groupingByConcurrent     1000            2  avgt   50   231,458 &#177;  0,658  us/op\r\n     groupingByConcurrent     1000            5  avgt   50   438,975 &#177;  1,591  us/op\r\n     groupingByConcurrent     1000           10  avgt   50   437,765 &#177;  1,139  us/op\r\n          toConcurrentMap    10000            2  avgt   50   712,113 &#177;  6,340  us/op\r\n          toConcurrentMap    10000            5  avgt   50  1809,356 &#177;  9,344  us/op\r\n          toConcurrentMap    10000           10  avgt   50  1813,814 &#177; 16,190  us/op\r\n                    toMap    10000            2  avgt   50   341,004 &#177; 16,074  us/op\r\n                    toMap    10000            5  avgt   50   535,122 &#177; 24,674  us/op\r\n                    toMap    10000           10  avgt   50   511,186 &#177;  3,444  us/op\r\n               groupingBy    10000            2  avgt   50   340,984 &#177;  6,235  us/op\r\n               groupingBy    10000            5  avgt   50   708,553 &#177;  6,369  us/op\r\n               groupingBy    10000           10  avgt   50   712,858 &#177; 10,248  us/op\r\n     groupingByConcurrent    10000            2  avgt   50   901,842 &#177;  8,685  us/op\r\n     groupingByConcurrent    10000            5  avgt   50  3762,478 &#177; 21,408  us/op\r\n     groupingByConcurrent    10000           10  avgt   50  3795,530 &#177; 32,096  us/op\r\n\r\nI&#39;m not so experienced with JMH, maybe I did something wrong here - suggestions and corrections are welcome:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Random;\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.util.function.Function;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import org.openjdk.jmh.annotations.Benchmark;\r\n    import org.openjdk.jmh.annotations.BenchmarkMode;\r\n    import org.openjdk.jmh.annotations.Mode;\r\n    import org.openjdk.jmh.annotations.OutputTimeUnit;\r\n    import org.openjdk.jmh.annotations.Param;\r\n    import org.openjdk.jmh.annotations.Scope;\r\n    import org.openjdk.jmh.annotations.Setup;\r\n    import org.openjdk.jmh.annotations.State;\r\n    import org.openjdk.jmh.infra.Blackhole;\r\n    \r\n    @State(Scope.Thread)\r\n    public class ParallelWordCount\r\n    {\r\n    \r\n        @Param({&quot;toConcurrentMap&quot;, &quot;toMap&quot;, &quot;groupingBy&quot;, &quot;groupingByConcurrent&quot;})\r\n        public String method;\r\n    \r\n        @Param({&quot;2&quot;, &quot;5&quot;, &quot;10&quot;})\r\n        public int wordLength;\r\n    \r\n        @Param({&quot;1000&quot;, &quot;10000&quot; })\r\n        public int count;\r\n    \r\n        private List&lt;String&gt; list;\r\n        \r\n        @Setup\r\n        public void initList()\r\n        {\r\n             list = createRandomStrings(count, wordLength, new Random(0));\r\n        }\r\n    \r\n        @Benchmark\r\n        @BenchmarkMode(Mode.AverageTime)\r\n        @OutputTimeUnit(TimeUnit.MICROSECONDS)\r\n        public void testMethod(Blackhole bh)\r\n        {\r\n            \r\n            if (method.equals(&quot;toMap&quot;))\r\n            {\r\n                Map&lt;String, Integer&gt; counts =\r\n                    list.stream().collect(\r\n                        Collectors.toMap(\r\n                            w -&gt; w, w -&gt; 1, Integer::sum));\r\n                bh.consume(counts);\r\n            }\r\n            else if (method.equals(&quot;toConcurrentMap&quot;))\r\n            {\r\n                Map&lt;String, Integer&gt; counts =\r\n                    list.parallelStream().collect(\r\n                        Collectors.toConcurrentMap(\r\n                            w -&gt; w, w -&gt; 1, Integer::sum));\r\n                bh.consume(counts);\r\n            }\r\n            else if (method.equals(&quot;groupingBy&quot;))\r\n            {\r\n                Map&lt;String, Long&gt; counts =\r\n                    list.stream().collect(\r\n                        Collectors.groupingBy(\r\n                            Function.identity(), Collectors.&lt;String&gt;counting()));\r\n                bh.consume(counts);\r\n            }\r\n            else if (method.equals(&quot;groupingByConcurrent&quot;))\r\n            {\r\n                Map&lt;String, Long&gt; counts =\r\n                    list.parallelStream().collect(\r\n                        Collectors.groupingByConcurrent(\r\n                            Function.identity(), Collectors.&lt;String&gt; counting()));\r\n                bh.consume(counts);\r\n            }\r\n        }\r\n        \r\n        private static String createRandomString(int length, Random random)\r\n        {\r\n            StringBuilder sb = new StringBuilder();\r\n            for (int i = 0; i &lt; length; i++)\r\n            {\r\n                int c = random.nextInt(26);\r\n                sb.append((char) (c + &#39;a&#39;));\r\n            }\r\n            return sb.toString();\r\n        }\r\n    \r\n        private static List&lt;String&gt; createRandomStrings(\r\n            int count, int length, Random random)\r\n        {\r\n            List&lt;String&gt; list = new ArrayList&lt;String&gt;(count);\r\n            for (int i = 0; i &lt; count; i++)\r\n            {\r\n                list.add(createRandomString(length, random));\r\n            }\r\n            return list;\r\n        }\r\n    }\r\n\r\nThe times are only similar for the serial case of a list with 10000 elements, and 2-letter words. \r\n\r\nIt could be worthwhile to check whether for even larger list sizes, the concurrent versions eventually outperform the serial ones, but currently don&#39;t have the time for another detailed benchmark run with all these configurations. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/29122395/3182664\r\n\r\n","title":"Word frequency count Java 8","body":"<p>(<strong>NOTE: See the edits below</strong>)</p>\n\n<p>As an alternative to <a href=\"https://stackoverflow.com/a/29122395/3182664\">Mounas answer</a>, here is an approach that does the word count in parallel:</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class ParallelWordCount\n{\n    public static void main(String[] args)\n    {\n        List&lt;String&gt; list = Arrays.asList(\n            \"hello\", \"bye\", \"ciao\", \"bye\", \"ciao\");\n        Map&lt;String, Integer&gt; counts = list.parallelStream().\n            collect(Collectors.toConcurrentMap(\n                w -&gt; w, w -&gt; 1, Integer::sum));\n        System.out.println(counts);\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>EDIT In response to the comment, I ran a small test with JMH, comparing the <code>toConcurrentMap</code> and the <code>groupingByConcurrent</code> approach, with different input list sizes and random words of different lengths. This test suggested that the <code>toConcurrentMap</code> approach was faster. When considering how different these approaches are \"under the hood\", it's hard to predict something like this.</p>\n  \n  <p>As a further extension, based on further comments, I extended the test to cover all four combinations of <code>toMap</code>, <code>groupingBy</code>, serial and parallel. </p>\n  \n  <p>The results are still that the <code>toMap</code> approach is faster, but unexpectedly (at least, for me) the \"concurrent\" versions in both cases are slower than the serial versions...:</p>\n</blockquote>\n\n<pre><code>             (method)  (count) (wordLength)  Mode  Cnt     Score    Error  Units\n      toConcurrentMap     1000            2  avgt   50   146,636   0,880  us/op\n      toConcurrentMap     1000            5  avgt   50   272,762   1,232  us/op\n      toConcurrentMap     1000           10  avgt   50   271,121   1,125  us/op\n                toMap     1000            2  avgt   50    44,396   0,541  us/op\n                toMap     1000            5  avgt   50    46,938   0,872  us/op\n                toMap     1000           10  avgt   50    46,180   0,557  us/op\n           groupingBy     1000            2  avgt   50    46,797   1,181  us/op\n           groupingBy     1000            5  avgt   50    68,992   1,537  us/op\n           groupingBy     1000           10  avgt   50    68,636   1,349  us/op\n groupingByConcurrent     1000            2  avgt   50   231,458   0,658  us/op\n groupingByConcurrent     1000            5  avgt   50   438,975   1,591  us/op\n groupingByConcurrent     1000           10  avgt   50   437,765   1,139  us/op\n      toConcurrentMap    10000            2  avgt   50   712,113   6,340  us/op\n      toConcurrentMap    10000            5  avgt   50  1809,356   9,344  us/op\n      toConcurrentMap    10000           10  avgt   50  1813,814  16,190  us/op\n                toMap    10000            2  avgt   50   341,004  16,074  us/op\n                toMap    10000            5  avgt   50   535,122  24,674  us/op\n                toMap    10000           10  avgt   50   511,186   3,444  us/op\n           groupingBy    10000            2  avgt   50   340,984   6,235  us/op\n           groupingBy    10000            5  avgt   50   708,553   6,369  us/op\n           groupingBy    10000           10  avgt   50   712,858  10,248  us/op\n groupingByConcurrent    10000            2  avgt   50   901,842   8,685  us/op\n groupingByConcurrent    10000            5  avgt   50  3762,478  21,408  us/op\n groupingByConcurrent    10000           10  avgt   50  3795,530  32,096  us/op\n</code></pre>\n\n<p>I'm not so experienced with JMH, maybe I did something wrong here - suggestions and corrections are welcome:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Random;\nimport java.util.concurrent.TimeUnit;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n\nimport org.openjdk.jmh.annotations.Benchmark;\nimport org.openjdk.jmh.annotations.BenchmarkMode;\nimport org.openjdk.jmh.annotations.Mode;\nimport org.openjdk.jmh.annotations.OutputTimeUnit;\nimport org.openjdk.jmh.annotations.Param;\nimport org.openjdk.jmh.annotations.Scope;\nimport org.openjdk.jmh.annotations.Setup;\nimport org.openjdk.jmh.annotations.State;\nimport org.openjdk.jmh.infra.Blackhole;\n\n@State(Scope.Thread)\npublic class ParallelWordCount\n{\n\n    @Param({\"toConcurrentMap\", \"toMap\", \"groupingBy\", \"groupingByConcurrent\"})\n    public String method;\n\n    @Param({\"2\", \"5\", \"10\"})\n    public int wordLength;\n\n    @Param({\"1000\", \"10000\" })\n    public int count;\n\n    private List&lt;String&gt; list;\n\n    @Setup\n    public void initList()\n    {\n         list = createRandomStrings(count, wordLength, new Random(0));\n    }\n\n    @Benchmark\n    @BenchmarkMode(Mode.AverageTime)\n    @OutputTimeUnit(TimeUnit.MICROSECONDS)\n    public void testMethod(Blackhole bh)\n    {\n\n        if (method.equals(\"toMap\"))\n        {\n            Map&lt;String, Integer&gt; counts =\n                list.stream().collect(\n                    Collectors.toMap(\n                        w -&gt; w, w -&gt; 1, Integer::sum));\n            bh.consume(counts);\n        }\n        else if (method.equals(\"toConcurrentMap\"))\n        {\n            Map&lt;String, Integer&gt; counts =\n                list.parallelStream().collect(\n                    Collectors.toConcurrentMap(\n                        w -&gt; w, w -&gt; 1, Integer::sum));\n            bh.consume(counts);\n        }\n        else if (method.equals(\"groupingBy\"))\n        {\n            Map&lt;String, Long&gt; counts =\n                list.stream().collect(\n                    Collectors.groupingBy(\n                        Function.identity(), Collectors.&lt;String&gt;counting()));\n            bh.consume(counts);\n        }\n        else if (method.equals(\"groupingByConcurrent\"))\n        {\n            Map&lt;String, Long&gt; counts =\n                list.parallelStream().collect(\n                    Collectors.groupingByConcurrent(\n                        Function.identity(), Collectors.&lt;String&gt; counting()));\n            bh.consume(counts);\n        }\n    }\n\n    private static String createRandomString(int length, Random random)\n    {\n        StringBuilder sb = new StringBuilder();\n        for (int i = 0; i &lt; length; i++)\n        {\n            int c = random.nextInt(26);\n            sb.append((char) (c + 'a'));\n        }\n        return sb.toString();\n    }\n\n    private static List&lt;String&gt; createRandomStrings(\n        int count, int length, Random random)\n    {\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;(count);\n        for (int i = 0; i &lt; count; i++)\n        {\n            list.add(createRandomString(length, random));\n        }\n        return list;\n    }\n}\n</code></pre>\n\n<p>The times are only similar for the serial case of a list with 10000 elements, and 2-letter words. </p>\n\n<p>It could be worthwhile to check whether for even larger list sizes, the concurrent versions eventually outperform the serial ones, but currently don't have the time for another detailed benchmark run with all these configurations. </p>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1630279780,"creation_date":1426733994,"answer_id":29136492,"question_id":29122394,"body_markdown":"If you use [Eclipse Collections][1], you can just convert the `List` to a [`Bag`][2].\r\n    \r\n    Bag&lt;String&gt; words = \r\n        Lists.mutable.with(&quot;hello&quot;, &quot;bye&quot;, &quot;ciao&quot;, &quot;bye&quot;, &quot;ciao&quot;).toBag();\r\n\r\n    Assert.assertEquals(2, words.occurrencesOf(&quot;ciao&quot;));\r\n    Assert.assertEquals(1, words.occurrencesOf(&quot;hello&quot;));\r\n    Assert.assertEquals(2, words.occurrencesOf(&quot;bye&quot;));\r\n\r\nYou can also create a `Bag` directly using the `Bags` factory class.\r\n\r\n    Bag&lt;String&gt; words = \r\n        Bags.mutable.with(&quot;hello&quot;, &quot;bye&quot;, &quot;ciao&quot;, &quot;bye&quot;, &quot;ciao&quot;);\r\n\r\nThis code will work with Java 5+.\r\n\r\n**Note:** I am a committer for Eclipse Collections\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/\r\n  [2]: https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/api/bag/Bag.html","title":"Word frequency count Java 8","body":"<p>If you use <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a>, you can just convert the <code>List</code> to a <a href=\"https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/api/bag/Bag.html\" rel=\"nofollow noreferrer\"><code>Bag</code></a>.</p>\n<pre><code>Bag&lt;String&gt; words = \n    Lists.mutable.with(&quot;hello&quot;, &quot;bye&quot;, &quot;ciao&quot;, &quot;bye&quot;, &quot;ciao&quot;).toBag();\n\nAssert.assertEquals(2, words.occurrencesOf(&quot;ciao&quot;));\nAssert.assertEquals(1, words.occurrencesOf(&quot;hello&quot;));\nAssert.assertEquals(2, words.occurrencesOf(&quot;bye&quot;));\n</code></pre>\n<p>You can also create a <code>Bag</code> directly using the <code>Bags</code> factory class.</p>\n<pre><code>Bag&lt;String&gt; words = \n    Bags.mutable.with(&quot;hello&quot;, &quot;bye&quot;, &quot;ciao&quot;, &quot;bye&quot;, &quot;ciao&quot;);\n</code></pre>\n<p>This code will work with Java 5+.</p>\n<p><strong>Note:</strong> I am a committer for Eclipse Collections</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1426793817,"creation_date":1426793817,"answer_id":29153473,"question_id":29122394,"body_markdown":"I&#39;ll present the solution here which I made (the one with grouping is much better :) ).\r\n\r\n    static private void test0(List&lt;String&gt; input) {\r\n        Set&lt;String&gt; set = input.stream()\r\n                .collect(Collectors.toSet());\r\n        set.stream()\r\n                .collect(Collectors.toMap(Function.identity(),\r\n                        str -&gt; Collections.frequency(input, str)));\r\n    }\r\n\r\nJust my 0.02$","title":"Word frequency count Java 8","body":"<p>I'll present the solution here which I made (the one with grouping is much better :) ).</p>\n\n<pre><code>static private void test0(List&lt;String&gt; input) {\n    Set&lt;String&gt; set = input.stream()\n            .collect(Collectors.toSet());\n    set.stream()\n            .collect(Collectors.toMap(Function.identity(),\n                    str -&gt; Collections.frequency(input, str)));\n}\n</code></pre>\n\n<p>Just my 0.02$</p>\n"},{"tags":[],"owner":{"account_id":1912589,"reputation":3588,"user_id":1725975,"display_name":"Sym-Sym"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510607039,"creation_date":1510607039,"answer_id":47273500,"question_id":29122394,"body_markdown":"Another 2 cent of mine, given an array:\r\n\r\n    import static java.util.stream.Collectors.*;\r\n\r\n    String[] str = {&quot;hello&quot;, &quot;bye&quot;, &quot;ciao&quot;, &quot;bye&quot;, &quot;ciao&quot;};    \r\n    Map&lt;String, Integer&gt; collected \r\n    = Arrays.stream(str)\r\n            .collect(groupingBy(Function.identity(), \r\n                        collectingAndThen(counting(), Long::intValue)));","title":"Word frequency count Java 8","body":"<p>Another 2 cent of mine, given an array:</p>\n\n<pre><code>import static java.util.stream.Collectors.*;\n\nString[] str = {\"hello\", \"bye\", \"ciao\", \"bye\", \"ciao\"};    \nMap&lt;String, Integer&gt; collected \n= Arrays.stream(str)\n        .collect(groupingBy(Function.identity(), \n                    collectingAndThen(counting(), Long::intValue)));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4945970,"reputation":832,"user_id":3981312,"accept_rate":40,"display_name":"mancocapac"},"score":0,"creation_date":1529107053,"post_id":48965175,"comment_id":88769783,"body_markdown":"I like map.merge, however not sure why you did all that work to create List&lt;String&gt; words why not just do :\n\n    List&lt;String&gt; list = Arrays.asList(&quot;hello&quot;, &quot;bye&quot;, &quot;ciao&quot;, &quot;bye&quot;, &quot;ciao&quot;)","body":"I like map.merge, however not sure why you did all that work to create List&lt;String&gt; words why not just do :      List&lt;String&gt; list = Arrays.asList(&quot;hello&quot;, &quot;bye&quot;, &quot;ciao&quot;, &quot;bye&quot;, &quot;ciao&quot;)"},{"owner":{"account_id":10015759,"reputation":1162,"user_id":7407116,"display_name":"Piyush"},"score":1,"creation_date":1529604474,"post_id":48965175,"comment_id":88946178,"body_markdown":"@mancocapac Thanks! About the list creation code, I stay away from Arrays.asList because it returns a java.util.Arrays$ArrayList instead of the normal ArrayList. I prefer not using it because eventually if the data is going to be serialized in your app, it creates unwanted serialized structure with Arrays.asList.","body":"@mancocapac Thanks! About the list creation code, I stay away from Arrays.asList because it returns a java.util.Arrays$ArrayList instead of the normal ArrayList. I prefer not using it because eventually if the data is going to be serialized in your app, it creates unwanted serialized structure with Arrays.asList."}],"tags":[],"owner":{"account_id":10015759,"reputation":1162,"user_id":7407116,"display_name":"Piyush"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1519493890,"creation_date":1519490751,"answer_id":48965175,"question_id":29122394,"body_markdown":"Here&#39;s a way to create a frequency map using map functions.\r\n\r\n    List&lt;String&gt; words = Stream.of(&quot;hello&quot;, &quot;bye&quot;, &quot;ciao&quot;, &quot;bye&quot;, &quot;ciao&quot;).collect(toList());\r\n    Map&lt;String, Integer&gt; frequencyMap = new HashMap&lt;&gt;();\r\n    \r\n    words.forEach(word -&gt;\r\n            frequencyMap.merge(word, 1, (v, newV) -&gt; v + newV)\r\n    );\r\n    \r\n    System.out.println(frequencyMap); // {ciao=2, hello=1, bye=2}\r\n\r\nOr\r\n\r\n    words.forEach(word -&gt;\r\n           frequencyMap.compute(word, (k, v) -&gt; v != null ? v + 1 : 1)\r\n    );\r\n\r\n","title":"Word frequency count Java 8","body":"<p>Here's a way to create a frequency map using map functions.</p>\n\n<pre><code>List&lt;String&gt; words = Stream.of(\"hello\", \"bye\", \"ciao\", \"bye\", \"ciao\").collect(toList());\nMap&lt;String, Integer&gt; frequencyMap = new HashMap&lt;&gt;();\n\nwords.forEach(word -&gt;\n        frequencyMap.merge(word, 1, (v, newV) -&gt; v + newV)\n);\n\nSystem.out.println(frequencyMap); // {ciao=2, hello=1, bye=2}\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>words.forEach(word -&gt;\n       frequencyMap.compute(word, (k, v) -&gt; v != null ? v + 1 : 1)\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5576966,"reputation":609,"user_id":4420094,"accept_rate":80,"display_name":"nejckorasa"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1532508258,"creation_date":1519742025,"answer_id":49011132,"question_id":29122394,"body_markdown":"Find most frequent item in collection, with generics:\r\n\r\n\r\n  \t\r\n    private &lt;V&gt; V findMostFrequentItem(final Collection&lt;V&gt; items)\r\n  \t{\r\n  \t  return items.stream()\r\n          .filter(Objects::nonNull)\r\n  \t      .collect(Collectors.groupingBy(Functions.identity(), Collectors.counting()))\r\n          .entrySet()\r\n          .stream()\r\n  \t      .max(Comparator.comparing(Entry::getValue))\r\n  \t      .map(Entry::getKey)\r\n  \t      .orElse(null);\r\n  \t}\r\n\r\n\r\n\r\nCompute item frequencies:\r\n\r\n  \tprivate &lt;V&gt; Map&lt;V, Long&gt; findFrequencies(final Collection&lt;V&gt; items)\r\n  \t{\r\n  \t  return items.stream()\r\n  \t      .filter(Objects::nonNull)\r\n  \t      .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n  \t}","title":"Word frequency count Java 8","body":"<p>Find most frequent item in collection, with generics:</p>\n\n<pre><code>private &lt;V&gt; V findMostFrequentItem(final Collection&lt;V&gt; items)\n{\n  return items.stream()\n      .filter(Objects::nonNull)\n      .collect(Collectors.groupingBy(Functions.identity(), Collectors.counting()))\n      .entrySet()\n      .stream()\n      .max(Comparator.comparing(Entry::getValue))\n      .map(Entry::getKey)\n      .orElse(null);\n}\n</code></pre>\n\n<p>Compute item frequencies:</p>\n\n<pre><code>private &lt;V&gt; Map&lt;V, Long&gt; findFrequencies(final Collection&lt;V&gt; items)\n{\n  return items.stream()\n      .filter(Objects::nonNull)\n      .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8172663,"reputation":1,"user_id":6152555,"display_name":"Easycoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559214787,"creation_date":1559213954,"answer_id":56376949,"question_id":29122394,"body_markdown":"```\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\t\r\n\t\tString testString =&quot;qqwweerrttyyaaaaaasdfasafsdfadsfadsewfywqtedywqtdfewyfdweytfdywfdyrewfdyewrefdyewdyfwhxvsahxvfwytfx&quot;; \r\n\t\tlong java8Case2 = testString.codePoints().filter(ch -&gt; ch ==&#39;a&#39;).count();\r\n\t\tSystem.out.println(java8Case2);\r\n\t\t\r\n\t\tArrayList&lt;Character&gt; list = new ArrayList&lt;Character&gt;();\r\n\t\tfor (char c : testString.toCharArray()) {\r\n\t\t  list.add(c);\r\n\t\t}\r\n\t    Map&lt;Object, Integer&gt; counts = list.parallelStream().\r\n\t        collect(Collectors.toConcurrentMap(\r\n\t            w -&gt; w, w -&gt; 1, Integer::sum));\r\n\t    System.out.println(counts);\r\n\t}\r\n\r\n}\r\n```\r\n","title":"Word frequency count Java 8","body":"<pre><code>public class Main {\n\n    public static void main(String[] args) {\n\n\n        String testString =\"qqwweerrttyyaaaaaasdfasafsdfadsfadsewfywqtedywqtdfewyfdweytfdywfdyrewfdyewrefdyewdyfwhxvsahxvfwytfx\"; \n        long java8Case2 = testString.codePoints().filter(ch -&gt; ch =='a').count();\n        System.out.println(java8Case2);\n\n        ArrayList&lt;Character&gt; list = new ArrayList&lt;Character&gt;();\n        for (char c : testString.toCharArray()) {\n          list.add(c);\n        }\n        Map&lt;Object, Integer&gt; counts = list.parallelStream().\n            collect(Collectors.toConcurrentMap(\n                w -&gt; w, w -&gt; 1, Integer::sum));\n        System.out.println(counts);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9133872,"reputation":103,"user_id":6794342,"display_name":"Saidu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578882616,"creation_date":1578882616,"answer_id":59709937,"question_id":29122394,"body_markdown":"you can use the Java 8 Streams\r\n\r\n```\r\n    Arrays.asList(s).stream()\r\n          .collect(Collectors.groupingBy(Function.&lt;String&gt;identity(), \r\n          Collectors.&lt;String&gt;counting()));\r\n```","title":"Word frequency count Java 8","body":"<p>you can use the Java 8 Streams</p>\n\n<pre><code>    Arrays.asList(s).stream()\n          .collect(Collectors.groupingBy(Function.&lt;String&gt;identity(), \n          Collectors.&lt;String&gt;counting()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5993436,"reputation":487,"user_id":4708874,"accept_rate":53,"display_name":"Mehdi Akbarian Rastaghi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664780276,"creation_date":1664780276,"answer_id":73932052,"question_id":29122394,"body_markdown":"I think there is a more readable way:\r\n\r\n```java\r\nvar words = List.of(&quot;my&quot;, &quot;more&quot;, &quot;more&quot;, &quot;more&quot;, &quot;simple&quot;, &quot;way&quot;);\r\nvar count = words.stream().map(x -&gt; Map.entry(x, 1))\r\n                    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, Integer::sum));\r\n```\r\n\r\nSimilar to map-reduce approach, first map each word *w* to a (*w*, 1). Then aggregate(reduce part) all pairs&#39; count(`Map.Entry::getValue`) where their key(word *w*) is similar, (`Map.Entry::getKey`) and calculate the sum( `Integer::sum`). \r\n\r\nThe final terminal operation will return a `HashMap&lt;String, Integer&gt;`:\r\n\r\n    {more=3, simple=1, my=1, way=1}\r\n\r\n","title":"Word frequency count Java 8","body":"<p>I think there is a more readable way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var words = List.of(&quot;my&quot;, &quot;more&quot;, &quot;more&quot;, &quot;more&quot;, &quot;simple&quot;, &quot;way&quot;);\nvar count = words.stream().map(x -&gt; Map.entry(x, 1))\n                    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, Integer::sum));\n</code></pre>\n<p>Similar to map-reduce approach, first map each word <em>w</em> to a (<em>w</em>, 1). Then aggregate(reduce part) all pairs' count(<code>Map.Entry::getValue</code>) where their key(word <em>w</em>) is similar, (<code>Map.Entry::getKey</code>) and calculate the sum( <code>Integer::sum</code>).</p>\n<p>The final terminal operation will return a <code>HashMap&lt;String, Integer&gt;</code>:</p>\n<pre><code>{more=3, simple=1, my=1, way=1}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6277349,"reputation":311,"user_id":4879651,"display_name":"Manash Ranjan Dakua"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675312417,"creation_date":1675312417,"answer_id":75318715,"question_id":29122394,"body_markdown":"\r\n\r\n\r\n\r\n\r\n      public static void main(String[] args) {\r\n\t\tString str = &quot;Hi Hello Hi&quot;;\r\n\t\tList&lt;String&gt; s = Arrays.asList(str.split(&quot; &quot;));\r\n\t\tMap&lt;String, Long&gt; hm = \r\n                  s.stream().collect(Collectors.groupingBy(Function.identity(), \r\n                  Collectors.counting()));\r\n\r\n\t\t          hm.entrySet().forEach(entry -&gt; {\r\n\r\n\t\t\t     System.out.println(entry.getKey() + &quot; &quot; + entry.getValue());\r\n\t\t          });\r\n\r\n\t}","title":"Word frequency count Java 8","body":"<pre><code>  public static void main(String[] args) {\n    String str = &quot;Hi Hello Hi&quot;;\n    List&lt;String&gt; s = Arrays.asList(str.split(&quot; &quot;));\n    Map&lt;String, Long&gt; hm = \n              s.stream().collect(Collectors.groupingBy(Function.identity(), \n              Collectors.counting()));\n\n              hm.entrySet().forEach(entry -&gt; {\n\n             System.out.println(entry.getKey() + &quot; &quot; + entry.getValue());\n              });\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693770450,"creation_date":1693770450,"answer_id":77033940,"question_id":29122394,"body_markdown":"I am surprised no one mentioned solution using [`Map.getOrDefault`][1]:\r\n```\r\nMap&lt;String, Integer&gt; res = new HashMap&lt;&gt;();\r\nwordsList.forEach(w -&gt; res.put(w, res.getOrDefault(w, 0) + 1));\r\n```\r\n`default V getOrDefault(Object key, V defaultValue)`\r\n- Returns the value to which the specified key is mapped, or defaultValue if this map contains no mapping for the key. So, it&#39;s pretty easy to use it for frequency calculation.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-","title":"Word frequency count Java 8","body":"<p>I am surprised no one mentioned solution using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-\" rel=\"nofollow noreferrer\"><code>Map.getOrDefault</code></a>:</p>\n<pre><code>Map&lt;String, Integer&gt; res = new HashMap&lt;&gt;();\nwordsList.forEach(w -&gt; res.put(w, res.getOrDefault(w, 0) + 1));\n</code></pre>\n<p><code>default V getOrDefault(Object key, V defaultValue)</code></p>\n<ul>\n<li>Returns the value to which the specified key is mapped, or defaultValue if this map contains no mapping for the key. So, it's pretty easy to use it for frequency calculation.</li>\n</ul>\n"}],"owner":{"account_id":3983395,"reputation":3281,"user_id":3284749,"accept_rate":65,"display_name":"Mouna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92718,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":29122395,"answer_count":12,"score":79,"last_activity_date":1693770450,"creation_date":1426682582,"question_id":29122394,"body_markdown":"How to count the frequency of words of List&lt;String&gt; in Java 8?\r\n\r\n    List &lt;String&gt; wordsList = Lists.newArrayList(&quot;hello&quot;, &quot;bye&quot;, &quot;ciao&quot;, &quot;bye&quot;, &quot;ciao&quot;);\r\n\r\nThe result must be: \r\n\r\n    {ciao=2, hello=1, bye=2}\r\n\r\n","title":"Word frequency count Java 8","body":"<p>How to count the frequency of words of List in Java 8?</p>\n\n<pre><code>List &lt;String&gt; wordsList = Lists.newArrayList(\"hello\", \"bye\", \"ciao\", \"bye\", \"ciao\");\n</code></pre>\n\n<p>The result must be: </p>\n\n<pre><code>{ciao=2, hello=1, bye=2}\n</code></pre>\n"},{"tags":["java","hash","hashmap","equals","hashcode"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1503857811,"post_id":45907878,"comment_id":78774561,"body_markdown":"Are you looking for this https://stackoverflow.com/questions/4885095/what-is-the-reason-behind-enum-hashcode ?","body":"Are you looking for this <a href=\"https://stackoverflow.com/questions/4885095/what-is-the-reason-behind-enum-hashcode\" title=\"what is the reason behind enum hashcode\">stackoverflow.com/questions/4885095/&hellip;</a> ?"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1503857939,"post_id":45907878,"comment_id":78774599,"body_markdown":"Or have you ended up with something like this https://stackoverflow.com/questions/40028231/apache-commons-lang3-hashcode-equals-and-tostring-including-enums?","body":"Or have you ended up with something like this <a href=\"https://stackoverflow.com/questions/40028231/apache-commons-lang3-hashcode-equals-and-tostring-including-enums\" title=\"apache commons lang3 hashcode equals and tostring including enums\">stackoverflow.com/questions/40028231/&hellip;</a>?"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":2,"creation_date":1503859765,"post_id":45907878,"comment_id":78775100,"body_markdown":"Also check `EnumMap`.","body":"Also check <code>EnumMap</code>."}],"answers":[{"comments":[{"owner":{"account_id":5872134,"reputation":915,"user_id":4624150,"accept_rate":32,"display_name":"Saad"},"score":0,"creation_date":1503857737,"post_id":45907958,"comment_id":78774536,"body_markdown":"But if Item was a class then we must override hashcode and equals in order for them to work in a Map. So What difference changing it to an enum makes?","body":"But if Item was a class then we must override hashcode and equals in order for them to work in a Map. So What difference changing it to an enum makes?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1503858005,"post_id":45907958,"comment_id":78774618,"body_markdown":"All enums are subclasses of `Enum`. This class provides final implementations of [`equals`](https://docs.oracle.com/javase/8/docs/api/java/lang/Enum.html#equals-java.lang.Object-) and [`hashCode`](https://docs.oracle.com/javase/8/docs/api/java/lang/Enum.html#hashCode())","body":"All enums are subclasses of <code>Enum</code>. This class provides final implementations of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Enum.html#equals-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>equals</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Enum.html#hashCode()\" rel=\"nofollow noreferrer\"><code>hashCode</code></a>"}],"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1503860786,"creation_date":1503857637,"answer_id":45907958,"question_id":45907878,"body_markdown":"No, you don&#39;t. Why? Because reasonable implementations of these methods are already provided.\n\nAnd even if you wanted to, you couldn&#39;t, as these methods are `final` in enums.\n\nBut also, don&#39;t use `HashMap` with an enum key type: use `EnumMap`, which is specialised for enum keys, and doesn&#39;t use `hashCode` or `equals` (it actually uses `ordinal`).\n\n---\n\nEdit: after reading [What is the reason behind Enum.hashCode](https://stackoverflow.com/q/4885095/3788176), I note that the implementations of `hashCode` and `equals` are actually those from `Object`. But these *are* reasonable, because of the non-instantiability of enum values.\n\nIf you can&#39;t create a new instance of an enum value, there is no problem with using those defaults:\n\n* An enum value must have the same hash code value as itself (and it doesn&#39;t matter what that value is);\n* An enum value must be equal to itself, and not to any other, i.e. equality by identity.","title":"Do we have to override equals/hashcode for enums which are put in a hashmap","body":"<p>No, you don't. Why? Because reasonable implementations of these methods are already provided.</p>\n\n<p>And even if you wanted to, you couldn't, as these methods are <code>final</code> in enums.</p>\n\n<p>But also, don't use <code>HashMap</code> with an enum key type: use <code>EnumMap</code>, which is specialised for enum keys, and doesn't use <code>hashCode</code> or <code>equals</code> (it actually uses <code>ordinal</code>).</p>\n\n<hr>\n\n<p>Edit: after reading <a href=\"https://stackoverflow.com/q/4885095/3788176\">What is the reason behind Enum.hashCode</a>, I note that the implementations of <code>hashCode</code> and <code>equals</code> are actually those from <code>Object</code>. But these <em>are</em> reasonable, because of the non-instantiability of enum values.</p>\n\n<p>If you can't create a new instance of an enum value, there is no problem with using those defaults:</p>\n\n<ul>\n<li>An enum value must have the same hash code value as itself (and it doesn't matter what that value is);</li>\n<li>An enum value must be equal to itself, and not to any other, i.e. equality by identity.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16229064,"reputation":59,"user_id":11718457,"display_name":"bluejazzshark"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693769478,"creation_date":1693768879,"answer_id":77033841,"question_id":45907878,"body_markdown":"This post is from a while ago, but I think it&#39;s worth adding something about enum hashCode() that tripped me up...\r\n\r\nThe hashCode of an enum is fixed when the program starts up as an enum is essentially just a static object, so it Object.hashCode() will return the same value for the duration of the running program.\r\n\r\nHowever, the next time the program runs, this is quite likely not the same address in memory.\r\n\r\nenums are compared (with equals) by their address in memory (==) not by equals(). This is why hashCode() has to do the same, or as the documentation says &quot;something similar&quot; (more or less).\r\n\r\nIf you have some other class that contains your enum, and you auto-generate a hashCode for it from your IDE, then the hash code of that new class will depend on the time you run the code. \r\n\r\nIf this other class is persisted, its hash code will not be equal across program start ups. (My problem arose from converting the hashCode into a hex string and using it as a hash key for indexing objects... Doh!). I got round it by taking the string of the enum in the other class, and hashing that. Messy.\r\n\r\nThe hashCode method of an enum is final, so you can&#39;t override it.","title":"Do we have to override equals/hashcode for enums which are put in a hashmap","body":"<p>This post is from a while ago, but I think it's worth adding something about enum hashCode() that tripped me up...</p>\n<p>The hashCode of an enum is fixed when the program starts up as an enum is essentially just a static object, so it Object.hashCode() will return the same value for the duration of the running program.</p>\n<p>However, the next time the program runs, this is quite likely not the same address in memory.</p>\n<p>enums are compared (with equals) by their address in memory (==) not by equals(). This is why hashCode() has to do the same, or as the documentation says &quot;something similar&quot; (more or less).</p>\n<p>If you have some other class that contains your enum, and you auto-generate a hashCode for it from your IDE, then the hash code of that new class will depend on the time you run the code.</p>\n<p>If this other class is persisted, its hash code will not be equal across program start ups. (My problem arose from converting the hashCode into a hex string and using it as a hash key for indexing objects... Doh!). I got round it by taking the string of the enum in the other class, and hashing that. Messy.</p>\n<p>The hashCode method of an enum is final, so you can't override it.</p>\n"}],"owner":{"account_id":5872134,"reputation":915,"user_id":4624150,"accept_rate":32,"display_name":"Saad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5592,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1693769478,"creation_date":1503857133,"question_id":45907878,"body_markdown":"I have a enum class as follows.\r\n\r\n    public enum Item {\r\n\t   COKE(&quot;Coke&quot;, 25), PEPSI(&quot;Pepsi&quot;, 35), SODA(&quot;Soda&quot;, 45);\r\n\t   private String name;\r\n\t   private int price;\r\n\r\n\tprivate Item(String name, int price) {\r\n\t\tthis.name = name;\r\n\t\tthis.price = price;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic long getPrice() {\r\n\t\treturn price;\r\n\t}\r\n    }\r\n\r\nand a hashmap defined as follows\r\n\r\n\tprivate Map&lt;Item, Integer&gt; inventory = new HashMap&lt;Item, Integer&gt;();\r\n\r\nDo i need to override hashcode and equals in the enum `Item` class for `inventory.put()` and `inventory.get()` to work properly? If not, why? ","title":"Do we have to override equals/hashcode for enums which are put in a hashmap","body":"<p>I have a enum class as follows.</p>\n\n<pre><code>public enum Item {\n   COKE(\"Coke\", 25), PEPSI(\"Pepsi\", 35), SODA(\"Soda\", 45);\n   private String name;\n   private int price;\n\nprivate Item(String name, int price) {\n    this.name = name;\n    this.price = price;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic long getPrice() {\n    return price;\n}\n}\n</code></pre>\n\n<p>and a hashmap defined as follows</p>\n\n<pre><code>private Map&lt;Item, Integer&gt; inventory = new HashMap&lt;Item, Integer&gt;();\n</code></pre>\n\n<p>Do i need to override hashcode and equals in the enum <code>Item</code> class for <code>inventory.put()</code> and <code>inventory.get()</code> to work properly? If not, why? </p>\n"},{"tags":["java","ubuntu","libgdx","x11"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1670758838,"post_id":74760363,"comment_id":131943064,"body_markdown":"How are you trying to run it? Please add the information to the question. If you are running from shell, check that the DISPLAY variable in that shell is set.","body":"How are you trying to run it? Please add the information to the question. If you are running from shell, check that the DISPLAY variable in that shell is set."},{"owner":{"account_id":20766588,"reputation":11,"user_id":15250427,"display_name":"Patryx"},"score":0,"creation_date":1670760170,"post_id":74760363,"comment_id":131943292,"body_markdown":"Im trying to run it directley from terminal or from file manager...\n\nIm running it from bim/bash\n\nIve checked DISPLAY variable at this shell and it replays 0, as I mentioned.","body":"Im trying to run it directley from terminal or from file manager...  Im running it from bim/bash  Ive checked DISPLAY variable at this shell and it replays 0, as I mentioned."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1670760558,"post_id":74760363,"comment_id":131943367,"body_markdown":"According to https://datacadamia.com/ssh/x11/display, your `DISPLAY` variable setting is incorrect.  Try `:0.0` or `localhost:0.0`.","body":"According to <a href=\"https://datacadamia.com/ssh/x11/display\" rel=\"nofollow noreferrer\">datacadamia.com/ssh/x11/display</a>, your <code>DISPLAY</code> variable setting is incorrect.  Try <code>:0.0</code> or <code>localhost:0.0</code>."},{"owner":{"account_id":20766588,"reputation":11,"user_id":15250427,"display_name":"Patryx"},"score":0,"creation_date":1670761115,"post_id":74760363,"comment_id":131943446,"body_markdown":"Tried localhost:0.0   :0.0   0.0\n\nStill same error, I&#39;ve checked everytime before start if variable is changed by echo $DISPLAY\n\nBTW it doesnt seem to be accurate to my problem, because its for putty users, or SSH, which are &quot;Headless&quot;. Idk why my system is seen by java as headless","body":"Tried localhost:0.0   :0.0   0.0  Still same error, I&#39;ve checked everytime before start if variable is changed by echo $DISPLAY  BTW it doesnt seem to be accurate to my problem, because its for putty users, or SSH, which are &quot;Headless&quot;. Idk why my system is seen by java as headless"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1670763516,"post_id":74760363,"comment_id":131943827,"body_markdown":"Are you sure you are checking the DISPLAY in the same terminal and same tab in which you also run the jar?","body":"Are you sure you are checking the DISPLAY in the same terminal and same tab in which you also run the jar?"},{"owner":{"account_id":20766588,"reputation":11,"user_id":15250427,"display_name":"Patryx"},"score":0,"creation_date":1670767095,"post_id":74760363,"comment_id":131944564,"body_markdown":"Yes, exact same terminal...","body":"Yes, exact same terminal..."}],"answers":[{"tags":[],"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670778166,"creation_date":1670778166,"answer_id":74762793,"question_id":74760363,"body_markdown":"You can specify one of many installed java versions when running from intellij. When running from the command line its just a single one.I think your default java probably -actually truly is- headless. Follow this guide here to change your default command line java. I mean the error is specifically that if fails the headless check.\r\nFollow here to switch the default cmd line java version.\r\n\r\nhttps://computingforgeeks.com/how-to-set-default-java-version-on-ubuntu-debian/\r\n\r\nIts not unusual to have headless because thats all server side stuff needs.\r\n","title":"Ubuntu Libgdx problem - No X11 DISPLAY variable was set","body":"<p>You can specify one of many installed java versions when running from intellij. When running from the command line its just a single one.I think your default java probably -actually truly is- headless. Follow this guide here to change your default command line java. I mean the error is specifically that if fails the headless check.\nFollow here to switch the default cmd line java version.</p>\n<p><a href=\"https://computingforgeeks.com/how-to-set-default-java-version-on-ubuntu-debian/\" rel=\"nofollow noreferrer\">https://computingforgeeks.com/how-to-set-default-java-version-on-ubuntu-debian/</a></p>\n<p>Its not unusual to have headless because thats all server side stuff needs.</p>\n"},{"tags":[],"owner":{"account_id":28791308,"reputation":1,"user_id":22050561,"display_name":"Dionysusy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693769156,"creation_date":1693769156,"answer_id":77033868,"question_id":74760363,"body_markdown":"IondonBadger pointed out the right direction (if your Intellij is working, don&#39;t waste your time on GUI or DISPLAY settings!) so that I can resolve the same problem on my laptop. However, I had more issues because the way I installed Java didn&#39;t show the newly installed Java in the set-up option list. So I can&#39;t resolve the problem by setting up the default Java version(&quot;https://computingforgeeks.com/how-to-set-default-java-version-on-ubuntu-debian/&quot;). Export JAVA_HOME or update .barshrc didn&#39;t work out as well.\r\n\r\nBefore I installed Java JDK 20 by &quot;tar zxvf&quot; command line. It didn&#39;t set up the default Java runtime and it stayed still at Java OpenJDK 19. So if you run &quot;sudo update-alternatives --config java&quot; you will see no other java options except openjdk-19. **Once I installed Java JDK via its .deb file, the problem was resolved.**","title":"Ubuntu Libgdx problem - No X11 DISPLAY variable was set","body":"<p>IondonBadger pointed out the right direction (if your Intellij is working, don't waste your time on GUI or DISPLAY settings!) so that I can resolve the same problem on my laptop. However, I had more issues because the way I installed Java didn't show the newly installed Java in the set-up option list. So I can't resolve the problem by setting up the default Java version(&quot;https://computingforgeeks.com/how-to-set-default-java-version-on-ubuntu-debian/&quot;). Export JAVA_HOME or update .barshrc didn't work out as well.</p>\n<p>Before I installed Java JDK 20 by &quot;tar zxvf&quot; command line. It didn't set up the default Java runtime and it stayed still at Java OpenJDK 19. So if you run &quot;sudo update-alternatives --config java&quot; you will see no other java options except openjdk-19. <strong>Once I installed Java JDK via its .deb file, the problem was resolved.</strong></p>\n"}],"owner":{"account_id":20766588,"reputation":11,"user_id":15250427,"display_name":"Patryx"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1759,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693769156,"creation_date":1670757766,"question_id":74760363,"body_markdown":"My problem is with X11 variable - when Im trying to launch gdx-setup.jar i get output:\r\n\r\n```\r\nException in thread &quot;main&quot; java.awt.HeadlessException: \r\nNo X11 DISPLAY variable was set,\r\nor no headful library support was found,\r\nbut this program performed an operation which requires it,\r\n\r\n\tat java.desktop/java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:166)\r\n\tat java.desktop/java.awt.Window.&lt;init&gt;(Window.java:553)\r\n\tat java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:428)\r\n\tat java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:393)\r\n\tat java.desktop/javax.swing.JFrame.&lt;init&gt;(JFrame.java:180)\r\n\tat com.badlogic.gdx.setup.GdxSetupUI.&lt;init&gt;(GdxSetupUI.java:101)\r\n\tat com.badlogic.gdx.setup.GdxSetup.main(GdxSetup.java:620)\r\n```\r\n\r\nIm running ubuntu on my local laptop (NO SSH).  \r\n[System details][1]\r\n\r\nI&#39;ve tried commands:\r\n\r\nsudo apt-get update --fix-missing\r\nsudo apt-get update\r\nsudo apt-get clean\r\nsudo apt-get autoremove\r\nsudo dpkg reconfigure -a\r\nsudo apt install -f\r\n\r\nIt didnt help at all...\r\n\r\nWhen Im running AWT from intellij I can see GUI normally and there&#39;s no exception.\r\n\r\nIve followed there instructions while installing libgdx:https://tutorialforlinux.com/2022/11/14/step-by-step-libgdx-ubuntu-22-04-installation-guide/2/\r\n\r\necho $DISPLAY\r\noutput:0\r\n\r\nInstalled: xorg-x11\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yytWl.png\r\n\r\n\r\nDouble clicking on jar causes with no response... Ive marked jar as executable","title":"Ubuntu Libgdx problem - No X11 DISPLAY variable was set","body":"<p>My problem is with X11 variable - when Im trying to launch gdx-setup.jar i get output:</p>\n<pre><code>Exception in thread &quot;main&quot; java.awt.HeadlessException: \nNo X11 DISPLAY variable was set,\nor no headful library support was found,\nbut this program performed an operation which requires it,\n\n    at java.desktop/java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:166)\n    at java.desktop/java.awt.Window.&lt;init&gt;(Window.java:553)\n    at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:428)\n    at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:393)\n    at java.desktop/javax.swing.JFrame.&lt;init&gt;(JFrame.java:180)\n    at com.badlogic.gdx.setup.GdxSetupUI.&lt;init&gt;(GdxSetupUI.java:101)\n    at com.badlogic.gdx.setup.GdxSetup.main(GdxSetup.java:620)\n</code></pre>\n<p>Im running ubuntu on my local laptop (NO SSH).<br />\n<a href=\"https://i.stack.imgur.com/yytWl.png\" rel=\"nofollow noreferrer\">System details</a></p>\n<p>I've tried commands:</p>\n<p>sudo apt-get update --fix-missing\nsudo apt-get update\nsudo apt-get clean\nsudo apt-get autoremove\nsudo dpkg reconfigure -a\nsudo apt install -f</p>\n<p>It didnt help at all...</p>\n<p>When Im running AWT from intellij I can see GUI normally and there's no exception.</p>\n<p>Ive followed there instructions while installing libgdx:<a href=\"https://tutorialforlinux.com/2022/11/14/step-by-step-libgdx-ubuntu-22-04-installation-guide/2/\" rel=\"nofollow noreferrer\">https://tutorialforlinux.com/2022/11/14/step-by-step-libgdx-ubuntu-22-04-installation-guide/2/</a></p>\n<p>echo $DISPLAY\noutput:0</p>\n<p>Installed: xorg-x11</p>\n<p>Double clicking on jar causes with no response... Ive marked jar as executable</p>\n"},{"tags":["java","reactjs","mongodb","spring-boot","maven"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1687176071,"post_id":76506377,"comment_id":134895700,"body_markdown":"Remove the space around `=` in your `.env` and in your `properties`. The spaces are causing your issue (at least one of them).","body":"Remove the space around <code>=</code> in your <code>.env</code> and in your <code>properties</code>. The spaces are causing your issue (at least one of them)."},{"owner":{"account_id":15911005,"reputation":19,"user_id":12258144,"display_name":"Ayush Kasara"},"score":0,"creation_date":1687176593,"post_id":76506377,"comment_id":134895796,"body_markdown":"hey, the error still persists something i missed out in the question was that intellij was highlighting me.paulschwarz  and spring-dotenv as red meaning they are giving some problem ?","body":"hey, the error still persists something i missed out in the question was that intellij was highlighting me.paulschwarz  and spring-dotenv as red meaning they are giving some problem ?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1689832011,"post_id":76506377,"comment_id":135269564,"body_markdown":"Investigate what IntelliJ is trying to tell you. Alternatively pay close attention what Maven might print on the console. You dependency exists on maven central: https://mvnrepository.com/artifact/me.paulschwarz/spring-dotenv","body":"Investigate what IntelliJ is trying to tell you. Alternatively pay close attention what Maven might print on the console. You dependency exists on maven central: <a href=\"https://mvnrepository.com/artifact/me.paulschwarz/spring-dotenv\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/me.paulschwarz/spring-dotenv</a>"}],"answers":[{"tags":[],"owner":{"account_id":26729728,"reputation":1,"user_id":20332294,"display_name":"Aashik Sihaab"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692406212,"creation_date":1692391195,"answer_id":76932452,"question_id":76506377,"body_markdown":"Here you declared `MONGO_USERNAME` in `.env` file and my `.application.properties` as `env.MONGO_USER`. That&#39;s the issue.","title":"cannot add the following dependency in pom.xml file","body":"<p>Here you declared <code>MONGO_USERNAME</code> in <code>.env</code> file and my <code>.application.properties</code> as <code>env.MONGO_USER</code>. That's the issue.</p>\n"},{"tags":[],"owner":{"account_id":25582952,"reputation":11,"user_id":22494023,"display_name":""},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693769080,"creation_date":1693769080,"answer_id":77033859,"question_id":76506377,"body_markdown":"Since it was updated try to use new version:\r\n\t\t\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;me.paulschwarz&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-dotenv&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAlso don&#39;t forget that from version 3 there is no need to use **env** in places where you put variables. In your case it will look like:\r\n\r\n    spring.data.mongodb.database = ${MONGO_DATABASE}\r\n    spring.data.mongodb.uri = mongodb+srv://${MONGO_USER}:${MONGO_PASSWORD}@${MONGO_CLUSTER}","title":"cannot add the following dependency in pom.xml file","body":"<p>Since it was updated try to use new version:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;me.paulschwarz&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-dotenv&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also don't forget that from version 3 there is no need to use <strong>env</strong> in places where you put variables. In your case it will look like:</p>\n<pre><code>spring.data.mongodb.database = ${MONGO_DATABASE}\nspring.data.mongodb.uri = mongodb+srv://${MONGO_USER}:${MONGO_PASSWORD}@${MONGO_CLUSTER}\n</code></pre>\n"}],"owner":{"account_id":15911005,"reputation":19,"user_id":12258144,"display_name":"Ayush Kasara"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693769080,"creation_date":1687175750,"question_id":76506377,"body_markdown":"I am building a project using `React`, `Springboot` and `MongoDB`\r\n\r\nI wanted to add dependency with group `id:me.paulschwarz` and `artifact id`: spring-dotenv and version `2.5.4`, but my ide(`Intellij`) gives me the following problems:\r\n \r\n\r\n     Dependency &#39;me.paulschwarz:spring-dotenv:2.5.4&#39; not found\r\n     Dependency &#39;me.paulschwarz:spring-dotenv:2.5.4&#39; not found\r\n     Dependency &#39;me.paulschwarz:spring-dotenv:2.5.4&#39; not found\r\n     Plugin &#39;org.springframework.boot:spring-boot-maven-plugin:&#39; not found\r\n     Plugin &#39;org.springframework.boot:spring-boot-maven-plugin:&#39; not found\r\n\r\nmoreover when I try to run my spring-boot application I get the following errors:\r\n\r\n  \r\n\r\n        Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n        2023-06-19T17:04:01.904+05:30 ERROR 20836 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n        \r\n        org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mongo&#39; defined in class path resource [org/springframework/boot/autoconfigure/mongo/MongoAutoConfiguration.class]: Failed to instantiate [com.mongodb.client.MongoClient]: Factory method &#39;mongo&#39; threw exception with message: An SRV host name &#39;${env.MONGO_CLUSTER}&#39; was provided that does not contain at least three parts. It must contain a hostname, domain name and a top level domain.\r\n        \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\r\n        \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647) ~[spring-beans-6.0.9.jar:6.0.9]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\r\n        \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\r\n        \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.9.jar:6.0.9]\r\n        \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941) ~[spring-context-6.0.9.jar:6.0.9]\r\n        \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.9.jar:6.0.9]\r\n        \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\r\n        \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\r\n        \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\r\n        \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\r\n        \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\r\n        \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\r\n        \tat dev.ayushKasara.movies.MoviesApplication.main(MoviesApplication.java:13) ~[classes/:na]\r\n        \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n        \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.1.0.jar:3.1.0]\r\n        Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.mongodb.client.MongoClient]: Factory method &#39;mongo&#39; threw exception with message: An SRV host name &#39;${env.MONGO_CLUSTER}&#39; was provided that does not contain at least three parts. It must contain a hostname, domain name and a top level domain.\r\n        \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.9.jar:6.0.9]\r\n        \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.9.jar:6.0.9]\r\n        \t... 22 common frames omitted\r\n        Caused by: java.lang.IllegalArgumentException: An SRV host name &#39;${env.MONGO_CLUSTER}&#39; was provided that does not contain at least three parts. It must contain a hostname, domain name and a top level domain.\r\n        \tat com.mongodb.connection.ClusterSettings.&lt;init&gt;(ClusterSettings.java:594) ~[mongodb-driver-core-4.9.1.jar:na]\r\n        \tat com.mongodb.connection.ClusterSettings.&lt;init&gt;(ClusterSettings.java:50) ~[mongodb-driver-core-4.9.1.jar:na]\r\n        \tat com.mongodb.connection.ClusterSettings$Builder.build(ClusterSettings.java:370) ~[mongodb-driver-core-4.9.1.jar:na]\r\n        \tat com.mongodb.MongoClientSettings.&lt;init&gt;(MongoClientSettings.java:957) ~[mongodb-driver-core-4.9.1.jar:na]\r\n        \tat com.mongodb.MongoClientSettings.&lt;init&gt;(MongoClientSettings.java:64) ~[mongodb-driver-core-4.9.1.jar:na]\r\n        \tat com.mongodb.MongoClientSettings$Builder.build(MongoClientSettings.java:600) ~[mongodb-driver-core-4.9.1.jar:na]\r\n        \tat org.springframework.boot.autoconfigure.mongo.MongoClientFactorySupport.createMongoClient(MongoClientFactorySupport.java:50) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\r\n        \tat org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration.mongo(MongoAutoConfiguration.java:59) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\r\n        \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n        \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.9.jar:6.0.9]\r\n        \t 23 common frames omitted\r\n\r\nall I did was create a `.env` file in resources, these are its content of `.env` file: \r\n\r\n    MONGO_DATABASE = &quot;movies-api-db&quot;\r\n    MONGO_USERNAME = &quot;f20191081&quot;\r\n    MONGO_PASSWORD = &quot;AshuGunna98&quot;\r\n    MONGO_CLUSTER = &quot;cluster0.oobowit.mongodb.net&quot;\r\n\r\nand added a new line in my `.gitignore` file: `.env`\r\n\r\nmy `application.properties` file contains this:\r\n\r\n    spring.data.mongodb.database = ${env.MONGO_DATABASE}\r\n    spring.data.mongodb.uri = mongodb+srv://${env.MONGO_USER}:${env.MONGO_PASSWORD}@${env.MONGO_CLUSTER}\r\n\r\nthese above 2-3 lines will help to connect with my MongoDB database (as I understood it)\r\n \r\nCan anyone suggest changes to my `pom.xml` file since I think that is the source of my errors or just help me with a solution for this problem:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;dev.ayushKasara&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;movies&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;movies&lt;/name&gt;\r\n    \t&lt;description&gt;A simple API related movies&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;me.paulschwarz&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-dotenv&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n    \r\n    ","title":"cannot add the following dependency in pom.xml file","body":"<p>I am building a project using <code>React</code>, <code>Springboot</code> and <code>MongoDB</code></p>\n<p>I wanted to add dependency with group <code>id:me.paulschwarz</code> and <code>artifact id</code>: spring-dotenv and version <code>2.5.4</code>, but my ide(<code>Intellij</code>) gives me the following problems:</p>\n<pre><code> Dependency 'me.paulschwarz:spring-dotenv:2.5.4' not found\n Dependency 'me.paulschwarz:spring-dotenv:2.5.4' not found\n Dependency 'me.paulschwarz:spring-dotenv:2.5.4' not found\n Plugin 'org.springframework.boot:spring-boot-maven-plugin:' not found\n Plugin 'org.springframework.boot:spring-boot-maven-plugin:' not found\n</code></pre>\n<p>moreover when I try to run my spring-boot application I get the following errors:</p>\n<pre><code>    Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n    2023-06-19T17:04:01.904+05:30 ERROR 20836 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n    \n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongo' defined in class path resource [org/springframework/boot/autoconfigure/mongo/MongoAutoConfiguration.class]: Failed to instantiate [com.mongodb.client.MongoClient]: Factory method 'mongo' threw exception with message: An SRV host name '${env.MONGO_CLUSTER}' was provided that does not contain at least three parts. It must contain a hostname, domain name and a top level domain.\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647) ~[spring-beans-6.0.9.jar:6.0.9]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.9.jar:6.0.9]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941) ~[spring-context-6.0.9.jar:6.0.9]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.9.jar:6.0.9]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\n        at dev.ayushKasara.movies.MoviesApplication.main(MoviesApplication.java:13) ~[classes/:na]\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.1.0.jar:3.1.0]\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.mongodb.client.MongoClient]: Factory method 'mongo' threw exception with message: An SRV host name '${env.MONGO_CLUSTER}' was provided that does not contain at least three parts. It must contain a hostname, domain name and a top level domain.\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.9.jar:6.0.9]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.9.jar:6.0.9]\n        ... 22 common frames omitted\n    Caused by: java.lang.IllegalArgumentException: An SRV host name '${env.MONGO_CLUSTER}' was provided that does not contain at least three parts. It must contain a hostname, domain name and a top level domain.\n        at com.mongodb.connection.ClusterSettings.&lt;init&gt;(ClusterSettings.java:594) ~[mongodb-driver-core-4.9.1.jar:na]\n        at com.mongodb.connection.ClusterSettings.&lt;init&gt;(ClusterSettings.java:50) ~[mongodb-driver-core-4.9.1.jar:na]\n        at com.mongodb.connection.ClusterSettings$Builder.build(ClusterSettings.java:370) ~[mongodb-driver-core-4.9.1.jar:na]\n        at com.mongodb.MongoClientSettings.&lt;init&gt;(MongoClientSettings.java:957) ~[mongodb-driver-core-4.9.1.jar:na]\n        at com.mongodb.MongoClientSettings.&lt;init&gt;(MongoClientSettings.java:64) ~[mongodb-driver-core-4.9.1.jar:na]\n        at com.mongodb.MongoClientSettings$Builder.build(MongoClientSettings.java:600) ~[mongodb-driver-core-4.9.1.jar:na]\n        at org.springframework.boot.autoconfigure.mongo.MongoClientFactorySupport.createMongoClient(MongoClientFactorySupport.java:50) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\n        at org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration.mongo(MongoAutoConfiguration.java:59) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.9.jar:6.0.9]\n         23 common frames omitted\n</code></pre>\n<p>all I did was create a <code>.env</code> file in resources, these are its content of <code>.env</code> file:</p>\n<pre><code>MONGO_DATABASE = &quot;movies-api-db&quot;\nMONGO_USERNAME = &quot;f20191081&quot;\nMONGO_PASSWORD = &quot;AshuGunna98&quot;\nMONGO_CLUSTER = &quot;cluster0.oobowit.mongodb.net&quot;\n</code></pre>\n<p>and added a new line in my <code>.gitignore</code> file: <code>.env</code></p>\n<p>my <code>application.properties</code> file contains this:</p>\n<pre><code>spring.data.mongodb.database = ${env.MONGO_DATABASE}\nspring.data.mongodb.uri = mongodb+srv://${env.MONGO_USER}:${env.MONGO_PASSWORD}@${env.MONGO_CLUSTER}\n</code></pre>\n<p>these above 2-3 lines will help to connect with my MongoDB database (as I understood it)</p>\n<p>Can anyone suggest changes to my <code>pom.xml</code> file since I think that is the source of my errors or just help me with a solution for this problem:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;dev.ayushKasara&lt;/groupId&gt;\n    &lt;artifactId&gt;movies&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;movies&lt;/name&gt;\n    &lt;description&gt;A simple API related movies&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;me.paulschwarz&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-dotenv&lt;/artifactId&gt;\n            &lt;version&gt;2.5.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1693767993,"post_id":77033787,"comment_id":135800928,"body_markdown":"&quot;it gets an error&quot; -- what is the error? If you are crashing, please edit your question and post the entire stack trace of the crash.","body":"&quot;it gets an error&quot; -- what is the error? If you are crashing, please edit your question and post the entire stack trace of the crash."},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1693768601,"post_id":77033787,"comment_id":135800980,"body_markdown":"In addition to what CommonsWare suggests, you should also google the error message. This will often lead to a solution to the problem.","body":"In addition to what CommonsWare suggests, you should also google the error message. This will often lead to a solution to the problem."}],"answers":[{"tags":[],"owner":{"account_id":6964564,"reputation":1,"user_id":5343031,"display_name":"Shahin Sadeghi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693768019,"creation_date":1693768019,"answer_id":77033810,"question_id":77033787,"body_markdown":"Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.&lt;br&gt;\r\nYou need to change your code as below:\r\n```\r\n reView = new RemoteViews(getPackageName(), R.layout.notify);\r\n        Intent sendNotify = new Intent(this, Text.class);\r\n        sendNotify.setAction(Fixed.ACTION.BASIC_ACT);\r\n        sendNotify.setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP\r\n                | Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        during = PendingIntent.getActivity(this, 0, sendNotify,\r\n                Build.VERSION.SDK_INT &gt;= 23 ? PendingIntent.FLAG_IMMUTABLE : PendingIntent.FLAG_UPDATE_CURRENT);\r\n        Intent sendPlay = new Intent(this, Notify.class);\r\n        sendPlay.setAction(Fixed.ACTION.PLAY_ACT);\r\n        PendingIntent pendingPlayIntent = PendingIntent.getService(this, 0,\r\n                sendPlay, Build.VERSION.SDK_INT &gt;= 23 ? PendingIntent.FLAG_IMMUTABLE : PendingIntent.FLAG_UPDATE_CURRENT);\r\n        reView.setOnClickPendingIntent(R.id.togglePlay, pendingPlayIntent);\r\n```\r\nReference:&lt;br&gt;\r\nhttps://developer.android.com/reference/android/app/PendingIntent","title":"Notification doesn&#39;t work in Android 12 and later","body":"<p>Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.<br>\nYou need to change your code as below:</p>\n<pre><code> reView = new RemoteViews(getPackageName(), R.layout.notify);\n        Intent sendNotify = new Intent(this, Text.class);\n        sendNotify.setAction(Fixed.ACTION.BASIC_ACT);\n        sendNotify.setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP\n                | Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        during = PendingIntent.getActivity(this, 0, sendNotify,\n                Build.VERSION.SDK_INT &gt;= 23 ? PendingIntent.FLAG_IMMUTABLE : PendingIntent.FLAG_UPDATE_CURRENT);\n        Intent sendPlay = new Intent(this, Notify.class);\n        sendPlay.setAction(Fixed.ACTION.PLAY_ACT);\n        PendingIntent pendingPlayIntent = PendingIntent.getService(this, 0,\n                sendPlay, Build.VERSION.SDK_INT &gt;= 23 ? PendingIntent.FLAG_IMMUTABLE : PendingIntent.FLAG_UPDATE_CURRENT);\n        reView.setOnClickPendingIntent(R.id.togglePlay, pendingPlayIntent);\n</code></pre>\n<p>Reference:<br>\n<a href=\"https://developer.android.com/reference/android/app/PendingIntent\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/app/PendingIntent</a></p>\n"}],"owner":{"account_id":29356368,"reputation":21,"user_id":22492214,"display_name":"Raymond Estes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693768019,"creation_date":1693767615,"question_id":77033787,"body_markdown":"I have a music app, It used to work very well, but unfortunately, in Android 12 and later, it gets an error.&lt;br&gt;\r\nHow can I fix it?\r\n\r\nMy java code:\r\n\r\n```\r\nreView = new RemoteViews(getPackageName(), R.layout.notify);\r\n        Intent sendNotify = new Intent(this, Text.class);\r\n        sendNotify.setAction(Fixed.ACTION.BASIC_ACT);\r\n        sendNotify.setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP\r\n                | Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        during = PendingIntent.getActivity(this, 0, sendNotify, 0);\r\n        Intent sendPlay = new Intent(this, Notify.class);\r\n        sendPlay.setAction(Fixed.ACTION.PLAY_ACT);\r\n        PendingIntent pendingPlayIntent = PendingIntent.getService(this, 0,\r\n                sendPlay, 0);\r\n        reView.setOnClickPendingIntent(R.id.togglePlay, pendingPlayIntent);\r\n```","title":"Notification doesn&#39;t work in Android 12 and later","body":"<p>I have a music app, It used to work very well, but unfortunately, in Android 12 and later, it gets an error.<br>\nHow can I fix it?</p>\n<p>My java code:</p>\n<pre><code>reView = new RemoteViews(getPackageName(), R.layout.notify);\n        Intent sendNotify = new Intent(this, Text.class);\n        sendNotify.setAction(Fixed.ACTION.BASIC_ACT);\n        sendNotify.setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP\n                | Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        during = PendingIntent.getActivity(this, 0, sendNotify, 0);\n        Intent sendPlay = new Intent(this, Notify.class);\n        sendPlay.setAction(Fixed.ACTION.PLAY_ACT);\n        PendingIntent pendingPlayIntent = PendingIntent.getService(this, 0,\n                sendPlay, 0);\n        reView.setOnClickPendingIntent(R.id.togglePlay, pendingPlayIntent);\n</code></pre>\n"},{"tags":["java","eclipse","maven","selenium"],"comments":[{"owner":{"account_id":109541,"reputation":4321,"user_id":290182,"accept_rate":92,"display_name":"beldaz"},"score":0,"creation_date":1434743412,"post_id":25587603,"comment_id":49926918,"body_markdown":"I&#39;d guess you&#39;re behind a proxy. Try http://stackoverflow.com/q/7737710/290182","body":"I&#39;d guess you&#39;re behind a proxy. Try <a href=\"http://stackoverflow.com/q/7737710/290182\">stackoverflow.com/q/7737710/290182</a>"}],"answers":[{"tags":[],"owner":{"account_id":13541547,"reputation":53,"user_id":9769081,"display_name":"samplist_mouse"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586769202,"creation_date":1586769202,"answer_id":61184700,"question_id":25587603,"body_markdown":"Effective January 15, 2020, The Central Repository no longer supports insecure communication over plain HTTP and requires that all requests to the repository are encrypted over HTTPS.\r\n\r\nIf you&#39;re receiving this error, then you need to replace all URL references to Maven Central with their canonical HTTPS counterparts:\r\n\r\nReplace http://repo1.maven.org/maven2/ with https://repo1.maven.org/maven2/\r\n\r\nReplace http://repo.maven.apache.org/maven2/ with https://repo.maven.apache.org/maven2/\r\n\r\nIf for any reason your environment cannot support HTTPS, you have the option of using our dedicated insecure endpoint at http://insecure.repo1.maven.org/maven2/\r\n\r\nFor further context around the move to HTTPS, please see https://blog.sonatype.com/central-repository-moving-to-https.","title":"Maven error &quot;Archetype catalog is empty&quot; while creating Maven project for WebDriver with TestNG","body":"<p>Effective January 15, 2020, The Central Repository no longer supports insecure communication over plain HTTP and requires that all requests to the repository are encrypted over HTTPS.</p>\n\n<p>If you're receiving this error, then you need to replace all URL references to Maven Central with their canonical HTTPS counterparts:</p>\n\n<p>Replace <a href=\"http://repo1.maven.org/maven2/\" rel=\"nofollow noreferrer\">http://repo1.maven.org/maven2/</a> with <a href=\"https://repo1.maven.org/maven2/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/</a></p>\n\n<p>Replace <a href=\"http://repo.maven.apache.org/maven2/\" rel=\"nofollow noreferrer\">http://repo.maven.apache.org/maven2/</a> with <a href=\"https://repo.maven.apache.org/maven2/\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/</a></p>\n\n<p>If for any reason your environment cannot support HTTPS, you have the option of using our dedicated insecure endpoint at <a href=\"http://insecure.repo1.maven.org/maven2/\" rel=\"nofollow noreferrer\">http://insecure.repo1.maven.org/maven2/</a></p>\n\n<p>For further context around the move to HTTPS, please see <a href=\"https://blog.sonatype.com/central-repository-moving-to-https\" rel=\"nofollow noreferrer\">https://blog.sonatype.com/central-repository-moving-to-https</a>.</p>\n"}],"owner":{"account_id":3794636,"reputation":73,"user_id":3150152,"display_name":"Navkunj Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10472,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1693767965,"creation_date":1409441245,"question_id":25587603,"body_markdown":"I couldn&#39;t able to add maven artifact &quot;ru.stqa.selenium&quot; in eclipse.\r\nI downloaded the catalog file from : &quot;https://github.com/barancev/webdriver-testng-archetype&quot;\r\nSteps I followed is Eclipse-&gt; Window-&gt; Preference -&gt; Maven-&gt; ArchTypes-&gt; Add Local Catalog.\r\nOn Local Archtype catalog popup I have put \r\nCatalog file location: Address of pom file from local as &quot;D:\\Software\\Selenium\\webdriver-testng-archetype-master\\src\\main\\resources\\archetype-resources&quot;.\r\nDescription : Some name\r\n\r\nNow I am getting this warning message &quot; Archetype catalog is empty&quot;.\r\n\r\nIf I go with Add Remote catalog with remote location as &quot;http://repo1.maven.org/maven2/archetype-catalog.xml&quot; , it works fine.\r\n\r\nCurious to know the reason for this strange behavior.\r\n","title":"Maven error &quot;Archetype catalog is empty&quot; while creating Maven project for WebDriver with TestNG","body":"<p>I couldn't able to add maven artifact \"ru.stqa.selenium\" in eclipse.\nI downloaded the catalog file from : \"<a href=\"https://github.com/barancev/webdriver-testng-archetype\">https://github.com/barancev/webdriver-testng-archetype</a>\"\nSteps I followed is Eclipse-> Window-> Preference -> Maven-> ArchTypes-> Add Local Catalog.\nOn Local Archtype catalog popup I have put \nCatalog file location: Address of pom file from local as \"D:\\Software\\Selenium\\webdriver-testng-archetype-master\\src\\main\\resources\\archetype-resources\".\nDescription : Some name</p>\n\n<p>Now I am getting this warning message \" Archetype catalog is empty\".</p>\n\n<p>If I go with Add Remote catalog with remote location as \"<a href=\"http://repo1.maven.org/maven2/archetype-catalog.xml\">http://repo1.maven.org/maven2/archetype-catalog.xml</a>\" , it works fine.</p>\n\n<p>Curious to know the reason for this strange behavior.</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":2005971,"reputation":536,"user_id":1795860,"accept_rate":91,"display_name":"TheNytangel"},"score":0,"creation_date":1693761321,"post_id":77033401,"comment_id":135800115,"body_markdown":"Does this answer your question? [Spring boot - Not a managed type](https://stackoverflow.com/questions/28664064/spring-boot-not-a-managed-type)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28664064/spring-boot-not-a-managed-type\">Spring boot - Not a managed type</a>"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1693761533,"post_id":77033401,"comment_id":135800141,"body_markdown":"Spring Boot 3.X uses jakarta namespace instead javax. ... so remove the javax.persistence and use `jakarta.persistence` instead","body":"Spring Boot 3.X uses jakarta namespace instead javax. ... so remove the javax.persistence and use <code>jakarta.persistence</code> instead"},{"owner":{"account_id":15237408,"reputation":44,"user_id":10994657,"display_name":"Ilya"},"score":0,"creation_date":1693762006,"post_id":77033401,"comment_id":135800215,"body_markdown":"@TheNytangel unfortunately no, also if add the lines given by the answer to that post it says that &#39;Redundant declaration: @ SpringBootApplication already applies given &#39;@ ComponentScan&#39;. Even I remove componentscan nothing changes...","body":"@TheNytangel unfortunately no, also if add the lines given by the answer to that post it says that &#39;Redundant declaration: @ SpringBootApplication already applies given &#39;@ ComponentScan&#39;. Even I remove componentscan nothing changes..."},{"owner":{"account_id":15237408,"reputation":44,"user_id":10994657,"display_name":"Ilya"},"score":0,"creation_date":1693762253,"post_id":77033401,"comment_id":135800248,"body_markdown":"@khmarbaise Thank you! I used to receive 30 errors and now it&#39;s 16... Though it seems that the previous issue (&quot;Not a managed type: class com.example.payroll.Employee&quot;) has not been resolved.","body":"@khmarbaise Thank you! I used to receive 30 errors and now it&#39;s 16... Though it seems that the previous issue (&quot;Not a managed type: class com.example.payroll.Employee&quot;) has not been resolved."},{"owner":{"account_id":15237408,"reputation":44,"user_id":10994657,"display_name":"Ilya"},"score":1,"creation_date":1693833819,"post_id":77033401,"comment_id":135808527,"body_markdown":"@khmarbaise Thanks! your comment fixed the problem.","body":"@khmarbaise Thanks! your comment fixed the problem."}],"owner":{"account_id":15237408,"reputation":44,"user_id":10994657,"display_name":"Ilya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693767046,"creation_date":1693761240,"question_id":77033401,"body_markdown":"I receive the error in the question title when trying to compile and run my java program. I&#39;m following this [tutorial][1] provided by the spring docs.\r\n\r\nHere is the directory structure:\r\n\r\n```\r\n\r\npayroll\r\n       .gitignore\r\n       HELP.md\r\n       mvnw\r\n       mvnw.cmd\r\n       pom.xml\r\n    \r\n    .idea\r\n           .gitignore\r\n           compiler.xml\r\n           encodings.xml\r\n           jarRepositories.xml\r\n           misc.xml\r\n           uiDesigner.xml\r\n           workspace.xml\r\n    \r\n    .mvn\r\n       wrapper\r\n               maven-wrapper.jar\r\n               maven-wrapper.properties\r\n    \r\n    src\r\n       main\r\n          java\r\n             com\r\n                 example\r\n                     payroll\r\n                             Employee.java\r\n                             EmployeeRepository.java\r\n                             LoadDatabase.java\r\n                             PayrollApplication.java\r\n          \r\n          resources\r\n                 application.properties\r\n              \r\n              static\r\n              templates\r\n       test\r\n           java\r\n               com\r\n                   example\r\n                       payroll\r\n                               PayrollApplicationTests.java\r\n    \r\n    target\r\n        classes\r\n              application.properties\r\n           \r\n           com\r\n               example\r\n                   payroll\r\n                           Employee.class\r\n                           EmployeeRepository.class\r\n                           LoadDatabase.class\r\n                           PayrollApplication.class\r\n        \r\n        generated-sources\r\n           annotations\r\n        generated-test-sources\r\n           test-annotations\r\n        test-classes\r\n            com\r\n                example\r\n                    payroll\r\n                            PayrollApplicationTests.class\r\n    \r\n\r\n```\r\n\r\nEmployee.java :\r\n```\r\npackage com.example.payroll;\r\n\r\nimport java.util.Objects;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\nclass Employee {\r\n\r\n    private @Id @GeneratedValue Long id;\r\n    private String name;\r\n    private String role;\r\n\r\n    Employee() {}\r\n\r\n    Employee(String name, String role) {\r\n\r\n        this.name = name;\r\n        this.role = role;\r\n    }\r\n\r\n    public Long getId() {\r\n        return this.id;\r\n    }\r\n\r\n    public String getName() {\r\n        return this.name;\r\n    }\r\n\r\n    public String getRole() {\r\n        return this.role;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void setRole(String role) {\r\n        this.role = role;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n\r\n        if (this == o)\r\n            return true;\r\n        if (!(o instanceof Employee))\r\n            return false;\r\n        Employee employee = (Employee) o;\r\n        return Objects.equals(this.id, employee.id) &amp;&amp; Objects.equals(this.name, employee.name)\r\n                &amp;&amp; Objects.equals(this.role, employee.role);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(this.id, this.name, this.role);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Employee{&quot; + &quot;id=&quot; + this.id + &quot;, name=&#39;&quot; + this.name + &#39;\\&#39;&#39; + &quot;, role=&#39;&quot; + this.role + &#39;\\&#39;&#39; + &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nEmployeeRepository.java : \r\n```\r\npackage com.example.payroll;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\ninterface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\r\n\r\n}\r\n```\r\n\r\nLoadDatabase.java : \r\n```\r\npackage com.example.payroll;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\nclass LoadDatabase {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(LoadDatabase.class);\r\n\r\n    @Bean\r\n    CommandLineRunner initDatabase(EmployeeRepository repository) {\r\n\r\n        return args -&gt; {\r\n            log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Bilbo Baggins&quot;, &quot;burglar&quot;)));\r\n            log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Frodo Baggins&quot;, &quot;thief&quot;)));\r\n        };\r\n    }\r\n}\r\n```\r\nPayrollApplication.java : \r\n```\r\npackage com.example.payroll;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\n@SpringBootApplication\r\npublic class PayrollApplication {\r\n\r\n\tpublic static void main(String... args) {\r\n\t\tSpringApplication.run(PayrollApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nAnd here&#39;s the pom.xml file just in case:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;payroll&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;payroll&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;20&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nI&#39;ve also tried changing the version for the javax.persistence to 2.2 but I keep receiving the same error. Also tried using Entityscan as well... that didn&#39;t seem to fix the error either.\r\nAny help would be much appreciated.\r\n\r\n  [1]: https://spring.io/guides/tutorials/rest/","title":"Spring Boot : Not a managed type: class com.example.payroll.Employee","body":"<p>I receive the error in the question title when trying to compile and run my java program. I'm following this <a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"nofollow noreferrer\">tutorial</a> provided by the spring docs.</p>\n<p>Here is the directory structure:</p>\n<pre><code>\npayroll\n       .gitignore\n       HELP.md\n       mvnw\n       mvnw.cmd\n       pom.xml\n    \n    .idea\n           .gitignore\n           compiler.xml\n           encodings.xml\n           jarRepositories.xml\n           misc.xml\n           uiDesigner.xml\n           workspace.xml\n    \n    .mvn\n       wrapper\n               maven-wrapper.jar\n               maven-wrapper.properties\n    \n    src\n       main\n          java\n             com\n                 example\n                     payroll\n                             Employee.java\n                             EmployeeRepository.java\n                             LoadDatabase.java\n                             PayrollApplication.java\n          \n          resources\n                 application.properties\n              \n              static\n              templates\n       test\n           java\n               com\n                   example\n                       payroll\n                               PayrollApplicationTests.java\n    \n    target\n        classes\n              application.properties\n           \n           com\n               example\n                   payroll\n                           Employee.class\n                           EmployeeRepository.class\n                           LoadDatabase.class\n                           PayrollApplication.class\n        \n        generated-sources\n           annotations\n        generated-test-sources\n           test-annotations\n        test-classes\n            com\n                example\n                    payroll\n                            PayrollApplicationTests.class\n    \n\n</code></pre>\n<p>Employee.java :</p>\n<pre><code>package com.example.payroll;\n\nimport java.util.Objects;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\n\n@Entity\nclass Employee {\n\n    private @Id @GeneratedValue Long id;\n    private String name;\n    private String role;\n\n    Employee() {}\n\n    Employee(String name, String role) {\n\n        this.name = name;\n        this.role = role;\n    }\n\n    public Long getId() {\n        return this.id;\n    }\n\n    public String getName() {\n        return this.name;\n    }\n\n    public String getRole() {\n        return this.role;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setRole(String role) {\n        this.role = role;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n\n        if (this == o)\n            return true;\n        if (!(o instanceof Employee))\n            return false;\n        Employee employee = (Employee) o;\n        return Objects.equals(this.id, employee.id) &amp;&amp; Objects.equals(this.name, employee.name)\n                &amp;&amp; Objects.equals(this.role, employee.role);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(this.id, this.name, this.role);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Employee{&quot; + &quot;id=&quot; + this.id + &quot;, name='&quot; + this.name + '\\'' + &quot;, role='&quot; + this.role + '\\'' + '}';\n    }\n}\n</code></pre>\n<p>EmployeeRepository.java :</p>\n<pre><code>package com.example.payroll;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\ninterface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\n\n}\n</code></pre>\n<p>LoadDatabase.java :</p>\n<pre><code>package com.example.payroll;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\nclass LoadDatabase {\n\n    private static final Logger log = LoggerFactory.getLogger(LoadDatabase.class);\n\n    @Bean\n    CommandLineRunner initDatabase(EmployeeRepository repository) {\n\n        return args -&gt; {\n            log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Bilbo Baggins&quot;, &quot;burglar&quot;)));\n            log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Frodo Baggins&quot;, &quot;thief&quot;)));\n        };\n    }\n}\n</code></pre>\n<p>PayrollApplication.java :</p>\n<pre><code>package com.example.payroll;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\n@SpringBootApplication\npublic class PayrollApplication {\n\n    public static void main(String... args) {\n        SpringApplication.run(PayrollApplication.class, args);\n    }\n}\n</code></pre>\n<p>And here's the pom.xml file just in case:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;payroll&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;payroll&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;20&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${project.parent.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I've also tried changing the version for the javax.persistence to 2.2 but I keep receiving the same error. Also tried using Entityscan as well... that didn't seem to fix the error either.\nAny help would be much appreciated.</p>\n"},{"tags":["java","spring-boot","pdf","itext","pdf-generation"],"comments":[{"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"score":1,"creation_date":1693764605,"post_id":77033611,"comment_id":135800548,"body_markdown":"Wouldn&#39;t it be beneficial for all of us if we could also see that error you&#39;re receiving?","body":"Wouldn&#39;t it be beneficial for all of us if we could also see that error you&#39;re receiving?"},{"owner":{"account_id":7805542,"reputation":197,"user_id":5903545,"display_name":"Deepak Gupta"},"score":1,"creation_date":1693765402,"post_id":77033611,"comment_id":135800640,"body_markdown":"It is recommended to put your problem statement in proper way. And make sure you put all the details in it.","body":"It is recommended to put your problem statement in proper way. And make sure you put all the details in it."}],"answers":[{"tags":[],"owner":{"account_id":24672893,"reputation":73,"user_id":18567686,"display_name":"Magic Developement"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693765004,"creation_date":1693765004,"answer_id":77033638,"question_id":77033611,"body_markdown":"I think you need to close the document, when you finish writing.\r\nadd this \r\n        pdfDoc.close();\r\n\r\n    public class ModifyPDFWithBackgroundColor {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        String inputPdfFilePath = &quot;/Users/nunyet/IdeaProjects/mystic-river-api/docs/style-guide/LogoFiles/ForPrint/pdf/color-logo-with-background.pdf&quot;;\r\n        String outputPdfFilePath =  &quot;/Users/nunyet/IdeaProjects/mystic-river-api/docs/style-guide/LogoFiles/ForPrint/pdf/color-logo-with-background2.pdf&quot;;\r\n        DeviceRgb backgroundColor = new DeviceRgb(46, 80, 111);  // Convert HEX to RGB\r\n\r\n        // Open the input PDF document\r\n        PdfDocument pdfDoc = new PdfDocument(new PdfReader(inputPdfFilePath), new PdfWriter(outputPdfFilePath));\r\n\r\n        // Access the first page of the PDF document\r\n        PdfPage page = pdfDoc.getFirstPage();\r\n\r\n        // Create a new page with the same dimensions as the original page\r\n        PdfPage newPage = pdfDoc.addNewPage(page.getPageSize());\r\n\r\n        // Create a PdfCanvas for the new page\r\n        PdfCanvas canvas = new PdfCanvas(newPage);\r\n\r\n        // Set the background color\r\n        canvas.saveState();\r\n        canvas.setFillColor(backgroundColor);\r\n        canvas.rectangle(0, 0, newPage.getPageSize().getWidth(), newPage.getPageSize().getHeight());\r\n        canvas.fill();\r\n        canvas.restoreState();\r\n\r\n        // Close the PDF document\r\n        pdfDoc.close();\r\n\r\n        System.out.println(&quot;PDF modified successfully!&quot;);\r\n    }\r\n}","title":"Java itext: modify a PDF and set this background color: #2E506F","body":"<p>I think you need to close the document, when you finish writing.\nadd this\npdfDoc.close();</p>\n<pre><code>public class ModifyPDFWithBackgroundColor {\n\npublic static void main(String[] args) throws IOException {\n\n    String inputPdfFilePath = &quot;/Users/nunyet/IdeaProjects/mystic-river-api/docs/style-guide/LogoFiles/ForPrint/pdf/color-logo-with-background.pdf&quot;;\n    String outputPdfFilePath =  &quot;/Users/nunyet/IdeaProjects/mystic-river-api/docs/style-guide/LogoFiles/ForPrint/pdf/color-logo-with-background2.pdf&quot;;\n    DeviceRgb backgroundColor = new DeviceRgb(46, 80, 111);  // Convert HEX to RGB\n\n    // Open the input PDF document\n    PdfDocument pdfDoc = new PdfDocument(new PdfReader(inputPdfFilePath), new PdfWriter(outputPdfFilePath));\n\n    // Access the first page of the PDF document\n    PdfPage page = pdfDoc.getFirstPage();\n\n    // Create a new page with the same dimensions as the original page\n    PdfPage newPage = pdfDoc.addNewPage(page.getPageSize());\n\n    // Create a PdfCanvas for the new page\n    PdfCanvas canvas = new PdfCanvas(newPage);\n\n    // Set the background color\n    canvas.saveState();\n    canvas.setFillColor(backgroundColor);\n    canvas.rectangle(0, 0, newPage.getPageSize().getWidth(), newPage.getPageSize().getHeight());\n    canvas.fill();\n    canvas.restoreState();\n\n    // Close the PDF document\n    pdfDoc.close();\n\n    System.out.println(&quot;PDF modified successfully!&quot;);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":5619788,"reputation":4111,"user_id":4450024,"accept_rate":99,"display_name":"Nu&#241;ito Calzada"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1693813667,"accepted_answer_id":77033638,"answer_count":1,"score":-3,"last_activity_date":1693766396,"creation_date":1693764408,"question_id":77033611,"body_markdown":"I have created this class , but I have an error when opening the pdf\r\n\r\n    public class ModifyPDFWithBackgroundColor {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            String inputPdfFilePath = &quot;/Users/nunyet/IdeaProjects/mystic-river-api/docs/style-guide/LogoFiles/ForPrint/pdf/color-logo-with-background.pdf&quot;;\r\n            String outputPdfFilePath =  &quot;/Users/nunyet/IdeaProjects/mystic-river-api/docs/style-guide/LogoFiles/ForPrint/pdf/color-logo-with-background2.pdf&quot;;\r\n            DeviceRgb backgroundColor = new DeviceRgb(46, 80, 111);  // Convert HEX to RGB\r\n    \r\n            PdfDocument pdfDoc = new PdfDocument(new PdfReader(inputPdfFilePath), new PdfWriter(outputPdfFilePath));\r\n    \r\n            // Access the first page of the PDF document\r\n            PdfPage page = pdfDoc.getFirstPage();\r\n    \r\n            // Create a PdfCanvas for the page\r\n            PdfCanvas canvas = new PdfCanvas(page.newContentStreamBefore(), page.getResources(), pdfDoc);\r\n    \r\n            // Set the background color\r\n            canvas.saveState();\r\n            canvas.setFillColor(backgroundColor);\r\n            canvas.rectangle(0, 0, page.getPageSize().getWidth(), page.getPageSize().getHeight());\r\n            canvas.fill();\r\n            canvas.restoreState();\r\n    \r\n    \r\n    \r\n            System.out.println(&quot;PDF modified successfully!&quot;);\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v3NQ2.png","title":"Java itext: modify a PDF and set this background color: #2E506F","body":"<p>I have created this class , but I have an error when opening the pdf</p>\n<pre><code>public class ModifyPDFWithBackgroundColor {\n\n    public static void main(String[] args) throws IOException {\n\n        String inputPdfFilePath = &quot;/Users/nunyet/IdeaProjects/mystic-river-api/docs/style-guide/LogoFiles/ForPrint/pdf/color-logo-with-background.pdf&quot;;\n        String outputPdfFilePath =  &quot;/Users/nunyet/IdeaProjects/mystic-river-api/docs/style-guide/LogoFiles/ForPrint/pdf/color-logo-with-background2.pdf&quot;;\n        DeviceRgb backgroundColor = new DeviceRgb(46, 80, 111);  // Convert HEX to RGB\n\n        PdfDocument pdfDoc = new PdfDocument(new PdfReader(inputPdfFilePath), new PdfWriter(outputPdfFilePath));\n\n        // Access the first page of the PDF document\n        PdfPage page = pdfDoc.getFirstPage();\n\n        // Create a PdfCanvas for the page\n        PdfCanvas canvas = new PdfCanvas(page.newContentStreamBefore(), page.getResources(), pdfDoc);\n\n        // Set the background color\n        canvas.saveState();\n        canvas.setFillColor(backgroundColor);\n        canvas.rectangle(0, 0, page.getPageSize().getWidth(), page.getPageSize().getHeight());\n        canvas.fill();\n        canvas.restoreState();\n\n\n\n        System.out.println(&quot;PDF modified successfully!&quot;);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/v3NQ2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v3NQ2.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","dll","classpath","jpackage"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1693760086,"post_id":77033288,"comment_id":135799954,"body_markdown":"If you are willing to use modules, this problem is so easy to deal with. But it means that you won&#39;t be using the classpath anymore.","body":"If you are willing to use modules, this problem is so easy to deal with. But it means that you won&#39;t be using the classpath anymore."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1693760127,"post_id":77033288,"comment_id":135799960,"body_markdown":"And to add, `jpackage` was built with modules in mind, and it works better (and more easily) if the application you are trying to `jpackage` is modular.","body":"And to add, <code>jpackage</code> was built with modules in mind, and it works better (and more easily) if the application you are trying to <code>jpackage</code> is modular."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1693762233,"post_id":77033288,"comment_id":135800243,"body_markdown":"@davidalayachew I think the hope is that everything Java will become modular, but `jpackage` was definitely designed with non-modular applications in mind as well. It&#39;s also not that difficult; just put all the JARs in a directory and then point `--input` at it. Though there may be a bit of `--add-modules` fine tuning to make sure the run-time image contains the necessary code from the standard library.","body":"@davidalayachew I think the hope is that everything Java will become modular, but <code>jpackage</code> was definitely designed with non-modular applications in mind as well. It&#39;s also not that difficult; just put all the JARs in a directory and then point <code>--input</code> at it. Though there may be a bit of <code>--add-modules</code> fine tuning to make sure the run-time image contains the necessary code from the standard library."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1693762511,"post_id":77033288,"comment_id":135800275,"body_markdown":"All that looks very Unixy. Even in Powershell, I don&#39;t think it&#39;s acceptable to use `:` as a path separator in Windows. The path separator is `;` Try `--java-options &quot;-cp %APPDIR%\\config;%APPDIR%\\lib\\gson-2.10.1.jar;%$APPDIR%\\lib\\xmlbeans-5.1.1.jar;%APPDIR%\\lib\\mssql-jdbc-12.4.0.jre8.jar;%APPDIR%\\MyApp.jar&quot;`","body":"All that looks very Unixy. Even in Powershell, I don&#39;t think it&#39;s acceptable to use <code>:</code> as a path separator in Windows. The path separator is <code>;</code> Try <code>--java-options &quot;-cp %APPDIR%\\config;%APPDIR%\\lib\\gson-2.10.1.jar;%$APPDIR%\\lib\\x&zwnj;&#8203;mlbeans-5.1.1.jar;%A&zwnj;&#8203;PPDIR%\\lib\\mssql-jdb&zwnj;&#8203;c-12.4.0.jre8.jar;%A&zwnj;&#8203;PPDIR%\\MyApp.jar&quot;</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693762853,"post_id":77033288,"comment_id":135800319,"body_markdown":"Too late to edit - there&#39;s the odd `$` still in my post - you need to get rid","body":"Too late to edit - there&#39;s the odd <code>$</code> still in my post - you need to get rid"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1693763158,"post_id":77033288,"comment_id":135800352,"body_markdown":"@g00se `%APPDIR%` looks incorrect to me. The final path should contain the literal `$APPDIR` string, it is not an environment variable. If this is powershell, a string literal using single quotes can be used to avoid variable expansion as a result of `$`.","body":"@g00se <code>%APPDIR%</code> looks incorrect to me. The final path should contain the literal <code>$APPDIR</code> string, it is not an environment variable. If this is powershell, a string literal using single quotes can be used to avoid variable expansion as a result of <code>$</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693763700,"post_id":77033288,"comment_id":135800434,"body_markdown":"*it is not an environment variable.* I don&#39;t see how it could not be. It looks like a placeholder for the application directory","body":"<i>it is not an environment variable.</i> I don&#39;t see how it could not be. It looks like a placeholder for the application directory"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1693763949,"post_id":77033288,"comment_id":135800468,"body_markdown":"@g00se Jorn is correct; `$APPDIR` not an environment variable. [It&#39;s a &quot;macro&quot; defined by `jpackage`](https://docs.oracle.com/en/java/javase/20/jpackage/support-application-features.html#GUID-34C3BE72-CDE5-469B-BC4D-3D9A6DD2AEEA).","body":"@g00se Jorn is correct; <code>$APPDIR</code> not an environment variable. <a href=\"https://docs.oracle.com/en/java/javase/20/jpackage/support-application-features.html#GUID-34C3BE72-CDE5-469B-BC4D-3D9A6DD2AEEA\" rel=\"nofollow noreferrer\">It&#39;s a &quot;macro&quot; defined by <code>jpackage</code></a>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693764785,"post_id":77033288,"comment_id":135800567,"body_markdown":"OK. Let&#39;s call it a &#39;macro&#39;. But those are still *paths* and they have the wrong path separator for Windows. `jpackage` uses 3rd party Windows software to work with Windows stuff","body":"OK. Let&#39;s call it a &#39;macro&#39;. But those are still <i>paths</i> and they have the wrong path separator for Windows. <code>jpackage</code> uses 3rd party Windows software to work with Windows stuff"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1693765126,"post_id":77033288,"comment_id":135800599,"body_markdown":"@Slaw *jpackage was definitely designed with non-modular applications in mind as well. It&#39;s also not that difficult;* - You are correct. However, this comment chain was more what I was talking about when I said that module path is simpler. If I use modules, I don&#39;t need to know about or care about %APPDIR%, or whatever permutations there exist for it. Ever since those last 2 questions, I have been fully converted to the modules team and hope I never have to see another classpath ever again. And for that reason, I encourage others to do the same if they have the option.","body":"@Slaw <i>jpackage was definitely designed with non-modular applications in mind as well. It&#39;s also not that difficult;</i> - You are correct. However, this comment chain was more what I was talking about when I said that module path is simpler. If I use modules, I don&#39;t need to know about or care about %APPDIR%, or whatever permutations there exist for it. Ever since those last 2 questions, I have been fully converted to the modules team and hope I never have to see another classpath ever again. And for that reason, I encourage others to do the same if they have the option."}],"answers":[{"comments":[{"owner":{"account_id":4472846,"reputation":38,"user_id":3638690,"display_name":"Sayontan"},"score":0,"creation_date":1693772046,"post_id":77033610,"comment_id":135801392,"body_markdown":"Thank you. I was able to use both your suggestions and get the application working. Funnily enough, I suspected that the issue was with the file system, but using a `;` separator was causing my IDE to comment out the trailing line in the CFG file, so I relied on the Oracle documentation. The use of `$` was a red herring too, and made me suspect that the executable does some internal translations.","body":"Thank you. I was able to use both your suggestions and get the application working. Funnily enough, I suspected that the issue was with the file system, but using a <code>;</code> separator was causing my IDE to comment out the trailing line in the CFG file, so I relied on the Oracle documentation. The use of <code>$</code> was a red herring too, and made me suspect that the executable does some internal translations."}],"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693764406,"creation_date":1693764406,"answer_id":77033610,"question_id":77033288,"body_markdown":"&gt; Defining a custom classpath\r\n\r\nThe command from the documentation is for a unix shell/platform (as evidenced also by the use of `:` in the class path). On Windows, you need to use `;` as a path separator.\r\n\r\nYou also need to prevent the expansion of the `$APPDIR` as a shell variable. In the unix shell this is done by escaping the `$` with `\\`, on Windows in powershell for instance, you can use a single quoted string (which avoids variable expansion):\r\n\r\n    --java-options &#39;-cp $APPDIR\\config;$APPDIR\\lib\\gson-2.10.1.jar;$APPDIR\\lib\\xmlbeans-5.1.1.jar;$APPDIR\\lib\\mssql-jdbc-12.4.0.jre8.jar;$APPDIR\\MyApp.jar&#39;\r\n\r\nIf I use this, it creates a `.cfg` file with:\r\n\r\n    java-options=-cp\r\n    java-options=$APPDIR\\config;$APPDIR\\lib\\gson-2.10.1.jar;$APPDIR\\lib\\xmlbeans-5.1.1.jar;$APPDIR\\lib\\mssql-jdbc-12.4.0.jre8.jar;$APPDIR\\MyApp.jar\r\n\r\nWhich is what you want.\r\n\r\n---\r\n\r\nFor the native MS SQL library, you should also be able to use `--java-options` to set the `-Djava.library.path`:\r\n\r\n    --java-options &#39;-Djava.library.path=$APPDIR&#39;\r\n\r\nThen just put the `DLL` file into the folder you pass to `--input`, and the application should be able to load it using `System.loadLibrary` from there.","title":"Defining a custom classpath (and binaries folder) for jpackage executables","body":"<blockquote>\n<p>Defining a custom classpath</p>\n</blockquote>\n<p>The command from the documentation is for a unix shell/platform (as evidenced also by the use of <code>:</code> in the class path). On Windows, you need to use <code>;</code> as a path separator.</p>\n<p>You also need to prevent the expansion of the <code>$APPDIR</code> as a shell variable. In the unix shell this is done by escaping the <code>$</code> with <code>\\</code>, on Windows in powershell for instance, you can use a single quoted string (which avoids variable expansion):</p>\n<pre><code>--java-options '-cp $APPDIR\\config;$APPDIR\\lib\\gson-2.10.1.jar;$APPDIR\\lib\\xmlbeans-5.1.1.jar;$APPDIR\\lib\\mssql-jdbc-12.4.0.jre8.jar;$APPDIR\\MyApp.jar'\n</code></pre>\n<p>If I use this, it creates a <code>.cfg</code> file with:</p>\n<pre><code>java-options=-cp\njava-options=$APPDIR\\config;$APPDIR\\lib\\gson-2.10.1.jar;$APPDIR\\lib\\xmlbeans-5.1.1.jar;$APPDIR\\lib\\mssql-jdbc-12.4.0.jre8.jar;$APPDIR\\MyApp.jar\n</code></pre>\n<p>Which is what you want.</p>\n<hr />\n<p>For the native MS SQL library, you should also be able to use <code>--java-options</code> to set the <code>-Djava.library.path</code>:</p>\n<pre><code>--java-options '-Djava.library.path=$APPDIR'\n</code></pre>\n<p>Then just put the <code>DLL</code> file into the folder you pass to <code>--input</code>, and the application should be able to load it using <code>System.loadLibrary</code> from there.</p>\n"}],"owner":{"account_id":4472846,"reputation":38,"user_id":3638690,"display_name":"Sayontan"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77033610,"answer_count":1,"score":0,"last_activity_date":1693764406,"creation_date":1693759431,"question_id":77033288,"body_markdown":"I am trying to create a Windows EXE / MSI file for my Java application using `jpackage`. By and large, this works, however I am running into some issues for which I require some help:\r\n\r\n\r\n\r\n1. **Defining a custom classpath:**\r\nI went through [the documentation](https://docs.oracle.com/en/java/javase/20/jpackage/support-application-features.html#GUID-C7B49351-7258-4AE1-AA6F-D67859ED716A) that states how to add a custom classpath. The documentation does two things: it uses the variable `$APPDIR` and it uses a `:` separator. However, when I pass this directive to `jpackage`:\r\n```\r\n--java-options &quot;-cp \\$APPDIR/config:\\$APPDIR/lib\\gson-2.10.1.jar:\\$APPDIR/lib\\xmlbeans-5.1.1.jar:\\$APPDIR/lib\\mssql-jdbc-12.4.0.jre8.jar:\\$APPDIR/MyApp.jar&quot;\r\n```\r\n... I get this in the CFG file:\r\n```\r\njava-options=-Djpackage.app-version=1.0\r\njava-options=-cp\r\njava-options=\\/config:\\/lib\\gson-2.10.1.jar:\\/lib\\xmlbeans-5.1.1.jar:\\/lib\\mssql-jdbc-12.4.0.jre8.jar:\\/MyApp.jar\r\n\r\n```\r\n\r\nAs you can see, the reference to APPDIR is removed. Consequently, I get an error when I try to run my executable:\r\n```\r\nError: Could not find or load main class path.to.my.MainClass\r\nCaused by: java.lang.ClassNotFoundException: path.to.my.MainClass\r\n\r\n```\r\n\r\nThe separator slashes don&#39;t matter - `/` and `\\` have the same effect. If I remove the `--java-options`, the paths are pulled from my `--input` directive, and the `MainClass` is resolved. However, I don&#39;t get to see the `config` directory in my `classpath`. I know that there is an alternative [posted here](https://stackoverflow.com/questions/63670541/jpackage-where-should-i-put-resources-folder-for-my-windows-app-image), but I would like to use the `classpath` feature if possible.\r\n\r\n2. **Using a folder for DLLs**\r\nOne of my jar files is for MS SQL, where I want to use Active Directory authentication. This requires me to have a specific DLL in the path (i.e. in the Environment Variable `Path`). Is there a way I can make the generated runtime executable look at a specific folder for this?","title":"Defining a custom classpath (and binaries folder) for jpackage executables","body":"<p>I am trying to create a Windows EXE / MSI file for my Java application using <code>jpackage</code>. By and large, this works, however I am running into some issues for which I require some help:</p>\n<ol>\n<li><strong>Defining a custom classpath:</strong>\nI went through <a href=\"https://docs.oracle.com/en/java/javase/20/jpackage/support-application-features.html#GUID-C7B49351-7258-4AE1-AA6F-D67859ED716A\" rel=\"nofollow noreferrer\">the documentation</a> that states how to add a custom classpath. The documentation does two things: it uses the variable <code>$APPDIR</code> and it uses a <code>:</code> separator. However, when I pass this directive to <code>jpackage</code>:</li>\n</ol>\n<pre><code>--java-options &quot;-cp \\$APPDIR/config:\\$APPDIR/lib\\gson-2.10.1.jar:\\$APPDIR/lib\\xmlbeans-5.1.1.jar:\\$APPDIR/lib\\mssql-jdbc-12.4.0.jre8.jar:\\$APPDIR/MyApp.jar&quot;\n</code></pre>\n<p>... I get this in the CFG file:</p>\n<pre><code>java-options=-Djpackage.app-version=1.0\njava-options=-cp\njava-options=\\/config:\\/lib\\gson-2.10.1.jar:\\/lib\\xmlbeans-5.1.1.jar:\\/lib\\mssql-jdbc-12.4.0.jre8.jar:\\/MyApp.jar\n\n</code></pre>\n<p>As you can see, the reference to APPDIR is removed. Consequently, I get an error when I try to run my executable:</p>\n<pre><code>Error: Could not find or load main class path.to.my.MainClass\nCaused by: java.lang.ClassNotFoundException: path.to.my.MainClass\n\n</code></pre>\n<p>The separator slashes don't matter - <code>/</code> and <code>\\</code> have the same effect. If I remove the <code>--java-options</code>, the paths are pulled from my <code>--input</code> directive, and the <code>MainClass</code> is resolved. However, I don't get to see the <code>config</code> directory in my <code>classpath</code>. I know that there is an alternative <a href=\"https://stackoverflow.com/questions/63670541/jpackage-where-should-i-put-resources-folder-for-my-windows-app-image\">posted here</a>, but I would like to use the <code>classpath</code> feature if possible.</p>\n<ol start=\"2\">\n<li><strong>Using a folder for DLLs</strong>\nOne of my jar files is for MS SQL, where I want to use Active Directory authentication. This requires me to have a specific DLL in the path (i.e. in the Environment Variable <code>Path</code>). Is there a way I can make the generated runtime executable look at a specific folder for this?</li>\n</ol>\n"},{"tags":["java","xml","selenium-webdriver"],"comments":[{"owner":{"account_id":8547509,"reputation":4802,"user_id":6405587,"display_name":"Sudharsan Selvaraj"},"score":1,"creation_date":1474871915,"post_id":39696065,"comment_id":66690882,"body_markdown":"Your questions is not clear. do you want to read any xml file through java code or through selenium after loading the xml file in the browser?","body":"Your questions is not clear. do you want to read any xml file through java code or through selenium after loading the xml file in the browser?"},{"owner":{"account_id":8929366,"reputation":9,"user_id":6662492,"accept_rate":20,"display_name":"muthubala"},"score":0,"creation_date":1474872036,"post_id":39696065,"comment_id":66690942,"body_markdown":"Yes I want read XML file in Java code Through selenium","body":"Yes I want read XML file in Java code Through selenium"},{"owner":{"account_id":8547509,"reputation":4802,"user_id":6405587,"display_name":"Sudharsan Selvaraj"},"score":0,"creation_date":1474872236,"post_id":39696065,"comment_id":66691043,"body_markdown":"post the xml file for reference.","body":"post the xml file for reference."},{"owner":{"account_id":8929366,"reputation":9,"user_id":6662492,"accept_rate":20,"display_name":"muthubala"},"score":0,"creation_date":1474873756,"post_id":39696065,"comment_id":66691892,"body_markdown":"&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;client name=&quot;eLife&quot;&gt;\n\t&lt;site&gt;http://qa.elife.dev.cms30.kriyadocs.com/welcome&lt;/site&gt;\n\t\n\t&lt;xpath&gt;\n\t\t&lt;publication&gt; &lt;/publication&gt;\n\t\t&lt;Article&gt;in progress&lt;/Article&gt;\n\t\t&lt;Striking&gt;Image&gt;&lt;/Striking&gt;\n\t\t&lt;Upload&gt;Digest&lt;/Upload&gt;\n\t\t&lt;Upload&gt;sub article&lt;/Upload&gt;\n\t\t&lt;Detailed&gt;&lt;/Detailed&gt;\n\t\t\t\n\t\t\n\t\n\t&lt;/xpath&gt;\n&lt;/client&gt;","body":"&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;client name=&quot;eLife&quot;&gt; \t&lt;site&gt;<a href=\"http://qa.elife.dev.cms30.kriyadocs.com/welcome&lt;/site\" rel=\"nofollow noreferrer\">qa.elife.dev.cms30.kriyadocs.com/welcome&lt;/site</a>&gt; \t \t&lt;xpath&gt; \t\t&lt;publication&gt; &lt;/publication&gt; \t\t&lt;Article&gt;in progress&lt;/Article&gt; \t\t&lt;Striking&gt;Image&gt;&lt;/Striking&gt; \t\t&lt;Upload&gt;Digest&lt;/Upload&gt; \t\t&lt;Upload&gt;sub article&lt;/Upload&gt; \t\t&lt;Detailed&gt;&lt;/Detailed&gt; \t\t\t \t\t \t \t&lt;/xpath&gt; &lt;/client&gt;"},{"owner":{"account_id":7385562,"reputation":631,"user_id":5620699,"display_name":"JDelorean"},"score":1,"creation_date":1474878863,"post_id":39696065,"comment_id":66694616,"body_markdown":"Why not use Java XML Parser instead of Selenium? Selenium has been designed to traverse HTML documents and much more. Is there a special feature you want to use?","body":"Why not use Java XML Parser instead of Selenium? Selenium has been designed to traverse HTML documents and much more. Is there a special feature you want to use?"},{"owner":{"account_id":8929366,"reputation":9,"user_id":6662492,"accept_rate":20,"display_name":"muthubala"},"score":0,"creation_date":1474879152,"post_id":39696065,"comment_id":66694799,"body_markdown":"No , I want configure our project so I will connect the xml data to selenium","body":"No , I want configure our project so I will connect the xml data to selenium"},{"owner":{"account_id":162536,"reputation":640,"user_id":384049,"accept_rate":50,"display_name":"iJames"},"score":0,"creation_date":1620843944,"post_id":39696065,"comment_id":119324269,"body_markdown":"I&#39;m not inspecting the xpath here at all so I don&#39;t know if it&#39;s correct, but it seems like the above _could_ work.  Is it that selenium can&#39;t inspect the XML file because it&#39;s not HTML?  If Selenium doesn&#39;t have the ability to traverse the XML can it at least return the whole file (versus downloading it)?","body":"I&#39;m not inspecting the xpath here at all so I don&#39;t know if it&#39;s correct, but it seems like the above <i>could</i> work.  Is it that selenium can&#39;t inspect the XML file because it&#39;s not HTML?  If Selenium doesn&#39;t have the ability to traverse the XML can it at least return the whole file (versus downloading it)?"}],"answers":[{"comments":[{"owner":{"account_id":8929366,"reputation":9,"user_id":6662492,"accept_rate":20,"display_name":"muthubala"},"score":0,"creation_date":1474967241,"post_id":39706095,"comment_id":66738536,"body_markdown":"Okay , please update the correct code for this project","body":"Okay , please update the correct code for this project"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1474989427,"post_id":39706095,"comment_id":66754213,"body_markdown":"That&#39;s a completely different question from what you asked above and it has been asked before. You will want to read some Java/XMLReader tutorials to get what you need. If you do that and run into an issue, post a new question with the specifics of the issue.","body":"That&#39;s a completely different question from what you asked above and it has been asked before. You will want to read some Java/XMLReader tutorials to get what you need. If you do that and run into an issue, post a new question with the specifics of the issue."}],"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474901855,"creation_date":1474901855,"answer_id":39706095,"question_id":39696065,"body_markdown":"Don&#39;t do this. Load and parse the XML with the XML parser. After you get the data you want from XML, pass it to Selenium. Use the right tool for the job and you will get better results.","title":"How to read xml file in selenium driver","body":"<p>Don't do this. Load and parse the XML with the XML parser. After you get the data you want from XML, pass it to Selenium. Use the right tool for the job and you will get better results.</p>\n"}],"owner":{"account_id":8929366,"reputation":9,"user_id":6662492,"accept_rate":20,"display_name":"muthubala"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8818,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693760775,"creation_date":1474871532,"question_id":39696065,"body_markdown":"I would like to read this xml with Selenium\r\n\r\n    \t\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; \r\n        &lt;client name=&quot;eLife&quot;&gt; &lt;site&gt;qa.elife.dev.cms30.kriyadocs.com/welcome&lt;/site&gt;; \r\n            &lt;xpath&gt; \r\n               &lt;publication&gt; &lt;/publication&gt; \r\n               &lt;Article&gt;in progress&lt;/Article&gt; \r\n               &lt;Striking&gt;Image&gt;&lt;/Striking&gt; \r\n               &lt;Upload&gt;Digest&lt;/Upload&gt; &lt;Upload&gt;sub article&lt;/Upload&gt; \r\n               &lt;Detailed&gt;&lt;/Detailed&gt; \r\n            &lt;/xpath&gt; \r\n        &lt;/client&gt; \r\n\r\nCode Snippet:\r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/home/administrator/Downloads/chromedriver&quot;);\r\n\tWebDriver driver = new ChromeDriver();\r\n\tString URL = &quot;http://localhost/config.xml&quot;;\r\n\tString course = driver.findElement(((WebElement) By.xpath(&quot;.//*[@id=&#39;pass-nodes-list&#39;]/li/div[2]/a&quot;)).getText());\r\n\t\r\n\r\n\r\n","title":"How to read xml file in selenium driver","body":"<p>I would like to read this xml with Selenium</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt; \n    &lt;client name=\"eLife\"&gt; &lt;site&gt;qa.elife.dev.cms30.kriyadocs.com/welcome&lt;/site&gt;; \n        &lt;xpath&gt; \n           &lt;publication&gt; &lt;/publication&gt; \n           &lt;Article&gt;in progress&lt;/Article&gt; \n           &lt;Striking&gt;Image&gt;&lt;/Striking&gt; \n           &lt;Upload&gt;Digest&lt;/Upload&gt; &lt;Upload&gt;sub article&lt;/Upload&gt; \n           &lt;Detailed&gt;&lt;/Detailed&gt; \n        &lt;/xpath&gt; \n    &lt;/client&gt; \n</code></pre>\n\n<p>Code Snippet:</p>\n\n<pre><code>System.setProperty(\"webdriver.chrome.driver\", \"/home/administrator/Downloads/chromedriver\");\nWebDriver driver = new ChromeDriver();\nString URL = \"http://localhost/config.xml\";\nString course = driver.findElement(((WebElement) By.xpath(\".//*[@id='pass-nodes-list']/li/div[2]/a\")).getText());\n</code></pre>\n"},{"tags":["java","bluetooth-lowenergy","android-bluetooth"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1690919345,"post_id":76787156,"comment_id":135419361,"body_markdown":"If the target device is a Bluetooth LE (Bluetooth 4 and above) then you must use the [BluetoothGatt](https://developer.android.com/reference/android/bluetooth/BluetoothGatt) API in order to establish a connection to that device. Have a look at [Bluetooth LE Connection Guide](https://developer.android.com/guide/topics/connectivity/bluetooth/connect-gatt-server) so that you connect properly.","body":"If the target device is a Bluetooth LE (Bluetooth 4 and above) then you must use the <a href=\"https://developer.android.com/reference/android/bluetooth/BluetoothGatt\" rel=\"nofollow noreferrer\">BluetoothGatt</a> API in order to establish a connection to that device. Have a look at <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/connect-gatt-server\" rel=\"nofollow noreferrer\">Bluetooth LE Connection Guide</a> so that you connect properly."},{"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"score":0,"creation_date":1691574526,"post_id":76787156,"comment_id":135508914,"body_markdown":"@Kozmotronik , I re-edited the post after adopting GATT as you said for BLE devices but I always get stuck at `newState` which gives me always `0` which means `STATE_DISCONNECTED` even if the device is correctly paired and connected on bluetooth as I can see in my mobile bluetooth active devices....","body":"@Kozmotronik , I re-edited the post after adopting GATT as you said for BLE devices but I always get stuck at <code>newState</code> which gives me always <code>0</code> which means <code>STATE_DISCONNECTED</code> even if the device is correctly paired and connected on bluetooth as I can see in my mobile bluetooth active devices...."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1691648320,"post_id":76787156,"comment_id":135520318,"body_markdown":"You try to connect to all bonded devices one by one. However are you sure that those devices are online or in range? Another point to note, if your intention is scanning for BLE devices, you do not scanning at all in your code. All you do is to get bonded devices and connect them. But you should have this in mind; not all devices necessarily create bond during their connection phase. If your peripheral devices are not configured to use encrypted communication, probably you do not find them in the `getBondedDevices` set.","body":"You try to connect to all bonded devices one by one. However are you sure that those devices are online or in range? Another point to note, if your intention is scanning for BLE devices, you do not scanning at all in your code. All you do is to get bonded devices and connect them. But you should have this in mind; not all devices necessarily create bond during their connection phase. If your peripheral devices are not configured to use encrypted communication, probably you do not find them in the <code>getBondedDevices</code> set."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1691648876,"post_id":76787156,"comment_id":135520391,"body_markdown":"What I can recommend you, is to have your peripheral device&#39;s MAC address hardcoded as `String` in your code. Then you should call `getRemoteDevice` by passing this hardcoded MAC string as its parameter to let the `BluetoothAdapter` create a new `BluetoothDevice` instance for you. Finally implement a `BluetoothGattCallback` for this device and then call the `device.connectGatt` method. But make sure that the peripheral device is online and in range before trying to establish a connection.","body":"What I can recommend you, is to have your peripheral device&#39;s MAC address hardcoded as <code>String</code> in your code. Then you should call <code>getRemoteDevice</code> by passing this hardcoded MAC string as its parameter to let the <code>BluetoothAdapter</code> create a new <code>BluetoothDevice</code> instance for you. Finally implement a <code>BluetoothGattCallback</code> for this device and then call the <code>device.connectGatt</code> method. But make sure that the peripheral device is online and in range before trying to establish a connection."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1691649181,"post_id":76787156,"comment_id":135520438,"body_markdown":"Develop your BLE code for a single hardcoded MAC peripheral until you can handle all required events successfully. When you get it working, start to develop your code step by step but with small steps so that it can handle multiple connections. I don&#39;t promise but I will try to write a bare minimal example working code that handles a BLE connection and communication. Good luck.","body":"Develop your BLE code for a single hardcoded MAC peripheral until you can handle all required events successfully. When you get it working, start to develop your code step by step but with small steps so that it can handle multiple connections. I don&#39;t promise but I will try to write a bare minimal example working code that handles a BLE connection and communication. Good luck."},{"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"score":0,"creation_date":1693725002,"post_id":76787156,"comment_id":135796447,"body_markdown":"HI @Kozmotronik ! I tried to change the device with my Garmin smartwatch and this time at least I reached GATT_SUCCESS.... I re-edited again the post because I have still a doubt and question is there...","body":"HI @Kozmotronik ! I tried to change the device with my Garmin smartwatch and this time at least I reached GATT_SUCCESS.... I re-edited again the post because I have still a doubt and question is there..."},{"owner":{"account_id":692529,"reputation":17134,"user_id":556495,"accept_rate":50,"display_name":"Emil"},"score":0,"creation_date":1693750180,"post_id":76787156,"comment_id":135798790,"body_markdown":"I think this question is pretty confusing what you are actually asking. You are talking about Bluetooth, wifi and http requests in the same question, although web and Bluetooth are two completely different topics. If you don&#39;t know how to even connect to a Bluetooth device in the first place, I suggest to first learn how Bluetooth or BLE works by reading on the subject.","body":"I think this question is pretty confusing what you are actually asking. You are talking about Bluetooth, wifi and http requests in the same question, although web and Bluetooth are two completely different topics. If you don&#39;t know how to even connect to a Bluetooth device in the first place, I suggest to first learn how Bluetooth or BLE works by reading on the subject."},{"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"score":0,"creation_date":1693760280,"post_id":76787156,"comment_id":135799990,"body_markdown":"Hello @Emil , I reposted completely the question to be more clear about my goal... is that exmplained better and more clear now?....","body":"Hello @Emil , I reposted completely the question to be more clear about my goal... is that exmplained better and more clear now?...."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1693807396,"post_id":76787156,"comment_id":135803995,"body_markdown":"@Luigino hi! Can you specify the exact model of your Garmin smartwatch? Because the models I see, just don&#39;t have WiFi connectivity but only Bluetooth. What I understand from your question is that you want to implement http functionalities over the Bluetooth communication. But what do you know about the services of your smartwatch? You also ask for using a SoC for Bluetooth com. but why while you can connect directly to your smartwatch?","body":"@Luigino hi! Can you specify the exact model of your Garmin smartwatch? Because the models I see, just don&#39;t have WiFi connectivity but only Bluetooth. What I understand from your question is that you want to implement http functionalities over the Bluetooth communication. But what do you know about the services of your smartwatch? You also ask for using a SoC for Bluetooth com. but why while you can connect directly to your smartwatch?"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1693807853,"post_id":76787156,"comment_id":135804064,"body_markdown":"I think you better follow the [Garmin&#39;s guidelines](https://developer.garmin.com/connect-iq/core-topics/mobile-sdk-for-android/) for Android development.","body":"I think you better follow the <a href=\"https://developer.garmin.com/connect-iq/core-topics/mobile-sdk-for-android/\" rel=\"nofollow noreferrer\">Garmin&#39;s guidelines</a> for Android development."},{"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"score":0,"creation_date":1693811695,"post_id":76787156,"comment_id":135804605,"body_markdown":"Hi @Kozmotronik , yeah but I don&#39;t need really for Garmin services/characteristics but as like as I reposted completely the question my goal is having custom device, where there&#39;s a webserver inside I can query via http to obtain some data from sensors like battery for example, I would send http objects through Bluetooth connection, like HTTP over GATT, and have a response....","body":"Hi @Kozmotronik , yeah but I don&#39;t need really for Garmin services/characteristics but as like as I reposted completely the question my goal is having custom device, where there&#39;s a webserver inside I can query via http to obtain some data from sensors like battery for example, I would send http objects through Bluetooth connection, like HTTP over GATT, and have a response...."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1693816418,"post_id":76787156,"comment_id":135805323,"body_markdown":"I see. However, as Emil has mentioned, why would you use http object while you can make services and characteristics for any data on your custom device. This is what Bluetooth GATT designed for. I can&#39;t give you any sight regarding the HTTP over GATT since I&#39;ve never experimented it. But I can help for connection and data transferring with BLE.","body":"I see. However, as Emil has mentioned, why would you use http object while you can make services and characteristics for any data on your custom device. This is what Bluetooth GATT designed for. I can&#39;t give you any sight regarding the HTTP over GATT since I&#39;ve never experimented it. But I can help for connection and data transferring with BLE."},{"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"score":0,"creation_date":1693819795,"post_id":76787156,"comment_id":135805901,"body_markdown":"@Kozmotronik , I was thinking for HTTP over GATT because webserver listens to commands like `http://x.x.x.x/cgi-bin/web.cgi?param0=XXX&amp;param1=XXXX&amp;param2=XXXXX` .... maybe that could be converted in services / characteristics? If yes , I guess on that custom device I should mount a custom `Bluetooth SoC` programmed with a predefined `UUID` so I can use to open a service, right?....","body":"@Kozmotronik , I was thinking for HTTP over GATT because webserver listens to commands like <code>http:&#47;&#47;x.x.x.x&#47;cgi-bin&#47;web.cgi?param0=XXX&amp;param1=XXXX&amp;param2&zwnj;&#8203;=XXXXX</code> .... maybe that could be converted in services / characteristics? If yes , I guess on that custom device I should mount a custom <code>Bluetooth SoC</code> programmed with a predefined <code>UUID</code> so I can use to open a service, right?...."}],"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693760182,"creation_date":1690541777,"question_id":76787156,"body_markdown":"Actually I have this scenario with a custom device I try to connect with Android Java application:\r\nThis custom device has a webserver inside \r\n\r\nConnections implemented successful: \r\n\r\n- WiFi;\r\n- Hotspot;\r\n\r\nI communicate with this webserver via `HTTP object requests` where I ask some parameters\r\nMy goal now is I want to add also Bluetooth connection possibility and communicate to the webserver when I need to connect directly to the custom device.\r\n\r\nSince I am total novice on `Bluetooth` , to understand how connection for `Bluetooth` works, my actual implementation is:\r\n\r\n    private void printGattTable() {\r\n    \tif (services.isEmpty()) {\r\n    \t\tLog.d(&quot;printGattTable&quot;, &quot;No service and characteristic available, call discoverServices() first?&quot;);\r\n    \t}\r\n    \r\n    \tservices.forEach(service -&gt;  {\r\n    \t\tcharacteristics = service.getCharacteristics();\r\n    \t\tcharacteristics.listIterator();\r\n    \t\tcharacteristics.forEach( characteristic -&gt; {\r\n    \t\t\tList&lt;BluetoothGattDescriptor&gt; descriptor = characteristic.getDescriptors();\r\n    \t\t\tdescriptor.forEach(singleDescriptor -&gt; {\r\n    \t\t\t\tLog.d(&quot;printGattTable&quot;, &quot;singleDescriptor found: &quot; + singleDescriptor.toString() );\r\n    \t\t\t});\r\n    \t\t});\r\n    \r\n    \t});\r\n    }\r\n    \r\n    private void scanBondedBLEDevices()\r\n    {\r\n    \tlocalIPs_BT.clear();\r\n    \tlocalHostnames_BT.clear();\r\n    \tmBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n    \tif (!(mBluetoothAdapter == null) &amp;&amp; mBluetoothAdapter.isEnabled()) {\r\n    \t\tif (ActivityCompat.checkSelfPermission(bt_context, android.Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n    \t\t\t// TODO: Consider calling\r\n    \t\t\t//    ActivityCompat#requestPermissions\r\n    \t\t\t// here to request the missing permissions, and then overriding\r\n    \t\t\t//   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n    \t\t\t//                                          int[] grantResults)\r\n    \t\t\t// to handle the case where the user grants the permission. See the documentation\r\n    \t\t\t// for ActivityCompat#requestPermissions for more details.\r\n    \r\n    \t\t\tSystem.out.println(&quot;BLUETOOTH_CONNECT not granted?!?!?&quot;);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\t// retrieve bonded devices ( even if a new device is connected via BT is paired )\r\n    \t\t//mBluetoothAdapter.cancelDiscovery();\r\n    \t\tSet&lt;BluetoothDevice&gt; bluetoothSet = mBluetoothAdapter.getBondedDevices();  // because already paired on mobile\r\n    \t\tif (bluetoothSet.size() &gt; 0) {\r\n    \t\t\tfor (BluetoothDevice device : bluetoothSet) {\r\n    \t\t\t\tlocalIPs_BT.add(device.getAddress());\r\n    \t\t\t\tlocalHostnames_BT.add(device.getName());\r\n    \t\t\t\tParcelUuid[] deviceUuids = device.getUuids();\r\n    \t\t\t\tlocalUUIDs.add(deviceUuids);\r\n    \t\t\t\tSystem.out.println(&quot;All paired devices checked?....&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tif (!localIPs_BT.isEmpty() &amp;&amp; localIPs_BT.size() &gt; 0) {\r\n    \t\t\tuuidIndex = 0;\r\n    \t\t\ttry {\r\n    \t\t\t\tlocalIPs_BT.forEach((currentIpAddress) -&gt; {\r\n    \r\n    \t\t\t\t\tif (mBluetoothAdapter.isEnabled()) {\r\n    \t\t\t\t\t\tBluetoothDevice device = mBluetoothAdapter.getRemoteDevice(currentIpAddress);\r\n    \r\n    \t\t\t\t\t\tBluetoothGattCallback gattCallback = new BluetoothGattCallback() {\r\n    \t\t\t\t\t\t\t@Override\r\n    \t\t\t\t\t\t\tpublic void onConnectionStateChange(BluetoothGatt gatt, int status, int newState) {\r\n    \t\t\t\t\t\t\t\tsuper.onConnectionStateChange(gatt, status, newState);\r\n    \r\n    \t\t\t\t\t\t\t\tLog.d(&quot;onConnectionStateChange_BT&quot;, &quot;onConnectionStateChange status: &quot; + status + &quot; for MACAddress: &quot; + currentIpAddress);\r\n    \t\t\t\t\t\t\t\tif ( status == BluetoothGatt.GATT_SUCCESS ) {\r\n    \t\t\t\t\t\t\t\t\tif (ActivityCompat.checkSelfPermission(bt_context, android.Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n    \t\t\t\t\t\t\t\t\t\t// TODO: Consider calling\r\n    \t\t\t\t\t\t\t\t\t\t//    ActivityCompat#requestPermissions\r\n    \t\t\t\t\t\t\t\t\t\t// here to request the missing permissions, and then overriding\r\n    \t\t\t\t\t\t\t\t\t\t//   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n    \t\t\t\t\t\t\t\t\t\t//                                          int[] grantResults)\r\n    \t\t\t\t\t\t\t\t\t\t// to handle the case where the user grants the permission. See the documentation\r\n    \t\t\t\t\t\t\t\t\t\t// for ActivityCompat#requestPermissions for more details.\r\n    \t\t\t\t\t\t\t\t\t\treturn;\r\n    \t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\tif (newState == BluetoothProfile.STATE_CONNECTED) {\r\n    \t\t\t\t\t\t\t\t\t\tLog.d(&quot;BluetoothGattCallback&quot;, &quot;Successfully connected to $deviceAddress&quot;);\r\n    \t\t\t\t\t\t\t\t\t\t// TODO: Store a reference to BluetoothGatt\r\n    \t\t\t\t\t\t\t\t\t\tgatt.discoverServices();\r\n    \t\t\t\t\t\t\t\t\t} else if (newState == BluetoothProfile.STATE_DISCONNECTED) {\r\n    \t\t\t\t\t\t\t\t\t\tLog.d(&quot;BluetoothGattCallback&quot;, &quot;Successfully disconnected from $deviceAddress&quot;);\r\n    \t\t\t\t\t\t\t\t\t\tgatt.close();\r\n    \t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t} else if (newState == BluetoothGatt.STATE_DISCONNECTED) {\r\n    \t\t\t\t\t\t\t\t\tLog.d(&quot;testBTconnection&quot;, &quot;Disconnected from GATT server&quot; + &quot; for MACAddress: &quot; + currentIpAddress);\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\t\t@Override\r\n    \t\t\t\t\t\t\tpublic void onServicesDiscovered(BluetoothGatt gatt, int status) {\r\n    \t\t\t\t\t\t\t\tsuper.onServicesDiscovered(gatt, status);\r\n    \r\n    \t\t\t\t\t\t\t\tLog.e(&quot;onServicesDiscovered BT&quot;, &quot;onServicesDiscovered status: &quot; + status + &quot; for MACAddress: &quot; + currentIpAddress);\r\n    \t\t\t\t\t\t\t\tif (status == BluetoothGatt.GATT_SUCCESS) {\r\n    \t\t\t\t\t\t\t\t/*\r\n    \t\t\t\t\t\t\t\tBluetoothGattService service = gatt.getService(YOUR_SERVICE_UUID);\r\n    \t\t\t\t\t\t\t\tif (service != null) {\r\n    \t\t\t\t\t\t\t\t\tBluetoothGattCharacteristic characteristic = service.getCharacteristic(YOUR_CHARACTERISTIC_UUID);\r\n    \t\t\t\t\t\t\t\t\tif (characteristic != null) {\r\n    \t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t*/\r\n    \t\t\t\t\t\t\t\t\tservices = gatt.getServices();\r\n    \r\n    \t\t\t\t\t\t\t\t\t//BluetoothSocket btSocket = new BluetoothSocket();\r\n    \r\n    \t\t\t\t\t\t\t\t\tprintGattTable();\r\n    \t\t\t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\t\t\tLog.e(&quot;testBTconnection&quot;, &quot;Service discovery failed with status: &quot; + status + &quot; for MACAddress: &quot; + currentIpAddress);\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t@Override\r\n    \t\t\t\t\t\t\tpublic void onCharacteristicRead(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\r\n    \t\t\t\t\t\t\t\tsuper.onCharacteristicRead(gatt, characteristic, status);\r\n    \r\n    \t\t\t\t\t\t\t\tif (status == BluetoothGatt.GATT_SUCCESS) {\r\n    \r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\t};\r\n    \r\n    \t\t\t\t\t\tmBluetoothGatt = device.connectGatt(bt_context, false, gattCallback, BluetoothDevice.TRANSPORT_LE);\r\n    \t\t\t\t\t\t//mBluetoothGatt = device.connectGatt(bt_context, true, gattCallback);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t\t} catch(Exception e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nand I added in manifest:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; android:required=&quot;true&quot; /&gt;\r\n\r\nWith this implementation I got to understand how `Bluetooth` connection works for example connecting to my Garmin Forerunner where debugging the connection I can see `ArrayList` / `List` of my Garmin&#39;s `services` / `characteristics` ...\r\nAlways while debugging, I see also a list of `UUID` s where I suppose each of them is related to its functionality of my Garmin I am debugging in test...\r\n\r\nIf I want to communicate to custom device&#39;s websever through bluetooth , do I have to mount a common Bluetooth SoC or do I have to choose a certain type of SoC, maybe one to configure a custom UUID for HTTP connection with a `BluetoothGattService` ?\r\nAnd if the solution is a custom Bluetooth SoC chip where set a custom `UUID` , how to send `HTTP object request` with a `BluetoothGattService` if it is the way to use?\r\n","title":"Connect to bluetooth device via socket to open communication","body":"<p>Actually I have this scenario with a custom device I try to connect with Android Java application:\nThis custom device has a webserver inside</p>\n<p>Connections implemented successful:</p>\n<ul>\n<li>WiFi;</li>\n<li>Hotspot;</li>\n</ul>\n<p>I communicate with this webserver via <code>HTTP object requests</code> where I ask some parameters\nMy goal now is I want to add also Bluetooth connection possibility and communicate to the webserver when I need to connect directly to the custom device.</p>\n<p>Since I am total novice on <code>Bluetooth</code> , to understand how connection for <code>Bluetooth</code> works, my actual implementation is:</p>\n<pre><code>private void printGattTable() {\n    if (services.isEmpty()) {\n        Log.d(&quot;printGattTable&quot;, &quot;No service and characteristic available, call discoverServices() first?&quot;);\n    }\n\n    services.forEach(service -&gt;  {\n        characteristics = service.getCharacteristics();\n        characteristics.listIterator();\n        characteristics.forEach( characteristic -&gt; {\n            List&lt;BluetoothGattDescriptor&gt; descriptor = characteristic.getDescriptors();\n            descriptor.forEach(singleDescriptor -&gt; {\n                Log.d(&quot;printGattTable&quot;, &quot;singleDescriptor found: &quot; + singleDescriptor.toString() );\n            });\n        });\n\n    });\n}\n\nprivate void scanBondedBLEDevices()\n{\n    localIPs_BT.clear();\n    localHostnames_BT.clear();\n    mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n    if (!(mBluetoothAdapter == null) &amp;&amp; mBluetoothAdapter.isEnabled()) {\n        if (ActivityCompat.checkSelfPermission(bt_context, android.Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            // here to request the missing permissions, and then overriding\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n            //                                          int[] grantResults)\n            // to handle the case where the user grants the permission. See the documentation\n            // for ActivityCompat#requestPermissions for more details.\n\n            System.out.println(&quot;BLUETOOTH_CONNECT not granted?!?!?&quot;);\n            return;\n        }\n        // retrieve bonded devices ( even if a new device is connected via BT is paired )\n        //mBluetoothAdapter.cancelDiscovery();\n        Set&lt;BluetoothDevice&gt; bluetoothSet = mBluetoothAdapter.getBondedDevices();  // because already paired on mobile\n        if (bluetoothSet.size() &gt; 0) {\n            for (BluetoothDevice device : bluetoothSet) {\n                localIPs_BT.add(device.getAddress());\n                localHostnames_BT.add(device.getName());\n                ParcelUuid[] deviceUuids = device.getUuids();\n                localUUIDs.add(deviceUuids);\n                System.out.println(&quot;All paired devices checked?....&quot;);\n            }\n        }\n\n        if (!localIPs_BT.isEmpty() &amp;&amp; localIPs_BT.size() &gt; 0) {\n            uuidIndex = 0;\n            try {\n                localIPs_BT.forEach((currentIpAddress) -&gt; {\n\n                    if (mBluetoothAdapter.isEnabled()) {\n                        BluetoothDevice device = mBluetoothAdapter.getRemoteDevice(currentIpAddress);\n\n                        BluetoothGattCallback gattCallback = new BluetoothGattCallback() {\n                            @Override\n                            public void onConnectionStateChange(BluetoothGatt gatt, int status, int newState) {\n                                super.onConnectionStateChange(gatt, status, newState);\n\n                                Log.d(&quot;onConnectionStateChange_BT&quot;, &quot;onConnectionStateChange status: &quot; + status + &quot; for MACAddress: &quot; + currentIpAddress);\n                                if ( status == BluetoothGatt.GATT_SUCCESS ) {\n                                    if (ActivityCompat.checkSelfPermission(bt_context, android.Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                                        // TODO: Consider calling\n                                        //    ActivityCompat#requestPermissions\n                                        // here to request the missing permissions, and then overriding\n                                        //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                                        //                                          int[] grantResults)\n                                        // to handle the case where the user grants the permission. See the documentation\n                                        // for ActivityCompat#requestPermissions for more details.\n                                        return;\n                                    }\n                                    if (newState == BluetoothProfile.STATE_CONNECTED) {\n                                        Log.d(&quot;BluetoothGattCallback&quot;, &quot;Successfully connected to $deviceAddress&quot;);\n                                        // TODO: Store a reference to BluetoothGatt\n                                        gatt.discoverServices();\n                                    } else if (newState == BluetoothProfile.STATE_DISCONNECTED) {\n                                        Log.d(&quot;BluetoothGattCallback&quot;, &quot;Successfully disconnected from $deviceAddress&quot;);\n                                        gatt.close();\n                                    }\n                                } else if (newState == BluetoothGatt.STATE_DISCONNECTED) {\n                                    Log.d(&quot;testBTconnection&quot;, &quot;Disconnected from GATT server&quot; + &quot; for MACAddress: &quot; + currentIpAddress);\n                                }\n                            }\n\n                            @Override\n                            public void onServicesDiscovered(BluetoothGatt gatt, int status) {\n                                super.onServicesDiscovered(gatt, status);\n\n                                Log.e(&quot;onServicesDiscovered BT&quot;, &quot;onServicesDiscovered status: &quot; + status + &quot; for MACAddress: &quot; + currentIpAddress);\n                                if (status == BluetoothGatt.GATT_SUCCESS) {\n                                /*\n                                BluetoothGattService service = gatt.getService(YOUR_SERVICE_UUID);\n                                if (service != null) {\n                                    BluetoothGattCharacteristic characteristic = service.getCharacteristic(YOUR_CHARACTERISTIC_UUID);\n                                    if (characteristic != null) {\n                                    }\n                                }\n                                */\n                                    services = gatt.getServices();\n\n                                    //BluetoothSocket btSocket = new BluetoothSocket();\n\n                                    printGattTable();\n                                } else {\n                                    Log.e(&quot;testBTconnection&quot;, &quot;Service discovery failed with status: &quot; + status + &quot; for MACAddress: &quot; + currentIpAddress);\n                                }\n                            }\n                            \n                            @Override\n                            public void onCharacteristicRead(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\n                                super.onCharacteristicRead(gatt, characteristic, status);\n\n                                if (status == BluetoothGatt.GATT_SUCCESS) {\n\n                                }\n                            }\n\n                        };\n\n                        mBluetoothGatt = device.connectGatt(bt_context, false, gattCallback, BluetoothDevice.TRANSPORT_LE);\n                        //mBluetoothGatt = device.connectGatt(bt_context, true, gattCallback);\n                    }\n                });\n            } catch(Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>and I added in manifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; android:required=&quot;true&quot; /&gt;\n</code></pre>\n<p>With this implementation I got to understand how <code>Bluetooth</code> connection works for example connecting to my Garmin Forerunner where debugging the connection I can see <code>ArrayList</code> / <code>List</code> of my Garmin's <code>services</code> / <code>characteristics</code> ...\nAlways while debugging, I see also a list of <code>UUID</code> s where I suppose each of them is related to its functionality of my Garmin I am debugging in test...</p>\n<p>If I want to communicate to custom device's websever through bluetooth , do I have to mount a common Bluetooth SoC or do I have to choose a certain type of SoC, maybe one to configure a custom UUID for HTTP connection with a <code>BluetoothGattService</code> ?\nAnd if the solution is a custom Bluetooth SoC chip where set a custom <code>UUID</code> , how to send <code>HTTP object request</code> with a <code>BluetoothGattService</code> if it is the way to use?</p>\n"},{"tags":["java","matrix","spiral","arrayindexoutofboundsexception"],"comments":[{"owner":{"account_id":3854593,"reputation":2852,"user_id":3193876,"display_name":"Ronald"},"score":1,"creation_date":1693631791,"post_id":77027038,"comment_id":135789308,"body_markdown":"Well, in your generate function you increase `num` by 4 before checking the size. That works well with squares of even numbers, because those are divisible by 4. Squares of odd numbers aren&#39;t though. Which means that at least one value of `num` is outside of the valid range","body":"Well, in your generate function you increase <code>num</code> by 4 before checking the size. That works well with squares of even numbers, because those are divisible by 4. Squares of odd numbers aren&#39;t though. Which means that at least one value of <code>num</code> is outside of the valid range"},{"owner":{"account_id":29330050,"reputation":76,"user_id":22471702,"display_name":"user22471702"},"score":1,"creation_date":1693635075,"post_id":77027038,"comment_id":135789475,"body_markdown":"Hint: use a debugger to step your code... you will see that `leftCol` is greater than `rightCol` at line 59 (`for(int i=leftCol; i&lt;rightCol; i++)`) || Hint 2: what happens when doing both `leftCol += 1` and `rightCol -= 1` at the same time for example if `leftCol = 2` and `rightCol = 3`  (and next time please **also** add the exception as **text** in the question)","body":"Hint: use a debugger to step your code... you will see that <code>leftCol</code> is greater than <code>rightCol</code> at line 59 (<code>for(int i=leftCol; i&lt;rightCol; i++)</code>) || Hint 2: what happens when doing both <code>leftCol += 1</code> and <code>rightCol -= 1</code> at the same time for example if <code>leftCol = 2</code> and <code>rightCol = 3</code>  (and next time please <b>also</b> add the exception as <b>text</b> in the question)"},{"owner":{"account_id":29330050,"reputation":76,"user_id":22471702,"display_name":"user22471702"},"score":0,"creation_date":1693652546,"post_id":77027038,"comment_id":135790963,"body_markdown":"BTW sooner than later, same will happen with top and bottom, and the code will be looping the outer loop without entering any of the inner loops until, due to an integer overflow, the limits - `leftCol` first - swaps to negative (`-2147483648`)","body":"BTW sooner than later, same will happen with top and bottom, and the code will be looping the outer loop without entering any of the inner loops until, due to an integer overflow, the limits - <code>leftCol</code> first - swaps to negative (<code>-2147483648</code>)"}],"answers":[{"tags":[],"owner":{"account_id":10843443,"reputation":109,"user_id":20882864,"display_name":"Marce Puente"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693636958,"creation_date":1693636958,"answer_id":77027233,"question_id":77027038,"body_markdown":"    void spiral( int side ) {\r\n       int matriz[][] = new int[ side ][ side ];\r\n       int length = side * side;\r\n       int count = 0;\r\n       int top = side - 1;\r\n       int floor = 0;\r\n       int sector = 0;\r\n       int j = 0, k = 0;\r\n       for( int i = 0; i &lt; length; i++ ) { \r\n          matriz[ j ][ k ] = count;\r\n          switch( sector ) {\r\n             case 3: j--;\r\n                if( j == floor ) {\r\n                   sector = 0;\r\n                   top -= 1;\r\n                }\r\n                break;\r\n             case 2: k--;\r\n                if( k == floor ) {\r\n                   floor++;\r\n                   sector++;\r\n                }\r\n                break;\r\n             case 1: j++;\r\n                if( j == top ) {\r\n                   sector++;\r\n                }\r\n                break;\r\n             case 0: k++;\r\n                if( k == top ) {\r\n                   sector++;\r\n                }\r\n                break; \r\n          }\r\n          count++;\r\n       } \r\n    }\r\n\r\nWe divide the operation into four stages:  \r\nA) advance in the columns  \r\nB) advance in the rows  \r\nC) back in the columns  \r\nD) back in rows  \r\nwhen it reaches the corresponding limit, it goes to the next sector, in sector &quot;3&quot; the upper limit is modified, and in &quot;2&quot; the lower limit.","title":"A confusing exception out of bound error in java while solving a spiral 2d matrix question","body":"<pre><code>void spiral( int side ) {\n   int matriz[][] = new int[ side ][ side ];\n   int length = side * side;\n   int count = 0;\n   int top = side - 1;\n   int floor = 0;\n   int sector = 0;\n   int j = 0, k = 0;\n   for( int i = 0; i &lt; length; i++ ) { \n      matriz[ j ][ k ] = count;\n      switch( sector ) {\n         case 3: j--;\n            if( j == floor ) {\n               sector = 0;\n               top -= 1;\n            }\n            break;\n         case 2: k--;\n            if( k == floor ) {\n               floor++;\n               sector++;\n            }\n            break;\n         case 1: j++;\n            if( j == top ) {\n               sector++;\n            }\n            break;\n         case 0: k++;\n            if( k == top ) {\n               sector++;\n            }\n            break; \n      }\n      count++;\n   } \n}\n</code></pre>\n<p>We divide the operation into four stages:<br />\nA) advance in the columns<br />\nB) advance in the rows<br />\nC) back in the columns<br />\nD) back in rows<br />\nwhen it reaches the corresponding limit, it goes to the next sector, in sector &quot;3&quot; the upper limit is modified, and in &quot;2&quot; the lower limit.</p>\n"}],"owner":{"account_id":29349360,"reputation":1,"user_id":22486881,"display_name":"Debashis Baral"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693759332,"creation_date":1693631030,"question_id":77027038,"body_markdown":"[I was solving this question, trying to generate spiral matrix but repeatedly getting error only when the length of the matrix is odd. It is working fine when the length is even](https://i.stack.imgur.com/FfyBD.jpg)\r\n\r\nThis is the code:\r\n\r\n``` \r\npublic class spiral {\r\n    public static void main(String[] args) {\r\n        int n = 5;\r\n        generateSpiralMat(n);\r\n    }\r\n\r\n    static void generateSpiralMat(int n) {\r\n        int[][] mat = new int[n][n] ;\r\n        int topRow =0, rightCol = n-1, bottonRow = n-1, leftCol = 0 ;\r\n        int num = 1 ;\r\n\r\n        while( num &lt; n*n + 1 ) {\r\n            //topRow -&gt; leftCol to rightCol\r\n            for(int i=leftCol; i&lt;rightCol; i++) {\r\n                mat[topRow][i] = num;\r\n                num ++ ;\r\n            }\r\n\r\n            //rightCol -&gt; topRow to bottomRow\r\n            for(int j =topRow; j&lt;bottonRow; j++){\r\n                mat[j][rightCol] = num ;\r\n                num++ ;\r\n            }\r\n\r\n            //bottomRow -&gt; rightCol to leftCol\r\n            for(int i=rightCol; i&gt; leftCol; i--) {\r\n                mat[bottonRow][i] = num;\r\n                num++ ;\r\n            }\r\n\r\n            //leftCol -&gt; bottomRow to topRow\r\n            for(int j=bottonRow; j&gt;topRow; j--) {\r\n                mat[j][leftCol] = num ;\r\n                num ++ ;\r\n            }\r\n\r\n            topRow += 1 ;\r\n            bottonRow -= 1 ;\r\n            leftCol += 1 ;\r\n            rightCol -= 1 ;\r\n        }\r\n\r\n        printMat(mat);\r\n    }\r\n\r\n    static void printMat(int[][] mat) {\r\n        for(int i=0; i&lt; mat.length; i++) {\r\n            for(int j=0; j&lt; mat[i].length; j++) {\r\n                System.out.print( mat[i][j] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n[Even length matrix working well but code is showing error in runtime only for odd length matrix](https://i.stack.imgur.com/0aCXv.png)\r\n\r\nI was expecting that the code would generate a spiral matrix as per the given question.","title":"A confusing exception out of bound error in java while solving a spiral 2d matrix question","body":"<p><a href=\"https://i.stack.imgur.com/FfyBD.jpg\" rel=\"nofollow noreferrer\">I was solving this question, trying to generate spiral matrix but repeatedly getting error only when the length of the matrix is odd. It is working fine when the length is even</a></p>\n<p>This is the code:</p>\n<pre><code>public class spiral {\n    public static void main(String[] args) {\n        int n = 5;\n        generateSpiralMat(n);\n    }\n\n    static void generateSpiralMat(int n) {\n        int[][] mat = new int[n][n] ;\n        int topRow =0, rightCol = n-1, bottonRow = n-1, leftCol = 0 ;\n        int num = 1 ;\n\n        while( num &lt; n*n + 1 ) {\n            //topRow -&gt; leftCol to rightCol\n            for(int i=leftCol; i&lt;rightCol; i++) {\n                mat[topRow][i] = num;\n                num ++ ;\n            }\n\n            //rightCol -&gt; topRow to bottomRow\n            for(int j =topRow; j&lt;bottonRow; j++){\n                mat[j][rightCol] = num ;\n                num++ ;\n            }\n\n            //bottomRow -&gt; rightCol to leftCol\n            for(int i=rightCol; i&gt; leftCol; i--) {\n                mat[bottonRow][i] = num;\n                num++ ;\n            }\n\n            //leftCol -&gt; bottomRow to topRow\n            for(int j=bottonRow; j&gt;topRow; j--) {\n                mat[j][leftCol] = num ;\n                num ++ ;\n            }\n\n            topRow += 1 ;\n            bottonRow -= 1 ;\n            leftCol += 1 ;\n            rightCol -= 1 ;\n        }\n\n        printMat(mat);\n    }\n\n    static void printMat(int[][] mat) {\n        for(int i=0; i&lt; mat.length; i++) {\n            for(int j=0; j&lt; mat[i].length; j++) {\n                System.out.print( mat[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0aCXv.png\" rel=\"nofollow noreferrer\">Even length matrix working well but code is showing error in runtime only for odd length matrix</a></p>\n<p>I was expecting that the code would generate a spiral matrix as per the given question.</p>\n"},{"tags":["java","oracle","hibernate","jpa","concurrency"],"comments":[{"owner":{"account_id":9365949,"reputation":2414,"user_id":6950859,"accept_rate":92,"display_name":"cela"},"score":0,"creation_date":1693759643,"post_id":77033246,"comment_id":135799893,"body_markdown":"`@DynamicUpdate` wouldn&#39;t resolve the race condition.","body":"<code>@DynamicUpdate</code> wouldn&#39;t resolve the race condition."},{"owner":{"account_id":8752180,"reputation":3,"user_id":6544985,"display_name":"grf2018"},"score":0,"creation_date":1693760922,"post_id":77033246,"comment_id":135800069,"body_markdown":"Yep, i know but if update is only to the related columns maybe resolve my problem or no?","body":"Yep, i know but if update is only to the related columns maybe resolve my problem or no?"}],"owner":{"account_id":8752180,"reputation":3,"user_id":6544985,"display_name":"grf2018"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693758852,"creation_date":1693758852,"question_id":77033246,"body_markdown":"We have a table say &#39;A&#39; in our system, this system is replicated in several servers to high availability, this happends on the same time:\r\n\r\n1) One transaction (t1) is processed on Server 1 which loads entity &quot;A&quot; and update it with a new value to column &quot;xxx&quot;.\r\n2) Previuous of update of point 1, another transaction (t2) is processed on Server 2 which loads the same entity &quot;A&quot; to update column &quot;yyy&quot;, then t1 is commited, and then t2 is commited (but this update it does with the old value of &quot;xxx&quot; (This generates inconsistencies in the database)\r\n\r\nI understand that this could be solved with the annotation @DynamicUpdate. \r\nI would like to know your suggestion about it.\r\nThan you everyone!!","title":"Hibernate @DynamicUpdate - Concurrency","body":"<p>We have a table say 'A' in our system, this system is replicated in several servers to high availability, this happends on the same time:</p>\n<ol>\n<li>One transaction (t1) is processed on Server 1 which loads entity &quot;A&quot; and update it with a new value to column &quot;xxx&quot;.</li>\n<li>Previuous of update of point 1, another transaction (t2) is processed on Server 2 which loads the same entity &quot;A&quot; to update column &quot;yyy&quot;, then t1 is commited, and then t2 is commited (but this update it does with the old value of &quot;xxx&quot; (This generates inconsistencies in the database)</li>\n</ol>\n<p>I understand that this could be solved with the annotation @DynamicUpdate.\nI would like to know your suggestion about it.\nThan you everyone!!</p>\n"},{"tags":["java","spring-boot","firebase","spring-security","jwt"],"owner":{"account_id":23929643,"reputation":31,"user_id":17924329,"display_name":"Anant Singh Raghuvanshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693757996,"creation_date":1693757996,"question_id":77033197,"body_markdown":"I have been working on my open-source project and in its backend, I am implementing JWT authentication and alongside that I am using Firebase for database. \r\n\r\nBut I am getting these errors suddenly after implementing JWT authentication:\r\n\r\n```\r\norg.springframework.context.ApplicationContextException: Unable to start web server\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:602) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\r\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:489) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\t... 8 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;jwtAuthenticationFilter&#39; defined in file [C:\\Users\\anant.s.raghuvanshi\\Documents\\Projects\\CodeCraft\\hub-backend\\target\\classes\\com\\CodeCraft\\hubbackend\\configuration\\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name &#39;applicationConfig&#39; defined in file [C:\\Users\\anant.s.raghuvanshi\\Documents\\Projects\\CodeCraft\\hub-backend\\target\\classes\\com\\CodeCraft\\hubbackend\\configuration\\ApplicationConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;userService&#39; defined in file [C:\\Users\\anant.s.raghuvanshi\\Documents\\Projects\\CodeCraft\\hub-backend\\target\\classes\\com\\CodeCraft\\hubbackend\\service\\UserService.class]: Failed to instantiate [com.CodeCraft.hubbackend.service.UserService]: Constructor threw exception\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:86) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:261) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:235) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4886) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:918) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:485) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\t... 13 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;applicationConfig&#39; defined in file [C:\\Users\\anant.s.raghuvanshi\\Documents\\Projects\\CodeCraft\\hub-backend\\target\\classes\\com\\CodeCraft\\hubbackend\\configuration\\ApplicationConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;userService&#39; defined in file [C:\\Users\\anant.s.raghuvanshi\\Documents\\Projects\\CodeCraft\\hub-backend\\target\\classes\\com\\CodeCraft\\hubbackend\\service\\UserService.class]: Failed to instantiate [com.CodeCraft.hubbackend.service.UserService]: Constructor threw exception\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:417) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 54 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userService&#39; defined in file [C:\\Users\\anant.s.raghuvanshi\\Documents\\Projects\\CodeCraft\\hub-backend\\target\\classes\\com\\CodeCraft\\hubbackend\\service\\UserService.class]: Failed to instantiate [com.CodeCraft.hubbackend.service.UserService]: Constructor threw exception\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1314) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1199) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 77 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.CodeCraft.hubbackend.service.UserService]: Constructor threw exception\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1308) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 89 common frames omitted\r\nCaused by: java.lang.IllegalStateException: FirebaseApp with name [DEFAULT] doesn&#39;t exist. \r\n\tat com.google.firebase.FirebaseApp.getInstance(FirebaseApp.java:161) ~[firebase-admin-9.2.0.jar:na]\r\n\tat com.google.firebase.FirebaseApp.getInstance(FirebaseApp.java:132) ~[firebase-admin-9.2.0.jar:na]\r\n\tat com.google.firebase.cloud.FirestoreClient.getFirestore(FirestoreClient.java:68) ~[firebase-admin-9.2.0.jar:na]\r\n\tat com.CodeCraft.hubbackend.service.UserService.&lt;init&gt;(UserService.java:15) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:198) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 91 common frames omitted\r\n```\r\nBefore implementing that, the backend was perfectly getting started and the basic functionalities were working fine. \r\n\r\nHere is the Github repo link:- *https://github.com/anantraghuvanshi/CodeCraft-Hub*\r\n\r\nAlso, here is the User and UserService classes:-\r\n**User.java**\r\n```\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class User implements UserDetails {\r\n\r\n    private String id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String email;\r\n    private String password;\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return Collections.emptyList();\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return email;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return true;\r\n    }\r\n}\r\n\r\n```\r\n**UserService.java:**\r\n```\r\n@Service\r\npublic class UserService {\r\n\r\n    private final Firestore dbFirestore = FirestoreClient.getFirestore();\r\n\r\n    public Optional&lt;User&gt; findByUsername(String username) throws ExecutionException, InterruptedException {\r\n        DocumentReference docRef = dbFirestore.collection(&quot;users&quot;).document(username);\r\n        ApiFuture&lt;DocumentSnapshot&gt; future = docRef.get();\r\n        DocumentSnapshot document = future.get();\r\n\r\n        if (document.exists()) {\r\n            return Optional.ofNullable(document.toObject(User.class));\r\n        } else {\r\n            return Optional.empty();\r\n        }\r\n    }\r\n    public boolean existsByUsername(String username) throws ExecutionException, InterruptedException {\r\n        DocumentReference docRef = dbFirestore.collection(&quot;users&quot;).document(username);\r\n        ApiFuture&lt;DocumentSnapshot&gt; future = docRef.get();\r\n        return future.get().exists();\r\n    }\r\n    public boolean existsByEmail(String email) throws ExecutionException, InterruptedException {\r\n        CollectionReference users = dbFirestore.collection(&quot;users&quot;);\r\n        Query query = users.whereEqualTo(&quot;email&quot;, email);\r\n        ApiFuture&lt;QuerySnapshot&gt; querySnapshot = query.get();\r\n\r\n        return !querySnapshot.get().getDocuments().isEmpty();\r\n    }\r\n    public User findByUsernameRepo(String username) throws ExecutionException, InterruptedException {\r\n        DocumentReference docRef = dbFirestore.collection(&quot;users&quot;).document(username);\r\n        ApiFuture&lt;DocumentSnapshot&gt; future = docRef.get();\r\n        DocumentSnapshot document = future.get();\r\n\r\n        if (document.exists()) {\r\n            return document.toObject(User.class);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n    public void save(User user){\r\n        CollectionReference userRef = dbFirestore.collection(&quot;users&quot;);\r\n        userRef.add(user);\r\n    }\r\n}\r\n\r\n```\r\nNow here are the files where I have implemented JWT authentication:\r\n**ApplicationConfig.java:**\r\n\r\n```\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class ApplicationConfig {\r\n\r\n    @Autowired\r\n    private final UserService userService;\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService(){\r\n        return username -&gt; {\r\n            try {\r\n                return userService.findByUsernameRepo(username);\r\n            } catch (ExecutionException | InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider(){\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(userDetailsService());\r\n        authProvider.setPasswordEncoder(passWordEncoder());\r\n        return authProvider;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {\r\n        return config.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passWordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n\r\n```\r\n**JwtAuthenticationFilter.java:**\r\n\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n    private final JwtService jwtService;\r\n    private final UserDetailsService userDetailsService;\r\n    @Override\r\n    protected void doFilterInternal(@NonNull HttpServletRequest request,\r\n                                    @NonNull HttpServletResponse response,\r\n                                    @NonNull FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n        final String jwt;\r\n        final String userEmail;\r\n        if(authHeader == null || authHeader.startsWith(&quot;Bearer &quot;)){\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n        jwt = authHeader.substring(7);\r\n        userEmail = jwtService.extractUsername(jwt);\r\n        if(userEmail != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\r\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\r\n            if(jwtService.isTokenValid(jwt, userDetails)){\r\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\r\n                        userDetails,\r\n                        null,\r\n                        userDetails.getAuthorities()\r\n                );\r\n                authToken.setDetails(\r\n                        new WebAuthenticationDetailsSource()\r\n                                .buildDetails(request)\r\n                );\r\n                SecurityContextHolder.getContext().setAuthentication(authToken);\r\n            }\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n\r\n```\r\n**JwtService.java:**\r\n\r\n```\r\n@Service\r\npublic class JwtService {\r\n\r\n    private static final String SECRET_KEY = &quot;some_string&quot;;\r\n    public String extractUsername(String token) {\r\n        return extractClaim(token, Claims::getSubject);\r\n    }\r\n\r\n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver){\r\n        final Claims claims = extractAllClaims(token);\r\n        return claimsResolver.apply(claims);\r\n    }\r\n\r\n    public String generateToken(UserDetails userDetails){\r\n        return generateToken(new HashMap&lt;&gt;(), userDetails);\r\n    }\r\n\r\n    public String generateToken(\r\n            Map&lt;String, Object&gt; extraClaims,\r\n            UserDetails userDetails\r\n    ){\r\n        return Jwts.builder()\r\n                .setClaims(extraClaims)\r\n                .setSubject(userDetails.getUsername())\r\n                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .setExpiration(new Date(System.currentTimeMillis()+ 1000 * 60 * 24))\r\n                .signWith(getSignInKey(), SignatureAlgorithm.HS256)\r\n                .compact();\r\n    }\r\n\r\n    public boolean isTokenValid(String token, UserDetails userDetails){\r\n        final String userName =  extractUsername(token);\r\n        return (userName.equals(userDetails.getUsername())) &amp;&amp; !isTokenExpired(token);\r\n    }\r\n\r\n    private boolean isTokenExpired(String token) {\r\n        return extractExpiration(token).before(new Date());\r\n    }\r\n\r\n    private Date extractExpiration(String token) {\r\n        return extractClaim(token, Claims::getExpiration);\r\n    }\r\n\r\n    private Claims extractAllClaims(String token){\r\n        return Jwts.parserBuilder()\r\n                .setSigningKey(getSignInKey())\r\n                .build()\r\n                .parseClaimsJws(token)\r\n                .getBody();\r\n    }\r\n\r\n    private Key getSignInKey() {\r\n        byte[] keyBytes = Decoders.BASE64.decode(SECRET_KEY);\r\n        return Keys.hmacShaKeyFor(keyBytes);\r\n    }\r\n}\r\n\r\n```\r\n**SecurityConfig.java:**\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig {\r\n\r\n    private final JwtAuthenticationFilter jwtAuthFilter;\r\n    private final AuthenticationProvider authenticationProvider;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\r\n        http.csrf(AbstractHttpConfigurer::disable)\r\n                .authorizeHttpRequests().\r\n                requestMatchers(&quot;/api/v1/auth/**&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\r\n        ;\r\n        return http.build();\r\n    }\r\n\r\n\r\n}\r\n```\r\nNow here is the **FirebaseConfig.java** where I am initializing firebase:\r\n\r\n```\r\n@Configuration\r\npublic class FirebaseConfig {\r\n\r\n    @PostConstruct\r\n    public void initialize() throws IOException {\r\n        FileInputStream serviceAccount =\r\n                new FileInputStream(&quot;./serviceAccountKey.json&quot;);\r\n\r\n        FirebaseOptions options = new FirebaseOptions.Builder()\r\n                .setCredentials(GoogleCredentials.fromStream(serviceAccount))\r\n                .build();\r\n\r\n        FirebaseApp.initializeApp(options);\r\n\r\n    }\r\n}\r\n```\r\n**pom.xml**:\r\n\r\n```\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.firebase/firebase-admin --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;9.2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-impl --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt; &lt;!-- or jjwt-gson if Gson is preferred --&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\nHere&#39;s all what I have implemented, and I have tried doing certain things like I have checked whether Firebase is getting properly initialized or not but that didnt help.\r\nI am expecting that the backend should get started properly and other functionalities should work fine. ","title":"FirebaseApp with name [DEFAULT] doesn&#39;t exist in Spring boot backend","body":"<p>I have been working on my open-source project and in its backend, I am implementing JWT authentication and alongside that I am using Firebase for database.</p>\n<p>But I am getting these errors suddenly after implementing JWT authentication:</p>\n<pre><code>org.springframework.context.ApplicationContextException: Unable to start web server\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:602) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:489) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.1.2.jar:3.1.2]\n    ... 8 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\\Users\\anant.s.raghuvanshi\\Documents\\Projects\\CodeCraft\\hub-backend\\target\\classes\\com\\CodeCraft\\hubbackend\\configuration\\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'applicationConfig' defined in file [C:\\Users\\anant.s.raghuvanshi\\Documents\\Projects\\CodeCraft\\hub-backend\\target\\classes\\com\\CodeCraft\\hubbackend\\configuration\\ApplicationConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userService' defined in file [C:\\Users\\anant.s.raghuvanshi\\Documents\\Projects\\CodeCraft\\hub-backend\\target\\classes\\com\\CodeCraft\\hubbackend\\service\\UserService.class]: Failed to instantiate [com.CodeCraft.hubbackend.service.UserService]: Constructor threw exception\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:86) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:261) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:235) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4886) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:918) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:485) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.1.2.jar:3.1.2]\n    ... 13 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'applicationConfig' defined in file [C:\\Users\\anant.s.raghuvanshi\\Documents\\Projects\\CodeCraft\\hub-backend\\target\\classes\\com\\CodeCraft\\hubbackend\\configuration\\ApplicationConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userService' defined in file [C:\\Users\\anant.s.raghuvanshi\\Documents\\Projects\\CodeCraft\\hub-backend\\target\\classes\\com\\CodeCraft\\hubbackend\\service\\UserService.class]: Failed to instantiate [com.CodeCraft.hubbackend.service.UserService]: Constructor threw exception\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:417) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 54 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userService' defined in file [C:\\Users\\anant.s.raghuvanshi\\Documents\\Projects\\CodeCraft\\hub-backend\\target\\classes\\com\\CodeCraft\\hubbackend\\service\\UserService.class]: Failed to instantiate [com.CodeCraft.hubbackend.service.UserService]: Constructor threw exception\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1314) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1199) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 77 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.CodeCraft.hubbackend.service.UserService]: Constructor threw exception\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1308) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 89 common frames omitted\nCaused by: java.lang.IllegalStateException: FirebaseApp with name [DEFAULT] doesn't exist. \n    at com.google.firebase.FirebaseApp.getInstance(FirebaseApp.java:161) ~[firebase-admin-9.2.0.jar:na]\n    at com.google.firebase.FirebaseApp.getInstance(FirebaseApp.java:132) ~[firebase-admin-9.2.0.jar:na]\n    at com.google.firebase.cloud.FirestoreClient.getFirestore(FirestoreClient.java:68) ~[firebase-admin-9.2.0.jar:na]\n    at com.CodeCraft.hubbackend.service.UserService.&lt;init&gt;(UserService.java:15) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:198) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 91 common frames omitted\n</code></pre>\n<p>Before implementing that, the backend was perfectly getting started and the basic functionalities were working fine.</p>\n<p>Here is the Github repo link:- <em><a href=\"https://github.com/anantraghuvanshi/CodeCraft-Hub\" rel=\"nofollow noreferrer\">https://github.com/anantraghuvanshi/CodeCraft-Hub</a></em></p>\n<p>Also, here is the User and UserService classes:-\n<strong>User.java</strong></p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User implements UserDetails {\n\n    private String id;\n    private String firstName;\n    private String lastName;\n    private String email;\n    private String password;\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return Collections.emptyList();\n    }\n\n    @Override\n    public String getPassword() {\n        return password;\n    }\n\n    @Override\n    public String getUsername() {\n        return email;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n}\n\n</code></pre>\n<p><strong>UserService.java:</strong></p>\n<pre><code>@Service\npublic class UserService {\n\n    private final Firestore dbFirestore = FirestoreClient.getFirestore();\n\n    public Optional&lt;User&gt; findByUsername(String username) throws ExecutionException, InterruptedException {\n        DocumentReference docRef = dbFirestore.collection(&quot;users&quot;).document(username);\n        ApiFuture&lt;DocumentSnapshot&gt; future = docRef.get();\n        DocumentSnapshot document = future.get();\n\n        if (document.exists()) {\n            return Optional.ofNullable(document.toObject(User.class));\n        } else {\n            return Optional.empty();\n        }\n    }\n    public boolean existsByUsername(String username) throws ExecutionException, InterruptedException {\n        DocumentReference docRef = dbFirestore.collection(&quot;users&quot;).document(username);\n        ApiFuture&lt;DocumentSnapshot&gt; future = docRef.get();\n        return future.get().exists();\n    }\n    public boolean existsByEmail(String email) throws ExecutionException, InterruptedException {\n        CollectionReference users = dbFirestore.collection(&quot;users&quot;);\n        Query query = users.whereEqualTo(&quot;email&quot;, email);\n        ApiFuture&lt;QuerySnapshot&gt; querySnapshot = query.get();\n\n        return !querySnapshot.get().getDocuments().isEmpty();\n    }\n    public User findByUsernameRepo(String username) throws ExecutionException, InterruptedException {\n        DocumentReference docRef = dbFirestore.collection(&quot;users&quot;).document(username);\n        ApiFuture&lt;DocumentSnapshot&gt; future = docRef.get();\n        DocumentSnapshot document = future.get();\n\n        if (document.exists()) {\n            return document.toObject(User.class);\n        } else {\n            return null;\n        }\n    }\n    public void save(User user){\n        CollectionReference userRef = dbFirestore.collection(&quot;users&quot;);\n        userRef.add(user);\n    }\n}\n\n</code></pre>\n<p>Now here are the files where I have implemented JWT authentication:\n<strong>ApplicationConfig.java:</strong></p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class ApplicationConfig {\n\n    @Autowired\n    private final UserService userService;\n\n    @Bean\n    public UserDetailsService userDetailsService(){\n        return username -&gt; {\n            try {\n                return userService.findByUsernameRepo(username);\n            } catch (ExecutionException | InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        };\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider(){\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userDetailsService());\n        authProvider.setPasswordEncoder(passWordEncoder());\n        return authProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {\n        return config.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passWordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n\n</code></pre>\n<p><strong>JwtAuthenticationFilter.java:</strong></p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n    private final JwtService jwtService;\n    private final UserDetailsService userDetailsService;\n    @Override\n    protected void doFilterInternal(@NonNull HttpServletRequest request,\n                                    @NonNull HttpServletResponse response,\n                                    @NonNull FilterChain filterChain)\n            throws ServletException, IOException {\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n        final String jwt;\n        final String userEmail;\n        if(authHeader == null || authHeader.startsWith(&quot;Bearer &quot;)){\n            filterChain.doFilter(request, response);\n            return;\n        }\n        jwt = authHeader.substring(7);\n        userEmail = jwtService.extractUsername(jwt);\n        if(userEmail != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\n            if(jwtService.isTokenValid(jwt, userDetails)){\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\n                        userDetails,\n                        null,\n                        userDetails.getAuthorities()\n                );\n                authToken.setDetails(\n                        new WebAuthenticationDetailsSource()\n                                .buildDetails(request)\n                );\n                SecurityContextHolder.getContext().setAuthentication(authToken);\n            }\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n\n</code></pre>\n<p><strong>JwtService.java:</strong></p>\n<pre><code>@Service\npublic class JwtService {\n\n    private static final String SECRET_KEY = &quot;some_string&quot;;\n    public String extractUsername(String token) {\n        return extractClaim(token, Claims::getSubject);\n    }\n\n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver){\n        final Claims claims = extractAllClaims(token);\n        return claimsResolver.apply(claims);\n    }\n\n    public String generateToken(UserDetails userDetails){\n        return generateToken(new HashMap&lt;&gt;(), userDetails);\n    }\n\n    public String generateToken(\n            Map&lt;String, Object&gt; extraClaims,\n            UserDetails userDetails\n    ){\n        return Jwts.builder()\n                .setClaims(extraClaims)\n                .setSubject(userDetails.getUsername())\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis()+ 1000 * 60 * 24))\n                .signWith(getSignInKey(), SignatureAlgorithm.HS256)\n                .compact();\n    }\n\n    public boolean isTokenValid(String token, UserDetails userDetails){\n        final String userName =  extractUsername(token);\n        return (userName.equals(userDetails.getUsername())) &amp;&amp; !isTokenExpired(token);\n    }\n\n    private boolean isTokenExpired(String token) {\n        return extractExpiration(token).before(new Date());\n    }\n\n    private Date extractExpiration(String token) {\n        return extractClaim(token, Claims::getExpiration);\n    }\n\n    private Claims extractAllClaims(String token){\n        return Jwts.parserBuilder()\n                .setSigningKey(getSignInKey())\n                .build()\n                .parseClaimsJws(token)\n                .getBody();\n    }\n\n    private Key getSignInKey() {\n        byte[] keyBytes = Decoders.BASE64.decode(SECRET_KEY);\n        return Keys.hmacShaKeyFor(keyBytes);\n    }\n}\n\n</code></pre>\n<p><strong>SecurityConfig.java:</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n    private final JwtAuthenticationFilter jwtAuthFilter;\n    private final AuthenticationProvider authenticationProvider;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n        http.csrf(AbstractHttpConfigurer::disable)\n                .authorizeHttpRequests().\n                requestMatchers(&quot;/api/v1/auth/**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n        ;\n        return http.build();\n    }\n\n\n}\n</code></pre>\n<p>Now here is the <strong>FirebaseConfig.java</strong> where I am initializing firebase:</p>\n<pre><code>@Configuration\npublic class FirebaseConfig {\n\n    @PostConstruct\n    public void initialize() throws IOException {\n        FileInputStream serviceAccount =\n                new FileInputStream(&quot;./serviceAccountKey.json&quot;);\n\n        FirebaseOptions options = new FirebaseOptions.Builder()\n                .setCredentials(GoogleCredentials.fromStream(serviceAccount))\n                .build();\n\n        FirebaseApp.initializeApp(options);\n\n    }\n}\n</code></pre>\n<p><strong>pom.xml</strong>:</p>\n<pre><code>\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.firebase/firebase-admin --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n            &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n            &lt;version&gt;9.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n            &lt;version&gt;6.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;6.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;6.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-impl --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt; &lt;!-- or jjwt-gson if Gson is preferred --&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Here's all what I have implemented, and I have tried doing certain things like I have checked whether Firebase is getting properly initialized or not but that didnt help.\nI am expecting that the backend should get started properly and other functionalities should work fine.</p>\n"},{"tags":["java","spring-boot","frontend"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1693678842,"post_id":77028951,"comment_id":135793517,"body_markdown":"[*Vaadin Flow*](https://en.m.wikipedia.org/wiki/Vaadin#Vaadin_Flow_(Java_API))","body":"<a href=\"https://en.m.wikipedia.org/wiki/Vaadin#Vaadin_Flow_(Java_API)\" rel=\"nofollow noreferrer\"><i>Vaadin Flow</i></a>"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693757856,"post_id":77029377,"comment_id":135799662,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77029377/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26992601,"reputation":67,"user_id":20555252,"display_name":"Malinsha Vithanage"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693676589,"creation_date":1693676589,"answer_id":77029377,"question_id":77028951,"body_markdown":"Use RESTful APIs. for that,\r\n\r\n 1. Create a RESTful API in your Spring Boot application.\r\n 2. Create a frontend that can consume the RESTful API. \r\n\r\nTo create a RESTful API in your Spring Boot application, you can use the Spring MVC framework. ","title":"How to connect spring boot backend with frontend?","body":"<p>Use RESTful APIs. for that,</p>\n<ol>\n<li>Create a RESTful API in your Spring Boot application.</li>\n<li>Create a frontend that can consume the RESTful API.</li>\n</ol>\n<p>To create a RESTful API in your Spring Boot application, you can use the Spring MVC framework.</p>\n"},{"tags":[],"owner":{"account_id":18184107,"reputation":807,"user_id":13231239,"display_name":"Deotyma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693757810,"creation_date":1693757810,"answer_id":77033190,"question_id":77028951,"body_markdown":"The simplest way is to add annotation @CrossOrigin in your controller. It is enough for very little application but it is better to create special configuration for this.\r\n\r\nYou create a package configuration on the same level src/main in java/(your project name). In this package, you create a class WebConfig:\r\n\r\n```\r\npackage yourProject.configuration;\r\n\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\r\nimport org.springframework.web.servlet.config.annotation.PathMatchConfigurer;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\t\r\n\r\n\t@Value(&quot;${project.cors.allowed-origins}&quot;)\r\n\tprivate String[] allowedOrigins;\r\n\r\n\t@Value(&quot;${project.cors.allowed-methods}&quot;)\r\n\tprivate String[] allowedMethods;\r\n\t\r\n\t@Override\r\n\tpublic void configurePathMatch(PathMatchConfigurer configurer) {\r\n\t\tconfigurer.setUseTrailingSlashMatch(false);\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void addCorsMappings(CorsRegistry registry) {\r\n\t\tregistry.addMapping(&quot;/**&quot;).allowedOrigins(allowedOrigins).allowedMethods(allowedMethods);\r\n\t}\r\n```\r\n\r\nAnd in application.properties you add origin of your front (in my case it is vue application)  and methods:\r\n\r\n```\r\n# Cors properties:\r\n\r\nproject.cors.allowed-origins=http://localhost:5173\r\nproject.cors.allowed-methods=POST,GET,PUT,PATCH,DELETE\r\n```\r\n\r\n","title":"How to connect spring boot backend with frontend?","body":"<p>The simplest way is to add annotation @CrossOrigin in your controller. It is enough for very little application but it is better to create special configuration for this.</p>\n<p>You create a package configuration on the same level src/main in java/(your project name). In this package, you create a class WebConfig:</p>\n<pre><code>package yourProject.configuration;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\nimport org.springframework.web.servlet.config.annotation.PathMatchConfigurer;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n    \n\n    @Value(&quot;${project.cors.allowed-origins}&quot;)\n    private String[] allowedOrigins;\n\n    @Value(&quot;${project.cors.allowed-methods}&quot;)\n    private String[] allowedMethods;\n    \n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n        configurer.setUseTrailingSlashMatch(false);\n\n    }\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;).allowedOrigins(allowedOrigins).allowedMethods(allowedMethods);\n    }\n</code></pre>\n<p>And in application.properties you add origin of your front (in my case it is vue application)  and methods:</p>\n<pre><code># Cors properties:\n\nproject.cors.allowed-origins=http://localhost:5173\nproject.cors.allowed-methods=POST,GET,PUT,PATCH,DELETE\n</code></pre>\n"}],"owner":{"account_id":29152163,"reputation":31,"user_id":22332775,"display_name":"dmitry-chn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":77033190,"answer_count":2,"score":1,"last_activity_date":1693757810,"creation_date":1693669704,"question_id":77028951,"body_markdown":"I can develop a simple REST apllication (CRUD operations, for example) on Spring Boot, but how to connect it with HTML pages. I have already used Freemarker + Bootstrap. But the options are limited, when it concerns the design part.\r\nWhat is the next step? What technologies or platform should I use? \r\n\r\n","title":"How to connect spring boot backend with frontend?","body":"<p>I can develop a simple REST apllication (CRUD operations, for example) on Spring Boot, but how to connect it with HTML pages. I have already used Freemarker + Bootstrap. But the options are limited, when it concerns the design part.\nWhat is the next step? What technologies or platform should I use?</p>\n"},{"tags":["java","c#","android","maui","android-launcher"],"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1693760518,"post_id":77033170,"comment_id":135800026,"body_markdown":"You translated it wrong AFAIK (but never done app with maui) you should do this via attributes on Activity... Then they are translated to manifest file","body":"You translated it wrong AFAIK (but never done app with maui) you should do this via attributes on Activity... Then they are translated to manifest file"},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1693760920,"post_id":77033170,"comment_id":135800068,"body_markdown":"There is a topic in official documentation called &quot;Android app manifest&quot; feel free to read it","body":"There is a topic in official documentation called &quot;Android app manifest&quot; feel free to read it"},{"owner":{"account_id":19029455,"reputation":51,"user_id":13891872,"display_name":"Aar&#243;n Garc&#237;a Egea"},"score":0,"creation_date":1693774803,"post_id":77033170,"comment_id":135801650,"body_markdown":"@Selvin Thank you for mentioning it, I have progressed a little bit. It now brings up the &quot;Select a Home app&quot; dialog, allowing me to select between the default launcher and my app. The problem now is that when I set my app as the default launcher, it throws a NullReferenceException. The following URL is a picture of the Call Stack and exception window: https://i.ibb.co/MMR0dTy/image-2023-09-03-225941968.png.","body":"@Selvin Thank you for mentioning it, I have progressed a little bit. It now brings up the &quot;Select a Home app&quot; dialog, allowing me to select between the default launcher and my app. The problem now is that when I set my app as the default launcher, it throws a NullReferenceException. The following URL is a picture of the Call Stack and exception window: <a href=\"https://i.ibb.co/MMR0dTy/image-2023-09-03-225941968.png\" rel=\"nofollow noreferrer\">i.ibb.co/MMR0dTy/image-2023-09-03-225941968.png</a>."},{"owner":{"account_id":19029455,"reputation":51,"user_id":13891872,"display_name":"Aar&#243;n Garc&#237;a Egea"},"score":0,"creation_date":1693775045,"post_id":77033170,"comment_id":135801667,"body_markdown":"[Activity(MainLauncher = false)]\n[IntentFilter(new[] {Intent.ActionMain}, Categories = new[] {Intent.CategoryLauncher, Intent.CategoryHome, Intent.CategoryDefault})] This is my MainActivity.cs @Selvin","body":"[Activity(MainLauncher = false)] [IntentFilter(new[] {Intent.ActionMain}, Categories = new[] {Intent.CategoryLauncher, Intent.CategoryHome, Intent.CategoryDefault})] This is my MainActivity.cs @Selvin"},{"owner":{"account_id":10096950,"reputation":13898,"user_id":7462031,"accept_rate":50,"display_name":"FreakyAli"},"score":0,"creation_date":1693825769,"post_id":77033170,"comment_id":135806944,"body_markdown":"Would you mind adding everything you&#39;ve tried and the issues you are facing into the question, may be i can help you with this","body":"Would you mind adding everything you&#39;ve tried and the issues you are facing into the question, may be i can help you with this"},{"owner":{"account_id":19029455,"reputation":51,"user_id":13891872,"display_name":"Aar&#243;n Garc&#237;a Egea"},"score":1,"creation_date":1693917313,"post_id":77033170,"comment_id":135820096,"body_markdown":"@FreakyAli It was no use, the proper way to do it is how I am doing it but I have now moved to making it on different activities, thanks trying though","body":"@FreakyAli It was no use, the proper way to do it is how I am doing it but I have now moved to making it on different activities, thanks trying though"}],"owner":{"account_id":19029455,"reputation":51,"user_id":13891872,"display_name":"Aar&#243;n Garc&#237;a Egea"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693757544,"creation_date":1693757544,"question_id":77033170,"body_markdown":"I am writing an application for Android 7.1 using .NET MAUI (.NET 6.0) that behaves something like &quot;Nova Launcher&quot; and similar apps. I am stuck on figuring out how to make the app &quot;override&quot; the default Android launcher (when the home button is pressed my app will show instead of the Android launcher app).\r\n\r\nThe first thing I tried was searching on Google how to set my Android app to behave like a launcher and [I found this old blog post](https://arnab.ch/blog/2013/08/how-to-write-custom-launcher-app-in-android/) which I think is correct because I have seen &quot;android.intent.category.HOME&quot; multiple times already while searching up why my code didn&#39;t work and other questions on Stack Overflow (Not limiting myself on .NET MAUI but searching for Java questions aswell), but the AndroidManifest.xml file doesn&#39;t work with .NET MAUI because the way the main activity works. Instead of it appearing on the AndroidManifest.xml (Platforms/Android) it is represented on MainActivity.cs (also Platforms/Android). I have tried to override the OnCreate() method and adding\r\n\r\n```\r\npublic override void OnCreate(Bundle savedInstanceState, PersistableBundle persistentState) {\r\n    base.OnCreate(savedInstanceState, persistentState);\r\n    PackageManager.SetComponentEnabledSetting(new ComponentName(this, Class), ComponentEnabledState.Enabled, ComponentEnableOption.DontKillApp); // with and without this line\r\n    Intent intent = new Intent(Intent.ActionMain);\r\n    intent.AddCategory(Intent.CategoryHome);\r\n    intent.AddCategory(Intent.CategoryDefault);\r\n    StartActivity(intent);\r\n}\r\n```\r\nto it but it simply didn&#39;t work. Nothing important on device log (I am using an emulator).\r\nThe last thing I tried before giving up and asking ChatGPT was searching for Java questions and trying to translate the code to C#, but nothing worked. The only thing slightly different I tried was \r\nadding a &quot;FakeLauncherActivity&quot; activity that is disabled at default to the AndroidManifest.xml and then reactivating it using [this answer&#39;s code](https://stackoverflow.com/a/30617251/13891872) (that I translated to C#). ChatGPT only caused my app to crash and do nothing\r\n\r\n","title":"Is it possible to write a .NET MAUI application for Android using Intent.CategoryHome?","body":"<p>I am writing an application for Android 7.1 using .NET MAUI (.NET 6.0) that behaves something like &quot;Nova Launcher&quot; and similar apps. I am stuck on figuring out how to make the app &quot;override&quot; the default Android launcher (when the home button is pressed my app will show instead of the Android launcher app).</p>\n<p>The first thing I tried was searching on Google how to set my Android app to behave like a launcher and <a href=\"https://arnab.ch/blog/2013/08/how-to-write-custom-launcher-app-in-android/\" rel=\"nofollow noreferrer\">I found this old blog post</a> which I think is correct because I have seen &quot;android.intent.category.HOME&quot; multiple times already while searching up why my code didn't work and other questions on Stack Overflow (Not limiting myself on .NET MAUI but searching for Java questions aswell), but the AndroidManifest.xml file doesn't work with .NET MAUI because the way the main activity works. Instead of it appearing on the AndroidManifest.xml (Platforms/Android) it is represented on MainActivity.cs (also Platforms/Android). I have tried to override the OnCreate() method and adding</p>\n<pre><code>public override void OnCreate(Bundle savedInstanceState, PersistableBundle persistentState) {\n    base.OnCreate(savedInstanceState, persistentState);\n    PackageManager.SetComponentEnabledSetting(new ComponentName(this, Class), ComponentEnabledState.Enabled, ComponentEnableOption.DontKillApp); // with and without this line\n    Intent intent = new Intent(Intent.ActionMain);\n    intent.AddCategory(Intent.CategoryHome);\n    intent.AddCategory(Intent.CategoryDefault);\n    StartActivity(intent);\n}\n</code></pre>\n<p>to it but it simply didn't work. Nothing important on device log (I am using an emulator).\nThe last thing I tried before giving up and asking ChatGPT was searching for Java questions and trying to translate the code to C#, but nothing worked. The only thing slightly different I tried was\nadding a &quot;FakeLauncherActivity&quot; activity that is disabled at default to the AndroidManifest.xml and then reactivating it using <a href=\"https://stackoverflow.com/a/30617251/13891872\">this answer's code</a> (that I translated to C#). ChatGPT only caused my app to crash and do nothing</p>\n"},{"tags":["java","nullpointerexception","apache-flink","flink-streaming"],"answers":[{"comments":[{"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"score":0,"creation_date":1693593034,"post_id":77025101,"comment_id":135786394,"body_markdown":"[here](https://developer.confluent.io/courses/flink-java/managing-state-in-flink-exercise/) it is mentioned: *If there was no previous state, then this will be null. Make sure to handle the null case.* I verified it, by checking `desc.getDefaultValue()` after initialisation, which says null. But am not sure, how to set the default value?","body":"<a href=\"https://developer.confluent.io/courses/flink-java/managing-state-in-flink-exercise/\" rel=\"nofollow noreferrer\">here</a> it is mentioned: <i>If there was no previous state, then this will be null. Make sure to handle the null case.</i> I verified it, by checking <code>desc.getDefaultValue()</code> after initialisation, which says null. But am not sure, how to set the default value?"},{"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"score":0,"creation_date":1693593914,"post_id":77025101,"comment_id":135786538,"body_markdown":"`ValueStateDescriptor&lt;Boolean&gt; desc = new ValueStateDescriptor&lt;&gt;(&quot;seen&quot;, Types.BOOLEAN, false);` is deprecated","body":"<code>ValueStateDescriptor&lt;Boolean&gt; desc = new ValueStateDescriptor&lt;&gt;(&quot;seen&quot;, Types.BOOLEAN, false);</code> is deprecated"},{"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"score":0,"creation_date":1693595147,"post_id":77025101,"comment_id":135786730,"body_markdown":"After debugging I see, `seen.value()` is `null` and `seen != null`","body":"After debugging I see, <code>seen.value()</code> is <code>null</code> and <code>seen != null</code>"},{"owner":{"account_id":8626582,"reputation":21,"user_id":6459628,"display_name":"Pierre CHARLES"},"score":0,"creation_date":1693597887,"post_id":77025101,"comment_id":135787113,"body_markdown":"@overexchange you could try below script but I didn&#39;t test it and don&#39;t know if it&#39;s the behaviour you are expecting:\n\n`@Override\npublic void flatMap(Tuple3&lt;String, String, Integer&gt; value, Collector&lt;Tuple3&lt;String, String, Integer&gt;&gt; out) throws Exception {\n    Boolean seenValue = seen.value(); // get the value of seen\n    if (seenValue == null || !seenValue) { // check if it is null or false\n        // we haven&#39;t seen the element yet\n        out.collect(value);\n        // set operator state to true so that we don&#39;t emit elements with this key again\n        seen.update(true);\n    }\n}`","body":"@overexchange you could try below script but I didn&#39;t test it and don&#39;t know if it&#39;s the behaviour you are expecting:  <code>@Override public void flatMap(Tuple3&lt;String, String, Integer&gt; value, Collector&lt;Tuple3&lt;String, String, Integer&gt;&gt; out) throws Exception {     Boolean seenValue = seen.value(); &#47;&#47; get the value of seen     if (seenValue == null || !seenValue) { &#47;&#47; check if it is null or false         &#47;&#47; we haven&#39;t seen the element yet         out.collect(value);         &#47;&#47; set operator state to true so that we don&#39;t emit elements with this key again         seen.update(true);     } }</code>"}],"tags":[],"owner":{"account_id":8626582,"reputation":21,"user_id":6459628,"display_name":"Pierre CHARLES"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693589932,"creation_date":1693589932,"answer_id":77025101,"question_id":77024989,"body_markdown":"Be careful, negation (!) can also cause issues.\r\nYou need to check both `seen != null &amp;&amp; seen.value() != null` before trying to do negation.\r\n\r\nIt looks like your seen attribute is not properly initiated, I didn&#39;t understand all of your code but I would probably set it to false by default.","title":"Flink flatMap() - NullPointerException","body":"<p>Be careful, negation (!) can also cause issues.\nYou need to check both <code>seen != null &amp;&amp; seen.value() != null</code> before trying to do negation.</p>\n<p>It looks like your seen attribute is not properly initiated, I didn't understand all of your code but I would probably set it to false by default.</p>\n"},{"comments":[{"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"score":0,"creation_date":1693785836,"post_id":77033112,"comment_id":135802459,"body_markdown":"For point 2, in your answer, did you mean? first `keyBy()` should have `Tuple2.of(value.f0, value.f1)`....","body":"For point 2, in your answer, did you mean? first <code>keyBy()</code> should have <code>Tuple2.of(value.f0, value.f1)</code>...."},{"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"score":0,"creation_date":1693834721,"post_id":77033112,"comment_id":135808693,"body_markdown":"Related question - https://stackoverflow.com/q/77037956/3317808","body":"Related question - <a href=\"https://stackoverflow.com/q/77037956/3317808\">stackoverflow.com/q/77037956/3317808</a>"},{"owner":{"account_id":82425,"reputation":8280,"user_id":231762,"display_name":"kkrugler"},"score":0,"creation_date":1693929447,"post_id":77033112,"comment_id":135823034,"body_markdown":"I usually format a string when generating a compound key, e.g. `.keyBy(t -&gt; String.format(&quot;%s|%s&quot;, t.f0, t.f1))`","body":"I usually format a string when generating a compound key, e.g. <code>.keyBy(t -&gt; String.format(&quot;%s|%s&quot;, t.f0, t.f1))</code>"}],"tags":[],"owner":{"account_id":82425,"reputation":8280,"user_id":231762,"display_name":"kkrugler"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693756749,"creation_date":1693756749,"answer_id":77033112,"question_id":77024989,"body_markdown":"1. For the `NullPointerException`, just do:\r\n\r\n``` java\r\n    if (seen.value() == null) {\r\n        out.collect(value);\r\n        seen.update(true);\r\n    }\r\n```\r\n\r\n2. You have two `keyBy()` operations in a row. The partitioning of the first one will be lost when you do the second one. If you want to partition by id and then sub-id, you should have a single `keyBy()` which returns a key formed by those two fields from the tuple.\r\n\r\n","title":"Flink flatMap() - NullPointerException","body":"<ol>\n<li>For the <code>NullPointerException</code>, just do:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    if (seen.value() == null) {\n        out.collect(value);\n        seen.update(true);\n    }\n</code></pre>\n<ol start=\"2\">\n<li>You have two <code>keyBy()</code> operations in a row. The partitioning of the first one will be lost when you do the second one. If you want to partition by id and then sub-id, you should have a single <code>keyBy()</code> which returns a key formed by those two fields from the tuple.</li>\n</ol>\n"}],"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77033112,"answer_count":2,"score":0,"last_activity_date":1693756749,"creation_date":1693588883,"question_id":77024989,"body_markdown":"Below is the code:\r\n\r\n    public class VerifyDuplicate {\r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n    \r\n            SingleOutputStreamOperator&lt;Tuple3&lt;String, String, Integer&gt;&gt; dataStream = env.fromElements(\r\n                Tuple3.of(&quot;ID_1&quot;, &quot;subid_1&quot;, 1),\r\n                Tuple3.of(&quot;ID_2&quot;, &quot;subid_2&quot;, 2),\r\n                Tuple3.of(&quot;ID_3&quot;, &quot;subid_3&quot;, 3),\r\n                Tuple3.of(&quot;ID_4&quot;, &quot;subid_4&quot;, 4),\r\n                Tuple3.of(&quot;ID_4&quot;, &quot;subid_4&quot;, 4),\r\n                Tuple3.of(&quot;ID_6&quot;, &quot;subid_6&quot;, 6),\r\n                Tuple3.of(&quot;ID_4&quot;, &quot;subid_7&quot;, 7),\r\n                Tuple3.of(&quot;ID_8&quot;, &quot;subid_8&quot;, 8),\r\n                Tuple3.of(&quot;ID_9&quot;, &quot;subid_9&quot;, 9),\r\n                Tuple3.of(&quot;ID_10&quot;, &quot;subid_10&quot;, 10)\r\n                );\r\n    \r\n            KeyedStream&lt;Tuple3&lt;String, String, Integer&gt;, String&gt; partitionedStream = dataStream.keyBy(new KeySelector&lt;Tuple3&lt;String, String,Integer&gt;, String&gt;() {\r\n                    @Override\r\n                    public String getKey(Tuple3&lt;String, String, Integer&gt; value) throws Exception {\r\n                        return value.f0; // partition on f0\r\n                    }\r\n                });\r\n    \r\n    \r\n            partitionedStream.keyBy(new KeySelector&lt;Tuple3&lt;String, String,Integer&gt;, String&gt;() {\r\n                    @Override\r\n                    public String getKey(Tuple3&lt;String, String, Integer&gt; value) throws Exception {\r\n                        return value.f1; // subid\r\n                    }\r\n                }).flatMap(new FilterDuplicate()).print();\r\n    \r\n            env.execute(&quot;Test&quot;);\r\n    }    \r\n    }\r\n\r\n-------------------\r\n\r\n    public  class FilterDuplicate extends RichFlatMapFunction&lt;Tuple3&lt;String, String, Integer&gt;, Tuple3&lt;String, String, Integer&gt;&gt; {\r\n    \r\n        private ValueState&lt;Boolean&gt; seen;\r\n    \r\n        @Override\r\n        public void open(Configuration configuration) {\r\n            StateTtlConfig ttlConfig = StateTtlConfig\r\n              .newBuilder(Time.seconds(15))\r\n              .setUpdateType(StateTtlConfig.UpdateType.OnCreateAndWrite)\r\n              .cleanupFullSnapshot()\r\n              .build();\r\n            ValueStateDescriptor&lt;Boolean&gt; desc = new ValueStateDescriptor&lt;&gt;(&quot;seen&quot;, Types.BOOLEAN);\r\n            desc.enableTimeToLive(ttlConfig);\r\n            seen = getRuntimeContext().getState(desc);\r\n        }\r\n    \r\n        @Override\r\n        public void flatMap(Tuple3&lt;String, String, Integer&gt; value, Collector&lt;Tuple3&lt;String, String, Integer&gt;&gt; out) throws Exception {\r\n            \r\n            if (!seen.value()) { // nullpointerexception\r\n                // we haven&#39;t seen the element yet\r\n                out.collect(value);\r\n                // set operator state to true so that we don&#39;t emit elements with this key again\r\n                seen.update(true);\r\n            }\r\n        }\r\n    }\r\n\r\n-------------------------\r\n\r\n      &lt;flink.version&gt;1.17.1&lt;/flink.version&gt;\r\n      &lt;target.java.version&gt;11&lt;/target.java.version&gt;\r\n\r\n\r\n\r\n\r\n`NullPointerException` at `!seen.value()` in `flatMap()` method\r\n\r\nWhy `seen.value()` is giving NullPointerException? Checked with `seen==null` condition,before problem line, but still fails...\r\n\r\n\r\n","title":"Flink flatMap() - NullPointerException","body":"<p>Below is the code:</p>\n<pre><code>public class VerifyDuplicate {\n    public static void main(String[] args) throws Exception {\n\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\n        SingleOutputStreamOperator&lt;Tuple3&lt;String, String, Integer&gt;&gt; dataStream = env.fromElements(\n            Tuple3.of(&quot;ID_1&quot;, &quot;subid_1&quot;, 1),\n            Tuple3.of(&quot;ID_2&quot;, &quot;subid_2&quot;, 2),\n            Tuple3.of(&quot;ID_3&quot;, &quot;subid_3&quot;, 3),\n            Tuple3.of(&quot;ID_4&quot;, &quot;subid_4&quot;, 4),\n            Tuple3.of(&quot;ID_4&quot;, &quot;subid_4&quot;, 4),\n            Tuple3.of(&quot;ID_6&quot;, &quot;subid_6&quot;, 6),\n            Tuple3.of(&quot;ID_4&quot;, &quot;subid_7&quot;, 7),\n            Tuple3.of(&quot;ID_8&quot;, &quot;subid_8&quot;, 8),\n            Tuple3.of(&quot;ID_9&quot;, &quot;subid_9&quot;, 9),\n            Tuple3.of(&quot;ID_10&quot;, &quot;subid_10&quot;, 10)\n            );\n\n        KeyedStream&lt;Tuple3&lt;String, String, Integer&gt;, String&gt; partitionedStream = dataStream.keyBy(new KeySelector&lt;Tuple3&lt;String, String,Integer&gt;, String&gt;() {\n                @Override\n                public String getKey(Tuple3&lt;String, String, Integer&gt; value) throws Exception {\n                    return value.f0; // partition on f0\n                }\n            });\n\n\n        partitionedStream.keyBy(new KeySelector&lt;Tuple3&lt;String, String,Integer&gt;, String&gt;() {\n                @Override\n                public String getKey(Tuple3&lt;String, String, Integer&gt; value) throws Exception {\n                    return value.f1; // subid\n                }\n            }).flatMap(new FilterDuplicate()).print();\n\n        env.execute(&quot;Test&quot;);\n}    \n}\n</code></pre>\n<hr />\n<pre><code>public  class FilterDuplicate extends RichFlatMapFunction&lt;Tuple3&lt;String, String, Integer&gt;, Tuple3&lt;String, String, Integer&gt;&gt; {\n\n    private ValueState&lt;Boolean&gt; seen;\n\n    @Override\n    public void open(Configuration configuration) {\n        StateTtlConfig ttlConfig = StateTtlConfig\n          .newBuilder(Time.seconds(15))\n          .setUpdateType(StateTtlConfig.UpdateType.OnCreateAndWrite)\n          .cleanupFullSnapshot()\n          .build();\n        ValueStateDescriptor&lt;Boolean&gt; desc = new ValueStateDescriptor&lt;&gt;(&quot;seen&quot;, Types.BOOLEAN);\n        desc.enableTimeToLive(ttlConfig);\n        seen = getRuntimeContext().getState(desc);\n    }\n\n    @Override\n    public void flatMap(Tuple3&lt;String, String, Integer&gt; value, Collector&lt;Tuple3&lt;String, String, Integer&gt;&gt; out) throws Exception {\n        \n        if (!seen.value()) { // nullpointerexception\n            // we haven't seen the element yet\n            out.collect(value);\n            // set operator state to true so that we don't emit elements with this key again\n            seen.update(true);\n        }\n    }\n}\n</code></pre>\n<hr />\n<pre><code>  &lt;flink.version&gt;1.17.1&lt;/flink.version&gt;\n  &lt;target.java.version&gt;11&lt;/target.java.version&gt;\n</code></pre>\n<p><code>NullPointerException</code> at <code>!seen.value()</code> in <code>flatMap()</code> method</p>\n<p>Why <code>seen.value()</code> is giving NullPointerException? Checked with <code>seen==null</code> condition,before problem line, but still fails...</p>\n"},{"tags":["java","javafx","fxml"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":3,"creation_date":1693746177,"post_id":77031096,"comment_id":135798388,"body_markdown":"When `ViewTaskController:initialize` executes, `taskManager` has the default value, `null`. It looks like [_Passing Parameters JavaFX FXML_](https://stackoverflow.com/q/14187963/230513) may help. Also consider adopting Java naming conventions.","body":"When <code>ViewTaskController:initialize</code> executes, <code>taskManager</code> has the default value, <code>null</code>. It looks like <a href=\"https://stackoverflow.com/q/14187963/230513\"><i>Passing Parameters JavaFX FXML</i></a> may help. Also consider adopting Java naming conventions."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1693752065,"post_id":77031096,"comment_id":135799001,"body_markdown":"Your `setTaskManager()` method needs to update the `listview` with the new task managers list of tasks.","body":"Your <code>setTaskManager()</code> method needs to update the <code>listview</code> with the new task managers list of tasks."}],"owner":{"account_id":25984186,"reputation":51,"user_id":19697370,"display_name":"Maxus_red"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693756485,"creation_date":1693721212,"question_id":77031096,"body_markdown":"So what is happening is when i click on view tasks button it takes me to view tasks scene but does not show any list of tasks.\r\n\r\nMain.java\r\n```\r\npackage com.example.task_manager;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class Main extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(Main.class.getResource(&quot;Main.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load());\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.setResizable(false);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        launch();\r\n    }\r\n}\r\n```\r\nTaskManager class\r\n```\r\npackage com.example.task_manager;\r\n\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\n\r\npublic class TaskManager {\r\n\r\n    private ObservableList&lt;Task&gt; tasks;\r\n\r\n    public TaskManager(){\r\n\r\n        tasks = FXCollections.observableArrayList();\r\n        tasks.add(new Task(&quot;Task1&quot;,true));\r\n        tasks.add(new Task(&quot;Task2&quot;,false));\r\n        tasks.add(new Task(&quot;Task3&quot;,true));\r\n    }\r\n\r\n    public void add(Task task)\r\n    {\r\n        tasks.add(task);\r\n    }\r\n    public void deleteTask(Task task)\r\n    {\r\n        tasks.remove(task);\r\n    }\r\n\r\n    public void edit(int index, Task task)\r\n    {\r\n        tasks.set(index, task);\r\n    }\r\n\r\n    public ObservableList&lt;Task&gt; getTasks() {\r\n        return tasks;\r\n    }\r\n}\r\n```\r\nTask class\r\n```\r\npackage com.example.task_manager;\r\n\r\npublic class Task {\r\n    private String title;\r\n    private boolean status;\r\n\r\n    public Task(String title, boolean status) {\r\n        this.title = title;\r\n        this.status = status;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public boolean isStatus() {\r\n        return status;\r\n    }\r\n\r\n    public void setStatus(boolean status) {\r\n        this.status = status;\r\n    }\r\n}\r\n```\r\nMainController class\r\n```\r\npackage com.example.task_manager;\r\n\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.stage.Stage;\r\n\r\npublic class MainController {\r\n    @FXML\r\n    private Button addBtn,viewBtn,deleteBtn,editBtn;\r\n    @FXML\r\n    private Label welcomeLabel,optionsLabel;\r\n\r\n    private Parent root;\r\n    private Scene scene;\r\n    private Stage stage;\r\n\r\n    private TaskManager taskManager;\r\n\r\n    public MainController()\r\n    {\r\n        taskManager = new TaskManager();\r\n    }\r\n\r\n    @FXML\r\n    public void initialize()\r\n    {\r\n        taskManager.add(new Task(&quot;Task4&quot;,false));\r\n    }\r\n    public void viewTasks(ActionEvent event)\r\n    {\r\n//        System.out.println(&quot;Viewing tasks&quot;);\r\n        try{\r\n            FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;viewTasks.fxml&quot;));\r\n            root = fxmlLoader.load();\r\n\r\n            // Access the controller of the loaded viewTasks.fxml\r\n            viewTaskController controller = fxmlLoader.getController();\r\n\r\n            // Pass the TaskManager instance to the viewTaskController using setTaskManager\r\n            controller.setTaskManager(taskManager);\r\n\r\n            stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\r\n            scene = new Scene(root);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nviewTaskController class\r\n```\r\npackage com.example.task_manager;\r\n\r\n\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.ListView;\r\nimport javafx.scene.control.ScrollPane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class viewTaskController {\r\n\r\n    @FXML\r\n    private Button back;\r\n    @FXML\r\n    private Label title;\r\n    @FXML\r\n    private ScrollPane scroll;\r\n    @FXML\r\n    private ListView&lt;Task&gt; listview;\r\n    private Parent root;\r\n    private Scene scene;\r\n    private Stage stage;\r\n\r\n    private TaskManager taskManager;\r\n\r\n    public void setTaskManager(TaskManager taskManager)\r\n    {\r\n        this.taskManager = taskManager;\r\n        System.out.println(&quot;Setting taskmanager&quot;);\r\n    }\r\n\r\n    @FXML\r\n    public void initialize(){\r\n        if(taskManager!=null){\r\n            System.out.println(&quot;Not null&quot;);\r\n            ObservableList&lt;Task&gt; tasks = taskManager.getTasks();\r\n            listview.setItems(tasks);\r\n        }\r\n        else {\r\n            System.out.println(&quot;Null&quot;);\r\n            TaskManager temp = new TaskManager();\r\n            ObservableList&lt;Task&gt; tasks = temp.getTasks();\r\n            listview.setItems(tasks);\r\n        }\r\n    }\r\n    public void backToMainMenu(ActionEvent event)\r\n    {\r\n        try{\r\n            root = FXMLLoader.load(getClass().getResource(&quot;Main.fxml&quot;));\r\n            stage = (Stage) ((Node)event.getSource()).getScene().getWindow();\r\n            scene = new Scene(root);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nWith the debug output statements im getting \r\n```\r\nSept 03, 2023 11:34:41 AM javafx.fxml.FXMLLoader$ValueElement processValue\r\nWARNING: Loading FXML document with JavaFX API of version 20.0.1 by JavaFX runtime of version 17.0.8\r\nSept 03, 2023 11:34:42 AM javafx.fxml.FXMLLoader$ValueElement processValue\r\nWARNING: Loading FXML document with JavaFX API of version 20.0.1 by JavaFX runtime of version 17.0.8\r\nNull\r\nSetting taskmanager\r\n```\r\n\r\nIf you guys need the fxml files i can share them also. Please help me find out why this is happening\r\n\r\n\r\n\r\n\r\n","title":"Javafx problem while creating a simple taskmanager application. The problem lies in MainController class and viewTaskController class i think","body":"<p>So what is happening is when i click on view tasks button it takes me to view tasks scene but does not show any list of tasks.</p>\n<p>Main.java</p>\n<pre><code>package com.example.task_manager;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class Main extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(Main.class.getResource(&quot;Main.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load());\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.setResizable(false);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n\n        launch();\n    }\n}\n</code></pre>\n<p>TaskManager class</p>\n<pre><code>package com.example.task_manager;\n\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\n\npublic class TaskManager {\n\n    private ObservableList&lt;Task&gt; tasks;\n\n    public TaskManager(){\n\n        tasks = FXCollections.observableArrayList();\n        tasks.add(new Task(&quot;Task1&quot;,true));\n        tasks.add(new Task(&quot;Task2&quot;,false));\n        tasks.add(new Task(&quot;Task3&quot;,true));\n    }\n\n    public void add(Task task)\n    {\n        tasks.add(task);\n    }\n    public void deleteTask(Task task)\n    {\n        tasks.remove(task);\n    }\n\n    public void edit(int index, Task task)\n    {\n        tasks.set(index, task);\n    }\n\n    public ObservableList&lt;Task&gt; getTasks() {\n        return tasks;\n    }\n}\n</code></pre>\n<p>Task class</p>\n<pre><code>package com.example.task_manager;\n\npublic class Task {\n    private String title;\n    private boolean status;\n\n    public Task(String title, boolean status) {\n        this.title = title;\n        this.status = status;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public boolean isStatus() {\n        return status;\n    }\n\n    public void setStatus(boolean status) {\n        this.status = status;\n    }\n}\n</code></pre>\n<p>MainController class</p>\n<pre><code>package com.example.task_manager;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.stage.Stage;\n\npublic class MainController {\n    @FXML\n    private Button addBtn,viewBtn,deleteBtn,editBtn;\n    @FXML\n    private Label welcomeLabel,optionsLabel;\n\n    private Parent root;\n    private Scene scene;\n    private Stage stage;\n\n    private TaskManager taskManager;\n\n    public MainController()\n    {\n        taskManager = new TaskManager();\n    }\n\n    @FXML\n    public void initialize()\n    {\n        taskManager.add(new Task(&quot;Task4&quot;,false));\n    }\n    public void viewTasks(ActionEvent event)\n    {\n//        System.out.println(&quot;Viewing tasks&quot;);\n        try{\n            FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;viewTasks.fxml&quot;));\n            root = fxmlLoader.load();\n\n            // Access the controller of the loaded viewTasks.fxml\n            viewTaskController controller = fxmlLoader.getController();\n\n            // Pass the TaskManager instance to the viewTaskController using setTaskManager\n            controller.setTaskManager(taskManager);\n\n            stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\n            scene = new Scene(root);\n            stage.setScene(scene);\n            stage.show();\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n\n\n}\n</code></pre>\n<p>viewTaskController class</p>\n<pre><code>package com.example.task_manager;\n\n\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.ListView;\nimport javafx.scene.control.ScrollPane;\nimport javafx.stage.Stage;\n\npublic class viewTaskController {\n\n    @FXML\n    private Button back;\n    @FXML\n    private Label title;\n    @FXML\n    private ScrollPane scroll;\n    @FXML\n    private ListView&lt;Task&gt; listview;\n    private Parent root;\n    private Scene scene;\n    private Stage stage;\n\n    private TaskManager taskManager;\n\n    public void setTaskManager(TaskManager taskManager)\n    {\n        this.taskManager = taskManager;\n        System.out.println(&quot;Setting taskmanager&quot;);\n    }\n\n    @FXML\n    public void initialize(){\n        if(taskManager!=null){\n            System.out.println(&quot;Not null&quot;);\n            ObservableList&lt;Task&gt; tasks = taskManager.getTasks();\n            listview.setItems(tasks);\n        }\n        else {\n            System.out.println(&quot;Null&quot;);\n            TaskManager temp = new TaskManager();\n            ObservableList&lt;Task&gt; tasks = temp.getTasks();\n            listview.setItems(tasks);\n        }\n    }\n    public void backToMainMenu(ActionEvent event)\n    {\n        try{\n            root = FXMLLoader.load(getClass().getResource(&quot;Main.fxml&quot;));\n            stage = (Stage) ((Node)event.getSource()).getScene().getWindow();\n            scene = new Scene(root);\n            stage.setScene(scene);\n            stage.show();\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>With the debug output statements im getting</p>\n<pre><code>Sept 03, 2023 11:34:41 AM javafx.fxml.FXMLLoader$ValueElement processValue\nWARNING: Loading FXML document with JavaFX API of version 20.0.1 by JavaFX runtime of version 17.0.8\nSept 03, 2023 11:34:42 AM javafx.fxml.FXMLLoader$ValueElement processValue\nWARNING: Loading FXML document with JavaFX API of version 20.0.1 by JavaFX runtime of version 17.0.8\nNull\nSetting taskmanager\n</code></pre>\n<p>If you guys need the fxml files i can share them also. Please help me find out why this is happening</p>\n"},{"tags":["java","avro"],"owner":{"account_id":14907310,"reputation":1,"user_id":10764089,"display_name":"Mati "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693756201,"creation_date":1692445858,"question_id":76934957,"body_markdown":"I have not common problem\n\nI have repository X which contains avro model called Person. In my repository Y, I would like to create a new model with property of type Person from repository X. Is it even possible? \n\n\nI have imported X artifact to Y but it still has a problem to use it.","title":"Use Avro model from different package in different repository","body":"<p>I have not common problem</p>\n<p>I have repository X which contains avro model called Person. In my repository Y, I would like to create a new model with property of type Person from repository X. Is it even possible?</p>\n<p>I have imported X artifact to Y but it still has a problem to use it.</p>\n"},{"tags":["java","encryption","base64","aes","quarkus"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693755307,"post_id":77032992,"comment_id":135799381,"body_markdown":"Use POST instead? If you&#39;re using POST and https then why encode at all?","body":"Use POST instead? If you&#39;re using POST and https then why encode at all?"},{"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"score":0,"creation_date":1693755461,"post_id":77032992,"comment_id":135799405,"body_markdown":"The API specification asks for the GET method, the POST method is not contemplated","body":"The API specification asks for the GET method, the POST method is not contemplated"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1693755743,"post_id":77032992,"comment_id":135799432,"body_markdown":"Then Base64-encoding is the obvious recourse","body":"Then Base64-encoding is the obvious recourse"},{"owner":{"account_id":180181,"reputation":76390,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1693767157,"post_id":77032992,"comment_id":135800831,"body_markdown":"&quot;I know that encoding and decoding in base64 is an option&quot;: You are already using Base64 encoding and decoding.","body":"&quot;I know that encoding and decoding in base64 is an option&quot;: You are already using Base64 encoding and decoding."},{"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"score":0,"creation_date":1693779440,"post_id":77032992,"comment_id":135802033,"body_markdown":"Yes, but I am using AES with base 64, I suppose a more advanced encryption, because I have seen an example of encryption in base 64 only and it does not add special characters","body":"Yes, but I am using AES with base 64, I suppose a more advanced encryption, because I have seen an example of encryption in base 64 only and it does not add special characters"}],"answers":[{"tags":[],"owner":{"account_id":2005971,"reputation":536,"user_id":1795860,"accept_rate":91,"display_name":"TheNytangel"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1693755619,"creation_date":1693755619,"answer_id":77033025,"question_id":77032992,"body_markdown":"You can use something called URL-safe base64 encoding instead. This will use `-` and `_` instead of `+` and `/` in the generated base64 string.\r\n\r\nCheck out `java.util.Base64.getUrlEncoder()` and `java.util.Base64.getUrlDecoder()`.","title":"Is it possible to encrypt in AES without special characters?","body":"<p>You can use something called URL-safe base64 encoding instead. This will use <code>-</code> and <code>_</code> instead of <code>+</code> and <code>/</code> in the generated base64 string.</p>\n<p>Check out <code>java.util.Base64.getUrlEncoder()</code> and <code>java.util.Base64.getUrlDecoder()</code>.</p>\n"}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693755619,"creation_date":1693755123,"question_id":77032992,"body_markdown":"Good afternoon, I am currently working with an api in JAVA and Quarkus, in it I am receiving through the GET method a parameter in the url that is encrypted with AES, the issue is that the encryption comes with special characters like +/ which now read the url the service takes it as path\r\n\r\n\r\nThis is my code for AES encryption, the encrypt and decrypt methods, which I am using for my encryption:\r\n\r\n    package com.tmve.util;\r\n    import lombok.NoArgsConstructor;\r\n    import javax.crypto.*;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.PBEKeySpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.security.*;\r\n    import java.security.spec.InvalidKeySpecException;\r\n    import java.security.spec.KeySpec;\r\n    import java.util.Arrays;\r\n    import java.util.Base64;\r\n    \r\n    @NoArgsConstructor\r\n    public class EncryptUtil {\r\n        private static byte[]\tinitializationVector = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};\r\n        private static byte[] key;\r\n        private static SecretKeySpec secretKey;\r\n    \r\n        public String encrypt(String input, String key)\r\n                throws NoSuchPaddingException, NoSuchAlgorithmException,\r\n                InvalidAlgorithmParameterException, InvalidKeyException,\r\n                BadPaddingException, IllegalBlockSizeException {\r\n    \r\n            byte[] desKeyData = key.getBytes();\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n            SecretKeySpec myKey = new SecretKeySpec(desKeyData, &quot;AES&quot;);\r\n            IvParameterSpec specie = new IvParameterSpec(initializationVector);\r\n    \r\n            cipher.init(Cipher.ENCRYPT_MODE, myKey, specie);\r\n            byte[] cipherText = cipher.doFinal(input.getBytes());\r\n            return Base64.getEncoder().encodeToString(cipherText);\r\n        }\r\n    \r\n        public String decrypt(String cipherText, String key) throws NoSuchPaddingException, NoSuchAlgorithmException,\r\n                InvalidAlgorithmParameterException, InvalidKeyException,\r\n                BadPaddingException, IllegalBlockSizeException {\r\n    \r\n            byte[] desKeyData =  key.getBytes();\r\n    \r\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n            SecretKeySpec myKey = new SecretKeySpec(Arrays.copyOf(desKeyData,16), &quot;AES&quot;);\r\n            IvParameterSpec ivspec = new IvParameterSpec(initializationVector);\r\n            cipher.init(Cipher.DECRYPT_MODE, myKey, ivspec);\r\n    \r\n            byte[] plainText = cipher.doFinal(Base64.getDecoder().decode(cipherText));\r\n            return new String(plainText);\r\n        }\r\n    \r\n        public String decryptAESText2(String cipherText, String key) throws Exception {\r\n            setKey(key);\r\n            Cipher decipher = Cipher.getInstance(&quot;AES/ECB/PKCS5PADDING&quot;);\r\n            IvParameterSpec ivspec = new IvParameterSpec(initializationVector);\r\n            decipher.init(Cipher.DECRYPT_MODE, secretKey);\r\n            byte[] plainText = decipher.doFinal(Base64.getDecoder().decode(cipherText));\r\n    \r\n            return new String(plainText);\r\n        }\r\n    \r\n        public String encryptAESText2(String plainText, String key) throws Exception {\r\n            setKey(key);\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\r\n            IvParameterSpec specie = new IvParameterSpec(initializationVector);\r\n    \r\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n            byte[] cipherText = cipher.doFinal(plainText.getBytes(&quot;UTF-8&quot;));\r\n    \r\n            return Base64.getEncoder().encodeToString(cipherText);\r\n        }\r\n    \r\n        public SecretKey getKeyFromPassword(String password, String salt)\r\n                throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n    \r\n            SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n            KeySpec spec = new PBEKeySpec(password.toCharArray(), salt.getBytes(), 65536, 256);\r\n            SecretKey secret = new SecretKeySpec(factory.generateSecret(spec)\r\n                    .getEncoded(), &quot;AES&quot;);\r\n            return secret;\r\n        }\r\n        public String decryptSSOText(String cipherText) throws Exception {\r\n            String DEFAULT_KEY = &quot;k2/3kwpEMHKrLgNkYDzs+YVfzXSp9Xyx&quot;;\r\n            String DEFAULT_IV = &quot;G1oPqIGmVOk=&quot;;\r\n            byte[] encData = Base64.getDecoder().decode(cipherText.replaceAll(&quot;[\\n\\r]&quot;, &quot;&quot;));\r\n            byte[] tdesKeyData = Base64.getDecoder().decode(DEFAULT_KEY);\r\n    \r\n            Cipher decipher = Cipher.getInstance(&quot;DESede/CBC/PKCS5Padding&quot;);\r\n            SecretKeySpec myKey = new SecretKeySpec(tdesKeyData, &quot;DESede&quot;);\r\n            IvParameterSpec ivspec = new IvParameterSpec(Base64.getDecoder().decode(DEFAULT_IV));\r\n            decipher.init(Cipher.DECRYPT_MODE, myKey, ivspec);\r\n            byte[] plainText = decipher.doFinal(Base64.getDecoder().decode(cipherText));\r\n    \r\n            return new String(plainText);\r\n        }\r\n    \r\n        public String EncryptSSOText(String cipherText) throws Exception {\r\n            String DEFAULT_KEY = &quot;k2/3kwpEMHKrLgNkYDzs+YVfzXSp9Xyx&quot;;\r\n            String DEFAULT_IV = &quot;G1oPqIGmVOk=&quot;;\r\n            byte[] desKeyData = Base64.getDecoder().decode(DEFAULT_KEY);\r\n            \r\n            Cipher decipher = Cipher.getInstance(&quot;DESede/CBC/PKCS5Padding&quot;);\r\n            SecretKeySpec myKey = new SecretKeySpec(desKeyData, &quot;DESede&quot;);\r\n            IvParameterSpec ivspec = new IvParameterSpec(Base64.getDecoder().decode(DEFAULT_IV));\r\n            decipher.init(Cipher.ENCRYPT_MODE, myKey, ivspec);\r\n            byte[] plainText = decipher.doFinal(cipherText.getBytes());\r\n            return Base64.getEncoder().encodeToString(plainText);\r\n        }\r\n        private void setKey(String myKey) {\r\n            MessageDigest sha = null;\r\n            try {\r\n                key = myKey.getBytes(&quot;UTF-8&quot;);\r\n                sha = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n                key = sha.digest(key);\r\n                key = Arrays.copyOf(key, 16);\r\n                secretKey = new SecretKeySpec(key, &quot;AES&quot;);\r\n            } catch (NoSuchAlgorithmException | UnsupportedEncodingException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        public IvParameterSpec generateIv() {\r\n            byte[] iv = new byte[16];\r\n            new SecureRandom().nextBytes(iv);\r\n            return new IvParameterSpec(iv);\r\n        }\r\n    }\r\nAnd sometimes figures as follows:\r\n\r\n    WKqxB/qNPQUz6wRbHZrpBQ==\r\n\r\nThe problem lies when I have to pass this in a url like the following:\r\n\r\n    https://10.162.128.94:30000/userProfile/v3.6/users/WKqxB/qNPQUz6wRbHZrpBQ==\r\n\r\nThe above causes me an error when exposing my service, for example, by kubernete and an ingress, so I want to know if there is another option, I know that encoding and decoding in base64 is an option, but I would like to use AES","title":"Is it possible to encrypt in AES without special characters?","body":"<p>Good afternoon, I am currently working with an api in JAVA and Quarkus, in it I am receiving through the GET method a parameter in the url that is encrypted with AES, the issue is that the encryption comes with special characters like +/ which now read the url the service takes it as path</p>\n<p>This is my code for AES encryption, the encrypt and decrypt methods, which I am using for my encryption:</p>\n<pre><code>package com.tmve.util;\nimport lombok.NoArgsConstructor;\nimport javax.crypto.*;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.io.UnsupportedEncodingException;\nimport java.security.*;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.KeySpec;\nimport java.util.Arrays;\nimport java.util.Base64;\n\n@NoArgsConstructor\npublic class EncryptUtil {\n    private static byte[]   initializationVector = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};\n    private static byte[] key;\n    private static SecretKeySpec secretKey;\n\n    public String encrypt(String input, String key)\n            throws NoSuchPaddingException, NoSuchAlgorithmException,\n            InvalidAlgorithmParameterException, InvalidKeyException,\n            BadPaddingException, IllegalBlockSizeException {\n\n        byte[] desKeyData = key.getBytes();\n        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n        SecretKeySpec myKey = new SecretKeySpec(desKeyData, &quot;AES&quot;);\n        IvParameterSpec specie = new IvParameterSpec(initializationVector);\n\n        cipher.init(Cipher.ENCRYPT_MODE, myKey, specie);\n        byte[] cipherText = cipher.doFinal(input.getBytes());\n        return Base64.getEncoder().encodeToString(cipherText);\n    }\n\n    public String decrypt(String cipherText, String key) throws NoSuchPaddingException, NoSuchAlgorithmException,\n            InvalidAlgorithmParameterException, InvalidKeyException,\n            BadPaddingException, IllegalBlockSizeException {\n\n        byte[] desKeyData =  key.getBytes();\n\n        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n        SecretKeySpec myKey = new SecretKeySpec(Arrays.copyOf(desKeyData,16), &quot;AES&quot;);\n        IvParameterSpec ivspec = new IvParameterSpec(initializationVector);\n        cipher.init(Cipher.DECRYPT_MODE, myKey, ivspec);\n\n        byte[] plainText = cipher.doFinal(Base64.getDecoder().decode(cipherText));\n        return new String(plainText);\n    }\n\n    public String decryptAESText2(String cipherText, String key) throws Exception {\n        setKey(key);\n        Cipher decipher = Cipher.getInstance(&quot;AES/ECB/PKCS5PADDING&quot;);\n        IvParameterSpec ivspec = new IvParameterSpec(initializationVector);\n        decipher.init(Cipher.DECRYPT_MODE, secretKey);\n        byte[] plainText = decipher.doFinal(Base64.getDecoder().decode(cipherText));\n\n        return new String(plainText);\n    }\n\n    public String encryptAESText2(String plainText, String key) throws Exception {\n        setKey(key);\n        Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\n        IvParameterSpec specie = new IvParameterSpec(initializationVector);\n\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n        byte[] cipherText = cipher.doFinal(plainText.getBytes(&quot;UTF-8&quot;));\n\n        return Base64.getEncoder().encodeToString(cipherText);\n    }\n\n    public SecretKey getKeyFromPassword(String password, String salt)\n            throws NoSuchAlgorithmException, InvalidKeySpecException {\n\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\n        KeySpec spec = new PBEKeySpec(password.toCharArray(), salt.getBytes(), 65536, 256);\n        SecretKey secret = new SecretKeySpec(factory.generateSecret(spec)\n                .getEncoded(), &quot;AES&quot;);\n        return secret;\n    }\n    public String decryptSSOText(String cipherText) throws Exception {\n        String DEFAULT_KEY = &quot;k2/3kwpEMHKrLgNkYDzs+YVfzXSp9Xyx&quot;;\n        String DEFAULT_IV = &quot;G1oPqIGmVOk=&quot;;\n        byte[] encData = Base64.getDecoder().decode(cipherText.replaceAll(&quot;[\\n\\r]&quot;, &quot;&quot;));\n        byte[] tdesKeyData = Base64.getDecoder().decode(DEFAULT_KEY);\n\n        Cipher decipher = Cipher.getInstance(&quot;DESede/CBC/PKCS5Padding&quot;);\n        SecretKeySpec myKey = new SecretKeySpec(tdesKeyData, &quot;DESede&quot;);\n        IvParameterSpec ivspec = new IvParameterSpec(Base64.getDecoder().decode(DEFAULT_IV));\n        decipher.init(Cipher.DECRYPT_MODE, myKey, ivspec);\n        byte[] plainText = decipher.doFinal(Base64.getDecoder().decode(cipherText));\n\n        return new String(plainText);\n    }\n\n    public String EncryptSSOText(String cipherText) throws Exception {\n        String DEFAULT_KEY = &quot;k2/3kwpEMHKrLgNkYDzs+YVfzXSp9Xyx&quot;;\n        String DEFAULT_IV = &quot;G1oPqIGmVOk=&quot;;\n        byte[] desKeyData = Base64.getDecoder().decode(DEFAULT_KEY);\n        \n        Cipher decipher = Cipher.getInstance(&quot;DESede/CBC/PKCS5Padding&quot;);\n        SecretKeySpec myKey = new SecretKeySpec(desKeyData, &quot;DESede&quot;);\n        IvParameterSpec ivspec = new IvParameterSpec(Base64.getDecoder().decode(DEFAULT_IV));\n        decipher.init(Cipher.ENCRYPT_MODE, myKey, ivspec);\n        byte[] plainText = decipher.doFinal(cipherText.getBytes());\n        return Base64.getEncoder().encodeToString(plainText);\n    }\n    private void setKey(String myKey) {\n        MessageDigest sha = null;\n        try {\n            key = myKey.getBytes(&quot;UTF-8&quot;);\n            sha = MessageDigest.getInstance(&quot;SHA-256&quot;);\n            key = sha.digest(key);\n            key = Arrays.copyOf(key, 16);\n            secretKey = new SecretKeySpec(key, &quot;AES&quot;);\n        } catch (NoSuchAlgorithmException | UnsupportedEncodingException e) {\n            e.printStackTrace();\n        }\n    }\n    public IvParameterSpec generateIv() {\n        byte[] iv = new byte[16];\n        new SecureRandom().nextBytes(iv);\n        return new IvParameterSpec(iv);\n    }\n}\n</code></pre>\n<p>And sometimes figures as follows:</p>\n<pre><code>WKqxB/qNPQUz6wRbHZrpBQ==\n</code></pre>\n<p>The problem lies when I have to pass this in a url like the following:</p>\n<pre><code>https://10.162.128.94:30000/userProfile/v3.6/users/WKqxB/qNPQUz6wRbHZrpBQ==\n</code></pre>\n<p>The above causes me an error when exposing my service, for example, by kubernete and an ingress, so I want to know if there is another option, I know that encoding and decoding in base64 is an option, but I would like to use AES</p>\n"},{"tags":["java","android","httpurlconnection"],"answers":[{"comments":[{"owner":{"account_id":9767609,"reputation":27,"user_id":7240545,"accept_rate":75,"display_name":"Vick.GV"},"score":0,"creation_date":1483893522,"post_id":41534131,"comment_id":70275123,"body_markdown":"Thank you very much, I understood! _URL getContent() This method is a shorthand for: openConnection().getContent()_ So, in both examples openConnectio() exists, so the difference is just giving this connection to HttpURLConnection class or dealing with it direct (not recommended)","body":"Thank you very much, I understood! <i>URL getContent() This method is a shorthand for: openConnection().getContent()</i> So, in both examples openConnectio() exists, so the difference is just giving this connection to HttpURLConnection class or dealing with it direct (not recommended)"},{"owner":{"account_id":9767609,"reputation":27,"user_id":7240545,"accept_rate":75,"display_name":"Vick.GV"},"score":0,"creation_date":1483893989,"post_id":41534131,"comment_id":70275280,"body_markdown":"May I ask about connect() method? Why some documentations mention it like `HttpURLConnection connection = (HttpURLConnection) url.openConnection(); connection.connect();` but there are plenty documentations, which don&#39;t mention this method to use","body":"May I ask about connect() method? Why some documentations mention it like <code>HttpURLConnection connection = (HttpURLConnection) url.openConnection(); connection.connect();</code> but there are plenty documentations, which don&#39;t mention this method to use"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1483894366,"post_id":41534131,"comment_id":70275426,"body_markdown":"@Vick.GV: IIRC, `connect()` will be called lazily once you start trying to work with the output (e.g., call `getInputStream()`).","body":"@Vick.GV: IIRC, <code>connect()</code> will be called lazily once you start trying to work with the output (e.g., call <code>getInputStream()</code>)."}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1483887972,"creation_date":1483887972,"answer_id":41534131,"question_id":41533902,"body_markdown":"&gt; it&#39;s not necessary to use HttpURLConnection.class and getConnection() method? \r\n\r\nThere is no `getConnection()` method. There is `openConnection()`. `getContent()` on an HTTP/HTTPS URL will use `openConnection()` as part of its processing, as is noted in [the documentation for `getContent()` on `URL`][1].\r\n\r\n&gt; why Android documentation recommend me to use it?\r\n\r\nNobody but the author of that documentation can tell you why they wrote that documentation. The author of that documentation is unlikely to respond to your question.\r\n\r\nPersonally, I would recommend against the use of `getContent()` for several reasons:\r\n\r\n1. It is undocumented and not type-safe, meaning that the behavior could change on any device at the whim of the device manufacturer.\r\n\r\n2. HTTP error handling, with respect to `getContent()`, is also undocumented. What happens when the server returns a 404? A 401? A 500? A 301? A 304? Some of those you will need explicit handling for (e.g., retry with exponential backoff), which means you need to get at the response code. At minimum, you need to know whether the request succeeded and therefore whether the whatever-the-object-is that you get from `getContent()` will be valid. Your approach does not seem to offer much for this.\r\n\r\n3. Similarly, your approach ignores HTTP headers (request or response), such as those related to caching (`Last-Modified`, `ETag`, `Expires`).\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/reference/java/net/URL.html#getContent()","title":"Android: get data from internet via URL.getContent() - no need for HttpUrlConnection?","body":"<blockquote>\n  <p>it's not necessary to use HttpURLConnection.class and getConnection() method? </p>\n</blockquote>\n\n<p>There is no <code>getConnection()</code> method. There is <code>openConnection()</code>. <code>getContent()</code> on an HTTP/HTTPS URL will use <code>openConnection()</code> as part of its processing, as is noted in <a href=\"https://developer.android.com/reference/java/net/URL.html#getContent()\" rel=\"nofollow noreferrer\">the documentation for <code>getContent()</code> on <code>URL</code></a>.</p>\n\n<blockquote>\n  <p>why Android documentation recommend me to use it?</p>\n</blockquote>\n\n<p>Nobody but the author of that documentation can tell you why they wrote that documentation. The author of that documentation is unlikely to respond to your question.</p>\n\n<p>Personally, I would recommend against the use of <code>getContent()</code> for several reasons:</p>\n\n<ol>\n<li><p>It is undocumented and not type-safe, meaning that the behavior could change on any device at the whim of the device manufacturer.</p></li>\n<li><p>HTTP error handling, with respect to <code>getContent()</code>, is also undocumented. What happens when the server returns a 404? A 401? A 500? A 301? A 304? Some of those you will need explicit handling for (e.g., retry with exponential backoff), which means you need to get at the response code. At minimum, you need to know whether the request succeeded and therefore whether the whatever-the-object-is that you get from <code>getContent()</code> will be valid. Your approach does not seem to offer much for this.</p></li>\n<li><p>Similarly, your approach ignores HTTP headers (request or response), such as those related to caching (<code>Last-Modified</code>, <code>ETag</code>, <code>Expires</code>).</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9163409,"reputation":209,"user_id":6813998,"accept_rate":17,"display_name":"Sherif Eldeeb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501935767,"creation_date":1501933127,"answer_id":45521457,"question_id":41533902,"body_markdown":"Sure he used `HttpURLConnection`, but instead of `connection.getInputStream()` he used `connection.getContent()` which retruns an `Object` instance.\r\n\r\nAs of the documentation; `getContent()` already uses `getInputStream()` internally to retrieve the content and `getContentType()` to load the proper class (such as `JSON`).\r\n\r\nI recommend you to use `getInputStream()` because it allows you to handle errors, different types of response codes and to decide which class to use with this data type.\r\n\r\nalso URL has a method called getContent() whitch is a shorthand for: connection.getContnet();\r\n","title":"Android: get data from internet via URL.getContent() - no need for HttpUrlConnection?","body":"<p>Sure he used <code>HttpURLConnection</code>, but instead of <code>connection.getInputStream()</code> he used <code>connection.getContent()</code> which retruns an <code>Object</code> instance.</p>\n\n<p>As of the documentation; <code>getContent()</code> already uses <code>getInputStream()</code> internally to retrieve the content and <code>getContentType()</code> to load the proper class (such as <code>JSON</code>).</p>\n\n<p>I recommend you to use <code>getInputStream()</code> because it allows you to handle errors, different types of response codes and to decide which class to use with this data type.</p>\n\n<p>also URL has a method called getContent() whitch is a shorthand for: connection.getContnet();</p>\n"}],"owner":{"account_id":9767609,"reputation":27,"user_id":7240545,"accept_rate":75,"display_name":"Vick.GV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1542,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":41534131,"answer_count":2,"score":1,"last_activity_date":1693754818,"creation_date":1483886659,"question_id":41533902,"body_markdown":"So far I&#39;ve learned if I need to implement a method to retrieve data from an Internet server in an Android app, it&#39;s good to use `HttpUrlConnection` from Java as follows:\r\n\r\n    URL url = &quot;http:\\\\www.stackoverflow.com/questions/json&quot;;\r\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n    try {\r\n         InputStream in = new BufferedInputStream(connection.getInputStream());\r\n         readStream(in);\r\n       } finally {\r\n         connection.disconnect();\r\n       }\r\n\r\nBut [here on YouTube][1] a man says not to retrieve a Bitmap simply by calling:\r\n\r\n    InputStream in = (InputStream) url.getContent();\r\n\r\nI would like to point out that here we get Content from the url without calling `HttpURLConnection.class` and `openConnection()` method.\r\n\r\nI followed that tutorial and the code compiles.  \r\n1. Am I missing something, or isn&#39;t it necessary to use `HttpURLConnection.class` and `openConnection()`?\r\n2. If it&#39;s not necessary, why does Android documentation recommend using it?\r\n\r\nYes, I know, that besides `HttpURLConnection` it possible to use other packages (libraries), this question isn&#39;t about that. What I ask, is why I should use any type of connection if it&#39;s so simple to get data just calling `URL.getContent()`?\r\n\r\n  [1]: https://youtu.be/fRHEp35NZzw?list=PLVTeA3WccG_7Kgey8VtmFLCEVR5jeZNFK","title":"Android: get data from internet via URL.getContent() - no need for HttpUrlConnection?","body":"<p>So far I've learned if I need to implement a method to retrieve data from an Internet server in an Android app, it's good to use <code>HttpUrlConnection</code> from Java as follows:</p>\n<pre><code>URL url = &quot;http:\\\\www.stackoverflow.com/questions/json&quot;;\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\ntry {\n     InputStream in = new BufferedInputStream(connection.getInputStream());\n     readStream(in);\n   } finally {\n     connection.disconnect();\n   }\n</code></pre>\n<p>But <a href=\"https://youtu.be/fRHEp35NZzw?list=PLVTeA3WccG_7Kgey8VtmFLCEVR5jeZNFK\" rel=\"nofollow noreferrer\">here on YouTube</a> a man says not to retrieve a Bitmap simply by calling:</p>\n<pre><code>InputStream in = (InputStream) url.getContent();\n</code></pre>\n<p>I would like to point out that here we get Content from the url without calling <code>HttpURLConnection.class</code> and <code>openConnection()</code> method.</p>\n<p>I followed that tutorial and the code compiles.</p>\n<ol>\n<li>Am I missing something, or isn't it necessary to use <code>HttpURLConnection.class</code> and <code>openConnection()</code>?</li>\n<li>If it's not necessary, why does Android documentation recommend using it?</li>\n</ol>\n<p>Yes, I know, that besides <code>HttpURLConnection</code> it possible to use other packages (libraries), this question isn't about that. What I ask, is why I should use any type of connection if it's so simple to get data just calling <code>URL.getContent()</code>?</p>\n"},{"tags":["java","gradle","code-coverage","jacoco","jacoco-plugin"],"answers":[{"tags":[],"owner":{"account_id":1668855,"reputation":14404,"user_id":2700303,"accept_rate":63,"display_name":"MiguelSlv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693754385,"creation_date":1693613348,"answer_id":77026476,"question_id":76971858,"body_markdown":"The solutions is present in this [sample][1] from Gradle official site.\r\n\r\nThe root and sub-projects `build.settigns` files are correct in my question.\r\nBut for the coverage project the `build.settings` is missing a dependency\r\nThe whore file should be:\r\n\r\n\tplugins {\r\n\t   id &#39;java&#39;     \r\n\t   id &#39;jacoco-report-aggregation&#39;\r\n\t}\r\n\tbootJar {\r\n\t\tenabled = false\r\n\t}\r\n\tjar {\r\n\t\tenabled = false\r\n\t}    \r\n\tdependencies {\r\n\t\tjacocoAggregation project(&#39;:sub-project1&#39;)\r\n\t\tjacocoAggregation project(&#39;:sub-project2&#39;)  \r\n\t}\r\n    //as in sample for the case you want to build the report when you run check\r\n    tasks.named(&#39;check&#39;) {\r\n        dependsOn tasks.named(&#39;testCodeCoverageReport&#39;, JacocoReport)\r\n    }\r\n\r\nAnd to generate the aggregate report the command line should be:\r\n\r\n    $ ./gradlew testCodeCoverageReport //Invoke task `jacocoTestReport`  will not build the aggregate report as I was doing.\r\n    \r\nThe report will be generated at `&lt;coverage project path&gt;/build/reports/jacoco/testCodeCoverageReport`. \r\n\r\nThe XML file will be generate there too. It&#39;s not needed to enable CSV report format with the aggregate report plugin.\r\n\r\n  [1]: https://docs.gradle.org/current/samples/sample_jvm_multi_project_with_code_coverage_distribution.html","title":"Jacoco report aggregation plugin is not generating the XML file","body":"<p>The solutions is present in this <a href=\"https://docs.gradle.org/current/samples/sample_jvm_multi_project_with_code_coverage_distribution.html\" rel=\"nofollow noreferrer\">sample</a> from Gradle official site.</p>\n<p>The root and sub-projects <code>build.settigns</code> files are correct in my question.\nBut for the coverage project the <code>build.settings</code> is missing a dependency\nThe whore file should be:</p>\n<pre><code>plugins {\n   id 'java'     \n   id 'jacoco-report-aggregation'\n}\nbootJar {\n    enabled = false\n}\njar {\n    enabled = false\n}    \ndependencies {\n    jacocoAggregation project(':sub-project1')\n    jacocoAggregation project(':sub-project2')  \n}\n//as in sample for the case you want to build the report when you run check\ntasks.named('check') {\n    dependsOn tasks.named('testCodeCoverageReport', JacocoReport)\n}\n</code></pre>\n<p>And to generate the aggregate report the command line should be:</p>\n<pre><code>$ ./gradlew testCodeCoverageReport //Invoke task `jacocoTestReport`  will not build the aggregate report as I was doing.\n</code></pre>\n<p>The report will be generated at <code>&lt;coverage project path&gt;/build/reports/jacoco/testCodeCoverageReport</code>.</p>\n<p>The XML file will be generate there too. It's not needed to enable CSV report format with the aggregate report plugin.</p>\n"}],"owner":{"account_id":1668855,"reputation":14404,"user_id":2700303,"accept_rate":63,"display_name":"MiguelSlv"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77026476,"answer_count":1,"score":1,"last_activity_date":1693754385,"creation_date":1692899721,"question_id":76971858,"body_markdown":"I&#39; working on a multi-module project that employs a standalone sub-project to aggregate coverage reports. The project is build using Gradle so it uses [Jacoco report aggregation plugin][1] for Gradle.\r\n\r\nCurrently, the coverage report is generated in HTML format only. However, I specifically need the XML file format so that I can incorporate it into an artifact within Azure DevOps pipeline.\r\n\r\nThe root project and sub-projects have the following `build.grade` configuration files:\r\n\r\n**Root project**\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }   \r\n    sourceCompatibility = &#39;17&#39;\r\n    allprojects {\r\n        repositories {\r\n            mavenCentral()\r\n        }    \r\n        tasks.withType(Test.class).tap {\r\n            configureEach {\r\n                useJUnitPlatform()\r\n            }\r\n        }\r\n    }\r\n\r\n**One of the sub-projects**\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;jacoco&#39;\r\n    }\r\n    dependencies {\r\n       ...\r\n    }\r\n\r\n**The standalone coverage sub-project**\r\n\r\n     plugins {\r\n       id &#39;java&#39;     \r\n       id &#39;jacoco-report-aggregation&#39;\r\n    }\r\n    bootJar {\r\n        enabled = false\r\n    }\r\n    jar {\r\n        enabled = false\r\n    }    \r\n    dependencies {\r\n        jacocoAggregation project(&#39;:sub-project1&#39;)\r\n        jacocoAggregation project(&#39;:sub-project2&#39;)  \r\n      }\r\n\r\nThe root project `settings.gradle` file, just for completeness:\r\n\r\n    rootProject.name = &#39;my root project&#39;\r\n    include &#39;sub-project1&#39;\r\n    include &#39;sub-project2&#39;\r\n    include &#39;coverage&#39;\r\n \r\nTo generate the reports I&#39;m using the following Gradle command:\r\n\r\n    &gt; gradle clean build jacocoTestReport \r\n\r\nIn a different project with no sub-projects, I was able to generate the XML file by configuring up the Jacoco plugin report like this:\r\n\r\nbuild.grade\r\n\r\n    jacocoTestReport {\r\n\t  reports {\r\n\t\txml.required = true\r\n\t\tcsv.required = false\r\n\t}   \r\nYet I haven&#39;t be able to generate the XML format so far, for the multi-module project.\r\n\r\nAny suggestions or clues wild be greatly appreciated.\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/jacoco_report_aggregation_plugin.html","title":"Jacoco report aggregation plugin is not generating the XML file","body":"<p>I' working on a multi-module project that employs a standalone sub-project to aggregate coverage reports. The project is build using Gradle so it uses <a href=\"https://docs.gradle.org/current/userguide/jacoco_report_aggregation_plugin.html\" rel=\"nofollow noreferrer\">Jacoco report aggregation plugin</a> for Gradle.</p>\n<p>Currently, the coverage report is generated in HTML format only. However, I specifically need the XML file format so that I can incorporate it into an artifact within Azure DevOps pipeline.</p>\n<p>The root project and sub-projects have the following <code>build.grade</code> configuration files:</p>\n<p><strong>Root project</strong></p>\n<pre><code>plugins {\n    id 'java'\n}   \nsourceCompatibility = '17'\nallprojects {\n    repositories {\n        mavenCentral()\n    }    \n    tasks.withType(Test.class).tap {\n        configureEach {\n            useJUnitPlatform()\n        }\n    }\n}\n</code></pre>\n<p><strong>One of the sub-projects</strong></p>\n<pre><code>plugins {\n    id 'java'\n    id 'jacoco'\n}\ndependencies {\n   ...\n}\n</code></pre>\n<p><strong>The standalone coverage sub-project</strong></p>\n<pre><code> plugins {\n   id 'java'     \n   id 'jacoco-report-aggregation'\n}\nbootJar {\n    enabled = false\n}\njar {\n    enabled = false\n}    \ndependencies {\n    jacocoAggregation project(':sub-project1')\n    jacocoAggregation project(':sub-project2')  \n  }\n</code></pre>\n<p>The root project <code>settings.gradle</code> file, just for completeness:</p>\n<pre><code>rootProject.name = 'my root project'\ninclude 'sub-project1'\ninclude 'sub-project2'\ninclude 'coverage'\n</code></pre>\n<p>To generate the reports I'm using the following Gradle command:</p>\n<pre><code>&gt; gradle clean build jacocoTestReport \n</code></pre>\n<p>In a different project with no sub-projects, I was able to generate the XML file by configuring up the Jacoco plugin report like this:</p>\n<p>build.grade</p>\n<pre><code>jacocoTestReport {\n  reports {\n    xml.required = true\n    csv.required = false\n}   \n</code></pre>\n<p>Yet I haven't be able to generate the XML format so far, for the multi-module project.</p>\n<p>Any suggestions or clues wild be greatly appreciated.</p>\n"},{"tags":["java","linux","tomcat","memory","linux-kernel"],"comments":[{"owner":{"account_id":1932170,"reputation":9187,"user_id":1741343,"accept_rate":75,"display_name":"helmy"},"score":0,"creation_date":1413461012,"post_id":26403536,"comment_id":41456713,"body_markdown":"Please post the relevant messages from /var/log/messages.","body":"Please post the relevant messages from /var/log/messages."},{"owner":{"account_id":465939,"reputation":3614,"user_id":870382,"accept_rate":56,"display_name":"Novice User"},"score":0,"creation_date":1413461537,"post_id":26403536,"comment_id":41457081,"body_markdown":"Added in question. I omited some information as they have propitiatory info.","body":"Added in question. I omited some information as they have propitiatory info."},{"owner":{"account_id":21815,"reputation":19742,"user_id":53328,"accept_rate":78,"display_name":"Martin Wickman"},"score":2,"creation_date":1413461723,"post_id":26403536,"comment_id":41457210,"body_markdown":"`dmesg | egrep -i &#39;killed process&#39;`","body":"<code>dmesg | egrep -i &#39;killed process&#39;</code>"},{"owner":{"account_id":1932170,"reputation":9187,"user_id":1741343,"accept_rate":75,"display_name":"helmy"},"score":0,"creation_date":1413462255,"post_id":26403536,"comment_id":41457557,"body_markdown":"http://stackoverflow.com/a/10996413/1741343 has some good troubleshooting suggestions","body":"<a href=\"http://stackoverflow.com/a/10996413/1741343\">stackoverflow.com/a/10996413/1741343</a> has some good troubleshooting suggestions"},{"owner":{"account_id":465939,"reputation":3614,"user_id":870382,"accept_rate":56,"display_name":"Novice User"},"score":0,"creation_date":1413462777,"post_id":26403536,"comment_id":41457887,"body_markdown":"@MartinWickman : no output of cat /var/log/dmesg | egrep -i &#39;16248&#39;","body":"@MartinWickman : no output of cat /var/log/dmesg | egrep -i &#39;16248&#39;"},{"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1413666121,"post_id":26403536,"comment_id":41531723,"body_markdown":"`SIGSEGV` is a true crash, not the OOM killer. Do they happen at the same time? Usually when the Linux OOM killer strikes, the process simply disappears -- the victim process doesn&#39;t even have a chance to do anything as clumsy as a crash in response. What JVM are you running? It&#39;s pretty rare to see the JVM crash like that without a buggy native library in the mix.","body":"<code>SIGSEGV</code> is a true crash, not the OOM killer. Do they happen at the same time? Usually when the Linux OOM killer strikes, the process simply disappears -- the victim process doesn&#39;t even have a chance to do anything as clumsy as a crash in response. What JVM are you running? It&#39;s pretty rare to see the JVM crash like that without a buggy native library in the mix."},{"owner":{"account_id":465939,"reputation":3614,"user_id":870382,"accept_rate":56,"display_name":"Novice User"},"score":0,"creation_date":1413785421,"post_id":26403536,"comment_id":41558518,"body_markdown":"@ChristopherSchultz : Yes, they happen around same time. I am using JVM -# JRE version: Java(TM) SE Runtime Environment (7.0_45-b18) (build 1.7.0_45-b18)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (24.45-b08 mixed mode linux-amd64 compressed oops)","body":"@ChristopherSchultz : Yes, they happen around same time. I am using JVM -# JRE version: Java(TM) SE Runtime Environment (7.0_45-b18) (build 1.7.0_45-b18) # Java VM: Java HotSpot(TM) 64-Bit Server VM (24.45-b08 mixed mode linux-amd64 compressed oops)"}],"answers":[{"tags":[],"owner":{"account_id":5357817,"reputation":176,"user_id":4270027,"display_name":"user4270027"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474049597,"creation_date":1474049597,"answer_id":39537732,"question_id":26403536,"body_markdown":"It&#39;s more likely that the OOM issue is causing the crash.  One common reason for using more memory than the -Xmx argument is if you use  native memory.  This could happen because you&#39;re using a JNI library that allocates a lot of objects, or if you&#39;re memory mapping files, etc.  \r\n\r\nYou should try adding some log statements to your java code to print out the memory Java thinks it&#39;s using Runtime.totalMemory, etc.  Then compare these to values you see via top, and see if there&#39;s something else consuming memory.","title":"Linux OOM Killer and Java Process","body":"<p>It's more likely that the OOM issue is causing the crash.  One common reason for using more memory than the -Xmx argument is if you use  native memory.  This could happen because you're using a JNI library that allocates a lot of objects, or if you're memory mapping files, etc.  </p>\n\n<p>You should try adding some log statements to your java code to print out the memory Java thinks it's using Runtime.totalMemory, etc.  Then compare these to values you see via top, and see if there's something else consuming memory.</p>\n"},{"comments":[{"owner":{"account_id":2141010,"reputation":118249,"user_id":1899640,"display_name":"that other guy"},"score":1,"creation_date":1624998987,"post_id":39748386,"comment_id":120509274,"body_markdown":"How did you conclude this?","body":"How did you conclude this?"}],"tags":[],"owner":{"account_id":9283191,"reputation":1,"user_id":6893852,"display_name":"Obite Aaron"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1475070027,"creation_date":1475067769,"answer_id":39748386,"question_id":26403536,"body_markdown":"this is linux limit thread number.\r\n\r\nlinux default limited 1024, and maximum 65535\r\n\r\nyou can use command `ulimit -c unlimited` to unlimited.","title":"Linux OOM Killer and Java Process","body":"<p>this is linux limit thread number.</p>\n\n<p>linux default limited 1024, and maximum 65535</p>\n\n<p>you can use command <code>ulimit -c unlimited</code> to unlimited.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690729344,"creation_date":1656323204,"answer_id":72770048,"question_id":26403536,"body_markdown":"Is the OOM killer *causing* the panic?\r\n\r\nI think not.  According to [Chapter 13][1] of &quot;Understanding the Linux Virtual Memory Manager&quot; by Mel Gorman.\r\n\r\n&gt; 13.4  Killing the Selected Process\r\n&gt; \r\n&gt; Once a task is selected, the list is walked again and each process\r\n&gt; that shares the same `mm_struct` as the selected process (i.e. they are\r\n&gt; threads) is sent a signal. If the process has `CAP_SYS_RAWIO`\r\n&gt; capabilities, a `SIGTERM` is sent to give the process a chance of\r\n&gt; exiting cleanly, otherwise a `SIGKILL` is sent.\r\n\r\nIf the JVM process gets a `SIGKILL` signal, it won&#39;t get a chance to generate the crash report.  Therefore the JVM crash happened before the OOM killer event.\r\n\r\nAll other sources that I have seen (that mention the signal) say the same thing.\r\n\r\n-------------------\r\n\r\nBut what about `CAP_SYS_RAWIO`?\r\n\r\n  - That capability can only be set by a privileged user (or process).  It allows access to physical I/O ports and to kernel memory via &quot;/dev/kmem&quot;.  IMO, it is unlikely that your JVM process has this capability set.\r\n\r\n  - If the JVM process did have that capability, it would have gotten a `SIGTERM` signal.  But the crash report says it is in response to a `SIGSEGV` signal.\r\n\r\n--------------------\r\n\r\nSo why are the JVM crash and OOM killer log messages apparently correlated?\r\n\r\nI don&#39;t know, but one possible sequence is as follows:\r\n\r\n  1.  Something corrupts the memory in the JVM; e.g. some badly written native library.\r\n  2.  The JVM (eventually) falls over with a segmentation fault (reported via a `SIGSEGV` signal) due to the previous corruption.\r\n  3.  Something (before or after the `SIGSEGV` that crashed the JVM) triggers an excessive amount of virtual memory paging.\r\n  4.  The OOM killer is alerted ... and does its thing.\r\n\r\nThe other possibility is that this is just a coincidence; i.e. the crash dump and the OOM killer log messages are for different JVMs.\r\n\r\n-----------------\r\n\r\nIn summary, the root cause is whatever caused the segmentation fault.  (And I can&#39;t tell you what that was ...)\r\n\r\n  [1]: https://www.kernel.org/doc/gorman/html/understand/understand016.html","title":"Linux OOM Killer and Java Process","body":"<p>Is the OOM killer <em>causing</em> the panic?</p>\n<p>I think not.  According to <a href=\"https://www.kernel.org/doc/gorman/html/understand/understand016.html\" rel=\"nofollow noreferrer\">Chapter 13</a> of &quot;Understanding the Linux Virtual Memory Manager&quot; by Mel Gorman.</p>\n<blockquote>\n<p>13.4  Killing the Selected Process</p>\n<p>Once a task is selected, the list is walked again and each process\nthat shares the same <code>mm_struct</code> as the selected process (i.e. they are\nthreads) is sent a signal. If the process has <code>CAP_SYS_RAWIO</code>\ncapabilities, a <code>SIGTERM</code> is sent to give the process a chance of\nexiting cleanly, otherwise a <code>SIGKILL</code> is sent.</p>\n</blockquote>\n<p>If the JVM process gets a <code>SIGKILL</code> signal, it won't get a chance to generate the crash report.  Therefore the JVM crash happened before the OOM killer event.</p>\n<p>All other sources that I have seen (that mention the signal) say the same thing.</p>\n<hr />\n<p>But what about <code>CAP_SYS_RAWIO</code>?</p>\n<ul>\n<li><p>That capability can only be set by a privileged user (or process).  It allows access to physical I/O ports and to kernel memory via &quot;/dev/kmem&quot;.  IMO, it is unlikely that your JVM process has this capability set.</p>\n</li>\n<li><p>If the JVM process did have that capability, it would have gotten a <code>SIGTERM</code> signal.  But the crash report says it is in response to a <code>SIGSEGV</code> signal.</p>\n</li>\n</ul>\n<hr />\n<p>So why are the JVM crash and OOM killer log messages apparently correlated?</p>\n<p>I don't know, but one possible sequence is as follows:</p>\n<ol>\n<li>Something corrupts the memory in the JVM; e.g. some badly written native library.</li>\n<li>The JVM (eventually) falls over with a segmentation fault (reported via a <code>SIGSEGV</code> signal) due to the previous corruption.</li>\n<li>Something (before or after the <code>SIGSEGV</code> that crashed the JVM) triggers an excessive amount of virtual memory paging.</li>\n<li>The OOM killer is alerted ... and does its thing.</li>\n</ol>\n<p>The other possibility is that this is just a coincidence; i.e. the crash dump and the OOM killer log messages are for different JVMs.</p>\n<hr />\n<p>In summary, the root cause is whatever caused the segmentation fault.  (And I can't tell you what that was ...)</p>\n"}],"owner":{"account_id":465939,"reputation":3614,"user_id":870382,"accept_rate":56,"display_name":"Novice User"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11261,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1693753200,"creation_date":1413459795,"question_id":26403536,"body_markdown":"I am often facing issue in our production environment of the Tomcat process getting killed by Linux OOM.\r\n\r\nChecking /var/log/messages it says java not tainted and java invoked OOM killer.\r\n\r\n**-Xms20480m -Xmx20480m** on a 32 GB box.\r\n\r\nI see below crash -\r\n\r\nIs the OOM causing this crash ? or the crash happened because of OOM ?\r\nHow can I debug this issue ?\r\n\r\n\r\n\r\n\r\n    #\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  SIGSEGV (0xb) at pc=0x00007f4c3230aad7, pid=16248, tid=139964439296320\r\n    #\r\n    # JRE version: Java(TM) SE Runtime Environment (7.0_45-b18) (build 1.7.0_45-b18)\r\n    # Java VM: Java HotSpot(TM) 64-Bit Server VM (24.45-b08 mixed mode linux-amd64 compressed oops)\r\n    # Problematic frame:\r\n    # V  [libjvm.so+0x674ad7]  JVM_Clone+0x97\r\n    #\r\n    # Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n    #\r\n    # If you would like to submit a bug report, please visit:\r\n    #   http://bugreport.sun.com/bugreport/crash.jsp\r\n    # The crash happened outside the Java Virtual Machine in native code.\r\n    # See problematic frame for where to report the bug.\r\n    #\r\n    \r\n    ---------------  T H R E A D  ---------------\r\n    \r\n    Current thread (0x0000000001313800):  JavaThread &quot;http-bio-14080-exec-17&quot; daemon [_thread_in_native, id=18943, stack(0x00007f4c029f7000,0x00007f4c02af8000)]\r\n    \r\n    siginfo:si_signo=SIGSEGV: si_errno=0, si_code=128 (), si_addr=0x0000000000000000\r\n    \r\n    Registers:\r\n    RAX=0x0000000000010000, RBX=0x80000001000004db, RCX=0x0000000302bd6fb0, RDX=0x00007f4c32acda50\r\n    RSP=0x00007f4c02af2c88, RBP=0x00007f4c02af2d70, RSI=0x00007f4c02af2d80, RDI=0x00000000013139e8\r\n    R8 =0x0000000000000001, R9 =0x00000002f8191228, R10=0x00007f4c2e231658, R11=0x00007f4c2e231638\r\n    R12=0x0000000302bd6fb0, R13=0x00000007e0002420, R14=0x0000000000000000, R15=0x0000000001313800\r\n    RIP=0x00007f4c3230aad7, EFLAGS=0x0000000000010202, CSGSFS=0x0000000000000033, ERR=0x0000000000000000\r\n      TRAPNO=0x000000000000000d\r\n    \r\n    Top of Stack: (sp=0x00007f4c02af2c88)\r\n    0x00007f4c02af2c88:   00007f4c3230aa63 00000000129196d1\r\n    0x00007f4c02af2c98:   00000002f817b620 00000000013139e8\r\n    0x00007f4c02af2ca8:   00007f4c02af2d18 00000002f8191080\r\n    0x00007f4c02af2cb8:   0000000000000009 0000000001313800\r\n    0x00007f4c02af2cc8:   0000000000000000 0000000001313800\r\n    0x00007f4c02af2cd8:   00000000138f5509 0000000000000000\r\n    0x00007f4c02af2ce8:   00007f4c2e382ae8 0000000000000000\r\n    0x00007f4c02af2cf8:   00007f4c02af2cf8 00000002f817b620\r\n    0x00007f4c02af2d08:   00000002f8190fd8 00000007e01ab278\r\n    0x00007f4c02af2d18:   00000002f8190ec0 00000007e0002420\r\n    0x00007f4c02af2d28:   0000000000000000 00000007e0002420\r\n    0x00007f4c02af2d38:   0000000000000000 0000000000000000\r\n    0x00007f4c02af2d48:   00000007e0002420 0000000000000000\r\n    0x00007f4c02af2d58:   00007f4c02af2de0 0000000000000000\r\n    0x00007f4c02af2d68:   0000000001313800 00007f4c02af2dc0\r\n    0x00007f4c02af2d78:   00007f4c2e2316c6 0000000302bd6fb0\r\n    0x00007f4c02af2d88:   0000000000000000 00007f4c02af2e08\r\n    0x00007f4c02af2d98:   00007f4c2e1bc8e1 00007f4c02af2db8\r\n    0x00007f4c02af2da8:   00007f4c2e1bc8e1 00000002f8190fd8\r\n    0x00007f4c02af2db8:   00000002f817b620 00007f4c02af2e28\r\n    0x00007f4c02af2dc8:   00007f4c2e1bc233 00000007e1ec4e9f\r\n    0x00007f4c02af2dd8:   00007f4c2e1bc233 0000000302bd6fb0\r\n    0x00007f4c02af2de8:   00007f4c02af2de8 00000007e1b7a5db\r\n    0x00007f4c02af2df8:   00007f4c02af2e30 00000007e37575a8\r\n    0x00007f4c02af2e08:   0000000000000000 00000007e1b7a5e8\r\n    0x00007f4c02af2e18:   00007f4c02af2de0 00007f4c02af2e40\r\n    0x00007f4c02af2e28:   00007f4c02af2ed0 00007f4c2edaaf34\r\n    0x00007f4c02af2e38:   00007f4c2edaaf34 00007f4c0000000a\r\n    0x00007f4c02af2e48:   00000007e416ec20 0000000000000000\r\n    0x00007f4c02af2e58:   00000007e416e2b8 00007f4c02af2ed0\r\n    0x00007f4c02af2e68:   00007f4c2e1bc233 00007f4c02af2ed0\r\n    0x00007f4c02af2e78:   00007f4c2e1bc233 000000000000000a \r\n    \r\n    Instructions: (pc=0x00007f4c3230aad7)\r\n    0x00007f4c3230aab7:   85 60 02 00 00 06 00 00 00 4c 89 6d b0 4c 8b 23\r\n    0x00007f4c3230aac7:   4d 85 e4 0f 84 68 02 00 00 49 8b 9d 20 01 00 00\r\n    0x00007f4c3230aad7:   48 83 7b 10 f7 0f 87 6e 02 00 00 48 8b 43 10 48\r\n    0x00007f4c3230aae7:   8d 50 08 48 3b 53 18 0f 87 9c 02 00 00 48 89 53 \r\n    \r\n    Register to memory mapping:\r\n    \r\n    RAX=0x0000000000010000 is an unknown value\r\n    RBX=0x80000001000004db is an unknown value\r\n    RCX=0x0000000302bd6fb0 is an oop\r\n    [Lcom.mycompany.MyClass$Type; \r\n     - klass: &#39;com/mycompany/MyClass$Type&#39;[]\r\n     - length: 16\r\n    RDX=0x00007f4c32acda50: &lt;offset 0xe37a50&gt; in /usr/java/jre64-1.7.0_45/jre/lib/amd64/server/libjvm.so at 0x00007f4c31c96000\r\n    RSP=0x00007f4c02af2c88 is pointing into the stack for thread: 0x0000000001313800\r\n    RBP=0x00007f4c02af2d70 is pointing into the stack for thread: 0x0000000001313800\r\n    RSI=0x00007f4c02af2d80 is pointing into the stack for thread: 0x0000000001313800\r\n    RDI=0x00000000013139e8 is an unknown value\r\n    R8 =0x0000000000000001 is an unknown value\r\n    R9 =\r\n    [error occurred during error reporting (printing register info), id 0xb]\r\n    \r\n    Stack: [0x00007f4c029f7000,0x00007f4c02af8000],  sp=0x00007f4c02af2c88,  free space=1007k\r\n    Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\n    V  [libjvm.so+0x674ad7]  JVM_Clone+0x97\r\n    J  java.lang.Object.clone()Ljava/lang/Object;\r\n    j  com.mycompany.MyClass$Type.values()[Lcom/mycompany/MyClass$Type;+3\r\n    \r\n    Java frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\n    J  java.lang.Object.clone()Ljava/lang/Object;\r\n    j  com.mycompany.MyClass$Type.values()[Lcom/mycompany/MyClass$Type;+3\r\n\r\n\r\n**/var/log/messages** output - \r\n\r\n    myhostname kernel: java invoked oom-killer: gfp_mask=0x201da, order=0, oom_adj=0, oom_score_adj=0\r\n    myhostname kernel: java cpuset=/ mems_allowed=0\r\n    myhostname kernel: Pid: 32307, comm: java Not tainted 2.6.39-400.209.1.el5uek #1\r\n    myhostname kernel: Call Trace:\r\n    myhostname kernel:  [&lt;ffffffff811136b4&gt;] dump_header+0x94/0xe0\r\n    myhostname kernel:  [&lt;ffffffff811137fd&gt;] oom_kill_process+0x6d/0x160\r\n    myhostname kernel:  [&lt;ffffffff811139ec&gt;] out_of_memory+0xfc/0x210\r\n    myhostname kernel:  [&lt;ffffffff811187ec&gt;] __alloc_pages_slowpath+0x64c/0x660\r\n    myhostname kernel:  [&lt;ffffffff811189b4&gt;] __alloc_pages_nodemask+0x1b4/0x200\r\n    myhostname kernel:  [&lt;ffffffff8111b140&gt;] ? __do_page_cache_readahead+0xe0/0x170\r\n    myhostname kernel:  [&lt;ffffffff81150893&gt;] alloc_pages_current+0xb3/0x120\r\n    myhostname kernel:  [&lt;ffffffff811100da&gt;] __page_cache_alloc+0x9a/0xb0\r\n    myhostname kernel:  [&lt;ffffffff8111097f&gt;] page_cache_read+0x4f/0xb0\r\n    myhostname kernel:  [&lt;ffffffff81111a54&gt;] filemap_fault+0x174/0x270\r\n    myhostname kernel:  [&lt;ffffffff81137a2c&gt;] __do_fault+0x5c/0x550\r\n    myhostname kernel:  [&lt;ffffffff81137fc6&gt;] do_linear_fault+0x36/0x40\r\n    myhostname kernel:  [&lt;ffffffff81510b6e&gt;] ? call_function_interrupt+0xe/0x20\r\n    myhostname kernel:  [&lt;ffffffff81138044&gt;] handle_pte_fault+0x74/0x190\r\n    myhostname kernel:  [&lt;ffffffff815106ae&gt;] ? apic_timer_interrupt+0xe/0x20\r\n    myhostname kernel:  [&lt;ffffffff8113828f&gt;] handle_mm_fault+0x12f/0x1b0\r\n    myhostname kernel:  [&lt;ffffffff8150b1cd&gt;] do_page_fault+0x17d/0x4b0\r\n    myhostname kernel:  [&lt;ffffffff8117b821&gt;] ? user_path_at+0x11/0x20\r\n    myhostname kernel:  [&lt;ffffffff81170516&gt;] ? vfs_fstatat+0x56/0x90\r\n    myhostname kernel:  [&lt;ffffffff8117067b&gt;] ? vfs_stat+0x1b/0x20\r\n    myhostname kernel:  [&lt;ffffffff81507cd5&gt;] page_fault+0x25/0x30\r\n    myhostname kernel: Mem-Info:\r\n    myhostname kernel: Node 0 DMA per-cpu:\r\n    myhostname kernel: CPU    0: hi:    0, btch:   1 usd:   0\r\n    myhostname kernel: CPU    1: hi:    0, btch:   1 usd:   0\r\n    myhostname kernel: CPU    2: hi:    0, btch:   1 usd:   0\r\n    myhostname kernel: CPU    3: hi:    0, btch:   1 usd:   0\r\n    myhostname kernel: CPU    4: hi:    0, btch:   1 usd:   0\r\n    myhostname kernel: CPU    5: hi:    0, btch:   1 usd:   0\r\n    myhostname kernel: Node 0 DMA32 per-cpu:\r\n    myhostname kernel: CPU    0: hi:  186, btch:  31 usd:   0\r\n    myhostname kernel: CPU    1: hi:  186, btch:  31 usd:   0\r\n    myhostname kernel: CPU    2: hi:  186, btch:  31 usd:   0\r\n    myhostname kernel: CPU    3: hi:  186, btch:  31 usd:  11\r\n    myhostname kernel: CPU    4: hi:  186, btch:  31 usd:  30\r\n    myhostname kernel: CPU    5: hi:  186, btch:  31 usd:   0\r\n    myhostname kernel: Node 0 Normal per-cpu:\r\n    myhostname kernel: CPU    0: hi:  186, btch:  31 usd:   0\r\n    myhostname kernel: CPU    1: hi:  186, btch:  31 usd:   0\r\n    myhostname kernel: CPU    2: hi:  186, btch:  31 usd:   0\r\n    myhostname kernel: CPU    3: hi:  186, btch:  31 usd:   0\r\n    myhostname kernel: CPU    4: hi:  186, btch:  31 usd:   0\r\n    myhostname kernel: CPU    5: hi:  186, btch:  31 usd:   0\r\n    myhostname kernel: active_anon:4372468 inactive_anon:275213 isolated_anon:0\r\n    myhostname kernel:  active_file:17 inactive_file:21 isolated_file:0\r\n    myhostname kernel:  unevictable:6002 dirty:24 writeback:4 unstable:0\r\n    myhostname kernel:  free:38369 slab_reclaimable:3708 slab_unreclaimable:9265\r\n    myhostname kernel:  mapped:1253 shmem:67 pagetables:10880 bounce:0\r\n    myhostname kernel: Node 0 DMA free:15880kB min:8kB low:8kB high:12kB active_anon:0kB inactive_anon:0kB active_file:0kB inactive_file:0kB unevictable:0kB isolated(anon):0kB isolated(file):0kB present:15688kB mlocked:0kB dirty:0kB writeback:0kB mapped:0kB shmem:0kB slab_reclaimable:0kB slab_unreclaimable:0kB kernel_stack:0kB pagetables:0kB unstable:0kB bounce:0kB writeback_tmp:0kB pages_scanned:0 all_unreclaimable? yes\r\n    myhostname kernel: lowmem_reserve[]: 0 3000 32290 32290\r\n    myhostname kernel: Node 0 DMA32 free:119288kB min:2136kB low:2668kB high:3204kB active_anon:30224kB inactive_anon:9152kB active_file:0kB inactive_file:0kB unevictable:0kB isolated(anon):0kB isolated(file):0kB present:3072096kB mlocked:0kB dirty:16kB writeback:4kB mapped:36kB shmem:0kB slab_reclaimable:40kB slab_unreclaimable:232kB kernel_stack:24kB pagetables:48kB unstable:0kB bounce:0kB writeback_tmp:0kB pages_scanned:67 all_unreclaimable? yes\r\n    myhostname kernel: lowmem_reserve[]: 0 0 29290 29290\r\n    myhostname kernel: Node 0 Normal free:17564kB min:20856kB low:26068kB high:31284kB active_anon:17459648kB inactive_anon:1091700kB active_file:120kB inactive_file:88kB unevictable:24008kB isolated(anon):0kB isolated(file):0kB present:29992960kB mlocked:24008kB dirty:80kB writeback:12kB mapped:4976kB shmem:268kB slab_reclaimable:14792kB slab_unreclaimable:36828kB kernel_stack:2768kB pagetables:43472kB unstable:0kB bounce:0kB writeback_tmp:0kB pages_scanned:14972 all_unreclaimable? yes\r\n    myhostname kernel: lowmem_reserve[]: 0 0 0 0\r\n    myhostname kernel: Node 0 DMA: 0*4kB 1*8kB 0*16kB 0*32kB 2*64kB 1*128kB 1*256kB 0*512kB 1*1024kB 1*2048kB 3*4096kB = 15880kB\r\n    myhostname kernel: Node 0 DMA32: 458*4kB 494*8kB 284*16kB 55*32kB 7*64kB 4*128kB 5*256kB 7*512kB 7*1024kB 6*2048kB 20*4096kB = 119288kB\r\n    myhostname kernel: Node 0 Normal: 3333*4kB 0*8kB 0*16kB 0*32kB 0*64kB 0*128kB 0*256kB 0*512kB 0*1024kB 0*2048kB 1*4096kB = 17428kB\r\n    myhostname kernel: 115783 total pagecache pages\r\n    myhostname kernel: 114466 pages in swap cache\r\n    myhostname kernel: Swap cache stats: add 2183060, delete 2068594, find 1860109/1985849\r\n    myhostname kernel: Free swap  = 0kB\r\n    myhostname kernel: Total swap = 2097148kB\r\n    myhostname kernel: 8388592 pages RAM\r\n    myhostname kernel: 134806 pages reserved\r\n    myhostname kernel: 6845 pages shared\r\n    myhostname kernel: 8210059 pages non-shared","title":"Linux OOM Killer and Java Process","body":"<p>I am often facing issue in our production environment of the Tomcat process getting killed by Linux OOM.</p>\n\n<p>Checking /var/log/messages it says java not tainted and java invoked OOM killer.</p>\n\n<p><strong>-Xms20480m -Xmx20480m</strong> on a 32 GB box.</p>\n\n<p>I see below crash -</p>\n\n<p>Is the OOM causing this crash ? or the crash happened because of OOM ?\nHow can I debug this issue ?</p>\n\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007f4c3230aad7, pid=16248, tid=139964439296320\n#\n# JRE version: Java(TM) SE Runtime Environment (7.0_45-b18) (build 1.7.0_45-b18)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (24.45-b08 mixed mode linux-amd64 compressed oops)\n# Problematic frame:\n# V  [libjvm.so+0x674ad7]  JVM_Clone+0x97\n#\n# Failed to write core dump. Core dumps have been disabled. To enable core dumping, try \"ulimit -c unlimited\" before starting Java again\n#\n# If you would like to submit a bug report, please visit:\n#   http://bugreport.sun.com/bugreport/crash.jsp\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n\n---------------  T H R E A D  ---------------\n\nCurrent thread (0x0000000001313800):  JavaThread \"http-bio-14080-exec-17\" daemon [_thread_in_native, id=18943, stack(0x00007f4c029f7000,0x00007f4c02af8000)]\n\nsiginfo:si_signo=SIGSEGV: si_errno=0, si_code=128 (), si_addr=0x0000000000000000\n\nRegisters:\nRAX=0x0000000000010000, RBX=0x80000001000004db, RCX=0x0000000302bd6fb0, RDX=0x00007f4c32acda50\nRSP=0x00007f4c02af2c88, RBP=0x00007f4c02af2d70, RSI=0x00007f4c02af2d80, RDI=0x00000000013139e8\nR8 =0x0000000000000001, R9 =0x00000002f8191228, R10=0x00007f4c2e231658, R11=0x00007f4c2e231638\nR12=0x0000000302bd6fb0, R13=0x00000007e0002420, R14=0x0000000000000000, R15=0x0000000001313800\nRIP=0x00007f4c3230aad7, EFLAGS=0x0000000000010202, CSGSFS=0x0000000000000033, ERR=0x0000000000000000\n  TRAPNO=0x000000000000000d\n\nTop of Stack: (sp=0x00007f4c02af2c88)\n0x00007f4c02af2c88:   00007f4c3230aa63 00000000129196d1\n0x00007f4c02af2c98:   00000002f817b620 00000000013139e8\n0x00007f4c02af2ca8:   00007f4c02af2d18 00000002f8191080\n0x00007f4c02af2cb8:   0000000000000009 0000000001313800\n0x00007f4c02af2cc8:   0000000000000000 0000000001313800\n0x00007f4c02af2cd8:   00000000138f5509 0000000000000000\n0x00007f4c02af2ce8:   00007f4c2e382ae8 0000000000000000\n0x00007f4c02af2cf8:   00007f4c02af2cf8 00000002f817b620\n0x00007f4c02af2d08:   00000002f8190fd8 00000007e01ab278\n0x00007f4c02af2d18:   00000002f8190ec0 00000007e0002420\n0x00007f4c02af2d28:   0000000000000000 00000007e0002420\n0x00007f4c02af2d38:   0000000000000000 0000000000000000\n0x00007f4c02af2d48:   00000007e0002420 0000000000000000\n0x00007f4c02af2d58:   00007f4c02af2de0 0000000000000000\n0x00007f4c02af2d68:   0000000001313800 00007f4c02af2dc0\n0x00007f4c02af2d78:   00007f4c2e2316c6 0000000302bd6fb0\n0x00007f4c02af2d88:   0000000000000000 00007f4c02af2e08\n0x00007f4c02af2d98:   00007f4c2e1bc8e1 00007f4c02af2db8\n0x00007f4c02af2da8:   00007f4c2e1bc8e1 00000002f8190fd8\n0x00007f4c02af2db8:   00000002f817b620 00007f4c02af2e28\n0x00007f4c02af2dc8:   00007f4c2e1bc233 00000007e1ec4e9f\n0x00007f4c02af2dd8:   00007f4c2e1bc233 0000000302bd6fb0\n0x00007f4c02af2de8:   00007f4c02af2de8 00000007e1b7a5db\n0x00007f4c02af2df8:   00007f4c02af2e30 00000007e37575a8\n0x00007f4c02af2e08:   0000000000000000 00000007e1b7a5e8\n0x00007f4c02af2e18:   00007f4c02af2de0 00007f4c02af2e40\n0x00007f4c02af2e28:   00007f4c02af2ed0 00007f4c2edaaf34\n0x00007f4c02af2e38:   00007f4c2edaaf34 00007f4c0000000a\n0x00007f4c02af2e48:   00000007e416ec20 0000000000000000\n0x00007f4c02af2e58:   00000007e416e2b8 00007f4c02af2ed0\n0x00007f4c02af2e68:   00007f4c2e1bc233 00007f4c02af2ed0\n0x00007f4c02af2e78:   00007f4c2e1bc233 000000000000000a \n\nInstructions: (pc=0x00007f4c3230aad7)\n0x00007f4c3230aab7:   85 60 02 00 00 06 00 00 00 4c 89 6d b0 4c 8b 23\n0x00007f4c3230aac7:   4d 85 e4 0f 84 68 02 00 00 49 8b 9d 20 01 00 00\n0x00007f4c3230aad7:   48 83 7b 10 f7 0f 87 6e 02 00 00 48 8b 43 10 48\n0x00007f4c3230aae7:   8d 50 08 48 3b 53 18 0f 87 9c 02 00 00 48 89 53 \n\nRegister to memory mapping:\n\nRAX=0x0000000000010000 is an unknown value\nRBX=0x80000001000004db is an unknown value\nRCX=0x0000000302bd6fb0 is an oop\n[Lcom.mycompany.MyClass$Type; \n - klass: 'com/mycompany/MyClass$Type'[]\n - length: 16\nRDX=0x00007f4c32acda50: &lt;offset 0xe37a50&gt; in /usr/java/jre64-1.7.0_45/jre/lib/amd64/server/libjvm.so at 0x00007f4c31c96000\nRSP=0x00007f4c02af2c88 is pointing into the stack for thread: 0x0000000001313800\nRBP=0x00007f4c02af2d70 is pointing into the stack for thread: 0x0000000001313800\nRSI=0x00007f4c02af2d80 is pointing into the stack for thread: 0x0000000001313800\nRDI=0x00000000013139e8 is an unknown value\nR8 =0x0000000000000001 is an unknown value\nR9 =\n[error occurred during error reporting (printing register info), id 0xb]\n\nStack: [0x00007f4c029f7000,0x00007f4c02af8000],  sp=0x00007f4c02af2c88,  free space=1007k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nV  [libjvm.so+0x674ad7]  JVM_Clone+0x97\nJ  java.lang.Object.clone()Ljava/lang/Object;\nj  com.mycompany.MyClass$Type.values()[Lcom/mycompany/MyClass$Type;+3\n\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nJ  java.lang.Object.clone()Ljava/lang/Object;\nj  com.mycompany.MyClass$Type.values()[Lcom/mycompany/MyClass$Type;+3\n</code></pre>\n\n<p><strong>/var/log/messages</strong> output - </p>\n\n<pre><code>myhostname kernel: java invoked oom-killer: gfp_mask=0x201da, order=0, oom_adj=0, oom_score_adj=0\nmyhostname kernel: java cpuset=/ mems_allowed=0\nmyhostname kernel: Pid: 32307, comm: java Not tainted 2.6.39-400.209.1.el5uek #1\nmyhostname kernel: Call Trace:\nmyhostname kernel:  [&lt;ffffffff811136b4&gt;] dump_header+0x94/0xe0\nmyhostname kernel:  [&lt;ffffffff811137fd&gt;] oom_kill_process+0x6d/0x160\nmyhostname kernel:  [&lt;ffffffff811139ec&gt;] out_of_memory+0xfc/0x210\nmyhostname kernel:  [&lt;ffffffff811187ec&gt;] __alloc_pages_slowpath+0x64c/0x660\nmyhostname kernel:  [&lt;ffffffff811189b4&gt;] __alloc_pages_nodemask+0x1b4/0x200\nmyhostname kernel:  [&lt;ffffffff8111b140&gt;] ? __do_page_cache_readahead+0xe0/0x170\nmyhostname kernel:  [&lt;ffffffff81150893&gt;] alloc_pages_current+0xb3/0x120\nmyhostname kernel:  [&lt;ffffffff811100da&gt;] __page_cache_alloc+0x9a/0xb0\nmyhostname kernel:  [&lt;ffffffff8111097f&gt;] page_cache_read+0x4f/0xb0\nmyhostname kernel:  [&lt;ffffffff81111a54&gt;] filemap_fault+0x174/0x270\nmyhostname kernel:  [&lt;ffffffff81137a2c&gt;] __do_fault+0x5c/0x550\nmyhostname kernel:  [&lt;ffffffff81137fc6&gt;] do_linear_fault+0x36/0x40\nmyhostname kernel:  [&lt;ffffffff81510b6e&gt;] ? call_function_interrupt+0xe/0x20\nmyhostname kernel:  [&lt;ffffffff81138044&gt;] handle_pte_fault+0x74/0x190\nmyhostname kernel:  [&lt;ffffffff815106ae&gt;] ? apic_timer_interrupt+0xe/0x20\nmyhostname kernel:  [&lt;ffffffff8113828f&gt;] handle_mm_fault+0x12f/0x1b0\nmyhostname kernel:  [&lt;ffffffff8150b1cd&gt;] do_page_fault+0x17d/0x4b0\nmyhostname kernel:  [&lt;ffffffff8117b821&gt;] ? user_path_at+0x11/0x20\nmyhostname kernel:  [&lt;ffffffff81170516&gt;] ? vfs_fstatat+0x56/0x90\nmyhostname kernel:  [&lt;ffffffff8117067b&gt;] ? vfs_stat+0x1b/0x20\nmyhostname kernel:  [&lt;ffffffff81507cd5&gt;] page_fault+0x25/0x30\nmyhostname kernel: Mem-Info:\nmyhostname kernel: Node 0 DMA per-cpu:\nmyhostname kernel: CPU    0: hi:    0, btch:   1 usd:   0\nmyhostname kernel: CPU    1: hi:    0, btch:   1 usd:   0\nmyhostname kernel: CPU    2: hi:    0, btch:   1 usd:   0\nmyhostname kernel: CPU    3: hi:    0, btch:   1 usd:   0\nmyhostname kernel: CPU    4: hi:    0, btch:   1 usd:   0\nmyhostname kernel: CPU    5: hi:    0, btch:   1 usd:   0\nmyhostname kernel: Node 0 DMA32 per-cpu:\nmyhostname kernel: CPU    0: hi:  186, btch:  31 usd:   0\nmyhostname kernel: CPU    1: hi:  186, btch:  31 usd:   0\nmyhostname kernel: CPU    2: hi:  186, btch:  31 usd:   0\nmyhostname kernel: CPU    3: hi:  186, btch:  31 usd:  11\nmyhostname kernel: CPU    4: hi:  186, btch:  31 usd:  30\nmyhostname kernel: CPU    5: hi:  186, btch:  31 usd:   0\nmyhostname kernel: Node 0 Normal per-cpu:\nmyhostname kernel: CPU    0: hi:  186, btch:  31 usd:   0\nmyhostname kernel: CPU    1: hi:  186, btch:  31 usd:   0\nmyhostname kernel: CPU    2: hi:  186, btch:  31 usd:   0\nmyhostname kernel: CPU    3: hi:  186, btch:  31 usd:   0\nmyhostname kernel: CPU    4: hi:  186, btch:  31 usd:   0\nmyhostname kernel: CPU    5: hi:  186, btch:  31 usd:   0\nmyhostname kernel: active_anon:4372468 inactive_anon:275213 isolated_anon:0\nmyhostname kernel:  active_file:17 inactive_file:21 isolated_file:0\nmyhostname kernel:  unevictable:6002 dirty:24 writeback:4 unstable:0\nmyhostname kernel:  free:38369 slab_reclaimable:3708 slab_unreclaimable:9265\nmyhostname kernel:  mapped:1253 shmem:67 pagetables:10880 bounce:0\nmyhostname kernel: Node 0 DMA free:15880kB min:8kB low:8kB high:12kB active_anon:0kB inactive_anon:0kB active_file:0kB inactive_file:0kB unevictable:0kB isolated(anon):0kB isolated(file):0kB present:15688kB mlocked:0kB dirty:0kB writeback:0kB mapped:0kB shmem:0kB slab_reclaimable:0kB slab_unreclaimable:0kB kernel_stack:0kB pagetables:0kB unstable:0kB bounce:0kB writeback_tmp:0kB pages_scanned:0 all_unreclaimable? yes\nmyhostname kernel: lowmem_reserve[]: 0 3000 32290 32290\nmyhostname kernel: Node 0 DMA32 free:119288kB min:2136kB low:2668kB high:3204kB active_anon:30224kB inactive_anon:9152kB active_file:0kB inactive_file:0kB unevictable:0kB isolated(anon):0kB isolated(file):0kB present:3072096kB mlocked:0kB dirty:16kB writeback:4kB mapped:36kB shmem:0kB slab_reclaimable:40kB slab_unreclaimable:232kB kernel_stack:24kB pagetables:48kB unstable:0kB bounce:0kB writeback_tmp:0kB pages_scanned:67 all_unreclaimable? yes\nmyhostname kernel: lowmem_reserve[]: 0 0 29290 29290\nmyhostname kernel: Node 0 Normal free:17564kB min:20856kB low:26068kB high:31284kB active_anon:17459648kB inactive_anon:1091700kB active_file:120kB inactive_file:88kB unevictable:24008kB isolated(anon):0kB isolated(file):0kB present:29992960kB mlocked:24008kB dirty:80kB writeback:12kB mapped:4976kB shmem:268kB slab_reclaimable:14792kB slab_unreclaimable:36828kB kernel_stack:2768kB pagetables:43472kB unstable:0kB bounce:0kB writeback_tmp:0kB pages_scanned:14972 all_unreclaimable? yes\nmyhostname kernel: lowmem_reserve[]: 0 0 0 0\nmyhostname kernel: Node 0 DMA: 0*4kB 1*8kB 0*16kB 0*32kB 2*64kB 1*128kB 1*256kB 0*512kB 1*1024kB 1*2048kB 3*4096kB = 15880kB\nmyhostname kernel: Node 0 DMA32: 458*4kB 494*8kB 284*16kB 55*32kB 7*64kB 4*128kB 5*256kB 7*512kB 7*1024kB 6*2048kB 20*4096kB = 119288kB\nmyhostname kernel: Node 0 Normal: 3333*4kB 0*8kB 0*16kB 0*32kB 0*64kB 0*128kB 0*256kB 0*512kB 0*1024kB 0*2048kB 1*4096kB = 17428kB\nmyhostname kernel: 115783 total pagecache pages\nmyhostname kernel: 114466 pages in swap cache\nmyhostname kernel: Swap cache stats: add 2183060, delete 2068594, find 1860109/1985849\nmyhostname kernel: Free swap  = 0kB\nmyhostname kernel: Total swap = 2097148kB\nmyhostname kernel: 8388592 pages RAM\nmyhostname kernel: 134806 pages reserved\nmyhostname kernel: 6845 pages shared\nmyhostname kernel: 8210059 pages non-shared\n</code></pre>\n"},{"tags":["java","corretto"],"comments":[{"owner":{"account_id":4140209,"reputation":549,"user_id":3395778,"accept_rate":100,"display_name":"AndreaTaroni86"},"score":0,"creation_date":1611162600,"post_id":62267512,"comment_id":116364423,"body_markdown":"Hi, see if this helps you. https://github.com/corretto/corretto-8/issues/273","body":"Hi, see if this helps you. <a href=\"https://github.com/corretto/corretto-8/issues/273\" rel=\"nofollow noreferrer\">github.com/corretto/corretto-8/issues/273</a>"},{"owner":{"account_id":4140209,"reputation":549,"user_id":3395778,"accept_rate":100,"display_name":"AndreaTaroni86"},"score":0,"creation_date":1611162766,"post_id":62267512,"comment_id":116364504,"body_markdown":"I also notice that in Corretto 15 as known issue there&#39;s something similar. The certificate_authorities extension, when enabled with -Djdk.tls.client.enableCAExtension=true, may not work with the default keystore provided with Corretto 15. If you would like to use this functionality, we recommend you provide a custom keystore.","body":"I also notice that in Corretto 15 as known issue there&#39;s something similar. The certificate_authorities extension, when enabled with -Djdk.tls.client.enableCAExtension=true, may not work with the default keystore provided with Corretto 15. If you would like to use this functionality, we recommend you provide a custom keystore."}],"owner":{"account_id":15243278,"reputation":29,"user_id":10998826,"display_name":"Avinash Tiwari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693752606,"creation_date":1591636045,"question_id":62267512,"body_markdown":"I used the following code in Oracle Java 1.8, it was working fine. But replacing Oracle Java with Amazon Corretto 8 I get this error:\r\n\r\nCaused by: java.security.cert.CertificateException: No subject alternative DNS name matching xxxxxx:636 not found.\r\n\r\nBelow is the code :\r\n\r\n    final String ldapAdServer = &quot;ldaps://xxxxxx:636&quot;;\r\n    final String ldapSearchBase = &quot;ou=people,o=xxxx.com&quot;;\r\n\r\n    Hashtable&lt;String, Object&gt; env = new Hashtable&lt;String, Object&gt;();\r\n    env.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\r\n    env.put(Context.SECURITY_PRINCIPAL, &quot;uid=xxxx,ou=Apps,o=xxxx.com&quot;);\r\n    env.put(Context.SECURITY_CREDENTIALS, &quot;xxxxx&quot;);\r\n    env.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\r\n    env.put(Context.PROVIDER_URL, ldapAdServer);\r\n\r\n    DirContext ctx = new InitialDirContext(env);","title":"Getting java.security.cert.CertificateException while using Amazon Corretto","body":"<p>I used the following code in Oracle Java 1.8, it was working fine. But replacing Oracle Java with Amazon Corretto 8 I get this error:</p>\n<p>Caused by: java.security.cert.CertificateException: No subject alternative DNS name matching xxxxxx:636 not found.</p>\n<p>Below is the code :</p>\n<pre><code>final String ldapAdServer = &quot;ldaps://xxxxxx:636&quot;;\nfinal String ldapSearchBase = &quot;ou=people,o=xxxx.com&quot;;\n\nHashtable&lt;String, Object&gt; env = new Hashtable&lt;String, Object&gt;();\nenv.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\nenv.put(Context.SECURITY_PRINCIPAL, &quot;uid=xxxx,ou=Apps,o=xxxx.com&quot;);\nenv.put(Context.SECURITY_CREDENTIALS, &quot;xxxxx&quot;);\nenv.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\nenv.put(Context.PROVIDER_URL, ldapAdServer);\n\nDirContext ctx = new InitialDirContext(env);\n</code></pre>\n"},{"tags":["java","spring-data-jpa","spring-transactions","transactionmanager"],"comments":[{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1693752167,"post_id":77032728,"comment_id":135799019,"body_markdown":"Does it help if you use `@Transactional(noRollbackFor = { UniqueConstraintViolationException .class })`? See https://www.baeldung.com/transaction-configuration-with-jpa-and-spring and https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html#noRollbackFor(). I&#39;m not sure if you&#39;ll also have to clear the id on the event before retrying.","body":"Does it help if you use <code>@Transactional(noRollbackFor = { UniqueConstraintViolationException .class })</code>? See <a href=\"https://www.baeldung.com/transaction-configuration-with-jpa-and-spring\" rel=\"nofollow noreferrer\">baeldung.com/transaction-configuration-with-jpa-and-spring</a> and <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html#noRollbackFor()\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>. I&#39;m not sure if you&#39;ll also have to clear the id on the event before retrying."},{"owner":{"account_id":9870667,"reputation":61,"user_id":7310443,"display_name":"Satej"},"score":0,"creation_date":1693752690,"post_id":77032728,"comment_id":135799091,"body_markdown":"But this is not ideal way, what if some other code also causes the same exception and you want rollback in such scenario","body":"But this is not ideal way, what if some other code also causes the same exception and you want rollback in such scenario"},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1693754116,"post_id":77032728,"comment_id":135799260,"body_markdown":"I don&#39;t know if it would be smoother to use using JPA versioning, rather than doing your own: https://docs.oracle.com/javaee/7/api/javax/persistence/Version.html, then perhaps you could identify OptimisticLockException instead: https://www.baeldung.com/jpa-optimistic-locking.","body":"I don&#39;t know if it would be smoother to use using JPA versioning, rather than doing your own: <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/Version.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/7/api/javax/persistence/Version.html</a>, then perhaps you could identify OptimisticLockException instead: <a href=\"https://www.baeldung.com/jpa-optimistic-locking\" rel=\"nofollow noreferrer\">baeldung.com/jpa-optimistic-locking</a>."},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1693755383,"post_id":77032728,"comment_id":135799390,"body_markdown":"Does this answer your question? [UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only](https://stackoverflow.com/questions/19349898/unexpectedrollbackexception-transaction-rolled-back-because-it-has-been-marked)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19349898/unexpectedrollbackexception-transaction-rolled-back-because-it-has-been-marked\">UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only</a>"},{"owner":{"account_id":9870667,"reputation":61,"user_id":7310443,"display_name":"Satej"},"score":0,"creation_date":1693760180,"post_id":77032728,"comment_id":135799969,"body_markdown":"@scrhartley here &#39;version&#39; is not used for locking, it&#39;s one of the attributes of Event entity.","body":"@scrhartley here &#39;version&#39; is not used for locking, it&#39;s one of the attributes of Event entity."},{"owner":{"account_id":9870667,"reputation":61,"user_id":7310443,"display_name":"Satej"},"score":0,"creation_date":1693760254,"post_id":77032728,"comment_id":135799985,"body_markdown":"@samabcde tried setting propagation level to REQUIRES_NEW, but that didn&#39;t help","body":"@samabcde tried setting propagation level to REQUIRES_NEW, but that didn&#39;t help"},{"owner":{"account_id":9870667,"reputation":61,"user_id":7310443,"display_name":"Satej"},"score":0,"creation_date":1693760877,"post_id":77032728,"comment_id":135800065,"body_markdown":"Guys, @Transactional(propagation = Propagation.REQUIRES_NEW) should be added to which method? m1() or m2() . With explanation pls.","body":"Guys, @Transactional(propagation = Propagation.REQUIRES_NEW) should be added to which method? m1() or m2() . With explanation pls."},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1693764104,"post_id":77032728,"comment_id":135800489,"body_markdown":"The @Transactional annotation on m2 isn&#39;t doing anything when called from m1. Normally when calling the service, you&#39;re actually calling a proxy which is adding some extra logic to manage the transaction. When you call m2 from m1, you are bypassing the proxy and so no extra transaction handling is being added. Unfortunately, Spring doesn&#39;t really have anything to say about avoiding this restriction: https://github.com/spring-projects/spring-framework/issues/28299","body":"The @Transactional annotation on m2 isn&#39;t doing anything when called from m1. Normally when calling the service, you&#39;re actually calling a proxy which is adding some extra logic to manage the transaction. When you call m2 from m1, you are bypassing the proxy and so no extra transaction handling is being added. Unfortunately, Spring doesn&#39;t really have anything to say about avoiding this restriction: <a href=\"https://github.com/spring-projects/spring-framework/issues/28299\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/28299</a>"}],"answers":[{"comments":[{"owner":{"account_id":9870667,"reputation":61,"user_id":7310443,"display_name":"Satej"},"score":0,"creation_date":1693752876,"post_id":77032829,"comment_id":135799120,"body_markdown":"transactionManager.commit(status);- &gt; But @Transactional also does the commit","body":"transactionManager.commit(status);- &gt; But @Transactional also does the commit"},{"owner":{"account_id":4868030,"reputation":1930,"user_id":3925552,"accept_rate":40,"display_name":"HassanUsman"},"score":0,"creation_date":1693753446,"post_id":77032829,"comment_id":135799176,"body_markdown":"You&#39;re absolutely correct, Ensure that the propagation behavior of your @Transactional annotations is set correctly. And be aware of any database locks that might be in place, as these can affect transaction behavior.","body":"You&#39;re absolutely correct, Ensure that the propagation behavior of your @Transactional annotations is set correctly. And be aware of any database locks that might be in place, as these can affect transaction behavior."}],"tags":[],"owner":{"account_id":4868030,"reputation":1930,"user_id":3925552,"accept_rate":40,"display_name":"HassanUsman"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693752588,"creation_date":1693752588,"answer_id":77032829,"question_id":77032728,"body_markdown":"In your case, even though you&#39;re catching the `UniqueConstraintViolationException` and reattempting the save operation, the transaction isn&#39;t committed if an exception was thrown, and that&#39;s why you&#39;re seeing a `500 error`.\r\n\r\nTo handle this situation you can use a `programmatic transaction` approach. Here&#39;s how you can do it:\r\n\r\n    import org.springframework.transaction.PlatformTransactionManager;\r\n    import org.springframework.transaction.TransactionDefinition;\r\n    import org.springframework.transaction.TransactionStatus;\r\n    import org.springframework.transaction.support.DefaultTransactionDefinition;\r\n    \r\n    @Autowired\r\n    private PlatformTransactionManager transactionManager;\r\n    \r\n    void m1(Event event) {\r\n        // Create a new transaction definition\r\n        DefaultTransactionDefinition def = new DefaultTransactionDefinition();\r\n        def.setPropagationBehavior(TransactionDefinition.PROPAGATION_REQUIRES_NEW);\r\n    \r\n        // Start a new transaction\r\n        TransactionStatus status = transactionManager.getTransaction(def);\r\n    \r\n        try {\r\n            // DB write operation\r\n            m2(event);\r\n    \r\n            // DB write operation\r\n            m3();\r\n    \r\n            // Commit the transaction if everything is successful\r\n            transactionManager.commit(status);\r\n        } catch (Exception e) {\r\n            // Rollback the transaction if an exception occurs\r\n            transactionManager.rollback(status);\r\n        }\r\n    }\r\n    \r\n    void m2(Event event) {\r\n        boolean success = false;\r\n    \r\n        while (!success) {\r\n            try {\r\n                eventRepo.save(event);\r\n                success = true;\r\n            } catch (UniqueConstraintViolationException e) {\r\n                event.setVersion(++event.getVersion());\r\n            }\r\n        }\r\n    }\r\n\r\nThis way, you can `handle exceptions` and retries within the scope of your transaction without affecting the outer transaction and `causing a rollback`.\r\nTry it and let me know if you still face any issue.","title":"Transaction is rolled back even though runtime exception is handled","body":"<p>In your case, even though you're catching the <code>UniqueConstraintViolationException</code> and reattempting the save operation, the transaction isn't committed if an exception was thrown, and that's why you're seeing a <code>500 error</code>.</p>\n<p>To handle this situation you can use a <code>programmatic transaction</code> approach. Here's how you can do it:</p>\n<pre><code>import org.springframework.transaction.PlatformTransactionManager;\nimport org.springframework.transaction.TransactionDefinition;\nimport org.springframework.transaction.TransactionStatus;\nimport org.springframework.transaction.support.DefaultTransactionDefinition;\n\n@Autowired\nprivate PlatformTransactionManager transactionManager;\n\nvoid m1(Event event) {\n    // Create a new transaction definition\n    DefaultTransactionDefinition def = new DefaultTransactionDefinition();\n    def.setPropagationBehavior(TransactionDefinition.PROPAGATION_REQUIRES_NEW);\n\n    // Start a new transaction\n    TransactionStatus status = transactionManager.getTransaction(def);\n\n    try {\n        // DB write operation\n        m2(event);\n\n        // DB write operation\n        m3();\n\n        // Commit the transaction if everything is successful\n        transactionManager.commit(status);\n    } catch (Exception e) {\n        // Rollback the transaction if an exception occurs\n        transactionManager.rollback(status);\n    }\n}\n\nvoid m2(Event event) {\n    boolean success = false;\n\n    while (!success) {\n        try {\n            eventRepo.save(event);\n            success = true;\n        } catch (UniqueConstraintViolationException e) {\n            event.setVersion(++event.getVersion());\n        }\n    }\n}\n</code></pre>\n<p>This way, you can <code>handle exceptions</code> and retries within the scope of your transaction without affecting the outer transaction and <code>causing a rollback</code>.\nTry it and let me know if you still face any issue.</p>\n"}],"owner":{"account_id":9870667,"reputation":61,"user_id":7310443,"display_name":"Satej"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693752588,"creation_date":1693750979,"question_id":77032728,"body_markdown":"As you see the below code, I have handled the runtime exception and written some code to prevent this still transaction is rolled back to my surprise.\r\n\r\nI have read up few answers on this similar question but still I end up getting the issue. Need clear explanation and solutions to tackle the issue please.\r\n\r\n[Code Explanation]\r\n\r\nIn the below code, I am trying to save an obj of type Event(Version is unique key in my Events table) where it gives me unique constraint violation exception if already the same version is found. This behaviour of having an already existing version is not avoidable for my use case, however I can increase the version and reattempt it.\r\n\r\n[Problem]\r\n\r\nHowever what I observed is when it finds an existing version it goes to the catch block, it does increment the version and try reattempting and finally it becomes successful. method m2() is executed ultimately, so is m3() and finally m1().\r\n\r\n**But instead of getting a 201 response I am getting 500 error with message transaction is rolled-back.**\r\n\r\nWhat are the ways of handling this? thanks.\r\n\r\n[Code]\r\n``` \r\n@Transactional\r\nvoid m1(Event event){\r\n\r\n//DB write operation\r\nm2(event);\r\n\r\n//DB write operation\r\nm3();\r\n\r\n}\r\n\r\n@Transactional\r\nvoid m2(Event obj){\r\n\r\n boolean success = false;\r\n\r\n while(!success){\r\n\r\n  try{\r\n\r\n   eventRepo.save(event);\r\n   success = true;\r\n\r\n  } catch(UniqueConstraintViolationException e){\r\n\r\n   event.setVersion(++event.getVersion());\r\n\r\n   }\r\n\r\n }\r\n\r\n}\r\n ","title":"Transaction is rolled back even though runtime exception is handled","body":"<p>As you see the below code, I have handled the runtime exception and written some code to prevent this still transaction is rolled back to my surprise.</p>\n<p>I have read up few answers on this similar question but still I end up getting the issue. Need clear explanation and solutions to tackle the issue please.</p>\n<p>[Code Explanation]</p>\n<p>In the below code, I am trying to save an obj of type Event(Version is unique key in my Events table) where it gives me unique constraint violation exception if already the same version is found. This behaviour of having an already existing version is not avoidable for my use case, however I can increase the version and reattempt it.</p>\n<p>[Problem]</p>\n<p>However what I observed is when it finds an existing version it goes to the catch block, it does increment the version and try reattempting and finally it becomes successful. method m2() is executed ultimately, so is m3() and finally m1().</p>\n<p><strong>But instead of getting a 201 response I am getting 500 error with message transaction is rolled-back.</strong></p>\n<p>What are the ways of handling this? thanks.</p>\n<p>[Code]</p>\n<pre><code>@Transactional\nvoid m1(Event event){\n\n//DB write operation\nm2(event);\n\n//DB write operation\nm3();\n\n}\n\n@Transactional\nvoid m2(Event obj){\n\n boolean success = false;\n\n while(!success){\n\n  try{\n\n   eventRepo.save(event);\n   success = true;\n\n  } catch(UniqueConstraintViolationException e){\n\n   event.setVersion(++event.getVersion());\n\n   }\n\n }\n\n}\n \n</code></pre>\n"},{"tags":["javascript","java","android","frida"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":2,"creation_date":1606683296,"post_id":65046633,"comment_id":115028547,"body_markdown":"Please don&#39;t post console output as screen-shot. It is simple text, just copy and paste the relevant parts into your question.","body":"Please don&#39;t post console output as screen-shot. It is simple text, just copy and paste the relevant parts into your question."}],"answers":[{"comments":[{"owner":{"account_id":9009531,"reputation":187,"user_id":6714771,"display_name":"pregenRobot"},"score":0,"creation_date":1606793194,"post_id":65065143,"comment_id":115063325,"body_markdown":"It&#39;s working now! Appreciate the guidance.","body":"It&#39;s working now! Appreciate the guidance."}],"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1652717623,"creation_date":1606683754,"answer_id":65065143,"question_id":65046633,"body_markdown":"In Frida accessing fields is not identical as in Java. If you execute `helloObject.sampleList` in Frida you are getting the JavaScript object that describes the field, not the field value itself.\r\n\r\nIf you want the field value you have to execute `helloObject.sampleList.value`.\r\n\r\nTherefore the following code should work:\r\n\r\n    Java.cast(helloObject.sampleList.value, Java.use(&quot;java.util.List&quot;));\r\n\r\nGenerics only exists at compile time but frida is working at run-time. Therefore `java.util.List&lt;&gt;` and the other class names with angle bracket will never work.","title":"Frida Casting object to List of Strings","body":"<p>In Frida accessing fields is not identical as in Java. If you execute <code>helloObject.sampleList</code> in Frida you are getting the JavaScript object that describes the field, not the field value itself.</p>\n<p>If you want the field value you have to execute <code>helloObject.sampleList.value</code>.</p>\n<p>Therefore the following code should work:</p>\n<pre><code>Java.cast(helloObject.sampleList.value, Java.use(&quot;java.util.List&quot;));\n</code></pre>\n<p>Generics only exists at compile time but frida is working at run-time. Therefore <code>java.util.List&lt;&gt;</code> and the other class names with angle bracket will never work.</p>\n"},{"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1695395285,"post_id":77032772,"comment_id":136023150,"body_markdown":"So directly accessing the list using `.size()` instead of `.length` and accessing the element using `.get(i)` instead of `[i]` did not work?","body":"So directly accessing the list using <code>.size()</code> instead of <code>.length</code> and accessing the element using <code>.get(i)</code> instead of <code>[i]</code> did not work?"}],"tags":[],"owner":{"account_id":28805757,"reputation":85,"user_id":22061681,"display_name":"Howard Jack"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693751592,"creation_date":1693751592,"answer_id":77032772,"question_id":65046633,"body_markdown":"Previous answer is good, a problem I had is that I had to call `toArray()` on the casted param\r\n\r\n    somehook[&quot;getUrlList&quot;].implementation = function () {\r\n        console.log(`UrlModel.getUrlList is called`);\r\n        let result = this[&quot;getUrlList&quot;]();\r\n        var stringArray = Java.cast(result, Java.use(&#39;java.util.List&#39;)).toArray();\r\n        for (var i = 0; i &lt; stringArray.length; i++) {\r\n        \tconsole.log(&#39;String[&#39; + i + &#39;]: &#39; + stringArray[i]);\r\n        }\r\n        return result;\r\n    };","title":"Frida Casting object to List of Strings","body":"<p>Previous answer is good, a problem I had is that I had to call <code>toArray()</code> on the casted param</p>\n<pre><code>somehook[&quot;getUrlList&quot;].implementation = function () {\n    console.log(`UrlModel.getUrlList is called`);\n    let result = this[&quot;getUrlList&quot;]();\n    var stringArray = Java.cast(result, Java.use('java.util.List')).toArray();\n    for (var i = 0; i &lt; stringArray.length; i++) {\n        console.log('String[' + i + ']: ' + stringArray[i]);\n    }\n    return result;\n};\n</code></pre>\n"}],"owner":{"account_id":9009531,"reputation":187,"user_id":6714771,"display_name":"pregenRobot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8277,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":65065143,"answer_count":2,"score":4,"last_activity_date":1693751592,"creation_date":1606540542,"question_id":65046633,"body_markdown":"I have been trying to print out the contents of a list when hooking an android app with Frida but am not having any luck.\r\n\r\nThe object I want to hook in Java looks like this\r\n\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport java.util.List;\r\n\r\npublic final class Hello extends HelloParent{\r\n\r\n    @JsonIgnore\r\n    public final List sampleList;\r\n\r\n}\r\n```\r\nThere aren&#39;t any getters for this public object so I have to resort to using another object (Let&#39;s call the object &quot;Bye&quot;)&#39;s method (byeMethodB) to monitor this value.\r\n\r\nThis is what my frida-script looks like:\r\n\r\n```\r\nsetTimeout(function() {\r\n\r\n    Java.perform(function(){\r\n        \r\n        Java.use(&quot;Bye&quot;).byeMethodA.implementation = function(){\r\n\r\n            try{\r\n                //Returns a Hello object\r\n                var helloObject = Java.cast(this.byeMethodB(),Java.use(&quot;Hello&quot;))\r\n                printListContent(Java.cast(helloObject.sampleList,Java.use(&quot;java.util.List&quot;))))\r\n            }catch(err){\r\n                console.log(err)\r\n            }\r\n        }\r\n\r\n    })\r\n},1000)\r\n\r\nfunction printListContent(list){\r\n\r\n    var listIter = list.iterator()\r\n    while(listIter.hasNext()){\r\n        console.log(listIter.next())\r\n    }\r\n\r\n}\r\n``` \r\n\r\nWithout casting the &quot;helloObject.sampleList&quot; object to a list, the output looks like this:\r\n```\r\n[object Object]\r\n```\r\nSo I am sure it is not null\r\n\r\nIf I cast using `Java.cast(helloObject.sampleList,Java.use(&quot;java.util.List&quot;))`,\r\n\r\nI get the following error:\r\n\r\n[![java.util.List][1]][1]\r\n\r\nI have also tried:\r\n\r\n`Java.cast(helloObject.sampleList,Java.use(&quot;java.util.List&lt;&gt;&quot;))`\r\n\r\n[![java.util.List&lt;&gt;][2]][2]\r\n\r\n\r\n(I am pretty sure its a String)\r\n`Java.cast(helloObject.sampleList,Java.use(&quot;java.util.List&lt;String&gt;&quot;))`\r\n\r\n[![java.util.List&lt;String&gt;][3]][3]\r\n\r\n`Java.cast(helloObject.sampleList,Java.use(&quot;java.util.List&lt;java.lang.String&gt;&quot;))`\r\n\r\n[![java.util.List&lt;java.lang.String&gt;][4]][4]\r\n\r\n`Java.cast(helloObject.sampleList,Java.use(&quot;[String&quot;))`\r\n\r\n[![\\[LString][5]][5]\r\n\r\n`Java.cast(helloObject.sampleList,Java.use(&quot;[Ljava.lang.String&quot;))`\r\n\r\n[![\\[Ljava.lang.String][6]][6]\r\n\r\nIt is not going well at all. Would appreciate some help\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QnbAe.png\r\n  [2]: https://i.stack.imgur.com/Bm0Og.png\r\n  [3]: https://i.stack.imgur.com/Z5WF5.png\r\n  [4]: https://i.stack.imgur.com/YUdpP.png\r\n  [5]: https://i.stack.imgur.com/eJAN5.png\r\n  [6]: https://i.stack.imgur.com/yCknk.png","title":"Frida Casting object to List of Strings","body":"<p>I have been trying to print out the contents of a list when hooking an android app with Frida but am not having any luck.</p>\n<p>The object I want to hook in Java looks like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonIgnore;\nimport java.util.List;\n\npublic final class Hello extends HelloParent{\n\n    @JsonIgnore\n    public final List sampleList;\n\n}\n</code></pre>\n<p>There aren't any getters for this public object so I have to resort to using another object (Let's call the object &quot;Bye&quot;)'s method (byeMethodB) to monitor this value.</p>\n<p>This is what my frida-script looks like:</p>\n<pre><code>setTimeout(function() {\n\n    Java.perform(function(){\n        \n        Java.use(&quot;Bye&quot;).byeMethodA.implementation = function(){\n\n            try{\n                //Returns a Hello object\n                var helloObject = Java.cast(this.byeMethodB(),Java.use(&quot;Hello&quot;))\n                printListContent(Java.cast(helloObject.sampleList,Java.use(&quot;java.util.List&quot;))))\n            }catch(err){\n                console.log(err)\n            }\n        }\n\n    })\n},1000)\n\nfunction printListContent(list){\n\n    var listIter = list.iterator()\n    while(listIter.hasNext()){\n        console.log(listIter.next())\n    }\n\n}\n</code></pre>\n<p>Without casting the &quot;helloObject.sampleList&quot; object to a list, the output looks like this:</p>\n<pre><code>[object Object]\n</code></pre>\n<p>So I am sure it is not null</p>\n<p>If I cast using <code>Java.cast(helloObject.sampleList,Java.use(&quot;java.util.List&quot;))</code>,</p>\n<p>I get the following error:</p>\n<p><a href=\"https://i.stack.imgur.com/QnbAe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QnbAe.png\" alt=\"java.util.List\" /></a></p>\n<p>I have also tried:</p>\n<p><code>Java.cast(helloObject.sampleList,Java.use(&quot;java.util.List&lt;&gt;&quot;))</code></p>\n<p><a href=\"https://i.stack.imgur.com/Bm0Og.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bm0Og.png\" alt=\"java.util.List&lt;&gt;\" /></a></p>\n<p>(I am pretty sure its a String)\n<code>Java.cast(helloObject.sampleList,Java.use(&quot;java.util.List&lt;String&gt;&quot;))</code></p>\n<p><a href=\"https://i.stack.imgur.com/Z5WF5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z5WF5.png\" alt=\"java.util.List\" /></a></p>\n<p><code>Java.cast(helloObject.sampleList,Java.use(&quot;java.util.List&lt;java.lang.String&gt;&quot;))</code></p>\n<p><a href=\"https://i.stack.imgur.com/YUdpP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YUdpP.png\" alt=\"java.util.List&lt;java.lang.String&gt;\" /></a></p>\n<p><code>Java.cast(helloObject.sampleList,Java.use(&quot;[String&quot;))</code></p>\n<p><a href=\"https://i.stack.imgur.com/eJAN5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eJAN5.png\" alt=\"[LString\" /></a></p>\n<p><code>Java.cast(helloObject.sampleList,Java.use(&quot;[Ljava.lang.String&quot;))</code></p>\n<p><a href=\"https://i.stack.imgur.com/yCknk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yCknk.png\" alt=\"[Ljava.lang.String\" /></a></p>\n<p>It is not going well at all. Would appreciate some help</p>\n"},{"tags":["java","for-loop","stringbuilder","thread-sleep"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1693702285,"post_id":77030537,"comment_id":135795354,"body_markdown":"You don&#39;t say what type of terminal you&#39;re using, but you&#39;ll need to look at the cursor movement sequences for it, e.g. for xterm https://www.xfree86.org/current/ctlseqs.html","body":"You don&#39;t say what type of terminal you&#39;re using, but you&#39;ll need to look at the cursor movement sequences for it, e.g. for xterm <a href=\"https://www.xfree86.org/current/ctlseqs.html\" rel=\"nofollow noreferrer\">xfree86.org/current/ctlseqs.html</a>"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1693702409,"post_id":77030537,"comment_id":135795362,"body_markdown":"Firstly l, don&#39;t println - you need to stay on the same line. Try print your word, wait, then print backspace chars `\\b` then spaces to overwrite the chars","body":"Firstly l, don&#39;t println - you need to stay on the same line. Try print your word, wait, then print backspace chars <code>\\b</code> then spaces to overwrite the chars"}],"answers":[{"comments":[{"owner":{"account_id":28156466,"reputation":1,"user_id":21517128,"display_name":"Lmar Momand"},"score":1,"creation_date":1693746238,"post_id":77030605,"comment_id":135798394,"body_markdown":"There may be a misunderstanding but the code doesnt remove the backspaces, the thread.sleep works but after each letter it just add the box with a question mark.","body":"There may be a misunderstanding but the code doesnt remove the backspaces, the thread.sleep works but after each letter it just add the box with a question mark."}],"tags":[],"owner":{"account_id":27847982,"reputation":11,"user_id":21263038,"display_name":"Gkbinqi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693704220,"creation_date":1693704220,"answer_id":77030605,"question_id":77030537,"body_markdown":"Actually, you can&#39;t remove the characters from the console, but you can play a trick.\r\nYou can try this way in your for loop:\r\n\r\n```\r\nfor (int i = 0; i &lt; repeat.level; i++) {\r\n            Random rnd = new Random();\r\n            char c = (char) (&#39;a&#39; + rnd.nextInt(26)); // determines random char\r\n            System.out.print(c); // print character to the console\r\n\r\n            // Sleep to display the character for a certain amount of time\r\n            try {\r\n                Thread.sleep(1000); // millis\r\n            } catch (InterruptedException e) {\r\n                Thread.currentThread().interrupt(); // Restore interrupted status\r\n            }\r\n            // Overwrite the character displayed with spaces to achieve &quot;remove&quot; it\r\n            System.out.print(&quot;\\b \\b&quot;); // Print backspace and space to clear the character\r\n            sb.append(c);\r\n        }\r\n```","title":"How to remove a letter from the terminal and replace it with a new one in java?","body":"<p>Actually, you can't remove the characters from the console, but you can play a trick.\nYou can try this way in your for loop:</p>\n<pre><code>for (int i = 0; i &lt; repeat.level; i++) {\n            Random rnd = new Random();\n            char c = (char) ('a' + rnd.nextInt(26)); // determines random char\n            System.out.print(c); // print character to the console\n\n            // Sleep to display the character for a certain amount of time\n            try {\n                Thread.sleep(1000); // millis\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt(); // Restore interrupted status\n            }\n            // Overwrite the character displayed with spaces to achieve &quot;remove&quot; it\n            System.out.print(&quot;\\b \\b&quot;); // Print backspace and space to clear the character\n            sb.append(c);\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":28156466,"reputation":1,"user_id":21517128,"display_name":"Lmar Momand"},"score":0,"creation_date":1693746181,"post_id":77030712,"comment_id":135798390,"body_markdown":"There may be a misunderstanding but the code doesnt remove the backspaces, it adds the box with a question mark next to each letter.","body":"There may be a misunderstanding but the code doesnt remove the backspaces, it adds the box with a question mark next to each letter."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1693751935,"post_id":77030712,"comment_id":135798984,"body_markdown":"@LmarMomand, try `\\r` instead.","body":"@LmarMomand, try <code>\\r</code> instead."},{"owner":{"account_id":28156466,"reputation":1,"user_id":21517128,"display_name":"Lmar Momand"},"score":0,"creation_date":1693766724,"post_id":77030712,"comment_id":135800759,"body_markdown":"Sadly still does not work, I dont know if its possible to remove something off the Eclipse console. It&#39;s slightly annoying because thats the last part left for me to do for this game.","body":"Sadly still does not work, I dont know if its possible to remove something off the Eclipse console. It&#39;s slightly annoying because thats the last part left for me to do for this game."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1693771919,"post_id":77030712,"comment_id":135801378,"body_markdown":"@LmarMomand, you could try the terminal escape sequence, `\\033[2J`, which will clear the screen.  You may also need to send `\\033[H`, to reset the cursor.  _https://stackoverflow.com/a/37778152/17758716_.","body":"@LmarMomand, you could try the terminal escape sequence, <code>\\033[2J</code>, which will clear the screen.  You may also need to send <code>\\033[H</code>, to reset the cursor.  <i><a href=\"https://stackoverflow.com/a/37778152/17758716\">stackoverflow.com/a/37778152/17758716</a></i>."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693708253,"creation_date":1693708253,"answer_id":77030712,"question_id":77030537,"body_markdown":"&gt; _&quot;... I know Thread.sleep is used for the timing part, just the backspace/removal part I have no clue how to go around. ...&quot;_\r\n\r\nYou can use the `\\b` character to move the cursor backwards.  \r\n\r\n```java\r\nSystem.out.print(c);//shows char to user\r\nsb.append(c);//add to sb\r\nThread.sleep(600);\r\nSystem.out.print(&quot;\\b&quot;);\r\n```\r\n\r\nAdditionally, your code can be improved.\r\n\r\nYou can supply a capacity to _StringBuilder_ via the constructor.\r\n\r\n```java\r\nStringBuilder sb = new StringBuilder(100);\r\n```\r\n\r\nAdd _repeat.level_ to a local variable.\r\n\r\n```java\r\nfor (int i = 0, level = repeat.level; i &lt; level;i++)\r\n```\r\n\r\nMove the _rnd_ and _c_ declarations to above the _for-loop_.\r\n\r\n```java\r\nRandom rnd = new Random();\r\nchar c;\r\nfor (int i = 0, level = 100; i &lt; level;i++) {\r\n\r\n}\r\n```\r\n\r\nAnd, you can utilize the _[RandomGenerator#nextInt](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/random/RandomGenerator.html#nextInt(int,int))_ method to provide a bounds.  \r\nAlthough, what you have is valid.\r\n\r\n```java\r\nchar c = (char) rnd.nextInt(&#39;a&#39;, &#39;z&#39; + 1);\r\n```\r\n\r\nHere is the refactored code.\r\n\r\n```java\r\npublic static void gameStart() throws InterruptedException {\r\n    repeat.level++;//originally set to 0, now increments each time\r\n    StringBuilder sb = new StringBuilder(100);// plan to have 100 levels\r\n    Random rnd = new Random();\r\n    char c;\r\n    for (int i = 0, level = repeat.level; i &lt; level;i++) {\r\n        c = (char) rnd.nextInt(&#39;a&#39;, &#39;z&#39; + 1);//determines random char\r\n        System.out.print(c);//shows char to user\r\n        sb.append(c);//add to sb\r\n        Thread.sleep(600);\r\n        System.out.print(&quot;\\b&quot;);\r\n    }\r\n    System.out.println(sb);//just to make sure each char is getting added to sb\r\n}\r\n```","title":"How to remove a letter from the terminal and replace it with a new one in java?","body":"<blockquote>\n<p><em>&quot;... I know Thread.sleep is used for the timing part, just the backspace/removal part I have no clue how to go around. ...&quot;</em></p>\n</blockquote>\n<p>You can use the <code>\\b</code> character to move the cursor backwards.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.print(c);//shows char to user\nsb.append(c);//add to sb\nThread.sleep(600);\nSystem.out.print(&quot;\\b&quot;);\n</code></pre>\n<p>Additionally, your code can be improved.</p>\n<p>You can supply a capacity to <em>StringBuilder</em> via the constructor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder sb = new StringBuilder(100);\n</code></pre>\n<p>Add <em>repeat.level</em> to a local variable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0, level = repeat.level; i &lt; level;i++)\n</code></pre>\n<p>Move the <em>rnd</em> and <em>c</em> declarations to above the <em>for-loop</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Random rnd = new Random();\nchar c;\nfor (int i = 0, level = 100; i &lt; level;i++) {\n\n}\n</code></pre>\n<p>And, you can utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/random/RandomGenerator.html#nextInt(int,int)\" rel=\"nofollow noreferrer\">RandomGenerator#nextInt</a></em> method to provide a bounds.<br />\nAlthough, what you have is valid.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char c = (char) rnd.nextInt('a', 'z' + 1);\n</code></pre>\n<p>Here is the refactored code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void gameStart() throws InterruptedException {\n    repeat.level++;//originally set to 0, now increments each time\n    StringBuilder sb = new StringBuilder(100);// plan to have 100 levels\n    Random rnd = new Random();\n    char c;\n    for (int i = 0, level = repeat.level; i &lt; level;i++) {\n        c = (char) rnd.nextInt('a', 'z' + 1);//determines random char\n        System.out.print(c);//shows char to user\n        sb.append(c);//add to sb\n        Thread.sleep(600);\n        System.out.print(&quot;\\b&quot;);\n    }\n    System.out.println(sb);//just to make sure each char is getting added to sb\n}\n</code></pre>\n"}],"owner":{"account_id":28156466,"reputation":1,"user_id":21517128,"display_name":"Lmar Momand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693751510,"creation_date":1693702034,"question_id":77030537,"body_markdown":"So I am trying to make a Simon Says game where the user would have to repeat what the console has shown back to it. So for me so far I have made it work so that the characters have been showcased to the user and that each character is stored in a StringBuilder. I want to modify this code so that each character is only shown for a certain amount of time (maybe 0.6 seconds or 1 second etc), and then removed and the next character is shown etc during the for loop. I know Thread.sleep is used for the timing part, just the backspace/removal part I have no clue how to go around.\r\n\r\n\r\nThis is the piece of code I am stuck on and struggle to move forward from, I dont know what to add to the end of the for-loop. If needed, I&#39;m using Eclipse \r\n\r\n    public static void gameStart() {\r\n    \trepeat.level++;//originally set to 0, now increments each time\r\n    \tStringBuilder sb = new StringBuilder();\r\n    \tsb.ensureCapacity(100);// plan to have 100 levels\r\n    \tfor (int i = 0; i &lt; repeat.level;i++) {\r\n    \t\tRandom rnd = new Random();\r\n    \t\tchar c = (char) (&#39;a&#39; + rnd.nextInt(26));//determines random char\r\n    \t\tSystem.out.println(c);//shows char to user\r\n    \t\tsb.append(c);//add to sb\r\n    \t\t}\r\n    \tSystem.out.println(sb);//just to make sure each char is getting added to sb","title":"How to remove a letter from the terminal and replace it with a new one in java?","body":"<p>So I am trying to make a Simon Says game where the user would have to repeat what the console has shown back to it. So for me so far I have made it work so that the characters have been showcased to the user and that each character is stored in a StringBuilder. I want to modify this code so that each character is only shown for a certain amount of time (maybe 0.6 seconds or 1 second etc), and then removed and the next character is shown etc during the for loop. I know Thread.sleep is used for the timing part, just the backspace/removal part I have no clue how to go around.</p>\n<p>This is the piece of code I am stuck on and struggle to move forward from, I dont know what to add to the end of the for-loop. If needed, I'm using Eclipse</p>\n<pre><code>public static void gameStart() {\n    repeat.level++;//originally set to 0, now increments each time\n    StringBuilder sb = new StringBuilder();\n    sb.ensureCapacity(100);// plan to have 100 levels\n    for (int i = 0; i &lt; repeat.level;i++) {\n        Random rnd = new Random();\n        char c = (char) ('a' + rnd.nextInt(26));//determines random char\n        System.out.println(c);//shows char to user\n        sb.append(c);//add to sb\n        }\n    System.out.println(sb);//just to make sure each char is getting added to sb\n</code></pre>\n"},{"tags":["java","hibernate","classnotfound"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1493002118,"post_id":43578991,"comment_id":74207736,"body_markdown":"*Caused by: java.lang.ClassNotFoundException*","body":"<i>Caused by: java.lang.ClassNotFoundException</i>"},{"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"score":0,"creation_date":1493002551,"post_id":43578991,"comment_id":74207849,"body_markdown":"Could you please show me your Employee class and how did  you create the hibernate session to persist Employee objects?","body":"Could you please show me your Employee class and how did  you create the hibernate session to persist Employee objects?"}],"answers":[{"comments":[{"owner":{"account_id":1951727,"reputation":541,"user_id":1755668,"display_name":"cihan adil seven"},"score":0,"creation_date":1508248268,"post_id":43583412,"comment_id":80530132,"body_markdown":"I had the same issue as the OP and just forgot to update the configuration xml file. +1 for answering to a question which is not clear and doesn&#39;t explicitly define the problem.","body":"I had the same issue as the OP and just forgot to update the configuration xml file. +1 for answering to a question which is not clear and doesn&#39;t explicitly define the problem."},{"owner":{"display_name":"user8885515"},"score":0,"creation_date":1516526402,"post_id":43583412,"comment_id":83717258,"body_markdown":"@Manoj, he is not using any annotated class mapping, he is using resource mapping, you can&#39;t make him change his mapping","body":"@Manoj, he is not using any annotated class mapping, he is using resource mapping, you can&#39;t make him change his mapping"}],"tags":[],"owner":{"account_id":3195270,"reputation":525,"user_id":2698569,"accept_rate":62,"display_name":"Manoj Majumdar"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493023670,"creation_date":1493023233,"answer_id":43583412,"question_id":43578991,"body_markdown":"Check this entry in hibernate config file. May be you have changed the package name and forgot to change the reference in config file.\r\n\r\n    &lt;mapping class=&quot;Package of employee class&quot;/&gt;\r\n\r\nAlso change the tag of mapping resource to mapping class, and see if it works.","title":"Caused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [Employee]","body":"<p>Check this entry in hibernate config file. May be you have changed the package name and forgot to change the reference in config file.</p>\n\n<pre><code>&lt;mapping class=\"Package of employee class\"/&gt;\n</code></pre>\n\n<p>Also change the tag of mapping resource to mapping class, and see if it works.</p>\n"},{"comments":[{"owner":{"account_id":5793278,"reputation":639,"user_id":4569923,"accept_rate":60,"display_name":"alete"},"score":0,"creation_date":1549403917,"post_id":48365307,"comment_id":95888502,"body_markdown":"this helped me a lot. Thank you!","body":"this helped me a lot. Thank you!"}],"tags":[],"owner":{"display_name":"user8885515"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516526038,"creation_date":1516526038,"answer_id":48365307,"question_id":43578991,"body_markdown":"**Using resource mapping**\r\n\r\nAs you are using a mapping resource, the problem is with class path mentioned in your `emp.hbm.xml`, as you have `Employee.java` inside the package `hibernatetutorial1` your class path will be `hibernatetutorial1.Employee`. So you need to mention this in your `emp.hbm.xml`\r\n\r\n    //emp.hbm.xml\r\n    &lt;hibernate-mapping&gt;  \r\n      &lt;class name=&quot;hibernatetutorial1.Employee&quot; table=&quot;tablename&quot;&gt;  \r\n      .......\r\n      .......\r\n    &lt;/hibernate-mapping&gt; \r\n\r\nand map this resource inside `Hibernate.cfg.xml`\r\n\r\n    //Hibernate.cfg.xml\r\n    &lt;hibernate-configuration&gt;  \r\n        &lt;session-factory&gt;  \r\n        ......\r\n        ......\r\n        ......\r\n        &lt;mapping resource=&quot;emp.hbm.xml&quot;/&gt;  \r\n        &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n**Using annotated class mapping**\r\n\r\nIt&#39;s better using annotated classes as they decrease your burden, if you are using annotated class then you need to mention your classpath inside `Hibernate.cfg.xml` and you need to use mapping class, no need of mapping resource\r\n\r\n    //using annotated class mapping no need of emp.hbm.xml(resource mapping)\r\n    //Hibernate.cfg.xml\r\n    &lt;hibernate-configuration&gt;  \r\n        &lt;session-factory&gt;  \r\n            ......\r\n            ......\r\n            ......\r\n        &lt;mapping class=&quot;hibernatetutorial1.Employee&quot;/&gt;  \r\n        &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;","title":"Caused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [Employee]","body":"<p><strong>Using resource mapping</strong></p>\n\n<p>As you are using a mapping resource, the problem is with class path mentioned in your <code>emp.hbm.xml</code>, as you have <code>Employee.java</code> inside the package <code>hibernatetutorial1</code> your class path will be <code>hibernatetutorial1.Employee</code>. So you need to mention this in your <code>emp.hbm.xml</code></p>\n\n<pre><code>//emp.hbm.xml\n&lt;hibernate-mapping&gt;  \n  &lt;class name=\"hibernatetutorial1.Employee\" table=\"tablename\"&gt;  \n  .......\n  .......\n&lt;/hibernate-mapping&gt; \n</code></pre>\n\n<p>and map this resource inside <code>Hibernate.cfg.xml</code></p>\n\n<pre><code>//Hibernate.cfg.xml\n&lt;hibernate-configuration&gt;  \n    &lt;session-factory&gt;  \n    ......\n    ......\n    ......\n    &lt;mapping resource=\"emp.hbm.xml\"/&gt;  \n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p><strong>Using annotated class mapping</strong></p>\n\n<p>It's better using annotated classes as they decrease your burden, if you are using annotated class then you need to mention your classpath inside <code>Hibernate.cfg.xml</code> and you need to use mapping class, no need of mapping resource</p>\n\n<pre><code>//using annotated class mapping no need of emp.hbm.xml(resource mapping)\n//Hibernate.cfg.xml\n&lt;hibernate-configuration&gt;  \n    &lt;session-factory&gt;  \n        ......\n        ......\n        ......\n    &lt;mapping class=\"hibernatetutorial1.Employee\"/&gt;  \n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17683470,"reputation":158,"user_id":12836822,"display_name":"Ashrik Ahamed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693751397,"creation_date":1693751397,"answer_id":77032757,"question_id":43578991,"body_markdown":"This may help to those who uses springboot or deal with queries\r\n\r\nThis exception may trigger when in somewhere you used by package path which is invalid, for example, in this query: \r\n\r\n    @Query(&quot;SELECT new my.com.scicom.esd.testservice.model.document.TestClassLite(his.docEntry, his.id, his.fieldOrSection, his.oldValue, his.newValue, his.modifiedBy, his.modifiedOn) &quot;\r\n            + &quot; FROM TestClass his&quot;\r\n            + &quot; WHERE his.name = :name&quot;\r\n    )\r\n\r\nIn here double check that you have given the right path(Package wise) : \r\n\r\n    my.com.esd.testservice.model.document.TestClassLite","title":"Caused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [Employee]","body":"<p>This may help to those who uses springboot or deal with queries</p>\n<p>This exception may trigger when in somewhere you used by package path which is invalid, for example, in this query:</p>\n<pre><code>@Query(&quot;SELECT new my.com.scicom.esd.testservice.model.document.TestClassLite(his.docEntry, his.id, his.fieldOrSection, his.oldValue, his.newValue, his.modifiedBy, his.modifiedOn) &quot;\n        + &quot; FROM TestClass his&quot;\n        + &quot; WHERE his.name = :name&quot;\n)\n</code></pre>\n<p>In here double check that you have given the right path(Package wise) :</p>\n<pre><code>my.com.esd.testservice.model.document.TestClassLite\n</code></pre>\n"}],"owner":{"account_id":10752406,"reputation":87,"user_id":7911326,"display_name":"UI Developer Nepal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31285,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1693751397,"creation_date":1493002044,"question_id":43578991,"body_markdown":"I am writing a simple Hibernate program on Eclipse. I did everything steps by steps but then after compiling its showing:\r\n\r\n    Caused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [Employee]\r\n\r\n    Caused by: java.lang.ClassNotFoundException: Could not load requested class : Employee\r\n\r\nI added all the required jar library too. \r\n\r\nThis is my project structure: \r\n[![here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z0PF0.png\r\n","title":"Caused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [Employee]","body":"<p>I am writing a simple Hibernate program on Eclipse. I did everything steps by steps but then after compiling its showing:</p>\n\n<pre><code>Caused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [Employee]\n\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : Employee\n</code></pre>\n\n<p>I added all the required jar library too. </p>\n\n<p>This is my project structure: \n<a href=\"https://i.stack.imgur.com/z0PF0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z0PF0.png\" alt=\"here\"></a> </p>\n"},{"tags":["java","tomcat","tomcat8","corretto"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1619027703,"post_id":67201111,"comment_id":118783362,"body_markdown":"Unsupported Java version","body":"Unsupported Java version"},{"owner":{"account_id":5578370,"reputation":939,"user_id":4696214,"accept_rate":42,"display_name":"ohbrobig"},"score":0,"creation_date":1619029038,"post_id":67201111,"comment_id":118783937,"body_markdown":"Release notes say it supports Java 7 and later","body":"Release notes say it supports Java 7 and later"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1619029333,"post_id":67201111,"comment_id":118784055,"body_markdown":"You omitted the interesting part of the stack trace (just after the `Caused by` line).","body":"You omitted the interesting part of the stack trace (just after the <code>Caused by</code> line)."},{"owner":{"account_id":5578370,"reputation":939,"user_id":4696214,"accept_rate":42,"display_name":"ohbrobig"},"score":0,"creation_date":1619029465,"post_id":67201111,"comment_id":118784105,"body_markdown":"@PiotrP.Karwasz fixed","body":"@PiotrP.Karwasz fixed"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1619029634,"post_id":67201111,"comment_id":118784164,"body_markdown":"The culprit is one of your web applications classes annotated with `@WebServlet` or similar. `JPEGImageEncoder` is a deprecated API, so you should change the code to use something newer (see [this question](https://stackoverflow.com/q/28579709/11748454)).","body":"The culprit is one of your web applications classes annotated with <code>@WebServlet</code> or similar. <code>JPEGImageEncoder</code> is a deprecated API, so you should change the code to use something newer (see <a href=\"https://stackoverflow.com/q/28579709/11748454\">this question</a>)."}],"owner":{"account_id":5578370,"reputation":939,"user_id":4696214,"accept_rate":42,"display_name":"ohbrobig"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693751209,"creation_date":1619027608,"question_id":67201111,"body_markdown":"I am getting the following error when trying to start a tomcat server. I have the [Amazon Corretto 8 JDK][1] installed on a mac machine. I have also tried using Java 8u291 but I get the same exact error.\r\n\r\n    21-Apr-2021 11:15:44.977 SEVERE [RMI TCP Connection(2)-127.0.0.1] org.apache.catalina.core.ContainerBase.addChildInternal ContainerBase.addChild: start: \r\n     org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/repo_war_exploded]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:754)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\r\n    \tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1736)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:483)\r\n    \tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:432)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \tat com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:468)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1408)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n    \tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.NoClassDefFoundError: com/sun/image/codec/jpeg/JPEGImageEncoder\r\n    \tat java.lang.Class.getDeclaredFields0(Native Method)\r\n    \tat java.lang.Class.privateGetDeclaredFields(Class.java:2611)\r\n    \tat java.lang.Class.getDeclaredFields(Class.java:1944)\r\n    \tat org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:110)\r\n    \tat org.apache.catalina.startup.WebAnnotationSet.loadFieldsAnnotation(WebAnnotationSet.java:269)\r\n    \tat org.apache.catalina.startup.WebAnnotationSet.loadApplicationServletAnnotations(WebAnnotationSet.java:137)\r\n    \tat org.apache.catalina.startup.WebAnnotationSet.loadApplicationAnnotations(WebAnnotationSet.java:69)\r\n    \tat org.apache.catalina.startup.ContextConfig.applicationAnnotationsConfig(ContextConfig.java:328)\r\n    \tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:772)\r\n    \tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:299)\r\n    \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:94)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5154)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 44 more\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.image.codec.jpeg.JPEGImageEncoder\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1328)\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1156)\r\n    \t... 57 more\r\n    \r\n    21-Apr-2021 11:15:44.979 SEVERE [RMI TCP Connection(2)-127.0.0.1] org.apache.tomcat.util.modeler.BaseModelMBean.invoke Exception invoking method manageApp\r\n     java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/repo_war_exploded]]\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:758)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\r\n    \tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1736)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:483)\r\n    \tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:432)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \tat com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:468)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1408)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n    \tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    \r\n    21-Apr-2021 11:15:44.980 SEVERE [RMI TCP Connection(2)-127.0.0.1] org.apache.tomcat.util.modeler.BaseModelMBean.invoke Exception invoking method createStandardContext\r\n     javax.management.RuntimeOperationsException: Exception invoking method manageApp\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:308)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:483)\r\n    \tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:432)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \tat com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:468)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1408)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n    \tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/repo_war_exploded]]\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:758)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\r\n    \tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1736)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\r\n    \t... 35 more\r\n\r\n  [1]: https://docs.aws.amazon.com/corretto/latest/corretto-8-ug/downloads-list.html\r\n","title":"Tomcat 8.5.35 server won&#39;t start due to java.lang.NoClassDefFoundError","body":"<p>I am getting the following error when trying to start a tomcat server. I have the <a href=\"https://docs.aws.amazon.com/corretto/latest/corretto-8-ug/downloads-list.html\" rel=\"nofollow noreferrer\">Amazon Corretto 8 JDK</a> installed on a mac machine. I have also tried using Java 8u291 but I get the same exact error.</p>\n<pre><code>21-Apr-2021 11:15:44.977 SEVERE [RMI TCP Connection(2)-127.0.0.1] org.apache.catalina.core.ContainerBase.addChildInternal ContainerBase.addChild: start: \n org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/repo_war_exploded]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:754)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\n    at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1736)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:483)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:432)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:468)\n    at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\n    at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\n    at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1408)\n    at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.NoClassDefFoundError: com/sun/image/codec/jpeg/JPEGImageEncoder\n    at java.lang.Class.getDeclaredFields0(Native Method)\n    at java.lang.Class.privateGetDeclaredFields(Class.java:2611)\n    at java.lang.Class.getDeclaredFields(Class.java:1944)\n    at org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:110)\n    at org.apache.catalina.startup.WebAnnotationSet.loadFieldsAnnotation(WebAnnotationSet.java:269)\n    at org.apache.catalina.startup.WebAnnotationSet.loadApplicationServletAnnotations(WebAnnotationSet.java:137)\n    at org.apache.catalina.startup.WebAnnotationSet.loadApplicationAnnotations(WebAnnotationSet.java:69)\n    at org.apache.catalina.startup.ContextConfig.applicationAnnotationsConfig(ContextConfig.java:328)\n    at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:772)\n    at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:299)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:94)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5154)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 44 more\nCaused by: java.lang.ClassNotFoundException: com.sun.image.codec.jpeg.JPEGImageEncoder\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1328)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1156)\n    ... 57 more\n\n21-Apr-2021 11:15:44.979 SEVERE [RMI TCP Connection(2)-127.0.0.1] org.apache.tomcat.util.modeler.BaseModelMBean.invoke Exception invoking method manageApp\n java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/repo_war_exploded]]\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:758)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\n    at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1736)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:483)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:432)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:468)\n    at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\n    at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\n    at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1408)\n    at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n\n21-Apr-2021 11:15:44.980 SEVERE [RMI TCP Connection(2)-127.0.0.1] org.apache.tomcat.util.modeler.BaseModelMBean.invoke Exception invoking method createStandardContext\n javax.management.RuntimeOperationsException: Exception invoking method manageApp\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:308)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:483)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:432)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:468)\n    at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\n    at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\n    at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1408)\n    at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/repo_war_exploded]]\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:758)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\n    at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1736)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\n    ... 35 more\n</code></pre>\n"},{"tags":["java","garbage-collection","corretto"],"answers":[{"tags":[],"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648463621,"creation_date":1648463621,"answer_id":71646044,"question_id":68443712,"body_markdown":"Amazon Corretto is based on OpenJDK. From it&#39;s [website][1]:\r\n\r\n&gt;Amazon Corretto 17 is a no-cost, multiplatform, production-ready distribution of the Open Java Development Kit (OpenJDK). Corretto 17 comes with long-term support that includes performance enhancements and security fixes.\r\n\r\nSo all your OpenJDK Garbage Collection settings should apply for Amazon Corretto as well. To list all available options for your current version:\r\n\r\n    java -XX:+PrintFlagsFinal -version\r\n\r\nHead over to Oracle&#39;s [official documentation][2] for all Garbage Collection related flags if you need some docs.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/corretto/latest/corretto-17-ug/what-is-corretto-17.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#advanced-garbage-collection-options-for-java","title":"Amazon Corretto Garbage Collection parameters","body":"<p>Amazon Corretto is based on OpenJDK. From it's <a href=\"https://docs.aws.amazon.com/corretto/latest/corretto-17-ug/what-is-corretto-17.html\" rel=\"nofollow noreferrer\">website</a>:</p>\n<blockquote>\n<p>Amazon Corretto 17 is a no-cost, multiplatform, production-ready distribution of the Open Java Development Kit (OpenJDK). Corretto 17 comes with long-term support that includes performance enhancements and security fixes.</p>\n</blockquote>\n<p>So all your OpenJDK Garbage Collection settings should apply for Amazon Corretto as well. To list all available options for your current version:</p>\n<pre><code>java -XX:+PrintFlagsFinal -version\n</code></pre>\n<p>Head over to Oracle's <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#advanced-garbage-collection-options-for-java\" rel=\"nofollow noreferrer\">official documentation</a> for all Garbage Collection related flags if you need some docs.</p>\n"}],"owner":{"account_id":12173915,"reputation":519,"user_id":8887610,"display_name":"merla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1620,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693750995,"creation_date":1626710943,"question_id":68443712,"body_markdown":"I have recently migrated one of my project to use Amazon Corretto 11 instead of OpenJDK.I would like to understand Garbage Collection parameters of Amazon Corretto 11. Can someone please share my right pointers?","title":"Amazon Corretto Garbage Collection parameters","body":"<p>I have recently migrated one of my project to use Amazon Corretto 11 instead of OpenJDK.I would like to understand Garbage Collection parameters of Amazon Corretto 11. Can someone please share my right pointers?</p>\n"},{"tags":["java","spring","rest","static","global-variables"],"comments":[{"owner":{"account_id":12040719,"reputation":2536,"user_id":8807741,"display_name":"SeverityOne"},"score":1,"creation_date":1519082076,"post_id":48875503,"comment_id":84755124,"body_markdown":"You could try using a `ThreadLocal`, but if you need to pass around an object to over 30 methods, you have a problem with your design. You&#39;re correct that the static global variable isn&#39;t going to work.","body":"You could try using a <code>ThreadLocal</code>, but if you need to pass around an object to over 30 methods, you have a problem with your design. You&#39;re correct that the static global variable isn&#39;t going to work."},{"owner":{"account_id":12980485,"reputation":63,"user_id":9383085,"display_name":"gaity"},"score":0,"creation_date":1519082934,"post_id":48875503,"comment_id":84755357,"body_markdown":"I&#39;m creating a XML file validator application which has more than 100 unique fields. There are multiple methods(&gt;30) to validate different kind of unique XML tags. I take a static StringBuilder object at the start of validation and keeps updating that object whenever an error has occurred. In the end, returns that StringBuilder object which has information of all the errors.","body":"I&#39;m creating a XML file validator application which has more than 100 unique fields. There are multiple methods(&gt;30) to validate different kind of unique XML tags. I take a static StringBuilder object at the start of validation and keeps updating that object whenever an error has occurred. In the end, returns that StringBuilder object which has information of all the errors."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1519083472,"post_id":48875503,"comment_id":84755512,"body_markdown":"There are no global variables in Java. Please clarify your question.","body":"There are no global variables in Java. Please clarify your question."},{"owner":{"account_id":12980485,"reputation":63,"user_id":9383085,"display_name":"gaity"},"score":0,"creation_date":1519084313,"post_id":48875503,"comment_id":84755746,"body_markdown":"Yes @EJP. I&#39;m aware that there are no global variables in Java. I&#39;m looking for an alternative which I can use in my scenario. I don&#39;t want to use instance variable as that variable need to go through more than 30 methods and keep passing a variable through these many methods is a tedious task.","body":"Yes @EJP. I&#39;m aware that there are no global variables in Java. I&#39;m looking for an alternative which I can use in my scenario. I don&#39;t want to use instance variable as that variable need to go through more than 30 methods and keep passing a variable through these many methods is a tedious task."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1519085917,"post_id":48875503,"comment_id":84756154,"body_markdown":"So why did you mention them in your title and your question? There&#39;s no point in talking about things that don&#39;t exist. Please amend.","body":"So why did you mention them in your title and your question? There&#39;s no point in talking about things that don&#39;t exist. Please amend."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519085780,"creation_date":1519084950,"answer_id":48875997,"question_id":48875503,"body_markdown":"The controller has a singleton scope, it should not contain a data. If you need to store data to to the application use the corresponding scope of the bean containing the data string.\n\nIf you are using a bean which is shared among other users then the data should be protected from concurrent modifications. Which way you provide the protection to users is not important at the moment but affordable data structures simplify the implementation of such beans.","title":"Java static/global variables in Spring Rest Application","body":"<p>The controller has a singleton scope, it should not contain a data. If you need to store data to to the application use the corresponding scope of the bean containing the data string.</p>\n\n<p>If you are using a bean which is shared among other users then the data should be protected from concurrent modifications. Which way you provide the protection to users is not important at the moment but affordable data structures simplify the implementation of such beans.</p>\n"},{"comments":[{"owner":{"account_id":12980485,"reputation":63,"user_id":9383085,"display_name":"gaity"},"score":0,"creation_date":1519086685,"post_id":48876069,"comment_id":84756362,"body_markdown":"Thanks Andreas for your suggestion. Thinking of changing the design with using instance variables.","body":"Thanks Andreas for your suggestion. Thinking of changing the design with using instance variables."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1519086809,"post_id":48876069,"comment_id":84756400,"body_markdown":"@gaity Instance variables on what object(s)? Your beans? They are singletons, so the instance variables are too, and you&#39;ve gained nothing.","body":"@gaity Instance variables on what object(s)? Your beans? They are singletons, so the instance variables are too, and you&#39;ve gained nothing."},{"owner":{"account_id":12980485,"reputation":63,"user_id":9383085,"display_name":"gaity"},"score":0,"creation_date":1519089350,"post_id":48876069,"comment_id":84757085,"body_markdown":"I&#39;ll create a bean with scope prototype and put result collector into that. Further, inject this bean in my singleton controller using lookup method. does this approach look fine?","body":"I&#39;ll create a bean with scope prototype and put result collector into that. Further, inject this bean in my singleton controller using lookup method. does this approach look fine?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1519089748,"post_id":48876069,"comment_id":84757187,"body_markdown":"Why use bean at all. A regular Java class will do fine. It is the controller that needs the result collector, since it is the one that needs to understand the results, right?","body":"Why use bean at all. A regular Java class will do fine. It is the controller that needs the result collector, since it is the one that needs to understand the results, right?"},{"owner":{"account_id":12980485,"reputation":63,"user_id":9383085,"display_name":"gaity"},"score":0,"creation_date":1519091864,"post_id":48876069,"comment_id":84757678,"body_markdown":"Yes, that would also work. I can create StringBuilder object in controller method and keep passing it further in the application for collecting results.","body":"Yes, that would also work. I can create StringBuilder object in controller method and keep passing it further in the application for collecting results."}],"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519085492,"creation_date":1519085492,"answer_id":48876069,"question_id":48875503,"body_markdown":"All your validation methods already take a parameter, right? The data to be validated.\r\n\r\nThey also all need the ability to generate validation messages and store them somewhere, e.g. in a &quot;result collector&quot;, right? So that should be a parameter too.\r\n\r\n*Side note: Giving both the data and the result collector to the validators as parameters allows you to **unit test** the validators.*\r\n\r\nI don&#39;t see the problem with passing the result collector around to all the validators, the same way you&#39;re passing the data to be validated around. It&#39;s how the code should have been written to begin with.\r\n\r\nNever use &quot;global&quot; memory in a web application.\r\n\r\nViewed purely from a validators point of view, you pass in the data to be validated, but expect the result to be written to a static collector? **Bad design**, right there. The validator should not be responsible for figuring out how to find the result collector.","title":"Java static/global variables in Spring Rest Application","body":"<p>All your validation methods already take a parameter, right? The data to be validated.</p>\n\n<p>They also all need the ability to generate validation messages and store them somewhere, e.g. in a \"result collector\", right? So that should be a parameter too.</p>\n\n<p><em>Side note: Giving both the data and the result collector to the validators as parameters allows you to <strong>unit test</strong> the validators.</em></p>\n\n<p>I don't see the problem with passing the result collector around to all the validators, the same way you're passing the data to be validated around. It's how the code should have been written to begin with.</p>\n\n<p>Never use \"global\" memory in a web application.</p>\n\n<p>Viewed purely from a validators point of view, you pass in the data to be validated, but expect the result to be written to a static collector? <strong>Bad design</strong>, right there. The validator should not be responsible for figuring out how to find the result collector.</p>\n"}],"owner":{"account_id":12980485,"reputation":63,"user_id":9383085,"display_name":"gaity"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3151,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1693750105,"creation_date":1519081589,"question_id":48875503,"body_markdown":"I&#39;m working on a Spring Rest Service Web application where as soon as a HTTP request is received in the controller, I set a `static String` variable `null`. Further in application, this variable is modified multiple times by various classes and methods, and in the end, this is returned as REST service response.\r\n\r\nI&#39;m afraid that this `static String` variable might be updated by another concurrent HTTP request resulting in incorrect value in previous request. \r\n\r\nI don&#39;t wish to use instance variable as that would need to be passed to multiple methods (&gt;30) across the application.\r\n\r\nPlease, suggest a way to declare a global variable which is not updated by any concurrent HTTP request and have a separate copy for each HTTP request.  ","title":"Java static/global variables in Spring Rest Application","body":"<p>I'm working on a Spring Rest Service Web application where as soon as a HTTP request is received in the controller, I set a <code>static String</code> variable <code>null</code>. Further in application, this variable is modified multiple times by various classes and methods, and in the end, this is returned as REST service response.</p>\n<p>I'm afraid that this <code>static String</code> variable might be updated by another concurrent HTTP request resulting in incorrect value in previous request.</p>\n<p>I don't wish to use instance variable as that would need to be passed to multiple methods (&gt;30) across the application.</p>\n<p>Please, suggest a way to declare a global variable which is not updated by any concurrent HTTP request and have a separate copy for each HTTP request.</p>\n"},{"tags":["java","spring","spring-boot","webclient"],"comments":[{"owner":{"account_id":14751968,"reputation":1,"user_id":14426642,"display_name":"Morante"},"score":0,"creation_date":1693817028,"post_id":77032641,"comment_id":135805435,"body_markdown":"Resolved -&gt; not reconized uri, solution : uri(&quot;/getCities/856&quot;).thenReturn(rhs)","body":"Resolved -&gt; not reconized uri, solution : uri(&quot;/getCities/856&quot;).thenReturn(rhs)"}],"owner":{"account_id":14751968,"reputation":1,"user_id":14426642,"display_name":"Morante"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693750103,"creation_date":1693749914,"question_id":77032641,"body_markdown":"Receipt error testing webclient.get() method result: &quot;org.springframework.web.reactive.function.client.WebClient$RequestHeadersUriSpec.uri(String, Object[])&quot; \r\n\r\nthis is it my error: \r\n\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.reactive.function.client.WebClient$RequestHeadersSpec.retrieve()&quot; because the return value of &quot;org.springframework.web.reactive.function.client.WebClient$RequestHeadersUriSpec.uri(String, Object[])&quot; is null\r\n```\r\n\r\n\r\nWhy doesn&#39;t it work?\r\n\r\nWhat am I doing wrong to receive null data in the uri ?\r\n\r\nMy code testing is :\r\n\r\nTEST.java :\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\n@MockitoSettings(strictness = Strictness.LENIENT)\r\nclass FaroApiRestTest {\r\n\r\n    @Mock\r\n    private WebClient.Builder builder;\r\n    @Mock\r\n    private WebClient webClient;\r\n    @Mock\r\n    private WebClient.RequestHeadersUriSpec rhus;\r\n    @Mock\r\n    private WebClient.RequestHeadersSpec rhs;\r\n    @Mock\r\n    private WebClient.ResponseSpec rs;\r\n    @Mock\r\n    private FaroApiConfig apiConfig;\r\n\r\n    private FaroApiRest faroApiRest;\r\n    private static final String URL_FARO = &quot;http://localhost:8080/faro.dev&quot;;\r\n    private static final String URL_FARO_GETCITIES= &quot;/getCities/{codeProvince}&quot;;\r\n\r\n\r\n@BeforeEach\r\n    void setUp() {\r\n        MockitoAnnotations.openMocks(this);\r\n        apiConfig = Mockito.spy(new FaroApiConfig(URL_FARO));\r\n        faroApiRest = new FaroApiRest(apiConfig);\r\n\r\n        //Initialize webClient Builder Mock\r\n        when(builder.baseUrl(URL_FARO)).thenReturn(builder);\r\n        when(builder.defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)).thenReturn(builder);\r\n        when(builder.build()).thenReturn(webClient);\r\n        when(apiConfig.webClient()).thenReturn(webClient);\r\n\r\n    }\r\n\r\n@Test\r\n    void getCities(){\r\n        List&lt;Object&gt; cities = new ArrayList&lt;&gt;();\r\n        cities.add(&quot;Jersey&quot;);\r\n        String codeProvince = &quot;856&quot;;\r\n\r\n        when(webClient.get()).thenReturn(rhus);\r\n        when(rhus.uri(URL_FARO_GETCITIES, codeProvince)).thenReturn(rhs);\r\n        when(rhus.accept(MediaType.APPLICATION_JSON)).thenReturn(rhs);\r\n        when(rhs.retrieve()).thenReturn(rs);\r\n        when(rs.bodyToMono(new ParameterizedTypeReference&lt;List&lt;Object&gt;&gt;() {})).thenReturn(Mono.just(cities));\r\n\r\n        //given\r\n        List&lt;Object&gt; response = faroApiRest.getCities(codeProvince);\r\n\r\n        //then\r\n        assertNotNull(response);\r\n        verify(rhs).retrieve();\r\n        verify(webClient).get();\r\n    }\r\n```\r\n","title":"Error testing webclient.get() method result: &quot;org.springframework.web.reactive.function.client.WebClient$RequestHeadersUriSpec.uri(String, Object[])&quot;","body":"<p>Receipt error testing webclient.get() method result: &quot;org.springframework.web.reactive.function.client.WebClient$RequestHeadersUriSpec.uri(String, Object[])&quot;</p>\n<p>this is it my error:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.reactive.function.client.WebClient$RequestHeadersSpec.retrieve()&quot; because the return value of &quot;org.springframework.web.reactive.function.client.WebClient$RequestHeadersUriSpec.uri(String, Object[])&quot; is null\n</code></pre>\n<p>Why doesn't it work?</p>\n<p>What am I doing wrong to receive null data in the uri ?</p>\n<p>My code testing is :</p>\n<p>TEST.java :</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@MockitoSettings(strictness = Strictness.LENIENT)\nclass FaroApiRestTest {\n\n    @Mock\n    private WebClient.Builder builder;\n    @Mock\n    private WebClient webClient;\n    @Mock\n    private WebClient.RequestHeadersUriSpec rhus;\n    @Mock\n    private WebClient.RequestHeadersSpec rhs;\n    @Mock\n    private WebClient.ResponseSpec rs;\n    @Mock\n    private FaroApiConfig apiConfig;\n\n    private FaroApiRest faroApiRest;\n    private static final String URL_FARO = &quot;http://localhost:8080/faro.dev&quot;;\n    private static final String URL_FARO_GETCITIES= &quot;/getCities/{codeProvince}&quot;;\n\n\n@BeforeEach\n    void setUp() {\n        MockitoAnnotations.openMocks(this);\n        apiConfig = Mockito.spy(new FaroApiConfig(URL_FARO));\n        faroApiRest = new FaroApiRest(apiConfig);\n\n        //Initialize webClient Builder Mock\n        when(builder.baseUrl(URL_FARO)).thenReturn(builder);\n        when(builder.defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)).thenReturn(builder);\n        when(builder.build()).thenReturn(webClient);\n        when(apiConfig.webClient()).thenReturn(webClient);\n\n    }\n\n@Test\n    void getCities(){\n        List&lt;Object&gt; cities = new ArrayList&lt;&gt;();\n        cities.add(&quot;Jersey&quot;);\n        String codeProvince = &quot;856&quot;;\n\n        when(webClient.get()).thenReturn(rhus);\n        when(rhus.uri(URL_FARO_GETCITIES, codeProvince)).thenReturn(rhs);\n        when(rhus.accept(MediaType.APPLICATION_JSON)).thenReturn(rhs);\n        when(rhs.retrieve()).thenReturn(rs);\n        when(rs.bodyToMono(new ParameterizedTypeReference&lt;List&lt;Object&gt;&gt;() {})).thenReturn(Mono.just(cities));\n\n        //given\n        List&lt;Object&gt; response = faroApiRest.getCities(codeProvince);\n\n        //then\n        assertNotNull(response);\n        verify(rhs).retrieve();\n        verify(webClient).get();\n    }\n</code></pre>\n"},{"tags":["java","maven","maven-site-plugin"],"answers":[{"tags":[],"owner":{"account_id":1669688,"reputation":2200,"user_id":1536382,"display_name":"Testo Testini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693749937,"creation_date":1693749937,"answer_id":77032644,"question_id":77032643,"body_markdown":"In my case the error was due to the following setup:\r\n\r\nThe parent has an URL as configured value of `&lt;distributionManagement&gt; / &lt;site&gt; / &lt;url&gt;`\r\n\r\nThe failing child has not configured the `&lt;distributionManagement&gt; / &lt;site&gt; / &lt;url&gt;`\r\n\r\nSolution was to add the configuration to child or remove it from parent.","title":"maven-site-plugin:3.10.0:site failed: The parameter &#39;from&#39; cannot be null","body":"<p>In my case the error was due to the following setup:</p>\n<p>The parent has an URL as configured value of <code>&lt;distributionManagement&gt; / &lt;site&gt; / &lt;url&gt;</code></p>\n<p>The failing child has not configured the <code>&lt;distributionManagement&gt; / &lt;site&gt; / &lt;url&gt;</code></p>\n<p>Solution was to add the configuration to child or remove it from parent.</p>\n"}],"owner":{"account_id":1669688,"reputation":2200,"user_id":1536382,"display_name":"Testo Testini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693749937,"creation_date":1693749937,"question_id":77032643,"body_markdown":"Executing a mvn site on a parent maven one of the children fail with message:\r\n\r\n    maven-site-plugin:3.10.0:site failed: The parameter &#39;from&#39; cannot be null. -&gt; [Help 1]\r\n\r\nI found a fix / possible cause that I post as answer.\r\n\r\nI searched exensively on Google and here but none reported the issue, so being the error message quite cryptic, I made this question to save time to others. \r\n\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.10.0:site (default-site) on project eleusoft_links_support: Execution default-site of goal org.apache.maven.plugins:maven-site-plugin:3.10.0:site failed: The parameter &#39;from&#39; cannot be null.\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:375)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:299)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:193)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:106)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:963)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:296)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:199)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: org.apache.maven.plugin.PluginExecutionException: Execution default-site of goal org.apache.maven.plugins:maven-site-plugin:3.10.0:site failed: The parameter &#39;from&#39; cannot be null.\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:299)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:193)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:106)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:963)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:296)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:199)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: java.lang.IllegalArgumentException: The parameter &#39;from&#39; cannot be null.\r\n    at org.apache.maven.doxia.tools.DefaultSiteTool.checkNotNull (DefaultSiteTool.java:1493)\r\n    at org.apache.maven.doxia.tools.DefaultSiteTool.getRelativePath (DefaultSiteTool.java:192)\r\n    at org.apache.maven.doxia.tools.DefaultSiteTool.populateParentMenu (DefaultSiteTool.java:711)\r\n    at org.apache.maven.doxia.tools.DefaultSiteTool.getDecorationModel (DefaultSiteTool.java:494)\r\n    at org.apache.maven.plugins.site.descriptor.AbstractSiteDescriptorMojo.prepareDecorationModel (AbstractSiteDescriptorMojo.java:86)\r\n    at org.apache.maven.plugins.site.render.AbstractSiteRenderingMojo.createSiteRenderingContext (AbstractSiteRenderingMojo.java:275)\r\n    at org.apache.maven.plugins.site.render.SiteMojo.renderLocale (SiteMojo.java:164)\r\n    at org.apache.maven.plugins.site.render.SiteMojo.execute (SiteMojo.java:143)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:299)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:193)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:106)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:963)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:296)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:199)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)","title":"maven-site-plugin:3.10.0:site failed: The parameter &#39;from&#39; cannot be null","body":"<p>Executing a mvn site on a parent maven one of the children fail with message:</p>\n<pre><code>maven-site-plugin:3.10.0:site failed: The parameter 'from' cannot be null. -&gt; [Help 1]\n</code></pre>\n<p>I found a fix / possible cause that I post as answer.</p>\n<p>I searched exensively on Google and here but none reported the issue, so being the error message quite cryptic, I made this question to save time to others.</p>\n<pre><code>org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.10.0:site (default-site) on project eleusoft_links_support: Execution default-site of goal org.apache.maven.plugins:maven-site-plugin:3.10.0:site failed: The parameter 'from' cannot be null.\nat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:375)\nat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:299)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:193)\nat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:106)\nat org.apache.maven.cli.MavenCli.execute (MavenCli.java:963)\nat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:296)\nat org.apache.maven.cli.MavenCli.main (MavenCli.java:199)\nat sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke (Method.java:498)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\nat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default-site of goal org.apache.maven.plugins:maven-site-plugin:3.10.0:site failed: The parameter 'from' cannot be null.\nat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\nat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\nat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:299)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:193)\nat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:106)\nat org.apache.maven.cli.MavenCli.execute (MavenCli.java:963)\nat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:296)\nat org.apache.maven.cli.MavenCli.main (MavenCli.java:199)\nat sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke (Method.java:498)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\nat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.IllegalArgumentException: The parameter 'from' cannot be null.\nat org.apache.maven.doxia.tools.DefaultSiteTool.checkNotNull (DefaultSiteTool.java:1493)\nat org.apache.maven.doxia.tools.DefaultSiteTool.getRelativePath (DefaultSiteTool.java:192)\nat org.apache.maven.doxia.tools.DefaultSiteTool.populateParentMenu (DefaultSiteTool.java:711)\nat org.apache.maven.doxia.tools.DefaultSiteTool.getDecorationModel (DefaultSiteTool.java:494)\nat org.apache.maven.plugins.site.descriptor.AbstractSiteDescriptorMojo.prepareDecorationModel (AbstractSiteDescriptorMojo.java:86)\nat org.apache.maven.plugins.site.render.AbstractSiteRenderingMojo.createSiteRenderingContext (AbstractSiteRenderingMojo.java:275)\nat org.apache.maven.plugins.site.render.SiteMojo.renderLocale (SiteMojo.java:164)\nat org.apache.maven.plugins.site.render.SiteMojo.execute (SiteMojo.java:143)\nat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\nat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\nat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:299)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:193)\nat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:106)\nat org.apache.maven.cli.MavenCli.execute (MavenCli.java:963)\nat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:296)\nat org.apache.maven.cli.MavenCli.main (MavenCli.java:199)\nat sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke (Method.java:498)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\nat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","discovery","netflix-eureka"],"comments":[{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1450211008,"post_id":34298315,"comment_id":56339157,"body_markdown":"You are using a version of `eureka-client` that is incompatible with Spring Cloud Netflix. To avoid problems like this you should make use of Spring Cloud&#39;s dependency management.","body":"You are using a version of <code>eureka-client</code> that is incompatible with Spring Cloud Netflix. To avoid problems like this you should make use of Spring Cloud&#39;s dependency management."},{"owner":{"account_id":2427974,"reputation":1083,"user_id":2119522,"accept_rate":23,"display_name":"Boon"},"score":0,"creation_date":1450212530,"post_id":34298315,"comment_id":56340003,"body_markdown":"I don&#39;t have a lot of experience with Spring Cloud dependency management. ..can you give me an example?","body":"I don&#39;t have a lot of experience with Spring Cloud dependency management. ..can you give me an example?"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1450214850,"post_id":34298315,"comment_id":56341324,"body_markdown":"It depends on whether you&#39;re using Maven or Gradle. Try searching for `bom` in [the documentation](http://projects.spring.io/spring-cloud/docs/1.0.3/spring-cloud.html).","body":"It depends on whether you&#39;re using Maven or Gradle. Try searching for <code>bom</code> in <a href=\"http://projects.spring.io/spring-cloud/docs/1.0.3/spring-cloud.html\" rel=\"nofollow noreferrer\">the documentation</a>."}],"answers":[{"tags":[],"owner":{"account_id":6063640,"reputation":8874,"user_id":4734725,"accept_rate":50,"display_name":"reos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450276782,"creation_date":1450276782,"answer_id":34314845,"question_id":34298315,"body_markdown":"You can use\r\n\r\n    org.springframework.cloud.client.discovery.DiscoveryClient\r\n\r\nthen you can get the list of instances with discoveryClient.getInstances\r\n\r\n    ServiceInstance instance = discoveryClient.getInstances(service).get(0);\r\n    instance.getUri().toString();\r\n\r\nIf you use another components like RestTemplate, Ribbon, etc you only need to use the name of the service (name registered in eureka) in the URL \r\n\r\n    restTemplate.getForObject(&quot;http://PRODUCTSMICROSERVICE/products/{id}&quot;, Product.class, id)\r\n\r\n\r\nYou can see more here\r\n\r\nhttps://spring.io/blog/2015/01/20/microservice-registration-and-discovery-with-spring-cloud-and-netflix-s-eureka","title":"Spring Boot app with Eureka DiscoveryClient fails to start","body":"<p>You can use</p>\n\n<pre><code>org.springframework.cloud.client.discovery.DiscoveryClient\n</code></pre>\n\n<p>then you can get the list of instances with discoveryClient.getInstances</p>\n\n<pre><code>ServiceInstance instance = discoveryClient.getInstances(service).get(0);\ninstance.getUri().toString();\n</code></pre>\n\n<p>If you use another components like RestTemplate, Ribbon, etc you only need to use the name of the service (name registered in eureka) in the URL </p>\n\n<pre><code>restTemplate.getForObject(\"http://PRODUCTSMICROSERVICE/products/{id}\", Product.class, id)\n</code></pre>\n\n<p>You can see more here</p>\n\n<p><a href=\"https://spring.io/blog/2015/01/20/microservice-registration-and-discovery-with-spring-cloud-and-netflix-s-eureka\" rel=\"nofollow\">https://spring.io/blog/2015/01/20/microservice-registration-and-discovery-with-spring-cloud-and-netflix-s-eureka</a></p>\n"},{"tags":[],"owner":{"account_id":10760037,"reputation":21,"user_id":7916730,"display_name":"AKumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502881713,"creation_date":1493085498,"answer_id":43600359,"question_id":34298315,"body_markdown":"I received the autowiring error in my experience when i was using discoveryclient to get the information in the class outside any function. So I was using eureka to find out the port for my service as the port was described as 0 hence service was picking up port dynamically while starting as spring boot application. I needed to know the port programmatically . In the controller i used the code like below in wrong way\r\n\r\n    public class HelloController {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(HelloController.class);\r\n\r\n    @Autowired\r\n    private DiscoveryClient discoveryClient;\r\n\r\n    int port = discoveryClient.getLocalServiceInstance().getPort();\r\n\r\n\r\n    @RequestMapping(&quot;/hello/{id}&quot;)\r\n    public String  sayhello(@PathVariable String id)\r\n    {\r\n        String s =&quot;A very nice and warm welcome to the world &quot;+id;\r\n                LOG.info(String.format(&quot;calling helloservice for %s&quot;,id));\r\n        LOG.info(String.format(&quot;calling helloservice for port %d&quot;,port));\r\n        return s;\r\n    } \r\n\r\nOnce i put the port code inside the sayhello method the error went away. So the correct way of retreiving the port is as below\r\n\r\n    public class HelloController {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(HelloController.class);\r\n\r\n    @Autowired\r\n    private DiscoveryClient discoveryClient;\r\n\r\n\r\n\r\n    @RequestMapping(&quot;/hello/{id}&quot;)\r\n    public String  sayhello(@PathVariable String id)\r\n    {\r\n        String s =&quot;A very nice and warm welcome to the world &quot;+id;\r\n        int port = discoveryClient.getLocalServiceInstance().getPort();\r\n        LOG.info(String.format(&quot;calling helloservice for %s&quot;,id));\r\n        LOG.info(String.format(&quot;calling helloservice for port %d&quot;,port));\r\n        return s;\r\n    }\r\n","title":"Spring Boot app with Eureka DiscoveryClient fails to start","body":"<p>I received the autowiring error in my experience when i was using discoveryclient to get the information in the class outside any function. So I was using eureka to find out the port for my service as the port was described as 0 hence service was picking up port dynamically while starting as spring boot application. I needed to know the port programmatically . In the controller i used the code like below in wrong way</p>\n\n<pre><code>public class HelloController {\n\nprivate static final Logger LOG = LoggerFactory.getLogger(HelloController.class);\n\n@Autowired\nprivate DiscoveryClient discoveryClient;\n\nint port = discoveryClient.getLocalServiceInstance().getPort();\n\n\n@RequestMapping(\"/hello/{id}\")\npublic String  sayhello(@PathVariable String id)\n{\n    String s =\"A very nice and warm welcome to the world \"+id;\n            LOG.info(String.format(\"calling helloservice for %s\",id));\n    LOG.info(String.format(\"calling helloservice for port %d\",port));\n    return s;\n} \n</code></pre>\n\n<p>Once i put the port code inside the sayhello method the error went away. So the correct way of retreiving the port is as below</p>\n\n<pre><code>public class HelloController {\n\nprivate static final Logger LOG = LoggerFactory.getLogger(HelloController.class);\n\n@Autowired\nprivate DiscoveryClient discoveryClient;\n\n\n\n@RequestMapping(\"/hello/{id}\")\npublic String  sayhello(@PathVariable String id)\n{\n    String s =\"A very nice and warm welcome to the world \"+id;\n    int port = discoveryClient.getLocalServiceInstance().getPort();\n    LOG.info(String.format(\"calling helloservice for %s\",id));\n    LOG.info(String.format(\"calling helloservice for port %d\",port));\n    return s;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19965577,"reputation":21,"user_id":14632223,"display_name":"ys-park"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1605848876,"creation_date":1605848500,"answer_id":64924064,"question_id":34298315,"body_markdown":"If we are using the latest versions of Spring Boot then we wouldn&#39;t require the @EnableDiscoveryClient or @EnableEurekaClient to be defined in the main class. This happens in the background by Spring when we add the dependencies in pom.xml\r\n\r\nPlease make sure your files have the below basic informations.\r\n\r\n**pom.xml**\r\n\r\n```\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2020.0.0-SNAPSHOT&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\n**application.properties** or YAML file as per choice\r\n```\r\nspring.application.name=eureka-client\r\n\r\neureka.client.service-url.defaultZone: ${EUREKA_URI:http://localhost:8761/eureka}\r\neureka.instance.prefer-ip-address= true\r\nserver.port= 8082\r\n```\r\n\r\nNo changes or @ Annotations required in the main class in Application.java\r\n\r\nPlease checkout my [GIT Repository here][1] for the working code.\r\n\r\n\r\n  [1]: https://github.com/yellowstone-bbc/Spring-Boot-Concepts-/tree/EurekaClient","title":"Spring Boot app with Eureka DiscoveryClient fails to start","body":"<p>If we are using the latest versions of Spring Boot then we wouldn't require the @EnableDiscoveryClient or @EnableEurekaClient to be defined in the main class. This happens in the background by Spring when we add the dependencies in pom.xml</p>\n<p>Please make sure your files have the below basic informations.</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2020.0.0-SNAPSHOT&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p><strong>application.properties</strong> or YAML file as per choice</p>\n<pre><code>spring.application.name=eureka-client\n\neureka.client.service-url.defaultZone: ${EUREKA_URI:http://localhost:8761/eureka}\neureka.instance.prefer-ip-address= true\nserver.port= 8082\n</code></pre>\n<p>No changes or @ Annotations required in the main class in Application.java</p>\n<p>Please checkout my <a href=\"https://github.com/yellowstone-bbc/Spring-Boot-Concepts-/tree/EurekaClient\" rel=\"nofollow noreferrer\">GIT Repository here</a> for the working code.</p>\n"},{"tags":[],"owner":{"account_id":6379287,"reputation":1756,"user_id":5404469,"display_name":"harun ugur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607372484,"creation_date":1607372484,"answer_id":65188814,"question_id":34298315,"body_markdown":"add application.yml file these settings;\r\n\r\n# Our product application run at this port\r\nserver :\r\n   port : 8482\r\n\r\n# Our service will be register by own service name\r\nspring :\r\n   application :\r\n      name : product-service\r\n\r\n    # To be register we assign eureka service url\r\n    eureka:\r\n       client:\r\n         service-url :\r\n            defaultZone:\r\n                ${EUREKA_URI:http://localhost:8481/eureka} # add your port where your eureka server running\r\n       instance :\r\n          prefer-ip-address : true\r\n    \r\n    # Logging file path\r\n    logging :\r\n       file :\r\n          path : target/${spring.application.name}.log\r\n\r\n\r\n\r\n ","title":"Spring Boot app with Eureka DiscoveryClient fails to start","body":"<p>add application.yml file these settings;</p>\n<h1>Our product application run at this port</h1>\n<p>server :\nport : 8482</p>\n<h1>Our service will be register by own service name</h1>\n<p>spring :\napplication :\nname : product-service</p>\n<pre><code># To be register we assign eureka service url\neureka:\n   client:\n     service-url :\n        defaultZone:\n            ${EUREKA_URI:http://localhost:8481/eureka} # add your port where your eureka server running\n   instance :\n      prefer-ip-address : true\n\n# Logging file path\nlogging :\n   file :\n      path : target/${spring.application.name}.log\n</code></pre>\n"}],"owner":{"account_id":2427974,"reputation":1083,"user_id":2119522,"accept_rate":23,"display_name":"Boon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17594,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1693749835,"creation_date":1450209643,"question_id":34298315,"body_markdown":"I&#39;m trying to write a simple Spring Boot application that can (1) register with a Netflix Eureka server, and (2) query the Eureka server to retrieve details of other registered services.\r\n\r\nMy client class has an `@Autowired` field of type `com.netflix.discovery.DiscoveryClient` that is used to talk to Eureka and query it to learn about other services. On my main class I have the annotation `@EnableDiscoveryClient`:\r\n\r\n    @SpringBootApplication\r\n    @EnableDiscoveryClient\r\n    public class AppBootstrap {\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(AppBootstrap.class, args);\r\n        }\r\n    \r\n    }\r\n\r\nIn my `application.yml` file under src/main/resources I have:\r\n\r\n    \r\n    eureka:\r\n        instance:\r\n             lease-renewal-interval-in-seconds: 10\r\n             lease-expiration-duration-in-seconds: 20\r\n             prefer-ip-address: true\r\n             secure-port: 443\r\n             non-secure-port: 80\r\n             metadata-map:\r\n                 instanceId: my-test-instance\r\n        client:\r\n             service-url:\r\n                 defaultZone: http://localhost:9080/eureka/\r\n             registry-fetch-interval-seconds: 6\r\n             instance-info-replication-interval-seconds: 6\r\n             register-with-eureka: true\r\n             fetch-registry: true\r\n             heartbeat-executor-thread-pool-size: 5\r\n             eureka-service-url-poll-interval-seconds: 10\r\n\r\n\r\nWhen I start my app the service fails to boot, throwing an exception that is rooted at:\r\n\r\n    \r\n**Caused by: java.lang.AbstractMethodError: org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean.getInstanceI\r\nd()Ljava/lang/String;\r\n        at com.netflix.appinfo.providers.EurekaConfigBasedInstanceInfoProvider.get(EurekaConfigBasedInstanceInfoProvider\r\n.java:53)\r\n        at com.netflix.appinfo.ApplicationInfoManager.initComponent(ApplicationInfoManager.java:90)\r\n        ... 25 more**\r\n\r\nI&#39;ve no idea what&#39;s going on here. Any ideas? I believe the app should still start even if my Eureka config is incorrect, but it falls over at start time.\r\n\r\nSecondly, am I using the correct DiscoveryClient? Ideally I&#39;d like to make it general such that I could use it with Eureka, Consul or ZooKeeper as examples. I find the documentation isn&#39;t great at illucidating exactly what&#39;s required when using these Spring Cloud / Netflix discovery components.","title":"Spring Boot app with Eureka DiscoveryClient fails to start","body":"<p>I'm trying to write a simple Spring Boot application that can (1) register with a Netflix Eureka server, and (2) query the Eureka server to retrieve details of other registered services.</p>\n\n<p>My client class has an <code>@Autowired</code> field of type <code>com.netflix.discovery.DiscoveryClient</code> that is used to talk to Eureka and query it to learn about other services. On my main class I have the annotation <code>@EnableDiscoveryClient</code>:</p>\n\n<pre><code>@SpringBootApplication\n@EnableDiscoveryClient\npublic class AppBootstrap {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AppBootstrap.class, args);\n    }\n\n}\n</code></pre>\n\n<p>In my <code>application.yml</code> file under src/main/resources I have:</p>\n\n<pre><code>eureka:\n    instance:\n         lease-renewal-interval-in-seconds: 10\n         lease-expiration-duration-in-seconds: 20\n         prefer-ip-address: true\n         secure-port: 443\n         non-secure-port: 80\n         metadata-map:\n             instanceId: my-test-instance\n    client:\n         service-url:\n             defaultZone: http://localhost:9080/eureka/\n         registry-fetch-interval-seconds: 6\n         instance-info-replication-interval-seconds: 6\n         register-with-eureka: true\n         fetch-registry: true\n         heartbeat-executor-thread-pool-size: 5\n         eureka-service-url-poll-interval-seconds: 10\n</code></pre>\n\n<p>When I start my app the service fails to boot, throwing an exception that is rooted at:</p>\n\n<p><strong>Caused by: java.lang.AbstractMethodError: org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean.getInstanceI\nd()Ljava/lang/String;\n        at com.netflix.appinfo.providers.EurekaConfigBasedInstanceInfoProvider.get(EurekaConfigBasedInstanceInfoProvider\n.java:53)\n        at com.netflix.appinfo.ApplicationInfoManager.initComponent(ApplicationInfoManager.java:90)\n        ... 25 more</strong></p>\n\n<p>I've no idea what's going on here. Any ideas? I believe the app should still start even if my Eureka config is incorrect, but it falls over at start time.</p>\n\n<p>Secondly, am I using the correct DiscoveryClient? Ideally I'd like to make it general such that I could use it with Eureka, Consul or ZooKeeper as examples. I find the documentation isn't great at illucidating exactly what's required when using these Spring Cloud / Netflix discovery components.</p>\n"},{"tags":["java","android","hook","frida","reversing"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1650906279,"post_id":71980073,"comment_id":127229260,"body_markdown":"`Java.use(&#39;java.lang.String&#39;).join(&quot;, &quot;, arg);` should work on Android as well as on regular JRE.","body":"<code>Java.use(&#39;java.lang.String&#39;).join(&quot;, &quot;, arg);</code> should work on Android as well as on regular JRE."}],"answers":[{"tags":[],"owner":{"account_id":25064729,"reputation":21,"user_id":18919188,"display_name":"LeaksKurs"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650870716,"creation_date":1650870716,"answer_id":71995683,"question_id":71980073,"body_markdown":"solution:\r\n\r\n    Java.use(&#39;org.json.JSONArray&#39;).$new(arg)","title":"Print [Ljava.lang.String; list from frida","body":"<p>solution:</p>\n<pre><code>Java.use('org.json.JSONArray').$new(arg)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28805757,"reputation":85,"user_id":22061681,"display_name":"Howard Jack"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693749756,"creation_date":1693749756,"answer_id":77032628,"question_id":71980073,"body_markdown":"Another possible solution is to cast the array and don&#39;t forget to call the `toArray()` method.\r\n\r\n\r\n    somehook[&quot;getUrlList&quot;].implementation = function () {\r\n        console.log(`UrlModel.getUrlList is called`);\r\n        let result = this[&quot;getUrlList&quot;]();\r\n        var stringArray = Java.cast(result, \r\n        Java.use(&#39;java.util.List&#39;)).toArray();\r\n        for (var i = 0; i &lt; stringArray.length; i++) {\r\n    \t    console.log(&#39;String[&#39; + i + &#39;]: &#39; + stringArray[i]);\r\n        }\r\n        return result;\r\n    };","title":"Print [Ljava.lang.String; list from frida","body":"<p>Another possible solution is to cast the array and don't forget to call the <code>toArray()</code> method.</p>\n<pre><code>somehook[&quot;getUrlList&quot;].implementation = function () {\n    console.log(`UrlModel.getUrlList is called`);\n    let result = this[&quot;getUrlList&quot;]();\n    var stringArray = Java.cast(result, \n    Java.use('java.util.List')).toArray();\n    for (var i = 0; i &lt; stringArray.length; i++) {\n        console.log('String[' + i + ']: ' + stringArray[i]);\n    }\n    return result;\n};\n</code></pre>\n"}],"owner":{"account_id":25064729,"reputation":21,"user_id":18919188,"display_name":"LeaksKurs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1591,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1693749756,"creation_date":1650720432,"question_id":71980073,"body_markdown":"how can i print list of strings ([Ljava.lang.String;) from java in frida? I tried different methods but nothing works for me:\r\n\r\n - `Java.use(&#39;java.util.Arrays&#39;).toString(arr) `\r\n - `Java.array(&quot;java.lang.String&quot;,arr);`\r\n - `JSON.stringify(arr)`","title":"Print [Ljava.lang.String; list from frida","body":"<p>how can i print list of strings ([Ljava.lang.String;) from java in frida? I tried different methods but nothing works for me:</p>\n<ul>\n<li><code>Java.use('java.util.Arrays').toString(arr) </code></li>\n<li><code>Java.array(&quot;java.lang.String&quot;,arr);</code></li>\n<li><code>JSON.stringify(arr)</code></li>\n</ul>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693919386,"post_id":77032566,"comment_id":135820629,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77032566/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27858507,"reputation":1,"user_id":21271528,"display_name":""},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693748803,"creation_date":1693748803,"answer_id":77032566,"question_id":77032552,"body_markdown":"It seems that the quotation marks turn the slot into a string, and mybatis did not recognize the slot.Refer to https://stackoverflow.com/posts/54577420/revisions","title":"MybatisPlus Of org.apache.ibatis.type.TypeException","body":"<p>It seems that the quotation marks turn the slot into a string, and mybatis did not recognize the slot.Refer to <a href=\"https://stackoverflow.com/posts/54577420/revisions\">https://stackoverflow.com/posts/54577420/revisions</a></p>\n"}],"owner":{"account_id":27858507,"reputation":1,"user_id":21271528,"display_name":""},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693748803,"creation_date":1693748592,"question_id":77032552,"body_markdown":"\r\n\r\n&gt; Could not set parameters for mapping: ParameterMapping{property=&#39;title&#39;, mode=IN, javaType=class java.lang.String, jdbcType=VARCHAR, numericScale=null, resultMapId=&#39;null&#39;, jdbcTypeName=&#39;null&#39;, expression=&#39;null&#39;}. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #2 with JdbcType VARCHAR . Try setting a different JdbcType for this parameter or a different configuration property. Cause: java.sql.SQLException: Parameter index out of range (2 &gt; number of parameters, which is 1).\r\n\r\n## Bad code\r\n\r\n```xml\r\nWHEN title LIKE &#39;%#{title}%&#39;\r\n```\r\n\r\n\r\n\r\n## Good code\r\n\r\n```xml\r\nWHEN title LIKE CONCAT(&#39;%&#39;,#{title},&#39;%&#39;)\r\n```","title":"MybatisPlus Of org.apache.ibatis.type.TypeException","body":"<blockquote>\n<p>Could not set parameters for mapping: ParameterMapping{property='title', mode=IN, javaType=class java.lang.String, jdbcType=VARCHAR, numericScale=null, resultMapId='null', jdbcTypeName='null', expression='null'}. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #2 with JdbcType VARCHAR . Try setting a different JdbcType for this parameter or a different configuration property. Cause: java.sql.SQLException: Parameter index out of range (2 &gt; number of parameters, which is 1).</p>\n</blockquote>\n<h2>Bad code</h2>\n<pre class=\"lang-xml prettyprint-override\"><code>WHEN title LIKE '%#{title}%'\n</code></pre>\n<h2>Good code</h2>\n<pre class=\"lang-xml prettyprint-override\"><code>WHEN title LIKE CONCAT('%',#{title},'%')\n</code></pre>\n"},{"tags":["java","json","spring","postgresql","jpa"],"answers":[{"tags":[],"owner":{"account_id":16652265,"reputation":68,"user_id":12034789,"display_name":"Init_Rebel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693746937,"creation_date":1693746937,"answer_id":77032440,"question_id":77005431,"body_markdown":"You can use a converter as mentioned. Here&#39;s a sample implementation which should work. \r\n\r\n```\r\n@Entity\r\npublic class InfoEntity {\r\n\r\n  @Convert(converter = InfoAttributeConverter.class)\r\n  @Column(name = &quot;info&quot;, columnDefinition = &quot;JSON&quot;)\r\n  private Map&lt;String, String&gt; infoString;\r\n}\r\n\r\n@Converter(autoApply =true)\r\npublic class InfoAttributeConverter {\r\n\r\n// you can use Jackson object mapper here\r\nprivate final ObjectMapper objectMapper;\r\n    \r\n   // This coverts the Java Map to json key value pair before saving\r\n   @Override\r\n   public String convertToDatabaseColumn(Map infoAttributes) {\r\n     return objectMapper.writeValueAsString(infoAttributes)\r\n    }\r\n\r\n    // This converts the json data in column to Map\r\n    @Override\r\n    public Map&lt;String, String&gt; convertToEntityAttribute(String dbData) {\r\n     return objectMapper.readValue(dbData, new TypeReference&lt;HashMap&lt;String, String&gt;&gt;() {});\r\n     }\r\n\r\n}\r\n\r\n\r\n```","title":"How can I map arbitrary json field to a JSON column in postgres using Java JPA repositories?","body":"<p>You can use a converter as mentioned. Here's a sample implementation which should work.</p>\n<pre><code>@Entity\npublic class InfoEntity {\n\n  @Convert(converter = InfoAttributeConverter.class)\n  @Column(name = &quot;info&quot;, columnDefinition = &quot;JSON&quot;)\n  private Map&lt;String, String&gt; infoString;\n}\n\n@Converter(autoApply =true)\npublic class InfoAttributeConverter {\n\n// you can use Jackson object mapper here\nprivate final ObjectMapper objectMapper;\n    \n   // This coverts the Java Map to json key value pair before saving\n   @Override\n   public String convertToDatabaseColumn(Map infoAttributes) {\n     return objectMapper.writeValueAsString(infoAttributes)\n    }\n\n    // This converts the json data in column to Map\n    @Override\n    public Map&lt;String, String&gt; convertToEntityAttribute(String dbData) {\n     return objectMapper.readValue(dbData, new TypeReference&lt;HashMap&lt;String, String&gt;&gt;() {});\n     }\n\n}\n\n\n</code></pre>\n"}],"owner":{"account_id":19317142,"reputation":97,"user_id":14121658,"display_name":"jnasworld223"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693746937,"creation_date":1693376967,"question_id":77005431,"body_markdown":"I have an entity with specific fields, each of which is mapped to columns in a postgres database. I am using a JpaRepository to persist my entity. I have one column, called `info`, that can be arbitrary json, and is stored in a column of type `JSON`. \r\n\r\nI have tried using the data types JSONObject from simple json library and JsonNode from jackson, but they are unable to be mapped to a proper JDBC type. \r\n\r\nIs there a correct way to map arbitary json to postgres json column? I can change the datatype of `info`, but not of the database column. \r\n\r\nThe error I usually see is\r\n```\r\n Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for `com.fasterxml.jackson.databind.JsonNode`\r\n```\r\n\r\n## Edit\r\n\r\nI found a workaround converting between JsonNode and String, as seen here\r\n```\r\n  @Column(name = &quot;info&quot;, columnDefinition = &quot;JSON&quot;)\r\n  @JsonIgnore\r\n  private String infoString;\r\n\r\n  @Transient\r\n  @JsonProperty(&quot;info&quot;)\r\n  @Schema(example = &quot;{}&quot;, description = &quot;additional information&quot;)\r\n  private JsonNode info;\r\n\r\n  private void infoToInfoString() {\r\n    infoString = info.toString();\r\n  }\r\n\r\n  private void infoStringToInfo() throws JsonProcessingException {\r\n    info = objectMapper.readTree(infoString);\r\n  }\r\n```\r\n","title":"How can I map arbitrary json field to a JSON column in postgres using Java JPA repositories?","body":"<p>I have an entity with specific fields, each of which is mapped to columns in a postgres database. I am using a JpaRepository to persist my entity. I have one column, called <code>info</code>, that can be arbitrary json, and is stored in a column of type <code>JSON</code>.</p>\n<p>I have tried using the data types JSONObject from simple json library and JsonNode from jackson, but they are unable to be mapped to a proper JDBC type.</p>\n<p>Is there a correct way to map arbitary json to postgres json column? I can change the datatype of <code>info</code>, but not of the database column.</p>\n<p>The error I usually see is</p>\n<pre><code> Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for `com.fasterxml.jackson.databind.JsonNode`\n</code></pre>\n<h2>Edit</h2>\n<p>I found a workaround converting between JsonNode and String, as seen here</p>\n<pre><code>  @Column(name = &quot;info&quot;, columnDefinition = &quot;JSON&quot;)\n  @JsonIgnore\n  private String infoString;\n\n  @Transient\n  @JsonProperty(&quot;info&quot;)\n  @Schema(example = &quot;{}&quot;, description = &quot;additional information&quot;)\n  private JsonNode info;\n\n  private void infoToInfoString() {\n    infoString = info.toString();\n  }\n\n  private void infoStringToInfo() throws JsonProcessingException {\n    info = objectMapper.readTree(infoString);\n  }\n</code></pre>\n"},{"tags":["java","amazon-s3","apache-flink","parquet","flink-table-api"],"comments":[{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1693762531,"post_id":77032394,"comment_id":135800280,"body_markdown":"In my case I fixed a similar problem by putting flink-shaded-hadoop-2-uber-2.8.3-10.0 somewhere in my classpath.","body":"In my case I fixed a similar problem by putting flink-shaded-hadoop-2-uber-2.8.3-10.0 somewhere in my classpath."},{"owner":{"account_id":29356791,"reputation":41,"user_id":22492521,"display_name":"Lior Livshits"},"score":0,"creation_date":1693817355,"post_id":77032394,"comment_id":135805511,"body_markdown":"Thank you David. I tried that and got another exception which Ive seen before: org.apache.hadoop.fs.s3a.S3AFileSystem not found. I point out that I have the s3-fs-hadoop dependency in my plugins folder.","body":"Thank you David. I tried that and got another exception which Ive seen before: org.apache.hadoop.fs.s3a.S3AFileSystem not found. I point out that I have the s3-fs-hadoop dependency in my plugins folder."},{"owner":{"account_id":21886042,"reputation":1703,"user_id":16173669,"display_name":"Martijn Visser"},"score":0,"creation_date":1693901776,"post_id":77032394,"comment_id":135817012,"body_markdown":"The S3 Hadoop dependency should be in its own folder inside the plugins folder","body":"The S3 Hadoop dependency should be in its own folder inside the plugins folder"}],"owner":{"account_id":29356791,"reputation":41,"user_id":22492521,"display_name":"Lior Livshits"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1693746146,"creation_date":1693746146,"question_id":77032394,"body_markdown":"I am trying to read Parquet files from S3 Ceph in Java using flink 1.16.0 and Table API FileSystem connector but encountering the following error:\r\n\r\n`java.lang.NoClassDefFoundError: org/apache/hadoop/conf/Configuration`\r\n\r\nAs written in Flinks documentation, I used the following dependencies in my pom.xml:\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n  &lt;artifactId&gt;flink-parquet&lt;/artifactId&gt;\r\n  &lt;version&gt;1.16.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n  &lt;artifactId&gt;flink-connector-files&lt;/artifactId&gt;\r\n  &lt;version&gt;1.16.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nFollowing the mentioned error I tried to add some Hadoop dependencies in order to resolve this exception but it still not working and looks like the solution should be simpler.\r\n \r\nHas anyone encountered a similar problem?\r\n\r\nThank you in advance for your help!\r\n","title":"How to read Parquet files from S3 Ceph in Java using Flink 1.16.0 Table API?","body":"<p>I am trying to read Parquet files from S3 Ceph in Java using flink 1.16.0 and Table API FileSystem connector but encountering the following error:</p>\n<p><code>java.lang.NoClassDefFoundError: org/apache/hadoop/conf/Configuration</code></p>\n<p>As written in Flinks documentation, I used the following dependencies in my pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n  &lt;artifactId&gt;flink-parquet&lt;/artifactId&gt;\n  &lt;version&gt;1.16.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n  &lt;artifactId&gt;flink-connector-files&lt;/artifactId&gt;\n  &lt;version&gt;1.16.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Following the mentioned error I tried to add some Hadoop dependencies in order to resolve this exception but it still not working and looks like the solution should be simpler.</p>\n<p>Has anyone encountered a similar problem?</p>\n<p>Thank you in advance for your help!</p>\n"},{"tags":["java","android","kotlin","gradle"],"owner":{"account_id":19208507,"reputation":41,"user_id":14034841,"display_name":"Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693746064,"creation_date":1693746064,"question_id":77032386,"body_markdown":"When I try to import a Gradle project into my Kotlin Android project, I get this error message:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n**Information**:\r\n- JDK 17\r\n- Android Studio Iguana 2023.2.1 Cancary 1\r\n\r\nWhat could be the reason for this? I would like to use my Java project locally in my Android Kotlin app.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5qyMJ.png\r\n  [2]: https://i.stack.imgur.com/tNVYH.png","title":"Plugin [id: &#39;com.android.application&#39;, version: &#39;8.3.0-alpha01&#39;, apply: false] was not found in any of the following sources","body":"<p>When I try to import a Gradle project into my Kotlin Android project, I get this error message:</p>\n<p><a href=\"https://i.stack.imgur.com/5qyMJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5qyMJ.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/tNVYH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tNVYH.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Information</strong>:</p>\n<ul>\n<li>JDK 17</li>\n<li>Android Studio Iguana 2023.2.1 Cancary 1</li>\n</ul>\n<p>What could be the reason for this? I would like to use my Java project locally in my Android Kotlin app.</p>\n"},{"tags":["java","opencv","image-processing"],"comments":[{"owner":{"account_id":4919628,"reputation":18071,"user_id":3962537,"display_name":"Dan Maek"},"score":1,"creation_date":1585311234,"post_id":60885529,"comment_id":107721040,"body_markdown":"For your RED colour boundaries, you&#39;re asking for hue that&#39;s greater than 170 and less than 10 at the same time. There are obviously no values for which that can be true.","body":"For your RED colour boundaries, you&#39;re asking for hue that&#39;s greater than 170 and less than 10 at the same time. There are obviously no values for which that can be true."},{"owner":{"account_id":13253153,"reputation":75,"user_id":9570105,"display_name":"Maor Magori"},"score":0,"creation_date":1585312309,"post_id":60885529,"comment_id":107721520,"body_markdown":"@DanMaek Danm i feel so stupid. I gave both purple and red the wrong values :(","body":"@DanMaek Danm i feel so stupid. I gave both purple and red the wrong values :("}],"answers":[{"tags":[],"owner":{"account_id":14539811,"reputation":538,"user_id":10501887,"display_name":"CoderMuffin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693745810,"creation_date":1693745810,"answer_id":77032369,"question_id":60885529,"body_markdown":"For anyone else having this issue on android, I found that an image from a camera requires the v3 parameter of the `Scalar` to be set. That is:\r\n```java\r\ncase Card.Color.GREEN: lowerBoundary = new Scalar(50,100,20);\r\n    upperBoundary = new Scalar(70,255,255);\r\n    break;\r\n```\r\nbecomes\r\n```java\r\ncase Card.Color.GREEN: lowerBoundary = new Scalar(50,100,20,0);\r\n    upperBoundary = new Scalar(70,255,255,255);\r\n    break;\r\n```\r\nNotice this uses a different constructor to cover the full range of alpha values (I am pretty sure v3 refers to alpha if all values are specified)\r\n\r\nHope this helps :)","title":"OpenCV inRange not finding any color","body":"<p>For anyone else having this issue on android, I found that an image from a camera requires the v3 parameter of the <code>Scalar</code> to be set. That is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>case Card.Color.GREEN: lowerBoundary = new Scalar(50,100,20);\n    upperBoundary = new Scalar(70,255,255);\n    break;\n</code></pre>\n<p>becomes</p>\n<pre class=\"lang-java prettyprint-override\"><code>case Card.Color.GREEN: lowerBoundary = new Scalar(50,100,20,0);\n    upperBoundary = new Scalar(70,255,255,255);\n    break;\n</code></pre>\n<p>Notice this uses a different constructor to cover the full range of alpha values (I am pretty sure v3 refers to alpha if all values are specified)</p>\n<p>Hope this helps :)</p>\n"}],"owner":{"account_id":13253153,"reputation":75,"user_id":9570105,"display_name":"Maor Magori"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693745810,"creation_date":1585310233,"question_id":60885529,"body_markdown":"Hello Im writing a program which can detect playing cards. One of the card&#39;s attributes is his color.\r\nI&#39;m trying to run inRange with the three colors possible and detect which color it is based on the amount of white pixels inRange returns.\r\nThe color with the most white pixels is probably the color of the card.\r\n\r\nThe problem: inRange returns a full black mat. not finding any of the colors.\r\n\r\nThe method for finding the card&#39;s color.\r\n``` \r\npublic String matchCardColor(Mat wrap){\r\n        //The Mat format is bgr so we convert it to hsv to better find the colors.\r\n        Mat hsv = new Mat();\r\n        Imgproc.cvtColor(wrap,hsv,Imgproc.COLOR_BGR2HSV,0);\r\n\r\n        //Defining the colors boundaries.\r\n        Boundaries[] colors = {new Boundaries(Card.Color.GREEN),\r\n                new Boundaries(Card.Color.PURPLE),\r\n                new Boundaries(Card.Color.RED)};\r\n\r\n        //Finding the color with the most pixels found.\r\n        Mat coloredPixels = new Mat();\r\n        Mat mask = new Mat();\r\n        int foundPixels;\r\n        int maxPixels = 0;\r\n        String color = &quot;N/A&quot;;\r\n\r\n        for (Boundaries b :\r\n                colors) {\r\n            Core.inRange(hsv,b.getLowerBoundary(),b.getUpperBoundary(),coloredPixels);\r\n            foundPixels = getWhitePixles(coloredPixels);\r\n            if (foundPixels&gt;maxPixels){\r\n                maxPixels = foundPixels;\r\n                color = b.getColor();\r\n                mask = coloredPixels.clone();\r\n            }\r\n        }\r\n        //mainImgView.setImage(mat2Image(mask));\r\n        System.out.println(&quot;Max pixels found: &quot; + maxPixels);\r\n        return color;\r\n    }\r\n```\r\n\r\nBoundaries is a class made to describe a color&#39;s boundaries.\r\n```\r\npublic class Boundaries {\r\n    private Scalar lowerBoundary, upperBoundary;\r\n    private String name;\r\n\r\npublic Boundaries(String name){\r\n        this.name = name;\r\n        switch (name){\r\n            case Card.Color.GREEN: lowerBoundary = new Scalar(50,100,20);\r\n                upperBoundary = new Scalar(70,255,255);\r\n                break;\r\n            case Card.Color.PURPLE: lowerBoundary = new Scalar(140,100,20);\r\n                upperBoundary = new Scalar(160,255,255);\r\n                break;\r\n            case Card.Color.RED: lowerBoundary = new Scalar(170,100,20);\r\n                upperBoundary = new Scalar(10,255,255);\r\n                break;\r\n            default: name = &quot;Wrong color name entered!&quot;;\r\n                break;\r\n        }\r\n    }\r\n    public String getColor(){\r\n        return name;\r\n    }\r\n    public Scalar getLowerBoundary(){\r\n        return lowerBoundary;\r\n    }\r\n    public Scalar getUpperBoundary(){\r\n        return upperBoundary;\r\n    }\r\n}\r\n```\r\ngetWhitePixels just counts the number of pixels with 255 value.\r\n````\r\nprivate int getWhitePixles(Mat mat) {\r\n        int whitePixels = 0;\r\n        for(int i=0; i&lt;mat.size().height; i++)\r\n            for (int j=0; j&lt;mat.size().width; j++)\r\n                if (mat.get(i,j)[0]==255)\r\n                    whitePixels++;\r\n        return whitePixels;\r\n    }\r\n````\r\n\r\nThe Mat I&#39;m testing:\r\n[Wrap][1]\r\n\r\nThe coloredPixels stays a full black Mat through every iteration and maxPixels stays 0, even though the card has Red in it. \r\n\r\n  [1]: https://i.stack.imgur.com/DGtfc.jpg\r\n\r\nEDIT: I gave the colors the wrong hsv boundaries. Shold&#39;ve double checked myself. After changing the values it works!","title":"OpenCV inRange not finding any color","body":"<p>Hello Im writing a program which can detect playing cards. One of the card's attributes is his color.\nI'm trying to run inRange with the three colors possible and detect which color it is based on the amount of white pixels inRange returns.\nThe color with the most white pixels is probably the color of the card.</p>\n\n<p>The problem: inRange returns a full black mat. not finding any of the colors.</p>\n\n<p>The method for finding the card's color.</p>\n\n<pre><code>public String matchCardColor(Mat wrap){\n        //The Mat format is bgr so we convert it to hsv to better find the colors.\n        Mat hsv = new Mat();\n        Imgproc.cvtColor(wrap,hsv,Imgproc.COLOR_BGR2HSV,0);\n\n        //Defining the colors boundaries.\n        Boundaries[] colors = {new Boundaries(Card.Color.GREEN),\n                new Boundaries(Card.Color.PURPLE),\n                new Boundaries(Card.Color.RED)};\n\n        //Finding the color with the most pixels found.\n        Mat coloredPixels = new Mat();\n        Mat mask = new Mat();\n        int foundPixels;\n        int maxPixels = 0;\n        String color = \"N/A\";\n\n        for (Boundaries b :\n                colors) {\n            Core.inRange(hsv,b.getLowerBoundary(),b.getUpperBoundary(),coloredPixels);\n            foundPixels = getWhitePixles(coloredPixels);\n            if (foundPixels&gt;maxPixels){\n                maxPixels = foundPixels;\n                color = b.getColor();\n                mask = coloredPixels.clone();\n            }\n        }\n        //mainImgView.setImage(mat2Image(mask));\n        System.out.println(\"Max pixels found: \" + maxPixels);\n        return color;\n    }\n</code></pre>\n\n<p>Boundaries is a class made to describe a color's boundaries.</p>\n\n<pre><code>public class Boundaries {\n    private Scalar lowerBoundary, upperBoundary;\n    private String name;\n\npublic Boundaries(String name){\n        this.name = name;\n        switch (name){\n            case Card.Color.GREEN: lowerBoundary = new Scalar(50,100,20);\n                upperBoundary = new Scalar(70,255,255);\n                break;\n            case Card.Color.PURPLE: lowerBoundary = new Scalar(140,100,20);\n                upperBoundary = new Scalar(160,255,255);\n                break;\n            case Card.Color.RED: lowerBoundary = new Scalar(170,100,20);\n                upperBoundary = new Scalar(10,255,255);\n                break;\n            default: name = \"Wrong color name entered!\";\n                break;\n        }\n    }\n    public String getColor(){\n        return name;\n    }\n    public Scalar getLowerBoundary(){\n        return lowerBoundary;\n    }\n    public Scalar getUpperBoundary(){\n        return upperBoundary;\n    }\n}\n</code></pre>\n\n<p>getWhitePixels just counts the number of pixels with 255 value.</p>\n\n<pre><code>private int getWhitePixles(Mat mat) {\n        int whitePixels = 0;\n        for(int i=0; i&lt;mat.size().height; i++)\n            for (int j=0; j&lt;mat.size().width; j++)\n                if (mat.get(i,j)[0]==255)\n                    whitePixels++;\n        return whitePixels;\n    }\n</code></pre>\n\n<p>The Mat I'm testing:\n<a href=\"https://i.stack.imgur.com/DGtfc.jpg\" rel=\"nofollow noreferrer\">Wrap</a></p>\n\n<p>The coloredPixels stays a full black Mat through every iteration and maxPixels stays 0, even though the card has Red in it. </p>\n\n<p>EDIT: I gave the colors the wrong hsv boundaries. Shold've double checked myself. After changing the values it works!</p>\n"},{"tags":["java","docker","selenide","selenoid"],"comments":[{"owner":{"account_id":25717391,"reputation":35,"user_id":19474927,"display_name":"Katerina Zharkaya"},"score":0,"creation_date":1693826001,"post_id":77032343,"comment_id":135806993,"body_markdown":"Resolved: There was another video-recorder container run on the same environment. The problem has been solved by removing container","body":"Resolved: There was another video-recorder container run on the same environment. The problem has been solved by removing container"}],"owner":{"account_id":25717391,"reputation":35,"user_id":19474927,"display_name":"Katerina Zharkaya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693745483,"creation_date":1693745483,"question_id":77032343,"body_markdown":"I get the next error in my console log during Java Selenide test execution against Firefox browser that is running by Selenoid. This error occurs after aproximately 25 min of normal test execution (4 threads). And occurs every run. Could anyone help please to understand what can be wrong? I suspect some memory problems, but how can I avoid them? Maybe some config of capabilities? thank you in advance\r\n \r\n```[x11grab ...] Cannot open display browser:99, error 1. browser:99: I/O error during selenide tests execution against Firefox browser in Selenoid```\r\n\r\nconfig:\r\n```Map&lt;String, Object&gt; selenoidOptions = new HashMap&lt;&gt;();\r\n        selenoidOptions.put(&quot;enableVideo&quot;, true);\r\n        selenoidOptions.put(&quot;enableVNC&quot;, true);\r\n        selenoidOptions.put(&quot;videoName&quot;, getVideoFileName(scenario)); ```\r\n\r\n    ```     browser = FIREFOX;\r\n                browserVersion = &quot;115.0&quot;;\r\n                FirefoxOptions options = new FirefoxOptions();\r\n                options.setCapability(&quot;selenoid:options&quot;, selenoidOptions);\r\n                browserCapabilities = options;\r\n                break;```","title":"Cannot open display browser:99, error 1. browser:99: I/O error during selenide tests execution against Firefox browser in Selenoid","body":"<p>I get the next error in my console log during Java Selenide test execution against Firefox browser that is running by Selenoid. This error occurs after aproximately 25 min of normal test execution (4 threads). And occurs every run. Could anyone help please to understand what can be wrong? I suspect some memory problems, but how can I avoid them? Maybe some config of capabilities? thank you in advance</p>\n<p><code>[x11grab ...] Cannot open display browser:99, error 1. browser:99: I/O error during selenide tests execution against Firefox browser in Selenoid</code></p>\n<p>config:</p>\n<pre><code>        selenoidOptions.put(&quot;enableVideo&quot;, true);\n        selenoidOptions.put(&quot;enableVNC&quot;, true);\n        selenoidOptions.put(&quot;videoName&quot;, getVideoFileName(scenario)); ```\n\n    ```     browser = FIREFOX;\n                browserVersion = &quot;115.0&quot;;\n                FirefoxOptions options = new FirefoxOptions();\n                options.setCapability(&quot;selenoid:options&quot;, selenoidOptions);\n                browserCapabilities = options;\n                break;```\n</code></pre>\n"},{"tags":["java","spring","maven","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":3591100,"reputation":930,"user_id":2997147,"accept_rate":52,"display_name":"FrankelStein"},"score":0,"creation_date":1518973007,"post_id":48848080,"comment_id":84711778,"body_markdown":"This worked ! as well as the answer of Do Nhu Vy, I have a question though: why do I need to add that dependency ? since I am including a parent in my pom, this means that all the dependencies I need are retrieved from that parent so why I have to add another dependency in order for my project to compile ?","body":"This worked ! as well as the answer of Do Nhu Vy, I have a question though: why do I need to add that dependency ? since I am including a parent in my pom, this means that all the dependencies I need are retrieved from that parent so why I have to add another dependency in order for my project to compile ?"},{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":0,"creation_date":1518973150,"post_id":48848080,"comment_id":84711828,"body_markdown":"The parent POM is for managing dependencies, they are _all_ optional, thus you need be explicit and define them yourself.","body":"The parent POM is for managing dependencies, they are <i>all</i> optional, thus you need be explicit and define them yourself."}],"tags":[],"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1518923597,"creation_date":1518923597,"answer_id":48848080,"question_id":48847951,"body_markdown":"You have 0 compile dependencies, only test-compile dependencies defined, because you&#39;ve commented out `spring-boot-starter-data-jpa`. Spring starter&#39;s pull other dependencies in (including other starters) to create everything needed at compile time. Un-comment the `spring-boot-starter-data-jpa` dependency, and/or re-evaulate what dependencies you actually want. ","title":"package org.springframework.boot does not exist","body":"<p>You have 0 compile dependencies, only test-compile dependencies defined, because you've commented out <code>spring-boot-starter-data-jpa</code>. Spring starter's pull other dependencies in (including other starters) to create everything needed at compile time. Un-comment the <code>spring-boot-starter-data-jpa</code> dependency, and/or re-evaulate what dependencies you actually want. </p>\n"},{"comments":[{"owner":{"account_id":3591100,"reputation":930,"user_id":2997147,"accept_rate":52,"display_name":"FrankelStein"},"score":1,"creation_date":1518973075,"post_id":48848119,"comment_id":84711800,"body_markdown":"This worked ! as well as the answer of Darren Forsythe, I have a question though: why do I need to add that dependency ? since I am including a parent in my pom, this means that all the dependencies I need are retrieved from that parent so why I have to add another dependency in order for my project to compile ?","body":"This worked ! as well as the answer of Darren Forsythe, I have a question though: why do I need to add that dependency ? since I am including a parent in my pom, this means that all the dependencies I need are retrieved from that parent so why I have to add another dependency in order for my project to compile ?"},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":2,"creation_date":1518986921,"post_id":48848119,"comment_id":84716267,"body_markdown":"If the parent declares dependencies, which are inherited, that would be correct. However, the Spring Boot parent only declares dependencyManagement, which will only manage versions and scope, but the dependencies itself are not added in child projects.","body":"If the parent declares dependencies, which are inherited, that would be correct. However, the Spring Boot parent only declares dependencyManagement, which will only manage versions and scope, but the dependencies itself are not added in child projects."}],"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":2,"down_vote_count":2,"up_vote_count":27,"is_accepted":false,"score":25,"last_activity_date":1518925816,"creation_date":1518924046,"answer_id":48848119,"question_id":48847951,"body_markdown":"You need add this dependency\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nthen it will work.","title":"package org.springframework.boot does not exist","body":"<p>You need add this dependency</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>then it will work.</p>\n"},{"tags":[],"owner":{"account_id":5964935,"reputation":377,"user_id":4688929,"display_name":"kemparaj565"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518924594,"creation_date":1518924594,"answer_id":48848158,"question_id":48847951,"body_markdown":"Add the below section outside dependency management and do an update of project. And then the clean install of maven.\r\n\r\n    &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.10.RELEASE&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n\r\nAnd the below dependency.\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nIf does not fix (Not Likely to happen) then add the other dependencies mentioned [here][1]\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/spring-boot/","title":"package org.springframework.boot does not exist","body":"<p>Add the below section outside dependency management and do an update of project. And then the clean install of maven.</p>\n\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.10.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n</code></pre>\n\n<p>And the below dependency.</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>If does not fix (Not Likely to happen) then add the other dependencies mentioned <a href=\"https://spring.io/guides/gs/spring-boot/\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":10048487,"reputation":310,"user_id":7429009,"display_name":"Vimukthi Sineth"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1565593390,"creation_date":1565593390,"answer_id":57456874,"question_id":48847951,"body_markdown":"1) Close the project\r\n2) Import the project again with auto-import checked\r\n\r\nThis worked for me. Maybe works for you too.","title":"package org.springframework.boot does not exist","body":"<p>1) Close the project\n2) Import the project again with auto-import checked</p>\n\n<p>This worked for me. Maybe works for you too.</p>\n"},{"tags":[],"owner":{"account_id":26141800,"reputation":71,"user_id":19831065,"display_name":"Harsha N"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1661275422,"creation_date":1661275422,"answer_id":73462831,"question_id":48847951,"body_markdown":"If any Wrapper folder is present inside .mvn folder of your project delete it. Also, Go to File-&gt;Settings-&gt;Build,Execution,Deployment-&gt;BuildTools-&gt;Maven-&gt;Set Maven home path as Bundled(Maven 3)","title":"package org.springframework.boot does not exist","body":"<p>If any Wrapper folder is present inside .mvn folder of your project delete it. Also, Go to File-&gt;Settings-&gt;Build,Execution,Deployment-&gt;BuildTools-&gt;Maven-&gt;Set Maven home path as Bundled(Maven 3)</p>\n"},{"tags":[],"owner":{"account_id":1042691,"reputation":536,"user_id":1048376,"display_name":"splashout"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677111115,"creation_date":1677111115,"answer_id":75539408,"question_id":48847951,"body_markdown":"If you don&#39;t need web related libraries, you can add this dependency instead of **spring-boot-starter-web** mentioned in other answers: \r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;","title":"package org.springframework.boot does not exist","body":"<p>If you don't need web related libraries, you can add this dependency instead of <strong>spring-boot-starter-web</strong> mentioned in other answers:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3471345,"reputation":51,"user_id":2905554,"display_name":"user2905554"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678731589,"creation_date":1678731589,"answer_id":75725570,"question_id":48847951,"body_markdown":"sometime project got problem during compile or got problem. Step for the solution :\r\n\r\n 1. check if the dependency is valid. On the topic, dependency is valid. Check the **name** on dependency to make sure, include the Hirarky.\r\n2. check your java. I tried using version 19 and it work fine then using 17 is fail!! but following example on youtube, the code work. Then the next step reload the project. Make sure your Java is up to date or newest.   \r\n3. Reload project. This can be execute from command\r\n    prompt (**mvn -U idea:idea**) or from your ide  (on Intellij, choose your project folder -&gt; maven\r\n    -&gt; reload project). You can try other way related to reloading your IDE. My recommendation is using command prompt. If you using IDE, try reload the project before close and open project.\r\n4. if nothing work.. delete **.idea** and then open and close your project (not recommended). When following step 3, your idea folder should be clean. Make sure your IDE not open this project before deleting the folder.\r\n5. use recommended IDE (related to reff link). This is just reminder.\r\n\r\nnotice: this tested on windows. \r\n\r\nhint: sometime using lower version JDK can help. If you follow manual, try to use same version. My fault is using 19 not 17 (on youtube). The newest version have more advance than before, if you still learning following your mentor/teacher is recommended. \r\n \r\n\r\nsummary from here:\r\n\r\nhttps://stackoverflow.com/questions/53869118/importing-to-intellij-error-package-org-springframework-boot-does-not-exist","title":"package org.springframework.boot does not exist","body":"<p>sometime project got problem during compile or got problem. Step for the solution :</p>\n<ol>\n<li>check if the dependency is valid. On the topic, dependency is valid. Check the <strong>name</strong> on dependency to make sure, include the Hirarky.</li>\n<li>check your java. I tried using version 19 and it work fine then using 17 is fail!! but following example on youtube, the code work. Then the next step reload the project. Make sure your Java is up to date or newest.</li>\n<li>Reload project. This can be execute from command\nprompt (<strong>mvn -U idea:idea</strong>) or from your ide  (on Intellij, choose your project folder -&gt; maven\n-&gt; reload project). You can try other way related to reloading your IDE. My recommendation is using command prompt. If you using IDE, try reload the project before close and open project.</li>\n<li>if nothing work.. delete <strong>.idea</strong> and then open and close your project (not recommended). When following step 3, your idea folder should be clean. Make sure your IDE not open this project before deleting the folder.</li>\n<li>use recommended IDE (related to reff link). This is just reminder.</li>\n</ol>\n<p>notice: this tested on windows.</p>\n<p>hint: sometime using lower version JDK can help. If you follow manual, try to use same version. My fault is using 19 not 17 (on youtube). The newest version have more advance than before, if you still learning following your mentor/teacher is recommended.</p>\n<p>summary from here:</p>\n<p><a href=\"https://stackoverflow.com/questions/53869118/importing-to-intellij-error-package-org-springframework-boot-does-not-exist\">Importing to IntelliJ - Error package org.springframework.boot does not exist</a></p>\n"},{"tags":[],"owner":{"account_id":14991897,"reputation":81,"user_id":10822670,"display_name":"norullah karimi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688712165,"creation_date":1688712165,"answer_id":76634499,"question_id":48847951,"body_markdown":"If you have this dependency below, but still you have this error:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nyour maven still doesn&#39;t download it, for this issue may you need to **vpn** or **check internet connection**. I have the same error and I use **vpn**, next in &quot;**Intelij IDE**&quot; in maven window( right side) if you can not see that, you should active that, next click on &quot;**reload All Maven project**&quot; and it download it and then you can see your problem has fixed. \r\nmay it helpfull.","title":"package org.springframework.boot does not exist","body":"<p>If you have this dependency below, but still you have this error:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>your maven still doesn't download it, for this issue may you need to <strong>vpn</strong> or <strong>check internet connection</strong>. I have the same error and I use <strong>vpn</strong>, next in &quot;<strong>Intelij IDE</strong>&quot; in maven window( right side) if you can not see that, you should active that, next click on &quot;<strong>reload All Maven project</strong>&quot; and it download it and then you can see your problem has fixed.\nmay it helpfull.</p>\n"},{"tags":[],"owner":{"account_id":4747009,"reputation":61,"user_id":3838071,"display_name":"Asheesh Janghu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691406395,"creation_date":1691406395,"answer_id":76851103,"question_id":48847951,"body_markdown":"I was facing this issue and nothing was working out.\r\nI tried one of the solution to change maven home path.\r\nIntelij -&gt; Preferences -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Maven\r\n\r\nHere I changed the Maven home path from `Use Maven Wrapper` to `Bundled (Maven 3)` and everything became fine.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NzVzw.png","title":"package org.springframework.boot does not exist","body":"<p>I was facing this issue and nothing was working out.\nI tried one of the solution to change maven home path.\nIntelij -&gt; Preferences -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Maven</p>\n<p>Here I changed the Maven home path from <code>Use Maven Wrapper</code> to <code>Bundled (Maven 3)</code> and everything became fine.\n<a href=\"https://i.stack.imgur.com/NzVzw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NzVzw.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":9572673,"reputation":12138,"user_id":7109869,"display_name":"Gon&#231;alo Peres"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693745265,"creation_date":1691503491,"answer_id":76860330,"question_id":48847951,"body_markdown":"Had the same problem (using IntelliJ), and to solve it went through a variety of steps (not necessarily in this order), and my issue was solved:\r\n\r\n1. Make sure the `pom.xml` in your project directory has\r\n\r\n       &lt;dependency&gt;\r\n\t  \t   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t  \t   &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t   &lt;/dependency&gt;\r\n\r\n   For that one can also access the Dependencies by clicking `ALT` + `Insert`\r\n   \r\n   [![enter image description here][1]][1]\r\n\r\n   Then search for `spring-book-starter-web` (or a similar variation), and click `Add`.\r\n\r\n   [![enter image description here][2]][2]\r\n\r\n\r\n\r\n2. Invalidate all Caches (`File` &gt; `Invalidate All Caches`)\r\n\r\n   [![enter image description here][3]][3]\r\n\r\n\r\n   [![enter image description here][4]][4]\r\n\r\n\r\n3. Remove the `.idea` folder in your project directory\r\n\r\n   [![enter image description here][5]][5]\r\n\r\n4. Uninstall every Java: JDKs and Java 8, that I had installed.\r\n\r\n   I&#39;ve used [Revo Uninstaller][6] for this, but if one is in Windows, one can also go to `Settings` &gt; `Apps` &gt; `Apps &amp; features` ([as it says here][7]).\r\n\r\n   If one has, one might have to remove the directory `.jdk` as well. \r\n\r\n   Then restart the machine.\r\n\r\n5. Install the JDK for the Project through IntelliJ.\r\n\r\n   For that, go to `File` &gt; `Project Structure` &gt; `Platform Settings` &gt; `SDKs`.\r\n\r\n   [![enter image description here][8]][8]\r\n\r\n   [More on this here][9].\r\n\r\n6. Update IntelliJ to a newer version (assuming it&#39;s not up to date).\r\n\r\n   As I use JetBrains Toolbox, just add to access it and it was straightforward.\r\n\r\n   [![enter image description here][10]][10]\r\n\r\n   One can also update by \r\n\r\n7. Make sure one has `MAVEN_REPOSITORY` pointing to the right place.\r\n  \r\n   Eg. `C:\\Users\\goncalo\\.m2\\repository`. \r\n\r\n   Confirm that in `File` &gt; `Settings` &gt; `Appearance &amp; Behavior` &gt; `Path Variables`.\r\n\r\n   [![enter image description here][11]][11]\r\n\r\n8. If the Project directory has a folder called `target`,\r\n\r\n   [![enter image description here][12]][12]\r\n\r\n   Go to the Maven (in my case it is on the right-top of the IDE) and, in the `Lifecycle` click `clean`\r\n\r\n   [![enter image description here][13]][13]\r\n\r\n   Then try to run the project again.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yQCLLm.png\r\n  [2]: https://i.stack.imgur.com/0jwBm.png\r\n  [3]: https://i.stack.imgur.com/YTwzJm.png\r\n  [4]: https://i.stack.imgur.com/Z9Tkhm.png\r\n  [5]: https://i.stack.imgur.com/wOfuMm.png\r\n  [6]: https://www.revouninstaller.com/\r\n  [7]: https://support.microsoft.com/en-us/windows/uninstall-or-remove-apps-and-programs-in-windows-4b55f974-2cc6-2d2b-d092-5905080eaf98\r\n  [8]: https://i.stack.imgur.com/ljDx5m.png\r\n  [9]: https://www.jetbrains.com/help/idea/sdk.html\r\n  [10]: https://i.stack.imgur.com/cCHlBm.png\r\n  [11]: https://i.stack.imgur.com/7VzLWm.png\r\n  [12]: https://i.stack.imgur.com/7HeU6m.png\r\n  [13]: https://i.stack.imgur.com/P3jVTm.png","title":"package org.springframework.boot does not exist","body":"<p>Had the same problem (using IntelliJ), and to solve it went through a variety of steps (not necessarily in this order), and my issue was solved:</p>\n<ol>\n<li><p>Make sure the <code>pom.xml</code> in your project directory has</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>For that one can also access the Dependencies by clicking <code>ALT</code> + <code>Insert</code></p>\n<p><a href=\"https://i.stack.imgur.com/yQCLLm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yQCLLm.png\" alt=\"enter image description here\" /></a></p>\n<p>Then search for <code>spring-book-starter-web</code> (or a similar variation), and click <code>Add</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/0jwBm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0jwBm.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Invalidate all Caches (<code>File</code> &gt; <code>Invalidate All Caches</code>)</p>\n<p><a href=\"https://i.stack.imgur.com/YTwzJm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YTwzJm.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Z9Tkhm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z9Tkhm.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Remove the <code>.idea</code> folder in your project directory</p>\n<p><a href=\"https://i.stack.imgur.com/wOfuMm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wOfuMm.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Uninstall every Java: JDKs and Java 8, that I had installed.</p>\n<p>I've used <a href=\"https://www.revouninstaller.com/\" rel=\"nofollow noreferrer\">Revo Uninstaller</a> for this, but if one is in Windows, one can also go to <code>Settings</code> &gt; <code>Apps</code> &gt; <code>Apps &amp; features</code> (<a href=\"https://support.microsoft.com/en-us/windows/uninstall-or-remove-apps-and-programs-in-windows-4b55f974-2cc6-2d2b-d092-5905080eaf98\" rel=\"nofollow noreferrer\">as it says here</a>).</p>\n<p>If one has, one might have to remove the directory <code>.jdk</code> as well.</p>\n<p>Then restart the machine.</p>\n</li>\n<li><p>Install the JDK for the Project through IntelliJ.</p>\n<p>For that, go to <code>File</code> &gt; <code>Project Structure</code> &gt; <code>Platform Settings</code> &gt; <code>SDKs</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/ljDx5m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ljDx5m.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://www.jetbrains.com/help/idea/sdk.html\" rel=\"nofollow noreferrer\">More on this here</a>.</p>\n</li>\n<li><p>Update IntelliJ to a newer version (assuming it's not up to date).</p>\n<p>As I use JetBrains Toolbox, just add to access it and it was straightforward.</p>\n<p><a href=\"https://i.stack.imgur.com/cCHlBm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cCHlBm.png\" alt=\"enter image description here\" /></a></p>\n<p>One can also update by</p>\n</li>\n<li><p>Make sure one has <code>MAVEN_REPOSITORY</code> pointing to the right place.</p>\n<p>Eg. <code>C:\\Users\\goncalo\\.m2\\repository</code>.</p>\n<p>Confirm that in <code>File</code> &gt; <code>Settings</code> &gt; <code>Appearance &amp; Behavior</code> &gt; <code>Path Variables</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/7VzLWm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7VzLWm.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>If the Project directory has a folder called <code>target</code>,</p>\n<p><a href=\"https://i.stack.imgur.com/7HeU6m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7HeU6m.png\" alt=\"enter image description here\" /></a></p>\n<p>Go to the Maven (in my case it is on the right-top of the IDE) and, in the <code>Lifecycle</code> click <code>clean</code></p>\n<p><a href=\"https://i.stack.imgur.com/P3jVTm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P3jVTm.png\" alt=\"enter image description here\" /></a></p>\n<p>Then try to run the project again.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":3591100,"reputation":930,"user_id":2997147,"accept_rate":52,"display_name":"FrankelStein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200688,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":48848080,"answer_count":10,"score":31,"last_activity_date":1693745265,"creation_date":1518921652,"question_id":48847951,"body_markdown":"I am trying to run a Small basic Spring boot program on my machine and I when I run `clean compile` (even before trying spring-boot:run) on maven I get the following Error :\r\n\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] /C:/Users/hbenayed/eclipse-workspace/SpringBootPoc/src/main/java/com/benayed/spboot/poc/SpringBootPoc/SpringBootPocApplication.java:[3,32] package org.springframework.boot does not exist\r\n    [ERROR] /C:/Users/hbenayed/eclipse-workspace/SpringBootPoc/src/main/java/com/benayed/spboot/poc/SpringBootPoc/SpringBootPocApplication.java:[4,46] package org.springframework.boot.autoconfigure does not exist\r\n    [ERROR] /C:/Users/hbenayed/eclipse-workspace/SpringBootPoc/src/main/java/com/benayed/spboot/poc/SpringBootPoc/SpringBootPocApplication.java:[6,2] cannot find symbol\r\n      symbol: class SpringBootApplication\r\n    [ERROR] /C:/Users/hbenayed/eclipse-workspace/SpringBootPoc/src/main/java/com/benayed/spboot/poc/SpringBootPoc/SpringBootPocApplication.java:[10,17] cannot find symbol\r\n      symbol:   variable SpringApplication\r\n      location: class com.benayed.spboot.poc.SpringBootPoc.SpringBootPocApplication\r\n    [INFO] 4 errors \r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 14.807 s\r\n    [INFO] Finished at: 2018-02-18T03:28:24+01:00\r\n    [INFO] Final Memory: 19M/167M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project SpringBootPoc: Compilation failure: Compilation failure:\r\n    [ERROR] /C:/Users/hbenayed/eclipse-workspace/SpringBootPoc/src/main/java/com/benayed/spboot/poc/SpringBootPoc/SpringBootPocApplication.java:[3,32] package org.springframework.boot does not exist\r\n    [ERROR] /C:/Users/hbenayed/eclipse-workspace/SpringBootPoc/src/main/java/com/benayed/spboot/poc/SpringBootPoc/SpringBootPocApplication.java:[4,46] package org.springframework.boot.autoconfigure does not exist\r\n    [ERROR] /C:/Users/hbenayed/eclipse-workspace/SpringBootPoc/src/main/java/com/benayed/spboot/poc/SpringBootPoc/SpringBootPocApplication.java:[6,2] cannot find symbol\r\n    [ERROR] symbol: class SpringBootApplication\r\n    [ERROR] /C:/Users/hbenayed/eclipse-workspace/SpringBootPoc/src/main/java/com/benayed/spboot/poc/SpringBootPoc/SpringBootPocApplication.java:[10,17] cannot find symbol\r\n    [ERROR] symbol:   variable SpringApplication\r\n    [ERROR] location: class com.benayed.spboot.poc.SpringBootPoc.SpringBootPocApplication\r\n    [ERROR] -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project SpringBootPoc: Compilation failure\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\r\n    \tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\r\n    \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\r\n    \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\r\n    \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\r\n    \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n    Caused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\r\n    \tat org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:858)\r\n    \tat org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:129)\r\n    \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\r\n    \t... 20 more\r\n    [ERROR] \r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n\r\nHere is my Pom.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.benayed.spboot.poc&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;SpringBootPoc&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;SpringBootPoc&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.10.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!-- &lt;dependency&gt; --&gt;\r\n    \t\t&lt;!-- &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; --&gt;\r\n    \t\t&lt;!-- &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt; --&gt;\r\n    \t\t&lt;!-- &lt;/dependency&gt; --&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nAnd here is my java Class :\r\n\r\n    package com.benayed.spboot.poc.SpringBootPoc;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class SpringBootPocApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SpringBootPocApplication.class, args);\r\n        }\r\n    \r\n    }\r\n\r\nI tried many solutions I could find on internet, such as deleting the .m2 repository, adding different tags (version, fork,...) to the `spring-boot-maven-plugin` plugin which, I&#39;m pretty sure, is the part causing the problem\r\n\r\nAny suggestions ?\r\n\r\n","title":"package org.springframework.boot does not exist","body":"<p>I am trying to run a Small basic Spring boot program on my machine and I when I run <code>clean compile</code> (even before trying spring-boot:run) on maven I get the following Error :</p>\n\n<pre><code>[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] /C:/Users/hbenayed/eclipse-workspace/SpringBootPoc/src/main/java/com/benayed/spboot/poc/SpringBootPoc/SpringBootPocApplication.java:[3,32] package org.springframework.boot does not exist\n[ERROR] /C:/Users/hbenayed/eclipse-workspace/SpringBootPoc/src/main/java/com/benayed/spboot/poc/SpringBootPoc/SpringBootPocApplication.java:[4,46] package org.springframework.boot.autoconfigure does not exist\n[ERROR] /C:/Users/hbenayed/eclipse-workspace/SpringBootPoc/src/main/java/com/benayed/spboot/poc/SpringBootPoc/SpringBootPocApplication.java:[6,2] cannot find symbol\n  symbol: class SpringBootApplication\n[ERROR] /C:/Users/hbenayed/eclipse-workspace/SpringBootPoc/src/main/java/com/benayed/spboot/poc/SpringBootPoc/SpringBootPocApplication.java:[10,17] cannot find symbol\n  symbol:   variable SpringApplication\n  location: class com.benayed.spboot.poc.SpringBootPoc.SpringBootPocApplication\n[INFO] 4 errors \n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 14.807 s\n[INFO] Finished at: 2018-02-18T03:28:24+01:00\n[INFO] Final Memory: 19M/167M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project SpringBootPoc: Compilation failure: Compilation failure:\n[ERROR] /C:/Users/hbenayed/eclipse-workspace/SpringBootPoc/src/main/java/com/benayed/spboot/poc/SpringBootPoc/SpringBootPocApplication.java:[3,32] package org.springframework.boot does not exist\n[ERROR] /C:/Users/hbenayed/eclipse-workspace/SpringBootPoc/src/main/java/com/benayed/spboot/poc/SpringBootPoc/SpringBootPocApplication.java:[4,46] package org.springframework.boot.autoconfigure does not exist\n[ERROR] /C:/Users/hbenayed/eclipse-workspace/SpringBootPoc/src/main/java/com/benayed/spboot/poc/SpringBootPoc/SpringBootPocApplication.java:[6,2] cannot find symbol\n[ERROR] symbol: class SpringBootApplication\n[ERROR] /C:/Users/hbenayed/eclipse-workspace/SpringBootPoc/src/main/java/com/benayed/spboot/poc/SpringBootPoc/SpringBootPocApplication.java:[10,17] cannot find symbol\n[ERROR] symbol:   variable SpringApplication\n[ERROR] location: class com.benayed.spboot.poc.SpringBootPoc.SpringBootPocApplication\n[ERROR] -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project SpringBootPoc: Compilation failure\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\nCaused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:858)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:129)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\n    ... 20 more\n[ERROR] \n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n\n<p>Here is my Pom.xml :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.benayed.spboot.poc&lt;/groupId&gt;\n    &lt;artifactId&gt;SpringBootPoc&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;SpringBootPoc&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.10.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- &lt;dependency&gt; --&gt;\n        &lt;!-- &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; --&gt;\n        &lt;!-- &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt; --&gt;\n        &lt;!-- &lt;/dependency&gt; --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>And here is my java Class :</p>\n\n<pre><code>package com.benayed.spboot.poc.SpringBootPoc;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class SpringBootPocApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootPocApplication.class, args);\n    }\n\n}\n</code></pre>\n\n<p>I tried many solutions I could find on internet, such as deleting the .m2 repository, adding different tags (version, fork,...) to the <code>spring-boot-maven-plugin</code> plugin which, I'm pretty sure, is the part causing the problem</p>\n\n<p>Any suggestions ?</p>\n"},{"tags":["java","spring","spring-boot","soap","spring-ws"],"answers":[{"tags":[],"owner":{"account_id":4308470,"reputation":65,"user_id":3520253,"display_name":"user3520253"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693744209,"creation_date":1693744209,"answer_id":77032270,"question_id":77012996,"body_markdown":"I was tried multiple ways but didn&#39;t find direct solution to get Java object of RequesHeader directly in PayloadRoot method. Hence able to manage with below alternate approach:\r\n\r\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;OrderRequest&quot;)\r\n        @ResponsePayload\r\n        public JAXBElement&lt;OrderResponse&gt; createOrder(@RequestPayload JAXBElement&lt;OrderRequest&gt;\r\n                createWorkOrderRequestCplxType, MessageContext messgeContext) {\r\n    \r\n            \r\n            RequestHeader requestHeader = prepareRequestHeader(messageContext);\r\n        \r\n        \r\n      }\r\n      \r\n      \r\n      private RequestHeader prepareRequestHeader(MessageContext messageContext) {\r\n       \r\n        RequestHeader requestHeader = new RequestHeader();\r\n        SoapHeader soapHeader = ((SoapMessage) messageContext.getRequest()).getSoapHeader();\r\n        Iterator&lt;?&gt; elementIter = soapHeader.examineAllHeaderElements();\r\n        while (elementIter.hasNext()) {\r\n    \r\n            Object element = elementIter.next();\r\n            if (!(element instanceof SoapHeaderElement)) {\r\n                continue;\r\n            }\r\n    \r\n            Result result = ((SoapHeaderElement) element).getResult();\r\n            if (!(result instanceof DOMResult)) {\r\n                continue;\r\n            }\r\n    \r\n            NodeList nodeList = ((DOMResult) result).getNode().getChildNodes();\r\n            for (int i = 0; i &lt; nodeList.getLength(); i++) {\r\n                Node node = nodeList.item(i);\r\n                if (node.hasChildNodes()) {\r\n                    String nodeName = node.getNodeName();\r\n                    String nodeValue = node.getFirstChild().getNodeValue();\r\n                    addValueToRequestHeader(requestHeader, nodeName, nodeValue);\r\n                }\r\n            }\r\n        }\r\n        \r\n        return requestHeader;\r\n    }\r\n    \r\n    private void addValueToRequestHeader(RequestHeader requestHeader, String nodeName, String nodeValue) {\r\n        log.info(&quot;Start addValueToRequestHeader for nodeName : {} and nodeValue : {}&quot;, nodeName, nodeValue);\r\n        switch (nodeName) {\r\n            case &quot;ns:name&quot;:\r\n                requestHeader.setActivityName(nodeValue);\r\n                break;\r\n            case &quot;ns:lastname&quot;:\r\n                if (nodeValue.equalsIgnoreCase(RequestMessageType.NOTIFICATION.value())) {\r\n                    requestHeader.setMsgType(RequestMessageType.NOTIFICATION);\r\n                } else {\r\n                    requestHeader.setMsgType(RequestMessageType.REQUEST);\r\n                }\r\n                break;\r\n            case &quot;ns:middlename&quot;:\r\n                requestHeader.setSenderURI(nodeValue);\r\n                break;   \r\n            default:\r\n                break;\r\n        }\r\n     \r\n    }\r\n      \r\n\r\n","title":"Retrieve custom header details from soap request developed using spring boot","body":"<p>I was tried multiple ways but didn't find direct solution to get Java object of RequesHeader directly in PayloadRoot method. Hence able to manage with below alternate approach:</p>\n<pre><code>@PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;OrderRequest&quot;)\n    @ResponsePayload\n    public JAXBElement&lt;OrderResponse&gt; createOrder(@RequestPayload JAXBElement&lt;OrderRequest&gt;\n            createWorkOrderRequestCplxType, MessageContext messgeContext) {\n\n        \n        RequestHeader requestHeader = prepareRequestHeader(messageContext);\n    \n    \n  }\n  \n  \n  private RequestHeader prepareRequestHeader(MessageContext messageContext) {\n   \n    RequestHeader requestHeader = new RequestHeader();\n    SoapHeader soapHeader = ((SoapMessage) messageContext.getRequest()).getSoapHeader();\n    Iterator&lt;?&gt; elementIter = soapHeader.examineAllHeaderElements();\n    while (elementIter.hasNext()) {\n\n        Object element = elementIter.next();\n        if (!(element instanceof SoapHeaderElement)) {\n            continue;\n        }\n\n        Result result = ((SoapHeaderElement) element).getResult();\n        if (!(result instanceof DOMResult)) {\n            continue;\n        }\n\n        NodeList nodeList = ((DOMResult) result).getNode().getChildNodes();\n        for (int i = 0; i &lt; nodeList.getLength(); i++) {\n            Node node = nodeList.item(i);\n            if (node.hasChildNodes()) {\n                String nodeName = node.getNodeName();\n                String nodeValue = node.getFirstChild().getNodeValue();\n                addValueToRequestHeader(requestHeader, nodeName, nodeValue);\n            }\n        }\n    }\n    \n    return requestHeader;\n}\n\nprivate void addValueToRequestHeader(RequestHeader requestHeader, String nodeName, String nodeValue) {\n    log.info(&quot;Start addValueToRequestHeader for nodeName : {} and nodeValue : {}&quot;, nodeName, nodeValue);\n    switch (nodeName) {\n        case &quot;ns:name&quot;:\n            requestHeader.setActivityName(nodeValue);\n            break;\n        case &quot;ns:lastname&quot;:\n            if (nodeValue.equalsIgnoreCase(RequestMessageType.NOTIFICATION.value())) {\n                requestHeader.setMsgType(RequestMessageType.NOTIFICATION);\n            } else {\n                requestHeader.setMsgType(RequestMessageType.REQUEST);\n            }\n            break;\n        case &quot;ns:middlename&quot;:\n            requestHeader.setSenderURI(nodeValue);\n            break;   \n        default:\n            break;\n    }\n \n}\n  \n</code></pre>\n"}],"owner":{"account_id":4308470,"reputation":65,"user_id":3520253,"display_name":"user3520253"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77032270,"answer_count":1,"score":1,"last_activity_date":1693744209,"creation_date":1693459159,"question_id":77012996,"body_markdown":"I have developed soap request using spring boot where my soap request contain custom herders inside &quot;&lt;RequestHeader&gt;&quot; section of &quot;&lt;soapenv:Header&gt;&quot;. I am facing issue to retrieve details passed inside &quot;&lt;RequestHeader&gt;&quot; section. There are no Exception but what I am receiving are all empty properties value of RequestHeader object at backend\r\n\r\nMy soap request looks like below:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:ns1=&quot;http://com/schema/OrderRequest&quot; xmlns:ns=&quot;http://com/schema/RequestHeader&quot;&gt;\r\n       &lt;soapenv:Header&gt;\r\n           &lt;ns:RequestHeader&gt;\r\n           \t&lt;ns:name&gt;Name1&lt;/ns:name&gt;\r\n           &lt;/ns:RequestHeader&gt;&gt;\r\n       &lt;/soapenv:Header&gt;\r\n       &lt;soapenv:Body&gt;\r\n       \t.... no issue to retrieve body information\r\n       &lt;/soapenv:Body&gt;\r\n     &lt;/soapenv:Envelope&gt;\r\n\r\nI an tring to retrieve header section using below code\r\n\r\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;OrderRequest&quot;)\r\n        @ResponsePayload\r\n        public JAXBElement&lt;OrderResponse&gt; createOrder(@RequestPayload JAXBElement&lt;OrderRequest&gt;\r\n                createWorkOrderRequestCplxType, @SoapHeader(&quot;{http://com/schema/RequestHeader/2/0}RequestHeader&quot;)SoapHeaderElement requestHeader) {\r\n    \r\n            log.info(&quot;Start createWorkOrder :&quot;);\r\n    \r\n        \r\n            try{\r\n                Source bodySource = requestHeader.getSource();\r\n                DOMSource bodyDomSource = (DOMSource) bodySource;\r\n                JAXBContext context = JAXBContext.newInstance(RequestHeader.class);\r\n                Unmarshaller unmarshaller = context.createUnmarshaller();\r\n                RequestHeader requestH = (RequestHeader) unmarshaller.unmarshal(bodyDomSource);\r\n                log.info(&quot;activity name from request header : {}&quot;,requestH.getName); //This value is getting empty\r\n            }catch (JAXBException e){\r\n                e.printStackTrace();\r\n            \r\n            }\r\n      }\r\n\r\nCan you please help me to understand what I am doing wrong?","title":"Retrieve custom header details from soap request developed using spring boot","body":"<p>I have developed soap request using spring boot where my soap request contain custom herders inside &quot;&quot; section of &quot;soapenv:Header&quot;. I am facing issue to retrieve details passed inside &quot;&quot; section. There are no Exception but what I am receiving are all empty properties value of RequestHeader object at backend</p>\n<p>My soap request looks like below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:ns1=&quot;http://com/schema/OrderRequest&quot; xmlns:ns=&quot;http://com/schema/RequestHeader&quot;&gt;\n   &lt;soapenv:Header&gt;\n       &lt;ns:RequestHeader&gt;\n        &lt;ns:name&gt;Name1&lt;/ns:name&gt;\n       &lt;/ns:RequestHeader&gt;&gt;\n   &lt;/soapenv:Header&gt;\n   &lt;soapenv:Body&gt;\n    .... no issue to retrieve body information\n   &lt;/soapenv:Body&gt;\n &lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>I an tring to retrieve header section using below code</p>\n<pre><code>@PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;OrderRequest&quot;)\n    @ResponsePayload\n    public JAXBElement&lt;OrderResponse&gt; createOrder(@RequestPayload JAXBElement&lt;OrderRequest&gt;\n            createWorkOrderRequestCplxType, @SoapHeader(&quot;{http://com/schema/RequestHeader/2/0}RequestHeader&quot;)SoapHeaderElement requestHeader) {\n\n        log.info(&quot;Start createWorkOrder :&quot;);\n\n    \n        try{\n            Source bodySource = requestHeader.getSource();\n            DOMSource bodyDomSource = (DOMSource) bodySource;\n            JAXBContext context = JAXBContext.newInstance(RequestHeader.class);\n            Unmarshaller unmarshaller = context.createUnmarshaller();\n            RequestHeader requestH = (RequestHeader) unmarshaller.unmarshal(bodyDomSource);\n            log.info(&quot;activity name from request header : {}&quot;,requestH.getName); //This value is getting empty\n        }catch (JAXBException e){\n            e.printStackTrace();\n        \n        }\n  }\n</code></pre>\n<p>Can you please help me to understand what I am doing wrong?</p>\n"},{"tags":["java","node.js","spring","multithreading","rest"],"answers":[{"tags":[],"owner":{"account_id":6320331,"reputation":814,"user_id":4908657,"accept_rate":57,"display_name":"Johnny Alpha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693741776,"creation_date":1693741776,"answer_id":77032144,"question_id":77031728,"body_markdown":"NodeJS can facilitate one thread per request, however -\r\n* These aren&#39;t true threads in the sense of JVM threads. A given &#39;thread&#39; in NodeJS can&#39;t know the state of another in the pool (at least not in the same way a Java thread could eg/ wait(..) notify(..) etc.) So if you are a purist, you can&#39;t strictly call these threads.\r\n* Where Java threads all run within the same JVM. Each NodeJS &#39;thread&#39; runs inside a seperare Node runtime environment.\r\n* NodeJS doesn&#39;t provide a way for the creation/management of these threads to be done automatically like the Spring framework. Some coding is required required to set this up, see the link.\r\n\r\nhttps://www.google.com/amp/s/www.geeksforgeeks.org/how-to-run-many-parallel-http-requests-using-node-js/amp/","title":"NodeJs vs SpringBoot REST Controller and Multithreading","body":"<p>NodeJS can facilitate one thread per request, however -</p>\n<ul>\n<li>These aren't true threads in the sense of JVM threads. A given 'thread' in NodeJS can't know the state of another in the pool (at least not in the same way a Java thread could eg/ wait(..) notify(..) etc.) So if you are a purist, you can't strictly call these threads.</li>\n<li>Where Java threads all run within the same JVM. Each NodeJS 'thread' runs inside a seperare Node runtime environment.</li>\n<li>NodeJS doesn't provide a way for the creation/management of these threads to be done automatically like the Spring framework. Some coding is required required to set this up, see the link.</li>\n</ul>\n<p><a href=\"https://www.google.com/amp/s/www.geeksforgeeks.org/how-to-run-many-parallel-http-requests-using-node-js/amp/\" rel=\"nofollow noreferrer\">https://www.google.com/amp/s/www.geeksforgeeks.org/how-to-run-many-parallel-http-requests-using-node-js/amp/</a></p>\n"},{"tags":[],"owner":{"account_id":19799106,"reputation":146,"user_id":14500538,"display_name":"Shen Sudara"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693743546,"creation_date":1693743546,"answer_id":77032244,"question_id":77031728,"body_markdown":"Your Idea about Java is partially correct. \r\n\r\n&gt; @RestController will of course create a new thread automatically for\r\n&gt; each request\r\n\r\nWhen we come to your real question, Yes nodeJS applications come as a single-threaded.  NodeJS is built with the concept of event-driven architecture and it has its own infinity event loop to maintain the concurrency and handle the request and response with the non-blocking I/O NodeJS can perform asynchronous operations also because of the event loop. \r\n\r\nLet&#39;s go into deep\r\n------------------\r\n\r\nWhen we go into node js deep the node js application is working under the 2 basics concepts of \r\n\r\n 1. Asynchronous \r\n 2. Non-blocking I/O\r\n\r\nNon-blocking i/o  means working with multiple requests without blocking the thread for a single request. Thats mean Nodejs not used for cpu intensive works.\r\n\r\nAsynchronous is executing a callback function. Callback function is a kind of function which executed in eventloop and allows to run other code in meantime. The node js is not waiting for completion of the these functions. NodeJS is called these functions when they are completed as soon as possible.\r\n\r\n\r\nHow tasks are delegated?\r\n-------------------------\r\nWhen the node js application starts to execute the script first, the tasks are pushed to the call stack and the script which may make async API calls, schedules timers are push to the event loop.\r\n\r\nHow tasks are executed?\r\n-----------------------\r\n\r\nWhen the NodeJS app starts it starts the event loop and initializes it. Before going to execute callbacks it checks the call stack for more tasks to execute. If their is any tasks which has done their job in the event queue the call back is send from the event queue to call stack and executed.  \r\n\r\nTo perform async overations the node js use special library called libua and it is manage a thread pool. That is composed of four threads used to delegate operations that are too heavy for the event loop. thats how behind the seen multithreading come  to the execute parallely. \r\n\r\n\r\n----------\r\n\r\n\r\nBut if you want multithreading for heavy Cpu offensive tasks, Just look at the [worker thred.][1]. \r\n\r\nIf you want to scale your project just look at the [node js clusters][2]\r\n\r\n[Don&#39;t Block the Event Loop (or the Worker Pool)][3]\r\n\r\n\r\n  [1]: https://nodejs.org/api/worker_threads.html\r\n  [2]: https://nodejs.org/api/cluster.html\r\n  [3]: https://nodejs.org/en/docs/guides/dont-block-the-event-loop","title":"NodeJs vs SpringBoot REST Controller and Multithreading","body":"<p>Your Idea about Java is partially correct.</p>\n<blockquote>\n<p>@RestController will of course create a new thread automatically for\neach request</p>\n</blockquote>\n<p>When we come to your real question, Yes nodeJS applications come as a single-threaded.  NodeJS is built with the concept of event-driven architecture and it has its own infinity event loop to maintain the concurrency and handle the request and response with the non-blocking I/O NodeJS can perform asynchronous operations also because of the event loop.</p>\n<h2>Let's go into deep</h2>\n<p>When we go into node js deep the node js application is working under the 2 basics concepts of</p>\n<ol>\n<li>Asynchronous</li>\n<li>Non-blocking I/O</li>\n</ol>\n<p>Non-blocking i/o  means working with multiple requests without blocking the thread for a single request. Thats mean Nodejs not used for cpu intensive works.</p>\n<p>Asynchronous is executing a callback function. Callback function is a kind of function which executed in eventloop and allows to run other code in meantime. The node js is not waiting for completion of the these functions. NodeJS is called these functions when they are completed as soon as possible.</p>\n<h2>How tasks are delegated?</h2>\n<p>When the node js application starts to execute the script first, the tasks are pushed to the call stack and the script which may make async API calls, schedules timers are push to the event loop.</p>\n<h2>How tasks are executed?</h2>\n<p>When the NodeJS app starts it starts the event loop and initializes it. Before going to execute callbacks it checks the call stack for more tasks to execute. If their is any tasks which has done their job in the event queue the call back is send from the event queue to call stack and executed.</p>\n<p>To perform async overations the node js use special library called libua and it is manage a thread pool. That is composed of four threads used to delegate operations that are too heavy for the event loop. thats how behind the seen multithreading come  to the execute parallely.</p>\n<hr />\n<p>But if you want multithreading for heavy Cpu offensive tasks, Just look at the <a href=\"https://nodejs.org/api/worker_threads.html\" rel=\"nofollow noreferrer\">worker thred.</a>.</p>\n<p>If you want to scale your project just look at the <a href=\"https://nodejs.org/api/cluster.html\" rel=\"nofollow noreferrer\">node js clusters</a></p>\n<p><a href=\"https://nodejs.org/en/docs/guides/dont-block-the-event-loop\" rel=\"nofollow noreferrer\">Don't Block the Event Loop (or the Worker Pool)</a></p>\n"}],"owner":{"account_id":6320331,"reputation":814,"user_id":4908657,"accept_rate":57,"display_name":"Johnny Alpha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1693772161,"accepted_answer_id":77032244,"answer_count":2,"score":-4,"last_activity_date":1693743546,"creation_date":1693734129,"question_id":77031728,"body_markdown":"Lets say I want to build a REST controller with a few endpoints for an online store. For example, it will have \r\n* a GET endpoint to view order details \r\n* a POST to create an order \r\n* and a PUT to update an order\r\n\r\nWith Spring and Java, the Spring framework&#39;s @RestController will of course create a new thread automatically for each request. There is no work required to manually create a new thread for each request.\r\n\r\nOn using NodeJS for the same work,\r\nI&#39;ve heard (and googled) alot about NodeJS and multithreading -\r\n* NodeJS cannot multithread https://www.geeksforgeeks.org/why-node-js-is-a-single-threaded-language/\r\n* NodeJS cannot do &#39;true&#39; multithreading https://snyk.io/blog/node-js-multithreading-worker-threads-pros-cons/\r\n\r\nMy question is, can a NodeJS controller multithread in the same way a Spring RestController can? Meaning ...\r\n* It will spawn each request in a new thread automatically\r\n* No manual coding/creation of these threads is necessary (it is entirely handled by the framework)\r\n","title":"NodeJs vs SpringBoot REST Controller and Multithreading","body":"<p>Lets say I want to build a REST controller with a few endpoints for an online store. For example, it will have</p>\n<ul>\n<li>a GET endpoint to view order details</li>\n<li>a POST to create an order</li>\n<li>and a PUT to update an order</li>\n</ul>\n<p>With Spring and Java, the Spring framework's @RestController will of course create a new thread automatically for each request. There is no work required to manually create a new thread for each request.</p>\n<p>On using NodeJS for the same work,\nI've heard (and googled) alot about NodeJS and multithreading -</p>\n<ul>\n<li>NodeJS cannot multithread <a href=\"https://www.geeksforgeeks.org/why-node-js-is-a-single-threaded-language/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/why-node-js-is-a-single-threaded-language/</a></li>\n<li>NodeJS cannot do 'true' multithreading <a href=\"https://snyk.io/blog/node-js-multithreading-worker-threads-pros-cons/\" rel=\"nofollow noreferrer\">https://snyk.io/blog/node-js-multithreading-worker-threads-pros-cons/</a></li>\n</ul>\n<p>My question is, can a NodeJS controller multithread in the same way a Spring RestController can? Meaning ...</p>\n<ul>\n<li>It will spawn each request in a new thread automatically</li>\n<li>No manual coding/creation of these threads is necessary (it is entirely handled by the framework)</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","maven","spring-mvc"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1626997853,"post_id":68491920,"comment_id":121047390,"body_markdown":"https://stackoverflow.com/questions/55447687/how-to-fix-java-lang-unsupportedclassversionerror-test-class-file-version-52-6","body":"<a href=\"https://stackoverflow.com/questions/55447687/how-to-fix-java-lang-unsupportedclassversionerror-test-class-file-version-52-6\" title=\"how to fix java lang unsupportedclassversionerror test class file version 52 6\">stackoverflow.com/questions/55447687/&hellip;</a>"},{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":0,"creation_date":1627001894,"post_id":68491920,"comment_id":121047884,"body_markdown":"@LMC My error message is different (not a version mismatch). And I don&#39;t understand where I enabled preview features.","body":"@LMC My error message is different (not a version mismatch). And I don&#39;t understand where I enabled preview features."},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1627004472,"post_id":68491920,"comment_id":121048201,"body_markdown":"[here&#39;s](https://stackoverflow.com/a/52232682/2834978) how to enable in maven.","body":"<a href=\"https://stackoverflow.com/a/52232682/2834978\">here&#39;s</a> how to enable in maven."},{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":0,"creation_date":1627025235,"post_id":68491920,"comment_id":121052187,"body_markdown":"@LMC I don&#39;t want to enable preview features.","body":"@LMC I don&#39;t want to enable preview features."}],"answers":[{"tags":[],"owner":{"account_id":1615618,"reputation":85,"user_id":1493412,"accept_rate":60,"display_name":"jayangaVliyanage"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693742352,"creation_date":1693742352,"answer_id":77032181,"question_id":68491920,"body_markdown":"Seems a preview feature is enabled in your code somehow\r\n\r\nAdd the following as compiler options. So in the compile time, your ide will display the warnings and classpath of the used preview feature\r\n\r\n`-Xlint:preview`","title":"UnsupportedClassVersionError: Preview features are not enabled for &lt;class&gt; (class file version 60.65535)","body":"<p>Seems a preview feature is enabled in your code somehow</p>\n<p>Add the following as compiler options. So in the compile time, your ide will display the warnings and classpath of the used preview feature</p>\n<p><code>-Xlint:preview</code></p>\n"}],"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2518,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693742352,"creation_date":1626990902,"question_id":68491920,"body_markdown":"```none\r\nApache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\r\nJava version: 16.0.1, vendor: Oracle Corporation\r\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n```\r\n\r\nI start my Spring app via `mvn spring-boot:run`. Now everytime I change a file on the classpath, the server restart fails:\r\n\r\nOutput\r\n```none\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.5.2)\r\n\r\n2021-07-22 15:48:03.648  INFO 9756 --- [  restartedMain] de.xehpuk.foo.Application                : Starting Application using Java 16.0.1 on XEHPUK with PID 9756 (C:\\Users\\xehpuk\\ws\\foo\\target\\classes started by xehpuk in c:\\Users\\xehpuk\\ws\\foo)\r\n2021-07-22 15:48:03.649  INFO 9756 --- [  restartedMain] de.xehpuk.foo.Application                : No active profile set, falling back to default profiles: default\r\n2021-07-22 15:48:03.817  WARN 9756 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.beans.factory.CannotLoadBeanClassException: Error loading class [de.xehpuk.foo.Controller] for bean with name &#39;controller&#39; defined in file [C:\\Users\\xehpuk\\ws\\foo\\target\\classes\\de\\xehpuk\\foo\\Controller.class]: problem with class file or dependent class; nested exception is java.lang.UnsupportedClassVersionError: Preview features are not enabled for de/xehpuk/foo/Controller (class file version 60.65535). Try running with &#39;--enable-preview&#39;\r\n2021-07-22 15:48:03.821  INFO 9756 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2021-07-22 15:48:03.838 ERROR 9756 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.beans.factory.CannotLoadBeanClassException: Error loading class [de.xehpuk.foo.Controller] for bean with name &#39;controller&#39; defined in file [C:\\Users\\xehpuk\\ws\\foo\\target\\classes\\de\\xehpuk\\foo\\Controller.class]: problem with class file or dependent class; nested exception is java.lang.UnsupportedClassVersionError: Preview features are not enabled for de/xehpuk/foo/Controller (class file version 60.65535). Try running with &#39;--enable-preview&#39;\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163) ~[spring-boot-2.5.2.jar:2.5.2]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.8.jar:5.3.8]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.2.jar:2.5.2]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.2.jar:2.5.2]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.2.jar:2.5.2]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.2.jar:2.5.2]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.2.jar:2.5.2]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.2.jar:2.5.2]\r\n        at de.xehpuk.foo.Application.main(Application.java:10) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.5.2.jar:2.5.2]\r\nCaused by: org.springframework.beans.factory.CannotLoadBeanClassException: Error loading class [de.xehpuk.foo.Controller] for bean with name &#39;controller&#39; defined in file [C:\\Users\\xehpuk\\ws\\foo\\target\\classes\\de\\xehpuk\\foo\\Controller.class]: problem with class file or dependent class; nested exception is java.lang.UnsupportedClassVersionError: Preview features are not enabled for de/xehpuk/foo/Controller (class file version 60.65535). Try running with &#39;--enable-preview&#39;\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1545) ~[spring-beans-5.3.8.jar:5.3.8]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:686) ~[spring-beans-5.3.8.jar:5.3.8]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:656) ~[spring-beans-5.3.8.jar:5.3.8]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1670) ~[spring-beans-5.3.8.jar:5.3.8]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570) ~[spring-beans-5.3.8.jar:5.3.8]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542) ~[spring-beans-5.3.8.jar:5.3.8]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:536) ~[spring-beans-5.3.8.jar:5.3.8]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:208) ~[spring-boot-2.5.2.jar:2.5.2]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180) ~[spring-boot-2.5.2.jar:2.5.2]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.5.2.jar:2.5.2]\r\n        ... 13 common frames omitted\r\nCaused by: java.lang.UnsupportedClassVersionError: Preview features are not enabled for de/xehpuk/foo/Controller (class file version 60.65535). Try running with &#39;--enable-preview&#39;\r\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010) ~[na:na]\r\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\r\n        at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:512) ~[na:na]\r\n        at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:420) ~[na:na]\r\n        at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:414) ~[na:na]\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:691) ~[na:na]\r\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:413) ~[na:na]\r\n        at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.findClass(RestartClassLoader.java:160) ~[spring-boot-devtools-2.5.2.jar:2.5.2]\r\n        at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:142) ~[spring-boot-devtools-2.5.2.jar:2.5.2]\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519) ~[na:na]\r\n        at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n        at java.base/java.lang.Class.forName(Class.java:466) ~[na:na]\r\n        at org.springframework.util.ClassUtils.forName(ClassUtils.java:284) ~[spring-core-5.3.8.jar:5.3.8]\r\n        at org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:469) ~[spring-beans-5.3.8.jar:5.3.8]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1607) ~[spring-beans-5.3.8.jar:5.3.8]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1534) ~[spring-beans-5.3.8.jar:5.3.8]\r\n        ... 22 common frames omitted\r\n```\r\n\r\npom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;de.xehpuk&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;foo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;16&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI have to stop the server, `mvn clean` and `mvn spring-boot:run`. What&#39;s wrong here?","title":"UnsupportedClassVersionError: Preview features are not enabled for &lt;class&gt; (class file version 60.65535)","body":"<pre class=\"lang-none prettyprint-override\"><code>Apache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\nJava version: 16.0.1, vendor: Oracle Corporation\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p>I start my Spring app via <code>mvn spring-boot:run</code>. Now everytime I change a file on the classpath, the server restart fails:</p>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.5.2)\n\n2021-07-22 15:48:03.648  INFO 9756 --- [  restartedMain] de.xehpuk.foo.Application                : Starting Application using Java 16.0.1 on XEHPUK with PID 9756 (C:\\Users\\xehpuk\\ws\\foo\\target\\classes started by xehpuk in c:\\Users\\xehpuk\\ws\\foo)\n2021-07-22 15:48:03.649  INFO 9756 --- [  restartedMain] de.xehpuk.foo.Application                : No active profile set, falling back to default profiles: default\n2021-07-22 15:48:03.817  WARN 9756 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.beans.factory.CannotLoadBeanClassException: Error loading class [de.xehpuk.foo.Controller] for bean with name 'controller' defined in file [C:\\Users\\xehpuk\\ws\\foo\\target\\classes\\de\\xehpuk\\foo\\Controller.class]: problem with class file or dependent class; nested exception is java.lang.UnsupportedClassVersionError: Preview features are not enabled for de/xehpuk/foo/Controller (class file version 60.65535). Try running with '--enable-preview'\n2021-07-22 15:48:03.821  INFO 9756 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2021-07-22 15:48:03.838 ERROR 9756 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.beans.factory.CannotLoadBeanClassException: Error loading class [de.xehpuk.foo.Controller] for bean with name 'controller' defined in file [C:\\Users\\xehpuk\\ws\\foo\\target\\classes\\de\\xehpuk\\foo\\Controller.class]: problem with class file or dependent class; nested exception is java.lang.UnsupportedClassVersionError: Preview features are not enabled for de/xehpuk/foo/Controller (class file version 60.65535). Try running with '--enable-preview'\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163) ~[spring-boot-2.5.2.jar:2.5.2]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.8.jar:5.3.8]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.2.jar:2.5.2]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.2.jar:2.5.2]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.2.jar:2.5.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.2.jar:2.5.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.2.jar:2.5.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.2.jar:2.5.2]\n        at de.xehpuk.foo.Application.main(Application.java:10) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.5.2.jar:2.5.2]\nCaused by: org.springframework.beans.factory.CannotLoadBeanClassException: Error loading class [de.xehpuk.foo.Controller] for bean with name 'controller' defined in file [C:\\Users\\xehpuk\\ws\\foo\\target\\classes\\de\\xehpuk\\foo\\Controller.class]: problem with class file or dependent class; nested exception is java.lang.UnsupportedClassVersionError: Preview features are not enabled for de/xehpuk/foo/Controller (class file version 60.65535). Try running with '--enable-preview'\n        at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1545) ~[spring-beans-5.3.8.jar:5.3.8]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:686) ~[spring-beans-5.3.8.jar:5.3.8]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:656) ~[spring-beans-5.3.8.jar:5.3.8]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1670) ~[spring-beans-5.3.8.jar:5.3.8]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570) ~[spring-beans-5.3.8.jar:5.3.8]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542) ~[spring-beans-5.3.8.jar:5.3.8]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:536) ~[spring-beans-5.3.8.jar:5.3.8]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:208) ~[spring-boot-2.5.2.jar:2.5.2]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180) ~[spring-boot-2.5.2.jar:2.5.2]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.5.2.jar:2.5.2]\n        ... 13 common frames omitted\nCaused by: java.lang.UnsupportedClassVersionError: Preview features are not enabled for de/xehpuk/foo/Controller (class file version 60.65535). Try running with '--enable-preview'\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010) ~[na:na]\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\n        at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:512) ~[na:na]\n        at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:420) ~[na:na]\n        at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:414) ~[na:na]\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:691) ~[na:na]\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:413) ~[na:na]\n        at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.findClass(RestartClassLoader.java:160) ~[spring-boot-devtools-2.5.2.jar:2.5.2]\n        at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:142) ~[spring-boot-devtools-2.5.2.jar:2.5.2]\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519) ~[na:na]\n        at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\n        at java.base/java.lang.Class.forName(Class.java:466) ~[na:na]\n        at org.springframework.util.ClassUtils.forName(ClassUtils.java:284) ~[spring-core-5.3.8.jar:5.3.8]\n        at org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:469) ~[spring-beans-5.3.8.jar:5.3.8]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1607) ~[spring-beans-5.3.8.jar:5.3.8]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1534) ~[spring-beans-5.3.8.jar:5.3.8]\n        ... 22 common frames omitted\n</code></pre>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;de.xehpuk&lt;/groupId&gt;\n    &lt;artifactId&gt;foo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;16&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I have to stop the server, <code>mvn clean</code> and <code>mvn spring-boot:run</code>. What's wrong here?</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693741967,"creation_date":1693741967,"answer_id":77032159,"question_id":77030419,"body_markdown":"Looks like when you clicking `driver.navigate().back()` and then catching `StaleElementReferenceException` (that is for sure appeared in your case after order processing), your pages has not been rendered yet when you&#39;re calling `find_elements`.\r\n\r\nTry to wait for at least one element to exist or visible in `catch` block and only then get list of elements.\r\n\r\n```java\r\n } catch (StaleElementReferenceException staleException) {\r\n   // Re-identify the order link after a StaleElementReferenceException\r\n   WebDriverWait wdwait = new WebDriverWait(driver, 10);\r\n   orderLinks = wdwait.until(ExpectedConditions.presenceOfAllElementsLocatedBy(By.xpath(&quot;//a[starts-with(@href, &#39;/dashboard/orders/&#39;)]&quot;)));\r\n } catch (Exception innerException) {\r\n// your code \r\n}\r\n                      \r\n```\r\n\r\nAlso, more good appoach is not to catch stale element reference exception, but to loop through elements collection via element index and re-init orderLinks array after `driver.navigate().back();`\r\n\r\nI guess your collection length after processing order would be still the same (so you can just go to the next element with index++)\r\n\r\nUsing this approach you shouldn&#39;t handle processed orders (index always would be incremented in next iteration), and your code would be a bit cleaner and shorter.\r\n","title":"Selenium WebDriver Script Doesn&#39;t Proceed to Next Order After Applying for the First Order","body":"<p>Looks like when you clicking <code>driver.navigate().back()</code> and then catching <code>StaleElementReferenceException</code> (that is for sure appeared in your case after order processing), your pages has not been rendered yet when you're calling <code>find_elements</code>.</p>\n<p>Try to wait for at least one element to exist or visible in <code>catch</code> block and only then get list of elements.</p>\n<pre class=\"lang-java prettyprint-override\"><code> } catch (StaleElementReferenceException staleException) {\n   // Re-identify the order link after a StaleElementReferenceException\n   WebDriverWait wdwait = new WebDriverWait(driver, 10);\n   orderLinks = wdwait.until(ExpectedConditions.presenceOfAllElementsLocatedBy(By.xpath(&quot;//a[starts-with(@href, '/dashboard/orders/')]&quot;)));\n } catch (Exception innerException) {\n// your code \n}\n                      \n</code></pre>\n<p>Also, more good appoach is not to catch stale element reference exception, but to loop through elements collection via element index and re-init orderLinks array after <code>driver.navigate().back();</code></p>\n<p>I guess your collection length after processing order would be still the same (so you can just go to the next element with index++)</p>\n<p>Using this approach you shouldn't handle processed orders (index always would be incremented in next iteration), and your code would be a bit cleaner and shorter.</p>\n"}],"owner":{"account_id":23675338,"reputation":29,"user_id":17701650,"display_name":"philip nyankena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693741967,"creation_date":1693698366,"question_id":77030419,"body_markdown":"I am working on a Selenium WebDriver automation script in Java to apply for orders on a web app. The script is supposed to navigate to the available orders page, extract order links, click on each order to apply for it, and then return to the available orders page to process the next order.\r\n\r\nI have encountered an issue where the script successfully applies for the first order and returns to the available orders page but does not proceed to the next order. Instead, it gets back to the &#39;available order page&#39; and stops there without any errors on the console.\r\n\r\nHere&#39;s the code where I am trying to implement the logic, I hope comments will make it easier to understand:\r\n**Code**\r\n\r\n    @FXML\r\n    \tprivate void handleStartService(ActionEvent event) {\r\n    \t    // Initialize WebDriver outside the try block\r\n    \r\n    \t    try {\r\n    \t        // Set the path to the ChromeDriver executable\r\n    \t        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\NEWTON\\\\eclipse-workspace\\\\WriteDomApplier\\\\chromedriver-win64\\\\chromedriver.exe&quot;);\r\n    \r\n    \t        // Initialize the ChromeDriver\r\n    \t        WebDriver driver = new ChromeDriver();\r\n    \r\n    \t        // Load user settings (subjects, prices, deadlines)\r\n    \t        UserSettings userSettings = loadUserSettings();\r\n    \r\n    \t        // Check user authentication\r\n    \t        boolean isAuthenticated = checkAuthentication(driver, userSettings);\r\n    \r\n    \t        if (isAuthenticated) {\r\n    \t            Thread.sleep(3000);\r\n    \t            // Retrieve available orders\r\n    \r\n    \t            Thread.sleep(3000);\r\n    \t            // Extract all order links without relying on the table structure\r\n    \t            List&lt;WebElement&gt; orderLinks = driver.findElements(By.xpath(&quot;//a[starts-with(@href, &#39;/dashboard/orders/&#39;)]&quot;));\r\n    \r\n    \t            // Create a Set to track applied order IDs\r\n    \t            Set&lt;String&gt; appliedOrderIDs = new HashSet&lt;&gt;();\r\n    \r\n    \t            for (WebElement orderLink : orderLinks) {\r\n    \t                try {\r\n    \t                    // Extract the order ID from the link text\r\n    \t                    String orderId = orderLink.getText();\r\n    \r\n    \t                    // Check if the order has already been applied for\r\n    \t                    if (appliedOrderIDs.contains(orderId)) {\r\n    \t                        System.out.println(&quot;Order &quot; + orderId + &quot; has already been applied for. Skipping.&quot;);\r\n    \t                        continue; // Skip to the next order\r\n    \t                    }\r\n    \r\n    \t                    // Click on the order link to view order details\r\n    \t                    orderLink.click();\r\n    \r\n    \t                    // Wait for the &quot;APPLY&quot; button to become clickable\r\n    \t                    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n    \t                    WebElement applyButton = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div/div/div/div/main/div/div/div[1]/div[2]/div/div[5]/div/div/button&quot;)));\r\n    \r\n    \t                    // Apply for the order by clicking the &quot;APPLY&quot; button\r\n    \t                    applyButton.click();\r\n    \t                    Thread.sleep(3000);\r\n    \r\n    \t                    // Add the applied order ID to the Set\r\n    \t                    appliedOrderIDs.add(orderId);\r\n    \r\n    \t                    // Go back to the Available Orders page for the next order\r\n    \t                    driver.navigate().back();\r\n    \t                } catch (StaleElementReferenceException staleException) {\r\n    \t                    // Re-identify the order link after a StaleElementReferenceException\r\n    \t                    orderLinks = driver.findElements(By.xpath(&quot;//a[starts-with(@href, &#39;/dashboard/orders/&#39;)]&quot;));\r\n    \t                    Thread.sleep(2000);\r\n    \t                } catch (Exception innerException) {\r\n    \t                    innerException.printStackTrace();\r\n    \t                }\r\n    \t            }\r\n    \r\n    \t        } else {\r\n    \t            System.out.println(&quot;Authentication Not Successful&quot;);\r\n    \t        }\r\n    \t    } catch (Exception outerException) {\r\n    \t        outerException.printStackTrace();\r\n    \t    }\r\n    \t}\r\n\r\n**Sample HTML Structure of the Order links**\r\n\r\n    &lt;a href=&quot;/dashboard/orders/123456&quot;&gt;987625&lt;/a&gt;\r\n\r\n**What I&#39;ve Tried:**\r\n\r\nImplementing explicit waits to ensure elements are loaded properly.\r\nUsing a Set to track applied order IDs and skip already applied orders.\r\nHandling StaleElementReferenceException to re-identify elements.\r\n\r\n**What I&#39;m Trying to Achieve:**\r\n\r\nI want the script to apply for each available order and then move on to the next order after applying for the first one, without reopening orders that have already been applied for.\r\n\r\n**My Question:**\r\n\r\nWhat could be causing the script to not proceed to the next order after successfully applying for the first order? Are there any potential issues in my code that I might have missed, or is there a better approach to achieve this?\r\n\r\nAny guidance or suggestions on how to improve my Selenium WebDriver script to handle this scenario would be greatly appreciated.\r\n\r\n\r\n\r\n\r\n","title":"Selenium WebDriver Script Doesn&#39;t Proceed to Next Order After Applying for the First Order","body":"<p>I am working on a Selenium WebDriver automation script in Java to apply for orders on a web app. The script is supposed to navigate to the available orders page, extract order links, click on each order to apply for it, and then return to the available orders page to process the next order.</p>\n<p>I have encountered an issue where the script successfully applies for the first order and returns to the available orders page but does not proceed to the next order. Instead, it gets back to the 'available order page' and stops there without any errors on the console.</p>\n<p>Here's the code where I am trying to implement the logic, I hope comments will make it easier to understand:\n<strong>Code</strong></p>\n<pre><code>@FXML\n    private void handleStartService(ActionEvent event) {\n        // Initialize WebDriver outside the try block\n\n        try {\n            // Set the path to the ChromeDriver executable\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\NEWTON\\\\eclipse-workspace\\\\WriteDomApplier\\\\chromedriver-win64\\\\chromedriver.exe&quot;);\n\n            // Initialize the ChromeDriver\n            WebDriver driver = new ChromeDriver();\n\n            // Load user settings (subjects, prices, deadlines)\n            UserSettings userSettings = loadUserSettings();\n\n            // Check user authentication\n            boolean isAuthenticated = checkAuthentication(driver, userSettings);\n\n            if (isAuthenticated) {\n                Thread.sleep(3000);\n                // Retrieve available orders\n\n                Thread.sleep(3000);\n                // Extract all order links without relying on the table structure\n                List&lt;WebElement&gt; orderLinks = driver.findElements(By.xpath(&quot;//a[starts-with(@href, '/dashboard/orders/')]&quot;));\n\n                // Create a Set to track applied order IDs\n                Set&lt;String&gt; appliedOrderIDs = new HashSet&lt;&gt;();\n\n                for (WebElement orderLink : orderLinks) {\n                    try {\n                        // Extract the order ID from the link text\n                        String orderId = orderLink.getText();\n\n                        // Check if the order has already been applied for\n                        if (appliedOrderIDs.contains(orderId)) {\n                            System.out.println(&quot;Order &quot; + orderId + &quot; has already been applied for. Skipping.&quot;);\n                            continue; // Skip to the next order\n                        }\n\n                        // Click on the order link to view order details\n                        orderLink.click();\n\n                        // Wait for the &quot;APPLY&quot; button to become clickable\n                        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n                        WebElement applyButton = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div/div/div/div/main/div/div/div[1]/div[2]/div/div[5]/div/div/button&quot;)));\n\n                        // Apply for the order by clicking the &quot;APPLY&quot; button\n                        applyButton.click();\n                        Thread.sleep(3000);\n\n                        // Add the applied order ID to the Set\n                        appliedOrderIDs.add(orderId);\n\n                        // Go back to the Available Orders page for the next order\n                        driver.navigate().back();\n                    } catch (StaleElementReferenceException staleException) {\n                        // Re-identify the order link after a StaleElementReferenceException\n                        orderLinks = driver.findElements(By.xpath(&quot;//a[starts-with(@href, '/dashboard/orders/')]&quot;));\n                        Thread.sleep(2000);\n                    } catch (Exception innerException) {\n                        innerException.printStackTrace();\n                    }\n                }\n\n            } else {\n                System.out.println(&quot;Authentication Not Successful&quot;);\n            }\n        } catch (Exception outerException) {\n            outerException.printStackTrace();\n        }\n    }\n</code></pre>\n<p><strong>Sample HTML Structure of the Order links</strong></p>\n<pre><code>&lt;a href=&quot;/dashboard/orders/123456&quot;&gt;987625&lt;/a&gt;\n</code></pre>\n<p><strong>What I've Tried:</strong></p>\n<p>Implementing explicit waits to ensure elements are loaded properly.\nUsing a Set to track applied order IDs and skip already applied orders.\nHandling StaleElementReferenceException to re-identify elements.</p>\n<p><strong>What I'm Trying to Achieve:</strong></p>\n<p>I want the script to apply for each available order and then move on to the next order after applying for the first one, without reopening orders that have already been applied for.</p>\n<p><strong>My Question:</strong></p>\n<p>What could be causing the script to not proceed to the next order after successfully applying for the first order? Are there any potential issues in my code that I might have missed, or is there a better approach to achieve this?</p>\n<p>Any guidance or suggestions on how to improve my Selenium WebDriver script to handle this scenario would be greatly appreciated.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":9606247,"reputation":1346,"user_id":9236477,"accept_rate":100,"display_name":"Kaigo"},"score":0,"creation_date":1693560096,"post_id":77018262,"comment_id":135780264,"body_markdown":"If I use map I need to block() which is not ideal.","body":"If I use map I need to block() which is not ideal."},{"owner":{"account_id":9606247,"reputation":1346,"user_id":9236477,"accept_rate":100,"display_name":"Kaigo"},"score":0,"creation_date":1693560136,"post_id":77018262,"comment_id":135780271,"body_markdown":"I also forgot to mention the deleteUser() method is overriden so I can&#39;t change the signature.","body":"I also forgot to mention the deleteUser() method is overriden so I can&#39;t change the signature."},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1693563218,"post_id":77018262,"comment_id":135780858,"body_markdown":"If you have to return a Response and the method is not somehow async, then you have to block it somewhere...","body":"If you have to return a Response and the method is not somehow async, then you have to block it somewhere..."},{"owner":{"account_id":9606247,"reputation":1346,"user_id":9236477,"accept_rate":100,"display_name":"Kaigo"},"score":0,"creation_date":1693569809,"post_id":77018262,"comment_id":135781982,"body_markdown":"I think `.doOnSuccess()` with `.subscribe()` would be non-blocking","body":"I think <code>.doOnSuccess()</code> with <code>.subscribe()</code> would be non-blocking"},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1693570882,"post_id":77018262,"comment_id":135782185,"body_markdown":"Look at the arguments and return types of doOnSuccess and subscribe: they are not your desired output. deleteUser returns an actual Response object, not a CompletableFuture or a Mono; so, when deleteUser must be blocking.","body":"Look at the arguments and return types of doOnSuccess and subscribe: they are not your desired output. deleteUser returns an actual Response object, not a CompletableFuture or a Mono; so, when deleteUser must be blocking."},{"owner":{"account_id":9606247,"reputation":1346,"user_id":9236477,"accept_rate":100,"display_name":"Kaigo"},"score":0,"creation_date":1693588914,"post_id":77018262,"comment_id":135785763,"body_markdown":"Ah yes I see what you mean now. It has to block eventually to return (as it&#39;s not returning Mono). I still think using subscribe() would result in less waiting..","body":"Ah yes I see what you mean now. It has to block eventually to return (as it&#39;s not returning Mono). I still think using subscribe() would result in less waiting.."}],"tags":[],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693505152,"creation_date":1693504721,"answer_id":77018262,"question_id":77017193,"body_markdown":"[`flatMap`](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#flatMap-java.util.function.Function-) argument is a function `I -&gt; Mono&lt;O&gt;`, not a function `I -&gt; O` where `I` and `O` are respectively the input and the output types.\r\n\r\nIf you don&#39;t want to [extract the content from the `Mono`](https://www.baeldung.com/java-string-from-mono), you should wrap the `Response` in a new `Mono`.\r\n\r\n    public Mono&lt;CustomResponse&gt; deleteUser(String accountId) {\r\n        return tryDelete(accountId).flatMap(isSuccessful -&gt; {\r\n            if (isSuccessful) {\r\n                return Mono.just(buildResponse(&quot;happy happy&quot;));\r\n            } else {\r\n                return Mono.just(buildResponse(&quot;not good&quot;));\r\n            }\r\n        });\r\n    }\r\n\r\n    public CustomResponse deleteUserBlocking(String accountId) {\r\n        Boolean isSuccessful = tryDelete(accountId).block();\r\n        if (Boolean.TRUE.equals(isSuccessful)) {\r\n            return buildResponse(&quot;happy happy&quot;);\r\n        } else {\r\n            return buildResponse(&quot;not good&quot;);\r\n        }\r\n    }\r\n\r\nAre you sure you don&#39;t just want to use [`map`](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#map-java.util.function.Function-) (which actually has a `I -&gt; O` as argument)?\r\n\r\n    public Mono&lt;CustomResponse&gt; deleteUser(String accountId) {\r\n\t\treturn tryDelete(accountId).map(isSuccessful -&gt; {\r\n\t\t\tif (isSuccessful) {\r\n\t\t\t\treturn Mono.just(buildResponse(&quot;happy happy&quot;));\r\n\t\t\t} else {\r\n\t\t\t\treturn Mono.just(buildResponse(&quot;not good&quot;));\r\n\t\t\t}\r\n\t\t});\r\n\t}","title":"Not able to return object from .flatMap() when acting on a Mono&lt;Boolean&gt;","body":"<p><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#flatMap-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>flatMap</code></a> argument is a function <code>I -&gt; Mono&lt;O&gt;</code>, not a function <code>I -&gt; O</code> where <code>I</code> and <code>O</code> are respectively the input and the output types.</p>\n<p>If you don't want to <a href=\"https://www.baeldung.com/java-string-from-mono\" rel=\"nofollow noreferrer\">extract the content from the <code>Mono</code></a>, you should wrap the <code>Response</code> in a new <code>Mono</code>.</p>\n<pre><code>public Mono&lt;CustomResponse&gt; deleteUser(String accountId) {\n    return tryDelete(accountId).flatMap(isSuccessful -&gt; {\n        if (isSuccessful) {\n            return Mono.just(buildResponse(&quot;happy happy&quot;));\n        } else {\n            return Mono.just(buildResponse(&quot;not good&quot;));\n        }\n    });\n}\n\npublic CustomResponse deleteUserBlocking(String accountId) {\n    Boolean isSuccessful = tryDelete(accountId).block();\n    if (Boolean.TRUE.equals(isSuccessful)) {\n        return buildResponse(&quot;happy happy&quot;);\n    } else {\n        return buildResponse(&quot;not good&quot;);\n    }\n}\n</code></pre>\n<p>Are you sure you don't just want to use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>map</code></a> (which actually has a <code>I -&gt; O</code> as argument)?</p>\n<pre><code>public Mono&lt;CustomResponse&gt; deleteUser(String accountId) {\n    return tryDelete(accountId).map(isSuccessful -&gt; {\n        if (isSuccessful) {\n            return Mono.just(buildResponse(&quot;happy happy&quot;));\n        } else {\n            return Mono.just(buildResponse(&quot;not good&quot;));\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27802375,"reputation":1,"user_id":21226587,"display_name":"Sandro Bakuradze"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693741882,"creation_date":1693562434,"answer_id":77022167,"question_id":77017193,"body_markdown":"I think it would be best not to return `Mono` on `tryDelete` method and do something like that:\r\n\r\n\r\n```java\r\npublic Optional&lt;Account&gt; tryDelete(String accountId) {\r\n    if (repo.existsById(accountId))\r\n        return Optional.of(repo.deleteById(accountId));\r\n    else\r\n        return Optional.empty();\r\n}\r\n\r\npublic Mono&lt;Response&gt; deleteUser(String accountId) {\r\n    Account deletedAcc = tryDelete(accountId)\r\n                          .orElse(null);\r\n\r\n    boolean deleted = deletedAcc == null ? false : true;\r\n\r\n    if (deleted)\r\n        return Mono.just(buildResponse(&quot;good&quot;));\r\n    else \r\n        return Mono.just(buildResponse(&quot;not happy&quot;));\r\n\r\n}\r\n```\r\n","title":"Not able to return object from .flatMap() when acting on a Mono&lt;Boolean&gt;","body":"<p>I think it would be best not to return <code>Mono</code> on <code>tryDelete</code> method and do something like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Optional&lt;Account&gt; tryDelete(String accountId) {\n    if (repo.existsById(accountId))\n        return Optional.of(repo.deleteById(accountId));\n    else\n        return Optional.empty();\n}\n\npublic Mono&lt;Response&gt; deleteUser(String accountId) {\n    Account deletedAcc = tryDelete(accountId)\n                          .orElse(null);\n\n    boolean deleted = deletedAcc == null ? false : true;\n\n    if (deleted)\n        return Mono.just(buildResponse(&quot;good&quot;));\n    else \n        return Mono.just(buildResponse(&quot;not happy&quot;));\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693567470,"creation_date":1693567470,"answer_id":77022691,"question_id":77017193,"body_markdown":"Because I am learning haskell, and I know that there is [monads][1], and I know that Optional in Java is monad, and maybe Mono in your code is a monad too, I really want to answer this question.\r\n\r\n\r\nI learned from a [video][2] that monad is approximately equal to\r\n\r\n1. functor with flatten, or\r\n2. flatMap\r\n\r\nIn my opinion, monad is some kind of container/box that hold object with extra state of that object.\r\n\r\nThe example code in the video, is about parsing a string and return a parsed, divided number. Return of the function will be Optional.empty if any of the step is not finished(like parse non digit string to number, in another words, value in Optional is `not presented`):\r\n\r\n```\r\npublic Optional&lt;Double&gt; codeWithoutFlatMap(String s){\r\n    final Optional&lt;String&gt; split = split(s);\r\n    if (split.isPresent()) {\r\n        final Optional&lt;Double&gt; parse = parse(split.get());\r\n        if (parse.isPresent()) {\r\n            final Optional&lt;Double&gt; result = divide(parse.get());\r\n            if (result.isPresent()) {\r\n                return result;\r\n            }\r\n        }\r\n    }\r\n    return Optional.empty();\r\n}\r\n```\r\n\r\nWith flatMap, the code is much more precise\r\n```\r\n// this code is exactly equal to code before\r\npublic Optional&lt;Double&gt; codeWithFlatMap(String s){\r\n    return split(s)\r\n            .flatMap(split -&gt; parse(split))\r\n            .flatMap(parse -&gt; divide(parse));\r\n}\r\n```\r\n\r\nBack to your case, I notice some code can be improved, it is the cause for not compiling:\r\n\r\n1. flatMap returns boxed type, for example Optional\\&lt;Response\\&gt; or Mono\\&lt;Response\\&gt;, you expect method would return a Response, but actually it returns a Mono\\&lt;Response\\&gt;\r\n2. the Function inside flatMap, should return a boxed type, like Mono\\&lt;Response\\&gt;\r\n\r\n[1]:https://stackoverflow.com/questions/13454347/monads-with-java-8\r\n[2]:https://www.youtube.com/watch?v=e6tWJD5q8uw&amp;t=2285s&amp;ab_channel=DevoxxUK","title":"Not able to return object from .flatMap() when acting on a Mono&lt;Boolean&gt;","body":"<p>Because I am learning haskell, and I know that there is <a href=\"https://stackoverflow.com/questions/13454347/monads-with-java-8\">monads</a>, and I know that Optional in Java is monad, and maybe Mono in your code is a monad too, I really want to answer this question.</p>\n<p>I learned from a <a href=\"https://www.youtube.com/watch?v=e6tWJD5q8uw&amp;t=2285s&amp;ab_channel=DevoxxUK\" rel=\"nofollow noreferrer\">video</a> that monad is approximately equal to</p>\n<ol>\n<li>functor with flatten, or</li>\n<li>flatMap</li>\n</ol>\n<p>In my opinion, monad is some kind of container/box that hold object with extra state of that object.</p>\n<p>The example code in the video, is about parsing a string and return a parsed, divided number. Return of the function will be Optional.empty if any of the step is not finished(like parse non digit string to number, in another words, value in Optional is <code>not presented</code>):</p>\n<pre><code>public Optional&lt;Double&gt; codeWithoutFlatMap(String s){\n    final Optional&lt;String&gt; split = split(s);\n    if (split.isPresent()) {\n        final Optional&lt;Double&gt; parse = parse(split.get());\n        if (parse.isPresent()) {\n            final Optional&lt;Double&gt; result = divide(parse.get());\n            if (result.isPresent()) {\n                return result;\n            }\n        }\n    }\n    return Optional.empty();\n}\n</code></pre>\n<p>With flatMap, the code is much more precise</p>\n<pre><code>// this code is exactly equal to code before\npublic Optional&lt;Double&gt; codeWithFlatMap(String s){\n    return split(s)\n            .flatMap(split -&gt; parse(split))\n            .flatMap(parse -&gt; divide(parse));\n}\n</code></pre>\n<p>Back to your case, I notice some code can be improved, it is the cause for not compiling:</p>\n<ol>\n<li>flatMap returns boxed type, for example Optional&lt;Response&gt; or Mono&lt;Response&gt;, you expect method would return a Response, but actually it returns a Mono&lt;Response&gt;</li>\n<li>the Function inside flatMap, should return a boxed type, like Mono&lt;Response&gt;</li>\n</ol>\n"}],"owner":{"account_id":9606247,"reputation":1346,"user_id":9236477,"accept_rate":100,"display_name":"Kaigo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1693741882,"creation_date":1693495164,"question_id":77017193,"body_markdown":"I have a method `deleteUser()` which returns a custom object `Response`\r\n\r\nIn this method I am calling method `tryDelete()` which returns a `Mono&lt;Boolean&gt;`. In order to act on the boolean in a non-blocking way I&#39;m using `.flatMap()` with an if / else statement.\r\n\r\n    @Override\r\n    public Response deleteUser(String accountId) {\r\n        return tryDelete(accountId).flatMap(isSuccessful -&gt; {\r\n            if (isSuccessful) {\r\n                return buildResponse(&quot;happy happy&quot;);\r\n            } else {\r\n                return buildResponse(&quot;not good&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\ntryDelete()\r\n\r\n    public Mono&lt;Boolean&gt; tryDelete(String accountId) {\r\n        return Mono.just(true);\r\n    }\r\n\r\nHowever, it doesn&#39;t compile and I get\r\n\r\n&gt; no instance(s) of type variable(s) R exist so that Response conforms to Mono&lt;? extends R&gt;\r\n","title":"Not able to return object from .flatMap() when acting on a Mono&lt;Boolean&gt;","body":"<p>I have a method <code>deleteUser()</code> which returns a custom object <code>Response</code></p>\n<p>In this method I am calling method <code>tryDelete()</code> which returns a <code>Mono&lt;Boolean&gt;</code>. In order to act on the boolean in a non-blocking way I'm using <code>.flatMap()</code> with an if / else statement.</p>\n<pre><code>@Override\npublic Response deleteUser(String accountId) {\n    return tryDelete(accountId).flatMap(isSuccessful -&gt; {\n        if (isSuccessful) {\n            return buildResponse(&quot;happy happy&quot;);\n        } else {\n            return buildResponse(&quot;not good&quot;);\n        }\n    });\n}\n</code></pre>\n<p>tryDelete()</p>\n<pre><code>public Mono&lt;Boolean&gt; tryDelete(String accountId) {\n    return Mono.just(true);\n}\n</code></pre>\n<p>However, it doesn't compile and I get</p>\n<blockquote>\n<p>no instance(s) of type variable(s) R exist so that Response conforms to Mono&lt;? extends R&gt;</p>\n</blockquote>\n"},{"tags":["java","arrays","collections","modulo"],"comments":[{"owner":{"account_id":15905509,"reputation":833,"user_id":11476834,"display_name":"Jochen Reinhardt"},"score":1,"creation_date":1693578536,"post_id":77023860,"comment_id":135783824,"body_markdown":"What are you trying to do? What is AR and N in your example code?\nWhat is the expected result? What&#39;s the problem? Are you getting an error? Is there any output or is the program not responding at all?","body":"What are you trying to do? What is AR and N in your example code? What is the expected result? What&#39;s the problem? Are you getting an error? Is there any output or is the program not responding at all?"},{"owner":{"account_id":17062475,"reputation":3303,"user_id":12345551,"display_name":"Richard Ebeling"},"score":0,"creation_date":1693702003,"post_id":77023860,"comment_id":135795344,"body_markdown":"Welcome to StackOverflow. Please read [ask] and take the [tour]. When posting a question, make sure that the formatting makes sense and others can easily read and understand your question as well as your code. Currently, this is not the case. You can [edit] your question to fix these problems.","body":"Welcome to StackOverflow. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and take the <a href=\"https://stackoverflow.com/tour\">tour</a>. When posting a question, make sure that the formatting makes sense and others can easily read and understand your question as well as your code. Currently, this is not the case. You can <a href=\"https://stackoverflow.com/posts/77023860/edit\">edit</a> your question to fix these problems."}],"answers":[{"tags":[],"owner":{"account_id":29288272,"reputation":29,"user_id":22439310,"display_name":"MentalBoolean"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693579260,"creation_date":1693579260,"answer_id":77024046,"question_id":77023860,"body_markdown":"You are using the return statement at the outside of the code. \r\n\r\nYou should only use return statement for methods, not loops like &quot;for, while, do-while&quot;.\r\n\r\nYou can learn how to return a value from [this][1] documentation from the official Oracle&#39;s Java Documentation website.\r\n\r\nWhich tells you:\r\n\r\n&gt; You declare a method&#39;s return type in its method declaration. Within the body of the method, you use the return statement to return the value.\r\n\r\nGood luck!\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/returnvalue.html","title":"Array Question for simplilearn Full stack java Program","body":"<p>You are using the return statement at the outside of the code.</p>\n<p>You should only use return statement for methods, not loops like &quot;for, while, do-while&quot;.</p>\n<p>You can learn how to return a value from <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/returnvalue.html\" rel=\"nofollow noreferrer\">this</a> documentation from the official Oracle's Java Documentation website.</p>\n<p>Which tells you:</p>\n<blockquote>\n<p>You declare a method's return type in its method declaration. Within the body of the method, you use the return statement to return the value.</p>\n</blockquote>\n<p>Good luck!</p>\n"}],"owner":{"account_id":23319598,"reputation":1,"user_id":17397727,"display_name":"Shivam Pal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1693741734,"creation_date":1693577877,"question_id":77023860,"body_markdown":"I am trying to implement ...\r\n\r\nWhen I run the application, it ...\r\n\r\nI had expected it to return ... for the input N = ... and AR = ...\r\n\r\nHere is the full code:\r\n\r\n```java\r\n    static long calculate() {\r\n        final int MOD = 1000000007;\r\n        long X = 1;\r\n        for (int i = 2; i &lt;= N; i++) {\r\n            for (int j = 1; j &lt; i; j++) {\r\n                if (AR.get(i - 1) &lt; AR.get(j - 1)) {\r\n                    X = (X * 1) % MOD;\r\n                } else {\r\n                    X = (X * pow(AR.get(i - 1), AR.get(j - 1), MOD)) % MOD;\r\n                }\r\n            }\r\n        }\r\n        return (int) X;\r\n    }\r\n\r\n    private static long pow(int base, int exponent, int MOD) {\r\n        long result = 1;\r\n        while (exponent &gt; 0) {\r\n            if (exponent % 2 == 1) {\r\n                result = (result * base) % MOD;\r\n            }\r\n            base = (base * base) % MOD;\r\n            exponent /= 2;\r\n        }\r\n        return result;\r\n    }\r\n```\r\n\r\nPlease tell me what am i doing wrong.","title":"Array Question for simplilearn Full stack java Program","body":"<p>I am trying to implement ...</p>\n<p>When I run the application, it ...</p>\n<p>I had expected it to return ... for the input N = ... and AR = ...</p>\n<p>Here is the full code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static long calculate() {\n        final int MOD = 1000000007;\n        long X = 1;\n        for (int i = 2; i &lt;= N; i++) {\n            for (int j = 1; j &lt; i; j++) {\n                if (AR.get(i - 1) &lt; AR.get(j - 1)) {\n                    X = (X * 1) % MOD;\n                } else {\n                    X = (X * pow(AR.get(i - 1), AR.get(j - 1), MOD)) % MOD;\n                }\n            }\n        }\n        return (int) X;\n    }\n\n    private static long pow(int base, int exponent, int MOD) {\n        long result = 1;\n        while (exponent &gt; 0) {\n            if (exponent % 2 == 1) {\n                result = (result * base) % MOD;\n            }\n            base = (base * base) % MOD;\n            exponent /= 2;\n        }\n        return result;\n    }\n</code></pre>\n<p>Please tell me what am i doing wrong.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":0,"creation_date":1449231046,"post_id":34087960,"comment_id":55928180,"body_markdown":"@Property is  from where?","body":"@Property is  from where?"},{"owner":{"account_id":4831406,"reputation":952,"user_id":3899529,"display_name":"Damien O&#39;Reilly"},"score":0,"creation_date":1449231276,"post_id":34087960,"comment_id":55928299,"body_markdown":"Take a look trough http://stackoverflow.com/questions/16509065/get-rid-of-the-value-for-annotation-attribute-must-be-a-constant-expression-me","body":"Take a look trough <a href=\"http://stackoverflow.com/questions/16509065/get-rid-of-the-value-for-annotation-attribute-must-be-a-constant-expression-me\" title=\"get rid of the value for annotation attribute must be a constant expression me\">stackoverflow.com/questions/16509065/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":86926,"reputation":2892,"user_id":241379,"display_name":"Kenston Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468296154,"creation_date":1468296154,"answer_id":38319839,"question_id":34087960,"body_markdown":"Using the `Class` value type instead of `String` will support the following usage:\r\n\r\n    @MyQualifier(String.class)\r\n\tString myMethod() {\r\n\t\treturn &quot;hello&quot;;\r\n\t}\r\n\r\nYour annotation type would be:\r\n\r\n    ...\r\n    @Retention(RUNTIME)\r\n    public @interface MyQualifier {\r\n        Class value();\r\n    }\r\n\r\n","title":"How to assign the class name to the property of an annotation in java without hardcoding","body":"<p>Using the <code>Class</code> value type instead of <code>String</code> will support the following usage:</p>\n\n<pre><code>@MyQualifier(String.class)\nString myMethod() {\n    return \"hello\";\n}\n</code></pre>\n\n<p>Your annotation type would be:</p>\n\n<pre><code>...\n@Retention(RUNTIME)\npublic @interface MyQualifier {\n    Class value();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4093511,"reputation":511,"user_id":3360932,"display_name":"wnameless"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693741561,"creation_date":1693741561,"answer_id":77032125,"question_id":34087960,"body_markdown":"It is not possible in Java. However there is a workaround toward this problem. I would recommend to use [apt-constant-generator][1], this APT processor generates all related Constants of a Java class for your needs.\r\n\r\nBTW, I am the author of the library.\r\n\r\n\r\n  [1]: https://github.com/wnameless/apt-constant-generator","title":"How to assign the class name to the property of an annotation in java without hardcoding","body":"<p>It is not possible in Java. However there is a workaround toward this problem. I would recommend to use <a href=\"https://github.com/wnameless/apt-constant-generator\" rel=\"nofollow noreferrer\">apt-constant-generator</a>, this APT processor generates all related Constants of a Java class for your needs.</p>\n<p>BTW, I am the author of the library.</p>\n"}],"owner":{"account_id":5412901,"reputation":1535,"user_id":4309039,"display_name":"Nithish Thomas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693741561,"creation_date":1449230528,"question_id":34087960,"body_markdown":"I am trying to write something similar to \r\n\r\n\r\n    @Property(name=&quot;className&quot;,value=MyClazz.class.getName())\r\n    class MyClazz{\r\n    }\r\n\r\nBut the compiler complains :\r\n\r\n&gt; The value for annotation attribute Property.value must be a constant\r\n&gt; expression\r\n\r\nIs there a workaround for this? or should i just hard-code the class name.","title":"How to assign the class name to the property of an annotation in java without hardcoding","body":"<p>I am trying to write something similar to </p>\n\n<pre><code>@Property(name=\"className\",value=MyClazz.class.getName())\nclass MyClazz{\n}\n</code></pre>\n\n<p>But the compiler complains :</p>\n\n<blockquote>\n  <p>The value for annotation attribute Property.value must be a constant\n  expression</p>\n</blockquote>\n\n<p>Is there a workaround for this? or should i just hard-code the class name.</p>\n"},{"tags":["java","spring","spring-boot","static"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1693735767,"post_id":77031805,"comment_id":135797339,"body_markdown":"Making the functions static isn&#39;t the problem. Using them in other classes is. This creates a hard coupling between the two classes (the one providing the static function and the one using it). The couple can be broken up with specialized unit testing tools like Powermock, but this has other drawbacks.","body":"Making the functions static isn&#39;t the problem. Using them in other classes is. This creates a hard coupling between the two classes (the one providing the static function and the one using it). The couple can be broken up with specialized unit testing tools like Powermock, but this has other drawbacks."},{"owner":{"account_id":13820053,"reputation":81,"user_id":9975742,"display_name":"Raghav"},"score":0,"creation_date":1693735903,"post_id":77031805,"comment_id":135797353,"body_markdown":"Why is the hard coupling a problem in the cases similar to the one I described ?","body":"Why is the hard coupling a problem in the cases similar to the one I described ?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1693736016,"post_id":77031805,"comment_id":135797361,"body_markdown":"It is if you want to mock this dependency to, for example, simulating an I/O exception, or other behaviour that might be hard to reproduce with test data.","body":"It is if you want to mock this dependency to, for example, simulating an I/O exception, or other behaviour that might be hard to reproduce with test data."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693740817,"creation_date":1693740817,"answer_id":77032080,"question_id":77031805,"body_markdown":"The guides you have read have confused you. The problem isn&#39;t `static`.\r\n\r\nBecause they oversimplified. As in, removed a little too much. The actual problem isn&#39;t `static`, the keyword. __The problem is static _state___. Especially _mutable_ static state.\r\n\r\nThose 2 words (_mutable_, and _state_) are important.\r\n\r\nTake as a trivial example everybody knows about, string&#39;s `toLowerCase()` method. It&#39;s not static, right? We call `someString.toLowerCase()` and that expression resolves to a new string with every character in it lowercased.\r\n\r\nImagine I find this not quite suitable to the task; I want a `.toTitleCase()` method which lowercases every character in it, except for any character that follows any whitespace/the start of the string, we want to `.toTitleCase()` that character.\r\n\r\nI could write it, it wouldn&#39;t be hard, but as I can&#39;t just edit the core JDK, it&#39;d have to be:\r\n\r\n```\r\npublic static String toTitleCase(String in) {\r\n  boolean tc = true;\r\n  char[] out = new char[in.length()];\r\n  for (int i = 0; i &lt; in.length(); i++) {\r\n    char c = in.charAt(i);\r\n    out[i] = tc ? Character.toTitleCase(c) : Character.toLowerCase(c);\r\n    tc = Character.isWhitespace(c);\r\n  }\r\n  return new String(out);\r\n}\r\n```\r\n\r\nSo is it &#39;bad&#39; because I just made a `static` thing?\r\n\r\n__No!__ - while that method is static, it _has no state_ - invoking this method has zero effect on anything. It doesn&#39;t change how future invocations of `toTitleCase` operate, there is no problem invoking `toTitleCase` simultaneously from multiple threads, and so on. Generally &#39;state&#39; requires __fields__ - not necessarily `static` ones (if I have a singleton, then the instance fields of that are global state, as in, there&#39;s only one field, for the entire JVM instance) - this method doesn&#39;t read or write _any_ fields other than the fields on objects provided to it (the `in` parameter) and things it creates per execution (the `char[] out` array) and thus trivially has no global state and thus __is not what these guides saying `static` is bad for testing are talking about whatsoever__.\r\n\r\nThat makes sense: The difference between this `toTitleCase()` method and string&#39;s own `toLowerCase()` method are programming language implementation details only (java has no extension method system; if it had the differences would be even tinier). It&#39;d be weird if one is fine and the other is some egregious violation of a programming development guide.\r\n\r\n## Let&#39;s have a real world example then\r\n\r\nLet&#39;s say you want to build a system that maps a US state&#39;s short code (such as `CA`) to its generally recognized full name (such as `California`). This would require some state - a map that maps keys (`CA`) to names (`California`). Clearly then it&#39;s [A] state, and [B] static (&#39;global&#39;). However, we can design it so that it is not _mutable_.\r\n\r\nThis is horrible in the sense of the guides you read:\r\n\r\n```\r\npublic class StateNames {\r\n  private static final Map&lt;String, String&gt; names = new HashMap&lt;&gt;();\r\n\r\n  static {\r\n    names.put(&quot;CA&quot;, &quot;California&quot;);\r\n    // 50 more\r\n  }\r\n\r\n  public static void setStateName(String code, String name) {\r\n    names.put(code, name);\r\n  }\r\n\r\n  public static String getStateName(String code) {\r\n    return names.getOrDefault(code, &quot;Unknown State&quot;);\r\n  }\r\n\r\n  public static Collection&lt;String&gt; listStateCodes() {\r\n    return names.keySet();\r\n  }\r\n}\r\n```\r\n\r\nBecause now we have made _mutable global state_ - the `.setStateName` call has an effect on _all_ future calls from _anywhere in the entire JVM_ (or at least that classloader context, by default JVMs have just the one classloader context for the entire app, hence, global), there are timing issues to think about and it&#39;s not threadsafe (what happens if 2 threads simultaneously attempt to set some state names?) - a big mess.\r\n\r\nWe can fix it by just eliminating the `setStateName` method entirely and decree that this class starts off pre-loaded with 50 state names and that&#39;s that, it cannot change for the life of the app cycle. If some state does something bizarre and secedes or [wants to split up](https://en.wikipedia.org/wiki/List_of_U.S._state_partition_proposals), you&#39;d have to write an update to the app with a new list of states, roll it out, and ask everybody to restart the application.\r\n\r\nHowever, to make that easy for yourself, you decide not to just write 50 `.put()` calls in the code, but to make a separate text file that lists each state and its code, and that this class will simply read it during static initialization, something like:\r\n\r\n```\r\npublic class StateNames {\r\n  private final Map&lt;String, String&gt; STATE_NAMES;\r\n\r\n  public StateNames(InputStream resource) throws IOException {\r\n    var map = new LinkedHashMap&lt;String, String&gt;();\r\n    try {\r\n      try (\r\n        var raw = StateNames.class.getResourceAsStream(&quot;us_states.txt&quot;));\r\n        BufferedReader br = new BufferedReader(raw);\r\n      ) {\r\n        String line;\r\n        while (true) {\r\n          line = br.readLine();\r\n          if (line == null) break;\r\n          String[] parts = line.trim().split(&quot;\\t&quot;, 2);\r\n          String stateCode = line[0];\r\n          String stateName = line[1];\r\n          map.put(stateCode, stateName);\r\n        }\r\n      }\r\n    } catch (IOException e) {\r\n      throw new RuntimeException(&quot;App jar corrupted - no state.txt&quot;, e);\r\n    }\r\n    STATE_NAMES = Collections.unmodifiableMap(map);\r\n  }\r\n\r\n  public static String getStateName(String code) {\r\n    return STATE_NAMES.getOrDefault(code, &quot;Unknown State&quot;);\r\n  }\r\n\r\n  public static Collection&lt;String&gt; listStateCodes() {\r\n    return STATE_NAMES.keySet();\r\n  }\r\n}\r\n```\r\n\r\nThis is a lot better (for example, our earlier version had a subtle bug even if we remove the `setStateName` method: You could `listStateCodes().iterator()` and then call `.remove()` on the iterator which would remove states, whoops!)\r\n\r\nFrom the perspective of any code that isn&#39;t _this_ code, you don&#39;t have any issues with testing (you don&#39;t need to worry about &#39;what happens if some other code changes state codes halfway through this process&#39;). But, we still have 2 problems, this isn&#39;t all that great for testing:\r\n\r\n* Testing this code _itself_ is annoying. We need an actual state list to test all this, we can&#39;t easily set a dummy state list. Optimally we&#39;d want the testing system to be able to pass in a simple &#39;test&#39; list of states, but this code doesn&#39;t lend itself to this; in fact it forces I/O which is somewhat nasty in tests; I/O can be a bit slow and faster is better with unit tests, we intend to run thousands of them on every commit, after all.\r\n* If for some reason _other code_ that needs to translate state codes to state names is best served with some test code, we can&#39;t easily replace either.\r\n\r\nFor these reasons its better to have a totally non-global `StateNames` implementation:\r\n\r\n```\r\npublic class StateNames {\r\n  private final Map&lt;String, String&gt; stateNames;\r\n\r\n  public StateNames(InputStream resource) throws IOException {\r\n    try (BufferedReader br = new BufferedReader(raw)) {\r\n      var map = new LinkedHashMap&lt;String, String&gt;();\r\n      String line;\r\n      while (true) {\r\n        line = br.readLine();\r\n        if (line == null) break;\r\n        String[] parts = line.trim().split(&quot;\\t&quot;, 2);\r\n        String stateCode = line[0];\r\n        String stateName = line[1];\r\n        map.put(stateCode, stateName);\r\n      }\r\n    }\r\n    stateNames = Collections.unmodifiableMap(map);\r\n  }\r\n\r\n  public String getStateName(String code) {\r\n    return stateNames.getOrDefault(code, &quot;Unknown State&quot;);\r\n  }\r\n\r\n  public Collection&lt;String&gt; listStateCodes() {\r\n    return stateNames.keySet();\r\n  }\r\n}\r\n```\r\n\r\nThis code is actually testable! We can make a simple little text file with just 3 test states in a string literal, create a `ByteArrayInputStream` from that, create a new instance of `StateNames` from that, and check that it properly &#39;parses&#39; our text file.\r\n\r\nWe can still have the concept of &#39;look up state name&#39; be available globally simply by having a static singleton. Add to your `StateNames` class:\r\n\r\n```\r\nprivate static final StateNames INSTANCE; static {\r\n  try {\r\n    try (var in = StateNames.class.getResourceAsStream(&quot;us_states.txt&quot;)) {\r\n      INSTANCE = new StateNames(in);\r\n    }\r\n  } catch (IOException e) {\r\n    throw new RuntimeException(&quot;app corrupt - us_states.txt&quot;, e);\r\n  }\r\n}\r\n\r\npublic static StateNames of() { return INSTANCE; }\r\n```\r\n\r\nThis solves one half of our problems - our `StateNames` code is now testable. But, other code that _uses_ `StateNames`, _if_ we see a need to supply test-statename data to properly test them, still cannot be easily tested.\r\n\r\nTo solve _that_, you have 2 general options:\r\n\r\n### Injection frameworks\r\n\r\nWe could just pass an instance of `StateNames` to everything that needs it. That way, test code can make a test version and pass that, and for &#39;production&#39; we can pass the actual full statenames, read from the `us_states.txt` file.\r\n\r\nHowever, rigorous application of this idea tends to result in most classes in your application code ballooning to having 20 fields (it&#39;d need a `private final StateNames stateNames;` now, after all), with constructors with tens of parameters which are quite unwieldy.\r\n\r\nWe&#39;ve solved the &#39;hard to test&#39; problem but replaced it with &#39;code is unwieldy and a small change requires updating lots of lines of code&#39; problem; the cure was _much_ worse than the disease, here!\r\n\r\nFortunately(?) there are dependency injection frameworks, such as [guice](https://github.com/google/guice), and spring also has its own I believe.\r\n\r\nThese take care of the job of constructing objects, by more or less being a repository that maps types (such as `StateNames`) to &#39;a strategy to obtain an instance of it&#39;, which a test run can configure as &#39;I will provide you with a test implementation&#39;, and a production run can configure as &#39;I will provide you with the real implementation&#39;.\r\n\r\n### Test-only replacement\r\n\r\nThe other option is to add this frameworky business to your StateNames:\r\n\r\n```\r\npublic class StateNames {\r\n  private static StateNames INSTANCE = null;\r\n\r\n  @ForTesting\r\n  public static void setTestData(StateNames test) {\r\n    INSTANCE = test;\r\n  }\r\n\r\n  public static StateNames of() {\r\n    if (INSTANCE == null) INSTANCE = createDefault();\r\n    return INSTANCE;\r\n  }\r\n}\r\n```\r\n\r\nWhere `createDefault` does the routine of reading out `us_states.txt`.\r\n\r\nWe&#39;ve actually created a whole bunch of global mutable state here. And, a test run can really only meaningfully &quot;pre-configure&quot; test data (call a whole bunch of `setTestData` static methods on all classes like this), and only then start a test, and cannot modify any of this state in between because we then get into very hairy issues of caching and multi-core issues. You&#39;re the judge: If it&#39;s data you expect requires updating _in the middle of tests_ in order to properly test your code, then you really have to go with the injection frameworks (or manually pass lots of arguments for every relevant constructor). But if not, even though this seems to &#39;violate the rule of mutable static state&#39;, it gives you what you want: The code itself is testable, and other code that uses this is testable.\r\n","title":"Guide for static methods in a web application in java","body":"<p>The guides you have read have confused you. The problem isn't <code>static</code>.</p>\n<p>Because they oversimplified. As in, removed a little too much. The actual problem isn't <code>static</code>, the keyword. <strong>The problem is static <em>state</em></strong>. Especially <em>mutable</em> static state.</p>\n<p>Those 2 words (<em>mutable</em>, and <em>state</em>) are important.</p>\n<p>Take as a trivial example everybody knows about, string's <code>toLowerCase()</code> method. It's not static, right? We call <code>someString.toLowerCase()</code> and that expression resolves to a new string with every character in it lowercased.</p>\n<p>Imagine I find this not quite suitable to the task; I want a <code>.toTitleCase()</code> method which lowercases every character in it, except for any character that follows any whitespace/the start of the string, we want to <code>.toTitleCase()</code> that character.</p>\n<p>I could write it, it wouldn't be hard, but as I can't just edit the core JDK, it'd have to be:</p>\n<pre><code>public static String toTitleCase(String in) {\n  boolean tc = true;\n  char[] out = new char[in.length()];\n  for (int i = 0; i &lt; in.length(); i++) {\n    char c = in.charAt(i);\n    out[i] = tc ? Character.toTitleCase(c) : Character.toLowerCase(c);\n    tc = Character.isWhitespace(c);\n  }\n  return new String(out);\n}\n</code></pre>\n<p>So is it 'bad' because I just made a <code>static</code> thing?</p>\n<p><strong>No!</strong> - while that method is static, it <em>has no state</em> - invoking this method has zero effect on anything. It doesn't change how future invocations of <code>toTitleCase</code> operate, there is no problem invoking <code>toTitleCase</code> simultaneously from multiple threads, and so on. Generally 'state' requires <strong>fields</strong> - not necessarily <code>static</code> ones (if I have a singleton, then the instance fields of that are global state, as in, there's only one field, for the entire JVM instance) - this method doesn't read or write <em>any</em> fields other than the fields on objects provided to it (the <code>in</code> parameter) and things it creates per execution (the <code>char[] out</code> array) and thus trivially has no global state and thus <strong>is not what these guides saying <code>static</code> is bad for testing are talking about whatsoever</strong>.</p>\n<p>That makes sense: The difference between this <code>toTitleCase()</code> method and string's own <code>toLowerCase()</code> method are programming language implementation details only (java has no extension method system; if it had the differences would be even tinier). It'd be weird if one is fine and the other is some egregious violation of a programming development guide.</p>\n<h2>Let's have a real world example then</h2>\n<p>Let's say you want to build a system that maps a US state's short code (such as <code>CA</code>) to its generally recognized full name (such as <code>California</code>). This would require some state - a map that maps keys (<code>CA</code>) to names (<code>California</code>). Clearly then it's [A] state, and [B] static ('global'). However, we can design it so that it is not <em>mutable</em>.</p>\n<p>This is horrible in the sense of the guides you read:</p>\n<pre><code>public class StateNames {\n  private static final Map&lt;String, String&gt; names = new HashMap&lt;&gt;();\n\n  static {\n    names.put(&quot;CA&quot;, &quot;California&quot;);\n    // 50 more\n  }\n\n  public static void setStateName(String code, String name) {\n    names.put(code, name);\n  }\n\n  public static String getStateName(String code) {\n    return names.getOrDefault(code, &quot;Unknown State&quot;);\n  }\n\n  public static Collection&lt;String&gt; listStateCodes() {\n    return names.keySet();\n  }\n}\n</code></pre>\n<p>Because now we have made <em>mutable global state</em> - the <code>.setStateName</code> call has an effect on <em>all</em> future calls from <em>anywhere in the entire JVM</em> (or at least that classloader context, by default JVMs have just the one classloader context for the entire app, hence, global), there are timing issues to think about and it's not threadsafe (what happens if 2 threads simultaneously attempt to set some state names?) - a big mess.</p>\n<p>We can fix it by just eliminating the <code>setStateName</code> method entirely and decree that this class starts off pre-loaded with 50 state names and that's that, it cannot change for the life of the app cycle. If some state does something bizarre and secedes or <a href=\"https://en.wikipedia.org/wiki/List_of_U.S._state_partition_proposals\" rel=\"nofollow noreferrer\">wants to split up</a>, you'd have to write an update to the app with a new list of states, roll it out, and ask everybody to restart the application.</p>\n<p>However, to make that easy for yourself, you decide not to just write 50 <code>.put()</code> calls in the code, but to make a separate text file that lists each state and its code, and that this class will simply read it during static initialization, something like:</p>\n<pre><code>public class StateNames {\n  private final Map&lt;String, String&gt; STATE_NAMES;\n\n  public StateNames(InputStream resource) throws IOException {\n    var map = new LinkedHashMap&lt;String, String&gt;();\n    try {\n      try (\n        var raw = StateNames.class.getResourceAsStream(&quot;us_states.txt&quot;));\n        BufferedReader br = new BufferedReader(raw);\n      ) {\n        String line;\n        while (true) {\n          line = br.readLine();\n          if (line == null) break;\n          String[] parts = line.trim().split(&quot;\\t&quot;, 2);\n          String stateCode = line[0];\n          String stateName = line[1];\n          map.put(stateCode, stateName);\n        }\n      }\n    } catch (IOException e) {\n      throw new RuntimeException(&quot;App jar corrupted - no state.txt&quot;, e);\n    }\n    STATE_NAMES = Collections.unmodifiableMap(map);\n  }\n\n  public static String getStateName(String code) {\n    return STATE_NAMES.getOrDefault(code, &quot;Unknown State&quot;);\n  }\n\n  public static Collection&lt;String&gt; listStateCodes() {\n    return STATE_NAMES.keySet();\n  }\n}\n</code></pre>\n<p>This is a lot better (for example, our earlier version had a subtle bug even if we remove the <code>setStateName</code> method: You could <code>listStateCodes().iterator()</code> and then call <code>.remove()</code> on the iterator which would remove states, whoops!)</p>\n<p>From the perspective of any code that isn't <em>this</em> code, you don't have any issues with testing (you don't need to worry about 'what happens if some other code changes state codes halfway through this process'). But, we still have 2 problems, this isn't all that great for testing:</p>\n<ul>\n<li>Testing this code <em>itself</em> is annoying. We need an actual state list to test all this, we can't easily set a dummy state list. Optimally we'd want the testing system to be able to pass in a simple 'test' list of states, but this code doesn't lend itself to this; in fact it forces I/O which is somewhat nasty in tests; I/O can be a bit slow and faster is better with unit tests, we intend to run thousands of them on every commit, after all.</li>\n<li>If for some reason <em>other code</em> that needs to translate state codes to state names is best served with some test code, we can't easily replace either.</li>\n</ul>\n<p>For these reasons its better to have a totally non-global <code>StateNames</code> implementation:</p>\n<pre><code>public class StateNames {\n  private final Map&lt;String, String&gt; stateNames;\n\n  public StateNames(InputStream resource) throws IOException {\n    try (BufferedReader br = new BufferedReader(raw)) {\n      var map = new LinkedHashMap&lt;String, String&gt;();\n      String line;\n      while (true) {\n        line = br.readLine();\n        if (line == null) break;\n        String[] parts = line.trim().split(&quot;\\t&quot;, 2);\n        String stateCode = line[0];\n        String stateName = line[1];\n        map.put(stateCode, stateName);\n      }\n    }\n    stateNames = Collections.unmodifiableMap(map);\n  }\n\n  public String getStateName(String code) {\n    return stateNames.getOrDefault(code, &quot;Unknown State&quot;);\n  }\n\n  public Collection&lt;String&gt; listStateCodes() {\n    return stateNames.keySet();\n  }\n}\n</code></pre>\n<p>This code is actually testable! We can make a simple little text file with just 3 test states in a string literal, create a <code>ByteArrayInputStream</code> from that, create a new instance of <code>StateNames</code> from that, and check that it properly 'parses' our text file.</p>\n<p>We can still have the concept of 'look up state name' be available globally simply by having a static singleton. Add to your <code>StateNames</code> class:</p>\n<pre><code>private static final StateNames INSTANCE; static {\n  try {\n    try (var in = StateNames.class.getResourceAsStream(&quot;us_states.txt&quot;)) {\n      INSTANCE = new StateNames(in);\n    }\n  } catch (IOException e) {\n    throw new RuntimeException(&quot;app corrupt - us_states.txt&quot;, e);\n  }\n}\n\npublic static StateNames of() { return INSTANCE; }\n</code></pre>\n<p>This solves one half of our problems - our <code>StateNames</code> code is now testable. But, other code that <em>uses</em> <code>StateNames</code>, <em>if</em> we see a need to supply test-statename data to properly test them, still cannot be easily tested.</p>\n<p>To solve <em>that</em>, you have 2 general options:</p>\n<h3>Injection frameworks</h3>\n<p>We could just pass an instance of <code>StateNames</code> to everything that needs it. That way, test code can make a test version and pass that, and for 'production' we can pass the actual full statenames, read from the <code>us_states.txt</code> file.</p>\n<p>However, rigorous application of this idea tends to result in most classes in your application code ballooning to having 20 fields (it'd need a <code>private final StateNames stateNames;</code> now, after all), with constructors with tens of parameters which are quite unwieldy.</p>\n<p>We've solved the 'hard to test' problem but replaced it with 'code is unwieldy and a small change requires updating lots of lines of code' problem; the cure was <em>much</em> worse than the disease, here!</p>\n<p>Fortunately(?) there are dependency injection frameworks, such as <a href=\"https://github.com/google/guice\" rel=\"nofollow noreferrer\">guice</a>, and spring also has its own I believe.</p>\n<p>These take care of the job of constructing objects, by more or less being a repository that maps types (such as <code>StateNames</code>) to 'a strategy to obtain an instance of it', which a test run can configure as 'I will provide you with a test implementation', and a production run can configure as 'I will provide you with the real implementation'.</p>\n<h3>Test-only replacement</h3>\n<p>The other option is to add this frameworky business to your StateNames:</p>\n<pre><code>public class StateNames {\n  private static StateNames INSTANCE = null;\n\n  @ForTesting\n  public static void setTestData(StateNames test) {\n    INSTANCE = test;\n  }\n\n  public static StateNames of() {\n    if (INSTANCE == null) INSTANCE = createDefault();\n    return INSTANCE;\n  }\n}\n</code></pre>\n<p>Where <code>createDefault</code> does the routine of reading out <code>us_states.txt</code>.</p>\n<p>We've actually created a whole bunch of global mutable state here. And, a test run can really only meaningfully &quot;pre-configure&quot; test data (call a whole bunch of <code>setTestData</code> static methods on all classes like this), and only then start a test, and cannot modify any of this state in between because we then get into very hairy issues of caching and multi-core issues. You're the judge: If it's data you expect requires updating <em>in the middle of tests</em> in order to properly test your code, then you really have to go with the injection frameworks (or manually pass lots of arguments for every relevant constructor). But if not, even though this seems to 'violate the rule of mutable static state', it gives you what you want: The code itself is testable, and other code that uses this is testable.</p>\n"}],"owner":{"account_id":13820053,"reputation":81,"user_id":9975742,"display_name":"Raghav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1693740009,"accepted_answer_id":77032080,"answer_count":1,"score":0,"last_activity_date":1693740817,"creation_date":1693735571,"question_id":77031805,"body_markdown":"At the outset, I am aware that, this question has a lot of answers on stack overflow, but the more I read, the more confused I am, as to what exactly qualifies for a static method. \r\n\r\nHere are some usecases I feel where static methods are applicable and should be used. \r\n\r\n1. Simple utility functions. Ex: some operation on a map (being passed in arguments to the function)\r\n2. A function taking 2 objects as arguments and creating a new object out of them and returning it back. \r\n\r\nI see, the major argument around not using static functions is that, people consider them as a death to unit testing. However, for the above cases, It makes perfect sense to make the methods static right ? \r\n\r\nI want to understand, why is there a notion that functions shouldn&#39;t be made static if they just depend on the argument passed to the function (from concurrent request perspective, this isn&#39;t a problem, since the functions are executed on different threads)\r\n\r\n\r\n\r\n\r\nSection NA","title":"Guide for static methods in a web application in java","body":"<p>At the outset, I am aware that, this question has a lot of answers on stack overflow, but the more I read, the more confused I am, as to what exactly qualifies for a static method.</p>\n<p>Here are some usecases I feel where static methods are applicable and should be used.</p>\n<ol>\n<li>Simple utility functions. Ex: some operation on a map (being passed in arguments to the function)</li>\n<li>A function taking 2 objects as arguments and creating a new object out of them and returning it back.</li>\n</ol>\n<p>I see, the major argument around not using static functions is that, people consider them as a death to unit testing. However, for the above cases, It makes perfect sense to make the methods static right ?</p>\n<p>I want to understand, why is there a notion that functions shouldn't be made static if they just depend on the argument passed to the function (from concurrent request perspective, this isn't a problem, since the functions are executed on different threads)</p>\n<p>Section NA</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9928,"page":206,"page_size":100}
