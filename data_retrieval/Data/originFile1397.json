{"items":[{"tags":["java","spring-boot","maven","jlink","jdeps"],"answers":[{"tags":[],"owner":{"account_id":5962427,"reputation":47,"user_id":4687181,"display_name":"SHK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640702399,"creation_date":1640702399,"answer_id":70508576,"question_id":70105271,"body_markdown":"I have been struggling with a similar issue In my gradle spring boot project \r\nI am using the output of the following for adding modules in jlink in my dockerfile with (`openjdk:17-alpine`):\r\n    \r\n    RUN jdeps \\\r\n        --ignore-missing-deps \\\r\n        -q \\\r\n        --multi-release 17 \\\r\n        --print-module-deps \\\r\n        --class-path build/lib/* \\\r\n        app.jar &gt; deps.info\r\n    \r\n    RUN jlink --verbose \\\r\n        --compress 2 \\\r\n        --strip-java-debug-attributes \\\r\n        --no-header-files \\\r\n        --no-man-pages \\\r\n        --output jre \\\r\n        --add-modules $(cat deps.info)\r\nI think your mvn build is fine as long as you have all the required dependencies. But just in case I modified my gradle jar task to include the dependencies as follow:\r\n\r\n    jar {\r\n         manifest {\r\n              attributes &quot;Main-Class&quot;: &quot;com.demo.Application&quot;\r\n         }\r\n         duplicatesStrategy = DuplicatesStrategy.INCLUDE\r\n         from {\r\n              configurations.default.collect { it.isDirectory() ? it : zipTree(it) \r\n         }\r\n       }\r\n    }","title":"Jdeps Module java.annotation not found","body":"<p>I have been struggling with a similar issue In my gradle spring boot project\nI am using the output of the following for adding modules in jlink in my dockerfile with (<code>openjdk:17-alpine</code>):</p>\n<pre><code>RUN jdeps \\\n    --ignore-missing-deps \\\n    -q \\\n    --multi-release 17 \\\n    --print-module-deps \\\n    --class-path build/lib/* \\\n    app.jar &gt; deps.info\n\nRUN jlink --verbose \\\n    --compress 2 \\\n    --strip-java-debug-attributes \\\n    --no-header-files \\\n    --no-man-pages \\\n    --output jre \\\n    --add-modules $(cat deps.info)\n</code></pre>\n<p>I think your mvn build is fine as long as you have all the required dependencies. But just in case I modified my gradle jar task to include the dependencies as follow:</p>\n<pre><code>jar {\n     manifest {\n          attributes &quot;Main-Class&quot;: &quot;com.demo.Application&quot;\n     }\n     duplicatesStrategy = DuplicatesStrategy.INCLUDE\n     from {\n          configurations.default.collect { it.isDirectory() ? it : zipTree(it) \n     }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16139646,"reputation":131,"user_id":13041893,"display_name":"Bryan Motta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642718883,"creation_date":1642718883,"answer_id":70794333,"question_id":70105271,"body_markdown":"I arrived at a solution that is valid, not perfect, but it works correctly.\r\nIn my case the lib &quot;jackson&quot; was the cause of the problem. It uses java multi release and somehow during jdeps it was causing some error.\r\nAfter some tests I understood that I could remove this lib from the evaluation, and that no module would be missing from deps.info.\r\nI needed to add this task for removal:\r\n\r\n    task myDeleteTask(type: Delete) {\r\n        delete files(&quot;${buildDir}/temp-lib/jackson-databind-{your_version}.jar&quot;)\r\n        delete files(&quot;${buildDir}/temp-lib/jackson-datatype-jdk8-{your_version}.jar&quot;)\r\n        delete files(&quot;${buildDir}/temp-lib/jackson-datatype-jsr310-{your_version}.jar&quot;)\r\n        delete files(&quot;${buildDir}/temp-lib/jackson-module-parameter-names-{your_version}.jar&quot;)\r\n        delete files(&quot;${buildDir}/temp-lib/jackson-core-{your_version}.jar&quot;)\r\n        delete files(&quot;${buildDir}/temp-lib/jackson-dataformat-cbor-{your_version}.jar&quot;)\r\n    }\r\n    task tempCopyDependencies(type: Copy) {\r\n        from configurations.runtimeClasspath\r\n        into &quot;$buildDir/temp-lib&quot;\r\n    }\r\n\r\n    tasks.named(&quot;build&quot;){\r\n        finalizedBy(&quot;tempCopyDependencies&quot;)\r\n        finalizedBy(&quot;myDeleteTask&quot;)\r\n    }\r\n\r\nOBS: in the question I used maven because it is easier and I have a wider knowledge, but my real project uses gradle, which ends up making the delete task easier to do ","title":"Jdeps Module java.annotation not found","body":"<p>I arrived at a solution that is valid, not perfect, but it works correctly.\nIn my case the lib &quot;jackson&quot; was the cause of the problem. It uses java multi release and somehow during jdeps it was causing some error.\nAfter some tests I understood that I could remove this lib from the evaluation, and that no module would be missing from deps.info.\nI needed to add this task for removal:</p>\n<pre><code>task myDeleteTask(type: Delete) {\n    delete files(&quot;${buildDir}/temp-lib/jackson-databind-{your_version}.jar&quot;)\n    delete files(&quot;${buildDir}/temp-lib/jackson-datatype-jdk8-{your_version}.jar&quot;)\n    delete files(&quot;${buildDir}/temp-lib/jackson-datatype-jsr310-{your_version}.jar&quot;)\n    delete files(&quot;${buildDir}/temp-lib/jackson-module-parameter-names-{your_version}.jar&quot;)\n    delete files(&quot;${buildDir}/temp-lib/jackson-core-{your_version}.jar&quot;)\n    delete files(&quot;${buildDir}/temp-lib/jackson-dataformat-cbor-{your_version}.jar&quot;)\n}\ntask tempCopyDependencies(type: Copy) {\n    from configurations.runtimeClasspath\n    into &quot;$buildDir/temp-lib&quot;\n}\n\ntasks.named(&quot;build&quot;){\n    finalizedBy(&quot;tempCopyDependencies&quot;)\n    finalizedBy(&quot;myDeleteTask&quot;)\n}\n</code></pre>\n<p>OBS: in the question I used maven because it is easier and I have a wider knowledge, but my real project uses gradle, which ends up making the delete task easier to do</p>\n"},{"tags":[],"owner":{"account_id":6138668,"reputation":151,"user_id":4786718,"display_name":"Andrei Nevedomskii"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1651047151,"creation_date":1650967965,"answer_id":72012149,"question_id":70105271,"body_markdown":"I was facing a similar issue, what helped in my case - is specifying both `--class-path` and `--module-path` pointing to the same directory with libs.\r\nAccording to your example, I think it should be `jdeps --ignore-missing-deps --print-module-deps --multi-release 17 --module-path=&quot;target/lib/*&quot; --class-path=&quot;target/lib/*&quot; target/errorrr-*.jar`.\r\n\r\nAlso, `jdeps` from JDK 17 (and maybe earlier versions) [seems to have a bug where it can throw `com.sun.tools.jdeps.MultiReleaseException`][1]. It seems to have been fixed in JDK 18, at least it works without any issues for me.\r\n\r\nWith Docker you can do a staged build that will identify the dependencies first using JDK 18, and then build a new JRE image out of JDK 17. Like this:\r\n```Dockerfile\r\nFROM amazoncorretto:18-alpine as deps\r\n\r\nCOPY ./app.jar /app/app.jar\r\nRUN mkdir /app/unpacked &amp;&amp; \\\r\n    cd /app/unpacked &amp;&amp; \\\r\n    unzip ../app.jar &amp;&amp; \\\r\n    cd .. &amp;&amp; \\\r\n    $JAVA_HOME/bin/jdeps \\\r\n    --ignore-missing-deps \\\r\n    --print-module-deps \\\r\n    -q \\\r\n    --recursive \\\r\n    --multi-release 17 \\\r\n    --class-path=&quot;./unpacked/BOOT-INF/lib/*&quot; \\\r\n    --module-path=&quot;./unpacked/BOOT-INF/lib/*&quot; \\\r\n    ./app.jar &gt; /deps.info\r\n\r\nFROM amazoncorretto:17.0.3-alpine as corretto-jdk\r\n\r\nRUN apk add --no-cache binutils\r\n\r\nCOPY --from=deps /deps.info /deps.info\r\n\r\nRUN $JAVA_HOME/bin/jlink \\\r\n    --verbose \\\r\n    --add-modules $(cat /deps.info) \\\r\n    --strip-debug \\\r\n    --no-man-pages \\\r\n    --no-header-files \\\r\n    --compress=2 \\\r\n    --output /customjre\r\n```\r\n\r\nYou can check the full example here: https://github.com/monosoul/jvm-in-docker/blob/main/jre-slim-auto.dockerfile\r\n\r\nFor anyone interested, here&#39;s a blog article about using `jlink` and `jdeps`: https://blog.monosoul.dev/2022/04/25/reduce-java-docker-image-size/\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69943899/jdeps-cant-print-module-deps-due-to-a-multireleaseexception","title":"Jdeps Module java.annotation not found","body":"<p>I was facing a similar issue, what helped in my case - is specifying both <code>--class-path</code> and <code>--module-path</code> pointing to the same directory with libs.\nAccording to your example, I think it should be <code>jdeps --ignore-missing-deps --print-module-deps --multi-release 17 --module-path=&quot;target/lib/*&quot; --class-path=&quot;target/lib/*&quot; target/errorrr-*.jar</code>.</p>\n<p>Also, <code>jdeps</code> from JDK 17 (and maybe earlier versions) <a href=\"https://stackoverflow.com/questions/69943899/jdeps-cant-print-module-deps-due-to-a-multireleaseexception\">seems to have a bug where it can throw <code>com.sun.tools.jdeps.MultiReleaseException</code></a>. It seems to have been fixed in JDK 18, at least it works without any issues for me.</p>\n<p>With Docker you can do a staged build that will identify the dependencies first using JDK 18, and then build a new JRE image out of JDK 17. Like this:</p>\n<pre><code>FROM amazoncorretto:18-alpine as deps\n\nCOPY ./app.jar /app/app.jar\nRUN mkdir /app/unpacked &amp;&amp; \\\n    cd /app/unpacked &amp;&amp; \\\n    unzip ../app.jar &amp;&amp; \\\n    cd .. &amp;&amp; \\\n    $JAVA_HOME/bin/jdeps \\\n    --ignore-missing-deps \\\n    --print-module-deps \\\n    -q \\\n    --recursive \\\n    --multi-release 17 \\\n    --class-path=&quot;./unpacked/BOOT-INF/lib/*&quot; \\\n    --module-path=&quot;./unpacked/BOOT-INF/lib/*&quot; \\\n    ./app.jar &gt; /deps.info\n\nFROM amazoncorretto:17.0.3-alpine as corretto-jdk\n\nRUN apk add --no-cache binutils\n\nCOPY --from=deps /deps.info /deps.info\n\nRUN $JAVA_HOME/bin/jlink \\\n    --verbose \\\n    --add-modules $(cat /deps.info) \\\n    --strip-debug \\\n    --no-man-pages \\\n    --no-header-files \\\n    --compress=2 \\\n    --output /customjre\n</code></pre>\n<p>You can check the full example here: <a href=\"https://github.com/monosoul/jvm-in-docker/blob/main/jre-slim-auto.dockerfile\" rel=\"noreferrer\">https://github.com/monosoul/jvm-in-docker/blob/main/jre-slim-auto.dockerfile</a></p>\n<p>For anyone interested, here's a blog article about using <code>jlink</code> and <code>jdeps</code>: <a href=\"https://blog.monosoul.dev/2022/04/25/reduce-java-docker-image-size/\" rel=\"noreferrer\">https://blog.monosoul.dev/2022/04/25/reduce-java-docker-image-size/</a></p>\n"}],"owner":{"account_id":16139646,"reputation":131,"user_id":13041893,"display_name":"Bryan Motta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2302,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":70794333,"answer_count":3,"score":8,"last_activity_date":1651047151,"creation_date":1637808808,"question_id":70105271,"body_markdown":"I&#39;m trying to create a minimal jre for Spring Boot microservices using jdeps and jlink, but I&#39;m getting the following error when I get to the using jdeps part\r\n\r\n    Exception in thread &quot;main&quot; java.lang.module.FindException: Module java.annotation not found, required by org.apache.tomcat.embed.core\r\n        at java.base/java.lang.module.Resolver.findFail(Resolver.java:893)\r\n        at java.base/java.lang.module.Resolver.resolve(Resolver.java:192)\r\n        at java.base/java.lang.module.Resolver.resolve(Resolver.java:141)\r\n        at java.base/java.lang.module.Configuration.resolve(Configuration.java:421)\r\n        at java.base/java.lang.module.Configuration.resolve(Configuration.java:255)\r\n        at jdk.jdeps/com.sun.tools.jdeps.JdepsConfiguration$Builder.build(JdepsConfiguration.java:564)\r\n        at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.buildConfig(JdepsTask.java:603)\r\n        at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:557)\r\n        at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:533)\r\n        at jdk.jdeps/com.sun.tools.jdeps.Main.main(Main.java:49)\r\n\r\nI already tried the following commands with no effect \r\n\r\n    jdeps --ignore-missing-deps --multi-release 17 --module-path target/lib/* target/errorrr-*.jar\r\n    jdeps --multi-release 16 --module-path target/lib/* target/errorrr-*.jar\r\n    jdeps --ignore-missing-deps --multi-release 17 --class-path target/lib/* target/errorrr-*.jar\r\n\r\nI already tried it with java versions 11, 16 and 17 and different versions of Spring Boot.\r\n\r\nAll dependencies needed for build are copied to target/lib folder by maven-dependency-plugin plugin when I run mvn install\r\n\r\nAfter identifying the responsible dependency I created a new project from scratch with only it to isolate the error, but it remained.\r\n\r\nI tried to use gradle at first but as the error remained I changed it to mavem but also no change.\r\n\r\nWhen I add the specified dependency that is being requested the error changes to\r\n\r\n```  \r\n#13 1.753 Exception in thread &quot;main&quot; java.lang.Error: java.util.concurrent.ExecutionException: com.sun.tools.jdeps.MultiReleaseException\r\n\t\t#13 1.753       at jdk.jdeps/com.sun.tools.jdeps.DependencyFinder.waitForTasksCompleted(DependencyFinder.java:271)\r\n\t\t#13 1.753       at jdk.jdeps/com.sun.tools.jdeps.DependencyFinder.parse(DependencyFinder.java:133)\r\n\t\t#13 1.753       at jdk.jdeps/com.sun.tools.jdeps.DepsAnalyzer.run(DepsAnalyzer.java:129)\r\n\t\t#13 1.753       at jdk.jdeps/com.sun.tools.jdeps.ModuleExportsAnalyzer.run(ModuleExportsAnalyzer.java:74)\r\n\t\t#13 1.753       at jdk.jdeps/com.sun.tools.jdeps.JdepsTask$ListModuleDeps.run(JdepsTask.java:1047)\r\n\t\t#13 1.753       at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:574)\r\n\t\t#13 1.753       at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:533)\r\n\t\t#13 1.753       at jdk.jdeps/com.sun.tools.jdeps.Main.main(Main.java:49)\r\n\t\t#13 1.753 Caused by: java.util.concurrent.ExecutionException: com.sun.tools.jdeps.MultiReleaseException\r\n\t\t#13 1.753       at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\t\t#13 1.753       at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\t\t#13 1.753       at jdk.jdeps/com.sun.tools.jdeps.DependencyFinder.waitForTasksCompleted(DependencyFinder.java:267)\r\n\t\t#13 1.754       ... 7 more\r\n\t\t#13 1.754 Caused by: com.sun.tools.jdeps.MultiReleaseException\r\n\t\t#13 1.754       at jdk.jdeps/com.sun.tools.jdeps.VersionHelper.add(VersionHelper.java:62)\r\n\t\t#13 1.754       at jdk.jdeps/com.sun.tools.jdeps.ClassFileReader$JarFileReader.readClassFile(ClassFileReader.java:360)\r\n\t\t#13 1.754       at jdk.jdeps/com.sun.tools.jdeps.ClassFileReader$JarFileIterator.hasNext(ClassFileReader.java:402)\r\n\t\t#13 1.754       at jdk.jdeps/com.sun.tools.jdeps.DependencyFinder.lambda$parse$5(DependencyFinder.java:179)\r\n\t\t#13 1.754       at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\t#13 1.754       at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\t\t#13 1.754       at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\t#13 1.754       at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\t\t#13 1.754       at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\t\t#13 1.754       at java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nMy pom.xml\r\n\r\n ```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;errorrr&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;errorrr&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;copy-dependencies&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n ```\r\n\r\nIf I don&#39;t need to use this dependency I can do all the build processes and at the end I have a 76mb jre\r\n\r\n\r\n\r\n\r\n\r\n","title":"Jdeps Module java.annotation not found","body":"<p>I'm trying to create a minimal jre for Spring Boot microservices using jdeps and jlink, but I'm getting the following error when I get to the using jdeps part</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.module.FindException: Module java.annotation not found, required by org.apache.tomcat.embed.core\n    at java.base/java.lang.module.Resolver.findFail(Resolver.java:893)\n    at java.base/java.lang.module.Resolver.resolve(Resolver.java:192)\n    at java.base/java.lang.module.Resolver.resolve(Resolver.java:141)\n    at java.base/java.lang.module.Configuration.resolve(Configuration.java:421)\n    at java.base/java.lang.module.Configuration.resolve(Configuration.java:255)\n    at jdk.jdeps/com.sun.tools.jdeps.JdepsConfiguration$Builder.build(JdepsConfiguration.java:564)\n    at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.buildConfig(JdepsTask.java:603)\n    at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:557)\n    at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:533)\n    at jdk.jdeps/com.sun.tools.jdeps.Main.main(Main.java:49)\n</code></pre>\n<p>I already tried the following commands with no effect</p>\n<pre><code>jdeps --ignore-missing-deps --multi-release 17 --module-path target/lib/* target/errorrr-*.jar\njdeps --multi-release 16 --module-path target/lib/* target/errorrr-*.jar\njdeps --ignore-missing-deps --multi-release 17 --class-path target/lib/* target/errorrr-*.jar\n</code></pre>\n<p>I already tried it with java versions 11, 16 and 17 and different versions of Spring Boot.</p>\n<p>All dependencies needed for build are copied to target/lib folder by maven-dependency-plugin plugin when I run mvn install</p>\n<p>After identifying the responsible dependency I created a new project from scratch with only it to isolate the error, but it remained.</p>\n<p>I tried to use gradle at first but as the error remained I changed it to mavem but also no change.</p>\n<p>When I add the specified dependency that is being requested the error changes to</p>\n<pre><code>#13 1.753 Exception in thread &quot;main&quot; java.lang.Error: java.util.concurrent.ExecutionException: com.sun.tools.jdeps.MultiReleaseException\n        #13 1.753       at jdk.jdeps/com.sun.tools.jdeps.DependencyFinder.waitForTasksCompleted(DependencyFinder.java:271)\n        #13 1.753       at jdk.jdeps/com.sun.tools.jdeps.DependencyFinder.parse(DependencyFinder.java:133)\n        #13 1.753       at jdk.jdeps/com.sun.tools.jdeps.DepsAnalyzer.run(DepsAnalyzer.java:129)\n        #13 1.753       at jdk.jdeps/com.sun.tools.jdeps.ModuleExportsAnalyzer.run(ModuleExportsAnalyzer.java:74)\n        #13 1.753       at jdk.jdeps/com.sun.tools.jdeps.JdepsTask$ListModuleDeps.run(JdepsTask.java:1047)\n        #13 1.753       at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:574)\n        #13 1.753       at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:533)\n        #13 1.753       at jdk.jdeps/com.sun.tools.jdeps.Main.main(Main.java:49)\n        #13 1.753 Caused by: java.util.concurrent.ExecutionException: com.sun.tools.jdeps.MultiReleaseException\n        #13 1.753       at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n        #13 1.753       at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n        #13 1.753       at jdk.jdeps/com.sun.tools.jdeps.DependencyFinder.waitForTasksCompleted(DependencyFinder.java:267)\n        #13 1.754       ... 7 more\n        #13 1.754 Caused by: com.sun.tools.jdeps.MultiReleaseException\n        #13 1.754       at jdk.jdeps/com.sun.tools.jdeps.VersionHelper.add(VersionHelper.java:62)\n        #13 1.754       at jdk.jdeps/com.sun.tools.jdeps.ClassFileReader$JarFileReader.readClassFile(ClassFileReader.java:360)\n        #13 1.754       at jdk.jdeps/com.sun.tools.jdeps.ClassFileReader$JarFileIterator.hasNext(ClassFileReader.java:402)\n        #13 1.754       at jdk.jdeps/com.sun.tools.jdeps.DependencyFinder.lambda$parse$5(DependencyFinder.java:179)\n        #13 1.754       at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        #13 1.754       at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n        #13 1.754       at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        #13 1.754       at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        #13 1.754       at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        #13 1.754       at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>My pom.xml</p>\n<pre><code>   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n   xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n   &lt;parent&gt;\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n       &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n       &lt;version&gt;2.6.0&lt;/version&gt;\n       &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n   &lt;/parent&gt;\n   &lt;groupId&gt;com.example&lt;/groupId&gt;\n   &lt;artifactId&gt;errorrr&lt;/artifactId&gt;\n   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n   &lt;name&gt;errorrr&lt;/name&gt;\n   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n   &lt;properties&gt;\n       &lt;java.version&gt;17&lt;/java.version&gt;\n   &lt;/properties&gt;\n   &lt;dependencies&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n           &lt;scope&gt;test&lt;/scope&gt;\n       &lt;/dependency&gt;\n\n   &lt;/dependencies&gt;\n\n   &lt;build&gt;\n       &lt;plugins&gt;\n           &lt;plugin&gt;\n               &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n               &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n           &lt;/plugin&gt;\n           &lt;plugin&gt;\n               &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n               &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n               &lt;executions&gt;\n                   &lt;execution&gt;\n                       &lt;id&gt;copy-dependencies&lt;/id&gt;\n                       &lt;phase&gt;package&lt;/phase&gt;\n                       &lt;goals&gt;\n                           &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                       &lt;/goals&gt;\n                       &lt;configuration&gt;\n                           &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n                       &lt;/configuration&gt;\n                   &lt;/execution&gt;\n               &lt;/executions&gt;\n           &lt;/plugin&gt;\n       &lt;/plugins&gt;\n   &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>If I don't need to use this dependency I can do all the build processes and at the end I have a 76mb jre</p>\n"},{"tags":["java","intellij-idea","live-templates"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":121,"is_accepted":true,"score":121,"last_activity_date":1306157061,"creation_date":1306157061,"answer_id":6097820,"question_id":6097646,"body_markdown":"Check some other templates that already use the current class name:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/YlLq5.png","title":"Intellij Live Template","body":"<p>Check some other templates that already use the current class name:</p>\n\n<p><img src=\"https://i.stack.imgur.com/YlLq5.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":236983,"reputation":12184,"user_id":504845,"accept_rate":67,"display_name":"Nowaker"},"down_vote_count":1,"up_vote_count":56,"is_accepted":false,"score":55,"last_activity_date":1324223805,"creation_date":1324223805,"answer_id":8552882,"question_id":6097646,"body_markdown":"log4j:\r\n\r\n    private static final org.apache.log4j.Logger log = org.apache.log4j.Logger.getLogger($CLASS_NAME$.class);\r\n\r\n\r\nslf4j:\r\n\r\n    private static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger($CLASS_NAME$.class);\r\n\r\nMake sure that you set the **applicable context** to Java and that **shorten FQ names** and **skip if defined** are enabled.","title":"Intellij Live Template","body":"<p>log4j:</p>\n\n<pre><code>private static final org.apache.log4j.Logger log = org.apache.log4j.Logger.getLogger($CLASS_NAME$.class);\n</code></pre>\n\n<p>slf4j:</p>\n\n<pre><code>private static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger($CLASS_NAME$.class);\n</code></pre>\n\n<p>Make sure that you set the <strong>applicable context</strong> to Java and that <strong>shorten FQ names</strong> and <strong>skip if defined</strong> are enabled.</p>\n"},{"tags":[],"owner":{"account_id":2425249,"reputation":29,"user_id":2117347,"display_name":"bruno.do.amaral"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1450300942,"creation_date":1450300942,"answer_id":34322341,"question_id":6097646,"body_markdown":"log4j 2:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    private static final org.apache.logging.log4j.Logger log = org.apache.logging.log4j.LogManager.getLogger($CLASS_NAME$.class);","title":"Intellij Live Template","body":"<p>log4j 2:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static final org.apache.logging.log4j.Logger log = org.apache.logging.log4j.LogManager.getLogger($CLASS_NAME$.class);\n</code></pre>\n"}],"owner":{"account_id":192998,"reputation":22700,"user_id":434460,"accept_rate":99,"display_name":"Leonid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21263,"favorite_count":0,"down_vote_count":0,"up_vote_count":88,"accepted_answer_id":6097820,"answer_count":3,"score":88,"last_activity_date":1651046903,"creation_date":1306156261,"question_id":6097646,"body_markdown":"Is there any way to use a default token value in Intellij `Live templates`? For example I have the following live template which declares a private variable that I would like to create nearly for every class:\r\n\r\n`private static final Logger logger = Logger.getLogger($CLASS$.class)`\r\n\r\nIt seems unnecessary to type `$CLASS$` every time when this live template is used, because it can be derived from the class in scope or filename. I was wondering if it is possible to use environment defined tokens in live templates as defaults?","title":"Intellij Live Template","body":"<p>Is there any way to use a default token value in Intellij <code>Live templates</code>? For example I have the following live template which declares a private variable that I would like to create nearly for every class:</p>\n\n<p><code>private static final Logger logger = Logger.getLogger($CLASS$.class)</code></p>\n\n<p>It seems unnecessary to type <code>$CLASS$</code> every time when this live template is used, because it can be derived from the class in scope or filename. I was wondering if it is possible to use environment defined tokens in live templates as defaults?</p>\n"},{"tags":["java","spring","yaml"],"answers":[{"tags":[],"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650883193,"creation_date":1650882689,"answer_id":71998124,"question_id":71997707,"body_markdown":"Kotlin:\r\n\r\n```kotlin\r\n@SpringBootTest\r\nclass TestExample {\r\n\r\n    @Value(&quot;\\${a.b.[/folder/**]}&quot;)\r\n    lateinit var file: File\r\n\r\n    @Test\r\n    fun test() {\r\n        // &quot;.${File.separator}src&quot; on Windows =&gt; .\\src\r\n        // &quot;.${File.separator}src&quot; on Linux =&gt; ./src\r\n        assertEquals(&quot;.${File.separator}src&quot;, file.path)\r\n    }\r\n}\r\n```\r\n\r\nIt also works with and without the &quot;file:&quot; prefix.\r\n```yml\r\na:\r\n  b:\r\n    &quot;[/folder/**]&quot;: &quot;./src/&quot;\r\n```","title":"Reading keys with square brackets in YAML files from Spring","body":"<p>Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@SpringBootTest\nclass TestExample {\n\n    @Value(&quot;\\${a.b.[/folder/**]}&quot;)\n    lateinit var file: File\n\n    @Test\n    fun test() {\n        // &quot;.${File.separator}src&quot; on Windows =&gt; .\\src\n        // &quot;.${File.separator}src&quot; on Linux =&gt; ./src\n        assertEquals(&quot;.${File.separator}src&quot;, file.path)\n    }\n}\n</code></pre>\n<p>It also works with and without the &quot;file:&quot; prefix.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>a:\n  b:\n    &quot;[/folder/**]&quot;: &quot;./src/&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21169347,"reputation":171,"user_id":15566000,"display_name":"changuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650900871,"creation_date":1650900871,"answer_id":72002088,"question_id":71997707,"body_markdown":"Your path key is in double quotes.  \r\nYou must add double quotes in @Value property string like below.\r\n\r\n```java\r\n@Value(&quot;${a.b.\\&quot;[/folder/**]\\&quot;}&quot;)\r\nprivate File path;\r\n```\r\n","title":"Reading keys with square brackets in YAML files from Spring","body":"<p>Your path key is in double quotes.<br />\nYou must add double quotes in @Value property string like below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;${a.b.\\&quot;[/folder/**]\\&quot;}&quot;)\nprivate File path;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651046833,"creation_date":1651046833,"answer_id":72025335,"question_id":71997707,"body_markdown":"I have created a Java based project. Look. It is not complex.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wKtyx.png","title":"Reading keys with square brackets in YAML files from Spring","body":"<p>I have created a Java based project. Look. It is not complex.</p>\n<p><a href=\"https://i.stack.imgur.com/wKtyx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wKtyx.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8604297,"reputation":36,"user_id":6444911,"display_name":"Li waiyip"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":798,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1651046833,"creation_date":1650880707,"question_id":71997707,"body_markdown":"I have a .yml file that one of the fields looks like this\r\n```\r\n  a:\r\n    b:\r\n      &quot;[/folder/**]&quot;: &quot;file:./src/&quot;\r\n```\r\n\r\nHow can I access this field in Spring using @Value?\r\n\r\nI tried the following but all failed with &quot;Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder&quot;\r\n```\r\n@Value(&quot;${a.b./folder/**}&quot;) private File path;\r\n```\r\n```\r\n@Value(&quot;${a.b.[/folder/**]}&quot;) private File path;\r\n```\r\n```\r\n@Value(&quot;${a.b.\\\\[/folder/**\\\\]}&quot;) private File path;\r\n```\r\n\r\n ","title":"Reading keys with square brackets in YAML files from Spring","body":"<p>I have a .yml file that one of the fields looks like this</p>\n<pre><code>  a:\n    b:\n      &quot;[/folder/**]&quot;: &quot;file:./src/&quot;\n</code></pre>\n<p>How can I access this field in Spring using @Value?</p>\n<p>I tried the following but all failed with &quot;Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder&quot;</p>\n<pre><code>@Value(&quot;${a.b./folder/**}&quot;) private File path;\n</code></pre>\n<pre><code>@Value(&quot;${a.b.[/folder/**]}&quot;) private File path;\n</code></pre>\n<pre><code>@Value(&quot;${a.b.\\\\[/folder/**\\\\]}&quot;) private File path;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1290254,"reputation":306,"user_id":1242497,"display_name":"gibaholms"},"score":0,"creation_date":1446237949,"post_id":13853357,"comment_id":54677492,"body_markdown":"You are looking for FFPOJO: https://github.com/ffpojo/ffpojo","body":"You are looking for FFPOJO: <a href=\"https://github.com/ffpojo/ffpojo\" rel=\"nofollow noreferrer\">github.com/ffpojo/ffpojo</a>"}],"answers":[{"tags":[],"owner":{"account_id":882029,"reputation":6941,"user_id":272451,"accept_rate":100,"display_name":"Thihara"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1355375795,"creation_date":1355375795,"answer_id":13853420,"question_id":13853357,"body_markdown":"OopenCSV http://opencsv.sourceforge.net/ has what you are looking for. Just change the delimiter to `|` from `,`. And you should be all set.","title":"How to Parse a delimited flat file to a POJO","body":"<p>OopenCSV <a href=\"http://opencsv.sourceforge.net/\" rel=\"nofollow\">http://opencsv.sourceforge.net/</a> has what you are looking for. Just change the delimiter to <code>|</code> from <code>,</code>. And you should be all set.</p>\n"},{"tags":[],"owner":{"account_id":1057674,"reputation":12774,"user_id":1060037,"display_name":"Jayamohan"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1355376777,"creation_date":1355376272,"answer_id":13853489,"question_id":13853357,"body_markdown":"You can use [Bean IO][1]. I have been using this extensively.\r\n\r\n\r\nConfigure your XML as something like this \r\n\r\n    &lt;stream name=&quot;employees&quot; format=&quot;delimited&quot; strict=&quot;true&quot;&gt;\r\n      &lt;parser&gt;  \r\n        &lt;property name=&quot;delimiter&quot; value=&quot;|&quot; /&gt;\r\n      &lt;/parser&gt;\r\n      &lt;record name=&quot;test&quot; class=&quot;example.Pojo&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;&gt;\r\n          &lt;field name=&quot;act&quot; /&gt;\r\n          &lt;field name=&quot;customer&quot; /&gt;\r\n          &lt;field name=&quot;balance&quot; type=&quot;int&quot; /&gt;\r\n        &lt;/record&gt;\r\n     &lt;/stream&gt;\r\n\r\n\r\nRefer [here][2] for more details.\r\n\r\n\r\n  [1]: http://www.beanio.org/\r\n  [2]: http://www.beanio.org/2.0/docs/reference/index.html#Introduction","title":"How to Parse a delimited flat file to a POJO","body":"<p>You can use <a href=\"http://www.beanio.org/\" rel=\"noreferrer\">Bean IO</a>. I have been using this extensively.</p>\n\n<p>Configure your XML as something like this </p>\n\n<pre><code>&lt;stream name=\"employees\" format=\"delimited\" strict=\"true\"&gt;\n  &lt;parser&gt;  \n    &lt;property name=\"delimiter\" value=\"|\" /&gt;\n  &lt;/parser&gt;\n  &lt;record name=\"test\" class=\"example.Pojo\" minOccurs=\"1\" maxOccurs=\"1\"&gt;\n      &lt;field name=\"act\" /&gt;\n      &lt;field name=\"customer\" /&gt;\n      &lt;field name=\"balance\" type=\"int\" /&gt;\n    &lt;/record&gt;\n &lt;/stream&gt;\n</code></pre>\n\n<p>Refer <a href=\"http://www.beanio.org/2.0/docs/reference/index.html#Introduction\" rel=\"noreferrer\">here</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":1885169,"reputation":34027,"user_id":1704529,"display_name":"Yogendra Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1355377456,"creation_date":1355377456,"answer_id":13853695,"question_id":13853357,"body_markdown":"I would simply read one line at a time, split the values and call the POJO constructor(if not available, create one) e.g.:\r\n\r\n    \r\n       List&lt;pojo&gt; pojoList = new ArrayList&lt;pojo&gt;();\r\n       BufferedReader br = new BufferedReader(new FileReader(&quot;FlatFile.txt&quot;));\r\n       String line = &quot;&quot;;\r\n       while((line = br.readLine()) != null) {  \r\n           String[] fields = line.split(&quot;\\|&quot;);\r\n           pojo p = new pojo(fields[0], fields[1], fields[2]);\r\n           pojoList.add(p);\r\n       }","title":"How to Parse a delimited flat file to a POJO","body":"<p>I would simply read one line at a time, split the values and call the POJO constructor(if not available, create one) e.g.:</p>\n\n<pre><code>   List&lt;pojo&gt; pojoList = new ArrayList&lt;pojo&gt;();\n   BufferedReader br = new BufferedReader(new FileReader(\"FlatFile.txt\"));\n   String line = \"\";\n   while((line = br.readLine()) != null) {  \n       String[] fields = line.split(\"\\|\");\n       pojo p = new pojo(fields[0], fields[1], fields[2]);\n       pojoList.add(p);\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355384636,"creation_date":1355384636,"answer_id":13855221,"question_id":13853357,"body_markdown":"Thanks all for quick responses. Based on Thihara&#39;s recommendations, managed to get OPENCSV working ( Thanks to Glen Smith and Kyle Miller for their contributions on Bean Mapping) Get opencsv-2.3.jar from [OPENCSV][1]\r\n\r\n  [1]: http://opencsv.sourceforge.net/\r\n\r\nI am posting full source to benefit others like me.\r\n\r\nInput File\r\n\r\n    /**\r\n\t\t * Input File: acct_os.txt\r\n\t\t * \r\n\t\t * &lt;pre&gt;\r\n\t\t * 12345|ABC Company|120.45\r\n\t\t * 34567|XYZ Company|45.00\r\n\t\t * 99999|MNC Bank|67.00\r\n\t\t */\r\n\r\n    /**\r\n\t * Bind File to a POJO\r\n\t * \r\n\t * @param inputFile\r\n\t * @param delim\r\n\t * @throws FileNotFoundException\r\n\t */\r\n\tpublic void bindFileToPojo(String inputFile, char delim) throws FileNotFoundException {\r\n\r\n\t\tSystem.out.println(&quot;\\n===== Reading to a POJO\\n&quot;);\r\n\r\n\t\tColumnPositionMappingStrategy&lt;TestCustomerBean&gt; strat = new ColumnPositionMappingStrategy&lt;TestCustomerBean&gt;();\r\n\t\tstrat.setType(TestCustomerBean.class);\r\n\t\t/**\r\n\t\t * the fields to bind do in your JavaBean\r\n\t\t */\r\n\t\tString[] columns = new String[] { &quot;acct&quot;, &quot;customer&quot;, &quot;balance&quot; };\r\n\t\tstrat.setColumnMapping(columns);\r\n\r\n\t\tCsvToBean&lt;TestCustomerBean&gt; csv = new CsvToBean&lt;TestCustomerBean&gt;();\r\n\t\t/**\r\n\t\t * Read file contents to list using CSVReader\r\n\t\t */\r\n\t\tList&lt;TestCustomerBean&gt; list = csv.parse(strat, new CSVReader(new FileReader(inputFile), delim));\r\n\t\t/**\r\n\t\t * Display column mapping\r\n\t\t */\r\n\t\tdisplayColumnMapping(strat.getColumnMapping());\r\n\r\n\t\tfor (TestCustomerBean bean : list) {\r\n\t\t\tSystem.out.println(&quot;account: [&quot;\r\n\t\t\t\t\t+ bean.getAcct()\r\n\t\t\t\t\t\t+ &quot;] customer: [&quot;\r\n\t\t\t\t\t\t+ bean.getCustomer()\r\n\t\t\t\t\t\t+ &quot;] balance: [&quot;\r\n\t\t\t\t\t\t+ bean.getBalance()\r\n\t\t\t\t\t\t+ &quot;]&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Display column mapping\r\n\t * \r\n\t * @param columns\r\n\t */\r\n\tprivate void displayColumnMapping(String[] columns) {\r\n\t\tfor (String column : columns) {\r\n\t\t\tSystem.out.println(&quot;Column Mapping--&gt;&quot; + column);\r\n\t\t}\r\n\t}\r\n\r\nTestCustomerBean (getter/setter omitted)\r\n\r\n    private String acct;\r\n\tprivate String customer;\r\n\tprivate Double balance;\r\n\r\nOutput would be\r\n\r\n===== Reading to a POJO&lt;br&gt;\r\n\r\nColumn Mapping--&gt;acct&lt;br&gt;\r\nColumn Mapping--&gt;customer&lt;br&gt;\r\nColumn Mapping--&gt;balance&lt;br&gt;\r\naccount: [12345] customer: [ABC Company] balance: [120.45]&lt;br&gt;\r\naccount: [34567] customer: [XYZ Company] balance: [45.0]&lt;br&gt;\r\naccount: [99999] customer: [MNC Bank] balance: [67.0]&lt;br&gt;\r\n","title":"How to Parse a delimited flat file to a POJO","body":"<p>Thanks all for quick responses. Based on Thihara's recommendations, managed to get OPENCSV working ( Thanks to Glen Smith and Kyle Miller for their contributions on Bean Mapping) Get opencsv-2.3.jar from <a href=\"http://opencsv.sourceforge.net/\" rel=\"nofollow\">OPENCSV</a></p>\n\n<p>I am posting full source to benefit others like me.</p>\n\n<p>Input File</p>\n\n<pre><code>/**\n     * Input File: acct_os.txt\n     * \n     * &lt;pre&gt;\n     * 12345|ABC Company|120.45\n     * 34567|XYZ Company|45.00\n     * 99999|MNC Bank|67.00\n     */\n\n/**\n * Bind File to a POJO\n * \n * @param inputFile\n * @param delim\n * @throws FileNotFoundException\n */\npublic void bindFileToPojo(String inputFile, char delim) throws FileNotFoundException {\n\n    System.out.println(\"\\n===== Reading to a POJO\\n\");\n\n    ColumnPositionMappingStrategy&lt;TestCustomerBean&gt; strat = new ColumnPositionMappingStrategy&lt;TestCustomerBean&gt;();\n    strat.setType(TestCustomerBean.class);\n    /**\n     * the fields to bind do in your JavaBean\n     */\n    String[] columns = new String[] { \"acct\", \"customer\", \"balance\" };\n    strat.setColumnMapping(columns);\n\n    CsvToBean&lt;TestCustomerBean&gt; csv = new CsvToBean&lt;TestCustomerBean&gt;();\n    /**\n     * Read file contents to list using CSVReader\n     */\n    List&lt;TestCustomerBean&gt; list = csv.parse(strat, new CSVReader(new FileReader(inputFile), delim));\n    /**\n     * Display column mapping\n     */\n    displayColumnMapping(strat.getColumnMapping());\n\n    for (TestCustomerBean bean : list) {\n        System.out.println(\"account: [\"\n                + bean.getAcct()\n                    + \"] customer: [\"\n                    + bean.getCustomer()\n                    + \"] balance: [\"\n                    + bean.getBalance()\n                    + \"]\");\n    }\n}\n\n/**\n * Display column mapping\n * \n * @param columns\n */\nprivate void displayColumnMapping(String[] columns) {\n    for (String column : columns) {\n        System.out.println(\"Column Mapping--&gt;\" + column);\n    }\n}\n</code></pre>\n\n<p>TestCustomerBean (getter/setter omitted)</p>\n\n<pre><code>private String acct;\nprivate String customer;\nprivate Double balance;\n</code></pre>\n\n<p>Output would be</p>\n\n<p>===== Reading to a POJO<br></p>\n\n<p>Column Mapping-->acct<br>\nColumn Mapping-->customer<br>\nColumn Mapping-->balance<br>\naccount: [12345] customer: [ABC Company] balance: [120.45]<br>\naccount: [34567] customer: [XYZ Company] balance: [45.0]<br>\naccount: [99999] customer: [MNC Bank] balance: [67.0]<br></p>\n"},{"tags":[],"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651046504,"creation_date":1355389998,"answer_id":13856478,"question_id":13853357,"body_markdown":"Yet another forum recommended smooth as per suggestions from JayaMohan (Thanks), I am able to get Flat file mapped to a POJO using beanio. You can get [beanio][1]\r\n\r\n\r\n  [1]: http://www.beanio.org/2.0/docs/reference/index.html#Introduction\r\n\r\n**Full source of using beanio**\r\n\r\n    \t/**\r\n\t * Read inputFile and map to BeanIO Mapping file and bind to pojo\r\n\t * \r\n\t * @param inputFile\r\n\t * @param mappingFile\r\n\t */\r\n\tpublic void flatToBeanReader(String inputFile, String mappingFile) {\r\n\t\t/**\r\n\t\t * create a StreamFactory\r\n\t\t */\r\n\t\tStreamFactory factory = StreamFactory.newInstance();\r\n\t\t/**\r\n\t\t * load the mapping file\r\n\t\t */\r\n\t\tfactory.load(mappingFile);\r\n\t\t/**\r\n\t\t * use a StreamFactory to create a BeanReader\r\n\t\t */\r\n\t\tBeanReader in = factory.createReader(&quot;customers&quot;, new File(inputFile));\r\n\t\tTestCustomerBean cust;\r\n\t\twhile ((cust = (TestCustomerBean) in.read()) != null) {\r\n\t\t\tSystem.out.println(&quot;acct: [&quot;\r\n\t\t\t\t\t+ cust.getAcct()\r\n\t\t\t\t\t\t+ &quot;] customer: [&quot;\r\n\t\t\t\t\t\t+ cust.getCustomer()\r\n\t\t\t\t\t\t+ &quot;] balance: [&quot;\r\n\t\t\t\t\t\t+ cust.getBalance()\r\n\t\t\t\t\t\t+ &quot;]&quot;);\r\n\t\t}\r\n\t\tin.close();\r\n\t}\r\n\r\n**Mapping File**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beanio xmlns=&quot;http://www.beanio.org/2012/03&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://www.beanio.org/2012/03 http://www.beanio.org/2012/03/mapping.xsd&quot;&gt;\r\n    \r\n    \t&lt;stream name=&quot;customers&quot; format=&quot;delimited&quot; strict=&quot;false&quot;&gt;\r\n    \t\t&lt;parser&gt;\r\n    \t\t\t&lt;property name=&quot;delimiter&quot; value=&quot;|&quot; /&gt;\r\n    \t\t&lt;/parser&gt;\r\n    \t\t&lt;record name=&quot;cust&quot; class=&quot;TestCustomerBean&quot;&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;field name=&quot;acct&quot; /&gt;\r\n    \t\t\t&lt;field name=&quot;customer&quot; /&gt;\r\n    \t\t\t&lt;field name=&quot;balance&quot; type=&quot;Double&quot; /&gt;\r\n    \t\t&lt;/record&gt;\r\n    \t&lt;/stream&gt;\r\n    \r\n    &lt;/beanio&gt;\r\n\r\n**Output would be:**\r\n\r\n    acct: [12345] customer: [ABC Company] balance: [120.45]\r\n    acct: [34567] customer: [XYZ Company] balance: [45.0]\r\n    acct: [99999] customer: [MNC Bank] balance: [67.0]","title":"How to Parse a delimited flat file to a POJO","body":"<p>Yet another forum recommended smooth as per suggestions from JayaMohan (Thanks), I am able to get Flat file mapped to a POJO using beanio. You can get <a href=\"http://www.beanio.org/2.0/docs/reference/index.html#Introduction\" rel=\"nofollow noreferrer\">beanio</a></p>\n<p><strong>Full source of using beanio</strong></p>\n<pre><code>    /**\n * Read inputFile and map to BeanIO Mapping file and bind to pojo\n * \n * @param inputFile\n * @param mappingFile\n */\npublic void flatToBeanReader(String inputFile, String mappingFile) {\n    /**\n     * create a StreamFactory\n     */\n    StreamFactory factory = StreamFactory.newInstance();\n    /**\n     * load the mapping file\n     */\n    factory.load(mappingFile);\n    /**\n     * use a StreamFactory to create a BeanReader\n     */\n    BeanReader in = factory.createReader(&quot;customers&quot;, new File(inputFile));\n    TestCustomerBean cust;\n    while ((cust = (TestCustomerBean) in.read()) != null) {\n        System.out.println(&quot;acct: [&quot;\n                + cust.getAcct()\n                    + &quot;] customer: [&quot;\n                    + cust.getCustomer()\n                    + &quot;] balance: [&quot;\n                    + cust.getBalance()\n                    + &quot;]&quot;);\n    }\n    in.close();\n}\n</code></pre>\n<p><strong>Mapping File</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beanio xmlns=&quot;http://www.beanio.org/2012/03&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://www.beanio.org/2012/03 http://www.beanio.org/2012/03/mapping.xsd&quot;&gt;\n\n    &lt;stream name=&quot;customers&quot; format=&quot;delimited&quot; strict=&quot;false&quot;&gt;\n        &lt;parser&gt;\n            &lt;property name=&quot;delimiter&quot; value=&quot;|&quot; /&gt;\n        &lt;/parser&gt;\n        &lt;record name=&quot;cust&quot; class=&quot;TestCustomerBean&quot;&gt;\n            \n            &lt;field name=&quot;acct&quot; /&gt;\n            &lt;field name=&quot;customer&quot; /&gt;\n            &lt;field name=&quot;balance&quot; type=&quot;Double&quot; /&gt;\n        &lt;/record&gt;\n    &lt;/stream&gt;\n\n&lt;/beanio&gt;\n</code></pre>\n<p><strong>Output would be:</strong></p>\n<pre><code>acct: [12345] customer: [ABC Company] balance: [120.45]\nacct: [34567] customer: [XYZ Company] balance: [45.0]\nacct: [99999] customer: [MNC Bank] balance: [67.0]\n</code></pre>\n"}],"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22801,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"closed_date":1355649690,"answer_count":5,"score":5,"last_activity_date":1651046504,"creation_date":1355375353,"question_id":13853357,"body_markdown":"Appreciate if someone could point and recommend on how to parse a flat pipe delimited file to JAVA Pojo.\r\n\r\neg.\r\nFlat File\r\n0001|XYZ|120\r\n\r\nthis is required to be read into a POJO having\r\n\r\n    public class pojo {\r\n\r\n\tprivate String acct;\r\n\tprivate String customer;\r\n\tprivate int balance;\r\n    }\r\nI can read entire input file as a collection, however, would end up setting each token into a pojo member. Instead, I would like to parse into pojo members. Something similar to CASTOR XML mapping to POJO.\r\n\r\nAppreciate any help in this regards. Thanks in advance","title":"How to Parse a delimited flat file to a POJO","body":"<p>Appreciate if someone could point and recommend on how to parse a flat pipe delimited file to JAVA Pojo.</p>\n\n<p>eg.\nFlat File\n0001|XYZ|120</p>\n\n<p>this is required to be read into a POJO having</p>\n\n<pre><code>public class pojo {\n\nprivate String acct;\nprivate String customer;\nprivate int balance;\n}\n</code></pre>\n\n<p>I can read entire input file as a collection, however, would end up setting each token into a pojo member. Instead, I would like to parse into pojo members. Something similar to CASTOR XML mapping to POJO.</p>\n\n<p>Appreciate any help in this regards. Thanks in advance</p>\n"},{"tags":["java","eclipse","sonarqube","sonarlint-eclipse"],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1651046461,"creation_date":1540738143,"answer_id":53032749,"question_id":53031847,"body_markdown":"In non-DEBUG mode the line\r\n\r\n    log.debug(&quot;Request body: {}&quot;, new String(body, &quot;UTF-8&quot;));\r\n\r\ninstead of\r\n\r\n    log.debug(MessageFormatter.format(&quot;Request body: {}&quot;, new String(body, &quot;UTF-8&quot;)));\r\n\r\navoids the creation of the string that is created via [`MessageFormatter.format(String messagePattern, Object arg)`][1], but not the creation of the other string that is created by **`new String(body, &quot;UTF-8&quot;)`**.\r\n\r\nThis means it is **not a false positive**, because the arguments are calculated first before the logging method is called.\r\n\r\nAs long as [SLF4J does not support lambda expression to lazy evaluate arguments][2], the following utility method can be used as a workaround:\r\n\r\n\tprivate static Object lazyToString(final Supplier&lt;String&gt; stringSupplier) {\r\n\t\treturn new Object() {\r\n\t\t\t@Override\r\n\t\t\tpublic String toString() {\r\n\t\t\t\treturn stringSupplier.get();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\nThis can be used to limit the converting of the byte array into a string to the DEBUG mode only:\r\n\r\n    log.debug(&quot;Request body: {}&quot;, lazyToString(() -&gt; new String(body, StandardCharsets.UTF_8)));\r\n\r\n\r\n  [1]: https://www.slf4j.org/api/org/slf4j/helpers/MessageFormatter.html#format(java.lang.String,%20java.lang.Object)\r\n  [2]: https://jira.qos.ch/browse/SLF4J-371\r\n","title":"Eclipse - Sonar S2629 possible false positive with new String","body":"<p>In non-DEBUG mode the line</p>\n<pre><code>log.debug(&quot;Request body: {}&quot;, new String(body, &quot;UTF-8&quot;));\n</code></pre>\n<p>instead of</p>\n<pre><code>log.debug(MessageFormatter.format(&quot;Request body: {}&quot;, new String(body, &quot;UTF-8&quot;)));\n</code></pre>\n<p>avoids the creation of the string that is created via <a href=\"https://www.slf4j.org/api/org/slf4j/helpers/MessageFormatter.html#format(java.lang.String,%20java.lang.Object)\" rel=\"nofollow noreferrer\"><code>MessageFormatter.format(String messagePattern, Object arg)</code></a>, but not the creation of the other string that is created by <strong><code>new String(body, &quot;UTF-8&quot;)</code></strong>.</p>\n<p>This means it is <strong>not a false positive</strong>, because the arguments are calculated first before the logging method is called.</p>\n<p>As long as <a href=\"https://jira.qos.ch/browse/SLF4J-371\" rel=\"nofollow noreferrer\">SLF4J does not support lambda expression to lazy evaluate arguments</a>, the following utility method can be used as a workaround:</p>\n<pre><code>private static Object lazyToString(final Supplier&lt;String&gt; stringSupplier) {\n    return new Object() {\n        @Override\n        public String toString() {\n            return stringSupplier.get();\n        }\n    };\n}\n</code></pre>\n<p>This can be used to limit the converting of the byte array into a string to the DEBUG mode only:</p>\n<pre><code>log.debug(&quot;Request body: {}&quot;, lazyToString(() -&gt; new String(body, StandardCharsets.UTF_8)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1540750460,"creation_date":1540750460,"answer_id":53034670,"question_id":53031847,"body_markdown":"While the use of lambda or lazy lambda is fine, there is still the good old `isDebugEnabled` way:\r\n\r\n    if (log.isDebugEnabled()) {\r\n      log.debug(&quot;Request body: {}&quot;, new String(body, StandardCharsets.UTF_8));\r\n    }\r\n\r\nThat&#39;s won&#39;t fix the `String` being created (because you want to display it after all), but that would not consume memory when debug mode is disabled.","title":"Eclipse - Sonar S2629 possible false positive with new String","body":"<p>While the use of lambda or lazy lambda is fine, there is still the good old <code>isDebugEnabled</code> way:</p>\n\n<pre><code>if (log.isDebugEnabled()) {\n  log.debug(\"Request body: {}\", new String(body, StandardCharsets.UTF_8));\n}\n</code></pre>\n\n<p>That's won't fix the <code>String</code> being created (because you want to display it after all), but that would not consume memory when debug mode is disabled.</p>\n"}],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4812,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":53032749,"answer_count":2,"score":5,"last_activity_date":1651046461,"creation_date":1540731996,"question_id":53031847,"body_markdown":"I&#39;m using latest Eclipse and Sonar plugin\r\n\r\nIn [answer][1] for logging there&#39;s the following line:\r\n\r\n    log.debug(&quot;Request body: {}&quot;, new String(body, &quot;UTF-8&quot;));\r\n\r\nWhich should create String only if in DEBUG level:\r\n\r\n    /**\r\n     * Log a message at the DEBUG level according to the specified format\r\n     * and argument.\r\n     * &lt;p/&gt;\r\n     * &lt;p&gt;This form avoids superfluous object creation when the logger\r\n     * is disabled for the DEBUG level. &lt;/p&gt;\r\n     *\r\n     * @param format the format string\r\n     * @param arg    the argument\r\n     */\r\n    public void debug(String format, Object arg);\r\n\r\nBut Sonar is marking it as `squid:S2629`:\r\n\r\n&gt;&quot;Preconditions&quot; and logging arguments should not require evaluation (squid:S2629)\r\n\r\nAnd give examples with concatenation\r\n\r\n&gt;logger.log(Level.DEBUG, &quot;Something went wrong: &quot; + message);  // Noncompliant; string concatenation performed even when log level too high to show DEBUG messages\r\n\r\n\r\nIs it a false positive sonar warning or am I missing something?\r\n\r\nThis isn&#39;t a duplicate of [this question][3] which is generally asking about the rule concept, which is concatenation, but not formatting with creating object as `new String`\r\n\r\nAlso [link][4] of an answer says creating `new Date()` isn&#39;t creating an issue with built in format:\r\n\r\n&gt;     public static void main(String[] args) {\r\n        LOGGER.info(&quot;The program started at {}&quot;, new Date());\r\n    }\r\n\r\n&gt;     }\r\n\r\n&gt;Logging this way, you avoid performance overhead for strings concatenation when nothing should be actually logged.\r\n[1]:https://stackoverflow.com/questions/7952154/spring-resttemplate-how-to-enable-full-debugging-logging-of-requests-responses\r\n\r\n[3]:https://stackoverflow.com/questions/42388341/built-in-string-formatting-vs-string-concatenation-as-logging-parameter\r\n\r\n[4]:https://dba-presents.com/index.php/jvm/java/120-use-the-built-in-formatting-to-construct-this-argument","title":"Eclipse - Sonar S2629 possible false positive with new String","body":"<p>I'm using latest Eclipse and Sonar plugin</p>\n\n<p>In <a href=\"https://stackoverflow.com/questions/7952154/spring-resttemplate-how-to-enable-full-debugging-logging-of-requests-responses\">answer</a> for logging there's the following line:</p>\n\n<pre><code>log.debug(\"Request body: {}\", new String(body, \"UTF-8\"));\n</code></pre>\n\n<p>Which should create String only if in DEBUG level:</p>\n\n<pre><code>/**\n * Log a message at the DEBUG level according to the specified format\n * and argument.\n * &lt;p/&gt;\n * &lt;p&gt;This form avoids superfluous object creation when the logger\n * is disabled for the DEBUG level. &lt;/p&gt;\n *\n * @param format the format string\n * @param arg    the argument\n */\npublic void debug(String format, Object arg);\n</code></pre>\n\n<p>But Sonar is marking it as <code>squid:S2629</code>:</p>\n\n<blockquote>\n  <p>\"Preconditions\" and logging arguments should not require evaluation (squid:S2629)</p>\n</blockquote>\n\n<p>And give examples with concatenation</p>\n\n<blockquote>\n  <p>logger.log(Level.DEBUG, \"Something went wrong: \" + message);  // Noncompliant; string concatenation performed even when log level too high to show DEBUG messages</p>\n</blockquote>\n\n<p>Is it a false positive sonar warning or am I missing something?</p>\n\n<p>This isn't a duplicate of <a href=\"https://stackoverflow.com/questions/42388341/built-in-string-formatting-vs-string-concatenation-as-logging-parameter\">this question</a> which is generally asking about the rule concept, which is concatenation, but not formatting with creating object as <code>new String</code></p>\n\n<p>Also <a href=\"https://dba-presents.com/index.php/jvm/java/120-use-the-built-in-formatting-to-construct-this-argument\" rel=\"nofollow noreferrer\">link</a> of an answer says creating <code>new Date()</code> isn't creating an issue with built in format:</p>\n\n<blockquote>\n<pre><code>public static void main(String[] args) {\n    LOGGER.info(\"The program started at {}\", new Date());\n}\n\n}\n</code></pre>\n  \n  <p>Logging this way, you avoid performance overhead for strings concatenation when nothing should be actually logged.</p>\n</blockquote>\n"},{"tags":["java","jpa","eclipselink","entitygraph"],"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1646988521,"post_id":71435840,"comment_id":126264317,"body_markdown":"Having fetch = FetchType.EAGER on Car field is verbose, cause default is Eager .","body":"Having fetch = FetchType.EAGER on Car field is verbose, cause default is Eager ."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1647012435,"post_id":71435840,"comment_id":126273054,"body_markdown":"Key is an embedded, so should always be fetched with or without this fetch graph, so if it is null, there is something else going on. Are you sure there is data for those fields in the database? You&#39;ll want to debug and check the instance returned from running the query without and then with the FetchGroup, and also try em.refresh on the instances after that to see if the data is accessible.","body":"Key is an embedded, so should always be fetched with or without this fetch graph, so if it is null, there is something else going on. Are you sure there is data for those fields in the database? You&#39;ll want to debug and check the instance returned from running the query without and then with the FetchGroup, and also try em.refresh on the instances after that to see if the data is accessible."}],"answers":[{"tags":[],"owner":{"account_id":1203546,"reputation":205,"user_id":1173732,"accept_rate":20,"display_name":"sylo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651046195,"creation_date":1651046195,"answer_id":72025207,"question_id":71435840,"body_markdown":"Finally I found a solution for my problem. I refer to the edited part of my question.\r\n\r\nI found this page which describes very well how to use batch query hints to improve performance. \r\nhttp://java-persistence-performance.blogspot.com/2010/08/batch-fetching-optimizing-object-graph.html?m=1\r\n\r\nFor my example I don&#39;t need the entitygraph anymore. The query should created like this\r\n\r\n    List resultList = em.createQuery(&quot;SELECT x FROM Publication x&quot;).setHint(&quot;eclipselink.batch&quot;, &quot;x.articles&quot;).getResultList();\r\n\r\n","title":"Using EntityGraph with SuperClasses and Embedded Attributes","body":"<p>Finally I found a solution for my problem. I refer to the edited part of my question.</p>\n<p>I found this page which describes very well how to use batch query hints to improve performance.\n<a href=\"http://java-persistence-performance.blogspot.com/2010/08/batch-fetching-optimizing-object-graph.html?m=1\" rel=\"nofollow noreferrer\">http://java-persistence-performance.blogspot.com/2010/08/batch-fetching-optimizing-object-graph.html?m=1</a></p>\n<p>For my example I don't need the entitygraph anymore. The query should created like this</p>\n<pre><code>List resultList = em.createQuery(&quot;SELECT x FROM Publication x&quot;).setHint(&quot;eclipselink.batch&quot;, &quot;x.articles&quot;).getResultList();\n</code></pre>\n"}],"owner":{"account_id":1203546,"reputation":205,"user_id":1173732,"accept_rate":20,"display_name":"sylo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651046195,"creation_date":1646988338,"question_id":71435840,"body_markdown":"I would like to use the EntityGraph Feature because of the known n+1 Problem. I have the following Entities structure:\r\n\r\n    @Entity\r\n    @Table(name = &quot;customer&quot;)\r\n    public class Customer extends Person {\r\n    \r\n        @Column(name = &quot;foo&quot;)\r\n        public String foo;\r\n    \r\n        @Column(name = &quot;bar&quot;)\r\n        public String bar;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;person&quot;)\r\n    public class Person {\r\n    \r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;car.id&quot;)\r\n        public Car car;\r\n    \r\n        @Embedded\r\n        public Key key;\r\n    }\r\n    \r\n    \r\n    @Entity\r\n    @Table(name = &quot;car&quot;)\r\n    public class Car {\r\n    \r\n        @Column(name = &quot;a&quot;)\r\n        public String a;\r\n    \r\n        @Column(name = &quot;b&quot;)\r\n        public String b;\r\n    }\r\n    \r\n    @Embeddable\r\n    public class Key\r\n    {\r\n        @Column(name = &quot;key_id&quot;)\r\n        public Long keyId;\r\n    \r\n        @Column(name = &quot;key_color&quot;)\r\n        public String keyColor;\r\n    }\r\n\r\nNow I want to use a NamedEntityGraph. As far as I understand with &quot;@NamedEntityGraph(name = &quot;getCustomer&quot;, includeAllAttributes=true)&quot; it should work but it doesnt. \r\n\r\nThe NamedEntityGraph call with \r\n\r\n    em.createQuery(criteriaQuery).setHint(&quot;javax.persistence.fetchgraph&quot;, em.getEntityGraph(&quot;getCustomer&quot;)).getResultList()\r\n\r\nreturns the amount of Customers in the database but all Attributes including car and the Embedded Attribute key is always null.\r\n \r\nDo I have to use subgraphs? I tried to declare the NamedEntityGraph on Customer class also on Person class. It makes no difference.\r\n\r\n**EDIT**:\r\nAfter struggling a long time with this problem, i tried to break down it to the lowest level with these two entities\r\n\r\n    @Entity\r\n    @Table(name = &quot;publication&quot;)\r\n    @NamedEntityGraph(name = &quot;graph.Publication.articles&quot;,\r\n            attributeNodes = @NamedAttributeNode(&quot;articles&quot;))\r\n    public class Publication {\r\n    \r\n        @Id\r\n        private String publicationId;\r\n    \r\n        private String name;\r\n    \r\n        private String category;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;publicationId&quot;)\r\n        private List&lt;Article&gt; articles;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;article&quot;)\r\n    public class Article {\r\n    \r\n        @Id\r\n        private String articleId;\r\n    \r\n        private String title;\r\n    \r\n        private String publicationId;\r\n    }\r\n\r\nIf i create a query i can see further more than one query in the postgres log.\r\n\r\n    EntityGraph&lt;?&gt; entityGraph = em.getEntityGraph(&quot;graph.Publication.articles&quot;);\r\n    List resultList = em.createQuery(&quot;SELECT x FROM Publication x&quot;).setHint(&quot;javax.persistence.fetchgraph&quot;, entityGraph).getResultList();\r\n\r\nDifferent queries for all publications\r\n\r\n    SELECT ARTICLEID, publicationId, TITLE FROM article WHERE (publicationId = $1) parameters: $1 = &#39;publication_1&#39;\r\n    SELECT ARTICLEID, publicationId, TITLE FROM article WHERE (publicationId = $1) parameters: $1 = &#39;publication_2&#39;\r\n\r\nBut I would only have expected one query with a join here.","title":"Using EntityGraph with SuperClasses and Embedded Attributes","body":"<p>I would like to use the EntityGraph Feature because of the known n+1 Problem. I have the following Entities structure:</p>\n<pre><code>@Entity\n@Table(name = &quot;customer&quot;)\npublic class Customer extends Person {\n\n    @Column(name = &quot;foo&quot;)\n    public String foo;\n\n    @Column(name = &quot;bar&quot;)\n    public String bar;\n}\n\n@Entity\n@Table(name = &quot;person&quot;)\npublic class Person {\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;car.id&quot;)\n    public Car car;\n\n    @Embedded\n    public Key key;\n}\n\n\n@Entity\n@Table(name = &quot;car&quot;)\npublic class Car {\n\n    @Column(name = &quot;a&quot;)\n    public String a;\n\n    @Column(name = &quot;b&quot;)\n    public String b;\n}\n\n@Embeddable\npublic class Key\n{\n    @Column(name = &quot;key_id&quot;)\n    public Long keyId;\n\n    @Column(name = &quot;key_color&quot;)\n    public String keyColor;\n}\n</code></pre>\n<p>Now I want to use a NamedEntityGraph. As far as I understand with &quot;@NamedEntityGraph(name = &quot;getCustomer&quot;, includeAllAttributes=true)&quot; it should work but it doesnt.</p>\n<p>The NamedEntityGraph call with</p>\n<pre><code>em.createQuery(criteriaQuery).setHint(&quot;javax.persistence.fetchgraph&quot;, em.getEntityGraph(&quot;getCustomer&quot;)).getResultList()\n</code></pre>\n<p>returns the amount of Customers in the database but all Attributes including car and the Embedded Attribute key is always null.</p>\n<p>Do I have to use subgraphs? I tried to declare the NamedEntityGraph on Customer class also on Person class. It makes no difference.</p>\n<p><strong>EDIT</strong>:\nAfter struggling a long time with this problem, i tried to break down it to the lowest level with these two entities</p>\n<pre><code>@Entity\n@Table(name = &quot;publication&quot;)\n@NamedEntityGraph(name = &quot;graph.Publication.articles&quot;,\n        attributeNodes = @NamedAttributeNode(&quot;articles&quot;))\npublic class Publication {\n\n    @Id\n    private String publicationId;\n\n    private String name;\n\n    private String category;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;publicationId&quot;)\n    private List&lt;Article&gt; articles;\n\n@Entity\n@Table(name = &quot;article&quot;)\npublic class Article {\n\n    @Id\n    private String articleId;\n\n    private String title;\n\n    private String publicationId;\n}\n</code></pre>\n<p>If i create a query i can see further more than one query in the postgres log.</p>\n<pre><code>EntityGraph&lt;?&gt; entityGraph = em.getEntityGraph(&quot;graph.Publication.articles&quot;);\nList resultList = em.createQuery(&quot;SELECT x FROM Publication x&quot;).setHint(&quot;javax.persistence.fetchgraph&quot;, entityGraph).getResultList();\n</code></pre>\n<p>Different queries for all publications</p>\n<pre><code>SELECT ARTICLEID, publicationId, TITLE FROM article WHERE (publicationId = $1) parameters: $1 = 'publication_1'\nSELECT ARTICLEID, publicationId, TITLE FROM article WHERE (publicationId = $1) parameters: $1 = 'publication_2'\n</code></pre>\n<p>But I would only have expected one query with a join here.</p>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651039687,"creation_date":1650992128,"answer_id":72017774,"question_id":72017058,"body_markdown":"Since `apache poi 4` the apache developers decided using `org.apache.poi.xddf.usermodel.text.*` for text paragraphs and text runs also in `XSLF`. Up to `apache poi 3.17` `XSLF` had have it&#39;s own classes for text paragraphs and text runs. Those are further present (maybe for backwards compatibility) but in versions greater than `apache po 3.17` they are using the wrong text body when text shapes are copied from other slides. I have not found where exactly this happens but the following shows that it is true.\r\n\r\nComplete example:\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.FileInputStream;\r\n    \r\n    import org.apache.poi.xslf.usermodel.*;\r\n    import org.apache.poi.sl.usermodel.*;\r\n    \r\n    import java.util.*;\r\n    import java.util.stream.*;\r\n    \r\n    public class PPTXCCopyTemplateSlideAndChange {\r\n        \r\n     static final int SLIDE_INDEX_TEMPLATE = 0;\r\n        \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      XMLSlideShow slideShow = new XMLSlideShow(new FileInputStream(&quot;./PPTXIn.pptx&quot;));\r\n    \r\n      XSLFSlide template = slideShow.getSlides().get(SLIDE_INDEX_TEMPLATE);\r\n    \r\n      XSLFSlide newSlide = slideShow.createSlide(template.getSlideLayout());\r\n      newSlide = newSlide.importContent(template);\r\n    \r\n      for (XSLFShape shape: newSlide) {\r\n    \r\n       if (shape instanceof XSLFTextShape) {\r\n        XSLFTextShape textShape = (XSLFTextShape) shape;\r\n        \r\n        //textShape.setText(&quot;Replaced!&quot;); // this would work using apache poi 3.17 as well as using apache poi 5.2.2\r\n        \r\n    /*  this works using apache poi 3.17 only but uses the wrong text body in version 5  \r\n        List&lt;XSLFTextParagraph&gt; textBoxParagraphs = textShape.getTextParagraphs();\r\n        List&lt;XSLFTextRun&gt; textBoxParagraphTextRuns = textBoxParagraphs.stream().map(XSLFTextParagraph::getTextRuns).flatMap(List::stream).collect(Collectors.toList());\r\n        for (XSLFTextRun r : textBoxParagraphTextRuns) {\r\n         r.setText(&quot;Replaced!&quot;);\r\n        }\r\n    */\r\n    \r\n    ///*  this works using apache poi 5.2.2 only but cannot work using version 3.17 because of usage of org.apache.poi.xddf.usermodel.text.*\r\n        List&lt;org.apache.poi.xddf.usermodel.text.XDDFTextParagraph&gt; textBoxParagraphs = textShape.getTextBody().getParagraphs();\r\n        List&lt;org.apache.poi.xddf.usermodel.text.XDDFTextRun&gt; textBoxParagraphTextRuns = textBoxParagraphs.stream().map(org.apache.poi.xddf.usermodel.text.XDDFTextParagraph::getTextRuns).flatMap(List::stream).collect(Collectors.toList());\r\n        for (org.apache.poi.xddf.usermodel.text.XDDFTextRun r : textBoxParagraphTextRuns) {\r\n         r.setText(&quot;Replaced!&quot;);\r\n        }\r\n    //*/\r\n    \r\n       }\r\n      }\r\n      \r\n      FileOutputStream out = new FileOutputStream(&quot;./PPTXOut.pptx&quot;);\r\n      slideShow.write(out);\r\n      out.close();\r\n     }\r\n    }\r\n\r\nHere `textShape.setText(&quot;Replaced!&quot;);` works using `apache poi 3.17` as well as using `apache poi 5.2.2` as `XSLFTextShape.setText` uses the underlying `CTTextBody` directly even in version 5. But of course using that you have no control over the different text runs.\r\n\r\n`List&lt;XSLFTextParagraph&gt; textBoxParagraphs = textShape.getTextParagraphs();` works using `apache poi 3.17` only but uses the wrong text body in version 5. Maybe because `XSLFAutoShape.getTextBody(boolean create)` also uses `org.apache.poi.xddf.usermodel.text.XDDFTextBody` instead of only using the underlying `CTTextBody` directly. But not really sure.\r\n\r\n`List&lt;org.apache.poi.xddf.usermodel.text.XDDFTextParagraph&gt; textBoxParagraphs = textShape.getTextBody().getParagraphs();` works using `apache poi 5.2.2` only but cannot work using version 3.17 because of usage of `org.apache.poi.xddf.usermodel.text.*` which is not known in version 3.17.\r\n\r\nSo, as often, you have to code totally different for different versions of `apache poi`. There is no backwards compatibility, even it was probably tried here.\r\n","title":"Apache POI: Changes applied to the wrong slide","body":"<p>Since <code>apache poi 4</code> the apache developers decided using <code>org.apache.poi.xddf.usermodel.text.*</code> for text paragraphs and text runs also in <code>XSLF</code>. Up to <code>apache poi 3.17</code> <code>XSLF</code> had have it's own classes for text paragraphs and text runs. Those are further present (maybe for backwards compatibility) but in versions greater than <code>apache po 3.17</code> they are using the wrong text body when text shapes are copied from other slides. I have not found where exactly this happens but the following shows that it is true.</p>\n<p>Complete example:</p>\n<pre><code>import java.io.FileOutputStream;\nimport java.io.FileInputStream;\n\nimport org.apache.poi.xslf.usermodel.*;\nimport org.apache.poi.sl.usermodel.*;\n\nimport java.util.*;\nimport java.util.stream.*;\n\npublic class PPTXCCopyTemplateSlideAndChange {\n    \n static final int SLIDE_INDEX_TEMPLATE = 0;\n    \n public static void main(String[] args) throws Exception {\n\n  XMLSlideShow slideShow = new XMLSlideShow(new FileInputStream(&quot;./PPTXIn.pptx&quot;));\n\n  XSLFSlide template = slideShow.getSlides().get(SLIDE_INDEX_TEMPLATE);\n\n  XSLFSlide newSlide = slideShow.createSlide(template.getSlideLayout());\n  newSlide = newSlide.importContent(template);\n\n  for (XSLFShape shape: newSlide) {\n\n   if (shape instanceof XSLFTextShape) {\n    XSLFTextShape textShape = (XSLFTextShape) shape;\n    \n    //textShape.setText(&quot;Replaced!&quot;); // this would work using apache poi 3.17 as well as using apache poi 5.2.2\n    \n/*  this works using apache poi 3.17 only but uses the wrong text body in version 5  \n    List&lt;XSLFTextParagraph&gt; textBoxParagraphs = textShape.getTextParagraphs();\n    List&lt;XSLFTextRun&gt; textBoxParagraphTextRuns = textBoxParagraphs.stream().map(XSLFTextParagraph::getTextRuns).flatMap(List::stream).collect(Collectors.toList());\n    for (XSLFTextRun r : textBoxParagraphTextRuns) {\n     r.setText(&quot;Replaced!&quot;);\n    }\n*/\n\n///*  this works using apache poi 5.2.2 only but cannot work using version 3.17 because of usage of org.apache.poi.xddf.usermodel.text.*\n    List&lt;org.apache.poi.xddf.usermodel.text.XDDFTextParagraph&gt; textBoxParagraphs = textShape.getTextBody().getParagraphs();\n    List&lt;org.apache.poi.xddf.usermodel.text.XDDFTextRun&gt; textBoxParagraphTextRuns = textBoxParagraphs.stream().map(org.apache.poi.xddf.usermodel.text.XDDFTextParagraph::getTextRuns).flatMap(List::stream).collect(Collectors.toList());\n    for (org.apache.poi.xddf.usermodel.text.XDDFTextRun r : textBoxParagraphTextRuns) {\n     r.setText(&quot;Replaced!&quot;);\n    }\n//*/\n\n   }\n  }\n  \n  FileOutputStream out = new FileOutputStream(&quot;./PPTXOut.pptx&quot;);\n  slideShow.write(out);\n  out.close();\n }\n}\n</code></pre>\n<p>Here <code>textShape.setText(&quot;Replaced!&quot;);</code> works using <code>apache poi 3.17</code> as well as using <code>apache poi 5.2.2</code> as <code>XSLFTextShape.setText</code> uses the underlying <code>CTTextBody</code> directly even in version 5. But of course using that you have no control over the different text runs.</p>\n<p><code>List&lt;XSLFTextParagraph&gt; textBoxParagraphs = textShape.getTextParagraphs();</code> works using <code>apache poi 3.17</code> only but uses the wrong text body in version 5. Maybe because <code>XSLFAutoShape.getTextBody(boolean create)</code> also uses <code>org.apache.poi.xddf.usermodel.text.XDDFTextBody</code> instead of only using the underlying <code>CTTextBody</code> directly. But not really sure.</p>\n<p><code>List&lt;org.apache.poi.xddf.usermodel.text.XDDFTextParagraph&gt; textBoxParagraphs = textShape.getTextBody().getParagraphs();</code> works using <code>apache poi 5.2.2</code> only but cannot work using version 3.17 because of usage of <code>org.apache.poi.xddf.usermodel.text.*</code> which is not known in version 3.17.</p>\n<p>So, as often, you have to code totally different for different versions of <code>apache poi</code>. There is no backwards compatibility, even it was probably tried here.</p>\n"}],"owner":{"account_id":1488223,"reputation":25,"user_id":1395978,"display_name":"Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72017774,"answer_count":1,"score":0,"last_activity_date":1651046193,"creation_date":1650988800,"question_id":72017058,"body_markdown":"I have a very weird behavior when upgrading from *Apache POI 3.17* to *5.x*.\r\n\r\nWith the new *Apache POI* version, the text replacement is done on the wrong slides. It modifies the original template slide instead of doing the modification on the copied one.\r\n\r\nI use an existing presentation which has a template slide. This template slide is copied, and then certain text is replaced. This worked perfectly with the old version.\r\n\r\nHere the code I use for creating the copy of the template slide:\r\n\r\n```\r\nSlideShow slides = new XMLSlideShow(inputStream);\r\nXSLFSlide template = slides.getSlides().get(SLIDE_INDEX_TEMPLATE);\r\n\r\nXSLFSlide newSlide = slides.createSlide(template.getSlideLayout());\r\nnewSlide.importContent(template);\r\n```\r\n\r\nAnd here is the simplified version of the text replacement:\r\n```\r\nfor (XSLFShape shape: slide) {\r\n    if (shape instanceof XSLFTextShape) {\r\n        XSLFTextShape textShape = (XSLFTextShape) shape;\r\n        List&lt;XSLFTextParagraph&gt; textBoxParagraphs = textShape.getTextParagraphs();\r\n        List&lt;XSLFTextRun&gt; textBoxParagraphTextRuns = textBoxParagraphs.stream().map(XSLFTextParagraph::getTextRuns).flatMap(List::stream).collect(Collectors.toList());\r\n        for (XSLFTextRun r : textBoxParagraphTextRuns) {\r\n            r.setText(&quot;Replaced!&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nAny idea what I did wrong or any changes in *Apache POI* which could have broken this? ","title":"Apache POI: Changes applied to the wrong slide","body":"<p>I have a very weird behavior when upgrading from <em>Apache POI 3.17</em> to <em>5.x</em>.</p>\n<p>With the new <em>Apache POI</em> version, the text replacement is done on the wrong slides. It modifies the original template slide instead of doing the modification on the copied one.</p>\n<p>I use an existing presentation which has a template slide. This template slide is copied, and then certain text is replaced. This worked perfectly with the old version.</p>\n<p>Here the code I use for creating the copy of the template slide:</p>\n<pre><code>SlideShow slides = new XMLSlideShow(inputStream);\nXSLFSlide template = slides.getSlides().get(SLIDE_INDEX_TEMPLATE);\n\nXSLFSlide newSlide = slides.createSlide(template.getSlideLayout());\nnewSlide.importContent(template);\n</code></pre>\n<p>And here is the simplified version of the text replacement:</p>\n<pre><code>for (XSLFShape shape: slide) {\n    if (shape instanceof XSLFTextShape) {\n        XSLFTextShape textShape = (XSLFTextShape) shape;\n        List&lt;XSLFTextParagraph&gt; textBoxParagraphs = textShape.getTextParagraphs();\n        List&lt;XSLFTextRun&gt; textBoxParagraphTextRuns = textBoxParagraphs.stream().map(XSLFTextParagraph::getTextRuns).flatMap(List::stream).collect(Collectors.toList());\n        for (XSLFTextRun r : textBoxParagraphTextRuns) {\n            r.setText(&quot;Replaced!&quot;);\n        }\n    }\n}\n\n</code></pre>\n<p>Any idea what I did wrong or any changes in <em>Apache POI</em> which could have broken this?</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":1781971,"reputation":1210,"user_id":1624454,"accept_rate":67,"display_name":"Praveen Tiwari"},"score":0,"creation_date":1650963760,"post_id":72010767,"comment_id":127242377,"body_markdown":"Looks like you&#39;re missing dependency &#39;selenium-api&#39;","body":"Looks like you&#39;re missing dependency &#39;selenium-api&#39;"},{"owner":{"account_id":25099091,"reputation":13,"user_id":18949985,"display_name":"Adam"},"score":0,"creation_date":1650965681,"post_id":72010767,"comment_id":127243080,"body_markdown":"No, I have integrated it and it is &#39;selenium-api-4.1.3.jar&#39; and also the sources file. I have integrated everything that was in the zip file that I downloaded from the selenium website : https://www.selenium.dev/downloads/\n\nI took the Java zip file in &#39;Selenium Clients and WebDriver Language Bindings&#39; section.","body":"No, I have integrated it and it is &#39;selenium-api-4.1.3.jar&#39; and also the sources file. I have integrated everything that was in the zip file that I downloaded from the selenium website : <a href=\"https://www.selenium.dev/downloads/\" rel=\"nofollow noreferrer\">selenium.dev/downloads</a>  I took the Java zip file in &#39;Selenium Clients and WebDriver Language Bindings&#39; section."},{"owner":{"account_id":1781971,"reputation":1210,"user_id":1624454,"accept_rate":67,"display_name":"Praveen Tiwari"},"score":0,"creation_date":1650970181,"post_id":72010767,"comment_id":127244726,"body_markdown":"Not sure then but you could try `mvn clean`, and then `mvn compile` to see if classes in that jar loads up. Also try to rebuild the project in the IDE.","body":"Not sure then but you could try <code>mvn clean</code>, and then <code>mvn compile</code> to see if classes in that jar loads up. Also try to rebuild the project in the IDE."},{"owner":{"account_id":25099091,"reputation":13,"user_id":18949985,"display_name":"Adam"},"score":0,"creation_date":1650978175,"post_id":72010767,"comment_id":127247878,"body_markdown":"It&#39;s a Java project and I can&#39;t convert into a Maven project I really don&#39;t know why... But thanks for your propositions, I try your idea anyway!","body":"It&#39;s a Java project and I can&#39;t convert into a Maven project I really don&#39;t know why... But thanks for your propositions, I try your idea anyway!"}],"answers":[{"tags":[],"owner":{"account_id":6849920,"reputation":135,"user_id":5267377,"display_name":"ToxicWaste"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650966583,"creation_date":1650966583,"answer_id":72011840,"question_id":72010767,"body_markdown":"You probably only added the following JARS:\r\n* selenium-api-4.1.3.jar\r\n* selenium-chrome-driver-4.1.3.jar\r\n* (all in &#39;lib&#39;)\r\n\r\n`ChromeDriver` inherits from `ChromiumDriver` which again inherits from `RemoteWebDriver` who finally implements `WebDriver`. Since you did not provide these links, the compiler cant know that `ChromeDriver` implements `WebDriver`.\r\n\r\nYou at least need to add these external JARS:\r\n* selenium-api-4.1.3\r\n* selenium-remote-driver-4.1.3\r\n* selenium-chromium-driver-4.1.3\r\n* selenium-chrome-driver-4.1.3\r\n* (all in the folder &#39;lib&#39;)\r\n\r\nNote: you might want to add the xxx-sources.jar too. It is not necessary but you can attach it to the compiled classes to see actual code instead of the weird representation eclipse provides in the &quot;Class File Editor&quot;.\r\n\r\nYou can also add all jar files from the downloaded ZIP to prevent similar errors in the future. Or my preferred way: Look into Maven (https://www.vogella.com/tutorials/EclipseMaven/article.html). It manages dependencies for you, is pretty easy to use and you can update your libraries much easier. You seem to be a new programmer and I know it can look intimidating to get to know all these tools, but Maven will make your life quite a bit easier.","title":"Selenium Java 4.1.3 java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver","body":"<p>You probably only added the following JARS:</p>\n<ul>\n<li>selenium-api-4.1.3.jar</li>\n<li>selenium-chrome-driver-4.1.3.jar</li>\n<li>(all in 'lib')</li>\n</ul>\n<p><code>ChromeDriver</code> inherits from <code>ChromiumDriver</code> which again inherits from <code>RemoteWebDriver</code> who finally implements <code>WebDriver</code>. Since you did not provide these links, the compiler cant know that <code>ChromeDriver</code> implements <code>WebDriver</code>.</p>\n<p>You at least need to add these external JARS:</p>\n<ul>\n<li>selenium-api-4.1.3</li>\n<li>selenium-remote-driver-4.1.3</li>\n<li>selenium-chromium-driver-4.1.3</li>\n<li>selenium-chrome-driver-4.1.3</li>\n<li>(all in the folder 'lib')</li>\n</ul>\n<p>Note: you might want to add the xxx-sources.jar too. It is not necessary but you can attach it to the compiled classes to see actual code instead of the weird representation eclipse provides in the &quot;Class File Editor&quot;.</p>\n<p>You can also add all jar files from the downloaded ZIP to prevent similar errors in the future. Or my preferred way: Look into Maven (<a href=\"https://www.vogella.com/tutorials/EclipseMaven/article.html\" rel=\"nofollow noreferrer\">https://www.vogella.com/tutorials/EclipseMaven/article.html</a>). It manages dependencies for you, is pretty easy to use and you can update your libraries much easier. You seem to be a new programmer and I know it can look intimidating to get to know all these tools, but Maven will make your life quite a bit easier.</p>\n"},{"tags":[],"owner":{"account_id":25099091,"reputation":13,"user_id":18949985,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651046031,"creation_date":1651046031,"answer_id":72025165,"question_id":72010767,"body_markdown":"So for those who will have the same issues:\r\n\r\nI added all external JARs from the Java Selenium zip file in **classpath** not in **modulepath**.\r\n\r\n[Picture of Java Build Path to add dependencies][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3OaEh.png\r\n\r\nAfter that, I got as error : `SLF4J:Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder`. \r\n\r\nTo solve this error, I checked if I had **slf4j-api-1.7.36.jar** file and I added **slf4j-simple-1.7.36.jar**. I downloaded it from https://repo1.maven.org/maven2/org/slf4j/slf4j-simple/1.7.36/slf4j-simple-1.7.36.jar\r\n\r\nAnd finally, my last issue was the driver I was using, it was not the right version compared to the browser version.","title":"Selenium Java 4.1.3 java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver","body":"<p>So for those who will have the same issues:</p>\n<p>I added all external JARs from the Java Selenium zip file in <strong>classpath</strong> not in <strong>modulepath</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/3OaEh.png\" rel=\"nofollow noreferrer\">Picture of Java Build Path to add dependencies</a></p>\n<p>After that, I got as error : <code>SLF4J:Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder</code>.</p>\n<p>To solve this error, I checked if I had <strong>slf4j-api-1.7.36.jar</strong> file and I added <strong>slf4j-simple-1.7.36.jar</strong>. I downloaded it from <a href=\"https://repo1.maven.org/maven2/org/slf4j/slf4j-simple/1.7.36/slf4j-simple-1.7.36.jar\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/slf4j/slf4j-simple/1.7.36/slf4j-simple-1.7.36.jar</a></p>\n<p>And finally, my last issue was the driver I was using, it was not the right version compared to the browser version.</p>\n"}],"owner":{"account_id":25099091,"reputation":13,"user_id":18949985,"display_name":"Adam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11090,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72011840,"answer_count":2,"score":1,"last_activity_date":1651046031,"creation_date":1650961909,"question_id":72010767,"body_markdown":"I followed this tutorial https://www.javatpoint.com/selenium-webdriver-installation but I have a problem with the WebDriver class : \r\n\r\n    Error: Unable to initialize main class First\r\n    Caused by: java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver\r\n\r\nI&#39;ve put the dependencies as shown in the tutorial. And if I trust the documentation of Selnium API, the WebDriver class is present in the 4.1.3 version.\r\n\r\nI don&#39;t know if it&#39;s because the 4.1.3 version don&#39;t have the `client-combiden-3.13.0.jar` file or something like that... So if you have a solution, I&#39;m in.\r\n\r\nI&#39;m on Windows 10, and I use Eclipse IDE version 2021-06 (4.20.0).\r\n\r\nAnd this is my class First :\r\n\r\n    import org.openqa.selenium.By;  \r\n    import org.openqa.selenium.WebDriver;  \r\n    import org.openqa.selenium.chrome.ChromeDriver;  \r\n    \r\n    public class First {  \r\n      \r\n        public static void main(String[] args) {\r\n    \r\n        // declaration and instantiation of objects/variables  \r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/root/drivers/chromedriver.exe&quot;);  \r\n        WebDriver driver = new ChromeDriver();  \r\n    \r\n        // Launch website\r\n        driver.navigate().to(&quot;http://www.google.com/&quot;);  \r\n    \r\n        // Click on the search text box and send value  \r\n        driver.findElement(By.id(&quot;lst-ib&quot;)).sendKeys(&quot;javatpoint tutorials&quot;);  \r\n     \r\n        // Click on the search button  \r\n        driver.findElement(By.name(&quot;btnK&quot;)).click();  \r\n    \r\n        }\r\n    }\r\n\r\nThank you for your help!","title":"Selenium Java 4.1.3 java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver","body":"<p>I followed this tutorial <a href=\"https://www.javatpoint.com/selenium-webdriver-installation\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/selenium-webdriver-installation</a> but I have a problem with the WebDriver class :</p>\n<pre><code>Error: Unable to initialize main class First\nCaused by: java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver\n</code></pre>\n<p>I've put the dependencies as shown in the tutorial. And if I trust the documentation of Selnium API, the WebDriver class is present in the 4.1.3 version.</p>\n<p>I don't know if it's because the 4.1.3 version don't have the <code>client-combiden-3.13.0.jar</code> file or something like that... So if you have a solution, I'm in.</p>\n<p>I'm on Windows 10, and I use Eclipse IDE version 2021-06 (4.20.0).</p>\n<p>And this is my class First :</p>\n<pre><code>import org.openqa.selenium.By;  \nimport org.openqa.selenium.WebDriver;  \nimport org.openqa.selenium.chrome.ChromeDriver;  \n\npublic class First {  \n  \n    public static void main(String[] args) {\n\n    // declaration and instantiation of objects/variables  \n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/root/drivers/chromedriver.exe&quot;);  \n    WebDriver driver = new ChromeDriver();  \n\n    // Launch website\n    driver.navigate().to(&quot;http://www.google.com/&quot;);  \n\n    // Click on the search text box and send value  \n    driver.findElement(By.id(&quot;lst-ib&quot;)).sendKeys(&quot;javatpoint tutorials&quot;);  \n \n    // Click on the search button  \n    driver.findElement(By.name(&quot;btnK&quot;)).click();  \n\n    }\n}\n</code></pre>\n<p>Thank you for your help!</p>\n"},{"tags":["java","server","udp","netty","shutdown"],"answers":[{"tags":[],"owner":{"account_id":5304870,"reputation":321,"user_id":4233190,"display_name":"Ingrim4"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540239627,"creation_date":1540239627,"answer_id":52937204,"question_id":52926129,"body_markdown":"First things first, I&#39;m assuming you use this [git repo][1] which by the way is pretty poorly written. Furthermore I would recommend to not use it since UDP isn&#39;t intended to be used in a server/client model and all that repo does is *manage* your UDP channels which are not existent since UDP is connectionless. All it really does is to store a fake channel instance which in its core is just a `InetAddress`. What you could do instead is to use a normal thread safe `List` or somesorte of Storage for the different `InetAddress` you wanna cache and just use this.\r\n\r\nBut if you really need to use this repo you need to stop the `ServerChannel` instance since the `UdpServerChannel` starts a new eventloop which isn&#39;t exposed to the outside and can only be stopped when closing the channel. (This is another reason you shouldn&#39;t use it, it&#39;s wasteful to open multiple `EventLoopGroups ` for the same thing)\r\n\r\n\r\n  [1]: https://github.com/Shevchik/UdpServerSocketChannel","title":"Netty shutdown/Stop UDP server","body":"<p>First things first, I'm assuming you use this <a href=\"https://github.com/Shevchik/UdpServerSocketChannel\" rel=\"nofollow noreferrer\">git repo</a> which by the way is pretty poorly written. Furthermore I would recommend to not use it since UDP isn't intended to be used in a server/client model and all that repo does is <em>manage</em> your UDP channels which are not existent since UDP is connectionless. All it really does is to store a fake channel instance which in its core is just a <code>InetAddress</code>. What you could do instead is to use a normal thread safe <code>List</code> or somesorte of Storage for the different <code>InetAddress</code> you wanna cache and just use this.</p>\n\n<p>But if you really need to use this repo you need to stop the <code>ServerChannel</code> instance since the <code>UdpServerChannel</code> starts a new eventloop which isn't exposed to the outside and can only be stopped when closing the channel. (This is another reason you shouldn't use it, it's wasteful to open multiple <code>EventLoopGroups</code> for the same thing)</p>\n"},{"tags":[],"owner":{"account_id":14413906,"reputation":57,"user_id":10411860,"display_name":"MINIKAS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540280433,"creation_date":1540280433,"answer_id":52943628,"question_id":52926129,"body_markdown":"I guess I founded another way to solve this. \r\nA solution to my problem, It&#39;s not *PERFECT* but it does what I want.\r\n\r\n        \r\n    public class UdpServer {\r\n\r\n    private int port;\r\n    private UDPViewModel viewModel;\r\n    private final EventLoopGroup nioEventLoopGroup;\r\n    private ChannelFuture channelFuture;\r\n\r\n    public UdpServer(UDPViewModel viewModel, int port) {\r\n       this.port = port;\r\n       this.viewModel = viewModel;\r\n        nioEventLoopGroup = new NioEventLoopGroup();\r\n    }\r\n\r\n    public void run() {\r\n        System.out.println(&quot;UDP Server is starting.&quot;);\r\n        try{\r\n            Bootstrap bootstrap = new Bootstrap();\r\n            bootstrap.group(nioEventLoopGroup)\r\n                    .channel(NioDatagramChannel.class)\r\n                    .handler(new ChannelInitializer&lt;Channel&gt;() {\r\n                        @Override\r\n                        protected void initChannel(Channel channel) {\r\n                            channel.pipeline().addLast(\r\n                                    new LoggingHandler(LogLevel.INFO),\r\n                                    new StringEncoder(), new StringDecoder());\r\n                            channel.pipeline().addLast(\r\n                                    new UdpServerHandler(viewModel));\r\n                        }\r\n                    });\r\n            channelFuture = bootstrap.bind(port).sync();\r\n\r\n        }\r\n        catch (InterruptedException e) {\r\n            System.err.println(&quot;UDP listener was interrupted and shutted down&quot;);\r\n            e.getCause();\r\n        }\r\n    }\r\n\r\n    public void StopServer()\r\n    {\r\n        try {\r\n            nioEventLoopGroup.shutdownGracefully().sync();\r\n            channelFuture.channel().closeFuture().sync();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    }\r\n\r\n","title":"Netty shutdown/Stop UDP server","body":"<p>I guess I founded another way to solve this. \nA solution to my problem, It's not <em>PERFECT</em> but it does what I want.</p>\n\n<pre><code>public class UdpServer {\n\nprivate int port;\nprivate UDPViewModel viewModel;\nprivate final EventLoopGroup nioEventLoopGroup;\nprivate ChannelFuture channelFuture;\n\npublic UdpServer(UDPViewModel viewModel, int port) {\n   this.port = port;\n   this.viewModel = viewModel;\n    nioEventLoopGroup = new NioEventLoopGroup();\n}\n\npublic void run() {\n    System.out.println(\"UDP Server is starting.\");\n    try{\n        Bootstrap bootstrap = new Bootstrap();\n        bootstrap.group(nioEventLoopGroup)\n                .channel(NioDatagramChannel.class)\n                .handler(new ChannelInitializer&lt;Channel&gt;() {\n                    @Override\n                    protected void initChannel(Channel channel) {\n                        channel.pipeline().addLast(\n                                new LoggingHandler(LogLevel.INFO),\n                                new StringEncoder(), new StringDecoder());\n                        channel.pipeline().addLast(\n                                new UdpServerHandler(viewModel));\n                    }\n                });\n        channelFuture = bootstrap.bind(port).sync();\n\n    }\n    catch (InterruptedException e) {\n        System.err.println(\"UDP listener was interrupted and shutted down\");\n        e.getCause();\n    }\n}\n\npublic void StopServer()\n{\n    try {\n        nioEventLoopGroup.shutdownGracefully().sync();\n        channelFuture.channel().closeFuture().sync();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10295783,"reputation":1,"user_id":7595997,"display_name":"zhao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651045938,"creation_date":1651045938,"answer_id":72025146,"question_id":52926129,"body_markdown":"close it in the UdpServerHandler\r\n\r\nnotice\r\n\r\n    public void channelRead0(ChannelHandlerContext ctx, DatagramPacket packet)\r\n\r\ncall `ctx.close()`","title":"Netty shutdown/Stop UDP server","body":"<p>close it in the UdpServerHandler</p>\n<p>notice</p>\n<pre><code>public void channelRead0(ChannelHandlerContext ctx, DatagramPacket packet)\n</code></pre>\n<p>call <code>ctx.close()</code></p>\n"}],"owner":{"account_id":14413906,"reputation":57,"user_id":10411860,"display_name":"MINIKAS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":724,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1651045938,"creation_date":1540200457,"question_id":52926129,"body_markdown":"I&#39;m trying to create Netty UDP listener. The problem I faced is that I can&#39;t stop udp server like tcp, the udp always is running, even with shutdowngracefully called, the only way to stop it is by throwing exception.\r\n\r\n    private int port;\r\n    private UDPViewModel viewModel;\r\n    private DefaultEventLoopGroup defaultEventLoopGroup;\r\n\r\n    public UdpServer(UDPViewModel viewModel, int port) {\r\n       this.port = port;\r\n       this.viewModel = viewModel;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        defaultEventLoopGroup = new DefaultEventLoopGroup();\r\n        try {\r\n\r\n            ServerBootstrap bootstrap = new ServerBootstrap()\r\n                    .channel(UdpServerChannel.class)\r\n                    .group(defaultEventLoopGroup)\r\n                    .childHandler(new ChannelInitializer&lt;Channel&gt;() {\r\n                        @Override\r\n                        protected void initChannel(Channel channel) {\r\n                            channel.pipeline()\r\n                                    .addLast(new ReadTimeoutHandler(5))\r\n                                    .addLast(new UdpServerHandler(viewModel));\r\n                        }\r\n                    });\r\n            bootstrap.bind(port).sync().channel().closeFuture().syncUninterruptibly().await();\r\n\r\n            System.out.println(&quot;UDP Server : [successfully started]&quot;);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            defaultEventLoopGroup.shutdownGracefully();\r\n        }\r\n    }\r\n\r\nAnyone has any ideas on how to shutdown netty udp server properly ?","title":"Netty shutdown/Stop UDP server","body":"<p>I'm trying to create Netty UDP listener. The problem I faced is that I can't stop udp server like tcp, the udp always is running, even with shutdowngracefully called, the only way to stop it is by throwing exception.</p>\n\n<pre><code>private int port;\nprivate UDPViewModel viewModel;\nprivate DefaultEventLoopGroup defaultEventLoopGroup;\n\npublic UdpServer(UDPViewModel viewModel, int port) {\n   this.port = port;\n   this.viewModel = viewModel;\n}\n\n@Override\npublic void run() {\n    defaultEventLoopGroup = new DefaultEventLoopGroup();\n    try {\n\n        ServerBootstrap bootstrap = new ServerBootstrap()\n                .channel(UdpServerChannel.class)\n                .group(defaultEventLoopGroup)\n                .childHandler(new ChannelInitializer&lt;Channel&gt;() {\n                    @Override\n                    protected void initChannel(Channel channel) {\n                        channel.pipeline()\n                                .addLast(new ReadTimeoutHandler(5))\n                                .addLast(new UdpServerHandler(viewModel));\n                    }\n                });\n        bootstrap.bind(port).sync().channel().closeFuture().syncUninterruptibly().await();\n\n        System.out.println(\"UDP Server : [successfully started]\");\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    } finally {\n        defaultEventLoopGroup.shutdownGracefully();\n    }\n}\n</code></pre>\n\n<p>Anyone has any ideas on how to shutdown netty udp server properly ?</p>\n"},{"tags":["java","applet","smartcard","javacard","smartcardio"],"answers":[{"tags":[],"owner":{"account_id":1540730,"reputation":5168,"user_id":1435475,"accept_rate":75,"display_name":"guidot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651045862,"creation_date":1651045121,"answer_id":72024973,"question_id":72016760,"body_markdown":"61xx is not an error, but a warning, see ISO 7816, part 4, section 5.6. Warnings are less severe and still keep their response data (which are discarded for errors).\r\n\r\nThere 61xx is one of the easiest status codes (beyond 90 00), because the reaction is simple and clear: send a `Get Response` command with P3/LE set to the number indicated in SW2 (the xx part of 61xx). The main reason for the status is, that T=0 protocol is unable to send arbitrary many bytes (so it just sends 61xx) or more than 256 bytes in a response (in which case it sends the first chunk and an indication of how many bytes follow-up; if more than 255, only 255 can be shown and repeated Get Response commands are required getting the remaining chunks).","title":"Smart Card 61 xx Error - what exactly does this mean?","body":"<p>61xx is not an error, but a warning, see ISO 7816, part 4, section 5.6. Warnings are less severe and still keep their response data (which are discarded for errors).</p>\n<p>There 61xx is one of the easiest status codes (beyond 90 00), because the reaction is simple and clear: send a <code>Get Response</code> command with P3/LE set to the number indicated in SW2 (the xx part of 61xx). The main reason for the status is, that T=0 protocol is unable to send arbitrary many bytes (so it just sends 61xx) or more than 256 bytes in a response (in which case it sends the first chunk and an indication of how many bytes follow-up; if more than 255, only 255 can be shown and repeated Get Response commands are required getting the remaining chunks).</p>\n"}],"owner":{"account_id":20800286,"reputation":119,"user_id":15276480,"display_name":"LozCodes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72024973,"answer_count":1,"score":0,"last_activity_date":1651045862,"creation_date":1650987470,"question_id":72016760,"body_markdown":"I&#39;ve installed an applet I&#39;ve written onto a smartcard - but when sending commands to it, keep getting the 61 xx response. This doesn&#39;t happen when I run it in JCIDE, only when on an actual card. \r\n\r\nI understand that a response of 61 xx means &#39;response bytes remaining&#39; and that the xx is how many bytes of data are left - but I&#39;m not sure why this happens. Does the Le of the command APDU need to specify the number of bytes in response? Do I need do get the response somehow (and how do I do this)? or is there another reason I am getting this error?\r\n\r\nI have written other applets using the same code (see below) and not had this issue\r\n\r\n```\r\napdu.SetOutgoing();\r\napdu.setOutGoingLength(length);\r\napdu.sendByteslOng(buff, offset, length);\r\n```","title":"Smart Card 61 xx Error - what exactly does this mean?","body":"<p>I've installed an applet I've written onto a smartcard - but when sending commands to it, keep getting the 61 xx response. This doesn't happen when I run it in JCIDE, only when on an actual card.</p>\n<p>I understand that a response of 61 xx means 'response bytes remaining' and that the xx is how many bytes of data are left - but I'm not sure why this happens. Does the Le of the command APDU need to specify the number of bytes in response? Do I need do get the response somehow (and how do I do this)? or is there another reason I am getting this error?</p>\n<p>I have written other applets using the same code (see below) and not had this issue</p>\n<pre><code>apdu.SetOutgoing();\napdu.setOutGoingLength(length);\napdu.sendByteslOng(buff, offset, length);\n</code></pre>\n"},{"tags":["java","multithreading","resttemplate","executorservice"],"answers":[{"tags":[],"owner":{"account_id":10298913,"reputation":2491,"user_id":7598188,"accept_rate":43,"display_name":"Manish Bansal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1625378199,"creation_date":1625378199,"answer_id":68242114,"question_id":68241961,"body_markdown":"Theory 1 is correct.\r\n\r\nIf we talk in simpler terms, thread preemption is done at the kernel level rather than at the JVM level. Once JVM assigns a task to the thread, it can no longer controls it. Its the kernel (depending upon how it is configured) which can preempt the running thread and put it into a waiting state if a higher priority thread needs a CPU time. So the theory which says JVM preempts the waiting thread for the next task is not correct.\r\n\r\nBasically, the whole point of configuring a fixed thread pool of particular size is to put some limits on the usage of resources. Had it been the case like you mentioned in theory 2, you system will soon run OOM if each thread starts to go into indefinite waiting state due to one reason or another.","title":"Does a java thread come back to running state soon after it receives the response in wait state after making rest template call?","body":"<p>Theory 1 is correct.</p>\n<p>If we talk in simpler terms, thread preemption is done at the kernel level rather than at the JVM level. Once JVM assigns a task to the thread, it can no longer controls it. Its the kernel (depending upon how it is configured) which can preempt the running thread and put it into a waiting state if a higher priority thread needs a CPU time. So the theory which says JVM preempts the waiting thread for the next task is not correct.</p>\n<p>Basically, the whole point of configuring a fixed thread pool of particular size is to put some limits on the usage of resources. Had it been the case like you mentioned in theory 2, you system will soon run OOM if each thread starts to go into indefinite waiting state due to one reason or another.</p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625991674,"creation_date":1625990192,"answer_id":68334289,"question_id":68241961,"body_markdown":"Theory 1 is correct.  I&#39;ll explain it using Linux since that is most used and I&#39;m familiar with it.\r\n\r\n`\r\nAs external API call is an IO operation, the thread-pool thread executing it goes into &quot;blocked for IO completion&quot; or wait state till it receives the response from external API. \r\n`\r\n\r\nYes. The thread is marked as TASK_INTERRUPTABLE/TASK_UNINTERRIBLE and is removed from the run-queue of the scheduler and added to a wait-queue. Which is just a double linked list of nodes with the task waiting to be notified (e.g. for I/O)\r\n\r\n`\r\nAnd when it receives the response, the thread goes to &quot;ready to run&quot; state, waiting to run, at the mercy of the scheduler. \r\n`\r\n\r\nCorrect. So the task is removed from the wait-queue and reinserted back into run-queue of the scheduler. Linux makes use of the Completely Fair Scheduler and the run-queue isn&#39;t a traditional queue, but a red-black-tree and the key that is used is the time the the thread has spend running on the CPU (runtime). Tasks with little runtime end-up at the left-side of the tree and tasks which a large runtime, end up at the right-side. When a task is inserted when it was blocked, its runtime will be set to runtime of the left most task in tree to make sure that if a task was blocked for a long time, it will not be running for a long time. This also makes sure that the tasks will be next in line to get some CPU time.\r\n\r\nThe CPU running the task is periodically interrupted by a timer to check if the running task should be preempted. If that is the case, then:\r\n - The runtime of the task is incremented by the time it has spend on the CPU \r\n - Reinserted back into the tree \r\n - The next task (leftmost node) is taken from the tree and will start to run on the CPU.\r\n\r\nSo this is where we get a context switch. I won&#39;t bother you with the details for priority of tasks, but it also fits very nice into the picture.\r\n\r\n`Now, as the traffic was already so high, there were lot other threads already in &quot;ready to run state&quot; &amp; some of these threads, even after receiving the external API response, get the CPU time very late, and that is when the finishTime gets calculated. That means, even if the restTemplate call got the response within 3 sec, executing the Log.info line took time, coz of which the time diff log printed late.\r\n`\r\n\r\nIn the run queue (there is a run queue per core), there are a bunch of threads waiting to be executed. They will be in the TASK_RUNNING state. Each task will get a some runtime assigned to run based on:\r\n- the priority of the task\r\n- the number of other tasks pending\r\n- the priority of the other tasks.\r\n\r\nBy default the time to divide for all tasks in the run-queue is 24 ms. So if there are 4 tasks in the TASK_RUNNING state, then every task will get 6 ms on the CPU before it is preempted unless it blocks/yields/exits early. So normally, every 24ms, every task has an opportunity to run. I won&#39;t bother you with minimum runtime and when there are too many tasks on the run-queue.\r\n\r\nBecause it is unlikely that your tasks are CPU intensive, the scheduler should be pretty empty: most of the tasks are on a wait-queue; not on the run-queue of scheduler. So once a remote call completes, the scheduler should be able to process it very quickly to completion because there are no other tasks running. \r\n\r\nSo if the time to the remote service is constant, then having a bunch of threads (especially as few as you have), their execution-time should be roughly equal to the time to make the remote call since the scheduler is pretty idle. So IMHO it is unlikely that the scheduler that is causing the latencies to grow. \r\n\r\nPerhaps there is some queueing/contention, e.g. there is a connection pool that limits the number of rest connects that can be made. Or perhaps the remote service is causing increased latency because it is under load.","title":"Does a java thread come back to running state soon after it receives the response in wait state after making rest template call?","body":"<p>Theory 1 is correct.  I'll explain it using Linux since that is most used and I'm familiar with it.</p>\n<p><code>As external API call is an IO operation, the thread-pool thread executing it goes into &quot;blocked for IO completion&quot; or wait state till it receives the response from external API. </code></p>\n<p>Yes. The thread is marked as TASK_INTERRUPTABLE/TASK_UNINTERRIBLE and is removed from the run-queue of the scheduler and added to a wait-queue. Which is just a double linked list of nodes with the task waiting to be notified (e.g. for I/O)</p>\n<p><code>And when it receives the response, the thread goes to &quot;ready to run&quot; state, waiting to run, at the mercy of the scheduler. </code></p>\n<p>Correct. So the task is removed from the wait-queue and reinserted back into run-queue of the scheduler. Linux makes use of the Completely Fair Scheduler and the run-queue isn't a traditional queue, but a red-black-tree and the key that is used is the time the the thread has spend running on the CPU (runtime). Tasks with little runtime end-up at the left-side of the tree and tasks which a large runtime, end up at the right-side. When a task is inserted when it was blocked, its runtime will be set to runtime of the left most task in tree to make sure that if a task was blocked for a long time, it will not be running for a long time. This also makes sure that the tasks will be next in line to get some CPU time.</p>\n<p>The CPU running the task is periodically interrupted by a timer to check if the running task should be preempted. If that is the case, then:</p>\n<ul>\n<li>The runtime of the task is incremented by the time it has spend on the CPU</li>\n<li>Reinserted back into the tree</li>\n<li>The next task (leftmost node) is taken from the tree and will start to run on the CPU.</li>\n</ul>\n<p>So this is where we get a context switch. I won't bother you with the details for priority of tasks, but it also fits very nice into the picture.</p>\n<p><code>Now, as the traffic was already so high, there were lot other threads already in &quot;ready to run state&quot; &amp; some of these threads, even after receiving the external API response, get the CPU time very late, and that is when the finishTime gets calculated. That means, even if the restTemplate call got the response within 3 sec, executing the Log.info line took time, coz of which the time diff log printed late. </code></p>\n<p>In the run queue (there is a run queue per core), there are a bunch of threads waiting to be executed. They will be in the TASK_RUNNING state. Each task will get a some runtime assigned to run based on:</p>\n<ul>\n<li>the priority of the task</li>\n<li>the number of other tasks pending</li>\n<li>the priority of the other tasks.</li>\n</ul>\n<p>By default the time to divide for all tasks in the run-queue is 24 ms. So if there are 4 tasks in the TASK_RUNNING state, then every task will get 6 ms on the CPU before it is preempted unless it blocks/yields/exits early. So normally, every 24ms, every task has an opportunity to run. I won't bother you with minimum runtime and when there are too many tasks on the run-queue.</p>\n<p>Because it is unlikely that your tasks are CPU intensive, the scheduler should be pretty empty: most of the tasks are on a wait-queue; not on the run-queue of scheduler. So once a remote call completes, the scheduler should be able to process it very quickly to completion because there are no other tasks running.</p>\n<p>So if the time to the remote service is constant, then having a bunch of threads (especially as few as you have), their execution-time should be roughly equal to the time to make the remote call since the scheduler is pretty idle. So IMHO it is unlikely that the scheduler that is causing the latencies to grow.</p>\n<p>Perhaps there is some queueing/contention, e.g. there is a connection pool that limits the number of rest connects that can be made. Or perhaps the remote service is causing increased latency because it is under load.</p>\n"},{"tags":[],"owner":{"account_id":9573371,"reputation":95,"user_id":7110355,"display_name":"yingxuan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651045786,"creation_date":1651045786,"answer_id":72025121,"question_id":68241961,"body_markdown":"Just wanted to add this because I had the same problem and took 2 days to find out why. \r\n\r\nFor me it was because the default connection pool size per route was 5, so when there are more than 5 requests at the same time, the later requests will need to wait for connections leased by previous requests to be released before they can be processed. So it may seem like the later requests took longer than their timeouts but actually they were just waiting for connection to become available.\r\n\r\nRefer to https://stackoverflow.com/a/53985399/711035","title":"Does a java thread come back to running state soon after it receives the response in wait state after making rest template call?","body":"<p>Just wanted to add this because I had the same problem and took 2 days to find out why.</p>\n<p>For me it was because the default connection pool size per route was 5, so when there are more than 5 requests at the same time, the later requests will need to wait for connections leased by previous requests to be released before they can be processed. So it may seem like the later requests took longer than their timeouts but actually they were just waiting for connection to become available.</p>\n<p>Refer to <a href=\"https://stackoverflow.com/a/53985399/711035\">https://stackoverflow.com/a/53985399/711035</a></p>\n"}],"owner":{"account_id":8207518,"reputation":107,"user_id":6635219,"display_name":"Abhishek Sharma M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":746,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1651045786,"creation_date":1625376311,"question_id":68241961,"body_markdown":"I have a REST API service which makes an REST API to an external system using RestTemplate. Time out set is 3 sec.\r\n\r\nTo make this external call, I have an Executor service fixed thread pool created. Now, in normal testing everything works fine, even the time out set for the internal call. But when I do performance test of my system using jmeter, on one vm, having 4 cores, fixed thread pool size of 50, I start observing the below things.\r\n\r\n1. Before 30 req / sec throughput, everything works well.\r\n2. At 45 req / sec throughput, I observed increased latencies from the internal REST API call. Though the time out set was 3 sec, I observe 5 - 8 sec of latencies from the internal call. \r\n```\r\nInstant startTime = Instant.now();\r\nResponseEntity&lt;String&gt; responseEntity = restTemplate\r\n          .exchange(url, httpMethod, httpEntity, String.class);\r\nInstant finishTime = Instant.now();\r\nLog.info(&quot;Time diff is &quot; + String.valueOf(Duration.between(startTime, finishTime).toMillis()));\r\n```\r\n3. At 45 req / sec throughput, there was a delay at the point when the internal API call is made in a separate thread, looks like the system was waiting for the thread to be available in the pool.\r\n\r\nOn the 2nd point, wanted to understand how is this possible. Few theories that I have is,\r\n1. As external API call is an IO operation, the thread-pool thread executing it goes into &quot;blocked for IO completion&quot; or wait state till it receives the response from external API. And when it receives the response, the thread goes to &quot;ready to run&quot; state, waiting to run, at the mercy of the scheduler. Now, as the traffic was already so high, there were lot other threads already in &quot;ready to run state&quot; &amp; some of these threads, even after receiving the external API response, get the CPU time very late, and that is when the *finishTime* gets calculated. That means, even if the *restTemplate* call got the response within 3 sec, executing the *Log.info* line took time, coz of which the time diff log printed late.\r\n2. This theory I don&#39;t think is right, but I am just letting out my thoughts. Is it possible that when the thread makes that REST API IO call, and goes in wait state, as the demand for threads from pool is high, the thread is pre-empted from waiting state to cater to another request? and once the response is received from API call, another thread gets assigned to receive that request, assigning of this another thread might have taken time causing the increased latency.\r\n\r\nPlease let me know if my 1st theory is right, or if not what exactly happens in high throughput cases here that might have been causing more than timeout value latency for the external API call.","title":"Does a java thread come back to running state soon after it receives the response in wait state after making rest template call?","body":"<p>I have a REST API service which makes an REST API to an external system using RestTemplate. Time out set is 3 sec.</p>\n<p>To make this external call, I have an Executor service fixed thread pool created. Now, in normal testing everything works fine, even the time out set for the internal call. But when I do performance test of my system using jmeter, on one vm, having 4 cores, fixed thread pool size of 50, I start observing the below things.</p>\n<ol>\n<li>Before 30 req / sec throughput, everything works well.</li>\n<li>At 45 req / sec throughput, I observed increased latencies from the internal REST API call. Though the time out set was 3 sec, I observe 5 - 8 sec of latencies from the internal call.</li>\n</ol>\n<pre><code>Instant startTime = Instant.now();\nResponseEntity&lt;String&gt; responseEntity = restTemplate\n          .exchange(url, httpMethod, httpEntity, String.class);\nInstant finishTime = Instant.now();\nLog.info(&quot;Time diff is &quot; + String.valueOf(Duration.between(startTime, finishTime).toMillis()));\n</code></pre>\n<ol start=\"3\">\n<li>At 45 req / sec throughput, there was a delay at the point when the internal API call is made in a separate thread, looks like the system was waiting for the thread to be available in the pool.</li>\n</ol>\n<p>On the 2nd point, wanted to understand how is this possible. Few theories that I have is,</p>\n<ol>\n<li>As external API call is an IO operation, the thread-pool thread executing it goes into &quot;blocked for IO completion&quot; or wait state till it receives the response from external API. And when it receives the response, the thread goes to &quot;ready to run&quot; state, waiting to run, at the mercy of the scheduler. Now, as the traffic was already so high, there were lot other threads already in &quot;ready to run state&quot; &amp; some of these threads, even after receiving the external API response, get the CPU time very late, and that is when the <em>finishTime</em> gets calculated. That means, even if the <em>restTemplate</em> call got the response within 3 sec, executing the <em>Log.info</em> line took time, coz of which the time diff log printed late.</li>\n<li>This theory I don't think is right, but I am just letting out my thoughts. Is it possible that when the thread makes that REST API IO call, and goes in wait state, as the demand for threads from pool is high, the thread is pre-empted from waiting state to cater to another request? and once the response is received from API call, another thread gets assigned to receive that request, assigning of this another thread might have taken time causing the increased latency.</li>\n</ol>\n<p>Please let me know if my 1st theory is right, or if not what exactly happens in high throughput cases here that might have been causing more than timeout value latency for the external API call.</p>\n"},{"tags":["java","spring","spring-boot","java-8"],"comments":[{"owner":{"account_id":11147483,"reputation":1772,"user_id":8181750,"display_name":"L.Spillner"},"score":0,"creation_date":1650892529,"post_id":72000153,"comment_id":127223706,"body_markdown":"So basically for each entry in the list you want to retrieve the details by it&#39;s id?","body":"So basically for each entry in the list you want to retrieve the details by it&#39;s id?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1650892562,"post_id":72000153,"comment_id":127223717,"body_markdown":"&quot;But I want to write this in a better way using stream in java 8.&quot; why do you think it would be better? Which aspect you hope to improve?","body":"&quot;But I want to write this in a better way using stream in java 8.&quot; why do you think it would be better? Which aspect you hope to improve?"},{"owner":{"account_id":461096,"reputation":59403,"user_id":862594,"accept_rate":83,"display_name":"nickb"},"score":0,"creation_date":1650892730,"post_id":72000153,"comment_id":127223779,"body_markdown":"There&#39;s two lists in this code, `list` and `dataList`, are they the same, or at the very least, is `dataList.size() &gt;= list.size()` always true?","body":"There&#39;s two lists in this code, <code>list</code> and <code>dataList</code>, are they the same, or at the very least, is <code>dataList.size() &gt;= list.size()</code> always true?"},{"owner":{"account_id":25087139,"reputation":7,"user_id":18939211,"display_name":"Karin"},"score":0,"creation_date":1650892845,"post_id":72000153,"comment_id":127223816,"body_markdown":"@L.Spillner yes, I want to retrieve the Id from each index in the list so I can pass it as a parameter in the next method call","body":"@L.Spillner yes, I want to retrieve the Id from each index in the list so I can pass it as a parameter in the next method call"},{"owner":{"account_id":25087139,"reputation":7,"user_id":18939211,"display_name":"Karin"},"score":0,"creation_date":1650893192,"post_id":72000153,"comment_id":127223960,"body_markdown":"@Pshemo We are using java 8 for the development, so it would be better if I could use stream instead.","body":"@Pshemo We are using java 8 for the development, so it would be better if I could use stream instead."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1650893641,"post_id":72000153,"comment_id":127224176,"body_markdown":"What do you mean with iterate n times? There is only a single loop and its not even clear why you use an index based iteration instead of a plain `for(ElementType variableName: list) `","body":"What do you mean with iterate n times? There is only a single loop and its not even clear why you use an index based iteration instead of a plain <code>for(ElementType variableName: list) </code>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1650894748,"post_id":72000153,"comment_id":127224638,"body_markdown":"What does &quot;rest of the code&quot; do?   It is important to know, because the &quot;rest of the code&quot; will determine whether it is a good idea to use Java 8 streams here.","body":"What does &quot;rest of the code&quot; do?   It is important to know, because the &quot;rest of the code&quot; will determine whether it is a good idea to use Java 8 streams here."},{"owner":{"account_id":25087139,"reputation":7,"user_id":18939211,"display_name":"Karin"},"score":0,"creation_date":1650896337,"post_id":72000153,"comment_id":127225259,"body_markdown":"@StephenC updated the ques for clarity","body":"@StephenC updated the ques for clarity"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1650896802,"post_id":72000153,"comment_id":127225443,"body_markdown":"Based on your updates, I think that you will NOT make the code better by using Java 8+ streams.  Your existing version using a loop is just fine.   (Though a &quot;for each&quot; loop would be better.)","body":"Based on your updates, I think that you will NOT make the code better by using Java 8+ streams.  Your existing version using a loop is just fine.   (Though a &quot;for each&quot; loop would be better.)"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1650974059,"post_id":72000153,"comment_id":127246156,"body_markdown":"Since you only used `i` to redundantly evaluate `list.get(i)` twice, you could have used a for-each loop, e.g. `Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;(); for(ElementType o: list) map.put(o.getUser(), getDetail(o.getId()).getBody().getData());`. Since the lists element type is not recognizable from your posted code, you have to substitute `ElementType` for the actual list element type. But using a stream is also possible, `Map&lt;String, Integer&gt; map = list.stream() .collect(Collectors.toMap(o -&gt; o.getUser(), o -&gt; getDetail(o.getId()).getBody() .getData()));`","body":"Since you only used <code>i</code> to redundantly evaluate <code>list.get(i)</code> twice, you could have used a for-each loop, e.g. <code>Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;(); for(ElementType o: list) map.put(o.getUser(), getDetail(o.getId()).getBody().getData());</code>. Since the lists element type is not recognizable from your posted code, you have to substitute <code>ElementType</code> for the actual list element type. But using a stream is also possible, <code>Map&lt;String, Integer&gt; map = list.stream() .collect(Collectors.toMap(o -&gt; o.getUser(), o -&gt; getDetail(o.getId()).getBody() .getData()));</code>"}],"answers":[{"tags":[],"owner":{"account_id":11147483,"reputation":1772,"user_id":8181750,"display_name":"L.Spillner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650893411,"creation_date":1650893411,"answer_id":72000394,"question_id":72000153,"body_markdown":"There are multiple ways you could change your snippet here to use Java-8 Streams. \r\nHere an overview of a few straight out of my head.\r\n```\r\nList&lt;IDWrapper&gt; list = IntStream.range( 0, 20 ).mapToObj( IDWrapper::new ).collect( Collectors.toList() );\r\n    List&lt;String&gt; details = list.stream().map( IDWrapper::getId ).map( this::getDetails ).collect( Collectors.toList() );\r\n    List&lt;String&gt; details2 = list.stream().map( item -&gt; item.getId() ).map( id -&gt; getDetails( id ) ).collect( Collectors.toList() );\r\n    List&lt;String&gt; details3 = list.stream().map( item -&gt; getDetails( item.getId() ) ).collect( Collectors.toList() );\r\n```\r\n\r\nLet&#39;s break them down and explain their differences a bite more.\r\n\r\n1. \r\n```\r\nList&lt;String&gt; details = list.stream().map( IDWrapper::getId ).map( this::getDetails ).collect( Collectors.toList() );\r\n```\r\nThis one uses MethodReferences to pass the desired functions down the `Stream#map(Function)` method. It can be read as &#39;map the items, which are IDWrapper-Objects and do it by calling `IDWrapper#getId()` on every object and put the resulting items (integer values in this case) back into the stream&#39;. Afterwards  another call to `Stream#map(Function)` is done but this time the object to operate on is &#39;this&#39; (my dummy class i created for the example) and call the `#getDetails(int)` method on this class.\r\n\r\n2.\r\n```\r\nList&lt;String&gt; details2 = list.stream().map( item -&gt; item.getId() ).map( id -&gt; getDetails( id ) ).collect( Collectors.toList() );\r\n```\r\n\r\nThis one is quite simply equal to 1. but using usual lambda expression to achieve the same.\r\n\r\n3.\r\n```\r\nList&lt;String&gt; details3 = list.stream().map( item -&gt; getDetails( item.getId() ) ).collect( Collectors.toList() );\r\n```\r\nIn this case we&#39;re defining the function as a lamda and simply chaining the method class. \r\n\r\nAs mentioned before there are lots of other possibilities, but here are an education few. Hope I could help you understanding streams a little bit better.\r\n","title":"How to iterate n times using stream in java 8","body":"<p>There are multiple ways you could change your snippet here to use Java-8 Streams.\nHere an overview of a few straight out of my head.</p>\n<pre><code>List&lt;IDWrapper&gt; list = IntStream.range( 0, 20 ).mapToObj( IDWrapper::new ).collect( Collectors.toList() );\n    List&lt;String&gt; details = list.stream().map( IDWrapper::getId ).map( this::getDetails ).collect( Collectors.toList() );\n    List&lt;String&gt; details2 = list.stream().map( item -&gt; item.getId() ).map( id -&gt; getDetails( id ) ).collect( Collectors.toList() );\n    List&lt;String&gt; details3 = list.stream().map( item -&gt; getDetails( item.getId() ) ).collect( Collectors.toList() );\n</code></pre>\n<p>Let's break them down and explain their differences a bite more.</p>\n<p>1.</p>\n<pre><code>List&lt;String&gt; details = list.stream().map( IDWrapper::getId ).map( this::getDetails ).collect( Collectors.toList() );\n</code></pre>\n<p>This one uses MethodReferences to pass the desired functions down the <code>Stream#map(Function)</code> method. It can be read as 'map the items, which are IDWrapper-Objects and do it by calling <code>IDWrapper#getId()</code> on every object and put the resulting items (integer values in this case) back into the stream'. Afterwards  another call to <code>Stream#map(Function)</code> is done but this time the object to operate on is 'this' (my dummy class i created for the example) and call the <code>#getDetails(int)</code> method on this class.</p>\n<p>2.</p>\n<pre><code>List&lt;String&gt; details2 = list.stream().map( item -&gt; item.getId() ).map( id -&gt; getDetails( id ) ).collect( Collectors.toList() );\n</code></pre>\n<p>This one is quite simply equal to 1. but using usual lambda expression to achieve the same.</p>\n<p>3.</p>\n<pre><code>List&lt;String&gt; details3 = list.stream().map( item -&gt; getDetails( item.getId() ) ).collect( Collectors.toList() );\n</code></pre>\n<p>In this case we're defining the function as a lamda and simply chaining the method class.</p>\n<p>As mentioned before there are lots of other possibilities, but here are an education few. Hope I could help you understanding streams a little bit better.</p>\n"},{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651045337,"creation_date":1651045337,"answer_id":72025017,"question_id":72000153,"body_markdown":"Something like:\r\n\r\n    Map&lt;String,Integer&gt; m =\r\n        list.stream()\r\n            .collect(Collectors.toMap(e -&gt; e.getUser, // key extractor\r\n                                      e -&gt; getDetail(e.getId()).getBody().getData() // value extractor\r\n                                     )\r\n                    );    \r\n\r\n----EDIT----\r\n\r\nHo ho... This is exactly Holger&#39;s comment. Give credit where credit is due.","title":"How to iterate n times using stream in java 8","body":"<p>Something like:</p>\n<pre><code>Map&lt;String,Integer&gt; m =\n    list.stream()\n        .collect(Collectors.toMap(e -&gt; e.getUser, // key extractor\n                                  e -&gt; getDetail(e.getId()).getBody().getData() // value extractor\n                                 )\n                );    \n</code></pre>\n<p>----EDIT----</p>\n<p>Ho ho... This is exactly Holger's comment. Give credit where credit is due.</p>\n"}],"owner":{"account_id":25087139,"reputation":7,"user_id":18939211,"display_name":"Karin"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1146,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1651045337,"creation_date":1650892390,"question_id":72000153,"body_markdown":"Using the basic for-loop, I have written the following :\r\n\r\n    Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n    for (int i=0; i &lt; list.size(); i++) {\r\n          int id = list.get(i).getId();\r\n          ResponseEntity&lt;Response&gt; response = getDetail(id);  //some method call\r\n         Integer totalUser = response.getBody().getData();\r\n         map.put(list.get(i).getUser , totalUser);\r\n    }\r\n\r\n\r\n          \r\n\r\nBut I want to write this in a better way using stream in java 8.","title":"How to iterate n times using stream in java 8","body":"<p>Using the basic for-loop, I have written the following :</p>\n<pre><code>Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\nfor (int i=0; i &lt; list.size(); i++) {\n      int id = list.get(i).getId();\n      ResponseEntity&lt;Response&gt; response = getDetail(id);  //some method call\n     Integer totalUser = response.getBody().getData();\n     map.put(list.get(i).getUser , totalUser);\n}\n\n\n      \n</code></pre>\n<p>But I want to write this in a better way using stream in java 8.</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1651042528,"post_id":72024448,"comment_id":127264790,"body_markdown":"Notice that in the text of the problem the conditions are **nested**, that is it asks you to first consider the growth rate and then, *inside that condition*, so to speak, to consider the inflation. Can you think of any way to translate that structure into code?","body":"Notice that in the text of the problem the conditions are <b>nested</b>, that is it asks you to first consider the growth rate and then, <i>inside that condition</i>, so to speak, to consider the inflation. Can you think of any way to translate that structure into code?"}],"answers":[{"tags":[],"owner":{"display_name":"user1196549"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651042663,"creation_date":1651042663,"answer_id":72024520,"question_id":72024448,"body_markdown":"    if (the annual growth rate is less than 1%)\r\n    {\r\n      if (inflation is less than 3%)\r\n        Increase welfare spending, reduce personal taxes, and decrease discount rate.\r\n      else\r\n        Reduce business taxes.\r\n    }\r\n    else if (the annual growth rate is greater than 4%)\r\n    {\r\n      if (inflation is less than 1%)\r\n        Increase personal and business taxes, and decrease discount rate.\r\n      else if (inflation is greater than 3%)\r\n        Increase discount rate.\r\n    }\r\n    else\r\n      No change.","title":"Using if else statements for two separate arguments","body":"<pre><code>if (the annual growth rate is less than 1%)\n{\n  if (inflation is less than 3%)\n    Increase welfare spending, reduce personal taxes, and decrease discount rate.\n  else\n    Reduce business taxes.\n}\nelse if (the annual growth rate is greater than 4%)\n{\n  if (inflation is less than 1%)\n    Increase personal and business taxes, and decrease discount rate.\n  else if (inflation is greater than 3%)\n    Increase discount rate.\n}\nelse\n  No change.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12618629,"reputation":79,"user_id":9175075,"display_name":"Alexander Krum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651042928,"creation_date":1651042928,"answer_id":72024557,"question_id":72024448,"body_markdown":"Yeah they have to be nested\r\n\r\n```\r\nif(growthRate &lt; 0.01){\r\n  if(inflationValues &lt; 0.01){\r\n    System.out.println(&quot;Recommended policy: Increase welfare spending,reduce personal taxes, and decrease discount rate.&quot;);\r\n  }else{\r\n    System.out.println(&quot;Recommended policy: Reduce business taxes.&quot;);\r\n  }\r\n\r\n}else if(growthRate &lt; 0.01){\r\n  ...insert here the text conditions\r\n\r\n}else {\r\n   System.out.println(&quot;No change in economic policy.&quot;);\r\n}\r\n```","title":"Using if else statements for two separate arguments","body":"<p>Yeah they have to be nested</p>\n<pre><code>if(growthRate &lt; 0.01){\n  if(inflationValues &lt; 0.01){\n    System.out.println(&quot;Recommended policy: Increase welfare spending,reduce personal taxes, and decrease discount rate.&quot;);\n  }else{\n    System.out.println(&quot;Recommended policy: Reduce business taxes.&quot;);\n  }\n\n}else if(growthRate &lt; 0.01){\n  ...insert here the text conditions\n\n}else {\n   System.out.println(&quot;No change in economic policy.&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15836589,"reputation":821,"user_id":11426982,"display_name":"Moro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651044856,"creation_date":1651044856,"answer_id":72024916,"question_id":72024448,"body_markdown":"Welcome to StackOverflow, to answer your questions:\r\n\r\n 1. You either need to nest the first and third `else if` (as @Alexander Krum has mentioned) or make the condition more strict, i.e.\r\n\r\n    `growthRate &gt; 0.01 &amp;&amp; growthRate &lt; 0.04 &amp;&amp; inflationValues &gt; 0.03`\r\n 2. You can&#39;t comapre against percentages. Right now your code can work with `int` values simply by using numbers from 1-100 range. Then it would be something like this:\r\n\r\n    `growthRate &gt; 1 &amp;&amp; growthRate &lt; 4 &amp;&amp; inflationValues &gt; 3`\r\n\r\nIf for some reason you want to stick with doubles, try dividing the\r\n    input by 100.","title":"Using if else statements for two separate arguments","body":"<p>Welcome to StackOverflow, to answer your questions:</p>\n<ol>\n<li><p>You either need to nest the first and third <code>else if</code> (as @Alexander Krum has mentioned) or make the condition more strict, i.e.</p>\n<p><code>growthRate &gt; 0.01 &amp;&amp; growthRate &lt; 0.04 &amp;&amp; inflationValues &gt; 0.03</code></p>\n</li>\n<li><p>You can't comapre against percentages. Right now your code can work with <code>int</code> values simply by using numbers from 1-100 range. Then it would be something like this:</p>\n<p><code>growthRate &gt; 1 &amp;&amp; growthRate &lt; 4 &amp;&amp; inflationValues &gt; 3</code></p>\n</li>\n</ol>\n<p>If for some reason you want to stick with doubles, try dividing the\ninput by 100.</p>\n"}],"owner":{"account_id":24918830,"reputation":35,"user_id":18787396,"display_name":"TheStudentMans"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72024520,"answer_count":3,"score":0,"last_activity_date":1651044856,"creation_date":1651042269,"question_id":72024448,"body_markdown":"To start, I am new to Stack Overflow and also new to coding in general, please be gentle with me. \r\n\r\nI&#39;m trying to develop a program using Java that will return a specific statement if certain requirements are met by using and if, else if statement. I will post the code below:\r\n\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tdouble growthRate = 0; //annual economy growth rate\r\n\t\tdouble inflationValues = 0; //economy inflation\r\n\t\ttry (Scanner gRate = new Scanner (System.in)) { //annual growth rate input\r\n\t\t\ttry (Scanner infVal = new Scanner (System.in)) { //inflation value input\r\n\t\t\t\tSystem.out.println(&quot;Please enter the annual growth rate as a decimal: &quot;);\r\n\t\t\t\tgrowthRate = gRate.nextDouble();\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Please enter the inflation amount as a decimal: &quot;);\r\n\t\t\t\tinflationValues = infVal.nextDouble();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (growthRate &lt; 0.01 &amp;&amp; inflationValues &lt; 0.03)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Recommended policy: Increase welfare spending, reduce personal taxes, and decrease discount rate.&quot;);\r\n\t\t} \r\n\t\telse if (growthRate &gt; 0.01 &amp;&amp; inflationValues &gt; 0.03)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Recommended policy: Reduce business taxes.&quot;);\r\n\t\t}\r\n\t\telse if (growthRate &gt; 0.04 &amp;&amp; inflationValues &lt; 0.01)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Recommended policy: Increase personal and business taxes, and decrease discount rate.&quot;);\r\n\t\t}\r\n\t\telse if (growthRate &gt; 0.04 &amp;&amp; inflationValues &gt; 0.03)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Recommended policy: Increase discount rate.&quot;);\r\n\t\t}\r\n\t\telse \r\n\t\t{\r\n\t\tSystem.out.println(&quot;No change in economic policy.&quot;);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n\r\n**Issue 1:**\r\n\r\nThe first &#39;else if&#39; statement:\r\n\r\n    else if (growthRate &gt; 0.01 &amp;&amp; inflationValues &gt; 0.03)\r\n        {\r\n            System.out.println(&quot;Recommended policy: Reduce business taxes.&quot;);\r\n        }\r\ninterferes with the third &#39;else if&#39; statement:\r\n\r\n    else if (growthRate &gt; 0.04 &amp;&amp; inflationValues &gt; 0.03)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Recommended policy: Increase discount rate.&quot;);\r\n            }\r\nBy interferes I mean that when I try to run the program and input the conditions for the third &#39;else if&#39; statement, it prints the statement for the first &#39;else if&#39;. \r\n\r\nI&#39;m assuming it&#39;s because both statements have the condition of greater than, and I know the way I have the code laid out is incorrect because the second &#39;else if&#39; statement is supposed to only print if the &#39;if&#39; statement conditions are not met and then the program would just skip over that if the conditions for the next &#39;else if&#39; were met. \r\n\r\nI also tried having two separate instances of if statements (1 if, else if statement for the **a** conditions), where the &#39;else if&#39; was just &#39;else&#39; and had no conditions:\r\n\r\n            if (growthRate &lt; 0.01 &amp;&amp; inflationValues &lt; 0.03)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Recommended policy: Increase welfare spending, reduce personal taxes, and decrease discount rate.&quot;);\r\n    \t\t} \r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Recommended policy: Reduce business taxes.&quot;);\r\n            }\r\n\r\nand another for the **b** conditions, where the first &#39;else if&#39; was replaced by &#39;if&#39;:\r\n\r\n            if (growthRate &gt; 0.04 &amp;&amp; inflationValues &lt; 0.01)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Recommended policy: Increase personal and business taxes, and decrease discount rate.&quot;);\r\n    \t\t}\r\n    \t\telse if (growthRate &gt; 0.04 &amp;&amp; inflationValues &gt; 0.03)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Recommended policy: Increase discount rate.&quot;);\r\n    \t\t}\r\n    \t\telse \r\n    \t\t{\r\n    \t\tSystem.out.println(&quot;No change in economic policy.&quot;);\r\n    \t\t}\r\n\r\nbut that caused more issues than this current code. There is a huge possibility that I just messed up the code for that though. \r\n\r\nI&#39;ll post the question information below for more context because this might be confusing and I apologize.\r\n\r\n**a) If the annual growth rate is less than 1%:**\r\n\r\n If inflation is less than 3%, recommended economic policy is: Increase welfare spending, reduce personal taxes, and decrease discount rate.\r\n\r\nOtherwise, recommended economic policy is: Reduce business taxes.\r\n\r\n**b) If the annual growth rate is greater than 4%:**\r\n\r\nIf inflation is less than 1%, recommended economic policy is: Increase personal and business taxes, and decrease discount rate.\r\nIf inflation is greater than 3%, recommended economic policy is: Increase discount rate.\r\n\r\n**Issue 2:**\r\n\r\nThe final &#39;else&#39; statement doesn&#39;t print:\r\n\r\n    else \r\n    \t\t{\r\n    \t\tSystem.out.println(&quot;No change in economic policy.&quot;);\r\n    \t\t}\r\n\r\nThe second &#39;else if&#39; statement prints instead:\r\n\r\n    else if (growthRate &gt; 0.01 &amp;&amp; inflationValues &gt; 0.03)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Recommended policy: Reduce business taxes.&quot;);\r\n    \t\t}\r\n\r\nSo I&#39;m assuming, just like the first issue, it&#39;s due to the conflict in the conditions I have set in the second &#39;else if&#39;, but I&#39;m not really sure how to correct this.\r\n\r\nThank you for taking the time to read this. I look forward to any and all responses.\r\n\r\n(PS. if anyone knows how to incorporate numbers as percentages rather than decimals, please let me know)\r\n","title":"Using if else statements for two separate arguments","body":"<p>To start, I am new to Stack Overflow and also new to coding in general, please be gentle with me.</p>\n<p>I'm trying to develop a program using Java that will return a specific statement if certain requirements are met by using and if, else if statement. I will post the code below:</p>\n<pre><code>public static void main(String[] args) {\n    \n    double growthRate = 0; //annual economy growth rate\n    double inflationValues = 0; //economy inflation\n    try (Scanner gRate = new Scanner (System.in)) { //annual growth rate input\n        try (Scanner infVal = new Scanner (System.in)) { //inflation value input\n            System.out.println(&quot;Please enter the annual growth rate as a decimal: &quot;);\n            growthRate = gRate.nextDouble();\n            \n            System.out.println(&quot;Please enter the inflation amount as a decimal: &quot;);\n            inflationValues = infVal.nextDouble();\n        }\n    }\n    \n    if (growthRate &lt; 0.01 &amp;&amp; inflationValues &lt; 0.03)\n    {\n        System.out.println(&quot;Recommended policy: Increase welfare spending, reduce personal taxes, and decrease discount rate.&quot;);\n    } \n    else if (growthRate &gt; 0.01 &amp;&amp; inflationValues &gt; 0.03)\n    {\n        System.out.println(&quot;Recommended policy: Reduce business taxes.&quot;);\n    }\n    else if (growthRate &gt; 0.04 &amp;&amp; inflationValues &lt; 0.01)\n    {\n        System.out.println(&quot;Recommended policy: Increase personal and business taxes, and decrease discount rate.&quot;);\n    }\n    else if (growthRate &gt; 0.04 &amp;&amp; inflationValues &gt; 0.03)\n    {\n        System.out.println(&quot;Recommended policy: Increase discount rate.&quot;);\n    }\n    else \n    {\n    System.out.println(&quot;No change in economic policy.&quot;);\n    }\n}\n</code></pre>\n<p>}</p>\n<p><strong>Issue 1:</strong></p>\n<p>The first 'else if' statement:</p>\n<pre><code>else if (growthRate &gt; 0.01 &amp;&amp; inflationValues &gt; 0.03)\n    {\n        System.out.println(&quot;Recommended policy: Reduce business taxes.&quot;);\n    }\n</code></pre>\n<p>interferes with the third 'else if' statement:</p>\n<pre><code>else if (growthRate &gt; 0.04 &amp;&amp; inflationValues &gt; 0.03)\n        {\n            System.out.println(&quot;Recommended policy: Increase discount rate.&quot;);\n        }\n</code></pre>\n<p>By interferes I mean that when I try to run the program and input the conditions for the third 'else if' statement, it prints the statement for the first 'else if'.</p>\n<p>I'm assuming it's because both statements have the condition of greater than, and I know the way I have the code laid out is incorrect because the second 'else if' statement is supposed to only print if the 'if' statement conditions are not met and then the program would just skip over that if the conditions for the next 'else if' were met.</p>\n<p>I also tried having two separate instances of if statements (1 if, else if statement for the <strong>a</strong> conditions), where the 'else if' was just 'else' and had no conditions:</p>\n<pre><code>        if (growthRate &lt; 0.01 &amp;&amp; inflationValues &lt; 0.03)\n        {\n            System.out.println(&quot;Recommended policy: Increase welfare spending, reduce personal taxes, and decrease discount rate.&quot;);\n        } \n        else\n        {\n            System.out.println(&quot;Recommended policy: Reduce business taxes.&quot;);\n        }\n</code></pre>\n<p>and another for the <strong>b</strong> conditions, where the first 'else if' was replaced by 'if':</p>\n<pre><code>        if (growthRate &gt; 0.04 &amp;&amp; inflationValues &lt; 0.01)\n        {\n            System.out.println(&quot;Recommended policy: Increase personal and business taxes, and decrease discount rate.&quot;);\n        }\n        else if (growthRate &gt; 0.04 &amp;&amp; inflationValues &gt; 0.03)\n        {\n            System.out.println(&quot;Recommended policy: Increase discount rate.&quot;);\n        }\n        else \n        {\n        System.out.println(&quot;No change in economic policy.&quot;);\n        }\n</code></pre>\n<p>but that caused more issues than this current code. There is a huge possibility that I just messed up the code for that though.</p>\n<p>I'll post the question information below for more context because this might be confusing and I apologize.</p>\n<p><strong>a) If the annual growth rate is less than 1%:</strong></p>\n<p>If inflation is less than 3%, recommended economic policy is: Increase welfare spending, reduce personal taxes, and decrease discount rate.</p>\n<p>Otherwise, recommended economic policy is: Reduce business taxes.</p>\n<p><strong>b) If the annual growth rate is greater than 4%:</strong></p>\n<p>If inflation is less than 1%, recommended economic policy is: Increase personal and business taxes, and decrease discount rate.\nIf inflation is greater than 3%, recommended economic policy is: Increase discount rate.</p>\n<p><strong>Issue 2:</strong></p>\n<p>The final 'else' statement doesn't print:</p>\n<pre><code>else \n        {\n        System.out.println(&quot;No change in economic policy.&quot;);\n        }\n</code></pre>\n<p>The second 'else if' statement prints instead:</p>\n<pre><code>else if (growthRate &gt; 0.01 &amp;&amp; inflationValues &gt; 0.03)\n        {\n            System.out.println(&quot;Recommended policy: Reduce business taxes.&quot;);\n        }\n</code></pre>\n<p>So I'm assuming, just like the first issue, it's due to the conflict in the conditions I have set in the second 'else if', but I'm not really sure how to correct this.</p>\n<p>Thank you for taking the time to read this. I look forward to any and all responses.</p>\n<p>(PS. if anyone knows how to incorporate numbers as percentages rather than decimals, please let me know)</p>\n"},{"tags":["java","database"],"answers":[{"tags":[],"owner":{"account_id":11935386,"reputation":1273,"user_id":8734046,"display_name":"jwpol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651044509,"creation_date":1651044078,"answer_id":72024769,"question_id":72024555,"body_markdown":"From the database itself, you can track the changes through Transaction Logs (check out [this][1] answer, for instance).\r\n\r\nIf this project relies on spring-boot or hibernate, I would, for the sake of testing, switch on SQL logging:\r\n```\r\nspring.jpa.show-sql=true\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/58724202/how-to-view-transaction-logs-in-oracle-of-recent-sql-commands-executed-by-a-hibe","title":"How can I detect from where was set value in database?","body":"<p>From the database itself, you can track the changes through Transaction Logs (check out <a href=\"https://stackoverflow.com/questions/58724202/how-to-view-transaction-logs-in-oracle-of-recent-sql-commands-executed-by-a-hibe\">this</a> answer, for instance).</p>\n<p>If this project relies on spring-boot or hibernate, I would, for the sake of testing, switch on SQL logging:</p>\n<pre><code>spring.jpa.show-sql=true\n</code></pre>\n"}],"owner":{"account_id":24002641,"reputation":30,"user_id":17995870,"display_name":"Artur May"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72024769,"answer_count":1,"score":0,"last_activity_date":1651044509,"creation_date":1651042913,"question_id":72024555,"body_markdown":"It&#39;s a first time that I&#39;m working on a big project and I can&#39;t find from where specific field receiving its values(setter wasn&#39;t used in code). Is there a way to find out this from database? \r\n[screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W7KE8.png","title":"How can I detect from where was set value in database?","body":"<p>It's a first time that I'm working on a big project and I can't find from where specific field receiving its values(setter wasn't used in code). Is there a way to find out this from database?\n<a href=\"https://i.stack.imgur.com/W7KE8.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n"},{"tags":["java","spring-boot","notifications","firebase-cloud-messaging","firebase-admin"],"owner":{"account_id":6120687,"reputation":363,"user_id":4774302,"display_name":"Zak FST"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1651044370,"creation_date":1651020070,"question_id":72022038,"body_markdown":"I am using Springboot and Firebase-admin to send mobile notification:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n        &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n        &lt;version&gt;8.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nAfter adding Firebase-admin dependency I get dependency convergence error when trying to build the project:\r\n\r\n\r\n    [WARNING]\r\n    Dependency convergence error for com.google.http-client:qoogle-http-client- \r\n    jackson2:1.25.0 paths to dependency are:\r\n\r\n    +-com.test.notification:notification-service:1.0.0-SNAPSHOT\r\n     +-com. google.firebase:firebase-admin:6.8.1\r\n      +-com.google.api-client:google-api-client:1.25.0\r\n       +-com.google.http-client:google-http-client-jackson2:1.25.0\r\n    and\r\n    +-com.test.notification:notification-service:1.0.0-SNAPSHOT\r\n     +-com.google.firebase:firebase-admin:6.8.1\r\n      +-com.google.auth: google-auth-library-oauth2-http: 0.18.0\r\n       +-com.google.http-client:google-http-client-jackson2:1.32.1\r\n    and\r\n    +-com.test.notification:notification-service:1.0.0-SNAPSHOT\r\n     +-com.google.firebase:firebase-admin:6.8.1\r\n      +-com.google.cloud:google-cloud-storage:1.100.0\r\n       +-com.google.cloud:google-cloud-core-http:1.91.3\r\n         +-com.google.cloud: google-cloud-core:1.91.3\r\n           +-com.google.http-client:google-http-client-jackson2:1.32.1\r\n    ...\r\n\r\n    [Warning] Rule 0: org.apache.maven.plugins.enforcer.DependencyConvergence failed with message:\r\n    Failed while enforcing releasability. See above detailed error message","title":"Dependency convergence error when using Firebase-admin and Springboot","body":"<p>I am using Springboot and Firebase-admin to send mobile notification:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n    &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n    &lt;version&gt;8.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>After adding Firebase-admin dependency I get dependency convergence error when trying to build the project:</p>\n<pre><code>[WARNING]\nDependency convergence error for com.google.http-client:qoogle-http-client- \njackson2:1.25.0 paths to dependency are:\n\n+-com.test.notification:notification-service:1.0.0-SNAPSHOT\n +-com. google.firebase:firebase-admin:6.8.1\n  +-com.google.api-client:google-api-client:1.25.0\n   +-com.google.http-client:google-http-client-jackson2:1.25.0\nand\n+-com.test.notification:notification-service:1.0.0-SNAPSHOT\n +-com.google.firebase:firebase-admin:6.8.1\n  +-com.google.auth: google-auth-library-oauth2-http: 0.18.0\n   +-com.google.http-client:google-http-client-jackson2:1.32.1\nand\n+-com.test.notification:notification-service:1.0.0-SNAPSHOT\n +-com.google.firebase:firebase-admin:6.8.1\n  +-com.google.cloud:google-cloud-storage:1.100.0\n   +-com.google.cloud:google-cloud-core-http:1.91.3\n     +-com.google.cloud: google-cloud-core:1.91.3\n       +-com.google.http-client:google-http-client-jackson2:1.32.1\n...\n\n[Warning] Rule 0: org.apache.maven.plugins.enforcer.DependencyConvergence failed with message:\nFailed while enforcing releasability. See above detailed error message\n</code></pre>\n"},{"tags":["java","performance","javafx","drawing"],"comments":[{"owner":{"account_id":8333233,"reputation":189,"user_id":6261037,"display_name":"DimXenon"},"score":1,"creation_date":1470241146,"post_id":37648269,"comment_id":64871561,"body_markdown":"Addition question is &quot;How to improve JavaFX perfomance when we use 3D transitions?&quot;. Just add `anyNode.setTranslateZ(1);` somewhere in loop and perfomance will go down.","body":"Addition question is &quot;How to improve JavaFX perfomance when we use 3D transitions?&quot;. Just add <code>anyNode.setTranslateZ(1);</code> somewhere in loop and perfomance will go down."},{"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"score":0,"creation_date":1636860109,"post_id":37648269,"comment_id":123668500,"body_markdown":"I haven&#39;t tested this empirically or anything but what I&#39;ve noticed is that if you minimize the calls to setFIll(), that seems to help a lot. Obviously that wouldn&#39;t help if you were using a huge number of varying colors, but if it&#39;s a smaller number of colors maybe that&#39;s a simpler solution than different API calls.","body":"I haven&#39;t tested this empirically or anything but what I&#39;ve noticed is that if you minimize the calls to setFIll(), that seems to help a lot. Obviously that wouldn&#39;t help if you were using a huge number of varying colors, but if it&#39;s a smaller number of colors maybe that&#39;s a simpler solution than different API calls."}],"answers":[{"tags":[],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1465257839,"creation_date":1465257839,"answer_id":37668597,"question_id":37648269,"body_markdown":"This looks like a standard problem: Drawing pixel-wise is damn slow. And drawing your tiny rectangles qualifies as nearly pixel-wise.\r\n\r\nIn case you&#39;re drawing in some canvas directly, try a `BufferedImage`, it&#39;s an in-normal-memory data structure and should be much faster than accessing graphic card memory. Then draw the image to where it belongs.\r\n\r\nOtherwise, draw in an `int[] rgbArray` by setting pixels manually and use `BufferedImage#setRGB` or alike.","title":"How to improve performance of JavaFX graphic drawing?","body":"<p>This looks like a standard problem: Drawing pixel-wise is damn slow. And drawing your tiny rectangles qualifies as nearly pixel-wise.</p>\n\n<p>In case you're drawing in some canvas directly, try a <code>BufferedImage</code>, it's an in-normal-memory data structure and should be much faster than accessing graphic card memory. Then draw the image to where it belongs.</p>\n\n<p>Otherwise, draw in an <code>int[] rgbArray</code> by setting pixels manually and use <code>BufferedImage#setRGB</code> or alike.</p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1465284463,"creation_date":1465283816,"answer_id":37672849,"question_id":37648269,"body_markdown":"I ran a few benchmarks on a couple of different implementations as below:\r\n\r\n    import javafx.animation.AnimationTimer;\r\n    import javafx.application.Application;\r\n    import javafx.scene.*;\r\n    import javafx.scene.canvas.*;\r\n    import javafx.scene.image.*;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.nio.IntBuffer;\r\n    \r\n    public class CanvasUpdater extends Application {\r\n        private static final int CELL_SIZE = 2;\r\n        private static final int BOARD_SIZE = 900;\r\n    \r\n        private static final int W = BOARD_SIZE * CELL_SIZE;\r\n        private static final int H = BOARD_SIZE * CELL_SIZE;\r\n    \r\n        private static final double CYCLE_TIME_IN_MS = 5_000;\r\n    \r\n        private final WritablePixelFormat&lt;IntBuffer&gt; pixelFormat = \r\n                PixelFormat.getIntArgbPreInstance();\r\n    \r\n        private Canvas canvas = new Canvas(W, H);\r\n        private GraphicsContext gc = canvas.getGraphicsContext2D();\r\n        private int[] buffer = new int[W * H];\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            final long start = System.nanoTime();\r\n            AnimationTimer timer = new AnimationTimer() {\r\n                @Override\r\n                public void handle(long now) {\r\n                    double t = \r\n                            ((now - start) % (1_000_000 * CYCLE_TIME_IN_MS * 2)) / \r\n                            (1_000_000.0 * CYCLE_TIME_IN_MS);\r\n                    if (t &gt; 1) t = 1 - (t - 1);\r\n                    Color c1 = Color.RED.interpolate(Color.BLUE, t);\r\n                    Color c2 = Color.BLUE.interpolate(Color.RED, t);\r\n    \r\n                    gc.clearRect(0, 0, W, H);\r\n\r\n    //                Draw using fillRect\r\n    //\r\n    //                for (int i = 0; i &lt; W; i += CELL_SIZE) {\r\n    //                    for (int j = 0; j &lt; H; j += CELL_SIZE) {\r\n    //                        gc.setFill(\r\n    //                                (i/CELL_SIZE + j/CELL_SIZE) % 2 == 0\r\n    //                                        ? c1\r\n    //                                        : c2\r\n    //                        );\r\n    //                        gc.fillRect(i, j, CELL_SIZE, CELL_SIZE);\r\n    //                    }\r\n    //                }\r\n    \r\n    //                Draw using setColor\r\n    //\r\n    //                PixelWriter p = gc.getPixelWriter();\r\n    //                for (int i = 0; i &lt; W; i += CELL_SIZE) {\r\n    //                    for (int j = 0; j &lt; H; j += CELL_SIZE) {\r\n    //                        Color c =\r\n    //                                (i/CELL_SIZE + j/CELL_SIZE) % 2 == 0\r\n    //                                        ? c1\r\n    //                                        : c2;\r\n    //                        for (int dx = 0; dx &lt; CELL_SIZE; dx++) {\r\n    //                            for (int dy = 0 ; dy &lt; CELL_SIZE; dy++) {\r\n    //                                p.setColor(i + dx, j + dy, c);\r\n    //                            }\r\n    //                        }\r\n    //                    }\r\n    //                }\r\n    \r\n    //              Draw using buffer\r\n    //\r\n                    int ci1 = toInt(c1);\r\n                    int ci2 = toInt(c2);\r\n    \r\n                    for (int i = 0; i &lt; W; i += CELL_SIZE) {\r\n                        for (int j = 0; j &lt; H; j += CELL_SIZE) {\r\n                            int ci =\r\n                                    (i/CELL_SIZE + j/CELL_SIZE) % 2 == 0\r\n                                            ? ci1\r\n                                            : ci2;\r\n                            for (int dx = 0; dx &lt; CELL_SIZE; dx++) {\r\n                                for (int dy = 0 ; dy &lt; CELL_SIZE; dy++) {\r\n                                    buffer[i + dx + W * (j + dy)] = ci;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n    \r\n                    PixelWriter p = gc.getPixelWriter();\r\n                    p.setPixels(0, 0, W, H, pixelFormat, buffer, 0, W);\r\n                }\r\n            };\r\n            timer.start();\r\n    \r\n            stage.setScene(new Scene(new Group(canvas)));\r\n            stage.show();\r\n        }\r\n    \r\n        private int toInt(Color c) {\r\n            return\r\n                    (                      255  &lt;&lt; 24) |\r\n                    ((int) (c.getRed()   * 255) &lt;&lt; 16) |\r\n                    ((int) (c.getGreen() * 255) &lt;&lt; 8)  |\r\n                    ((int) (c.getBlue()  * 255));\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\nThe above program was run with various implementations with the JavaFX PulseLogger switched on `-Djavafx.pulseLogger=true`.  As you can see, using a buffer to set the pixels in a PixelWriter was 50 times faster than filling rectangles in the canvas and 100 times faster than invoking setColor on the PixelWriter.\r\n\r\nfillrect\r\n\r\n    //PULSE: 81 [217ms:424ms]\r\n    //T15 (58 +0ms): CSS Pass\r\n    //T15 (58 +0ms): Layout Pass\r\n    //T15 (58 +0ms): Update bounds\r\n    //T15 (58 +155ms): Waiting for previous rendering\r\n    //T15 (214 +0ms): Copy state to render graph\r\n    //T12 (214 +0ms): Dirty Opts Computed\r\n    //T12 (214 +209ms): Painting\r\n    //T12 (424 +0ms): Presenting\r\n    //Counters:\r\n    //Nodes rendered: 2\r\n    //Nodes visited during render: 2\r\n\r\npixelwriter using setColor\r\n\r\n    //PULSE: 33 [370ms:716ms]\r\n    //T15 (123 +0ms): CSS Pass\r\n    //T15 (123 +0ms): Layout Pass\r\n    //T15 (123 +0ms): Update bounds\r\n    //T15 (123 +244ms): Waiting for previous rendering\r\n    //T15 (368 +0ms): Copy state to render graph\r\n    //T12 (368 +0ms): Dirty Opts Computed\r\n    //T12 (368 +347ms): Painting\r\n    //T12 (715 +0ms): Presenting\r\n    //Counters:\r\n    //Nodes rendered: 2\r\n    //Nodes visited during render: 2\r\n\r\npixelwriter using buffer\r\n\r\n    //PULSE: 270 [33ms:37ms]\r\n    //T15 (28 +0ms): CSS Pass\r\n    //T15 (28 +0ms): Layout Pass\r\n    //T15 (28 +0ms): Update bounds\r\n    //T15 (28 +0ms): Waiting for previous rendering\r\n    //T15 (28 +0ms): Copy state to render graph\r\n    //T12 (29 +0ms): Dirty Opts Computed\r\n    //T12 (29 +7ms): Painting\r\n    //T12 (36 +0ms): Presenting\r\n    //Counters:\r\n    //Nodes rendered: 2\r\n    //Nodes visited during render: 2\r\n\r\n\r\n","title":"How to improve performance of JavaFX graphic drawing?","body":"<p>I ran a few benchmarks on a couple of different implementations as below:</p>\n\n<pre><code>import javafx.animation.AnimationTimer;\nimport javafx.application.Application;\nimport javafx.scene.*;\nimport javafx.scene.canvas.*;\nimport javafx.scene.image.*;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\nimport java.nio.IntBuffer;\n\npublic class CanvasUpdater extends Application {\n    private static final int CELL_SIZE = 2;\n    private static final int BOARD_SIZE = 900;\n\n    private static final int W = BOARD_SIZE * CELL_SIZE;\n    private static final int H = BOARD_SIZE * CELL_SIZE;\n\n    private static final double CYCLE_TIME_IN_MS = 5_000;\n\n    private final WritablePixelFormat&lt;IntBuffer&gt; pixelFormat = \n            PixelFormat.getIntArgbPreInstance();\n\n    private Canvas canvas = new Canvas(W, H);\n    private GraphicsContext gc = canvas.getGraphicsContext2D();\n    private int[] buffer = new int[W * H];\n\n    @Override\n    public void start(Stage stage) {\n        final long start = System.nanoTime();\n        AnimationTimer timer = new AnimationTimer() {\n            @Override\n            public void handle(long now) {\n                double t = \n                        ((now - start) % (1_000_000 * CYCLE_TIME_IN_MS * 2)) / \n                        (1_000_000.0 * CYCLE_TIME_IN_MS);\n                if (t &gt; 1) t = 1 - (t - 1);\n                Color c1 = Color.RED.interpolate(Color.BLUE, t);\n                Color c2 = Color.BLUE.interpolate(Color.RED, t);\n\n                gc.clearRect(0, 0, W, H);\n\n//                Draw using fillRect\n//\n//                for (int i = 0; i &lt; W; i += CELL_SIZE) {\n//                    for (int j = 0; j &lt; H; j += CELL_SIZE) {\n//                        gc.setFill(\n//                                (i/CELL_SIZE + j/CELL_SIZE) % 2 == 0\n//                                        ? c1\n//                                        : c2\n//                        );\n//                        gc.fillRect(i, j, CELL_SIZE, CELL_SIZE);\n//                    }\n//                }\n\n//                Draw using setColor\n//\n//                PixelWriter p = gc.getPixelWriter();\n//                for (int i = 0; i &lt; W; i += CELL_SIZE) {\n//                    for (int j = 0; j &lt; H; j += CELL_SIZE) {\n//                        Color c =\n//                                (i/CELL_SIZE + j/CELL_SIZE) % 2 == 0\n//                                        ? c1\n//                                        : c2;\n//                        for (int dx = 0; dx &lt; CELL_SIZE; dx++) {\n//                            for (int dy = 0 ; dy &lt; CELL_SIZE; dy++) {\n//                                p.setColor(i + dx, j + dy, c);\n//                            }\n//                        }\n//                    }\n//                }\n\n//              Draw using buffer\n//\n                int ci1 = toInt(c1);\n                int ci2 = toInt(c2);\n\n                for (int i = 0; i &lt; W; i += CELL_SIZE) {\n                    for (int j = 0; j &lt; H; j += CELL_SIZE) {\n                        int ci =\n                                (i/CELL_SIZE + j/CELL_SIZE) % 2 == 0\n                                        ? ci1\n                                        : ci2;\n                        for (int dx = 0; dx &lt; CELL_SIZE; dx++) {\n                            for (int dy = 0 ; dy &lt; CELL_SIZE; dy++) {\n                                buffer[i + dx + W * (j + dy)] = ci;\n                            }\n                        }\n                    }\n                }\n\n                PixelWriter p = gc.getPixelWriter();\n                p.setPixels(0, 0, W, H, pixelFormat, buffer, 0, W);\n            }\n        };\n        timer.start();\n\n        stage.setScene(new Scene(new Group(canvas)));\n        stage.show();\n    }\n\n    private int toInt(Color c) {\n        return\n                (                      255  &lt;&lt; 24) |\n                ((int) (c.getRed()   * 255) &lt;&lt; 16) |\n                ((int) (c.getGreen() * 255) &lt;&lt; 8)  |\n                ((int) (c.getBlue()  * 255));\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n\n<p>The above program was run with various implementations with the JavaFX PulseLogger switched on <code>-Djavafx.pulseLogger=true</code>.  As you can see, using a buffer to set the pixels in a PixelWriter was 50 times faster than filling rectangles in the canvas and 100 times faster than invoking setColor on the PixelWriter.</p>\n\n<p>fillrect</p>\n\n<pre><code>//PULSE: 81 [217ms:424ms]\n//T15 (58 +0ms): CSS Pass\n//T15 (58 +0ms): Layout Pass\n//T15 (58 +0ms): Update bounds\n//T15 (58 +155ms): Waiting for previous rendering\n//T15 (214 +0ms): Copy state to render graph\n//T12 (214 +0ms): Dirty Opts Computed\n//T12 (214 +209ms): Painting\n//T12 (424 +0ms): Presenting\n//Counters:\n//Nodes rendered: 2\n//Nodes visited during render: 2\n</code></pre>\n\n<p>pixelwriter using setColor</p>\n\n<pre><code>//PULSE: 33 [370ms:716ms]\n//T15 (123 +0ms): CSS Pass\n//T15 (123 +0ms): Layout Pass\n//T15 (123 +0ms): Update bounds\n//T15 (123 +244ms): Waiting for previous rendering\n//T15 (368 +0ms): Copy state to render graph\n//T12 (368 +0ms): Dirty Opts Computed\n//T12 (368 +347ms): Painting\n//T12 (715 +0ms): Presenting\n//Counters:\n//Nodes rendered: 2\n//Nodes visited during render: 2\n</code></pre>\n\n<p>pixelwriter using buffer</p>\n\n<pre><code>//PULSE: 270 [33ms:37ms]\n//T15 (28 +0ms): CSS Pass\n//T15 (28 +0ms): Layout Pass\n//T15 (28 +0ms): Update bounds\n//T15 (28 +0ms): Waiting for previous rendering\n//T15 (28 +0ms): Copy state to render graph\n//T12 (29 +0ms): Dirty Opts Computed\n//T12 (29 +7ms): Painting\n//T12 (36 +0ms): Presenting\n//Counters:\n//Nodes rendered: 2\n//Nodes visited during render: 2\n</code></pre>\n"}],"owner":{"account_id":6108932,"reputation":433,"user_id":4765875,"accept_rate":46,"display_name":"baka1408"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4645,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1651043999,"creation_date":1465174689,"question_id":37648269,"body_markdown":"## Situation : ##\r\n\r\nI&#39;ve created an app which needs to draw simple rectangles (1x1 - 3x3 size) depends on some variables stored in array of corresponding size (900x900 - 300x300 size) at 20, 40 or even 60 FPS rate.\r\n\r\nHere&#39;s my drawing method :\r\n\r\n    protected void drawCurrentState() {\r\n        for (int i = 0; i &lt; gameLogic.size; i++) {\r\n            for (int j = 0; j &lt; gameLogic.size; j++) {\r\n                if (gameLogic.previousStepTable == null || gameLogic.previousStepTable[i][j] != gameLogic.gameTable[i][j]) {\r\n                    if (gameLogic.gameTable[i][j].state)\r\n                        graphicsContext.setFill(gameLogic.gameTable[i][j].color); \r\n                    else\r\n                        graphicsContext.setFill(Color.WHITE); \r\n    \r\n                    graphicsContext.fillRect(leftMargin + j * (cellSize + cellMargin), topMargin + i * (cellSize + cellMargin), cellSize, cellSize);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAs you probably noticed, drawing is performed only when it need to (when state has changed from previous step). All the other operations (computing variables states in gameLogic etc.) takes nearly no time and has no affect on performance.\r\n\r\nProblem :\r\n---------\r\n\r\nJavaFX performs this operation incredibly slow! 10 iterations (which should be drawed at 0.5sec on 20FPS rate) are drawed in 5-10 seconds, which obviously is unacceptable in this case.\r\n\r\nQuestion :\r\n----------\r\n\r\nIs there any way to massively speed-up that drawing operation to expected level of performance (40 or 60 iterations in a second for example)?\r\n\r\nAnd whats the reason of such poor performance of drawing in this case? ","title":"How to improve performance of JavaFX graphic drawing?","body":"<h2>Situation :</h2>\n<p>I've created an app which needs to draw simple rectangles (1x1 - 3x3 size) depends on some variables stored in array of corresponding size (900x900 - 300x300 size) at 20, 40 or even 60 FPS rate.</p>\n<p>Here's my drawing method :</p>\n<pre><code>protected void drawCurrentState() {\n    for (int i = 0; i &lt; gameLogic.size; i++) {\n        for (int j = 0; j &lt; gameLogic.size; j++) {\n            if (gameLogic.previousStepTable == null || gameLogic.previousStepTable[i][j] != gameLogic.gameTable[i][j]) {\n                if (gameLogic.gameTable[i][j].state)\n                    graphicsContext.setFill(gameLogic.gameTable[i][j].color); \n                else\n                    graphicsContext.setFill(Color.WHITE); \n\n                graphicsContext.fillRect(leftMargin + j * (cellSize + cellMargin), topMargin + i * (cellSize + cellMargin), cellSize, cellSize);\n            }\n        }\n    }\n}\n</code></pre>\n<p>As you probably noticed, drawing is performed only when it need to (when state has changed from previous step). All the other operations (computing variables states in gameLogic etc.) takes nearly no time and has no affect on performance.</p>\n<h2>Problem :</h2>\n<p>JavaFX performs this operation incredibly slow! 10 iterations (which should be drawed at 0.5sec on 20FPS rate) are drawed in 5-10 seconds, which obviously is unacceptable in this case.</p>\n<h2>Question :</h2>\n<p>Is there any way to massively speed-up that drawing operation to expected level of performance (40 or 60 iterations in a second for example)?</p>\n<p>And whats the reason of such poor performance of drawing in this case?</p>\n"},{"tags":["java","junit","integer"],"answers":[{"tags":[],"owner":{"account_id":25111091,"reputation":13,"user_id":18960722,"display_name":"BiggerOwO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651035617,"creation_date":1651035617,"answer_id":72023482,"question_id":72023318,"body_markdown":"So I figured it out. It can be done the same exact way as a string as this is just sending an input and not a specific type. In my case, the method I want to test is: \r\n\r\n    public static int setAge() {\r\n        Scanner input = new Scanner(System.in);\r\n        int age = 0;\r\n        boolean done = false;\r\n        while (!done) {\r\n            System.out.print(&quot;Age: &quot;);\r\n            try {\r\n                age = input.nextInt();\r\n                done = true;\r\n            } catch (InputMismatchException e) {\r\n                System.out.println(&quot;Please enter a valid age!&quot;);\r\n                input.nextLine();\r\n            }\r\n        }\r\n        return age;\r\n    }\r\n\r\nand the test I wrote is this:\r\n\r\n    @Test\r\n    public void testSetAge() {\r\n        String expectedResult = &quot;5&quot;;\r\n        InputStream in = new ByteArrayInputStream(expectedResult.getBytes());\r\n        System.setIn(in);\r\n        assertEquals(5, MainClass.setAge());\r\n    }\r\n\r\nI am not sure if this is the best/proper way to complete this but it was how I did it.\r\n","title":"Junit method testing, user integer input","body":"<p>So I figured it out. It can be done the same exact way as a string as this is just sending an input and not a specific type. In my case, the method I want to test is:</p>\n<pre><code>public static int setAge() {\n    Scanner input = new Scanner(System.in);\n    int age = 0;\n    boolean done = false;\n    while (!done) {\n        System.out.print(&quot;Age: &quot;);\n        try {\n            age = input.nextInt();\n            done = true;\n        } catch (InputMismatchException e) {\n            System.out.println(&quot;Please enter a valid age!&quot;);\n            input.nextLine();\n        }\n    }\n    return age;\n}\n</code></pre>\n<p>and the test I wrote is this:</p>\n<pre><code>@Test\npublic void testSetAge() {\n    String expectedResult = &quot;5&quot;;\n    InputStream in = new ByteArrayInputStream(expectedResult.getBytes());\n    System.setIn(in);\n    assertEquals(5, MainClass.setAge());\n}\n</code></pre>\n<p>I am not sure if this is the best/proper way to complete this but it was how I did it.</p>\n"},{"tags":[],"owner":{"account_id":7822670,"reputation":1609,"user_id":5915318,"display_name":"David Kariuki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651043680,"creation_date":1651043680,"answer_id":72024685,"question_id":72023318,"body_markdown":"I will use a random test example to explain the logic. You should create a wrapper for system input/output functions. You can do this using dependency injection, giving us a class that can ask for new integers:\r\n\r\n\r\n    public static class IntegerAsker {\r\n        private final Scanner scanner;\r\n        private final PrintStream out;\r\n\r\n        public IntegerAsker(InputStream in, PrintStream out) {\r\n            scanner = new Scanner(in);\r\n            this.out = out;\r\n        }\r\n\r\n        public int ask(String message) {\r\n            out.println(message);\r\n            return scanner.nextInt();\r\n        }\r\n    }\r\n\r\n\r\nThen you can create tests for your function, using a mock framework (In this example I am using Mockito):\r\n\r\n\r\n    @Test\r\n    public void getsIntegerWhenWithinBoundsOfOneToTen() throws Exception {\r\n        IntegerAsker asker = mock(IntegerAsker.class);\r\n        when(asker.ask(anyString())).thenReturn(3);\r\n\r\n        assertEquals(getBoundIntegerFromUser(asker), 3);\r\n    }\r\n\r\n    @Test\r\n    public void asksForNewIntegerWhenOutsideBoundsOfOneToTen() throws Exception {\r\n\r\n        IntegerAsker asker = mock(IntegerAsker.class);\r\n        when(asker.ask(&quot;Give a number between 1 and 10&quot;)).thenReturn(99);\r\n        when(asker.ask(&quot;Wrong number, try again.&quot;)).thenReturn(3);\r\n\r\n        getBoundIntegerFromUser(asker);\r\n\r\n        verify(asker).ask(&quot;Wrong number, try again.&quot;);\r\n    }\r\n\r\n\r\nThen write your function that passes the tests. The function is much cleaner since you can remove the asking/getting integer duplication and the actual system calls are encapsulated.\r\n\r\n\r\n    public static void main(String[] args) {\r\n        getBoundIntegerFromUser(new IntegerAsker(System.in, System.out));\r\n    }\r\n\r\n    public static int getBoundIntegerFromUser(IntegerAsker asker) {\r\n        int input = asker.ask(&quot;Give a number between 1 and 10&quot;);\r\n        while (input &lt; 1 || input &gt; 10)\r\n        input = asker.ask(&quot;Wrong number, try again.&quot;);\r\n        return input;\r\n    }\r\n","title":"Junit method testing, user integer input","body":"<p>I will use a random test example to explain the logic. You should create a wrapper for system input/output functions. You can do this using dependency injection, giving us a class that can ask for new integers:</p>\n<pre><code>public static class IntegerAsker {\n    private final Scanner scanner;\n    private final PrintStream out;\n\n    public IntegerAsker(InputStream in, PrintStream out) {\n        scanner = new Scanner(in);\n        this.out = out;\n    }\n\n    public int ask(String message) {\n        out.println(message);\n        return scanner.nextInt();\n    }\n}\n</code></pre>\n<p>Then you can create tests for your function, using a mock framework (In this example I am using Mockito):</p>\n<pre><code>@Test\npublic void getsIntegerWhenWithinBoundsOfOneToTen() throws Exception {\n    IntegerAsker asker = mock(IntegerAsker.class);\n    when(asker.ask(anyString())).thenReturn(3);\n\n    assertEquals(getBoundIntegerFromUser(asker), 3);\n}\n\n@Test\npublic void asksForNewIntegerWhenOutsideBoundsOfOneToTen() throws Exception {\n\n    IntegerAsker asker = mock(IntegerAsker.class);\n    when(asker.ask(&quot;Give a number between 1 and 10&quot;)).thenReturn(99);\n    when(asker.ask(&quot;Wrong number, try again.&quot;)).thenReturn(3);\n\n    getBoundIntegerFromUser(asker);\n\n    verify(asker).ask(&quot;Wrong number, try again.&quot;);\n}\n</code></pre>\n<p>Then write your function that passes the tests. The function is much cleaner since you can remove the asking/getting integer duplication and the actual system calls are encapsulated.</p>\n<pre><code>public static void main(String[] args) {\n    getBoundIntegerFromUser(new IntegerAsker(System.in, System.out));\n}\n\npublic static int getBoundIntegerFromUser(IntegerAsker asker) {\n    int input = asker.ask(&quot;Give a number between 1 and 10&quot;);\n    while (input &lt; 1 || input &gt; 10)\n    input = asker.ask(&quot;Wrong number, try again.&quot;);\n    return input;\n}\n</code></pre>\n"}],"owner":{"account_id":25111091,"reputation":13,"user_id":18960722,"display_name":"BiggerOwO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":705,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72024685,"answer_count":2,"score":1,"last_activity_date":1651043680,"creation_date":1651034044,"question_id":72023318,"body_markdown":"I don&#39;t know how to simulate user input for integers/floats/doubles inside a unit test. I used this to simulate a string input:\r\n\r\n    @Test\r\n    public void testSetName() {\r\n        String expectedResult = &quot;Jason&quot;;\r\n        InputStream in = new ByteArrayInputStream(expectedResult.getBytes());\r\n        System.setIn(in);\r\n        assertEquals(expectedResult, MainClass.setName());\r\n    }\r\n\r\nBut I don&#39;t know how to enter an integer instead.\r\nThis is the method I am testing:\r\n\r\n    public static int setAge() {\r\n        Scanner input = new Scanner(System.in);\r\n        int age = 0;\r\n        boolean done = false;\r\n        while (!done) {\r\n            System.out.print(&quot;Age: &quot;);\r\n            try {\r\n                age = input.nextInt();\r\n                done = true;\r\n            } catch (InputMismatchException e) {\r\n                System.out.println(&quot;Please enter a valid age!&quot;);\r\n                input.nextLine();\r\n            }\r\n        }\r\n        return age;\r\n    }","title":"Junit method testing, user integer input","body":"<p>I don't know how to simulate user input for integers/floats/doubles inside a unit test. I used this to simulate a string input:</p>\n<pre><code>@Test\npublic void testSetName() {\n    String expectedResult = &quot;Jason&quot;;\n    InputStream in = new ByteArrayInputStream(expectedResult.getBytes());\n    System.setIn(in);\n    assertEquals(expectedResult, MainClass.setName());\n}\n</code></pre>\n<p>But I don't know how to enter an integer instead.\nThis is the method I am testing:</p>\n<pre><code>public static int setAge() {\n    Scanner input = new Scanner(System.in);\n    int age = 0;\n    boolean done = false;\n    while (!done) {\n        System.out.print(&quot;Age: &quot;);\n        try {\n            age = input.nextInt();\n            done = true;\n        } catch (InputMismatchException e) {\n            System.out.println(&quot;Please enter a valid age!&quot;);\n            input.nextLine();\n        }\n    }\n    return age;\n}\n</code></pre>\n"},{"tags":["java","android","multithreading","android-workmanager","java-threads"],"answers":[{"tags":[],"owner":{"account_id":9579833,"reputation":1418,"user_id":7114714,"display_name":"Yavor Mitev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651043429,"creation_date":1650992329,"answer_id":72017815,"question_id":71789437,"body_markdown":"Are you sure that it is only one worker?\r\n\r\nPlease check like this the number of active works:\r\n\r\nhttps://developer.android.com/studio/inspect/task#view-workers\r\n\r\nAlso, you should be using unique work to be sure that there are no multiple workers:\r\n\r\nhttps://developer.android.com/topic/libraries/architecture/workmanager/how-to/managing-work#unique-work\r\n\r\nEDITED:\r\n\r\nI am more confused by your comment. Please provide screenshots and the code the enqueue the work. At the moment you don&#39;t use periodic and unique. \r\n\r\nPlease note that you can have only 1 work in the inspector, but you can see a big list of all the executions of it.\r\n\r\nAlso, are you sure about the id? Do you generate it or it is static. It should not be possible to have multiple works when it is unique. \r\n\r\nWhat flag do you use? KEEP?\r\n\r\n**Also now I saw your code in the Worker. I don&#39;t see how you block the doWork() to finish. I think you return Success, but at the same time, you have another Thread running with nothing to prevent the app to be killed.** \r\n\r\n \r\n","title":"The work manader&#39;s work is not controlled","body":"<p>Are you sure that it is only one worker?</p>\n<p>Please check like this the number of active works:</p>\n<p><a href=\"https://developer.android.com/studio/inspect/task#view-workers\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/inspect/task#view-workers</a></p>\n<p>Also, you should be using unique work to be sure that there are no multiple workers:</p>\n<p><a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/how-to/managing-work#unique-work\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/workmanager/how-to/managing-work#unique-work</a></p>\n<p>EDITED:</p>\n<p>I am more confused by your comment. Please provide screenshots and the code the enqueue the work. At the moment you don't use periodic and unique.</p>\n<p>Please note that you can have only 1 work in the inspector, but you can see a big list of all the executions of it.</p>\n<p>Also, are you sure about the id? Do you generate it or it is static. It should not be possible to have multiple works when it is unique.</p>\n<p>What flag do you use? KEEP?</p>\n<p><strong>Also now I saw your code in the Worker. I don't see how you block the doWork() to finish. I think you return Success, but at the same time, you have another Thread running with nothing to prevent the app to be killed.</strong></p>\n"}],"owner":{"account_id":22605925,"reputation":1,"user_id":16786840,"display_name":"tyoma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651043429,"creation_date":1649368880,"question_id":71789437,"body_markdown":"I have a wok manager that I run from the Main Activity when the user logs into the application. So, I will tell you in more detail what I do in the manager: in it I start a stream in which every second there is a mining of the virtual currency of my application, that is, simply put, I just increase the variable every second.\r\n\r\nMoving on to the problem, here&#39;s how I run the manager\r\n\r\n    Constraints constraints = new Constraints.Builder()\r\n                                        .setRequiredNetworkType(NetworkType.CONNECTED)\r\n                                        .build();\r\n\r\n                                miningWorkRequest = new\r\n                                        OneTimeWorkRequest.Builder(MiningManager.class)\r\n                                        .setConstraints(constraints)\r\n                                        .build();\r\n    \r\n                                WorkManager.getInstance(getApplicationContext()).enqueue(miningWorkRequest);\r\n\r\nLaunching the manager completely as in the documentation.\r\n\r\nAnd now the manager himself is with my mining stream. Before increasing the variable, I get it every second from Firebase Realtime, and then the miningMoneyFun() method is triggered to increase it.\r\n\r\n    @NonNull\r\n        @Override\r\n        public Result doWork() {\r\n            firebaseModel.initAll();\r\n            RecentMethods.UserNickByUid(firebaseModel.getUser().getUid(), firebaseModel, new Callbacks.GetUserNickByUid() {\r\n                @Override\r\n                public void PassUserNick(String nick) {\r\n                    RecentMethods.GetActiveMiner(nick, firebaseModel, new Callbacks.GetActiveMiners() {\r\n                        @Override\r\n                        public void GetActiveMiners(ArrayList&lt;Miner&gt; activeMinersFromBase) {\r\n                            if(activeMinersFromBase.size()&gt;0){\r\n                                Thread thread = new Thread()\r\n                                {\r\n                                    @Override\r\n                                    public void run() {\r\n                                        try {\r\n                                            RecentMethods.UserNickByUid(firebaseModel.getUser().getUid(), firebaseModel, new Callbacks.GetUserNickByUid() {\r\n                                                @Override\r\n                                                public void PassUserNick(String nick) {\r\n                                                    RecentMethods.GetTodayMining(nick, firebaseModel, new Callbacks.GetTodayMining() {\r\n                                                        @Override\r\n                                                        public void GetTodayMining(double todayMiningFromBase) {\r\n                                                            todayMining=todayMiningFromBase;\r\n                                                        }\r\n                                                    });\r\n                                                }\r\n                                            });\r\n                                            while(true) {\r\n                                                Thread.sleep(1000);\r\n                                                miningMoneyFun();\r\n                                                Log.d(&quot;#####&quot;, &quot;go  &quot;+ todayMining);\r\n                                            }\r\n                                        } catch (InterruptedException e) {\r\n                                        }\r\n                                    }\r\n                                };\r\n    \r\n                                thread.start();\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n            return Result.success();\r\n\r\nWhat specifically does not suit me, I see from the log that the thread can be executed 5, 10 or even 15 times per second. I thought it was a thread, but when I commented it out and put the log in the DoWork() method, the log also appeared many times per second. I want the DoWork() method to run once, and then the thread itself functions every second and as expected. I saw 2 similar questions on StackOverflow, but none had clear answers, please help and sorry for the English","title":"The work manader&#39;s work is not controlled","body":"<p>I have a wok manager that I run from the Main Activity when the user logs into the application. So, I will tell you in more detail what I do in the manager: in it I start a stream in which every second there is a mining of the virtual currency of my application, that is, simply put, I just increase the variable every second.</p>\n<p>Moving on to the problem, here's how I run the manager</p>\n<pre><code>Constraints constraints = new Constraints.Builder()\n                                    .setRequiredNetworkType(NetworkType.CONNECTED)\n                                    .build();\n\n                            miningWorkRequest = new\n                                    OneTimeWorkRequest.Builder(MiningManager.class)\n                                    .setConstraints(constraints)\n                                    .build();\n\n                            WorkManager.getInstance(getApplicationContext()).enqueue(miningWorkRequest);\n</code></pre>\n<p>Launching the manager completely as in the documentation.</p>\n<p>And now the manager himself is with my mining stream. Before increasing the variable, I get it every second from Firebase Realtime, and then the miningMoneyFun() method is triggered to increase it.</p>\n<pre><code>@NonNull\n    @Override\n    public Result doWork() {\n        firebaseModel.initAll();\n        RecentMethods.UserNickByUid(firebaseModel.getUser().getUid(), firebaseModel, new Callbacks.GetUserNickByUid() {\n            @Override\n            public void PassUserNick(String nick) {\n                RecentMethods.GetActiveMiner(nick, firebaseModel, new Callbacks.GetActiveMiners() {\n                    @Override\n                    public void GetActiveMiners(ArrayList&lt;Miner&gt; activeMinersFromBase) {\n                        if(activeMinersFromBase.size()&gt;0){\n                            Thread thread = new Thread()\n                            {\n                                @Override\n                                public void run() {\n                                    try {\n                                        RecentMethods.UserNickByUid(firebaseModel.getUser().getUid(), firebaseModel, new Callbacks.GetUserNickByUid() {\n                                            @Override\n                                            public void PassUserNick(String nick) {\n                                                RecentMethods.GetTodayMining(nick, firebaseModel, new Callbacks.GetTodayMining() {\n                                                    @Override\n                                                    public void GetTodayMining(double todayMiningFromBase) {\n                                                        todayMining=todayMiningFromBase;\n                                                    }\n                                                });\n                                            }\n                                        });\n                                        while(true) {\n                                            Thread.sleep(1000);\n                                            miningMoneyFun();\n                                            Log.d(&quot;#####&quot;, &quot;go  &quot;+ todayMining);\n                                        }\n                                    } catch (InterruptedException e) {\n                                    }\n                                }\n                            };\n\n                            thread.start();\n                        }\n                    }\n                });\n            }\n        });\n        return Result.success();\n</code></pre>\n<p>What specifically does not suit me, I see from the log that the thread can be executed 5, 10 or even 15 times per second. I thought it was a thread, but when I commented it out and put the log in the DoWork() method, the log also appeared many times per second. I want the DoWork() method to run once, and then the thread itself functions every second and as expected. I saw 2 similar questions on StackOverflow, but none had clear answers, please help and sorry for the English</p>\n"},{"tags":["java","agent","agents-jade"],"answers":[{"tags":[],"owner":{"account_id":13262233,"reputation":343,"user_id":9576413,"display_name":"M.A.S"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651043142,"creation_date":1651043142,"answer_id":72024594,"question_id":71995337,"body_markdown":"This line below\r\n\r\n````\r\n\r\nACLMessage msg = receive();\r\n\r\n````\r\n\r\nonly reads a message from the messages queue of the agnet. It does not wait to receive a message. So, your second agent is being executed before that he receives the message, that&#39;s why the `else` is executed at first.\r\n\r\n \r\n\r\nHowever,\r\n\r\n \r\n\r\n&gt; But the second agent always execute the else statement and msg seems to be null, and i can&#39;t figure why.\r\n\r\n \r\n\r\nThis is not correct, the else statement is executed at first, then the agent prints its message, then the else is exectued again, then the agents is blocked.\r\n\r\n \r\n\r\nThe explanation: your first agent has a `OneShotBehaviour`, that means that he will execute his code once and then quite. That being said, he will send his message only one time.\r\n\r\nWhile your second agent has a `CyclicBehaviour`, that means that he will keep repeating himself. In the first run of this behaviour, the `else` is executed because the message was not received yet. Then, there is the `block` which will block this behaviour until a message is received. When the message is received, the behaviour will repeat itself, but this time he will print the received message. Then the `block` again...\r\n\r\n \r\n\r\nIf you want your second agent to print the message from the first time, you need to make your agent waits to receive a message. You can use the method `doWait()` before the line above. This way, your second agent will keep waiting until he receives a message.\r\n\r\n \r\n\r\n````\r\n\r\ndoWait();\r\n\r\nACLMessage msg = receive();\r\n\r\n````","title":"How to make agents communicate in jade?","body":"<p>This line below</p>\n<pre><code>\nACLMessage msg = receive();\n\n</code></pre>\n<p>only reads a message from the messages queue of the agnet. It does not wait to receive a message. So, your second agent is being executed before that he receives the message, that's why the <code>else</code> is executed at first.</p>\n<p>However,</p>\n<blockquote>\n<p>But the second agent always execute the else statement and msg seems to be null, and i can't figure why.</p>\n</blockquote>\n<p>This is not correct, the else statement is executed at first, then the agent prints its message, then the else is exectued again, then the agents is blocked.</p>\n<p>The explanation: your first agent has a <code>OneShotBehaviour</code>, that means that he will execute his code once and then quite. That being said, he will send his message only one time.</p>\n<p>While your second agent has a <code>CyclicBehaviour</code>, that means that he will keep repeating himself. In the first run of this behaviour, the <code>else</code> is executed because the message was not received yet. Then, there is the <code>block</code> which will block this behaviour until a message is received. When the message is received, the behaviour will repeat itself, but this time he will print the received message. Then the <code>block</code> again...</p>\n<p>If you want your second agent to print the message from the first time, you need to make your agent waits to receive a message. You can use the method <code>doWait()</code> before the line above. This way, your second agent will keep waiting until he receives a message.</p>\n<pre><code>\ndoWait();\n\nACLMessage msg = receive();\n\n</code></pre>\n"}],"owner":{"account_id":18975361,"reputation":35,"user_id":13847965,"display_name":"dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72024594,"answer_count":1,"score":0,"last_activity_date":1651043142,"creation_date":1650868485,"question_id":71995337,"body_markdown":"I want my first Agent to send a message to the second Agent, this is the code for the First agent :\r\n\r\n    import jade.core.AID;\r\n    import jade.core.Agent;\r\n    import jade.core.behaviours.OneShotBehaviour;\r\n    import jade.lang.acl.ACLMessage;\r\n\r\n    public class First extends Agent {\t\r\n\r\n\t@Override\r\n\tprotected void setup() {\r\n\t\taddBehaviour(new OneShotBehaviour() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void action() {\r\n\t\t\t\tSystem.out.println(&quot;I&#39;m sending&quot;);\r\n\t\t\t\tACLMessage msg =new ACLMessage(ACLMessage.INFORM);\r\n\t\t\t\tmsg.addReceiver(new AID(&quot;second&quot;,AID.ISLOCALNAME));\r\n\t\t\t\tmsg.setContent(&quot;HELLO&quot;);\r\n\t\t\t\tsend(msg);\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t}}\r\n\r\nAnd for the second class :\r\n\r\n    import jade.core.Agent;\r\n    import jade.core.behaviours.CyclicBehaviour;\r\n    import jade.lang.acl.ACLMessage;\r\n    \r\n    public class Second extends Agent {\r\n\t \r\n\t@Override\r\n\tprotected void setup() {\r\n\t\taddBehaviour(new CyclicBehaviour() {\r\n\t\t\t\r\n\t\t\t @Override\r\n\t\t\t public void action() {\r\n\t\t\t\t ACLMessage msg = receive();\r\n\t\t\t\t if(msg != null) {\r\n\t\t\t\t\t System.out.print(&quot;i received &quot;+msg.getContent());\r\n\t\t\t\t } else {\r\n\t\t\t\t\t System.out.print(&quot;i didn&#39;t receive msg &quot;);\r\n\t\t\t\t\t block();\r\n\t\t\t\t }\t\t\t\t \r\n\t\t\t }\r\n\t\t});\r\n\t}}\r\n\r\nBut the second agent always execute the else statement and msg seems to be null, and i can&#39;t  figure why.\r\n\r\nAny suggestion ?\r\n\r\nThanks","title":"How to make agents communicate in jade?","body":"<p>I want my first Agent to send a message to the second Agent, this is the code for the First agent :</p>\n<pre><code>import jade.core.AID;\nimport jade.core.Agent;\nimport jade.core.behaviours.OneShotBehaviour;\nimport jade.lang.acl.ACLMessage;\n\npublic class First extends Agent {  \n\n@Override\nprotected void setup() {\n    addBehaviour(new OneShotBehaviour() {\n        \n        @Override\n        public void action() {\n            System.out.println(&quot;I'm sending&quot;);\n            ACLMessage msg =new ACLMessage(ACLMessage.INFORM);\n            msg.addReceiver(new AID(&quot;second&quot;,AID.ISLOCALNAME));\n            msg.setContent(&quot;HELLO&quot;);\n            send(msg);              \n        }\n    });\n}}\n</code></pre>\n<p>And for the second class :</p>\n<pre><code>import jade.core.Agent;\nimport jade.core.behaviours.CyclicBehaviour;\nimport jade.lang.acl.ACLMessage;\n\npublic class Second extends Agent {\n \n@Override\nprotected void setup() {\n    addBehaviour(new CyclicBehaviour() {\n        \n         @Override\n         public void action() {\n             ACLMessage msg = receive();\n             if(msg != null) {\n                 System.out.print(&quot;i received &quot;+msg.getContent());\n             } else {\n                 System.out.print(&quot;i didn't receive msg &quot;);\n                 block();\n             }               \n         }\n    });\n}}\n</code></pre>\n<p>But the second agent always execute the else statement and msg seems to be null, and i can't  figure why.</p>\n<p>Any suggestion ?</p>\n<p>Thanks</p>\n"},{"tags":["java","macos","java-8","java-home"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1613596003,"post_id":66249928,"comment_id":117127081,"body_markdown":"Which `java` executable is called depends upon the `PATH` variable, not the `JAVA_HOME` variable.","body":"Which <code>java</code> executable is called depends upon the <code>PATH</code> variable, not the <code>JAVA_HOME</code> variable."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1613596473,"post_id":66249928,"comment_id":117127227,"body_markdown":"@PiotrP.Karwasz ... and that is `/usr/bin/java` on all macs, which is just a wrapper that goes elsewhere. Messing with PATH is not how you change that sort of thing.","body":"@PiotrP.Karwasz ... and that is <code>&#47;usr&#47;bin&#47;java</code> on all macs, which is just a wrapper that goes elsewhere. Messing with PATH is not how you change that sort of thing."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1613596659,"post_id":66249928,"comment_id":117127306,"body_markdown":"@rzwitserloot .. which is probably a symbolic link to the real executable.","body":"@rzwitserloot .. which is probably a symbolic link to the real executable."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1613597296,"post_id":66249928,"comment_id":117127543,"body_markdown":"@PiotrP.Karwasz Indeed it is, and that file cannot be overwritten or changed in any way, not even with `sudo`. The only way to do it, is to disable system security which is quite the ordeal and extremely not recommended - that&#39;s absolutely not the way to change mac defaults. I know it&#39;s weird - there is no point trying to assist with this question if you are not familiar with how macs work.","body":"@PiotrP.Karwasz Indeed it is, and that file cannot be overwritten or changed in any way, not even with <code>sudo</code>. The only way to do it, is to disable system security which is quite the ordeal and extremely not recommended - that&#39;s absolutely not the way to change mac defaults. I know it&#39;s weird - there is no point trying to assist with this question if you are not familiar with how macs work."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1613634139,"post_id":66249928,"comment_id":117136507,"body_markdown":"@rzwitserloot you mean `PATH` is *supposed* to contain `/usr/bin/java` (and no other java). You dont really know, what it contains on the OPs machine. On the other hand, we *do know* that something in the OPs environment doesnt work as it is supposed to do.","body":"@rzwitserloot you mean <code>PATH</code> is <i>supposed</i> to contain <code>&#47;usr&#47;bin&#47;java</code> (and no other java). You dont really know, what it contains on the OPs machine. On the other hand, we <i>do know</i> that something in the OPs environment doesnt work as it is supposed to do."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1613656993,"post_id":66249928,"comment_id":117146858,"body_markdown":"@Holger yes, PATH variable shenanigans can explain why OP is observing what they are observing. Messing with PATH is not, however, the right way to change which java version is run when you just type `java` on the command line. At best we can give advise on how to undo the messup there. Piotr and co are strongly suggesting that OP should add the java they prefer to the front of their path, and that is very bad advice.","body":"@Holger yes, PATH variable shenanigans can explain why OP is observing what they are observing. Messing with PATH is not, however, the right way to change which java version is run when you just type <code>java</code> on the command line. At best we can give advise on how to undo the messup there. Piotr and co are strongly suggesting that OP should add the java they prefer to the front of their path, and that is very bad advice."}],"answers":[{"tags":[],"owner":{"account_id":16682690,"reputation":568,"user_id":12057371,"display_name":"vincendep"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1613596079,"creation_date":1613596079,"answer_id":66249967,"question_id":66249928,"body_markdown":"You should ensure that the right java version path come first in your PATH environmental variable","title":"java -version does not change","body":"<p>You should ensure that the right java version path come first in your PATH environmental variable</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1613597226,"creation_date":1613597226,"answer_id":66250194,"question_id":66249928,"body_markdown":"Other answers so far are talking about $PATH. This is a red herring; `/usr/bin/java` is on the path, it should remain on the path, and it is a light wrapper that goes to your actual, selected java installation.\r\n\r\nThe recommended strategy is to just use tools to solve this problem for you, such as [jEnv](https://www.jenv.be). Install it via brew if you have it, otherwise, follow instructions on the site.\r\n\r\nIf you don&#39;t want to go the established route of using jEnv, the not-recommended route is, indeed, to mess with JAVA_HOME. `/usr/bin/java` will use whatever default rolls out of `/usr/libexec/java_home`. java_home will defer to what JAVA_HOME (the environment variable) says; only if it is unset will it give you its own default, which is generally the latest installed and very hard to change otherwise.\r\n\r\nThe fact that it isn&#39;t working for you suggests you have some different kind of shell, or that java version isn&#39;t listed by `java_home`, or you&#39;ve messed with PATH in some very drastic ways (would involve removing security control from your mac disk and such), so I doubt that&#39;s it - doublecheck what you&#39;ve done so far? Which mac version are you on?\r\n\r\nAn example from a mac:\r\n\r\n```\r\n/usr/libexec/java_home\r\n&gt; /Library/Java/JavaVirtualMachines/adoptopenjdk-14.jdk/Contents/Home\r\njava -version\r\n&gt; openjdk version &quot;14.0.1&quot; 2020-04-14\r\n\r\n/usr/libexec/java_home -v 1.8\r\n&gt; /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\r\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\r\n\r\n/usr/libexec/java_home\r\n&gt; /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\r\njava -version\r\n&gt; openjdk version &quot;1.8.0_252&quot;\r\n","title":"java -version does not change","body":"<p>Other answers so far are talking about $PATH. This is a red herring; <code>/usr/bin/java</code> is on the path, it should remain on the path, and it is a light wrapper that goes to your actual, selected java installation.</p>\n<p>The recommended strategy is to just use tools to solve this problem for you, such as <a href=\"https://www.jenv.be\" rel=\"nofollow noreferrer\">jEnv</a>. Install it via brew if you have it, otherwise, follow instructions on the site.</p>\n<p>If you don't want to go the established route of using jEnv, the not-recommended route is, indeed, to mess with JAVA_HOME. <code>/usr/bin/java</code> will use whatever default rolls out of <code>/usr/libexec/java_home</code>. java_home will defer to what JAVA_HOME (the environment variable) says; only if it is unset will it give you its own default, which is generally the latest installed and very hard to change otherwise.</p>\n<p>The fact that it isn't working for you suggests you have some different kind of shell, or that java version isn't listed by <code>java_home</code>, or you've messed with PATH in some very drastic ways (would involve removing security control from your mac disk and such), so I doubt that's it - doublecheck what you've done so far? Which mac version are you on?</p>\n<p>An example from a mac:</p>\n<pre><code>/usr/libexec/java_home\n&gt; /Library/Java/JavaVirtualMachines/adoptopenjdk-14.jdk/Contents/Home\njava -version\n&gt; openjdk version &quot;14.0.1&quot; 2020-04-14\n\n/usr/libexec/java_home -v 1.8\n&gt; /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\n\n/usr/libexec/java_home\n&gt; /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\njava -version\n&gt; openjdk version &quot;1.8.0_252&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4941330,"reputation":939,"user_id":3977935,"display_name":"Adeel Ahmad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640980586,"creation_date":1640980586,"answer_id":70545323,"question_id":66249928,"body_markdown":"**TLDR:**\r\n\r\n 1. `echo $PATH` and copy it&#39;s value\r\n 2. `export PATH=&quot;&quot;`\r\n 3. `export PATH=&quot;/path/from/step1/with/java/removed&quot;`\r\n\r\n**End TLDR**\r\n\r\nHad the same issue with Big Sur when I tried to switch to `java 11`, despite everything pointing to correct values, `java -version` always returned `java 8`\r\n\r\n    $ java -version\r\n    openjdk version &quot;1.8.0_292&quot;\r\n    OpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_292-b10)\r\n    OpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.292-b10, mixed mode)\r\n    \r\n    $ whereis java             \r\n    /usr/bin/java\r\n    \r\n    $ /usr/bin/java -version\r\n    openjdk version &quot;11.0.11&quot; 2021-04-20\r\n    OpenJDK Runtime Environment AdoptOpenJDK-11.0.11+9 (build 11.0.11+9)\r\n    OpenJDK 64-Bit Server VM AdoptOpenJDK-11.0.11+9 (build 11.0.11+9, mixed mode)\r\n    \r\n    $ echo $JAVA_HOME\r\n    /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\r\n    \r\n    $ java -version         \r\n    openjdk version &quot;1.8.0_292&quot;\r\n    OpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_292-b10)\r\n    OpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.292-b10, mixed mode)\r\n    \r\n    $ which java\r\n    /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin/java\r\n\r\nTo fix I had to remove Java SDK from `PATH` using steps in TLDR above\r\n\r\n    $ echo $PATH\r\n    /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/munki:/opt/X11/bin:/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/bin:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin:/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/bin\r\n    \r\n    $ export PATH=&quot;&quot;\r\n    direnv: error can&#39;t find bash: exec: &quot;bash&quot;: executable file not found in $PATH                                                                             \r\n    \r\n    $ export PATH=&quot;/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/munki:/opt/X11/bin&quot;\r\n    \r\n    $ echo $PATH    \r\n    /usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/munki:/opt/X11/bin\r\n\r\nAfterwards\r\n\r\n    $ java -version \r\n    openjdk version &quot;11.0.11&quot; 2021-04-20\r\n    OpenJDK Runtime Environment AdoptOpenJDK-11.0.11+9 (build 11.0.11+9)\r\n    OpenJDK 64-Bit Server VM AdoptOpenJDK-11.0.11+9 (build 11.0.11+9, mixed mode)\r\n\r\n","title":"java -version does not change","body":"<p><strong>TLDR:</strong></p>\n<ol>\n<li><code>echo $PATH</code> and copy it's value</li>\n<li><code>export PATH=&quot;&quot;</code></li>\n<li><code>export PATH=&quot;/path/from/step1/with/java/removed&quot;</code></li>\n</ol>\n<p><strong>End TLDR</strong></p>\n<p>Had the same issue with Big Sur when I tried to switch to <code>java 11</code>, despite everything pointing to correct values, <code>java -version</code> always returned <code>java 8</code></p>\n<pre><code>$ java -version\nopenjdk version &quot;1.8.0_292&quot;\nOpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_292-b10)\nOpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.292-b10, mixed mode)\n\n$ whereis java             \n/usr/bin/java\n\n$ /usr/bin/java -version\nopenjdk version &quot;11.0.11&quot; 2021-04-20\nOpenJDK Runtime Environment AdoptOpenJDK-11.0.11+9 (build 11.0.11+9)\nOpenJDK 64-Bit Server VM AdoptOpenJDK-11.0.11+9 (build 11.0.11+9, mixed mode)\n\n$ echo $JAVA_HOME\n/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\n\n$ java -version         \nopenjdk version &quot;1.8.0_292&quot;\nOpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_292-b10)\nOpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.292-b10, mixed mode)\n\n$ which java\n/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin/java\n</code></pre>\n<p>To fix I had to remove Java SDK from <code>PATH</code> using steps in TLDR above</p>\n<pre><code>$ echo $PATH\n/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/munki:/opt/X11/bin:/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/bin:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin:/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/bin\n\n$ export PATH=&quot;&quot;\ndirenv: error can't find bash: exec: &quot;bash&quot;: executable file not found in $PATH                                                                             \n\n$ export PATH=&quot;/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/munki:/opt/X11/bin&quot;\n\n$ echo $PATH    \n/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/munki:/opt/X11/bin\n</code></pre>\n<p>Afterwards</p>\n<pre><code>$ java -version \nopenjdk version &quot;11.0.11&quot; 2021-04-20\nOpenJDK Runtime Environment AdoptOpenJDK-11.0.11+9 (build 11.0.11+9)\nOpenJDK 64-Bit Server VM AdoptOpenJDK-11.0.11+9 (build 11.0.11+9, mixed mode)\n</code></pre>\n"}],"owner":{"account_id":18757911,"reputation":47,"user_id":13677475,"display_name":"Alam Figueroa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2033,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":3,"score":3,"last_activity_date":1651042762,"creation_date":1613595837,"question_id":66249928,"body_markdown":"I am having trouble changing the version of java running on my Mac running Big Sur 11.2 with zsh. I want to set Java 1.8 as my default, so I used the following commands to set JAVA_HOME:\r\n\r\n    $ unset JAVA_HOME\r\n    $ export JAVA_HOME=$(/usr/libexec/java_home -v &quot;1.8.0_281&quot;)\r\n    $ echo $JAVA_HOME\r\n    /Library/Java/JavaVirtualMachines/jdk1.8.0_281.jdk/Contents/Home\r\n\r\nHowever, when I ran `java -version` I kept getting JDK 15 as the current default. I then removed jdk15 from the JavaVirtualMachines directory and repeated the setting of JAVA_HOME, but I continue to observe the same result. ","title":"java -version does not change","body":"<p>I am having trouble changing the version of java running on my Mac running Big Sur 11.2 with zsh. I want to set Java 1.8 as my default, so I used the following commands to set JAVA_HOME:</p>\n<pre><code>$ unset JAVA_HOME\n$ export JAVA_HOME=$(/usr/libexec/java_home -v &quot;1.8.0_281&quot;)\n$ echo $JAVA_HOME\n/Library/Java/JavaVirtualMachines/jdk1.8.0_281.jdk/Contents/Home\n</code></pre>\n<p>However, when I ran <code>java -version</code> I kept getting JDK 15 as the current default. I then removed jdk15 from the JavaVirtualMachines directory and repeated the setting of JAVA_HOME, but I continue to observe the same result.</p>\n"},{"tags":["java","for-loop","foreach"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1651043175,"post_id":72024253,"comment_id":127264964,"body_markdown":"It&#39;s useless to store the result of `Number.values()` into an extra field of the enum, just use `Number.values()[n]` instead of `Number.getNumber(n)`. \nFor your comparison you also could skip the if-check as you already use  `Number.valueOf(card1Num)`. Just catch an `IllegalArgumentException` that will appear if the parameter of `valueOf` does not match to any of the enums constants.","body":"It&#39;s useless to store the result of <code>Number.values()</code> into an extra field of the enum, just use <code>Number.values()[n]</code> instead of <code>Number.getNumber(n)</code>.  For your comparison you also could skip the if-check as you already use  <code>Number.valueOf(card1Num)</code>. Just catch an <code>IllegalArgumentException</code> that will appear if the parameter of <code>valueOf</code> does not match to any of the enums constants."}],"answers":[{"tags":[],"owner":{"account_id":1326012,"reputation":14772,"user_id":1270789,"accept_rate":81,"display_name":"Ken Y-N"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651042062,"creation_date":1651042062,"answer_id":72024413,"question_id":72024253,"body_markdown":"The problem is that you should fail only if no cards match, not if only the first card doesn&#39;t, so you want to move the failing code to outside the loop like so:\r\n\r\n```\r\nfor (PokerCards.Number n : PokerCards.Number.values()) {\r\n    if(n.name().equals(card1Num)) {\r\n        card1 = new PokerCards(PokerCards.Suit.Diamonds, PokerCards.Number.valueOf(card1Num));\r\n        System.out.println(&quot;Card 1 good to GO&quot;);\r\n        card1Good = true;\r\n    }\r\n}\r\nif (!card1Good)\r\n{\r\n    JFrame popUpError2 = new JFrame();\r\n    JOptionPane.showMessageDialog(popUpError2, &quot;Incorrect Input, Number Input for First Card is incorrect! Please double check&quot; +\r\n                                    &quot; your input&quot;, &quot;ERROR&quot;, JOptionPane.ERROR_MESSAGE);\r\n}\r\n```","title":"Enhanced For-Loop Gets Stuck","body":"<p>The problem is that you should fail only if no cards match, not if only the first card doesn't, so you want to move the failing code to outside the loop like so:</p>\n<pre><code>for (PokerCards.Number n : PokerCards.Number.values()) {\n    if(n.name().equals(card1Num)) {\n        card1 = new PokerCards(PokerCards.Suit.Diamonds, PokerCards.Number.valueOf(card1Num));\n        System.out.println(&quot;Card 1 good to GO&quot;);\n        card1Good = true;\n    }\n}\nif (!card1Good)\n{\n    JFrame popUpError2 = new JFrame();\n    JOptionPane.showMessageDialog(popUpError2, &quot;Incorrect Input, Number Input for First Card is incorrect! Please double check&quot; +\n                                    &quot; your input&quot;, &quot;ERROR&quot;, JOptionPane.ERROR_MESSAGE);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15836589,"reputation":821,"user_id":11426982,"display_name":"Moro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651042570,"creation_date":1651042570,"answer_id":72024499,"question_id":72024253,"body_markdown":"The for loop works fine, the if/else logic is the issue behind errors being thrown on cards other then &#39;Ace&#39;. \r\n\r\nAs you mentioned yourself - if you use &#39;Ace&#39; your code will work without error because &#39;Ace&#39; is the first element in `Number.values()` and the check `n.name().equals(card1Num)` will be `true`, triggering the code in your `if` statement. All other cards will fail on this and throw an error because they will be first matched against &#39;Ace&#39;. If I understand correctly what you want to do I think you should use `findAny()` instead of your `for` loop. The code would be something like this:\r\n\r\n    PokerCards.Number.values().stream().filter(number -&gt; \r\n        number.name().equals(card1Num)).findAny().ifPresentOrElse(card -&gt;  \r\n            {your_if_logic_here}, \r\n            {your_else_logic_here})\r\n\r\n","title":"Enhanced For-Loop Gets Stuck","body":"<p>The for loop works fine, the if/else logic is the issue behind errors being thrown on cards other then 'Ace'.</p>\n<p>As you mentioned yourself - if you use 'Ace' your code will work without error because 'Ace' is the first element in <code>Number.values()</code> and the check <code>n.name().equals(card1Num)</code> will be <code>true</code>, triggering the code in your <code>if</code> statement. All other cards will fail on this and throw an error because they will be first matched against 'Ace'. If I understand correctly what you want to do I think you should use <code>findAny()</code> instead of your <code>for</code> loop. The code would be something like this:</p>\n<pre><code>PokerCards.Number.values().stream().filter(number -&gt; \n    number.name().equals(card1Num)).findAny().ifPresentOrElse(card -&gt;  \n        {your_if_logic_here}, \n        {your_else_logic_here})\n</code></pre>\n"}],"owner":{"account_id":20563357,"reputation":11,"user_id":15093361,"display_name":"Diego Uribe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1651042570,"creation_date":1651041290,"question_id":72024253,"body_markdown":"I have two files PokerCards and Frame.\r\n```\r\nPokerCards is enumeration *my suits work fine*\r\nenum Number {\r\n        Ace, Two, Three, Four, Five, Six, Seven, Eight, Nine, Ten, Jack, Queen, King;\r\n\r\n        public static final Number[] numbers = Number.values();\r\n        public static Number getNumber(int n){\r\n            return Number.numbers[n];\r\n        }\r\n    }\r\n\r\n    private final Number number;\r\n\r\n    //constructor\r\n    public PokerCards(final Suit suit, final Number number){\r\n        this.suit = suit;\r\n        this.number = number;\r\n    }\r\n\r\n\r\n    public Number getNumber(){\r\n        return this.number;\r\n    }\r\n```\r\nBelow is Frame which is to be my GUI. My error checking for suits work perfectly but my numbers...not so much. I am trying to use an enhanced for-loop to match the corresponding enumeration\r\n```\r\n//card1Num is the value of the card such as Ace, Three, King and is recorded via a TextField via the GUI.\r\n\r\ncard1Num = card1TextFieldNum.getText();\r\nif (card1Suit.equalsIgnoreCase(&quot;Diamonds&quot;)){\r\n                    for (PokerCards.Number n : PokerCards.Number.values()) {     //GETS STUCK\r\n                        if(n.name().equals(card1Num)) {\r\n                            card1 = new PokerCards(PokerCards.Suit.Diamonds, PokerCards.Number.valueOf(card1Num));\r\n                            System.out.println(&quot;Card 1 good to GO&quot;);\r\n                            card1Good = true;\r\n                        } else {\r\n                            JFrame popUpError2 = new JFrame();\r\n                            JOptionPane.showMessageDialog(popUpError2, &quot;Incorrect Input, Number Input for First Card is incorrect! Please double check&quot; +\r\n                                    &quot; your input&quot;, &quot;ERROR&quot;, JOptionPane.ERROR_MESSAGE);\r\n                            break;\r\n                        }\r\n                    }\r\n```\r\nEverything works lovely except the enhanced for-loop. As i test other cards i get prompted by my error. It only accepts &#39;Ace&#39;, the first element. Why is my enhanced for-loop getting stuck?","title":"Enhanced For-Loop Gets Stuck","body":"<p>I have two files PokerCards and Frame.</p>\n<pre><code>PokerCards is enumeration *my suits work fine*\nenum Number {\n        Ace, Two, Three, Four, Five, Six, Seven, Eight, Nine, Ten, Jack, Queen, King;\n\n        public static final Number[] numbers = Number.values();\n        public static Number getNumber(int n){\n            return Number.numbers[n];\n        }\n    }\n\n    private final Number number;\n\n    //constructor\n    public PokerCards(final Suit suit, final Number number){\n        this.suit = suit;\n        this.number = number;\n    }\n\n\n    public Number getNumber(){\n        return this.number;\n    }\n</code></pre>\n<p>Below is Frame which is to be my GUI. My error checking for suits work perfectly but my numbers...not so much. I am trying to use an enhanced for-loop to match the corresponding enumeration</p>\n<pre><code>//card1Num is the value of the card such as Ace, Three, King and is recorded via a TextField via the GUI.\n\ncard1Num = card1TextFieldNum.getText();\nif (card1Suit.equalsIgnoreCase(&quot;Diamonds&quot;)){\n                    for (PokerCards.Number n : PokerCards.Number.values()) {     //GETS STUCK\n                        if(n.name().equals(card1Num)) {\n                            card1 = new PokerCards(PokerCards.Suit.Diamonds, PokerCards.Number.valueOf(card1Num));\n                            System.out.println(&quot;Card 1 good to GO&quot;);\n                            card1Good = true;\n                        } else {\n                            JFrame popUpError2 = new JFrame();\n                            JOptionPane.showMessageDialog(popUpError2, &quot;Incorrect Input, Number Input for First Card is incorrect! Please double check&quot; +\n                                    &quot; your input&quot;, &quot;ERROR&quot;, JOptionPane.ERROR_MESSAGE);\n                            break;\n                        }\n                    }\n</code></pre>\n<p>Everything works lovely except the enhanced for-loop. As i test other cards i get prompted by my error. It only accepts 'Ace', the first element. Why is my enhanced for-loop getting stuck?</p>\n"},{"tags":["java","android","xamarin","xamarin.android","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":11156148,"reputation":14182,"user_id":8187800,"display_name":"ColeX"},"score":0,"creation_date":1650613546,"post_id":71961419,"comment_id":127164707,"body_markdown":"Hi ,did you follow the official docs fully : https://learn.microsoft.com/en-us/xamarin/android/data-cloud/google-messaging/firebase-cloud-messaging?","body":"Hi ,did you follow the official docs fully : <a href=\"https://learn.microsoft.com/en-us/xamarin/android/data-cloud/google-messaging/firebase-cloud-messaging\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/xamarin/android/data-cloud/&hellip;</a>?"},{"owner":{"account_id":16577213,"reputation":1,"user_id":11978719,"display_name":"Kwasi Asante"},"score":0,"creation_date":1650652532,"post_id":71961419,"comment_id":127178517,"body_markdown":"Yes I did. I got it work for one build. But every build after that I continued to receive the Invalid_Sender error.","body":"Yes I did. I got it work for one build. But every build after that I continued to receive the Invalid_Sender error."}],"answers":[{"tags":[],"owner":{"account_id":16405322,"reputation":10599,"user_id":11850033,"display_name":"Wendy Zang - MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650938336,"creation_date":1650938336,"answer_id":72007545,"question_id":71961419,"body_markdown":"Normally, this error caused by the json file. Check the information below to confirm.\r\n\r\n 1. Check that you have copied your file in correct project folder and have  set the Build Action to `GoogleServicesJson`. \r\n 2. Check the file is correct and matches with latest\r\n    downloaded google-services.json file in FCM.\r\n 3. Check that is there any duplicate file of google-services.json present in your project.\r\n4. Please note when `google-services.json` is added to the project (and the `GoogleServicesJson` build action is set), the build process extracts the `client ID` and `API` key and then adds these credentials to the merged/generated `AndroidManifest.xml` that resides at `obj/Debug/android/AndroidManifest.xml`. If you could confirm everything is  correect, delete the bin and obj to clean and rebuild and reopen the project may helpful. \r\n5. If you still have this issue, create a new project to follow the steps in the MS docs. https://learn.microsoft.com/en-us/xamarin/android/data-cloud/google-messaging/remote-notifications-with-fcm?tabs=windows","title":"Firebase Android FCM INVALID_SENDER when trying to get token","body":"<p>Normally, this error caused by the json file. Check the information below to confirm.</p>\n<ol>\n<li>Check that you have copied your file in correct project folder and have  set the Build Action to <code>GoogleServicesJson</code>.</li>\n<li>Check the file is correct and matches with latest\ndownloaded google-services.json file in FCM.</li>\n<li>Check that is there any duplicate file of google-services.json present in your project.</li>\n<li>Please note when <code>google-services.json</code> is added to the project (and the <code>GoogleServicesJson</code> build action is set), the build process extracts the <code>client ID</code> and <code>API</code> key and then adds these credentials to the merged/generated <code>AndroidManifest.xml</code> that resides at <code>obj/Debug/android/AndroidManifest.xml</code>. If you could confirm everything is  correect, delete the bin and obj to clean and rebuild and reopen the project may helpful.</li>\n<li>If you still have this issue, create a new project to follow the steps in the MS docs. <a href=\"https://learn.microsoft.com/en-us/xamarin/android/data-cloud/google-messaging/remote-notifications-with-fcm?tabs=windows\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/xamarin/android/data-cloud/google-messaging/remote-notifications-with-fcm?tabs=windows</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9888755,"reputation":1402,"user_id":7322476,"display_name":"Mohit Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651042468,"creation_date":1651042468,"answer_id":72024480,"question_id":71961419,"body_markdown":"&gt; Try this\r\n\r\n   \r\n \r\n\r\n    FirebaseMessaging.getInstance().getToken()\r\n    .addOnCompleteListener(new OnCompleteListener&lt;String&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;String&gt; task) {\r\n          if (!task.isSuccessful()) {\r\n            Log.w(TAG, &quot;Fetching FCM registration token failed&quot;, task.getException());\r\n            return;\r\n          }\r\n\r\n          // Get new FCM registration token\r\n          String token = task.getResult();\r\n\r\n          // Log and toast\r\n          String msg = getString(R.string.msg_token_fmt, token);\r\n          Log.d(TAG, msg);\r\n          Toast.makeText(MainActivity.this, msg, Toast.LENGTH_SHORT).show();\r\n        }\r\n    });","title":"Firebase Android FCM INVALID_SENDER when trying to get token","body":"<blockquote>\n<p>Try this</p>\n</blockquote>\n<pre><code>FirebaseMessaging.getInstance().getToken()\n.addOnCompleteListener(new OnCompleteListener&lt;String&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;String&gt; task) {\n      if (!task.isSuccessful()) {\n        Log.w(TAG, &quot;Fetching FCM registration token failed&quot;, task.getException());\n        return;\n      }\n\n      // Get new FCM registration token\n      String token = task.getResult();\n\n      // Log and toast\n      String msg = getString(R.string.msg_token_fmt, token);\n      Log.d(TAG, msg);\n      Toast.makeText(MainActivity.this, msg, Toast.LENGTH_SHORT).show();\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":16577213,"reputation":1,"user_id":11978719,"display_name":"Kwasi Asante"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651042468,"creation_date":1650578998,"question_id":71961419,"body_markdown":"I created a google-services.json file and added to my android project but when I tried to get a token I received this exception:\r\n```\r\n{\r\nJava.IO.IOException: java.util.concurrent.ExecutionException: java.io.IOException: INVALID_SENDER ---&gt; Java.Util.Concurrent.ExecutionException: java.io.IOException: INVALID_SENDER ---&gt; Java.IO.IOException: INVALID_SENDER\r\n   --- End of inner exception stack trace ---\r\n   --- End of inner exception stack trace ---\r\n  at VTInRoomApp.Droid.XamarinForms.MainActivityXam.OnComplete (Android.Gms.Tasks.Task task) [0x00039] in T:\\Work\\VT\\Dev\\Mobile\\Xamarin\\VTInRoomApp\\VTInRoomApp\\VTInRoomApp.Android\\XamarinForms\\MainActivityXam.cs:157 \r\n  --- End of managed Java.IO.IOException stack trace ---\r\njava.io.IOException: java.util.concurrent.ExecutionException: java.io.IOException: INVALID_SENDER\r\n\tat com.google.firebase.messaging.FirebaseMessaging.blockingGetToken(com.google.firebase:firebase-messaging@@22.0.0:14)\r\n\tat com.google.firebase.messaging.FirebaseMessaging.lambda$getToken$2$FirebaseMessaging(com.google.firebase:firebase-messaging@@22.0.0:1)\r\n\tat com.google.firebase.messaging.FirebaseMessaging$$Lambda$3.run(com.google.firebase:firebase-messaging@@22.0.0)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:428)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:272)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)\r\n\tat com.google.android.gms.common.util.concurrent.zza.run(com.google.android.gms:play-services-basement@@17.6.0:2)\r\n\tat java.lang.Thread.run(Thread.java:761)\r\nCaused by: java.util.concurrent.ExecutionException: java.io.IOException: INVALID_SENDER\r\n\tat com.google.android.gms.tasks.Tasks.zza(com.google.android.gms:play-services-tasks@@17.2.1:5)\r\n\tat com.google.android.gms.tasks.Tasks.await(com.google.android.gms:play-services-tasks@@17.2.1:8)\r\n\tat com.google.firebase.messaging.FirebaseMessaging.blockingGetToken(com.google.firebase:firebase-messaging@@22.0.0:10)\r\n\t... 9 more\r\nCaused by: java.io.IOException: INVALID_SENDER\r\n\tat com.google.firebase.messaging.GmsRpc.handleResponse(com.google.firebase:firebase-messaging@@22.0.0:7)\r\n\tat com.google.firebase.messaging.GmsRpc.lambda$extractResponseWhenComplete$0$GmsRpc(com.google.firebase:firebase-messaging@@22.0.0:1)\r\n\tat com.google.firebase.messaging.GmsRpc$$Lambda$1.then(com.google.firebase:firebase-messaging@@22.0.0)\r\n\tat com.google.android.gms.tasks.zzc.run(com.google.android.gms:play-services-tasks@@17.2.1:3)\r\n\tat com.google.firebase.messaging.GmsRpc$$Lambda$0.execute(com.google.firebase:firebase-messaging@@22.0.0)\r\n\tat com.google.android.gms.tasks.zzd.zza(com.google.android.gms:play-services-tasks@@17.2.1:1)\r\n\tat com.google.android.gms.tasks.zzr.zzb(com.google.android.gms:play-services-tasks@@17.2.1:5)\r\n\tat com.google.android.gms.tasks.zzw.zza(com.google.android.gms:play-services-tasks@@17.2.1:3)\r\n\tat com.google.android.gms.tasks.zzc.run(com.google.android.gms:play-services-tasks@@17.2.1:8)\r\n\tat com.google.android.gms.cloudmessaging.zzz.execute(com.google.android.gms:play-services-cloud-messaging@@17.0.0)\r\n\tat com.google.android.gms.tasks.zzd.zza(com.google.android.gms:play-services-tasks@@17.2.1:1)\r\n\tat com.google.android.gms.tasks.zzr.zzb(com.google.android.gms:play-services-tasks@@17.2.1:5)\r\n\tat com.google.android.gms.tasks.zzw.zza(com.google.android.gms:play-services-tasks@@17.2.1:3)\r\n\tat com.google.android.gms.tasks.TaskCompletionSource.setResult(com.google.android.gms:play-services-tasks@@17.2.1:1)\r\n\tat com.google.android.gms.cloudmessaging.zzp.zzd(com.google.android.gms:play-services-cloud-messaging@@17.0.0:3)\r\n\tat com.google.android.gms.cloudmessaging.zzr.zza(com.google.android.gms:play-services-cloud-messaging@@17.0.0:2)\r\n\tat com.google.android.gms.cloudmessaging.zzf.handleMessage(com.google.android.gms:play-services-cloud-messaging@@17.0.0:14)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:98)\r\n\tat android.os.Looper.loop(Looper.java:154)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:6157)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:912)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:802)\r\n}\r\n\r\n```\r\n\r\nDid I mess up when I created the google-servies.json or is it something in my code?\r\n\r\nThank you very much","title":"Firebase Android FCM INVALID_SENDER when trying to get token","body":"<p>I created a google-services.json file and added to my android project but when I tried to get a token I received this exception:</p>\n<pre><code>{\nJava.IO.IOException: java.util.concurrent.ExecutionException: java.io.IOException: INVALID_SENDER ---&gt; Java.Util.Concurrent.ExecutionException: java.io.IOException: INVALID_SENDER ---&gt; Java.IO.IOException: INVALID_SENDER\n   --- End of inner exception stack trace ---\n   --- End of inner exception stack trace ---\n  at VTInRoomApp.Droid.XamarinForms.MainActivityXam.OnComplete (Android.Gms.Tasks.Task task) [0x00039] in T:\\Work\\VT\\Dev\\Mobile\\Xamarin\\VTInRoomApp\\VTInRoomApp\\VTInRoomApp.Android\\XamarinForms\\MainActivityXam.cs:157 \n  --- End of managed Java.IO.IOException stack trace ---\njava.io.IOException: java.util.concurrent.ExecutionException: java.io.IOException: INVALID_SENDER\n    at com.google.firebase.messaging.FirebaseMessaging.blockingGetToken(com.google.firebase:firebase-messaging@@22.0.0:14)\n    at com.google.firebase.messaging.FirebaseMessaging.lambda$getToken$2$FirebaseMessaging(com.google.firebase:firebase-messaging@@22.0.0:1)\n    at com.google.firebase.messaging.FirebaseMessaging$$Lambda$3.run(com.google.firebase:firebase-messaging@@22.0.0)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:428)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:272)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)\n    at com.google.android.gms.common.util.concurrent.zza.run(com.google.android.gms:play-services-basement@@17.6.0:2)\n    at java.lang.Thread.run(Thread.java:761)\nCaused by: java.util.concurrent.ExecutionException: java.io.IOException: INVALID_SENDER\n    at com.google.android.gms.tasks.Tasks.zza(com.google.android.gms:play-services-tasks@@17.2.1:5)\n    at com.google.android.gms.tasks.Tasks.await(com.google.android.gms:play-services-tasks@@17.2.1:8)\n    at com.google.firebase.messaging.FirebaseMessaging.blockingGetToken(com.google.firebase:firebase-messaging@@22.0.0:10)\n    ... 9 more\nCaused by: java.io.IOException: INVALID_SENDER\n    at com.google.firebase.messaging.GmsRpc.handleResponse(com.google.firebase:firebase-messaging@@22.0.0:7)\n    at com.google.firebase.messaging.GmsRpc.lambda$extractResponseWhenComplete$0$GmsRpc(com.google.firebase:firebase-messaging@@22.0.0:1)\n    at com.google.firebase.messaging.GmsRpc$$Lambda$1.then(com.google.firebase:firebase-messaging@@22.0.0)\n    at com.google.android.gms.tasks.zzc.run(com.google.android.gms:play-services-tasks@@17.2.1:3)\n    at com.google.firebase.messaging.GmsRpc$$Lambda$0.execute(com.google.firebase:firebase-messaging@@22.0.0)\n    at com.google.android.gms.tasks.zzd.zza(com.google.android.gms:play-services-tasks@@17.2.1:1)\n    at com.google.android.gms.tasks.zzr.zzb(com.google.android.gms:play-services-tasks@@17.2.1:5)\n    at com.google.android.gms.tasks.zzw.zza(com.google.android.gms:play-services-tasks@@17.2.1:3)\n    at com.google.android.gms.tasks.zzc.run(com.google.android.gms:play-services-tasks@@17.2.1:8)\n    at com.google.android.gms.cloudmessaging.zzz.execute(com.google.android.gms:play-services-cloud-messaging@@17.0.0)\n    at com.google.android.gms.tasks.zzd.zza(com.google.android.gms:play-services-tasks@@17.2.1:1)\n    at com.google.android.gms.tasks.zzr.zzb(com.google.android.gms:play-services-tasks@@17.2.1:5)\n    at com.google.android.gms.tasks.zzw.zza(com.google.android.gms:play-services-tasks@@17.2.1:3)\n    at com.google.android.gms.tasks.TaskCompletionSource.setResult(com.google.android.gms:play-services-tasks@@17.2.1:1)\n    at com.google.android.gms.cloudmessaging.zzp.zzd(com.google.android.gms:play-services-cloud-messaging@@17.0.0:3)\n    at com.google.android.gms.cloudmessaging.zzr.zza(com.google.android.gms:play-services-cloud-messaging@@17.0.0:2)\n    at com.google.android.gms.cloudmessaging.zzf.handleMessage(com.google.android.gms:play-services-cloud-messaging@@17.0.0:14)\n    at android.os.Handler.dispatchMessage(Handler.java:98)\n    at android.os.Looper.loop(Looper.java:154)\n    at android.app.ActivityThread.main(ActivityThread.java:6157)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:912)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:802)\n}\n\n</code></pre>\n<p>Did I mess up when I created the google-servies.json or is it something in my code?</p>\n<p>Thank you very much</p>\n"},{"tags":["java","spring-boot","redis","openshift","redis-cluster"],"comments":[{"owner":{"account_id":10158538,"reputation":2222,"user_id":7502800,"accept_rate":100,"display_name":"usuario"},"score":0,"creation_date":1651059628,"post_id":72024332,"comment_id":127271098,"body_markdown":"You can have a look at bitnami charts: [chart](https://bitnami.com/stack/redis/helm) and [github](https://github.com/bitnami/charts/tree/master/bitnami/redis)","body":"You can have a look at bitnami charts: <a href=\"https://bitnami.com/stack/redis/helm\" rel=\"nofollow noreferrer\">chart</a> and <a href=\"https://github.com/bitnami/charts/tree/master/bitnami/redis\" rel=\"nofollow noreferrer\">github</a>"}],"owner":{"account_id":14546187,"reputation":970,"user_id":10506380,"display_name":"Aditya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1651041669,"creation_date":1651041669,"question_id":72024332,"body_markdown":"I have a spring boot application which is deployed on open-shift cluster. The application uses Redis, so for that I have also deployed redis docker image on open-shift registry. \r\nThis redis image is simple one.\r\n\r\nI want my redis to be Highly Available.\r\nI have read about redis sentinal but got mostly the theoretical part.\r\nI wanted to know how can I set redis HA on open-shift and connect it to my application as I have done with simple redis.\r\n\r\nAnd also How can I set up redis HA on virtual machines(VM&#39;s)\r\n\r\nAny Thoughts on this ?","title":"Setting Up Redis High Availability (HA) on open-shift cluster and virtual machines (VM&#39;s)","body":"<p>I have a spring boot application which is deployed on open-shift cluster. The application uses Redis, so for that I have also deployed redis docker image on open-shift registry.\nThis redis image is simple one.</p>\n<p>I want my redis to be Highly Available.\nI have read about redis sentinal but got mostly the theoretical part.\nI wanted to know how can I set redis HA on open-shift and connect it to my application as I have done with simple redis.</p>\n<p>And also How can I set up redis HA on virtual machines(VM's)</p>\n<p>Any Thoughts on this ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1650997324,"post_id":72018743,"comment_id":127255348,"body_markdown":"Please read: [Why is Can someone help me? not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is Can someone help me? not an actual question?</a>"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":3,"creation_date":1650997403,"post_id":72018743,"comment_id":127255379,"body_markdown":"countAl= +1;  =&gt; countAl += 1;   or countAl++;","body":"countAl= +1;  =&gt; countAl += 1;   or countAl++;"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1650997876,"post_id":72018743,"comment_id":127255532,"body_markdown":"If you collected the lines into a `Map&lt;String, Integer&gt;`, this would be a simple lookup against the map rather than needing individual counters","body":"If you collected the lines into a <code>Map&lt;String, Integer&gt;</code>, this would be a simple lookup against the map rather than needing individual counters"},{"owner":{"account_id":15685269,"reputation":82,"user_id":11318127,"display_name":"Vaibhav Kaushik"},"score":0,"creation_date":1650998375,"post_id":72018743,"comment_id":127255690,"body_markdown":"As @OneCricketeer mentioned above use Map implementation to have the count value against each name. So that you can later query the Map using key and get the count value against the name.\n\nMap&lt;String, Long&gt; nameCounter = new HashMap&lt;&gt;();\n\nFor each new name enter nameCounter.put(&quot;Ali&quot;, 1) and further check if the name exist than increment the counter like nameCounter.put(&quot;Ali&quot;, nameCounter.get(&quot;Ali&quot;)+1);","body":"As @OneCricketeer mentioned above use Map implementation to have the count value against each name. So that you can later query the Map using key and get the count value against the name.  Map&lt;String, Long&gt; nameCounter = new HashMap&lt;&gt;();  For each new name enter nameCounter.put(&quot;Ali&quot;, 1) and further check if the name exist than increment the counter like nameCounter.put(&quot;Ali&quot;, nameCounter.get(&quot;Ali&quot;)+1);"}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650998262,"creation_date":1650998262,"answer_id":72018942,"question_id":72018743,"body_markdown":"You an do this much simpler:\r\n    \r\n    //Open a reader, this is autoclosed so you don&#39;t need to worry about closing it\r\n    try (BufferedReader reader = new BufferedReader(new FileReader(&quot;path to file&quot;))) {\r\n        //Create a map to hold the counts\r\n\t\tMap&lt;String, Integer&gt; nameCountMap = new HashMap&lt;&gt;();\r\n        //read all of the names, this assumes 1 name per line\r\n\t\tfor (String name = reader.readLine(); name != null; name = reader.readLine()) {\r\n            //merge the value into the count map\r\n\t\t\tnameCountMap.merge(name, 1, (o, n) -&gt; o+n);\r\n\t\t}\r\n\t\t\r\n        //Print out the map \t\r\n\t\tSystem.out.println(nameCountMap);\r\n\t} catch (IOException e) {\r\n\t\te.printStackTrace();\r\n\t}","title":"how can I write a code to read each name in a file","body":"<p>You an do this much simpler:</p>\n<pre><code>//Open a reader, this is autoclosed so you don't need to worry about closing it\ntry (BufferedReader reader = new BufferedReader(new FileReader(&quot;path to file&quot;))) {\n    //Create a map to hold the counts\n    Map&lt;String, Integer&gt; nameCountMap = new HashMap&lt;&gt;();\n    //read all of the names, this assumes 1 name per line\n    for (String name = reader.readLine(); name != null; name = reader.readLine()) {\n        //merge the value into the count map\n        nameCountMap.merge(name, 1, (o, n) -&gt; o+n);\n    }\n    \n    //Print out the map     \n    System.out.println(nameCountMap);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18150273,"reputation":32,"user_id":13203107,"display_name":"salim alzuhairi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1651004961,"creation_date":1651004961,"answer_id":72020162,"question_id":72018743,"body_markdown":"try:\r\n\r\n          for (int i=0; i&lt;list.size(); i++) \r\n       {\r\n           name=list.get(i);\r\n           \r\n           if (name.equals(&quot;Ali&quot;))\r\n           {\r\n               countAl += 1;\r\n           }\r\n          if (name.equals(&quot;Ahmed&quot;))\r\n               {\r\n                   countAh += 1;\r\n               }\r\n              if (name.equals(&quot;Muhammad&quot;))\r\n              {\r\n                  countM += 1;\r\n              }\r\n       }\r\nThis works with me.\r\n\r\n+= is not same =+","title":"how can I write a code to read each name in a file","body":"<p>try:</p>\n<pre><code>      for (int i=0; i&lt;list.size(); i++) \n   {\n       name=list.get(i);\n       \n       if (name.equals(&quot;Ali&quot;))\n       {\n           countAl += 1;\n       }\n      if (name.equals(&quot;Ahmed&quot;))\n           {\n               countAh += 1;\n           }\n          if (name.equals(&quot;Muhammad&quot;))\n          {\n              countM += 1;\n          }\n   }\n</code></pre>\n<p>This works with me.</p>\n<p>+= is not same =+</p>\n"},{"tags":[],"owner":{"account_id":7822670,"reputation":1609,"user_id":5915318,"display_name":"David Kariuki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651041542,"creation_date":1651041542,"answer_id":72024301,"question_id":72018743,"body_markdown":"You need to process each line bearing in mind that the file may be very large in some cases. Better safe than sorry. You need to consider a solution that does not take up so much resources.\r\n\r\n# Streaming Through the File\r\n\r\nI&#39;m going to use a `java.util.Scanner` to run through the contents of the file and retrieve lines serially, one by one:\r\n\r\n    FileInputStream inputStream = null;\r\n    Scanner sc = null;\r\n    try {\r\n        inputStream = new FileInputStream(file_path);\r\n        sc = new Scanner(inputStream, &quot;UTF-8&quot;);\r\n        while (sc.hasNextLine()) {\r\n            String line = sc.nextLine();\r\n            // System.out.println(line);\r\n        }\r\n        // note that Scanner suppresses exceptions\r\n        if (sc.ioException() != null) {\r\n            throw sc.ioException();\r\n        }\r\n    } finally {\r\n        if (inputStream != null) {\r\n            inputStream.close();\r\n        }\r\n        if (sc != null) {\r\n            sc.close();\r\n        }\r\n    }\r\n\r\nThis solution will iterate through all the lines in the file  allowing for processing of each line  without keeping references to them  and in conclusion, without keeping them in memory:\r\n\r\n\r\n# Streaming With Apache Commons IO\r\n\r\nThe same can be achieved using the Commons IO library as well, by using the custom `LineIterator` provided by the library:\r\n\r\n    LineIterator it = FileUtils.lineIterator(your_file, &quot;UTF-8&quot;);\r\n    try {\r\n        while (it.hasNext()) {\r\n            String line = it.nextLine();\r\n            // do something with line\r\n        }\r\n    } finally {\r\n        LineIterator.closeQuietly(it);\r\n    }\r\n\r\n\r\nSince the entire file is not fully in memory  this will also result in pretty conservative memory consumption numbers.\r\n\r\n# BufferedReader\r\n\r\n    try (BufferedReader br = Files.newBufferedReader(Paths.get(&quot;file_name&quot;), StandardCharsets.UTF_8)) {\r\n\r\n        for (String line = null; (line = br.readLine()) != null;) {\r\n            // Do something with the line\r\n        }\r\n    }\r\n\r\n\r\n# ByteBuffer\r\n\r\n    try (SeekableByteChannel ch = Files.newByteChannel(Paths.get(&quot;test.txt&quot;))) {\r\n        ByteBuffer bb = ByteBuffer.allocateDirect(1000);\r\n        for(;;) {\r\n            StringBuilder line = new StringBuilder();\r\n            int n = ch.read(bb);\r\n            // Do something with the line\r\n        }\r\n    }\r\n\r\n\r\nThe above examples will process lines in a large file without iteratively, without exhausting the available memory  which proves quite useful when working with these large files.\r\n\r\n","title":"how can I write a code to read each name in a file","body":"<p>You need to process each line bearing in mind that the file may be very large in some cases. Better safe than sorry. You need to consider a solution that does not take up so much resources.</p>\n<h1>Streaming Through the File</h1>\n<p>I'm going to use a <code>java.util.Scanner</code> to run through the contents of the file and retrieve lines serially, one by one:</p>\n<pre><code>FileInputStream inputStream = null;\nScanner sc = null;\ntry {\n    inputStream = new FileInputStream(file_path);\n    sc = new Scanner(inputStream, &quot;UTF-8&quot;);\n    while (sc.hasNextLine()) {\n        String line = sc.nextLine();\n        // System.out.println(line);\n    }\n    // note that Scanner suppresses exceptions\n    if (sc.ioException() != null) {\n        throw sc.ioException();\n    }\n} finally {\n    if (inputStream != null) {\n        inputStream.close();\n    }\n    if (sc != null) {\n        sc.close();\n    }\n}\n</code></pre>\n<p>This solution will iterate through all the lines in the file  allowing for processing of each line  without keeping references to them  and in conclusion, without keeping them in memory:</p>\n<h1>Streaming With Apache Commons IO</h1>\n<p>The same can be achieved using the Commons IO library as well, by using the custom <code>LineIterator</code> provided by the library:</p>\n<pre><code>LineIterator it = FileUtils.lineIterator(your_file, &quot;UTF-8&quot;);\ntry {\n    while (it.hasNext()) {\n        String line = it.nextLine();\n        // do something with line\n    }\n} finally {\n    LineIterator.closeQuietly(it);\n}\n</code></pre>\n<p>Since the entire file is not fully in memory  this will also result in pretty conservative memory consumption numbers.</p>\n<h1>BufferedReader</h1>\n<pre><code>try (BufferedReader br = Files.newBufferedReader(Paths.get(&quot;file_name&quot;), StandardCharsets.UTF_8)) {\n\n    for (String line = null; (line = br.readLine()) != null;) {\n        // Do something with the line\n    }\n}\n</code></pre>\n<h1>ByteBuffer</h1>\n<pre><code>try (SeekableByteChannel ch = Files.newByteChannel(Paths.get(&quot;test.txt&quot;))) {\n    ByteBuffer bb = ByteBuffer.allocateDirect(1000);\n    for(;;) {\n        StringBuilder line = new StringBuilder();\n        int n = ch.read(bb);\n        // Do something with the line\n    }\n}\n</code></pre>\n<p>The above examples will process lines in a large file without iteratively, without exhausting the available memory  which proves quite useful when working with these large files.</p>\n"}],"owner":{"account_id":25105979,"reputation":13,"user_id":18956153,"display_name":"rava"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72020162,"answer_count":3,"score":1,"last_activity_date":1651041542,"creation_date":1650997174,"question_id":72018743,"body_markdown":"I typed 3 names in the file, and I wanted to write a code to count how many times each name was repeated (Example: Alex was repeated in the file 3 times..and so on). The code I wrote only counted each name once, and this is wrong because the names were repeated more than once. Can you help me with the part that could be the cause of this problem?\r\n\r\n    public class MainClass {\r\n    \r\n    \tpublic static void readFile() throws IOException {\r\n    \t\t//File file;\r\n    \t\tFileWriter writer=null;\r\n    \t\tString name, line;\r\n    \t\tList &lt;String&gt; list = new ArrayList &lt;&gt;();\r\n    \t\tint countM = 0, countAl = 0, countAh = 0; \r\n    \t\t\r\n    \ttry \r\n    \t{\r\n    \tFile file = new File(&quot;\\\\Users\\\\Admin\\\\Desktop\\\\namesList.txt&quot;);\r\n        Scanner scan = new Scanner(file); \r\n     \t   \r\n     \t   while(scan.hasNextLine())\t{ \r\n    \t\t\t\r\n      \t\tline = scan.nextLine();\r\n      \t\tlist.add(line);\r\n    \t\t}\r\n     \t   \r\n     \t   for (int i=0; i&lt;list.size(); i++) \r\n     \t   {\r\n     \t\t   name=list.get(i);\r\n     \t\t   \r\n     \t\t   if (name.equals(&quot;Ali&quot;))\r\n     \t\t   {\r\n     \t\t\t   countAl= +1;\r\n     \t\t   }\r\n     \t\t  if (name.equals(&quot;Ahmed&quot;))\r\n     \t \t\t   {\r\n     \t \t\t\t   countAh= +1;\r\n     \t \t\t   }\r\n     \t\t\t  if (name.equals(&quot;Muhammad&quot;))\r\n     \t\t\t  {\r\n     \t\t\t\t  countM = +1;\r\n     \t\t\t  }\r\n     \t   }\r\n     \t   \r\n    \r\n     \t   Collections.sort(list);\r\n     \t   \r\n     \t    writer = new  FileWriter(&quot;\\\\Users\\\\Admin\\\\Desktop\\\\newNameList&quot;);\r\n    \r\n     \t        for(int i=0; i&lt;list.size(); i++) \r\n     \t        {\r\n     \t        \t\r\n     \t        \tname = list.get(i);\r\n     \t        \twriter.write(name +&quot;\\n&quot;);\r\n     \t        }\r\n     \t         \r\n     \t       writer.close();\r\n     \t       \r\n     \t     System.out.println(&quot;How many times is the name (Ali) in the file? &quot; + countAl);\r\n     \t     System.out.println(&quot;How many times is the name (Ahmed) in the file? &quot; + countAh);\r\n     \t     System.out.println(&quot;How many times is the name (Muhammad) in the file? &quot; + countM);\r\n    \t\r\n    \t}\r\n     \t       \r\n    \t catch(IOException e) {\r\n    \t\tSystem.out.println(e.toString());\r\n    \t}\r\n    }\r\n    \t\r\n    \tpublic static void main(String[] args) throws IOException  {\r\n    \t\r\n    \t\treadFile();\r\n    \t}\r\n    }\r\n\r\n","title":"how can I write a code to read each name in a file","body":"<p>I typed 3 names in the file, and I wanted to write a code to count how many times each name was repeated (Example: Alex was repeated in the file 3 times..and so on). The code I wrote only counted each name once, and this is wrong because the names were repeated more than once. Can you help me with the part that could be the cause of this problem?</p>\n<pre><code>public class MainClass {\n\n    public static void readFile() throws IOException {\n        //File file;\n        FileWriter writer=null;\n        String name, line;\n        List &lt;String&gt; list = new ArrayList &lt;&gt;();\n        int countM = 0, countAl = 0, countAh = 0; \n        \n    try \n    {\n    File file = new File(&quot;\\\\Users\\\\Admin\\\\Desktop\\\\namesList.txt&quot;);\n    Scanner scan = new Scanner(file); \n       \n       while(scan.hasNextLine())    { \n            \n        line = scan.nextLine();\n        list.add(line);\n        }\n       \n       for (int i=0; i&lt;list.size(); i++) \n       {\n           name=list.get(i);\n           \n           if (name.equals(&quot;Ali&quot;))\n           {\n               countAl= +1;\n           }\n          if (name.equals(&quot;Ahmed&quot;))\n               {\n                   countAh= +1;\n               }\n              if (name.equals(&quot;Muhammad&quot;))\n              {\n                  countM = +1;\n              }\n       }\n       \n\n       Collections.sort(list);\n       \n        writer = new  FileWriter(&quot;\\\\Users\\\\Admin\\\\Desktop\\\\newNameList&quot;);\n\n            for(int i=0; i&lt;list.size(); i++) \n            {\n                \n                name = list.get(i);\n                writer.write(name +&quot;\\n&quot;);\n            }\n             \n           writer.close();\n           \n         System.out.println(&quot;How many times is the name (Ali) in the file? &quot; + countAl);\n         System.out.println(&quot;How many times is the name (Ahmed) in the file? &quot; + countAh);\n         System.out.println(&quot;How many times is the name (Muhammad) in the file? &quot; + countM);\n    \n    }\n           \n     catch(IOException e) {\n        System.out.println(e.toString());\n    }\n}\n    \n    public static void main(String[] args) throws IOException  {\n    \n        readFile();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651041490,"creation_date":1650049666,"answer_id":71887981,"question_id":71846897,"body_markdown":"If you&#39;re using Spring Boot, you should [use the `WebClient.Builder` component that&#39;s pre-configured for you][1]. But the real problem is, calling `subscribe` on a `Mono` or `Flux` kicks off a new asynchronous task that might be resolved in the future. By the time your service returns the value, it&#39;s not been filled yet as the asynchronous work is still ongoing.\r\n\r\nIf you want to turn a reactive type into an imperative value, you can use `block()`. Your code snippet could look like:\r\n\r\n\r\n```java\r\n@Service\r\npublic class WeatherService {\r\n\r\nprivate final String APIKEY = &quot;###&quot;;\r\nprivate final WebClient webClient;\r\n\r\n\r\npublic WeatherService(WebClient.Builder builder) {\r\n    this.webClient = builder.baseUrl(&quot;http://api.openweathermap.org/data/2.5/weather&quot;).build();\r\n}\r\n\r\npublic OptumWeather getWeatherByZipCode(String zipCode){\r\n\r\n    return webClient\r\n            .get()\r\n            .uri(uriBuilder -&gt; uriBuilder\r\n                    .queryParam(&quot;zip&quot;, zipCode)\r\n                    .queryParam(&quot;units&quot;, &quot;imperial&quot;)\r\n                    .queryParam(&quot;appid&quot;, APIKEY)\r\n                    .build())\r\n            .accept(MediaType.APPLICATION_JSON)\r\n            .retrieve()\r\n            .bodyToMono(FullWeather.class)\r\n            .map(weatherFull -&gt; {\r\n                    OptumWeather weather = new OptumWeather();\r\n                    weather.setName(weatherFull.getName());\r\n                    weather.setTemp(weatherFull.getMain().getTemp());\r\n                    weather.setFeelsLikeTemp(weatherFull.getMain().getFeelsLike());\r\n                    return weather;\r\n            })\r\n            .block();\r\n}\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.rest-client.webclient","title":"How to use a Spring WebClient to parse specific data from an external API?","body":"<p>If you're using Spring Boot, you should <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.rest-client.webclient\" rel=\"nofollow noreferrer\">use the <code>WebClient.Builder</code> component that's pre-configured for you</a>. But the real problem is, calling <code>subscribe</code> on a <code>Mono</code> or <code>Flux</code> kicks off a new asynchronous task that might be resolved in the future. By the time your service returns the value, it's not been filled yet as the asynchronous work is still ongoing.</p>\n<p>If you want to turn a reactive type into an imperative value, you can use <code>block()</code>. Your code snippet could look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class WeatherService {\n\nprivate final String APIKEY = &quot;###&quot;;\nprivate final WebClient webClient;\n\n\npublic WeatherService(WebClient.Builder builder) {\n    this.webClient = builder.baseUrl(&quot;http://api.openweathermap.org/data/2.5/weather&quot;).build();\n}\n\npublic OptumWeather getWeatherByZipCode(String zipCode){\n\n    return webClient\n            .get()\n            .uri(uriBuilder -&gt; uriBuilder\n                    .queryParam(&quot;zip&quot;, zipCode)\n                    .queryParam(&quot;units&quot;, &quot;imperial&quot;)\n                    .queryParam(&quot;appid&quot;, APIKEY)\n                    .build())\n            .accept(MediaType.APPLICATION_JSON)\n            .retrieve()\n            .bodyToMono(FullWeather.class)\n            .map(weatherFull -&gt; {\n                    OptumWeather weather = new OptumWeather();\n                    weather.setName(weatherFull.getName());\n                    weather.setTemp(weatherFull.getMain().getTemp());\n                    weather.setFeelsLikeTemp(weatherFull.getMain().getFeelsLike());\n                    return weather;\n            })\n            .block();\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":24876567,"reputation":3,"user_id":18750320,"display_name":"justinh9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":727,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71887981,"answer_count":1,"score":0,"last_activity_date":1651041490,"creation_date":1649784548,"question_id":71846897,"body_markdown":"I&#39;m attempting to use the Spring WebFlux WebClient to retrieve data from the openweathermap API. I&#39;ve done this using a RestTemplate no problem, but want to understand the proper way to do this. Essentially, I&#39;m receiving JSON from the openweathermap API which looks as follows:\r\n\r\n    {\r\n      &quot;coord&quot;: {\r\n        &quot;lon&quot;: -122.08,\r\n        &quot;lat&quot;: 37.39\r\n      },\r\n      &quot;weather&quot;: [\r\n        {\r\n          &quot;id&quot;: 800,\r\n          &quot;main&quot;: &quot;Clear&quot;,\r\n          &quot;description&quot;: &quot;clear sky&quot;,\r\n          &quot;icon&quot;: &quot;01d&quot;\r\n        }\r\n      ],\r\n      &quot;base&quot;: &quot;stations&quot;,\r\n      &quot;main&quot;: {\r\n        &quot;temp&quot;: 282.55,\r\n        &quot;feels_like&quot;: 281.86,\r\n        &quot;temp_min&quot;: 280.37,\r\n        &quot;temp_max&quot;: 284.26,\r\n        &quot;pressure&quot;: 1023,\r\n        &quot;humidity&quot;: 100\r\n      },\r\n      &quot;visibility&quot;: 10000,\r\n      &quot;wind&quot;: {\r\n        &quot;speed&quot;: 1.5,\r\n        &quot;deg&quot;: 350\r\n      },\r\n      &quot;clouds&quot;: {\r\n        &quot;all&quot;: 1\r\n      },\r\n      &quot;dt&quot;: 1560350645,\r\n      &quot;sys&quot;: {\r\n        &quot;type&quot;: 1,\r\n        &quot;id&quot;: 5122,\r\n        &quot;message&quot;: 0.0139,\r\n        &quot;country&quot;: &quot;US&quot;,\r\n        &quot;sunrise&quot;: 1560343627,\r\n        &quot;sunset&quot;: 1560396563\r\n      },\r\n      &quot;timezone&quot;: -25200,\r\n      &quot;id&quot;: 420006353,\r\n      &quot;name&quot;: &quot;Mountain View&quot;,\r\n      &quot;cod&quot;: 200\r\n      }    \r\n\r\n    \r\nFrom that data, all I need is the name, temperature, and feels like temperature in either a string, weather object, or json object. I&#39;ve tried to do this in the following manner:\r\n\r\n\r\n        @Service\r\n    public class WeatherService {\r\n    \r\n    private final String APIKEY = &quot;###&quot;;\r\n    private final WebClient webClient;\r\n\r\n\r\n\r\n    public WeatherService() {\r\n        this.webClient = WebClient.create(&quot;http://api.openweathermap.org/data/2.5/weather&quot;);\r\n    }\r\n\r\n    public OptumWeather getWeatherByZipCode(String zipCode){\r\n\r\n        ObjectMapper obj = new ObjectMapper();\r\n        OptumWeather weather = new OptumWeather();\r\n\r\n\r\n\r\n        webClient\r\n                .get()\r\n                .uri(uriBuilder -&gt; uriBuilder\r\n                        .queryParam(&quot;zip&quot;, zipCode)\r\n                        .queryParam(&quot;units&quot;, &quot;imperial&quot;)\r\n                        .queryParam(&quot;appid&quot;, APIKEY)\r\n                        .build())\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .subscribe(m -&gt; {\r\n                    try {\r\n                        FullWeather weatherFull = obj.readValue(m, FullWeather.class);\r\n                        weather.setName(weatherFull.getName());\r\n                        weather.setTemp(weatherFull.getMain().getTemp());\r\n                        weather.setFeelsLikeTemp(weatherFull.getMain().getFeelsLike());\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                });\r\n\r\n\r\n\r\n         return weather;\r\n\r\n    }\r\n\r\nUltimately, though, this results in all null values for the weather object. I can print to the console just fine with the data but nothing else. I&#39;m new to reactive program and lambda&#39;s so there is definitely some misunderstanding on my part.","title":"How to use a Spring WebClient to parse specific data from an external API?","body":"<p>I'm attempting to use the Spring WebFlux WebClient to retrieve data from the openweathermap API. I've done this using a RestTemplate no problem, but want to understand the proper way to do this. Essentially, I'm receiving JSON from the openweathermap API which looks as follows:</p>\n<pre><code>{\n  &quot;coord&quot;: {\n    &quot;lon&quot;: -122.08,\n    &quot;lat&quot;: 37.39\n  },\n  &quot;weather&quot;: [\n    {\n      &quot;id&quot;: 800,\n      &quot;main&quot;: &quot;Clear&quot;,\n      &quot;description&quot;: &quot;clear sky&quot;,\n      &quot;icon&quot;: &quot;01d&quot;\n    }\n  ],\n  &quot;base&quot;: &quot;stations&quot;,\n  &quot;main&quot;: {\n    &quot;temp&quot;: 282.55,\n    &quot;feels_like&quot;: 281.86,\n    &quot;temp_min&quot;: 280.37,\n    &quot;temp_max&quot;: 284.26,\n    &quot;pressure&quot;: 1023,\n    &quot;humidity&quot;: 100\n  },\n  &quot;visibility&quot;: 10000,\n  &quot;wind&quot;: {\n    &quot;speed&quot;: 1.5,\n    &quot;deg&quot;: 350\n  },\n  &quot;clouds&quot;: {\n    &quot;all&quot;: 1\n  },\n  &quot;dt&quot;: 1560350645,\n  &quot;sys&quot;: {\n    &quot;type&quot;: 1,\n    &quot;id&quot;: 5122,\n    &quot;message&quot;: 0.0139,\n    &quot;country&quot;: &quot;US&quot;,\n    &quot;sunrise&quot;: 1560343627,\n    &quot;sunset&quot;: 1560396563\n  },\n  &quot;timezone&quot;: -25200,\n  &quot;id&quot;: 420006353,\n  &quot;name&quot;: &quot;Mountain View&quot;,\n  &quot;cod&quot;: 200\n  }    \n</code></pre>\n<p>From that data, all I need is the name, temperature, and feels like temperature in either a string, weather object, or json object. I've tried to do this in the following manner:</p>\n<pre><code>    @Service\npublic class WeatherService {\n\nprivate final String APIKEY = &quot;###&quot;;\nprivate final WebClient webClient;\n\n\n\npublic WeatherService() {\n    this.webClient = WebClient.create(&quot;http://api.openweathermap.org/data/2.5/weather&quot;);\n}\n\npublic OptumWeather getWeatherByZipCode(String zipCode){\n\n    ObjectMapper obj = new ObjectMapper();\n    OptumWeather weather = new OptumWeather();\n\n\n\n    webClient\n            .get()\n            .uri(uriBuilder -&gt; uriBuilder\n                    .queryParam(&quot;zip&quot;, zipCode)\n                    .queryParam(&quot;units&quot;, &quot;imperial&quot;)\n                    .queryParam(&quot;appid&quot;, APIKEY)\n                    .build())\n            .accept(MediaType.APPLICATION_JSON)\n            .retrieve()\n            .bodyToMono(String.class)\n            .subscribe(m -&gt; {\n                try {\n                    FullWeather weatherFull = obj.readValue(m, FullWeather.class);\n                    weather.setName(weatherFull.getName());\n                    weather.setTemp(weatherFull.getMain().getTemp());\n                    weather.setFeelsLikeTemp(weatherFull.getMain().getFeelsLike());\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            });\n\n\n\n     return weather;\n\n}\n</code></pre>\n<p>Ultimately, though, this results in all null values for the weather object. I can print to the console just fine with the data but nothing else. I'm new to reactive program and lambda's so there is definitely some misunderstanding on my part.</p>\n"},{"tags":["java","gradle","visual-studio-code","daemon"],"answers":[{"tags":[],"owner":{"account_id":5258119,"reputation":2130,"user_id":4200414,"display_name":"Mohale"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561725394,"creation_date":1561725394,"answer_id":56807083,"question_id":54318491,"body_markdown":"I had the same error but it was solved once I restarted my IDE, I was using IntelliJ IDEA on Windows 10. ","title":"Unable to find a usable idle daemon","body":"<p>I had the same error but it was solved once I restarted my IDE, I was using IntelliJ IDEA on Windows 10. </p>\n"},{"tags":[],"owner":{"account_id":9328851,"reputation":66,"user_id":6925206,"display_name":"Atri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592456433,"creation_date":1592456433,"answer_id":62442682,"question_id":54318491,"body_markdown":"It is solved for me by updating the gradle files ","title":"Unable to find a usable idle daemon","body":"<p>It is solved for me by updating the gradle files </p>\n"},{"tags":[],"owner":{"account_id":14686150,"reputation":956,"user_id":10606088,"display_name":"Ruman"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1605582220,"creation_date":1605582220,"answer_id":64868736,"question_id":54318491,"body_markdown":"This problem is happening for using third party packages in which they allocated too much system memory with that your machine is not compatible. May be that&#39;s the reason behind it.\r\n\r\nso how to resolve this issue : \r\n 1. go to `gradle.properties` file and you will find something like `org.gradle.jvmargs=-Xmx1536M`\r\n2. now change it to  `org.gradle.jvmargs=-Xmx1024M`,replace `1024` in place of `1536` after that re-run your emulator. Hopefully this issue will be resolved. ","title":"Unable to find a usable idle daemon","body":"<p>This problem is happening for using third party packages in which they allocated too much system memory with that your machine is not compatible. May be that's the reason behind it.</p>\n<p>so how to resolve this issue :</p>\n<ol>\n<li>go to <code>gradle.properties</code> file and you will find something like <code>org.gradle.jvmargs=-Xmx1536M</code></li>\n<li>now change it to  <code>org.gradle.jvmargs=-Xmx1024M</code>,replace <code>1024</code> in place of <code>1536</code> after that re-run your emulator. Hopefully this issue will be resolved.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14991897,"reputation":81,"user_id":10822670,"display_name":"norullah karimi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610642648,"creation_date":1610642648,"answer_id":65723143,"question_id":54318491,"body_markdown":"if your error is like this :\r\n\r\n    FAILURE: Build failed with an exception.\r\n\r\n    * What went wrong:\r\n    Unable to find a usable idle daemon. I have connected to 100 different daemons but I could not use any of them to run the build.\r\n\r\n\r\nyou know there is two way for fix this that I try and get fixed :\r\n\r\n 1. you can try create : \r\n\r\n        _JAVA_OPTIONS : -Xmx512M in your enviroment variables\r\n\r\n&lt;br&gt;\r\n\r\n 2. start Task Manager with &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;alt&lt;/kbd&gt; +&lt;kbd&gt;delete&lt;/kbd&gt;\r\nand find java and choose the java and click on &lt;kbd&gt;end proccess&lt;/kbd&gt; next try again to build your app.I use the secound way with end proceess and it was successfull.I think your heap is full and need to stop or increase.I hope it usefull =))","title":"Unable to find a usable idle daemon","body":"<p>if your error is like this :</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nUnable to find a usable idle daemon. I have connected to 100 different daemons but I could not use any of them to run the build.\n</code></pre>\n<p>you know there is two way for fix this that I try and get fixed :</p>\n<ol>\n<li><p>you can try create :</p>\n<pre><code>_JAVA_OPTIONS : -Xmx512M in your enviroment variables\n</code></pre>\n</li>\n</ol>\n<br>\n<ol start=\"2\">\n<li>start Task Manager with <kbd>ctrl</kbd> + <kbd>alt</kbd> +<kbd>delete</kbd>\nand find java and choose the java and click on <kbd>end proccess</kbd> next try again to build your app.I use the secound way with end proceess and it was successfull.I think your heap is full and need to stop or increase.I hope it usefull =))</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9904198,"reputation":399,"user_id":7333202,"display_name":"Abdelrahman Mohamed Elakliby"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649107699,"creation_date":1649107699,"answer_id":71743916,"question_id":54318491,"body_markdown":"I turned off my device\r\nThe app was working fine and then I found that error\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd I solved it this way in `gradle.properties`\r\nchange `org.gradle.jvmargs=-Xmx1024M`  instead of `org.gradle.jvmargs=-Xmx1536M`\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BqbV5.png\r\n  [2]: https://i.stack.imgur.com/3u7dF.png","title":"Unable to find a usable idle daemon","body":"<p>I turned off my device\nThe app was working fine and then I found that error</p>\n<p><a href=\"https://i.stack.imgur.com/BqbV5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BqbV5.png\" alt=\"enter image description here\" /></a></p>\n<p>And I solved it this way in <code>gradle.properties</code>\nchange <code>org.gradle.jvmargs=-Xmx1024M</code>  instead of <code>org.gradle.jvmargs=-Xmx1536M</code></p>\n<p><a href=\"https://i.stack.imgur.com/3u7dF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3u7dF.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":11640960,"reputation":201,"user_id":8525393,"display_name":"ff .n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651041083,"creation_date":1651041083,"answer_id":72024213,"question_id":54318491,"body_markdown":"I had this problem and tried many solutions but it did not worked.\r\nI install a Vpn that it caused this problem, uninstall it and sloved problem.","title":"Unable to find a usable idle daemon","body":"<p>I had this problem and tried many solutions but it did not worked.\nI install a Vpn that it caused this problem, uninstall it and sloved problem.</p>\n"}],"owner":{"account_id":13505681,"reputation":71,"user_id":9743839,"display_name":"cranberry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9001,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":6,"score":5,"last_activity_date":1651041083,"creation_date":1548204320,"question_id":54318491,"body_markdown":"I am trying to use Talon SRX with WPILib for First Robotics for Java in Visual Studio Code. I follow the instructions here: https://phoenix-documentation.readthedocs.io/en/latest/ch05a_CppJava.html. But when I get to the step where I try the build test - https://phoenix-documentation.readthedocs.io/en/latest/ch05a_CppJava.html#frc-java-build-test-single-talon - I get the following message:\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nUnable to find a usable idle daemon. I have connected to 100 different daemons but I could not use any of them to run the build. BuildActionParameters were DefaultBuildActionParameters{, currentDir=c:\\Users\\furch\\OneDrive\\Documents\\TalonLibrairy\\Test\\TestTesr, systemProperties size=59, envVariables size=59, logLevel=LIFECYCLE, useDaemon=true, continuous=false, injectedPluginClasspath=[]}.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\nThe terminal process terminated with exit code: 1\r\n\r\nPlease Help if You can.","title":"Unable to find a usable idle daemon","body":"<p>I am trying to use Talon SRX with WPILib for First Robotics for Java in Visual Studio Code. I follow the instructions here: <a href=\"https://phoenix-documentation.readthedocs.io/en/latest/ch05a_CppJava.html\" rel=\"noreferrer\">https://phoenix-documentation.readthedocs.io/en/latest/ch05a_CppJava.html</a>. But when I get to the step where I try the build test - <a href=\"https://phoenix-documentation.readthedocs.io/en/latest/ch05a_CppJava.html#frc-java-build-test-single-talon\" rel=\"noreferrer\">https://phoenix-documentation.readthedocs.io/en/latest/ch05a_CppJava.html#frc-java-build-test-single-talon</a> - I get the following message:</p>\n\n<p>FAILURE: Build failed with an exception.</p>\n\n<ul>\n<li><p>What went wrong:\nUnable to find a usable idle daemon. I have connected to 100 different daemons but I could not use any of them to run the build. BuildActionParameters were DefaultBuildActionParameters{, currentDir=c:\\Users\\furch\\OneDrive\\Documents\\TalonLibrairy\\Test\\TestTesr, systemProperties size=59, envVariables size=59, logLevel=LIFECYCLE, useDaemon=true, continuous=false, injectedPluginClasspath=[]}.</p></li>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p></li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"noreferrer\">https://help.gradle.org</a>\nThe terminal process terminated with exit code: 1</p></li>\n</ul>\n\n<p>Please Help if You can.</p>\n"},{"tags":["java","mapstruct","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651041073,"creation_date":1651041073,"answer_id":72024209,"question_id":72024208,"body_markdown":"The problem was the generated java files having the unused import \r\n\r\n    org.openapitools.jackson.nullable.JsonNullable \r\n\r\nSo while generating the code using openapi-generator passed the following config to ignore the JsonNullable import.\r\n\r\n  \r\n\r\n    &quot;openApiNullable&quot;: false\r\n\r\n ","title":"Erroneous element error with mapstruct and OpenAPI","body":"<p>The problem was the generated java files having the unused import</p>\n<pre><code>org.openapitools.jackson.nullable.JsonNullable \n</code></pre>\n<p>So while generating the code using openapi-generator passed the following config to ignore the JsonNullable import.</p>\n<pre><code>&quot;openApiNullable&quot;: false\n</code></pre>\n"}],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1014,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72024209,"answer_count":1,"score":0,"last_activity_date":1651041073,"creation_date":1651041073,"question_id":72024208,"body_markdown":"While trying to convert the java model generated by openapi-generator with MapStruct getting the following exception\r\n\r\n&gt; error: No implementation was created for EmployeeMapper due to having\r\n&gt; a problem in the erroneous element\r\n&gt; org.openapitools.jackson.nullable.JsonNullable. Hint: this often means\r\n&gt; that some other annotation processor was supposed to process the\r\n&gt; erroneous element. You can also enable MapStruct verbose mode by\r\n&gt; setting -Amapstruct.verbose=true as a compilation argument.","title":"Erroneous element error with mapstruct and OpenAPI","body":"<p>While trying to convert the java model generated by openapi-generator with MapStruct getting the following exception</p>\n<blockquote>\n<p>error: No implementation was created for EmployeeMapper due to having\na problem in the erroneous element\norg.openapitools.jackson.nullable.JsonNullable. Hint: this often means\nthat some other annotation processor was supposed to process the\nerroneous element. You can also enable MapStruct verbose mode by\nsetting -Amapstruct.verbose=true as a compilation argument.</p>\n</blockquote>\n"},{"tags":["java","spring-boot","spring4shell","cve-2022-22965"],"comments":[{"owner":{"account_id":1906088,"reputation":2053,"user_id":1720938,"accept_rate":68,"display_name":"hamid"},"score":0,"creation_date":1650977045,"post_id":72013826,"comment_id":127247430,"body_markdown":"what version of spring boot are you running","body":"what version of spring boot are you running"},{"owner":{"account_id":7278875,"reputation":2373,"user_id":5549301,"accept_rate":38,"display_name":"Udara Seneviratne"},"score":0,"creation_date":1650977092,"post_id":72013826,"comment_id":127247455,"body_markdown":"@Hamid it is 2.6.6","body":"@Hamid it is 2.6.6"},{"owner":{"account_id":1906088,"reputation":2053,"user_id":1720938,"accept_rate":68,"display_name":"hamid"},"score":0,"creation_date":1650977235,"post_id":72013826,"comment_id":127247509,"body_markdown":"2.6.6 has been patched for spring4shell vulnerability: https://spring.io/blog/2022/03/31/spring-boot-2-6-6-available-now","body":"2.6.6 has been patched for spring4shell vulnerability: <a href=\"https://spring.io/blog/2022/03/31/spring-boot-2-6-6-available-now\" rel=\"nofollow noreferrer\">spring.io/blog/2022/03/31/spring-boot-2-6-6-available-now</a>"},{"owner":{"account_id":7278875,"reputation":2373,"user_id":5549301,"accept_rate":38,"display_name":"Udara Seneviratne"},"score":0,"creation_date":1651041025,"post_id":72013826,"comment_id":127264343,"body_markdown":"@hamid I am sorry. Spring boot version is 2.5.3. I have updated the question content accordingly","body":"@hamid I am sorry. Spring boot version is 2.5.3. I have updated the question content accordingly"}],"answers":[{"tags":[],"owner":{"account_id":16319704,"reputation":1245,"user_id":11785852,"display_name":"Ruchira Nawarathna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651039892,"creation_date":1651038948,"answer_id":72023887,"question_id":72013826,"body_markdown":"Request will not be rejected by setting values to webDataBinder.setDisallowedFields().\r\n\r\nWebDataBinder provides two methods setAllowedFields and setDisallowedFields to set the list of attribute names which can be and cannot be used in data binding process for model objects. \r\nThis validation will happen in **org.springframework.validation.DataBinder::doBind** method. inside the doBind method disallowed fields will be removed from the field list\r\n","title":"ControllerAdvice @InitBinder setDisallowedFields doesn&#39;t work","body":"<p>Request will not be rejected by setting values to webDataBinder.setDisallowedFields().</p>\n<p>WebDataBinder provides two methods setAllowedFields and setDisallowedFields to set the list of attribute names which can be and cannot be used in data binding process for model objects.\nThis validation will happen in <strong>org.springframework.validation.DataBinder::doBind</strong> method. inside the doBind method disallowed fields will be removed from the field list</p>\n"}],"owner":{"account_id":7278875,"reputation":2373,"user_id":5549301,"accept_rate":38,"display_name":"Udara Seneviratne"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72023887,"answer_count":1,"score":2,"last_activity_date":1651040958,"creation_date":1650975513,"question_id":72013826,"body_markdown":"A JAVA project has been built with spring boot version 2.5.3.\r\n\r\nDue to the Spring4shell (CVE-2022-22965) security risk, we have to take mitigation actions.\r\n\r\nIt&#39;s not possible to upgrade the Spring Boot version since several other dependencies are incompatible with the latest Spring Boot version.\r\nSo, it has been decided to apply a suggested workaround according to https://www.springcloud.io/post/2022-03/spring-framework-rce-early-announcement/#gsc.tab=0\r\n\r\nAccording to the guide, there are 2 workarounds suggested.\r\n\r\n1. Setting disallowedFields on WebDataBinder through an @ControllerAdvice method\r\n\r\n```\r\n@ControllerAdvice\r\n@Order(Ordered.LOWEST_PRECEDENCE)\r\npublic class BinderControllerAdvice {\r\n\r\n    @InitBinder\r\n    public void setAllowedFields(WebDataBinder dataBinder) {\r\n         String[] denylist = new String[]{&quot;class.*&quot;, &quot;Class.*&quot;, &quot;*.class.*&quot;, &quot;*.Class.*&quot;};\r\n         dataBinder.setDisallowedFields(denylist);\r\n    }\r\n\r\n}\r\n```\r\n\r\n2. Extend RequestMappingHandlerAdapter to update the WebDataBinder:\r\n\r\n```\r\n@Bean\r\n    public WebMvcRegistrations mvcRegistrations() {\r\n        return new WebMvcRegistrations() {\r\n            @Override\r\n            public RequestMappingHandlerAdapter getRequestMappingHandlerAdapter() {\r\n                return new ExtendedRequestMappingHandlerAdapter();\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n    private static class ExtendedRequestMappingHandlerAdapter extends RequestMappingHandlerAdapter {\r\n\r\n        @Override\r\n        protected InitBinderDataBinderFactory createDataBinderFactory(List&lt;InvocableHandlerMethod&gt; methods) {\r\n\r\n            return new ServletRequestDataBinderFactory(methods, getWebBindingInitializer()) {\r\n\r\n                @Override\r\n                protected ServletRequestDataBinder createBinderInstance(\r\n                        Object target, String name, NativeWebRequest request) throws Exception {\r\n                    \r\n                    ServletRequestDataBinder binder = super.createBinderInstance(target, name, request);\r\n                    String[] fields = binder.getDisallowedFields();\r\n                    List&lt;String&gt; fieldList = new ArrayList&lt;&gt;(fields != null ? Arrays.asList(fields) : Collections.emptyList());\r\n                    fieldList.addAll(Arrays.asList(&quot;class.*&quot;, &quot;Class.*&quot;, &quot;*.class.*&quot;, &quot;*.Class.*&quot;));\r\n                    binder.setDisallowedFields(fieldList.toArray(new String[] {}));\r\n                    return binder;\r\n                }\r\n            };\r\n        }\r\n    }\r\n```\r\n\r\nBoth of the approaches have been tried but none of them could reject the following request.\r\n\r\n&gt; HOST:PORT/path?class.module.classLoader.URLs%5B0%5D=0\r\n\r\nWhat can be the missing point of our approach?\r\n\r\n","title":"ControllerAdvice @InitBinder setDisallowedFields doesn&#39;t work","body":"<p>A JAVA project has been built with spring boot version 2.5.3.</p>\n<p>Due to the Spring4shell (CVE-2022-22965) security risk, we have to take mitigation actions.</p>\n<p>It's not possible to upgrade the Spring Boot version since several other dependencies are incompatible with the latest Spring Boot version.\nSo, it has been decided to apply a suggested workaround according to <a href=\"https://www.springcloud.io/post/2022-03/spring-framework-rce-early-announcement/#gsc.tab=0\" rel=\"nofollow noreferrer\">https://www.springcloud.io/post/2022-03/spring-framework-rce-early-announcement/#gsc.tab=0</a></p>\n<p>According to the guide, there are 2 workarounds suggested.</p>\n<ol>\n<li>Setting disallowedFields on WebDataBinder through an @ControllerAdvice method</li>\n</ol>\n<pre><code>@ControllerAdvice\n@Order(Ordered.LOWEST_PRECEDENCE)\npublic class BinderControllerAdvice {\n\n    @InitBinder\n    public void setAllowedFields(WebDataBinder dataBinder) {\n         String[] denylist = new String[]{&quot;class.*&quot;, &quot;Class.*&quot;, &quot;*.class.*&quot;, &quot;*.Class.*&quot;};\n         dataBinder.setDisallowedFields(denylist);\n    }\n\n}\n</code></pre>\n<ol start=\"2\">\n<li>Extend RequestMappingHandlerAdapter to update the WebDataBinder:</li>\n</ol>\n<pre><code>@Bean\n    public WebMvcRegistrations mvcRegistrations() {\n        return new WebMvcRegistrations() {\n            @Override\n            public RequestMappingHandlerAdapter getRequestMappingHandlerAdapter() {\n                return new ExtendedRequestMappingHandlerAdapter();\n            }\n        };\n    }\n\n\n    private static class ExtendedRequestMappingHandlerAdapter extends RequestMappingHandlerAdapter {\n\n        @Override\n        protected InitBinderDataBinderFactory createDataBinderFactory(List&lt;InvocableHandlerMethod&gt; methods) {\n\n            return new ServletRequestDataBinderFactory(methods, getWebBindingInitializer()) {\n\n                @Override\n                protected ServletRequestDataBinder createBinderInstance(\n                        Object target, String name, NativeWebRequest request) throws Exception {\n                    \n                    ServletRequestDataBinder binder = super.createBinderInstance(target, name, request);\n                    String[] fields = binder.getDisallowedFields();\n                    List&lt;String&gt; fieldList = new ArrayList&lt;&gt;(fields != null ? Arrays.asList(fields) : Collections.emptyList());\n                    fieldList.addAll(Arrays.asList(&quot;class.*&quot;, &quot;Class.*&quot;, &quot;*.class.*&quot;, &quot;*.Class.*&quot;));\n                    binder.setDisallowedFields(fieldList.toArray(new String[] {}));\n                    return binder;\n                }\n            };\n        }\n    }\n</code></pre>\n<p>Both of the approaches have been tried but none of them could reject the following request.</p>\n<blockquote>\n<p>HOST:PORT/path?class.module.classLoader.URLs%5B0%5D=0</p>\n</blockquote>\n<p>What can be the missing point of our approach?</p>\n"},{"tags":["java","android","in-app-billing"],"comments":[{"owner":{"account_id":65871,"reputation":10248,"user_id":193545,"accept_rate":70,"display_name":"random"},"score":0,"creation_date":1459506334,"post_id":36351553,"comment_id":60327638,"body_markdown":"Try this: http://stackoverflow.com/questions/15618397/how-to-clear-the-in-app-billing-service-cache","body":"Try this: <a href=\"http://stackoverflow.com/questions/15618397/how-to-clear-the-in-app-billing-service-cache\" title=\"how to clear the in app billing service cache\">stackoverflow.com/questions/15618397/&hellip;</a>"},{"owner":{"account_id":4380301,"reputation":714,"user_id":3572108,"display_name":"Bona Fide"},"score":0,"creation_date":1459509793,"post_id":36351553,"comment_id":60329762,"body_markdown":"@random Thanks for your comment. Unfortunately I already deleted the cache and data of the Google Play app as stated in the question. That didn&#39;t work.","body":"@random Thanks for your comment. Unfortunately I already deleted the cache and data of the Google Play app as stated in the question. That didn&#39;t work."},{"owner":{"account_id":65871,"reputation":10248,"user_id":193545,"accept_rate":70,"display_name":"random"},"score":0,"creation_date":1459512922,"post_id":36351553,"comment_id":60331729,"body_markdown":"ok did you upload and also publish your apk?","body":"ok did you upload and also publish your apk?"},{"owner":{"account_id":4380301,"reputation":714,"user_id":3572108,"display_name":"Bona Fide"},"score":0,"creation_date":1459513794,"post_id":36351553,"comment_id":60332302,"body_markdown":"Yes, the APK is uploaded and published in a closed beta test","body":"Yes, the APK is uploaded and published in a closed beta test"}],"answers":[{"tags":[],"owner":{"account_id":4380301,"reputation":714,"user_id":3572108,"display_name":"Bona Fide"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1459793118,"creation_date":1459793118,"answer_id":36409763,"question_id":36351553,"body_markdown":"Finally I got it to work! The problem was the following: Even though I put the `IInAppBillingService.aidl` in the `com.android.vending.billing` package, the generated class was in the wrong package as you can see in the code below.\r\n\r\n    /*\r\n    * This file is auto-generated.  DO NOT MODIFY.\r\n    * Original file:     C:\\\\path\\\\src\\\\main\\\\aidl\\\\com\\\\android\\\\vending\\\\billing\\\\IInAppBillingService.aidl\r\n    */\r\n    package billing;\r\n\r\n    public interface IInAppBillingService extends android.os.IInterface { //... }\r\n\r\nTo solve this, I deleted and recreated the `com.android.vending.billing` package with the `IInAppBillingService.aidl`. So if you have the same problem, check twice where the `IInAppBillingService.java` was generated.","title":"Billing service unavailable on device. (response: 3:Billing Unavailable)","body":"<p>Finally I got it to work! The problem was the following: Even though I put the <code>IInAppBillingService.aidl</code> in the <code>com.android.vending.billing</code> package, the generated class was in the wrong package as you can see in the code below.</p>\n\n<pre><code>/*\n* This file is auto-generated.  DO NOT MODIFY.\n* Original file:     C:\\\\path\\\\src\\\\main\\\\aidl\\\\com\\\\android\\\\vending\\\\billing\\\\IInAppBillingService.aidl\n*/\npackage billing;\n\npublic interface IInAppBillingService extends android.os.IInterface { //... }\n</code></pre>\n\n<p>To solve this, I deleted and recreated the <code>com.android.vending.billing</code> package with the <code>IInAppBillingService.aidl</code>. So if you have the same problem, check twice where the <code>IInAppBillingService.java</code> was generated.</p>\n"},{"tags":[],"owner":{"account_id":4943063,"reputation":939,"user_id":3979262,"accept_rate":50,"display_name":"Lazaros Papadopoulos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503600687,"creation_date":1503600687,"answer_id":45868996,"question_id":36351553,"body_markdown":"I recently faced this problem. As Bona Fide wrote, the package declaration in IInAppBillingService.aidl must be set to &quot;com.android.vending.billing&quot; and the aidl file should be found inside the corresponding directory using the explorer. Furthermore (and that was the problem in my case), in the IabHelper.java, the string parameter to serviceIntent must be the same as the package name that contains the IInAppBillingService.aidl file.\r\n\r\n    Intent serviceIntent = new Intent(&quot;com.android.vending.billing.InAppBillingService.BIND&quot;);// correct package name: com.android.vending.billing\r\n\r\n        serviceIntent.setPackage(&quot;com.android.vending&quot;);\r\n        List&lt;ResolveInfo&gt; intentServices = mContext.getPackageManager().queryIntentServices(serviceIntent, 0);\r\n        if (intentServices != null &amp;&amp; !intentServices.isEmpty()) {\r\n            // service available to handle that Intent\r\n            mContext.bindService(serviceIntent, mServiceConn, Context.BIND_AUTO_CREATE);\r\n        }\r\n        else {\r\n            // no service available to handle that Intent\r\n            if (listener != null) {\r\n                listener.onIabSetupFinished(\r\n                        new IabResult(BILLING_RESPONSE_RESULT_BILLING_UNAVAILABLE,\r\n                                &quot;Billing service unavailable on device.&quot;));\r\n            }\r\n        }\r\n    }","title":"Billing service unavailable on device. (response: 3:Billing Unavailable)","body":"<p>I recently faced this problem. As Bona Fide wrote, the package declaration in IInAppBillingService.aidl must be set to \"com.android.vending.billing\" and the aidl file should be found inside the corresponding directory using the explorer. Furthermore (and that was the problem in my case), in the IabHelper.java, the string parameter to serviceIntent must be the same as the package name that contains the IInAppBillingService.aidl file.</p>\n\n<pre><code>Intent serviceIntent = new Intent(\"com.android.vending.billing.InAppBillingService.BIND\");// correct package name: com.android.vending.billing\n\n    serviceIntent.setPackage(\"com.android.vending\");\n    List&lt;ResolveInfo&gt; intentServices = mContext.getPackageManager().queryIntentServices(serviceIntent, 0);\n    if (intentServices != null &amp;&amp; !intentServices.isEmpty()) {\n        // service available to handle that Intent\n        mContext.bindService(serviceIntent, mServiceConn, Context.BIND_AUTO_CREATE);\n    }\n    else {\n        // no service available to handle that Intent\n        if (listener != null) {\n            listener.onIabSetupFinished(\n                    new IabResult(BILLING_RESPONSE_RESULT_BILLING_UNAVAILABLE,\n                            \"Billing service unavailable on device.\"));\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13803081,"reputation":472,"user_id":9962650,"display_name":"saber javadi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1651040536,"creation_date":1651040536,"answer_id":72024122,"question_id":36351553,"body_markdown":"if you target android 31 you should add this to your manifest :\r\n\r\n&lt;permission android:name=&quot;android.permission.QUERY_ALL_PACKAGES&quot; /&gt;\r\n\r\n    &lt;queries&gt;\r\n        &lt;intent&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n        &lt;/intent&gt;\r\n    &lt;/queries&gt;\r\n","title":"Billing service unavailable on device. (response: 3:Billing Unavailable)","body":"<p>if you target android 31 you should add this to your manifest :</p>\n\n<pre><code>&lt;queries&gt;\n    &lt;intent&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n    &lt;/intent&gt;\n&lt;/queries&gt;\n</code></pre>\n"}],"owner":{"account_id":4380301,"reputation":714,"user_id":3572108,"display_name":"Bona Fide"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10378,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":36409763,"answer_count":3,"score":10,"last_activity_date":1651040536,"creation_date":1459499296,"question_id":36351553,"body_markdown":"I&#39;ve been struggling with this problem for days now. I know there are a lot of questions with the same problem on SO but i couldn&#39;t get it to work.\n\n**What I have done**\n\n - Uploaded APK in beta phase\n - Created Merchant account\n - Added test user\n\n**Code**\n\n*AndroidManifest.xml*\n\n  `&lt;uses-permission android:name=&quot;com.android.vending.BILLING&quot; /&gt;`\n\n*MainActivity.java*\n\n    public class MainActivity extends AppCompatActivity {\n        private IabHelper mHelper;\n    \n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n            \n            // ...\n            \n            setupInAppBillings();\n        }\n    \n        @Override\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n            if (!mHelper.handleActivityResult(requestCode, resultCode, data)) {\n                super.onActivityResult(requestCode, resultCode, data);\n            }\n        }\n        \n        // [....]\n    \n        private void setupInAppBillings() {\n            String base64EncodedPublicKey = &quot;MY PUBLIC KEY&quot;;\n    \n            mHelper = new IabHelper(this, base64EncodedPublicKey);\n            mHelper.startSetup(new IabHelper.OnIabSetupFinishedListener() {\n                public void onIabSetupFinished(IabResult result) {\n                    if (!result.isSuccess()) {\n                        Toast.makeText(getContext(), &quot;In-app Billing setup failed: &quot; + result, Toast.LENGTH_SHORT).show();\n                    } else {\n                        Toast.makeText(getContext(), &quot;In-app Billing is set up OK&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            });\n        }\n    }\n\n**Tested on**\n\n - Huawei P8 (Google Play Version 6.2.14)\n - In Switzerland, so a supported country for In-App Billing\n\n**What I&#39;ve tried**\n\n - Deleted cache and data from Google Play\n - [Tutorial from Google Developer site][1]\n - Went trough the checklist from user sokie: [answer of sokie][2]\n\nThe only thing I haven&#39;t done from this list is the setup of the License Verification Library (LVL). But I couldn&#39;t find any information that this step is required for an In-App Purchase. If not needed I want to do it without this library because I don&#39;t really need it as stated on the Google Site.\n\n&gt; The Google Play Licensing service is primarily intended for paid applications that wish to verify that the current user did in fact pay for the application on Google Play.\n\nIs there something I miss?\n\n  [1]: http://developer.android.com/training/in-app-billing/preparing-iab-app.html\n  [2]: https://stackoverflow.com/a/15947470/3572108","title":"Billing service unavailable on device. (response: 3:Billing Unavailable)","body":"<p>I've been struggling with this problem for days now. I know there are a lot of questions with the same problem on SO but i couldn't get it to work.</p>\n<p><strong>What I have done</strong></p>\n<ul>\n<li>Uploaded APK in beta phase</li>\n<li>Created Merchant account</li>\n<li>Added test user</li>\n</ul>\n<p><strong>Code</strong></p>\n<p><em>AndroidManifest.xml</em></p>\n<p><code>&lt;uses-permission android:name=&quot;com.android.vending.BILLING&quot; /&gt;</code></p>\n<p><em>MainActivity.java</em></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private IabHelper mHelper;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        \n        // ...\n        \n        setupInAppBillings();\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        if (!mHelper.handleActivityResult(requestCode, resultCode, data)) {\n            super.onActivityResult(requestCode, resultCode, data);\n        }\n    }\n    \n    // [....]\n\n    private void setupInAppBillings() {\n        String base64EncodedPublicKey = &quot;MY PUBLIC KEY&quot;;\n\n        mHelper = new IabHelper(this, base64EncodedPublicKey);\n        mHelper.startSetup(new IabHelper.OnIabSetupFinishedListener() {\n            public void onIabSetupFinished(IabResult result) {\n                if (!result.isSuccess()) {\n                    Toast.makeText(getContext(), &quot;In-app Billing setup failed: &quot; + result, Toast.LENGTH_SHORT).show();\n                } else {\n                    Toast.makeText(getContext(), &quot;In-app Billing is set up OK&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p><strong>Tested on</strong></p>\n<ul>\n<li>Huawei P8 (Google Play Version 6.2.14)</li>\n<li>In Switzerland, so a supported country for In-App Billing</li>\n</ul>\n<p><strong>What I've tried</strong></p>\n<ul>\n<li>Deleted cache and data from Google Play</li>\n<li><a href=\"http://developer.android.com/training/in-app-billing/preparing-iab-app.html\" rel=\"nofollow noreferrer\">Tutorial from Google Developer site</a></li>\n<li>Went trough the checklist from user sokie: <a href=\"https://stackoverflow.com/a/15947470/3572108\">answer of sokie</a></li>\n</ul>\n<p>The only thing I haven't done from this list is the setup of the License Verification Library (LVL). But I couldn't find any information that this step is required for an In-App Purchase. If not needed I want to do it without this library because I don't really need it as stated on the Google Site.</p>\n<blockquote>\n<p>The Google Play Licensing service is primarily intended for paid applications that wish to verify that the current user did in fact pay for the application on Google Play.</p>\n</blockquote>\n<p>Is there something I miss?</p>\n"},{"tags":["java","javafx","jlink","jpackage"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1650824465,"post_id":71991119,"comment_id":127208633,"body_markdown":"What if you get rid of the `--input %PATH_TO_SDK%/lib` bit? Also, if that doesn&#39;t work, you can try making it a console application (I think the command is something like `--win-console`), run the EXE from the command line, and look at the error output (you may have to tell the terminal to wait, depending on how exactly you launch the program; e.g., with PowerShell, you could use `-NoNewWindow -Wait`). What is the error?","body":"What if you get rid of the <code>--input %PATH_TO_SDK%&#47;lib</code> bit? Also, if that doesn&#39;t work, you can try making it a console application (I think the command is something like <code>--win-console</code>), run the EXE from the command line, and look at the error output (you may have to tell the terminal to wait, depending on how exactly you launch the program; e.g., with PowerShell, you could use <code>-NoNewWindow -Wait</code>). What is the error?"},{"owner":{"account_id":19918290,"reputation":95,"user_id":16002438,"display_name":"GregGott"},"score":0,"creation_date":1650827204,"post_id":71991119,"comment_id":127209252,"body_markdown":"Now it is not running on my machine as well. I can see a small window (i think not a cmd) for less than a second. When I get rid of the `--input` I get `Error: Missing argument: --input or --app-image`. No error in PowerShell.","body":"Now it is not running on my machine as well. I can see a small window (i think not a cmd) for less than a second. When I get rid of the <code>--input</code> I get <code>Error: Missing argument: --input or --app-image</code>. No error in PowerShell."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1650835344,"post_id":71991119,"comment_id":127210907,"body_markdown":"Try running directly from the jlinkd image tree, instead of the packaged .exe.  The image tree will have a command-line executable in its bin directory.","body":"Try running directly from the jlinkd image tree, instead of the packaged .exe.  The image tree will have a command-line executable in its bin directory."},{"owner":{"account_id":19918290,"reputation":95,"user_id":16002438,"display_name":"GregGott"},"score":0,"creation_date":1650865715,"post_id":71991119,"comment_id":127215052,"body_markdown":"Yes. The Launcher.bat is working on every machine without any error.","body":"Yes. The Launcher.bat is working on every machine without any error."},{"owner":{"account_id":19918290,"reputation":95,"user_id":16002438,"display_name":"GregGott"},"score":0,"creation_date":1650903785,"post_id":71991119,"comment_id":127228334,"body_markdown":"Ok. Finally some progress. Now I can start the application. But I get this error: &quot;Child process exited with code 1&quot;. The reason because it crashed yesterday is because I used the IntelliJ Java libs...","body":"Ok. Finally some progress. Now I can start the application. But I get this error: &quot;Child process exited with code 1&quot;. The reason because it crashed yesterday is because I used the IntelliJ Java libs..."},{"owner":{"account_id":19918290,"reputation":95,"user_id":16002438,"display_name":"GregGott"},"score":0,"creation_date":1650904292,"post_id":71991119,"comment_id":127228546,"body_markdown":"Yes. Finally output in the terminal `java.lang.ClassNotFoundException: com.example.demo.HelloApplication`. That is interesting, baucause the path to the class is correct.","body":"Yes. Finally output in the terminal <code>java.lang.ClassNotFoundException: com.example.demo.HelloApplication</code>. That is interesting, baucause the path to the class is correct."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1650907528,"post_id":71991119,"comment_id":127229698,"body_markdown":"That does not match the main class name in your question.","body":"That does not match the main class name in your question."},{"owner":{"account_id":19918290,"reputation":95,"user_id":16002438,"display_name":"GregGott"},"score":0,"creation_date":1650912370,"post_id":71991119,"comment_id":127231184,"body_markdown":"I created a new demo Project for testing. But also this error I was able to solve. Now I have this one (Jeez): `Graphics Device initialization failed for :  d3d, sw\nError initializing QuantumRenderer: no suitable pipeline found`","body":"I created a new demo Project for testing. But also this error I was able to solve. Now I have this one (Jeez): <code>Graphics Device initialization failed for :  d3d, sw Error initializing QuantumRenderer: no suitable pipeline found</code>"},{"owner":{"account_id":19918290,"reputation":95,"user_id":16002438,"display_name":"GregGott"},"score":0,"creation_date":1650913399,"post_id":71991119,"comment_id":127231486,"body_markdown":"So, there was a problem with jmods. But now I have the same issue like at the beginning. It is working on my machine. And on others I only see &#39;ClassNotFoundException&#39;.","body":"So, there was a problem with jmods. But now I have the same issue like at the beginning. It is working on my machine. And on others I only see &#39;ClassNotFoundException&#39;."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1650917658,"post_id":71991119,"comment_id":127232652,"body_markdown":"I dont know what your exact issue is, bug you could see this question on [JavaFX exe files](https://stackoverflow.com/questions/69811401/how-to-create-a-standalone-exe-in-java-that-runs-without-an-installer-and-a-jr), specifically the part mentioning the ackman jpackage plugin, though to adapt your project to use it will take some work fir you.  Also see [package info in the JavaFX tag like JPackageScriptFX.","body":"I dont know what your exact issue is, bug you could see this question on <a href=\"https://stackoverflow.com/questions/69811401/how-to-create-a-standalone-exe-in-java-that-runs-without-an-installer-and-a-jr\">JavaFX exe files</a>, specifically the part mentioning the ackman jpackage plugin, though to adapt your project to use it will take some work fir you.  Also see [package info in the JavaFX tag like JPackageScriptFX."},{"owner":{"account_id":19918290,"reputation":95,"user_id":16002438,"display_name":"GregGott"},"score":0,"creation_date":1650988715,"post_id":71991119,"comment_id":127252307,"body_markdown":"All this stuff is only working on my computer on one account. I created a new user on my mac, even the new user can&#39;t open the dmg :-(  (I have the problem on Mac as well). Thanks for all your support!","body":"All this stuff is only working on my computer on one account. I created a new user on my mac, even the new user can&#39;t open the dmg :-(  (I have the problem on Mac as well). Thanks for all your support!"}],"answers":[{"tags":[],"owner":{"account_id":19918290,"reputation":95,"user_id":16002438,"display_name":"GregGott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651040412,"creation_date":1651040412,"answer_id":72024101,"question_id":71991119,"body_markdown":"After a lot of research, I found a GitHub repo which shows how to create dmg and exe files. [Maven jPackage Template][1]\r\n\r\n  [1]: https://github.com/wiverson/maven-jpackage-template","title":"Created .exe from jpackager crashes","body":"<p>After a lot of research, I found a GitHub repo which shows how to create dmg and exe files. <a href=\"https://github.com/wiverson/maven-jpackage-template\" rel=\"nofollow noreferrer\">Maven jPackage Template</a></p>\n"}],"owner":{"account_id":19918290,"reputation":95,"user_id":16002438,"display_name":"GregGott"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72024101,"answer_count":1,"score":0,"last_activity_date":1651040412,"creation_date":1650824197,"question_id":71991119,"body_markdown":"I have a JavaFX Project, which I want to export as a dmg and exe. The export as a dmg file for Mac was no problem.\r\nBut the export as a .exe file for Windows is not working.\r\nI created a jar file and I ran jlink. Then I exported the project with jpackage.\r\nHere is the command:\r\n\r\n    /path/to/jpackage \\\r\n    --input %PATH_TO_SDK%/lib/  \\\r\n    --name &quot;My Project&quot; \\\r\n    --main-jar /path/to/jar.jar \\\r\n    --main-class com.company.project.Main \\\r\n    --type exe \\\r\n    --add-modules javafx.controls,javafx.fxml,javafx.graphics \\\r\n    --module-path %PATH_TO_SDK%/lib/\r\nOn my machine, it is working perfect, but on others (I tested it on two more machines (they do not have Java(FX) installed)) the CMD window crashes instantly.\r\n ","title":"Created .exe from jpackager crashes","body":"<p>I have a JavaFX Project, which I want to export as a dmg and exe. The export as a dmg file for Mac was no problem.\nBut the export as a .exe file for Windows is not working.\nI created a jar file and I ran jlink. Then I exported the project with jpackage.\nHere is the command:</p>\n<pre><code>/path/to/jpackage \\\n--input %PATH_TO_SDK%/lib/  \\\n--name &quot;My Project&quot; \\\n--main-jar /path/to/jar.jar \\\n--main-class com.company.project.Main \\\n--type exe \\\n--add-modules javafx.controls,javafx.fxml,javafx.graphics \\\n--module-path %PATH_TO_SDK%/lib/\n</code></pre>\n<p>On my machine, it is working perfect, but on others (I tested it on two more machines (they do not have Java(FX) installed)) the CMD window crashes instantly.</p>\n"},{"tags":["java","soap","cxf","netweaver"],"comments":[{"owner":{"account_id":542551,"reputation":10395,"user_id":911419,"accept_rate":79,"display_name":"Suncatcher"},"score":0,"creation_date":1650960115,"post_id":72006438,"comment_id":127241136,"body_markdown":"`or at least I assume that is the scenario, I am not 100% sure about that` so how do you gonna consume the service if you do not know its authentication type and methods? looks like penetration testing and unauthorized trial to intrude into third-party system","body":"<code>or at least I assume that is the scenario, I am not 100% sure about that</code> so how do you gonna consume the service if you do not know its authentication type and methods? looks like penetration testing and unauthorized trial to intrude into third-party system"},{"owner":{"account_id":1401411,"reputation":826,"user_id":1330130,"display_name":"jmiguel77"},"score":0,"creation_date":1650988839,"post_id":72006438,"comment_id":127252354,"body_markdown":"the infrastructure is provided by my client, and they are unwilling or unable (mostly unable) to share all the details with my dev team","body":"the infrastructure is provided by my client, and they are unwilling or unable (mostly unable) to share all the details with my dev team"}],"owner":{"account_id":1401411,"reputation":826,"user_id":1330130,"display_name":"jmiguel77"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651039793,"creation_date":1650926496,"question_id":72006438,"body_markdown":"I am trying to consume a WebService using Apache CXF, said WebService is a SOAP WebService published by some SAP software and secured by NetWeaver (or at least I assume that is the scenario, I am not 100% sure about that)\r\n\r\nWhen I try to consume the web service using SoapUI, I can succesfully get an answer from the server. Username and Password are stored as properties of the request\r\n\r\nThe log of this exchange is pasted here: https://pastebin.com/c5V5rKEk ; I can see in that log that the request is made using POST method, and that it fails at first because is not authenticated, but then it sends Basic authentication and succeeds\r\n\r\n&gt; HTTP/1.1 401 Unauthorized &lt;br&gt;\r\n&gt; server: SAP NetWeaver Application Server 7.49 / AS Java 7.40\r\n\r\nNow, I am trying to consume the same service using classes created by apache cxf maven plugin (cxf-codegen-plugin). This is the code I have so far with these classes:\r\n\r\n            JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();\r\n            factory.setServiceClass(TablasSIOS.class);\r\n            factory.setAddress(&quot;http://cvwqpo.kccl.cl:50000/dir/wsdl?p=sa/25dfc7b838943e78afee37d7eccd85f9&quot;);\r\n    \r\n            TablasSIOS operation = (TablasSIOS) factory.create();\r\n    \r\n            Client client = ClientProxy.getClient(operation);\r\n            HTTPConduit http = (HTTPConduit) client.getConduit();\r\n    \r\n            AuthorizationPolicy authorizationPolicy  = new AuthorizationPolicy();\r\n            authorizationPolicy.setUserName(&quot;username&quot;);\r\n            authorizationPolicy.setPassword(&quot;password&quot;);\r\n            http.setAuthorization(authorizationPolicy);\r\n    \r\n            TablasREQDT request = new TablasREQDT();\r\n            request.setId(&quot;RA&quot;);\r\n            request.setFiltro1(&quot;GERENTE&quot;);\r\n    \r\n            TablasRESDT response = operation.tablasSIOS(request);\r\n\r\nWhen I execute this code, I always get this error message:\r\n\r\n    Exception in thread &quot;main&quot; javax.xml.ws.WebServiceException: Could not send Message.\r\n    \tat org.apache.cxf.jaxws.JaxWsClientProxy.mapException(JaxWsClientProxy.java:183)\r\n    \tat org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:145)\r\n    \tat com.sun.proxy.$Proxy46.tablasSIOS(Unknown Source)\r\n    \tat cl.komatsu.consultamontocargo.WSTest.main(WSTest.java:52)\r\n    Caused by: org.apache.cxf.transport.http.HTTPException: HTTP response &#39;405: Method Not Allowed&#39; when communicating with http://cvwqpo.kccl.cl:50000/dir/wsdl?p=sa/25dfc7b838943e78afee37d7eccd85f9\r\n\r\nAny help is greatly appreciated\r\n","title":"Cannot consume SAP WebService using Apache CXF","body":"<p>I am trying to consume a WebService using Apache CXF, said WebService is a SOAP WebService published by some SAP software and secured by NetWeaver (or at least I assume that is the scenario, I am not 100% sure about that)</p>\n<p>When I try to consume the web service using SoapUI, I can succesfully get an answer from the server. Username and Password are stored as properties of the request</p>\n<p>The log of this exchange is pasted here: <a href=\"https://pastebin.com/c5V5rKEk\" rel=\"nofollow noreferrer\">https://pastebin.com/c5V5rKEk</a> ; I can see in that log that the request is made using POST method, and that it fails at first because is not authenticated, but then it sends Basic authentication and succeeds</p>\n<blockquote>\n<p>HTTP/1.1 401 Unauthorized <br>\nserver: SAP NetWeaver Application Server 7.49 / AS Java 7.40</p>\n</blockquote>\n<p>Now, I am trying to consume the same service using classes created by apache cxf maven plugin (cxf-codegen-plugin). This is the code I have so far with these classes:</p>\n<pre><code>        JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();\n        factory.setServiceClass(TablasSIOS.class);\n        factory.setAddress(&quot;http://cvwqpo.kccl.cl:50000/dir/wsdl?p=sa/25dfc7b838943e78afee37d7eccd85f9&quot;);\n\n        TablasSIOS operation = (TablasSIOS) factory.create();\n\n        Client client = ClientProxy.getClient(operation);\n        HTTPConduit http = (HTTPConduit) client.getConduit();\n\n        AuthorizationPolicy authorizationPolicy  = new AuthorizationPolicy();\n        authorizationPolicy.setUserName(&quot;username&quot;);\n        authorizationPolicy.setPassword(&quot;password&quot;);\n        http.setAuthorization(authorizationPolicy);\n\n        TablasREQDT request = new TablasREQDT();\n        request.setId(&quot;RA&quot;);\n        request.setFiltro1(&quot;GERENTE&quot;);\n\n        TablasRESDT response = operation.tablasSIOS(request);\n</code></pre>\n<p>When I execute this code, I always get this error message:</p>\n<pre><code>Exception in thread &quot;main&quot; javax.xml.ws.WebServiceException: Could not send Message.\n    at org.apache.cxf.jaxws.JaxWsClientProxy.mapException(JaxWsClientProxy.java:183)\n    at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:145)\n    at com.sun.proxy.$Proxy46.tablasSIOS(Unknown Source)\n    at cl.komatsu.consultamontocargo.WSTest.main(WSTest.java:52)\nCaused by: org.apache.cxf.transport.http.HTTPException: HTTP response '405: Method Not Allowed' when communicating with http://cvwqpo.kccl.cl:50000/dir/wsdl?p=sa/25dfc7b838943e78afee37d7eccd85f9\n</code></pre>\n<p>Any help is greatly appreciated</p>\n"},{"tags":["java","html","selenium","selenium-webdriver","xpath"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1649320116,"post_id":71778617,"comment_id":126847157,"body_markdown":"You have to extract _`cor`_ and _`tly`_ from the text node and _`rec`_ from the `&lt;mark&gt;` node.","body":"You have to extract <i><code>cor</code></i> and <i><code>tly</code></i> from the text node and <i><code>rec</code></i> from the <code>&lt;mark&gt;</code> node."},{"owner":{"account_id":17051322,"reputation":11,"user_id":12336893,"display_name":"Elladee"},"score":0,"creation_date":1649321972,"post_id":71778617,"comment_id":126847833,"body_markdown":"well yes, that&#39;s my problem actually. I can get the text `cor`, the text `tly`, and the `rec` from the `&lt;mark&gt;` node, but how do I check that these three elements are 1. in the same div, and 2. follow one another? I have tried to get the entire text from the div, which worked, but that text doesn&#39;t contain the `mark` tag, it&#39;s only inner text.","body":"well yes, that&#39;s my problem actually. I can get the text <code>cor</code>, the text <code>tly</code>, and the <code>rec</code> from the <code>&lt;mark&gt;</code> node, but how do I check that these three elements are 1. in the same div, and 2. follow one another? I have tried to get the entire text from the div, which worked, but that text doesn&#39;t contain the <code>mark</code> tag, it&#39;s only inner text."},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1649322185,"post_id":71778617,"comment_id":126847930,"body_markdown":"_but how do I check that these three elements are 1. in the same div, and 2. follow one another_: That&#39;s reverse engineering. Selenium helps you to identify elements based on tags like `&lt;div&gt;` where as you are asking th reverse :) What is your Testcase all about?","body":"<i>but how do I check that these three elements are 1. in the same div, and 2. follow one another</i>: That&#39;s reverse engineering. Selenium helps you to identify elements based on tags like <code>&lt;div&gt;</code> where as you are asking th reverse :) What is your Testcase all about?"},{"owner":{"account_id":17051322,"reputation":11,"user_id":12336893,"display_name":"Elladee"},"score":0,"creation_date":1649322777,"post_id":71778617,"comment_id":126848167,"body_markdown":"I need to test a search functionality. When I search a word, or part of a word, the result page shows different divs that contains the searched text, and this text is highlighted with the `mark` tag. So I need to check that not only the word is found, but also that it is highlighted. I can do that just fine, but I was trying to check if, in case of a part of word search, I can find the parts not highlighted and the highlighted part =&gt; I can find `&lt;mark&gt;correctly&lt;/mark&gt;`, and `&lt;mark&gt;rec&lt;/mark&gt;`, but I wanted to check if I could find `cor&lt;mark&gt;rec&lt;/mark&gt;tly`.","body":"I need to test a search functionality. When I search a word, or part of a word, the result page shows different divs that contains the searched text, and this text is highlighted with the <code>mark</code> tag. So I need to check that not only the word is found, but also that it is highlighted. I can do that just fine, but I was trying to check if, in case of a part of word search, I can find the parts not highlighted and the highlighted part =&gt; I can find <code>&lt;mark&gt;correctly&lt;&#47;mark&gt;</code>, and <code>&lt;mark&gt;rec&lt;&#47;mark&gt;</code>, but I wanted to check if I could find <code>cor&lt;mark&gt;rec&lt;&#47;mark&gt;tly</code>."},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1649322984,"post_id":71778617,"comment_id":126848252,"body_markdown":"Is your test aim to print `cor&lt;mark&gt;rec&lt;/mark&gt;tly`?","body":"Is your test aim to print <code>cor&lt;mark&gt;rec&lt;&#47;mark&gt;tly</code>?"},{"owner":{"account_id":17051322,"reputation":11,"user_id":12336893,"display_name":"Elladee"},"score":0,"creation_date":1649325167,"post_id":71778617,"comment_id":126849109,"body_markdown":"yes, exactly what I&#39;m trying to do. I tried to do that by xpath, but haven&#39;t succeeded to find the right way to write it I guess because the test always fails.","body":"yes, exactly what I&#39;m trying to do. I tried to do that by xpath, but haven&#39;t succeeded to find the right way to write it I guess because the test always fails."}],"answers":[{"tags":[],"owner":{"account_id":1856464,"reputation":514,"user_id":1681917,"accept_rate":100,"display_name":"Ahamed Abdul Rahman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651039513,"creation_date":1651039513,"answer_id":72023977,"question_id":71778617,"body_markdown":"You can try **innerHTML** attribute.\r\n\r\n    String innerHTML = driver.findElement(By.xpath(&quot;//div[@class=&#39;faq-node-body&#39;]&quot;)).getAttribute(&quot;innerHTML&quot;);\r\n\r\nThis will have complete HTML text inside this locator. From there you can validate your data.","title":"On Selenium WebDriver how to get Text from div with Mark Tag","body":"<p>You can try <strong>innerHTML</strong> attribute.</p>\n<pre><code>String innerHTML = driver.findElement(By.xpath(&quot;//div[@class='faq-node-body']&quot;)).getAttribute(&quot;innerHTML&quot;);\n</code></pre>\n<p>This will have complete HTML text inside this locator. From there you can validate your data.</p>\n"}],"owner":{"account_id":17051322,"reputation":11,"user_id":12336893,"display_name":"Elladee"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651039513,"creation_date":1649319521,"question_id":71778617,"body_markdown":"On Selenium Webdriver, how I can retrieve entire text from div with Mark Tag?\r\n\r\nI need to verify that the word &#39;correctly&#39; is present.\r\n\r\nExample HTML code:\r\n\r\n```\r\n&lt;div class=&quot;faq-node-body&quot;&gt;\r\nblah blah blah cor&lt;mark&gt;rec&lt;/mark&gt;tly blah blah blah\r\n&lt;/div&gt;\r\n```\r\nI manage to verify the &#39;rec&#39; inside the mark tag\r\n(I use java) \r\n\r\n```\r\nwebElement  = driver.findElement(By.xpath(&quot;//div[@class=&#39;faq-node-body&#39; and contains(text(), &#39;cor&#39;)]//mark[contains(text(),rec)]&quot;));\r\n```\r\nBut my webElement is only &#39;rec&#39;.\r\nDoes anybody know how to check that the entire word &#39;correctly&#39; is present with a mark tag on the &#39;rec&#39; part of the word?\r\n\r\n\r\n","title":"On Selenium WebDriver how to get Text from div with Mark Tag","body":"<p>On Selenium Webdriver, how I can retrieve entire text from div with Mark Tag?</p>\n<p>I need to verify that the word 'correctly' is present.</p>\n<p>Example HTML code:</p>\n<pre><code>&lt;div class=&quot;faq-node-body&quot;&gt;\nblah blah blah cor&lt;mark&gt;rec&lt;/mark&gt;tly blah blah blah\n&lt;/div&gt;\n</code></pre>\n<p>I manage to verify the 'rec' inside the mark tag\n(I use java)</p>\n<pre><code>webElement  = driver.findElement(By.xpath(&quot;//div[@class='faq-node-body' and contains(text(), 'cor')]//mark[contains(text(),rec)]&quot;));\n</code></pre>\n<p>But my webElement is only 'rec'.\nDoes anybody know how to check that the entire word 'correctly' is present with a mark tag on the 'rec' part of the word?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":1,"creation_date":1651041626,"post_id":72023936,"comment_id":127264510,"body_markdown":"This is the default behaviour. If you need something else, then create your own custom dialog.","body":"This is the default behaviour. If you need something else, then create your own custom dialog."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651042121,"post_id":72023936,"comment_id":127264648,"body_markdown":"If it were centred, it would look ugly as it would be too close to the label. Also, should that not say &quot;Login successful&quot;?","body":"If it were centred, it would look ugly as it would be too close to the label. Also, should that not say &quot;Login successful&quot;?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1651042484,"post_id":72023936,"comment_id":127264770,"body_markdown":"For me, using [CrossPlatformLookAndFeel](https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html#available) with Java 8 on Windows 10, the button **is** centered. What platform are you on? (Looks like MacOS from your image.) What look-and-feel are you using? What Java version are you using?","body":"For me, using <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html#available\" rel=\"nofollow noreferrer\">CrossPlatformLookAndFeel</a> with Java 8 on Windows 10, the button <b>is</b> centered. What platform are you on? (Looks like MacOS from your image.) What look-and-feel are you using? What Java version are you using?"},{"owner":{"account_id":25111968,"reputation":23,"user_id":18961489,"display_name":"Shen Henry"},"score":0,"creation_date":1651091639,"post_id":72023936,"comment_id":127283182,"body_markdown":"@Abra Hi, my platform is macOS. I just use the default setting and I do not sure if I used look-and-feel since I was new to java swing. Also I just use the java 8. If i need to use look-and-feel, could you tell how to use it? Thanks","body":"@Abra Hi, my platform is macOS. I just use the default setting and I do not sure if I used look-and-feel since I was new to java swing. Also I just use the java 8. If i need to use look-and-feel, could you tell how to use it? Thanks"}],"owner":{"account_id":25111968,"reputation":23,"user_id":18961489,"display_name":"Shen Henry"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651039319,"creation_date":1651039319,"question_id":72023936,"body_markdown":"[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HfAyZ.png\r\n\r\nHere is code, as you can see the button is not centered.\r\n\r\n    login.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    // TODO Auto-generated method stub\r\n                    if(true){\r\n                        JOptionPane.showMessageDialog(null, &quot;Successfully login&quot;,\r\n                                null, JOptionPane.PLAIN_MESSAGE);\r\n                    }\r\n                    else{\r\n                        JOptionPane.showMessageDialog(null, &quot;No such an account, please register a new account&quot;,\r\n                                null, JOptionPane.PLAIN_MESSAGE);\r\n                    }\r\n                }\r\n        });\r\n        }","title":"How to centered button(ok) in JOptionPane","body":"<p><a href=\"https://i.stack.imgur.com/HfAyZ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Here is code, as you can see the button is not centered.</p>\n<pre><code>login.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                // TODO Auto-generated method stub\n                if(true){\n                    JOptionPane.showMessageDialog(null, &quot;Successfully login&quot;,\n                            null, JOptionPane.PLAIN_MESSAGE);\n                }\n                else{\n                    JOptionPane.showMessageDialog(null, &quot;No such an account, please register a new account&quot;,\n                            null, JOptionPane.PLAIN_MESSAGE);\n                }\n            }\n    });\n    }\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651038793,"creation_date":1651038793,"answer_id":72023864,"question_id":72023806,"body_markdown":"&gt; My problem is can we create two databases in a single project?\r\n\r\nYes, you can create [multiple Realtime Database instances][1] in the same project.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/database/usage/sharding#create_multiple_instances","title":"Can we create multiple database in firebase for multiple reasons? This is for android platform and language is java","body":"<blockquote>\n<p>My problem is can we create two databases in a single project?</p>\n</blockquote>\n<p>Yes, you can create <a href=\"https://firebase.google.com/docs/database/usage/sharding#create_multiple_instances\" rel=\"nofollow noreferrer\">multiple Realtime Database instances</a> in the same project.</p>\n"}],"owner":{"account_id":23244589,"reputation":31,"user_id":17333344,"display_name":"who the gamer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651038846,"creation_date":1651038369,"question_id":72023806,"body_markdown":"I already created a database on Firebase for user authentication. Now I need to make another firebase Realtime database to store users working days. My problem is can we create two databases in a single project?","title":"Can we create multiple database in firebase for multiple reasons? This is for android platform and language is java","body":"<p>I already created a database on Firebase for user authentication. Now I need to make another firebase Realtime database to store users working days. My problem is can we create two databases in a single project?</p>\n"},{"tags":["java","allure","playwright-java"],"comments":[{"owner":{"account_id":15120200,"reputation":632,"user_id":10911205,"display_name":"Dilip Meghwal"},"score":0,"creation_date":1651062709,"post_id":72023823,"comment_id":127272277,"body_markdown":"I think https://playwright.dev/java/docs/screenshots this can help you. and the method mentioned in question is with cucumber. You can try playwright with cucumber.","body":"I think <a href=\"https://playwright.dev/java/docs/screenshots\" rel=\"nofollow noreferrer\">playwright.dev/java/docs/screenshots</a> this can help you. and the method mentioned in question is with cucumber. You can try playwright with cucumber."},{"owner":{"account_id":25111565,"reputation":1,"user_id":18961142,"display_name":"Shilpa k"},"score":0,"creation_date":1651205957,"post_id":72023823,"comment_id":127313565,"body_markdown":"Yeah we can use this but saved screenshots are not coming in the allure report","body":"Yeah we can use this but saved screenshots are not coming in the allure report"}],"owner":{"account_id":25111565,"reputation":1,"user_id":18961142,"display_name":"Shilpa k"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":992,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651038477,"creation_date":1651038477,"question_id":72023823,"body_markdown":"Selenium : Take screenshot method:\r\n\r\n     &quot; if (scenario.isFailed()) {\r\n    String screenshotName = scenario.getName().replaceAll( , _);\r\n    try {\r\n    TakesScreenshot ts = (TakesScreenshot) driver;\r\n    File sourcePath = ts.getScreenshotAs(OutputType.FILE);\r\n    File destinationPath = new File(\r\n    System.getProperty(user.dir) + \\\\target\\\\cucumber-reports\\\\screenshots\\\\ + screenshotName + .png); &quot;\r\n\r\n\r\n\r\nTakes screenshot method is available is selenium, we need a solution for java+playwright\r\nor if allure-selenide also helps.","title":"Java Allure Report - Playwright | how to take screenshot on test failure","body":"<p>Selenium : Take screenshot method:</p>\n<pre><code> &quot; if (scenario.isFailed()) {\nString screenshotName = scenario.getName().replaceAll( , _);\ntry {\nTakesScreenshot ts = (TakesScreenshot) driver;\nFile sourcePath = ts.getScreenshotAs(OutputType.FILE);\nFile destinationPath = new File(\nSystem.getProperty(user.dir) + \\\\target\\\\cucumber-reports\\\\screenshots\\\\ + screenshotName + .png); &quot;\n</code></pre>\n<p>Takes screenshot method is available is selenium, we need a solution for java+playwright\nor if allure-selenide also helps.</p>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":5972234,"reputation":1474,"user_id":4694248,"accept_rate":60,"display_name":"Manu"},"score":0,"creation_date":1441635744,"post_id":32440873,"comment_id":52745648,"body_markdown":"You want an Interface with implementation? That wouldn&#39;t even compile. Unless I&#39;m not understanding your question.","body":"You want an Interface with implementation? That wouldn&#39;t even compile. Unless I&#39;m not understanding your question."},{"owner":{"account_id":118763,"reputation":22824,"user_id":1015678,"accept_rate":67,"display_name":"Lahiru Chandima"},"score":2,"creation_date":1441635857,"post_id":32440873,"comment_id":52745698,"body_markdown":"In java 8, you can specify a default implementation to interface methods, making it optional for an implementer of the interface to implement the method.","body":"In java 8, you can specify a default implementation to interface methods, making it optional for an implementer of the interface to implement the method."},{"owner":{"account_id":5972234,"reputation":1474,"user_id":4694248,"accept_rate":60,"display_name":"Manu"},"score":0,"creation_date":1441636167,"post_id":32440873,"comment_id":52745871,"body_markdown":"Didn&#39;t know that. It seems to me this feature is provided for backwards compatibility, while you should just use an abstract class instead of an interface. (You don&#39;t even need the library guy, just make it yourself)","body":"Didn&#39;t know that. It seems to me this feature is provided for backwards compatibility, while you should just use an abstract class instead of an interface. (You don&#39;t even need the library guy, just make it yourself)"},{"owner":{"account_id":1841832,"reputation":1194,"user_id":1671081,"accept_rate":89,"display_name":"plastique"},"score":0,"creation_date":1441636212,"post_id":32440873,"comment_id":52745907,"body_markdown":"The question might be: &quot;Are there any widely adopted, precisely stated java best practices we can refer to?&quot;","body":"The question might be: &quot;Are there any widely adopted, precisely stated java best practices we can refer to?&quot;"},{"owner":{"account_id":118763,"reputation":22824,"user_id":1015678,"accept_rate":67,"display_name":"Lahiru Chandima"},"score":0,"creation_date":1441636735,"post_id":32440873,"comment_id":52746177,"body_markdown":"More precisely, &quot;is there a java best practice which would prevent you from adding default implementations in this situation?&quot;","body":"More precisely, &quot;is there a java best practice which would prevent you from adding default implementations in this situation?&quot;"},{"owner":{"account_id":80219,"reputation":34027,"user_id":226975,"accept_rate":80,"display_name":"Wyzard"},"score":7,"creation_date":1441637452,"post_id":32440873,"comment_id":52746551,"body_markdown":"This is really an opinion question; there isn&#39;t an objective answer.  But remember that even if the library developer doesn&#39;t want to add default implementations to the interface, you can create an interface of your own that extends the one in the library and adds the empty default implementations.  Your &quot;real&quot; implementation classes can implement *that*.","body":"This is really an opinion question; there isn&#39;t an objective answer.  But remember that even if the library developer doesn&#39;t want to add default implementations to the interface, you can create an interface of your own that extends the one in the library and adds the empty default implementations.  Your &quot;real&quot; implementation classes can implement <i>that</i>."},{"owner":{"account_id":1455702,"reputation":15672,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1441641273,"post_id":32440873,"comment_id":52748450,"body_markdown":"@Wyzard this is not an opinion question. Either the interface violates best practices or it does not. Asking _when_ it&#39;s appropriate to violate best practices would be an opinion question.","body":"@Wyzard this is not an opinion question. Either the interface violates best practices or it does not. Asking <i>when</i> it&#39;s appropriate to violate best practices would be an opinion question."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":1,"creation_date":1441642356,"post_id":32440873,"comment_id":52748921,"body_markdown":"@jaco0646 Okay, then please define &quot;best practices&quot; in a strictly non-subjective and non-arbitrary way.","body":"@jaco0646 Okay, then please define &quot;best practices&quot; in a strictly non-subjective and non-arbitrary way."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":1,"creation_date":1441642449,"post_id":32440873,"comment_id":52748965,"body_markdown":"I would ask a different question though: why 15 methods on one interface and not 1 method on 15 interfaces? If there are valid listeners who only need to listen to 1 event, putting all 15 into one interface is the design flaw.","body":"I would ask a different question though: why 15 methods on one interface and not 1 method on 15 interfaces? If there are valid listeners who only need to listen to 1 event, putting all 15 into one interface is the design flaw."},{"owner":{"account_id":1455702,"reputation":15672,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":1,"creation_date":1441644018,"post_id":32440873,"comment_id":52749633,"body_markdown":"@biziclop To your first point, do you imply that an objective question cannot be asked regarding best practices? To your second point, the relevant best practice is [Interface Segregation Principle](http://www.objectmentor.com/resources/articles/isp.pdf).","body":"@biziclop To your first point, do you imply that an objective question cannot be asked regarding best practices? To your second point, the relevant best practice is <a href=\"http://www.objectmentor.com/resources/articles/isp.pdf\" rel=\"nofollow noreferrer\">Interface Segregation Principle</a>."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":2,"creation_date":1441645599,"post_id":32440873,"comment_id":52750244,"body_markdown":"In any case, it is clearly a fault of the API designer, and he needs to provide a better solution.","body":"In any case, it is clearly a fault of the API designer, and he needs to provide a better solution."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":2,"creation_date":1441645967,"post_id":32440873,"comment_id":52750414,"body_markdown":"It&#39;s comical that in computer industry people throw around big words and nobody knows what they mean. Why don&#39;t we stop speaking like some fundamental jihadists, and focus on practical matters, like, is there an easier way to user you API.","body":"It&#39;s comical that in computer industry people throw around big words and nobody knows what they mean. Why don&#39;t we stop speaking like some fundamental jihadists, and focus on practical matters, like, is there an easier way to user you API."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1441661555,"post_id":32440873,"comment_id":52756029,"body_markdown":"@jaco0646 Yes, that&#39;s exactly what I&#39;m saying. There&#39;s no such thing as a magical Best Practice that fits everything. There are techniques that work in most (but not all) situations and there are techniques that are almost always wrong (but sometimes unavoidable). So a good question for me is &quot;does X work in situation Y?&quot;, these can be answered objectively.","body":"@jaco0646 Yes, that&#39;s exactly what I&#39;m saying. There&#39;s no such thing as a magical Best Practice that fits everything. There are techniques that work in most (but not all) situations and there are techniques that are almost always wrong (but sometimes unavoidable). So a good question for me is &quot;does X work in situation Y?&quot;, these can be answered objectively."},{"owner":{"account_id":1455702,"reputation":15672,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":3,"creation_date":1441663438,"post_id":32440873,"comment_id":52756503,"body_markdown":"@biziclop I agree completely. A good question requires context, which this question does provide.","body":"@biziclop I agree completely. A good question requires context, which this question does provide."},{"owner":{"account_id":1455702,"reputation":15672,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1441664202,"post_id":32440873,"comment_id":52756661,"body_markdown":"@bayou.io [Best practice](https://en.wikipedia.org/wiki/Best_practice) is a term commonly used outside the computer industry. The assertion that nobody knows what big words mean seems to reflect more on the people than the words. And _easier_ is an even more subjective and arbitrary term than best practice.","body":"@bayou.io <a href=\"https://en.wikipedia.org/wiki/Best_practice\" rel=\"nofollow noreferrer\">Best practice</a> is a term commonly used outside the computer industry. The assertion that nobody knows what big words mean seems to reflect more on the people than the words. And <i>easier</i> is an even more subjective and arbitrary term than best practice."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":1,"creation_date":1441712609,"post_id":32440873,"comment_id":52775732,"body_markdown":"@jaco0646 I think the problem is twofold: first of all, there is no industry-wide agreement on many issues, so one person&#39;s best practice may be the thing to avoid for another. The second issue is using best practices as a blunt instrument to hit others with. &quot;Because it&#39;s best practice&quot; is never a valid justification for anything, best practices should always be backed by actual reasoning, rather than just appealing to an authority. This question is close to a good one, it&#39;s just worded in a way that may open a fruitless and subjective debate. Some would say it already has :)","body":"@jaco0646 I think the problem is twofold: first of all, there is no industry-wide agreement on many issues, so one person&#39;s best practice may be the thing to avoid for another. The second issue is using best practices as a blunt instrument to hit others with. &quot;Because it&#39;s best practice&quot; is never a valid justification for anything, best practices should always be backed by actual reasoning, rather than just appealing to an authority. This question is close to a good one, it&#39;s just worded in a way that may open a fruitless and subjective debate. Some would say it already has :)"},{"owner":{"account_id":118763,"reputation":22824,"user_id":1015678,"accept_rate":67,"display_name":"Lahiru Chandima"},"score":1,"creation_date":1487692321,"post_id":32440873,"comment_id":71893513,"body_markdown":"Relevant answer by a Java language architect: http://stackoverflow.com/a/28684917/1015678","body":"Relevant answer by a Java language architect: <a href=\"http://stackoverflow.com/a/28684917/1015678\">stackoverflow.com/a/28684917/1015678</a>"}],"answers":[{"tags":[],"owner":{"account_id":2636743,"reputation":1886,"user_id":2281189,"accept_rate":38,"display_name":"QuakeCore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441637370,"creation_date":1441637370,"answer_id":32441361,"question_id":32440873,"body_markdown":"Since default methods enable us to add new functionalities to interfaces without breaking the classes that implement that interface so its definitely not a good practice because it combines the virtue of interfaces and abstract classes, but since that isn&#39;t an option  I would strongly suggest that you provide your own skeletal implementation class, as this &#39;methodology&#39; is used all over the Collections Framework in java, and that&#39;s just my humble opinion. ","title":"Is it OK to add default implementations to methods of an interface which represents a listener?","body":"<p>Since default methods enable us to add new functionalities to interfaces without breaking the classes that implement that interface so its definitely not a good practice because it combines the virtue of interfaces and abstract classes, but since that isn't an option  I would strongly suggest that you provide your own skeletal implementation class, as this 'methodology' is used all over the Collections Framework in java, and that's just my humble opinion. </p>\n"},{"tags":[],"owner":{"account_id":3883582,"reputation":32684,"user_id":3215527,"accept_rate":40,"display_name":"wero"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1441637700,"creation_date":1441637700,"answer_id":32441469,"question_id":32440873,"body_markdown":"&gt; But the library developer refuses to add default implementations,\r\n&gt; stating that it would violate java best practices and using default\r\n&gt; implementations in interface methods go against the purpose of\r\n&gt; interfaces.\r\n\r\nThis argument was valid until default interface methods were introduced.\r\nNow your colleague would have to argue that the JLS of Java 8 perverted interfaces and the JDK now contains classes which go against the purpose of interfaces. Still this is a viable extreme standpoint but fruitless.\r\n\r\nYou simply can avoid the discussion by deriving an own interface from the library interface and providing default empty implementations for all inherited methods.\r\n\r\n    public interface MyInterface extends LibraryInterface {\r\n        @Override default public void event1() {\r\n        }\r\n\r\n        ...\r\n    }\r\n\r\nOr you both can review the following design which seems dubious to me and which led to your discussion about default method in interfaces:\r\n\r\n&gt; Even though a listener is *only interested* in few events, listener \r\n&gt; *has to implement* all the methods when extending the interface.\r\n\r\nA solution could be to simply split up the big interface in many smaller ones.","title":"Is it OK to add default implementations to methods of an interface which represents a listener?","body":"<blockquote>\n  <p>But the library developer refuses to add default implementations,\n  stating that it would violate java best practices and using default\n  implementations in interface methods go against the purpose of\n  interfaces.</p>\n</blockquote>\n\n<p>This argument was valid until default interface methods were introduced.\nNow your colleague would have to argue that the JLS of Java 8 perverted interfaces and the JDK now contains classes which go against the purpose of interfaces. Still this is a viable extreme standpoint but fruitless.</p>\n\n<p>You simply can avoid the discussion by deriving an own interface from the library interface and providing default empty implementations for all inherited methods.</p>\n\n<pre><code>public interface MyInterface extends LibraryInterface {\n    @Override default public void event1() {\n    }\n\n    ...\n}\n</code></pre>\n\n<p>Or you both can review the following design which seems dubious to me and which led to your discussion about default method in interfaces:</p>\n\n<blockquote>\n  <p>Even though a listener is <em>only interested</em> in few events, listener \n  <em>has to implement</em> all the methods when extending the interface.</p>\n</blockquote>\n\n<p>A solution could be to simply split up the big interface in many smaller ones.</p>\n"},{"tags":[],"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1441639302,"creation_date":1441639302,"answer_id":32441895,"question_id":32440873,"body_markdown":"The library developer is wrong about this (I even dare to omit IMHO).\r\n\r\nOne of the reasons that many helper (both abstract and concrete) classes in Java have been introduced in the past is exactly the absence of features like default interface methods (for example the adapter classes in Swing which very much resemble the concerns you are asking about).\r\n\r\nIf not misused, multiple inheritance is desirable in some situations and, as we all know, by extending a &#39;helper&#39; class in Java we are loosing the ability to inherit from anything else.\r\n\r\nActually, this is mentioned in the official [Java tutorial][1], section &quot;Abstract Classes Compared to Interfaces&quot;:\r\n\r\n&gt; Consider using interfaces if any of these statements apply to your\r\n&gt; situation:\r\n&gt; \r\n&gt;  - You expect that unrelated classes would implement your interface. For example, the interfaces Comparable and Cloneable are implemented\r\n&gt; by many unrelated classes.\r\n&gt;  - You want to specify the behavior of a particular data type, but not concerned about who implements its behavior.\r\n&gt;  - You want to take advantage of multiple inheritance of type.\r\n\r\nThe second and the third point are the perfect match for your use case I think.\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/IandI/abstract.html","title":"Is it OK to add default implementations to methods of an interface which represents a listener?","body":"<p>The library developer is wrong about this (I even dare to omit IMHO).</p>\n\n<p>One of the reasons that many helper (both abstract and concrete) classes in Java have been introduced in the past is exactly the absence of features like default interface methods (for example the adapter classes in Swing which very much resemble the concerns you are asking about).</p>\n\n<p>If not misused, multiple inheritance is desirable in some situations and, as we all know, by extending a 'helper' class in Java we are loosing the ability to inherit from anything else.</p>\n\n<p>Actually, this is mentioned in the official <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/abstract.html\" rel=\"noreferrer\">Java tutorial</a>, section \"Abstract Classes Compared to Interfaces\":</p>\n\n<blockquote>\n  <p>Consider using interfaces if any of these statements apply to your\n  situation:</p>\n  \n  <ul>\n  <li>You expect that unrelated classes would implement your interface. For example, the interfaces Comparable and Cloneable are implemented\n  by many unrelated classes.</li>\n  <li>You want to specify the behavior of a particular data type, but not concerned about who implements its behavior.</li>\n  <li>You want to take advantage of multiple inheritance of type.</li>\n  </ul>\n</blockquote>\n\n<p>The second and the third point are the perfect match for your use case I think.</p>\n"},{"tags":[],"owner":{"account_id":2995908,"reputation":59,"user_id":2542461,"display_name":"user2542461"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651038151,"creation_date":1651038151,"answer_id":72023777,"question_id":32440873,"body_markdown":"In short:\r\nDefault methods should not be needed. The only reason they where introduced and are used within the JDK is to stay downwards compatible, and this should be the only reason to use it in your library. While default interface methods do NOT break the SOLID desin principles, there usage in your code are an indicator that you broke SOLID somewhere else.\r\n\r\nIn long:\r\n\r\nI do not share the view of Dragan Bozanovic. \r\n\r\n&gt; You want to specify the behavior of a particular data type, but not concerned about who implements its behavior.\r\n\r\nThis does IMHO not speak for interface default methods. Specifying behavior is not the same as implementing a behavior. And the second part of the sentence even says &quot;you are not concerned about who implements the behavior&quot;. A default method would implement it by its own. It would be very much concerned about who implements it then. Still, you do not concern about who OVERRIDES it.\r\n\r\n\r\n&gt; You want to take advantage of multiple inheritance of type.\r\n\r\nJava knows about three inheritance mechanisms: Inheritance of state, inheritance of implementation and inheritance of type. All three of them are inheritance. This quote is talking about inheritance of type. Interfaces without default methods use inheritance of type. Defaults methods in interfaces are inherited by implementation.\r\n\r\nI share the view of oracle \r\n\r\n&gt; Default methods enable you to add new functionality to the interfaces of your libraries and ensure binary compatibility with code written for older versions of those interfaces.\r\n\r\nThe key part here is &quot;ensure binary compatibility&quot;. I.e: It is bad design to use default for freshly created interface, but OKish to add them to legacy interface to not break the code of your clients.\r\n\r\nWith other words: Whenever you feel the need to use default methods you are probably breaking the SOLID principle somewhere in your architecture. Eg, the library you are talking about is breaking the Interface Segregation Principle.\r\n\r\n","title":"Is it OK to add default implementations to methods of an interface which represents a listener?","body":"<p>In short:\nDefault methods should not be needed. The only reason they where introduced and are used within the JDK is to stay downwards compatible, and this should be the only reason to use it in your library. While default interface methods do NOT break the SOLID desin principles, there usage in your code are an indicator that you broke SOLID somewhere else.</p>\n<p>In long:</p>\n<p>I do not share the view of Dragan Bozanovic.</p>\n<blockquote>\n<p>You want to specify the behavior of a particular data type, but not concerned about who implements its behavior.</p>\n</blockquote>\n<p>This does IMHO not speak for interface default methods. Specifying behavior is not the same as implementing a behavior. And the second part of the sentence even says &quot;you are not concerned about who implements the behavior&quot;. A default method would implement it by its own. It would be very much concerned about who implements it then. Still, you do not concern about who OVERRIDES it.</p>\n<blockquote>\n<p>You want to take advantage of multiple inheritance of type.</p>\n</blockquote>\n<p>Java knows about three inheritance mechanisms: Inheritance of state, inheritance of implementation and inheritance of type. All three of them are inheritance. This quote is talking about inheritance of type. Interfaces without default methods use inheritance of type. Defaults methods in interfaces are inherited by implementation.</p>\n<p>I share the view of oracle</p>\n<blockquote>\n<p>Default methods enable you to add new functionality to the interfaces of your libraries and ensure binary compatibility with code written for older versions of those interfaces.</p>\n</blockquote>\n<p>The key part here is &quot;ensure binary compatibility&quot;. I.e: It is bad design to use default for freshly created interface, but OKish to add them to legacy interface to not break the code of your clients.</p>\n<p>With other words: Whenever you feel the need to use default methods you are probably breaking the SOLID principle somewhere in your architecture. Eg, the library you are talking about is breaking the Interface Segregation Principle.</p>\n"}],"owner":{"account_id":118763,"reputation":22824,"user_id":1015678,"accept_rate":67,"display_name":"Lahiru Chandima"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5380,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":32441469,"answer_count":4,"score":17,"last_activity_date":1651038151,"creation_date":1441635620,"question_id":32440873,"body_markdown":"There is a certain library I use in my project. This library has an interface which has about 15 methods.\r\n\r\nThe purpose of this interface is to make it possible to subscribe for some events that are generated in the library. A listener class in application can implement this interface and register itself as a listener in the library to receive events.\r\n\r\nAll the methods in this interface are actually events. There can be listeners who only need to receive only one or two events from many events in the interface. Even though a listener is only interested in few events, listener has to implement all the methods when extending the interface.\r\n\r\nSo I asked the developer of this library to add empty default implementations to the methods in the interface.\r\n\r\nBut the library developer refuses to add default implementations, stating that it would violate java best practices and using default implementations in interface methods go against the purpose of interfaces.\r\n\r\nBut, as I can understand, a method in this interface does not specify some action which an implementer of this interface should be capable of. A method in this interface rather defines an event which an implementer may be interested in. So I can&#39;t see a clear reason for not adding default implementations.\r\n\r\nSo, is adding default implementations to this interface break the java best practices?","title":"Is it OK to add default implementations to methods of an interface which represents a listener?","body":"<p>There is a certain library I use in my project. This library has an interface which has about 15 methods.</p>\n\n<p>The purpose of this interface is to make it possible to subscribe for some events that are generated in the library. A listener class in application can implement this interface and register itself as a listener in the library to receive events.</p>\n\n<p>All the methods in this interface are actually events. There can be listeners who only need to receive only one or two events from many events in the interface. Even though a listener is only interested in few events, listener has to implement all the methods when extending the interface.</p>\n\n<p>So I asked the developer of this library to add empty default implementations to the methods in the interface.</p>\n\n<p>But the library developer refuses to add default implementations, stating that it would violate java best practices and using default implementations in interface methods go against the purpose of interfaces.</p>\n\n<p>But, as I can understand, a method in this interface does not specify some action which an implementer of this interface should be capable of. A method in this interface rather defines an event which an implementer may be interested in. So I can't see a clear reason for not adding default implementations.</p>\n\n<p>So, is adding default implementations to this interface break the java best practices?</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":2557581,"reputation":6571,"user_id":2219237,"accept_rate":60,"display_name":"Vasily Kabunov"},"score":0,"creation_date":1651037399,"post_id":72023633,"comment_id":127263507,"body_markdown":"Does this answer your question? [Round Double to 1 decimal place kotlin: from 0.044999 to 0.1](https://stackoverflow.com/questions/49011924/round-double-to-1-decimal-place-kotlin-from-0-044999-to-0-1)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/49011924/round-double-to-1-decimal-place-kotlin-from-0-044999-to-0-1\">Round Double to 1 decimal place kotlin: from 0.044999 to 0.1</a>"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1651038860,"post_id":72023633,"comment_id":127263798,"body_markdown":"Floats don&#39;t _have_ decimal places, they only have binary places, and the two aren&#39;t exactly interchangeable.","body":"Floats don&#39;t <i>have</i> decimal places, they only have binary places, and the two aren&#39;t exactly interchangeable."},{"owner":{"account_id":1421707,"reputation":736,"user_id":1346194,"accept_rate":71,"display_name":"Seph"},"score":0,"creation_date":1651242052,"post_id":72023633,"comment_id":127324472,"body_markdown":"Does this answer your question? [how to round a number in kotlin](https://stackoverflow.com/questions/66195651/how-to-round-a-number-in-kotlin)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/66195651/how-to-round-a-number-in-kotlin\">how to round a number in kotlin</a>"},{"owner":{"account_id":11862062,"reputation":5,"user_id":8680451,"display_name":"Morteza majideyan"},"score":0,"creation_date":1651402093,"post_id":72023633,"comment_id":127352156,"body_markdown":"yes this answer is correct but [this link](https://stackoverflow.com/a/49012345/8680451) is better","body":"yes this answer is correct but <a href=\"https://stackoverflow.com/a/49012345/8680451\">this link</a> is better"}],"answers":[{"tags":[],"owner":{"account_id":14263492,"reputation":257,"user_id":10303457,"display_name":"shahram_javadi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651037482,"creation_date":1651037482,"answer_id":72023688,"question_id":72023633,"body_markdown":"In your case I think you need to trim the number not round it, \r\nYou can use this:\r\n\r\n     double d = 1.366565646;\r\n     DecimalFormat df = new DecimalFormat(&quot;#.#&quot;);\r\n     double p = Double.parseDouble(df.format(d));","title":"how do i restric a float value to only one placess after decimal in kotlin android","body":"<p>In your case I think you need to trim the number not round it,\nYou can use this:</p>\n<pre><code> double d = 1.366565646;\n DecimalFormat df = new DecimalFormat(&quot;#.#&quot;);\n double p = Double.parseDouble(df.format(d));\n</code></pre>\n"}],"owner":{"account_id":11862062,"reputation":5,"user_id":8680451,"display_name":"Morteza majideyan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72023688,"answer_count":1,"score":0,"last_activity_date":1651037482,"creation_date":1651037028,"question_id":72023633,"body_markdown":"I have a number with some number decimal places,\r\nHow can i round this float number with one number decimal places\r\n\r\nfor example\r\n```1.366565646``` convert to ```1.3```","title":"how do i restric a float value to only one placess after decimal in kotlin android","body":"<p>I have a number with some number decimal places,\nHow can i round this float number with one number decimal places</p>\n<p>for example\n<code>1.366565646</code> convert to <code>1.3</code></p>\n"},{"tags":["java","zip","zipinputstream"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":3,"creation_date":1510251576,"post_id":47208932,"comment_id":81366911,"body_markdown":"_&quot;(will edit soon)&quot;_ - Do not post partial questions.  Wait until you have the complete question formulated before posting.","body":"<i>&quot;(will edit soon)&quot;</i> - Do not post partial questions.  Wait until you have the complete question formulated before posting."},{"owner":{"account_id":10583629,"reputation":1134,"user_id":7796663,"accept_rate":67,"display_name":"JMax"},"score":0,"creation_date":1510255380,"post_id":47208932,"comment_id":81369017,"body_markdown":"Your main problem is that you first have to seek to the correct zip entry using `getNextEntry()` on the ZipInputStream.","body":"Your main problem is that you first have to seek to the correct zip entry using <code>getNextEntry()</code> on the ZipInputStream."},{"owner":{"account_id":12168278,"reputation":163,"user_id":8883853,"display_name":"R TheWriter"},"score":0,"creation_date":1510266478,"post_id":47208932,"comment_id":81374826,"body_markdown":"Sorry for posting wronlgy. Will correct the post when I get from work. I am stuck with this really","body":"Sorry for posting wronlgy. Will correct the post when I get from work. I am stuck with this really"},{"owner":{"account_id":178805,"reputation":49349,"user_id":411022,"display_name":"Ilmari Karonen"},"score":0,"creation_date":1510326376,"post_id":47208932,"comment_id":81401450,"body_markdown":"In the future, please consider turning your code into a [mcve]; that is, preferably, a single .java file with a main() method that we can compile and run to reproduce the problem.","body":"In the future, please consider turning your code into a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>; that is, preferably, a single .java file with a main() method that we can compile and run to reproduce the problem."},{"owner":{"account_id":178805,"reputation":49349,"user_id":411022,"display_name":"Ilmari Karonen"},"score":0,"creation_date":1510326747,"post_id":47208932,"comment_id":81401700,"body_markdown":"Anyway, your real problem seems to be that your `zipFile` variable always refers to the outermost file. It shouldn&#39;t really be a surprise that trying to pass a ZipEntry from one of the inner ZipInputStreams into `zipFile.getInputStream()` will fail. (The only surprise is that it doesn&#39;t throw an IllegalArgumentException.) Since there doesn&#39;t seem to be any way to instantiate a ZipFile from an InputStream, it seems your best option is to abandon ZipFile and just work directly with ZipInputStreams, like JMax suggests below.","body":"Anyway, your real problem seems to be that your <code>zipFile</code> variable always refers to the outermost file. It shouldn&#39;t really be a surprise that trying to pass a ZipEntry from one of the inner ZipInputStreams into <code>zipFile.getInputStream()</code> will fail. (The only surprise is that it doesn&#39;t throw an IllegalArgumentException.) Since there doesn&#39;t seem to be any way to instantiate a ZipFile from an InputStream, it seems your best option is to abandon ZipFile and just work directly with ZipInputStreams, like JMax suggests below."},{"owner":{"account_id":12168278,"reputation":163,"user_id":8883853,"display_name":"R TheWriter"},"score":0,"creation_date":1510336166,"post_id":47208932,"comment_id":81407263,"body_markdown":"Thanks for your comments, will try to make the code better next time","body":"Thanks for your comments, will try to make the code better next time"}],"answers":[{"tags":[],"owner":{"account_id":10583629,"reputation":1134,"user_id":7796663,"accept_rate":67,"display_name":"JMax"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1611837160,"creation_date":1510254239,"answer_id":47209656,"question_id":47208932,"body_markdown":"I have not tried it but using [`ZipInputStream`][1] you can read any `InputStream that contains a ZIP file as data. Iterate through the entries and when you found the correct entry use the `ZipInputStream` to create another nested `ZipInputStream`.\r\n\r\nThe following code demonstrates this. Imagine we have a `readme.txt` inside `0.zip` which is again zipped in `1.zip` which is zipped in `2.zip`. Now we read some text from `readme.txt`:\r\n\r\n\ttry (FileInputStream fin = new FileInputStream(&quot;D:/2.zip&quot;)) {\r\n\t\tZipInputStream firstZip = new ZipInputStream(fin);\r\n\t\tZipInputStream zippedZip = new ZipInputStream(findEntry(firstZip, &quot;1.zip&quot;));\r\n\t\tZipInputStream zippedZippedZip = new ZipInputStream(findEntry(zippedZip, &quot;0.zip&quot;));\r\n\r\n\t\tZipInputStream zippedZippedZippedReadme = findEntry(zippedZippedZip, &quot;readme.txt&quot;);\r\n\t\tInputStreamReader reader = new InputStreamReader(zippedZippedZippedReadme);\r\n\t\tchar[] cbuf = new char[1024];\r\n\t\tint read = reader.read(cbuf);\r\n\t\tSystem.out.println(new String(cbuf, 0, read));\r\n        .....\r\n\r\n    public static ZipInputStream findEntry(ZipInputStream in, String name) throws IOException {\r\n    \tZipEntry entry = null;\r\n    \twhile ((entry = in.getNextEntry()) != null) {\r\n    \t\tif (entry.getName().equals(name)) {\r\n    \t\t\treturn in;\r\n    \t\t}\r\n    \t}\r\n    \treturn null;\r\n    }\r\n\r\nNote the code is really ugly and does not close anything nor does it checks for errors. It is just a minimized version that demonstrates how it works.\r\n\r\nTheoretically there is no limit how many ZipInputStreams you cascade into another. The data is never written into a temporary file. The decryption is only performed on-demand when you read each `InputStream`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/zip/ZipInputStream.html\r\n","title":"How to read data from nested zip files in Java without using temporary files?","body":"<p>I have not tried it but using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/zip/ZipInputStream.html\" rel=\"nofollow noreferrer\"><code>ZipInputStream</code></a> you can read any <code>InputStream that contains a ZIP file as data. Iterate through the entries and when you found the correct entry use the </code>ZipInputStream<code>to create another nested</code>ZipInputStream`.</p>\n<p>The following code demonstrates this. Imagine we have a <code>readme.txt</code> inside <code>0.zip</code> which is again zipped in <code>1.zip</code> which is zipped in <code>2.zip</code>. Now we read some text from <code>readme.txt</code>:</p>\n<pre><code>try (FileInputStream fin = new FileInputStream(&quot;D:/2.zip&quot;)) {\n    ZipInputStream firstZip = new ZipInputStream(fin);\n    ZipInputStream zippedZip = new ZipInputStream(findEntry(firstZip, &quot;1.zip&quot;));\n    ZipInputStream zippedZippedZip = new ZipInputStream(findEntry(zippedZip, &quot;0.zip&quot;));\n\n    ZipInputStream zippedZippedZippedReadme = findEntry(zippedZippedZip, &quot;readme.txt&quot;);\n    InputStreamReader reader = new InputStreamReader(zippedZippedZippedReadme);\n    char[] cbuf = new char[1024];\n    int read = reader.read(cbuf);\n    System.out.println(new String(cbuf, 0, read));\n    .....\n\npublic static ZipInputStream findEntry(ZipInputStream in, String name) throws IOException {\n    ZipEntry entry = null;\n    while ((entry = in.getNextEntry()) != null) {\n        if (entry.getName().equals(name)) {\n            return in;\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>Note the code is really ugly and does not close anything nor does it checks for errors. It is just a minimized version that demonstrates how it works.</p>\n<p>Theoretically there is no limit how many ZipInputStreams you cascade into another. The data is never written into a temporary file. The decryption is only performed on-demand when you read each <code>InputStream</code>.</p>\n"},{"tags":[],"owner":{"account_id":12168278,"reputation":163,"user_id":8883853,"display_name":"R TheWriter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510842503,"creation_date":1510708763,"answer_id":47297902,"question_id":47208932,"body_markdown":"this is the way I found to unzip file in memory:\r\n\r\nThe code is not clean AT ALL, but i understand the rules are to post something working, so i have this hopefully to help so\r\n\r\nWhat I do is use a recursive method to navigate the complex ZIP file and extract \r\nfolder\r\nother inner zips\r\nfiles\r\nand save the results in memory to later work with them.\r\n\r\nMain things I found I want to share with you:\r\n\r\n1 ZipFile is useless if you have nested zip files\r\n2 You have to use the basic Zip InputStream and Outputstream \r\n3 I only use recursive programming to unzip nested zips\r\n\r\n    package course.hernan;\r\n    \r\n    import java.io.BufferedInputStream;\r\n\r\n    import java.io.BufferedOutputStream;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.ArrayDeque;\r\n    import java.util.Deque;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipInputStream;\r\n    import java.util.zip.ZipOutputStream;\r\n    \r\n    import org.apache.commons.io.IOUtils;\r\n    \r\n    public class FileReader {\r\n    \r\n    private static final int  BUFFER_SIZE = 2048;\r\n      \r\n        public static void main(String[] args) {\r\n            try {\r\n                File f = new File(&quot;DIR/inputs.zip&quot;);\r\n                FileInputStream fis = new FileInputStream(f);\r\n                BufferedInputStream bis = new BufferedInputStream(fis);\r\n                ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n                BufferedOutputStream bos = new BufferedOutputStream(baos);\r\n                byte[] buffer = new byte[BUFFER_SIZE];\r\n                while (bis.read(buffer, 0, BUFFER_SIZE) != -1) {\r\n                   bos.write(buffer);\r\n                }\r\n\r\n                bos.flush();\r\n                bos.close();\r\n                bis.close();\r\n    \r\n                //This STACK has the output byte array information \r\n                Deque&lt;Map&lt;Integer, Object[]&gt;&gt; outputDataStack = ZipHandler1.unzip(baos);\r\n    \r\n    \r\n            } catch (FileNotFoundException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }    \r\n    package course.hernan;\r\n    \r\n    import java.io.BufferedInputStream;\r\n    import java.io.BufferedOutputStream;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.util.ArrayDeque;\r\n    import java.util.ArrayList;\r\n    import java.util.Deque;\r\n    import java.util.HashMap;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.SortedMap;\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipInputStream;\r\n    \r\n    import org.apache.commons.lang3.StringUtils;\r\n    \r\n    public class ZipHandler1 {\r\n     \r\n      private static final int BUFFER_SIZE = 2048;\r\n    \r\n      private static final String ZIP_EXTENSION = &quot;.zip&quot;;\r\n      public static final Integer FOLDER = 1;\r\n      public static final Integer ZIP = 2;\r\n      public static final Integer FILE = 3;\r\n      \r\n    \r\n      public static Deque&lt;Map&lt;Integer, Object[]&gt;&gt; unzip(ByteArrayOutputStream zippedOutputFile) {\r\n    \r\n        try {\r\n    \r\n          ZipInputStream inputStream = new ZipInputStream(\r\n              new BufferedInputStream(new ByteArrayInputStream(\r\n                  zippedOutputFile.toByteArray())));\r\n    \r\n          ZipEntry entry;\r\n    \r\n          Deque&lt;Map&lt;Integer, Object[]&gt;&gt; result = new ArrayDeque&lt;Map&lt;Integer, Object[]&gt;&gt;();\r\n    \r\n          while ((entry = inputStream.getNextEntry()) != null) {\r\n    \r\n            LinkedHashMap&lt;Integer, Object[]&gt; map = new LinkedHashMap&lt;Integer, Object[]&gt;();\r\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n            System.out.println(&quot;\\tExtracting entry: &quot; + entry);\r\n            int count;\r\n            byte[] data = new byte[BUFFER_SIZE];\r\n    \r\n            if (!entry.isDirectory()) {\r\n              BufferedOutputStream out = new BufferedOutputStream(\r\n                  outputStream, BUFFER_SIZE);\r\n            \r\n              while ((count = inputStream.read(data, 0, BUFFER_SIZE)) != -1) {\r\n                out.write(data, 0, count);\r\n              }\r\n              \r\n              out.flush();\r\n              out.close();\r\n    \r\n              //  recursively unzip files\r\n              if (entry.getName().toUpperCase().endsWith(ZIP_EXTENSION.toUpperCase())) {\r\n                map.put(ZIP, new Object[] {entry.getName(), unzip(outputStream)});\r\n                result.add(map);\r\n                //result.addAll();\r\n              } else { \r\n                map.put(FILE, new Object[] {entry.getName(), outputStream});\r\n                result.add(map);\r\n              }\r\n            } else {\r\n              map.put(FOLDER, new Object[] {entry.getName(), unzip(outputStream)});\r\n              result.add(map);\r\n            }\r\n          }\r\n          \r\n          inputStream.close();\r\n          \r\n          return result;\r\n          \r\n        } catch (Exception e) {\r\n          throw new RuntimeException(e);\r\n        }\r\n      }\r\n\r\n\r\n\r\n\r\n","title":"How to read data from nested zip files in Java without using temporary files?","body":"<p>this is the way I found to unzip file in memory:</p>\n\n<p>The code is not clean AT ALL, but i understand the rules are to post something working, so i have this hopefully to help so</p>\n\n<p>What I do is use a recursive method to navigate the complex ZIP file and extract \nfolder\nother inner zips\nfiles\nand save the results in memory to later work with them.</p>\n\n<p>Main things I found I want to share with you:</p>\n\n<p>1 ZipFile is useless if you have nested zip files\n2 You have to use the basic Zip InputStream and Outputstream \n3 I only use recursive programming to unzip nested zips</p>\n\n<pre><code>package course.hernan;\n\nimport java.io.BufferedInputStream;\n\nimport java.io.BufferedOutputStream;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.ArrayDeque;\nimport java.util.Deque;\nimport java.util.LinkedHashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipInputStream;\nimport java.util.zip.ZipOutputStream;\n\nimport org.apache.commons.io.IOUtils;\n\npublic class FileReader {\n\nprivate static final int  BUFFER_SIZE = 2048;\n\n    public static void main(String[] args) {\n        try {\n            File f = new File(\"DIR/inputs.zip\");\n            FileInputStream fis = new FileInputStream(f);\n            BufferedInputStream bis = new BufferedInputStream(fis);\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            BufferedOutputStream bos = new BufferedOutputStream(baos);\n            byte[] buffer = new byte[BUFFER_SIZE];\n            while (bis.read(buffer, 0, BUFFER_SIZE) != -1) {\n               bos.write(buffer);\n            }\n\n            bos.flush();\n            bos.close();\n            bis.close();\n\n            //This STACK has the output byte array information \n            Deque&lt;Map&lt;Integer, Object[]&gt;&gt; outputDataStack = ZipHandler1.unzip(baos);\n\n\n        } catch (FileNotFoundException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}    \npackage course.hernan;\n\nimport java.io.BufferedInputStream;\nimport java.io.BufferedOutputStream;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.util.ArrayDeque;\nimport java.util.ArrayList;\nimport java.util.Deque;\nimport java.util.HashMap;\nimport java.util.LinkedHashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.SortedMap;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipInputStream;\n\nimport org.apache.commons.lang3.StringUtils;\n\npublic class ZipHandler1 {\n\n  private static final int BUFFER_SIZE = 2048;\n\n  private static final String ZIP_EXTENSION = \".zip\";\n  public static final Integer FOLDER = 1;\n  public static final Integer ZIP = 2;\n  public static final Integer FILE = 3;\n\n\n  public static Deque&lt;Map&lt;Integer, Object[]&gt;&gt; unzip(ByteArrayOutputStream zippedOutputFile) {\n\n    try {\n\n      ZipInputStream inputStream = new ZipInputStream(\n          new BufferedInputStream(new ByteArrayInputStream(\n              zippedOutputFile.toByteArray())));\n\n      ZipEntry entry;\n\n      Deque&lt;Map&lt;Integer, Object[]&gt;&gt; result = new ArrayDeque&lt;Map&lt;Integer, Object[]&gt;&gt;();\n\n      while ((entry = inputStream.getNextEntry()) != null) {\n\n        LinkedHashMap&lt;Integer, Object[]&gt; map = new LinkedHashMap&lt;Integer, Object[]&gt;();\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        System.out.println(\"\\tExtracting entry: \" + entry);\n        int count;\n        byte[] data = new byte[BUFFER_SIZE];\n\n        if (!entry.isDirectory()) {\n          BufferedOutputStream out = new BufferedOutputStream(\n              outputStream, BUFFER_SIZE);\n\n          while ((count = inputStream.read(data, 0, BUFFER_SIZE)) != -1) {\n            out.write(data, 0, count);\n          }\n\n          out.flush();\n          out.close();\n\n          //  recursively unzip files\n          if (entry.getName().toUpperCase().endsWith(ZIP_EXTENSION.toUpperCase())) {\n            map.put(ZIP, new Object[] {entry.getName(), unzip(outputStream)});\n            result.add(map);\n            //result.addAll();\n          } else { \n            map.put(FILE, new Object[] {entry.getName(), outputStream});\n            result.add(map);\n          }\n        } else {\n          map.put(FOLDER, new Object[] {entry.getName(), unzip(outputStream)});\n          result.add(map);\n        }\n      }\n\n      inputStream.close();\n\n      return result;\n\n    } catch (Exception e) {\n      throw new RuntimeException(e);\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7462886,"reputation":77,"user_id":5673607,"display_name":"yilin  "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651036706,"creation_date":1651036706,"answer_id":72023598,"question_id":47208932,"body_markdown":"Thanks to JMax.\r\nIn my case, The result of reading the pdf file is different from the expected result, It becomes bigger and  cannot be opened.\r\nFinally I found that I had made a mistake, The buffer may not be full\r\nThe following is the error code.\r\n\r\n       while((n = zippedZippedZippedReadme.read(buffer)) != -1) {\r\n\t\t\t\t\tfos.write(buffer);\r\n\t\t\t\t}\r\n\r\nHere is the correct code,\r\n\r\n    \ttry (FileInputStream fin = new FileInputStream(&quot;1.zip&quot;)) {\r\n\t    ZipInputStream firstZip = new ZipInputStream(fin);\r\n\t    ZipInputStream zippedZip = new ZipInputStream(findEntry(firstZip, &quot;0.zip&quot;));\r\n\t    ZipInputStream zippedZippedZippedReadme = findEntry(zippedZip, &quot;test.pdf&quot;);\r\n\t    long startTime = System.currentTimeMillis();\r\n\t\t  byte[] buffer = new byte[4096];\r\n            File outputFile = new File(&quot;test.pdf&quot;);\r\n            try (FileOutputStream fos = new FileOutputStream(outputFile)) {\r\n            \tint n;\r\n\t\t\t\twhile((n = zippedZippedZippedReadme.read(buffer)) != -1) {\r\n\t\t\t\t\tfos.write(buffer, 0 ,n);\r\n\t\t\t\t}\r\n\t\t\t\tfos.flush();\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\t\t\t\r\n            System.out.println(&quot;time consuming:&quot; + (System.currentTimeMillis() - startTime)/1000.0);\r\n\t\t}\r\n\r\n\r\n hope to be helpful!\r\n","title":"How to read data from nested zip files in Java without using temporary files?","body":"<p>Thanks to JMax.\nIn my case, The result of reading the pdf file is different from the expected result, It becomes bigger and  cannot be opened.\nFinally I found that I had made a mistake, The buffer may not be full\nThe following is the error code.</p>\n<pre><code>   while((n = zippedZippedZippedReadme.read(buffer)) != -1) {\n                fos.write(buffer);\n            }\n</code></pre>\n<p>Here is the correct code,</p>\n<pre><code>    try (FileInputStream fin = new FileInputStream(&quot;1.zip&quot;)) {\n    ZipInputStream firstZip = new ZipInputStream(fin);\n    ZipInputStream zippedZip = new ZipInputStream(findEntry(firstZip, &quot;0.zip&quot;));\n    ZipInputStream zippedZippedZippedReadme = findEntry(zippedZip, &quot;test.pdf&quot;);\n    long startTime = System.currentTimeMillis();\n      byte[] buffer = new byte[4096];\n        File outputFile = new File(&quot;test.pdf&quot;);\n        try (FileOutputStream fos = new FileOutputStream(outputFile)) {\n            int n;\n            while((n = zippedZippedZippedReadme.read(buffer)) != -1) {\n                fos.write(buffer, 0 ,n);\n            }\n            fos.flush();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n        System.out.println(&quot;time consuming:&quot; + (System.currentTimeMillis() - startTime)/1000.0);\n    }\n</code></pre>\n<p>hope to be helpful!</p>\n"}],"owner":{"account_id":12168278,"reputation":163,"user_id":8883853,"display_name":"R TheWriter"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6274,"favorite_count":0,"down_vote_count":4,"up_vote_count":7,"answer_count":3,"score":3,"last_activity_date":1651036706,"creation_date":1510251455,"question_id":47208932,"body_markdown":"I am trying to to extract files out of a nested zip archive and process them in memory.\r\n\r\nWhat this question is *not* about:\r\n\r\n1. How to read a zip file in Java: NO, the question is how to read a zip file within a zip file within a zip and so on and so forth (as in nested zip files).\r\n\r\n2. Write temporary results on disk: NO, I&#39;m asking about doing it all in memory. I found many answers using the not-so-efficient technique of writing results temporarily to disk, but that&#39;s not what I want to do.\r\n\r\nExample:\r\n\r\n&gt; Zipfile -&gt; Zipfile1 -&gt; Zipfile2 -&gt; Zipfile3\r\n\r\nGoal: extract the data found in each of the nested zip files, all in memory and using Java.\r\n\r\n[ZipFile](https://docs.oracle.com/javase/8/docs/api/java/util/zip/ZipFile.html) is the answer, you say? NO, it is not, it works for the first iteration, that is for:\r\n\r\n&gt; Zipfile -&gt; Zipfile1\r\n\r\nBut once you get to Zipfile2, and perform a:\r\n\r\n    ZipInputStream z = new ZipInputStream(zipFile.getInputStream( zipEntry) ) ;\r\n\r\nyou will get a NullPointerException. \r\n\r\nMy code:\r\n\r\n    public class ZipHandler {\r\n\t\r\n        String findings = new String();\r\n     \tZipFile zipFile = null;\r\n  \r\n    \tpublic void init(String fileName) throws AppException{\r\n\t\t \r\n\t\t    try {\r\n\t\t\t//read file into stream\r\n\t\t\tzipFile = new ZipFile(fileName);  \r\n\t\t    Enumeration&lt;?&gt; enu = zipFile.entries();  \r\n\t\t    exctractInfoFromZip(enu);\r\n\t\t\t\r\n\t\t\tzipFile.close();\r\n\t\t    } catch (FileNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\r\n\t\t    } catch (IOException e) {\r\n\t\t\t    e.printStackTrace();\r\n     \t}\r\n\t}\r\n\r\n    //The idea was recursively extract entries using ZipFile\r\n    public void exctractInfoFromZip(Enumeration&lt;?&gt; enu) throws IOException, AppException{\t\r\n\t\t \r\n\t\ttry {\r\n\t\t\twhile (enu.hasMoreElements()) { \r\n\t\t\t\tZipEntry zipEntry = (ZipEntry) enu.nextElement();\r\n\t\t\t\t \r\n\t\t\t    String name = zipEntry.getName();\r\n\t\t\t    long size = zipEntry.getSize();\r\n\t\t\t    long compressedSize = zipEntry.getCompressedSize();\r\n\t\t\t    \r\n\t\t\t    System.out.printf(&quot;name: %-20s | size: %6d | compressed size: %6d\\n&quot;, \r\n\t\t\t            name, size, compressedSize);\r\n\t\t\t\r\n\t\t\t\t// directory ?\r\n\t\t\t    if (zipEntry.isDirectory()) {\r\n\t\t\t    \tSystem.out.println(&quot;dir found:&quot; + name);\r\n\t\t\t    \tfindings+=&quot;, &quot; + name; \r\n\t\t\t    \tcontinue;\r\n\t\t\t \t} \r\n\r\n\t\t\t    if (name.toUpperCase().endsWith(&quot;.ZIP&quot;) ||\tname.toUpperCase().endsWith(&quot;.GZ&quot;)) {\r\n\t\t\t    \tString fileType = name.substring(\r\n\t\t\t    \t\t\tname.lastIndexOf(&quot;.&quot;)+1, name.length());\r\n\t\t\t    \t\r\n\t\t\t    \tSystem.out.println(&quot;File type:&quot; + fileType);\r\n\t\t\t    \tSystem.out.println(&quot;zipEntry: &quot; + zipEntry);\r\n\r\n\t\t\t    \tif (fileType.equalsIgnoreCase(&quot;ZIP&quot;)) {\r\n    //ZipFile here returns a NULL pointer when you try to get the first nested zip\r\n\t\t\t    \t\tZipInputStream z = new ZipInputStream(zipFile.getInputStream(zipEntry) ) ;\r\n\t\t\t    \t\tSystem.out.println(&quot;Opening ZIP as stream: &quot; + name);\r\n\t\r\n\t\t\t    \t\tfindings+=&quot;, &quot; + name;\r\n\t\t\t      \t\r\n\t\t\t    \t\texctractInfoFromZip(zipInputStreamToEnum(z));\r\n\t\t\t    \t} else if (fileType.equalsIgnoreCase(&quot;GZ&quot;)) {\r\n    //ZipFile here returns a NULL pointer when you try to get the first nested zip\t\t\r\n\t\t\t    \t\tGZIPInputStream z = new GZIPInputStream(zipFile.getInputStream(zipEntry) ) ;\r\n\t\t\t    \t\tSystem.out.println(&quot;Opening ZIP as stream: &quot; + name);\r\n\t\t\t    \t\t\t\r\n\t\t\t    \t\tfindings+=&quot;, &quot; + name;\r\n\t\t\t      \t\r\n\t\t\t    \t\texctractInfoFromZip(gZipInputStreamToEnum(z));\r\n\t\t\t    \t} else\r\n\t\t\t    \t\tthrow new AppException(&quot;extension not recognized!&quot;);\r\n\t\t\t    } else {\r\n\t\t\t    \tSystem.out.println(name);\r\n\t\t\t    \tfindings+=&quot;, &quot; + name;\r\n\t\t\t    }\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t \tSystem.out.println(&quot;Findings &quot; + findings);\r\n\t} \r\n\t\r\n\tpublic Enumeration&lt;?&gt; zipInputStreamToEnum(ZipInputStream zStream) throws IOException{\r\n \r\n\t\tList&lt;ZipEntry&gt; list = new ArrayList&lt;ZipEntry&gt;();\t\r\n   \r\n\t\twhile (zStream.available() != 0) {\r\n\t\t\tlist.add(zStream.getNextEntry());\r\n\t\t}\r\n\t \r\n\t\treturn Collections.enumeration(list);\r\n\t} \r\n\r\n\r\n\r\n\r\n","title":"How to read data from nested zip files in Java without using temporary files?","body":"<p>I am trying to to extract files out of a nested zip archive and process them in memory.</p>\n\n<p>What this question is <em>not</em> about:</p>\n\n<ol>\n<li><p>How to read a zip file in Java: NO, the question is how to read a zip file within a zip file within a zip and so on and so forth (as in nested zip files).</p></li>\n<li><p>Write temporary results on disk: NO, I'm asking about doing it all in memory. I found many answers using the not-so-efficient technique of writing results temporarily to disk, but that's not what I want to do.</p></li>\n</ol>\n\n<p>Example:</p>\n\n<blockquote>\n  <p>Zipfile -> Zipfile1 -> Zipfile2 -> Zipfile3</p>\n</blockquote>\n\n<p>Goal: extract the data found in each of the nested zip files, all in memory and using Java.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/zip/ZipFile.html\" rel=\"noreferrer\">ZipFile</a> is the answer, you say? NO, it is not, it works for the first iteration, that is for:</p>\n\n<blockquote>\n  <p>Zipfile -> Zipfile1</p>\n</blockquote>\n\n<p>But once you get to Zipfile2, and perform a:</p>\n\n<pre><code>ZipInputStream z = new ZipInputStream(zipFile.getInputStream( zipEntry) ) ;\n</code></pre>\n\n<p>you will get a NullPointerException. </p>\n\n<p>My code:</p>\n\n<pre><code>public class ZipHandler {\n\n    String findings = new String();\n    ZipFile zipFile = null;\n\n    public void init(String fileName) throws AppException{\n\n        try {\n        //read file into stream\n        zipFile = new ZipFile(fileName);  \n        Enumeration&lt;?&gt; enu = zipFile.entries();  \n        exctractInfoFromZip(enu);\n\n        zipFile.close();\n        } catch (FileNotFoundException e) {\n        e.printStackTrace();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n    }\n}\n\n//The idea was recursively extract entries using ZipFile\npublic void exctractInfoFromZip(Enumeration&lt;?&gt; enu) throws IOException, AppException{   \n\n    try {\n        while (enu.hasMoreElements()) { \n            ZipEntry zipEntry = (ZipEntry) enu.nextElement();\n\n            String name = zipEntry.getName();\n            long size = zipEntry.getSize();\n            long compressedSize = zipEntry.getCompressedSize();\n\n            System.out.printf(\"name: %-20s | size: %6d | compressed size: %6d\\n\", \n                    name, size, compressedSize);\n\n            // directory ?\n            if (zipEntry.isDirectory()) {\n                System.out.println(\"dir found:\" + name);\n                findings+=\", \" + name; \n                continue;\n            } \n\n            if (name.toUpperCase().endsWith(\".ZIP\") ||  name.toUpperCase().endsWith(\".GZ\")) {\n                String fileType = name.substring(\n                        name.lastIndexOf(\".\")+1, name.length());\n\n                System.out.println(\"File type:\" + fileType);\n                System.out.println(\"zipEntry: \" + zipEntry);\n\n                if (fileType.equalsIgnoreCase(\"ZIP\")) {\n//ZipFile here returns a NULL pointer when you try to get the first nested zip\n                    ZipInputStream z = new ZipInputStream(zipFile.getInputStream(zipEntry) ) ;\n                    System.out.println(\"Opening ZIP as stream: \" + name);\n\n                    findings+=\", \" + name;\n\n                    exctractInfoFromZip(zipInputStreamToEnum(z));\n                } else if (fileType.equalsIgnoreCase(\"GZ\")) {\n//ZipFile here returns a NULL pointer when you try to get the first nested zip      \n                    GZIPInputStream z = new GZIPInputStream(zipFile.getInputStream(zipEntry) ) ;\n                    System.out.println(\"Opening ZIP as stream: \" + name);\n\n                    findings+=\", \" + name;\n\n                    exctractInfoFromZip(gZipInputStreamToEnum(z));\n                } else\n                    throw new AppException(\"extension not recognized!\");\n            } else {\n                System.out.println(name);\n                findings+=\", \" + name;\n            }\n        }\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    System.out.println(\"Findings \" + findings);\n} \n\npublic Enumeration&lt;?&gt; zipInputStreamToEnum(ZipInputStream zStream) throws IOException{\n\n    List&lt;ZipEntry&gt; list = new ArrayList&lt;ZipEntry&gt;();    \n\n    while (zStream.available() != 0) {\n        list.add(zStream.getNextEntry());\n    }\n\n    return Collections.enumeration(list);\n} \n</code></pre>\n"},{"tags":["java","java-11","java-module","javaagents","imperva"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1650888729,"post_id":71995771,"comment_id":127222335,"body_markdown":"Opening `jdk.crypto.ec/sun.security.ec` to `ALL-UNNAMED` would only be useful if the access was from the unnamed module to `jdk.crypto.ec/sun.security.ec`, but according to the error, the access is the other way round. For the access as indicated by the exception, no *opens* directive is necessary, as the unnamed module is open anyway. What is missing, is a *read edge*, but such a read edge can only be [added at runtime](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Module.html#addReads(java.lang.Module)); theres no command line option for that.","body":"Opening <code>jdk.crypto.ec&#47;sun.security.ec</code> to <code>ALL-UNNAMED</code> would only be useful if the access was from the unnamed module to <code>jdk.crypto.ec&#47;sun.security.ec</code>, but according to the error, the access is the other way round. For the access as indicated by the exception, no <i>opens</i> directive is necessary, as the unnamed module is open anyway. What is missing, is a <i>read edge</i>, but such a read edge can only be <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Module.html#addReads(java.lang.Module)\" rel=\"nofollow noreferrer\">added at runtime</a>; theres no command line option for that."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1650889097,"post_id":71995771,"comment_id":127222444,"body_markdown":"If you transform `sun.security.ec.ECDSASignature`, JVMTI should [add a read edge to the unnamed module](https://docs.oracle.com/en/java/javase/11/docs/specs/jvmti.html#bcimodules). You can also use `Instrumentation` to [add a read edge](https://docs.oracle.com/en/java/javase/18/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#redefineModule%28java.lang.Module,java.util.Set,java.util.Map,java.util.Map,java.util.Set,java.util.Map%29) by hand.","body":"If you transform <code>sun.security.ec.ECDSASignature</code>, JVMTI should <a href=\"https://docs.oracle.com/en/java/javase/11/docs/specs/jvmti.html#bcimodules\" rel=\"nofollow noreferrer\">add a read edge to the unnamed module</a>. You can also use <code>Instrumentation</code> to <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#redefineModule%28java.lang.Module,java.util.Set,java.util.Map,java.util.Map,java.util.Set,java.util.Map%29\" rel=\"nofollow noreferrer\">add a read edge</a> by hand."},{"owner":{"account_id":1587820,"reputation":627,"user_id":1471779,"accept_rate":67,"display_name":"Bhushan Karmarkar"},"score":0,"creation_date":1650948910,"post_id":71995771,"comment_id":127238132,"body_markdown":"@Holger and johannes - Thank you, but adding some code related to this may not work as the compilations happens on jdk7. Also the agent jar is out of my scope to change as its pre-built.","body":"@Holger and johannes - Thank you, but adding some code related to this may not work as the compilations happens on jdk7. Also the agent jar is out of my scope to change as its pre-built."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1650956660,"post_id":71995771,"comment_id":127240021,"body_markdown":"Well, if theres no newer version of the agent which does the necessary steps for newer Java versions, you have to stay with an older Java version. And think about a future strategy without relying on unmaintained software. Its possible to write Java&#160;7 software which does these steps via Reflection when running on a newer Java version, however, its still the duty of the Java Agent.","body":"Well, if theres no newer version of the agent which does the necessary steps for newer Java versions, you have to stay with an older Java version. And think about a future strategy without relying on unmaintained software. Its possible to write Java 7 software which does these steps via Reflection when running on a newer Java version, however, its still the duty of the Java Agent."},{"owner":{"account_id":1587820,"reputation":627,"user_id":1471779,"accept_rate":67,"display_name":"Bhushan Karmarkar"},"score":0,"creation_date":1650973154,"post_id":71995771,"comment_id":127245798,"body_markdown":"Thanks, I agree. I managed to resolve this and proceed further.\nInstead of --add-opens, I used --add-reads and it went ahead.","body":"Thanks, I agree. I managed to resolve this and proceed further. Instead of --add-opens, I used --add-reads and it went ahead."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1651216669,"post_id":71995771,"comment_id":127315762,"body_markdown":"@Holger, why would you say that you can add a read edge only during runtime, even though there is a JVM option `--add-reads` for it?","body":"@Holger, why would you say that you can add a read edge only during runtime, even though there is a JVM option <code>--add-reads</code> for it?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1651217291,"post_id":71995771,"comment_id":127315939,"body_markdown":"@kriegaex I wasnt aware of the option, however, if you have a Java Agent injecting dependencies dynamically at runtime, specifying the necessary read edges statically at startup time is a maintenance nightmare anyway. That might help temporarily but actually, the duty of adding the read edge is at the agent that added the dependency.","body":"@kriegaex I wasnt aware of the option, however, if you have a Java Agent injecting dependencies dynamically at runtime, specifying the necessary read edges statically at startup time is a maintenance nightmare anyway. That might help temporarily but actually, the duty of adding the read edge is at the agent that added the dependency."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1651218895,"post_id":71995771,"comment_id":127316446,"body_markdown":"I would not have thought that I live to see the day when you are unaware of an option. I always perceived you as some kind of omniscient oracle with regard to all things JVM. At any rate, you know much more about it than I do. With regard to Java modules, I would even consider myself not much more than an ignorant noob, trying as hard as I can to ignore the existence of a Java module concept, seeing not much value in it. &#128521;","body":"I would not have thought that I live to see the day when you are unaware of an option. I always perceived you as some kind of omniscient oracle with regard to all things JVM. At any rate, you know much more about it than I do. With regard to Java modules, I would even consider myself not much more than an ignorant noob, trying as hard as I can to ignore the existence of a Java module concept, seeing not much value in it. "},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1651219791,"post_id":71995771,"comment_id":127316754,"body_markdown":"@kriegaex well, in a correctly configured environment, there should be no need for `--add-reads` or `--add-opens` and I use neither. Im only aware of the latter, because theres too much software with reflective hacks out there (and a lot of related SO questions). Since affected software typically resides in the unnamed module, it makes sense to only stumble over the need for `--add-opens`, as read edges are already implied for non-modular software. So the need for `--add-reads` is a very special corner case. Even in this specific case, it shouldnt be handled on the command line, actually.","body":"@kriegaex well, in a correctly configured environment, there should be no need for <code>--add-reads</code> or <code>--add-opens</code> and I use neither. Im only aware of the latter, because theres too much software with reflective hacks out there (and a lot of related SO questions). Since affected software typically resides in the unnamed module, it makes sense to only stumble over the need for <code>--add-opens</code>, as read edges are already implied for non-modular software. So the need for <code>--add-reads</code> is a very special corner case. Even in this specific case, it shouldnt be handled on the command line, actually."}],"answers":[{"tags":[],"owner":{"account_id":1587820,"reputation":627,"user_id":1471779,"accept_rate":67,"display_name":"Bhushan Karmarkar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651036032,"creation_date":1651036032,"answer_id":72023527,"question_id":71995771,"body_markdown":"Managed to solve it by using `--add-reads` instead of `--add-opens`.&lt;br&gt;\r\n\r\n**`JDK_JAVA_OPTIONS=&quot;$JDK_JAVA_OPTIONS --add-reads jdk.crypto.ec=ALL-UNNAMED&quot;`**\r\n","title":"java module access issue: &quot;Class in a module cannot access class in unnamed module because module x does not read unnamed module y&quot;","body":"<p>Managed to solve it by using <code>--add-reads</code> instead of <code>--add-opens</code>.<br></p>\n<p><strong><code>JDK_JAVA_OPTIONS=&quot;$JDK_JAVA_OPTIONS --add-reads jdk.crypto.ec=ALL-UNNAMED&quot;</code></strong></p>\n"}],"owner":{"account_id":1587820,"reputation":627,"user_id":1471779,"accept_rate":67,"display_name":"Bhushan Karmarkar"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2221,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72023527,"answer_count":1,"score":3,"last_activity_date":1651036032,"creation_date":1650871186,"question_id":71995771,"body_markdown":"My source code compiles on java 7 and runs on java 11.&lt;br&gt;\r\nI am trying to integrate `imperva RASP` as a java agent in tomcat. However, when I start the tomcat server, it is throwing following exception:\r\n\r\n    Caused by: java.lang.IllegalAccessError: class sun.security.ec.ECDSASignature (in module jdk.crypto.ec) cannot access class com.imperva.rasp.AgentBridge (in unnamed module @0x66c61024) because module jdk.crypto.ec does not read unnamed module @0x66c61024\r\n            at jdk.crypto.ec/sun.security.ec.ECDSASignature.&lt;init&gt;(ECDSASignature.java:118)\r\n            at jdk.crypto.ec/sun.security.ec.ECDSASignature.&lt;init&gt;(ECDSASignature.java:106)\r\n            at jdk.crypto.ec/sun.security.ec.ECDSASignature$SHA1.&lt;init&gt;(ECDSASignature.java:214)\r\n            at jdk.crypto.ec/sun.security.ec.SunEC$ProviderService.newInstance(SunEC.java:102)\r\n            at java.base/java.security.Signature.isSpi(Signature.java:331)\r\n\r\nThe way I am passing java agent is:\r\n\r\n    JAVA_OPTS=&quot;-javaagent:$IMPERVA_JAR $JAVA_OPTS&quot;\r\n\r\nI went through multiple posts such as [this][1] one about `--add-opens` argument. Based on that, I am passing `JDK_JAVA_OPTIONS=&quot;$JDK_JAVA_OPTIONS --add-opens=jdk.crypto.ec/sun.security.ec=ALL-UNNAMED&quot;`\r\nI can see following statement in the logs:\r\n\r\n    Picked up JDK_JAVA_OPTIONS:  --add-opens=jdk.crypto.ec/sun.security.ec=ALL-UNNAMED\r\n\r\nAm I missing something here or is there any syntax error in the arguments that I am passing?&lt;br&gt;\r\nThere is no any other configuration is done.&lt;br&gt;&lt;br&gt;\r\n\r\nAny help is appreciated. Thank you.\r\n\r\n  [1]: https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-2F61F3A9-0979-46A4-8B49-325BA0EE8B66","title":"java module access issue: &quot;Class in a module cannot access class in unnamed module because module x does not read unnamed module y&quot;","body":"<p>My source code compiles on java 7 and runs on java 11.<br>\nI am trying to integrate <code>imperva RASP</code> as a java agent in tomcat. However, when I start the tomcat server, it is throwing following exception:</p>\n<pre><code>Caused by: java.lang.IllegalAccessError: class sun.security.ec.ECDSASignature (in module jdk.crypto.ec) cannot access class com.imperva.rasp.AgentBridge (in unnamed module @0x66c61024) because module jdk.crypto.ec does not read unnamed module @0x66c61024\n        at jdk.crypto.ec/sun.security.ec.ECDSASignature.&lt;init&gt;(ECDSASignature.java:118)\n        at jdk.crypto.ec/sun.security.ec.ECDSASignature.&lt;init&gt;(ECDSASignature.java:106)\n        at jdk.crypto.ec/sun.security.ec.ECDSASignature$SHA1.&lt;init&gt;(ECDSASignature.java:214)\n        at jdk.crypto.ec/sun.security.ec.SunEC$ProviderService.newInstance(SunEC.java:102)\n        at java.base/java.security.Signature.isSpi(Signature.java:331)\n</code></pre>\n<p>The way I am passing java agent is:</p>\n<pre><code>JAVA_OPTS=&quot;-javaagent:$IMPERVA_JAR $JAVA_OPTS&quot;\n</code></pre>\n<p>I went through multiple posts such as <a href=\"https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-2F61F3A9-0979-46A4-8B49-325BA0EE8B66\" rel=\"nofollow noreferrer\">this</a> one about <code>--add-opens</code> argument. Based on that, I am passing <code>JDK_JAVA_OPTIONS=&quot;$JDK_JAVA_OPTIONS --add-opens=jdk.crypto.ec/sun.security.ec=ALL-UNNAMED&quot;</code>\nI can see following statement in the logs:</p>\n<pre><code>Picked up JDK_JAVA_OPTIONS:  --add-opens=jdk.crypto.ec/sun.security.ec=ALL-UNNAMED\n</code></pre>\n<p>Am I missing something here or is there any syntax error in the arguments that I am passing?<br>\nThere is no any other configuration is done.<br><br></p>\n<p>Any help is appreciated. Thank you.</p>\n"},{"tags":["python","java","multithreading","parallel-processing","gil"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1651035841,"creation_date":1650956452,"answer_id":72009613,"question_id":72009183,"body_markdown":"&gt; Why is java different? \r\n\r\nBecause it is able to *effectively* use multiple cores at the same time.\r\n\r\n-----------------\r\n\r\n&gt; 1. Does creating a new thread in java utilizes cores in multi core machine?\r\n\r\nYes.\r\n\r\n-----------------\r\n\r\n&gt; 2.  Python can only spawn threads on the same CPU, in contrast to Java?\r\n\r\nJava can spawn multiple threads which will on different CPUs.  Java is not responsible for the actual thread scheduling.  That is handled by the OS.  And the OS may reschedule a thread to a different CPU to the one that it started on.\r\n\r\nI am not sure about the precise details for Python, but I think the GIL is an implementation detail rather than something that it intrinsic to the language itself&lt;sup&gt;1&lt;/sup&gt;.  But either way, in a Python implementation, the GIL means that you would get little performance benefit in spawning threads on multiple cores.  As [this page][1] says:\r\n\r\n&gt; *&quot;The Python Global Interpreter Lock or GIL, in simple words, is a mutex (or a lock) that allows only one thread to hold the control of the Python interpreter.&quot;*\r\n\r\n------------------------\r\n\r\n&gt; 3. If 1. is the case, when using more threads than CPUs does it come back to context switching in Java?\r\n\r\nIt depends.  When switching a CPU between threads belonging to different processes, a full context switch is involved.  But when switching between threads in the same process, only the (user) registers need to be switched.  (The virtual memory registers and caches don&#39;t need to be switched / flushed because the threads share the same virtual address space.)\r\n\r\n------------------\r\n\r\n&gt; 4.  If 1. is the case then how is it differ from multiprocessing? Because utilizing multiple cores isn&#39;t guaranteed?\r\n\r\nThe key difference between multi-threading and multi-processing is that processes do not share any memory.  By contrast, one thread in a process can see the memory of all of the others ... modulo issues of *when* changes are visible.\r\n\r\nThis difference has a variety of consequences.\r\n\r\n------------------\r\n\r\n&gt; 5. Isn&#39;t the whole point of threading is being able to use the same memory space? \r\n\r\nYes, that is the main point ... when you compare multi-threading with multi-processing.\r\n\r\n&gt; If Java does run some of them in multiple threads for parallelism ...\r\n\r\nJava supports threads for many reasons.  Parallelism is only one of those reasons.  Others include multiplexing I/O and simplifying certain kinds of programming problem.  These other reasons are also relevant to Python.\r\n\r\n&gt; ... how do [Java threads] really share memory?\r\n\r\nThe hardware deals with the issues of making the physical memory visible to all of the threads, and propagation of changes via the memory caches.  It is complicated.\r\n\r\n----------------------------\r\n\r\nIn Java the onus is on the programmer to &quot;do the right thing&quot; when threads make use of shared variables / objects.  You need to use `volatile` variables, or `synchronized` blocks / methods, or something else that ensures that there is a *happens before* chain between a write and subsequent read.  (Otherwise you can get issues with changes not being visible.)  \r\n\r\nThis transfer of responsibility to the programmer allows the compiler to generate code with fewer main memory operations ... and hence that is faster.   The downside is that if an application doesn&#39;t obey the rules, it is liable to behave in unexpected ways.\r\n\r\nBy contrast, in Python the memory model is unspecified, but there is an *expectation* (by millions of Python programmers) that it will behave in an intuitive fashion; i.e. a shared variable write performed by one thread will immediately be visible to other threads.  This is hard to achieve efficiently while also allowing Python threads to run in parallel.\r\n\r\n------------------------\r\n\r\n&lt;sup&gt;1 - While the GIL is not formally part of the Python spec, the influence of GIL on the (unspecified!) Python memory model and Python programmers assumptions make it more than *merely* an implementation detail.  It remains to be seen if Python can successfully evolve into a language where multi-threading can use multiple cores *effectively*.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://realpython.com/python-gil/","title":"Parallel threading python GIL vs Java","body":"<blockquote>\n<p>Why is java different?</p>\n</blockquote>\n<p>Because it is able to <em>effectively</em> use multiple cores at the same time.</p>\n<hr />\n<blockquote>\n<ol>\n<li>Does creating a new thread in java utilizes cores in multi core machine?</li>\n</ol>\n</blockquote>\n<p>Yes.</p>\n<hr />\n<blockquote>\n<ol start=\"2\">\n<li>Python can only spawn threads on the same CPU, in contrast to Java?</li>\n</ol>\n</blockquote>\n<p>Java can spawn multiple threads which will on different CPUs.  Java is not responsible for the actual thread scheduling.  That is handled by the OS.  And the OS may reschedule a thread to a different CPU to the one that it started on.</p>\n<p>I am not sure about the precise details for Python, but I think the GIL is an implementation detail rather than something that it intrinsic to the language itself<sup>1</sup>.  But either way, in a Python implementation, the GIL means that you would get little performance benefit in spawning threads on multiple cores.  As <a href=\"https://realpython.com/python-gil/\" rel=\"nofollow noreferrer\">this page</a> says:</p>\n<blockquote>\n<p><em>&quot;The Python Global Interpreter Lock or GIL, in simple words, is a mutex (or a lock) that allows only one thread to hold the control of the Python interpreter.&quot;</em></p>\n</blockquote>\n<hr />\n<blockquote>\n<ol start=\"3\">\n<li>If 1. is the case, when using more threads than CPUs does it come back to context switching in Java?</li>\n</ol>\n</blockquote>\n<p>It depends.  When switching a CPU between threads belonging to different processes, a full context switch is involved.  But when switching between threads in the same process, only the (user) registers need to be switched.  (The virtual memory registers and caches don't need to be switched / flushed because the threads share the same virtual address space.)</p>\n<hr />\n<blockquote>\n<ol start=\"4\">\n<li>If 1. is the case then how is it differ from multiprocessing? Because utilizing multiple cores isn't guaranteed?</li>\n</ol>\n</blockquote>\n<p>The key difference between multi-threading and multi-processing is that processes do not share any memory.  By contrast, one thread in a process can see the memory of all of the others ... modulo issues of <em>when</em> changes are visible.</p>\n<p>This difference has a variety of consequences.</p>\n<hr />\n<blockquote>\n<ol start=\"5\">\n<li>Isn't the whole point of threading is being able to use the same memory space?</li>\n</ol>\n</blockquote>\n<p>Yes, that is the main point ... when you compare multi-threading with multi-processing.</p>\n<blockquote>\n<p>If Java does run some of them in multiple threads for parallelism ...</p>\n</blockquote>\n<p>Java supports threads for many reasons.  Parallelism is only one of those reasons.  Others include multiplexing I/O and simplifying certain kinds of programming problem.  These other reasons are also relevant to Python.</p>\n<blockquote>\n<p>... how do [Java threads] really share memory?</p>\n</blockquote>\n<p>The hardware deals with the issues of making the physical memory visible to all of the threads, and propagation of changes via the memory caches.  It is complicated.</p>\n<hr />\n<p>In Java the onus is on the programmer to &quot;do the right thing&quot; when threads make use of shared variables / objects.  You need to use <code>volatile</code> variables, or <code>synchronized</code> blocks / methods, or something else that ensures that there is a <em>happens before</em> chain between a write and subsequent read.  (Otherwise you can get issues with changes not being visible.)</p>\n<p>This transfer of responsibility to the programmer allows the compiler to generate code with fewer main memory operations ... and hence that is faster.   The downside is that if an application doesn't obey the rules, it is liable to behave in unexpected ways.</p>\n<p>By contrast, in Python the memory model is unspecified, but there is an <em>expectation</em> (by millions of Python programmers) that it will behave in an intuitive fashion; i.e. a shared variable write performed by one thread will immediately be visible to other threads.  This is hard to achieve efficiently while also allowing Python threads to run in parallel.</p>\n<hr />\n<p><sup>1 - While the GIL is not formally part of the Python spec, the influence of GIL on the (unspecified!) Python memory model and Python programmers assumptions make it more than <em>merely</em> an implementation detail.  It remains to be seen if Python can successfully evolve into a language where multi-threading can use multiple cores <em>effectively</em>.</sup></p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650981459,"creation_date":1650980661,"answer_id":72015071,"question_id":72009183,"body_markdown":"Not a complete answer here, but just adding a couple of things that Stephen C didn&#39;t already say:\r\n\r\n&gt; 2. Python can only spawn threads on the same CPU, in contrast to java?\r\n\r\nThat would be an optimization, not an essential fact. There&#39;s no reason in principle why Python could not simply allow the OS to schedule its threads on whatever CPU happened to be available at any given time.\r\n\r\nOTOH, given that no two Python threads can do significant work at the same time, it potentially could improve performance if the threads all had [_affinity_](https://en.wikipedia.org/wiki/Processor_affinity) for the same CPU. (See what Stephen C said about &quot;full context switch&quot; vs. &quot;only the (user) registers.&quot;\r\n\r\nGiving user-mode processes control over processor affinity is a relatively new feature in some operating systems. I have no idea of whether or not any Python version actually uses that feature.\r\n\r\n&gt; 5. If java does run...multiple threads for parallelism...?\r\n\r\nJava doesn&#39;t &quot;run multiple threads for parallelism.&quot; _Your Java program_ creates multiple threads for whatever reason _you_ happen to want them. Most modern OSs provide threads. Java simply makes that ability available to application programmers in a way that is tightly integrated with the language itself. You are free to use them (or not) however you see fit.","title":"Parallel threading python GIL vs Java","body":"<p>Not a complete answer here, but just adding a couple of things that Stephen C didn't already say:</p>\n<blockquote>\n<ol start=\"2\">\n<li>Python can only spawn threads on the same CPU, in contrast to java?</li>\n</ol>\n</blockquote>\n<p>That would be an optimization, not an essential fact. There's no reason in principle why Python could not simply allow the OS to schedule its threads on whatever CPU happened to be available at any given time.</p>\n<p>OTOH, given that no two Python threads can do significant work at the same time, it potentially could improve performance if the threads all had <a href=\"https://en.wikipedia.org/wiki/Processor_affinity\" rel=\"nofollow noreferrer\"><em>affinity</em></a> for the same CPU. (See what Stephen C said about &quot;full context switch&quot; vs. &quot;only the (user) registers.&quot;</p>\n<p>Giving user-mode processes control over processor affinity is a relatively new feature in some operating systems. I have no idea of whether or not any Python version actually uses that feature.</p>\n<blockquote>\n<ol start=\"5\">\n<li>If java does run...multiple threads for parallelism...?</li>\n</ol>\n</blockquote>\n<p>Java doesn't &quot;run multiple threads for parallelism.&quot; <em>Your Java program</em> creates multiple threads for whatever reason <em>you</em> happen to want them. Most modern OSs provide threads. Java simply makes that ability available to application programmers in a way that is tightly integrated with the language itself. You are free to use them (or not) however you see fit.</p>\n"}],"owner":{"account_id":15632559,"reputation":183,"user_id":11278464,"display_name":"Amit Neuhaus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":703,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72009613,"answer_count":2,"score":3,"last_activity_date":1651035841,"creation_date":1650953859,"question_id":72009183,"body_markdown":"I know that python has a GIL that make threads not be able to run at the same time therefore threading is just context switching. \r\n\r\nWhy is java different? \r\nThreads on the same CPU in every language cannot run parallel.\r\n\r\n1. Is creating new thread in java utilizes cores in multi core machine?\r\n\r\n2. python can only spawn threads on the same CPU, in contrast to java?\r\n\r\n3. If 1. Is the case, when using more threads than CPUs even in java it comes back to context switching again for several of them?\r\n\r\n3. If 1. Is the case then how is it differ from multiprocessing? Because utilizing multiple cores isn&#39;t guaranteed?\r\n\r\n4. Isn&#39;t the whole point of threading is being able to use the same memory space? If java does run some of them in multiple threads for perallelism, how do they really share memory?\r\n\r\nThank you ","title":"Parallel threading python GIL vs Java","body":"<p>I know that python has a GIL that make threads not be able to run at the same time therefore threading is just context switching.</p>\n<p>Why is java different?\nThreads on the same CPU in every language cannot run parallel.</p>\n<ol>\n<li><p>Is creating new thread in java utilizes cores in multi core machine?</p>\n</li>\n<li><p>python can only spawn threads on the same CPU, in contrast to java?</p>\n</li>\n<li><p>If 1. Is the case, when using more threads than CPUs even in java it comes back to context switching again for several of them?</p>\n</li>\n<li><p>If 1. Is the case then how is it differ from multiprocessing? Because utilizing multiple cores isn't guaranteed?</p>\n</li>\n<li><p>Isn't the whole point of threading is being able to use the same memory space? If java does run some of them in multiple threads for perallelism, how do they really share memory?</p>\n</li>\n</ol>\n<p>Thank you</p>\n"},{"tags":["java","spring-boot","microservices","spring-cloud","netflix-eureka"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1650988940,"post_id":72013195,"comment_id":127252394,"body_markdown":"You need to use service-exchange-trade rather than an IP address","body":"You need to use service-exchange-trade rather than an IP address"},{"owner":{"account_id":6389195,"reputation":732,"user_id":4955984,"accept_rate":19,"display_name":"dhamo dharan"},"score":0,"creation_date":1651037529,"post_id":72013195,"comment_id":127263534,"body_markdown":"I&#39;m having more than 8 services, and one common front end application, It&#39;s hard to give the api gateway name for each individual Rest API&#39;s. Any other possible ways?","body":"I&#39;m having more than 8 services, and one common front end application, It&#39;s hard to give the api gateway name for each individual Rest API&#39;s. Any other possible ways?"},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1651095758,"post_id":72013195,"comment_id":127284297,"body_markdown":"I guess I don&#39;t understand how your applications are arranged","body":"I guess I don&#39;t understand how your applications are arranged"}],"answers":[{"tags":[],"owner":{"account_id":22401161,"reputation":1,"user_id":18874286,"display_name":"Aditya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651035248,"creation_date":1651035248,"answer_id":72023441,"question_id":72013195,"body_markdown":"You have to implement an API gateway along with service registry, for example ZUUL api gateway and execute the request through gateway. The url will look something like this `http://{host}:{port of api gateway}/{name of service to be invoked}/{path to resource}`\r\nGateway will takecare of calling it to actual port and service which is registered with service registry","title":"REST API not working without port number in Eureka Server","body":"<p>You have to implement an API gateway along with service registry, for example ZUUL api gateway and execute the request through gateway. The url will look something like this <code>http://{host}:{port of api gateway}/{name of service to be invoked}/{path to resource}</code>\nGateway will takecare of calling it to actual port and service which is registered with service registry</p>\n"}],"owner":{"account_id":6389195,"reputation":732,"user_id":4955984,"accept_rate":19,"display_name":"dhamo dharan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":695,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651035248,"creation_date":1650972704,"question_id":72013195,"body_markdown":"I have a Spring Cloud microservices application which has multiple services running independently and I&#39;m using the Eureka service registry. All my micro services are registered into the Eureka server and all the client applications running on each port and IP address. Everything is fine. \r\n\r\nI have the Vue front end application which is outside the spring cloud service and trying to access the Rest API&#39;s which are registered into the Eureka server.\r\n\r\nNow the Rest API&#39;s only working with the port number of each client application that registered into the Eureka. For example, a market exchange service running on port 6005 and registered into the Eureka server and I&#39;m trying to access the Rest API like this: `http://192.168.201.241:6005/market/exchange-rate/usd-cny` this is working fine.\r\n\r\nBut without port number Rest API not working Example: `http://192.168.201.241/market/exchange-rate/usd-cny`. I can&#39;t put port numbers on each individual micro service.  **How can I access the Rest API without the port number using the Eureka server IP address in local development?** \r\n\r\nThis is `application.properties` of Eureka server:\r\n\r\n    server.port=8761\r\n    eureka.instance.instance-id=${spring.cloud.client.ipAddress}:${server.port}\r\n    eureka.instance.hostname=${spring.cloud.client.ipAddress}\r\n    eureka.client.registerWithEureka=false\r\n    eureka.client.fetchRegistry=false\r\n    eureka.client.serviceUrl.defaultZone=http://${eureka.instance.hostname}:${server.port}/eureka/\r\n    eureka.server.enable-self-preservation=true\r\n\r\n\r\nThis is from Eureka client \r\n\r\n    eureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/\r\nThis is my Eureka Dashboard:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zfWWr.png","title":"REST API not working without port number in Eureka Server","body":"<p>I have a Spring Cloud microservices application which has multiple services running independently and I'm using the Eureka service registry. All my micro services are registered into the Eureka server and all the client applications running on each port and IP address. Everything is fine.</p>\n<p>I have the Vue front end application which is outside the spring cloud service and trying to access the Rest API's which are registered into the Eureka server.</p>\n<p>Now the Rest API's only working with the port number of each client application that registered into the Eureka. For example, a market exchange service running on port 6005 and registered into the Eureka server and I'm trying to access the Rest API like this: <code>http://192.168.201.241:6005/market/exchange-rate/usd-cny</code> this is working fine.</p>\n<p>But without port number Rest API not working Example: <code>http://192.168.201.241/market/exchange-rate/usd-cny</code>. I can't put port numbers on each individual micro service.  <strong>How can I access the Rest API without the port number using the Eureka server IP address in local development?</strong></p>\n<p>This is <code>application.properties</code> of Eureka server:</p>\n<pre><code>server.port=8761\neureka.instance.instance-id=${spring.cloud.client.ipAddress}:${server.port}\neureka.instance.hostname=${spring.cloud.client.ipAddress}\neureka.client.registerWithEureka=false\neureka.client.fetchRegistry=false\neureka.client.serviceUrl.defaultZone=http://${eureka.instance.hostname}:${server.port}/eureka/\neureka.server.enable-self-preservation=true\n</code></pre>\n<p>This is from Eureka client</p>\n<pre><code>eureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/\n</code></pre>\n<p>This is my Eureka Dashboard:\n<a href=\"https://i.stack.imgur.com/zfWWr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zfWWr.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","vaadin","vaadin-grid","vaadin23"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1651015891,"post_id":72021584,"comment_id":127260271,"body_markdown":"By custom atttibute, do you mean adding a column to the grid? Does a custom attribute apply to all the rows in the grid?  And how many custom attributes do you expect? Your own code shows `grid.addColumn`, so Im having a difficult time understanding what is confusing you or limiting you.","body":"By custom atttibute, do you mean adding a column to the grid? Does a custom attribute apply to all the rows in the grid?  And how many custom attributes do you expect? Your own code shows <code>grid.addColumn</code>, so Im having a difficult time understanding what is confusing you or limiting you."},{"owner":{"account_id":7510409,"reputation":1883,"user_id":5705554,"display_name":"Marcus Hellberg"},"score":0,"creation_date":1651016588,"post_id":72021584,"comment_id":127260371,"body_markdown":"You should be able to loop over your list of custom attributes and call grid.addColumn for each .","body":"You should be able to loop over your list of custom attributes and call grid.addColumn for each ."}],"answers":[{"tags":[],"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651034772,"creation_date":1651034772,"answer_id":72023403,"question_id":72021584,"body_markdown":"Like it was already written in the comments, you can loop over the attribute names assuming your have a list (or set) of them. One small gotcha is that you need to do that in a way that ensures values inside the callback are effectively final.\r\n\r\n```\r\nattributeNames.forEach(name -&gt; {\r\n  grid.addColumn(item -&gt; item.getCustomAttributes().get(name))\r\n    .setHeader(name);\r\n});\r\n```\r\n\r\nIf you don&#39;t directly know the attribute names but you&#39;re loading all items into memory instead of lazy loading them, then you can find the unique names by iterating over all items:\r\n```\r\nitems.stream().flatMap(item -&gt; item.getCustomAttributes().keySet().stream())\r\n  .distinct().forEach(&lt;same loop as in the previous example&gt;);\r\n```","title":"Vaadin - adding columns to grid from map","body":"<p>Like it was already written in the comments, you can loop over the attribute names assuming your have a list (or set) of them. One small gotcha is that you need to do that in a way that ensures values inside the callback are effectively final.</p>\n<pre><code>attributeNames.forEach(name -&gt; {\n  grid.addColumn(item -&gt; item.getCustomAttributes().get(name))\n    .setHeader(name);\n});\n</code></pre>\n<p>If you don't directly know the attribute names but you're loading all items into memory instead of lazy loading them, then you can find the unique names by iterating over all items:</p>\n<pre><code>items.stream().flatMap(item -&gt; item.getCustomAttributes().keySet().stream())\n  .distinct().forEach(&lt;same loop as in the previous example&gt;);\n</code></pre>\n"}],"owner":{"account_id":7510146,"reputation":169,"user_id":5705378,"accept_rate":62,"display_name":"foxbuur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72023403,"answer_count":1,"score":1,"last_activity_date":1651034772,"creation_date":1651015199,"question_id":72021584,"body_markdown":"I want to show data in vaadin&#39;s grid, but I want to create columns dynamically for each value from customAttributes list. My data model more or less look like this\r\n\r\n    Item\r\n        name: String\r\n        localization: Localization\r\n        visible: Boolean\r\n        customAttributes: List&lt;CustomAttribute&gt;\r\n\r\n    CustomAttribute\r\n        name: String\r\n        value: String\r\n\r\nEach Item has the same set of attribute types, only the values are different. User can manually defined new attribute types. \r\n\r\nHow can I create this grid? \r\nCurrently I do it in this way:\r\n\r\n    grid.setColumns(&quot;name&quot;, &quot;visible&quot;);\r\n    grid.addColumn(v -&gt; v.getLocalization().getName()).setHeader(&quot;Localization&quot;);\r\n\r\nBut I have no idea for dynamic creating columns for each custom attribute.","title":"Vaadin - adding columns to grid from map","body":"<p>I want to show data in vaadin's grid, but I want to create columns dynamically for each value from customAttributes list. My data model more or less look like this</p>\n<pre><code>Item\n    name: String\n    localization: Localization\n    visible: Boolean\n    customAttributes: List&lt;CustomAttribute&gt;\n\nCustomAttribute\n    name: String\n    value: String\n</code></pre>\n<p>Each Item has the same set of attribute types, only the values are different. User can manually defined new attribute types.</p>\n<p>How can I create this grid?\nCurrently I do it in this way:</p>\n<pre><code>grid.setColumns(&quot;name&quot;, &quot;visible&quot;);\ngrid.addColumn(v -&gt; v.getLocalization().getName()).setHeader(&quot;Localization&quot;);\n</code></pre>\n<p>But I have no idea for dynamic creating columns for each custom attribute.</p>\n"},{"tags":["java","counter"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1651033980,"post_id":72023286,"comment_id":127262915,"body_markdown":"Well `step &gt;= n` is immediately false for any `n` greater than 1.","body":"Well <code>step &gt;= n</code> is immediately false for any <code>n</code> greater than 1."},{"owner":{"account_id":8282587,"reputation":382,"user_id":6226761,"display_name":"Edwin M. Cruz"},"score":1,"creation_date":1651034005,"post_id":72023286,"comment_id":127262921,"body_markdown":"When you count down. You want to initialize step to n and stop when you get to 0","body":"When you count down. You want to initialize step to n and stop when you get to 0"}],"answers":[{"tags":[],"owner":{"account_id":8282587,"reputation":382,"user_id":6226761,"display_name":"Edwin M. Cruz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651034082,"creation_date":1651034082,"answer_id":72023323,"question_id":72023286,"body_markdown":"    public void countDown(int n){\r\n        for (int step = n; step &gt;= 0; step--){\r\n            System.out.println(&quot;counter = &quot; + step );\r\n        }\r\n    }","title":"How to fix count down problem Java using counter","body":"<pre><code>public void countDown(int n){\n    for (int step = n; step &gt;= 0; step--){\n        System.out.println(&quot;counter = &quot; + step );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25111297,"reputation":1,"user_id":18960907,"display_name":"Chandra Mauli Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651034583,"creation_date":1651034583,"answer_id":72023384,"question_id":72023286,"body_markdown":"This is because `countDown()` function is not running at all because of the condition `step&gt;=n` the condition is never satisfied unless `n==1`. \r\n\r\nI don&#39;t know what value is exactly present in the variable `currentCount` considering it is `n` so just change the loop parameter to the following:-\r\n\r\n    for (int step = n; step &gt;= i; step--)\r\n\r\nHope this help.\r\n\r\n","title":"How to fix count down problem Java using counter","body":"<p>This is because <code>countDown()</code> function is not running at all because of the condition <code>step&gt;=n</code> the condition is never satisfied unless <code>n==1</code>.</p>\n<p>I don't know what value is exactly present in the variable <code>currentCount</code> considering it is <code>n</code> so just change the loop parameter to the following:-</p>\n<pre><code>for (int step = n; step &gt;= i; step--)\n</code></pre>\n<p>Hope this help.</p>\n"}],"owner":{"display_name":"user18960849"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72023323,"answer_count":2,"score":0,"last_activity_date":1651034583,"creation_date":1651033729,"question_id":72023286,"body_markdown":"I&#39;m trying to create a code that uses a counter to countdown from int n.\r\nI&#39;m able to count up just fine, but when I execute the code, it does not countdown at all. \r\nDoes anybody know whereabouts I went wrong?\r\n```\r\npublic void countUp(int n) {\r\n        System.out.println(&quot;*** Counting up &quot; + n);\r\n        for (int step = 1; step &lt;= n; step++) {\r\n            System.out.println(&quot;counter = &quot; + currentCount);\r\n            currentCount += 1;\r\n        }\r\n    }\r\n    public void countDown(int n){\r\n        System.out.println(&quot;*** Counting down &quot; + n);\r\n        for (int step = 1; step &gt;= n; step--){\r\n            System.out.println(&quot;counter = &quot; +currentCount);\r\n            currentCount -= 1;\r\n        }\r\n    }\r\n```","title":"How to fix count down problem Java using counter","body":"<p>I'm trying to create a code that uses a counter to countdown from int n.\nI'm able to count up just fine, but when I execute the code, it does not countdown at all.\nDoes anybody know whereabouts I went wrong?</p>\n<pre><code>public void countUp(int n) {\n        System.out.println(&quot;*** Counting up &quot; + n);\n        for (int step = 1; step &lt;= n; step++) {\n            System.out.println(&quot;counter = &quot; + currentCount);\n            currentCount += 1;\n        }\n    }\n    public void countDown(int n){\n        System.out.println(&quot;*** Counting down &quot; + n);\n        for (int step = 1; step &gt;= n; step--){\n            System.out.println(&quot;counter = &quot; +currentCount);\n            currentCount -= 1;\n        }\n    }\n</code></pre>\n"},{"tags":["java","pentaho"],"answers":[{"tags":[],"owner":{"account_id":4410367,"reputation":4466,"user_id":3593498,"display_name":"nsousa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651034411,"creation_date":1651034411,"answer_id":72023363,"question_id":72007961,"body_markdown":"Pentaho only supports TLSv1, and that has been deprecated for a while. Most SMTP servers require TLSv1.2 or TLSv1.3. You will need to implement support for TLSv1.2, or find an email service that allows TLSv1, which is becoming less and less common these days. ","title":"Pentaho: Javax mail errror","body":"<p>Pentaho only supports TLSv1, and that has been deprecated for a while. Most SMTP servers require TLSv1.2 or TLSv1.3. You will need to implement support for TLSv1.2, or find an email service that allows TLSv1, which is becoming less and less common these days.</p>\n"}],"owner":{"account_id":5988256,"reputation":1035,"user_id":9861647,"display_name":"Simon GIS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72023363,"answer_count":1,"score":0,"last_activity_date":1651034411,"creation_date":1650942730,"question_id":72007961,"body_markdown":"I want to send email in a Pentaho Job and I am getting this error: \r\n\r\n    Job failed alert - ERROR (version 8.2.0.0-342, build 8.2.0.0-342 from 2018-11-14 10.30.55 by buildguy) : Problem while sending message: javax.mail.MessagingException: Could not connect to SMTP host: email.....amazonaws.com, port: 465;\r\n    2022/04/26 09:57:17 - Job failed alert -   nested exception is:\r\n    2022/04/26 09:57:17 - Job failed alert - \tjavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n\r\nAny Idea how to fix this issue? ","title":"Pentaho: Javax mail errror","body":"<p>I want to send email in a Pentaho Job and I am getting this error:</p>\n<pre><code>Job failed alert - ERROR (version 8.2.0.0-342, build 8.2.0.0-342 from 2018-11-14 10.30.55 by buildguy) : Problem while sending message: javax.mail.MessagingException: Could not connect to SMTP host: email.....amazonaws.com, port: 465;\n2022/04/26 09:57:17 - Job failed alert -   nested exception is:\n2022/04/26 09:57:17 - Job failed alert -    javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n</code></pre>\n<p>Any Idea how to fix this issue?</p>\n"},{"tags":["java","html","jquery","ajax"],"comments":[{"owner":{"account_id":284917,"reputation":5223,"user_id":583301,"accept_rate":80,"display_name":"Sang Suantak"},"score":0,"creation_date":1651034060,"post_id":72022858,"comment_id":127262928,"body_markdown":"How many times can `MySeconddiv` be clicked? If the objective is to allow users to click it only once per `.MySeconddiv`, you can use the `one` method instead. For example, `$(&#39;.MySeconddiv&#39;).one(&#39;click&#39;, function ()`.","body":"How many times can <code>MySeconddiv</code> be clicked? If the objective is to allow users to click it only once per <code>.MySeconddiv</code>, you can use the <code>one</code> method instead. For example, <code>$(&#39;.MySeconddiv&#39;).one(&#39;click&#39;, function ()</code>."},{"owner":{"account_id":18445251,"reputation":13,"user_id":13436755,"display_name":"shon"},"score":0,"creation_date":1651039166,"post_id":72022858,"comment_id":127263864,"body_markdown":"Until the information in the database runs out, because it loads six results per click, but I do not need duplicate results","body":"Until the information in the database runs out, because it loads six results per click, but I do not need duplicate results"},{"owner":{"account_id":284917,"reputation":5223,"user_id":583301,"accept_rate":80,"display_name":"Sang Suantak"},"score":0,"creation_date":1651045327,"post_id":72022858,"comment_id":127265727,"body_markdown":"I just realized you are using `onclick`, it should by `click` in jQuery, e.g. `$(&#39;.MySeconddiv&#39;).click(`. As for other parts of your code, they seem to be ok.","body":"I just realized you are using <code>onclick</code>, it should by <code>click</code> in jQuery, e.g. <code>$(&#39;.MySeconddiv&#39;).click(</code>. As for other parts of your code, they seem to be ok."},{"owner":{"account_id":284917,"reputation":5223,"user_id":583301,"accept_rate":80,"display_name":"Sang Suantak"},"score":0,"creation_date":1651045632,"post_id":72022858,"comment_id":127265829,"body_markdown":"Also, a few suggestions I would like to make if you&#39;re new into programming/HTML/JS/jQuery. (1) If you&#39;re going to have an element which will be unique throughout the HTML, provide it an `id` and reference it using the `id` instead of class. (2) If the purpose of an element is to accept user&#39;s input, use the appropriate element as much as possible. For e.g., since `MySeconddiv` is a click input, it should ideally be an anchor (`a`) tag.","body":"Also, a few suggestions I would like to make if you&#39;re new into programming/HTML/JS/jQuery. (1) If you&#39;re going to have an element which will be unique throughout the HTML, provide it an <code>id</code> and reference it using the <code>id</code> instead of class. (2) If the purpose of an element is to accept user&#39;s input, use the appropriate element as much as possible. For e.g., since <code>MySeconddiv</code> is a click input, it should ideally be an anchor (<code>a</code>) tag."},{"owner":{"account_id":284917,"reputation":5223,"user_id":583301,"accept_rate":80,"display_name":"Sang Suantak"},"score":0,"creation_date":1651046308,"post_id":72022858,"comment_id":127266067,"body_markdown":"Do check if you&#39;re getting the appropriate values of `offset` and `limit` when you&#39;re getting the values.","body":"Do check if you&#39;re getting the appropriate values of <code>offset</code> and <code>limit</code> when you&#39;re getting the values."},{"owner":{"account_id":18445251,"reputation":13,"user_id":13436755,"display_name":"shon"},"score":0,"creation_date":1651048664,"post_id":72022858,"comment_id":127267001,"body_markdown":"Exactly the same ajax option in scroll works fine, the thing here is that the sql function is complex and provides the end result except that there are duplicates, and I thought that here in the ajax function I can solve the problem, something like if (data == &quot;same_as_divone) {} else {continue}  &quot;","body":"Exactly the same ajax option in scroll works fine, the thing here is that the sql function is complex and provides the end result except that there are duplicates, and I thought that here in the ajax function I can solve the problem, something like if (data == &quot;same_as_divone) {} else {continue}  &quot;"}],"owner":{"account_id":18445251,"reputation":13,"user_id":13436755,"display_name":"shon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651033773,"creation_date":1651029444,"question_id":72022858,"body_markdown":"How to prevent ajax from confirming on success content already in &lt;div&gt; in this case in `$(&#39;.Mydiv&#39;).Append(data);`\r\n\r\n```\r\n$(document).ready(function (ajaxCall) {\r\n\r\n    var offset = 0;\r\n    var limit = offset + 4;\r\n    var cats_in_home = &#39;&lt;?php echo $myCat ?&gt;&#39;;\r\n    var request_in_progress = false;\r\n\r\n    $.ajax({\r\n        type: &#39;GET&#39;,\r\n        url: &#39;getActivity.php&#39;,\r\n        data: {\r\n            &#39;offset&#39;: offset,\r\n            &#39;limit&#39;: limit,\r\n            &#39;cats_in_home&#39;: cats_in_home\r\n        },\r\n\r\n        success: function (data) {\r\n            $(&#39;.get_communication_with_div_class&#39;).html(data);\r\n        }\r\n    });\r\n\r\n    $(&#39;.MySeconddiv&#39;).onclick(function () {\r\n\r\n        if (request_in_progress) {\r\n            return;\r\n        }\r\n\r\n        request_in_progress = true;\r\n\r\n        $.ajax({\r\n            type: &#39;GET&#39;,\r\n            url: &#39;getActivity.php&#39;,\r\n            data: {\r\n                &#39;offset&#39;: offset += 6,\r\n                &#39;limit&#39;: limit,\r\n                &#39;cats_in_home&#39;: cats_in_home\r\n            },\r\n\r\n            success: function (data) {\r\n                $(&#39;.Mydiv&#39;).append(data);\r\n                request_in_progress = false;\r\n            }\r\n        });\r\n    });\r\n});\r\n\r\n\r\n```\r\n\r\nthe problem is when i click the MySeconddiv &lt;div&gt; tag its accept duplicates,\r\nplese help\r\ni cant find way to find a solution\r\ni cant find way to find a solution","title":"How to prevent ajax from confirming on success content already inside a div","body":"<p>How to prevent ajax from confirming on success content already in  in this case in <code>$('.Mydiv').Append(data);</code></p>\n<pre><code>$(document).ready(function (ajaxCall) {\n\n    var offset = 0;\n    var limit = offset + 4;\n    var cats_in_home = '&lt;?php echo $myCat ?&gt;';\n    var request_in_progress = false;\n\n    $.ajax({\n        type: 'GET',\n        url: 'getActivity.php',\n        data: {\n            'offset': offset,\n            'limit': limit,\n            'cats_in_home': cats_in_home\n        },\n\n        success: function (data) {\n            $('.get_communication_with_div_class').html(data);\n        }\n    });\n\n    $('.MySeconddiv').onclick(function () {\n\n        if (request_in_progress) {\n            return;\n        }\n\n        request_in_progress = true;\n\n        $.ajax({\n            type: 'GET',\n            url: 'getActivity.php',\n            data: {\n                'offset': offset += 6,\n                'limit': limit,\n                'cats_in_home': cats_in_home\n            },\n\n            success: function (data) {\n                $('.Mydiv').append(data);\n                request_in_progress = false;\n            }\n        });\n    });\n});\n\n\n</code></pre>\n<p>the problem is when i click the MySeconddiv  tag its accept duplicates,\nplese help\ni cant find way to find a solution\ni cant find way to find a solution</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":16426356,"reputation":1936,"user_id":11866308,"display_name":"Allen D. Ball"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651033022,"creation_date":1651007748,"answer_id":72020616,"question_id":72019184,"body_markdown":"You can catch the\r\n[ContextClosedEvent](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/event/ContextClosedEvent.html):\r\n\r\n```java\r\n...\r\nimport org.springframework.context.event.ContextClosedEvent;\r\n...\r\n@RestController\r\npublic class Application {\r\n    ...\r\n    boolean isShuttingDown = false;\r\n    ...\r\n    @EventListener({ ContextClosedEvent.class })\r\n    public void onApplicationEvent(ContextClosedEvent event) {\r\n        isShuttingDown = true;\r\n    }\r\n    ...\r\n}\r\n```\r\n","title":"How do I know if a Spring boot application is shutting down?","body":"<p>You can catch the\n<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/event/ContextClosedEvent.html\" rel=\"nofollow noreferrer\">ContextClosedEvent</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nimport org.springframework.context.event.ContextClosedEvent;\n...\n@RestController\npublic class Application {\n    ...\n    boolean isShuttingDown = false;\n    ...\n    @EventListener({ ContextClosedEvent.class })\n    public void onApplicationEvent(ContextClosedEvent event) {\n        isShuttingDown = true;\n    }\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":780,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651033022,"creation_date":1650999564,"question_id":72019184,"body_markdown":"I have some `@Scheduled` events in my app and I was wondering how can I determine whether a request to shut down the Spring boot app was triggered so I don&#39;t bother doing extra work?\r\n\r\nThat is I want to avoid errors like this e.g. \r\n\r\n```\r\n\r\njava.lang.IllegalStateException: Shutdown in progress\r\n        at java.base/java.lang.ApplicationShutdownHooks.add(ApplicationShutdownHooks.java:66) ~[na:na]\r\n        at java.base/java.lang.Runtime.addShutdownHook(Runtime.java:214) ~[na:na]\r\n        at org.xbill.DNS.NioClient.selector(NioClient.java:57) ~[dnsjava-3.5.0.jar:na]\r\n        at org.xbill.DNS.NioUdpClient.sendrecv(NioUdpClient.java:158) ~[dnsjava-3.5.0.jar:na]\r\n        at org.xbill.DNS.SimpleResolver.sendAsync(SimpleResolver.java:371) ~[dnsjava-3.5.0.jar:na]\r\n        at org.xbill.DNS.SimpleResolver.sendAsync(SimpleResolver.java:338) ~[dnsjava-3.5.0.jar:na]\r\n        at org.xbill.DNS.lookup.LookupSession.lookupWithResolver(LookupSession.java:477) ~[dnsjava-3.5.0.jar:na]\r\n        at org.xbill.DNS.lookup.LookupSession.lambda$lookupWithCache$6(LookupSession.java:472) ~[dnsjava-3.5.0.jar:na]\r\n        at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]\r\n        at org.xbill.DNS.lookup.LookupSession.lookupWithCache(LookupSession.java:472) ~[dnsjava-3.5.0.jar:na]\r\n        at org.xbill.DNS.lookup.LookupSession.lookupUntilSuccess(LookupSession.java:448) ~[dnsjava-3.5.0.jar:na]\r\n        at org.xbill.DNS.lookup.LookupSession.lookupAsync(LookupSession.java:385) ~[dnsjava-3.5.0.jar:na]\r\n        at org.xbill.DNS.lookup.LookupSession.lookupAsync(LookupSession.java:367) ~[dnsjava-3.5.0.jar:na]\r\n        at net.trajano.swarm.gateway.discovery.Util.getIpAddresses(Util.java:93) ~[classes/:na]\r\n        at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:273) ~[na:na]\r\n        at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\r\n        at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]\r\n        at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:276) ~[na:na]\r\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\r\n        at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\r\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\r\n        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[na:na]\r\n        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[na:na]\r\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n        at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]\r\n        at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:276) ~[na:na]\r\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\r\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\r\n        at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\r\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\r\n        at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:na]\r\n        at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]\r\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\r\n        at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\r\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n        at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\r\n        at net.trajano.swarm.gateway.discovery.DockerServiceInstanceLister.refresh(DockerServiceInstanceLister.java:77) ~[classes/:na]\r\n        at net.trajano.swarm.gateway.discovery.DockerEventWatcher$DockerEventWatcherEventCallback.onNext(DockerEventWatcher.java:81) ~[classes/:na]\r\n        at net.trajano.swarm.gateway.discovery.DockerEventWatcher$DockerEventWatcherEventCallback.onNext(DockerEventWatcher.java:49) ~[classes/:na]\r\n        at com.github.dockerjava.core.exec.AbstrAsyncDockerCmdExec$1.onNext(AbstrAsyncDockerCmdExec.java:41) ~[docker-java-core-3.2.13.jar:na]\r\n        at com.github.dockerjava.core.DefaultInvocationBuilder$JsonSink.accept(DefaultInvocationBuilder.java:315) ~[docker-java-core-3.2.13.jar:na]\r\n        at com.github.dockerjava.core.DefaultInvocationBuilder$JsonSink.accept(DefaultInvocationBuilder.java:298) ~[docker-java-core-3.2.13.jar:na]\r\n        at com.github.dockerjava.core.DefaultInvocationBuilder.lambda$executeAndStream$1(DefaultInvocationBuilder.java:275) ~[docker-java-core-3.2.13.jar:na]\r\n        at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\r\n```","title":"How do I know if a Spring boot application is shutting down?","body":"<p>I have some <code>@Scheduled</code> events in my app and I was wondering how can I determine whether a request to shut down the Spring boot app was triggered so I don't bother doing extra work?</p>\n<p>That is I want to avoid errors like this e.g.</p>\n<pre><code>\njava.lang.IllegalStateException: Shutdown in progress\n        at java.base/java.lang.ApplicationShutdownHooks.add(ApplicationShutdownHooks.java:66) ~[na:na]\n        at java.base/java.lang.Runtime.addShutdownHook(Runtime.java:214) ~[na:na]\n        at org.xbill.DNS.NioClient.selector(NioClient.java:57) ~[dnsjava-3.5.0.jar:na]\n        at org.xbill.DNS.NioUdpClient.sendrecv(NioUdpClient.java:158) ~[dnsjava-3.5.0.jar:na]\n        at org.xbill.DNS.SimpleResolver.sendAsync(SimpleResolver.java:371) ~[dnsjava-3.5.0.jar:na]\n        at org.xbill.DNS.SimpleResolver.sendAsync(SimpleResolver.java:338) ~[dnsjava-3.5.0.jar:na]\n        at org.xbill.DNS.lookup.LookupSession.lookupWithResolver(LookupSession.java:477) ~[dnsjava-3.5.0.jar:na]\n        at org.xbill.DNS.lookup.LookupSession.lambda$lookupWithCache$6(LookupSession.java:472) ~[dnsjava-3.5.0.jar:na]\n        at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]\n        at org.xbill.DNS.lookup.LookupSession.lookupWithCache(LookupSession.java:472) ~[dnsjava-3.5.0.jar:na]\n        at org.xbill.DNS.lookup.LookupSession.lookupUntilSuccess(LookupSession.java:448) ~[dnsjava-3.5.0.jar:na]\n        at org.xbill.DNS.lookup.LookupSession.lookupAsync(LookupSession.java:385) ~[dnsjava-3.5.0.jar:na]\n        at org.xbill.DNS.lookup.LookupSession.lookupAsync(LookupSession.java:367) ~[dnsjava-3.5.0.jar:na]\n        at net.trajano.swarm.gateway.discovery.Util.getIpAddresses(Util.java:93) ~[classes/:na]\n        at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:273) ~[na:na]\n        at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\n        at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]\n        at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:276) ~[na:na]\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\n        at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\n        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[na:na]\n        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[na:na]\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n        at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]\n        at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:276) ~[na:na]\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\n        at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\n        at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:na]\n        at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\n        at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n        at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\n        at net.trajano.swarm.gateway.discovery.DockerServiceInstanceLister.refresh(DockerServiceInstanceLister.java:77) ~[classes/:na]\n        at net.trajano.swarm.gateway.discovery.DockerEventWatcher$DockerEventWatcherEventCallback.onNext(DockerEventWatcher.java:81) ~[classes/:na]\n        at net.trajano.swarm.gateway.discovery.DockerEventWatcher$DockerEventWatcherEventCallback.onNext(DockerEventWatcher.java:49) ~[classes/:na]\n        at com.github.dockerjava.core.exec.AbstrAsyncDockerCmdExec$1.onNext(AbstrAsyncDockerCmdExec.java:41) ~[docker-java-core-3.2.13.jar:na]\n        at com.github.dockerjava.core.DefaultInvocationBuilder$JsonSink.accept(DefaultInvocationBuilder.java:315) ~[docker-java-core-3.2.13.jar:na]\n        at com.github.dockerjava.core.DefaultInvocationBuilder$JsonSink.accept(DefaultInvocationBuilder.java:298) ~[docker-java-core-3.2.13.jar:na]\n        at com.github.dockerjava.core.DefaultInvocationBuilder.lambda$executeAndStream$1(DefaultInvocationBuilder.java:275) ~[docker-java-core-3.2.13.jar:na]\n        at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\n</code></pre>\n"},{"tags":["java","object","static-factory"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1650995193,"post_id":72018315,"comment_id":127254577,"body_markdown":"Look at this line: `Main obj = new Main();` Can you see why this would cause the error you are asking about?","body":"Look at this line: <code>Main obj = new Main();</code> Can you see why this would cause the error you are asking about?"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1650995233,"post_id":72018315,"comment_id":127254588,"body_markdown":"On a side note, why does `createName()` return a `Main` object? Should it be `createMain()` instead? Or should the class be called `class Name`?","body":"On a side note, why does <code>createName()</code> return a <code>Main</code> object? Should it be <code>createMain()</code> instead? Or should the class be called <code>class Name</code>?"},{"owner":{"account_id":18438307,"reputation":3,"user_id":13431575,"display_name":"vipin"},"score":0,"creation_date":1650997903,"post_id":72018315,"comment_id":127255541,"body_markdown":"createName function returns main object to initialize the instance variables, in this example assigning country as a default value through createName method (i.e static factory method)","body":"createName function returns main object to initialize the instance variables, in this example assigning country as a default value through createName method (i.e static factory method)"}],"answers":[{"tags":[],"owner":{"account_id":6440480,"reputation":19239,"user_id":4990642,"accept_rate":53,"display_name":"Soner from The Ottoman Empire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651032499,"creation_date":1650995381,"answer_id":72018388,"question_id":72018315,"body_markdown":"An instance variable is initialized by its default value unless it is `final` when the object is instantiated. If you initialize it out of one of its constructors, it cannot be initialized in the constructor(s). So, advisedly, `final` instance variables should be initialized in constructors.","title":"what is wrong in this static factory method code","body":"<p>An instance variable is initialized by its default value unless it is <code>final</code> when the object is instantiated. If you initialize it out of one of its constructors, it cannot be initialized in the constructor(s). So, advisedly, <code>final</code> instance variables should be initialized in constructors.</p>\n"},{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650996817,"creation_date":1650996817,"answer_id":72018670,"question_id":72018315,"body_markdown":"Change:\r\n\r\n    Main obj = new Main();\r\n    createName(&quot;vipin&quot;, &quot;vipin.com&quot;);\r\n\r\nto:\r\n\r\n    Main obj = createName(&quot;vipin&quot;, &quot;vipin.com&quot;);\r\n\r\nand forget the no-parameter constructor which do not initialise correctly the fields.","title":"what is wrong in this static factory method code","body":"<p>Change:</p>\n<pre><code>Main obj = new Main();\ncreateName(&quot;vipin&quot;, &quot;vipin.com&quot;);\n</code></pre>\n<p>to:</p>\n<pre><code>Main obj = createName(&quot;vipin&quot;, &quot;vipin.com&quot;);\n</code></pre>\n<p>and forget the no-parameter constructor which do not initialise correctly the fields.</p>\n"}],"owner":{"account_id":18438307,"reputation":3,"user_id":13431575,"display_name":"vipin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72018670,"answer_count":2,"score":-1,"last_activity_date":1651032499,"creation_date":1650995057,"question_id":72018315,"body_markdown":"*I am trying to learn static factory methods and their advantages over constructors\r\nbut my code is throwing an error that final String name is not assigned a value(name might no be initialized)*\r\n\r\n\r\n    public class Main {\r\n    public final String name;\r\n    private final String email;\r\n    private final String country;\r\n\r\n    public Main(String name, String email, String country) {\r\n        this.name = name;\r\n        this.email = email;\r\n        this.country = country;\r\n    }\r\n\r\n    public Main() {}\r\n\r\n    static Main createName(String name, String email) {\r\n        return new Main(name, email, &quot;Argentina&quot;);\r\n    }\r\n    public   static void main(String[] args) {\r\n        Main obj = new Main();\r\n        createName(&quot;vipin&quot;, &quot;vipin.com&quot;);\r\n        System.out.println(&quot;This is name: &quot; + obj.name + &quot;\\n&quot; + &quot;This is email address: &quot; + \r\n        obj.email + &quot;\\n&quot; + &quot;This is country: &quot; + obj.country);\r\n\r\n    }\r\n}\r\n","title":"what is wrong in this static factory method code","body":"<p><em>I am trying to learn static factory methods and their advantages over constructors\nbut my code is throwing an error that final String name is not assigned a value(name might no be initialized)</em></p>\n<pre><code>public class Main {\npublic final String name;\nprivate final String email;\nprivate final String country;\n\npublic Main(String name, String email, String country) {\n    this.name = name;\n    this.email = email;\n    this.country = country;\n}\n\npublic Main() {}\n\nstatic Main createName(String name, String email) {\n    return new Main(name, email, &quot;Argentina&quot;);\n}\npublic   static void main(String[] args) {\n    Main obj = new Main();\n    createName(&quot;vipin&quot;, &quot;vipin.com&quot;);\n    System.out.println(&quot;This is name: &quot; + obj.name + &quot;\\n&quot; + &quot;This is email address: &quot; + \n    obj.email + &quot;\\n&quot; + &quot;This is country: &quot; + obj.country);\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","tomcat","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1527886289,"post_id":50641758,"comment_id":88312522,"body_markdown":"*An attacker can intercept a login request and modify* You could use HTTPS, to solve that problem.","body":"<i>An attacker can intercept a login request and modify</i> You could use HTTPS, to solve that problem."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1527886376,"post_id":50641758,"comment_id":88312553,"body_markdown":"*The server would respond with a redirect (303), sending user to a possibly evil site.* Why is your server sending the user to a evil site? The redirects are configured in your handlers.","body":"<i>The server would respond with a redirect (303), sending user to a possibly evil site.</i> Why is your server sending the user to a evil site? The redirects are configured in your handlers."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1527886451,"post_id":50641758,"comment_id":88312572,"body_markdown":"*Is it possible to add a whitelist for redirects?* On client-site? Why do you change the server code to implement a whitelist on client-site?","body":"<i>Is it possible to add a whitelist for redirects?</i> On client-site? Why do you change the server code to implement a whitelist on client-site?"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1527886870,"post_id":50641758,"comment_id":88312715,"body_markdown":"How should `RemoteAddrFilter#setDeny` help you? Did you read the documentation of this method? BTW: Are you sure, that it works with DNS names, too?","body":"How should <code>RemoteAddrFilter#setDeny</code> help you? Did you read the documentation of this method? BTW: Are you sure, that it works with DNS names, too?"},{"owner":{"account_id":2370021,"reputation":322,"user_id":2074830,"accept_rate":100,"display_name":"Zmur"},"score":0,"creation_date":1528035546,"post_id":50641758,"comment_id":88344566,"body_markdown":"@dur\n_The redirects are configured in your handlers._\nHow can I configure them? Spring security just returns 303 and that&#39;s all.\n\n_On client-site? Why do you change the server code to implement a whitelist on client-site?_\nNo, it is a server which is respoinding with a redirect. The request has left the front end and was intercepted, modified and then sent to server, which returned 303.\n\n_Did you read the documentation of this method?_\nYes I find it undescriptive.","body":"@dur <i>The redirects are configured in your handlers.</i> How can I configure them? Spring security just returns 303 and that&#39;s all.  <i>On client-site? Why do you change the server code to implement a whitelist on client-site?</i> No, it is a server which is respoinding with a redirect. The request has left the front end and was intercepted, modified and then sent to server, which returned 303.  <i>Did you read the documentation of this method?</i> Yes I find it undescriptive."}],"answers":[{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651032273,"creation_date":1651032273,"answer_id":72023134,"question_id":50641758,"body_markdown":"This is an Old question. But adding an answer as Spring has added support for whitelisting in Spring security ```4.2.17``` and ```5.2```. This might be useful for others who stumble on same thing &lt;br/&gt; In security config,\r\n```\r\n@Override\r\n\tpublic void configure(WebSecurity web) throws Exception {\r\n\t    StrictHttpFirewall firewall = new StrictHttpFirewall();\r\n\t    firewall.setAllowedHostnames(Arrays.asList(&quot;myhostname1&quot;,&quot;myhostname2&quot;));\r\n\t    web.httpFirewall(firewall);\r\n\t}\r\n```\r\nIt will throw ```org.springframework.security.web.firewall.RequestRejectedException```\r\nwith message like &quot;The request was rejected because the domain ```www.attackersite.com``` is untrusted.&quot;\r\n\r\nIf you don&#39;t want all the features of StrictHttpFirewall, you can extend HttpFirewall and add your own implementation.\r\n\r\n","title":"Whitelist for redirect URLs in spring boot","body":"<p>This is an Old question. But adding an answer as Spring has added support for whitelisting in Spring security <code>4.2.17</code> and <code>5.2</code>. This might be useful for others who stumble on same thing <br/> In security config,</p>\n<pre><code>@Override\n    public void configure(WebSecurity web) throws Exception {\n        StrictHttpFirewall firewall = new StrictHttpFirewall();\n        firewall.setAllowedHostnames(Arrays.asList(&quot;myhostname1&quot;,&quot;myhostname2&quot;));\n        web.httpFirewall(firewall);\n    }\n</code></pre>\n<p>It will throw <code>org.springframework.security.web.firewall.RequestRejectedException</code>\nwith message like &quot;The request was rejected because the domain <code>www.attackersite.com</code> is untrusted.&quot;</p>\n<p>If you don't want all the features of StrictHttpFirewall, you can extend HttpFirewall and add your own implementation.</p>\n"}],"owner":{"account_id":2370021,"reputation":322,"user_id":2074830,"accept_rate":100,"display_name":"Zmur"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651032273,"creation_date":1527850062,"question_id":50641758,"body_markdown":"We have a security issue in our project. An attacker can intercept a login request and modify a &#39;Host&#39; header in it. The server would respond with a redirect (303), sending user to a possibly evil site.\r\n\r\nIs it possible to add a whitelist for redirects?\r\n\r\nUsing Spring-boot with embedded tomcat, in production this whole thing will be behind a load balancer.\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http  //@formatter:off\r\n            .formLogin()\r\n                .loginProcessingUrl(&quot;...&quot;)\r\n                .usernameParameter(&quot;...&quot;)\r\n                .passwordParameter(&quot;...&quot;)\r\n                .loginPage(&quot;/&quot;).permitAll()\r\n                .successHandler(authenticationSuccessHandler)\r\n                .failureHandler(authenticationFailureHandler)\r\n            .and().logout().permitAll()\r\n                .logoutSuccessHandler(logoutSuccessHandler)\r\n                .deleteCookies(XSRF_TOKEN, JSESSIONID)\r\n            .and().authorizeRequests()\r\n            .antMatchers(&quot;...&quot;).permitAll().anyRequest().authenticated()\r\n            .and().csrf().csrfTokenRepository(csrfTokenRepository)\r\n            .and().addFilterAfter(csrfHeaderFilter(), CsrfFilter.class)\r\n            .exceptionHandling().authenticationEntryPoint(authenticationEntryPoint);//@formatter:on\r\n    }\r\n\r\nUntil now I have tried the following:\r\n\r\n 1. to use `TomcatEmbeddedServletContainerFactory` and adding a Valve there.\r\n 2. to use `FilterRegistrationBean` and using a `RemoteAddrFilter.setDeny()`.\r\n\r\n\r\nThe 1&#176; option wouldn&#39;t start at all. I&#39;m obviously making mistakes somewhere, but this information is hard to find and I don&#39;t have the complete picture in my head of what to do.\r\n\r\nThe 2&#176; option I found here on `Stackoverflow` and it feels the right thing to do, but I failed to make it work. If `setDeny()` is present, it wouldn&#39;t even let me enter my web-site. If I comment it out, then looks like no filtering happen at all. The bean looks like this:\r\n\r\n    @Bean\r\n        public FilterRegistrationBean remoteAddressFilter() {\r\n    \r\n            FilterRegistrationBean filterRegistrationBean = new FilterRegistrationBean();\r\n            RemoteAddrFilter filter = new RemoteAddrFilter();\r\n    \r\n            filter.setDeny(&quot;attacker/.com.*&quot;);\r\n            filter.setDenyStatus(404);\r\n    \r\n            filterRegistrationBean.setFilter(filter);\r\n            filterRegistrationBean.addUrlPatterns(&quot;/*&quot;);\r\n    \r\n            return filterRegistrationBean;\r\n        }\r\nThanks in advance for any kind of help.","title":"Whitelist for redirect URLs in spring boot","body":"<p>We have a security issue in our project. An attacker can intercept a login request and modify a 'Host' header in it. The server would respond with a redirect (303), sending user to a possibly evil site.</p>\n\n<p>Is it possible to add a whitelist for redirects?</p>\n\n<p>Using Spring-boot with embedded tomcat, in production this whole thing will be behind a load balancer.</p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http  //@formatter:off\n        .formLogin()\n            .loginProcessingUrl(\"...\")\n            .usernameParameter(\"...\")\n            .passwordParameter(\"...\")\n            .loginPage(\"/\").permitAll()\n            .successHandler(authenticationSuccessHandler)\n            .failureHandler(authenticationFailureHandler)\n        .and().logout().permitAll()\n            .logoutSuccessHandler(logoutSuccessHandler)\n            .deleteCookies(XSRF_TOKEN, JSESSIONID)\n        .and().authorizeRequests()\n        .antMatchers(\"...\").permitAll().anyRequest().authenticated()\n        .and().csrf().csrfTokenRepository(csrfTokenRepository)\n        .and().addFilterAfter(csrfHeaderFilter(), CsrfFilter.class)\n        .exceptionHandling().authenticationEntryPoint(authenticationEntryPoint);//@formatter:on\n}\n</code></pre>\n\n<p>Until now I have tried the following:</p>\n\n<ol>\n<li>to use <code>TomcatEmbeddedServletContainerFactory</code> and adding a Valve there.</li>\n<li>to use <code>FilterRegistrationBean</code> and using a <code>RemoteAddrFilter.setDeny()</code>.</li>\n</ol>\n\n<p>The 1 option wouldn't start at all. I'm obviously making mistakes somewhere, but this information is hard to find and I don't have the complete picture in my head of what to do.</p>\n\n<p>The 2 option I found here on <code>Stackoverflow</code> and it feels the right thing to do, but I failed to make it work. If <code>setDeny()</code> is present, it wouldn't even let me enter my web-site. If I comment it out, then looks like no filtering happen at all. The bean looks like this:</p>\n\n<pre><code>@Bean\n    public FilterRegistrationBean remoteAddressFilter() {\n\n        FilterRegistrationBean filterRegistrationBean = new FilterRegistrationBean();\n        RemoteAddrFilter filter = new RemoteAddrFilter();\n\n        filter.setDeny(\"attacker/.com.*\");\n        filter.setDenyStatus(404);\n\n        filterRegistrationBean.setFilter(filter);\n        filterRegistrationBean.addUrlPatterns(\"/*\");\n\n        return filterRegistrationBean;\n    }\n</code></pre>\n\n<p>Thanks in advance for any kind of help.</p>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":2557581,"reputation":6571,"user_id":2219237,"accept_rate":60,"display_name":"Vasily Kabunov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651032124,"creation_date":1651032124,"answer_id":72023116,"question_id":72021862,"body_markdown":"You need to get `int` value from the text of your `EditText`, but not  from the `EditText` itself.\r\n\r\nTry changing\r\n\r\n    int guessNum = Integer.parseInt(num_input);  // Change to INT!\r\n\r\nto \r\n    \r\n    int guessNum = Integer.parseInt(num_input.getText().toString());\r\n\r\n    ","title":"Operator can&#39;t be applied to &#39;android.widget.EditText&#39;","body":"<p>You need to get <code>int</code> value from the text of your <code>EditText</code>, but not  from the <code>EditText</code> itself.</p>\n<p>Try changing</p>\n<pre><code>int guessNum = Integer.parseInt(num_input);  // Change to INT!\n</code></pre>\n<p>to</p>\n<pre><code>int guessNum = Integer.parseInt(num_input.getText().toString());\n</code></pre>\n"}],"owner":{"account_id":22171551,"reputation":33,"user_id":16416889,"display_name":"aurora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651032124,"creation_date":1651018137,"question_id":72021862,"body_markdown":"I&#39;m doing an android &quot;number guessing game&quot;, it will generate a random number between 1 to 30 and compare it to the user&#39;s input *(EditText inputType:number)* and with a *TextView* it will tell the user if the number is bigger or smaller. \r\n\r\nI was trying to compare the input from the user to the real number by doing this: \r\n\r\n    if (num_input == number) {\r\n        t_win.setVisibility(View.VISIBLE);\r\n    }\r\nAnd it showed this error: **Operator &#39;==&#39; cannot be applied to &#39;android.widget.EditText&#39;, &#39;int&#39;**\r\n\r\nI tried to fix it by changing the EditText to string or int in these ways: \r\n\r\nChange to int \r\n\r\n           @Override\r\n            public void onClick(View arg0){\r\n\r\n                s_title.setVisibility(View.INVISIBLE);\r\n                t_rules.setVisibility(View.INVISIBLE);\r\n                btn_start.setVisibility(View.INVISIBLE);\r\n\r\n                strt_title.setVisibility(View.VISIBLE);\r\n                t_introgss.setVisibility(View.VISIBLE);\r\n                num_input.setVisibility(View.VISIBLE);\r\n\r\n                // Generate random numbers\r\n                int number = 1 + (int)(30 * Math.random());\r\n\r\n                // Given trials\r\n                int trials = 3;\r\n                int i, guess;\r\n\r\n                int guessNum = Integer.parseInt(num_input);  // Change to INT!\r\n\r\n                // Iterate over number of trials\r\n                for (i = 0; i &lt; trials; i++) {\r\n\r\n                    // If the number is guessed\r\n                    if (guessNum == number) {\r\n                        t_win.setVisibility(View.VISIBLE);\r\n                    }\r\nChange to string \r\n\r\n              @Override\r\n              public void onClick(View arg0){\r\n\r\n                s_title.setVisibility(View.INVISIBLE);\r\n                t_rules.setVisibility(View.INVISIBLE);\r\n                btn_start.setVisibility(View.INVISIBLE);\r\n\r\n                strt_title.setVisibility(View.VISIBLE);\r\n                t_introgss.setVisibility(View.VISIBLE);\r\n                num_input.setVisibility(View.VISIBLE);\r\n\r\n                // Generate random numbers\r\n                int number = 1 + (int)(30 * Math.random());\r\n\r\n                // Given trials\r\n                int trials = 3;\r\n                int i, guess;\r\n\r\n                String guessNum = num_input.getText().toString(); //Change to STRING\r\n\r\n                // Iterate over number of trials\r\n                for (i = 0; i &lt; trials; i++) {\r\n\r\n                    // If the number is guessed\r\n                    if (guessNum == str(number)) {\r\n                        t_win.setVisibility(View.VISIBLE);\r\n                    }\r\n\r\nWhen I use `Integer.parseInt();` it tells me that it can be applied to *EditText* and when I try to change it to string `.getText().toString();` it works but in the operator part I can&#39;t seem to change the *int number* to string. \r\n\r\nI&#39;m very new to this, any information will help!\r\n\r\n","title":"Operator can&#39;t be applied to &#39;android.widget.EditText&#39;","body":"<p>I'm doing an android &quot;number guessing game&quot;, it will generate a random number between 1 to 30 and compare it to the user's input <em>(EditText inputType:number)</em> and with a <em>TextView</em> it will tell the user if the number is bigger or smaller.</p>\n<p>I was trying to compare the input from the user to the real number by doing this:</p>\n<pre><code>if (num_input == number) {\n    t_win.setVisibility(View.VISIBLE);\n}\n</code></pre>\n<p>And it showed this error: <strong>Operator '==' cannot be applied to 'android.widget.EditText', 'int'</strong></p>\n<p>I tried to fix it by changing the EditText to string or int in these ways:</p>\n<p>Change to int</p>\n<pre><code>       @Override\n        public void onClick(View arg0){\n\n            s_title.setVisibility(View.INVISIBLE);\n            t_rules.setVisibility(View.INVISIBLE);\n            btn_start.setVisibility(View.INVISIBLE);\n\n            strt_title.setVisibility(View.VISIBLE);\n            t_introgss.setVisibility(View.VISIBLE);\n            num_input.setVisibility(View.VISIBLE);\n\n            // Generate random numbers\n            int number = 1 + (int)(30 * Math.random());\n\n            // Given trials\n            int trials = 3;\n            int i, guess;\n\n            int guessNum = Integer.parseInt(num_input);  // Change to INT!\n\n            // Iterate over number of trials\n            for (i = 0; i &lt; trials; i++) {\n\n                // If the number is guessed\n                if (guessNum == number) {\n                    t_win.setVisibility(View.VISIBLE);\n                }\n</code></pre>\n<p>Change to string</p>\n<pre><code>          @Override\n          public void onClick(View arg0){\n\n            s_title.setVisibility(View.INVISIBLE);\n            t_rules.setVisibility(View.INVISIBLE);\n            btn_start.setVisibility(View.INVISIBLE);\n\n            strt_title.setVisibility(View.VISIBLE);\n            t_introgss.setVisibility(View.VISIBLE);\n            num_input.setVisibility(View.VISIBLE);\n\n            // Generate random numbers\n            int number = 1 + (int)(30 * Math.random());\n\n            // Given trials\n            int trials = 3;\n            int i, guess;\n\n            String guessNum = num_input.getText().toString(); //Change to STRING\n\n            // Iterate over number of trials\n            for (i = 0; i &lt; trials; i++) {\n\n                // If the number is guessed\n                if (guessNum == str(number)) {\n                    t_win.setVisibility(View.VISIBLE);\n                }\n</code></pre>\n<p>When I use <code>Integer.parseInt();</code> it tells me that it can be applied to <em>EditText</em> and when I try to change it to string <code>.getText().toString();</code> it works but in the operator part I can't seem to change the <em>int number</em> to string.</p>\n<p>I'm very new to this, any information will help!</p>\n"},{"tags":["java","mongodb","amazon-web-services","gradle","aws-device-farm"],"answers":[{"tags":[],"owner":{"account_id":25095824,"reputation":1,"user_id":18947015,"display_name":"andrew510"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651031336,"creation_date":1651031336,"answer_id":72023032,"question_id":72008009,"body_markdown":"Solved.\r\nThis problem ocurred due to outdated jdk version on AWS Device Farm: jdk1.8.0_65\r\n\r\nFor someone looking for some fix:\r\nTo solve this problem, I&#39;ve included jdk1.8.0_241 on project zip, and changed env JAVA_HOME:\r\n*`export JAVA_HOME=&quot;$DEVICEFARM_TEST_PACKAGE_PATH/MyProject/jdk1.8.0_241&quot;`*","title":"AWS Device Farm - Mongo SSL Certificate Exception","body":"<p>Solved.\nThis problem ocurred due to outdated jdk version on AWS Device Farm: jdk1.8.0_65</p>\n<p>For someone looking for some fix:\nTo solve this problem, I've included jdk1.8.0_241 on project zip, and changed env JAVA_HOME:\n<em><code>export JAVA_HOME=&quot;$DEVICEFARM_TEST_PACKAGE_PATH/MyProject/jdk1.8.0_241&quot;</code></em></p>\n"}],"owner":{"account_id":25095824,"reputation":1,"user_id":18947015,"display_name":"andrew510"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":977,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651031336,"creation_date":1650943234,"question_id":72008009,"body_markdown":"Ok, I&#39;m trying to run my Gradle-Java test project on AWS Device Farm, by zipping my entire project, choosing &quot;Built with Appium Node.js&quot; option, and running with:\r\n*`./gradlew test --tests MyTestRunner --debug`*\r\nBut I&#39;m getting next error when I try to connect with MongoDB via URI:\r\n*`javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target.`*\r\n\r\nI&#39;m able to make connection on my local machine. This is my method:\r\n\r\n    public static void connectToMongo(){\r\n        String uri = &quot;mongodb+srv://user:pass@server&quot;;\r\n        MongoClient client = MongoClients.create(uri);\r\n        MongoDatabase database = client.getDatabase(&quot;database&quot;);\r\n        MongoCollection&lt;Document&gt; myCollection = database.getCollection(&quot;collection&quot;);\r\n        Document document = myCollection.find(\r\n            eq(&quot;email&quot;, &quot;myEmail&quot;)\r\n        ).first();\r\n        System.out.println(document.get(&quot;state&quot;).toString());\r\n    }\r\n\r\nI&#39;m using next tools:\r\n- Jdk 1.8.0_211\r\n- Gradle 6.5\r\n\r\nAnd these are my dependencies:\r\n\r\n    dependencies {\r\n        compile &#39;org.mongodb:mongodb-driver-sync:4.5.0&#39;\r\n        compile group:&#39;io.cucumber&#39;, name:&#39;cucumber-java&#39;, version:&#39;4.2.0&#39;\r\n        compile group:&#39;io.cucumber&#39;, name:&#39;cucumber-junit&#39;, version:&#39;4.2.0&#39;\r\n        compile group: &#39;com.github.javafaker&#39;, name: &#39;javafaker&#39;, version: &#39;1.0.2&#39;\r\n    }\r\n\r\nI&#39;ve tried next things:\r\n - Adding options to the URI:\r\n*`mongodb+srv://user:pass@server?ssl=true&amp;invalidHostNameAllowed=true`*\r\n - Adding higher jdk versions to the zip (*`jdk-17.0.2`* and *`corretto-11.0.8`*), and forcing to run by adding this to the build.gradle:\r\n*`compileJava.options.fork=true`*\r\n*`compileJava.options.forkOptions.executable=&#39;jdk-17.0.2/bin/javac&#39;`*\r\n - Copying my local jdk cacerts and adding a gradle.properties:\r\n*`systemProp.javax.net.ssl.trustStore=cacerts\r\nsystemProp.javax.net.ssl.trustStorePassword=changeit`*\r\n - Changing mongo-driver dependency:\r\n*`compile &#39;org.mongodb:mongodb-driver-sync:4.0.5&#39;`*\r\n*`compile &#39;org.mongodb:mongodb-driver-sync:4.5.0&#39;`*\r\n*`implementation group:&#39;org.mongodb&#39;,name:&#39;mongo-java-driver&#39;,version:&#39;3.12.11&#39;`*\r\n\r\n \r\n\r\nFull stacktrace:\r\n*`2022-04-25T23:11:47.423+0000 [DEBUG] [TestEventLogger]     com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches com.mongodb.client.internal.MongoClientDelegate$1@64a30f91. Client view of cluster state is {type=XXXXXX, servers=[{address=XXXXXX:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketWriteException: Exception sending message}, caused by {javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target}, caused by {sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target}, caused by {sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target}}, {address=XXXXXX:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketWriteException: Exception sending message}, caused by {javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target}, caused by {sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target}, caused by {sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target}}, {address=XXXXXX:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketWriteException: Exception sending message}, caused by {javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target}, caused by {sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target}, caused by {sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target}}]\r\n2022-04-25T23:11:47.423+0000 [DEBUG] [TestEventLogger]         at com.mongodb.internal.connection.BaseCluster.createTimeoutException(BaseCluster.java:403)\r\n2022-04-25T23:11:47.423+0000 [DEBUG] [TestEventLogger]         at com.mongodb.internal.connection.BaseCluster.selectServer(BaseCluster.java:118)\r\n2022-04-25T23:11:47.423+0000 [DEBUG] [TestEventLogger]         at com.mongodb.internal.connection.AbstractMultiServerCluster.selectServer(AbstractMultiServerCluster.java:54)\r\n2022-04-25T23:11:47.423+0000 [DEBUG] [TestEventLogger]         at com.mongodb.client.internal.MongoClientDelegate.getConnectedClusterDescription(MongoClientDelegate.java:149)\r\n2022-04-25T23:11:47.423+0000 [DEBUG] [TestEventLogger]         at com.mongodb.client.internal.MongoClientDelegate.createClientSession(MongoClientDelegate.java:98)\r\n2022-04-25T23:11:47.423+0000 [DEBUG] [TestEventLogger]         at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.getClientSession(MongoClientDelegate.java:278)\r\n2022-04-25T23:11:47.423+0000 [DEBUG] [TestEventLogger]         at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:182)\r\n2022-04-25T23:11:47.423+0000 [DEBUG] [TestEventLogger]         at com.mongodb.client.internal.FindIterableImpl.first(FindIterableImpl.java:189)`*","title":"AWS Device Farm - Mongo SSL Certificate Exception","body":"<p>Ok, I'm trying to run my Gradle-Java test project on AWS Device Farm, by zipping my entire project, choosing &quot;Built with Appium Node.js&quot; option, and running with:\n<em><code>./gradlew test --tests MyTestRunner --debug</code></em>\nBut I'm getting next error when I try to connect with MongoDB via URI:\n<em><code>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target.</code></em></p>\n<p>I'm able to make connection on my local machine. This is my method:</p>\n<pre><code>public static void connectToMongo(){\n    String uri = &quot;mongodb+srv://user:pass@server&quot;;\n    MongoClient client = MongoClients.create(uri);\n    MongoDatabase database = client.getDatabase(&quot;database&quot;);\n    MongoCollection&lt;Document&gt; myCollection = database.getCollection(&quot;collection&quot;);\n    Document document = myCollection.find(\n        eq(&quot;email&quot;, &quot;myEmail&quot;)\n    ).first();\n    System.out.println(document.get(&quot;state&quot;).toString());\n}\n</code></pre>\n<p>I'm using next tools:</p>\n<ul>\n<li>Jdk 1.8.0_211</li>\n<li>Gradle 6.5</li>\n</ul>\n<p>And these are my dependencies:</p>\n<pre><code>dependencies {\n    compile 'org.mongodb:mongodb-driver-sync:4.5.0'\n    compile group:'io.cucumber', name:'cucumber-java', version:'4.2.0'\n    compile group:'io.cucumber', name:'cucumber-junit', version:'4.2.0'\n    compile group: 'com.github.javafaker', name: 'javafaker', version: '1.0.2'\n}\n</code></pre>\n<p>I've tried next things:</p>\n<ul>\n<li>Adding options to the URI:\n<em><code>mongodb+srv://user:pass@server?ssl=true&amp;invalidHostNameAllowed=true</code></em></li>\n<li>Adding higher jdk versions to the zip (<em><code>jdk-17.0.2</code></em> and <em><code>corretto-11.0.8</code></em>), and forcing to run by adding this to the build.gradle:\n<em><code>compileJava.options.fork=true</code></em>\n<em><code>compileJava.options.forkOptions.executable='jdk-17.0.2/bin/javac'</code></em></li>\n<li>Copying my local jdk cacerts and adding a gradle.properties:\n<em><code>systemProp.javax.net.ssl.trustStore=cacerts systemProp.javax.net.ssl.trustStorePassword=changeit</code></em></li>\n<li>Changing mongo-driver dependency:\n<em><code>compile 'org.mongodb:mongodb-driver-sync:4.0.5'</code></em>\n<em><code>compile 'org.mongodb:mongodb-driver-sync:4.5.0'</code></em>\n<em><code>implementation group:'org.mongodb',name:'mongo-java-driver',version:'3.12.11'</code></em></li>\n</ul>\n<p>Full stacktrace:\n<em><code>2022-04-25T23:11:47.423+0000 [DEBUG] [TestEventLogger]     com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches com.mongodb.client.internal.MongoClientDelegate$1@64a30f91. Client view of cluster state is {type=XXXXXX, servers=[{address=XXXXXX:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketWriteException: Exception sending message}, caused by {javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target}, caused by {sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target}, caused by {sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target}}, {address=XXXXXX:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketWriteException: Exception sending message}, caused by {javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target}, caused by {sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target}, caused by {sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target}}, {address=XXXXXX:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketWriteException: Exception sending message}, caused by {javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target}, caused by {sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target}, caused by {sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target}}] 2022-04-25T23:11:47.423+0000 [DEBUG] [TestEventLogger]         at com.mongodb.internal.connection.BaseCluster.createTimeoutException(BaseCluster.java:403) 2022-04-25T23:11:47.423+0000 [DEBUG] [TestEventLogger]         at com.mongodb.internal.connection.BaseCluster.selectServer(BaseCluster.java:118) 2022-04-25T23:11:47.423+0000 [DEBUG] [TestEventLogger]         at com.mongodb.internal.connection.AbstractMultiServerCluster.selectServer(AbstractMultiServerCluster.java:54) 2022-04-25T23:11:47.423+0000 [DEBUG] [TestEventLogger]         at com.mongodb.client.internal.MongoClientDelegate.getConnectedClusterDescription(MongoClientDelegate.java:149) 2022-04-25T23:11:47.423+0000 [DEBUG] [TestEventLogger]         at com.mongodb.client.internal.MongoClientDelegate.createClientSession(MongoClientDelegate.java:98) 2022-04-25T23:11:47.423+0000 [DEBUG] [TestEventLogger]         at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.getClientSession(MongoClientDelegate.java:278) 2022-04-25T23:11:47.423+0000 [DEBUG] [TestEventLogger]         at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:182) 2022-04-25T23:11:47.423+0000 [DEBUG] [TestEventLogger]         at com.mongodb.client.internal.FindIterableImpl.first(FindIterableImpl.java:189)</code></em></p>\n"},{"tags":["java","interface","default-method"],"owner":{"account_id":20032990,"reputation":59,"user_id":14685347,"display_name":"Andrey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1651002611,"answer_count":0,"score":5,"last_activity_date":1651031174,"creation_date":1651000776,"question_id":72019420,"body_markdown":"I don&#39;t understand why an IllegalAccessError exception is thrown from the example below. The method `foo()` in `Parent` cannot be inherited by `Child`, because it is private. But trying to call the default method `foo()` leads to the exception.\r\n\r\n    public class Parent {\r\n        private void foo() {\r\n            System.out.println(&quot;Parent-foo&quot;);\r\n        }\r\n    }\r\n    \r\n    interface Boo {\r\n        default void foo() {\r\n            System.out.println(&quot;Boo-foo&quot;);\r\n        }\r\n    }\r\n    \r\n    class Child extends Parent  implements Boo {\r\n        public static void main(String[] args) {\r\n            new Child().foo();  // runtime IllegalAccessError;\r\n        }\r\n    }","title":"Why is interface default method shadowed by parent private method?","body":"<p>I don't understand why an IllegalAccessError exception is thrown from the example below. The method <code>foo()</code> in <code>Parent</code> cannot be inherited by <code>Child</code>, because it is private. But trying to call the default method <code>foo()</code> leads to the exception.</p>\n<pre><code>public class Parent {\n    private void foo() {\n        System.out.println(&quot;Parent-foo&quot;);\n    }\n}\n\ninterface Boo {\n    default void foo() {\n        System.out.println(&quot;Boo-foo&quot;);\n    }\n}\n\nclass Child extends Parent  implements Boo {\n    public static void main(String[] args) {\n        new Child().foo();  // runtime IllegalAccessError;\n    }\n}\n</code></pre>\n"},{"tags":["java","rmi"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1632264283,"post_id":69274796,"comment_id":122444300,"body_markdown":"You must ensure yourself that the necessary classes are present on the remote end. RMI doesnt copy them for you.","body":"You must ensure yourself that the necessary classes are present on the remote end. RMI doesnt copy them for you."},{"owner":{"account_id":1032380,"reputation":197,"user_id":1040451,"display_name":"Mr. Mundkowsky"},"score":0,"creation_date":1632318979,"post_id":69274796,"comment_id":122460183,"body_markdown":"I added the code to the question, it fails on the Naming.rebind call.  The application and RMI Registry are running Java 11.  They have the same CLASSPATH.","body":"I added the code to the question, it fails on the Naming.rebind call.  The application and RMI Registry are running Java 11.  They have the same CLASSPATH."},{"owner":{"account_id":21089943,"reputation":57,"user_id":16433311,"display_name":"Bo0ked61"},"score":0,"creation_date":1632330684,"post_id":69274796,"comment_id":122465516,"body_markdown":"If you&#39;re using an external JAR or something like that, you have to include it in your classpath when you compile/run it. Through your errors, it looks like it&#39;s having trouble accessing classes from something like a dependency or external libraries. Might want to check your classpath when you compile/run it. (Only if you&#39;re using external lib/jar. I&#39;m assuming you are?) If not, then it would have something to do with running it where it can&#39;t access the class either through some kind of &quot;wrong access&quot; etc.","body":"If you&#39;re using an external JAR or something like that, you have to include it in your classpath when you compile/run it. Through your errors, it looks like it&#39;s having trouble accessing classes from something like a dependency or external libraries. Might want to check your classpath when you compile/run it. (Only if you&#39;re using external lib/jar. I&#39;m assuming you are?) If not, then it would have something to do with running it where it can&#39;t access the class either through some kind of &quot;wrong access&quot; etc."},{"owner":{"account_id":1032380,"reputation":197,"user_id":1040451,"display_name":"Mr. Mundkowsky"},"score":0,"creation_date":1632331223,"post_id":69274796,"comment_id":122465752,"body_markdown":"not sure what an external JAR is, but I am using jars in my CLASSPATH.  All of the jars are there and are accessible, otherwise the application would not have worked in Java 8.","body":"not sure what an external JAR is, but I am using jars in my CLASSPATH.  All of the jars are there and are accessible, otherwise the application would not have worked in Java 8."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1632382058,"post_id":69274796,"comment_id":122477506,"body_markdown":"Is there another exception further down under the line `Caused by: java.lang.NoClassDefFoundError: Could not initialize class org.ets.speechrater.pm.$Proxy0`? The Registry does need access to the same classpath as the server. You could try running it within the same JVM via `LocateRegsisry.createRegistry()`.","body":"Is there another exception further down under the line <code>Caused by: java.lang.NoClassDefFoundError: Could not initialize class org.ets.speechrater.pm.$Proxy0</code>? The Registry does need access to the same classpath as the server. You could try running it within the same JVM via <code>LocateRegsisry.createRegistry()</code>."},{"owner":{"account_id":1032380,"reputation":197,"user_id":1040451,"display_name":"Mr. Mundkowsky"},"score":0,"creation_date":1632424679,"post_id":69274796,"comment_id":122495888,"body_markdown":"There are no other exceptions. I was able to create a simple example of an RMI job that works on Java 8 and not 11 and has a similar error. I posted that as a question here: https://stackoverflow.com/questions/69305196/java-11-rmi-seems-to-be-broken-java-lang-noclassdeffounderror . You should be able replicate the problem by trying the code there.","body":"There are no other exceptions. I was able to create a simple example of an RMI job that works on Java 8 and not 11 and has a similar error. I posted that as a question here: <a href=\"https://stackoverflow.com/questions/69305196/java-11-rmi-seems-to-be-broken-java-lang-noclassdeffounderror\" title=\"java 11 rmi seems to be broken java lang noclassdeffounderror\">stackoverflow.com/questions/69305196/&hellip;</a> . You should be able replicate the problem by trying the code there."},{"owner":{"account_id":1032380,"reputation":197,"user_id":1040451,"display_name":"Mr. Mundkowsky"},"score":0,"creation_date":1632445760,"post_id":69274796,"comment_id":122500666,"body_markdown":"well, thanks for your help.","body":"well, thanks for your help."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1651031275,"post_id":69274796,"comment_id":127262489,"body_markdown":"The RMI Registry doesn&#39;t have access via its CLASSPATH to your application&#39;s remote interfaces and whatever else in your application they depend on.","body":"The RMI Registry doesn&#39;t have access via its CLASSPATH to your application&#39;s remote interfaces and whatever else in your application they depend on."}],"answers":[{"tags":[],"owner":{"account_id":1032380,"reputation":197,"user_id":1040451,"display_name":"Mr. Mundkowsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632495787,"creation_date":1632495787,"answer_id":69317218,"question_id":69274796,"body_markdown":"If I use the rmiregistry executable that comes with the JDK, I have this problem.  But using code to create the registry seems to be a good work around.\r\n\r\n```\r\npackage org.ets.speechrater.util;\r\n\r\nimport java.rmi.registry.LocateRegistry;\r\nimport java.rmi.registry.Registry;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class RMIregistry {\r\n\tstatic ETSLogger logger = ETSLogger.getLogger(RMIregistry.class\r\n\t\t\t.getName());\r\n\t\r\n    public static void main(String args[]) {\r\n        \r\n        try {\r\n        \tRegistry registry = LocateRegistry.createRegistry(Integer.valueOf(args[0]));\r\n        \t\r\n            logger.info(&quot;Server ready&quot;);\r\n            \r\n            while(true) {\r\n            \tTimeUnit.MINUTES.sleep(1000);\r\n            }\r\n            \r\n        } catch (Exception e) {\r\n            logger.error(&quot;Server exception: &quot; + e.toString(),e);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"java 11 rmi NoClassDefFoundError","body":"<p>If I use the rmiregistry executable that comes with the JDK, I have this problem.  But using code to create the registry seems to be a good work around.</p>\n<pre><code>package org.ets.speechrater.util;\n\nimport java.rmi.registry.LocateRegistry;\nimport java.rmi.registry.Registry;\nimport java.util.concurrent.TimeUnit;\n\npublic class RMIregistry {\n    static ETSLogger logger = ETSLogger.getLogger(RMIregistry.class\n            .getName());\n    \n    public static void main(String args[]) {\n        \n        try {\n            Registry registry = LocateRegistry.createRegistry(Integer.valueOf(args[0]));\n            \n            logger.info(&quot;Server ready&quot;);\n            \n            while(true) {\n                TimeUnit.MINUTES.sleep(1000);\n            }\n            \n        } catch (Exception e) {\n            logger.error(&quot;Server exception: &quot; + e.toString(),e);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25110970,"reputation":1,"user_id":18960611,"display_name":"Jacob Ban"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651030854,"creation_date":1651030854,"answer_id":72022993,"question_id":69274796,"body_markdown":"try to add modules (include the NoClassDefFoundError classes) to rmiregistry like:\r\n```\r\nrmiregistry -J--add-modules=java.sql\r\n```","title":"java 11 rmi NoClassDefFoundError","body":"<p>try to add modules (include the NoClassDefFoundError classes) to rmiregistry like:</p>\n<pre><code>rmiregistry -J--add-modules=java.sql\n</code></pre>\n"}],"owner":{"account_id":1032380,"reputation":197,"user_id":1040451,"display_name":"Mr. Mundkowsky"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651030854,"creation_date":1632253836,"question_id":69274796,"body_markdown":"I updated my application to use Java 11 and I am getting the below error when trying to rebind an object over RMI. The application works fine on Java 8.\r\n\r\nThey say NoClassDefFoundError can occur from a class being missing in the class path or from an error from a static block.\r\n\r\nThe $Proxy0 class is apparently a class that is created at runtime, so it should not be in the class path, but I am wondering if the rmiregristy knows this.\r\n\r\nI dont see any static blocks of code that may be causing the problem.\r\n\r\nOpen to any suggestions.\r\n\r\n```\r\n2021-09-21 14:27:18,750 (3019) [main] WARN  org.ets.speechrater.pm.RPMServer [] - Unable to create RMI object Retrying\r\njava.rmi.ServerError: Error occurred in server thread; nested exception is:\r\n        java.lang.NoClassDefFoundError: Could not initialize class org.ets.speechrater.pm.$Proxy0\r\n        at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:388) ~[?:?]\r\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200) ~[?:?]\r\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197) ~[?:?]\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method) ~[?:?]\r\n        at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196) ~[?:?]\r\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562) ~[?:?]\r\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796) ~[?:?]\r\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677) ~[?:?]\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method) ~[?:?]\r\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676) ~[?:?]\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]\r\n        at java.base/java.lang.Thread.run(Thread.java:829) [?:?]\r\n        at java.rmi/sun.rmi.transport.StreamRemoteCall.exceptionReceivedFromServer(StreamRemoteCall.java:303) ~[?:?]\r\n        at java.rmi/sun.rmi.transport.StreamRemoteCall.executeCall(StreamRemoteCall.java:279) ~[?:?]\r\n        at java.rmi/sun.rmi.server.UnicastRef.invoke(UnicastRef.java:380) ~[?:?]\r\n        at java.rmi/sun.rmi.registry.RegistryImpl_Stub.rebind(RegistryImpl_Stub.java:158) ~[?:?]\r\n        at java.rmi/java.rmi.Naming.rebind(Naming.java:177) ~[?:?]\r\n        at org.ets.speechrater.pm.RPMServer.main(RPMServer.java:104) ~[SpeechServlet-classes.jar:?]\r\nCaused by: java.lang.NoClassDefFoundError: Could not initialize class org.ets.speechrater.pm.$Proxy0\r\n        at jdk.internal.reflect.GeneratedSerializationConstructorAccessor2.newInstance(Unknown Source) ~[?:?]\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[?:?]\r\n        at java.base/java.io.ObjectStreamClass.lambda$newInstance$0(ObjectStreamClass.java:1097) ~[?:?]\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method) ~[?:?]\r\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85) ~[?:?]\r\n        at java.base/java.io.ObjectStreamClass.newInstance(ObjectStreamClass.java:1105) ~[?:?]\r\n        at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2180) ~[?:?]\r\n        at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1679) ~[?:?]\r\n        at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:493) ~[?:?]\r\n        at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:451) ~[?:?]\r\n        at java.rmi/sun.rmi.registry.RegistryImpl_Skel.dispatch(RegistryImpl_Skel.java:154) ~[?:?]\r\n        at java.rmi/sun.rmi.server.UnicastServerRef.oldDispatch(UnicastServerRef.java:468) ~[?:?]\r\n        at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:298) ~[?:?]\r\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200) ~[?:?]\r\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197) ~[?:?]\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method) ~[?:?]\r\n        at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196) ~[?:?]\r\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562) ~[?:?]\r\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796) ~[?:?]\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\r\n        at java.base/java.lang.Thread.run(Thread.java:829) ~[?:?]\r\n```\r\n\r\n```\r\npackage org.ets.speechrater.pm;\r\n\r\nimport java.io.File;\r\nimport java.rmi.Naming;\r\nimport java.lang.SecurityManager;\r\nimport java.rmi.RemoteException;\r\n\r\nimport org.ets.research.srater.config.Config;\r\nimport org.ets.speechrater.properties.PropertiesAssist;\r\nimport org.ets.speechrater.util.ETSLogger;\r\n\r\n/**\r\n * RPMServer\r\n * \r\n * Operational wrapper for RPMImpl, which implements the speech recognition\r\n * (server) components.\r\n * \r\n * \r\n * \r\n */\r\npublic class RPMServer { // class RPMServer\r\n\r\n\tstatic private ETSLogger logger = ETSLogger.getLogger(RPMServer.class\r\n\t\t\t.getName());\r\n\r\n\tstatic RPM rpm;\r\n\r\n\t// ///////////////////////////////////////////////////////////////////\r\n\t//\r\n\t// main()\r\n\t//\r\n\t// ///////////////////////////////////////////////////////////////////\r\n\r\n\tpublic static void main(String args[]) throws Throwable { // main()\r\n\r\n\t\ttry {\r\n\r\n\t\t\tSystem.setSecurityManager(new SecurityManager());\r\n\r\n\t\t\tString propertyKey = null;\r\n\t\t\tString bindingName;\r\n\t\t\tint portNumber;\r\n\t\t\tString rmiAddr;\r\n\t\t\tint hostIndex = 0;\r\n\t\t\tboolean rpmSimMode = false;\r\n\r\n\t\t\ttry { // get access to the logger\r\n\t\t\t\tPropertiesAssist.initPmProperty(args[0]);\r\n\t\t\t} // get access to the logger\r\n\t\t\tcatch (Exception e) {\r\n\t\t\t\tString msg = &quot;Unable to load properties&quot;;\r\n\t\t\t\tlogger.error(msg);\r\n\t\t\t\tthrow new RemoteException(msg, e);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tif (args.length &gt; 1)\r\n\t\t\t\t\thostIndex = Integer.parseInt(args[1]);\r\n\t\t\t\telse\r\n\t\t\t\t\thostIndex = 0;\r\n\r\n\t\t\t\tpropertyKey = &quot;rpm&quot; + hostIndex + &quot;BindingName&quot;;\r\n\t\t\t\tlogger.debug(&quot;propertyKey &quot; + propertyKey);\r\n\r\n\t\t\t\tbindingName = PropertiesAssist.getPmPropertyString(propertyKey);\r\n\t\t\t\tpropertyKey = &quot;rpm&quot; + hostIndex + &quot;Port&quot;;\r\n\t\t\t\tlogger.debug(&quot;propertyKey &quot; + propertyKey);\r\n\t\t\t\tportNumber = Integer.parseInt(PropertiesAssist\r\n\t\t\t\t\t\t.getPmPropertyString(propertyKey));\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tString msg = &quot;Unable to get bindingName or port property. &quot;\r\n\t\t\t\t\t\t+ propertyKey;\r\n\t\t\t\tlogger.error(msg);\r\n\r\n\t\t\t\tthrow new RemoteException(msg, e);\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tpropertyKey = &quot;rpmRMIAddr&quot;;\r\n\t\t\t\trmiAddr = PropertiesAssist.getPmPropertyString(propertyKey);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\trmiAddr = null;\r\n\t\t\t}\r\n\r\n\t\t\tif (args.length &gt; 2) {\r\n\t\t\t\trpmSimMode = Boolean.parseBoolean(args[2]);\r\n\t\t\t\tlogger.debug(&quot;rpmSimMode is &quot; + rpmSimMode);\r\n\t\t\t}\r\n\r\n\t\t\trpm = null;\r\n\t\t\twhile (rpm == null) { // Retry until have reference\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlogger.debug(&quot;In server before Object rpm&quot;);\r\n\t\t\t\t\tif (!rpmSimMode)\r\n\t\t\t\t\t\trpm = new RPMImpl(logger, portNumber);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\trpm = new RPMImplSim(logger, portNumber);\r\n\r\n\t\t\t\t\tlogger.debug(&quot;RPM Implementation: &quot; + rpm);\r\n\t\t\t\t\tlogger.debug(&quot;In server after Object rpm&quot;);\r\n\t\t\t\t\tif (rmiAddr != null)\r\n\t\t\t\t\t\tbindingName = rmiAddr + &quot;/&quot; + bindingName;\r\n\r\n\t\t\t\t\tlogger.debug(&quot;In server binding to &quot; + bindingName);\r\n\t\t\t\t\tNaming.rebind(bindingName, rpm);\r\n\t\t\t\t\tlogger.debug(&quot;In server after bind rpm to tagRPM&quot;);\r\n\t\t\t\t} catch (Exception e) { // catch block\r\n\t\t\t\t\tlogger.warn(&quot;Unable to create RMI object Retrying&quot;,e);\r\n\t\t\t\t\tString msg = &quot;Is rmiregistry running?&quot;;\r\n\t\t\t\t\tlogger.warn(msg);\r\n\t\t\t\t\tlogger.debug(e);\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tThread.sleep(2000);\r\n\t\t\t\t\t} catch (InterruptedException ex) {\r\n\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t} // catch block\r\n\t\t\t} // Retry until have reference\r\n\r\n\t\t\tfinal String killFilename = PropertiesAssist\r\n\t\t\t\t\t.getPmPropertyString(&quot;killFile.server&quot;);\r\n\t\t\tif (killFilename == null || killFilename.length() == 0) {\r\n\t\t\t\tlogger.warn(&quot;Property not found: killFile.server&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tfinal String finalBindingName = bindingName;\r\n\t\t\t\tRunnable killFileWatcher = new Runnable() {\r\n\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\tFile f = new File(killFilename);\r\n\t\t\t\t\t\twhile (f == null || !f.exists()) {\r\n\t\t\t\t\t\t\tf = new File(killFilename);\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tThread.sleep(5000);\r\n\t\t\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (f.exists()) {\r\n\t\t\t\t\t\t\tlogger.info(&quot;Kill file found. Stopping server&quot;);\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\trpm.shutdown();\r\n\t\t\t\t\t\t\t\tlogger.info(&quot;All recognizer instances shut down successfully.&quot;);\r\n\t\t\t\t\t\t\t\tNaming.unbind(finalBindingName);\r\n\t\t\t\t\t\t\t\trpm = null;\r\n\t\t\t\t\t\t\t\tlogger.info(&quot;(Server) Bye.&quot;);\r\n\t\t\t\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tkillFileWatcher.run();\r\n\t\t\t}\r\n\t\t\tlogger.debug(&quot;RPMServer: End of main().&quot;);\r\n\r\n\t\t} catch (Throwable t) {\r\n\t\t\tlogger.fatal(&quot;RPMServer: Throwable Exception caught &quot; + t.toString(), t);\r\n\r\n\t\t\tthrow t;\r\n\t\t}\r\n\t} // main()\r\n} // class RPMServer\r\n```\r\n\r\n```\r\npackage org.ets.speechrater.pm;\r\n\r\nimport java.io.File;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.rmi.RemoteException;\r\nimport java.rmi.server.UnicastRemoteObject;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport org.ets.research.srater.exceptions.RecognizerException;\r\nimport org.ets.research.srater.asrfa.FeatureExtractionPipeline;\r\nimport org.ets.research.srater.kaldi.KaldiPipeline;\r\nimport org.ets.research.srater.htk.HtkPipeline;\r\nimport org.ets.research.srater.config.Config;\r\nimport org.ets.research.srater.config.ConfigFactory;\r\nimport org.ets.research.srater.scoring.CTMData;\r\nimport org.ets.research.srater.scoring.SpeechSample;\r\nimport org.ets.research.srater.util.Tools;\r\nimport org.ets.research.srater.util.os.DirectoryHandler;\r\nimport org.ets.speechrater.ScoringRequest;\r\nimport org.ets.speechrater.properties.PropertiesAssist;\r\nimport org.ets.speechrater.util.ETSLogger;\r\n\r\n//######################################################################\r\n//\r\n// class RPMImpl   implements RPM\r\n//\r\n// This object provides a very thin layer between a remote client\r\n//    and a list of local Recognizers.\r\n//\r\n// Errors:\r\n//    A message will be displayed\r\n//       All messages coming from this class will begin with RPM\r\n//    A trace of the trapped exception will be displayed\r\n//    A remote exception will be thrown including the displayed\r\n//       message and the text of the trapped exception.\r\n//\r\n// Errors: all throw RemoteException\r\n//\r\n// Client calls LPMRecognizer.extract()\r\n// LPMRecognizer.extract() calls RPM.extract()\r\n// RPM.extract() calls KaldiPipeline.extract()\r\n//\r\n//######################################################################\r\n\r\npublic class RPMImpl extends UnicastRemoteObject implements RPM { // class\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// RPMImpl\r\n\r\n\tstatic ETSLogger loggerPm;\r\n\r\n\t// ///////////////////////////////////////////////////////////////////\r\n\t//\r\n\t// private vars\r\n\t//\r\n\t// ///////////////////////////////////////////////////////////////////\r\n\r\n\tprivate static final long serialVersionUID = 271828182845904523L;\r\n\r\n\tprivate Map&lt;String,FeatureExtractionPipeline[]&gt; _RecognizerList;\r\n\tprivate boolean[] busyFlags;\r\n\r\n\tprivate int _numEVRecognizer;\r\n\tprivate String _msg; // last error. Keep\r\n\r\n\t// ///////////////////////////////////////////////////////////////////\r\n\t//\r\n\t// RPMImpl() constructor\r\n\t//\r\n\t// Construct an object as an rmi remote target.\r\n\t//\r\n\t// ///////////////////////////////////////////////////////////////////\r\n\tpublic RPMImpl(ETSLogger logger, int port) throws RemoteException { // RPMImpl()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// constructor\r\n\t\tsuper(port); // Set the port\r\n\t\t_msg = &quot;&quot;;\r\n\t\tloggerPm = logger;\r\n\t\tloggerPm.debug(&quot;RPMImpl constructed.&quot;);\r\n\t} // RPMImpl() constructor\r\n\r\n\t// ///////////////////////////////////////////////////////////////////\r\n\t//\r\n\t// init()\r\n\t//\r\n\t// instantiate a list of MultimodalRecognizer objects.\r\n\t// instantiate a list of EV Recognizer objects.\r\n\t//\r\n\t// ///////////////////////////////////////////////////////////////////\r\n\tpublic void init(int inNumEVRecognizer) throws Exception { // init()\r\n\t\tConfig configTPO = ConfigFactory.makeConfig(PropertiesAssist.getPmPropertyString(&quot;research.tpo.config.name&quot;));\t//note it does not matter what config is used, because just basic things are used (e.g. basedir...)\r\n\t\tconfigTPO.load(PropertiesAssist.getPmPropertyString(&quot;research.master.config&quot;));\r\n\t\tConfig configNEWORIENTAL = ConfigFactory.makeConfig(PropertiesAssist.getPmPropertyString(&quot;research.neworiental.config.name&quot;));\t//note it does not matter what config is used, because just basic things are used (e.g. basedir...)\r\n\t\tconfigNEWORIENTAL.load(PropertiesAssist.getPmPropertyString(&quot;research.master.config&quot;));\r\n\t\tConfig configTOEFLIBT = ConfigFactory.makeConfig(PropertiesAssist.getPmPropertyString(&quot;research.toeflibt.config&quot;));\r\n\t\tconfigTOEFLIBT.load(PropertiesAssist.getPmPropertyString(&quot;research.master.config&quot;));\r\n\t\t\r\n\t\t_numEVRecognizer = inNumEVRecognizer;\r\n\r\n\t\tif (PropertiesAssist.getPmPropertyString(&quot;Srater.recognizerType&quot;)\r\n\t\t\t\t.toUpperCase().equals(&quot;KALDI&quot;)) {\r\n\t\t\t_RecognizerList = new HashMap&lt;String,FeatureExtractionPipeline[]&gt;();\r\n\t\t\t_RecognizerList.put(PropertiesAssist.getPmPropertyString(&quot;research.tpo.config.name&quot;),new KaldiPipeline[_numEVRecognizer]);\r\n\t\t\t_RecognizerList.put(PropertiesAssist.getPmPropertyString(&quot;research.neworiental.config.name&quot;),new KaldiPipeline[_numEVRecognizer]);\r\n\t\t\t_RecognizerList.put(PropertiesAssist.getPmPropertyString(&quot;research.toeflibt.config&quot;),new KaldiPipeline[_numEVRecognizer]);\r\n\t\t\t\r\n\t\t\tloggerPm.debug(&quot;HTK Array initiaized&quot;);\r\n\t\t} else if (PropertiesAssist.getPmPropertyString(&quot;Srater.recognizerType&quot;)\r\n\t\t\t\t.toUpperCase().equals(&quot;HTK&quot;)) {\r\n\t\t\t_RecognizerList = new HashMap&lt;String,FeatureExtractionPipeline[]&gt;();\r\n\t\t\t_RecognizerList.put(PropertiesAssist.getPmPropertyString(&quot;research.tpo.config.name&quot;),new HtkPipeline[_numEVRecognizer]);\r\n\t\t\t_RecognizerList.put(PropertiesAssist.getPmPropertyString(&quot;research.neworiental.config.name&quot;),new HtkPipeline[_numEVRecognizer]);\r\n\t\t\t_RecognizerList.put(PropertiesAssist.getPmPropertyString(&quot;research.toeflibt.config&quot;),new HtkPipeline[_numEVRecognizer]);\r\n\t\t\tloggerPm.debug(&quot;HTK Array initiaized&quot;);\r\n\t\t} else {\r\n\t\t\tthrow new Exception(&quot;Srater.recognizerType set to unknown type: &quot;\r\n\t\t\t\t\t+ PropertiesAssist.getPmPropertyString(\r\n\t\t\t\t\t\t\t&quot;Srater.recognizerType&quot;).toUpperCase());\r\n\t\t}\r\n\r\n\t\tbusyFlags = new boolean[_numEVRecognizer];\r\n\r\n\t\tloggerPm.debug(&quot;Ready to create &quot; + _numEVRecognizer + &quot; EVRecognizer&quot;);\r\n\r\n\t\t// Chi added\r\n\t\tString outputDirName = null;\r\n\r\n\t\ttry {\r\n\t\t\toutputDirName = PropertiesAssist.getPmPropertyString(&quot;Srater.outputDirName&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\t_msg = &quot;Unable to get property MultimodalRecognizer arg&quot;;\r\n\t\t\tloggerPm.error(_msg, e);\r\n\t\t\tthrow new RemoteException(_msg, e);\r\n\t\t}\r\n\r\n\t\tloggerPm.debug(&quot;Ready to create &quot; + _numEVRecognizer + &quot; EVRecognizer&quot;);\r\n\t\tfor (int index = 0; index &lt; _numEVRecognizer; index++) {\r\n\t\t\ttry {\r\n\t\t\t\tif (PropertiesAssist\r\n\t\t\t\t\t\t.getPmPropertyString(&quot;Srater.recognizerType&quot;)\r\n\t\t\t\t\t\t.toUpperCase().equals(&quot;KALDI&quot;)) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t_RecognizerList.get(PropertiesAssist.getPmPropertyString(&quot;research.tpo.config.name&quot;))[index] = new KaldiPipeline(configTPO);\r\n\t\t\t\t\t\t_RecognizerList.get(PropertiesAssist.getPmPropertyString(&quot;research.neworiental.config.name&quot;))[index] = new KaldiPipeline(configNEWORIENTAL);\r\n\t\t\t\t\t\t_RecognizerList.get(PropertiesAssist.getPmPropertyString(&quot;research.toeflibt.config&quot;))[index] = new KaldiPipeline(configTOEFLIBT);\r\n\t\t\t\t\t} catch (Throwable e) {\r\n\t\t\t\t\t\tloggerPm.error(&quot;some type of error with recognizer&quot; + e.getMessage());\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (e instanceof RecognizerException) {\r\n\t\t\t\t\t\t\tthrow new RecognizerException(new Exception(e.getMessage()));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tthrow new Exception(e.getMessage());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//outputDirName,\r\n\t\t\t\t\t\t\t//&quot;&quot;,\t\t\t\t\t\t\t//note that archiving of dat and ctm are handled outside of extract now\r\n\t\t\t\t\t\t\t//config);\r\n\t\t\t\t\tloggerPm.debug(&quot;HTK Array[&quot; + index + &quot;] initiaized&quot;);\r\n\t\t\t\t} else if (PropertiesAssist\r\n\t\t\t\t\t\t.getPmPropertyString(&quot;Srater.recognizerType&quot;)\r\n\t\t\t\t\t\t.toUpperCase().equals(&quot;HTK&quot;)) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t_RecognizerList.get(&quot;research.tpo.config.name&quot;)[index] = new HtkPipeline(configTPO);\r\n\t\t\t\t\t\t_RecognizerList.get(&quot;research.neworiental.config.name&quot;)[index] = new HtkPipeline(configNEWORIENTAL);\r\n\t\t\t\t\t\t_RecognizerList.get(&quot;research.toeflibt.config&quot;)[index] = new HtkPipeline(configTOEFLIBT);\r\n\t\t\t\t\t} catch (Throwable e) {\r\n\t\t\t\t\t\tloggerPm.error(&quot;some type of error with recognizer&quot; + e.getMessage());\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (e instanceof RecognizerException) {\r\n\t\t\t\t\t\t\tthrow new RecognizerException(new Exception(e.getMessage()));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tthrow new Exception(e.getMessage());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//outputDirName,\r\n\t\t\t\t\t\t\t//&quot;&quot;,\t\t\t\t\t\t\t//note that archiving of dat and ctm are handled outside of extract now\r\n\t\t\t\t\t\t\t//config);\r\n\t\t\t\t\tloggerPm.debug(&quot;HTK Array[&quot; + index + &quot;] initiaized&quot;);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Exception(\r\n\t\t\t\t\t\t\t&quot;Srater.recognizerType set to unknown type: &quot;\r\n\t\t\t\t\t\t\t\t\t+ PropertiesAssist.getPmPropertyString(\r\n\t\t\t\t\t\t\t\t\t\t\t&quot;Srater.recognizerType&quot;)\r\n\t\t\t\t\t\t\t\t\t\t\t.toUpperCase());\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbusyFlags[index] = false;\r\n\t\t\t\tloggerPm.debug(&quot;MultimodalRecognizer &quot; + index + &quot; Created&quot;);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\t_msg = &quot;RPM init failed&quot;;\r\n\t\t\t\tloggerPm.error(_msg, e);\r\n\t\t\t\tthrow new RemoteException(_msg, e);\r\n\t\t\t}\r\n\t\t}\r\n\t} // init()\r\n\r\n\r\n\r\n\t/***\r\n\t * Note this saves TPO *.ctm and *.dat to files.\r\n\t *\r\n\t * @param ctm\r\n\t * @throws Exception\r\n\t *\r\n\t */\r\n\tpublic void generateDatFromCTMandArchiveDATandCTM(CTMData ctm, String fileName) throws Exception {\r\n\t\tString archiveFilenamePathAndPrefix = new File(PropertiesAssist.getPmPropertyString(&quot;Srater.dataWarehouseDir&quot;),fileName).getAbsolutePath();\r\n\r\n\t\t//create dat file\r\n\t\tFile outFile = new File(archiveFilenamePathAndPrefix + &quot;.dat&quot;);\r\n\t\tPrintWriter pw = new PrintWriter(new FileWriter(outFile));\r\n\t\tpw.print(ctm.PfHeader());\r\n\t\tpw.print(ctm.getFeatureStr());\r\n\t\tpw.close();\r\n\r\n\t\t//create ctm file\r\n\t\toutFile = new File(archiveFilenamePathAndPrefix + &quot;.ctm&quot;);\r\n\t\tpw = new PrintWriter(new FileWriter(outFile));\r\n\t\tpw.print(ctm.getCtm());\r\n//\t\tpw.print(ctm.PfHeader());\r\n//\t\tpw.print(ctm.getFeatureStr());\r\n\t\tpw.close();\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t// ///////////////////////////////////////////////////////////////////\r\n\t//\r\n\t// extract()\r\n\t//\r\n\t// call the specified MultimodalRecognizer in the object list.\r\n\t//\r\n\t// Client calls LPMRecognizer.extract()\r\n\t// LPMRecognizer.extract() calls RPM.extract()\r\n\t// RPM.extract() calls KaldiPipeline.extract()\r\n\t//\r\n\t// ///////////////////////////////////////////////////////////////////\r\n\t// public CTM extract( int index, SpeechSample toServ ) throws\r\n\t// RemoteException, RecognizerException\r\n\t// { // extract()\r\n\r\n\tpublic CTMData extract(\r\n\t\t\tint index,\r\n\t\t\tSpeechSample toServ,\r\n\t\t\tScoringRequest scoringRequest,\r\n\t\t\tString modelName,\r\n\t\t\tString configName,\r\n\t\t\tString masterConfigFileName\r\n\t\t\t) throws RemoteException,\r\n\t\t\tRecognizerException { // extract()\r\n\t\tString ID = toServ.getID();\r\n\t\tloggerPm.debug(&quot;RPM Ready to extract Thread &quot; + index + &quot;  DB &quot; + ID);\r\n\t\tboolean saveTmpOnFailure = true;\r\n\t\tDirectoryHandler workingDirHandler = null;\r\n\r\n\t\ttry {\r\n\t\t\tbusyFlags[index] = true;\r\n\r\n\t\t\tConfig config = ConfigFactory.makeConfig(configName);\r\n\t\t\tconfig.load(masterConfigFileName);\r\n\t\t\tloggerPm.warn(&quot;masterConfig&gt;&gt;&gt;&gt;:&quot;+masterConfigFileName);\r\n\r\n\t\t\ttry{\r\n\t\t\t\tsaveTmpOnFailure = PropertiesAssist.getPmPropertyString(&quot;Srater.saveTempDirOnExtractFailure&quot;).equals(&quot;true&quot;);\r\n\t\t\t} catch (Exception any) {};\r\n\r\n\r\n\t\t\t//TPOv5 version of extract\r\n\t\t\tString baseDir = PropertiesAssist.getPmPropertyString(&quot;tmpPath&quot;);\r\n\t\t\tString dirPrefix = &quot;recognizer_&quot; + scoringRequest.getRequestID().getRequestID().toString() + &quot;_&quot;;\r\n//\t\t\tString workingDir = new File(baseDir, dirPrefix).getAbsolutePath() + index;\r\n\t\t\tworkingDirHandler = new DirectoryHandler(baseDir, dirPrefix);\r\n\r\n\r\n\t\t\tCTMData ctm = null;\r\n\r\n\t\t\t//save sound file to disk before extract\r\n\t\t\tString filenameWithExtension = new File(workingDirHandler.getWorkingDir(), toServ.getID() + &quot;.&quot; + toServ.getSampleCodec()).getAbsolutePath() ;\r\n\t\t\ttoServ.saveFile(filenameWithExtension);\r\n\t\t\tif (PropertiesAssist.getPmPropertyString(&quot;Srater.recognizerType&quot;)\r\n\t\t\t\t\t.toUpperCase().equals(&quot;KALDI&quot;)) {\r\n\t\t\t\tctm = ((KaldiPipeline)_RecognizerList.get(configName)[index]).extract(toServ, workingDirHandler);\r\n\t\t\t}\r\n\t\t\telse if (PropertiesAssist.getPmPropertyString(&quot;Srater.recognizerType&quot;)\r\n\t\t\t\t\t.toUpperCase().equals(&quot;HTK&quot;)) {\r\n\t\t\t\tctm = ((HtkPipeline)_RecognizerList.get(configName)[index]).extract(toServ, workingDirHandler);\r\n\t\t\t}\r\n\r\n\t\t\tctm.SetSampleID(toServ.getID());\r\n//\t\t\tgenerateCdatFromCTM();\r\n\r\n\t\t\t//create dat and ctm files and archive them\r\n\t\t\t// !!! adding proper file name as a parameter\r\n\t\t\tgenerateDatFromCTMandArchiveDATandCTM(ctm,\r\n\t\t\t\t\tscoringRequest.getRequestID()+&quot;-&quot;+scoringRequest.getClientRequestID());\r\n\r\n\t\t\t//clean up directory\r\n\t\t\tif(PropertiesAssist.getPmPropertyString(&quot;Srater.deleteTempfiles&quot;).equals(&quot;true&quot;)){\r\n\t\t\t\tworkingDirHandler.deleteWorkingDir();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tloggerPm.debug(&quot;not deleting temporary files for: &quot; + scoringRequest.getRequestID().getRequestID().toString() + &quot; , directory: &quot; + workingDirHandler.getWorkingDir().toPath().toAbsolutePath().toString());\r\n\t\t\t}\r\n\r\n\r\n\r\n//\t\t\tCTMData ctm = _RecognizerList[index].extract(\r\n//\t\t\t\t\ttoServ,\r\n//\t\t\t\t\tPropertiesAssist.getPmPropertyString(&quot;Srater.deleteOutputfiles&quot;).equals(&quot;true&quot;),\r\n//\t\t\t\t\tPropertiesAssist.getPmPropertyString(&quot;Srater.deleteTempfiles&quot;).equals(&quot;true&quot;),\r\n//\t\t\t\t\tscoringRequest.getRequestID() + &quot;-&quot;+ scoringRequest.getClientRequestID(),\r\n//\t\t\t\t\tmodelName\r\n//\t\t\t\t\t,config\r\n//\r\n//\t\t\t);\r\n\r\n\t\t\tloggerPm.debug(&quot;Extract Features Header:&quot; + ctm.PfHeader());\r\n//\t\t\tloggerPm.debug(&quot;Extract Features Values:&quot;\r\n//\t\t\t\t\t+ ctm.PfOutput(&quot;&quot;));\r\n\t\t\tloggerPm.debug(&quot;Extract Features Names and Values:&quot;\r\n\t\t\t\t\t+ ctm.getFeatureStr());\r\n\r\n\r\n\r\n\t\t\tloggerPm.debug(&quot;RPM Done extract Thread &quot; + index + &quot;  DB &quot; + ID);\r\n\t\t\treturn (ctm);\r\n\r\n\t\t} catch (RecognizerException e) {\r\n\t\t\t_msg = &quot;RPM extract caught RecognizerException (&quot; + e.getMessage()\r\n\t\t\t\t\t+ &quot;) Thread &quot; + index + &quot;  DB &quot; + ID;\r\n\t\t\tloggerPm.warn(_msg, e);\r\n\r\n\t\t\ttry{\r\n\t\t\t\tif(!saveTmpOnFailure &amp;&amp; workingDirHandler != null)\r\n\t\t\t\t\tworkingDirHandler.deleteWorkingDir();\r\n\t\t\t}catch(Exception any){}\r\n\r\n\t\t\tthrow e;\r\n\t\t} catch (Throwable t) {\r\n\t\t\t_msg = &quot;RPM extract failed Thread &quot; + index + &quot;  DB &quot; + ID;\r\n\t\t\tloggerPm.warn(_msg + t.toString(), t);\r\n\t\t\tthrow new RemoteException(_msg, t);\r\n\t\t}\r\n\r\n\t} // extract()\r\n\r\n\t// ///////////////////////////////////////////////////////////////////\r\n\t//\r\n\t// refresh()\r\n\t//\r\n\t// One of the recognizers has failed.\r\n\t// This method replaces the broken object with a new one.\r\n\t//\r\n\t// ///////////////////////////////////////////////////////////////////\r\n\tpublic void refresh(int index) throws RemoteException { // refresh()\r\n\r\n\r\n\t\t// Chi added\r\n\t\tString outputDirName = null;\r\n\r\n\t\ttry {\r\n\r\n\t\t\toutputDirName = PropertiesAssist\r\n\t\t\t\t\t.getPmPropertyString(&quot;Srater.outputDirName&quot;);\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\t_msg = &quot;Unable to get property MultimodalRecognizer arg&quot;;\r\n\t\t\tloggerPm.error(_msg, e);\r\n\t\t\tthrow new RemoteException(_msg, e);\r\n\t\t}\r\n\t\ttry {\r\n//\t\t\tConfig.readMasterConfig(PropertiesAssist.getPmPropertyString(&quot;research.master.config&quot;));\r\n//\t\t\tConfig.setCurrentConfig(PropertiesAssist.getPmPropertyString(&quot;research.tpo.config.name&quot;));\r\n\t\t\tConfig configTPO = ConfigFactory.makeConfig(PropertiesAssist.getPmPropertyString(&quot;research.tpo.config.name&quot;));\t//note it does not matter what config is used, because just basic things are used (e.g. basedir...)\r\n\t\t\tconfigTPO.load(PropertiesAssist.getPmPropertyString(&quot;research.master.config&quot;));\r\n\t\t\tConfig configNEWORIENTAL = ConfigFactory.makeConfig(PropertiesAssist.getPmPropertyString(&quot;research.neworiental.config.name&quot;));\t//note it does not matter what config is used, because just basic things are used (e.g. basedir...)\r\n\t\t\tconfigNEWORIENTAL.load(PropertiesAssist.getPmPropertyString(&quot;research.master.config&quot;));\r\n\t\t\tConfig configTOEFLIBT = ConfigFactory.makeConfig(PropertiesAssist.getPmPropertyString(&quot;research.toeflibt.config&quot;));\r\n\t\t\tconfigTOEFLIBT.load(PropertiesAssist.getPmPropertyString(&quot;research.master.config&quot;));\r\n\r\n\r\n\t\t\tif (PropertiesAssist.getPmPropertyString(&quot;Srater.recognizerType&quot;)\r\n\t\t\t\t\t.toUpperCase().equals(&quot;HTK&quot;)) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t_RecognizerList.get(PropertiesAssist.getPmPropertyString(PropertiesAssist.getPmPropertyString(&quot;research.tpo.config.name&quot;)))[index] = new HtkPipeline(configTPO);\r\n\t\t\t\t\t_RecognizerList.get(PropertiesAssist.getPmPropertyString(PropertiesAssist.getPmPropertyString(&quot;research.neworiental.config.name&quot;)))[index] = new HtkPipeline(configNEWORIENTAL);\t\t\t\t\t\r\n\t\t\t\t\t_RecognizerList.get(PropertiesAssist.getPmPropertyString(PropertiesAssist.getPmPropertyString(&quot;research.toeflibt.config&quot;)))[index] = new HtkPipeline(configTOEFLIBT);\t\t\t\t\t\r\n\t\t\t\t} catch (Throwable e) {\r\n\t\t\t\t\tloggerPm.error(&quot;some type of error with recognizer&quot; + e.getMessage());\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (e instanceof RecognizerException) {\r\n\t\t\t\t\t\tthrow new RecognizerException(new Exception(e.getMessage()));\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tthrow new Exception(e.getMessage());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\t\t//outputDirName,\r\n\t\t\t\t\t\t//&quot;&quot;,\t\t\t\t\t\t\t//note that archiving of dat and ctm are handled outside of extract now\r\n\t\t\t\t\t\t//config);\r\n\t\t\t\tloggerPm.debug(&quot;HTK Array[&quot; + index + &quot;] refreshed&quot;);\r\n\t\t\t} else if (PropertiesAssist\r\n\t\t\t\t\t.getPmPropertyString(&quot;Srater.recognizerType&quot;).toUpperCase()\r\n\t\t\t\t\t.equals(&quot;KALDI&quot;)) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t_RecognizerList.get(PropertiesAssist.getPmPropertyString(&quot;research.tpo.config.name&quot;))[index] = new KaldiPipeline(configTPO);\r\n\t\t\t\t\t_RecognizerList.get(PropertiesAssist.getPmPropertyString(&quot;research.neworiental.config.name&quot;))[index] = new KaldiPipeline(configNEWORIENTAL);\r\n\t\t\t\t\t_RecognizerList.get(PropertiesAssist.getPmPropertyString(&quot;research.toeflibt.config&quot;))[index] = new KaldiPipeline(configTOEFLIBT);\r\n\t\t\t\t} catch (Throwable e) {\r\n\t\t\t\t\tloggerPm.error(&quot;some type of error with recognizer&quot; + e.getMessage());\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (e instanceof RecognizerException) {\r\n\t\t\t\t\t\tthrow new RecognizerException(new Exception(e.getMessage()));\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tthrow new Exception(e.getMessage());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\t\t//outputDirName,\r\n\t\t\t\t\t\t//&quot;&quot;,\t\t\t\t\t\t\t//note that archiving of dat and ctm are handled outside of extract now\r\n\t\t\t\t\t\t//config);\r\n\t\t\t\tloggerPm.debug(&quot;KALDI Array[&quot; + index + &quot;] refreshed&quot;);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Exception(\r\n\t\t\t\t\t\t&quot;Srater.recognizerType set to unknown type: &quot;\r\n\t\t\t\t\t\t\t\t+ PropertiesAssist.getPmPropertyString(\r\n\t\t\t\t\t\t\t\t\t\t&quot;Srater.recognizerType&quot;).toUpperCase());\r\n\t\t\t}\r\n\r\n\r\n\t\t\tloggerPm.debug(&quot;MultimodalRecognizer &quot; + index + &quot; Refreshed&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\t_msg = &quot;RPM refresh failed&quot;;\r\n\t\t\tloggerPm.error(_msg, e);\r\n\t\t\tthrow new RemoteException(_msg, e);\r\n\t\t}\r\n\r\n\t} // refresh()\r\n\r\n\t// ///////////////////////////////////////////////////////////////////\r\n\t//\r\n\t// pingRemote()\r\n\t//\r\n\t// Recovery has been attempted.\r\n\t// A reference has been acquired.\r\n\t// But is it a stale one that is still in the registry.\r\n\t// This method is used to validate.\r\n\t// If the reference is stale a remote exception is thrown.\r\n\t// If not stale &quot;OK&quot;\r\n\t//\r\n\t// ///////////////////////////////////////////////////////////////////\r\n\tpublic String pingRemote() throws RemoteException { // pingRemote()\r\n\t\treturn (&quot;OK&quot;);\r\n\t} // pingRemote()\r\n\r\n\r\n\r\n\tpublic void shutdown() {\r\n\r\n\t\tfor (int i = 0; i &lt; _numEVRecognizer; i++) {\r\n\t\t\tint retryCount = 0;\r\n\t\t\twhile (busyFlags[i] &amp;&amp; retryCount &lt; 60) {\r\n\t\t\t\tloggerPm.debug(&quot;Recognizer &quot; + (i + 1) + &quot; is busy.&quot;);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(1000);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t}\r\n\t\t\t\tretryCount++;\r\n\t\t\t}\r\n\t\t\tloggerPm.info(&quot;Shutting down recognizer instance &quot; + (i + 1) + &quot;.&quot;);\r\n\r\n\t\t\ttry {\r\n\t\t\t\t_RecognizerList.get(PropertiesAssist.getPmPropertyString(&quot;research.tpo.config.name&quot;))[i].close();\r\n\t\t\t\t_RecognizerList.get(PropertiesAssist.getPmPropertyString(&quot;research.neworiental.config.name&quot;))[i].close();\r\n\t\t\t\t_RecognizerList.get(PropertiesAssist.getPmPropertyString(&quot;research.toeflibt.config&quot;))[i].close();\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tloggerPm.warn(&quot;Recognizer close (which removes the temporary directory used for that instance) - failed&quot;,e);\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\t_RecognizerList.get(PropertiesAssist.getPmPropertyString(&quot;research.tpo.config.name&quot;))[i] = null;\r\n\t\t\t\t_RecognizerList.get(PropertiesAssist.getPmPropertyString(&quot;research.neworiental.config.name&quot;))[i] = null;\r\n\t\t\t\t_RecognizerList.get(PropertiesAssist.getPmPropertyString(&quot;research.toeflibt.config&quot;))[i] = null;\t\t\t\t\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tloggerPm.warn(&quot;ignoring error when setting recognizer to null, because we are shutting down already&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\tloggerPm.info(&quot;All recognizers have been shut down.&quot;);\r\n\t}\r\n\r\n\tpublic void setBusy(int index, boolean busy) throws RemoteException {\r\n\t\tloggerPm.debug(&quot;RPM recognizer(&quot; + index + &quot;) is &quot;\r\n\t\t\t\t+ (busy ? &quot;&quot; : &quot;no longer &quot;) + &quot;busy.&quot;);\r\n\t\tbusyFlags[index] = busy;\r\n\t}\r\n\r\n} // class RPMImpl\r\n```","title":"java 11 rmi NoClassDefFoundError","body":"<p>I updated my application to use Java 11 and I am getting the below error when trying to rebind an object over RMI. The application works fine on Java 8.</p>\n<p>They say NoClassDefFoundError can occur from a class being missing in the class path or from an error from a static block.</p>\n<p>The $Proxy0 class is apparently a class that is created at runtime, so it should not be in the class path, but I am wondering if the rmiregristy knows this.</p>\n<p>I dont see any static blocks of code that may be causing the problem.</p>\n<p>Open to any suggestions.</p>\n<pre><code>2021-09-21 14:27:18,750 (3019) [main] WARN  org.ets.speechrater.pm.RPMServer [] - Unable to create RMI object Retrying\njava.rmi.ServerError: Error occurred in server thread; nested exception is:\n        java.lang.NoClassDefFoundError: Could not initialize class org.ets.speechrater.pm.$Proxy0\n        at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:388) ~[?:?]\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200) ~[?:?]\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197) ~[?:?]\n        at java.base/java.security.AccessController.doPrivileged(Native Method) ~[?:?]\n        at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196) ~[?:?]\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562) ~[?:?]\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796) ~[?:?]\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677) ~[?:?]\n        at java.base/java.security.AccessController.doPrivileged(Native Method) ~[?:?]\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676) ~[?:?]\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]\n        at java.base/java.lang.Thread.run(Thread.java:829) [?:?]\n        at java.rmi/sun.rmi.transport.StreamRemoteCall.exceptionReceivedFromServer(StreamRemoteCall.java:303) ~[?:?]\n        at java.rmi/sun.rmi.transport.StreamRemoteCall.executeCall(StreamRemoteCall.java:279) ~[?:?]\n        at java.rmi/sun.rmi.server.UnicastRef.invoke(UnicastRef.java:380) ~[?:?]\n        at java.rmi/sun.rmi.registry.RegistryImpl_Stub.rebind(RegistryImpl_Stub.java:158) ~[?:?]\n        at java.rmi/java.rmi.Naming.rebind(Naming.java:177) ~[?:?]\n        at org.ets.speechrater.pm.RPMServer.main(RPMServer.java:104) ~[SpeechServlet-classes.jar:?]\nCaused by: java.lang.NoClassDefFoundError: Could not initialize class org.ets.speechrater.pm.$Proxy0\n        at jdk.internal.reflect.GeneratedSerializationConstructorAccessor2.newInstance(Unknown Source) ~[?:?]\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[?:?]\n        at java.base/java.io.ObjectStreamClass.lambda$newInstance$0(ObjectStreamClass.java:1097) ~[?:?]\n        at java.base/java.security.AccessController.doPrivileged(Native Method) ~[?:?]\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85) ~[?:?]\n        at java.base/java.io.ObjectStreamClass.newInstance(ObjectStreamClass.java:1105) ~[?:?]\n        at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2180) ~[?:?]\n        at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1679) ~[?:?]\n        at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:493) ~[?:?]\n        at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:451) ~[?:?]\n        at java.rmi/sun.rmi.registry.RegistryImpl_Skel.dispatch(RegistryImpl_Skel.java:154) ~[?:?]\n        at java.rmi/sun.rmi.server.UnicastServerRef.oldDispatch(UnicastServerRef.java:468) ~[?:?]\n        at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:298) ~[?:?]\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200) ~[?:?]\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197) ~[?:?]\n        at java.base/java.security.AccessController.doPrivileged(Native Method) ~[?:?]\n        at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196) ~[?:?]\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562) ~[?:?]\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796) ~[?:?]\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\n        at java.base/java.lang.Thread.run(Thread.java:829) ~[?:?]\n</code></pre>\n<pre><code>package org.ets.speechrater.pm;\n\nimport java.io.File;\nimport java.rmi.Naming;\nimport java.lang.SecurityManager;\nimport java.rmi.RemoteException;\n\nimport org.ets.research.srater.config.Config;\nimport org.ets.speechrater.properties.PropertiesAssist;\nimport org.ets.speechrater.util.ETSLogger;\n\n/**\n * RPMServer\n * \n * Operational wrapper for RPMImpl, which implements the speech recognition\n * (server) components.\n * \n * \n * \n */\npublic class RPMServer { // class RPMServer\n\n    static private ETSLogger logger = ETSLogger.getLogger(RPMServer.class\n            .getName());\n\n    static RPM rpm;\n\n    // ///////////////////////////////////////////////////////////////////\n    //\n    // main()\n    //\n    // ///////////////////////////////////////////////////////////////////\n\n    public static void main(String args[]) throws Throwable { // main()\n\n        try {\n\n            System.setSecurityManager(new SecurityManager());\n\n            String propertyKey = null;\n            String bindingName;\n            int portNumber;\n            String rmiAddr;\n            int hostIndex = 0;\n            boolean rpmSimMode = false;\n\n            try { // get access to the logger\n                PropertiesAssist.initPmProperty(args[0]);\n            } // get access to the logger\n            catch (Exception e) {\n                String msg = &quot;Unable to load properties&quot;;\n                logger.error(msg);\n                throw new RemoteException(msg, e);\n            }\n            \n            try {\n                if (args.length &gt; 1)\n                    hostIndex = Integer.parseInt(args[1]);\n                else\n                    hostIndex = 0;\n\n                propertyKey = &quot;rpm&quot; + hostIndex + &quot;BindingName&quot;;\n                logger.debug(&quot;propertyKey &quot; + propertyKey);\n\n                bindingName = PropertiesAssist.getPmPropertyString(propertyKey);\n                propertyKey = &quot;rpm&quot; + hostIndex + &quot;Port&quot;;\n                logger.debug(&quot;propertyKey &quot; + propertyKey);\n                portNumber = Integer.parseInt(PropertiesAssist\n                        .getPmPropertyString(propertyKey));\n            } catch (Exception e) {\n                String msg = &quot;Unable to get bindingName or port property. &quot;\n                        + propertyKey;\n                logger.error(msg);\n\n                throw new RemoteException(msg, e);\n            }\n            try {\n                propertyKey = &quot;rpmRMIAddr&quot;;\n                rmiAddr = PropertiesAssist.getPmPropertyString(propertyKey);\n            } catch (Exception e) {\n                rmiAddr = null;\n            }\n\n            if (args.length &gt; 2) {\n                rpmSimMode = Boolean.parseBoolean(args[2]);\n                logger.debug(&quot;rpmSimMode is &quot; + rpmSimMode);\n            }\n\n            rpm = null;\n            while (rpm == null) { // Retry until have reference\n                try {\n                    logger.debug(&quot;In server before Object rpm&quot;);\n                    if (!rpmSimMode)\n                        rpm = new RPMImpl(logger, portNumber);\n                    else\n                        rpm = new RPMImplSim(logger, portNumber);\n\n                    logger.debug(&quot;RPM Implementation: &quot; + rpm);\n                    logger.debug(&quot;In server after Object rpm&quot;);\n                    if (rmiAddr != null)\n                        bindingName = rmiAddr + &quot;/&quot; + bindingName;\n\n                    logger.debug(&quot;In server binding to &quot; + bindingName);\n                    Naming.rebind(bindingName, rpm);\n                    logger.debug(&quot;In server after bind rpm to tagRPM&quot;);\n                } catch (Exception e) { // catch block\n                    logger.warn(&quot;Unable to create RMI object Retrying&quot;,e);\n                    String msg = &quot;Is rmiregistry running?&quot;;\n                    logger.warn(msg);\n                    logger.debug(e);\n                    try {\n                        Thread.sleep(2000);\n                    } catch (InterruptedException ex) {\n                        ex.printStackTrace();\n                    }\n                } // catch block\n            } // Retry until have reference\n\n            final String killFilename = PropertiesAssist\n                    .getPmPropertyString(&quot;killFile.server&quot;);\n            if (killFilename == null || killFilename.length() == 0) {\n                logger.warn(&quot;Property not found: killFile.server&quot;);\n            } else {\n                final String finalBindingName = bindingName;\n                Runnable killFileWatcher = new Runnable() {\n                    public void run() {\n                        File f = new File(killFilename);\n                        while (f == null || !f.exists()) {\n                            f = new File(killFilename);\n                            try {\n                                Thread.sleep(5000);\n                            } catch (InterruptedException e) {\n                            }\n                        }\n\n                        if (f.exists()) {\n                            logger.info(&quot;Kill file found. Stopping server&quot;);\n                            try {\n                                rpm.shutdown();\n                                logger.info(&quot;All recognizer instances shut down successfully.&quot;);\n                                Naming.unbind(finalBindingName);\n                                rpm = null;\n                                logger.info(&quot;(Server) Bye.&quot;);\n                                System.exit(0);\n                            } catch (Exception e) {\n                                e.printStackTrace();\n                            }\n                        }\n                    }\n                };\n                killFileWatcher.run();\n            }\n            logger.debug(&quot;RPMServer: End of main().&quot;);\n\n        } catch (Throwable t) {\n            logger.fatal(&quot;RPMServer: Throwable Exception caught &quot; + t.toString(), t);\n\n            throw t;\n        }\n    } // main()\n} // class RPMServer\n</code></pre>\n<pre><code>package org.ets.speechrater.pm;\n\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.rmi.RemoteException;\nimport java.rmi.server.UnicastRemoteObject;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport org.ets.research.srater.exceptions.RecognizerException;\nimport org.ets.research.srater.asrfa.FeatureExtractionPipeline;\nimport org.ets.research.srater.kaldi.KaldiPipeline;\nimport org.ets.research.srater.htk.HtkPipeline;\nimport org.ets.research.srater.config.Config;\nimport org.ets.research.srater.config.ConfigFactory;\nimport org.ets.research.srater.scoring.CTMData;\nimport org.ets.research.srater.scoring.SpeechSample;\nimport org.ets.research.srater.util.Tools;\nimport org.ets.research.srater.util.os.DirectoryHandler;\nimport org.ets.speechrater.ScoringRequest;\nimport org.ets.speechrater.properties.PropertiesAssist;\nimport org.ets.speechrater.util.ETSLogger;\n\n//######################################################################\n//\n// class RPMImpl   implements RPM\n//\n// This object provides a very thin layer between a remote client\n//    and a list of local Recognizers.\n//\n// Errors:\n//    A message will be displayed\n//       All messages coming from this class will begin with RPM\n//    A trace of the trapped exception will be displayed\n//    A remote exception will be thrown including the displayed\n//       message and the text of the trapped exception.\n//\n// Errors: all throw RemoteException\n//\n// Client calls LPMRecognizer.extract()\n// LPMRecognizer.extract() calls RPM.extract()\n// RPM.extract() calls KaldiPipeline.extract()\n//\n//######################################################################\n\npublic class RPMImpl extends UnicastRemoteObject implements RPM { // class\n                                                                    // RPMImpl\n\n    static ETSLogger loggerPm;\n\n    // ///////////////////////////////////////////////////////////////////\n    //\n    // private vars\n    //\n    // ///////////////////////////////////////////////////////////////////\n\n    private static final long serialVersionUID = 271828182845904523L;\n\n    private Map&lt;String,FeatureExtractionPipeline[]&gt; _RecognizerList;\n    private boolean[] busyFlags;\n\n    private int _numEVRecognizer;\n    private String _msg; // last error. Keep\n\n    // ///////////////////////////////////////////////////////////////////\n    //\n    // RPMImpl() constructor\n    //\n    // Construct an object as an rmi remote target.\n    //\n    // ///////////////////////////////////////////////////////////////////\n    public RPMImpl(ETSLogger logger, int port) throws RemoteException { // RPMImpl()\n                                                                        // constructor\n        super(port); // Set the port\n        _msg = &quot;&quot;;\n        loggerPm = logger;\n        loggerPm.debug(&quot;RPMImpl constructed.&quot;);\n    } // RPMImpl() constructor\n\n    // ///////////////////////////////////////////////////////////////////\n    //\n    // init()\n    //\n    // instantiate a list of MultimodalRecognizer objects.\n    // instantiate a list of EV Recognizer objects.\n    //\n    // ///////////////////////////////////////////////////////////////////\n    public void init(int inNumEVRecognizer) throws Exception { // init()\n        Config configTPO = ConfigFactory.makeConfig(PropertiesAssist.getPmPropertyString(&quot;research.tpo.config.name&quot;));  //note it does not matter what config is used, because just basic things are used (e.g. basedir...)\n        configTPO.load(PropertiesAssist.getPmPropertyString(&quot;research.master.config&quot;));\n        Config configNEWORIENTAL = ConfigFactory.makeConfig(PropertiesAssist.getPmPropertyString(&quot;research.neworiental.config.name&quot;));  //note it does not matter what config is used, because just basic things are used (e.g. basedir...)\n        configNEWORIENTAL.load(PropertiesAssist.getPmPropertyString(&quot;research.master.config&quot;));\n        Config configTOEFLIBT = ConfigFactory.makeConfig(PropertiesAssist.getPmPropertyString(&quot;research.toeflibt.config&quot;));\n        configTOEFLIBT.load(PropertiesAssist.getPmPropertyString(&quot;research.master.config&quot;));\n        \n        _numEVRecognizer = inNumEVRecognizer;\n\n        if (PropertiesAssist.getPmPropertyString(&quot;Srater.recognizerType&quot;)\n                .toUpperCase().equals(&quot;KALDI&quot;)) {\n            _RecognizerList = new HashMap&lt;String,FeatureExtractionPipeline[]&gt;();\n            _RecognizerList.put(PropertiesAssist.getPmPropertyString(&quot;research.tpo.config.name&quot;),new KaldiPipeline[_numEVRecognizer]);\n            _RecognizerList.put(PropertiesAssist.getPmPropertyString(&quot;research.neworiental.config.name&quot;),new KaldiPipeline[_numEVRecognizer]);\n            _RecognizerList.put(PropertiesAssist.getPmPropertyString(&quot;research.toeflibt.config&quot;),new KaldiPipeline[_numEVRecognizer]);\n            \n            loggerPm.debug(&quot;HTK Array initiaized&quot;);\n        } else if (PropertiesAssist.getPmPropertyString(&quot;Srater.recognizerType&quot;)\n                .toUpperCase().equals(&quot;HTK&quot;)) {\n            _RecognizerList = new HashMap&lt;String,FeatureExtractionPipeline[]&gt;();\n            _RecognizerList.put(PropertiesAssist.getPmPropertyString(&quot;research.tpo.config.name&quot;),new HtkPipeline[_numEVRecognizer]);\n            _RecognizerList.put(PropertiesAssist.getPmPropertyString(&quot;research.neworiental.config.name&quot;),new HtkPipeline[_numEVRecognizer]);\n            _RecognizerList.put(PropertiesAssist.getPmPropertyString(&quot;research.toeflibt.config&quot;),new HtkPipeline[_numEVRecognizer]);\n            loggerPm.debug(&quot;HTK Array initiaized&quot;);\n        } else {\n            throw new Exception(&quot;Srater.recognizerType set to unknown type: &quot;\n                    + PropertiesAssist.getPmPropertyString(\n                            &quot;Srater.recognizerType&quot;).toUpperCase());\n        }\n\n        busyFlags = new boolean[_numEVRecognizer];\n\n        loggerPm.debug(&quot;Ready to create &quot; + _numEVRecognizer + &quot; EVRecognizer&quot;);\n\n        // Chi added\n        String outputDirName = null;\n\n        try {\n            outputDirName = PropertiesAssist.getPmPropertyString(&quot;Srater.outputDirName&quot;);\n        } catch (Exception e) {\n            _msg = &quot;Unable to get property MultimodalRecognizer arg&quot;;\n            loggerPm.error(_msg, e);\n            throw new RemoteException(_msg, e);\n        }\n\n        loggerPm.debug(&quot;Ready to create &quot; + _numEVRecognizer + &quot; EVRecognizer&quot;);\n        for (int index = 0; index &lt; _numEVRecognizer; index++) {\n            try {\n                if (PropertiesAssist\n                        .getPmPropertyString(&quot;Srater.recognizerType&quot;)\n                        .toUpperCase().equals(&quot;KALDI&quot;)) {\n                    try {\n                        _RecognizerList.get(PropertiesAssist.getPmPropertyString(&quot;research.tpo.config.name&quot;))[index] = new KaldiPipeline(configTPO);\n                        _RecognizerList.get(PropertiesAssist.getPmPropertyString(&quot;research.neworiental.config.name&quot;))[index] = new KaldiPipeline(configNEWORIENTAL);\n                        _RecognizerList.get(PropertiesAssist.getPmPropertyString(&quot;research.toeflibt.config&quot;))[index] = new KaldiPipeline(configTOEFLIBT);\n                    } catch (Throwable e) {\n                        loggerPm.error(&quot;some type of error with recognizer&quot; + e.getMessage());\n                        \n                        if (e instanceof RecognizerException) {\n                            throw new RecognizerException(new Exception(e.getMessage()));\n                        }\n                        else{\n                            throw new Exception(e.getMessage());\n                        }\n                        \n                    }\n                            //outputDirName,\n                            //&quot;&quot;,                           //note that archiving of dat and ctm are handled outside of extract now\n                            //config);\n                    loggerPm.debug(&quot;HTK Array[&quot; + index + &quot;] initiaized&quot;);\n                } else if (PropertiesAssist\n                        .getPmPropertyString(&quot;Srater.recognizerType&quot;)\n                        .toUpperCase().equals(&quot;HTK&quot;)) {\n                    try {\n                        _RecognizerList.get(&quot;research.tpo.config.name&quot;)[index] = new HtkPipeline(configTPO);\n                        _RecognizerList.get(&quot;research.neworiental.config.name&quot;)[index] = new HtkPipeline(configNEWORIENTAL);\n                        _RecognizerList.get(&quot;research.toeflibt.config&quot;)[index] = new HtkPipeline(configTOEFLIBT);\n                    } catch (Throwable e) {\n                        loggerPm.error(&quot;some type of error with recognizer&quot; + e.getMessage());\n                        \n                        if (e instanceof RecognizerException) {\n                            throw new RecognizerException(new Exception(e.getMessage()));\n                        }\n                        else{\n                            throw new Exception(e.getMessage());\n                        }\n                    }\n                            //outputDirName,\n                            //&quot;&quot;,                           //note that archiving of dat and ctm are handled outside of extract now\n                            //config);\n                    loggerPm.debug(&quot;HTK Array[&quot; + index + &quot;] initiaized&quot;);\n                } else {\n                    throw new Exception(\n                            &quot;Srater.recognizerType set to unknown type: &quot;\n                                    + PropertiesAssist.getPmPropertyString(\n                                            &quot;Srater.recognizerType&quot;)\n                                            .toUpperCase());\n                }\n\n                busyFlags[index] = false;\n                loggerPm.debug(&quot;MultimodalRecognizer &quot; + index + &quot; Created&quot;);\n            } catch (Exception e) {\n                _msg = &quot;RPM init failed&quot;;\n                loggerPm.error(_msg, e);\n                throw new RemoteException(_msg, e);\n            }\n        }\n    } // init()\n\n\n\n    /***\n     * Note this saves TPO *.ctm and *.dat to files.\n     *\n     * @param ctm\n     * @throws Exception\n     *\n     */\n    public void generateDatFromCTMandArchiveDATandCTM(CTMData ctm, String fileName) throws Exception {\n        String archiveFilenamePathAndPrefix = new File(PropertiesAssist.getPmPropertyString(&quot;Srater.dataWarehouseDir&quot;),fileName).getAbsolutePath();\n\n        //create dat file\n        File outFile = new File(archiveFilenamePathAndPrefix + &quot;.dat&quot;);\n        PrintWriter pw = new PrintWriter(new FileWriter(outFile));\n        pw.print(ctm.PfHeader());\n        pw.print(ctm.getFeatureStr());\n        pw.close();\n\n        //create ctm file\n        outFile = new File(archiveFilenamePathAndPrefix + &quot;.ctm&quot;);\n        pw = new PrintWriter(new FileWriter(outFile));\n        pw.print(ctm.getCtm());\n//      pw.print(ctm.PfHeader());\n//      pw.print(ctm.getFeatureStr());\n        pw.close();\n\n    }\n\n\n\n\n\n\n\n    // ///////////////////////////////////////////////////////////////////\n    //\n    // extract()\n    //\n    // call the specified MultimodalRecognizer in the object list.\n    //\n    // Client calls LPMRecognizer.extract()\n    // LPMRecognizer.extract() calls RPM.extract()\n    // RPM.extract() calls KaldiPipeline.extract()\n    //\n    // ///////////////////////////////////////////////////////////////////\n    // public CTM extract( int index, SpeechSample toServ ) throws\n    // RemoteException, RecognizerException\n    // { // extract()\n\n    public CTMData extract(\n            int index,\n            SpeechSample toServ,\n            ScoringRequest scoringRequest,\n            String modelName,\n            String configName,\n            String masterConfigFileName\n            ) throws RemoteException,\n            RecognizerException { // extract()\n        String ID = toServ.getID();\n        loggerPm.debug(&quot;RPM Ready to extract Thread &quot; + index + &quot;  DB &quot; + ID);\n        boolean saveTmpOnFailure = true;\n        DirectoryHandler workingDirHandler = null;\n\n        try {\n            busyFlags[index] = true;\n\n            Config config = ConfigFactory.makeConfig(configName);\n            config.load(masterConfigFileName);\n            loggerPm.warn(&quot;masterConfig&gt;&gt;&gt;&gt;:&quot;+masterConfigFileName);\n\n            try{\n                saveTmpOnFailure = PropertiesAssist.getPmPropertyString(&quot;Srater.saveTempDirOnExtractFailure&quot;).equals(&quot;true&quot;);\n            } catch (Exception any) {};\n\n\n            //TPOv5 version of extract\n            String baseDir = PropertiesAssist.getPmPropertyString(&quot;tmpPath&quot;);\n            String dirPrefix = &quot;recognizer_&quot; + scoringRequest.getRequestID().getRequestID().toString() + &quot;_&quot;;\n//          String workingDir = new File(baseDir, dirPrefix).getAbsolutePath() + index;\n            workingDirHandler = new DirectoryHandler(baseDir, dirPrefix);\n\n\n            CTMData ctm = null;\n\n            //save sound file to disk before extract\n            String filenameWithExtension = new File(workingDirHandler.getWorkingDir(), toServ.getID() + &quot;.&quot; + toServ.getSampleCodec()).getAbsolutePath() ;\n            toServ.saveFile(filenameWithExtension);\n            if (PropertiesAssist.getPmPropertyString(&quot;Srater.recognizerType&quot;)\n                    .toUpperCase().equals(&quot;KALDI&quot;)) {\n                ctm = ((KaldiPipeline)_RecognizerList.get(configName)[index]).extract(toServ, workingDirHandler);\n            }\n            else if (PropertiesAssist.getPmPropertyString(&quot;Srater.recognizerType&quot;)\n                    .toUpperCase().equals(&quot;HTK&quot;)) {\n                ctm = ((HtkPipeline)_RecognizerList.get(configName)[index]).extract(toServ, workingDirHandler);\n            }\n\n            ctm.SetSampleID(toServ.getID());\n//          generateCdatFromCTM();\n\n            //create dat and ctm files and archive them\n            // !!! adding proper file name as a parameter\n            generateDatFromCTMandArchiveDATandCTM(ctm,\n                    scoringRequest.getRequestID()+&quot;-&quot;+scoringRequest.getClientRequestID());\n\n            //clean up directory\n            if(PropertiesAssist.getPmPropertyString(&quot;Srater.deleteTempfiles&quot;).equals(&quot;true&quot;)){\n                workingDirHandler.deleteWorkingDir();\n                \n            }\n            else{\n                loggerPm.debug(&quot;not deleting temporary files for: &quot; + scoringRequest.getRequestID().getRequestID().toString() + &quot; , directory: &quot; + workingDirHandler.getWorkingDir().toPath().toAbsolutePath().toString());\n            }\n\n\n\n//          CTMData ctm = _RecognizerList[index].extract(\n//                  toServ,\n//                  PropertiesAssist.getPmPropertyString(&quot;Srater.deleteOutputfiles&quot;).equals(&quot;true&quot;),\n//                  PropertiesAssist.getPmPropertyString(&quot;Srater.deleteTempfiles&quot;).equals(&quot;true&quot;),\n//                  scoringRequest.getRequestID() + &quot;-&quot;+ scoringRequest.getClientRequestID(),\n//                  modelName\n//                  ,config\n//\n//          );\n\n            loggerPm.debug(&quot;Extract Features Header:&quot; + ctm.PfHeader());\n//          loggerPm.debug(&quot;Extract Features Values:&quot;\n//                  + ctm.PfOutput(&quot;&quot;));\n            loggerPm.debug(&quot;Extract Features Names and Values:&quot;\n                    + ctm.getFeatureStr());\n\n\n\n            loggerPm.debug(&quot;RPM Done extract Thread &quot; + index + &quot;  DB &quot; + ID);\n            return (ctm);\n\n        } catch (RecognizerException e) {\n            _msg = &quot;RPM extract caught RecognizerException (&quot; + e.getMessage()\n                    + &quot;) Thread &quot; + index + &quot;  DB &quot; + ID;\n            loggerPm.warn(_msg, e);\n\n            try{\n                if(!saveTmpOnFailure &amp;&amp; workingDirHandler != null)\n                    workingDirHandler.deleteWorkingDir();\n            }catch(Exception any){}\n\n            throw e;\n        } catch (Throwable t) {\n            _msg = &quot;RPM extract failed Thread &quot; + index + &quot;  DB &quot; + ID;\n            loggerPm.warn(_msg + t.toString(), t);\n            throw new RemoteException(_msg, t);\n        }\n\n    } // extract()\n\n    // ///////////////////////////////////////////////////////////////////\n    //\n    // refresh()\n    //\n    // One of the recognizers has failed.\n    // This method replaces the broken object with a new one.\n    //\n    // ///////////////////////////////////////////////////////////////////\n    public void refresh(int index) throws RemoteException { // refresh()\n\n\n        // Chi added\n        String outputDirName = null;\n\n        try {\n\n            outputDirName = PropertiesAssist\n                    .getPmPropertyString(&quot;Srater.outputDirName&quot;);\n\n        } catch (Exception e) {\n            _msg = &quot;Unable to get property MultimodalRecognizer arg&quot;;\n            loggerPm.error(_msg, e);\n            throw new RemoteException(_msg, e);\n        }\n        try {\n//          Config.readMasterConfig(PropertiesAssist.getPmPropertyString(&quot;research.master.config&quot;));\n//          Config.setCurrentConfig(PropertiesAssist.getPmPropertyString(&quot;research.tpo.config.name&quot;));\n            Config configTPO = ConfigFactory.makeConfig(PropertiesAssist.getPmPropertyString(&quot;research.tpo.config.name&quot;));  //note it does not matter what config is used, because just basic things are used (e.g. basedir...)\n            configTPO.load(PropertiesAssist.getPmPropertyString(&quot;research.master.config&quot;));\n            Config configNEWORIENTAL = ConfigFactory.makeConfig(PropertiesAssist.getPmPropertyString(&quot;research.neworiental.config.name&quot;));  //note it does not matter what config is used, because just basic things are used (e.g. basedir...)\n            configNEWORIENTAL.load(PropertiesAssist.getPmPropertyString(&quot;research.master.config&quot;));\n            Config configTOEFLIBT = ConfigFactory.makeConfig(PropertiesAssist.getPmPropertyString(&quot;research.toeflibt.config&quot;));\n            configTOEFLIBT.load(PropertiesAssist.getPmPropertyString(&quot;research.master.config&quot;));\n\n\n            if (PropertiesAssist.getPmPropertyString(&quot;Srater.recognizerType&quot;)\n                    .toUpperCase().equals(&quot;HTK&quot;)) {\n                try {\n                    _RecognizerList.get(PropertiesAssist.getPmPropertyString(PropertiesAssist.getPmPropertyString(&quot;research.tpo.config.name&quot;)))[index] = new HtkPipeline(configTPO);\n                    _RecognizerList.get(PropertiesAssist.getPmPropertyString(PropertiesAssist.getPmPropertyString(&quot;research.neworiental.config.name&quot;)))[index] = new HtkPipeline(configNEWORIENTAL);                    \n                    _RecognizerList.get(PropertiesAssist.getPmPropertyString(PropertiesAssist.getPmPropertyString(&quot;research.toeflibt.config&quot;)))[index] = new HtkPipeline(configTOEFLIBT);                   \n                } catch (Throwable e) {\n                    loggerPm.error(&quot;some type of error with recognizer&quot; + e.getMessage());\n                    \n                    if (e instanceof RecognizerException) {\n                        throw new RecognizerException(new Exception(e.getMessage()));\n                    }\n                    else{\n                        throw new Exception(e.getMessage());\n                    }\n                }\n                        //outputDirName,\n                        //&quot;&quot;,                           //note that archiving of dat and ctm are handled outside of extract now\n                        //config);\n                loggerPm.debug(&quot;HTK Array[&quot; + index + &quot;] refreshed&quot;);\n            } else if (PropertiesAssist\n                    .getPmPropertyString(&quot;Srater.recognizerType&quot;).toUpperCase()\n                    .equals(&quot;KALDI&quot;)) {\n                try {\n                    _RecognizerList.get(PropertiesAssist.getPmPropertyString(&quot;research.tpo.config.name&quot;))[index] = new KaldiPipeline(configTPO);\n                    _RecognizerList.get(PropertiesAssist.getPmPropertyString(&quot;research.neworiental.config.name&quot;))[index] = new KaldiPipeline(configNEWORIENTAL);\n                    _RecognizerList.get(PropertiesAssist.getPmPropertyString(&quot;research.toeflibt.config&quot;))[index] = new KaldiPipeline(configTOEFLIBT);\n                } catch (Throwable e) {\n                    loggerPm.error(&quot;some type of error with recognizer&quot; + e.getMessage());\n                    \n                    if (e instanceof RecognizerException) {\n                        throw new RecognizerException(new Exception(e.getMessage()));\n                    }\n                    else{\n                        throw new Exception(e.getMessage());\n                    }\n                }\n                        //outputDirName,\n                        //&quot;&quot;,                           //note that archiving of dat and ctm are handled outside of extract now\n                        //config);\n                loggerPm.debug(&quot;KALDI Array[&quot; + index + &quot;] refreshed&quot;);\n\n            } else {\n                throw new Exception(\n                        &quot;Srater.recognizerType set to unknown type: &quot;\n                                + PropertiesAssist.getPmPropertyString(\n                                        &quot;Srater.recognizerType&quot;).toUpperCase());\n            }\n\n\n            loggerPm.debug(&quot;MultimodalRecognizer &quot; + index + &quot; Refreshed&quot;);\n        } catch (Exception e) {\n            _msg = &quot;RPM refresh failed&quot;;\n            loggerPm.error(_msg, e);\n            throw new RemoteException(_msg, e);\n        }\n\n    } // refresh()\n\n    // ///////////////////////////////////////////////////////////////////\n    //\n    // pingRemote()\n    //\n    // Recovery has been attempted.\n    // A reference has been acquired.\n    // But is it a stale one that is still in the registry.\n    // This method is used to validate.\n    // If the reference is stale a remote exception is thrown.\n    // If not stale &quot;OK&quot;\n    //\n    // ///////////////////////////////////////////////////////////////////\n    public String pingRemote() throws RemoteException { // pingRemote()\n        return (&quot;OK&quot;);\n    } // pingRemote()\n\n\n\n    public void shutdown() {\n\n        for (int i = 0; i &lt; _numEVRecognizer; i++) {\n            int retryCount = 0;\n            while (busyFlags[i] &amp;&amp; retryCount &lt; 60) {\n                loggerPm.debug(&quot;Recognizer &quot; + (i + 1) + &quot; is busy.&quot;);\n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException e) {\n                }\n                retryCount++;\n            }\n            loggerPm.info(&quot;Shutting down recognizer instance &quot; + (i + 1) + &quot;.&quot;);\n\n            try {\n                _RecognizerList.get(PropertiesAssist.getPmPropertyString(&quot;research.tpo.config.name&quot;))[i].close();\n                _RecognizerList.get(PropertiesAssist.getPmPropertyString(&quot;research.neworiental.config.name&quot;))[i].close();\n                _RecognizerList.get(PropertiesAssist.getPmPropertyString(&quot;research.toeflibt.config&quot;))[i].close();\n            } catch (Exception e) {\n                loggerPm.warn(&quot;Recognizer close (which removes the temporary directory used for that instance) - failed&quot;,e);\n            }\n\n            try {\n                _RecognizerList.get(PropertiesAssist.getPmPropertyString(&quot;research.tpo.config.name&quot;))[i] = null;\n                _RecognizerList.get(PropertiesAssist.getPmPropertyString(&quot;research.neworiental.config.name&quot;))[i] = null;\n                _RecognizerList.get(PropertiesAssist.getPmPropertyString(&quot;research.toeflibt.config&quot;))[i] = null;                \n            } catch (Exception e) {\n                loggerPm.warn(&quot;ignoring error when setting recognizer to null, because we are shutting down already&quot;);\n            }\n        }\n        loggerPm.info(&quot;All recognizers have been shut down.&quot;);\n    }\n\n    public void setBusy(int index, boolean busy) throws RemoteException {\n        loggerPm.debug(&quot;RPM recognizer(&quot; + index + &quot;) is &quot;\n                + (busy ? &quot;&quot; : &quot;no longer &quot;) + &quot;busy.&quot;);\n        busyFlags[index] = busy;\n    }\n\n} // class RPMImpl\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1651027538,"post_id":72022519,"comment_id":127261962,"body_markdown":"The &quot;probable&quot; cause to your issue might be the fact that you&#39;re closing the streams before `waitFor` has exited","body":"The &quot;probable&quot; cause to your issue might be the fact that you&#39;re closing the streams before <code>waitFor</code> has exited"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1651028191,"post_id":72022519,"comment_id":127262049,"body_markdown":"[This](https://stackoverflow.com/questions/32343355/java-linux-terminal-in-jpanel/32343778#32343778) is probably more then you need, but it demonstrates executing a batch command, which expects input, taking input from the user and passing to the process","body":"<a href=\"https://stackoverflow.com/questions/32343355/java-linux-terminal-in-jpanel/32343778#32343778\">This</a> is probably more then you need, but it demonstrates executing a batch command, which expects input, taking input from the user and passing to the process"},{"owner":{"account_id":25110129,"reputation":3,"user_id":18959884,"display_name":"ZythiQ"},"score":0,"creation_date":1651028383,"post_id":72022519,"comment_id":127262073,"body_markdown":"@MadProgrammer Those streams are only used by the main thread to communicate with the user and process, not SQP which is responsible for reading from the process and adding it to the queue. Of course, I did try for the sake of it, but that didn&#39;t fix the problem, unfortunately.","body":"@MadProgrammer Those streams are only used by the main thread to communicate with the user and process, not SQP which is responsible for reading from the process and adding it to the queue. Of course, I did try for the sake of it, but that didn&#39;t fix the problem, unfortunately."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1651029058,"post_id":72022519,"comment_id":127262163,"body_markdown":"Sure, but do you know what a stream will do when you close it?  First you shouldn&#39;t be closing `System.in` (which `in.close` will do) and `out.close` will close the `process.getOutputStream()`, so, it&#39;s problematic. Maybe consider providing a [mcve] or at the very least, an example of your input","body":"Sure, but do you know what a stream will do when you close it?  First you shouldn&#39;t be closing <code>System.in</code> (which <code>in.close</code> will do) and <code>out.close</code> will close the <code>process.getOutputStream()</code>, so, it&#39;s problematic. Maybe consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or at the very least, an example of your input"},{"owner":{"account_id":25110129,"reputation":3,"user_id":18959884,"display_name":"ZythiQ"},"score":0,"creation_date":1651031007,"post_id":72022519,"comment_id":127262451,"body_markdown":"The code provided was actually the simplest I code write to demonstrate the issue: The PWST is the main thread that you run, and input comma-separated Powershell commands into via system in. SQP is the thread listening to the Powershell output. To see the problem you have to input anything like &quot;echo hey, echo you&quot; and the output of the queues is empty not containing the expected Powershell header, directory, and echo commands. Anyway, I do see what you mean by not closing out (that&#39;s a pretty big oversight since it&#39;s holding the shell open).  I&#39;ll look into that, thank you.","body":"The code provided was actually the simplest I code write to demonstrate the issue: The PWST is the main thread that you run, and input comma-separated Powershell commands into via system in. SQP is the thread listening to the Powershell output. To see the problem you have to input anything like &quot;echo hey, echo you&quot; and the output of the queues is empty not containing the expected Powershell header, directory, and echo commands. Anyway, I do see what you mean by not closing out (that&#39;s a pretty big oversight since it&#39;s holding the shell open).  I&#39;ll look into that, thank you."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651030843,"creation_date":1651030266,"answer_id":72022939,"question_id":72022519,"body_markdown":"There are at least two issues.  \r\n\r\nFirstly, closing the `Scanner` and `PrintWriter` will also close their undying streams (in this case where `Scanner` is reading from the stdin).  This is undesirable, as, first, you never want to close the stdin stream and second, the process may not have finished processing the streams, but more importantly, I&#39;d be very careful about closing streams you did not create yourself, just saying.\r\n\r\nThe second issue is, you&#39;re trying to read the output (of the stream) before the `SPQ` has actually had time to process the output, for example, if I adapt your code and use...\r\n\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.LinkedList;\r\n    import java.util.Queue;\r\n\r\n    public final class Main {\r\n        public static void main(String[] args) throws IOException, InterruptedException {\r\n            new Main();\r\n        }\r\n\r\n        public Main() throws IOException, InterruptedException {\r\n            ProcessBuilder pb = new ProcessBuilder(&quot;bash&quot;, &quot;-c&quot;, &quot;ls&quot;);\r\n            pb.redirectErrorStream(true);\r\n            System.out.println(&quot;&gt;&gt; Start process&quot;);\r\n            Process p = pb.start();\r\n            Queue&lt;String&gt; stdout = new LinkedList&lt;&gt;();\r\n            Thread thread = new Thread(new SPQ(p.getInputStream(), stdout));\r\n            System.out.println(&quot;&gt;&gt; Start thread&quot;);\r\n            thread.start();\r\n            System.out.println(&quot;&gt;&gt; Waiting for process to exit&quot;);\r\n            p.waitFor();\r\n            System.out.println(&quot;&lt;&lt; Process has exited&quot;);\r\n            System.out.println(stdout);\r\n        }\r\n\r\n        class SPQ implements Runnable {\r\n            private Queue&lt;String&gt; queue;\r\n            private InputStream istrm;\r\n\r\n            public SPQ(InputStream istrm, Queue&lt;String&gt; queue) {\r\n                this.istrm = istrm;\r\n                this.queue = queue;\r\n            }\r\n\r\n            public void run() {\r\n                System.out.println(&quot;&gt;&gt; Started reading stream&quot;);\r\n                try {\r\n                    final byte[] buffer = new byte[1024];\r\n                    for (int length = 0; (length = istrm.read(buffer)) != -1;) {\r\n                        queue.add(new String(buffer, 0, length)); // store output in queue\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n                System.out.println(&quot;&lt;&lt; Done reading stream&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nIt will output...\r\n\r\n    &gt;&gt; Start process\r\n    &gt;&gt; Start thread\r\n    &gt;&gt; Waiting for process to exit\r\n    &lt;&lt; Process has exited\r\n    &gt;&gt; Started reading stream\r\n    []\r\n    &lt;&lt; Done reading stream\r\n\r\nAs you can see, I&#39;ve printed the contents of the `Queue` BEFORE the thread has finished processing the stream.\r\n\r\nIf I add `thread.join();` after `p.waitFor();` it will print...\r\n\r\n    &gt;&gt; Start process\r\n    &gt;&gt; Start thread\r\n    &gt;&gt; Waiting for process to exit\r\n    &gt;&gt; Started reading stream\r\n    &lt;&lt; Done reading stream\r\n    &lt;&lt; Process has exited\r\n    [contents\r\n    of\r\n    my\r\n    working\r\n    directory\r\n    which\r\n    is\r\n    not\r\n    very\r\n    interesting]\r\n\r\n# Runnable example...\r\n\r\n\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.LinkedList;\r\n    import java.util.Queue;\r\n\r\n    public final class Main {\r\n        public static void main(String[] args) throws IOException, InterruptedException {\r\n            new Main();\r\n        }\r\n\r\n        public Main() throws IOException, InterruptedException {\r\n            ProcessBuilder pb = new ProcessBuilder(&quot;bash&quot;, &quot;-c&quot;, &quot;ls&quot;);\r\n            pb.redirectErrorStream(true);\r\n            System.out.println(&quot;&gt;&gt; Start process&quot;);\r\n            Process p = pb.start();\r\n            Queue&lt;String&gt; stdout = new LinkedList&lt;&gt;();\r\n            Thread thread = new Thread(new SPQ(p.getInputStream(), stdout));\r\n            System.out.println(&quot;&gt;&gt; Start thread&quot;);\r\n            thread.start();\r\n            System.out.println(&quot;&gt;&gt; Waiting for process to exit&quot;);\r\n            p.waitFor();\r\n            thread.join();\r\n            System.out.println(&quot;&lt;&lt; Process has exited&quot;);\r\n            System.out.println(stdout);\r\n        }\r\n\r\n        class SPQ implements Runnable {\r\n            private Queue&lt;String&gt; queue;\r\n            private InputStream istrm;\r\n\r\n            public SPQ(InputStream istrm, Queue&lt;String&gt; queue) {\r\n                this.istrm = istrm;\r\n                this.queue = queue;\r\n            }\r\n\r\n            public void run() {\r\n                System.out.println(&quot;&gt;&gt; Started reading stream&quot;);\r\n                try {\r\n                    final byte[] buffer = new byte[1024];\r\n                    for (int length = 0; (length = istrm.read(buffer)) != -1;) {\r\n                        queue.add(new String(buffer, 0, length)); // store output in queue\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n                System.out.println(&quot;&lt;&lt; Done reading stream&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n*Please note - I&#39;m not running Windows so I can&#39;t test `Powershell` and I&#39;ve done the minimal example I can think of, so I&#39;m not writing content to the stream, but conceptually, this fixed the issue you seem to be having*","title":"Why isn&#39;t the queue updating on the main thread?","body":"<p>There are at least two issues.</p>\n<p>Firstly, closing the <code>Scanner</code> and <code>PrintWriter</code> will also close their undying streams (in this case where <code>Scanner</code> is reading from the stdin).  This is undesirable, as, first, you never want to close the stdin stream and second, the process may not have finished processing the streams, but more importantly, I'd be very careful about closing streams you did not create yourself, just saying.</p>\n<p>The second issue is, you're trying to read the output (of the stream) before the <code>SPQ</code> has actually had time to process the output, for example, if I adapt your code and use...</p>\n<pre><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.util.LinkedList;\nimport java.util.Queue;\n\npublic final class Main {\n    public static void main(String[] args) throws IOException, InterruptedException {\n        new Main();\n    }\n\n    public Main() throws IOException, InterruptedException {\n        ProcessBuilder pb = new ProcessBuilder(&quot;bash&quot;, &quot;-c&quot;, &quot;ls&quot;);\n        pb.redirectErrorStream(true);\n        System.out.println(&quot;&gt;&gt; Start process&quot;);\n        Process p = pb.start();\n        Queue&lt;String&gt; stdout = new LinkedList&lt;&gt;();\n        Thread thread = new Thread(new SPQ(p.getInputStream(), stdout));\n        System.out.println(&quot;&gt;&gt; Start thread&quot;);\n        thread.start();\n        System.out.println(&quot;&gt;&gt; Waiting for process to exit&quot;);\n        p.waitFor();\n        System.out.println(&quot;&lt;&lt; Process has exited&quot;);\n        System.out.println(stdout);\n    }\n\n    class SPQ implements Runnable {\n        private Queue&lt;String&gt; queue;\n        private InputStream istrm;\n\n        public SPQ(InputStream istrm, Queue&lt;String&gt; queue) {\n            this.istrm = istrm;\n            this.queue = queue;\n        }\n\n        public void run() {\n            System.out.println(&quot;&gt;&gt; Started reading stream&quot;);\n            try {\n                final byte[] buffer = new byte[1024];\n                for (int length = 0; (length = istrm.read(buffer)) != -1;) {\n                    queue.add(new String(buffer, 0, length)); // store output in queue\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            System.out.println(&quot;&lt;&lt; Done reading stream&quot;);\n        }\n    }\n}\n</code></pre>\n<p>It will output...</p>\n<pre><code>&gt;&gt; Start process\n&gt;&gt; Start thread\n&gt;&gt; Waiting for process to exit\n&lt;&lt; Process has exited\n&gt;&gt; Started reading stream\n[]\n&lt;&lt; Done reading stream\n</code></pre>\n<p>As you can see, I've printed the contents of the <code>Queue</code> BEFORE the thread has finished processing the stream.</p>\n<p>If I add <code>thread.join();</code> after <code>p.waitFor();</code> it will print...</p>\n<pre><code>&gt;&gt; Start process\n&gt;&gt; Start thread\n&gt;&gt; Waiting for process to exit\n&gt;&gt; Started reading stream\n&lt;&lt; Done reading stream\n&lt;&lt; Process has exited\n[contents\nof\nmy\nworking\ndirectory\nwhich\nis\nnot\nvery\ninteresting]\n</code></pre>\n<h1>Runnable example...</h1>\n<pre><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.util.LinkedList;\nimport java.util.Queue;\n\npublic final class Main {\n    public static void main(String[] args) throws IOException, InterruptedException {\n        new Main();\n    }\n\n    public Main() throws IOException, InterruptedException {\n        ProcessBuilder pb = new ProcessBuilder(&quot;bash&quot;, &quot;-c&quot;, &quot;ls&quot;);\n        pb.redirectErrorStream(true);\n        System.out.println(&quot;&gt;&gt; Start process&quot;);\n        Process p = pb.start();\n        Queue&lt;String&gt; stdout = new LinkedList&lt;&gt;();\n        Thread thread = new Thread(new SPQ(p.getInputStream(), stdout));\n        System.out.println(&quot;&gt;&gt; Start thread&quot;);\n        thread.start();\n        System.out.println(&quot;&gt;&gt; Waiting for process to exit&quot;);\n        p.waitFor();\n        thread.join();\n        System.out.println(&quot;&lt;&lt; Process has exited&quot;);\n        System.out.println(stdout);\n    }\n\n    class SPQ implements Runnable {\n        private Queue&lt;String&gt; queue;\n        private InputStream istrm;\n\n        public SPQ(InputStream istrm, Queue&lt;String&gt; queue) {\n            this.istrm = istrm;\n            this.queue = queue;\n        }\n\n        public void run() {\n            System.out.println(&quot;&gt;&gt; Started reading stream&quot;);\n            try {\n                final byte[] buffer = new byte[1024];\n                for (int length = 0; (length = istrm.read(buffer)) != -1;) {\n                    queue.add(new String(buffer, 0, length)); // store output in queue\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            System.out.println(&quot;&lt;&lt; Done reading stream&quot;);\n        }\n    }\n}\n</code></pre>\n<p><em>Please note - I'm not running Windows so I can't test <code>Powershell</code> and I've done the minimal example I can think of, so I'm not writing content to the stream, but conceptually, this fixed the issue you seem to be having</em></p>\n"}],"owner":{"account_id":25110129,"reputation":3,"user_id":18959884,"display_name":"ZythiQ"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72022939,"answer_count":1,"score":-1,"last_activity_date":1651030843,"creation_date":1651025559,"question_id":72022519,"body_markdown":"I&#39;m opening a PowerShell instance and sending it commands via System.in, and I want to collect the output into a queue so I can print the result while not interfering with typing in commands. However, the queue is not filling on the main thread, and sleeping on the main only fixes the issue slightly. I imagine the issue is with not synchronizing the queues, but I&#39;m not sure how.\r\n```\r\npackage PWST;\r\n\r\nimport java.io.PrintWriter;\r\nimport java.util.LinkedList;\r\nimport java.util.Queue;\r\nimport java.util.Scanner;\r\n\r\npublic class PWST {\r\n    public static void main(String[] args) {\r\n        try {\r\n            Scanner in = new Scanner(System.in);\r\n            System.out.print(&quot;\\033[H\\033[2J &gt; &quot;); // clear console.\r\n            String[] tokens = in.nextLine().split(&quot;,&quot;);\r\n\r\n            Queue&lt;String&gt; stdout = new LinkedList&lt;&gt;();\r\n            Queue&lt;String&gt; stderr = new LinkedList&lt;&gt;();\r\n\r\n            Process process = Runtime.getRuntime().exec(&quot;powershell.exe&quot;);\r\n            new Thread(new SPQ(process.getInputStream(), stdout)).start();\r\n            new Thread(new SPQ(process.getErrorStream(), stderr)).start();\r\n            PrintWriter out = new PrintWriter(process.getOutputStream());\r\n                \r\n            for (String token : tokens) // parse commands (will be expanded to continuously ask for input)\r\n                out.println(token.strip());\r\n\r\n            // print powershell output after:\r\n            System.out.println(stdout);\r\n            System.out.println(stderr);\r\n\r\n            in.close();\r\n            out.close();\r\n            process.waitFor();\r\n            System.out.println(&quot;Shell link closed&quot;);\r\n            \r\n        } catch (Exception e) { e.printStackTrace(); }\r\n    }\r\n}\r\n```\r\n```\r\npackage PWST;\r\n\r\nimport java.io.InputStream;\r\nimport java.util.Queue;\r\n\r\nclass SPQ implements Runnable {\r\n    private Queue&lt;String&gt; queue;\r\n    private InputStream istrm;\r\n\r\n    public SPQ(InputStream istrm, Queue&lt;String&gt; queue) {\r\n        this.istrm = istrm;\r\n        this.queue = queue;\r\n    }\r\n\r\n    public void run() {\r\n        try {\r\n            final byte[] buffer = new byte[1024];\r\n            for (int length = 0; (length = istrm.read(buffer)) != -1; )\r\n                queue.add(new String(buffer, 0, length)); // store output in queue\r\n                \r\n        } catch (Exception e) { e.printStackTrace(); }\r\n    }\r\n}\r\n```","title":"Why isn&#39;t the queue updating on the main thread?","body":"<p>I'm opening a PowerShell instance and sending it commands via System.in, and I want to collect the output into a queue so I can print the result while not interfering with typing in commands. However, the queue is not filling on the main thread, and sleeping on the main only fixes the issue slightly. I imagine the issue is with not synchronizing the queues, but I'm not sure how.</p>\n<pre><code>package PWST;\n\nimport java.io.PrintWriter;\nimport java.util.LinkedList;\nimport java.util.Queue;\nimport java.util.Scanner;\n\npublic class PWST {\n    public static void main(String[] args) {\n        try {\n            Scanner in = new Scanner(System.in);\n            System.out.print(&quot;\\033[H\\033[2J &gt; &quot;); // clear console.\n            String[] tokens = in.nextLine().split(&quot;,&quot;);\n\n            Queue&lt;String&gt; stdout = new LinkedList&lt;&gt;();\n            Queue&lt;String&gt; stderr = new LinkedList&lt;&gt;();\n\n            Process process = Runtime.getRuntime().exec(&quot;powershell.exe&quot;);\n            new Thread(new SPQ(process.getInputStream(), stdout)).start();\n            new Thread(new SPQ(process.getErrorStream(), stderr)).start();\n            PrintWriter out = new PrintWriter(process.getOutputStream());\n                \n            for (String token : tokens) // parse commands (will be expanded to continuously ask for input)\n                out.println(token.strip());\n\n            // print powershell output after:\n            System.out.println(stdout);\n            System.out.println(stderr);\n\n            in.close();\n            out.close();\n            process.waitFor();\n            System.out.println(&quot;Shell link closed&quot;);\n            \n        } catch (Exception e) { e.printStackTrace(); }\n    }\n}\n</code></pre>\n<pre><code>package PWST;\n\nimport java.io.InputStream;\nimport java.util.Queue;\n\nclass SPQ implements Runnable {\n    private Queue&lt;String&gt; queue;\n    private InputStream istrm;\n\n    public SPQ(InputStream istrm, Queue&lt;String&gt; queue) {\n        this.istrm = istrm;\n        this.queue = queue;\n    }\n\n    public void run() {\n        try {\n            final byte[] buffer = new byte[1024];\n            for (int length = 0; (length = istrm.read(buffer)) != -1; )\n                queue.add(new String(buffer, 0, length)); // store output in queue\n                \n        } catch (Exception e) { e.printStackTrace(); }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","compilation"],"comments":[{"owner":{"account_id":11785653,"reputation":143,"user_id":8623507,"display_name":"Alyosha_Karamazov"},"score":0,"creation_date":1562907864,"post_id":48162522,"comment_id":100534093,"body_markdown":"Please let me know if you found a more efficient solution than the one provided below.","body":"Please let me know if you found a more efficient solution than the one provided below."}],"answers":[{"tags":[],"owner":{"account_id":11785653,"reputation":143,"user_id":8623507,"display_name":"Alyosha_Karamazov"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1562958895,"creation_date":1562907806,"answer_id":57000456,"question_id":48162522,"body_markdown":"I had a similar java compilation issue with version (1.8.0_152-release) but mine dealt with assertion errors on **Lambda** method conversions. Reverting to java version 1.7  for compilation worked for me. You can update the Target / Source compatibility in the (Module) **build.gradle** like so,\r\n    \r\n    compileOptions {\r\n        sourceCompatibility = 1.7\r\n        targetCompatibility = 1.7\r\n    }\r\n\r\nOR by clicking on your **File** tab on android studio --&gt; then **Project Structure** and find 1.7 under the Source / Target Compatibility drop-down menu\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mU7tW.png","title":"Android Studio: An exception has occurred in the compiler (1.8.0_152-release)","body":"<p>I had a similar java compilation issue with version (1.8.0_152-release) but mine dealt with assertion errors on <strong>Lambda</strong> method conversions. Reverting to java version 1.7  for compilation worked for me. You can update the Target / Source compatibility in the (Module) <strong>build.gradle</strong> like so,</p>\n\n<pre><code>compileOptions {\n    sourceCompatibility = 1.7\n    targetCompatibility = 1.7\n}\n</code></pre>\n\n<p>OR by clicking on your <strong>File</strong> tab on android studio --> then <strong>Project Structure</strong> and find 1.7 under the Source / Target Compatibility drop-down menu</p>\n\n<p><a href=\"https://i.stack.imgur.com/mU7tW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mU7tW.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":12353791,"reputation":132,"user_id":9011107,"display_name":"Mohammed Alanany"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641737335,"creation_date":1641706002,"answer_id":70638679,"question_id":48162522,"body_markdown":"```\r\nandroid {\r\n    compileSdkVersion 30\r\n}\r\n```","title":"Android Studio: An exception has occurred in the compiler (1.8.0_152-release)","body":"<pre><code>android {\n    compileSdkVersion 30\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3582712,"reputation":850,"user_id":5714136,"display_name":"galian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651029378,"creation_date":1651029378,"answer_id":72022856,"question_id":48162522,"body_markdown":"I met the same issue and my solution is changing jvmTarget to Java 11  \r\n\r\n```java\r\n  android {\r\n    kotlinOptions {\r\n        //jvmTarget = &#39;1.8&#39;\r\n        jvmTarget = JavaVersion.VERSION_11\r\n    }\r\n  }    \r\n```\r\n","title":"Android Studio: An exception has occurred in the compiler (1.8.0_152-release)","body":"<p>I met the same issue and my solution is changing jvmTarget to Java 11</p>\n<pre class=\"lang-java prettyprint-override\"><code>  android {\n    kotlinOptions {\n        //jvmTarget = '1.8'\n        jvmTarget = JavaVersion.VERSION_11\n    }\n  }    \n</code></pre>\n"}],"owner":{"account_id":1644925,"reputation":81,"user_id":1516618,"display_name":"sankaryg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22368,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1651029378,"creation_date":1515479355,"question_id":48162522,"body_markdown":"While running app, unable to complete compilation. \r\nKeep throwing error.\r\n\r\nI am using dagger2 library for annotation. \r\n\r\n&gt; Error:15:04:36.466 [ERROR] [system.err] An exception has occurred in the compiler (1.8.0_152-release). Please file a bug against the\r\n&gt; Java compiler via the Java bug reporting page\r\n&gt; (http://bugreport.java.com) after checking the Bug Database\r\n&gt; (http://bugs.java.com) for duplicates. Include your program and the\r\n&gt; following diagnostic in your report. Thank you. 15:04:36.466 [ERROR]\r\n&gt; [system.err] java.lang.NullPointerException 15:04:36.466 [ERROR]\r\n&gt; [system.err] \tat\r\n&gt; com.sun.tools.javac.comp.Check$1AnnotationValidator.visitAnnotation(Check.java:2657)\r\n&gt; 15:04:36.467 [ERROR] [system.err] \tat\r\n&gt; com.sun.tools.javac.tree.JCTree$JCAnnotation.accept(JCTree.java:2317)\r\n&gt; 15:04:36.467 [ERROR] [system.err] \tat\r\n&gt; com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\r\n&gt; 15:04:36.467 [ERROR] [system.err] \tat\r\n&gt; com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:57)\r\n&gt; 15:04:36.467 [ERROR] [system.err] \tat\r\n&gt; com.sun.tools.javac.tree.TreeScanner.visitAnnotation(TreeScanner.java:320)\r\n&gt; 15:04:36.467 [ERROR] [system.err] \tat\r\n&gt; com.sun.tools.javac.comp.Check$1AnnotationValidator.visitAnnotation(Check.java:2658)\r\n&gt; 15:04:36.467 [ERROR] [system.err] \tat\r\n&gt; com.sun.tools.javac.tree.JCTree$JCAnnotation.accept(JCTree.java:2317)\r\n&gt; 15:04:36.467 [ERROR] [system.err] \tat\r\n&gt; com.sun.tools.javac.comp.Check.validateAnnotationTree(Check.java:2663)\r\n&gt; 15:04:36.467 [ERROR] [system.err] \tat\r\n&gt; com.sun.tools.javac.comp.Check.validateAnnotation(Check.java:2730)\r\n&gt; 15:04:36.467 [ERROR] [system.err] \tat\r\n&gt; com.sun.tools.javac.comp.Check.validateAnnotations(Check.java:2717)\r\n&gt; 15:04:36.467 [ERROR] [system.err] \tat\r\n&gt; com.sun.tools.javac.comp.MemberEnter$6.run(MemberEnter.java:891)\r\n&gt; 15:04:36.467 [ERROR] [system.err] \tat\r\n&gt; com.sun.tools.javac.comp.Annotate.flush(Annotate.java:155)\r\n&gt; 15:04:36.467 [ERROR] [system.err] \tat\r\n&gt; com.sun.tools.javac.comp.Annotate.enterDone(Annotate.java:129)\r\n&gt; 15:04:36.467 [ERROR] [system.err] \tat\r\n&gt; com.sun.tools.javac.comp.Enter.complete(Enter.java:512) 15:04:36.467\r\n&gt; [ERROR] [system.err] \tat\r\n&gt; com.sun.tools.javac.comp.Enter.main(Enter.java:471) 15:04:36.467\r\n&gt; [ERROR] [system.err] \tat\r\n&gt; com.sun.tools.javac.main.JavaCompiler.enterTrees(JavaCompiler.java:982)\r\n&gt; 15:04:36.467 [ERROR] [system.err] \tat\r\n&gt; com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:857)\r\n&gt; 15:04:36.467 [ERROR] [system.err] \tat\r\n&gt; com.sun.tools.javac.main.Main.compile(Main.java:523) 15:04:36.468\r\n&gt; [ERROR] [system.err] \tat\r\n&gt; com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:129)\r\n&gt; 15:04:36.468 [ERROR] [system.err] \tat\r\n&gt; com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:138)\r\n&gt; 15:04:36.468 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:49)\r\n&gt; 15:04:36.468 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:36)\r\n&gt; 15:04:36.468 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.delegateAndHandleErrors(NormalizingJavaCompiler.java:99)\r\n&gt; 15:04:36.468 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:52)\r\n&gt; 15:04:36.468 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:37)\r\n&gt; 15:04:36.468 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:35)\r\n&gt; 15:04:36.468 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:25)\r\n&gt; 15:04:36.469 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.tasks.compile.JavaCompile.performCompilation(JavaCompile.java:198)\r\n&gt; 15:04:36.469 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:183)\r\n&gt; 15:04:36.469 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:120)\r\n&gt; 15:04:36.469 [ERROR] [system.err] \tat\r\n&gt; com.android.build.gradle.tasks.factory.AndroidJavaCompile.compile(AndroidJavaCompile.java:95)\r\n&gt; 15:04:36.469 [ERROR] [system.err] \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n&gt; 15:04:36.476 [ERROR] [system.err] \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; 15:04:36.476 [ERROR] [system.err] \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; 15:04:36.476 [ERROR] [system.err] \tat\r\n&gt; java.lang.reflect.Method.invoke(Method.java:498) 15:04:36.476 [ERROR]\r\n&gt; [system.err] \tat\r\n&gt; org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\r\n&gt; 15:04:36.476 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$IncrementalTaskAction.doExecute(DefaultTaskClassInfoStore.java:173)\r\n&gt; 15:04:36.476 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:134)\r\n&gt; 15:04:36.476 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:121)\r\n&gt; 15:04:36.476 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:122)\r\n&gt; 15:04:36.487 [ERROR] [system.err] \tat\r\n&gt; org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n&gt; 15:04:36.487 [ERROR] [system.err] \tat\r\n&gt; org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n&gt; 15:04:36.487 [ERROR] [system.err] \tat\r\n&gt; org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\r\n&gt; 15:04:36.487 [ERROR] [system.err] \tat\r\n&gt; org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\r\n&gt; 15:04:36.487 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:111)\r\n&gt; 15:04:36.487 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\r\n&gt; 15:04:36.487 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\r\n&gt; 15:04:36.497 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:63)\r\n&gt; 15:04:36.497 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\r\n&gt; 15:04:36.497 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\r\n&gt; 15:04:36.497 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\r\n&gt; 15:04:36.497 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\r\n&gt; 15:04:36.497 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\r\n&gt; 15:04:36.497 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\r\n&gt; 15:04:36.497 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n&gt; 15:04:36.497 [ERROR] [system.err] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\r\n&gt; 15:04:36.497 [ERROR] [system.err] \tat\r\n&gt; org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\r\n&gt; 15:04:36.497 [ERROR] [system.err] \tat\r\n&gt; org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n&gt; 15:04:36.497 [ERROR] [system.err] \tat\r\n&gt; org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n&gt; 15:04:36.498 [ERROR] [system.err] \tat\r\n&gt; org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\r\n&gt; 15:04:36.526 [ERROR] [system.err] \tat\r\n&gt; org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\r\n&gt; 15:04:36.527 [ERROR] [system.err] \tat\r\n&gt; org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\r\n&gt; 15:04:36.527 [ERROR] [system.err] \tat\r\n&gt; org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\r\n&gt; 15:04:36.527 [ERROR] [system.err] \tat\r\n&gt; org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:124)\r\n&gt; 15:04:36.527 [ERROR] [system.err] \tat\r\n&gt; org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:80)\r\n&gt; 15:04:36.527 [ERROR] [system.err] \tat\r\n&gt; org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:105)\r\n&gt; 15:04:36.527 [ERROR] [system.err] \tat\r\n&gt; org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:99)\r\n&gt; 15:04:36.527 [ERROR] [system.err] \tat\r\n&gt; org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:625)\r\n&gt; 15:04:36.527 [ERROR] [system.err] \tat\r\n&gt; org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:580)\r\n&gt; 15:04:36.527 [ERROR] [system.err] \tat\r\n&gt; org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:99)\r\n&gt; 15:04:36.527 [ERROR] [system.err] \tat\r\n&gt; org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n&gt; 15:04:36.527 [ERROR] [system.err] \tat\r\n&gt; org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n&gt; 15:04:36.527 [ERROR] [system.err] \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n&gt; 15:04:36.527 [ERROR] [system.err] \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n&gt; 15:04:36.527 [ERROR] [system.err] \tat\r\n&gt; org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n&gt; 15:04:36.527 [ERROR] [system.err] \tat\r\n&gt; java.lang.Thread.run(Thread.java:745) 15:04:36.815 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter]  15:04:36.815\r\n&gt; [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]\r\n&gt; FAILURE: Build failed with an exception. 15:04:36.815 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter]  15:04:36.815\r\n&gt; [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] *\r\n&gt; What went wrong: 15:04:36.815 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] Execution\r\n&gt; failed for task &#39;:app:compileDebugJavaWithJavac&#39;. 15:04:36.815 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; Compilation\r\n&gt; failed; see the compiler error output for details. 15:04:36.815\r\n&gt; [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \r\n&gt; 15:04:36.815 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] * Exception\r\n&gt; is: 15:04:36.815 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter]\r\n&gt; org.gradle.api.tasks.TaskExecutionException: Execution failed for task\r\n&gt; &#39;:app:compileDebugJavaWithJavac&#39;. 15:04:36.815 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\r\n&gt; 15:04:36.815 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:63)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:124)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:80)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:105)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:99)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:625)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:580)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:99)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n&gt; 15:04:36.816 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n&gt; 15:04:36.817 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n&gt; 15:04:36.817 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] Caused by:\r\n&gt; org.gradle.api.internal.tasks.compile.CompilationFailedException:\r\n&gt; Compilation failed; see the compiler error output for details.\r\n&gt; 15:04:36.817 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:51)\r\n&gt; 15:04:36.817 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:36)\r\n&gt; 15:04:36.817 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.delegateAndHandleErrors(NormalizingJavaCompiler.java:99)\r\n&gt; 15:04:36.817 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:52)\r\n&gt; 15:04:36.817 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:37)\r\n&gt; 15:04:36.817 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:35)\r\n&gt; 15:04:36.817 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:25)\r\n&gt; 15:04:36.817 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.tasks.compile.JavaCompile.performCompilation(JavaCompile.java:198)\r\n&gt; 15:04:36.817 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:183)\r\n&gt; 15:04:36.817 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:120)\r\n&gt; 15:04:36.817 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; com.android.build.gradle.tasks.factory.AndroidJavaCompile.compile(AndroidJavaCompile.java:95)\r\n&gt; 15:04:36.817 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\r\n&gt; 15:04:36.817 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$IncrementalTaskAction.doExecute(DefaultTaskClassInfoStore.java:173)\r\n&gt; 15:04:36.817 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:134)\r\n&gt; 15:04:36.817 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:121)\r\n&gt; 15:04:36.817 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:122)\r\n&gt; 15:04:36.817 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n&gt; 15:04:36.818 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n&gt; 15:04:36.818 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\r\n&gt; 15:04:36.818 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\r\n&gt; 15:04:36.818 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:111)\r\n&gt; 15:04:36.818 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \tat\r\n&gt; org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\r\n&gt; 15:04:36.818 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] \t... 27 more\r\n&gt; 15:04:36.818 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter]  15:04:36.818\r\n&gt; [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \r\n&gt; 15:04:36.818 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildExceptionReporter] * Get more\r\n&gt; help at https://help.gradle.org 15:04:36.818 [ERROR]\r\n&gt; [org.gradle.internal.buildevents.BuildResultLogger]  15:04:36.819\r\n&gt; [ERROR] [org.gradle.internal.buildevents.BuildResultLogger] BUILD\r\n&gt; FAILED in 5s\r\n\r\n","title":"Android Studio: An exception has occurred in the compiler (1.8.0_152-release)","body":"<p>While running app, unable to complete compilation. \nKeep throwing error.</p>\n\n<p>I am using dagger2 library for annotation. </p>\n\n<blockquote>\n  <p>Error:15:04:36.466 [ERROR] [system.err] An exception has occurred in the compiler (1.8.0_152-release). Please file a bug against the\n  Java compiler via the Java bug reporting page\n  (<a href=\"http://bugreport.java.com\" rel=\"noreferrer\">http://bugreport.java.com</a>) after checking the Bug Database\n  (<a href=\"http://bugs.java.com\" rel=\"noreferrer\">http://bugs.java.com</a>) for duplicates. Include your program and the\n  following diagnostic in your report. Thank you. 15:04:36.466 [ERROR]\n  [system.err] java.lang.NullPointerException 15:04:36.466 [ERROR]\n  [system.err]  at\n  com.sun.tools.javac.comp.Check$1AnnotationValidator.visitAnnotation(Check.java:2657)\n  15:04:36.467 [ERROR] [system.err]     at\n  com.sun.tools.javac.tree.JCTree$JCAnnotation.accept(JCTree.java:2317)\n  15:04:36.467 [ERROR] [system.err]     at\n  com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\n  15:04:36.467 [ERROR] [system.err]     at\n  com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:57)\n  15:04:36.467 [ERROR] [system.err]     at\n  com.sun.tools.javac.tree.TreeScanner.visitAnnotation(TreeScanner.java:320)\n  15:04:36.467 [ERROR] [system.err]     at\n  com.sun.tools.javac.comp.Check$1AnnotationValidator.visitAnnotation(Check.java:2658)\n  15:04:36.467 [ERROR] [system.err]     at\n  com.sun.tools.javac.tree.JCTree$JCAnnotation.accept(JCTree.java:2317)\n  15:04:36.467 [ERROR] [system.err]     at\n  com.sun.tools.javac.comp.Check.validateAnnotationTree(Check.java:2663)\n  15:04:36.467 [ERROR] [system.err]     at\n  com.sun.tools.javac.comp.Check.validateAnnotation(Check.java:2730)\n  15:04:36.467 [ERROR] [system.err]     at\n  com.sun.tools.javac.comp.Check.validateAnnotations(Check.java:2717)\n  15:04:36.467 [ERROR] [system.err]     at\n  com.sun.tools.javac.comp.MemberEnter$6.run(MemberEnter.java:891)\n  15:04:36.467 [ERROR] [system.err]     at\n  com.sun.tools.javac.comp.Annotate.flush(Annotate.java:155)\n  15:04:36.467 [ERROR] [system.err]     at\n  com.sun.tools.javac.comp.Annotate.enterDone(Annotate.java:129)\n  15:04:36.467 [ERROR] [system.err]     at\n  com.sun.tools.javac.comp.Enter.complete(Enter.java:512) 15:04:36.467\n  [ERROR] [system.err]  at\n  com.sun.tools.javac.comp.Enter.main(Enter.java:471) 15:04:36.467\n  [ERROR] [system.err]  at\n  com.sun.tools.javac.main.JavaCompiler.enterTrees(JavaCompiler.java:982)\n  15:04:36.467 [ERROR] [system.err]     at\n  com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:857)\n  15:04:36.467 [ERROR] [system.err]     at\n  com.sun.tools.javac.main.Main.compile(Main.java:523) 15:04:36.468\n  [ERROR] [system.err]  at\n  com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:129)\n  15:04:36.468 [ERROR] [system.err]     at\n  com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:138)\n  15:04:36.468 [ERROR] [system.err]     at\n  org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:49)\n  15:04:36.468 [ERROR] [system.err]     at\n  org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:36)\n  15:04:36.468 [ERROR] [system.err]     at\n  org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.delegateAndHandleErrors(NormalizingJavaCompiler.java:99)\n  15:04:36.468 [ERROR] [system.err]     at\n  org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:52)\n  15:04:36.468 [ERROR] [system.err]     at\n  org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:37)\n  15:04:36.468 [ERROR] [system.err]     at\n  org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:35)\n  15:04:36.468 [ERROR] [system.err]     at\n  org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:25)\n  15:04:36.469 [ERROR] [system.err]     at\n  org.gradle.api.tasks.compile.JavaCompile.performCompilation(JavaCompile.java:198)\n  15:04:36.469 [ERROR] [system.err]     at\n  org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:183)\n  15:04:36.469 [ERROR] [system.err]     at\n  org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:120)\n  15:04:36.469 [ERROR] [system.err]     at\n  com.android.build.gradle.tasks.factory.AndroidJavaCompile.compile(AndroidJavaCompile.java:95)\n  15:04:36.469 [ERROR] [system.err]     at\n  sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  15:04:36.476 [ERROR] [system.err]     at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n  15:04:36.476 [ERROR] [system.err]     at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  15:04:36.476 [ERROR] [system.err]     at\n  java.lang.reflect.Method.invoke(Method.java:498) 15:04:36.476 [ERROR]\n  [system.err]  at\n  org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n  15:04:36.476 [ERROR] [system.err]     at\n  org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$IncrementalTaskAction.doExecute(DefaultTaskClassInfoStore.java:173)\n  15:04:36.476 [ERROR] [system.err]     at\n  org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:134)\n  15:04:36.476 [ERROR] [system.err]     at\n  org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:121)\n  15:04:36.476 [ERROR] [system.err]     at\n  org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:122)\n  15:04:36.487 [ERROR] [system.err]     at\n  org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n  15:04:36.487 [ERROR] [system.err]     at\n  org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n  15:04:36.487 [ERROR] [system.err]     at\n  org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n  15:04:36.487 [ERROR] [system.err]     at\n  org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n  15:04:36.487 [ERROR] [system.err]     at\n  org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:111)\n  15:04:36.487 [ERROR] [system.err]     at\n  org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\n  15:04:36.487 [ERROR] [system.err]     at\n  org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\n  15:04:36.497 [ERROR] [system.err]     at\n  org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:63)\n  15:04:36.497 [ERROR] [system.err]     at\n  org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n  15:04:36.497 [ERROR] [system.err]     at\n  org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n  15:04:36.497 [ERROR] [system.err]     at\n  org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\n  15:04:36.497 [ERROR] [system.err]     at\n  org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\n  15:04:36.497 [ERROR] [system.err]     at\n  org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n  15:04:36.497 [ERROR] [system.err]     at\n  org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n  15:04:36.497 [ERROR] [system.err]     at\n  org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n  15:04:36.497 [ERROR] [system.err]     at\n  org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n  15:04:36.497 [ERROR] [system.err]     at\n  org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\n  15:04:36.497 [ERROR] [system.err]     at\n  org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n  15:04:36.497 [ERROR] [system.err]     at\n  org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n  15:04:36.498 [ERROR] [system.err]     at\n  org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n  15:04:36.526 [ERROR] [system.err]     at\n  org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n  15:04:36.527 [ERROR] [system.err]     at\n  org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\n  15:04:36.527 [ERROR] [system.err]     at\n  org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\n  15:04:36.527 [ERROR] [system.err]     at\n  org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:124)\n  15:04:36.527 [ERROR] [system.err]     at\n  org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:80)\n  15:04:36.527 [ERROR] [system.err]     at\n  org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:105)\n  15:04:36.527 [ERROR] [system.err]     at\n  org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:99)\n  15:04:36.527 [ERROR] [system.err]     at\n  org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:625)\n  15:04:36.527 [ERROR] [system.err]     at\n  org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:580)\n  15:04:36.527 [ERROR] [system.err]     at\n  org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:99)\n  15:04:36.527 [ERROR] [system.err]     at\n  org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n  15:04:36.527 [ERROR] [system.err]     at\n  org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n  15:04:36.527 [ERROR] [system.err]     at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n  15:04:36.527 [ERROR] [system.err]     at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n  15:04:36.527 [ERROR] [system.err]     at\n  org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n  15:04:36.527 [ERROR] [system.err]     at\n  java.lang.Thread.run(Thread.java:745) 15:04:36.815 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  15:04:36.815\n  [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]\n  FAILURE: Build failed with an exception. 15:04:36.815 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  15:04:36.815\n  [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] *\n  What went wrong: 15:04:36.815 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter] Execution\n  failed for task ':app:compileDebugJavaWithJavac'. 15:04:36.815 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter] > Compilation\n  failed; see the compiler error output for details. 15:04:36.815\n  [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \n  15:04:36.815 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter] * Exception\n  is: 15:04:36.815 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]\n  org.gradle.api.tasks.TaskExecutionException: Execution failed for task\n  ':app:compileDebugJavaWithJavac'. 15:04:36.815 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\n  15:04:36.815 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:63)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:124)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:80)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:105)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:99)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:625)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:580)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:99)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n  15:04:36.816 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n  15:04:36.817 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n  15:04:36.817 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter] Caused by:\n  org.gradle.api.internal.tasks.compile.CompilationFailedException:\n  Compilation failed; see the compiler error output for details.\n  15:04:36.817 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:51)\n  15:04:36.817 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:36)\n  15:04:36.817 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.delegateAndHandleErrors(NormalizingJavaCompiler.java:99)\n  15:04:36.817 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:52)\n  15:04:36.817 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:37)\n  15:04:36.817 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:35)\n  15:04:36.817 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:25)\n  15:04:36.817 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.tasks.compile.JavaCompile.performCompilation(JavaCompile.java:198)\n  15:04:36.817 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:183)\n  15:04:36.817 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:120)\n  15:04:36.817 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  com.android.build.gradle.tasks.factory.AndroidJavaCompile.compile(AndroidJavaCompile.java:95)\n  15:04:36.817 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n  15:04:36.817 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$IncrementalTaskAction.doExecute(DefaultTaskClassInfoStore.java:173)\n  15:04:36.817 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:134)\n  15:04:36.817 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:121)\n  15:04:36.817 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:122)\n  15:04:36.817 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n  15:04:36.818 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n  15:04:36.818 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n  15:04:36.818 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n  15:04:36.818 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:111)\n  15:04:36.818 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  at\n  org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\n  15:04:36.818 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  ... 27 more\n  15:04:36.818 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter]  15:04:36.818\n  [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \n  15:04:36.818 [ERROR]\n  [org.gradle.internal.buildevents.BuildExceptionReporter] * Get more\n  help at <a href=\"https://help.gradle.org\" rel=\"noreferrer\">https://help.gradle.org</a> 15:04:36.818 [ERROR]\n  [org.gradle.internal.buildevents.BuildResultLogger]  15:04:36.819\n  [ERROR] [org.gradle.internal.buildevents.BuildResultLogger] BUILD\n  FAILED in 5s</p>\n</blockquote>\n"},{"tags":["java","eclipse-collections"],"answers":[{"tags":[],"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1526519385,"creation_date":1526519385,"answer_id":50381950,"question_id":50381771,"body_markdown":"Eclipse Collections was previously a GS-Collections (Goldman-Sachs), so yes, it is used in production. You can check out their github, before the migration to Eclipse foundation - https://github.com/goldmansachs/gs-collections.\r\n\r\nI heard good opinions about Eclipse Collections, that it&#39;s performing really well memory-wise and the API is well-designed and good to use from client&#39;s perspective. Tried it myself, definitely agree about the API, not sure about memory aspects since my project is not so memory-critical and was doing fine with Java standard collections. It&#39;s still fine after migration to Eclipse Collections, so from my experience they are at least as good as Java collections. The huge advantage over Java collections are the Primitive Collections (name says it all I guess), so before Java 10 this is definitely a major thing in favor of Eclipse Collections.","title":"Eclipse Collection usages on production code","body":"<p>Eclipse Collections was previously a GS-Collections (Goldman-Sachs), so yes, it is used in production. You can check out their github, before the migration to Eclipse foundation - <a href=\"https://github.com/goldmansachs/gs-collections\" rel=\"nofollow noreferrer\">https://github.com/goldmansachs/gs-collections</a>.</p>\n\n<p>I heard good opinions about Eclipse Collections, that it's performing really well memory-wise and the API is well-designed and good to use from client's perspective. Tried it myself, definitely agree about the API, not sure about memory aspects since my project is not so memory-critical and was doing fine with Java standard collections. It's still fine after migration to Eclipse Collections, so from my experience they are at least as good as Java collections. The huge advantage over Java collections are the Primitive Collections (name says it all I guess), so before Java 10 this is definitely a major thing in favor of Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651029168,"creation_date":1651029168,"answer_id":72022837,"question_id":50381771,"body_markdown":"[Eclipse Collections][1] is used in other open source projects including [Neo4J][2], [MapDB][3], [Reladomo][4] and [FINOS Legend][5]. Any applications that use these projects in production are using Eclipse Collections in production.\r\n\r\nEclipse Collections is an active participant in the [OpenJDK Quality Outreach program][6], and [shares feedback on issues it discovers][7] with the Core JDK team at Oracle on EA versions of Java it is tested against.\r\n\r\n**Note**: I am the creator of Eclipse Collections, so am biased. I have used Eclipse Collections and its predecessors ([GS Collections and Caramel][9]) in many production applications for the past 18 years. It has been developed in open source on GitHub for over a decade now. I am still an active Project Lead and Committer on the project, and the project is open to the community for contributions at the [Eclipse Foundation][10]. After 18 years, my experience continues to be overwhelmingly positive. I continue to work on and use Eclipse Collections in production applications at my current employer. I also blog about [Eclipse Collections on Medium][11], along with a few other contributors.\r\n\r\n\r\n  [1]: https://github.com/eclipse/eclipse-collections\r\n  [2]: https://github.com/neo4j/neo4j\r\n  [3]: https://github.com/jankotek/mapdb\r\n  [4]: https://github.com/goldmansachs/reladomo\r\n  [5]: https://github.com/finos/legend-pure\r\n  [6]: https://wiki.openjdk.java.net/display/quality/Quality+Outreach\r\n  [7]: https://stuartmarks.wordpress.com/2020/09/22/incompatibilities-with-jdk-15-charsequence-isempty/\r\n  [8]: https://www.eclipse.org/collections/\r\n  [9]: https://www.infoq.com/news/2016/01/GS-Collections-Eclipse-Foundn/\r\n  [10]: https://projects.eclipse.org/projects/technology.collections\r\n  [11]: https://medium.com/tag/eclipse-collections","title":"Eclipse Collection usages on production code","body":"<p><a href=\"https://github.com/eclipse/eclipse-collections\" rel=\"nofollow noreferrer\">Eclipse Collections</a> is used in other open source projects including <a href=\"https://github.com/neo4j/neo4j\" rel=\"nofollow noreferrer\">Neo4J</a>, <a href=\"https://github.com/jankotek/mapdb\" rel=\"nofollow noreferrer\">MapDB</a>, <a href=\"https://github.com/goldmansachs/reladomo\" rel=\"nofollow noreferrer\">Reladomo</a> and <a href=\"https://github.com/finos/legend-pure\" rel=\"nofollow noreferrer\">FINOS Legend</a>. Any applications that use these projects in production are using Eclipse Collections in production.</p>\n<p>Eclipse Collections is an active participant in the <a href=\"https://wiki.openjdk.java.net/display/quality/Quality+Outreach\" rel=\"nofollow noreferrer\">OpenJDK Quality Outreach program</a>, and <a href=\"https://stuartmarks.wordpress.com/2020/09/22/incompatibilities-with-jdk-15-charsequence-isempty/\" rel=\"nofollow noreferrer\">shares feedback on issues it discovers</a> with the Core JDK team at Oracle on EA versions of Java it is tested against.</p>\n<p><strong>Note</strong>: I am the creator of Eclipse Collections, so am biased. I have used Eclipse Collections and its predecessors (<a href=\"https://www.infoq.com/news/2016/01/GS-Collections-Eclipse-Foundn/\" rel=\"nofollow noreferrer\">GS Collections and Caramel</a>) in many production applications for the past 18 years. It has been developed in open source on GitHub for over a decade now. I am still an active Project Lead and Committer on the project, and the project is open to the community for contributions at the <a href=\"https://projects.eclipse.org/projects/technology.collections\" rel=\"nofollow noreferrer\">Eclipse Foundation</a>. After 18 years, my experience continues to be overwhelmingly positive. I continue to work on and use Eclipse Collections in production applications at my current employer. I also blog about <a href=\"https://medium.com/tag/eclipse-collections\" rel=\"nofollow noreferrer\">Eclipse Collections on Medium</a>, along with a few other contributors.</p>\n"}],"owner":{"account_id":4020329,"reputation":405,"user_id":3310917,"accept_rate":80,"display_name":"user3310917"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1651029168,"creation_date":1526517570,"question_id":50381771,"body_markdown":"https://www.eclipse.org/collections/ seems to be getting popular now a days. Just wonder, if anybody has used this library in their production code and how is the overall experience.\r\n\r\n","title":"Eclipse Collection usages on production code","body":"<p><a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">https://www.eclipse.org/collections/</a> seems to be getting popular now a days. Just wonder, if anybody has used this library in their production code and how is the overall experience.</p>\n"},{"tags":["java","pdfbox","digital-signature"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1651036593,"post_id":72022820,"comment_id":127263361,"body_markdown":"Have you used the example CreateVisibleSignature2.java as is or did you apply any changes? That example usually works... nonetheless, you should try the latest 2.x version, 3.0.0-RC1 is merely a release *candidate*, so there may be issues. (And yes, there also are other open source signing options, but if PDFBox fails in your environment, those other options may fail as well, so you had better get the PDFBox example working for you before testing the other options. )","body":"Have you used the example CreateVisibleSignature2.java as is or did you apply any changes? That example usually works... nonetheless, you should try the latest 2.x version, 3.0.0-RC1 is merely a release <i>candidate</i>, so there may be issues. (And yes, there also are other open source signing options, but if PDFBox fails in your environment, those other options may fail as well, so you had better get the PDFBox example working for you before testing the other options. )"},{"owner":{"account_id":25110647,"reputation":1,"user_id":18960331,"display_name":"Mayur"},"score":0,"creation_date":1651041551,"post_id":72022820,"comment_id":127264490,"body_markdown":"I tried with pdfbox-2.0.3 version but issue not resolved. In CreateVisibleSignature2.java program i had add the code for pfx file and commented tsaUrl code.","body":"I tried with pdfbox-2.0.3 version but issue not resolved. In CreateVisibleSignature2.java program i had add the code for pfx file and commented tsaUrl code."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1651043222,"post_id":72022820,"comment_id":127264985,"body_markdown":"The *latest 2.x* is not 2.0.3 but 2.0.26. And in that version `CreateVisibleSignature2` is known to work. If it doesn&#39;t for you, you do something wrong. Without further details, we cannot help further.","body":"The <i>latest 2.x</i> is not 2.0.3 but 2.0.26. And in that version <code>CreateVisibleSignature2</code> is known to work. If it doesn&#39;t for you, you do something wrong. Without further details, we cannot help further."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1651046199,"post_id":72022820,"comment_id":127266021,"body_markdown":"Also make sure to use the latest bouncycastle version, 1.70.","body":"Also make sure to use the latest bouncycastle version, 1.70."}],"owner":{"account_id":25110647,"reputation":1,"user_id":18960331,"display_name":"Mayur"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651028970,"creation_date":1651028970,"question_id":72022820,"body_markdown":" I had integrate digital signature in existing pdf file using .pfx file and  used PDFBOX (java) for this task. For that i had refereed the CreateVisibleSignature2.java example and pdf was successfully generated. but when we open pdf file then it shows Error like &#39;**Invalid Signature**&#39;. \r\npfx file is working fine while i sign document manually in Acrobat Reader, but the file which generated using program are unable to verify signature.\r\ni have use PDFBOX-3.0.0.-RC1 jar. [Error while opening pdf file][1] \r\n\r\nis there any other open source/free utility available for digital signature in java ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CCbrD.png","title":"Digital Signature Verification Error (Signature is invalid)","body":"<p>I had integrate digital signature in existing pdf file using .pfx file and  used PDFBOX (java) for this task. For that i had refereed the CreateVisibleSignature2.java example and pdf was successfully generated. but when we open pdf file then it shows Error like '<strong>Invalid Signature</strong>'.\npfx file is working fine while i sign document manually in Acrobat Reader, but the file which generated using program are unable to verify signature.\ni have use PDFBOX-3.0.0.-RC1 jar. <a href=\"https://i.stack.imgur.com/CCbrD.png\" rel=\"nofollow noreferrer\">Error while opening pdf file</a></p>\n<p>is there any other open source/free utility available for digital signature in java ?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","httprequest"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1651044374,"post_id":72022810,"comment_id":127265387,"body_markdown":"That code is just wrong, that is **not** how you would get the username or password from a map. What you now have is the `toString` representation of a `Set`. Why aren&#39;t you just sending parameters like everyone else, or even better use Basic or Digest Authentication for http. And finally instead of building your own, I would strongly suggest to ditch all of that and use Spring Security instead.","body":"That code is just wrong, that is <b>not</b> how you would get the username or password from a map. What you now have is the <code>toString</code> representation of a <code>Set</code>. Why aren&#39;t you just sending parameters like everyone else, or even better use Basic or Digest Authentication for http. And finally instead of building your own, I would strongly suggest to ditch all of that and use Spring Security instead."},{"owner":{"account_id":25110697,"reputation":1,"user_id":18960372,"display_name":"Ultima_Thule"},"score":0,"creation_date":1651060268,"post_id":72022810,"comment_id":127271308,"body_markdown":"So how do I get the string values from a map?","body":"So how do I get the string values from a map?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1651069641,"post_id":72022810,"comment_id":127275227,"body_markdown":"a Map is a key/value pair. You should just submit a regular request parameter which has a name and a value and send 2. But as stated you are building your own security solution, don&#39;t use something proven like Spring Security, Apache Shiro etc. Also if this is for a university project, don&#39;t store passwords, store hashes and validate against the hash. Send 2 parameters username and password not both like that or just use Basic Authentication which is a default mechanism to send username/password in HTTP. Either way don&#39;t reinvent the wheel.","body":"a Map is a key/value pair. You should just submit a regular request parameter which has a name and a value and send 2. But as stated you are building your own security solution, don&#39;t use something proven like Spring Security, Apache Shiro etc. Also if this is for a university project, don&#39;t store passwords, store hashes and validate against the hash. Send 2 parameters username and password not both like that or just use Basic Authentication which is a default mechanism to send username/password in HTTP. Either way don&#39;t reinvent the wheel."}],"owner":{"account_id":25110697,"reputation":1,"user_id":18960372,"display_name":"Ultima_Thule"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651028841,"creation_date":1651028841,"question_id":72022810,"body_markdown":"So I&#39;m a pretty unexperienced programmer and doing a project for my university java course.\r\nBasic Login program where login data is stored in a mysql database on the server and accessed through HttpRequests from the client.\r\nI&#39;m trying to send a HashMap through a HttpRequest\r\n\r\n    public static boolean checkPassword(String username, String password, String url) {\r\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n        map.put(password, username);\r\n        boolean check = false;\r\n\r\n        try {\r\n            HttpClient client = HttpClient.newHttpClient();\r\n            HttpRequest request = HttpRequest.newBuilder()\r\n                    .uri(URI.create(&quot;http://localhost:8080&quot;+url+map))\r\n                    .build();\r\n\r\n            HttpResponse response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n\r\n            if (response.statusCode() == 200) {\r\n                if (response.body().toString().equals(&quot;true&quot;)) {\r\n                    check = true;\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return check;\r\n    }\r\n\r\nMy RestController method looks like this\r\n\r\n    @GetMapping(path = &quot;users/findPasswordByUsername&quot;, produces =  MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;String&gt; findExistingPasswordByUsername(@RequestParam(required = false) Map&lt;String, String&gt; map) {\r\n        String password = String.valueOf(map.keySet());\r\n        String username = String.valueOf(map.values());\r\n        return userService.findPasswordByUsername(password, username);\r\n    }\r\nWhen trying to send the HttpRequest i get the following:\r\n\r\n    Caused by: java.net.URISyntaxException: Illegal character in path at index 51: http://localhost:8080/users/findPasswordByUsername/{test=exampleuser}\r\nAnybody got an answer on how I remove the braces around the hashmap values?","title":"Remove HashMap braces around values in Spring HttpRequest","body":"<p>So I'm a pretty unexperienced programmer and doing a project for my university java course.\nBasic Login program where login data is stored in a mysql database on the server and accessed through HttpRequests from the client.\nI'm trying to send a HashMap through a HttpRequest</p>\n<pre><code>public static boolean checkPassword(String username, String password, String url) {\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    map.put(password, username);\n    boolean check = false;\n\n    try {\n        HttpClient client = HttpClient.newHttpClient();\n        HttpRequest request = HttpRequest.newBuilder()\n                .uri(URI.create(&quot;http://localhost:8080&quot;+url+map))\n                .build();\n\n        HttpResponse response = client.send(request, HttpResponse.BodyHandlers.ofString());\n\n        if (response.statusCode() == 200) {\n            if (response.body().toString().equals(&quot;true&quot;)) {\n                check = true;\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    return check;\n}\n</code></pre>\n<p>My RestController method looks like this</p>\n<pre><code>@GetMapping(path = &quot;users/findPasswordByUsername&quot;, produces =  MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;String&gt; findExistingPasswordByUsername(@RequestParam(required = false) Map&lt;String, String&gt; map) {\n    String password = String.valueOf(map.keySet());\n    String username = String.valueOf(map.values());\n    return userService.findPasswordByUsername(password, username);\n}\n</code></pre>\n<p>When trying to send the HttpRequest i get the following:</p>\n<pre><code>Caused by: java.net.URISyntaxException: Illegal character in path at index 51: http://localhost:8080/users/findPasswordByUsername/{test=exampleuser}\n</code></pre>\n<p>Anybody got an answer on how I remove the braces around the hashmap values?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1481486983,"post_id":41090594,"comment_id":69385963,"body_markdown":"You could also use ``substring`` and ``indexOf`` using the ``#`` character.","body":"You could also use <code>substring</code> and <code>indexOf</code> using the <code>#</code> character."},{"owner":{"account_id":7372094,"reputation":900,"user_id":5611967,"accept_rate":32,"display_name":"Michael Cropper"},"score":0,"creation_date":1481487331,"post_id":41090594,"comment_id":69386057,"body_markdown":"The # may not always be present though so that would involve a bit more checking first. But possible.","body":"The # may not always be present though so that would involve a bit more checking first. But possible."},{"owner":{"account_id":6795544,"reputation":1900,"user_id":5231001,"accept_rate":75,"display_name":"n247s"},"score":0,"creation_date":1481488643,"post_id":41090594,"comment_id":69386474,"body_markdown":"Possible duplicate of [How to normalize a URL in Java?](http://stackoverflow.com/questions/2993649/how-to-normalize-a-url-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/2993649/how-to-normalize-a-url-in-java\">How to normalize a URL in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":7441223,"reputation":161,"user_id":5658960,"display_name":"Christoph Andriessens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651026304,"creation_date":1488453827,"answer_id":42554103,"question_id":41090594,"body_markdown":"Fragments do not exist as a separate entity in Java URLs. But you can convert a URL into a URI and back to remove a fragment. I did it like this:\r\n\r\n    URL url;\r\n    ...\r\n    if (url.toString().contains(&quot;#&quot;)) {\r\n      URI uri = null;\r\n      try {\r\n        uri = new URI(url.getProtocol(), url.getHost(), url.getPath(), null);\r\n        String file = &quot;&quot;;\r\n        if (uri.getPath() != null) {\r\n          file += uri.getPath();\r\n        }\r\n        if (uri.getQuery() != null) {\r\n          file += uri.getQuery();\t\t\t\t\t\t\t\t\t\t\r\n        }\r\n        url = new URL(uri.getScheme(), uri.getHost(), uri.getPort(), file);\r\n      } catch (URISyntaxException e) {\r\n        ...\r\n      } catch (MalformedURLException e) {\r\n        ...\t\t\t\t\r\n      }\r\n    }\r\n","title":"Java How to Normalise a URL and Remove Fragment","body":"<p>Fragments do not exist as a separate entity in Java URLs. But you can convert a URL into a URI and back to remove a fragment. I did it like this:</p>\n<pre><code>URL url;\n...\nif (url.toString().contains(&quot;#&quot;)) {\n  URI uri = null;\n  try {\n    uri = new URI(url.getProtocol(), url.getHost(), url.getPath(), null);\n    String file = &quot;&quot;;\n    if (uri.getPath() != null) {\n      file += uri.getPath();\n    }\n    if (uri.getQuery() != null) {\n      file += uri.getQuery();                                       \n    }\n    url = new URL(uri.getScheme(), uri.getHost(), uri.getPort(), file);\n  } catch (URISyntaxException e) {\n    ...\n  } catch (MalformedURLException e) {\n    ...             \n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2733131,"reputation":3771,"user_id":2402790,"accept_rate":0,"display_name":"Michael Allan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612265968,"creation_date":1612265968,"answer_id":66008986,"question_id":41090594,"body_markdown":"Fragment removal is fairly simple using the conversion methods `toURI` and `toURL`.  So to convert a URL to a URI:\r\n\r\n    URL url = /*what have you*/ \r\n    URI u = url.toURI();\r\n\r\nTo remove any fragment from the URI:\r\n\r\n    if( u.getFragment() != null ) { // Remake with same parts, less the fragment:\r\n        u = new URI( u.getScheme(), u.getSchemeSpecificPart(), /*fragment*/null ); }\r\n\r\nIn reconstructing a `URI` from its parts like that, its important to use the decoded getters (as shown), not the corresponding raw ones.  For authority on this usage, see e.g. the *Identity* section of the [API](https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/net/URI.html).\r\n\r\nTo convert the result back to a URL:\r\n\r\n    url = u.toURL();\r\n","title":"Java How to Normalise a URL and Remove Fragment","body":"<p>Fragment removal is fairly simple using the conversion methods <code>toURI</code> and <code>toURL</code>.  So to convert a URL to a URI:</p>\n<pre><code>URL url = /*what have you*/ \nURI u = url.toURI();\n</code></pre>\n<p>To remove any fragment from the URI:</p>\n<pre><code>if( u.getFragment() != null ) { // Remake with same parts, less the fragment:\n    u = new URI( u.getScheme(), u.getSchemeSpecificPart(), /*fragment*/null ); }\n</code></pre>\n<p>In reconstructing a <code>URI</code> from its parts like that, its important to use the decoded getters (as shown), not the corresponding raw ones.  For authority on this usage, see e.g. the <em>Identity</em> section of the <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/net/URI.html\" rel=\"nofollow noreferrer\">API</a>.</p>\n<p>To convert the result back to a URL:</p>\n<pre><code>url = u.toURL();\n</code></pre>\n"}],"owner":{"account_id":7372094,"reputation":900,"user_id":5611967,"accept_rate":32,"display_name":"Michael Cropper"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2709,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651026304,"creation_date":1481486735,"question_id":41090594,"body_markdown":"How to normalise a URL in Java to remove the fragment. I.e. from https://www.website.com#something to https://www.website.com\r\n\r\nThis is possible with the URL.Normalize code, although in this specific use case I&#39;ve only got a full absolute URL which needs to remain intact. \r\n\r\nI&#39;d like to be able to modify this code slightly to remove the fragment from the URL;\r\n\r\n    //The website below is just an example. In reality, this URL is unknown and could be anything. Both with and without a fragment depending on the use case\r\n    URL absUrl = new URL(&quot;https://www.website.com#something&quot;);\r\n\r\nMy thoughts so far is that this is only going to be possible by breaking down the URL into the Protocol + Domain + Path then joining it all back together which does appear to work, but there must be a more elegant way of doing this. ","title":"Java How to Normalise a URL and Remove Fragment","body":"<p>How to normalise a URL in Java to remove the fragment. I.e. from <a href=\"https://www.website.com#something\" rel=\"nofollow noreferrer\">https://www.website.com#something</a> to <a href=\"https://www.website.com\" rel=\"nofollow noreferrer\">https://www.website.com</a></p>\n\n<p>This is possible with the URL.Normalize code, although in this specific use case I've only got a full absolute URL which needs to remain intact. </p>\n\n<p>I'd like to be able to modify this code slightly to remove the fragment from the URL;</p>\n\n<pre><code>//The website below is just an example. In reality, this URL is unknown and could be anything. Both with and without a fragment depending on the use case\nURL absUrl = new URL(\"https://www.website.com#something\");\n</code></pre>\n\n<p>My thoughts so far is that this is only going to be possible by breaking down the URL into the Protocol + Domain + Path then joining it all back together which does appear to work, but there must be a more elegant way of doing this. </p>\n"},{"tags":["java","android","constructor","nullpointerexception"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1651017633,"post_id":72018281,"comment_id":127260527,"body_markdown":"It is not clear what your are asking. Where is it null? In this commented out line `contactNumbers=MainActivity.Contact_Numbers`? Is `Contact_Numbers` static? Where do you declare it?","body":"It is not clear what your are asking. Where is it null? In this commented out line <code>contactNumbers=MainActivity.Contact_Numbers</code>? Is <code>Contact_Numbers</code> static? Where do you declare it?"},{"owner":{"account_id":13406693,"reputation":55,"user_id":12844895,"display_name":"udbhav shrivastava"},"score":0,"creation_date":1651024946,"post_id":72018281,"comment_id":127261612,"body_markdown":"the commented out line was an incorrect attempt by me to try and get the contact_numbers from the mainactivity. Howevever your query of whether it is static showed me my very rudimentary mistake that slipped past me. I had not declared the arraylist inside the service as static, which is why it was always null outside of its intended use. I have not fixed it by adding a `static` variable at the start of it. so that It looks like `static public ArrayList&lt;String&gt; contactNumbers;` . Thank you so so much !","body":"the commented out line was an incorrect attempt by me to try and get the contact_numbers from the mainactivity. Howevever your query of whether it is static showed me my very rudimentary mistake that slipped past me. I had not declared the arraylist inside the service as static, which is why it was always null outside of its intended use. I have not fixed it by adding a <code>static</code> variable at the start of it. so that It looks like <code>static public ArrayList&lt;String&gt; contactNumbers;</code> . Thank you so so much !"}],"answers":[{"tags":[],"owner":{"account_id":13406693,"reputation":55,"user_id":12844895,"display_name":"udbhav shrivastava"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1651025429,"creation_date":1651025429,"answer_id":72022508,"question_id":72018281,"body_markdown":"I found my mistake.\r\nFor anyone else trying to do this.\r\nI made the very shortsighted mistake of not declaring the Arraylist `contactNumbers` as static.\r\nThis is what it looked like before.\r\n\r\n`public ArrayList&lt;String&gt; contactNumbers;`\r\n\r\nIn the end when I added the static keyword. such that it looks like \r\n\r\n`static public ArrayList&lt;String&gt; contactNumbers;`. \r\n\r\nEverything else seems to work corrrectly. Since I could now get the value of `contactNumbers` inside of the service.\r\n\r\n","title":"Arraylist being assigned correctly inside a constructor but is null when it is outside in a Android Studio Service","body":"<p>I found my mistake.\nFor anyone else trying to do this.\nI made the very shortsighted mistake of not declaring the Arraylist <code>contactNumbers</code> as static.\nThis is what it looked like before.</p>\n<p><code>public ArrayList&lt;String&gt; contactNumbers;</code></p>\n<p>In the end when I added the static keyword. such that it looks like</p>\n<p><code>static public ArrayList&lt;String&gt; contactNumbers;</code>.</p>\n<p>Everything else seems to work corrrectly. Since I could now get the value of <code>contactNumbers</code> inside of the service.</p>\n"}],"owner":{"account_id":13406693,"reputation":55,"user_id":12844895,"display_name":"udbhav shrivastava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":72022508,"answer_count":1,"score":-3,"last_activity_date":1651025712,"creation_date":1650994883,"question_id":72018281,"body_markdown":"I cannot seem to figure out as to why whenever I try to assign an arraylist I recieved from the `MainActivity` to a public arraylist of a background service `SensorService` in the service&#39;s constructor.\r\nThis is my constructor\r\n\r\n        public SensorService(ArrayList&lt;String&gt; contactListNumber) {\r\n\r\n        contactNumbers=contactListNumber;\r\n        Log.d(TAG, &quot;Inside Constructor&quot;);\r\n        Log.d(TAG, &quot;SensorService: Phone Numbers = &quot;+contactListNumber);\r\n        Log.d(TAG, &quot;SensorService: Input Arraylist Size = &quot;+contactListNumber.size());\r\n        Log.d(TAG, &quot;SensorService: Assigned Arraylist Size = &quot;+contactNumbers.size());\r\n        setPhoneNumberArray(contactListNumber);\r\n    }\r\n\r\nI even tried invoking a method but it still gives me the same results where it  assigns the `contactNumbers` correctly but when I try to invoke it inside onCreate I get an NullPointerException.\r\n\r\nThis is the `MainActivity` Intent where I create the service\r\n \r\n\r\n        SensorService sensorService = new SensorService(Contact_Number);\r\n        Intent intent = new Intent(this, sensorService.getClass());\r\n        if(!isMyServiceRunning(sensorService.getClass())){\r\n        startService(intent);\r\n       //intent.putExtra(&quot;ContactNumberList&quot;, Contact_Number);\r\n        Toast.makeText(this, &quot;Starting Service&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\nAnd this is my complete `SensorService`.\r\n\r\n    public class SensorService extends Service {\r\n        \r\n            private SensorManager mSensorManager;\r\n            private Sensor mAccelerometer;\r\n            private ShakeDetector mShakeDetector;\r\n            public ArrayList&lt;String&gt; contactNumbers;\r\n        \r\n            public SensorService() {\r\n            }\r\n            public SensorService(ArrayList&lt;String&gt; contactListNumber) {\r\n        \r\n                contactNumbers=contactListNumber;\r\n                Log.d(TAG, &quot;Inside Constructor&quot;);\r\n                Log.d(TAG, &quot;SensorService: Phone Numbers = &quot;+contactListNumber);\r\n                Log.d(TAG, &quot;SensorService: Input Arraylist Size = &quot;+contactListNumber.size());\r\n                Log.d(TAG, &quot;SensorService: Assigned Arraylist Size = &quot;+contactNumbers.size());\r\n                setPhoneNumberArray(contactListNumber);\r\n            }\r\n        \r\n        \r\n            @Override\r\n            public IBinder onBind(Intent intent) {\r\n                // TODO: Return the communication channel to the service.\r\n                throw new UnsupportedOperationException(&quot;Not yet implemented&quot;);\r\n            }\r\n        \r\n            @Override\r\n            public int onStartCommand(Intent intent, int flags, int startId) {\r\n                super.onStartCommand(intent, flags, startId);\r\n                return START_STICKY;\r\n            }\r\n        \r\n            @Override\r\n            public void onCreate() {\r\n        \r\n        \r\n                //contactNumbers=MainActivity.Contact_Numbers;\r\n        \r\n                super.onCreate();\r\n        \r\n                // start the foreground service\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\r\n                    startMyOwnForeground();\r\n                else\r\n                    startForeground(1, new Notification());\r\n        \r\n                // ShakeDetector initialization\r\n                mSensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\r\n                mAccelerometer = mSensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);\r\n                mShakeDetector = new ShakeDetector();\r\n                Log.d(TAG, &quot;SensorService: Assigned Arraylist Size Outside Constructor = &quot;+contactNumbers.size());\r\n                mShakeDetector.setOnShakeListener(new ShakeDetector.OnShakeListener() {\r\n        \r\n                    @SuppressLint(&quot;MissingPermission&quot;)\r\n                    @Override\r\n                    public void onShake(int count) {\r\n                        // check if the user has shacked\r\n                        // the phone for 3 time in a row\r\n                        //if (count == 3)\r\n                        if (count == 1) {\r\n        \r\n                            // vibrate the phone\r\n                            vibrate();\r\n                            Log.d(TAG, &quot;onShake: Vibrate Activated&quot;);\r\n        \r\n                            // create FusedLocationProviderClient to get the user location\r\n                            FusedLocationProviderClient fusedLocationClient = LocationServices.getFusedLocationProviderClient(getApplicationContext());\r\n                            Log.d(&quot;Check: &quot;, &quot;Sending Message&quot;);\r\n                            // use the PRIORITY_BALANCED_POWER_ACCURACY\r\n                            // so that the service doesn&#39;t use unnecessary power via GPS\r\n                            // it will only use GPS at this very moment\r\n                            fusedLocationClient.getCurrentLocation(LocationRequest.PRIORITY_BALANCED_POWER_ACCURACY, new CancellationToken() {\r\n                                @Override\r\n                                public boolean isCancellationRequested() {\r\n                                    return false;\r\n                                }\r\n        \r\n                                @NonNull\r\n                                @Override\r\n                                public CancellationToken onCanceledRequested(@NonNull OnTokenCanceledListener onTokenCanceledListener) {\r\n                                    return null;\r\n                                }\r\n                            }).addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\r\n                                @Override\r\n                                public void onSuccess(Location location) {\r\n                                    // check if location is null\r\n                                    // for both the cases we will\r\n                                    // create different messages\r\n                                    Log.d(&quot;Check: &quot;, &quot;MESSAGE SENT&quot;);\r\n                                    if (location != null) {\r\n        \r\n                                        // get the SMSManager\r\n                                        SmsManager smsManager = SmsManager.getDefault();\r\n        \r\n                                        // get the list of all the contacts in Database\r\n                                        DatabaseHelper db = new DatabaseHelper(SensorService.this);\r\n                                        ArrayList&lt;String&gt; Contact_id, Contact_Name, Contact_Number;\r\n                                        ArrayList&lt;String&gt; phonenumber = new ArrayList&lt;String&gt;();\r\n                                        Log.d(TAG, &quot;onSuccess: contactlistnumber size = &quot;+contactNumbers.size());\r\n                                        String[] phoneNumberList = new String[contactNumbers.size()];\r\n                                        phoneNumberList = contactNumbers.toArray(phoneNumberList);\r\n                                        Log.d(TAG, &quot;onSuccess: Item 1 = &quot;+phoneNumberList[0]);\r\n                                        for(int i = 0; i &lt; phoneNumberList.length ; i++){\r\n                                            Log.d(&quot;Number is&quot;,(String)phoneNumberList[i]);\r\n                                        }\r\n        \r\n                                        //phonenumber = (ArrayList&lt;String&gt;)getIntent().getSerializableExtra(&quot;ContactNumberList&quot;);\r\n        \r\n                                        // send SMS to each contact\r\n                                        for (String c : phoneNumberList) {\r\n                                            String message = &quot;Hey, I am in DANGER, i need help. Please urgently reach me out. Here are my coordinates.\\n &quot; + &quot;http://maps.google.com/?q=&quot; + location.getLatitude() + &quot;,&quot; + location.getLongitude();\r\n                                            smsManager.sendTextMessage(c, null, message, null, null);\r\n                                        }\r\n                                    } else {\r\n                                        String message = &quot;I am in DANGER, i need help. Please urgently reach me out.\\n&quot; + &quot;GPS was turned off.Couldn&#39;t find location. Call your nearest Police Station.&quot;;\r\n                                        SmsManager smsManager = SmsManager.getDefault();\r\n                                        DatabaseHelper db = new DatabaseHelper(SensorService.this);\r\n                                        List&lt;ContactInfo&gt; list = (List&lt;ContactInfo&gt;) db.getEveryone();\r\n                                        String[] phoneNumberList = new String[contactNumbers.size()];\r\n                                        phoneNumberList = contactNumbers.toArray(phoneNumberList);\r\n                                        for (String c : phoneNumberList) {\r\n                                            smsManager.sendTextMessage(c, null, message, null, null);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }).addOnFailureListener(new OnFailureListener() {\r\n                                @Override\r\n                                public void onFailure(@NonNull Exception e) {\r\n                                    Log.d(&quot;Check: &quot;, &quot;OnFailure&quot;);\r\n                                    String message = &quot;I am in DANGER, i need help. Please urgently reach me out.\\n&quot; + &quot;GPS was turned off.Couldn&#39;t find location. Call your nearest Police Station.&quot;;\r\n                                    SmsManager smsManager = SmsManager.getDefault();\r\n                                    DatabaseHelper db = new DatabaseHelper(SensorService.this);\r\n                                    List&lt;ContactInfo&gt; list = (List&lt;ContactInfo&gt;) db.getEveryone();\r\n                                    String[] phoneNumberList = new String[contactNumbers.size()];\r\n                                    phoneNumberList = contactNumbers.toArray(phoneNumberList);\r\n                                    for (String c : phoneNumberList){\r\n                                        smsManager.sendTextMessage(c, null, message, null, null);\r\n                                    }\r\n                                }\r\n                            });\r\n        \r\n                        }\r\n                    }\r\n                });\r\n        \r\n                // register the listener\r\n                mSensorManager.registerListener(mShakeDetector, mAccelerometer, SensorManager.SENSOR_DELAY_UI);\r\n            }\r\n        \r\n            // method to vibrate the phone\r\n            public void vibrate() {\r\n        \r\n                final Vibrator vibrator = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\r\n                VibrationEffect vibEff;\r\n        \r\n                // Android Q and above have some predefined vibrating patterns\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n                    vibEff = VibrationEffect.createPredefined(VibrationEffect.EFFECT_DOUBLE_CLICK);\r\n                    vibrator.cancel();\r\n                    vibrator.vibrate(vibEff);\r\n                } else {\r\n                    vibrator.vibrate(500);\r\n                }\r\n        \r\n        \r\n            }\r\n        \r\n            // For Build versions higher than Android Oreo, we launch\r\n            // a foreground service in a different way. This is due to the newly\r\n            // implemented strict notification rules, which require us to identify\r\n            // our own notification channel in order to view them correctly.\r\n            @RequiresApi(Build.VERSION_CODES.O)\r\n            private void startMyOwnForeground() {\r\n                String NOTIFICATION_CHANNEL_ID = &quot;example.permanence&quot;;\r\n                String channelName = &quot;Background Service&quot;;\r\n                NotificationChannel chan = new NotificationChannel(NOTIFICATION_CHANNEL_ID, channelName, NotificationManager.IMPORTANCE_MIN);\r\n        \r\n                NotificationManager manager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n                assert manager != null;\r\n                manager.createNotificationChannel(chan);\r\n        \r\n                NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID);\r\n                Notification notification = notificationBuilder.setOngoing(true)\r\n                        .setContentTitle(&quot;You are protected.&quot;)\r\n                        .setContentText(&quot;We are there for you&quot;)\r\n        \r\n        \r\n                        // this is important, otherwise the notification will show the way\r\n                        // you want i.e. it will show some default notification\r\n                        .setSmallIcon(R.drawable.ic_launcher_foreground)\r\n        \r\n                        .setPriority(NotificationManager.IMPORTANCE_MIN)\r\n                        .setCategory(Notification.CATEGORY_SERVICE)\r\n                        .build();\r\n                startForeground(2, notification);\r\n            }\r\n        \r\n            @Override\r\n            public void onDestroy() {\r\n                // create an Intent to call the Broadcast receiver\r\n                Intent broadcastIntent = new Intent();\r\n                broadcastIntent.setAction(&quot;restartservice&quot;);\r\n                broadcastIntent.setClass(this, ReactivateService.class);\r\n                this.sendBroadcast(broadcastIntent);\r\n                super.onDestroy();\r\n            }\r\n            public void setPhoneNumberArray(ArrayList numbers) {\r\n                contactNumbers=numbers;\r\n                //Log.d(TAG, &quot;setPhoneNumberArray: contactnumbers size = &quot;+contactNumbers.size());\r\n            }\r\n        }\r\n\r\nwould really appreciate if anyone could tell me why this is happening.\r\n\r\n","title":"Arraylist being assigned correctly inside a constructor but is null when it is outside in a Android Studio Service","body":"<p>I cannot seem to figure out as to why whenever I try to assign an arraylist I recieved from the <code>MainActivity</code> to a public arraylist of a background service <code>SensorService</code> in the service's constructor.\nThis is my constructor</p>\n<pre><code>    public SensorService(ArrayList&lt;String&gt; contactListNumber) {\n\n    contactNumbers=contactListNumber;\n    Log.d(TAG, &quot;Inside Constructor&quot;);\n    Log.d(TAG, &quot;SensorService: Phone Numbers = &quot;+contactListNumber);\n    Log.d(TAG, &quot;SensorService: Input Arraylist Size = &quot;+contactListNumber.size());\n    Log.d(TAG, &quot;SensorService: Assigned Arraylist Size = &quot;+contactNumbers.size());\n    setPhoneNumberArray(contactListNumber);\n}\n</code></pre>\n<p>I even tried invoking a method but it still gives me the same results where it  assigns the <code>contactNumbers</code> correctly but when I try to invoke it inside onCreate I get an NullPointerException.</p>\n<p>This is the <code>MainActivity</code> Intent where I create the service</p>\n<pre><code>    SensorService sensorService = new SensorService(Contact_Number);\n    Intent intent = new Intent(this, sensorService.getClass());\n    if(!isMyServiceRunning(sensorService.getClass())){\n    startService(intent);\n   //intent.putExtra(&quot;ContactNumberList&quot;, Contact_Number);\n    Toast.makeText(this, &quot;Starting Service&quot;, Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n<p>And this is my complete <code>SensorService</code>.</p>\n<pre><code>public class SensorService extends Service {\n    \n        private SensorManager mSensorManager;\n        private Sensor mAccelerometer;\n        private ShakeDetector mShakeDetector;\n        public ArrayList&lt;String&gt; contactNumbers;\n    \n        public SensorService() {\n        }\n        public SensorService(ArrayList&lt;String&gt; contactListNumber) {\n    \n            contactNumbers=contactListNumber;\n            Log.d(TAG, &quot;Inside Constructor&quot;);\n            Log.d(TAG, &quot;SensorService: Phone Numbers = &quot;+contactListNumber);\n            Log.d(TAG, &quot;SensorService: Input Arraylist Size = &quot;+contactListNumber.size());\n            Log.d(TAG, &quot;SensorService: Assigned Arraylist Size = &quot;+contactNumbers.size());\n            setPhoneNumberArray(contactListNumber);\n        }\n    \n    \n        @Override\n        public IBinder onBind(Intent intent) {\n            // TODO: Return the communication channel to the service.\n            throw new UnsupportedOperationException(&quot;Not yet implemented&quot;);\n        }\n    \n        @Override\n        public int onStartCommand(Intent intent, int flags, int startId) {\n            super.onStartCommand(intent, flags, startId);\n            return START_STICKY;\n        }\n    \n        @Override\n        public void onCreate() {\n    \n    \n            //contactNumbers=MainActivity.Contact_Numbers;\n    \n            super.onCreate();\n    \n            // start the foreground service\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\n                startMyOwnForeground();\n            else\n                startForeground(1, new Notification());\n    \n            // ShakeDetector initialization\n            mSensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\n            mAccelerometer = mSensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);\n            mShakeDetector = new ShakeDetector();\n            Log.d(TAG, &quot;SensorService: Assigned Arraylist Size Outside Constructor = &quot;+contactNumbers.size());\n            mShakeDetector.setOnShakeListener(new ShakeDetector.OnShakeListener() {\n    \n                @SuppressLint(&quot;MissingPermission&quot;)\n                @Override\n                public void onShake(int count) {\n                    // check if the user has shacked\n                    // the phone for 3 time in a row\n                    //if (count == 3)\n                    if (count == 1) {\n    \n                        // vibrate the phone\n                        vibrate();\n                        Log.d(TAG, &quot;onShake: Vibrate Activated&quot;);\n    \n                        // create FusedLocationProviderClient to get the user location\n                        FusedLocationProviderClient fusedLocationClient = LocationServices.getFusedLocationProviderClient(getApplicationContext());\n                        Log.d(&quot;Check: &quot;, &quot;Sending Message&quot;);\n                        // use the PRIORITY_BALANCED_POWER_ACCURACY\n                        // so that the service doesn't use unnecessary power via GPS\n                        // it will only use GPS at this very moment\n                        fusedLocationClient.getCurrentLocation(LocationRequest.PRIORITY_BALANCED_POWER_ACCURACY, new CancellationToken() {\n                            @Override\n                            public boolean isCancellationRequested() {\n                                return false;\n                            }\n    \n                            @NonNull\n                            @Override\n                            public CancellationToken onCanceledRequested(@NonNull OnTokenCanceledListener onTokenCanceledListener) {\n                                return null;\n                            }\n                        }).addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\n                            @Override\n                            public void onSuccess(Location location) {\n                                // check if location is null\n                                // for both the cases we will\n                                // create different messages\n                                Log.d(&quot;Check: &quot;, &quot;MESSAGE SENT&quot;);\n                                if (location != null) {\n    \n                                    // get the SMSManager\n                                    SmsManager smsManager = SmsManager.getDefault();\n    \n                                    // get the list of all the contacts in Database\n                                    DatabaseHelper db = new DatabaseHelper(SensorService.this);\n                                    ArrayList&lt;String&gt; Contact_id, Contact_Name, Contact_Number;\n                                    ArrayList&lt;String&gt; phonenumber = new ArrayList&lt;String&gt;();\n                                    Log.d(TAG, &quot;onSuccess: contactlistnumber size = &quot;+contactNumbers.size());\n                                    String[] phoneNumberList = new String[contactNumbers.size()];\n                                    phoneNumberList = contactNumbers.toArray(phoneNumberList);\n                                    Log.d(TAG, &quot;onSuccess: Item 1 = &quot;+phoneNumberList[0]);\n                                    for(int i = 0; i &lt; phoneNumberList.length ; i++){\n                                        Log.d(&quot;Number is&quot;,(String)phoneNumberList[i]);\n                                    }\n    \n                                    //phonenumber = (ArrayList&lt;String&gt;)getIntent().getSerializableExtra(&quot;ContactNumberList&quot;);\n    \n                                    // send SMS to each contact\n                                    for (String c : phoneNumberList) {\n                                        String message = &quot;Hey, I am in DANGER, i need help. Please urgently reach me out. Here are my coordinates.\\n &quot; + &quot;http://maps.google.com/?q=&quot; + location.getLatitude() + &quot;,&quot; + location.getLongitude();\n                                        smsManager.sendTextMessage(c, null, message, null, null);\n                                    }\n                                } else {\n                                    String message = &quot;I am in DANGER, i need help. Please urgently reach me out.\\n&quot; + &quot;GPS was turned off.Couldn't find location. Call your nearest Police Station.&quot;;\n                                    SmsManager smsManager = SmsManager.getDefault();\n                                    DatabaseHelper db = new DatabaseHelper(SensorService.this);\n                                    List&lt;ContactInfo&gt; list = (List&lt;ContactInfo&gt;) db.getEveryone();\n                                    String[] phoneNumberList = new String[contactNumbers.size()];\n                                    phoneNumberList = contactNumbers.toArray(phoneNumberList);\n                                    for (String c : phoneNumberList) {\n                                        smsManager.sendTextMessage(c, null, message, null, null);\n                                    }\n                                }\n                            }\n                        }).addOnFailureListener(new OnFailureListener() {\n                            @Override\n                            public void onFailure(@NonNull Exception e) {\n                                Log.d(&quot;Check: &quot;, &quot;OnFailure&quot;);\n                                String message = &quot;I am in DANGER, i need help. Please urgently reach me out.\\n&quot; + &quot;GPS was turned off.Couldn't find location. Call your nearest Police Station.&quot;;\n                                SmsManager smsManager = SmsManager.getDefault();\n                                DatabaseHelper db = new DatabaseHelper(SensorService.this);\n                                List&lt;ContactInfo&gt; list = (List&lt;ContactInfo&gt;) db.getEveryone();\n                                String[] phoneNumberList = new String[contactNumbers.size()];\n                                phoneNumberList = contactNumbers.toArray(phoneNumberList);\n                                for (String c : phoneNumberList){\n                                    smsManager.sendTextMessage(c, null, message, null, null);\n                                }\n                            }\n                        });\n    \n                    }\n                }\n            });\n    \n            // register the listener\n            mSensorManager.registerListener(mShakeDetector, mAccelerometer, SensorManager.SENSOR_DELAY_UI);\n        }\n    \n        // method to vibrate the phone\n        public void vibrate() {\n    \n            final Vibrator vibrator = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\n            VibrationEffect vibEff;\n    \n            // Android Q and above have some predefined vibrating patterns\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n                vibEff = VibrationEffect.createPredefined(VibrationEffect.EFFECT_DOUBLE_CLICK);\n                vibrator.cancel();\n                vibrator.vibrate(vibEff);\n            } else {\n                vibrator.vibrate(500);\n            }\n    \n    \n        }\n    \n        // For Build versions higher than Android Oreo, we launch\n        // a foreground service in a different way. This is due to the newly\n        // implemented strict notification rules, which require us to identify\n        // our own notification channel in order to view them correctly.\n        @RequiresApi(Build.VERSION_CODES.O)\n        private void startMyOwnForeground() {\n            String NOTIFICATION_CHANNEL_ID = &quot;example.permanence&quot;;\n            String channelName = &quot;Background Service&quot;;\n            NotificationChannel chan = new NotificationChannel(NOTIFICATION_CHANNEL_ID, channelName, NotificationManager.IMPORTANCE_MIN);\n    \n            NotificationManager manager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n            assert manager != null;\n            manager.createNotificationChannel(chan);\n    \n            NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID);\n            Notification notification = notificationBuilder.setOngoing(true)\n                    .setContentTitle(&quot;You are protected.&quot;)\n                    .setContentText(&quot;We are there for you&quot;)\n    \n    \n                    // this is important, otherwise the notification will show the way\n                    // you want i.e. it will show some default notification\n                    .setSmallIcon(R.drawable.ic_launcher_foreground)\n    \n                    .setPriority(NotificationManager.IMPORTANCE_MIN)\n                    .setCategory(Notification.CATEGORY_SERVICE)\n                    .build();\n            startForeground(2, notification);\n        }\n    \n        @Override\n        public void onDestroy() {\n            // create an Intent to call the Broadcast receiver\n            Intent broadcastIntent = new Intent();\n            broadcastIntent.setAction(&quot;restartservice&quot;);\n            broadcastIntent.setClass(this, ReactivateService.class);\n            this.sendBroadcast(broadcastIntent);\n            super.onDestroy();\n        }\n        public void setPhoneNumberArray(ArrayList numbers) {\n            contactNumbers=numbers;\n            //Log.d(TAG, &quot;setPhoneNumberArray: contactnumbers size = &quot;+contactNumbers.size());\n        }\n    }\n</code></pre>\n<p>would really appreciate if anyone could tell me why this is happening.</p>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":1989328,"reputation":1281,"user_id":1783734,"display_name":"MFazio23"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651025544,"creation_date":1651025544,"answer_id":72022517,"question_id":72022467,"body_markdown":"This should be about right (though my Java&#39;s rusty):\r\n```java\r\nprivate long framePeriodMs = 0;\r\n\r\nprivate float frameRate = Float.MAX_VALUE;\r\n\r\npublic float getFrameRate() {\r\n    return frameRate;\r\n}\r\n\r\npublic void setFrameRate(float newFrameRate) {\r\n    this.framePeriodMs = (long)(1000 / newFrameRate);\r\n    log.info(&quot;framePeriodMs: &quot; + framePeriodMs);\r\n    this.frameRate = newFrameRate;\r\n}\r\n```\r\n\r\nThe `value` coming into the `set(...) { ... }` function is just like a parameter into a Java setter.","title":"translate kotlin set value into java","body":"<p>This should be about right (though my Java's rusty):</p>\n<pre class=\"lang-java prettyprint-override\"><code>private long framePeriodMs = 0;\n\nprivate float frameRate = Float.MAX_VALUE;\n\npublic float getFrameRate() {\n    return frameRate;\n}\n\npublic void setFrameRate(float newFrameRate) {\n    this.framePeriodMs = (long)(1000 / newFrameRate);\n    log.info(&quot;framePeriodMs: &quot; + framePeriodMs);\n    this.frameRate = newFrameRate;\n}\n</code></pre>\n<p>The <code>value</code> coming into the <code>set(...) { ... }</code> function is just like a parameter into a Java setter.</p>\n"}],"owner":{"account_id":15542759,"reputation":11,"user_id":11212990,"display_name":"descosmos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1651025544,"creation_date":1651024906,"question_id":72022467,"body_markdown":"I cannot understand the meaning of the code. Can you give me a help to translate the code into Java?\r\n\r\n\r\n    private var framePeriodMs: Long = 0\r\n\r\n    var frameRate: Float = Float.MAX_VALUE\r\n        set(value) {\r\n            this.framePeriodMs = (1000 / value).toLong()\r\n            log.info(&quot;framePeriodMs: $framePeriodMs&quot;)\r\n            field = value\r\n        }\r\n\r\n\r\nThank you very much...","title":"translate kotlin set value into java","body":"<p>I cannot understand the meaning of the code. Can you give me a help to translate the code into Java?</p>\n<pre><code>private var framePeriodMs: Long = 0\n\nvar frameRate: Float = Float.MAX_VALUE\n    set(value) {\n        this.framePeriodMs = (1000 / value).toLong()\n        log.info(&quot;framePeriodMs: $framePeriodMs&quot;)\n        field = value\n    }\n</code></pre>\n<p>Thank you very much...</p>\n"},{"tags":["java","minecraft","bukkit","spigot"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1650869702,"post_id":71993628,"comment_id":127216053,"body_markdown":"Are you using maven or gradle ?","body":"Are you using maven or gradle ?"},{"owner":{"account_id":22062057,"reputation":3,"user_id":16324553,"display_name":"Tigron "},"score":0,"creation_date":1650931524,"post_id":71993628,"comment_id":127235577,"body_markdown":"@Elikill58 maven","body":"@Elikill58 maven"}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650954650,"creation_date":1650954650,"answer_id":72009307,"question_id":71993628,"body_markdown":"You seems to include a dependency in your project, but don&#39;t export it with the jar. So, your plugin don&#39;t find the class.\r\n\r\nTo include dependencies in jar, you should follow this question: https://stackoverflow.com/questions/1729054/including-dependencies-in-a-jar-with-maven, more specially add this in your `pom.xml` file :\r\n```xml\r\n&lt;build&gt;\r\n   &lt;plugins&gt;\r\n      &lt;!-- any other plugins --&gt;\r\n      &lt;plugin&gt;\r\n         &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n         &lt;executions&gt;\r\n            &lt;execution&gt;\r\n               &lt;phase&gt;package&lt;/phase&gt;\r\n               &lt;goals&gt;\r\n                  &lt;goal&gt;single&lt;/goal&gt;\r\n               &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n         &lt;/executions&gt;\r\n         &lt;configuration&gt;\r\n            &lt;descriptorRefs&gt;\r\n               &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n            &lt;/descriptorRefs&gt;\r\n         &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n   &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\nDon&#39;t forget to use good jar (the one with `-with-dependencies` in the name)","title":"Java Spigot Websocket","body":"<p>You seems to include a dependency in your project, but don't export it with the jar. So, your plugin don't find the class.</p>\n<p>To include dependencies in jar, you should follow this question: <a href=\"https://stackoverflow.com/questions/1729054/including-dependencies-in-a-jar-with-maven\">Including dependencies in a jar with Maven</a>, more specially add this in your <code>pom.xml</code> file :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n   &lt;plugins&gt;\n      &lt;!-- any other plugins --&gt;\n      &lt;plugin&gt;\n         &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n         &lt;executions&gt;\n            &lt;execution&gt;\n               &lt;phase&gt;package&lt;/phase&gt;\n               &lt;goals&gt;\n                  &lt;goal&gt;single&lt;/goal&gt;\n               &lt;/goals&gt;\n            &lt;/execution&gt;\n         &lt;/executions&gt;\n         &lt;configuration&gt;\n            &lt;descriptorRefs&gt;\n               &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n            &lt;/descriptorRefs&gt;\n         &lt;/configuration&gt;\n      &lt;/plugin&gt;\n   &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Don't forget to use good jar (the one with <code>-with-dependencies</code> in the name)</p>\n"}],"owner":{"account_id":22062057,"reputation":3,"user_id":16324553,"display_name":"Tigron "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":690,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651025378,"creation_date":1650850023,"question_id":71993628,"body_markdown":"I wonder how can I add a websocket server into my java spigot plugin. I tried this and got an error.  \r\n```java\r\npublic class Main extends JavaPlugin {\r\n\r\n\t@Override\r\n\tpublic void onEnable() {\r\n\t\t\r\n\t\tSystem.out.println(&quot;STARTED YEY :D&quot;);\r\n\t\tInetAddress host;\r\n\t\ttry {\r\n\t\t\thost = InetAddress.getLocalHost();\r\n\t\t\t System.out.println(host);\r\n\t\t        System.out.println(&quot;Working Directory = &quot; + System.getProperty(&quot;user.dir&quot;));\r\n\t\t        int port = 8887;\r\n\r\n\t\t        WebSocketServer server = new websocket(new InetSocketAddress(host, port));\r\n\t\t        server.run();\r\n\t\t        \r\n\t\t        System.out.println(&quot;websocket started&quot;);\r\n\r\n\t\t        \r\n\t\t\t\tnew MainCommand(this);\r\n\t\t} catch (UnknownHostException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n       \r\n\t} \r\n```\r\n\r\nbut I&#39;ve got this error\r\n```\r\nCould not load &#39;plugins/plugin5.4.jar&#39; in folder &#39;plugins&#39;\r\norg.bukkit.plugin.InvalidPluginException: java.lang.NoClassDefFoundError: org/java_websocket/server/WebSocketServer\r\n        at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:149) ~[spigot-api-1.18.2-R0.1-SNAPSHOT.jar:?]\r\n        at org.bukkit.plugin.SimplePluginManager.loadPlugin(SimplePluginManager.java:394) ~[spigot-api-1.18.2-R0.1-SNAPSHOT.jar:?]\r\n        at org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:301) ~[spigot-api-1.18.2-R0.1-SNAPSHOT.jar:?]\r\n        at org.bukkit.craftbukkit.v1_18_R2.CraftServer.loadPlugins(CraftServer.java:407) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\r\n        at org.bukkit.craftbukkit.v1_18_R2.CraftServer.reload(CraftServer.java:915) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\r\n        at org.bukkit.Bukkit.reload(Bukkit.java:801) ~[spigot-api-1.18.2-R0.1-SNAPSHOT.jar:?]\r\n        at org.bukkit.command.defaults.ReloadCommand.execute(ReloadCommand.java:27) ~[spigot-api-1.18.2-R0.1-SNAPSHOT.jar:?]\r\n        at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:149) ~[spigot-api-1.18.2-R0.1-SNAPSHOT.jar:?]\r\n        at org.bukkit.craftbukkit.v1_18_R2.CraftServer.dispatchCommand(CraftServer.java:826) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\r\n        at net.minecraft.server.network.PlayerConnection.a(PlayerConnection.java:1957) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\r\n        at net.minecraft.server.network.PlayerConnection.a(PlayerConnection.java:1796) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\r\n        at net.minecraft.server.network.PlayerConnection.a(PlayerConnection.java:1777) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\r\n        at net.minecraft.network.protocol.game.PacketPlayInChat.a(PacketPlayInChat.java:46) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\r\n        at net.minecraft.network.protocol.game.PacketPlayInChat.a(PacketPlayInChat.java:1) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\r\n        at net.minecraft.network.protocol.PlayerConnectionUtils.lambda$0(PlayerConnectionUtils.java:31) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\r\n        at net.minecraft.server.TickTask.run(SourceFile:18) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\r\n        at net.minecraft.util.thread.IAsyncTaskHandler.d(SourceFile:157) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\r\n        at net.minecraft.util.thread.IAsyncTaskHandlerReentrant.d(SourceFile:23) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\r\n        at net.minecraft.server.MinecraftServer.b(MinecraftServer.java:1190) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\r\n        at net.minecraft.server.MinecraftServer.d(MinecraftServer.java:1) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\r\n        at net.minecraft.util.thread.IAsyncTaskHandler.y(SourceFile:131) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\r\n        at net.minecraft.server.MinecraftServer.be(MinecraftServer.java:1169) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\r\n        at net.minecraft.server.MinecraftServer.y(MinecraftServer.java:1162) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\r\n        at net.minecraft.util.thread.IAsyncTaskHandler.c(SourceFile:140) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\r\n        at net.minecraft.server.MinecraftServer.x(MinecraftServer.java:1146) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\r\n        at net.minecraft.server.MinecraftServer.w(MinecraftServer.java:1051) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\r\n        at net.minecraft.server.MinecraftServer.lambda$0(MinecraftServer.java:304) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\r\n        at java.lang.Thread.run(Thread.java:833) [?:?]\r\nCaused by: java.lang.NoClassDefFoundError: org/java_websocket/server/WebSocketServer\r\n        at java.lang.Class.forName0(Native Method) ~[?:?]\r\n        at java.lang.Class.forName(Class.java:467) ~[?:?]\r\n        at org.bukkit.plugin.java.PluginClassLoader.&lt;init&gt;(PluginClassLoader.java:67) ~[spigot-api-1.18.2-R0.1-SNAPSHOT.jar:?]\r\n        at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:145) ~[spigot-api-1.18.2-R0.1-SNAPSHOT.jar:?]\r\n        ... 27 more\r\nCaused by: java.lang.ClassNotFoundException: org.java_websocket.server.WebSocketServer\r\n        at org.bukkit.plugin.java.PluginClassLoader.loadClass0(PluginClassLoader.java:147) ~[spigot-api-1.18.2-R0.1-SNAPSHOT.jar:?]\r\n        at org.bukkit.plugin.java.PluginClassLoader.loadClass(PluginClassLoader.java:99) ~[spigot-api-1.18.2-R0.1-SNAPSHOT.jar:?]\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\r\n        at java.lang.Class.forName0(Native Method) ~[?:?]\r\n        at java.lang.Class.forName(Class.java:467) ~[?:?]\r\n        at org.bukkit.plugin.java.PluginClassLoader.&lt;init&gt;(PluginClassLoader.java:67) ~[spigot-api-1.18.2-R0.1-SNAPSHOT.jar:?]\r\n        at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:145) ~[spigot-api-1.18.2-R0.1-SNAPSHOT.jar:?]\r\n        ... 27 more\r\n```","title":"Java Spigot Websocket","body":"<p>I wonder how can I add a websocket server into my java spigot plugin. I tried this and got an error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main extends JavaPlugin {\n\n    @Override\n    public void onEnable() {\n        \n        System.out.println(&quot;STARTED YEY :D&quot;);\n        InetAddress host;\n        try {\n            host = InetAddress.getLocalHost();\n             System.out.println(host);\n                System.out.println(&quot;Working Directory = &quot; + System.getProperty(&quot;user.dir&quot;));\n                int port = 8887;\n\n                WebSocketServer server = new websocket(new InetSocketAddress(host, port));\n                server.run();\n                \n                System.out.println(&quot;websocket started&quot;);\n\n                \n                new MainCommand(this);\n        } catch (UnknownHostException e) {\n            e.printStackTrace();\n        }\n       \n    } \n</code></pre>\n<p>but I've got this error</p>\n<pre><code>Could not load 'plugins/plugin5.4.jar' in folder 'plugins'\norg.bukkit.plugin.InvalidPluginException: java.lang.NoClassDefFoundError: org/java_websocket/server/WebSocketServer\n        at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:149) ~[spigot-api-1.18.2-R0.1-SNAPSHOT.jar:?]\n        at org.bukkit.plugin.SimplePluginManager.loadPlugin(SimplePluginManager.java:394) ~[spigot-api-1.18.2-R0.1-SNAPSHOT.jar:?]\n        at org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:301) ~[spigot-api-1.18.2-R0.1-SNAPSHOT.jar:?]\n        at org.bukkit.craftbukkit.v1_18_R2.CraftServer.loadPlugins(CraftServer.java:407) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\n        at org.bukkit.craftbukkit.v1_18_R2.CraftServer.reload(CraftServer.java:915) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\n        at org.bukkit.Bukkit.reload(Bukkit.java:801) ~[spigot-api-1.18.2-R0.1-SNAPSHOT.jar:?]\n        at org.bukkit.command.defaults.ReloadCommand.execute(ReloadCommand.java:27) ~[spigot-api-1.18.2-R0.1-SNAPSHOT.jar:?]\n        at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:149) ~[spigot-api-1.18.2-R0.1-SNAPSHOT.jar:?]\n        at org.bukkit.craftbukkit.v1_18_R2.CraftServer.dispatchCommand(CraftServer.java:826) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\n        at net.minecraft.server.network.PlayerConnection.a(PlayerConnection.java:1957) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\n        at net.minecraft.server.network.PlayerConnection.a(PlayerConnection.java:1796) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\n        at net.minecraft.server.network.PlayerConnection.a(PlayerConnection.java:1777) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\n        at net.minecraft.network.protocol.game.PacketPlayInChat.a(PacketPlayInChat.java:46) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\n        at net.minecraft.network.protocol.game.PacketPlayInChat.a(PacketPlayInChat.java:1) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\n        at net.minecraft.network.protocol.PlayerConnectionUtils.lambda$0(PlayerConnectionUtils.java:31) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\n        at net.minecraft.server.TickTask.run(SourceFile:18) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\n        at net.minecraft.util.thread.IAsyncTaskHandler.d(SourceFile:157) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\n        at net.minecraft.util.thread.IAsyncTaskHandlerReentrant.d(SourceFile:23) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\n        at net.minecraft.server.MinecraftServer.b(MinecraftServer.java:1190) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\n        at net.minecraft.server.MinecraftServer.d(MinecraftServer.java:1) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\n        at net.minecraft.util.thread.IAsyncTaskHandler.y(SourceFile:131) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\n        at net.minecraft.server.MinecraftServer.be(MinecraftServer.java:1169) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\n        at net.minecraft.server.MinecraftServer.y(MinecraftServer.java:1162) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\n        at net.minecraft.util.thread.IAsyncTaskHandler.c(SourceFile:140) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\n        at net.minecraft.server.MinecraftServer.x(MinecraftServer.java:1146) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\n        at net.minecraft.server.MinecraftServer.w(MinecraftServer.java:1051) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\n        at net.minecraft.server.MinecraftServer.lambda$0(MinecraftServer.java:304) ~[spigot-1.18.2-R0.1-SNAPSHOT.jar:3482-Spigot-42b6152-e87f2e3]\n        at java.lang.Thread.run(Thread.java:833) [?:?]\nCaused by: java.lang.NoClassDefFoundError: org/java_websocket/server/WebSocketServer\n        at java.lang.Class.forName0(Native Method) ~[?:?]\n        at java.lang.Class.forName(Class.java:467) ~[?:?]\n        at org.bukkit.plugin.java.PluginClassLoader.&lt;init&gt;(PluginClassLoader.java:67) ~[spigot-api-1.18.2-R0.1-SNAPSHOT.jar:?]\n        at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:145) ~[spigot-api-1.18.2-R0.1-SNAPSHOT.jar:?]\n        ... 27 more\nCaused by: java.lang.ClassNotFoundException: org.java_websocket.server.WebSocketServer\n        at org.bukkit.plugin.java.PluginClassLoader.loadClass0(PluginClassLoader.java:147) ~[spigot-api-1.18.2-R0.1-SNAPSHOT.jar:?]\n        at org.bukkit.plugin.java.PluginClassLoader.loadClass(PluginClassLoader.java:99) ~[spigot-api-1.18.2-R0.1-SNAPSHOT.jar:?]\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\n        at java.lang.Class.forName0(Native Method) ~[?:?]\n        at java.lang.Class.forName(Class.java:467) ~[?:?]\n        at org.bukkit.plugin.java.PluginClassLoader.&lt;init&gt;(PluginClassLoader.java:67) ~[spigot-api-1.18.2-R0.1-SNAPSHOT.jar:?]\n        at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:145) ~[spigot-api-1.18.2-R0.1-SNAPSHOT.jar:?]\n        ... 27 more\n</code></pre>\n"},{"tags":["java","jira","jira-rest-java-api"],"answers":[{"tags":[],"owner":{"account_id":7526728,"reputation":548,"user_id":5716626,"accept_rate":100,"display_name":"Cosmin Oprea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1470053831,"creation_date":1470053831,"answer_id":38698661,"question_id":38692911,"body_markdown":"I solved this through getting my field with :\r\n\r\n    for (JiraFixVersion jiraFixVersion : listJiraFixVersionsProject) {\r\n\r\n            Iterator&lt;Issue&gt; issues = JiraClientManager.getInstance().getSearchResultSet(&quot;project=&#39;&quot; + jiraProject.getProjectName() + &quot;&#39; AND fixVersion =&quot; + &quot;&#39;&quot; + jiraFixVersion.getName() + &quot;&#39;&quot; + &quot; AND cf[10002] !=null&quot;).iterator();\r\n            Double sumStoryPoints = 0.0;\r\n            while (issues.hasNext()) {\r\n                Issue issue = issues.next();\r\n                String storyPoints = issue.getField(&quot;customfield_10002&quot;).getValue().toString();\r\n                Double storyPointIssue = Double.parseDouble(storyPoints);\r\n                sumStoryPoints += storyPointIssue;\r\n            }\r\n            returnMap.put(jiraFixVersion, sumStoryPoints);\r\n        }\r\n\r\n&#39;customfield_1002&#39; is the field that I wanted , but if you really want that object TimeTracking you have to make another server request wich will last some precious time , I will not recommend that , but I will show the code : \r\n\r\n    while (issues.hasNext()) {\r\n\r\n                Issue issue = issues.next();\r\n                try {\r\n                    Issue claim = JiraClientManager.getInstance().getRestClient().getIssueClient().getIssue(issue.getKey()).claim();\r\n                    TimeTracking timeTracking = claim.getTimeTracking();\r\n                    Integer estimatedTimeSeconds =(Integer) issue.getField(&quot;timeoriginalestimate&quot;).getValue();\r\n                    Double estimatedTimeHours = (estimatedTimeSeconds.doubleValue())/3600;\r\n                    System.out.println(estimatedTimeHours+&quot; &quot;+issue.getKey());\r\n                    sumEstimatedTimeHours += estimatedTimeHours;\r\n                }catch(NullPointerException e){\r\n                    System.out.println(&quot;Time Tracking null &quot;+ issue.getKey());\r\n                }\r\n            }","title":"Jira REST API Time Tracking Null","body":"<p>I solved this through getting my field with :</p>\n\n<pre><code>for (JiraFixVersion jiraFixVersion : listJiraFixVersionsProject) {\n\n        Iterator&lt;Issue&gt; issues = JiraClientManager.getInstance().getSearchResultSet(\"project='\" + jiraProject.getProjectName() + \"' AND fixVersion =\" + \"'\" + jiraFixVersion.getName() + \"'\" + \" AND cf[10002] !=null\").iterator();\n        Double sumStoryPoints = 0.0;\n        while (issues.hasNext()) {\n            Issue issue = issues.next();\n            String storyPoints = issue.getField(\"customfield_10002\").getValue().toString();\n            Double storyPointIssue = Double.parseDouble(storyPoints);\n            sumStoryPoints += storyPointIssue;\n        }\n        returnMap.put(jiraFixVersion, sumStoryPoints);\n    }\n</code></pre>\n\n<p>'customfield_1002' is the field that I wanted , but if you really want that object TimeTracking you have to make another server request wich will last some precious time , I will not recommend that , but I will show the code : </p>\n\n<pre><code>while (issues.hasNext()) {\n\n            Issue issue = issues.next();\n            try {\n                Issue claim = JiraClientManager.getInstance().getRestClient().getIssueClient().getIssue(issue.getKey()).claim();\n                TimeTracking timeTracking = claim.getTimeTracking();\n                Integer estimatedTimeSeconds =(Integer) issue.getField(\"timeoriginalestimate\").getValue();\n                Double estimatedTimeHours = (estimatedTimeSeconds.doubleValue())/3600;\n                System.out.println(estimatedTimeHours+\" \"+issue.getKey());\n                sumEstimatedTimeHours += estimatedTimeHours;\n            }catch(NullPointerException e){\n                System.out.println(\"Time Tracking null \"+ issue.getKey());\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3848415,"reputation":107,"user_id":3189161,"display_name":"Mars"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583896586,"creation_date":1583896586,"answer_id":60628768,"question_id":38692911,"body_markdown":"I have the same issue here, and I found other solution for this case, use:\r\n```java\r\nissue.getField(&quot;timeoriginalestimate&quot;)\r\n```","title":"Jira REST API Time Tracking Null","body":"<p>I have the same issue here, and I found other solution for this case, use:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>issue.getField(\"timeoriginalestimate\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10242804,"reputation":649,"user_id":8045100,"display_name":"Frank Hopkins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651025008,"creation_date":1651025008,"answer_id":72022476,"question_id":38692911,"body_markdown":"Similar to Mars option and the answer from Cosmin, this is  (now) possible and ensures to get the full Timetracking object with the search query, you just need to explicitly request the &quot;timetracking&quot; field, but you also need to make sure to add the core fields such that the client can construct an Issue instance.\r\n\r\nIt goes like this (the list might also be a set, don&#39;t crucify me for syntax incorrectness, currently no IDE at hand).\r\n\r\n     restClient.getSearchClient()\r\n               .searchJql(q.getQuery(), q.getLimit(), q.getOffset(),\r\n                           Lists.newArraylist(\r\n                                &quot;timetracking&quot;,\r\n                                &quot;summary&quot;,\r\n                                &quot;issuetype&quot;,\r\n                                &quot;created&quot;,\r\n                                &quot;updated&quot;,\r\n                                &quot;project&quot;,\r\n                                &quot;status&quot;));","title":"Jira REST API Time Tracking Null","body":"<p>Similar to Mars option and the answer from Cosmin, this is  (now) possible and ensures to get the full Timetracking object with the search query, you just need to explicitly request the &quot;timetracking&quot; field, but you also need to make sure to add the core fields such that the client can construct an Issue instance.</p>\n<p>It goes like this (the list might also be a set, don't crucify me for syntax incorrectness, currently no IDE at hand).</p>\n<pre><code> restClient.getSearchClient()\n           .searchJql(q.getQuery(), q.getLimit(), q.getOffset(),\n                       Lists.newArraylist(\n                            &quot;timetracking&quot;,\n                            &quot;summary&quot;,\n                            &quot;issuetype&quot;,\n                            &quot;created&quot;,\n                            &quot;updated&quot;,\n                            &quot;project&quot;,\n                            &quot;status&quot;));\n</code></pre>\n"}],"owner":{"account_id":7526728,"reputation":548,"user_id":5716626,"accept_rate":100,"display_name":"Cosmin Oprea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1418,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":38698661,"answer_count":3,"score":2,"last_activity_date":1651025008,"creation_date":1470035562,"question_id":38692911,"body_markdown":"My below code is getting me a null pointer exception when I try to get time tracking for my issues , even if the issue have time tracking , I&#39;m using this api:\r\n\r\n &lt;dependency&gt;\r\n\r\n            &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\r\n\r\n            &lt;artifactId&gt;jira-rest-java-client-api&lt;/artifactId&gt;\r\n\r\n            &lt;version&gt;2.0.0-m19&lt;/version&gt;\r\n\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n\r\n            &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\r\n\r\n            &lt;artifactId&gt;jira-rest-java-client-core&lt;/artifactId&gt;\r\n\r\n            &lt;version&gt;2.0.0-m19&lt;/version&gt;\r\n\r\n        &lt;/dependency&gt;\r\n//\r\n\r\n    for (JiraFixVersion jiraFixVersion : listJiraFixVersionsProject) {\r\n            Iterator&lt;Issue&gt; issues = JiraClientManager.getInstance().getSearchResultSet(&quot;project=&#39;&quot; + jiraProject.getProjectName()\r\n                    + &quot;&#39; AND fixVersion =&quot; + &quot;&#39;&quot; + jiraFixVersion.getName() + &quot;&#39;&quot;).iterator();\r\n            Integer sumEstimatedTimeHours = 0;\r\n            while (issues.hasNext()) {\r\n                Issue issue = issues.next();\r\n                Integer estimatedTime =0;\r\n                try {\r\n    //Here is NullPointerException\r\n                    TimeTracking timeTracking = issue.getTimeTracking();\r\n                    \r\n                    estimatedTime = timeTracking.getOriginalEstimateMinutes();\r\n                    System.out.println(&quot;ok &quot;+issue.getKey());\r\n                }catch(NullPointerException e){\r\n                    System.out.println(&quot;Time Tracking null &quot;+ issue.getKey());\r\n                }\r\n                sumEstimatedTimeHours += estimatedTime;\r\n            }\r\n            returnMap.put(jiraFixVersion, sumEstimatedTimeHours);\r\n        }\r\n","title":"Jira REST API Time Tracking Null","body":"<p>My below code is getting me a null pointer exception when I try to get time tracking for my issues , even if the issue have time tracking , I'm using this api:</p>\n\n<p></p>\n\n<pre><code>        &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\n\n        &lt;artifactId&gt;jira-rest-java-client-api&lt;/artifactId&gt;\n\n        &lt;version&gt;2.0.0-m19&lt;/version&gt;\n\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n\n        &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\n\n        &lt;artifactId&gt;jira-rest-java-client-core&lt;/artifactId&gt;\n\n        &lt;version&gt;2.0.0-m19&lt;/version&gt;\n\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>//</p>\n\n<pre><code>for (JiraFixVersion jiraFixVersion : listJiraFixVersionsProject) {\n        Iterator&lt;Issue&gt; issues = JiraClientManager.getInstance().getSearchResultSet(\"project='\" + jiraProject.getProjectName()\n                + \"' AND fixVersion =\" + \"'\" + jiraFixVersion.getName() + \"'\").iterator();\n        Integer sumEstimatedTimeHours = 0;\n        while (issues.hasNext()) {\n            Issue issue = issues.next();\n            Integer estimatedTime =0;\n            try {\n//Here is NullPointerException\n                TimeTracking timeTracking = issue.getTimeTracking();\n\n                estimatedTime = timeTracking.getOriginalEstimateMinutes();\n                System.out.println(\"ok \"+issue.getKey());\n            }catch(NullPointerException e){\n                System.out.println(\"Time Tracking null \"+ issue.getKey());\n            }\n            sumEstimatedTimeHours += estimatedTime;\n        }\n        returnMap.put(jiraFixVersion, sumEstimatedTimeHours);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","azure","azureservicebus","messaging"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1650939553,"post_id":72007652,"comment_id":127236743,"body_markdown":"You&#39;ve read many resources but missed official examples like https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-boot-starter-java-app-with-azure-service-bus?","body":"You&#39;ve read many resources but missed official examples like <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-boot-starter-java-app-with-azure-service-bus\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/developer/java/spring-framew&zwnj;&#8203;ork/&hellip;</a>?"},{"owner":{"account_id":2912765,"reputation":738,"user_id":2496643,"display_name":"J_D"},"score":0,"creation_date":1651241781,"post_id":72007652,"comment_id":127324373,"body_markdown":"Is the error connecting to the service bus or to process the message?","body":"Is the error connecting to the service bus or to process the message?"},{"owner":{"account_id":23832062,"reputation":1,"user_id":17838221,"display_name":"Krishna"},"score":0,"creation_date":1651645025,"post_id":72007652,"comment_id":127409341,"body_markdown":"@Tom I have read jms. no support of azure service bus sessions. \n    Referred this. https://github.com/Azure/azure-service-bus/issues/444","body":"@Tom I have read jms. no support of azure service bus sessions.      Referred this. <a href=\"https://github.com/Azure/azure-service-bus/issues/444\" rel=\"nofollow noreferrer\">github.com/Azure/azure-service-bus/issues/444</a>"},{"owner":{"account_id":23832062,"reputation":1,"user_id":17838221,"display_name":"Krishna"},"score":0,"creation_date":1653112198,"post_id":72007652,"comment_id":127776452,"body_markdown":"@J_D error is in the process message","body":"@J_D error is in the process message"}],"owner":{"account_id":23832062,"reputation":1,"user_id":17838221,"display_name":"Krishna"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":686,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651024968,"creation_date":1650939274,"question_id":72007652,"body_markdown":"Requirement is to create a background listener process that will receive and process the message from the service bus subscriptions. \r\nI have searched many resources but couldnt able to find a solution. The message should not be in DELETE mode but rather be in PEEK_LOCK mode so that we can abandon the messages whenever an error occurs in the processing logic where it will re queue again. \r\nService bus tier : Standard. \r\nThank you. \r\n","title":"How to create an infinite receiver/listener in Azure Service Bus - Java Spring Boot","body":"<p>Requirement is to create a background listener process that will receive and process the message from the service bus subscriptions.\nI have searched many resources but couldnt able to find a solution. The message should not be in DELETE mode but rather be in PEEK_LOCK mode so that we can abandon the messages whenever an error occurs in the processing logic where it will re queue again.\nService bus tier : Standard.\nThank you.</p>\n"},{"tags":["java","php","encryption","hash","aes"],"comments":[{"owner":{"account_id":7638213,"reputation":585,"user_id":5791141,"display_name":"foreverska"},"score":4,"creation_date":1650396658,"post_id":72002569,"comment_id":127228064,"body_markdown":"Unless you have a very good reason, your IV should not be zero.  You should not even encrypt to things with the same IV, much less everything with zero.","body":"Unless you have a very good reason, your IV should not be zero.  You should not even encrypt to things with the same IV, much less everything with zero."}],"answers":[{"tags":[],"owner":{"account_id":4845190,"reputation":2004,"user_id":3909000,"accept_rate":44,"display_name":"CBHacking"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651024526,"creation_date":1650416305,"answer_id":72002570,"question_id":72002569,"body_markdown":"The most obvious flaw is that while both use PBKDF2, you&#39;re using HMAC-SHA2-256 as the PRF (pseudo-random function, i.e. hash algorithm) in the Java code, and SHA1 as the PRF in the PHP. That will of course produce two different keys (just as if you ran the same string through SHA1 and SHA2-256), so your text will get encrypted to two different ciphertexts and need the corresponding key in each case to decrypt it.\r\n\r\nYou also need to check that you&#39;re using the same cipher and padding scheme in both cases. You explicitly specify AES-256-CBC in PHP, but not the padding; you explicitly specify AES/CBC/PKCS5 in Java, but not the AES key size. In practice I suspect that it&#39;s correct here (Java probably generates a 256-bit AES key when passed a 256-bit KeySpec, and PHP `openssl_encrypt` with `AES-256-CBC` probably uses PKCS5 by default), but you shouldn&#39;t leave anything unspecified.\r\n\r\nOther thoughts:\r\n * Why use PBE/PBKDF2? Unless the `SECRET_KEY`/`$key` is a user-memorized value, there&#39;s no reason to do this every time; it&#39;s a waste of CPU time.\r\n * If the &quot;key&quot; is actually hardcoded (as it is in the example), that&#39;s even worse. Not only is it totally pointless to run PBKDF2 on a hardcoded &quot;key&quot; (password) and salt, it&#39;s a terrible idea to use a hardcoded key (or hardcoded derivation process for a key) because everything will get encrypted with that same key on every system, and anybody who sees your code or decompiles the app will know what key every bit of data this system ever touched was encrypted with.\r\n * As [@foreverska&#39;s comment](https://security.stackexchange.com/questions/261322/aes-256-encryption-java-to-php#comment540561_261322) points out, you should never reuse an IV, and should definitely never hardcode one. Using a zero IV is not _quite_ as bad as outright using ECB instead of CBC, but it&#39;s still very bad indeed. If you actually need to use an always-zero IV, somebody has screwed up very badly.\r\n * There&#39;s no integrity protection on this encryption. Bit-flipping attacks in CBC aren&#39;t quite as bad as in steam ciphers or stream-like modes of operation, but they&#39;re still a real threat. You need to protect the message integrity, ideally by using authenticated encryption (and verifying the authentication tag when decrypting).\r\n * Without looking at the decryption code we can&#39;t say for sure if this is a problem, but PKCS5 is potentially vulnerable to padding oracle attacks. Depending on how exactly the decryption process handles incorrect padding, an attacker who can try to decrypt the same message (plus attacker-chosen modification) many times may be able to decrypt the message without knowing the key themselves (though that&#39;s generally a moot point if you hardcode the key).","title":"AES 256 encryption Java to PHP","body":"<p>The most obvious flaw is that while both use PBKDF2, you're using HMAC-SHA2-256 as the PRF (pseudo-random function, i.e. hash algorithm) in the Java code, and SHA1 as the PRF in the PHP. That will of course produce two different keys (just as if you ran the same string through SHA1 and SHA2-256), so your text will get encrypted to two different ciphertexts and need the corresponding key in each case to decrypt it.</p>\n<p>You also need to check that you're using the same cipher and padding scheme in both cases. You explicitly specify AES-256-CBC in PHP, but not the padding; you explicitly specify AES/CBC/PKCS5 in Java, but not the AES key size. In practice I suspect that it's correct here (Java probably generates a 256-bit AES key when passed a 256-bit KeySpec, and PHP <code>openssl_encrypt</code> with <code>AES-256-CBC</code> probably uses PKCS5 by default), but you shouldn't leave anything unspecified.</p>\n<p>Other thoughts:</p>\n<ul>\n<li>Why use PBE/PBKDF2? Unless the <code>SECRET_KEY</code>/<code>$key</code> is a user-memorized value, there's no reason to do this every time; it's a waste of CPU time.</li>\n<li>If the &quot;key&quot; is actually hardcoded (as it is in the example), that's even worse. Not only is it totally pointless to run PBKDF2 on a hardcoded &quot;key&quot; (password) and salt, it's a terrible idea to use a hardcoded key (or hardcoded derivation process for a key) because everything will get encrypted with that same key on every system, and anybody who sees your code or decompiles the app will know what key every bit of data this system ever touched was encrypted with.</li>\n<li>As <a href=\"https://security.stackexchange.com/questions/261322/aes-256-encryption-java-to-php#comment540561_261322\">@foreverska's comment</a> points out, you should never reuse an IV, and should definitely never hardcode one. Using a zero IV is not <em>quite</em> as bad as outright using ECB instead of CBC, but it's still very bad indeed. If you actually need to use an always-zero IV, somebody has screwed up very badly.</li>\n<li>There's no integrity protection on this encryption. Bit-flipping attacks in CBC aren't quite as bad as in steam ciphers or stream-like modes of operation, but they're still a real threat. You need to protect the message integrity, ideally by using authenticated encryption (and verifying the authentication tag when decrypting).</li>\n<li>Without looking at the decryption code we can't say for sure if this is a problem, but PKCS5 is potentially vulnerable to padding oracle attacks. Depending on how exactly the decryption process handles incorrect padding, an attacker who can try to decrypt the same message (plus attacker-chosen modification) many times may be able to decrypt the message without knowing the key themselves (though that's generally a moot point if you hardcode the key).</li>\n</ul>\n"}],"owner":{"display_name":"Alberto Camilo Rodriguez Vizca"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":576,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651024526,"creation_date":1650395840,"question_id":72002569,"body_markdown":"I have a source code for data encryption aes256 based, but this code is Java and I want transform to PHP, I was trying with this example, but isn&#39;t correct. The examples in PHP use random IV but I require them to be zeros.\r\n```java\r\nprivate String encryptAES(String strToEncrypt) {\r\n\t\r\n\ttry {\r\n\t\tbyte[] iv = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };\r\n\t\tIvParameterSpec ivspec = new IvParameterSpec(iv);\r\n\r\n\t\tSecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n\t\tKeySpec spec = new PBEKeySpec(SECRET_KEY.toCharArray(), SALT.getBytes(), 65536, 256);\r\n\t\tSecretKey tmp = factory.generateSecret(spec);\r\n\t\tSecretKeySpec secretKey = new SecretKeySpec(tmp.getEncoded(), &quot;AES&quot;);\r\n\r\n\t\tCipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n\t\tcipher.init(Cipher.ENCRYPT_MODE, secretKey, ivspec);\r\n\t\treturn Base64.getEncoder().encodeToString(cipher.doFinal(strToEncrypt.getBytes(StandardCharsets.UTF_8)));\r\n\t} catch (Exception e) {\r\n\t\tlog.error(&quot;Error while encrypting: &quot; + e.toString());\r\n\t}\r\n\treturn null;\r\n}\r\n```\r\nI tried this\r\n```php\r\nfunction encrypt($data){\r\n    $method = &quot;AES-256-CBC&quot;;\r\n    $salt = &#39;vzQ8p=z&#39;;\r\n    $key =  &#39;!5&amp;3usT&#39;;\r\n\r\n    $iv = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];\r\n    $chars = array_map(&quot;chr&quot;, $iv);\r\n    $IVbytes = join($chars);\r\n\r\n    $hash = openssl_pbkdf2($key,$salt,&#39;256&#39;,&#39;65536&#39;, &#39;sha1&#39;);\r\n    $encrypted = openssl_encrypt($data, $method, $hash, OPENSSL_RAW_DATA, $IVbytes);\r\n    return base64_encode($encrypted);\r\n}\r\n```\r\n","title":"AES 256 encryption Java to PHP","body":"<p>I have a source code for data encryption aes256 based, but this code is Java and I want transform to PHP, I was trying with this example, but isn't correct. The examples in PHP use random IV but I require them to be zeros.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String encryptAES(String strToEncrypt) {\n    \n    try {\n        byte[] iv = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };\n        IvParameterSpec ivspec = new IvParameterSpec(iv);\n\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\n        KeySpec spec = new PBEKeySpec(SECRET_KEY.toCharArray(), SALT.getBytes(), 65536, 256);\n        SecretKey tmp = factory.generateSecret(spec);\n        SecretKeySpec secretKey = new SecretKeySpec(tmp.getEncoded(), &quot;AES&quot;);\n\n        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey, ivspec);\n        return Base64.getEncoder().encodeToString(cipher.doFinal(strToEncrypt.getBytes(StandardCharsets.UTF_8)));\n    } catch (Exception e) {\n        log.error(&quot;Error while encrypting: &quot; + e.toString());\n    }\n    return null;\n}\n</code></pre>\n<p>I tried this</p>\n<pre class=\"lang-php prettyprint-override\"><code>function encrypt($data){\n    $method = &quot;AES-256-CBC&quot;;\n    $salt = 'vzQ8p=z';\n    $key =  '!5&amp;3usT';\n\n    $iv = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];\n    $chars = array_map(&quot;chr&quot;, $iv);\n    $IVbytes = join($chars);\n\n    $hash = openssl_pbkdf2($key,$salt,'256','65536', 'sha1');\n    $encrypted = openssl_encrypt($data, $method, $hash, OPENSSL_RAW_DATA, $IVbytes);\n    return base64_encode($encrypted);\n}\n</code></pre>\n"},{"tags":["java","android","sql","android-studio"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1651002939,"post_id":72019614,"comment_id":127257069,"body_markdown":"By the way You are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"By the way You are using terrible date-time classes that were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."}],"answers":[{"tags":[],"owner":{"account_id":17183205,"reputation":15,"user_id":12438319,"display_name":"abdussamed17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651003660,"creation_date":1651003660,"answer_id":72019960,"question_id":72019614,"body_markdown":"I would use a thread to calculate to manage the timer and and a thread to run on user interface (runOnUiThread) to print the difference ino the textview by using a while or for loop. Like \r\n```\r\nwhile (isstarted= true) {\r\n TV.settext(difference);\r\n}\r\n```\r\nSo the key solution for this task is to provide a Code that doesnt block your main code in Java and allows further operation on the user interface (Clicklisteners, Touchlisteners...).\r\n\r\nFor this Purpose Threads are used.\r\n\r\nAnd the second thing is to use a loop to keep updating the textview with the timedifference. \r\n\r\nAnd you wont have to worry about blocking your main code with the loop since you are working with threads which run parallel to the main Program and not in series.","title":"get one time start and stop time in android studio java language","body":"<p>I would use a thread to calculate to manage the timer and and a thread to run on user interface (runOnUiThread) to print the difference ino the textview by using a while or for loop. Like</p>\n<pre><code>while (isstarted= true) {\n TV.settext(difference);\n}\n</code></pre>\n<p>So the key solution for this task is to provide a Code that doesnt block your main code in Java and allows further operation on the user interface (Clicklisteners, Touchlisteners...).</p>\n<p>For this Purpose Threads are used.</p>\n<p>And the second thing is to use a loop to keep updating the textview with the timedifference.</p>\n<p>And you wont have to worry about blocking your main code with the loop since you are working with threads which run parallel to the main Program and not in series.</p>\n"}],"owner":{"account_id":17662791,"reputation":33,"user_id":12820870,"display_name":"Muhammad Ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651024026,"creation_date":1651001907,"question_id":72019614,"body_markdown":"I have a button that show start time in textview on click then turn into text of button to stop and  when again click on same button it show stop time and make difference between two time. \r\nmy problem is that it take multiple time i means when i click again and again it show again new start and stop time. i want that once i get start time by clicking on button then get stop time and thats time shouldnt be change by again clicking on button untill it will save into database and clear the textboxes.\r\n\r\n```\r\npublic class Aircraft extends Fragment {\r\n\r\n    TextView tvstarttime;\r\n    Button btn_start;\r\n    Button btn_end;\r\n    TextView tvend;\r\n    TextView diffence;\r\n    boolean isStarted = false;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view= inflater.inflate(R.layout.fragment_aircraft, container, false);\r\n\r\n        tvstarttime = view.findViewById(R.id.txtstarttime);\r\n        btn_start = view.findViewById(R.id.btn_start);\r\n\r\n        tvend = view.findViewById(R.id.txtendtime);\r\n        diffence=view.findViewById(R.id.txtdifference);\r\n        btn_start.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                if (isStarted){\r\n                    Calendar calendar = Calendar.getInstance();\r\n                    SimpleDateFormat format = new SimpleDateFormat(&quot;hh:mm:ss aa&quot;);\r\n                    String time = format.format(calendar.getTime());\r\n\r\n\r\n                    tvend.setText(time);\r\n                    try {\r\n                        Date date1 = format.parse(tvend.getText().toString());\r\n                        Date date2 = format.parse(tvstarttime.getText().toString());\r\n                        long mills = date1.getTime() - date2.getTime();\r\n                        Log.v(&quot;Data1&quot;, &quot;&quot;+date1.getTime());\r\n                        Log.v(&quot;Data2&quot;, &quot;&quot;+date2.getTime());\r\n                        int hours = (int) (mills/(1000 * 60 * 60));\r\n                        int mins = (int) (mills % (1000*60*60));\r\n\r\n                        String diff = hours + &quot;:&quot; + mins;\r\n                        diffence.setText(diff);\r\n                    } catch (ParseException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    btn_start.setText(&quot;START&quot;);\r\n                }else {\r\n                    Calendar calendar = Calendar.getInstance();\r\n                    SimpleDateFormat format = new SimpleDateFormat(&quot;hh:mm:ss aa&quot;);\r\n                    String time1 = format.format(calendar.getTime());\r\n\r\n\r\n                    tvstarttime.setText(time1);\r\n                    btn_start.setText(&quot;STOP&quot;);\r\n                }\r\n                isStarted = !isStarted;\r\n\r\n\r\n\r\n            }\r\n        });\r\n        return view;\r\n    }\r\n}\r\n```","title":"get one time start and stop time in android studio java language","body":"<p>I have a button that show start time in textview on click then turn into text of button to stop and  when again click on same button it show stop time and make difference between two time.\nmy problem is that it take multiple time i means when i click again and again it show again new start and stop time. i want that once i get start time by clicking on button then get stop time and thats time shouldnt be change by again clicking on button untill it will save into database and clear the textboxes.</p>\n<pre><code>public class Aircraft extends Fragment {\n\n    TextView tvstarttime;\n    Button btn_start;\n    Button btn_end;\n    TextView tvend;\n    TextView diffence;\n    boolean isStarted = false;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view= inflater.inflate(R.layout.fragment_aircraft, container, false);\n\n        tvstarttime = view.findViewById(R.id.txtstarttime);\n        btn_start = view.findViewById(R.id.btn_start);\n\n        tvend = view.findViewById(R.id.txtendtime);\n        diffence=view.findViewById(R.id.txtdifference);\n        btn_start.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                if (isStarted){\n                    Calendar calendar = Calendar.getInstance();\n                    SimpleDateFormat format = new SimpleDateFormat(&quot;hh:mm:ss aa&quot;);\n                    String time = format.format(calendar.getTime());\n\n\n                    tvend.setText(time);\n                    try {\n                        Date date1 = format.parse(tvend.getText().toString());\n                        Date date2 = format.parse(tvstarttime.getText().toString());\n                        long mills = date1.getTime() - date2.getTime();\n                        Log.v(&quot;Data1&quot;, &quot;&quot;+date1.getTime());\n                        Log.v(&quot;Data2&quot;, &quot;&quot;+date2.getTime());\n                        int hours = (int) (mills/(1000 * 60 * 60));\n                        int mins = (int) (mills % (1000*60*60));\n\n                        String diff = hours + &quot;:&quot; + mins;\n                        diffence.setText(diff);\n                    } catch (ParseException e) {\n                        e.printStackTrace();\n                    }\n                    btn_start.setText(&quot;START&quot;);\n                }else {\n                    Calendar calendar = Calendar.getInstance();\n                    SimpleDateFormat format = new SimpleDateFormat(&quot;hh:mm:ss aa&quot;);\n                    String time1 = format.format(calendar.getTime());\n\n\n                    tvstarttime.setText(time1);\n                    btn_start.setText(&quot;STOP&quot;);\n                }\n                isStarted = !isStarted;\n\n\n\n            }\n        });\n        return view;\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","user-interface","future","event-dispatch-thread"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1651024895,"post_id":72022369,"comment_id":127261606,"body_markdown":"This `while (true) {`, inside `process` is your core problem.  `process` is executed within the context of the Event Dispatching Thread, so your `while (true)` will block the EDT and nothing will ever get updated, until you some how magically break out of it.  This work should be done in `doBackground` and `publish`/`process` should be used to &quot;publish&quot; updates that are &quot;processed&quot; on the EDT. Additional `while(true)` is really bad, make the effort to actually design a reasonable exit condition to the loop","body":"This <code>while (true) {</code>, inside <code>process</code> is your core problem.  <code>process</code> is executed within the context of the Event Dispatching Thread, so your <code>while (true)</code> will block the EDT and nothing will ever get updated, until you some how magically break out of it.  This work should be done in <code>doBackground</code> and <code>publish</code>/<code>process</code> should be used to &quot;publish&quot; updates that are &quot;processed&quot; on the EDT. Additional <code>while(true)</code> is really bad, make the effort to actually design a reasonable exit condition to the loop"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1651024936,"post_id":72022369,"comment_id":127261610,"body_markdown":"If you find yourself using `SwingUtilities.invokeLater` with a `SwingWorker`, then you&#39;re using it wrong","body":"If you find yourself using <code>SwingUtilities.invokeLater</code> with a <code>SwingWorker</code>, then you&#39;re using it wrong"},{"owner":{"account_id":2030026,"reputation":115,"user_id":1813989,"display_name":"LasithaMD"},"score":0,"creation_date":1651030984,"post_id":72022369,"comment_id":127262445,"body_markdown":"yes @MadProgrammer I thought that too when I design the api but that approach brings me further doubts when dealing with the ``` List&lt;T&gt; chunks ``` in process method. the problem is that sometimes the chunks will be lost because of the rate events produced and I had to define manually the ``` Thread.sleep(x) ``` to make it work. it&#39;s a trial and error method which I really like to avoid.","body":"yes @MadProgrammer I thought that too when I design the api but that approach brings me further doubts when dealing with the ``` List&lt;T&gt; chunks ``` in process method. the problem is that sometimes the chunks will be lost because of the rate events produced and I had to define manually the ``` Thread.sleep(x) ``` to make it work. it&#39;s a trial and error method which I really like to avoid."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1651031270,"post_id":72022369,"comment_id":127262488,"body_markdown":"If you have a look at [the JavaDocs for `SwingWorker`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/SwingWorker.html) it actually demonstrates how you can use it with `JProgressBar`, but, admittedly, you need to implement a `PropertyChangeListener` to catch the progress events.  The `chuncks` are, generally, any data &quot;chuncks&quot; you might want synched with the UI, you could, technically just `publish` progress values and in `process` get the last `chunck` and update the progress bar accordingly","body":"If you have a look at <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/SwingWorker.html\" rel=\"nofollow noreferrer\">the JavaDocs for <code>SwingWorker</code></a> it actually demonstrates how you can use it with <code>JProgressBar</code>, but, admittedly, you need to implement a <code>PropertyChangeListener</code> to catch the progress events.  The <code>chuncks</code> are, generally, any data &quot;chuncks&quot; you might want synched with the UI, you could, technically just <code>publish</code> progress values and in <code>process</code> get the last <code>chunck</code> and update the progress bar accordingly"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1651031422,"post_id":72022369,"comment_id":127262511,"body_markdown":"*&quot;the problem is that sometimes the chunks will be lost because of the rate events produced&quot;* - You&#39;d probably have the same issue with `EventQueue.invokeLater` as you&#39;re starving the EDT (the &quot;processing&quot; loop is running too fast/to often).  `Thread.yield` might help. Equally, you could also consider something like [Coalescing (combining) high frequency events to improve performance](https://www.logicbig.com/tutorials/java-swing/coalesce-events.html)","body":"<i>&quot;the problem is that sometimes the chunks will be lost because of the rate events produced&quot;</i> - You&#39;d probably have the same issue with <code>EventQueue.invokeLater</code> as you&#39;re starving the EDT (the &quot;processing&quot; loop is running too fast/to often).  <code>Thread.yield</code> might help. Equally, you could also consider something like <a href=\"https://www.logicbig.com/tutorials/java-swing/coalesce-events.html\" rel=\"nofollow noreferrer\">Coalescing (combining) high frequency events to improve performance</a>"}],"owner":{"account_id":2030026,"reputation":115,"user_id":1813989,"display_name":"LasithaMD"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651023730,"creation_date":1651023730,"question_id":72022369,"body_markdown":"I&#39;m using SwingWorker&lt;T, R&gt; for a while now to handle updates on EDT and recently faced a situation where this approach won&#39;t help to continue the task. here is my code and scenario.\r\n\r\nMy code contains several abstractions to handle the flow correctly\r\n\r\n1. AbstractOperationsManager - contains common code for each Operations manager\r\n2. Initializer - a concrete implementation of operation manager in the flow\r\n3. JProgressBarConsumer - a wrapper for abstracting routines related to UI from operations manager implementation\r\n3. OperationObserver - handling operation event updates\r\n4. OperationBroker - a mediator between OperationManager and OperationObserver\r\n\r\n```\r\npackage org.app.core.api;\r\n\r\nimport java.util.Iterator;\r\nimport ...\r\n\r\npublic abstract class AbstractOperationManager extends SwingWorker&lt;Void, Void&gt; {\r\n\r\n    private OperationBroker broker;\r\n    private final Logger log = LoggerFactory.getLogger(AbstractOperationManager.class);\r\n    private final List&lt;UIConsumer&gt; uiconsumer;\r\n    private volatile boolean cancelled;\r\n\r\n    public AbstractOperationManager() {\r\n        super();\r\n        this.uiconsumer = new LinkedList&lt;&gt;();\r\n        this.cancelled = false;\r\n    }\r\n\r\n    public abstract void init(OperationBroker broker);\r\n\r\n    public void addOperationsBroker(OperationBroker broker) {\r\n        this.broker = broker;\r\n    }\r\n\r\n    public void addUIConsumer(UIConsumer consumer) {\r\n        this.uiconsumer.add(consumer);\r\n    }\r\n\r\n    /**\r\n     * customized method to inform observers of implicit cancellation of\r\n     * operations because of either exception or for intentional purposes\r\n     * \r\n     * @return boolean\r\n     */\r\n    public boolean isOperationCancelled() {\r\n        return cancelled;\r\n    }\r\n\r\n    @Override\r\n    protected void process(List&lt;Void&gt; chunks) {\r\n        while (true) {\r\n            OperationEvent latestE = this.broker.getObserver().getLatestEvent();\r\n\r\n            if (latestE.getOperationType().equals(Operation.OPERATION_TYPE.TERMINATE)) {\r\n                OperationTerminationEvent ote = (OperationTerminationEvent) latestE;\r\n                if (ote.isExecThrown()) {\r\n                    //log for exception\r\n                    cancel(true);\r\n                    cancelled = true;\r\n                }\r\n                break;\r\n            } else if (latestE.getOperationType().equals(Operation.OPERATION_TYPE.LOG)) {\r\n                //perform logging operations\r\n\r\n            } else {\r\n                SwingUtilities.invokeLater(()-&gt; this.uiconsumer\r\n                                .forEach(consumer-&gt; consumer\r\n                                                .consumeEvent(latestE)));\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected Void doInBackground() throws Exception {\r\n        publish();\r\n        broker.operate();\r\n        return null;\r\n    }\r\n}\r\n```\r\nThe key execution point which results in updating the GUI is the iterator in ``` uiconsumer ```. It&#39;s an abstraction for a specific UI component to handle its flow and in this case, ``` JProgressBar ```.\r\n\r\nOne reason for adding a bogus ``` publish() ``` call is to trigger the **chunk processing** and it is the broker who performs the operations and supplies the updates for the individual operations carried out.\r\n\r\n```\r\npackage org.app.util;\r\n\r\nimport org.app.core.api.OperationEvent;\r\nimport org.app.core.api.OperationObserver;\r\n\r\npublic class SystemOperationObserver implements OperationObserver {\r\n\r\n    private OperationEvent event;\r\n\r\n    @Override\r\n    public void notifyObserver(OperationEvent event) {\r\n        try {\r\n            eventQueue.put(event);\r\n        } catch (InterruptedException ex) {\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int queuedCount() {\r\n        return eventQueue.size();\r\n    }\r\n\r\n    @Override\r\n    public OperationEvent getLatestEvent() {\r\n        OperationEvent event = null;\r\n        try {\r\n            event = eventQueue.take();\r\n        } catch (InterruptedException ex) {\r\n            Thread.currentThread().interrupt();\r\n        }\r\n        return event;\r\n    }\r\n}\r\n```\r\nOperationObserver is the event supplier which contains a ``` LinkedBlockingQueue&lt;T&gt; ``` for carrying out updates from several threads in OperationManager. Each and every operation holds access to this **observer** \r\n\r\n```\r\npackage org.app.views.components;\r\n\r\nimport java.util.concurrent.TimeUnit;\r\nimport ...\r\n\r\npublic class JProgressBarConsumer implements UIConsumer {\r\n\r\n    private JProgressBar progress;\r\n    private Predicate&lt;OperationEvent&gt; predicate;\r\n\r\n    public JProgressBarConsumer(JProgressBar progress) {\r\n        this.progress = progress;\r\n        this.progress.setStringPainted(true);\r\n        this.progress.setValue(0);\r\n    }\r\n\r\n    private boolean filterEvent(OperationEvent event) {\r\n        if (this.predicate != null) {\r\n            return this.predicate.test(event);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public void on(Predicate&lt;OperationEvent&gt; eventFilter) {\r\n        this.predicate = eventFilter;\r\n    }\r\n\r\n    @Override\r\n    public void consumeEvent(OperationEvent event) {\r\n        boolean shouldContinue = filterEvent(event);\r\n        if (shouldContinue) {\r\n            int currentProgress = this.progress.getValue();\r\n            int percentage = (int) event.getPercentage() + currentProgress;\r\n            this.progress.setValue(percentage);     \r\n            this.progress.repaint();\r\n            try {\r\n                TimeUnit.MILLISECONDS.sleep(60);\r\n            } catch (InterruptedException ex) {\r\n                Thread.currentThread().interrupt();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n```\r\npackage org.app.util;\r\n\r\nimport java.util.concurrent.CountDownLatch;\r\nimport ...\r\n\r\npublic class Initializer extends AbstractOperationManager {\r\n\r\n    private CountDownLatch hook;\r\n\r\n    public Initializer() {\r\n        super();\r\n        hook = new CountDownLatch(1);\r\n    }\r\n\r\n    @Override\r\n    public void init(OperationBroker broker) {\r\n        addOperationsBroker(broker);\r\n    }\r\n\r\n    public CountDownLatch getHook() {\r\n        return hook;\r\n    }\r\n\r\n    @Override\r\n    protected void done() {\r\n        boolean isOpcancelled = this.isOperationCancelled();\r\n        if (!isOpcancelled) {\r\n            hook.countDown();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nScenario\r\n\r\nThe code should update the JProgressBar visually but what it really does is update only the last event progress (which the value is 100) and ignore the rest. \r\n\r\nOne reason could be that there should be a greater interval between UI events consumed by the ``` JProgressBarConsumer ``` ``` TimeUnit.MILLISECONDS.sleep(60); ```\r\n\r\nAnother reason could be the code block the EDT between the operations because of ``` LinkedBlockingQueue ``` behavior until the Latch Release the control\r\n\r\nQuestions\r\n\r\n - What could really be the cause of not updating JPogressBar? \r\n - The ``` cancel(true) ``` in AbstractOperationsManager isn&#39;t working properly (It&#39;s a problem with ``` Future ``` of course but please shed some light on that) and had to introduce a breaker manually. I did tons of research to understand the ``` Future ``` behavior and its **cancellation** process and still no luck.","title":"JProgressBar won&#39;t perform updates on UI used through SwingWorker&lt;T, R&gt;","body":"<p>I'm using SwingWorker&lt;T, R&gt; for a while now to handle updates on EDT and recently faced a situation where this approach won't help to continue the task. here is my code and scenario.</p>\n<p>My code contains several abstractions to handle the flow correctly</p>\n<ol>\n<li>AbstractOperationsManager - contains common code for each Operations manager</li>\n<li>Initializer - a concrete implementation of operation manager in the flow</li>\n<li>JProgressBarConsumer - a wrapper for abstracting routines related to UI from operations manager implementation</li>\n<li>OperationObserver - handling operation event updates</li>\n<li>OperationBroker - a mediator between OperationManager and OperationObserver</li>\n</ol>\n<pre><code>package org.app.core.api;\n\nimport java.util.Iterator;\nimport ...\n\npublic abstract class AbstractOperationManager extends SwingWorker&lt;Void, Void&gt; {\n\n    private OperationBroker broker;\n    private final Logger log = LoggerFactory.getLogger(AbstractOperationManager.class);\n    private final List&lt;UIConsumer&gt; uiconsumer;\n    private volatile boolean cancelled;\n\n    public AbstractOperationManager() {\n        super();\n        this.uiconsumer = new LinkedList&lt;&gt;();\n        this.cancelled = false;\n    }\n\n    public abstract void init(OperationBroker broker);\n\n    public void addOperationsBroker(OperationBroker broker) {\n        this.broker = broker;\n    }\n\n    public void addUIConsumer(UIConsumer consumer) {\n        this.uiconsumer.add(consumer);\n    }\n\n    /**\n     * customized method to inform observers of implicit cancellation of\n     * operations because of either exception or for intentional purposes\n     * \n     * @return boolean\n     */\n    public boolean isOperationCancelled() {\n        return cancelled;\n    }\n\n    @Override\n    protected void process(List&lt;Void&gt; chunks) {\n        while (true) {\n            OperationEvent latestE = this.broker.getObserver().getLatestEvent();\n\n            if (latestE.getOperationType().equals(Operation.OPERATION_TYPE.TERMINATE)) {\n                OperationTerminationEvent ote = (OperationTerminationEvent) latestE;\n                if (ote.isExecThrown()) {\n                    //log for exception\n                    cancel(true);\n                    cancelled = true;\n                }\n                break;\n            } else if (latestE.getOperationType().equals(Operation.OPERATION_TYPE.LOG)) {\n                //perform logging operations\n\n            } else {\n                SwingUtilities.invokeLater(()-&gt; this.uiconsumer\n                                .forEach(consumer-&gt; consumer\n                                                .consumeEvent(latestE)));\n            }\n        }\n    }\n\n    @Override\n    protected Void doInBackground() throws Exception {\n        publish();\n        broker.operate();\n        return null;\n    }\n}\n</code></pre>\n<p>The key execution point which results in updating the GUI is the iterator in <code>uiconsumer</code>. It's an abstraction for a specific UI component to handle its flow and in this case, <code>JProgressBar</code>.</p>\n<p>One reason for adding a bogus <code>publish()</code> call is to trigger the <strong>chunk processing</strong> and it is the broker who performs the operations and supplies the updates for the individual operations carried out.</p>\n<pre><code>package org.app.util;\n\nimport org.app.core.api.OperationEvent;\nimport org.app.core.api.OperationObserver;\n\npublic class SystemOperationObserver implements OperationObserver {\n\n    private OperationEvent event;\n\n    @Override\n    public void notifyObserver(OperationEvent event) {\n        try {\n            eventQueue.put(event);\n        } catch (InterruptedException ex) {\n            Thread.currentThread().interrupt();\n        }\n    }\n\n    @Override\n    public int queuedCount() {\n        return eventQueue.size();\n    }\n\n    @Override\n    public OperationEvent getLatestEvent() {\n        OperationEvent event = null;\n        try {\n            event = eventQueue.take();\n        } catch (InterruptedException ex) {\n            Thread.currentThread().interrupt();\n        }\n        return event;\n    }\n}\n</code></pre>\n<p>OperationObserver is the event supplier which contains a <code>LinkedBlockingQueue&lt;T&gt;</code> for carrying out updates from several threads in OperationManager. Each and every operation holds access to this <strong>observer</strong></p>\n<pre><code>package org.app.views.components;\n\nimport java.util.concurrent.TimeUnit;\nimport ...\n\npublic class JProgressBarConsumer implements UIConsumer {\n\n    private JProgressBar progress;\n    private Predicate&lt;OperationEvent&gt; predicate;\n\n    public JProgressBarConsumer(JProgressBar progress) {\n        this.progress = progress;\n        this.progress.setStringPainted(true);\n        this.progress.setValue(0);\n    }\n\n    private boolean filterEvent(OperationEvent event) {\n        if (this.predicate != null) {\n            return this.predicate.test(event);\n        }\n        return true;\n    }\n\n    @Override\n    public void on(Predicate&lt;OperationEvent&gt; eventFilter) {\n        this.predicate = eventFilter;\n    }\n\n    @Override\n    public void consumeEvent(OperationEvent event) {\n        boolean shouldContinue = filterEvent(event);\n        if (shouldContinue) {\n            int currentProgress = this.progress.getValue();\n            int percentage = (int) event.getPercentage() + currentProgress;\n            this.progress.setValue(percentage);     \n            this.progress.repaint();\n            try {\n                TimeUnit.MILLISECONDS.sleep(60);\n            } catch (InterruptedException ex) {\n                Thread.currentThread().interrupt();\n            }\n        }\n    }\n}\n</code></pre>\n<pre><code>package org.app.util;\n\nimport java.util.concurrent.CountDownLatch;\nimport ...\n\npublic class Initializer extends AbstractOperationManager {\n\n    private CountDownLatch hook;\n\n    public Initializer() {\n        super();\n        hook = new CountDownLatch(1);\n    }\n\n    @Override\n    public void init(OperationBroker broker) {\n        addOperationsBroker(broker);\n    }\n\n    public CountDownLatch getHook() {\n        return hook;\n    }\n\n    @Override\n    protected void done() {\n        boolean isOpcancelled = this.isOperationCancelled();\n        if (!isOpcancelled) {\n            hook.countDown();\n        }\n    }\n}\n</code></pre>\n<p>Scenario</p>\n<p>The code should update the JProgressBar visually but what it really does is update only the last event progress (which the value is 100) and ignore the rest.</p>\n<p>One reason could be that there should be a greater interval between UI events consumed by the <code>JProgressBarConsumer</code> <code>TimeUnit.MILLISECONDS.sleep(60);</code></p>\n<p>Another reason could be the code block the EDT between the operations because of <code>LinkedBlockingQueue</code> behavior until the Latch Release the control</p>\n<p>Questions</p>\n<ul>\n<li>What could really be the cause of not updating JPogressBar?</li>\n<li>The <code>cancel(true)</code> in AbstractOperationsManager isn't working properly (It's a problem with <code>Future</code> of course but please shed some light on that) and had to introduce a breaker manually. I did tons of research to understand the <code>Future</code> behavior and its <strong>cancellation</strong> process and still no luck.</li>\n</ul>\n"},{"tags":["java","nullpointerexception","null","option-type","nullable"],"answers":[{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650825015,"creation_date":1650825015,"answer_id":71991248,"question_id":71984355,"body_markdown":"The [Nullness Checker](https://checkerframework.org/manual/#nullness-checker) of the [Checker Framework](https://checkerframework.org/) does this.\r\n\r\nRegarding your first requirement, the [Nullness Checker documentation](https://checkerframework.org/manual/#nullness-checker) says: \r\n\r\n&gt; The most important annotations supported by the Nullness Checker are [`@NonNull`](https://checkerframework.org/api/org/checkerframework/checker/nullness/qual/NonNull.html) and [`@Nullable`](https://checkerframework.org/api/org/checkerframework/checker/nullness/qual/Nullable.html). `@NonNull` is rarely written, because it is the default.\r\n\r\nRegarding your second requirement, you can use the `-AonlyDefs` command-line option.  Its [documentation](https://checkerframework.org/manual/#askipdefs) says:\r\n\r\n&gt; set the `-AonlyDefs` command-line option to a regular expression that matches class names (not file names) whose definitions should be type-checked.\r\n\r\nIt matches fully-qualified class names, so you can specify a package name.\r\n","title":"Compilation Check Plugin Framework to enforce no null return","body":"<p>The <a href=\"https://checkerframework.org/manual/#nullness-checker\" rel=\"nofollow noreferrer\">Nullness Checker</a> of the <a href=\"https://checkerframework.org/\" rel=\"nofollow noreferrer\">Checker Framework</a> does this.</p>\n<p>Regarding your first requirement, the <a href=\"https://checkerframework.org/manual/#nullness-checker\" rel=\"nofollow noreferrer\">Nullness Checker documentation</a> says:</p>\n<blockquote>\n<p>The most important annotations supported by the Nullness Checker are <a href=\"https://checkerframework.org/api/org/checkerframework/checker/nullness/qual/NonNull.html\" rel=\"nofollow noreferrer\"><code>@NonNull</code></a> and <a href=\"https://checkerframework.org/api/org/checkerframework/checker/nullness/qual/Nullable.html\" rel=\"nofollow noreferrer\"><code>@Nullable</code></a>. <code>@NonNull</code> is rarely written, because it is the default.</p>\n</blockquote>\n<p>Regarding your second requirement, you can use the <code>-AonlyDefs</code> command-line option.  Its <a href=\"https://checkerframework.org/manual/#askipdefs\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n<blockquote>\n<p>set the <code>-AonlyDefs</code> command-line option to a regular expression that matches class names (not file names) whose definitions should be type-checked.</p>\n</blockquote>\n<p>It matches fully-qualified class names, so you can specify a package name.</p>\n"},{"tags":[],"owner":{"account_id":25069740,"reputation":13,"user_id":18923693,"display_name":"George Measley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651022995,"creation_date":1651022995,"answer_id":72022314,"question_id":71984355,"body_markdown":"In addition to the accepted answer from mernst, I have also found the NullAway plugin for the ErrorProne framework. \r\nTutorial: https://www.baeldung.com/java-nullaway\r\nMain page: https://github.com/uber/NullAway\r\n\r\nWill have to try out both at some point, so far they seem both to match what I need. ","title":"Compilation Check Plugin Framework to enforce no null return","body":"<p>In addition to the accepted answer from mernst, I have also found the NullAway plugin for the ErrorProne framework.\nTutorial: <a href=\"https://www.baeldung.com/java-nullaway\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-nullaway</a>\nMain page: <a href=\"https://github.com/uber/NullAway\" rel=\"nofollow noreferrer\">https://github.com/uber/NullAway</a></p>\n<p>Will have to try out both at some point, so far they seem both to match what I need.</p>\n"}],"owner":{"account_id":25069740,"reputation":13,"user_id":18923693,"display_name":"George Measley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71991248,"answer_count":2,"score":1,"last_activity_date":1651022995,"creation_date":1650756588,"question_id":71984355,"body_markdown":"Is there any framework / compiler plugin / static analysis tool for Java that \r\n\r\n - Enforces that all return values are non-null unless they are explicitly marked as Nullable (via annotation or another way)\r\n - in a given list of packages \r\n\r\n\r\nIn essence that would mean enforcing the Kotlin model, where by default nothing can be null, unless it is specifically marked. \r\n\r\nNote that a tool that just looks for @Notnull annotations and enforces only those would not be sufficient, not allowing null return values should be the default. Alternatively the tool can focus on dereferencing values that might be null and enforce that they cannot be null unless marked as such and then they may require you to do a null check. \r\n\r\nYou can obviously still bring questions that go for that kind of solution up as related questions obviously to link them together. Also happy to find out whether this has already been asked, did not find a matching existing question myself.","title":"Compilation Check Plugin Framework to enforce no null return","body":"<p>Is there any framework / compiler plugin / static analysis tool for Java that</p>\n<ul>\n<li>Enforces that all return values are non-null unless they are explicitly marked as Nullable (via annotation or another way)</li>\n<li>in a given list of packages</li>\n</ul>\n<p>In essence that would mean enforcing the Kotlin model, where by default nothing can be null, unless it is specifically marked.</p>\n<p>Note that a tool that just looks for @Notnull annotations and enforces only those would not be sufficient, not allowing null return values should be the default. Alternatively the tool can focus on dereferencing values that might be null and enforce that they cannot be null unless marked as such and then they may require you to do a null check.</p>\n<p>You can obviously still bring questions that go for that kind of solution up as related questions obviously to link them together. Also happy to find out whether this has already been asked, did not find a matching existing question myself.</p>\n"},{"tags":["java","scala","coursier"],"owner":{"account_id":5317826,"reputation":7135,"user_id":4242086,"accept_rate":100,"display_name":"Jaime Montoya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651022793,"creation_date":1651022793,"question_id":72022299,"body_markdown":"I am using the [coursier][1] tool to prepare my Scala environment. I ran the following:\r\n\r\n    C:\\Users\\jaime&gt;cs setup\r\n    Checking if a JVM is installed\r\n    Found a JVM installed under C:\\Program Files\\Java\\jre1.8.0_271.\r\n    \r\n    Checking if ~\\AppData\\Local\\Coursier\\data\\bin is in PATH\r\n      Should we add ~\\AppData\\Local\\Coursier\\data\\bin to your PATH? [Y/n] Y\r\n    \r\n    Checking if the standard Scala applications are installed\r\n      Found ammonite\r\n      Found cs\r\n      Found coursier\r\n      Found scala\r\n      Found scalac\r\n      Found sbt\r\n      Found sbtn\r\n      Found scalafmt\r\n    \r\n    \r\n    C:\\Users\\jaime&gt;cs launch scala\r\n    Exception in thread &quot;main&quot; java.lang.Exception: C:\\Program Files\\Java\\jre1.8.0_271\\java\\bin not found\r\n            at coursier.jvm.JavaHome.$anonfun$javaBin$1(JavaHome.scala:159)\r\n            at coursier.jvm.JavaHome.$anonfun$javaBin$1$adapted(JavaHome.scala:156)\r\n            at coursier.util.Task$.$anonfun$flatMap$extension$1(Task.scala:14)\r\n            at coursier.util.Task$.$anonfun$flatMap$extension$1$adapted(Task.scala:14)\r\n            at coursier.util.Task$.wrap(Task.scala:82)\r\n            at coursier.util.Task$.$anonfun$flatMap$2(Task.scala:14)\r\n            at scala.concurrent.Future.$anonfun$flatMap$1(Future.scala:307)\r\n            at scala.concurrent.impl.Promise.$anonfun$transformWith$1(Promise.scala:41)\r\n            at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n            at java.lang.Thread.run(Thread.java:833)\r\n            at com.oracle.svm.core.thread.JavaThreads.threadStartRoutine(JavaThreads.java:597)\r\n            at com.oracle.svm.core.windows.WindowsJavaThreads.osThreadStartRoutine(WindowsJavaThreads.java:140)\r\n\r\nI see that the root cause of the error is that the process is trying to find Java in `C:\\Program Files\\Java\\jre1.8.0_271\\java\\bin`. When I examine the folders, I have this folder structure:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI think the process should be looking for `C:\\Program Files\\Java\\jdk1.8.0_271\\bin`, not `C:\\Program Files\\Java\\jre1.8.0_271\\java\\bin`.\r\n\r\nIs this path something I can manipulate or is this some kind of bug in the coursier tool? I am following the instructions at https://get-coursier.io/docs/cli-launch.\r\n\r\n\r\n  [1]: https://get-coursier.io/\r\n  [2]: https://i.stack.imgur.com/XxWaH.png","title":"Why is `cs launch scala` (coursier tool) looking for Java in a wrong location?","body":"<p>I am using the <a href=\"https://get-coursier.io/\" rel=\"nofollow noreferrer\">coursier</a> tool to prepare my Scala environment. I ran the following:</p>\n<pre><code>C:\\Users\\jaime&gt;cs setup\nChecking if a JVM is installed\nFound a JVM installed under C:\\Program Files\\Java\\jre1.8.0_271.\n\nChecking if ~\\AppData\\Local\\Coursier\\data\\bin is in PATH\n  Should we add ~\\AppData\\Local\\Coursier\\data\\bin to your PATH? [Y/n] Y\n\nChecking if the standard Scala applications are installed\n  Found ammonite\n  Found cs\n  Found coursier\n  Found scala\n  Found scalac\n  Found sbt\n  Found sbtn\n  Found scalafmt\n\n\nC:\\Users\\jaime&gt;cs launch scala\nException in thread &quot;main&quot; java.lang.Exception: C:\\Program Files\\Java\\jre1.8.0_271\\java\\bin not found\n        at coursier.jvm.JavaHome.$anonfun$javaBin$1(JavaHome.scala:159)\n        at coursier.jvm.JavaHome.$anonfun$javaBin$1$adapted(JavaHome.scala:156)\n        at coursier.util.Task$.$anonfun$flatMap$extension$1(Task.scala:14)\n        at coursier.util.Task$.$anonfun$flatMap$extension$1$adapted(Task.scala:14)\n        at coursier.util.Task$.wrap(Task.scala:82)\n        at coursier.util.Task$.$anonfun$flatMap$2(Task.scala:14)\n        at scala.concurrent.Future.$anonfun$flatMap$1(Future.scala:307)\n        at scala.concurrent.impl.Promise.$anonfun$transformWith$1(Promise.scala:41)\n        at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.lang.Thread.run(Thread.java:833)\n        at com.oracle.svm.core.thread.JavaThreads.threadStartRoutine(JavaThreads.java:597)\n        at com.oracle.svm.core.windows.WindowsJavaThreads.osThreadStartRoutine(WindowsJavaThreads.java:140)\n</code></pre>\n<p>I see that the root cause of the error is that the process is trying to find Java in <code>C:\\Program Files\\Java\\jre1.8.0_271\\java\\bin</code>. When I examine the folders, I have this folder structure:</p>\n<p><a href=\"https://i.stack.imgur.com/XxWaH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XxWaH.png\" alt=\"enter image description here\" /></a></p>\n<p>I think the process should be looking for <code>C:\\Program Files\\Java\\jdk1.8.0_271\\bin</code>, not <code>C:\\Program Files\\Java\\jre1.8.0_271\\java\\bin</code>.</p>\n<p>Is this path something I can manipulate or is this some kind of bug in the coursier tool? I am following the instructions at <a href=\"https://get-coursier.io/docs/cli-launch\" rel=\"nofollow noreferrer\">https://get-coursier.io/docs/cli-launch</a>.</p>\n"},{"tags":["java","arrays","performance","linear-algebra","jblas"],"answers":[{"tags":[],"owner":{"account_id":24226888,"reputation":458,"user_id":18181243,"display_name":"iroli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651022493,"creation_date":1651018092,"answer_id":72021860,"question_id":72015005,"body_markdown":"For one row you can do it as in this piece of code using row number for example\r\n\r\n    void oneRow() {\r\n        DoubleMatrix matrix = new DoubleMatrix(new double[][] {\r\n                {11,12,13},\r\n                {21,22,23},\r\n                {31,32,33}});\r\n        DoubleMatrix otherRow = new DoubleMatrix(new double[][] {{-11, -12, -13}});\r\n\r\n        int rowNumber = 0;\r\n        DoubleMatrix row = matrix.getRow(rowNumber);\r\n        row.addiRowVector(otherRow);\r\n        matrix.putRow(rowNumber, row);\r\n\r\n        System.out.println(matrix);\r\n    }\r\n\r\nas result you&#39;ll see\r\n\r\n    [0,000000, 0,000000, 0,000000; 21,000000, 22,000000, 23,000000; 31,000000, 32,000000, 33,000000]\r\n\r\nfor several rows you can use loop using row numbers array for example\r\n\r\n    void multipleRows() {\r\n        DoubleMatrix matrix = new DoubleMatrix(new double[][] {\r\n                {11,12,13},\r\n                {21,22,23},\r\n                {31,32,33}});\r\n\r\n        int[] rowNumbers = {0, 2};\r\n        DoubleMatrix otherRows = new DoubleMatrix(new double[][] {\r\n                {-11, -12, -13},\r\n                {-21, -22, -23}});\r\n        int otherRowsNumber = 0;\r\n\r\n        for (int r : rowNumbers) {\r\n            DoubleMatrix row = matrix.getRow(r);\r\n            row.addiRowVector(otherRows.getRow(otherRowsNumber++));\r\n            matrix.putRow(r, row);\r\n        }\r\n        System.out.println(matrix);\r\n    }\r\n\r\nand here for result you see\r\n\r\n    [0,000000, 0,000000, 0,000000; 21,000000, 22,000000, 23,000000; 10,000000, 10,000000, 10,000000]\r\n\r\n\r\n  ","title":"Java Jblas DoubleMatrix vector addition","body":"<p>For one row you can do it as in this piece of code using row number for example</p>\n<pre><code>void oneRow() {\n    DoubleMatrix matrix = new DoubleMatrix(new double[][] {\n            {11,12,13},\n            {21,22,23},\n            {31,32,33}});\n    DoubleMatrix otherRow = new DoubleMatrix(new double[][] {{-11, -12, -13}});\n\n    int rowNumber = 0;\n    DoubleMatrix row = matrix.getRow(rowNumber);\n    row.addiRowVector(otherRow);\n    matrix.putRow(rowNumber, row);\n\n    System.out.println(matrix);\n}\n</code></pre>\n<p>as result you'll see</p>\n<pre><code>[0,000000, 0,000000, 0,000000; 21,000000, 22,000000, 23,000000; 31,000000, 32,000000, 33,000000]\n</code></pre>\n<p>for several rows you can use loop using row numbers array for example</p>\n<pre><code>void multipleRows() {\n    DoubleMatrix matrix = new DoubleMatrix(new double[][] {\n            {11,12,13},\n            {21,22,23},\n            {31,32,33}});\n\n    int[] rowNumbers = {0, 2};\n    DoubleMatrix otherRows = new DoubleMatrix(new double[][] {\n            {-11, -12, -13},\n            {-21, -22, -23}});\n    int otherRowsNumber = 0;\n\n    for (int r : rowNumbers) {\n        DoubleMatrix row = matrix.getRow(r);\n        row.addiRowVector(otherRows.getRow(otherRowsNumber++));\n        matrix.putRow(r, row);\n    }\n    System.out.println(matrix);\n}\n</code></pre>\n<p>and here for result you see</p>\n<pre><code>[0,000000, 0,000000, 0,000000; 21,000000, 22,000000, 23,000000; 10,000000, 10,000000, 10,000000]\n</code></pre>\n"}],"owner":{"account_id":17024105,"reputation":25,"user_id":12315848,"display_name":"Alexander Carter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72021860,"answer_count":1,"score":0,"last_activity_date":1651022493,"creation_date":1650980440,"question_id":72015005,"body_markdown":"I feel really stupid asking this, but I can&#39;t find a method for adding a row/vector to an index or a specific set of indices. \r\n\r\nMy current workaround is to \r\n`getRows(int[])` then `addiRowVector(DoubleMatrix)` then `put(Range rs, Range cs, DoubleMatrix x)` : (get rows, add your vector, then put them back)\r\n\r\nThis seems like a backwards and costly implementation, is there any alternative? Is there something simple I&#39;m missing?\r\n\r\nThanks in advance! ","title":"Java Jblas DoubleMatrix vector addition","body":"<p>I feel really stupid asking this, but I can't find a method for adding a row/vector to an index or a specific set of indices.</p>\n<p>My current workaround is to\n<code>getRows(int[])</code> then <code>addiRowVector(DoubleMatrix)</code> then <code>put(Range rs, Range cs, DoubleMatrix x)</code> : (get rows, add your vector, then put them back)</p>\n<p>This seems like a backwards and costly implementation, is there any alternative? Is there something simple I'm missing?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":5,"creation_date":1651014127,"post_id":72021460,"comment_id":127259958,"body_markdown":"Could you use an enum? They have a `name()` method that gives you the string version of the name you use to declare them.","body":"Could you use an enum? They have a <code>name()</code> method that gives you the string version of the name you use to declare them."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1651019726,"post_id":72021460,"comment_id":127260849,"body_markdown":"This is &quot;code smell&quot;.  I suspect there&#39;s an [XY Problem](http://xyproblem.info) here.  It would help if you could explain why you think you need to do this.","body":"This is &quot;code smell&quot;.  I suspect there&#39;s an <a href=\"http://xyproblem.info\" rel=\"nofollow noreferrer\">XY Problem</a> here.  It would help if you could explain why you think you need to do this."}],"answers":[{"tags":[],"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1651015100,"creation_date":1651015100,"answer_id":72021573,"question_id":72021460,"body_markdown":"You could use an enum:\r\n\r\n```\r\npublic enum Field {\r\n    PATIENTID,\r\n    CREATEDDATE,\r\n    PREFIX,\r\n    FIRSTNAME,\r\n    MIDDLENAME;\r\n}\r\n```\r\n\r\nand when you want to use one of your strings, you can use for example `Field.PATIENTID.name()`, which will return the string `&quot;PATIENTID&quot;`.\r\n","title":"Java: Have String Constant match its value","body":"<p>You could use an enum:</p>\n<pre><code>public enum Field {\n    PATIENTID,\n    CREATEDDATE,\n    PREFIX,\n    FIRSTNAME,\n    MIDDLENAME;\n}\n</code></pre>\n<p>and when you want to use one of your strings, you can use for example <code>Field.PATIENTID.name()</code>, which will return the string <code>&quot;PATIENTID&quot;</code>.</p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":5,"up_vote_count":2,"closed_date":1651036322,"accepted_answer_id":72021573,"answer_count":1,"score":-3,"last_activity_date":1651022352,"creation_date":1651014042,"question_id":72021460,"body_markdown":"Is there an easy way in Java 8 to have String Constants match its value, instead of doing this repetitively?\r\n\r\n    public static final String PATIENTID = &quot;PATIENTID&quot;;\r\n    public static final String CREATEDDATE = &quot;CREATEDDATE&quot;;\r\n    public static final String PREFIX = &quot;PREFIX&quot;;\r\n    public static final String FIRSTNAME = &quot;FIRSTNAME&quot;;\r\n    public static final String MIDDLENAME = &quot;MIDDLENAME&quot;;","title":"Java: Have String Constant match its value","body":"<p>Is there an easy way in Java 8 to have String Constants match its value, instead of doing this repetitively?</p>\n<pre><code>public static final String PATIENTID = &quot;PATIENTID&quot;;\npublic static final String CREATEDDATE = &quot;CREATEDDATE&quot;;\npublic static final String PREFIX = &quot;PREFIX&quot;;\npublic static final String FIRSTNAME = &quot;FIRSTNAME&quot;;\npublic static final String MIDDLENAME = &quot;MIDDLENAME&quot;;\n</code></pre>\n"},{"tags":["java","json","build","compiler-errors","launch"],"comments":[{"owner":{"account_id":717890,"reputation":3568,"user_id":648608,"accept_rate":82,"display_name":"karto"},"score":0,"creation_date":1649964639,"post_id":71876491,"comment_id":127013381,"body_markdown":"Can you pls be more specific about the problem? What framework/Platform are you using?","body":"Can you pls be more specific about the problem? What framework/Platform are you using?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1649964668,"post_id":71876491,"comment_id":127013391,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":24940211,"reputation":1,"user_id":18806213,"display_name":"RavisDee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651021925,"creation_date":1651021925,"answer_id":72022232,"question_id":71876491,"body_markdown":"The answer to how to get the code running is found here:\r\n\r\nhttps://stackoverflow.com/questions/71878991/vscode-complains-that-java-project-has-no-explicit-encoding-set\r\n\r\nThank you,","title":"Do I need this many blocks in my launch.json file?","body":"<p>The answer to how to get the code running is found here:</p>\n<p><a href=\"https://stackoverflow.com/questions/71878991/vscode-complains-that-java-project-has-no-explicit-encoding-set\">VScode complains that Java project has no explicit encoding set</a></p>\n<p>Thank you,</p>\n"}],"owner":{"account_id":24940211,"reputation":1,"user_id":18806213,"display_name":"RavisDee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72022232,"answer_count":1,"score":0,"last_activity_date":1651021925,"creation_date":1649962997,"question_id":71876491,"body_markdown":"I have had this launch.json file look this way for most of the time I have had my project. I am not entirely sure what the file&#39;s purpose is or what the specific lines do. I had a compile build fail last night saying that it couldn&#39;t find my main file &quot;Planner&quot; even though it was working fine and it broke after pushing my updates to GitHub via the GitHub Desktop program. Anyway, this got me wondering if I really need all of these very similar blocks in my launch.json file, or if I really should only have one. My thought is the others are old variations of where files were? I have worked on this project on several machines and pushed/pulled from GitHub a lot.\r\n\r\nEdit:\r\n\r\nFrom the comments I should provide more information. Apologies, the initial post was made at work when I only had GitHub code to reference, and not my IDE. I have a program I have been building in VSCode, who&#39;s main class is called &quot;Planner&quot;, file Planner.java. I have been working on this project for a little over six months and have been really teaching myself javaFX, as my AS degree in Computer Science really only covered Java concepts so they kept to the standard Java library. With that, I followed some tutorials and got JavaFX working in VSCode. Last night I made some updates to my program that ran fine. I then pushed it to GitHub, shut my PC down, and was going to be done. I turned back on the PC and went back in to make one last change I had thought of and get an error: &quot;Build failed, do you want to continue? [Source: Debugger for Java (Extension)]&quot;\r\n\r\nI guess I am asking two things, tips on understanding the launch.json file,(do I need to write, what seems like the same thing, 5 times to have the code compile and run?) and ideas for what could be causing the error described. Apologies, this is my first time posting here, I use the site a lot by reading others issues and fixing mine, but no experience posting, please let me know if I am asking too broad a question, or not being clear. Details below:\r\n\r\n**In the Terminal:**\r\n\r\nError: Could not find or load main class Planner\r\n\r\nCaused by: java.lang.ClassNotFoundException: Planner\r\n\r\n**In the &quot;Problems:&quot; section of VSCode:**\r\n\r\n&gt;Project &#39;SimplePlanner1_52208f3&#39; has no explicit encoding set\r\n\r\n    [{\r\n\t&quot;resource&quot;: &quot;/C:/Users/travi/AppData/Roaming/Code/User/workspaceStorage/fd9ee5418b12f7a629c4aeb2c52147e1/redhat.java/jdt_ws/SimplePlanner1_52208f3/&quot;,\r\n\t&quot;owner&quot;: &quot;_generated_diagnostic_collection_name_#2&quot;,\r\n\t&quot;code&quot;: &quot;0&quot;,\r\n\t&quot;severity&quot;: 4,\r\n\t&quot;message&quot;: &quot;Project &#39;SimplePlanner1_52208f3&#39; has no explicit encoding set&quot;,\r\n\t&quot;source&quot;: &quot;Java&quot;,\r\n\t&quot;startLineNumber&quot;: 1,\r\n\t&quot;startColumn&quot;: 1,\r\n\t&quot;endLineNumber&quot;: 1,\r\n\t&quot;endColumn&quot;: 1 }]\r\n\r\n**launch.json file:**\r\n\r\n    &quot;version&quot;: &quot;0.2.0&quot;,\r\n    &quot;configurations&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch Planner&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Users/travi/Documents/Software Development/openjfx-17.0.1_windows-x64_bin-sdk/javafx-sdk-17.0.1/lib\\&quot; --add-modules javafx.controls,javafx.fxml&quot;,\r\n            &quot;mainClass&quot;: &quot;Planner&quot;,\r\n            &quot;projectName&quot;: &quot;SimplePlanner1_52208f3&quot;\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch Planner&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Users/travi/Documents/Software Development/openjfx-17.0.1_windows-x64_bin-sdk/javafx-sdk-17.0.1/lib\\&quot; --add-modules javafx.controls,javafx.fxml&quot;,\r\n            &quot;mainClass&quot;: &quot;Planner&quot;,\r\n            &quot;projectName&quot;: &quot;SimplePlanner1_cd0129b4&quot;\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch Planner&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Users/travi/Documents/Software Development/openjfx-17.0.1_windows-x64_bin-sdk/javafx-sdk-17.0.1/lib\\&quot; --add-modules javafx.controls,javafx.fxml&quot;,\r\n            &quot;mainClass&quot;: &quot;Planner&quot;,\r\n            &quot;projectName&quot;: &quot;SimplePlanner_69fc3f9d&quot;\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch Current File&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Users/travi/Documents/Software Development/openjfx-17.0.1_windows-x64_bin-sdk/javafx-sdk-17.0.1/lib\\&quot; --add-modules javafx.controls,javafx.fxml&quot;,\r\n            &quot;mainClass&quot;: &quot;${file}&quot;\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch Planner&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;Planner&quot;,\r\n            &quot;projectName&quot;: &quot;Engr290-12-5-21-planner-main_478f1ccb&quot;,\r\n            &quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Users/travi/Documents/Software Development/openjfx-17.0.1_windows-x64_bin-sdk/javafx-sdk-17.0.1/lib\\&quot; --add-modules javafx.controls,javafx.fxml&quot;\r\n        }\r\n    ]\r\n    }\r\n\r\n**Another Edit:**\r\n\r\nI went in and tried to delete out the block that has the line referencing **SimplePlanner1_52208f3**, and run the code. When running the code and that isn&#39;t there, the compiler automatically adds back in the following block of code to my launch.json file. So maybe I am barking up the wrong tree and its a deeper issue?\r\n\r\n    {\r\n        &quot;type&quot;: &quot;java&quot;,\r\n        &quot;name&quot;: &quot;Launch Planner&quot;,\r\n        &quot;request&quot;: &quot;launch&quot;,\r\n        &quot;mainClass&quot;: &quot;Planner&quot;,\r\n        &quot;projectName&quot;: &quot;SimplePlanner1_52208f3&quot;\r\n    },","title":"Do I need this many blocks in my launch.json file?","body":"<p>I have had this launch.json file look this way for most of the time I have had my project. I am not entirely sure what the file's purpose is or what the specific lines do. I had a compile build fail last night saying that it couldn't find my main file &quot;Planner&quot; even though it was working fine and it broke after pushing my updates to GitHub via the GitHub Desktop program. Anyway, this got me wondering if I really need all of these very similar blocks in my launch.json file, or if I really should only have one. My thought is the others are old variations of where files were? I have worked on this project on several machines and pushed/pulled from GitHub a lot.</p>\n<p>Edit:</p>\n<p>From the comments I should provide more information. Apologies, the initial post was made at work when I only had GitHub code to reference, and not my IDE. I have a program I have been building in VSCode, who's main class is called &quot;Planner&quot;, file Planner.java. I have been working on this project for a little over six months and have been really teaching myself javaFX, as my AS degree in Computer Science really only covered Java concepts so they kept to the standard Java library. With that, I followed some tutorials and got JavaFX working in VSCode. Last night I made some updates to my program that ran fine. I then pushed it to GitHub, shut my PC down, and was going to be done. I turned back on the PC and went back in to make one last change I had thought of and get an error: &quot;Build failed, do you want to continue? [Source: Debugger for Java (Extension)]&quot;</p>\n<p>I guess I am asking two things, tips on understanding the launch.json file,(do I need to write, what seems like the same thing, 5 times to have the code compile and run?) and ideas for what could be causing the error described. Apologies, this is my first time posting here, I use the site a lot by reading others issues and fixing mine, but no experience posting, please let me know if I am asking too broad a question, or not being clear. Details below:</p>\n<p><strong>In the Terminal:</strong></p>\n<p>Error: Could not find or load main class Planner</p>\n<p>Caused by: java.lang.ClassNotFoundException: Planner</p>\n<p><strong>In the &quot;Problems:&quot; section of VSCode:</strong></p>\n<blockquote>\n<p>Project 'SimplePlanner1_52208f3' has no explicit encoding set</p>\n</blockquote>\n<pre><code>[{\n&quot;resource&quot;: &quot;/C:/Users/travi/AppData/Roaming/Code/User/workspaceStorage/fd9ee5418b12f7a629c4aeb2c52147e1/redhat.java/jdt_ws/SimplePlanner1_52208f3/&quot;,\n&quot;owner&quot;: &quot;_generated_diagnostic_collection_name_#2&quot;,\n&quot;code&quot;: &quot;0&quot;,\n&quot;severity&quot;: 4,\n&quot;message&quot;: &quot;Project 'SimplePlanner1_52208f3' has no explicit encoding set&quot;,\n&quot;source&quot;: &quot;Java&quot;,\n&quot;startLineNumber&quot;: 1,\n&quot;startColumn&quot;: 1,\n&quot;endLineNumber&quot;: 1,\n&quot;endColumn&quot;: 1 }]\n</code></pre>\n<p><strong>launch.json file:</strong></p>\n<pre><code>&quot;version&quot;: &quot;0.2.0&quot;,\n&quot;configurations&quot;: [\n    {\n        &quot;type&quot;: &quot;java&quot;,\n        &quot;name&quot;: &quot;Launch Planner&quot;,\n        &quot;request&quot;: &quot;launch&quot;,\n        &quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Users/travi/Documents/Software Development/openjfx-17.0.1_windows-x64_bin-sdk/javafx-sdk-17.0.1/lib\\&quot; --add-modules javafx.controls,javafx.fxml&quot;,\n        &quot;mainClass&quot;: &quot;Planner&quot;,\n        &quot;projectName&quot;: &quot;SimplePlanner1_52208f3&quot;\n    },\n    {\n        &quot;type&quot;: &quot;java&quot;,\n        &quot;name&quot;: &quot;Launch Planner&quot;,\n        &quot;request&quot;: &quot;launch&quot;,\n        &quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Users/travi/Documents/Software Development/openjfx-17.0.1_windows-x64_bin-sdk/javafx-sdk-17.0.1/lib\\&quot; --add-modules javafx.controls,javafx.fxml&quot;,\n        &quot;mainClass&quot;: &quot;Planner&quot;,\n        &quot;projectName&quot;: &quot;SimplePlanner1_cd0129b4&quot;\n    },\n    {\n        &quot;type&quot;: &quot;java&quot;,\n        &quot;name&quot;: &quot;Launch Planner&quot;,\n        &quot;request&quot;: &quot;launch&quot;,\n        &quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Users/travi/Documents/Software Development/openjfx-17.0.1_windows-x64_bin-sdk/javafx-sdk-17.0.1/lib\\&quot; --add-modules javafx.controls,javafx.fxml&quot;,\n        &quot;mainClass&quot;: &quot;Planner&quot;,\n        &quot;projectName&quot;: &quot;SimplePlanner_69fc3f9d&quot;\n    },\n    {\n        &quot;type&quot;: &quot;java&quot;,\n        &quot;name&quot;: &quot;Launch Current File&quot;,\n        &quot;request&quot;: &quot;launch&quot;,\n        &quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Users/travi/Documents/Software Development/openjfx-17.0.1_windows-x64_bin-sdk/javafx-sdk-17.0.1/lib\\&quot; --add-modules javafx.controls,javafx.fxml&quot;,\n        &quot;mainClass&quot;: &quot;${file}&quot;\n    },\n    {\n        &quot;type&quot;: &quot;java&quot;,\n        &quot;name&quot;: &quot;Launch Planner&quot;,\n        &quot;request&quot;: &quot;launch&quot;,\n        &quot;mainClass&quot;: &quot;Planner&quot;,\n        &quot;projectName&quot;: &quot;Engr290-12-5-21-planner-main_478f1ccb&quot;,\n        &quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Users/travi/Documents/Software Development/openjfx-17.0.1_windows-x64_bin-sdk/javafx-sdk-17.0.1/lib\\&quot; --add-modules javafx.controls,javafx.fxml&quot;\n    }\n]\n}\n</code></pre>\n<p><strong>Another Edit:</strong></p>\n<p>I went in and tried to delete out the block that has the line referencing <strong>SimplePlanner1_52208f3</strong>, and run the code. When running the code and that isn't there, the compiler automatically adds back in the following block of code to my launch.json file. So maybe I am barking up the wrong tree and its a deeper issue?</p>\n<pre><code>{\n    &quot;type&quot;: &quot;java&quot;,\n    &quot;name&quot;: &quot;Launch Planner&quot;,\n    &quot;request&quot;: &quot;launch&quot;,\n    &quot;mainClass&quot;: &quot;Planner&quot;,\n    &quot;projectName&quot;: &quot;SimplePlanner1_52208f3&quot;\n},\n</code></pre>\n"},{"tags":["java","selenium","xpath"],"comments":[{"owner":{"account_id":4570164,"reputation":4170,"user_id":3710053,"display_name":"Siebe Jongebloed"},"score":0,"creation_date":1650951863,"post_id":72007754,"comment_id":127238722,"body_markdown":"Take more effort to explain your problem. Also show us the appropriate HTML","body":"Take more effort to explain your problem. Also show us the appropriate HTML"},{"owner":{"account_id":1856464,"reputation":514,"user_id":1681917,"accept_rate":100,"display_name":"Ahamed Abdul Rahman"},"score":0,"creation_date":1651016961,"post_id":72007754,"comment_id":127260423,"body_markdown":"Try using List&lt;WebElement&gt; tableelements1=eachtablelement1.findElements(By.xpath(&quot;./div[@role=&#39;gridcell&#39;]&quot;)); is it still working with &quot;./&quot;?","body":"Try using List&lt;WebElement&gt; tableelements1=eachtablelement1.findElements(By.xpath(&quot;./div&zwnj;&#8203;[@role=&#39;gridcell&#39;]&quot;)&zwnj;&#8203;); is it still working with &quot;./&quot;?"},{"owner":{"account_id":25095966,"reputation":1,"user_id":18947138,"display_name":"Jothi Lakshmi"},"score":0,"creation_date":1651083938,"post_id":72007754,"comment_id":127280639,"body_markdown":"It is working with &quot;./&quot; also, Thank you for your  brief answer.","body":"It is working with &quot;./&quot; also, Thank you for your  brief answer."}],"answers":[{"tags":[],"owner":{"account_id":1856464,"reputation":514,"user_id":1681917,"accept_rate":100,"display_name":"Ahamed Abdul Rahman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651020349,"creation_date":1651018373,"answer_id":72021876,"question_id":72007754,"body_markdown":"Your question is why **tableelements1** is not working with // in XPath but working without any slash, right?\r\n\r\nYou are using nested xpath. First you identified the outer element then using that you are identifying the inner element. In your case, the inner element sits right next to the outer element.&lt;br/&gt;&lt;br/&gt;\r\nWhile using xpath for inner element, we need to make an important change in xpath - &quot;.&quot;\r\nThis dot represents &quot;**From current node**&quot;. If you didn&#39;t mention &quot;.&quot;, it will apply the second locator throughout the DOM and look for match. Hence it didn&#39;t work in your case too. In short,\r\n&quot;./&quot; ~ &quot;No Slash&quot; ~ &quot;Absolute Xpath&quot;.\r\n\r\nSince, the second element appears next to first element, it worked without ./ itself. If you try to find some other inner element, it would not have worked. So, prefer using &quot;.//&quot; in the nested xpaths for identifying those further inner elements.\r\n\r\nSo, all these variations would work in your case:\r\n\r\n    List&lt;WebElement&gt; tableelements1=eachtablelement1.findElements(By.xpath(&quot;div[@role=&#39;gridcell&#39;]&quot;));\r\n\r\nxpath with ./\r\n\r\n    List&lt;WebElement&gt; tableelements1=eachtablelement1.findElements(By.xpath(&quot;./div[@role=&#39;gridcell&#39;]&quot;));\r\n\r\nRelated articles:&lt;br/&gt;\r\nhttps://sqa.stackexchange.com/a/28333/16916&lt;br/&gt;\r\nhttps://github.com/seleniumhq/selenium/issues/3203\r\n\r\nHope I have answered your question.","title":"I have used this xpath in selenium ,this code works fine printing the text from webtable ,If it is without// in second xpathprinting properly ,","body":"<p>Your question is why <strong>tableelements1</strong> is not working with // in XPath but working without any slash, right?</p>\n<p>You are using nested xpath. First you identified the outer element then using that you are identifying the inner element. In your case, the inner element sits right next to the outer element.<br/><br/>\nWhile using xpath for inner element, we need to make an important change in xpath - &quot;.&quot;\nThis dot represents &quot;<strong>From current node</strong>&quot;. If you didn't mention &quot;.&quot;, it will apply the second locator throughout the DOM and look for match. Hence it didn't work in your case too. In short,\n&quot;./&quot; ~ &quot;No Slash&quot; ~ &quot;Absolute Xpath&quot;.</p>\n<p>Since, the second element appears next to first element, it worked without ./ itself. If you try to find some other inner element, it would not have worked. So, prefer using &quot;.//&quot; in the nested xpaths for identifying those further inner elements.</p>\n<p>So, all these variations would work in your case:</p>\n<pre><code>List&lt;WebElement&gt; tableelements1=eachtablelement1.findElements(By.xpath(&quot;div[@role='gridcell']&quot;));\n</code></pre>\n<p>xpath with ./</p>\n<pre><code>List&lt;WebElement&gt; tableelements1=eachtablelement1.findElements(By.xpath(&quot;./div[@role='gridcell']&quot;));\n</code></pre>\n<p>Related articles:<br/>\n<a href=\"https://sqa.stackexchange.com/a/28333/16916\">https://sqa.stackexchange.com/a/28333/16916</a><br/>\n<a href=\"https://github.com/seleniumhq/selenium/issues/3203\" rel=\"nofollow noreferrer\">https://github.com/seleniumhq/selenium/issues/3203</a></p>\n<p>Hope I have answered your question.</p>\n"}],"owner":{"account_id":25095966,"reputation":1,"user_id":18947138,"display_name":"Jothi Lakshmi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651020349,"creation_date":1650940489,"question_id":72007754,"body_markdown":"\tList&lt;WebElement&gt; tableelements=driver.findElements(By.xpath(&quot;//div[@role=&#39;rowgroup&#39;]//div[@role=&#39;row&#39;]&quot;));\r\n\t\t\t\tSystem.out.println(tableelements.size());\r\n\t\t\tfor (WebElement eachtablelement1:tableelements)\r\n\t\t\t{\r\n\t\t\t\tList&lt;WebElement&gt; tableelements1=eachtablelement1.findElements(By.xpath(&quot;div[@role=&#39;gridcell&#39;]&quot;));\r\n\t\t\t\t//System.out.println();\r\n\t\t\t\r\n\t\t\t\tfor (WebElement eachtableelemt: tableelements1)\r\n\t\t\t\t{\r\n\t\t\t\r\n\t\t\t\t\tSystem.out.print(&quot;    &quot;+eachtableelemt.getText());\r\n\t\t\t\t  // System.out.println();\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t}\r\n\t\t\t\r\n\r\nIs without // is still a valid xpath  If i include the xpath it prints fromfirst node again","title":"I have used this xpath in selenium ,this code works fine printing the text from webtable ,If it is without// in second xpathprinting properly ,","body":"<pre><code>List&lt;WebElement&gt; tableelements=driver.findElements(By.xpath(&quot;//div[@role='rowgroup']//div[@role='row']&quot;));\n            System.out.println(tableelements.size());\n        for (WebElement eachtablelement1:tableelements)\n        {\n            List&lt;WebElement&gt; tableelements1=eachtablelement1.findElements(By.xpath(&quot;div[@role='gridcell']&quot;));\n            //System.out.println();\n        \n            for (WebElement eachtableelemt: tableelements1)\n            {\n        \n                System.out.print(&quot;    &quot;+eachtableelemt.getText());\n              // System.out.println();\n            }\n            System.out.println();\n        }\n        \n</code></pre>\n<p>Is without // is still a valid xpath  If i include the xpath it prints fromfirst node again</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1650981565,"post_id":72015135,"comment_id":127249263,"body_markdown":"&quot;trying to have at the end ... tells us what went wrong&quot; I&#39;m having difficulty understanding what you mean by that. Mostly, because there *is* no end to your code.","body":"&quot;trying to have at the end ... tells us what went wrong&quot; I&#39;m having difficulty understanding what you mean by that. Mostly, because there <i>is</i> no end to your code."}],"answers":[{"tags":[],"owner":{"account_id":22157379,"reputation":328,"user_id":16404907,"display_name":"D&#250;ver Cruz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650981973,"creation_date":1650981973,"answer_id":72015385,"question_id":72015135,"body_markdown":"Using a try/catch block.\r\n\r\n        public static void main(String[] args) {\r\n        \r\n        Scanner sc= new Scanner(System.in);\r\n           System.out.println(&quot;Insert number of students: &quot;);\r\n                    String student = sc.nextLine();\r\n              try{   \r\n                    int studenti = Integer.parseInt(student);\r\n                     int[] array = new int[studenti];\r\n                    for (int i = 0; i&lt;studenti;i++)\r\n                    {\r\n                        System.out.println(&quot;Insert a score in percentage: &quot;);\r\n                        String score = sc.nextLine();\r\n                        \r\n                        array[i]= Integer.parseInt(score);\r\n                        \r\n                    }\r\n                    \r\n                    System.out.println(&quot;\\nPercentages are: &quot;);\r\n                    int sum = 0; // Added a variable for sum\r\n                    for (int i = 0; i &lt; studenti; i++) {\r\n                      System.out.println((array[i]) + &quot;%&quot;);\r\n                      sum += array[i]; // maintaining sum\r\n                    }\r\n                    int average = sum / array.length; // calculating the average\r\n                    System.out.println(&quot;\\nThe Average Score is: &quot; + average + &quot;%&quot;);\r\n        }catch(Exception ex){\r\n         System.out.println(&quot;Error, details: &quot; + ex.Message());\r\n    }\r\nThere are many &#39;Exception&#39; you can use, numberFormatException for example.","title":"How to use Error handling / Exception Handling in Java?","body":"<p>Using a try/catch block.</p>\n<pre><code>    public static void main(String[] args) {\n    \n    Scanner sc= new Scanner(System.in);\n       System.out.println(&quot;Insert number of students: &quot;);\n                String student = sc.nextLine();\n          try{   \n                int studenti = Integer.parseInt(student);\n                 int[] array = new int[studenti];\n                for (int i = 0; i&lt;studenti;i++)\n                {\n                    System.out.println(&quot;Insert a score in percentage: &quot;);\n                    String score = sc.nextLine();\n                    \n                    array[i]= Integer.parseInt(score);\n                    \n                }\n                \n                System.out.println(&quot;\\nPercentages are: &quot;);\n                int sum = 0; // Added a variable for sum\n                for (int i = 0; i &lt; studenti; i++) {\n                  System.out.println((array[i]) + &quot;%&quot;);\n                  sum += array[i]; // maintaining sum\n                }\n                int average = sum / array.length; // calculating the average\n                System.out.println(&quot;\\nThe Average Score is: &quot; + average + &quot;%&quot;);\n    }catch(Exception ex){\n     System.out.println(&quot;Error, details: &quot; + ex.Message());\n}\n</code></pre>\n<p>There are many 'Exception' you can use, numberFormatException for example.</p>\n"},{"tags":[],"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650983613,"creation_date":1650983613,"answer_id":72015814,"question_id":72015135,"body_markdown":"Error handling is not so complicated, really. It&#39;s about knowing what kind of exception is thrown in the scope of the `try` statement. This information is usually available by your IDE when you put the cursor over the method you are using.\r\n\r\n```java \r\npublic static void main(String[] args) {\r\n\tScanner sc = new Scanner(System.in);\r\n\ttry {\r\n\t\tSystem.out.println(&quot;Insert number of students: &quot;);\r\n        int student = sc.nextInt(); // note Im using a method specific for int, instead of parsing\r\n        int[] array = new int[student];\r\n        for (int i = 0; i &lt; student; i++) {\r\n            System.out.println(&quot;Insert a score in percentage: &quot;);\r\n            String score = sc.nextLine();\r\n            array[i]= Integer.parseInt(score);\r\n        }\r\n        System.out.println(&quot;\\nPercentages are: &quot;);\r\n        int sum = 0;\r\n        for (int i = 0; i &lt; student; i++) {\r\n        \tSystem.out.println((array[i]) + &quot;%&quot;);\r\n            sum += array[i];\r\n        }\r\n        int average = sum / student; // student == array.length\r\n        System.out.println(&quot;\\nThe Average Score is: &quot; + average + &quot;%&quot;);\r\n\t} catch (InputMismatchException | NumberFormatException exception) {  \r\n        // This will catch errors due wrong input (ie user entered a letter \r\n        // instead of a digit) and execute the code within this block.\r\n        // Another possible Exception thrown is IllegalStateException.\r\n\t\tSystem.err.println(&quot;There was an error. Details:&quot;);\r\n\t\texception.printStackTrace(System.err); // remove if you don&#39;t want to see the error trace\r\n\t} finally { // this will get executed whether your code had errors or not\r\n\t\tsc.close(); // dont forget to close your scanner\r\n\t}\r\n}\r\n```\r\n\r\nIf your IDE doesn&#39;t show you information about a method, it might not be documented or you don&#39;t have said documentation imported. For that case, just google a bit and you&#39;ll find the exceptions. For example, [this link show you information about Scanner.nextInt()][1] and [this about Integer.parseInt()][2].\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/scanner-nextint-method-in-java-with-examples/\r\n  [2]: https://www.javatpoint.com/java-integer-parseint-method","title":"How to use Error handling / Exception Handling in Java?","body":"<p>Error handling is not so complicated, really. It's about knowing what kind of exception is thrown in the scope of the <code>try</code> statement. This information is usually available by your IDE when you put the cursor over the method you are using.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    try {\n        System.out.println(&quot;Insert number of students: &quot;);\n        int student = sc.nextInt(); // note Im using a method specific for int, instead of parsing\n        int[] array = new int[student];\n        for (int i = 0; i &lt; student; i++) {\n            System.out.println(&quot;Insert a score in percentage: &quot;);\n            String score = sc.nextLine();\n            array[i]= Integer.parseInt(score);\n        }\n        System.out.println(&quot;\\nPercentages are: &quot;);\n        int sum = 0;\n        for (int i = 0; i &lt; student; i++) {\n            System.out.println((array[i]) + &quot;%&quot;);\n            sum += array[i];\n        }\n        int average = sum / student; // student == array.length\n        System.out.println(&quot;\\nThe Average Score is: &quot; + average + &quot;%&quot;);\n    } catch (InputMismatchException | NumberFormatException exception) {  \n        // This will catch errors due wrong input (ie user entered a letter \n        // instead of a digit) and execute the code within this block.\n        // Another possible Exception thrown is IllegalStateException.\n        System.err.println(&quot;There was an error. Details:&quot;);\n        exception.printStackTrace(System.err); // remove if you don't want to see the error trace\n    } finally { // this will get executed whether your code had errors or not\n        sc.close(); // dont forget to close your scanner\n    }\n}\n</code></pre>\n<p>If your IDE doesn't show you information about a method, it might not be documented or you don't have said documentation imported. For that case, just google a bit and you'll find the exceptions. For example, <a href=\"https://www.geeksforgeeks.org/scanner-nextint-method-in-java-with-examples/\" rel=\"nofollow noreferrer\">this link show you information about Scanner.nextInt()</a> and <a href=\"https://www.javatpoint.com/java-integer-parseint-method\" rel=\"nofollow noreferrer\">this about Integer.parseInt()</a>.</p>\n"},{"tags":[],"owner":{"account_id":9619146,"reputation":1342,"user_id":7140937,"display_name":"Rahul Panzade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650988745,"creation_date":1650988745,"answer_id":72017046,"question_id":72015135,"body_markdown":"The broken part in the code is divide by zero. To handle the exception \r\n\r\n     try {\r\n            int average = sum / array.length; // throw Exception\r\n        }\r\n        catch (ArithmeticException e) {\r\n            System.out.println(\r\n                &quot;Divided by zero operation cannot possible&quot;);\r\n        }","title":"How to use Error handling / Exception Handling in Java?","body":"<p>The broken part in the code is divide by zero. To handle the exception</p>\n<pre><code> try {\n        int average = sum / array.length; // throw Exception\n    }\n    catch (ArithmeticException e) {\n        System.out.println(\n            &quot;Divided by zero operation cannot possible&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":25076542,"reputation":5,"user_id":18929900,"display_name":"BitMan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72015385,"answer_count":3,"score":0,"last_activity_date":1651020318,"creation_date":1650980971,"question_id":72015135,"body_markdown":"So I&#39;m trying to implement error catcher in my program but I&#39;m not 100% sure on how they actually work, I have look some tutorials on YouTube but the way they explain it to me was not 100% clear, So what I&#39;m actually trying to do here is trying to have at the end of the code something that if you insert a letter or number that he cannot recognise he&#39;s not going to give us an error but he&#39;s going to give us a message that tells us what went wrong.\r\n\r\nWhat I tried to make was a much easier version with if statements, but I think that that is not exactly a good fit for this code because I would have to rewrite everything with if statements and I&#39;m not sure how actually work.\r\n\r\n\r\n**Code that I think can work**\r\n\r\n[It was not letting me put the code here :C][1]\r\n\r\n\r\n\r\n**Code That I&#39;m trying to implement Error handling**\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t            Scanner sc= new Scanner(System.in);\r\n\t                System.out.println(&quot;Insert number of students: &quot;);\r\n\t                String student = sc.nextLine();\r\n\t                int studenti = Integer.parseInt(student);\r\n\t                 int[] array = new int[studenti];\r\n\t                for (int i = 0; i&lt;studenti;i++)\r\n\t                {\r\n\t                    System.out.println(&quot;Insert a score in percentage: &quot;);\r\n\t                    String score = sc.nextLine();\r\n\t                    \r\n\t                    array[i]= Integer.parseInt(score);\r\n\t                    \r\n\t                }\r\n\t                \r\n\t                System.out.println(&quot;\\nPercentages are: &quot;);\r\n\t                int sum = 0; // Added a variable for sum\r\n\t                for (int i = 0; i &lt; studenti; i++) {\r\n\t                  System.out.println((array[i]) + &quot;%&quot;);\r\n\t                  sum += array[i]; // maintaining sum\r\n\t                }\r\n\t                int average = sum / array.length; // calculating the average\r\n\t                System.out.println(&quot;\\nThe Average Score is: &quot; + average + &quot;%&quot;);\r\n}\r\n\r\n  [1]: https://i.stack.imgur.com/KQkdS.png","title":"How to use Error handling / Exception Handling in Java?","body":"<p>So I'm trying to implement error catcher in my program but I'm not 100% sure on how they actually work, I have look some tutorials on YouTube but the way they explain it to me was not 100% clear, So what I'm actually trying to do here is trying to have at the end of the code something that if you insert a letter or number that he cannot recognise he's not going to give us an error but he's going to give us a message that tells us what went wrong.</p>\n<p>What I tried to make was a much easier version with if statements, but I think that that is not exactly a good fit for this code because I would have to rewrite everything with if statements and I'm not sure how actually work.</p>\n<p><strong>Code that I think can work</strong></p>\n<p><a href=\"https://i.stack.imgur.com/KQkdS.png\" rel=\"nofollow noreferrer\">It was not letting me put the code here :C</a></p>\n<p><strong>Code That I'm trying to implement Error handling</strong></p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n\npublic static void main(String[] args) {\n    \n                Scanner sc= new Scanner(System.in);\n                System.out.println(&quot;Insert number of students: &quot;);\n                String student = sc.nextLine();\n                int studenti = Integer.parseInt(student);\n                 int[] array = new int[studenti];\n                for (int i = 0; i&lt;studenti;i++)\n                {\n                    System.out.println(&quot;Insert a score in percentage: &quot;);\n                    String score = sc.nextLine();\n                    \n                    array[i]= Integer.parseInt(score);\n                    \n                }\n                \n                System.out.println(&quot;\\nPercentages are: &quot;);\n                int sum = 0; // Added a variable for sum\n                for (int i = 0; i &lt; studenti; i++) {\n                  System.out.println((array[i]) + &quot;%&quot;);\n                  sum += array[i]; // maintaining sum\n                }\n                int average = sum / array.length; // calculating the average\n                System.out.println(&quot;\\nThe Average Score is: &quot; + average + &quot;%&quot;);\n</code></pre>\n<p>}</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1651019483,"post_id":72021920,"comment_id":127260816,"body_markdown":"`Integer.parseInt(questionTxt.getText());` the result of this call isn&#39;t been assigned to anything, but since you&#39;re doing to before hand (and assigning it to `QNmbr` I question it&#39;s value","body":"<code>Integer.parseInt(questionTxt.getText());</code> the result of this call isn&#39;t been assigned to anything, but since you&#39;re doing to before hand (and assigning it to <code>QNmbr</code> I question it&#39;s value"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1651019596,"post_id":72021920,"comment_id":127260830,"body_markdown":"It&#39;s not possible for `if (obj == submit) {` AND `if (obj == addition) {` (or any of the other evaluations to `obj`) to be `true` at the same time.  Instead, you need to be looking at the actual component states","body":"It&#39;s not possible for <code>if (obj == submit) {</code> AND <code>if (obj == addition) {</code> (or any of the other evaluations to <code>obj</code>) to be <code>true</code> at the same time.  Instead, you need to be looking at the actual component states"},{"owner":{"account_id":25109400,"reputation":3,"user_id":18959232,"display_name":"d1zyz"},"score":0,"creation_date":1651019997,"post_id":72021920,"comment_id":127260897,"body_markdown":"That&#39;s what it was I needed to use .isSelected() instead of (obj == addition). My Math.random() is printing the right integers now, thank you!","body":"That&#39;s what it was I needed to use .isSelected() instead of (obj == addition). My Math.random() is printing the right integers now, thank you!"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651020159,"creation_date":1651020159,"answer_id":72022046,"question_id":72021920,"body_markdown":"Let&#39;s just break this down for a second...\r\n\r\n    Object obj = e.getSource();\r\n    Object obj2 = e.getSource();\r\n\r\n    //prints out the test\r\n    if (obj == submit) {\r\n        //...\r\n        if (obj == addition) {...}\r\n\r\n        if (obj == subtraction) {...}\r\n\r\n        if (obj == multiplication) {...}\r\n\r\n        if (obj == division) {...}\r\n\r\n        //if easy is chosen\r\n        if (obj == easy) {\r\n            if (obj2 == addition) {...}\r\n        }\r\n\r\n        if (obj == medium) {...}\r\n\r\n        if (obj == hard) {...}\r\n\r\n        System.out.println(aVal1[0]);\r\n\r\nif `obj` is equal to `submit`, it&#39;s impossible for `obj` to be equal to `addition` or any other object.  If `obj` is equal to `addition` (or any other object), there&#39;s no way to enter the `if (obj == submit) {` block any way, so the whole thing makes no sense.\r\n\r\nAlso `obj` and `obj2` are the same thing, so, more confusion.\r\n\r\nAlso, this makes no sense...\r\n\r\n    int QNmbr = Integer.parseInt(questionTxt.getText());\r\n\r\n    try {\r\n        Integer.parseInt(questionTxt.getText());\r\n    } catch (NumberFormatException f) {\r\n        JOptionPane.showMessageDialog(this,\r\n                &quot;Please enter a number&quot;);\r\n    }\r\n\r\nThe exception will already have been trigged when doing `int QNmbr = Integer.parseInt(questionTxt.getText());`.  So, if you want to trap this, the whole block of logic must be trapped in the `try-catch` block, not just the conversion ... I mean, what do you do after the `catch` - how do you know an exception has occurred?\r\n\r\nInstead, you need to look at the components themselves and make decisions based on there states, for example...\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n        Object obj = e.getSource();\r\n        //prints out the test\r\n        if (obj == submit) {\r\n            int QNmbr = Integer.parseInt(questionTxt.getText());\r\n\r\n            int[] aVal1 = new int[Integer.parseInt(questionTxt.getText())];\r\n            int[] aVal2 = new int[Integer.parseInt(questionTxt.getText())];\r\n\r\n            aNmbr += addition.isSelected() ? 1 : 0;\r\n            aNmbr += subtraction.isSelected() ? 1 : 0;\r\n            aNmbr += multiplication.isSelected() ? 1 : 0;\r\n            aNmbr += division.isSelected() ? 1 : 0;\r\n            if (easy.isSelected()) {\r\n                if (addition.isSelected()) {\r\n                    for (int i = 0; i &lt; QNmbr; i++) {\r\n                        aVal1[i] = (int) (Math.random() * 11);\r\n                        aVal2[i] = (int) (Math.random() * 11);\r\n                        System.out.print(aVal1[0]);\r\n                    }\r\n                }\r\n            } else if (medium.isSelected()) {\r\n\r\n            } else if (hard.isSelected()) {\r\n\r\n            }\r\n            System.out.println(aVal1[0]);\r\n        }\r\n    }\r\n\r\nI&#39;d also recommend taking a look at:\r\n\r\n * [How to Use Formatted Text Fields](https://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html) and [How to Use Spinners](https://docs.oracle.com/javase/tutorial/uiswing/components/spinner.html) for controlling user input (ie numbers only)\r\n * [How to Use Combo Boxes](https://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html) as an alternative for when you want to limit the choice a user can make (to one option, obviously)","title":"Trying to create a randomly generated test","body":"<p>Let's just break this down for a second...</p>\n<pre><code>Object obj = e.getSource();\nObject obj2 = e.getSource();\n\n//prints out the test\nif (obj == submit) {\n    //...\n    if (obj == addition) {...}\n\n    if (obj == subtraction) {...}\n\n    if (obj == multiplication) {...}\n\n    if (obj == division) {...}\n\n    //if easy is chosen\n    if (obj == easy) {\n        if (obj2 == addition) {...}\n    }\n\n    if (obj == medium) {...}\n\n    if (obj == hard) {...}\n\n    System.out.println(aVal1[0]);\n</code></pre>\n<p>if <code>obj</code> is equal to <code>submit</code>, it's impossible for <code>obj</code> to be equal to <code>addition</code> or any other object.  If <code>obj</code> is equal to <code>addition</code> (or any other object), there's no way to enter the <code>if (obj == submit) {</code> block any way, so the whole thing makes no sense.</p>\n<p>Also <code>obj</code> and <code>obj2</code> are the same thing, so, more confusion.</p>\n<p>Also, this makes no sense...</p>\n<pre><code>int QNmbr = Integer.parseInt(questionTxt.getText());\n\ntry {\n    Integer.parseInt(questionTxt.getText());\n} catch (NumberFormatException f) {\n    JOptionPane.showMessageDialog(this,\n            &quot;Please enter a number&quot;);\n}\n</code></pre>\n<p>The exception will already have been trigged when doing <code>int QNmbr = Integer.parseInt(questionTxt.getText());</code>.  So, if you want to trap this, the whole block of logic must be trapped in the <code>try-catch</code> block, not just the conversion ... I mean, what do you do after the <code>catch</code> - how do you know an exception has occurred?</p>\n<p>Instead, you need to look at the components themselves and make decisions based on there states, for example...</p>\n<pre><code>public void actionPerformed(ActionEvent e) {\n    Object obj = e.getSource();\n    //prints out the test\n    if (obj == submit) {\n        int QNmbr = Integer.parseInt(questionTxt.getText());\n\n        int[] aVal1 = new int[Integer.parseInt(questionTxt.getText())];\n        int[] aVal2 = new int[Integer.parseInt(questionTxt.getText())];\n\n        aNmbr += addition.isSelected() ? 1 : 0;\n        aNmbr += subtraction.isSelected() ? 1 : 0;\n        aNmbr += multiplication.isSelected() ? 1 : 0;\n        aNmbr += division.isSelected() ? 1 : 0;\n        if (easy.isSelected()) {\n            if (addition.isSelected()) {\n                for (int i = 0; i &lt; QNmbr; i++) {\n                    aVal1[i] = (int) (Math.random() * 11);\n                    aVal2[i] = (int) (Math.random() * 11);\n                    System.out.print(aVal1[0]);\n                }\n            }\n        } else if (medium.isSelected()) {\n\n        } else if (hard.isSelected()) {\n\n        }\n        System.out.println(aVal1[0]);\n    }\n}\n</code></pre>\n<p>I'd also recommend taking a look at:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html\" rel=\"nofollow noreferrer\">How to Use Formatted Text Fields</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/spinner.html\" rel=\"nofollow noreferrer\">How to Use Spinners</a> for controlling user input (ie numbers only)</li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html\" rel=\"nofollow noreferrer\">How to Use Combo Boxes</a> as an alternative for when you want to limit the choice a user can make (to one option, obviously)</li>\n</ul>\n"}],"owner":{"account_id":25109400,"reputation":3,"user_id":18959232,"display_name":"d1zyz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1651020159,"creation_date":1651018898,"question_id":72021920,"body_markdown":"&gt; I have already created a GUI for this assignment and now need to figure out how to execute each option. I need to create a test that can use Math.random() to generate equations that end in a whole number, the user can choose from easy, medium, or hard, with each option using a different number range. The user can also choose from addition, subtraction, multiplication, or division, and can choose multiple for one test. I am trying to write code that will store each value into an array of values for each equation (aVal1 being the first value for an addition equation and aVal2 being the second) But when I try to run the program and print out what aVal[0] has calculated into, it returns as 0. It seems like the program is not reading my equation like I want it to. Here is my code:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n\r\n\r\n\r\n    public class MathQuiz extends JFrame \r\n    implements ActionListener {\r\n\r\n    private JLabel questionNmbr = new JLabel\r\n    (&quot;Select # of      questions:&quot;);\r\n    private JTextField questionTxt = new JTextField(8);\r\n    private JLabel questionTypes = new JLabel\r\n    (&quot;Select wanted question types:&quot;);\r\n    private JCheckBox addition = new JCheckBox(&quot;+&quot;);\r\n    private JCheckBox subtraction = new JCheckBox(&quot;-&quot;);\r\n    private JCheckBox multiplication = new JCheckBox(&quot;x&quot;);\r\n    private JCheckBox division = new JCheckBox(&quot;&#247;&quot;);\r\n    private JLabel difficulty = new JLabel\r\n    (&quot;Choose difficulty:&quot;);\r\n    private JRadioButton easy = new JRadioButton(&quot;Easy&quot;);\r\n    private JRadioButton medium = new JRadioButton(&quot;Medium&quot;);\r\n    private JRadioButton hard = new JRadioButton(&quot;Hard&quot;);\r\n    private JButton submit = new JButton(&quot;Submit&quot;);\r\n\r\n    //whether or not each is chosen\r\n    private int aNmbr = 0;\r\n    private int sNmbr = 0;\r\n    private int mNmbr = 0;\r\n    private int dNmbr = 0;\r\n\r\n    //how many questions each operation will have\r\n    private int aQs = 0;\r\n    private int sQs = 0;\r\n    private int mQs = 0;\r\n    private int dQs = 0;\r\n\r\n    public MathQuiz() {\r\n\r\n        //grouping radio btns\r\n        ButtonGroup level = new ButtonGroup();\r\n        level.add(easy);\r\n        level.add(medium);\r\n        level.add(hard);\r\n        easy.addActionListener(this);\r\n        medium.addActionListener(this);\r\n        hard.addActionListener(this);\r\n        submit.addActionListener(this);\r\n\r\n        setTitle(&quot;Quiz&quot;);\r\n        setSize(400, 400);\r\n        setLocationRelativeTo(null);\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        setLayout(new FlowLayout());\r\n\r\n\r\n        add(questionNmbr);\r\n        add(questionTxt);\r\n        add(questionTypes);\r\n        add(addition);\r\n        add(subtraction);\r\n        add(multiplication);\r\n        add(division);\r\n        add(difficulty);\r\n        add(easy);\r\n        add(medium);\r\n        add(hard);\r\n        add(submit);\r\n\r\n\r\n        setVisible(true);\r\n\r\n\r\n    }\r\n\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n        Object obj = e.getSource();\r\n        Object obj2 = e.getSource();\r\n\r\n        //prints out the test\r\n        if (obj == submit) {\r\n            int QNmbr = Integer.parseInt(questionTxt.getText());\r\n\r\n            int[] aVal1 = \r\n    new int[Integer.parseInt(questionTxt.getText())];\r\n            int[] aVal2 = \r\n    new int[Integer.parseInt(questionTxt.getText())];\r\n\r\n            try {\r\n                Integer.parseInt(questionTxt.getText());\r\n            } catch (NumberFormatException f) {\r\n                JOptionPane.showMessageDialog(this,\r\n                        &quot;Please enter a number&quot;);\r\n            }\r\n\r\n\r\n\r\n            if (obj == addition) {\r\n                aNmbr = 1;\r\n            }\r\n\r\n            if (obj == subtraction) {\r\n                sNmbr = 1;\r\n            }\r\n\r\n            if (obj == multiplication) {\r\n                mNmbr = 1;\r\n            }\r\n\r\n            if (obj == division) {\r\n                dNmbr = 1;\r\n            }\r\n\r\n\r\n            //if easy is chosen\r\n            if (obj == easy) {\r\n\r\n\r\n                if(obj2 == addition) {\r\n                    for(int i = 0; i &lt; 2; i++){\r\n                        aVal1[i] = (int) (Math.random() * 11);\r\n                        System.out.print(aVal1[0]);\r\n                    }\r\n                    for(int j = 0; j &lt; \r\n    Integer.parseInt(questionTxt.getText()); j++){\r\n                        aVal2[j] = (int) (Math.random() * 11);\r\n                    }\r\n\r\n                }\r\n                /*if(obj2 == subtraction) {\r\n                    while (i &lt; \r\n    (Integer.parseInt(questionTxt.getText())) / (aNmbr + sNmbr +\r\n     mNmbr + dNmbr)) {\r\n                        aVal1[i] = (int) (Math.random() * 11);\r\n                        i++;\r\n                    }\r\n                    while (j &lt; \r\n    Integer.parseInt(questionTxt.getText())) {\r\n                        aVal2[j] = (int) (Math.random() * 11);\r\n                        j++;\r\n                    }\r\n\r\n                }\r\n                if(obj2 == multiplication) {\r\n                    while (i &lt; \r\n    (Integer.parseInt(questionTxt.getText())) / (aNmbr + sNmbr +\r\n     mNmbr + dNmbr)) {\r\n                        aVal1[i] = (int) (Math.random() * 11);\r\n                        i++;\r\n                    }\r\n                    while (j &lt; \r\n    Integer.parseInt(questionTxt.getText())) {\r\n                        aVal2[j] = (int) (Math.random() * 11);\r\n                        j++;\r\n                    }\r\n\r\n                }\r\n                if(obj2 == division) {\r\n                    while (i &lt; \r\n    (Integer.parseInt(questionTxt.getText())) / (aNmbr + sNmbr +\r\n     mNmbr + dNmbr)) {\r\n                        aVal1[i] = (int) (Math.random() * 11);\r\n                        i++;\r\n                    }\r\n                    while (j &lt; \r\n    Integer.parseInt(questionTxt.getText())) {\r\n                        aVal2[j] = (int) (Math.random() * 11);\r\n                        j++;\r\n\r\n\r\n                    }\r\n\r\n                }\r\n    */\r\n\r\n            }\r\n\r\n            if (obj == medium) {\r\n\r\n            }\r\n\r\n            if (obj == hard) {\r\n\r\n            }\r\n\r\n            System.out.println(aVal1[0]);\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n   \r\n\r\n     \r\n\r\n    ","title":"Trying to create a randomly generated test","body":"<blockquote>\n<p>I have already created a GUI for this assignment and now need to figure out how to execute each option. I need to create a test that can use Math.random() to generate equations that end in a whole number, the user can choose from easy, medium, or hard, with each option using a different number range. The user can also choose from addition, subtraction, multiplication, or division, and can choose multiple for one test. I am trying to write code that will store each value into an array of values for each equation (aVal1 being the first value for an addition equation and aVal2 being the second) But when I try to run the program and print out what aVal[0] has calculated into, it returns as 0. It seems like the program is not reading my equation like I want it to. Here is my code:</p>\n</blockquote>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\n\n\npublic class MathQuiz extends JFrame \nimplements ActionListener {\n\nprivate JLabel questionNmbr = new JLabel\n(&quot;Select # of      questions:&quot;);\nprivate JTextField questionTxt = new JTextField(8);\nprivate JLabel questionTypes = new JLabel\n(&quot;Select wanted question types:&quot;);\nprivate JCheckBox addition = new JCheckBox(&quot;+&quot;);\nprivate JCheckBox subtraction = new JCheckBox(&quot;-&quot;);\nprivate JCheckBox multiplication = new JCheckBox(&quot;x&quot;);\nprivate JCheckBox division = new JCheckBox(&quot;&quot;);\nprivate JLabel difficulty = new JLabel\n(&quot;Choose difficulty:&quot;);\nprivate JRadioButton easy = new JRadioButton(&quot;Easy&quot;);\nprivate JRadioButton medium = new JRadioButton(&quot;Medium&quot;);\nprivate JRadioButton hard = new JRadioButton(&quot;Hard&quot;);\nprivate JButton submit = new JButton(&quot;Submit&quot;);\n\n//whether or not each is chosen\nprivate int aNmbr = 0;\nprivate int sNmbr = 0;\nprivate int mNmbr = 0;\nprivate int dNmbr = 0;\n\n//how many questions each operation will have\nprivate int aQs = 0;\nprivate int sQs = 0;\nprivate int mQs = 0;\nprivate int dQs = 0;\n\npublic MathQuiz() {\n\n    //grouping radio btns\n    ButtonGroup level = new ButtonGroup();\n    level.add(easy);\n    level.add(medium);\n    level.add(hard);\n    easy.addActionListener(this);\n    medium.addActionListener(this);\n    hard.addActionListener(this);\n    submit.addActionListener(this);\n\n    setTitle(&quot;Quiz&quot;);\n    setSize(400, 400);\n    setLocationRelativeTo(null);\n    setDefaultCloseOperation(EXIT_ON_CLOSE);\n    setLayout(new FlowLayout());\n\n\n    add(questionNmbr);\n    add(questionTxt);\n    add(questionTypes);\n    add(addition);\n    add(subtraction);\n    add(multiplication);\n    add(division);\n    add(difficulty);\n    add(easy);\n    add(medium);\n    add(hard);\n    add(submit);\n\n\n    setVisible(true);\n\n\n}\n\n\npublic void actionPerformed(ActionEvent e) {\n    Object obj = e.getSource();\n    Object obj2 = e.getSource();\n\n    //prints out the test\n    if (obj == submit) {\n        int QNmbr = Integer.parseInt(questionTxt.getText());\n\n        int[] aVal1 = \nnew int[Integer.parseInt(questionTxt.getText())];\n        int[] aVal2 = \nnew int[Integer.parseInt(questionTxt.getText())];\n\n        try {\n            Integer.parseInt(questionTxt.getText());\n        } catch (NumberFormatException f) {\n            JOptionPane.showMessageDialog(this,\n                    &quot;Please enter a number&quot;);\n        }\n\n\n\n        if (obj == addition) {\n            aNmbr = 1;\n        }\n\n        if (obj == subtraction) {\n            sNmbr = 1;\n        }\n\n        if (obj == multiplication) {\n            mNmbr = 1;\n        }\n\n        if (obj == division) {\n            dNmbr = 1;\n        }\n\n\n        //if easy is chosen\n        if (obj == easy) {\n\n\n            if(obj2 == addition) {\n                for(int i = 0; i &lt; 2; i++){\n                    aVal1[i] = (int) (Math.random() * 11);\n                    System.out.print(aVal1[0]);\n                }\n                for(int j = 0; j &lt; \nInteger.parseInt(questionTxt.getText()); j++){\n                    aVal2[j] = (int) (Math.random() * 11);\n                }\n\n            }\n            /*if(obj2 == subtraction) {\n                while (i &lt; \n(Integer.parseInt(questionTxt.getText())) / (aNmbr + sNmbr +\n mNmbr + dNmbr)) {\n                    aVal1[i] = (int) (Math.random() * 11);\n                    i++;\n                }\n                while (j &lt; \nInteger.parseInt(questionTxt.getText())) {\n                    aVal2[j] = (int) (Math.random() * 11);\n                    j++;\n                }\n\n            }\n            if(obj2 == multiplication) {\n                while (i &lt; \n(Integer.parseInt(questionTxt.getText())) / (aNmbr + sNmbr +\n mNmbr + dNmbr)) {\n                    aVal1[i] = (int) (Math.random() * 11);\n                    i++;\n                }\n                while (j &lt; \nInteger.parseInt(questionTxt.getText())) {\n                    aVal2[j] = (int) (Math.random() * 11);\n                    j++;\n                }\n\n            }\n            if(obj2 == division) {\n                while (i &lt; \n(Integer.parseInt(questionTxt.getText())) / (aNmbr + sNmbr +\n mNmbr + dNmbr)) {\n                    aVal1[i] = (int) (Math.random() * 11);\n                    i++;\n                }\n                while (j &lt; \nInteger.parseInt(questionTxt.getText())) {\n                    aVal2[j] = (int) (Math.random() * 11);\n                    j++;\n\n\n                }\n\n            }\n*/\n\n        }\n\n        if (obj == medium) {\n\n        }\n\n        if (obj == hard) {\n\n        }\n\n        System.out.println(aVal1[0]);\n    }\n\n}\n\n\n\n\n\n\n}\n\n\n\n\n \n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":16632079,"reputation":2166,"user_id":16547945,"display_name":"Vojin Puri"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638822380,"creation_date":1638822380,"answer_id":70251517,"question_id":70251381,"body_markdown":"As far as I know there are multiple things that can cause this\r\n\r\n - Your Java POJO Mapping class may not have the empty/default constructor\r\n - Any collections you have should have the default constructor or overridden hashcode and equals method. That is, the same rules apply for any joined collections/parent-children.\r\n\r\nIf you have your constructors right for POJO classes than check hibernate.properties file and try changing\r\n\r\n    hibernate.bytecode.provider=javassist\r\n\r\nto\r\n\r\n    hibernate.bytecode.provider=bytebuddy","title":"java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.AccessibleObject.setAccessible(boolean)&quot; because &quot;ao&quot; is null","body":"<p>As far as I know there are multiple things that can cause this</p>\n<ul>\n<li>Your Java POJO Mapping class may not have the empty/default constructor</li>\n<li>Any collections you have should have the default constructor or overridden hashcode and equals method. That is, the same rules apply for any joined collections/parent-children.</li>\n</ul>\n<p>If you have your constructors right for POJO classes than check hibernate.properties file and try changing</p>\n<pre><code>hibernate.bytecode.provider=javassist\n</code></pre>\n<p>to</p>\n<pre><code>hibernate.bytecode.provider=bytebuddy\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19981008,"reputation":913,"user_id":14644191,"display_name":"Enchantres"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638822796,"creation_date":1638822796,"answer_id":70251604,"question_id":70251381,"body_markdown":"I deleted the existing javaasisst, installed it again and now it works with the newest version.","title":"java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.AccessibleObject.setAccessible(boolean)&quot; because &quot;ao&quot; is null","body":"<p>I deleted the existing javaasisst, installed it again and now it works with the newest version.</p>\n"},{"tags":[],"owner":{"account_id":1124049,"reputation":6262,"user_id":1111732,"accept_rate":67,"display_name":"craastad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651017857,"creation_date":1651017857,"answer_id":72021843,"question_id":70251381,"body_markdown":"To those who stumble on this question looking for a clue. I had this issue on my staging environment in Google Cloud Platform but not while running locally. I solved it by updating the version of `org.hibernate:hibernate-gradle-plugin` and `org.hibernate:hibernate-c3p0` from `5.2.9.Final` to `5.6.1.Final`. Magic. &#129668; ","title":"java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.AccessibleObject.setAccessible(boolean)&quot; because &quot;ao&quot; is null","body":"<p>To those who stumble on this question looking for a clue. I had this issue on my staging environment in Google Cloud Platform but not while running locally. I solved it by updating the version of <code>org.hibernate:hibernate-gradle-plugin</code> and <code>org.hibernate:hibernate-c3p0</code> from <code>5.2.9.Final</code> to <code>5.6.1.Final</code>. Magic. </p>\n"}],"owner":{"account_id":19981008,"reputation":913,"user_id":14644191,"display_name":"Enchantres"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4055,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70251517,"answer_count":3,"score":1,"last_activity_date":1651017857,"creation_date":1638821608,"question_id":70251381,"body_markdown":"I am doing Dynamic Web Project using JPA in Java 17. I have a class called UserEntity. In the first page I have a register button, which has the following functionality:\r\n\r\n    private void register(HttpServletRequest request, HttpServletResponse response) {\r\n    \t\tString password = request.getParameter(&quot;register-pass&quot;);\r\n    \t\tString repeatPassword = request.getParameter(&quot;confirm-register-pass&quot;);\r\n    \t\tif (!password.equals(repeatPassword)) {\r\n    \t\t\trequest.setAttribute(&quot;error&quot;, &quot;Password mismatch!&quot;);\r\n    \t\t\tRequestDispatcher dispatcher = request.getRequestDispatcher(&quot;error.jsp&quot;);\r\n    \t\t\ttry {\r\n    \t\t\t\tdispatcher.forward(request, response);\r\n    \t\t\t} catch (ServletException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tJPAUserRepository repo = new JPAUserRepository();\r\n    \t\t\tString username = request.getParameter(&quot;register-user&quot;);\r\n    \t\t\tString email = request.getParameter(&quot;register-email&quot;);\r\n    \t\t\tUserEntity user = new UserEntity(username, password, email);\r\n    \t\t\t\r\n    \t\t\tif(repo.registerUser(user)) {\r\n    \t\t\t\tHttpSession session = request.getSession();\r\n    \t\t\t\tsession.setAttribute(&quot;user&quot;, user);\r\n    \t\t\t\t\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tresponse.sendRedirect(&quot;profile.jsp&quot;);\r\n    \t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}else {\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\nThe registerUser function from the repository is:\r\n\t\r\n\r\n    public boolean registerUser(UserEntity user) {\r\n    \t\tEntityManager em = getEntityManager();\r\n    \t\ttry {\r\n    \t\t\tem.getTransaction().begin();\r\n    \t\t\tem.persist(user);\r\n    \t\t\tem.getTransaction().commit();\r\n    \t\t} catch (TransactionalException e) {\r\n    \t\t\tem.getTransaction().rollback();\r\n    \t\t\treturn false;\r\n    \t\t} finally {\r\n    \t\t\tem.close();\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n\r\nThis is my persistence.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n    \t&lt;persistence-unit name=&quot;MetaVerse&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n    \t\t&lt;provider&gt;\r\n    \t\t\torg.hibernate.jpa.HibernatePersistenceProvider\r\n    \t\t&lt;/provider&gt;\r\n    \t\t&lt;class&gt;uni.fmi.masters.entities.UserEntity&lt;/class&gt;\r\n    \t\t&lt;class&gt;uni.fmi.masters.entities.CommentEntity&lt;/class&gt;\r\n    \t\t\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.h2.Driver&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:h2:~/MetaVerseDB&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.connection.user&quot; value=&quot;sa&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.connection.password&quot; value=&quot;&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.flushMode&quot; value=&quot;FLUSH_AUTO&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t\r\n    \t&lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\n \r\nWhen I click on register, NullPointerException error occurs. I have added to the build path javassist-3.27.0-GA-javadoc.jar, but the issue is still not resolved. **How can I solve this problem?**\r\n    \r\n    Root Cause\r\n    \r\n    java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.AccessibleObject.setAccessible(boolean)&quot; because &quot;ao&quot; is null\r\n    \tjavassist.util.proxy.SecurityActions.setAccessible(SecurityActions.java:103)\r\n    \tjavassist.util.proxy.DefineClassHelper.toClass3(DefineClassHelper.java:151)\r\n    \tjavassist.util.proxy.DefineClassHelper.toClass2(DefineClassHelper.java:134)\r\n    \tjavassist.util.proxy.DefineClassHelper.toClass(DefineClassHelper.java:95)\r\n    \tjavassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:131)\r\n    \tjavassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:530)\r\n    \tjavassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:515)\r\n    \tjavassist.util.proxy.ProxyFactory.createClass1(ProxyFactory.java:451)\r\n    \tjavassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:422)\r\n    \torg.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:75)\r\n    \torg.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:162)\r\n    \torg.hibernate.tuple.entity.AbstractEntityTuplizer.&lt;init&gt;(AbstractEntityTuplizer.java:156)\r\n    \torg.hibernate.tuple.entity.PojoEntityTuplizer.&lt;init&gt;(PojoEntityTuplizer.java:58)\r\n    \tjava.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tjava.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n    \tjava.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tjava.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tjava.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    \torg.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:88)\r\n    \torg.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:116)\r\n    \torg.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:382)\r\n    \torg.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:519)\r\n    \torg.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:124)\r\n    \tjava.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tjava.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n    \tjava.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tjava.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tjava.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    \torg.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:96)\r\n    \torg.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:77)\r\n    \torg.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:129)\r\n    \torg.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:300)\r\n    \torg.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)\r\n    \torg.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:892)\r\n    \torg.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:58)\r\n    \tjavax.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\r\n    \tjavax.persistence.Persistence.createEntityManagerFactory(Persistence.java:39)\r\n    \tuni.fmi.masters.repositories.JPAUserRepository.getEntityManager(JPAUserRepository.java:47)\r\n    \tuni.fmi.masters.repositories.JPAUserRepository.registerUser(JPAUserRepository.java:16)\r\n    \tuni.fmi.masters.HelloWorldServlet.register(HelloWorldServlet.java:128)\r\n    \tuni.fmi.masters.HelloWorldServlet.doPost(HelloWorldServlet.java:68)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:652)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n","title":"java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.AccessibleObject.setAccessible(boolean)&quot; because &quot;ao&quot; is null","body":"<p>I am doing Dynamic Web Project using JPA in Java 17. I have a class called UserEntity. In the first page I have a register button, which has the following functionality:</p>\n<pre><code>private void register(HttpServletRequest request, HttpServletResponse response) {\n        String password = request.getParameter(&quot;register-pass&quot;);\n        String repeatPassword = request.getParameter(&quot;confirm-register-pass&quot;);\n        if (!password.equals(repeatPassword)) {\n            request.setAttribute(&quot;error&quot;, &quot;Password mismatch!&quot;);\n            RequestDispatcher dispatcher = request.getRequestDispatcher(&quot;error.jsp&quot;);\n            try {\n                dispatcher.forward(request, response);\n            } catch (ServletException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        } else {\n            JPAUserRepository repo = new JPAUserRepository();\n            String username = request.getParameter(&quot;register-user&quot;);\n            String email = request.getParameter(&quot;register-email&quot;);\n            UserEntity user = new UserEntity(username, password, email);\n            \n            if(repo.registerUser(user)) {\n                HttpSession session = request.getSession();\n                session.setAttribute(&quot;user&quot;, user);\n                \n                try {\n                    response.sendRedirect(&quot;profile.jsp&quot;);\n                } catch (IOException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n            }else {\n            }\n        }\n    }\n</code></pre>\n<p>The registerUser function from the repository is:</p>\n<pre><code>public boolean registerUser(UserEntity user) {\n        EntityManager em = getEntityManager();\n        try {\n            em.getTransaction().begin();\n            em.persist(user);\n            em.getTransaction().commit();\n        } catch (TransactionalException e) {\n            em.getTransaction().rollback();\n            return false;\n        } finally {\n            em.close();\n        }\n        return true;\n    }\n</code></pre>\n<p>This is my persistence.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\n    &lt;persistence-unit name=&quot;MetaVerse&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;\n            org.hibernate.jpa.HibernatePersistenceProvider\n        &lt;/provider&gt;\n        &lt;class&gt;uni.fmi.masters.entities.UserEntity&lt;/class&gt;\n        &lt;class&gt;uni.fmi.masters.entities.CommentEntity&lt;/class&gt;\n        \n        &lt;properties&gt;\n            &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class&quot; /&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot; /&gt;\n            &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.h2.Driver&quot; /&gt;\n            &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:h2:~/MetaVerseDB&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.user&quot; value=&quot;sa&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;&quot;/&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\n            &lt;property name=&quot;hibernate.flushMode&quot; value=&quot;FLUSH_AUTO&quot;/&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\n        &lt;/properties&gt;\n    \n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>When I click on register, NullPointerException error occurs. I have added to the build path javassist-3.27.0-GA-javadoc.jar, but the issue is still not resolved. <strong>How can I solve this problem?</strong></p>\n<pre><code>Root Cause\n\njava.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.AccessibleObject.setAccessible(boolean)&quot; because &quot;ao&quot; is null\n    javassist.util.proxy.SecurityActions.setAccessible(SecurityActions.java:103)\n    javassist.util.proxy.DefineClassHelper.toClass3(DefineClassHelper.java:151)\n    javassist.util.proxy.DefineClassHelper.toClass2(DefineClassHelper.java:134)\n    javassist.util.proxy.DefineClassHelper.toClass(DefineClassHelper.java:95)\n    javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:131)\n    javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:530)\n    javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:515)\n    javassist.util.proxy.ProxyFactory.createClass1(ProxyFactory.java:451)\n    javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:422)\n    org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:75)\n    org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:162)\n    org.hibernate.tuple.entity.AbstractEntityTuplizer.&lt;init&gt;(AbstractEntityTuplizer.java:156)\n    org.hibernate.tuple.entity.PojoEntityTuplizer.&lt;init&gt;(PojoEntityTuplizer.java:58)\n    java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:88)\n    org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:116)\n    org.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:382)\n    org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:519)\n    org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:124)\n    java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:96)\n    org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:77)\n    org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:129)\n    org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:300)\n    org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)\n    org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:892)\n    org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:58)\n    javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\n    javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:39)\n    uni.fmi.masters.repositories.JPAUserRepository.getEntityManager(JPAUserRepository.java:47)\n    uni.fmi.masters.repositories.JPAUserRepository.registerUser(JPAUserRepository.java:16)\n    uni.fmi.masters.HelloWorldServlet.register(HelloWorldServlet.java:128)\n    uni.fmi.masters.HelloWorldServlet.doPost(HelloWorldServlet.java:68)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","css-selectors","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650964434,"creation_date":1650964434,"answer_id":72011338,"question_id":72008949,"body_markdown":"The element `Salesforce` is under `iframe` you need to switch to `iframe` first in order to access the element.\r\n\r\nUse `WebdriverWait()` and wait for `frameToBeAvailableAndSwitchToIt()` and use following locator to identify.\r\n\r\nUse `WebdriverWait()` and wait for `elementToBeClickable()` and use following locator to identify.\r\n\r\n    driver.get(&quot;http://ww1.salesfoce.com/&quot;)\r\n    new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;#rs&gt;iframe&quot;)));\r\n    \r\n    new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[text()=&#39;Salesforce&#39;]&quot;))).click();","title":"Selenium: No such element exception is getting on this http://www.salesfoce.com/ even thought that element exists","body":"<p>The element <code>Salesforce</code> is under <code>iframe</code> you need to switch to <code>iframe</code> first in order to access the element.</p>\n<p>Use <code>WebdriverWait()</code> and wait for <code>frameToBeAvailableAndSwitchToIt()</code> and use following locator to identify.</p>\n<p>Use <code>WebdriverWait()</code> and wait for <code>elementToBeClickable()</code> and use following locator to identify.</p>\n<pre><code>driver.get(&quot;http://ww1.salesfoce.com/&quot;)\nnew WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;#rs&gt;iframe&quot;)));\n\nnew WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[text()='Salesforce']&quot;))).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651017252,"creation_date":1651017252,"answer_id":72021791,"question_id":72008949,"body_markdown":"The element with the text as _**Salesforce**_ is within an [`&lt;iframe&gt;`](https://stackoverflow.com/a/53276478/7429447)\r\n\r\n![salesforce_iframe](https://i.stack.imgur.com/aYWov.png)\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nTo click on the element with text as _**Salesforce**_ within the [website](http://ww1.salesfoce.com/) you have to:\r\n\r\n- Induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the desired _frameToBeAvailableAndSwitchToIt_.\r\n- Induce [WebDriverWait](https://stackoverflow.com/a/50621712/7429447) for the desired _elementToBeClickable_.\r\n- You can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n  - Using _xpath_:\r\n\r\n\t    driver.get(&quot;http://ww1.salesfoce.com/&quot;);\r\n\t    new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.xpath(&quot;//iframe[starts-with(@src, &#39;https://www.google.com/afs/ads?adtest&#39;)]&quot;)));\r\n\t    new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[text()=&#39;Salesforce&#39;]&quot;))).click();","title":"Selenium: No such element exception is getting on this http://www.salesfoce.com/ even thought that element exists","body":"<p>The element with the text as <em><strong>Salesforce</strong></em> is within an <a href=\"https://stackoverflow.com/a/53276478/7429447\"><code>&lt;iframe&gt;</code></a></p>\n<p><img src=\"https://i.stack.imgur.com/aYWov.png\" alt=\"salesforce_iframe\" /></p>\n<hr />\n<h2>Solution</h2>\n<p>To click on the element with text as <em><strong>Salesforce</strong></em> within the <a href=\"http://ww1.salesfoce.com/\" rel=\"nofollow noreferrer\">website</a> you have to:</p>\n<ul>\n<li>Induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the desired <em>frameToBeAvailableAndSwitchToIt</em>.</li>\n<li>Induce <a href=\"https://stackoverflow.com/a/50621712/7429447\">WebDriverWait</a> for the desired <em>elementToBeClickable</em>.</li>\n<li>You can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:\n<ul>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>driver.get(&quot;http://ww1.salesfoce.com/&quot;);\nnew WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.xpath(&quot;//iframe[starts-with(@src, 'https://www.google.com/afs/ads?adtest')]&quot;)));\nnew WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[text()='Salesforce']&quot;))).click();\n</code></pre>\n</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":11072215,"reputation":137,"user_id":8129994,"display_name":"Abhinay Singh Negi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72011338,"answer_count":2,"score":0,"last_activity_date":1651017252,"creation_date":1650952090,"question_id":72008949,"body_markdown":"I am trying to find an element `By.cssSelector(&quot;#e1&quot;)`. On this website : [SALESFOCE.COM][1]. \r\n\r\nI am trying to find an element on this first button(image below), which is a `&lt;div&gt;`. [![This button][2]][2]\r\n\r\nFrom java, I tried By.xPath and By.cssSelector but every time I am getting **No such element exception**. \r\nI also used Implicit and explicit wait still getting same exception.\r\n\r\nBut if I find using inspect element than it highlights the element.\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: http://ww1.salesfoce.com/\r\n  [2]: https://i.stack.imgur.com/qrDIT.png\r\n  [3]: https://i.stack.imgur.com/od2VW.png","title":"Selenium: No such element exception is getting on this http://www.salesfoce.com/ even thought that element exists","body":"<p>I am trying to find an element <code>By.cssSelector(&quot;#e1&quot;)</code>. On this website : <a href=\"http://ww1.salesfoce.com/\" rel=\"nofollow noreferrer\">SALESFOCE.COM</a>.</p>\n<p>I am trying to find an element on this first button(image below), which is a <code>&lt;div&gt;</code>. <a href=\"https://i.stack.imgur.com/qrDIT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qrDIT.png\" alt=\"This button\" /></a></p>\n<p>From java, I tried By.xPath and By.cssSelector but every time I am getting <strong>No such element exception</strong>.\nI also used Implicit and explicit wait still getting same exception.</p>\n<p>But if I find using inspect element than it highlights the element.\n<a href=\"https://i.stack.imgur.com/od2VW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/od2VW.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","openfeign"],"answers":[{"tags":[],"owner":{"account_id":13406653,"reputation":31,"user_id":9674498,"display_name":"Harshal Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599666118,"creation_date":1599666118,"answer_id":63815095,"question_id":63702885,"body_markdown":"Add **ServiceName**(i.e feignName) with its URL in your feignClient interface.\r\n\r\n    @FeignClient(name = &quot;user-service&quot;, url = &quot;feignUrl&quot;, decode404 = true)\r\n    public interface UserFeignClient {\r\n        @PostMapping(&quot;/do-something&quot;)\r\n        void doSomething();\r\n    }\r\n\r\nFeign Client is tool for making easier call to Rest-Api of other service where as Ribbon is used mostly for load balancing.\r\n\r\nIf you want to use ribbon \r\n\r\n1. Add this dependency to your pom.xml\r\n\r\n&gt;     &lt;dependency&gt;\r\n&gt;         &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n&gt;         &lt;artifactId&gt;spring-cloud-starter-netflix-ribbon&lt;/artifactId&gt;\r\n&gt;     &lt;/dependency&gt;\r\n\r\n2. FeignClient interface\r\n\r\n       @FeignClient(name=&quot;ServiceName&quot;)\r\n       @RibbonClient(name=&quot;ServiceName&quot;)\r\n\r\n3. configure your **application.properties** like given below\r\n\r\n&gt; ServiceName.ribbon.listOfServers=http://localhost:8000,http://localhost:8001\r\n\r\n","title":"java.lang.IllegalStateException: No Feign Client for loadBalancing defined. Did you forget to include spring-cloud-starter-netflix-ribbon?","body":"<p>Add <strong>ServiceName</strong>(i.e feignName) with its URL in your feignClient interface.</p>\n<pre><code>@FeignClient(name = &quot;user-service&quot;, url = &quot;feignUrl&quot;, decode404 = true)\npublic interface UserFeignClient {\n    @PostMapping(&quot;/do-something&quot;)\n    void doSomething();\n}\n</code></pre>\n<p>Feign Client is tool for making easier call to Rest-Api of other service where as Ribbon is used mostly for load balancing.</p>\n<p>If you want to use ribbon</p>\n<ol>\n<li>Add this dependency to your pom.xml</li>\n</ol>\n<blockquote>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-netflix-ribbon&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n</blockquote>\n<ol start=\"2\">\n<li><p>FeignClient interface</p>\n<pre><code>@FeignClient(name=&quot;ServiceName&quot;)\n@RibbonClient(name=&quot;ServiceName&quot;)\n</code></pre>\n</li>\n<li><p>configure your <strong>application.properties</strong> like given below</p>\n</li>\n</ol>\n<blockquote>\n<p>ServiceName.ribbon.listOfServers=http://localhost:8000,http://localhost:8001</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":281453,"reputation":2359,"user_id":577769,"display_name":"Ualter Jr."},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1601978795,"creation_date":1601973778,"answer_id":64222260,"question_id":63702885,"body_markdown":"You have to decide, which client load balancer to use: (1)**Spring Cloud Loadbalancer** or (2)**Ribbon**.\r\n\r\n&gt;  Spring Cloud Loadbalancer is a generic abstraction that can do the work that we used to do with Netflixs Ribbon project. Spring Cloud still supports Netflix Ribbon, but Netflix Ribbons days are numbered, like so much else of the Netflix microservices stack, so weve provided an abstraction to support an alternative\r\n\r\nCheck here: https://spring.io/blog/2020/03/25/spring-tips-spring-cloud-loadbalancer\r\n\r\n(1) **Spring Cloud Load Balancer**:\r\n\r\n    spring:\r\n      cloud:\r\n        loadbalancer:\r\n           ribbon:\r\n            enable: false\r\n\r\n    # And... inform the &quot;url&quot; attribute at FeignClient\r\n    @FeignClient(name = &quot;student&quot;, url = &quot;student&quot;) \r\n\r\n(2) **Ribbon**:\r\nAdd the dependency:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-cloud-starter-netflix-ribbon&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    # And (optionally)... @application.yaml\r\n\r\n       spring:\r\n          cloud:\r\n            loadbalancer:\r\n               ribbon:\r\n                enable: true\r\n\r\n","title":"java.lang.IllegalStateException: No Feign Client for loadBalancing defined. Did you forget to include spring-cloud-starter-netflix-ribbon?","body":"<p>You have to decide, which client load balancer to use: (1)<strong>Spring Cloud Loadbalancer</strong> or (2)<strong>Ribbon</strong>.</p>\n<blockquote>\n<p>Spring Cloud Loadbalancer is a generic abstraction that can do the work that we used to do with Netflixs Ribbon project. Spring Cloud still supports Netflix Ribbon, but Netflix Ribbons days are numbered, like so much else of the Netflix microservices stack, so weve provided an abstraction to support an alternative</p>\n</blockquote>\n<p>Check here: <a href=\"https://spring.io/blog/2020/03/25/spring-tips-spring-cloud-loadbalancer\" rel=\"noreferrer\">https://spring.io/blog/2020/03/25/spring-tips-spring-cloud-loadbalancer</a></p>\n<p>(1) <strong>Spring Cloud Load Balancer</strong>:</p>\n<pre><code>spring:\n  cloud:\n    loadbalancer:\n       ribbon:\n        enable: false\n\n# And... inform the &quot;url&quot; attribute at FeignClient\n@FeignClient(name = &quot;student&quot;, url = &quot;student&quot;) \n</code></pre>\n<p>(2) <strong>Ribbon</strong>:\nAdd the dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-netflix-ribbon&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n# And (optionally)... @application.yaml\n\n   spring:\n      cloud:\n        loadbalancer:\n           ribbon:\n            enable: true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13929250,"reputation":828,"user_id":10057794,"display_name":"Abduqodir  Ubaydullayev"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1606237611,"creation_date":1606237611,"answer_id":64991398,"question_id":63702885,"body_markdown":"\r\n\r\n&gt; Ribbon\r\n\r\nRequires Spring Boot Version &gt;= 2.0.0.RELEASE and &lt; 2.4.0-M1\r\n\r\n","title":"java.lang.IllegalStateException: No Feign Client for loadBalancing defined. Did you forget to include spring-cloud-starter-netflix-ribbon?","body":"<blockquote>\n<p>Ribbon</p>\n</blockquote>\n<p>Requires Spring Boot Version &gt;= 2.0.0.RELEASE and &lt; 2.4.0-M1</p>\n"},{"tags":[],"owner":{"account_id":21009587,"reputation":71,"user_id":15438507,"display_name":"sanket dumbre"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1625222367,"creation_date":1625143554,"answer_id":68210466,"question_id":63702885,"body_markdown":"Use `spring-cloud-starter-loadbalancer` dependency instead of `spring-cloud-starter-netflix-ribbon`.","title":"java.lang.IllegalStateException: No Feign Client for loadBalancing defined. Did you forget to include spring-cloud-starter-netflix-ribbon?","body":"<p>Use <code>spring-cloud-starter-loadbalancer</code> dependency instead of <code>spring-cloud-starter-netflix-ribbon</code>.</p>\n"},{"tags":[],"owner":{"account_id":4143607,"reputation":773,"user_id":3398044,"accept_rate":62,"display_name":"vuhoanghiep1993"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1651017137,"creation_date":1642420198,"answer_id":70740887,"question_id":63702885,"body_markdown":"For me, the problem was not include `url` parameter in `@FeignClient` annotation:\r\n\r\n    @FeignClient(name = &quot;microservice-common&quot;, url = &quot;${microservice-common.url}&quot;)","title":"java.lang.IllegalStateException: No Feign Client for loadBalancing defined. Did you forget to include spring-cloud-starter-netflix-ribbon?","body":"<p>For me, the problem was not include <code>url</code> parameter in <code>@FeignClient</code> annotation:</p>\n<pre><code>@FeignClient(name = &quot;microservice-common&quot;, url = &quot;${microservice-common.url}&quot;)\n</code></pre>\n"}],"owner":{"display_name":"user4811324"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39056,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":64222260,"answer_count":5,"score":22,"last_activity_date":1651017137,"creation_date":1599039841,"question_id":63702885,"body_markdown":"I am getting exception:\r\n\r\n\r\n    FactoryBean threw exception on object creation; nested exception is java.lang.IllegalStateException: No Feign Client for loadBalancing defined. Did you forget to include spring-cloud-starter-netflix-ribbon?\r\n    \tat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:178)\r\n    \tat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1654)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1174)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:257)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1012)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:338)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:333)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)\r\n    \tat com.hsbc.gbgcf.spartan.referencedatabase.UserRegistrationApplication.main(UserRegistrationApplication.java:57)\r\n\r\nwhen executing my project. My pom.xml contains \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n\r\nI am using feign client in other projects of mine as well without any additional dependency of ribbon and these are working with same spring-boot version 2.0.8\r\n\r\nI have referred other stack overflow link for same issue and they have asked to add additional dependency of ribbon. I have tried adding same in my pom.xml but it didn&#39;t helped.\r\n\r\nFeignClient interface is,\r\n\r\n    @FeignClient(value = &quot;user-service&quot;, decode404 = true)\r\n    public interface UserFeignClient {\r\n    \r\n        @PostMapping(&quot;/do-something&quot;)\r\n        void doSomething();\r\n    }\r\n\r\nMain class code:\r\n\r\n    @Configuration\r\n    @EnableAspectJAutoProxy\r\n    @EnableFeignClients\r\n    @EnableDiscoveryClient\r\n    @SpringBootApplication(scanBasePackages = {&quot;test.user&quot;})\r\n    public class UserRegistrationApplication{\r\n     public static void main(String[] args) {\r\n            UserFeignClient userFeignClient = applicationContext.getBean(UserFeignClient.class);\r\n            userFeignClient.doSomething();\r\n            System.exit(SpringApplication.exit(applicationContext));\r\n        }\r\n    }\r\n\r\nI am using Sprint Boot version 2.0.8.\r\n","title":"java.lang.IllegalStateException: No Feign Client for loadBalancing defined. Did you forget to include spring-cloud-starter-netflix-ribbon?","body":"<p>I am getting exception:</p>\n<pre><code>FactoryBean threw exception on object creation; nested exception is java.lang.IllegalStateException: No Feign Client for loadBalancing defined. Did you forget to include spring-cloud-starter-netflix-ribbon?\n    at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:178)\n    at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1654)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1174)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:257)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1012)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:338)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:333)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)\n    at com.hsbc.gbgcf.spartan.referencedatabase.UserRegistrationApplication.main(UserRegistrationApplication.java:57)\n</code></pre>\n<p>when executing my project. My pom.xml contains</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>I am using feign client in other projects of mine as well without any additional dependency of ribbon and these are working with same spring-boot version 2.0.8</p>\n<p>I have referred other stack overflow link for same issue and they have asked to add additional dependency of ribbon. I have tried adding same in my pom.xml but it didn't helped.</p>\n<p>FeignClient interface is,</p>\n<pre><code>@FeignClient(value = &quot;user-service&quot;, decode404 = true)\npublic interface UserFeignClient {\n\n    @PostMapping(&quot;/do-something&quot;)\n    void doSomething();\n}\n</code></pre>\n<p>Main class code:</p>\n<pre><code>@Configuration\n@EnableAspectJAutoProxy\n@EnableFeignClients\n@EnableDiscoveryClient\n@SpringBootApplication(scanBasePackages = {&quot;test.user&quot;})\npublic class UserRegistrationApplication{\n public static void main(String[] args) {\n        UserFeignClient userFeignClient = applicationContext.getBean(UserFeignClient.class);\n        userFeignClient.doSomething();\n        System.exit(SpringApplication.exit(applicationContext));\n    }\n}\n</code></pre>\n<p>I am using Sprint Boot version 2.0.8.</p>\n"},{"tags":["java","android","android-intent","uri"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651016858,"creation_date":1651016858,"answer_id":72021747,"question_id":72021435,"body_markdown":"&gt; Where does the video actually reside at this point?\r\n\r\nIt will reside wherever the user&#39;s camera app elects to put it. There are hundreds of different camera apps, both pre-installed by manufacturers and user-installed from the Play Store or elsewhere.\r\n\r\n&gt; Is it temporarily stored in memory or does it get saved to permanent storage?\r\n\r\nThat is up to the camera app.\r\n\r\n&gt; If I want my app to reliably access that video at some later point, what&#39;s the best way to go about this?\r\n\r\nYou can try passing a `content` `Uri` value [via `EXTRA_OUTPUT`](https://developer.android.com/reference/kotlin/android/provider/MediaStore#action_video_capture) as an extra on your `Intent`. You can use `FileProvider` to get that `Uri`, pointing to some file in a location that you control (e.g., `getFilesDir()` on `Context`). Most camera apps should honor this extra, but not all will.\r\n\r\nOr, you could copy the video, as you suggest.\r\n\r\nOr, you could use a camera library (e.g., FotoApparat, CameraKit-Android) and record the video within your own app.\r\n","title":"Android - where are videos taken from intent stored?","body":"<blockquote>\n<p>Where does the video actually reside at this point?</p>\n</blockquote>\n<p>It will reside wherever the user's camera app elects to put it. There are hundreds of different camera apps, both pre-installed by manufacturers and user-installed from the Play Store or elsewhere.</p>\n<blockquote>\n<p>Is it temporarily stored in memory or does it get saved to permanent storage?</p>\n</blockquote>\n<p>That is up to the camera app.</p>\n<blockquote>\n<p>If I want my app to reliably access that video at some later point, what's the best way to go about this?</p>\n</blockquote>\n<p>You can try passing a <code>content</code> <code>Uri</code> value <a href=\"https://developer.android.com/reference/kotlin/android/provider/MediaStore#action_video_capture\" rel=\"nofollow noreferrer\">via <code>EXTRA_OUTPUT</code></a> as an extra on your <code>Intent</code>. You can use <code>FileProvider</code> to get that <code>Uri</code>, pointing to some file in a location that you control (e.g., <code>getFilesDir()</code> on <code>Context</code>). Most camera apps should honor this extra, but not all will.</p>\n<p>Or, you could copy the video, as you suggest.</p>\n<p>Or, you could use a camera library (e.g., FotoApparat, CameraKit-Android) and record the video within your own app.</p>\n"}],"owner":{"account_id":16879198,"reputation":509,"user_id":12424975,"display_name":"Samuele B."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651016858,"creation_date":1651013829,"question_id":72021435,"body_markdown":"Let&#39;s say I have a method inside my activity that looks like this:\r\n\r\n```\r\n    private void dispatchTakeVideoIntent() {\r\n        Intent takeVideoIntent = new Intent(MediaStore.ACTION_VIDEO_CAPTURE);\r\n        if (takeVideoIntent.resolveActivity(getActivity().getPackageManager()) != null) {\r\n            startActivityForResult(takeVideoIntent, REQUEST_VIDEO_CAPTURE);\r\n        }\r\n    }\r\n```\r\n\r\nThen if everything works out fine, I access the taken video by its URI:\r\n\r\n```\r\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent intent) {\r\n        if (requestCode == REQUEST_VIDEO_CAPTURE &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n            Uri videoUri = intent.getData();\r\n            // process video\r\n        }\r\n    }\r\n```\r\n\r\nWhere does the video actually reside at this point? Is it temporarily stored in memory or does it get saved to permanent storage?\r\n\r\nIf I want my app to reliably access that video at some later point, what&#39;s the best way to go about this? Do I have to copy the video to my app&#39;s storage folder(s)?","title":"Android - where are videos taken from intent stored?","body":"<p>Let's say I have a method inside my activity that looks like this:</p>\n<pre><code>    private void dispatchTakeVideoIntent() {\n        Intent takeVideoIntent = new Intent(MediaStore.ACTION_VIDEO_CAPTURE);\n        if (takeVideoIntent.resolveActivity(getActivity().getPackageManager()) != null) {\n            startActivityForResult(takeVideoIntent, REQUEST_VIDEO_CAPTURE);\n        }\n    }\n</code></pre>\n<p>Then if everything works out fine, I access the taken video by its URI:</p>\n<pre><code>    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent intent) {\n        if (requestCode == REQUEST_VIDEO_CAPTURE &amp;&amp; resultCode == Activity.RESULT_OK) {\n            Uri videoUri = intent.getData();\n            // process video\n        }\n    }\n</code></pre>\n<p>Where does the video actually reside at this point? Is it temporarily stored in memory or does it get saved to permanent storage?</p>\n<p>If I want my app to reliably access that video at some later point, what's the best way to go about this? Do I have to copy the video to my app's storage folder(s)?</p>\n"},{"tags":["java","rsa","encryption-asymmetric"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1651009355,"post_id":72020796,"comment_id":127258954,"body_markdown":"What is `getKey(base64EncodedEncryptionKey)`?","body":"What is <code>getKey(base64EncodedEncryptionKey)</code>?"},{"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"score":0,"creation_date":1651010863,"post_id":72020796,"comment_id":127259268,"body_markdown":"@JimGarrison Added the missing methods.","body":"@JimGarrison Added the missing methods."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1651011599,"post_id":72020796,"comment_id":127259418,"body_markdown":"Have you stepped through the code? Have you examined intermediate values to see if they make sense?  What is the default encoding used by `keypair.getPrivate().getEncoded()` for the RSA algorithm?  Is it the correct encoding?","body":"Have you stepped through the code? Have you examined intermediate values to see if they make sense?  What is the default encoding used by <code>keypair.getPrivate().getEncoded()</code> for the RSA algorithm?  Is it the correct encoding?"}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651011600,"creation_date":1651011600,"answer_id":72021147,"question_id":72020796,"body_markdown":"Private keys are encoded with `PKCS8EncodedKeySpec`. You should replace `X509EncodedKeySpec` with that.","title":"Reconstruct private key","body":"<p>Private keys are encoded with <code>PKCS8EncodedKeySpec</code>. You should replace <code>X509EncodedKeySpec</code> with that.</p>\n"}],"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":766,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72021147,"answer_count":1,"score":-2,"last_activity_date":1651015448,"creation_date":1651008986,"question_id":72020796,"body_markdown":"I am generating Asymmetric public key and private using the code below.\r\n\r\n    public static KeyPair generateRSAKkeyPair()\r\n                    throws Exception {\r\n            SecureRandom secureRandom = new SecureRandom();\r\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n    \r\n            keyPairGenerator.initialize(\r\n                        2048, secureRandom);\r\n            return keyPairGenerator\r\n                                   .generateKeyPair();\r\n        }\r\n\r\n    public static byte[] do_RSAEncryption(\r\n                                              String plainText,\r\n                                              PublicKey publicKey)\r\n                    throws Exception {\r\n            Cipher cipher = Cipher.getInstance(RSA);\r\n            cipher.init(\r\n                        Cipher.ENCRYPT_MODE, publicKey);\r\n    \r\n            return cipher.doFinal(\r\n                        plainText.getBytes());\r\n        }\r\n    \r\n    public static String do_RSADecryption(\r\n                                              byte[] cipherText,\r\n                                              PrivateKey privateKey)\r\n                    throws Exception {\r\n            Cipher cipher = Cipher.getInstance(RSA);\r\n    \r\n            cipher.init(Cipher.DECRYPT_MODE,\r\n                        privateKey);\r\n            byte[] result = cipher.doFinal(cipherText);\r\n    \r\n            return new String(result);\r\n        }\r\n\r\n    public static PublicKey getKey(String key) {\r\n            try {\r\n                byte[] byteKey = Base64.getDecoder().decode(key.getBytes());\r\n                X509EncodedKeySpec X509publicKey = new X509EncodedKeySpec(byteKey);\r\n                KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    \r\n                return kf.generatePublic(X509publicKey);\r\n            }\r\n            catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return null;\r\n        }\r\n        \r\n        public static PrivateKey getPrivateKey(String key) {\r\n            try {\r\n                byte[] byteKey = Base64.getDecoder().decode(key.getBytes());\r\n                X509EncodedKeySpec X509publicKey = new X509EncodedKeySpec(byteKey);\r\n                KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    \r\n                return kf.generatePrivate(X509publicKey);\r\n            }\r\n            catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return null;\r\n        }\r\n\r\nThis works as expected.\r\n\r\n    String plainText = &quot;This is the PlainText. I want to Encrypt using RSA.&quot;;\r\n    \r\n    byte[] cipherText = do_RSAEncryption(plainText, keypair.getPublic());\r\n    String decryptedText = do_RSADecryption(cipherText, keypair.getPrivate());\r\n\r\nNow, I am storing the generated the generated public key and private key in a string and trying to encrypt and decrypt and it is failing.\r\n\r\n    String base64EncodedEncryptionKey =  DatatypeConverter.printBase64Binary(keypair.getPublic().getEncoded()));\r\n    String base64EccodedDecryptionKey =  DatatypeConverter.printBase64Binary(keypair.getPrivate().getEncoded()));\r\n\r\n    PublicKey pubKey = getKey(base64EncodedEncryptionKey);\r\n    \r\n    byte[] cipherText1 = do_RSAEncryption(plainText, pubKey);\r\n    System.out.println(&quot;Encrypted Text ===&gt; &quot;+ DatatypeConverter.printHexBinary(cipherText1));\r\n            \r\n    PrivateKey privateKey = getPrivateKey(base64EccodedDecryptionKey);\r\n            \r\n    String decryptedText1 = do_RSADecryption(cipherText1,privateKey);\r\n            \r\n    System.out.println(&quot;DecryptedText ====&gt;&gt;&gt; &quot;+decryptedText1);\r\n\r\n**Error:-**\r\n\r\n    java.security.spec.InvalidKeySpecException: Only RSAPrivate(Crt)KeySpec and PKCS8EncodedKeySpec supported for RSA private keys\r\n    \tat java.base/sun.security.rsa.RSAKeyFactory.generatePrivate(RSAKeyFactory.java:389)\r\n    \tat java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePrivate(RSAKeyFactory.java:247)\r\n    \tat java.base/java.security.KeyFactory.generatePrivate(KeyFactory.java:390)\r\n    \tat com.apple.ist.alloy.memsqlloader.service.Asymmetric.getPrivateKey(Asymmetric.java:96)\r\n    \tat com.apple.ist.alloy.memsqlloader.service.Asymmetric.main(Asymmetric.java:135)\r\n    Exception in thread &quot;main&quot; java.security.InvalidKeyException: No installed provider supports this key: (null)\r\n    \tat java.base/javax.crypto.Cipher.chooseProvider(Cipher.java:930)\r\n    \tat java.base/javax.crypto.Cipher.init(Cipher.java:1286)\r\n    \tat java.base/javax.crypto.Cipher.init(Cipher.java:1223)\r\n    \tat com.apple.ist.alloy.memsqlloader.service.Asymmetric.do_RSADecryption(Asymmetric.java:68)\r\n    \tat com.apple.ist.alloy.memsqlloader.service.Asymmetric.main(Asymmetric.java:137)","title":"Reconstruct private key","body":"<p>I am generating Asymmetric public key and private using the code below.</p>\n<pre><code>public static KeyPair generateRSAKkeyPair()\n                throws Exception {\n        SecureRandom secureRandom = new SecureRandom();\n        KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n\n        keyPairGenerator.initialize(\n                    2048, secureRandom);\n        return keyPairGenerator\n                               .generateKeyPair();\n    }\n\npublic static byte[] do_RSAEncryption(\n                                          String plainText,\n                                          PublicKey publicKey)\n                throws Exception {\n        Cipher cipher = Cipher.getInstance(RSA);\n        cipher.init(\n                    Cipher.ENCRYPT_MODE, publicKey);\n\n        return cipher.doFinal(\n                    plainText.getBytes());\n    }\n\npublic static String do_RSADecryption(\n                                          byte[] cipherText,\n                                          PrivateKey privateKey)\n                throws Exception {\n        Cipher cipher = Cipher.getInstance(RSA);\n\n        cipher.init(Cipher.DECRYPT_MODE,\n                    privateKey);\n        byte[] result = cipher.doFinal(cipherText);\n\n        return new String(result);\n    }\n\npublic static PublicKey getKey(String key) {\n        try {\n            byte[] byteKey = Base64.getDecoder().decode(key.getBytes());\n            X509EncodedKeySpec X509publicKey = new X509EncodedKeySpec(byteKey);\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n\n            return kf.generatePublic(X509publicKey);\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n    \n    public static PrivateKey getPrivateKey(String key) {\n        try {\n            byte[] byteKey = Base64.getDecoder().decode(key.getBytes());\n            X509EncodedKeySpec X509publicKey = new X509EncodedKeySpec(byteKey);\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n\n            return kf.generatePrivate(X509publicKey);\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n</code></pre>\n<p>This works as expected.</p>\n<pre><code>String plainText = &quot;This is the PlainText. I want to Encrypt using RSA.&quot;;\n\nbyte[] cipherText = do_RSAEncryption(plainText, keypair.getPublic());\nString decryptedText = do_RSADecryption(cipherText, keypair.getPrivate());\n</code></pre>\n<p>Now, I am storing the generated the generated public key and private key in a string and trying to encrypt and decrypt and it is failing.</p>\n<pre><code>String base64EncodedEncryptionKey =  DatatypeConverter.printBase64Binary(keypair.getPublic().getEncoded()));\nString base64EccodedDecryptionKey =  DatatypeConverter.printBase64Binary(keypair.getPrivate().getEncoded()));\n\nPublicKey pubKey = getKey(base64EncodedEncryptionKey);\n\nbyte[] cipherText1 = do_RSAEncryption(plainText, pubKey);\nSystem.out.println(&quot;Encrypted Text ===&gt; &quot;+ DatatypeConverter.printHexBinary(cipherText1));\n        \nPrivateKey privateKey = getPrivateKey(base64EccodedDecryptionKey);\n        \nString decryptedText1 = do_RSADecryption(cipherText1,privateKey);\n        \nSystem.out.println(&quot;DecryptedText ====&gt;&gt;&gt; &quot;+decryptedText1);\n</code></pre>\n<p><strong>Error:-</strong></p>\n<pre><code>java.security.spec.InvalidKeySpecException: Only RSAPrivate(Crt)KeySpec and PKCS8EncodedKeySpec supported for RSA private keys\n    at java.base/sun.security.rsa.RSAKeyFactory.generatePrivate(RSAKeyFactory.java:389)\n    at java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePrivate(RSAKeyFactory.java:247)\n    at java.base/java.security.KeyFactory.generatePrivate(KeyFactory.java:390)\n    at com.apple.ist.alloy.memsqlloader.service.Asymmetric.getPrivateKey(Asymmetric.java:96)\n    at com.apple.ist.alloy.memsqlloader.service.Asymmetric.main(Asymmetric.java:135)\nException in thread &quot;main&quot; java.security.InvalidKeyException: No installed provider supports this key: (null)\n    at java.base/javax.crypto.Cipher.chooseProvider(Cipher.java:930)\n    at java.base/javax.crypto.Cipher.init(Cipher.java:1286)\n    at java.base/javax.crypto.Cipher.init(Cipher.java:1223)\n    at com.apple.ist.alloy.memsqlloader.service.Asymmetric.do_RSADecryption(Asymmetric.java:68)\n    at com.apple.ist.alloy.memsqlloader.service.Asymmetric.main(Asymmetric.java:137)\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","jersey","jersey-2.0"],"answers":[{"tags":[],"owner":{"account_id":7893671,"reputation":618,"user_id":5963060,"display_name":"AidH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650888282,"creation_date":1650888282,"answer_id":71999263,"question_id":71999087,"body_markdown":"Try to check with `mvn dependency:tree` if your dependency is imported as a transitive dependency. If so, you would have to exclude it from the dependency that imports it.","title":"java.lang.ClassNotFoundException: com.sun.jersey.server.impl.container.servlet.Include from [Module \\&quot;deployment.myproject_dev.war\\&quot; from Service Modu","body":"<p>Try to check with <code>mvn dependency:tree</code> if your dependency is imported as a transitive dependency. If so, you would have to exclude it from the dependency that imports it.</p>\n"}],"owner":{"account_id":1196041,"reputation":711,"user_id":1167753,"accept_rate":50,"display_name":"user1167753"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651015370,"creation_date":1650887471,"question_id":71999087,"body_markdown":"\r\n\r\nI am running a web project using IntelliJ and wildfly server. I have set up the project using the guidelines of the company, when I run wilfly server from intellij, I get the following error:\r\n\r\n    00:14:42,487 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;myproject_dev.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;myproject_dev.war\\&quot;.POST_MODULE&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase POST_MODULE of deployment \\&quot;myprjoject_dev.war\\&quot;\r\n    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: java.lang.ClassNotFoundException: com.sun.jersey.server.impl.container.servlet.Include from [Module \\&quot;deployment.myprojct_dev.war\\&quot; from Service Module Loader]\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.jersey.server.impl.container.servlet.Include from [Module \\&quot;deployment.myproject_dev.war\\&quot; from Service Module Loader]&quot;}}\r\n\r\nAfter that I go to the deployed war folder to check If I have jersy stuff in the libs and it seems to be there in war/WEB-INF/lib:\r\n\r\njersey-common.jar jersey-entity-filtering.jar jersey-hk2.jar jersey-media-json-jackson.jar jersey-media-multipart.jar\r\n\r\nFor me it seems that the applications expects a Jersey 1.x  (as the error msg suggests  com.sun.jersey) but I have in the library Jersey 2.x (which is correct). why does the application expect jersey 1.x ?\r\n\r\n\r\ndependency:tree print following:\r\n\r\n    [INFO] |  |  +- org.glassfish.jersey.media:jersey-media-json-jackson:jar:2.35:provided\r\n    [INFO] |  |  |  +- org.glassfish.jersey.core:jersey-common:jar:2.35:provided\r\n    [INFO] |  |  |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:provided\r\n    [INFO] |  |  |  \\- org.glassfish.jersey.ext:jersey-entity-filtering:jar:2.35:provided\r\n    [INFO] |  |  \\- org.glassfish.jersey.core:jersey-client:jar:2.35:provided","title":"java.lang.ClassNotFoundException: com.sun.jersey.server.impl.container.servlet.Include from [Module \\&quot;deployment.myproject_dev.war\\&quot; from Service Modu","body":"<p>I am running a web project using IntelliJ and wildfly server. I have set up the project using the guidelines of the company, when I run wilfly server from intellij, I get the following error:</p>\n<pre><code>00:14:42,487 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;myproject_dev.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;myproject_dev.war\\&quot;.POST_MODULE&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase POST_MODULE of deployment \\&quot;myprjoject_dev.war\\&quot;\nCaused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: java.lang.ClassNotFoundException: com.sun.jersey.server.impl.container.servlet.Include from [Module \\&quot;deployment.myprojct_dev.war\\&quot; from Service Module Loader]\nCaused by: java.lang.ClassNotFoundException: com.sun.jersey.server.impl.container.servlet.Include from [Module \\&quot;deployment.myproject_dev.war\\&quot; from Service Module Loader]&quot;}}\n</code></pre>\n<p>After that I go to the deployed war folder to check If I have jersy stuff in the libs and it seems to be there in war/WEB-INF/lib:</p>\n<p>jersey-common.jar jersey-entity-filtering.jar jersey-hk2.jar jersey-media-json-jackson.jar jersey-media-multipart.jar</p>\n<p>For me it seems that the applications expects a Jersey 1.x  (as the error msg suggests  com.sun.jersey) but I have in the library Jersey 2.x (which is correct). why does the application expect jersey 1.x ?</p>\n<p>dependency:tree print following:</p>\n<pre><code>[INFO] |  |  +- org.glassfish.jersey.media:jersey-media-json-jackson:jar:2.35:provided\n[INFO] |  |  |  +- org.glassfish.jersey.core:jersey-common:jar:2.35:provided\n[INFO] |  |  |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:provided\n[INFO] |  |  |  \\- org.glassfish.jersey.ext:jersey-entity-filtering:jar:2.35:provided\n[INFO] |  |  \\- org.glassfish.jersey.core:jersey-client:jar:2.35:provided\n</code></pre>\n"},{"tags":["java","sql","mariadb","amazon-aurora"],"comments":[{"owner":{"account_id":10500523,"reputation":520,"user_id":7739375,"accept_rate":40,"display_name":"bloub"},"score":0,"creation_date":1648054628,"post_id":71587770,"comment_id":126529258,"body_markdown":"The connection string might be prefixed by jdbc:mariadb:aurora","body":"The connection string might be prefixed by jdbc:mariadb:aurora"},{"owner":{"account_id":1799291,"reputation":439,"user_id":1637987,"accept_rate":45,"display_name":"theGuardian"},"score":0,"creation_date":1651012005,"post_id":71587770,"comment_id":127259515,"body_markdown":"i am having a similar issue. i am suspecting we are losing sight of the real issue in the IOException that is being handled. whats strange to me is that when i run the code locally in a docker container, it works fine. but when i deploy to kubernetes, i get the error (using exact same connection string)","body":"i am having a similar issue. i am suspecting we are losing sight of the real issue in the IOException that is being handled. whats strange to me is that when i run the code locally in a docker container, it works fine. but when i deploy to kubernetes, i get the error (using exact same connection string)"},{"owner":{"account_id":10500523,"reputation":520,"user_id":7739375,"accept_rate":40,"display_name":"bloub"},"score":0,"creation_date":1651046236,"post_id":71587770,"comment_id":127266035,"body_markdown":"@theGuardian When you run the code in a docker container are you still using aurora or an alternative ? Using the prefix jdbc:mariadb:aurora worked for me. Also I think you should use this prefix but only upon a specific version of the Mariadb client (3.0 removed the support if I remember well)","body":"@theGuardian When you run the code in a docker container are you still using aurora or an alternative ? Using the prefix jdbc:mariadb:aurora worked for me. Also I think you should use this prefix but only upon a specific version of the Mariadb client (3.0 removed the support if I remember well)"},{"owner":{"account_id":1799291,"reputation":439,"user_id":1637987,"accept_rate":45,"display_name":"theGuardian"},"score":0,"creation_date":1651073887,"post_id":71587770,"comment_id":127276948,"body_markdown":"yes, i am using same exact connection string in the two cases. i am actually pointing to a read-only cluster and so using the :aurora in the protocol errors out.","body":"yes, i am using same exact connection string in the two cases. i am actually pointing to a read-only cluster and so using the :aurora in the protocol errors out."}],"answers":[{"tags":[],"owner":{"account_id":1799291,"reputation":439,"user_id":1637987,"accept_rate":45,"display_name":"theGuardian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651015274,"creation_date":1651015274,"answer_id":72021594,"question_id":71587770,"body_markdown":"short answer:\r\n\r\nadding the below to the connection string worked for me\r\n\r\n    &amp;usePipelineAuth=false&amp;useBatchMultiSend=false\r\n\r\n\r\nhow i got there:\r\n\r\nthe stack overflow error is masking the true error (the IOException being handled at `org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.handleIoException(AbstractQueryProtocol.java:2056)` \r\n\r\nby removing the `&amp;autoconnect=true` flag from my connection string, the StackOverflowError disappeared and i started to get the below \r\n\r\n   \r\n\r\n     My-Pool-Name - Exception during pool initialization. | \r\n    java.sql.SQLNonTransientConnectionException: Could not connect to address=(host=redacted)(port=3306)(type=master) : (conn=324732) could not load system variables\r\n    \tat org.mariadb.jdbc.internal.util.exceptions.ExceptionFactory.createException(ExceptionFactory.java:73)\r\n    \tat org.mariadb.jdbc.internal.util.exceptions.ExceptionFactory.create(ExceptionFactory.java:197)\r\n    \tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connectWithoutProxy(AbstractConnectProtocol.java:1394)\r\n    \tat org.mariadb.jdbc.internal.util.Utils.retrieveProxy(Utils.java:635)\r\n    \tat org.mariadb.jdbc.MariaDbConnection.newConnection(MariaDbConnection.java:150)\r\n    \tat org.mariadb.jdbc.Driver.connect(Driver.java:89).....\r\n    .....\r\n\r\nthen i found below ticket that suggested adding the above mentioned params to connection string https://jira.mariadb.org/browse/CONJ-824","title":"StackOverflowError when connection to aurora using mariadb java client","body":"<p>short answer:</p>\n<p>adding the below to the connection string worked for me</p>\n<pre><code>&amp;usePipelineAuth=false&amp;useBatchMultiSend=false\n</code></pre>\n<p>how i got there:</p>\n<p>the stack overflow error is masking the true error (the IOException being handled at <code>org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.handleIoException(AbstractQueryProtocol.java:2056)</code></p>\n<p>by removing the <code>&amp;autoconnect=true</code> flag from my connection string, the StackOverflowError disappeared and i started to get the below</p>\n<pre><code> My-Pool-Name - Exception during pool initialization. | \njava.sql.SQLNonTransientConnectionException: Could not connect to address=(host=redacted)(port=3306)(type=master) : (conn=324732) could not load system variables\n    at org.mariadb.jdbc.internal.util.exceptions.ExceptionFactory.createException(ExceptionFactory.java:73)\n    at org.mariadb.jdbc.internal.util.exceptions.ExceptionFactory.create(ExceptionFactory.java:197)\n    at org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connectWithoutProxy(AbstractConnectProtocol.java:1394)\n    at org.mariadb.jdbc.internal.util.Utils.retrieveProxy(Utils.java:635)\n    at org.mariadb.jdbc.MariaDbConnection.newConnection(MariaDbConnection.java:150)\n    at org.mariadb.jdbc.Driver.connect(Driver.java:89).....\n.....\n</code></pre>\n<p>then i found below ticket that suggested adding the above mentioned params to connection string <a href=\"https://jira.mariadb.org/browse/CONJ-824\" rel=\"nofollow noreferrer\">https://jira.mariadb.org/browse/CONJ-824</a></p>\n"}],"owner":{"account_id":10500523,"reputation":520,"user_id":7739375,"accept_rate":40,"display_name":"bloub"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":791,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651015274,"creation_date":1648040753,"question_id":71587770,"body_markdown":"When connecting to an aurora db using the mariadb java client (version 2.7.5) i am getting this error (I only put the first few lines because the entire stack is endless) : \r\n\r\n\r\n    Exception in thread &quot;MariaDB-pool-1-appender-2&quot; java.lang.StackOverflowError\r\n\tat java.base/java.net.SocketInputStream.socketRead0(Native Method)\r\n\tat java.base/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)\r\n\tat java.base/java.net.SocketInputStream.read(SocketInputStream.java:168)\r\n\tat java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)\r\n\tat java.base/java.io.FilterInputStream.read(FilterInputStream.java:133)\r\n\tat org.mariadb.jdbc.internal.io.input.ReadAheadBufferedStream.fillBuffer(ReadAheadBufferedStream.java:131)\r\n\tat org.mariadb.jdbc.internal.io.input.ReadAheadBufferedStream.read(ReadAheadBufferedStream.java:104)\r\n\tat org.mariadb.jdbc.internal.io.input.StandardPacketInputStream.getPacketArray(StandardPacketInputStream.java:247)\r\n\tat org.mariadb.jdbc.internal.io.input.StandardPacketInputStream.getPacket(StandardPacketInputStream.java:218)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readPacket(AbstractQueryProtocol.java:1539)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.getResult(AbstractQueryProtocol.java:1520)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readRequestSessionVariables(AbstractConnectProtocol.java:995)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readPipelineAdditionalData(AbstractConnectProtocol.java:1041)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.postConnectionQueries(AbstractConnectProtocol.java:885)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createConnection(AbstractConnectProtocol.java:600)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connect(AbstractConnectProtocol.java:501)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.handleIoException(AbstractQueryProtocol.java:2056)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readPacket(AbstractQueryProtocol.java:1541)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.getResult(AbstractQueryProtocol.java:1520)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readRequestSessionVariables(AbstractConnectProtocol.java:995)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readPipelineAdditionalData(AbstractConnectProtocol.java:1041)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.postConnectionQueries(AbstractConnectProtocol.java:885)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createConnection(AbstractConnectProtocol.java:600)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connect(AbstractConnectProtocol.java:501)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.handleIoException(AbstractQueryProtocol.java:2056)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readPacket(AbstractQueryProtocol.java:1541)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.getResult(AbstractQueryProtocol.java:1520)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readRequestSessionVariables(AbstractConnectProtocol.java:995)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readPipelineAdditionalData(AbstractConnectProtocol.java:1041)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.postConnectionQueries(AbstractConnectProtocol.java:885)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createConnection(AbstractConnectProtocol.java:600)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connect(AbstractConnectProtocol.java:501)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.handleIoException(AbstractQueryProtocol.java:2056)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readPacket(AbstractQueryProtocol.java:1541)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.getResult(AbstractQueryProtocol.java:1520)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readRequestSessionVariables(AbstractConnectProtocol.java:995)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readPipelineAdditionalData(AbstractConnectProtocol.java:1041)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.postConnectionQueries(AbstractConnectProtocol.java:885)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createConnection(AbstractConnectProtocol.java:600)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connect(AbstractConnectProtocol.java:501)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.handleIoException(AbstractQueryProtocol.java:2056)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readPacket(AbstractQueryProtocol.java:1541)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.getResult(AbstractQueryProtocol.java:1520)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readRequestSessionVariables(AbstractConnectProtocol.java:995)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readPipelineAdditionalData(AbstractConnectProtocol.java:1041)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.postConnectionQueries(AbstractConnectProtocol.java:885)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createConnection(AbstractConnectProtocol.java:600)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connect(AbstractConnectProtocol.java:501)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.handleIoException(AbstractQueryProtocol.java:2056)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readPacket(AbstractQueryProtocol.java:1541)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.getResult(AbstractQueryProtocol.java:1520)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readRequestSessionVariables(AbstractConnectProtocol.java:995)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readPipelineAdditionalData(AbstractConnectProtocol.java:1041)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.postConnectionQueries(AbstractConnectProtocol.java:885)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createConnection(AbstractConnectProtocol.java:600)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connect(AbstractConnectProtocol.java:501)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.handleIoException(AbstractQueryProtocol.java:2056)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readPacket(AbstractQueryProtocol.java:1541)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.getResult(AbstractQueryProtocol.java:1520)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readRequestSessionVariables(AbstractConnectProtocol.java:995)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readPipelineAdditionalData(AbstractConnectProtocol.java:1041)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.postConnectionQueries(AbstractConnectProtocol.java:885)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createConnection(AbstractConnectProtocol.java:600)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connect(AbstractConnectProtocol.java:501)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.handleIoException(AbstractQueryProtocol.java:2056)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readPacket(AbstractQueryProtocol.java:1541)\r\n\tat \r\n\r\n\r\nThe same code to connect to a mysql is working without any troubles. \r\n\r\nMy connection URL is as follow : \r\n\r\n    jdbc:mariadb://aurora-url:3306/?autoReconnect=true&amp;sessionVariables=sql_mode=ANSI_QUOTES&amp;maxAllowedPacket=260046848&amp;allowLoadLocalInfile=true&amp;enabledTLSProtocols=TLSv1.2&amp;maxPoolSize=10&amp;pool\r\n\r\nSame code with mariadb connector version 3.0.3 and same URL without\r\n\r\n&gt;  maxPoolSize=10&amp;pool\r\n\r\n was working fine on aurora too.\r\n\r\n\r\nVersion of the driver 2.7.5 + aurora without the pool options does not work either.\r\n\r\nAccording to this documentation : https://aws.amazon.com/fr/blogs/database/using-the-mariadb-jdbc-driver-with-amazon-aurora-with-mysql-compatibility/ the last version of the mariadb driver is not compatible with aurora. Not sure which version they are talking about since the version 3.0.3 which is that last is working fine.\r\n\r\nAccording to mariadb driver documentation, the support of aurora drop from the version 2.7 -&gt; 3.0. \r\n\r\n\r\n\r\n","title":"StackOverflowError when connection to aurora using mariadb java client","body":"<p>When connecting to an aurora db using the mariadb java client (version 2.7.5) i am getting this error (I only put the first few lines because the entire stack is endless) :</p>\n<pre><code>Exception in thread &quot;MariaDB-pool-1-appender-2&quot; java.lang.StackOverflowError\nat java.base/java.net.SocketInputStream.socketRead0(Native Method)\nat java.base/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)\nat java.base/java.net.SocketInputStream.read(SocketInputStream.java:168)\nat java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)\nat java.base/java.io.FilterInputStream.read(FilterInputStream.java:133)\nat org.mariadb.jdbc.internal.io.input.ReadAheadBufferedStream.fillBuffer(ReadAheadBufferedStream.java:131)\nat org.mariadb.jdbc.internal.io.input.ReadAheadBufferedStream.read(ReadAheadBufferedStream.java:104)\nat org.mariadb.jdbc.internal.io.input.StandardPacketInputStream.getPacketArray(StandardPacketInputStream.java:247)\nat org.mariadb.jdbc.internal.io.input.StandardPacketInputStream.getPacket(StandardPacketInputStream.java:218)\nat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readPacket(AbstractQueryProtocol.java:1539)\nat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.getResult(AbstractQueryProtocol.java:1520)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readRequestSessionVariables(AbstractConnectProtocol.java:995)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readPipelineAdditionalData(AbstractConnectProtocol.java:1041)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.postConnectionQueries(AbstractConnectProtocol.java:885)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createConnection(AbstractConnectProtocol.java:600)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connect(AbstractConnectProtocol.java:501)\nat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.handleIoException(AbstractQueryProtocol.java:2056)\nat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readPacket(AbstractQueryProtocol.java:1541)\nat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.getResult(AbstractQueryProtocol.java:1520)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readRequestSessionVariables(AbstractConnectProtocol.java:995)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readPipelineAdditionalData(AbstractConnectProtocol.java:1041)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.postConnectionQueries(AbstractConnectProtocol.java:885)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createConnection(AbstractConnectProtocol.java:600)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connect(AbstractConnectProtocol.java:501)\nat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.handleIoException(AbstractQueryProtocol.java:2056)\nat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readPacket(AbstractQueryProtocol.java:1541)\nat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.getResult(AbstractQueryProtocol.java:1520)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readRequestSessionVariables(AbstractConnectProtocol.java:995)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readPipelineAdditionalData(AbstractConnectProtocol.java:1041)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.postConnectionQueries(AbstractConnectProtocol.java:885)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createConnection(AbstractConnectProtocol.java:600)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connect(AbstractConnectProtocol.java:501)\nat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.handleIoException(AbstractQueryProtocol.java:2056)\nat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readPacket(AbstractQueryProtocol.java:1541)\nat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.getResult(AbstractQueryProtocol.java:1520)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readRequestSessionVariables(AbstractConnectProtocol.java:995)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readPipelineAdditionalData(AbstractConnectProtocol.java:1041)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.postConnectionQueries(AbstractConnectProtocol.java:885)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createConnection(AbstractConnectProtocol.java:600)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connect(AbstractConnectProtocol.java:501)\nat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.handleIoException(AbstractQueryProtocol.java:2056)\nat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readPacket(AbstractQueryProtocol.java:1541)\nat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.getResult(AbstractQueryProtocol.java:1520)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readRequestSessionVariables(AbstractConnectProtocol.java:995)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readPipelineAdditionalData(AbstractConnectProtocol.java:1041)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.postConnectionQueries(AbstractConnectProtocol.java:885)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createConnection(AbstractConnectProtocol.java:600)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connect(AbstractConnectProtocol.java:501)\nat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.handleIoException(AbstractQueryProtocol.java:2056)\nat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readPacket(AbstractQueryProtocol.java:1541)\nat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.getResult(AbstractQueryProtocol.java:1520)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readRequestSessionVariables(AbstractConnectProtocol.java:995)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readPipelineAdditionalData(AbstractConnectProtocol.java:1041)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.postConnectionQueries(AbstractConnectProtocol.java:885)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createConnection(AbstractConnectProtocol.java:600)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connect(AbstractConnectProtocol.java:501)\nat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.handleIoException(AbstractQueryProtocol.java:2056)\nat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readPacket(AbstractQueryProtocol.java:1541)\nat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.getResult(AbstractQueryProtocol.java:1520)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readRequestSessionVariables(AbstractConnectProtocol.java:995)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.readPipelineAdditionalData(AbstractConnectProtocol.java:1041)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.postConnectionQueries(AbstractConnectProtocol.java:885)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createConnection(AbstractConnectProtocol.java:600)\nat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connect(AbstractConnectProtocol.java:501)\nat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.handleIoException(AbstractQueryProtocol.java:2056)\nat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readPacket(AbstractQueryProtocol.java:1541)\nat \n</code></pre>\n<p>The same code to connect to a mysql is working without any troubles.</p>\n<p>My connection URL is as follow :</p>\n<pre><code>jdbc:mariadb://aurora-url:3306/?autoReconnect=true&amp;sessionVariables=sql_mode=ANSI_QUOTES&amp;maxAllowedPacket=260046848&amp;allowLoadLocalInfile=true&amp;enabledTLSProtocols=TLSv1.2&amp;maxPoolSize=10&amp;pool\n</code></pre>\n<p>Same code with mariadb connector version 3.0.3 and same URL without</p>\n<blockquote>\n<p>maxPoolSize=10&amp;pool</p>\n</blockquote>\n<p>was working fine on aurora too.</p>\n<p>Version of the driver 2.7.5 + aurora without the pool options does not work either.</p>\n<p>According to this documentation : <a href=\"https://aws.amazon.com/fr/blogs/database/using-the-mariadb-jdbc-driver-with-amazon-aurora-with-mysql-compatibility/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/fr/blogs/database/using-the-mariadb-jdbc-driver-with-amazon-aurora-with-mysql-compatibility/</a> the last version of the mariadb driver is not compatible with aurora. Not sure which version they are talking about since the version 3.0.3 which is that last is working fine.</p>\n<p>According to mariadb driver documentation, the support of aurora drop from the version 2.7 -&gt; 3.0.</p>\n"},{"tags":["java","api","keycloak","http-status-code-401"],"answers":[{"tags":[],"owner":{"account_id":13307179,"reputation":21,"user_id":9606593,"display_name":"David Kranitz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651014900,"creation_date":1651014900,"answer_id":72021553,"question_id":72021476,"body_markdown":"OK i found the answer. I had to query the &quot;admin-cli&quot; client into &quot;master&quot; as shown below :\r\n\r\n    KeycloakBuilder.builder()\r\n            .serverUrl(&quot;serverUrl&quot;)\r\n            .realm(&quot;master&quot;)\r\n            .grantType(OAuth2Constants.PASSWORD)\r\n            .clientId(&quot;admin-cli&quot;)\r\n            .username(&quot;client-admin&quot;)\r\n            .password(&quot;client-admin-password&quot;).build().realm(&quot;foo&quot;).users().list()","title":"Keycloak Admin Java Adapter 401 Unauthorised despite all roles","body":"<p>OK i found the answer. I had to query the &quot;admin-cli&quot; client into &quot;master&quot; as shown below :</p>\n<pre><code>KeycloakBuilder.builder()\n        .serverUrl(&quot;serverUrl&quot;)\n        .realm(&quot;master&quot;)\n        .grantType(OAuth2Constants.PASSWORD)\n        .clientId(&quot;admin-cli&quot;)\n        .username(&quot;client-admin&quot;)\n        .password(&quot;client-admin-password&quot;).build().realm(&quot;foo&quot;).users().list()\n</code></pre>\n"}],"owner":{"account_id":13307179,"reputation":21,"user_id":9606593,"display_name":"David Kranitz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72021553,"answer_count":1,"score":0,"last_activity_date":1651014900,"creation_date":1651014165,"question_id":72021476,"body_markdown":"I&#39;m using Keycloak api but i have the following problem :\r\nIn &quot;master&quot; i have a realm named &quot;foo&quot; (which appears as a client under the name &quot;foo-realm&quot;)\r\n\r\nmaster&gt;foo-realm (foo)\r\n\r\nIn &quot;foo&quot; i have a client named &quot;client&quot;.\r\n\r\nIn &quot;master&quot; i have a user named &quot;client-admin&quot;.\r\n\r\n***I want to be able to use the api to query and update users info in &quot;client&quot; using &quot;client-admin&quot; which is in the master.***\r\n\r\n\r\n&quot;client-admin&quot; has all roles for &quot;foo-realm&quot; (query-users, manage-realm etc..) and appears in the &quot;users in role&quot; list for &quot;foor-realm&quot;.\r\n\r\n\r\nHowever i can&#39;t make it work with the api :\r\n\r\n    KeycloakBuilder.builder()\r\n                .serverUrl(&quot;serverUrl&quot;)\r\n                .realm(&quot;master&quot;)\r\n                .grantType(OAuth2Constants.PASSWORD)\r\n                .clientId(&quot;foo-realm&quot;)\r\n                .username(&quot;client-admin&quot;)\r\n                .password(&quot;client-admin-password&quot;).build().realm(&quot;foo&quot;).users().list()\r\n\r\n\r\n\r\n\r\n\r\n\r\nI get javax.ws.rs.NotAuthorizedException: HTTP 401 Unauthorized\r\n from this.\r\n\r\nThe api is working as we used to query &quot;client&quot; with a user directly created into &quot;foo&quot; (see bellow snippet). But we are having problems with the password update policy so now we want the user to be in &quot;master&quot;. I think i did not do the roles attribution right but i don&#39;t understand what&#39;s wrong.\r\n\r\n        KeycloakBuilder.builder()\r\n                .serverUrl(&quot;serverUrl&quot;)\r\n                .realm(&quot;foo&quot;)\r\n                .grantType(OAuth2Constants.PASSWORD)\r\n                .clientId(&quot;client-id&quot;)\r\n                .clientSecret(&quot;client&quot;)\r\n                .username(&quot;admin-in-foo&quot;)\r\n                .password(&quot;admin-in-foo-password&quot;).build().realm(&quot;foo&quot;).users().list()\r\n\r\n\r\nI have also tried this but still i get a 401 unauthorized\r\n\r\n        KeycloakBuilder.builder()\r\n                    .serverUrl(&quot;serverUrl&quot;)\r\n                    .realm(&quot;foo&quot;)\r\n                    .grantType(OAuth2Constants.PASSWORD)\r\n                    .clientId(&quot;client&quot;)\r\n                    .clientSecret(&quot;client-secret&quot;)            \r\n                    .username(&quot;client-admin&quot;)\r\n                    .password(&quot;client-admin-password&quot;).build().realm(&quot;foo&quot;).users().list()\r\n\r\nAny help would be welcome. \r\nThanks for reading.","title":"Keycloak Admin Java Adapter 401 Unauthorised despite all roles","body":"<p>I'm using Keycloak api but i have the following problem :\nIn &quot;master&quot; i have a realm named &quot;foo&quot; (which appears as a client under the name &quot;foo-realm&quot;)</p>\n<p>master&gt;foo-realm (foo)</p>\n<p>In &quot;foo&quot; i have a client named &quot;client&quot;.</p>\n<p>In &quot;master&quot; i have a user named &quot;client-admin&quot;.</p>\n<p><em><strong>I want to be able to use the api to query and update users info in &quot;client&quot; using &quot;client-admin&quot; which is in the master.</strong></em></p>\n<p>&quot;client-admin&quot; has all roles for &quot;foo-realm&quot; (query-users, manage-realm etc..) and appears in the &quot;users in role&quot; list for &quot;foor-realm&quot;.</p>\n<p>However i can't make it work with the api :</p>\n<pre><code>KeycloakBuilder.builder()\n            .serverUrl(&quot;serverUrl&quot;)\n            .realm(&quot;master&quot;)\n            .grantType(OAuth2Constants.PASSWORD)\n            .clientId(&quot;foo-realm&quot;)\n            .username(&quot;client-admin&quot;)\n            .password(&quot;client-admin-password&quot;).build().realm(&quot;foo&quot;).users().list()\n</code></pre>\n<p>I get javax.ws.rs.NotAuthorizedException: HTTP 401 Unauthorized\nfrom this.</p>\n<p>The api is working as we used to query &quot;client&quot; with a user directly created into &quot;foo&quot; (see bellow snippet). But we are having problems with the password update policy so now we want the user to be in &quot;master&quot;. I think i did not do the roles attribution right but i don't understand what's wrong.</p>\n<pre><code>    KeycloakBuilder.builder()\n            .serverUrl(&quot;serverUrl&quot;)\n            .realm(&quot;foo&quot;)\n            .grantType(OAuth2Constants.PASSWORD)\n            .clientId(&quot;client-id&quot;)\n            .clientSecret(&quot;client&quot;)\n            .username(&quot;admin-in-foo&quot;)\n            .password(&quot;admin-in-foo-password&quot;).build().realm(&quot;foo&quot;).users().list()\n</code></pre>\n<p>I have also tried this but still i get a 401 unauthorized</p>\n<pre><code>    KeycloakBuilder.builder()\n                .serverUrl(&quot;serverUrl&quot;)\n                .realm(&quot;foo&quot;)\n                .grantType(OAuth2Constants.PASSWORD)\n                .clientId(&quot;client&quot;)\n                .clientSecret(&quot;client-secret&quot;)            \n                .username(&quot;client-admin&quot;)\n                .password(&quot;client-admin-password&quot;).build().realm(&quot;foo&quot;).users().list()\n</code></pre>\n<p>Any help would be welcome.\nThanks for reading.</p>\n"},{"tags":["javascript","java","selenium","shadow-root"],"comments":[{"owner":{"account_id":3943587,"reputation":802,"user_id":3257084,"display_name":"Pellay"},"score":0,"creation_date":1650970092,"post_id":72011070,"comment_id":127244687,"body_markdown":"Hey Tenny, welcome to stackoverflow. Please refer to [Why should I not upload images of code/data/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question).","body":"Hey Tenny, welcome to stackoverflow. Please refer to <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question\">Why should I not upload images of code/data/errors when asking a question?</a>."}],"answers":[{"tags":[],"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650964455,"creation_date":1650964455,"answer_id":72011349,"question_id":72011070,"body_markdown":"Try the below \r\n\r\n    elem = WebDriverWait(driver,10).until(EC.visibility_of_element_located((By.XPATH,&quot;xpath&quot;)))\r\n    \r\n    elem.send_keys(&quot;Text&quot;)","title":"How to enter a value in Shadow-root (user-agent) Java-Selenium?","body":"<p>Try the below</p>\n<pre><code>elem = WebDriverWait(driver,10).until(EC.visibility_of_element_located((By.XPATH,&quot;xpath&quot;)))\n\nelem.send_keys(&quot;Text&quot;)\n</code></pre>\n"}],"owner":{"account_id":25099343,"reputation":11,"user_id":18950214,"display_name":"Tenny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1651014423,"answer_count":1,"score":1,"last_activity_date":1651014356,"creation_date":1650963226,"question_id":72011070,"body_markdown":"I used many options, but not one did not help\r\n\r\n![The place where you need to enter the value][1]\r\n\r\nUsed options:\r\n\r\n![1][2]\r\n\r\nThen I tried the same thing, but with a separate method\r\n\r\n![method][3]\r\n\r\n![2][4]\r\n\r\noption 3\r\n\r\n![3][5]\r\n\r\noption 4\r\n\r\n![4][6] \r\n\r\noption 5 (this option records the value, but the page does not see it)\r\n\r\n[code][7]\r\n\r\n![5][8]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GzkvJ.png\r\n  [2]: https://i.stack.imgur.com/m4ile.png\r\n  [3]: https://i.stack.imgur.com/KDtvn.png\r\n  [4]: https://i.stack.imgur.com/32Xd3.png\r\n  [5]: https://i.stack.imgur.com/e9pqL.png\r\n  [6]: https://i.stack.imgur.com/FEvNu.png\r\n  [7]: https://i.stack.imgur.com/CmNFL.png\r\n  [8]: https://i.stack.imgur.com/KJYjl.png","title":"How to enter a value in Shadow-root (user-agent) Java-Selenium?","body":"<p>I used many options, but not one did not help</p>\n<p><img src=\"https://i.stack.imgur.com/GzkvJ.png\" alt=\"The place where you need to enter the value\" /></p>\n<p>Used options:</p>\n<p><img src=\"https://i.stack.imgur.com/m4ile.png\" alt=\"1\" /></p>\n<p>Then I tried the same thing, but with a separate method</p>\n<p><img src=\"https://i.stack.imgur.com/KDtvn.png\" alt=\"method\" /></p>\n<p><img src=\"https://i.stack.imgur.com/32Xd3.png\" alt=\"2\" /></p>\n<p>option 3</p>\n<p><img src=\"https://i.stack.imgur.com/e9pqL.png\" alt=\"3\" /></p>\n<p>option 4</p>\n<p><img src=\"https://i.stack.imgur.com/FEvNu.png\" alt=\"4\" /></p>\n<p>option 5 (this option records the value, but the page does not see it)</p>\n<p><a href=\"https://i.stack.imgur.com/CmNFL.png\" rel=\"nofollow noreferrer\">code</a></p>\n<p><img src=\"https://i.stack.imgur.com/KJYjl.png\" alt=\"5\" /></p>\n"},{"tags":["java","maven","junit5","maven-surefire-plugin","suite"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1649823863,"post_id":71848602,"comment_id":126970609,"body_markdown":"Have you tried to use junit-platform-suite-engine instead of junit-platform-suite-api? The engine is the executing component and brings junit-platform-suite-api as transitive dependency.","body":"Have you tried to use junit-platform-suite-engine instead of junit-platform-suite-api? The engine is the executing component and brings junit-platform-suite-api as transitive dependency."},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1649827759,"post_id":71848602,"comment_id":126971227,"body_markdown":"Thank you. I&#39;ve tried that but then I got another error, keeping both of them also gives me another error. Then I tried downgrading JUnit version to 5.7.0 which also didn&#39;t work. Googling the new error and it may perhaps be something to do with the surefire-plugin, but I still fix it. I&#39;ve updated the post with my current pom.","body":"Thank you. I&#39;ve tried that but then I got another error, keeping both of them also gives me another error. Then I tried downgrading JUnit version to 5.7.0 which also didn&#39;t work. Googling the new error and it may perhaps be something to do with the surefire-plugin, but I still fix it. I&#39;ve updated the post with my current pom."},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1649842558,"post_id":71848602,"comment_id":126976080,"body_markdown":"5.7.0 does not come with a suite-engine, so this cannot work.\nAs for surefire, I&#39;m not sure how well 3.0-M5 already supports junit platform. Try 2.22.2.","body":"5.7.0 does not come with a suite-engine, so this cannot work. As for surefire, I&#39;m not sure how well 3.0-M5 already supports junit platform. Try 2.22.2."},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1649842753,"post_id":71848602,"comment_id":126976154,"body_markdown":"And this line: &quot;&lt;junit.jupiter.version&gt;5.0.0-M2&lt;/junit.jupiter.version&gt;&quot; is definitely not what you want.","body":"And this line: &quot;&lt;junit.jupiter.version&gt;5.0.0-M2&lt;/junit.jupiter.version&gt;&quot; is definitely not what you want."},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1649842882,"post_id":71848602,"comment_id":126976211,"body_markdown":"You also don&#39;t want a dependency on &quot;junit-platform-surefire-provider&quot; since this is from before native support by sure-fire plugin.","body":"You also don&#39;t want a dependency on &quot;junit-platform-surefire-provider&quot; since this is from before native support by sure-fire plugin."},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1649843000,"post_id":71848602,"comment_id":126976250,"body_markdown":"A good starting point is https://github.com/junit-team/junit5-samples/tree/main/junit5-jupiter-starter-maven and then add only dependencies to engines you need. There they use surefire 3.0.0-M6 by the way.","body":"A good starting point is <a href=\"https://github.com/junit-team/junit5-samples/tree/main/junit5-jupiter-starter-maven\" rel=\"nofollow noreferrer\">github.com/junit-team/junit5-samples/tree/main/&hellip;</a> and then add only dependencies to engines you need. There they use surefire 3.0.0-M6 by the way."},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1649852379,"post_id":71848602,"comment_id":126979949,"body_markdown":"I&#39;ve tried now with the sample code but can&#39;t get it to work there either, I&#39;m afraid. https://github.com/francislainy/junit5-samples/blob/main/junit5-jupiter-starter-maven/src/test/java/com/example/project/TestSuiteGoogleTest.java Same no tests found error.","body":"I&#39;ve tried now with the sample code but can&#39;t get it to work there either, I&#39;m afraid. <a href=\"https://github.com/francislainy/junit5-samples/blob/main/junit5-jupiter-starter-maven/src/test/java/com/example/project/TestSuiteGoogleTest.java\" rel=\"nofollow noreferrer\">github.com/francislainy/junit5-samples/blob/main/&hellip;</a> Same no tests found error."}],"answers":[{"tags":[],"owner":{"account_id":18209986,"reputation":23,"user_id":13252699,"display_name":"JKomoroski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651013647,"creation_date":1651013647,"answer_id":72021417,"question_id":71848602,"body_markdown":"The [Junit 5 User Guide](https://junit.org/junit5/docs/current/user-guide/#junit-platform-suite-engine-setup) states:\r\n&gt; In addition to the junit-platform-suite-api and junit-platform-suite-engine artifacts, you need at least one other test engine and its dependencies on the classpath.\r\n\r\nYour project does not include the `junit-platform-suite-engine`. Please add the following dependency to your project:\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-platform-suite-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n\r\n","title":"How to run JUnit5 suite using the @Suite annotation","body":"<p>The <a href=\"https://junit.org/junit5/docs/current/user-guide/#junit-platform-suite-engine-setup\" rel=\"nofollow noreferrer\">Junit 5 User Guide</a> states:</p>\n<blockquote>\n<p>In addition to the junit-platform-suite-api and junit-platform-suite-engine artifacts, you need at least one other test engine and its dependencies on the classpath.</p>\n</blockquote>\n<p>Your project does not include the <code>junit-platform-suite-engine</code>. Please add the following dependency to your project:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-suite-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1885,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1651013647,"creation_date":1649794161,"question_id":71848602,"body_markdown":"I&#39;m trying to figure this out for over a year now but I can&#39;t run JUnit5 suites unless I use the JUnit4 @RunWith annotation, which brings me some other issues. I&#39;m trying to use the newer `@Suite` annotation instead but no matter what I try (name the test ending with IT, Test, run through IntelliJ, run through maven, include tag, exclude tag, etc), I keep getting the tests no found error. I think I&#39;m really running out of ideas at this stage and would love someone to point it out what is it that I may still be missing.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;pact&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;8&lt;/java.version&gt;\r\n        &lt;maven.compiler.version&gt;1.8&lt;/maven.compiler.version&gt;\r\n        &lt;maven.target.version&gt;1.8&lt;/maven.target.version&gt;\r\n        &lt;maven.surefire.version&gt;3.0.0-M5&lt;/maven.surefire.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-suite-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;vcservice&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;8&lt;/source&gt;\r\n                    &lt;target&gt;8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;testSourceDirectory&gt;src/test/java/com/hmhco/vcservice&lt;/testSourceDirectory&gt;\r\n                    &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n```\r\nimport org.junit.jupiter.api.Tag;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nclass GoogleTest {\r\n\r\n    @Tag(&quot;google&quot;)\r\n    @Test\r\n    void testing() {\r\n        System.out.println(&quot;testing google&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThank you very much.\r\n\r\n**Update**\r\n\r\nAdded some more dependencies, which failure by failure have now brought me to this new error and updated pom file.\r\n\r\n```\r\nimport org.junit.platform.suite.api.IncludeTags;\r\nimport org.junit.platform.suite.api.SelectPackages;\r\nimport org.junit.platform.suite.api.Suite;\r\n\r\n@SelectPackages(&quot;com.my.package&quot;)\r\n@IncludeTags(&quot;google&quot;)\r\n@Suite\r\npublic class TestSuiteGoogle {\r\n}\r\n```\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;pact&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;8&lt;/java.version&gt;\r\n        &lt;maven.compiler.version&gt;1.8&lt;/maven.compiler.version&gt;\r\n        &lt;maven.target.version&gt;1.8&lt;/maven.target.version&gt;\r\n        &lt;maven.surefire.version&gt;3.0.0-M5&lt;/maven.surefire.version&gt;\r\n        &lt;junit.jupiter.version&gt;5.0.0-M2&lt;/junit.jupiter.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-suite-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-suite-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.0&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;vcservice&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;8&lt;/source&gt;\r\n                    &lt;target&gt;8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;testSourceDirectory&gt;src/test/java/com/hmhco/vcservice&lt;/testSourceDirectory&gt;\r\n                    &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.0.0-M2&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;surefire-logger-api&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.21.0&lt;/version&gt;\r\n                        &lt;!-- to get around bug https://github.com/junit-team/junit5/issues/1367 --&gt;\r\n                        &lt;scope&gt;test&lt;/scope&gt;\r\n                        &lt;optional&gt;true&lt;/optional&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mgSV1.png\r\n  [2]: https://i.stack.imgur.com/MlWYW.png","title":"How to run JUnit5 suite using the @Suite annotation","body":"<p>I'm trying to figure this out for over a year now but I can't run JUnit5 suites unless I use the JUnit4 @RunWith annotation, which brings me some other issues. I'm trying to use the newer <code>@Suite</code> annotation instead but no matter what I try (name the test ending with IT, Test, run through IntelliJ, run through maven, include tag, exclude tag, etc), I keep getting the tests no found error. I think I'm really running out of ideas at this stage and would love someone to point it out what is it that I may still be missing.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;pact&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;8&lt;/java.version&gt;\n        &lt;maven.compiler.version&gt;1.8&lt;/maven.compiler.version&gt;\n        &lt;maven.target.version&gt;1.8&lt;/maven.target.version&gt;\n        &lt;maven.surefire.version&gt;3.0.0-M5&lt;/maven.surefire.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-suite-api&lt;/artifactId&gt;\n            &lt;version&gt;1.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;vcservice&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;8&lt;/source&gt;\n                    &lt;target&gt;8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;testSourceDirectory&gt;src/test/java/com/hmhco/vcservice&lt;/testSourceDirectory&gt;\n                    &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<pre><code>import org.junit.jupiter.api.Tag;\nimport org.junit.jupiter.api.Test;\n\nclass GoogleTest {\n\n    @Tag(&quot;google&quot;)\n    @Test\n    void testing() {\n        System.out.println(&quot;testing google&quot;);\n    }\n}\n</code></pre>\n<p>Thank you very much.</p>\n<p><strong>Update</strong></p>\n<p>Added some more dependencies, which failure by failure have now brought me to this new error and updated pom file.</p>\n<pre><code>import org.junit.platform.suite.api.IncludeTags;\nimport org.junit.platform.suite.api.SelectPackages;\nimport org.junit.platform.suite.api.Suite;\n\n@SelectPackages(&quot;com.my.package&quot;)\n@IncludeTags(&quot;google&quot;)\n@Suite\npublic class TestSuiteGoogle {\n}\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;pact&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;8&lt;/java.version&gt;\n        &lt;maven.compiler.version&gt;1.8&lt;/maven.compiler.version&gt;\n        &lt;maven.target.version&gt;1.8&lt;/maven.target.version&gt;\n        &lt;maven.surefire.version&gt;3.0.0-M5&lt;/maven.surefire.version&gt;\n        &lt;junit.jupiter.version&gt;5.0.0-M2&lt;/junit.jupiter.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-suite-api&lt;/artifactId&gt;\n            &lt;version&gt;1.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-suite-engine&lt;/artifactId&gt;\n            &lt;version&gt;1.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.7.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n            &lt;version&gt;5.7.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;vcservice&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;8&lt;/source&gt;\n                    &lt;target&gt;8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;testSourceDirectory&gt;src/test/java/com/hmhco/vcservice&lt;/testSourceDirectory&gt;\n                    &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n                        &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n                        &lt;version&gt;1.0.0-M2&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n                        &lt;artifactId&gt;surefire-logger-api&lt;/artifactId&gt;\n                        &lt;version&gt;2.21.0&lt;/version&gt;\n                        &lt;!-- to get around bug https://github.com/junit-team/junit5/issues/1367 --&gt;\n                        &lt;scope&gt;test&lt;/scope&gt;\n                        &lt;optional&gt;true&lt;/optional&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mgSV1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mgSV1.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/MlWYW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MlWYW.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays","sorting","compareto"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1650958016,"post_id":72009897,"comment_id":127240452,"body_markdown":"just add the rest of the code needed. not only for value1 &lt; 0, but also for value1 == 0 and value1 &gt; 0","body":"just add the rest of the code needed. not only for value1 &lt; 0, but also for value1 == 0 and value1 &gt; 0"},{"owner":{"account_id":22347256,"reputation":17,"user_id":16625029,"display_name":"Sammie"},"score":0,"creation_date":1650958404,"post_id":72009897,"comment_id":127240574,"body_markdown":"@Stultuske could you elaborate a bit please, what is the rest of the code needed? This is my first time using compareTo() and I thought we only return something when all of the conditions are fulfilled?","body":"@Stultuske could you elaborate a bit please, what is the rest of the code needed? This is my first time using compareTo() and I thought we only return something when all of the conditions are fulfilled?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1650958542,"post_id":72009897,"comment_id":127240609,"body_markdown":"&quot;we only return something when all of the conditions are fulfilled&quot; of course not. Either you return something, or that code won&#39;t compile. But so far, you only implemented it for one specific case, you&#39;ll need to implement the other cases as well","body":"&quot;we only return something when all of the conditions are fulfilled&quot; of course not. Either you return something, or that code won&#39;t compile. But so far, you only implemented it for one specific case, you&#39;ll need to implement the other cases as well"}],"answers":[{"tags":[],"owner":{"account_id":18191790,"reputation":1488,"user_id":13237531,"display_name":"Vladimir Stanciu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650958339,"creation_date":1650958339,"answer_id":72009991,"question_id":72009897,"body_markdown":"You should go on with comparing the other fields only if the preceding ones are equal, meaning your `compareTo` result is 0, not greater than 0.\r\n\r\nYou can take a look [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/40562426/how-to-use-comparator-with-a-multiple-field-object","title":"Sorting an array based on different properties of objects by overriding compareTo() method","body":"<p>You should go on with comparing the other fields only if the preceding ones are equal, meaning your <code>compareTo</code> result is 0, not greater than 0.</p>\n<p>You can take a look <a href=\"https://stackoverflow.com/questions/40562426/how-to-use-comparator-with-a-multiple-field-object\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":15701001,"reputation":176,"user_id":11329126,"display_name":"Ujwal Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650958693,"creation_date":1650958693,"answer_id":72010075,"question_id":72009897,"body_markdown":"I am assuming that you want to sort the data based on ascending order of color, if color is equal then you want to sort in descending order of size, if size is also equal, then sort on ascending order of name.\r\nMoreover your java class has all these properties as string type.\r\n\r\n```\r\npublic int compareTo(Student student) {\r\n    // If color are not equal, sort ascending on color\r\n    if(!this.color.equals(student.color)){\r\n        return this.color.compareTo(student.color);\r\n    }\r\n    // If color are equal, and size is not equal sort descending on size\r\n    if(!this.size.equals(student.size)){\r\n        return student.size.compareTo(this.size);\r\n    }\r\n    // If color and size are equal, sort ascending on name\r\n    return this.name.compareTo(student.name)      \r\n}\r\n```","title":"Sorting an array based on different properties of objects by overriding compareTo() method","body":"<p>I am assuming that you want to sort the data based on ascending order of color, if color is equal then you want to sort in descending order of size, if size is also equal, then sort on ascending order of name.\nMoreover your java class has all these properties as string type.</p>\n<pre><code>public int compareTo(Student student) {\n    // If color are not equal, sort ascending on color\n    if(!this.color.equals(student.color)){\n        return this.color.compareTo(student.color);\n    }\n    // If color are equal, and size is not equal sort descending on size\n    if(!this.size.equals(student.size)){\n        return student.size.compareTo(this.size);\n    }\n    // If color and size are equal, sort ascending on name\n    return this.name.compareTo(student.name)      \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651013517,"creation_date":1650961851,"answer_id":72010756,"question_id":72009897,"body_markdown":"The `Comparator` interface now offers methods to more conveniently solve your problem. \r\n\r\nAdd a `static` variable to your class. \r\n\r\n    static Comparator &lt; Student &gt; comparator =\r\n        Comparator\r\n        .comparing( Student :: getColor ) \r\n        .thenComparing( Student :: getSize ).reversed()\r\n        .thenComparing( Student :: getName() \r\n    ;\r\n\r\n","title":"Sorting an array based on different properties of objects by overriding compareTo() method","body":"<p>The <code>Comparator</code> interface now offers methods to more conveniently solve your problem.</p>\n<p>Add a <code>static</code> variable to your class.</p>\n<pre><code>static Comparator &lt; Student &gt; comparator =\n    Comparator\n    .comparing( Student :: getColor ) \n    .thenComparing( Student :: getSize ).reversed()\n    .thenComparing( Student :: getName() \n;\n</code></pre>\n"}],"owner":{"account_id":22347256,"reputation":17,"user_id":16625029,"display_name":"Sammie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72009991,"answer_count":3,"score":1,"last_activity_date":1651013517,"creation_date":1650957851,"question_id":72009897,"body_markdown":"I have a list of Student objects, each of them has 3 properties. Color, Size and their names. I want to sort them in ascending order based on their color first, followed by descending order of size and finally, in ascending order of their names. \r\nFor example, if input is (first line name, second line color and size):\r\n\r\n    Maria Jose\r\n    branco P\r\n    Mangojata Mancuda\r\n    vermelho P\r\n    Cezar Torres Mo\r\n    branco P\r\n    Baka Lhau\r\n    vermelho P\r\n    JuJu Mentina\r\n    branco M\r\n    Amaro Dinha\r\n    vermelho P\r\n    Adabi Finho\r\n    branco G\r\n    Severina Rigudinha\r\n    branco G\r\n    Carlos Chade Losna\r\n    vermelho P\r\nI want output to be as:\r\n\r\n    branco P Cezar Torres Mo\r\n    branco P Maria Jose\r\n    branco M JuJu Mentina\r\n    branco G Adabi Finho\r\n    branco G Severina Rigudinha\r\n    vermelho P Amaro Dinha\r\n    vermelho P Baka Lhau\r\n    vermelho P Carlos Chade Losna\r\n    vermelho P Mangojata Mancuda\r\n\r\nHowever, after overriding my compareTo() method so that the list is sorted based on what I want, I&#39;m getting output as:\r\n\r\n    branco P Maria Jose\r\n    branco P Cezar Torres Mo\r\n    branco M JuJu Mentina\r\n    branco G Adabi Finho\r\n    branco G Severina Rigudinha\r\n    vermelho P Mangojata Mancuda\r\n    vermelho P Baka Lhau\r\n    vermelho P Amaro Dinha\r\n    vermelho P Carlos Chade Losna\r\n\r\nAs it can be seen, the color and size are sorted correctly however, I&#39;m having trouble with sorting the names. I&#39;ve tried multiple methods but none works. I can&#39;t understand why. Below is my compareTo() method:\r\n\r\n    public int compareTo(Student student) {\r\n        int value1 = color.compareTo(student.color);\r\n        if (value1 &lt; 0) {\r\n            int value2 = size.compareTo(student.size);\r\n            if (value2 &lt; 0) {\r\n                int value3 = name.compareTo(student.name);\r\n                if (value3 &lt; 0) {\r\n                    return value3;\r\n                }\r\n            }\r\n        }\r\n        return value1;\r\n    }\r\n\r\nCould someone help me out?","title":"Sorting an array based on different properties of objects by overriding compareTo() method","body":"<p>I have a list of Student objects, each of them has 3 properties. Color, Size and their names. I want to sort them in ascending order based on their color first, followed by descending order of size and finally, in ascending order of their names.\nFor example, if input is (first line name, second line color and size):</p>\n<pre><code>Maria Jose\nbranco P\nMangojata Mancuda\nvermelho P\nCezar Torres Mo\nbranco P\nBaka Lhau\nvermelho P\nJuJu Mentina\nbranco M\nAmaro Dinha\nvermelho P\nAdabi Finho\nbranco G\nSeverina Rigudinha\nbranco G\nCarlos Chade Losna\nvermelho P\n</code></pre>\n<p>I want output to be as:</p>\n<pre><code>branco P Cezar Torres Mo\nbranco P Maria Jose\nbranco M JuJu Mentina\nbranco G Adabi Finho\nbranco G Severina Rigudinha\nvermelho P Amaro Dinha\nvermelho P Baka Lhau\nvermelho P Carlos Chade Losna\nvermelho P Mangojata Mancuda\n</code></pre>\n<p>However, after overriding my compareTo() method so that the list is sorted based on what I want, I'm getting output as:</p>\n<pre><code>branco P Maria Jose\nbranco P Cezar Torres Mo\nbranco M JuJu Mentina\nbranco G Adabi Finho\nbranco G Severina Rigudinha\nvermelho P Mangojata Mancuda\nvermelho P Baka Lhau\nvermelho P Amaro Dinha\nvermelho P Carlos Chade Losna\n</code></pre>\n<p>As it can be seen, the color and size are sorted correctly however, I'm having trouble with sorting the names. I've tried multiple methods but none works. I can't understand why. Below is my compareTo() method:</p>\n<pre><code>public int compareTo(Student student) {\n    int value1 = color.compareTo(student.color);\n    if (value1 &lt; 0) {\n        int value2 = size.compareTo(student.size);\n        if (value2 &lt; 0) {\n            int value3 = name.compareTo(student.name);\n            if (value3 &lt; 0) {\n                return value3;\n            }\n        }\n    }\n    return value1;\n}\n</code></pre>\n<p>Could someone help me out?</p>\n"},{"tags":["java","spring","liquibase"],"answers":[{"tags":[],"owner":{"account_id":24666064,"reputation":365,"user_id":18561714,"display_name":"tabbyfoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651011586,"creation_date":1651011586,"answer_id":72021144,"question_id":71323238,"body_markdown":"There are several related questions that have been posted previously about using Liquibase rollback with Spring Boot. This one seems the most similar to your post: [Perform a `liquibase:rollback` from the command line when properties are in Spring-boot files (`application.properties`) and not `liquibase.properties`][1]\r\n\r\nHere is the answer as provided by Robert Kleinschmager:\r\n&gt; The property names within springs application.properties and liquidate.properties are not compatible. You have three options\r\n&gt;\r\n&gt; #1 just create a separate liquibase.properties file with the content you need - see [liquibase doc][2] as you only need to fix your current setup\r\n&gt; #2 give the database parameters via command-line arguments\r\n&gt; ```\r\n&gt; mvn liquibase:rollback -Dliquibase.rollbackCount=1    -Dliquibase.url=jdbc:postgresql://localhost:5432/comptesfrance -Dliquibase.username\r\n&gt; ```\r\n&gt; see [rollback goal][3] for all arguments\r\n&gt; \r\n&gt; #3 if you need a permanent solution, then you may add the liquibase properties into your application.properties and reuse them in the same file. i.e.\r\n&gt; ```\r\n&gt; liquibase.url=jdbc:postgresql://localhost:5432/comptesfrance\r\n&gt; spring.datasource.url=${liquibase.url}\r\n&gt; ```\r\n\r\n  [1]: https://stackoverflow.com/questions/62299395/perform-a-liquibaserollback-from-the-command-line-when-properties-are-in-spring\r\n  [2]: https://docs.liquibase.com/workflows/liquibase-community/creating-config-properties.html\r\n  [3]: https://docs.liquibase.com/tools-integrations/maven/commands/maven-rollback.html","title":"How to fire liquibase rollback script from spring application","body":"<p>There are several related questions that have been posted previously about using Liquibase rollback with Spring Boot. This one seems the most similar to your post: <a href=\"https://stackoverflow.com/questions/62299395/perform-a-liquibaserollback-from-the-command-line-when-properties-are-in-spring\">Perform a <code>liquibase:rollback</code> from the command line when properties are in Spring-boot files (<code>application.properties</code>) and not <code>liquibase.properties</code></a></p>\n<p>Here is the answer as provided by Robert Kleinschmager:</p>\n<blockquote>\n<p>The property names within springs application.properties and liquidate.properties are not compatible. You have three options</p>\n<p>#1 just create a separate liquibase.properties file with the content you need - see <a href=\"https://docs.liquibase.com/workflows/liquibase-community/creating-config-properties.html\" rel=\"nofollow noreferrer\">liquibase doc</a> as you only need to fix your current setup\n#2 give the database parameters via command-line arguments</p>\n<pre><code>mvn liquibase:rollback -Dliquibase.rollbackCount=1    -Dliquibase.url=jdbc:postgresql://localhost:5432/comptesfrance -Dliquibase.username\n</code></pre>\n<p>see <a href=\"https://docs.liquibase.com/tools-integrations/maven/commands/maven-rollback.html\" rel=\"nofollow noreferrer\">rollback goal</a> for all arguments</p>\n<p>#3 if you need a permanent solution, then you may add the liquibase properties into your application.properties and reuse them in the same file. i.e.</p>\n<pre><code>liquibase.url=jdbc:postgresql://localhost:5432/comptesfrance\nspring.datasource.url=${liquibase.url}\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":10650147,"reputation":2228,"user_id":7841415,"display_name":"Suule"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651011586,"creation_date":1646226448,"question_id":71323238,"body_markdown":"I am using spring with liquibase to update my database. Since know I have not need to user rollback functonality, but the times come where I would like to make it work.\r\nBut I cant seems to fire it from my application.\r\n\r\nI know that maven has plugin which helps with that, but until know I was not using it and when I add it I need to provide source and credentials to my database.\r\n\r\nIn this moment liquibase is configured in xml.\r\n\r\n    &lt;bean id=&quot;liquibase&quot; class=&quot;liquibase.integration.spring.SpringLiquibase&quot;&gt;\r\n      &lt;property name=&quot;dataSource&quot; ref=&quot;p6spyDataSource&quot;/&gt;\r\n      &lt;property name=&quot;changeLog&quot; value=&quot;classpath:db.changelog-master.yaml&quot;/&gt;\r\n      .\r\n      .\r\n    &lt;/bean&gt;\r\n\r\nAnd in maven I have only dependency to `liquibase-core`.\r\nAnd the place where I set `liquibase.shouldRun` is in `application.properties`\r\n\r\nDataSource is taken from TomEE configuration `server.xml` file\r\n\r\nSo the question is if I can maybe somehow add maven plugin without adding credentials (should be taken from dataSource). Or is there other way to run rollback script from my changelog?","title":"How to fire liquibase rollback script from spring application","body":"<p>I am using spring with liquibase to update my database. Since know I have not need to user rollback functonality, but the times come where I would like to make it work.\nBut I cant seems to fire it from my application.</p>\n<p>I know that maven has plugin which helps with that, but until know I was not using it and when I add it I need to provide source and credentials to my database.</p>\n<p>In this moment liquibase is configured in xml.</p>\n<pre><code>&lt;bean id=&quot;liquibase&quot; class=&quot;liquibase.integration.spring.SpringLiquibase&quot;&gt;\n  &lt;property name=&quot;dataSource&quot; ref=&quot;p6spyDataSource&quot;/&gt;\n  &lt;property name=&quot;changeLog&quot; value=&quot;classpath:db.changelog-master.yaml&quot;/&gt;\n  .\n  .\n&lt;/bean&gt;\n</code></pre>\n<p>And in maven I have only dependency to <code>liquibase-core</code>.\nAnd the place where I set <code>liquibase.shouldRun</code> is in <code>application.properties</code></p>\n<p>DataSource is taken from TomEE configuration <code>server.xml</code> file</p>\n<p>So the question is if I can maybe somehow add maven plugin without adding credentials (should be taken from dataSource). Or is there other way to run rollback script from my changelog?</p>\n"},{"tags":["java","anagram"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":3,"creation_date":1651010090,"post_id":72020930,"comment_id":127259117,"body_markdown":"Do you consider `&quot;ad&quot;` and `&quot;bc&quot;` to be anagrams? because they are according to your code","body":"Do you consider <code>&quot;ad&quot;</code> and <code>&quot;bc&quot;</code> to be anagrams? because they are according to your code"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1651010807,"post_id":72020930,"comment_id":127259255,"body_markdown":"Sorry, but the algorithm you chose has nothing to do with finding anagrams.  You need to rethink your approach.","body":"Sorry, but the algorithm you chose has nothing to do with finding anagrams.  You need to rethink your approach."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1651012427,"post_id":72020930,"comment_id":127259620,"body_markdown":"Though it might be a useful way to pre-test for &quot;not an anagram&quot;,  Consider: if most test cases are not anagrams, this could quickly reject them in O(n) time.  Only if the sums are equal do you have to sort and compare.   (Measure before concluding this is a performance win).","body":"Though it might be a useful way to pre-test for &quot;not an anagram&quot;,  Consider: if most test cases are not anagrams, this could quickly reject them in O(n) time.  Only if the sums are equal do you have to sort and compare.   (Measure before concluding this is a performance win)."}],"answers":[{"tags":[],"owner":{"account_id":17474517,"reputation":108,"user_id":12669673,"display_name":"Alexandru Borza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651010322,"creation_date":1651010322,"answer_id":72020982,"question_id":72020930,"body_markdown":"The sums tASCII and sASCII can be equal even if the numbers are not anagrams. Let&#39;s say that you can get the number 100 by adding 60+40, but you can also get it by adding 70+30, so i recommend to use a HashMap to note every occurence of every letter or to sort the strings as arrays of chars and then compare them.","title":"Using ASCII to find valid Anagram","body":"<p>The sums tASCII and sASCII can be equal even if the numbers are not anagrams. Let's say that you can get the number 100 by adding 60+40, but you can also get it by adding 70+30, so i recommend to use a HashMap to note every occurence of every letter or to sort the strings as arrays of chars and then compare them.</p>\n"}],"owner":{"account_id":25108351,"reputation":1,"user_id":18958313,"display_name":"Sushant Chhetry"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1651025080,"accepted_answer_id":72020982,"answer_count":1,"score":-3,"last_activity_date":1651010745,"creation_date":1651009949,"question_id":72020930,"body_markdown":"Why doesn&#39;t this solution work for finding valid anagram?\r\n\r\n26/36 test cases get passed in LeetCode.\r\n\r\n    class Solution {\r\n        public boolean isAnagram(String s, String t) {\r\n            \r\n            int sASCII = 0, tASCII = 0;\r\n            \r\n            if(s.length() != t.length()) {return false;}\r\n            else{\r\n                for(int i = 0 ; i &lt; s.length(); i++){\r\n                    \r\n           \r\n                    sASCII += (int)s.charAt(i);\r\n                    tASCII += (int)t.charAt(i);\r\n                    \r\n                    \r\n                }\r\n            }\r\n            if(sASCII == tASCII){\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    }","title":"Using ASCII to find valid Anagram","body":"<p>Why doesn't this solution work for finding valid anagram?</p>\n<p>26/36 test cases get passed in LeetCode.</p>\n<pre><code>class Solution {\n    public boolean isAnagram(String s, String t) {\n        \n        int sASCII = 0, tASCII = 0;\n        \n        if(s.length() != t.length()) {return false;}\n        else{\n            for(int i = 0 ; i &lt; s.length(); i++){\n                \n       \n                sASCII += (int)s.charAt(i);\n                tASCII += (int)t.charAt(i);\n                \n                \n            }\n        }\n        if(sASCII == tASCII){\n            return true;\n        }\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1650976558,"post_id":72014063,"comment_id":127247185,"body_markdown":"What do you want to be delayed?","body":"What do you want to be delayed?"},{"owner":{"account_id":21917297,"reputation":25,"user_id":16201021,"display_name":"yndingo"},"score":0,"creation_date":1650976709,"post_id":72014063,"comment_id":127247251,"body_markdown":"answer from server.","body":"answer from server."}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650977508,"creation_date":1650977508,"answer_id":72014303,"question_id":72014063,"body_markdown":"If I understand you correctly, then you need to put the delay in your response.\r\n\r\n    server.createContext(&quot;/test&quot;, (exchange -&gt; {\r\n        String respText = &quot;hello&quot;;\r\n        String requestText = CFG.getConntent(exchange);\r\n        exchange.sendResponseHeaders(200, 0);\r\n    \r\n        sheduler.sheduleWithFixedDelay(()-&gt;{\r\n            OutputStream output = exchange.getResponseBody();\r\n            output.write(resp.Text.getBytes(UTF_8));\r\n            output.flush();\r\n            exchange.close();\r\n        }, 5,3, TimeUnit.MINUTES);\r\n    \r\n    });\r\n\r\nThis should cause the responds body to finish sending after the delay. I figured it should start the response by sending the &#39;200&#39; ok signal first.\r\n\r\n","title":"com.sun.net.HttpServer + SheduledExecutorService + sheduleWithFixedDelay - command runnable","body":"<p>If I understand you correctly, then you need to put the delay in your response.</p>\n<pre><code>server.createContext(&quot;/test&quot;, (exchange -&gt; {\n    String respText = &quot;hello&quot;;\n    String requestText = CFG.getConntent(exchange);\n    exchange.sendResponseHeaders(200, 0);\n\n    sheduler.sheduleWithFixedDelay(()-&gt;{\n        OutputStream output = exchange.getResponseBody();\n        output.write(resp.Text.getBytes(UTF_8));\n        output.flush();\n        exchange.close();\n    }, 5,3, TimeUnit.MINUTES);\n\n});\n</code></pre>\n<p>This should cause the responds body to finish sending after the delay. I figured it should start the response by sending the '200' ok signal first.</p>\n"}],"owner":{"account_id":21917297,"reputation":25,"user_id":16201021,"display_name":"yndingo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72014303,"answer_count":1,"score":0,"last_activity_date":1651010187,"creation_date":1650976440,"question_id":72014063,"body_markdown":"I am working with `sheduler.sheduleWithFixedDelay(????, 5,3, TimeUnit.MINUTES);`. What runnable command should I place here?\r\nIt is webserver that sends &quot;hello&quot; response. I want add delay to server answer.\r\n\r\nI have modified my code, thank you to **matt**. Now I have runnable command but have no delay..\r\n\r\n```\r\nvoid main(...){\r\n SheduledExecutorService sheduler = Executors.newScheduledThreadPool(10);\r\n HttpServer server = HttpServer.create(new InetSocketAddress(8001),5);\r\n server.createContext(&quot;/test&quot;, (exchange -&gt; {\r\n\tString respText = &quot;&quot;;\r\n\tString requestText = CFG.getConntent(exchange);\r\n\tif (requestText.contains(&quot;Hello&quot;)){\r\n\t\trespText = &quot;Hello&quot;;\r\n\t}\r\n\telse if (requestText.contains(&quot;Bye&quot;)){\r\n\t\trespText = &quot;Bye&quot;;\r\n\t}\r\n\t\r\n\texchange.sendResponseHeaders(200, 0);\r\n\tString textToSend = respText;\t\r\n\tsheduler.sheduleWithFixedDelay(()-&gt;{\r\n\t\tOutputStream output = exchange.getResponseBody();\r\n\t\ttry{\t\t\t\r\n\t\t\toutput.write(textToSend.getBytes(StandardCharsets.UTF_8));\r\n\t\t\toutput.flush();\r\n\t\t}\r\n\t\tcatch (Exception e){}        \r\n        exchange.close();\r\n    }, 0,10, TimeUnit.MINUTES);\r\n\r\n \r\n server.setExecutor(sheduler);\r\n server.start();\r\n}\r\n```","title":"com.sun.net.HttpServer + SheduledExecutorService + sheduleWithFixedDelay - command runnable","body":"<p>I am working with <code>sheduler.sheduleWithFixedDelay(????, 5,3, TimeUnit.MINUTES);</code>. What runnable command should I place here?\nIt is webserver that sends &quot;hello&quot; response. I want add delay to server answer.</p>\n<p>I have modified my code, thank you to <strong>matt</strong>. Now I have runnable command but have no delay..</p>\n<pre><code>void main(...){\n SheduledExecutorService sheduler = Executors.newScheduledThreadPool(10);\n HttpServer server = HttpServer.create(new InetSocketAddress(8001),5);\n server.createContext(&quot;/test&quot;, (exchange -&gt; {\n    String respText = &quot;&quot;;\n    String requestText = CFG.getConntent(exchange);\n    if (requestText.contains(&quot;Hello&quot;)){\n        respText = &quot;Hello&quot;;\n    }\n    else if (requestText.contains(&quot;Bye&quot;)){\n        respText = &quot;Bye&quot;;\n    }\n    \n    exchange.sendResponseHeaders(200, 0);\n    String textToSend = respText;   \n    sheduler.sheduleWithFixedDelay(()-&gt;{\n        OutputStream output = exchange.getResponseBody();\n        try{            \n            output.write(textToSend.getBytes(StandardCharsets.UTF_8));\n            output.flush();\n        }\n        catch (Exception e){}        \n        exchange.close();\n    }, 0,10, TimeUnit.MINUTES);\n\n \n server.setExecutor(sheduler);\n server.start();\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver","geckodriver"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651009932,"creation_date":1651009932,"answer_id":72020927,"question_id":72018979,"body_markdown":"This error message...\r\n\r\n\tException in thread &quot;main&quot; java.lang.IllegalStateException: The driver executable must exist\r\n\r\n...implies that the [WebDriver](https://stackoverflow.com/a/48080871/7429447) executable doesn&#39;t exists at the mentioned location.\r\n\r\n\r\n----------\r\n\r\n\r\nYou have mentioned:\r\n\r\n\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\Users\\\\91831\\\\OneDrive\\\\Desktop\\\\eclipse-workspace\\\\geckodriver.exe&quot;);\r\n\t\r\nAs you are using [tag:windows] operating system, ensure that you have downloaded [GeckoDriver](https://stackoverflow.com/a/45331403/7429447) with _**`.zip`**_ extension  from the [release location](https://github.com/mozilla/geckodriver/releases), unzipped the executable binary and placed _**geckodriver.exe**_ within _`C:\\\\Users\\\\91831\\\\OneDrive\\\\Desktop\\\\eclipse-workspace`_ sub-directory.","title":"Exception in thread &quot;main&quot; java.lang.IllegalStateException: The driver executable must exist error using Selenium Java","body":"<p>This error message...</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: The driver executable must exist\n</code></pre>\n<p>...implies that the <a href=\"https://stackoverflow.com/a/48080871/7429447\">WebDriver</a> executable doesn't exists at the mentioned location.</p>\n<hr />\n<p>You have mentioned:</p>\n<pre><code>System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\Users\\\\91831\\\\OneDrive\\\\Desktop\\\\eclipse-workspace\\\\geckodriver.exe&quot;);\n</code></pre>\n<p>As you are using <a href=\"/questions/tagged/windows\" class=\"post-tag\" title=\"show questions tagged &#39;windows&#39;\" rel=\"tag\">windows</a> operating system, ensure that you have downloaded <a href=\"https://stackoverflow.com/a/45331403/7429447\">GeckoDriver</a> with <em><strong><code>.zip</code></strong></em> extension  from the <a href=\"https://github.com/mozilla/geckodriver/releases\" rel=\"nofollow noreferrer\">release location</a>, unzipped the executable binary and placed <em><strong>geckodriver.exe</strong></em> within <em><code>C:\\\\Users\\\\91831\\\\OneDrive\\\\Desktop\\\\eclipse-workspace</code></em> sub-directory.</p>\n"}],"owner":{"account_id":11354879,"reputation":1,"user_id":8324779,"display_name":"Angel "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":923,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651009932,"creation_date":1650998455,"question_id":72018979,"body_markdown":"Error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: The driver executable must exist\r\n\r\nCode trials:\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    \r\n    public class Hello {\r\n        \t    \t\r\n    \tpublic static void main(String[] args) {    \t\t\r\n    \t\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\Users\\\\91831\\\\OneDrive\\\\Desktop\\\\eclipse-workspace\\\\geckodriver.exe&quot;);\r\n    \t\tSystem.out.println(&quot;Hello&quot;);\r\n    \t\tWebDriver driver = new FirefoxDriver();\r\n    \t\tdriver.get(&quot;http:\\\\www.amazon.in&quot;);\r\n    \t}    \r\n    }","title":"Exception in thread &quot;main&quot; java.lang.IllegalStateException: The driver executable must exist error using Selenium Java","body":"<p>Error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: The driver executable must exist\n</code></pre>\n<p>Code trials:</p>\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n\npublic class Hello {\n                \n    public static void main(String[] args) {            \n        System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\Users\\\\91831\\\\OneDrive\\\\Desktop\\\\eclipse-workspace\\\\geckodriver.exe&quot;);\n        System.out.println(&quot;Hello&quot;);\n        WebDriver driver = new FirefoxDriver();\n        driver.get(&quot;http:\\\\www.amazon.in&quot;);\n    }    \n}\n</code></pre>\n"},{"tags":["java","jackson","json-deserialization","objectmapper"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1651008673,"post_id":72020683,"comment_id":127258776,"body_markdown":"Set `@JsonProperty(..., required = true, ...)`","body":"Set <code>@JsonProperty(..., required = true, ...)</code>"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1651009721,"post_id":72020683,"comment_id":127259037,"body_markdown":"The usual approach is to use Bean Validation to say that the relevant properties must be `NotNull`, `Min`, and so on.","body":"The usual approach is to use Bean Validation to say that the relevant properties must be <code>NotNull</code>, <code>Min</code>, and so on."},{"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"score":0,"creation_date":1651009950,"post_id":72020683,"comment_id":127259096,"body_markdown":"Indeed, that&#39;s the other option I have left, but this type is auto-generated, so I&#39;m trying to avoid mapping to another type just for this, although it would be more accurate to express this in such way. I was hoping to cut some corners with `ObjectMapper` :)","body":"Indeed, that&#39;s the other option I have left, but this type is auto-generated, so I&#39;m trying to avoid mapping to another type just for this, although it would be more accurate to express this in such way. I was hoping to cut some corners with <code>ObjectMapper</code> :)"}],"answers":[{"tags":[],"owner":{"account_id":5559956,"reputation":13819,"user_id":9840318,"display_name":"Madhu Bhat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651009210,"creation_date":1651008686,"answer_id":72020747,"question_id":72020683,"body_markdown":"Jackson has a `DeserializationFeature.FAIL_ON_MISSING_CREATOR_PROPERTIES` which you could enable such that if any property is missing, it would fail during deserialization and throw a `JsonMappingException`. The javadoc ([ref](https://fasterxml.github.io/jackson-databind/javadoc/2.6/com/fasterxml/jackson/databind/DeserializationFeature.html#FAIL_ON_MISSING_CREATOR_PROPERTIES)) for it specifies\r\n\r\n&gt; public static final DeserializationFeature FAIL_ON_MISSING_CREATOR_PROPERTIES\r\n&gt;\r\n&gt; Feature that determines what happens if one or more Creator properties (properties bound to parameters of Creator method (constructor or static factory method)) are missing value to bind to from content. If enabled, such missing values result in a JsonMappingException being thrown with information on the first one (by index) of missing properties. If disabled, and if property is NOT marked as required, missing Creator properties are filled with null values provided by deserializer for the type of parameter (usually null for Object types, and default value for primitives; but redefinable via custom deserializers).\r\n\r\nSo you could have your `ObjectMapper` creation as\r\n\r\n```\r\nnew ObjectMapper().disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\r\n  .disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)\r\n  .enable(DeserializationFeature.FAIL_ON_MISSING_CREATOR_PROPERTIES)\r\n  .registerModule(new JavaTimeModule())\r\n```\r\n\r\nIn case there only a few specific properties that are required and not all the properties, you could set the `required` parameter ([ref](https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonProperty.html#required())) of `@JsonProperty` to `true` on the required fields. For eg in your case if only the property `first` is required,\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@NoArgsConstructor\r\npublic final class CustomMessage {\r\n  @JsonProperty(value = &quot;first&quot;, required = true)\r\n  private String first;\r\n\r\n  @JsonProperty(&quot;second&quot;)\r\n  private Integer second;\r\n\r\n  @JsonProperty(&quot;third&quot;)\r\n  private Integer third;\r\n}\r\n```\r\n","title":"Configure ObjecMapper to require mapped keys but to not fail if unmapped are sent","body":"<p>Jackson has a <code>DeserializationFeature.FAIL_ON_MISSING_CREATOR_PROPERTIES</code> which you could enable such that if any property is missing, it would fail during deserialization and throw a <code>JsonMappingException</code>. The javadoc (<a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.6/com/fasterxml/jackson/databind/DeserializationFeature.html#FAIL_ON_MISSING_CREATOR_PROPERTIES\" rel=\"nofollow noreferrer\">ref</a>) for it specifies</p>\n<blockquote>\n<p>public static final DeserializationFeature FAIL_ON_MISSING_CREATOR_PROPERTIES</p>\n<p>Feature that determines what happens if one or more Creator properties (properties bound to parameters of Creator method (constructor or static factory method)) are missing value to bind to from content. If enabled, such missing values result in a JsonMappingException being thrown with information on the first one (by index) of missing properties. If disabled, and if property is NOT marked as required, missing Creator properties are filled with null values provided by deserializer for the type of parameter (usually null for Object types, and default value for primitives; but redefinable via custom deserializers).</p>\n</blockquote>\n<p>So you could have your <code>ObjectMapper</code> creation as</p>\n<pre><code>new ObjectMapper().disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\n  .disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)\n  .enable(DeserializationFeature.FAIL_ON_MISSING_CREATOR_PROPERTIES)\n  .registerModule(new JavaTimeModule())\n</code></pre>\n<p>In case there only a few specific properties that are required and not all the properties, you could set the <code>required</code> parameter (<a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonProperty.html#required()\" rel=\"nofollow noreferrer\">ref</a>) of <code>@JsonProperty</code> to <code>true</code> on the required fields. For eg in your case if only the property <code>first</code> is required,</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@NoArgsConstructor\npublic final class CustomMessage {\n  @JsonProperty(value = &quot;first&quot;, required = true)\n  private String first;\n\n  @JsonProperty(&quot;second&quot;)\n  private Integer second;\n\n  @JsonProperty(&quot;third&quot;)\n  private Integer third;\n}\n</code></pre>\n"}],"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651009210,"creation_date":1651008224,"question_id":72020683,"body_markdown":"I&#39;m using `Jackson`&#39;s `ObjecMapper` to deserialize JSON data into a certain Java model. I do annotate the fields/members with `@JsonProperty` as well.\r\n\r\nWhat I&#39;m trying to achieve is to configure `ObjecMapper` in such way that the deserialization process doesn&#39;t fail if I receive a JSON with more keys than expected, but I need to fail if for some reason the mapped (JSON) keys in the Java model are different and/or missing.\r\n\r\nFor instance, this is the Java class:\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@ToString\r\n@NoArgsConstructor\r\npublic final class CustomMessage {\r\n  @JsonProperty(&quot;first&quot;)\r\n  private String first;\r\n\r\n  @JsonProperty(&quot;second&quot;)\r\n  private Integer second;\r\n\r\n  @JsonProperty(&quot;third&quot;)\r\n  private Integer third;\r\n}\r\n```\r\n\r\nThe JSON data I can receive must have `first`, `second`, and `third`...but could have as well some other keys, which I&#39;m discarding.\r\n\r\nThis is what I have so far:\r\n\r\n```java\r\nnew ObjectMapper().disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\r\n  .disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)\r\n  .registerModule(new JavaTimeModule())\r\n```\r\n\r\nBut still doesn&#39;t work; it doesn&#39;t fail if any of the &quot;required&quot; JSON keys aren&#39;t sent  due to `DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES`.\r\n\r\n&gt; The application doesn&#39;t use `Spring` or any other similar framework.","title":"Configure ObjecMapper to require mapped keys but to not fail if unmapped are sent","body":"<p>I'm using <code>Jackson</code>'s <code>ObjecMapper</code> to deserialize JSON data into a certain Java model. I do annotate the fields/members with <code>@JsonProperty</code> as well.</p>\n<p>What I'm trying to achieve is to configure <code>ObjecMapper</code> in such way that the deserialization process doesn't fail if I receive a JSON with more keys than expected, but I need to fail if for some reason the mapped (JSON) keys in the Java model are different and/or missing.</p>\n<p>For instance, this is the Java class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@ToString\n@NoArgsConstructor\npublic final class CustomMessage {\n  @JsonProperty(&quot;first&quot;)\n  private String first;\n\n  @JsonProperty(&quot;second&quot;)\n  private Integer second;\n\n  @JsonProperty(&quot;third&quot;)\n  private Integer third;\n}\n</code></pre>\n<p>The JSON data I can receive must have <code>first</code>, <code>second</code>, and <code>third</code>...but could have as well some other keys, which I'm discarding.</p>\n<p>This is what I have so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ObjectMapper().disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\n  .disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)\n  .registerModule(new JavaTimeModule())\n</code></pre>\n<p>But still doesn't work; it doesn't fail if any of the &quot;required&quot; JSON keys aren't sent  due to <code>DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES</code>.</p>\n<blockquote>\n<p>The application doesn't use <code>Spring</code> or any other similar framework.</p>\n</blockquote>\n"},{"tags":["javascript","java","htmlunit","htmlunit-driver"],"answers":[{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642101252,"creation_date":1642101252,"answer_id":70701898,"question_id":70698909,"body_markdown":"    getByXPath\r\n\r\nreturns a list - you can&#39;t cast this to a button. You have to take one element from the list (e.g. the first one) for casting.\r\n\r\nOr use \r\n\r\n    getFirstByXPath","title":"How to fix this HtmlUnit test giving errors","body":"<pre><code>getByXPath\n</code></pre>\n<p>returns a list - you can't cast this to a button. You have to take one element from the list (e.g. the first one) for casting.</p>\n<p>Or use</p>\n<pre><code>getFirstByXPath\n</code></pre>\n"}],"owner":{"account_id":11808254,"reputation":37,"user_id":8640260,"display_name":"rich25"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70701898,"answer_count":1,"score":-1,"last_activity_date":1651008924,"creation_date":1642086934,"question_id":70698909,"body_markdown":"I have a HtmlUnit test on the attached code. When I run the code I get the following error:\r\n\r\n","title":"How to fix this HtmlUnit test giving errors","body":"<p>I have a HtmlUnit test on the attached code. When I run the code I get the following error:</p>\n"},{"tags":["java","linux","runtime","pi"],"answers":[{"tags":[],"owner":{"account_id":24366371,"reputation":11,"user_id":18300056,"display_name":"Golightly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651008296,"creation_date":1651008296,"answer_id":72020694,"question_id":72019132,"body_markdown":"I have answered my own question. After realizing that the issue was not with the Runtime method but rather the open command itself. The open command originates from https://www.freedesktop.org/wiki/ and seems to automatically invokes the sudo command when called from an external program. So the solution is to override the sudo with the non root user\r\n\r\n    Runtime.getRuntime.exec(&quot;sudo -u pi open /home/pi/data)\r\n\r\nthe -u command allows you to set the user, and pi is the default user on the RPi distro.\r\n","title":"Using java Runtime.getRuntime.exe() to open a folder give Super User credentials","body":"<p>I have answered my own question. After realizing that the issue was not with the Runtime method but rather the open command itself. The open command originates from <a href=\"https://www.freedesktop.org/wiki/\" rel=\"nofollow noreferrer\">https://www.freedesktop.org/wiki/</a> and seems to automatically invokes the sudo command when called from an external program. So the solution is to override the sudo with the non root user</p>\n<pre><code>Runtime.getRuntime.exec(&quot;sudo -u pi open /home/pi/data)\n</code></pre>\n<p>the -u command allows you to set the user, and pi is the default user on the RPi distro.</p>\n"}],"owner":{"account_id":24366371,"reputation":11,"user_id":18300056,"display_name":"Golightly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651008296,"creation_date":1650999282,"question_id":72019132,"body_markdown":"I have a java application that opens a folder via \r\n\r\n    Runtime.getRuntime.exec(&quot;open /home/pi/data&quot;)\r\n\r\n and it gives super user access when the folder opens. If I just run \r\n\r\n    open /home/pi/data\r\n \r\nfrom the command line it gives normal access. I am not only interested in how to stop this from happening but also why it is happening.","title":"Using java Runtime.getRuntime.exe() to open a folder give Super User credentials","body":"<p>I have a java application that opens a folder via</p>\n<pre><code>Runtime.getRuntime.exec(&quot;open /home/pi/data&quot;)\n</code></pre>\n<p>and it gives super user access when the folder opens. If I just run</p>\n<pre><code>open /home/pi/data\n</code></pre>\n<p>from the command line it gives normal access. I am not only interested in how to stop this from happening but also why it is happening.</p>\n"},{"tags":["java","soap","netsuite"],"answers":[{"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651008153,"creation_date":1651008153,"answer_id":72020676,"question_id":71759652,"body_markdown":"Here is an example code on how to query all the values of a custom record type using Java SOAP:\r\n\r\n    /**\r\n     * String search Cost Template Values\r\n     * \r\n     * @return internal ID\r\n     * @throws Any Exception\r\n     */\r\n    private Map&lt;String, String&gt; searchCostTemplateValues() throws Exception {\r\n        CustomRecordSearchBasic customRecordSearch = new CustomRecordSearchBasic();\r\n        RecordRef recordRef = new RecordRef();\r\n        \r\n        if(environment.toLowerCase().equals(&quot;test&quot;) || environment.equals(&quot;default&quot;)) {\r\n            recordRef.setInternalId(&quot;426&quot;);\r\n        }\r\n        else {\r\n            recordRef.setInternalId(&quot;426&quot;);\r\n        }\r\n        customRecordSearch.setRecType(recordRef);\r\n        SearchResult response = netsuiteSoapClient\r\n                .getPort(true)\r\n                .search(customRecordSearch);\r\n        LOGGER.info(&quot;Search Result: &quot; + new ObjectMapper()\r\n                .writerWithDefaultPrettyPrinter().writeValueAsString(response));\r\n        RecordList costTemplateRecordList = response.getRecordList();\r\n        Record[] customRecordArray = costTemplateRecordList.getRecord();\r\n        Map&lt;String, String&gt; costTemplateMap = new HashMap&lt;&gt;();\r\n        for(Record r : customRecordArray) {\r\n            CustomRecord cr = (CustomRecord) r;\r\n            String name = cr.getName();\r\n            String internalId = cr.getInternalId();\r\n            costTemplateMap.put(name, internalId);\r\n        }\r\n        return costTemplateMap;\r\n    }\r\n\r\n","title":"How to search for all records of of type CustomRecordType in Netsuite?","body":"<p>Here is an example code on how to query all the values of a custom record type using Java SOAP:</p>\n<pre><code>/**\n * String search Cost Template Values\n * \n * @return internal ID\n * @throws Any Exception\n */\nprivate Map&lt;String, String&gt; searchCostTemplateValues() throws Exception {\n    CustomRecordSearchBasic customRecordSearch = new CustomRecordSearchBasic();\n    RecordRef recordRef = new RecordRef();\n    \n    if(environment.toLowerCase().equals(&quot;test&quot;) || environment.equals(&quot;default&quot;)) {\n        recordRef.setInternalId(&quot;426&quot;);\n    }\n    else {\n        recordRef.setInternalId(&quot;426&quot;);\n    }\n    customRecordSearch.setRecType(recordRef);\n    SearchResult response = netsuiteSoapClient\n            .getPort(true)\n            .search(customRecordSearch);\n    LOGGER.info(&quot;Search Result: &quot; + new ObjectMapper()\n            .writerWithDefaultPrettyPrinter().writeValueAsString(response));\n    RecordList costTemplateRecordList = response.getRecordList();\n    Record[] customRecordArray = costTemplateRecordList.getRecord();\n    Map&lt;String, String&gt; costTemplateMap = new HashMap&lt;&gt;();\n    for(Record r : customRecordArray) {\n        CustomRecord cr = (CustomRecord) r;\n        String name = cr.getName();\n        String internalId = cr.getInternalId();\n        costTemplateMap.put(name, internalId);\n    }\n    return costTemplateMap;\n}\n</code></pre>\n"}],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":647,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72020676,"answer_count":1,"score":0,"last_activity_date":1651008153,"creation_date":1649202800,"question_id":71759652,"body_markdown":"I am trying to get all the records related to a custom record type. How to do it in Netsuite SOAP? \r\nAlso is there a way to search records of that custom record type by it&#39;s ```recordname```?\r\n\r\nSomething like this returns only the first record:\r\n\r\n    CustomRecordRef customRec = new CustomRecordRef();\r\n    customRec.setInternalId(&quot;XXX&quot;);\r\n    customRec.setScriptId(&quot;customrecord_lc_mapping&quot;);\r\n    netsuiteSoapClient.getPort(true).get(customRec);","title":"How to search for all records of of type CustomRecordType in Netsuite?","body":"<p>I am trying to get all the records related to a custom record type. How to do it in Netsuite SOAP?\nAlso is there a way to search records of that custom record type by it's <code>recordname</code>?</p>\n<p>Something like this returns only the first record:</p>\n<pre><code>CustomRecordRef customRec = new CustomRecordRef();\ncustomRec.setInternalId(&quot;XXX&quot;);\ncustomRec.setScriptId(&quot;customrecord_lc_mapping&quot;);\nnetsuiteSoapClient.getPort(true).get(customRec);\n</code></pre>\n"},{"tags":["java","maven","google-cloud-platform","java-8","google-cloud-dataflow"],"comments":[{"owner":{"account_id":7549032,"reputation":501,"user_id":5731143,"display_name":"matthieu.cham"},"score":0,"creation_date":1651009541,"post_id":72020667,"comment_id":127259000,"body_markdown":"You are probably missing the java files which must be generated from .proto files of src/main/proto, namely export.proto.\n\nThose files should be generated by the plugin protobuf-maven-plugin.\nBut here in the output you can see:\n\n\n&gt; [INFO] --- protobuf-maven-plugin:0.5.1:compile-custom (default) @ google-cloud-&gt; teleport-java ---\n&gt; [INFO] No proto files to compile.\n\n\nSo it means it cannot find them. Can you double check that these files are present in your cloned repo ?","body":"You are probably missing the java files which must be generated from .proto files of src/main/proto, namely export.proto.  Those files should be generated by the plugin protobuf-maven-plugin. But here in the output you can see:   &gt; [INFO] --- protobuf-maven-plugin:0.5.1:compile-custom (default) @ google-cloud-&gt; teleport-java --- &gt; [INFO] No proto files to compile.   So it means it cannot find them. Can you double check that these files are present in your cloned repo ?"},{"owner":{"account_id":3719757,"reputation":145,"user_id":3095083,"accept_rate":29,"display_name":"user3095083"},"score":0,"creation_date":1651009802,"post_id":72020667,"comment_id":127259059,"body_markdown":"Okay thanks - I can see them in the repo I copied...  https://github.com/GoogleCloudPlatform/DataflowTemplates/tree/main/src/main/proto   will double check mine explicitly tomorrow... I did read something about compiling the proto plugins before compiling the rest of the code but unsure how to do that...","body":"Okay thanks - I can see them in the repo I copied...  <a href=\"https://github.com/GoogleCloudPlatform/DataflowTemplates/tree/main/src/main/proto\" rel=\"nofollow noreferrer\">github.com/GoogleCloudPlatform/DataflowTemplates/tree/main/s&zwnj;&#8203;rc/&hellip;</a>   will double check mine explicitly tomorrow... I did read something about compiling the proto plugins before compiling the rest of the code but unsure how to do that..."},{"owner":{"account_id":7549032,"reputation":501,"user_id":5731143,"display_name":"matthieu.cham"},"score":0,"creation_date":1651010022,"post_id":72020667,"comment_id":127259109,"body_markdown":"if the pom file is properly working you shouldn&#39;t have anything more than running the compile target to do it... But with old dataflow templates like this one we sometimes face misconfiguration issues so let&#39;s see...","body":"if the pom file is properly working you shouldn&#39;t have anything more than running the compile target to do it... But with old dataflow templates like this one we sometimes face misconfiguration issues so let&#39;s see..."},{"owner":{"account_id":3830132,"reputation":1318,"user_id":3175889,"display_name":"ningk"},"score":0,"creation_date":1651608825,"post_id":72020667,"comment_id":127403140,"body_markdown":"Can you try following the instructions `mvn clean compile` in the repo to build the project? If you are using Intellij, there could be skipped maven goals: https://github.com/GoogleCloudPlatform/DataflowTemplates#buildingtesting-from-intellij","body":"Can you try following the instructions <code>mvn clean compile</code> in the repo to build the project? If you are using Intellij, there could be skipped maven goals: <a href=\"https://github.com/GoogleCloudPlatform/DataflowTemplates#buildingtesting-from-intellij\" rel=\"nofollow noreferrer\">github.com/GoogleCloudPlatform/&hellip;</a>"}],"owner":{"account_id":3719757,"reputation":145,"user_id":3095083,"accept_rate":29,"display_name":"user3095083"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651008077,"creation_date":1651008077,"question_id":72020667,"body_markdown":"I am hoping to use the TEXTIOtoBigQuery template provided by Google Cloud as a Google provided template to take a csv file and store in BigQuery. I set it all up correctly and tried running it but it failed due to being an external IP... my organisation won&#39;t allow us to use it so suggested we download and compile the source internally and use it this way.. \r\n\r\nThe source code is avaialble at: https://github.com/GoogleCloudPlatform/DataflowTemplates\r\n\r\nI have took an exact copy of this repo and saved it to my local pc. I have then ensured I have Java 8 sdk installed and running on my pc. In my head it should be easy right? an exact copy of their code? should just compile instantly? \r\n\r\nI keep getting the below error though.. and can&#39;t figure out what I am doing wrong... is anyone else able to take this repo and install it locally? \r\n\r\nTo confirm I run the mvn install command and get the below output.. I am very new to maven and java, so any help appreciated. \r\n\r\n    Scanning for projects...\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Detecting the operating system and CPU architecture\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] os.detected.name: windows\r\n    [INFO] os.detected.arch: x86_64\r\n    [INFO] os.detected.version: 10.0\r\n    [INFO] os.detected.version.major: 10\r\n    [INFO] os.detected.version.minor: 0\r\n    [INFO] os.detected.classifier: windows-x86_64\r\n    [INFO] \r\n    [INFO] --------&lt; com.google.cloud.teleport:google-cloud-teleport-java &gt;--------\r\n    [INFO] Building Google Cloud Teleport 0.1.0-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-enforcer-plugin:3.0.0-M1:enforce (enforce) @ google-cloud-teleport-java ---\r\n    [INFO] \r\n    [INFO] --- maven-enforcer-plugin:3.0.0-M1:enforce (enforce-banned-dependencies) @ google-cloud-teleport-java ---\r\n    [INFO] \r\n    [INFO] --- protobuf-maven-plugin:0.5.1:compile (default) @ google-cloud-teleport-java ---\r\n    [INFO] No proto files to compile.\r\n    [INFO]\r\n    [INFO] --- protobuf-maven-plugin:0.5.1:compile-custom (default) @ google-cloud-teleport-java ---\r\n    [INFO] No proto files to compile.\r\n    [INFO]\r\n    [INFO] --- avro-maven-plugin:1.8.2:schema (default) @ google-cloud-teleport-java ---\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ google-cloud-teleport-java ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 5 resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.6.2:compile (default-compile) @ google-cloud-teleport-java ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 143 source files to C:\\Users\\607792223\\OneDrive - BT Plc\\Documents\\Dataflow repo\\DataflowTemplates-main\\DataflowTemplates-main\\target\\classes\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR :\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[18,54] package com.google.cloud.teleport.spanner.ExportProtos does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[52,37] package Export does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[60,27] package Export does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[135,30] package Export does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[264,13] package Export does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[320,33] package Export does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[378,49] package Export does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[20,41] cannot find symbol\r\n      symbol:   class TypeCode\r\n      location: package com.google.cloud.teleport.spanner\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[379,36] cannot find symbol\r\n      symbol:   class Type\r\n      location: package com.google.cloud.teleport.spanner\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[395,40] cannot find symbol\r\n      symbol:   class Type\r\n      location: package com.google.cloud.teleport.spanner\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[200,30] cannot find symbol\r\n      symbol:   class TypeCode\r\n      location: class com.google.cloud.teleport.spanner.common.Type.Code\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[210,19] cannot find symbol\r\n      symbol:   class TypeCode\r\n      location: class com.google.cloud.teleport.spanner.common.Type.Code\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[212,10] cannot find symbol\r\n      symbol:   class TypeCode\r\n      location: class com.google.cloud.teleport.spanner.common.Type.Code\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[216,5] cannot find symbol\r\n      symbol:   class TypeCode\r\n      location: class com.google.cloud.teleport.spanner.common.Type.Code\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[220,31] cannot find symbol\r\n      symbol:   class TypeCode\r\n      location: class com.google.cloud.teleport.spanner.common.Type.Code\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/InformationSchemaScanner.java:[21,54] package com.google.cloud.teleport.spanner.ExportProtos does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextRowToMutation.java:[21,73] package com.google.cloud.teleport.spanner.TextImportProtos.ImportManifest does not exist  \r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextRowToMutation.java:[56,63] package TableManifest does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextRowToMutation.java:[69,53] package TableManifest does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextRowToMutation.java:[138,25] package TableManifest does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[21,54] package com.google.cloud.teleport.spanner.ExportProtos does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[22,54] package com.google.cloud.teleport.spanner.ExportProtos does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[267,86] cannot find symbol\r\n      symbol:   class Export\r\n      location: class com.google.cloud.teleport.spanner.ImportTransform\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[276,24] cannot find symbol\r\n      symbol:   class Export\r\n      location: class com.google.cloud.teleport.spanner.ImportTransform.ReadExportManifestFile\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[291,20] cannot find symbol\r\n      symbol:   class Export\r\n      location: class com.google.cloud.teleport.spanner.ImportTransform.ReadExportManifestFile\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[304,82] cannot find symbol\r\n      symbol:   class TableManifest\r\n      location: class com.google.cloud.teleport.spanner.ImportTransform\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[313,35] cannot find symbol\r\n      symbol:   class TableManifest\r\n      location: class com.google.cloud.teleport.spanner.ImportTransform.ReadTableManifestFile\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[347,35] cannot find symbol\r\n      symbol:   class Export\r\n      location: class com.google.cloud.teleport.spanner.ImportTransform.CreateTables\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[379,25] cannot find symbol\r\n      symbol:   class Export\r\n      location: class com.google.cloud.teleport.spanner.ImportTransform.CreateTables\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[562,38] cannot find symbol\r\n      symbol:   class Export\r\n      location: class com.google.cloud.teleport.spanner.ImportTransform\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[570,63] cannot find symbol\r\n      symbol:   class Export\r\n      location: class com.google.cloud.teleport.spanner.ImportTransform.ReadManifestFiles\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[624,59] cannot find symbol\r\n      symbol:   class TableManifest\r\n      location: class com.google.cloud.teleport.spanner.ImportTransform\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[645,67] cannot find symbol\r\n      symbol:   class TableManifest\r\n      location: class com.google.cloud.teleport.spanner.ImportTransform.ValidateInputFiles\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[669,69] cannot find symbol\r\n      symbol:   class TableManifest\r\n      location: class com.google.cloud.teleport.spanner.ImportTransform.ValidateInputFiles\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[19,58] package com.google.cloud.teleport.spanner.TextImportProtos does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[20,73] package com.google.cloud.teleport.spanner.TextImportProtos.ImportManifest does not exist[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[204,65] package TableManifest does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[208,55] package TableManifest does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[302,74] cannot find symbol\r\n      symbol:   class ImportManifest\r\n      location: class com.google.cloud.teleport.spanner.TextImportTransform\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[311,24] cannot find symbol\r\n      symbol:   class ImportManifest\r\n      location: class com.google.cloud.teleport.spanner.TextImportTransform.ReadImportManifest\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[324,20] cannot find symbol\r\n      symbol:   class ImportManifest\r\n      location: class com.google.cloud.teleport.spanner.TextImportTransform.ReadImportManifest\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[343,38] cannot find symbol\r\n      symbol:   class ImportManifest\r\n      location: class com.google.cloud.teleport.spanner.TextImportTransform\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[356,63] cannot find symbol\r\n      symbol:   class ImportManifest\r\n      location: class com.google.cloud.teleport.spanner.TextImportTransform.ResolveDataFiles\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[433,42] cannot find symbol\r\n      symbol:   class TableManifest\r\n      location: class com.google.cloud.teleport.spanner.TextImportTransform.ResolveDataFiles\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[481,23] cannot find symbol\r\n      symbol:   class ImportManifest\r\n      location: class com.google.cloud.teleport.spanner.TextImportTransform\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[481,82] package TableManifest does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[485,21] cannot find symbol\r\n      symbol:   class ImportManifest\r\n      location: class com.google.cloud.teleport.spanner.TextImportTransform.ReadTableColumns\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[484,54] package TableManifest does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[23,54] package com.google.cloud.teleport.spanner.ExportProtos does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[24,54] package com.google.cloud.teleport.spanner.ExportProtos does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[662,56] package Export does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[662,76] package Export does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[665,23] package Export does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[670,51] package Export does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[670,23] package Export does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[682,69] package Export does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[682,23] package Export does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[691,56] package Export does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[691,23] package Export does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[697,63] package Export does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[707,29] package Export does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[786,13] cannot find symbol\r\n      symbol:   class TableManifest\r\n      location: class com.google.cloud.teleport.spanner.ExportTransform.BuildTableManifests\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[795,13] cannot find symbol\r\n      symbol:   class TableManifest\r\n      location: class com.google.cloud.teleport.spanner.ExportTransform.BuildTableManifests\r\n    [INFO] 63 errors\r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  41.272 s\r\n    [INFO] Finished at: 2022-04-26T22:12:18+01:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.6.2:compile (default-compile) on project google-cloud-teleport-java: Compilation failure: Compilation failure:\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[18,54] package com.google.cloud.teleport.spanner.ExportProtos does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[52,37] package Export does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[60,27] package Export does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[135,30] package Export does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[264,13] package Export does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[320,33] package Export does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[378,49] package Export does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[20,41] cannot find symbol\r\n    [ERROR]   symbol:   class TypeCode\r\n    [ERROR]   location: package com.google.cloud.teleport.spanner\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[379,36] cannot find symbol\r\n    [ERROR]   symbol:   class Type\r\n    [ERROR]   location: package com.google.cloud.teleport.spanner\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[395,40] cannot find symbol\r\n    [ERROR]   symbol:   class Type\r\n    [ERROR]   location: package com.google.cloud.teleport.spanner\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[200,30] cannot find symbol\r\n    [ERROR]   symbol:   class TypeCode\r\n    [ERROR]   location: class com.google.cloud.teleport.spanner.common.Type.Code\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[210,19] cannot find symbol\r\n    [ERROR]   symbol:   class TypeCode\r\n    [ERROR]   location: class com.google.cloud.teleport.spanner.common.Type.Code\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[212,10] cannot find symbol\r\n    [ERROR]   symbol:   class TypeCode\r\n    [ERROR]   location: class com.google.cloud.teleport.spanner.common.Type.Code\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[216,5] cannot find symbol\r\n    [ERROR]   symbol:   class TypeCode\r\n    [ERROR]   location: class com.google.cloud.teleport.spanner.common.Type.Code\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[220,31] cannot find symbol\r\n    [ERROR]   symbol:   class TypeCode\r\n    [ERROR]   location: class com.google.cloud.teleport.spanner.common.Type.Code\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/InformationSchemaScanner.java:[21,54] package com.google.cloud.teleport.spanner.ExportProtos does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextRowToMutation.java:[21,73] package com.google.cloud.teleport.spanner.TextImportProtos.ImportManifest does not exist  \r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextRowToMutation.java:[56,63] package TableManifest does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextRowToMutation.java:[69,53] package TableManifest does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextRowToMutation.java:[138,25] package TableManifest does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[21,54] package com.google.cloud.teleport.spanner.ExportProtos does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[22,54] package com.google.cloud.teleport.spanner.ExportProtos does not exist\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[267,86] cannot find symbol\r\n    [ERROR]   symbol:   class Export\r\n    [ERROR]   location: class com.google.cloud.teleport.spanner.ImportTransform\r\n    [ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[276,24] cannot find symbol\r\n    [ERROR]   symbol:   class Export\r\n    [ERROR]   location: class com.google.cloud.teleport.spanner.ImportTransform.ReadExportManifestFile\r\n... ","title":"why won&#39;t google dataflow templates run for me","body":"<p>I am hoping to use the TEXTIOtoBigQuery template provided by Google Cloud as a Google provided template to take a csv file and store in BigQuery. I set it all up correctly and tried running it but it failed due to being an external IP... my organisation won't allow us to use it so suggested we download and compile the source internally and use it this way..</p>\n<p>The source code is avaialble at: <a href=\"https://github.com/GoogleCloudPlatform/DataflowTemplates\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/DataflowTemplates</a></p>\n<p>I have took an exact copy of this repo and saved it to my local pc. I have then ensured I have Java 8 sdk installed and running on my pc. In my head it should be easy right? an exact copy of their code? should just compile instantly?</p>\n<p>I keep getting the below error though.. and can't figure out what I am doing wrong... is anyone else able to take this repo and install it locally?</p>\n<p>To confirm I run the mvn install command and get the below output.. I am very new to maven and java, so any help appreciated.</p>\n<pre><code>Scanning for projects...\n[INFO] ------------------------------------------------------------------------\n[INFO] Detecting the operating system and CPU architecture\n[INFO] ------------------------------------------------------------------------\n[INFO] os.detected.name: windows\n[INFO] os.detected.arch: x86_64\n[INFO] os.detected.version: 10.0\n[INFO] os.detected.version.major: 10\n[INFO] os.detected.version.minor: 0\n[INFO] os.detected.classifier: windows-x86_64\n[INFO] \n[INFO] --------&lt; com.google.cloud.teleport:google-cloud-teleport-java &gt;--------\n[INFO] Building Google Cloud Teleport 0.1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-enforcer-plugin:3.0.0-M1:enforce (enforce) @ google-cloud-teleport-java ---\n[INFO] \n[INFO] --- maven-enforcer-plugin:3.0.0-M1:enforce (enforce-banned-dependencies) @ google-cloud-teleport-java ---\n[INFO] \n[INFO] --- protobuf-maven-plugin:0.5.1:compile (default) @ google-cloud-teleport-java ---\n[INFO] No proto files to compile.\n[INFO]\n[INFO] --- protobuf-maven-plugin:0.5.1:compile-custom (default) @ google-cloud-teleport-java ---\n[INFO] No proto files to compile.\n[INFO]\n[INFO] --- avro-maven-plugin:1.8.2:schema (default) @ google-cloud-teleport-java ---\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ google-cloud-teleport-java ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 5 resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.6.2:compile (default-compile) @ google-cloud-teleport-java ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 143 source files to C:\\Users\\607792223\\OneDrive - BT Plc\\Documents\\Dataflow repo\\DataflowTemplates-main\\DataflowTemplates-main\\target\\classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR :\n[INFO] -------------------------------------------------------------\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[18,54] package com.google.cloud.teleport.spanner.ExportProtos does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[52,37] package Export does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[60,27] package Export does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[135,30] package Export does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[264,13] package Export does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[320,33] package Export does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[378,49] package Export does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[20,41] cannot find symbol\n  symbol:   class TypeCode\n  location: package com.google.cloud.teleport.spanner\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[379,36] cannot find symbol\n  symbol:   class Type\n  location: package com.google.cloud.teleport.spanner\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[395,40] cannot find symbol\n  symbol:   class Type\n  location: package com.google.cloud.teleport.spanner\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[200,30] cannot find symbol\n  symbol:   class TypeCode\n  location: class com.google.cloud.teleport.spanner.common.Type.Code\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[210,19] cannot find symbol\n  symbol:   class TypeCode\n  location: class com.google.cloud.teleport.spanner.common.Type.Code\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[212,10] cannot find symbol\n  symbol:   class TypeCode\n  location: class com.google.cloud.teleport.spanner.common.Type.Code\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[216,5] cannot find symbol\n  symbol:   class TypeCode\n  location: class com.google.cloud.teleport.spanner.common.Type.Code\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[220,31] cannot find symbol\n  symbol:   class TypeCode\n  location: class com.google.cloud.teleport.spanner.common.Type.Code\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/InformationSchemaScanner.java:[21,54] package com.google.cloud.teleport.spanner.ExportProtos does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextRowToMutation.java:[21,73] package com.google.cloud.teleport.spanner.TextImportProtos.ImportManifest does not exist  \n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextRowToMutation.java:[56,63] package TableManifest does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextRowToMutation.java:[69,53] package TableManifest does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextRowToMutation.java:[138,25] package TableManifest does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[21,54] package com.google.cloud.teleport.spanner.ExportProtos does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[22,54] package com.google.cloud.teleport.spanner.ExportProtos does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[267,86] cannot find symbol\n  symbol:   class Export\n  location: class com.google.cloud.teleport.spanner.ImportTransform\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[276,24] cannot find symbol\n  symbol:   class Export\n  location: class com.google.cloud.teleport.spanner.ImportTransform.ReadExportManifestFile\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[291,20] cannot find symbol\n  symbol:   class Export\n  location: class com.google.cloud.teleport.spanner.ImportTransform.ReadExportManifestFile\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[304,82] cannot find symbol\n  symbol:   class TableManifest\n  location: class com.google.cloud.teleport.spanner.ImportTransform\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[313,35] cannot find symbol\n  symbol:   class TableManifest\n  location: class com.google.cloud.teleport.spanner.ImportTransform.ReadTableManifestFile\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[347,35] cannot find symbol\n  symbol:   class Export\n  location: class com.google.cloud.teleport.spanner.ImportTransform.CreateTables\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[379,25] cannot find symbol\n  symbol:   class Export\n  location: class com.google.cloud.teleport.spanner.ImportTransform.CreateTables\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[562,38] cannot find symbol\n  symbol:   class Export\n  location: class com.google.cloud.teleport.spanner.ImportTransform\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[570,63] cannot find symbol\n  symbol:   class Export\n  location: class com.google.cloud.teleport.spanner.ImportTransform.ReadManifestFiles\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[624,59] cannot find symbol\n  symbol:   class TableManifest\n  location: class com.google.cloud.teleport.spanner.ImportTransform\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[645,67] cannot find symbol\n  symbol:   class TableManifest\n  location: class com.google.cloud.teleport.spanner.ImportTransform.ValidateInputFiles\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[669,69] cannot find symbol\n  symbol:   class TableManifest\n  location: class com.google.cloud.teleport.spanner.ImportTransform.ValidateInputFiles\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[19,58] package com.google.cloud.teleport.spanner.TextImportProtos does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[20,73] package com.google.cloud.teleport.spanner.TextImportProtos.ImportManifest does not exist[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[204,65] package TableManifest does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[208,55] package TableManifest does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[302,74] cannot find symbol\n  symbol:   class ImportManifest\n  location: class com.google.cloud.teleport.spanner.TextImportTransform\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[311,24] cannot find symbol\n  symbol:   class ImportManifest\n  location: class com.google.cloud.teleport.spanner.TextImportTransform.ReadImportManifest\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[324,20] cannot find symbol\n  symbol:   class ImportManifest\n  location: class com.google.cloud.teleport.spanner.TextImportTransform.ReadImportManifest\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[343,38] cannot find symbol\n  symbol:   class ImportManifest\n  location: class com.google.cloud.teleport.spanner.TextImportTransform\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[356,63] cannot find symbol\n  symbol:   class ImportManifest\n  location: class com.google.cloud.teleport.spanner.TextImportTransform.ResolveDataFiles\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[433,42] cannot find symbol\n  symbol:   class TableManifest\n  location: class com.google.cloud.teleport.spanner.TextImportTransform.ResolveDataFiles\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[481,23] cannot find symbol\n  symbol:   class ImportManifest\n  location: class com.google.cloud.teleport.spanner.TextImportTransform\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[481,82] package TableManifest does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[485,21] cannot find symbol\n  symbol:   class ImportManifest\n  location: class com.google.cloud.teleport.spanner.TextImportTransform.ReadTableColumns\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextImportTransform.java:[484,54] package TableManifest does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[23,54] package com.google.cloud.teleport.spanner.ExportProtos does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[24,54] package com.google.cloud.teleport.spanner.ExportProtos does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[662,56] package Export does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[662,76] package Export does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[665,23] package Export does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[670,51] package Export does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[670,23] package Export does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[682,69] package Export does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[682,23] package Export does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[691,56] package Export does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[691,23] package Export does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[697,63] package Export does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[707,29] package Export does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[786,13] cannot find symbol\n  symbol:   class TableManifest\n  location: class com.google.cloud.teleport.spanner.ExportTransform.BuildTableManifests\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ExportTransform.java:[795,13] cannot find symbol\n  symbol:   class TableManifest\n  location: class com.google.cloud.teleport.spanner.ExportTransform.BuildTableManifests\n[INFO] 63 errors\n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  41.272 s\n[INFO] Finished at: 2022-04-26T22:12:18+01:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.6.2:compile (default-compile) on project google-cloud-teleport-java: Compilation failure: Compilation failure:\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[18,54] package com.google.cloud.teleport.spanner.ExportProtos does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[52,37] package Export does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[60,27] package Export does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[135,30] package Export does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[264,13] package Export does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[320,33] package Export does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/Ddl.java:[378,49] package Export does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[20,41] cannot find symbol\n[ERROR]   symbol:   class TypeCode\n[ERROR]   location: package com.google.cloud.teleport.spanner\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[379,36] cannot find symbol\n[ERROR]   symbol:   class Type\n[ERROR]   location: package com.google.cloud.teleport.spanner\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[395,40] cannot find symbol\n[ERROR]   symbol:   class Type\n[ERROR]   location: package com.google.cloud.teleport.spanner\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[200,30] cannot find symbol\n[ERROR]   symbol:   class TypeCode\n[ERROR]   location: class com.google.cloud.teleport.spanner.common.Type.Code\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[210,19] cannot find symbol\n[ERROR]   symbol:   class TypeCode\n[ERROR]   location: class com.google.cloud.teleport.spanner.common.Type.Code\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[212,10] cannot find symbol\n[ERROR]   symbol:   class TypeCode\n[ERROR]   location: class com.google.cloud.teleport.spanner.common.Type.Code\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[216,5] cannot find symbol\n[ERROR]   symbol:   class TypeCode\n[ERROR]   location: class com.google.cloud.teleport.spanner.common.Type.Code\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/common/Type.java:[220,31] cannot find symbol\n[ERROR]   symbol:   class TypeCode\n[ERROR]   location: class com.google.cloud.teleport.spanner.common.Type.Code\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ddl/InformationSchemaScanner.java:[21,54] package com.google.cloud.teleport.spanner.ExportProtos does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextRowToMutation.java:[21,73] package com.google.cloud.teleport.spanner.TextImportProtos.ImportManifest does not exist  \n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextRowToMutation.java:[56,63] package TableManifest does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextRowToMutation.java:[69,53] package TableManifest does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/TextRowToMutation.java:[138,25] package TableManifest does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[21,54] package com.google.cloud.teleport.spanner.ExportProtos does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[22,54] package com.google.cloud.teleport.spanner.ExportProtos does not exist\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[267,86] cannot find symbol\n[ERROR]   symbol:   class Export\n[ERROR]   location: class com.google.cloud.teleport.spanner.ImportTransform\n[ERROR] /C:/Users/MYPC/Documents/Dataflow repo/DataflowTemplates-main/DataflowTemplates-main/src/main/java/com/google/cloud/teleport/spanner/ImportTransform.java:[276,24] cannot find symbol\n[ERROR]   symbol:   class Export\n[ERROR]   location: class com.google.cloud.teleport.spanner.ImportTransform.ReadExportManifestFile\n</code></pre>\n<p>...</p>\n"},{"tags":["java","web-services","soap"],"comments":[{"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"score":2,"creation_date":1543587760,"post_id":53559255,"comment_id":93984088,"body_markdown":"No code and no input data, not much to work with here.","body":"No code and no input data, not much to work with here."},{"owner":{"account_id":2872193,"reputation":3005,"user_id":7263027,"display_name":"taygetos"},"score":2,"creation_date":1543587860,"post_id":53559255,"comment_id":93984148,"body_markdown":"I am betting that the response is not an XML, but something like &quot;Not available&quot; . You should add some details.","body":"I am betting that the response is not an XML, but something like &quot;Not available&quot; . You should add some details."},{"owner":{"account_id":5524490,"reputation":529,"user_id":4386403,"accept_rate":38,"display_name":"Rajeev"},"score":0,"creation_date":1543914079,"post_id":53559255,"comment_id":94079409,"body_markdown":"thanks @JoakimDanielson for your comments, my issue has been resolved, i was using wrong end point","body":"thanks @JoakimDanielson for your comments, my issue has been resolved, i was using wrong end point"},{"owner":{"account_id":5524490,"reputation":529,"user_id":4386403,"accept_rate":38,"display_name":"Rajeev"},"score":0,"creation_date":1543914111,"post_id":53559255,"comment_id":94079422,"body_markdown":"thanks @Peter for your comments, my issue has been resolved, i was using wrong end point","body":"thanks @Peter for your comments, my issue has been resolved, i was using wrong end point"}],"answers":[{"tags":[],"owner":{"account_id":1535921,"reputation":3060,"user_id":1431979,"display_name":"Pierre C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651007624,"creation_date":1651007624,"answer_id":72020599,"question_id":53559255,"body_markdown":"In my case, the error was due because I changed the SOAP endpoint to a server like [putsreq.com][1] which echoes the incoming requests.\r\n\r\nSince its response to my xml was `Hello Word` instead of a valid XML, Apache CXF complained with the error :\r\n\r\n`Error reading XMLStreamReader: Unexpected character &#39;H&#39; (code 72) in prolog; expected &#39;&lt;&#39;`\r\n\r\n\r\n  [1]: https://putsreq.com","title":"Error reading XMLStreamReader: Unexpected character &#39;N&#39; (code 78) in prolog; expected &#39;&lt;&#39;","body":"<p>In my case, the error was due because I changed the SOAP endpoint to a server like <a href=\"https://putsreq.com\" rel=\"nofollow noreferrer\">putsreq.com</a> which echoes the incoming requests.</p>\n<p>Since its response to my xml was <code>Hello Word</code> instead of a valid XML, Apache CXF complained with the error :</p>\n<p><code>Error reading XMLStreamReader: Unexpected character 'H' (code 72) in prolog; expected '&lt;'</code></p>\n"}],"owner":{"account_id":5524490,"reputation":529,"user_id":4386403,"accept_rate":38,"display_name":"Rajeev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651007624,"creation_date":1543587432,"question_id":53559255,"body_markdown":"I am getting WstxUnexpectedCharException when hitting a soap service.\r\nMy code is generating the request, that request is looking fine, and when same request i am using in SOAP UI, it is giving proper response.\r\n\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    org.apache.cxf.binding.soap.SoapFault: Error reading XMLStreamReader: Unexpected character &#39;N&#39; (code 78) in prolog; expected &#39;&lt;&#39;\r\n     at [row,col {unknown-source}]: [1,1]\r\n    \tat org.apache.cxf.binding.soap.interceptor.ReadHeadersInterceptor.handleMessage(ReadHeadersInterceptor.java:293) ~[cxf-rt-bindings-soap-3.1.11.jar:3.1.11]\r\n    \tat org.apache.cxf.binding.soap.interceptor.ReadHeadersInterceptor.handleMessage(ReadHeadersInterceptor.java:70) ~[cxf-rt-bindings-soap-3.1.11.jar:3.1.11]\r\n    \tat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308) [cxf-core-3.1.11.jar:3.1.11]\r\n    \tat org.apache.cxf.endpoint.ClientImpl.onMessage(ClientImpl.java:801) [cxf-core-3.1.11.jar:3.1.11]\r\n    \tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1680) [cxf-rt-transports-http-3.1.11.jar:3.1.11]\r\n    \tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1559) [cxf-rt-transports-http-3.1.11.jar:3.1.11]\r\n    \tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1356) [cxf-rt-transports-http-3.1.11.jar:3.1.11]\r\n    \tat org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56) [cxf-core-3.1.11.jar:3.1.11]\r\n    \tat org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:653) [cxf-rt-transports-http-3.1.11.jar:3.1.11]\r\n    \tat org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62) [cxf-core-3.1.11.jar:3.1.11]\r\n    \tat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308) [cxf-core-3.1.11.jar:3.1.11]\r\n    \tat org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:514) [cxf-core-3.1.11.jar:3.1.11]\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:423) [cxf-core-3.1.11.jar:3.1.11]\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:324) [cxf-core-3.1.11.jar:3.1.11]\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:277) [cxf-core-3.1.11.jar:3.1.11]\r\n    \tat org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96) [cxf-rt-frontend-simple-3.1.11.jar:3.1.11]\r\n    \tat org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:139) [cxf-rt-frontend-jaxws-3.1.11.jar:3.1.11]\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Error reading XMLStreamReader: Unexpected character &#39;N&#39; (code 78) in prolog; expected &#39;&lt;&#39;","body":"<p>I am getting WstxUnexpectedCharException when hitting a soap service.\nMy code is generating the request, that request is looking fine, and when same request i am using in SOAP UI, it is giving proper response.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>org.apache.cxf.binding.soap.SoapFault: Error reading XMLStreamReader: Unexpected character 'N' (code 78) in prolog; expected '&lt;'\n at [row,col {unknown-source}]: [1,1]\n    at org.apache.cxf.binding.soap.interceptor.ReadHeadersInterceptor.handleMessage(ReadHeadersInterceptor.java:293) ~[cxf-rt-bindings-soap-3.1.11.jar:3.1.11]\n    at org.apache.cxf.binding.soap.interceptor.ReadHeadersInterceptor.handleMessage(ReadHeadersInterceptor.java:70) ~[cxf-rt-bindings-soap-3.1.11.jar:3.1.11]\n    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308) [cxf-core-3.1.11.jar:3.1.11]\n    at org.apache.cxf.endpoint.ClientImpl.onMessage(ClientImpl.java:801) [cxf-core-3.1.11.jar:3.1.11]\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1680) [cxf-rt-transports-http-3.1.11.jar:3.1.11]\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1559) [cxf-rt-transports-http-3.1.11.jar:3.1.11]\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1356) [cxf-rt-transports-http-3.1.11.jar:3.1.11]\n    at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56) [cxf-core-3.1.11.jar:3.1.11]\n    at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:653) [cxf-rt-transports-http-3.1.11.jar:3.1.11]\n    at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62) [cxf-core-3.1.11.jar:3.1.11]\n    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308) [cxf-core-3.1.11.jar:3.1.11]\n    at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:514) [cxf-core-3.1.11.jar:3.1.11]\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:423) [cxf-core-3.1.11.jar:3.1.11]\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:324) [cxf-core-3.1.11.jar:3.1.11]\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:277) [cxf-core-3.1.11.jar:3.1.11]\n    at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96) [cxf-rt-frontend-simple-3.1.11.jar:3.1.11]\n    at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:139) [cxf-rt-frontend-jaxws-3.1.11.jar:3.1.11]\n</code></pre>\n\n\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":23256531,"reputation":580,"user_id":17343501,"display_name":"AhmedSHA256"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650971038,"creation_date":1650971038,"answer_id":72012840,"question_id":72012589,"body_markdown":"Do you have each condition in a separate **if**?\r\nIf you do, it will evaluate every condition by separate, and will change your character stats. In order to do what you want, you have to next conditions like this:\r\n\r\n    if(perfect) {\r\n      do somehting;\r\n    } else if(prime) {\r\n      do something;\r\n    } else if(even and sum of digits...) {\r\n      do something;\r\n    } else {\r\n      do something if nothing matches criteria;\r\n    }","title":"I have 3 different algorithms for a specific number and I don&#39;t know how to make them work properly","body":"<p>Do you have each condition in a separate <strong>if</strong>?\nIf you do, it will evaluate every condition by separate, and will change your character stats. In order to do what you want, you have to next conditions like this:</p>\n<pre><code>if(perfect) {\n  do somehting;\n} else if(prime) {\n  do something;\n} else if(even and sum of digits...) {\n  do something;\n} else {\n  do something if nothing matches criteria;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24952138,"reputation":1,"user_id":18816816,"display_name":"cytreK Steam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651007465,"creation_date":1650980786,"answer_id":72015094,"question_id":72012589,"body_markdown":"I&#39;ve managed to resolve my problem:\r\n\r\n    public static boolean isPerfect(int artifactCode) {\r\n            int sum = 0;\r\n            for (int i = 1; i &lt;= artifactCode / 2; i++) {\r\n                if (artifactCode % i == 0) {\r\n                    sum += i;\r\n                }\r\n            }\r\n            if (sum == artifactCode) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        public static boolean isPrime(int artifactCode) {\r\n    \r\n            for (int i = 2; i &lt;= artifactCode / 2; i++) {\r\n                if (artifactCode % i == 0)\r\n                    return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        public static boolean sumOfDigits(int artifactCode) {\r\n            int sum = 0;\r\n            int lastDigit = 0;\r\n            while (artifactCode &gt; 0) {\r\n                lastDigit = artifactCode % 10;\r\n                sum = sum + lastDigit;\r\n                artifactCode /= 10;\r\n            }\r\n            if (sum % 3 == 0) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        public void findArtifact(int artifactCode) {\r\n            if (isPerfect(artifactCode)){\r\n                this.score += 5000;\r\n                this.lives += 1;\r\n                this.health = 100;\r\n            } else if (isPrime(artifactCode)) {\r\n                this.score += 1000;\r\n                this.lives += 2;\r\n                this.health += 25;\r\n            } else if (sumOfDigits(artifactCode) &amp;&amp; artifactCode % 2 == 0) {\r\n                this.score -= 3000;\r\n                this.health -= 25;\r\n            } else {\r\n                this.score = artifactCode;\r\n            }\r\n    \r\n        }\r\n\r\n","title":"I have 3 different algorithms for a specific number and I don&#39;t know how to make them work properly","body":"<p>I've managed to resolve my problem:</p>\n<pre><code>public static boolean isPerfect(int artifactCode) {\n        int sum = 0;\n        for (int i = 1; i &lt;= artifactCode / 2; i++) {\n            if (artifactCode % i == 0) {\n                sum += i;\n            }\n        }\n        if (sum == artifactCode) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    public static boolean isPrime(int artifactCode) {\n\n        for (int i = 2; i &lt;= artifactCode / 2; i++) {\n            if (artifactCode % i == 0)\n                return false;\n        }\n        return true;\n    }\n\n    public static boolean sumOfDigits(int artifactCode) {\n        int sum = 0;\n        int lastDigit = 0;\n        while (artifactCode &gt; 0) {\n            lastDigit = artifactCode % 10;\n            sum = sum + lastDigit;\n            artifactCode /= 10;\n        }\n        if (sum % 3 == 0) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    public void findArtifact(int artifactCode) {\n        if (isPerfect(artifactCode)){\n            this.score += 5000;\n            this.lives += 1;\n            this.health = 100;\n        } else if (isPrime(artifactCode)) {\n            this.score += 1000;\n            this.lives += 2;\n            this.health += 25;\n        } else if (sumOfDigits(artifactCode) &amp;&amp; artifactCode % 2 == 0) {\n            this.score -= 3000;\n            this.health -= 25;\n        } else {\n            this.score = artifactCode;\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":24952138,"reputation":1,"user_id":18816816,"display_name":"cytreK Steam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651007465,"creation_date":1650969821,"question_id":72012589,"body_markdown":"I am taking a Java course and they give us a project to make. I am struggling with some requirements and I am trying to understand them. \r\n\r\n&gt; findTreause (int treasureCode): the method will update the player&#39;s status according to the treasure found, as follows:\r\n&gt;\r\n&gt; if treasureCode is the perfect number:  \r\n&gt; score increases by 5000 points  \r\n&gt; lives increases by 1 life  \r\n&gt; health becomes 100.\r\n&gt;\r\n&gt; if treasureCode is a prime number:  \r\n&gt; score increases by 1000 points  \r\n&gt; lives increases by 2 lives  \r\n&gt; health increases by 25, but cannot exceed 100\r\n&gt;\r\n&gt; if treasureCode is an even number and the sum of its digits is divisible by 3 then that object is a trap. Therefore, the player&#39;s situation changes as follows:  \r\n&gt; score decreases by 3000 points  \r\n&gt; health decreases by 25.\r\n&gt;\r\n&gt; if health reaches 0, then lives will be decremented by 1 and health reset to 100 any other numbers do not show &quot;magic powers&quot;, therefore the only status update is:  \r\n&gt; score will be incremented by treasureCode\r\n&gt;\r\n&gt; Note: the previous criteria will be tested one by one (i.e. in the given order) and the status will be updated according to the first validated condition. For example: if one treasureCode is both a &quot;perfect number&quot; and an &quot;even number with the sum of digits divisible by 3&quot;, the status will be updated according to &quot;perfect number&quot; because this criterion precedes the other.\r\n\r\nI&#39;ve made the perfect and prime number algorithms, but for example when I enter number 6 which is a perfect number, it increases for prime number too.\r\n\r\n```java\r\npackage game;\r\n\r\npublic class PlayerStatus {\r\n    \r\n    public void findArtifact(int artifactCode) {\r\n        int sum = 1;\r\n        for (int i = 2; i &lt; artifactCode; i++) {\r\n            if (artifactCode % i == 0) {\r\n                sum += i;\r\n            }\r\n        }\r\n        if (sum == artifactCode) {\r\n            this.score += 5000;\r\n            this.lives += 1;\r\n            this.health = 100;\r\n        }\r\n        for (int i = 2; i &lt; artifactCode / 2; i++) {\r\n            if (artifactCode % i == 0) {\r\n                break;\r\n            }\r\n        }\r\n        this.score += 1000;\r\n        this.lives += 2;\r\n        this.health += 25;\r\n     }\r\n\r\npackage game;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n    PlayerStatus player1 = new PlayerStatus();\r\n        player1.findArtifact(6);\r\n        System.out.println(player1.getScore());\r\n        System.out.println(player1.getLives());\r\n        System.out.println(player1.getHealth());\r\n```\r\n\r\nThis is the output:\r\n\r\n - 6000\r\n- 3 \r\n- 125\r\n\r\nI know it&#39;s easy, but I have a mental breakdown. Can someone explain what I have to do?","title":"I have 3 different algorithms for a specific number and I don&#39;t know how to make them work properly","body":"<p>I am taking a Java course and they give us a project to make. I am struggling with some requirements and I am trying to understand them.</p>\n<blockquote>\n<p>findTreause (int treasureCode): the method will update the player's status according to the treasure found, as follows:</p>\n<p>if treasureCode is the perfect number:<br />\nscore increases by 5000 points<br />\nlives increases by 1 life<br />\nhealth becomes 100.</p>\n<p>if treasureCode is a prime number:<br />\nscore increases by 1000 points<br />\nlives increases by 2 lives<br />\nhealth increases by 25, but cannot exceed 100</p>\n<p>if treasureCode is an even number and the sum of its digits is divisible by 3 then that object is a trap. Therefore, the player's situation changes as follows:<br />\nscore decreases by 3000 points<br />\nhealth decreases by 25.</p>\n<p>if health reaches 0, then lives will be decremented by 1 and health reset to 100 any other numbers do not show &quot;magic powers&quot;, therefore the only status update is:<br />\nscore will be incremented by treasureCode</p>\n<p>Note: the previous criteria will be tested one by one (i.e. in the given order) and the status will be updated according to the first validated condition. For example: if one treasureCode is both a &quot;perfect number&quot; and an &quot;even number with the sum of digits divisible by 3&quot;, the status will be updated according to &quot;perfect number&quot; because this criterion precedes the other.</p>\n</blockquote>\n<p>I've made the perfect and prime number algorithms, but for example when I enter number 6 which is a perfect number, it increases for prime number too.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package game;\n\npublic class PlayerStatus {\n    \n    public void findArtifact(int artifactCode) {\n        int sum = 1;\n        for (int i = 2; i &lt; artifactCode; i++) {\n            if (artifactCode % i == 0) {\n                sum += i;\n            }\n        }\n        if (sum == artifactCode) {\n            this.score += 5000;\n            this.lives += 1;\n            this.health = 100;\n        }\n        for (int i = 2; i &lt; artifactCode / 2; i++) {\n            if (artifactCode % i == 0) {\n                break;\n            }\n        }\n        this.score += 1000;\n        this.lives += 2;\n        this.health += 25;\n     }\n\npackage game;\n\npublic class Main {\n\n    public static void main(String[] args) {\n    PlayerStatus player1 = new PlayerStatus();\n        player1.findArtifact(6);\n        System.out.println(player1.getScore());\n        System.out.println(player1.getLives());\n        System.out.println(player1.getHealth());\n</code></pre>\n<p>This is the output:</p>\n<ul>\n<li>6000</li>\n<li>3</li>\n<li>125</li>\n</ul>\n<p>I know it's easy, but I have a mental breakdown. Can someone explain what I have to do?</p>\n"},{"tags":["java","amazon-web-services","gradle","aws-lambda","aws-java-sdk"],"comments":[{"owner":{"account_id":3352154,"reputation":206,"user_id":2815984,"display_name":"Roopesh Payyanath"},"score":0,"creation_date":1650980838,"post_id":71957055,"comment_id":127258467,"body_markdown":"Have you looked at using gradle-aws-plugin\nhttps://github.com/classmethod/gradle-aws-plugin","body":"Have you looked at using gradle-aws-plugin <a href=\"https://github.com/classmethod/gradle-aws-plugin\" rel=\"nofollow noreferrer\">github.com/classmethod/gradle-aws-plugin</a>"},{"owner":{"account_id":3838375,"reputation":10942,"user_id":3182188,"accept_rate":75,"display_name":"Raniz"},"score":0,"creation_date":1651130694,"post_id":71957055,"comment_id":127290984,"body_markdown":"Is the `com.abc.gradle.aws.lambda.deployment` an internal plugin developed by you? My guess is that the issue is in the code that&#39;s supposed to update the function. Can you post the code responsible for updating the lambda function in the plugin?","body":"Is the <code>com.abc.gradle.aws.lambda.deployment</code> an internal plugin developed by you? My guess is that the issue is in the code that&#39;s supposed to update the function. Can you post the code responsible for updating the lambda function in the plugin?"},{"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1651259064,"post_id":71957055,"comment_id":127330234,"body_markdown":"I believe this may be an IAM issue - do your credentials have the `ListTags`, `TagResources` &amp; `UntagResources` IAM permissions? If not, add them in and try again. Does that work?","body":"I believe this may be an IAM issue - do your credentials have the <code>ListTags</code>, <code>TagResources</code> &amp; <code>UntagResources</code> IAM permissions? If not, add them in and try again. Does that work?"},{"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1651354520,"post_id":71957055,"comment_id":127346347,"body_markdown":"Im pretty confident it is an IAM issue","body":"Im pretty confident it is an IAM issue"},{"owner":{"account_id":84644,"reputation":66598,"user_id":236465,"display_name":"Diego Torres Milano"},"score":0,"creation_date":1651368851,"post_id":71957055,"comment_id":127348093,"body_markdown":"A **nodejs** AWS Lambda but your update says `runtime = &#39;python3.7&#39;` ?","body":"A <b>nodejs</b> AWS Lambda but your update says <code>runtime = &#39;python3.7&#39;</code> ?"}],"owner":{"account_id":17029884,"reputation":718,"user_id":12320257,"display_name":"Faisal Shani"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1651007425,"creation_date":1650554876,"question_id":71957055,"body_markdown":"I have a lambda function that is written in nodejs (using AWS nodejs SDK) and we are using gradle (build.gradle) to package and deploy that to AWS.\r\n\r\nDeployment is working fine but when I am trying to update tags on this Lambda and redeploying then the new tags are not being applied to that function.\r\n\r\nSo if I am deploying Lambda using build.gradle first time with TAG A then its working fine (By first time I mean when I am creating a new Lambda) and tag is being applied and I can see that on AWS Console. But when I am re-deploying it again by adding another tag &quot;TAG B&quot; then the new tag is not being applied and it is not updating the existing Lambda tags. Any idea or suggestion what I am doing wrong? Thanks\r\n\r\nBelow is the section of build.gradle file where I am applying the tags for Lambda.\r\n\r\n    createOrUpdateFunction {\r\n        handler = &#39;index.handler&#39;\r\n        role = cfo.DataDigestContentSearchLambdaIamRoleArn\r\n        runtime = &#39;python3.7&#39;\r\n        timeout = 10\r\n        tags = [\r\n            tagA: &#39;data-team&#39;,\r\n            tagB: &#39;someValue&#39;\r\n        ]\r\n\r\nHere is the complete build.gradle file\r\n\r\n    import com.amazonaws.services.lambda.model.TagResourceRequest\r\n    \r\n    apply plugin: &#39;com.abc.gradle.nodejs.yarn&#39;\r\n    apply plugin: &#39;com.abc.gradle.aws.lambda.deployment&#39;\r\n    \r\n    apply from: rootProject.file(&#39;gradle/yarn-webpacked-lambda.gradle&#39;)\r\n    \r\n    nodejs {\r\n        packaging {\r\n            name = &#39;@abc/data-fulfillment-facebook-lambda&#39;\r\n    \r\n            dependency project(&#39;:core:js&#39;)\r\n            dependency project(&#39;:platforms:facebook:js:core&#39;)\r\n            dependency &#39;@abc/data-ingest-api&#39;, abc_INGEST_SEMVER\r\n            dependency &#39;@abc/data-ingest-core&#39;, abc_INGEST_SEMVER\r\n            dependency &#39;aws-sdk&#39;, AWS_SEMVER\r\n        }\r\n    }\r\n    \r\n    webpackPackageJson.dependencies &lt;&lt; [&#39;fb&#39;: FB_SEMVER]\r\n    \r\n    lambdaRepository {\r\n        artifactName = &#39;data-fulfillment-facebook&#39;\r\n    }\r\n    \r\n    lambda {\r\n        functionName = &quot;${config.aws.target.envPrefix}-${lambdaRepository.artifactName}&quot;\r\n    }\r\n    \r\n    def cfo = cloudformation.outputs as Map&lt;String, String&gt;\r\n    \r\n    createOrUpdateFunction {\r\n        handler = &#39;index.handler&#39;\r\n        role = cfo.DataFulfillmentFacebookLambdaIamRoleArn\r\n        runtime = &#39;nodejs12.x&#39;\r\n        memorySize = 256\r\n        timeout = 30\r\n        tags = [\r\n            team: &#39;data-team&#39;,\r\n            name: &#39;someName&#39;\r\n        ]\r\n        environmentAsMap &lt;&lt; [\r\n            FACEBOOK_LEDGER_TABLE_NAME: cfo.DataFulfillmentLedgerTableName,\r\n            INSTAGRAM_DISCOVERY_TOKEN_SECRET: cfo.DataFulfillmentInstagramDiscoveryTokenSecretName\r\n        ]\r\n    }\r\n    \r\n    task registerTaskProcessor(type: RegisterTaskProcessorTask) {\r\n        client &#39;target&#39;\r\n        tableName = cfo.DataFulfillmentTaskProcessorRegistryV2TableName\r\n        entryName = &#39;facebook&#39;\r\n        rules &lt;&lt; [regex: [&#39;^facebook&#39;, [var: &#39;task.type&#39;]]]\r\n        type = &#39;lambda-dispatch&#39;\r\n        params &lt;&lt; [functionName: lambda.functionName, qualifier: &#39;live&#39;]\r\n    }\r\n\r\n\r\n","title":"How to tag a lambda in build.gradle file AWS Java sdk","body":"<p>I have a lambda function that is written in nodejs (using AWS nodejs SDK) and we are using gradle (build.gradle) to package and deploy that to AWS.</p>\n<p>Deployment is working fine but when I am trying to update tags on this Lambda and redeploying then the new tags are not being applied to that function.</p>\n<p>So if I am deploying Lambda using build.gradle first time with TAG A then its working fine (By first time I mean when I am creating a new Lambda) and tag is being applied and I can see that on AWS Console. But when I am re-deploying it again by adding another tag &quot;TAG B&quot; then the new tag is not being applied and it is not updating the existing Lambda tags. Any idea or suggestion what I am doing wrong? Thanks</p>\n<p>Below is the section of build.gradle file where I am applying the tags for Lambda.</p>\n<pre><code>createOrUpdateFunction {\n    handler = 'index.handler'\n    role = cfo.DataDigestContentSearchLambdaIamRoleArn\n    runtime = 'python3.7'\n    timeout = 10\n    tags = [\n        tagA: 'data-team',\n        tagB: 'someValue'\n    ]\n</code></pre>\n<p>Here is the complete build.gradle file</p>\n<pre><code>import com.amazonaws.services.lambda.model.TagResourceRequest\n\napply plugin: 'com.abc.gradle.nodejs.yarn'\napply plugin: 'com.abc.gradle.aws.lambda.deployment'\n\napply from: rootProject.file('gradle/yarn-webpacked-lambda.gradle')\n\nnodejs {\n    packaging {\n        name = '@abc/data-fulfillment-facebook-lambda'\n\n        dependency project(':core:js')\n        dependency project(':platforms:facebook:js:core')\n        dependency '@abc/data-ingest-api', abc_INGEST_SEMVER\n        dependency '@abc/data-ingest-core', abc_INGEST_SEMVER\n        dependency 'aws-sdk', AWS_SEMVER\n    }\n}\n\nwebpackPackageJson.dependencies &lt;&lt; ['fb': FB_SEMVER]\n\nlambdaRepository {\n    artifactName = 'data-fulfillment-facebook'\n}\n\nlambda {\n    functionName = &quot;${config.aws.target.envPrefix}-${lambdaRepository.artifactName}&quot;\n}\n\ndef cfo = cloudformation.outputs as Map&lt;String, String&gt;\n\ncreateOrUpdateFunction {\n    handler = 'index.handler'\n    role = cfo.DataFulfillmentFacebookLambdaIamRoleArn\n    runtime = 'nodejs12.x'\n    memorySize = 256\n    timeout = 30\n    tags = [\n        team: 'data-team',\n        name: 'someName'\n    ]\n    environmentAsMap &lt;&lt; [\n        FACEBOOK_LEDGER_TABLE_NAME: cfo.DataFulfillmentLedgerTableName,\n        INSTAGRAM_DISCOVERY_TOKEN_SECRET: cfo.DataFulfillmentInstagramDiscoveryTokenSecretName\n    ]\n}\n\ntask registerTaskProcessor(type: RegisterTaskProcessorTask) {\n    client 'target'\n    tableName = cfo.DataFulfillmentTaskProcessorRegistryV2TableName\n    entryName = 'facebook'\n    rules &lt;&lt; [regex: ['^facebook', [var: 'task.type']]]\n    type = 'lambda-dispatch'\n    params &lt;&lt; [functionName: lambda.functionName, qualifier: 'live']\n}\n</code></pre>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"score":0,"creation_date":1546619172,"post_id":54042608,"comment_id":94920748,"body_markdown":"Could you provide more lines of your codes? Is there a dependency of `Example ` which is of type `PreparedStatement`? If not the `@Mock\n   private PreparedStatement preStmt;` is not needed","body":"Could you provide more lines of your codes? Is there a dependency of <code>Example </code> which is of type <code>PreparedStatement</code>? If not the <code>@Mock    private PreparedStatement preStmt;</code> is not needed"},{"owner":{"account_id":14985146,"reputation":253,"user_id":10817920,"display_name":"opai"},"score":0,"creation_date":1546620138,"post_id":54042608,"comment_id":94921258,"body_markdown":"Thank you for your response. prepared statement is a local variable in both the methods i.e in method1 and method2 in Example.  Then, how to mock the prepared statement? I am new to Junit and mockito. Please advice.","body":"Thank you for your response. prepared statement is a local variable in both the methods i.e in method1 and method2 in Example.  Then, how to mock the prepared statement? I am new to Junit and mockito. Please advice."},{"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"score":0,"creation_date":1546620311,"post_id":54042608,"comment_id":94921340,"body_markdown":"Now that we have enough info, you have to stub the method that create the `PreparedStatement`, as written in [davidxxx&#39;s answer](https://stackoverflow.com/a/54042832/7424948)","body":"Now that we have enough info, you have to stub the method that create the <code>PreparedStatement</code>, as written in <a href=\"https://stackoverflow.com/a/54042832/7424948\">davidxxx&#39;s answer</a>"},{"owner":{"account_id":1019340,"reputation":11599,"user_id":1030168,"accept_rate":87,"display_name":"Robbo_UK"},"score":0,"creation_date":1546621315,"post_id":54042608,"comment_id":94921801,"body_markdown":"It would help with readability if you had chosen names other than testMethod1 and Example.  Give these classes real names.  Example could been EmployeeSearchClass . and method1 could be findAllEmplyees.","body":"It would help with readability if you had chosen names other than testMethod1 and Example.  Give these classes real names.  Example could been EmployeeSearchClass . and method1 could be findAllEmplyees."}],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1546675619,"creation_date":1546619663,"answer_id":54042832,"question_id":54042608,"body_markdown":"To be able to mock the `ResultSet` you should mock all objects that allow to create it that is `Connection` that creates the `PreparedStatement`, that itself creates the `ResultSet`.\r\nMocking the Connection will work in the tested code only if you provide a way to set the connection from the client code.  \r\n\r\nHere `conn` that is the Connection should be first injected as a dependency in your test fixture :\r\n\r\n    pstmt = conn.prepareStatement(strQuery.toString());\r\n\r\nGenerally you create a `Connection` such as :\r\n\r\n    conn = DriverManager.getConnection(DB_URL,USER,PASS);\r\n\r\nor via a `DataSource` such as : \r\n\r\n    conn = ds.getConnection();\r\n\r\n\r\nSo you should abstract this part into an interface or a not final class and define an implementation that do this processing.\r\nIn this way you can mock the part that creates a Connection. And so you can mock the whole chain : Connection-PreparedStatement-ResultSet.  \r\n\r\n\r\n----------\r\n\r\n\r\nPersonally I would avoid this way because mocking too many things is often not the right choice.  \r\nIn your case, what you need is mocking the ResultSet to test the post processing after loading the ResultSet : \r\n\r\n    while(rs.next()) { \r\n         ilCounter++;\r\n         ObjVoBean voObj = new ObjVoBean();\r\n         voObj.setLoc(rs.getString(1));\r\n         voObj.setDept(rs.getString(2));\r\n         voObj.setDeptDesc(rs.getString(3));\r\n    }\r\n\r\nSo as alternative you could move all code performed before in a method of specific class handling the persistence part. In this way you just need to mock this dependency and this method. You don&#39;t need to worry about Connection and any JDBC detail.  \r\n\r\n    EmployeeDAO employeeDAO; // dependency to mock\r\n\r\n    // constructor with dependency\r\n    public Example(EmployeeDAO employeeDAO){\r\n      this.employeeDAO = employeeDAO;\r\n    }\r\n\r\n    private Employee method1(String str) {\r\n       ResultSet resultSet = employeeDAO.load(str);\r\n\r\n        if(null != rs) {            \r\n            while(rs.next()) { \r\n                ilCounter++;\r\n                ObjVoBean voObj = new ObjVoBean();\r\n                voObj.setLoc(rs.getString(1));\r\n                voObj.setDept(rs.getString(2));\r\n                voObj.setDeptDesc(rs.getString(3));\r\n            }\r\n            .................\r\n        }\r\n       }\r\n\r\nOf couse the DAO components also have to be unitary tested.     \r\nBu as said earlier, asserting that a `Connection` is created or that it returns a `PreparedStatement` does not bring value. While testing that your queries perform what you expect from them is much more interesting in terms of functional coverage.   \r\nIn this case, you want to test it against an in-memory DB such as H2 because unit tests are not integration tests and unit tests have to be fast executed.   \r\nTo write DAO/Repository tests, [Dbunit][1] and [DbSetup][2] are good candidates because they provide facilities to setup the DB before each test (mainly injecting data and clearing data).    \r\n\r\n\r\n  [1]: http://dbunit.sourceforge.net/\r\n  [2]: http://dbsetup.ninja-squad.com/index.html","title":"Mock ResultSet with Mockito","body":"<p>To be able to mock the <code>ResultSet</code> you should mock all objects that allow to create it that is <code>Connection</code> that creates the <code>PreparedStatement</code>, that itself creates the <code>ResultSet</code>.\nMocking the Connection will work in the tested code only if you provide a way to set the connection from the client code.  </p>\n\n<p>Here <code>conn</code> that is the Connection should be first injected as a dependency in your test fixture :</p>\n\n<pre><code>pstmt = conn.prepareStatement(strQuery.toString());\n</code></pre>\n\n<p>Generally you create a <code>Connection</code> such as :</p>\n\n<pre><code>conn = DriverManager.getConnection(DB_URL,USER,PASS);\n</code></pre>\n\n<p>or via a <code>DataSource</code> such as : </p>\n\n<pre><code>conn = ds.getConnection();\n</code></pre>\n\n<p>So you should abstract this part into an interface or a not final class and define an implementation that do this processing.\nIn this way you can mock the part that creates a Connection. And so you can mock the whole chain : Connection-PreparedStatement-ResultSet.  </p>\n\n<hr>\n\n<p>Personally I would avoid this way because mocking too many things is often not the right choice.<br>\nIn your case, what you need is mocking the ResultSet to test the post processing after loading the ResultSet : </p>\n\n<pre><code>while(rs.next()) { \n     ilCounter++;\n     ObjVoBean voObj = new ObjVoBean();\n     voObj.setLoc(rs.getString(1));\n     voObj.setDept(rs.getString(2));\n     voObj.setDeptDesc(rs.getString(3));\n}\n</code></pre>\n\n<p>So as alternative you could move all code performed before in a method of specific class handling the persistence part. In this way you just need to mock this dependency and this method. You don't need to worry about Connection and any JDBC detail.  </p>\n\n<pre><code>EmployeeDAO employeeDAO; // dependency to mock\n\n// constructor with dependency\npublic Example(EmployeeDAO employeeDAO){\n  this.employeeDAO = employeeDAO;\n}\n\nprivate Employee method1(String str) {\n   ResultSet resultSet = employeeDAO.load(str);\n\n    if(null != rs) {            \n        while(rs.next()) { \n            ilCounter++;\n            ObjVoBean voObj = new ObjVoBean();\n            voObj.setLoc(rs.getString(1));\n            voObj.setDept(rs.getString(2));\n            voObj.setDeptDesc(rs.getString(3));\n        }\n        .................\n    }\n   }\n</code></pre>\n\n<p>Of couse the DAO components also have to be unitary tested.<br>\nBu as said earlier, asserting that a <code>Connection</code> is created or that it returns a <code>PreparedStatement</code> does not bring value. While testing that your queries perform what you expect from them is much more interesting in terms of functional coverage.<br>\nIn this case, you want to test it against an in-memory DB such as H2 because unit tests are not integration tests and unit tests have to be fast executed.<br>\nTo write DAO/Repository tests, <a href=\"http://dbunit.sourceforge.net/\" rel=\"nofollow noreferrer\">Dbunit</a> and <a href=\"http://dbsetup.ninja-squad.com/index.html\" rel=\"nofollow noreferrer\">DbSetup</a> are good candidates because they provide facilities to setup the DB before each test (mainly injecting data and clearing data).    </p>\n"},{"tags":[],"owner":{"account_id":21442751,"reputation":9,"user_id":15796955,"display_name":"Manav Patel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1619734211,"creation_date":1619734211,"answer_id":67325706,"question_id":54042608,"body_markdown":"This is a mock Result Set I ripped off of GitHub\r\n\r\n```\r\n/*\r\n* Distributed under the terms of the MIT License.\r\n* Copyright (c) 2009, Marcelo Criscuolo.\r\n*/\r\n\r\npackage commondb.mock;\r\n\r\nimport java.io.InputStream;\r\nimport java.io.Reader;\r\nimport java.io.StringReader;\r\nimport java.math.BigDecimal;\r\nimport java.net.URL;\r\nimport java.sql.Array;\r\nimport java.sql.Blob;\r\nimport java.sql.Clob;\r\nimport java.sql.Date;\r\nimport java.sql.NClob;\r\nimport java.sql.Ref;\r\nimport java.sql.ResultSet;\r\nimport java.sql.ResultSetMetaData;\r\nimport java.sql.RowId;\r\nimport java.sql.SQLException;\r\nimport java.sql.SQLWarning;\r\nimport java.sql.SQLXML;\r\nimport java.sql.Statement;\r\nimport java.sql.Time;\r\nimport java.sql.Timestamp;\r\nimport java.text.DateFormat;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Calendar;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Scanner;\r\n\r\nimport org.apache.commons.lang.StringUtils;\r\n\r\n\r\npublic class MockResultSet implements ResultSet {\r\n\tstatic final String INVALID_COLUMN_NAME = &quot;invalid column name&quot;;\r\n\tstatic final String INVALID_COLUMN_INDEX = &quot;invalid column index&quot;;\r\n        static final DateFormat DATE_ISO_8601 = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\tprivate List&lt;String[]&gt; rowset = new ArrayList&lt;String[]&gt;();\r\n\tprivate int cursor = -1;\r\n\tprivate Map&lt;String, Integer&gt; columnMap = new HashMap&lt;String, Integer&gt;();\r\n\tprivate CSVLineSplitter splitter = new CSVLineSplitter();\r\n\r\n\tpublic MockResultSet() {\r\n\t}\r\n\r\n\t/**\r\n\t * ResultSet rs = new MockResultSet(\r\n\t *     &quot;ID,NAME,CITY&quot;,\r\n\t *     &quot;3,John,New York&quot;,\r\n\t *     &quot;4,Bill,Sydney&quot;\r\n\t * );\r\n\t *\r\n\t * @param str headers and rows that form the CSV data\r\n\t */\r\n\tpublic MockResultSet(String... str) throws SQLException {\r\n\t\tloadCSV(new StringReader(StringUtils.join(str, &quot;\\n&quot;)));\r\n\t}\r\n\t\r\n\t/**\r\n\t * @param in source from where the CSV data will be read\r\n\t * \r\n\t * @throws SQLException any exception will be wrapped\r\n\t * on SQLException, so that it is not necessary to\r\n\t * add additional catches to client code.\r\n\t */\r\n\tpublic MockResultSet(Readable in) throws SQLException {\r\n\t\tloadCSV(in);\r\n\t}\r\n\t\r\n\tpublic void loadCSV(Readable in) throws SQLException {\r\n\t\tfinal Scanner sc = new Scanner(in);\r\n\t\t\r\n\t\tif (!sc.hasNextLine()) {\r\n\t\t\tsc.close();\r\n\t\t\tthrow new SQLException(&quot;empty data source&quot;);\r\n\t\t}\r\n\r\n\t\t\r\n\t\t// load column headers\r\n\t\tString line = sc.nextLine();\r\n\t\tint index = 1;\r\n\t\tfor (String column : splitter.split(line)) {\r\n\t\t\tcolumnMap.put(column, index);\r\n\t\t\tindex++;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t// load data\r\n\t\twhile (sc.hasNextLine()) {\r\n\t\t\tline = sc.nextLine();\r\n\t\t\t\r\n\t\t\tString[] row = splitter.split(line);\r\n\t\t\trowset.add(row);\r\n\t\t}\r\n\t\t\r\n\t\tsc.close();\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic boolean absolute(int row) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void afterLast() throws SQLException {\r\n\t\tcursor = rowset.size();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void beforeFirst() throws SQLException {\r\n\t\tcursor = -1;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void cancelRowUpdates() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void clearWarnings() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void close() throws SQLException {\r\n\t\t// noop\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void deleteRow() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int findColumn(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean first() throws SQLException {\r\n\t\tif (rowset.size() &gt; 0) {\r\n\t\t\tcursor = 0;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Array getArray(int columnIndex) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Array getArray(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic InputStream getAsciiStream(int columnIndex) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic InputStream getAsciiStream(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic BigDecimal getBigDecimal(int columnIndex) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic BigDecimal getBigDecimal(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\t@Deprecated\r\n\tpublic BigDecimal getBigDecimal(int columnIndex, int scale)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\t@Deprecated\r\n\tpublic BigDecimal getBigDecimal(String columnLabel, int scale)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic InputStream getBinaryStream(int columnIndex) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic InputStream getBinaryStream(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Blob getBlob(int columnIndex) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Blob getBlob(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean getBoolean(int columnIndex) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean getBoolean(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic byte getByte(int columnIndex) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic byte getByte(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic byte[] getBytes(int columnIndex) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic byte[] getBytes(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Reader getCharacterStream(int columnIndex) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Reader getCharacterStream(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Clob getClob(int columnIndex) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Clob getClob(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getConcurrency() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getCursorName() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n        /**\r\n         * Dates are expected to be formatted as yyyy-MM-dd.\r\n         * See http://en.wikipedia.org/wiki/ISO_8601#Calendar_dates\r\n         */\r\n\tpublic Date getDate(int columnIndex) throws SQLException {\r\n\t\ttry {\r\n\t\t\tString value = getValue(columnIndex);\r\n\t\t\tDate date = null;\r\n\t\t\tif ( (value != null) &amp;&amp; (value.trim().length() &gt;= 0)) {\r\n\t\t\t\tdate = new Date(DATE_ISO_8601.parse(value).getTime());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn date;\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new SQLException(e);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Date getDate(String columnLabel) throws SQLException {\r\n\t\treturn getDate(getColumnIndex(columnLabel));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Date getDate(int columnIndex, Calendar cal) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Date getDate(String columnLabel, Calendar cal) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic double getDouble(int columnIndex) throws SQLException {\r\n\t\ttry {\r\n\t\t\tString value = getValue(columnIndex);\r\n\t\t\tif ( (value == null) || (value.trim().length() == 0)) {\r\n\t\t\t\tvalue = &quot;0&quot;;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvalue = value.replace(&#39;,&#39;, &#39;.&#39;);\r\n\t\t\t\r\n\t\t\treturn Double.parseDouble(value);\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new SQLException(e);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic double getDouble(String columnLabel) throws SQLException {\r\n\t\treturn getDouble(getColumnIndex(columnLabel));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getFetchDirection() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getFetchSize() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic float getFloat(int columnIndex) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic float getFloat(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getHoldability() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getInt(int columnIndex) throws SQLException {\r\n\t\ttry {\r\n\t\t\tString value = getValue(columnIndex);\r\n\t\t\tif ( (value == null) || (value.trim().length() == 0)) {\r\n\t\t\t\tvalue = &quot;0&quot;;\r\n\t\t\t}\r\n\r\n\t\t\treturn Integer.parseInt(value);\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new SQLException(e);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getInt(String columnLabel) throws SQLException {\r\n\t\treturn getInt(getColumnIndex(columnLabel));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic long getLong(int columnIndex) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic long getLong(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ResultSetMetaData getMetaData() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Reader getNCharacterStream(int columnIndex) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Reader getNCharacterStream(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic NClob getNClob(int columnIndex) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic NClob getNClob(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getNString(int columnIndex) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getNString(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getObject(int columnIndex) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getObject(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getObject(int columnIndex, Map&lt;String, Class&lt;?&gt;&gt; map)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getObject(String columnLabel, Map&lt;String, Class&lt;?&gt;&gt; map)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic &lt;T&gt; T getObject(int columnIndex, Class&lt;T&gt; type) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic &lt;T&gt; T getObject(String columnLabel, Class&lt;T&gt; type) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Ref getRef(int columnIndex) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Ref getRef(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getRow() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic RowId getRowId(int columnIndex) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic RowId getRowId(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic SQLXML getSQLXML(int columnIndex) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic SQLXML getSQLXML(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic short getShort(int columnIndex) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic short getShort(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Statement getStatement() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getString(int columnIndex) throws SQLException {\r\n\t\treturn getValue(columnIndex);\r\n\t}\r\n\r\n\tprivate String getValue(int columnIndex) throws SQLException {\r\n\t\tif ( (cursor &lt; 0) || (cursor &gt;= rowset.size()) ) {\r\n\t\t\tthrow new SQLException(&quot;cursor not pointing to a valid row&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tString[] row = rowset.get(cursor);\r\n\t\tif ( (columnIndex &lt; 0) || (columnIndex &gt; row.length) ) {\r\n\t\t\tthrow new SQLException(INVALID_COLUMN_INDEX);\r\n\t\t}\r\n\t\t\r\n\t\treturn row[columnIndex - 1];\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getString(String columnLabel) throws SQLException {\r\n\t\treturn getString(getColumnIndex(columnLabel));\r\n\t}\r\n\r\n\tprivate Integer getColumnIndex(String columnLabel) throws SQLException {\r\n\t\tInteger index = columnMap.get(columnLabel);\r\n\t\tif (index == null) {\r\n\t\t\tthrow new SQLException(INVALID_COLUMN_NAME);\r\n\t\t}\r\n\t\treturn index;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Time getTime(int columnIndex) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Time getTime(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Time getTime(int columnIndex, Calendar cal) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Time getTime(String columnLabel, Calendar cal) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Timestamp getTimestamp(int columnIndex) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Timestamp getTimestamp(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Timestamp getTimestamp(int columnIndex, Calendar cal)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Timestamp getTimestamp(String columnLabel, Calendar cal)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getType() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic URL getURL(int columnIndex) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic URL getURL(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\t@Deprecated\r\n\tpublic InputStream getUnicodeStream(int columnIndex) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\t@Deprecated\r\n\tpublic InputStream getUnicodeStream(String columnLabel) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic SQLWarning getWarnings() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void insertRow() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isAfterLast() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isBeforeFirst() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isClosed() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isFirst() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isLast() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean last() throws SQLException {\r\n\t\tif (rowset.size() &gt; 0) {\r\n\t\t\tcursor = rowset.size() - 1;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void moveToCurrentRow() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void moveToInsertRow() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean next() throws SQLException {\r\n\t\t\r\n\t\tfinal boolean hasNext = (cursor + 1) &lt; rowset.size();\r\n\t\tif (hasNext) {\r\n\t\t\tcursor++;\r\n\t\t}\r\n\t\t\r\n\t\treturn hasNext;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean previous() throws SQLException {\r\n\t\tcursor--;\r\n\t\t\r\n\t\tif (cursor &lt; -1) { \r\n\t\t\tcursor = -1; // one row before the first is the limit\r\n\t\t}\r\n\t\t\r\n\t\tfinal boolean beforeFirst = (cursor &lt; 0);\t\t\r\n\t\treturn !beforeFirst;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void refreshRow() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean relative(int rows) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean rowDeleted() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean rowInserted() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean rowUpdated() throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void setFetchDirection(int direction) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void setFetchSize(int rows) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateArray(int columnIndex, Array x) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateArray(String columnLabel, Array x) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateAsciiStream(int columnIndex, InputStream x)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateAsciiStream(String columnLabel, InputStream x)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateAsciiStream(int columnIndex, InputStream x, int length)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateAsciiStream(String columnLabel, InputStream x, int length)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateAsciiStream(int columnIndex, InputStream x, long length)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateAsciiStream(String columnLabel, InputStream x, long length)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateBigDecimal(int columnIndex, BigDecimal x)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateBigDecimal(String columnLabel, BigDecimal x)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateBinaryStream(int columnIndex, InputStream x)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateBinaryStream(String columnLabel, InputStream x)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateBinaryStream(int columnIndex, InputStream x, int length)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateBinaryStream(String columnLabel, InputStream x, int length)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateBinaryStream(int columnIndex, InputStream x, long length)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateBinaryStream(String columnLabel, InputStream x,\r\n\t\t\tlong length) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateBlob(int columnIndex, Blob x) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateBlob(String columnLabel, Blob x) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateBlob(int columnIndex, InputStream inputStream)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateBlob(String columnLabel, InputStream inputStream)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateBlob(int columnIndex, InputStream inputStream, long length)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateBlob(String columnLabel, InputStream inputStream,\r\n\t\t\tlong length) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateBoolean(int columnIndex, boolean x) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateBoolean(String columnLabel, boolean x)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateByte(int columnIndex, byte x) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateByte(String columnLabel, byte x) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateBytes(int columnIndex, byte[] x) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateBytes(String columnLabel, byte[] x) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateCharacterStream(int columnIndex, Reader x)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateCharacterStream(String columnLabel, Reader reader)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateCharacterStream(int columnIndex, Reader x, int length)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateCharacterStream(String columnLabel, Reader reader,\r\n\t\t\tint length) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateCharacterStream(int columnIndex, Reader x, long length)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateCharacterStream(String columnLabel, Reader reader,\r\n\t\t\tlong length) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateClob(int columnIndex, Clob x) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateClob(String columnLabel, Clob x) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateClob(int columnIndex, Reader reader) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateClob(String columnLabel, Reader reader)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateClob(int columnIndex, Reader reader, long length)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateClob(String columnLabel, Reader reader, long length)\r\n\t\t\tthrows SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateDate(int columnIndex, Date x) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateDate(String columnLabel, Date x) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateDouble(int columnIndex, double x) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void updateDouble(String columnLabel, double x) throws SQLException {\r\n\t\tthrow new UnsupportedOperationException(&quot;to be implemented&quot;);\r\n\t}\r\n\r\n\t\r\n\r\n\t\r\n\r\n\t\r\n\r\n}\r\n```","title":"Mock ResultSet with Mockito","body":"<p>This is a mock Result Set I ripped off of GitHub</p>\n<pre><code>/*\n* Distributed under the terms of the MIT License.\n* Copyright (c) 2009, Marcelo Criscuolo.\n*/\n\npackage commondb.mock;\n\nimport java.io.InputStream;\nimport java.io.Reader;\nimport java.io.StringReader;\nimport java.math.BigDecimal;\nimport java.net.URL;\nimport java.sql.Array;\nimport java.sql.Blob;\nimport java.sql.Clob;\nimport java.sql.Date;\nimport java.sql.NClob;\nimport java.sql.Ref;\nimport java.sql.ResultSet;\nimport java.sql.ResultSetMetaData;\nimport java.sql.RowId;\nimport java.sql.SQLException;\nimport java.sql.SQLWarning;\nimport java.sql.SQLXML;\nimport java.sql.Statement;\nimport java.sql.Time;\nimport java.sql.Timestamp;\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Calendar;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Scanner;\n\nimport org.apache.commons.lang.StringUtils;\n\n\npublic class MockResultSet implements ResultSet {\n    static final String INVALID_COLUMN_NAME = &quot;invalid column name&quot;;\n    static final String INVALID_COLUMN_INDEX = &quot;invalid column index&quot;;\n        static final DateFormat DATE_ISO_8601 = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n    private List&lt;String[]&gt; rowset = new ArrayList&lt;String[]&gt;();\n    private int cursor = -1;\n    private Map&lt;String, Integer&gt; columnMap = new HashMap&lt;String, Integer&gt;();\n    private CSVLineSplitter splitter = new CSVLineSplitter();\n\n    public MockResultSet() {\n    }\n\n    /**\n     * ResultSet rs = new MockResultSet(\n     *     &quot;ID,NAME,CITY&quot;,\n     *     &quot;3,John,New York&quot;,\n     *     &quot;4,Bill,Sydney&quot;\n     * );\n     *\n     * @param str headers and rows that form the CSV data\n     */\n    public MockResultSet(String... str) throws SQLException {\n        loadCSV(new StringReader(StringUtils.join(str, &quot;\\n&quot;)));\n    }\n    \n    /**\n     * @param in source from where the CSV data will be read\n     * \n     * @throws SQLException any exception will be wrapped\n     * on SQLException, so that it is not necessary to\n     * add additional catches to client code.\n     */\n    public MockResultSet(Readable in) throws SQLException {\n        loadCSV(in);\n    }\n    \n    public void loadCSV(Readable in) throws SQLException {\n        final Scanner sc = new Scanner(in);\n        \n        if (!sc.hasNextLine()) {\n            sc.close();\n            throw new SQLException(&quot;empty data source&quot;);\n        }\n\n        \n        // load column headers\n        String line = sc.nextLine();\n        int index = 1;\n        for (String column : splitter.split(line)) {\n            columnMap.put(column, index);\n            index++;\n        }\n        \n        \n        // load data\n        while (sc.hasNextLine()) {\n            line = sc.nextLine();\n            \n            String[] row = splitter.split(line);\n            rowset.add(row);\n        }\n        \n        sc.close();\n    }\n    \n    @Override\n    public boolean absolute(int row) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void afterLast() throws SQLException {\n        cursor = rowset.size();\n    }\n\n    @Override\n    public void beforeFirst() throws SQLException {\n        cursor = -1;\n    }\n\n    @Override\n    public void cancelRowUpdates() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void clearWarnings() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void close() throws SQLException {\n        // noop\n    }\n\n    @Override\n    public void deleteRow() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public int findColumn(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public boolean first() throws SQLException {\n        if (rowset.size() &gt; 0) {\n            cursor = 0;\n            return true;\n        }\n        \n        return false;\n    }\n\n    @Override\n    public Array getArray(int columnIndex) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public Array getArray(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public InputStream getAsciiStream(int columnIndex) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public InputStream getAsciiStream(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public BigDecimal getBigDecimal(int columnIndex) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public BigDecimal getBigDecimal(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    @Deprecated\n    public BigDecimal getBigDecimal(int columnIndex, int scale)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    @Deprecated\n    public BigDecimal getBigDecimal(String columnLabel, int scale)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public InputStream getBinaryStream(int columnIndex) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public InputStream getBinaryStream(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public Blob getBlob(int columnIndex) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public Blob getBlob(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public boolean getBoolean(int columnIndex) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public boolean getBoolean(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public byte getByte(int columnIndex) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public byte getByte(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public byte[] getBytes(int columnIndex) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public byte[] getBytes(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public Reader getCharacterStream(int columnIndex) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public Reader getCharacterStream(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public Clob getClob(int columnIndex) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public Clob getClob(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public int getConcurrency() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public String getCursorName() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n        /**\n         * Dates are expected to be formatted as yyyy-MM-dd.\n         * See http://en.wikipedia.org/wiki/ISO_8601#Calendar_dates\n         */\n    public Date getDate(int columnIndex) throws SQLException {\n        try {\n            String value = getValue(columnIndex);\n            Date date = null;\n            if ( (value != null) &amp;&amp; (value.trim().length() &gt;= 0)) {\n                date = new Date(DATE_ISO_8601.parse(value).getTime());\n            }\n            \n            return date;\n        } catch (Exception e) {\n            throw new SQLException(e);\n        }\n    }\n\n    @Override\n    public Date getDate(String columnLabel) throws SQLException {\n        return getDate(getColumnIndex(columnLabel));\n    }\n\n    @Override\n    public Date getDate(int columnIndex, Calendar cal) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public Date getDate(String columnLabel, Calendar cal) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public double getDouble(int columnIndex) throws SQLException {\n        try {\n            String value = getValue(columnIndex);\n            if ( (value == null) || (value.trim().length() == 0)) {\n                value = &quot;0&quot;;\n            }\n            \n            value = value.replace(',', '.');\n            \n            return Double.parseDouble(value);\n        } catch (Exception e) {\n            throw new SQLException(e);\n        }\n    }\n\n    @Override\n    public double getDouble(String columnLabel) throws SQLException {\n        return getDouble(getColumnIndex(columnLabel));\n    }\n\n    @Override\n    public int getFetchDirection() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public int getFetchSize() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public float getFloat(int columnIndex) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public float getFloat(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public int getHoldability() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public int getInt(int columnIndex) throws SQLException {\n        try {\n            String value = getValue(columnIndex);\n            if ( (value == null) || (value.trim().length() == 0)) {\n                value = &quot;0&quot;;\n            }\n\n            return Integer.parseInt(value);\n        } catch (Exception e) {\n            throw new SQLException(e);\n        }\n    }\n\n    @Override\n    public int getInt(String columnLabel) throws SQLException {\n        return getInt(getColumnIndex(columnLabel));\n    }\n\n    @Override\n    public long getLong(int columnIndex) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public long getLong(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public ResultSetMetaData getMetaData() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public Reader getNCharacterStream(int columnIndex) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public Reader getNCharacterStream(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public NClob getNClob(int columnIndex) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public NClob getNClob(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public String getNString(int columnIndex) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public String getNString(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public Object getObject(int columnIndex) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public Object getObject(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public Object getObject(int columnIndex, Map&lt;String, Class&lt;?&gt;&gt; map)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public Object getObject(String columnLabel, Map&lt;String, Class&lt;?&gt;&gt; map)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public &lt;T&gt; T getObject(int columnIndex, Class&lt;T&gt; type) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public &lt;T&gt; T getObject(String columnLabel, Class&lt;T&gt; type) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public Ref getRef(int columnIndex) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public Ref getRef(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public int getRow() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public RowId getRowId(int columnIndex) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public RowId getRowId(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public SQLXML getSQLXML(int columnIndex) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public SQLXML getSQLXML(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public short getShort(int columnIndex) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public short getShort(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public Statement getStatement() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public String getString(int columnIndex) throws SQLException {\n        return getValue(columnIndex);\n    }\n\n    private String getValue(int columnIndex) throws SQLException {\n        if ( (cursor &lt; 0) || (cursor &gt;= rowset.size()) ) {\n            throw new SQLException(&quot;cursor not pointing to a valid row&quot;);\n        }\n        \n        String[] row = rowset.get(cursor);\n        if ( (columnIndex &lt; 0) || (columnIndex &gt; row.length) ) {\n            throw new SQLException(INVALID_COLUMN_INDEX);\n        }\n        \n        return row[columnIndex - 1];\n    }\n\n    @Override\n    public String getString(String columnLabel) throws SQLException {\n        return getString(getColumnIndex(columnLabel));\n    }\n\n    private Integer getColumnIndex(String columnLabel) throws SQLException {\n        Integer index = columnMap.get(columnLabel);\n        if (index == null) {\n            throw new SQLException(INVALID_COLUMN_NAME);\n        }\n        return index;\n    }\n\n    @Override\n    public Time getTime(int columnIndex) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public Time getTime(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public Time getTime(int columnIndex, Calendar cal) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public Time getTime(String columnLabel, Calendar cal) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public Timestamp getTimestamp(int columnIndex) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public Timestamp getTimestamp(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public Timestamp getTimestamp(int columnIndex, Calendar cal)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public Timestamp getTimestamp(String columnLabel, Calendar cal)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public int getType() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public URL getURL(int columnIndex) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public URL getURL(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    @Deprecated\n    public InputStream getUnicodeStream(int columnIndex) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    @Deprecated\n    public InputStream getUnicodeStream(String columnLabel) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public SQLWarning getWarnings() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void insertRow() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public boolean isAfterLast() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public boolean isBeforeFirst() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public boolean isClosed() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public boolean isFirst() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public boolean isLast() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public boolean last() throws SQLException {\n        if (rowset.size() &gt; 0) {\n            cursor = rowset.size() - 1;\n            return true;\n        }\n        \n        return false;\n    }\n\n    @Override\n    public void moveToCurrentRow() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void moveToInsertRow() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public boolean next() throws SQLException {\n        \n        final boolean hasNext = (cursor + 1) &lt; rowset.size();\n        if (hasNext) {\n            cursor++;\n        }\n        \n        return hasNext;\n    }\n\n    @Override\n    public boolean previous() throws SQLException {\n        cursor--;\n        \n        if (cursor &lt; -1) { \n            cursor = -1; // one row before the first is the limit\n        }\n        \n        final boolean beforeFirst = (cursor &lt; 0);       \n        return !beforeFirst;\n    }\n\n    @Override\n    public void refreshRow() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public boolean relative(int rows) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public boolean rowDeleted() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public boolean rowInserted() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public boolean rowUpdated() throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void setFetchDirection(int direction) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void setFetchSize(int rows) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateArray(int columnIndex, Array x) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateArray(String columnLabel, Array x) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateAsciiStream(int columnIndex, InputStream x)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateAsciiStream(String columnLabel, InputStream x)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateAsciiStream(int columnIndex, InputStream x, int length)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateAsciiStream(String columnLabel, InputStream x, int length)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateAsciiStream(int columnIndex, InputStream x, long length)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateAsciiStream(String columnLabel, InputStream x, long length)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateBigDecimal(int columnIndex, BigDecimal x)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateBigDecimal(String columnLabel, BigDecimal x)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateBinaryStream(int columnIndex, InputStream x)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateBinaryStream(String columnLabel, InputStream x)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateBinaryStream(int columnIndex, InputStream x, int length)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateBinaryStream(String columnLabel, InputStream x, int length)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateBinaryStream(int columnIndex, InputStream x, long length)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateBinaryStream(String columnLabel, InputStream x,\n            long length) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateBlob(int columnIndex, Blob x) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateBlob(String columnLabel, Blob x) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateBlob(int columnIndex, InputStream inputStream)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateBlob(String columnLabel, InputStream inputStream)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateBlob(int columnIndex, InputStream inputStream, long length)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateBlob(String columnLabel, InputStream inputStream,\n            long length) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateBoolean(int columnIndex, boolean x) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateBoolean(String columnLabel, boolean x)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateByte(int columnIndex, byte x) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateByte(String columnLabel, byte x) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateBytes(int columnIndex, byte[] x) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateBytes(String columnLabel, byte[] x) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateCharacterStream(int columnIndex, Reader x)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateCharacterStream(String columnLabel, Reader reader)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateCharacterStream(int columnIndex, Reader x, int length)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateCharacterStream(String columnLabel, Reader reader,\n            int length) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateCharacterStream(int columnIndex, Reader x, long length)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateCharacterStream(String columnLabel, Reader reader,\n            long length) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateClob(int columnIndex, Clob x) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateClob(String columnLabel, Clob x) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateClob(int columnIndex, Reader reader) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateClob(String columnLabel, Reader reader)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateClob(int columnIndex, Reader reader, long length)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateClob(String columnLabel, Reader reader, long length)\n            throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateDate(int columnIndex, Date x) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateDate(String columnLabel, Date x) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateDouble(int columnIndex, double x) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    @Override\n    public void updateDouble(String columnLabel, double x) throws SQLException {\n        throw new UnsupportedOperationException(&quot;to be implemented&quot;);\n    }\n\n    \n\n    \n\n    \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":187979,"reputation":12796,"user_id":426422,"accept_rate":65,"display_name":"Mike Cheel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651007200,"creation_date":1651001272,"answer_id":72019511,"question_id":54042608,"body_markdown":"I also wanted to be able to mock a ResultSet with multiple rows and found various answers online but none of them seemed to meet my needs.\r\n\r\nIn my case I have a class method (SUT) that iterates through a(n) (unknown) number of rows and perform some logic on them (in production runtime). I am trying to ensure that the correct objects that get built from these rows are returned. At test time I know the exact number of rows I am going to examine.\r\n\r\nMy solution was to *@InjectMocks* into my my repo class which takes a &quot;factory&quot; connection class that provides the connection via the repo constructor. This is what I did: \r\n\r\n    import static org.mockito.Mockito.*;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    \r\n    import com.SomeStuff.MyRepository;\r\n    import com.SomeStuff.MyConnectionFactory;\r\n    import com.SomeStuff.Widget;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.mockito.*;\r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    import java.util.List;\r\n    import lombok.SneakyThrows;\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    public class MyClass {\r\n        @InjectMocks\r\n    \tprivate MyRepository myRepository;\r\n    \r\n    \t@Mock\r\n    \tprivate MyConnectionFactory mcf;\r\n    \r\n    \t@Mock\r\n    \tprivate Connection c;\r\n    \r\n    \t@Mock\r\n    \tprivate PreparedStatement stmt;\r\n    \r\n    \t@Mock\r\n    \tprivate ResultSet rs;\r\n    \r\n        // snipped code below, more to follow\r\n    }\r\n\r\nthen I added a *@BeforeEeach* to my *setup* method and inside there comes the secret sauce. In my case I know my code in the SUT wants to iterate through 9 fake rows and I also know that in a couple of cases it only need to work with two rows if they meet certain characteristics.\r\n\r\n    public class MyClass {        \r\n            // snipped the previous stuff above\r\n        \r\n            MockitoAnnotations.openMocks(this);\r\n        \r\n        \twhen(mcf.getConnection()).thenReturn(c);\r\n        \twhen(c.prepareStatement(any(String.class))).thenReturn(stmt);\r\n\r\n        \twhen(rs.next())\r\n        \t\t.thenReturn(true)\r\n        \t\t.thenReturn(true)\r\n        \t\t.thenReturn(true)\r\n        \t\t.thenReturn(true)\r\n        \t\t.thenReturn(true)\r\n        \t\t.thenReturn(true)\r\n        \t\t.thenReturn(true)\r\n        \t\t.thenReturn(true)\r\n        \t\t.thenReturn(true)\r\n        \t\t.thenReturn(false);\r\n        \r\n        \twhen(rs.getInt(&quot;person_id&quot;))\r\n        \t\t.thenReturn(10001)\r\n        \t\t.thenReturn(10001)\r\n        \t\t.thenReturn(10001)\r\n        \t\t.thenReturn(10001)\r\n        \t\t.thenReturn(10001)\r\n        \t\t.thenReturn(10002)\r\n        \t\t.thenReturn(10002)\r\n        \t\t.thenReturn(10002)\r\n        \t\t.thenReturn(10002);\r\n        \r\n        \twhen(rs.getString(&quot;first_name&quot;))\r\n        \t\t.thenReturn(&quot;John&quot;)\r\n        \t\t.thenReturn(&quot;Dave&quot;);\r\n        \r\n        \twhen(rs.getString(&quot;last_name&quot;))\r\n        \t\t.thenReturn(&quot;Doe&quot;)\r\n        \t\t.thenReturn(&quot;Smith&quot;);\r\n        \r\n        \twhen(rs.getString(&quot;key_value&quot;))\r\n        \t\t.thenReturn(&quot;Yes&quot;)\r\n        \t\t.thenReturn(&quot;&quot;)\r\n        \t\t.thenReturn(&quot;8005551212&quot;)\r\n        \t\t.thenReturn(&quot;Hello,&quot;)\r\n        \t\t.thenReturn(&quot;No&quot;)\r\n        \t\t.thenReturn(&quot;&quot;)\r\n        \t\t.thenReturn(&quot;&quot;)\r\n        \t\t.thenReturn(&quot;World!&quot;)\r\n        \t\t.thenReturn(&quot;No&quot;);\r\n        \r\n        \twhen(stmt.executeQuery()).thenReturn(rs);\r\n        }\r\n\r\nTake note that in the above code there is an additional *.thenReturn(false)* for *next* or it will never be false. This will cause an infiinte loop if you are *while-ing* through the rows.\r\n\r\nAlso notice that in my case my SUT only calls into first_name and last_name twice (as mentioned above, due to other criteria in the rows) so I call *thenReturn* on it twice (or else there would be 8 calls to it and that won&#39;t suit my needs.\r\n\r\nFinally I test it like this:\r\n\r\n    public class MyClass {\r\n    // Everything snipped above\r\n\r\n\t    @Test\r\n    \t@SneakyThrows\r\n\t    public void getPeople_correct_number_of_Person_is_retrieved() {\r\n\t\t    List&lt;Person&gt; people = myRepository.getPeople();\r\n\t\t    assertEquals(1, people.size());\r\n\t    }\r\n    }\r\n\r\nIn my case above I expect one Person to be returned where the 9 rows actually represented characteristics for two people.","title":"Mock ResultSet with Mockito","body":"<p>I also wanted to be able to mock a ResultSet with multiple rows and found various answers online but none of them seemed to meet my needs.</p>\n<p>In my case I have a class method (SUT) that iterates through a(n) (unknown) number of rows and perform some logic on them (in production runtime). I am trying to ensure that the correct objects that get built from these rows are returned. At test time I know the exact number of rows I am going to examine.</p>\n<p>My solution was to <em>@InjectMocks</em> into my my repo class which takes a &quot;factory&quot; connection class that provides the connection via the repo constructor. This is what I did:</p>\n<pre><code>import static org.mockito.Mockito.*;\n\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\n\nimport com.SomeStuff.MyRepository;\nimport com.SomeStuff.MyConnectionFactory;\nimport com.SomeStuff.Widget;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.mockito.*;\nimport static org.junit.jupiter.api.Assertions.*;\nimport java.util.List;\nimport lombok.SneakyThrows;\nimport org.junit.jupiter.api.Test;\n\npublic class MyClass {\n    @InjectMocks\n    private MyRepository myRepository;\n\n    @Mock\n    private MyConnectionFactory mcf;\n\n    @Mock\n    private Connection c;\n\n    @Mock\n    private PreparedStatement stmt;\n\n    @Mock\n    private ResultSet rs;\n\n    // snipped code below, more to follow\n}\n</code></pre>\n<p>then I added a <em>@BeforeEeach</em> to my <em>setup</em> method and inside there comes the secret sauce. In my case I know my code in the SUT wants to iterate through 9 fake rows and I also know that in a couple of cases it only need to work with two rows if they meet certain characteristics.</p>\n<pre><code>public class MyClass {        \n        // snipped the previous stuff above\n    \n        MockitoAnnotations.openMocks(this);\n    \n        when(mcf.getConnection()).thenReturn(c);\n        when(c.prepareStatement(any(String.class))).thenReturn(stmt);\n\n        when(rs.next())\n            .thenReturn(true)\n            .thenReturn(true)\n            .thenReturn(true)\n            .thenReturn(true)\n            .thenReturn(true)\n            .thenReturn(true)\n            .thenReturn(true)\n            .thenReturn(true)\n            .thenReturn(true)\n            .thenReturn(false);\n    \n        when(rs.getInt(&quot;person_id&quot;))\n            .thenReturn(10001)\n            .thenReturn(10001)\n            .thenReturn(10001)\n            .thenReturn(10001)\n            .thenReturn(10001)\n            .thenReturn(10002)\n            .thenReturn(10002)\n            .thenReturn(10002)\n            .thenReturn(10002);\n    \n        when(rs.getString(&quot;first_name&quot;))\n            .thenReturn(&quot;John&quot;)\n            .thenReturn(&quot;Dave&quot;);\n    \n        when(rs.getString(&quot;last_name&quot;))\n            .thenReturn(&quot;Doe&quot;)\n            .thenReturn(&quot;Smith&quot;);\n    \n        when(rs.getString(&quot;key_value&quot;))\n            .thenReturn(&quot;Yes&quot;)\n            .thenReturn(&quot;&quot;)\n            .thenReturn(&quot;8005551212&quot;)\n            .thenReturn(&quot;Hello,&quot;)\n            .thenReturn(&quot;No&quot;)\n            .thenReturn(&quot;&quot;)\n            .thenReturn(&quot;&quot;)\n            .thenReturn(&quot;World!&quot;)\n            .thenReturn(&quot;No&quot;);\n    \n        when(stmt.executeQuery()).thenReturn(rs);\n    }\n</code></pre>\n<p>Take note that in the above code there is an additional <em>.thenReturn(false)</em> for <em>next</em> or it will never be false. This will cause an infiinte loop if you are <em>while-ing</em> through the rows.</p>\n<p>Also notice that in my case my SUT only calls into first_name and last_name twice (as mentioned above, due to other criteria in the rows) so I call <em>thenReturn</em> on it twice (or else there would be 8 calls to it and that won't suit my needs.</p>\n<p>Finally I test it like this:</p>\n<pre><code>public class MyClass {\n// Everything snipped above\n\n    @Test\n    @SneakyThrows\n    public void getPeople_correct_number_of_Person_is_retrieved() {\n        List&lt;Person&gt; people = myRepository.getPeople();\n        assertEquals(1, people.size());\n    }\n}\n</code></pre>\n<p>In my case above I expect one Person to be returned where the 9 rows actually represented characteristics for two people.</p>\n"}],"owner":{"account_id":14985146,"reputation":253,"user_id":10817920,"display_name":"opai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6608,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":54042832,"answer_count":3,"score":3,"last_activity_date":1651007200,"creation_date":1546618750,"question_id":54042608,"body_markdown":"How to mock the resultset? \r\n\r\nIn the test class trying to mock the resultset as below but, when trying to test getting error as `UnnecessaryStubbingException` at statements : \r\n\r\n    voObj.setDept(rs.getString(2)); \r\n\r\nand \r\n\r\n    voObj.setDeptDesc(rs.getString(3));\r\n\r\nAny suggessions on how to mock the resultset? \r\n\r\n\r\n    public class Example { \r\n\t    public static void main(String[] s) {\r\n\t\t    method1();\r\n\t\t    method2();\r\n\t\t    ..........\r\n\t    }\r\n\r\n\t    private Employee method1(String str) {\r\n                    Connection conn           =  getConnection();\t\r\n\t\t    PreparedStatement pstmt   = null;\r\n\t\t    .........\r\n\t\t    pstmt = conn.prepareStatement(strQuery.toString());\r\n\t\t    rs \t= pstmt.executeQuery();\r\n\t\t    int ilCounter\t= 0; \r\n\t\t    int maxId\t= method2(loc); //some DB calls here with select\r\n\r\n\t\t    if(null != rs) {\t\t\t\r\n\t\t\t    while(rs.next()) { \r\n\t\t\t\t    ilCounter++;\r\n\t\t\t\t    ObjVoBean voObj = new ObjVoBean();\r\n\t\t\t\t    voObj.setLoc(rs.getString(1));\r\n\t\t\t\t    voObj.setDept(rs.getString(2));\r\n\t\t\t\t    voObj.setDeptDesc(rs.getString(3));\r\n\t\t\t    }\r\n\t\t\t    .................\r\n\t\t    }\r\n           }\r\n\r\n\t   private Employee method2(String str1) {\r\n                    Connection connOHM \t\t= getConnection();\t\r\n\t\t    PreparedStatement pstmt \t= null;\r\n\t\t    .........\r\n\t\t   //some DB call with select ...\r\n\t   }\r\n    }\r\n\r\n    public class ExampleTest { \r\n\t   @InjectMocks\r\n\t   Example example;\r\n\r\n       @Mock\r\n       private Connection c;\r\n\t   \r\n       @Mock\r\n\t   private PreparedStatement preStmt;\r\n\t    .....\r\n\t  \r\n       @Before\r\n\t   public void setUp() {\r\n\t\t    ........\r\n\t   }\r\n\t   \r\n       @Test\r\n\t   public void testMethod1() throws SQLException {\r\n\t\t    ResultSet resultSetMock = Mockito.mock(ResultSet.class);\r\n\t\t    when(resultSetMock.getString(1)).thenReturn(&quot;1111&quot;);\r\n\t\t    when(resultSetMock.getString(2)).thenReturn(&quot;2222&quot;);\r\n\t\t    when(resultSetMock.getString(3)).thenReturn(&quot;dept desc&quot;);\r\n\t\t\r\n\t\t    when(c.prepareStatement(any(String.class))).thenReturn(preStmt);\r\n\t\t    when(resultSetMock.next()).thenReturn(true).thenReturn(false); \r\n\t\t    doReturn(resultSetMock).when(preStmt).executeQuery();\r\n\t\r\n\t\t    example.method1(&quot;1111&quot;);\t\t\t\r\n\t\t    assertTrue(true);\r\n       }\r\n    }\r\n\r\n","title":"Mock ResultSet with Mockito","body":"<p>How to mock the resultset? </p>\n\n<p>In the test class trying to mock the resultset as below but, when trying to test getting error as <code>UnnecessaryStubbingException</code> at statements : </p>\n\n<pre><code>voObj.setDept(rs.getString(2)); \n</code></pre>\n\n<p>and </p>\n\n<pre><code>voObj.setDeptDesc(rs.getString(3));\n</code></pre>\n\n<p>Any suggessions on how to mock the resultset? </p>\n\n<pre><code>public class Example { \n    public static void main(String[] s) {\n        method1();\n        method2();\n        ..........\n    }\n\n    private Employee method1(String str) {\n                Connection conn           =  getConnection();   \n        PreparedStatement pstmt   = null;\n        .........\n        pstmt = conn.prepareStatement(strQuery.toString());\n        rs  = pstmt.executeQuery();\n        int ilCounter   = 0; \n        int maxId   = method2(loc); //some DB calls here with select\n\n        if(null != rs) {            \n            while(rs.next()) { \n                ilCounter++;\n                ObjVoBean voObj = new ObjVoBean();\n                voObj.setLoc(rs.getString(1));\n                voObj.setDept(rs.getString(2));\n                voObj.setDeptDesc(rs.getString(3));\n            }\n            .................\n        }\n       }\n\n   private Employee method2(String str1) {\n                Connection connOHM      = getConnection();  \n        PreparedStatement pstmt     = null;\n        .........\n       //some DB call with select ...\n   }\n}\n\npublic class ExampleTest { \n   @InjectMocks\n   Example example;\n\n   @Mock\n   private Connection c;\n\n   @Mock\n   private PreparedStatement preStmt;\n    .....\n\n   @Before\n   public void setUp() {\n        ........\n   }\n\n   @Test\n   public void testMethod1() throws SQLException {\n        ResultSet resultSetMock = Mockito.mock(ResultSet.class);\n        when(resultSetMock.getString(1)).thenReturn(\"1111\");\n        when(resultSetMock.getString(2)).thenReturn(\"2222\");\n        when(resultSetMock.getString(3)).thenReturn(\"dept desc\");\n\n        when(c.prepareStatement(any(String.class))).thenReturn(preStmt);\n        when(resultSetMock.next()).thenReturn(true).thenReturn(false); \n        doReturn(resultSetMock).when(preStmt).executeQuery();\n\n        example.method1(\"1111\");            \n        assertTrue(true);\n   }\n}\n</code></pre>\n"},{"tags":["java","unit-testing","junit","lambda","mockito"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1430927738,"post_id":30081357,"comment_id":48276689,"body_markdown":"I might be wrong but I think you must specify a return value for `personRepo.findAll()` first, and then subsequently for all method invocations.","body":"I might be wrong but I think you must specify a return value for <code>personRepo.findAll()</code> first, and then subsequently for all method invocations."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1430931068,"post_id":30081357,"comment_id":48278872,"body_markdown":"I have the bad feeling that you want to test mockito instead of testing your code. What is the code of getByEmail()? What should it do?","body":"I have the bad feeling that you want to test mockito instead of testing your code. What is the code of getByEmail()? What should it do?"}],"answers":[{"tags":[],"owner":{"account_id":359719,"reputation":2830,"user_id":701303,"accept_rate":83,"display_name":"Alex Wittig"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1651007117,"creation_date":1430935835,"answer_id":30084462,"question_id":30081357,"body_markdown":"There&#39;s no need to mock such deep calls.  Simply mock `personRepo.findAll()` and let the Streaming API work as normal:\r\n\r\n    Person person1 = ...\r\n    Person person2 = ...\r\n    Person person3 = ...\r\n    List&lt;Person&gt; people = Arrays.asList(person1, person2, ...);\r\n    when(personRepo.findAll()).thenReturn(people);\r\n\r\nAnd then instead of\r\n\r\n`.filter( p -&gt; (p.getEmail().equals(Mockito.any(String.class))) )`\r\n\r\njust set/mock `email` on your `Person` objects to be the expected value.\r\n\r\nAlternatively, consider implementing `PersonRepo.findByEmail`.","title":"Use Mockito 2.0.7 to mock lambda expressions","body":"<p>There's no need to mock such deep calls.  Simply mock <code>personRepo.findAll()</code> and let the Streaming API work as normal:</p>\n<pre><code>Person person1 = ...\nPerson person2 = ...\nPerson person3 = ...\nList&lt;Person&gt; people = Arrays.asList(person1, person2, ...);\nwhen(personRepo.findAll()).thenReturn(people);\n</code></pre>\n<p>And then instead of</p>\n<p><code>.filter( p -&gt; (p.getEmail().equals(Mockito.any(String.class))) )</code></p>\n<p>just set/mock <code>email</code> on your <code>Person</code> objects to be the expected value.</p>\n<p>Alternatively, consider implementing <code>PersonRepo.findByEmail</code>.</p>\n"},{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554751214,"creation_date":1430936385,"answer_id":30084631,"question_id":30081357,"body_markdown":"Two things:\r\n\r\n    Mockito.when(this.personRepo.findAll()\r\n          .stream()\r\n          .filter(p -&gt; (p.getEmail().equals(Mockito.any(String.class))))\r\n          .findFirst()\r\n          .get())\r\n        .thenReturn(this.personOut);\r\n\r\nFirst, you&#39;re trying to mock a chain of five different method calls. Mockito doesn&#39;t handle this very well; though the [`RETURNS_DEEP_STUBS` answer][rds] (if put on personRepo) would save and return stub objects where applicable, each call to `when` will itself stub exactly one call.\r\n\r\nSecond, Mockito matchers aren&#39;t flexible enough to work deeply in calls; calls to `when` should contain exactly one method call without chaining, and calls to Mockito matchers like `any` should [stand in for exactly one of the arguments in that method][matchers]. The way you have it, you&#39;re creating a predicate `p -&gt; (p.getEmail().equals(null))` and leaving a matcher on the stack to break things later.\r\n\r\nUse [Alex Wittig&#39;s answer][59] to solve this problem, and be mindful of stubbing and using matchers correctly in future problems.\r\n\r\n[rds]: http://docs.mockito.googlecode.com/hg/org/mockito/Mockito.html#RETURNS_DEEP_STUBS\r\n[matchers]: https://stackoverflow.com/q/22822512/1426891\r\n[59]: https://stackoverflow.com/a/30084462/1426891","title":"Use Mockito 2.0.7 to mock lambda expressions","body":"<p>Two things:</p>\n\n<pre><code>Mockito.when(this.personRepo.findAll()\n      .stream()\n      .filter(p -&gt; (p.getEmail().equals(Mockito.any(String.class))))\n      .findFirst()\n      .get())\n    .thenReturn(this.personOut);\n</code></pre>\n\n<p>First, you're trying to mock a chain of five different method calls. Mockito doesn't handle this very well; though the <a href=\"http://docs.mockito.googlecode.com/hg/org/mockito/Mockito.html#RETURNS_DEEP_STUBS\" rel=\"nofollow noreferrer\"><code>RETURNS_DEEP_STUBS</code> answer</a> (if put on personRepo) would save and return stub objects where applicable, each call to <code>when</code> will itself stub exactly one call.</p>\n\n<p>Second, Mockito matchers aren't flexible enough to work deeply in calls; calls to <code>when</code> should contain exactly one method call without chaining, and calls to Mockito matchers like <code>any</code> should <a href=\"https://stackoverflow.com/q/22822512/1426891\">stand in for exactly one of the arguments in that method</a>. The way you have it, you're creating a predicate <code>p -&gt; (p.getEmail().equals(null))</code> and leaving a matcher on the stack to break things later.</p>\n\n<p>Use <a href=\"https://stackoverflow.com/a/30084462/1426891\">Alex Wittig's answer</a> to solve this problem, and be mindful of stubbing and using matchers correctly in future problems.</p>\n"}],"owner":{"account_id":1144783,"reputation":438,"user_id":1128075,"accept_rate":100,"display_name":"Christoph"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39818,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":30084462,"answer_count":2,"score":5,"last_activity_date":1651007117,"creation_date":1430926528,"question_id":30081357,"body_markdown":"I want to mock a query provided on my repository like this:\r\n\r\n    @Test\r\n    public void GetByEmailSuccessful() {\r\n        // setup mocks\r\n        Mockito.when(this.personRepo.findAll()\r\n                .stream()\r\n                .filter(p -&gt; (p.getEmail().equals(Mockito.any(String.class))))\r\n                .findFirst()\r\n                .get())\r\n                .thenReturn(this.personOut);\r\n        Mockito.when(this.communityUserRepo.findOne(this.communityUserId))\r\n                .thenReturn(this.communityUserOut);\r\n    ...\r\n\r\nMy `@Before` method looks like this:\r\n\r\n    @Before\r\n    public void initializeMocks() throws Exception {\r\n        // prepare test data.\r\n        this.PrepareTestData();\r\n\r\n        // init mocked repos.\r\n        this.personRepo = Mockito.mock(IPersonRepository.class);\r\n        this.communityUserRepo = Mockito.mock(ICommunityUserRepository.class);\r\n        this.userProfileRepo = Mockito.mock(IUserProfileRepository.class);\r\n    }\r\n\r\n Sadly when I run the test I receive the error:\r\n\r\n&gt; java.util.NoSuchElementException: No value present\r\n\r\nWhen I double-click the error it points at the `.get()` method of the first lambda.\r\n\r\nHave any of you successfully mocked a lambda expression and know how I can solve my problem?","title":"Use Mockito 2.0.7 to mock lambda expressions","body":"<p>I want to mock a query provided on my repository like this:</p>\n\n<pre><code>@Test\npublic void GetByEmailSuccessful() {\n    // setup mocks\n    Mockito.when(this.personRepo.findAll()\n            .stream()\n            .filter(p -&gt; (p.getEmail().equals(Mockito.any(String.class))))\n            .findFirst()\n            .get())\n            .thenReturn(this.personOut);\n    Mockito.when(this.communityUserRepo.findOne(this.communityUserId))\n            .thenReturn(this.communityUserOut);\n...\n</code></pre>\n\n<p>My <code>@Before</code> method looks like this:</p>\n\n<pre><code>@Before\npublic void initializeMocks() throws Exception {\n    // prepare test data.\n    this.PrepareTestData();\n\n    // init mocked repos.\n    this.personRepo = Mockito.mock(IPersonRepository.class);\n    this.communityUserRepo = Mockito.mock(ICommunityUserRepository.class);\n    this.userProfileRepo = Mockito.mock(IUserProfileRepository.class);\n}\n</code></pre>\n\n<p>Sadly when I run the test I receive the error:</p>\n\n<blockquote>\n  <p>java.util.NoSuchElementException: No value present</p>\n</blockquote>\n\n<p>When I double-click the error it points at the <code>.get()</code> method of the first lambda.</p>\n\n<p>Have any of you successfully mocked a lambda expression and know how I can solve my problem?</p>\n"},{"tags":["java","sdk","solana"],"answers":[{"tags":[],"owner":{"account_id":22045603,"reputation":7209,"user_id":16310679,"display_name":"Jon C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651006755,"creation_date":1651006755,"answer_id":72020458,"question_id":72012907,"body_markdown":"The program is mixing two separate concepts, creating accounts at the transaction level by adding `SystemProgram.createAccount` to your transaction, and creating PDA accounts using `invoke_signed` from within your program.\r\n\r\nWhen trying to add `SystemProgram.createAccount(payeePubkey, greetingPubkey,...)`, the transaction expects a signature from `greetingPubkey`, but only `payeePubkey` has signed, causing the error.\r\n\r\nThe easiest way to resolve this problem is to not use a program address for `greetingPubkey`, and instead do something like:\r\n\r\n```\r\nAccount signer = new Account(payee.getSecretKey());\r\nKeyPair greeting = TweetNaclFast.Signature.keyPair();\r\nAccount greetingSigner = new Account(greeting.getSecretKey());\r\nPublicKey greetingPubkey = new PublicKey(greeting.getPublicKey())\r\nTransaction transaction = new Transaction();\r\nlong lamports = client.getApi().getMinimumBalanceForRentExemption(greetingMessageSize);\r\n\r\ntransaction.addInstruction(SystemProgram.createAccount(payeePubKey, greetingPubKey, lamports, greetingMessageSize, PROGRAM_ID));\r\n\r\nString signature = client.getApi().sendTransaction(transaction, signer, greetingSigner);\r\n```\r\n\r\nNote that I haven&#39;t tried to compile this!","title":"solanaj - invalid transaction: Transaction failed to sanitize accounts offsets correctly","body":"<p>The program is mixing two separate concepts, creating accounts at the transaction level by adding <code>SystemProgram.createAccount</code> to your transaction, and creating PDA accounts using <code>invoke_signed</code> from within your program.</p>\n<p>When trying to add <code>SystemProgram.createAccount(payeePubkey, greetingPubkey,...)</code>, the transaction expects a signature from <code>greetingPubkey</code>, but only <code>payeePubkey</code> has signed, causing the error.</p>\n<p>The easiest way to resolve this problem is to not use a program address for <code>greetingPubkey</code>, and instead do something like:</p>\n<pre><code>Account signer = new Account(payee.getSecretKey());\nKeyPair greeting = TweetNaclFast.Signature.keyPair();\nAccount greetingSigner = new Account(greeting.getSecretKey());\nPublicKey greetingPubkey = new PublicKey(greeting.getPublicKey())\nTransaction transaction = new Transaction();\nlong lamports = client.getApi().getMinimumBalanceForRentExemption(greetingMessageSize);\n\ntransaction.addInstruction(SystemProgram.createAccount(payeePubKey, greetingPubKey, lamports, greetingMessageSize, PROGRAM_ID));\n\nString signature = client.getApi().sendTransaction(transaction, signer, greetingSigner);\n</code></pre>\n<p>Note that I haven't tried to compile this!</p>\n"}],"owner":{"account_id":6507730,"reputation":89,"user_id":5036095,"display_name":"umaid ashraf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1651006755,"creation_date":1650971386,"question_id":72012907,"body_markdown":"I&#39;m using solanaj (Java sdk for solana) and trying to write hello-world example of solana-labs but getting this error on sendTransaction() &#39;invalid transaction: Transaction failed to sanitize accounts offsets correctly&#39;. There is no additional information in the error about what I&#39;m passing wrong. Can someone help me, here is my Java code:\r\n&#39;&#39;&#39;\r\n//establishConnection\r\n        RpcClient client = new RpcClient(&quot;http://127.0.0.1:8899&quot;);\r\n\r\n        //establishPayer\r\n        Long fee = Long.valueOf(0);\r\n        FeeCalculatorInfo feeCalculatorInfo = client.getApi().getFeeCalculatorForBlockhash(client.getApi().getRecentBlockhash());\r\n\r\n        fee += client.getApi().getMinimumBalanceForRentExemption(greetingMessageSize);\r\n        fee += feeCalculatorInfo.getValue().getFeeCalculator().getLamportsPerSignature() * 100;\r\n\r\n        if (payee == null) {\r\n            try {\r\n                String str = Files.readString(payeePath, StandardCharsets.UTF_8);\r\n                Gson gson = new Gson();\r\n                byte[] parsed = gson.fromJson(str, byte[].class);\r\n                payee = TweetNaclFast.Signature.keyPair_fromSecretKey(parsed);\r\n                payeePubKey = new PublicKey(payee.getPublicKey());\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        Long lamportBalance = client.getApi().getBalance(payeePubKey);\r\n\r\n        if (lamportBalance &lt; fee) {\r\n            String sign = client.getApi().requestAirdrop(payeePubKey, fee - lamportBalance);\r\n            ConfirmedTransaction confirmedTransaction = client.getApi().getConfirmedTransaction(sign);\r\n        }\r\n        Long lamportBalanceUpdated = client.getApi().getBalance(payeePubKey);\r\n\r\n        //checkProgram\r\n        try {\r\n            String str = Files.readString(programIdPath, StandardCharsets.UTF_8);\r\n            Gson gson = new Gson();\r\n            byte[] parsed = gson.fromJson(str, byte[].class);\r\n            programKeyPair = TweetNaclFast.Signature.keyPair_fromSecretKey(parsed);\r\n            programId = new PublicKey(programKeyPair.getPublicKey());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        AccountInfo programAccountInfo = client.getApi().getAccountInfo(programId);\r\n\r\n        String greetingSeed = &quot;hellogreetingtoyou&quot;;\r\n        PublicKey greetingPubKey = null;\r\n        try {\r\n            greetingPubKey = PublicKey.createProgramAddress(Collections.singletonList(greetingSeed.getBytes()), programId);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        Account signer = new Account(payee.getSecretKey());\r\n        AccountInfo greetingAccountInfo = client.getApi().getAccountInfo(greetingPubKey);\r\n        if (greetingAccountInfo.getValue() == null) {\r\n            Transaction transaction = new Transaction();\r\n            long lamports = client.getApi().getMinimumBalanceForRentExemption(greetingMessageSize);\r\n\r\n            transaction.addInstruction(SystemProgram.createAccount(payeePubKey, greetingPubKey, lamports,\r\n                    greetingMessageSize, PROGRAM_ID));\r\n\r\n            String signature = client.getApi().sendTransaction(transaction, signer);\r\n\r\n        }\r\n&#39;&#39;&#39;","title":"solanaj - invalid transaction: Transaction failed to sanitize accounts offsets correctly","body":"<p>I'm using solanaj (Java sdk for solana) and trying to write hello-world example of solana-labs but getting this error on sendTransaction() 'invalid transaction: Transaction failed to sanitize accounts offsets correctly'. There is no additional information in the error about what I'm passing wrong. Can someone help me, here is my Java code:\n'''\n//establishConnection\nRpcClient client = new RpcClient(&quot;http://127.0.0.1:8899&quot;);</p>\n<pre><code>    //establishPayer\n    Long fee = Long.valueOf(0);\n    FeeCalculatorInfo feeCalculatorInfo = client.getApi().getFeeCalculatorForBlockhash(client.getApi().getRecentBlockhash());\n\n    fee += client.getApi().getMinimumBalanceForRentExemption(greetingMessageSize);\n    fee += feeCalculatorInfo.getValue().getFeeCalculator().getLamportsPerSignature() * 100;\n\n    if (payee == null) {\n        try {\n            String str = Files.readString(payeePath, StandardCharsets.UTF_8);\n            Gson gson = new Gson();\n            byte[] parsed = gson.fromJson(str, byte[].class);\n            payee = TweetNaclFast.Signature.keyPair_fromSecretKey(parsed);\n            payeePubKey = new PublicKey(payee.getPublicKey());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    Long lamportBalance = client.getApi().getBalance(payeePubKey);\n\n    if (lamportBalance &lt; fee) {\n        String sign = client.getApi().requestAirdrop(payeePubKey, fee - lamportBalance);\n        ConfirmedTransaction confirmedTransaction = client.getApi().getConfirmedTransaction(sign);\n    }\n    Long lamportBalanceUpdated = client.getApi().getBalance(payeePubKey);\n\n    //checkProgram\n    try {\n        String str = Files.readString(programIdPath, StandardCharsets.UTF_8);\n        Gson gson = new Gson();\n        byte[] parsed = gson.fromJson(str, byte[].class);\n        programKeyPair = TweetNaclFast.Signature.keyPair_fromSecretKey(parsed);\n        programId = new PublicKey(programKeyPair.getPublicKey());\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    AccountInfo programAccountInfo = client.getApi().getAccountInfo(programId);\n\n    String greetingSeed = &quot;hellogreetingtoyou&quot;;\n    PublicKey greetingPubKey = null;\n    try {\n        greetingPubKey = PublicKey.createProgramAddress(Collections.singletonList(greetingSeed.getBytes()), programId);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    Account signer = new Account(payee.getSecretKey());\n    AccountInfo greetingAccountInfo = client.getApi().getAccountInfo(greetingPubKey);\n    if (greetingAccountInfo.getValue() == null) {\n        Transaction transaction = new Transaction();\n        long lamports = client.getApi().getMinimumBalanceForRentExemption(greetingMessageSize);\n\n        transaction.addInstruction(SystemProgram.createAccount(payeePubKey, greetingPubKey, lamports,\n                greetingMessageSize, PROGRAM_ID));\n\n        String signature = client.getApi().sendTransaction(transaction, signer);\n\n    }\n</code></pre>\n<p>'''</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8595,"page":1397,"page_size":100}
