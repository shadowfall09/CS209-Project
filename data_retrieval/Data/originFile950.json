{"items":[{"tags":["java","switch-statement","multiple-return-values"],"comments":[{"owner":{"account_id":1251593,"reputation":10353,"user_id":1211906,"display_name":"Marc Baumbach"},"score":1,"creation_date":1564926441,"post_id":57347001,"comment_id":101181918,"body_markdown":"This answer provides good arguments for multiple return statements: https://stackoverflow.com/questions/36707/should-a-function-have-only-one-return-statement. I think it&#39;s really a matter of style and whether it&#39;s making the code more confusing or less. Dogmatic ideals rarely are good in every situation. Using a switch with return statements can be a great way of implementing a factory, for example.","body":"This answer provides good arguments for multiple return statements: <a href=\"https://stackoverflow.com/questions/36707/should-a-function-have-only-one-return-statement\" title=\"should a function have only one return statement\">stackoverflow.com/questions/36707/&hellip;</a>. I think it&#39;s really a matter of style and whether it&#39;s making the code more confusing or less. Dogmatic ideals rarely are good in every situation. Using a switch with return statements can be a great way of implementing a factory, for example."},{"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"score":0,"creation_date":1564926805,"post_id":57347001,"comment_id":101182022,"body_markdown":"of course it is relevant - what changed? Nothing - just a **syntax**. There are still multiple exists and debugger will still do the same thing. Some stuff in Java can be easier but it&#39;s still Java","body":"of course it is relevant - what changed? Nothing - just a <b>syntax</b>. There are still multiple exists and debugger will still do the same thing. Some stuff in Java can be easier but it&#39;s still Java"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1564926812,"post_id":57347001,"comment_id":101182028,"body_markdown":"@MarcBaumbach I agree, in a closed small set of cases","body":"@MarcBaumbach I agree, in a closed small set of cases"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1564926936,"post_id":57347001,"comment_id":101182055,"body_markdown":"@m.antkowicz java 12 syntax allow you to avoid multiple return statements","body":"@m.antkowicz java 12 syntax allow you to avoid multiple return statements"},{"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"score":0,"creation_date":1564927159,"post_id":57347001,"comment_id":101182107,"body_markdown":"&quot;removing&quot; *return* word is not &quot;avoiding multiple return statements&quot; ;) just think for a while - how debugger will deal with it?","body":"&quot;removing&quot; <i>return</i> word is not &quot;avoiding multiple return statements&quot; ;) just think for a while - how debugger will deal with it?"},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1564930747,"post_id":57347001,"comment_id":101182908,"body_markdown":"I don&#39;t really understand what you&#39;re asking here. You ask what switch is useful for, but also say you&#39;re &quot;reluctant&quot; to use it, implying you have a case where it would be useful.","body":"I don&#39;t really understand what you&#39;re asking here. You ask what switch is useful for, but also say you&#39;re &quot;reluctant&quot; to use it, implying you have a case where it would be useful."},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1564930918,"post_id":57347001,"comment_id":101182954,"body_markdown":"@Boann I thought switch was (as Andrew Tobilko stated) *usually an indicator that a design error*, but Java decided to enhance it in version 12, so I asked if the use case I presented of *returning different values from a small closed set of cases* is a valid use case","body":"@Boann I thought switch was (as Andrew Tobilko stated) <i>usually an indicator that a design error</i>, but Java decided to enhance it in version 12, so I asked if the use case I presented of <i>returning different values from a small closed set of cases</i> is a valid use case"},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1564931688,"post_id":57347001,"comment_id":101183177,"body_markdown":"@user7294900 Absolutely its valid. I have never heard this notion that using switch is an error, but it sounds like a myth peddled by cargo-cultists. Two Google developers gave a talk at the JVM language summit last year. They analyzed 300 million lines of Google-maintained Java code, which included 180551 switch statements, and found that 7.1% of all switch statements have all cases assigning to the same variable, and an additional 28.3% of switch statements have all cases simply returning a value. See: https://www.youtube.com/watch?v=sPW2Pz2dI9E","body":"@user7294900 Absolutely its valid. I have never heard this notion that using switch is an error, but it sounds like a myth peddled by cargo-cultists. Two Google developers gave a talk at the JVM language summit last year. They analyzed 300 million lines of Google-maintained Java code, which included 180551 switch statements, and found that 7.1% of all switch statements have all cases assigning to the same variable, and an additional 28.3% of switch statements have all cases simply returning a value. See: <a href=\"https://www.youtube.com/watch?v=sPW2Pz2dI9E\" rel=\"nofollow noreferrer\">youtube.com/watch?v=sPW2Pz2dI9E</a>"}],"answers":[{"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1564927565,"post_id":57347173,"comment_id":101182201,"body_markdown":"I understand your point, but if switch is always design error, why java is taking the effort to enhance it?","body":"I understand your point, but if switch is always design error, why java is taking the effort to enhance it?"},{"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"score":8,"creation_date":1564927672,"post_id":57347173,"comment_id":101182226,"body_markdown":"`switch is always an indicator that a design error was made` - I don&#39;t agree. Not always you are creating a huge, flexible libr...ekhm solution. It&#39;s always developer&#39;s responsibility to **understand** and decide when to use such thing as `switch` and when to implement some *Command* pattern etc","body":"<code>switch is always an indicator that a design error was made</code> - I don&#39;t agree. Not always you are creating a huge, flexible libr...ekhm solution. It&#39;s always developer&#39;s responsibility to <b>understand</b> and decide when to use such thing as <code>switch</code> and when to implement some <i>Command</i> pattern etc"},{"owner":{"account_id":7799965,"reputation":2027,"user_id":5899776,"accept_rate":83,"display_name":"vandench"},"score":2,"creation_date":1564928073,"post_id":57347173,"comment_id":101182321,"body_markdown":"Why do people dislike the switch statement so much? One it’s best benefits is its ability to create jump tables, the performance of those compared to a lot of ifs is huge, jump tables allow for getting to any given case to occur in O(1) time (except for strings where a single additional string compare has to occur).","body":"Why do people dislike the switch statement so much? One it’s best benefits is its ability to create jump tables, the performance of those compared to a lot of ifs is huge, jump tables allow for getting to any given case to occur in O(1) time (except for strings where a single additional string compare has to occur)."},{"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"score":0,"creation_date":1564929264,"post_id":57347173,"comment_id":101182610,"body_markdown":"@user7294900 &quot;several irregularities of the existing switch statement -- **which have long been an irritation to users** -- become impediments. These include the default control flow behavior (fall through) of switch blocks, the default scoping of switch blocks (the block is treated as one single scope) and that switch works only as a statement, even though it is commonly more natural to express multi-way conditionals as expressions.&quot; source : https://openjdk.java.net/jeps/325","body":"@user7294900 &quot;several irregularities of the existing switch statement -- <b>which have long been an irritation to users</b> -- become impediments. These include the default control flow behavior (fall through) of switch blocks, the default scoping of switch blocks (the block is treated as one single scope) and that switch works only as a statement, even though it is commonly more natural to express multi-way conditionals as expressions.&quot; source : <a href=\"https://openjdk.java.net/jeps/325\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/325</a>"},{"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"score":0,"creation_date":1564929465,"post_id":57347173,"comment_id":101182641,"body_markdown":"@user7294900 a language designer doesn&#39;t care how you write code, they care how the language allows you to write code (how expressive, laconic, flexible the language is)","body":"@user7294900 a language designer doesn&#39;t care how you write code, they care how the language allows you to write code (how expressive, laconic, flexible the language is)"}],"tags":[],"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"comment_count":5,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1564929622,"creation_date":1564927178,"answer_id":57347173,"question_id":57347001,"body_markdown":"&gt; Assigning a value to a local variable and then returning that at the end is considered a good practice.\r\n\r\nI have no idea when it was considered a good practice. To me, `switch` is *usually* * an indicator that a design error was made. I would rather put my effort into thinking how to avoid a switch than into wondering how to return a value from a switch.\r\n\r\nA few examples\r\n\r\nhttps://stackoverflow.com/questions/1199646/long-list-of-if-statements-in-java  \r\nhttps://stackoverflow.com/questions/39051356/how-to-avoid-switch-case-statements-in-java  \r\nhttps://stackoverflow.com/questions/14136721/converting-many-if-else-statements-to-a-cleaner-approach\r\n\r\n&gt; Methods having multiple exits are harder to debug and can be difficult to read.\r\n\r\nThe same goes for a method that has a lot of `break`s - that&#39;s what you are going to do if you choose the &quot;local-variable approach&quot;.\r\n\r\nIn my opinion, none of these\r\n\r\n    // 1\r\n    switch (input) {\r\n        case &quot;A&quot;:\r\n            return &quot;1&quot;;\r\n        case &quot;B&quot;:\r\n            return &quot;2&quot;;\r\n        default:\r\n            return &quot;0&quot;;\r\n    }\r\n\r\n    // 2\r\n    String varibleToReturn = null;\r\n    switch (input) {\r\n        case &quot;A&quot;:\r\n            varibleToReturn = &quot;1&quot;;\r\n            break;\r\n        case &quot;B&quot;:\r\n            varibleToReturn = &quot;2&quot;;\r\n            break;\r\n        default:\r\n            varibleToReturn = &quot;0&quot;;\r\n    }\r\n    return varibleToReturn;\r\n\r\n    // 3\r\n    return switch(digitInDecimal) {\r\n        case  0 -&gt; &#39;0&#39;;\r\n        case  1 -&gt; &#39;1&#39;;\r\n        case  2 -&gt; &#39;2&#39;;\r\n        default -&gt; &#39;?&#39;;\r\n    }\r\n\r\nmakes a significant difference, or a slight improvement. Yes, Java-12&#39;s switch would give more conciseness and expressiveness, but the fundamental idea remains the same.\r\n\r\n&gt; Must I wait for Java 12 where switch can be used without temporary variables and breaks?\r\n\r\nWhat does it mean? :) No, the deadline is tomorrow, you have to work with what you&#39;ve got at hand now.\r\n\r\n---\r\n\r\n*I am not underestimating the usefulness of switch. It may come in handy, for instance, when you programme at low-level, or you write an optimization. \r\n\r\nI am just saying that in the real world, with *Springs*, and *Hibernates*, in a world of patterns, switch is obsolescent.\r\n","title":"Java switch use case","body":"<blockquote>\n  <p>Assigning a value to a local variable and then returning that at the end is considered a good practice.</p>\n</blockquote>\n\n<p>I have no idea when it was considered a good practice. To me, <code>switch</code> is <em>usually</em> * an indicator that a design error was made. I would rather put my effort into thinking how to avoid a switch than into wondering how to return a value from a switch.</p>\n\n<p>A few examples</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1199646/long-list-of-if-statements-in-java\">Long list of if statements in Java</a><br>\n<a href=\"https://stackoverflow.com/questions/39051356/how-to-avoid-switch-case-statements-in-java\">How to avoid switch-case statements in Java</a><br>\n<a href=\"https://stackoverflow.com/questions/14136721/converting-many-if-else-statements-to-a-cleaner-approach\">Converting many &#39;if else&#39; statements to a cleaner approach</a></p>\n\n<blockquote>\n  <p>Methods having multiple exits are harder to debug and can be difficult to read.</p>\n</blockquote>\n\n<p>The same goes for a method that has a lot of <code>break</code>s - that's what you are going to do if you choose the \"local-variable approach\".</p>\n\n<p>In my opinion, none of these</p>\n\n<pre><code>// 1\nswitch (input) {\n    case \"A\":\n        return \"1\";\n    case \"B\":\n        return \"2\";\n    default:\n        return \"0\";\n}\n\n// 2\nString varibleToReturn = null;\nswitch (input) {\n    case \"A\":\n        varibleToReturn = \"1\";\n        break;\n    case \"B\":\n        varibleToReturn = \"2\";\n        break;\n    default:\n        varibleToReturn = \"0\";\n}\nreturn varibleToReturn;\n\n// 3\nreturn switch(digitInDecimal) {\n    case  0 -&gt; '0';\n    case  1 -&gt; '1';\n    case  2 -&gt; '2';\n    default -&gt; '?';\n}\n</code></pre>\n\n<p>makes a significant difference, or a slight improvement. Yes, Java-12's switch would give more conciseness and expressiveness, but the fundamental idea remains the same.</p>\n\n<blockquote>\n  <p>Must I wait for Java 12 where switch can be used without temporary variables and breaks?</p>\n</blockquote>\n\n<p>What does it mean? :) No, the deadline is tomorrow, you have to work with what you've got at hand now.</p>\n\n<hr>\n\n<p>*I am not underestimating the usefulness of switch. It may come in handy, for instance, when you programme at low-level, or you write an optimization. </p>\n\n<p>I am just saying that in the real world, with <em>Springs</em>, and <em>Hibernates</em>, in a world of patterns, switch is obsolescent.</p>\n"},{"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1666333701,"post_id":74125241,"comment_id":130916392,"body_markdown":"In my opinion this is an answer for one of the two questions that the OP asked, so it&#39;s valid here.","body":"In my opinion this is an answer for one of the two questions that the OP asked, so it&#39;s valid here."}],"tags":[],"owner":{"account_id":10767176,"reputation":19,"user_id":7925873,"display_name":"Rutger van Velzen"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1666182081,"creation_date":1666182081,"answer_id":74125241,"question_id":57347001,"body_markdown":"&gt; But I found an old but high-ranked answer that says to avoid multiple\r\n&gt; return statements:\r\n&gt; \r\n&gt; &gt; Assigning a value to a local variable and then returning that at the\r\n&gt; &gt; end is considered a good practice. Methods having multiple exits are\r\n&gt; &gt; harder to debug and can be difficult to read.\r\n&gt; \r\n&gt; So I wonder, is that answer still relevant due to switch changes?\r\n\r\nThis is a common misconception, it originates form the phrase: [&quot;Single entry, single exit.&quot;][1] (Page 24) All this originates from an other era, one that lead to structured programming languages and eventually to object oriented programming languages (like Java). \r\n\r\nDon&#39;t worry about multiple `return` statements, there is nothing wrong with it.\r\n\r\n\r\n  [1]: https://www.cs.utexas.edu/users/EWD/ewd02xx/EWD249.PDF\r\n  [2]: https://homepages.cwi.nl/~storm/teaching/reader/Dijkstra68.pdf","title":"Java switch use case","body":"<blockquote>\n<p>But I found an old but high-ranked answer that says to avoid multiple\nreturn statements:</p>\n<blockquote>\n<p>Assigning a value to a local variable and then returning that at the\nend is considered a good practice. Methods having multiple exits are\nharder to debug and can be difficult to read.</p>\n</blockquote>\n<p>So I wonder, is that answer still relevant due to switch changes?</p>\n</blockquote>\n<p>This is a common misconception, it originates form the phrase: <a href=\"https://www.cs.utexas.edu/users/EWD/ewd02xx/EWD249.PDF\" rel=\"nofollow noreferrer\">&quot;Single entry, single exit.&quot;</a> (Page 24) All this originates from an other era, one that lead to structured programming languages and eventually to object oriented programming languages (like Java).</p>\n<p>Don't worry about multiple <code>return</code> statements, there is nothing wrong with it.</p>\n"}],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2246,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":57347173,"answer_count":2,"score":4,"last_activity_date":1666182081,"creation_date":1564925756,"question_id":57347001,"body_markdown":"I&#39;m reluctant to use a switch, but I saw [switch will be improved in Java 12][1]\r\n\r\n&gt;Java 12 added the switch expression as an experimental feature. A Java switch expression is a switch statement which can return a value.\r\n\r\nThe only use case I found (before Java 12) where switch may be useful is returning different values from a small closed set of cases, e.g.:\r\n\r\n\t\tswitch (input) {\r\n\t\tcase &quot;A&quot;:\r\n\t\t\treturn &quot;1&quot;;\r\n\t\tcase &quot;B&quot;:\r\n\t\t\treturn &quot;2&quot;;\r\n\t\tdefault:\r\n\t\t\treturn &quot;0&quot;;\r\n\t\t}\r\n\r\nOr in Java 12 example:\r\n\r\n&gt;     return\r\n&gt;     switch(digitInDecimal){\r\n        case  0 -&gt; &#39;0&#39;;\r\n        case  1 -&gt; &#39;1&#39;;\r\n        case  2 -&gt; &#39;2&#39;;\r\n        default -&gt; &#39;?&#39;;\r\n\r\nBut I found an old but high-ranked [answer][2] that says to avoid multiple return statements:\r\n\r\n&gt;Assigning a value to a local variable and then returning that at the end is considered a good practice. Methods having multiple exits are harder to debug and can be difficult to read.\r\n\r\nSo I wonder, is that answer still relevant due to switch changes?\r\n\r\nMust I wait for Java 12 where switch can be used without temporary variables and breaks?\r\n[1]:http://tutorials.jenkov.com/java/switch.html\r\n\r\n[2]:https://stackoverflow.com/questions/18192255/regarding-java-switch-statements-using-return-and-omitting-breaks-in-each-case","title":"Java switch use case","body":"<p>I'm reluctant to use a switch, but I saw <a href=\"http://tutorials.jenkov.com/java/switch.html\" rel=\"nofollow noreferrer\">switch will be improved in Java 12</a></p>\n\n<blockquote>\n  <p>Java 12 added the switch expression as an experimental feature. A Java switch expression is a switch statement which can return a value.</p>\n</blockquote>\n\n<p>The only use case I found (before Java 12) where switch may be useful is returning different values from a small closed set of cases, e.g.:</p>\n\n<pre><code>    switch (input) {\n    case \"A\":\n        return \"1\";\n    case \"B\":\n        return \"2\";\n    default:\n        return \"0\";\n    }\n</code></pre>\n\n<p>Or in Java 12 example:</p>\n\n<blockquote>\n<pre><code>return\nswitch(digitInDecimal){\n    case  0 -&gt; '0';\n    case  1 -&gt; '1';\n    case  2 -&gt; '2';\n    default -&gt; '?';\n</code></pre>\n</blockquote>\n\n<p>But I found an old but high-ranked <a href=\"https://stackoverflow.com/questions/18192255/regarding-java-switch-statements-using-return-and-omitting-breaks-in-each-case\">answer</a> that says to avoid multiple return statements:</p>\n\n<blockquote>\n  <p>Assigning a value to a local variable and then returning that at the end is considered a good practice. Methods having multiple exits are harder to debug and can be difficult to read.</p>\n</blockquote>\n\n<p>So I wonder, is that answer still relevant due to switch changes?</p>\n\n<p>Must I wait for Java 12 where switch can be used without temporary variables and breaks?</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1666179114,"post_id":74124539,"comment_id":130873067,"body_markdown":"It&#39;s the bitwise OR operator.","body":"It&#39;s the bitwise OR operator."}],"answers":[{"comments":[{"owner":{"account_id":13722742,"reputation":16988,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1666214883,"post_id":74124690,"comment_id":130886087,"body_markdown":"May be worth adding that, unlike Java, it&#39;s implemented as an infix function in the standard library, not an operator in the language syntax. Kotlin docs for it are [here](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/or.html).","body":"May be worth adding that, unlike Java, it&#39;s implemented as an infix function in the standard library, not an operator in the language syntax. Kotlin docs for it are <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/or.html\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":7391948,"reputation":1982,"user_id":5625089,"display_name":"Garuno"},"score":0,"creation_date":1666248687,"post_id":74124690,"comment_id":130891818,"body_markdown":"That is correct, but in this case it is the bitwise or operator presumably between two Ints. Kotlin docs for the bitwise or are [here](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/or.html).","body":"That is correct, but in this case it is the bitwise or operator presumably between two Ints. Kotlin docs for the bitwise or are <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/or.html\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":13722742,"reputation":16988,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1666257255,"post_id":74124690,"comment_id":130894992,"body_markdown":"(Whoops, yes, you&#39;re right of course!)  Anyway, feel free to add that into your answer.","body":"(Whoops, yes, you&#39;re right of course!)  Anyway, feel free to add that into your answer."}],"tags":[],"owner":{"account_id":7391948,"reputation":1982,"user_id":5625089,"display_name":"Garuno"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666179589,"creation_date":1666179589,"answer_id":74124690,"question_id":74124539,"body_markdown":"In kotlin it is just called `or` so your code would look like this:\r\n\r\n```kotlin\r\nfun rightCenterVertical(): Int {\r\n   return Gravity.RIGHT or Gravity.CENTER_VERTICAL\r\n}\r\n```","title":"Equivalent to java | operator in kotlin","body":"<p>In kotlin it is just called <code>or</code> so your code would look like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun rightCenterVertical(): Int {\n   return Gravity.RIGHT or Gravity.CENTER_VERTICAL\n}\n</code></pre>\n"}],"owner":{"account_id":221733,"reputation":36369,"user_id":479886,"accept_rate":61,"display_name":"NullPointerException"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1666196486,"accepted_answer_id":74124690,"answer_count":1,"score":-3,"last_activity_date":1666181584,"creation_date":1666178858,"question_id":74124539,"body_markdown":"If i want to return two Gravity values at same time in java, I do this:\r\n\r\n    private int rightCenterVertical() {\r\n       return Gravity.RIGHT | Gravity.CENTER_VERTICAL;\r\n    }\r\n\r\nHow can that be transformed to kotlin code?\r\n\r\nTo be honest, I don&#39;t know how it&#39;s called the &quot;`|`&quot; operator from java that is used to mix two values and return both of them.","title":"Equivalent to java | operator in kotlin","body":"<p>If i want to return two Gravity values at same time in java, I do this:</p>\n<pre><code>private int rightCenterVertical() {\n   return Gravity.RIGHT | Gravity.CENTER_VERTICAL;\n}\n</code></pre>\n<p>How can that be transformed to kotlin code?</p>\n<p>To be honest, I don't know how it's called the &quot;<code>|</code>&quot; operator from java that is used to mix two values and return both of them.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666181163,"creation_date":1666181163,"answer_id":74125038,"question_id":74124967,"body_markdown":"You need to &quot;find&quot; view after they are created. \r\n\r\n    EditText isbnInput;\r\n    TextView textView;\r\n    Button button;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        isbnInput = (EditText) findViewById(R.id.isbnInput);\r\n        textView = (TextView) findViewById(R.id.textView);\r\n        button = (Button) findViewById(R.id.button);\r\n    }","title":"how to fix android app crashing on startup?","body":"<p>You need to &quot;find&quot; view after they are created.</p>\n<pre><code>EditText isbnInput;\nTextView textView;\nButton button;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    isbnInput = (EditText) findViewById(R.id.isbnInput);\n    textView = (TextView) findViewById(R.id.textView);\n    button = (Button) findViewById(R.id.button);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16632079,"reputation":2166,"user_id":16547945,"display_name":"Vojin Purić"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666181494,"creation_date":1666181171,"answer_id":74125040,"question_id":74124967,"body_markdown":"It is because of `findViewById`. You should call it inside OnCreate. Because it needs View that it is being called from to be initialized.\r\n\r\n\r\n    private EditText isbnInput;\r\n    private TextView textView;\r\n    private Button button;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        isbnInput = (EditText) findViewById(R.id.isbnInput);\r\n        textView = (TextView) findViewById(R.id.textView);\r\n        button = (Button) findViewById(R.id.button);\r\n","title":"how to fix android app crashing on startup?","body":"<p>It is because of <code>findViewById</code>. You should call it inside OnCreate. Because it needs View that it is being called from to be initialized.</p>\n<pre><code>private EditText isbnInput;\nprivate TextView textView;\nprivate Button button;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState)\n{\n    isbnInput = (EditText) findViewById(R.id.isbnInput);\n    textView = (TextView) findViewById(R.id.textView);\n    button = (Button) findViewById(R.id.button);\n</code></pre>\n"}],"owner":{"account_id":26670537,"reputation":1,"user_id":20282034,"display_name":"Laur&#227;o etc"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1666181275,"answer_count":2,"score":-4,"last_activity_date":1666181494,"creation_date":1666180820,"question_id":74124967,"body_markdown":"i&#39;m a begginner developer and the app in question is a test app for an api, from jkutner&#39;s tutorial on github. it is crashing as soon as it opens, which is weird, because i&#39;ve used this exact same code at least thrice and it used to work. i&#39;ll leave the code and the logcat below, thank you in advance for your help!\r\n\r\n\r\nMainActivity\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\n\r\nimport java.util.List;\r\n\r\nimport retrofit2.Call;\r\nimport retrofit2.Callback;\r\nimport retrofit2.Response;\r\nimport retrofit2.Retrofit;\r\nimport retrofit2.converter.gson.GsonConverterFactory;\r\n\r\npublic class MainActivity extends AppCompatActivity\r\n{\r\n\r\n    final EditText isbnInput = (EditText) findViewById(R.id.isbnInput);\r\n    final TextView textView = (TextView) findViewById(R.id.textView);\r\n    final Button button = (Button) findViewById(R.id.button);\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Retrofit retrofit = new Retrofit.Builder()\r\n                .baseUrl(&quot;https://venusdove.herokuapp.com&quot;)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build();\r\n\r\n        final BookService service = retrofit.create(BookService.class);\r\n\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Book book = new Book(isbnInput.getText().toString());\r\n                Call&lt;Book&gt; createCall = service.create(book);\r\n                createCall.enqueue(new Callback&lt;Book&gt;() {\r\n                    @Override\r\n                    public void onResponse(Call&lt;Book&gt; _, Response&lt;Book&gt; resp) {\r\n                        Book newBook = resp.body();\r\n                        textView.setText(&quot;Created Book with ISBN: &quot; + newBook.isbn);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onFailure(Call&lt;Book&gt; _, Throwable t) {\r\n                        t.printStackTrace();\r\n                        textView.setText(t.getMessage());\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nBook class\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport com.google.gson.annotations.SerializedName;\r\n\r\npublic class Book\r\n{\r\n    @SerializedName(&quot;id&quot;)\r\n    int id;\r\n\r\n    @SerializedName(&quot;isbn&quot;)\r\n    String isbn;\r\n\r\n    public Book(int id, String isbn) {\r\n        this.id = id;\r\n        this.isbn = isbn;\r\n    }\r\n\r\n    public Book(String isbn) {\r\n        this.isbn = isbn;\r\n    }\r\n}\r\n```\r\n\r\nBookService class\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport java.util.List;\r\n\r\nimport retrofit2.Call;\r\nimport retrofit2.http.Body;\r\nimport retrofit2.http.GET;\r\nimport retrofit2.http.POST;\r\nimport retrofit2.http.Path;\r\n\r\npublic interface BookService\r\n{\r\n    @GET(&quot;books&quot;)\r\n    Call&lt;List&lt;Book&gt;&gt; all();\r\n\r\n    @GET(&quot;books/{isbn}&quot;)\r\n    Call&lt;Book&gt; get(@Path(&quot;isbn&quot;) String isbn);\r\n\r\n    @POST(&quot;books/new&quot;)\r\n    Call&lt;Book&gt; create(@Body Book book);\r\n}\r\n```\r\n\r\nlogcat\r\n```\r\n2022-10-19 08:56:03.651 8041-8041/com.example.myapplication E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.myapplication, PID: 8041\r\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.myapplication/com.example.myapplication.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2679)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\r\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()&#39; on a null object reference\r\n        at android.content.ContextWrapper.getApplicationInfo(ContextWrapper.java:152)\r\n        at android.view.ContextThemeWrapper.getTheme(ContextThemeWrapper.java:157)\r\n        at android.content.Context.obtainStyledAttributes(Context.java:655)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:852)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:819)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.findViewById(AppCompatDelegateImpl.java:640)\r\n        at androidx.appcompat.app.AppCompatActivity.findViewById(AppCompatActivity.java:261)\r\n        at com.example.myapplication.MainActivity.&lt;init&gt;(MainActivity.java:22)\r\n        at java.lang.Class.newInstance(Native Method)\r\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1174)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2669)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)&#160;\r\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:164)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:6494)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n```","title":"how to fix android app crashing on startup?","body":"<p>i'm a begginner developer and the app in question is a test app for an api, from jkutner's tutorial on github. it is crashing as soon as it opens, which is weird, because i've used this exact same code at least thrice and it used to work. i'll leave the code and the logcat below, thank you in advance for your help!</p>\n<p>MainActivity</p>\n<pre><code>package com.example.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\nimport java.util.List;\n\nimport retrofit2.Call;\nimport retrofit2.Callback;\nimport retrofit2.Response;\nimport retrofit2.Retrofit;\nimport retrofit2.converter.gson.GsonConverterFactory;\n\npublic class MainActivity extends AppCompatActivity\n{\n\n    final EditText isbnInput = (EditText) findViewById(R.id.isbnInput);\n    final TextView textView = (TextView) findViewById(R.id.textView);\n    final Button button = (Button) findViewById(R.id.button);\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Retrofit retrofit = new Retrofit.Builder()\n                .baseUrl(&quot;https://venusdove.herokuapp.com&quot;)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build();\n\n        final BookService service = retrofit.create(BookService.class);\n\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Book book = new Book(isbnInput.getText().toString());\n                Call&lt;Book&gt; createCall = service.create(book);\n                createCall.enqueue(new Callback&lt;Book&gt;() {\n                    @Override\n                    public void onResponse(Call&lt;Book&gt; _, Response&lt;Book&gt; resp) {\n                        Book newBook = resp.body();\n                        textView.setText(&quot;Created Book with ISBN: &quot; + newBook.isbn);\n                    }\n\n                    @Override\n                    public void onFailure(Call&lt;Book&gt; _, Throwable t) {\n                        t.printStackTrace();\n                        textView.setText(t.getMessage());\n                    }\n                });\n            }\n        });\n    }\n}\n</code></pre>\n<p>Book class</p>\n<pre><code>package com.example.myapplication;\n\nimport com.google.gson.annotations.SerializedName;\n\npublic class Book\n{\n    @SerializedName(&quot;id&quot;)\n    int id;\n\n    @SerializedName(&quot;isbn&quot;)\n    String isbn;\n\n    public Book(int id, String isbn) {\n        this.id = id;\n        this.isbn = isbn;\n    }\n\n    public Book(String isbn) {\n        this.isbn = isbn;\n    }\n}\n</code></pre>\n<p>BookService class</p>\n<pre><code>package com.example.myapplication;\n\nimport java.util.List;\n\nimport retrofit2.Call;\nimport retrofit2.http.Body;\nimport retrofit2.http.GET;\nimport retrofit2.http.POST;\nimport retrofit2.http.Path;\n\npublic interface BookService\n{\n    @GET(&quot;books&quot;)\n    Call&lt;List&lt;Book&gt;&gt; all();\n\n    @GET(&quot;books/{isbn}&quot;)\n    Call&lt;Book&gt; get(@Path(&quot;isbn&quot;) String isbn);\n\n    @POST(&quot;books/new&quot;)\n    Call&lt;Book&gt; create(@Body Book book);\n}\n</code></pre>\n<p>logcat</p>\n<pre><code>2022-10-19 08:56:03.651 8041-8041/com.example.myapplication E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.myapplication, PID: 8041\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.myapplication/com.example.myapplication.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2679)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()' on a null object reference\n        at android.content.ContextWrapper.getApplicationInfo(ContextWrapper.java:152)\n        at android.view.ContextThemeWrapper.getTheme(ContextThemeWrapper.java:157)\n        at android.content.Context.obtainStyledAttributes(Context.java:655)\n        at androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:852)\n        at androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:819)\n        at androidx.appcompat.app.AppCompatDelegateImpl.findViewById(AppCompatDelegateImpl.java:640)\n        at androidx.appcompat.app.AppCompatActivity.findViewById(AppCompatActivity.java:261)\n        at com.example.myapplication.MainActivity.&lt;init&gt;(MainActivity.java:22)\n        at java.lang.Class.newInstance(Native Method)\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1174)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2669)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856) \n        at android.app.ActivityThread.-wrap11(Unknown Source:0) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589) \n        at android.os.Handler.dispatchMessage(Handler.java:106) \n        at android.os.Looper.loop(Looper.java:164) \n        at android.app.ActivityThread.main(ActivityThread.java:6494) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n</code></pre>\n"},{"tags":["java","list"],"comments":[{"owner":{"account_id":14433834,"reputation":1458,"user_id":10426405,"display_name":"bsheps"},"score":0,"creation_date":1616118901,"post_id":66700862,"comment_id":117909739,"body_markdown":"What output are you seeing? What output are you expecting?","body":"What output are you seeing? What output are you expecting?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1616158774,"post_id":66700862,"comment_id":117921737,"body_markdown":"In spite of the skipping of values, your resulting array would still be\ncorrect since the source values are from 0 to n. This means the only ones\nskipped would be those items divisible by 3. But they would not have been\ndeleted anyway. So how did you discover that values were being skipped?","body":"In spite of the skipping of values, your resulting array would still be correct since the source values are from 0 to n. This means the only ones skipped would be those items divisible by 3. But they would not have been deleted anyway. So how did you discover that values were being skipped?"}],"answers":[{"tags":[],"owner":{"account_id":17474859,"reputation":2389,"user_id":12669945,"display_name":"Atmas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1616116569,"creation_date":1616116569,"answer_id":66701300,"question_id":66700862,"body_markdown":"It is problematic to iterate over a list and remove elements while iterating over it. \r\n\r\nIf you think about how the computer has to reconcile it, it makes sense... \r\n\r\nHere&#39;s a thought experiment for you to go through.\r\n\r\nIf you have a list that is size 10 and you want to remove elements 1, 5, and 9 then you would think maybe the following would work:\r\n\r\n    List&lt;String&gt; listOfThings = ...some list with 10 things in it...;\r\n    list.remove(0);\r\n    list.remove(4);\r\n    list.remove(8);\r\n\r\nHowever, after the first remove command, the list is only size 9.. Then after the second command, it&#39;s size has become 8. At this point, it hardly even makes sense to do list.remove(8) anymore because you&#39;re looking at an 8-element list and the largest index is 7.\r\n\r\nYou can also see now that the 2nd command didn&#39;t even remove the element now that you wanted.\r\n\r\nIf you want to keep this style of &quot;remove as I go&quot; syntax, the more appropriate way is to use Iterators. Here&#39;s an SO that talks about it and shows you the syntax you would need (see the question). It&#39;s easy to read up on elsewhere too.\r\n\r\nhttps://stackoverflow.com/questions/15993356/how-iterators-remove-method-actually-remove-an-object","title":"looping through List and removing element skipps certain elements","body":"<p>It is problematic to iterate over a list and remove elements while iterating over it.</p>\n<p>If you think about how the computer has to reconcile it, it makes sense...</p>\n<p>Here's a thought experiment for you to go through.</p>\n<p>If you have a list that is size 10 and you want to remove elements 1, 5, and 9 then you would think maybe the following would work:</p>\n<pre><code>List&lt;String&gt; listOfThings = ...some list with 10 things in it...;\nlist.remove(0);\nlist.remove(4);\nlist.remove(8);\n</code></pre>\n<p>However, after the first remove command, the list is only size 9.. Then after the second command, it's size has become 8. At this point, it hardly even makes sense to do list.remove(8) anymore because you're looking at an 8-element list and the largest index is 7.</p>\n<p>You can also see now that the 2nd command didn't even remove the element now that you wanted.</p>\n<p>If you want to keep this style of &quot;remove as I go&quot; syntax, the more appropriate way is to use Iterators. Here's an SO that talks about it and shows you the syntax you would need (see the question). It's easy to read up on elsewhere too.</p>\n<p><a href=\"https://stackoverflow.com/questions/15993356/how-iterators-remove-method-actually-remove-an-object\">How Iterator&#39;s remove method actually remove an object</a></p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616158859,"creation_date":1616120139,"answer_id":66701661,"question_id":66700862,"body_markdown":"Skipping a value would be the result of your list getting out of sync with your loop index because the list is reduced in size.  This causes you to hop over some locations since the reduction in size affects future locations that have not been reached.\r\n\r\nSo the first thing you could do is simply correct the synchronization by decrementing `i` when you remove a value from the list. This will keep index at the same spot as the list shifts `&quot;left&quot;` caused by the removal.\r\n```\r\nfor (int i = 0; i &lt; listWithAge.size(); i++) {\r\n    if ((listWithAge.get(i) % 3) == 2) listWithAge.remove(i--);\r\n}\r\n```\r\nThe other option is to loop thru the list backwards.\r\n```\r\nfor (int i = listWithAge.size()-1; i &gt;= 0; i--) {\r\n\t\tif ((listWithAge.get(i) % 3) == 2) {\r\n              listWithAge.remove(i);\r\n        }\r\n}\t\r\n```\r\nThis way, no values should be skipped since the removing of the element does affect the loop index&#39;s future positions relative to the changing size of the list.\r\n\r\nBut the best way would be to use an `iterator` as has already been mentioned by\r\n[Atmas](https://stackoverflow.com/a/66701300/1552534)\r\n\r\nAs a side note, I recommend you always use blocks `{}` even for single statements as I did above in the `if block`.  It will save you some serious debugging time in the future when you decide you need to add additional statements and then wonder why things are no longer working.\r\n\r\nAnd deleting like this from a list is very expensive, especially for large lists.  I would suggest that if you don&#39;t have duplicate values, you use a `Set`.  Otherwise, instead of deleting matching values, add the non-matching to a second list.\r\n","title":"looping through List and removing element skipps certain elements","body":"<p>Skipping a value would be the result of your list getting out of sync with your loop index because the list is reduced in size.  This causes you to hop over some locations since the reduction in size affects future locations that have not been reached.</p>\n<p>So the first thing you could do is simply correct the synchronization by decrementing <code>i</code> when you remove a value from the list. This will keep index at the same spot as the list shifts <code>&quot;left&quot;</code> caused by the removal.</p>\n<pre><code>for (int i = 0; i &lt; listWithAge.size(); i++) {\n    if ((listWithAge.get(i) % 3) == 2) listWithAge.remove(i--);\n}\n</code></pre>\n<p>The other option is to loop thru the list backwards.</p>\n<pre><code>for (int i = listWithAge.size()-1; i &gt;= 0; i--) {\n        if ((listWithAge.get(i) % 3) == 2) {\n              listWithAge.remove(i);\n        }\n}   \n</code></pre>\n<p>This way, no values should be skipped since the removing of the element does affect the loop index's future positions relative to the changing size of the list.</p>\n<p>But the best way would be to use an <code>iterator</code> as has already been mentioned by\n<a href=\"https://stackoverflow.com/a/66701300/1552534\">Atmas</a></p>\n<p>As a side note, I recommend you always use blocks <code>{}</code> even for single statements as I did above in the <code>if block</code>.  It will save you some serious debugging time in the future when you decide you need to add additional statements and then wonder why things are no longer working.</p>\n<p>And deleting like this from a list is very expensive, especially for large lists.  I would suggest that if you don't have duplicate values, you use a <code>Set</code>.  Otherwise, instead of deleting matching values, add the non-matching to a second list.</p>\n"},{"tags":[],"owner":{"account_id":5947150,"reputation":91,"user_id":4676338,"display_name":"Luke Matafi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666181281,"creation_date":1666087798,"answer_id":74109246,"question_id":66700862,"body_markdown":"    List&lt;Integer&gt; listWithAge = new ArrayList&lt;&gt;();\r\n    \r\n    int randomNumber = 100;\r\n    \r\n     for (int i = 0; i &lt; randomNumber; i++) {\r\n    \r\n      listWithAge.add(i);\r\n    \r\n     }\r\n    \r\n    // this is my loop  \r\n    \r\n    List&lt;Integer&gt; itemsToBeDeleted = new ArrayList&lt;&gt;();\r\n    \r\n    for (int i = 0; i &lt; listWithAge.size(); i++) {\r\n    \r\n     System.out.println(i);\r\n    \r\n     if ((listWithAge.get(i) % 3) == 2) {\r\n    \r\n      itemsToBeDeleted.add(i);\r\n    \r\n     }\r\n    \r\n    //delete all outside the loop\r\n    \r\n    //deleting inside the loop messes the indexing of the array\r\n    \r\n    listWithAge.removeAll(itemsToBeDeleted);","title":"looping through List and removing element skipps certain elements","body":"<pre><code>List&lt;Integer&gt; listWithAge = new ArrayList&lt;&gt;();\n\nint randomNumber = 100;\n\n for (int i = 0; i &lt; randomNumber; i++) {\n\n  listWithAge.add(i);\n\n }\n\n// this is my loop  \n\nList&lt;Integer&gt; itemsToBeDeleted = new ArrayList&lt;&gt;();\n\nfor (int i = 0; i &lt; listWithAge.size(); i++) {\n\n System.out.println(i);\n\n if ((listWithAge.get(i) % 3) == 2) {\n\n  itemsToBeDeleted.add(i);\n\n }\n\n//delete all outside the loop\n\n//deleting inside the loop messes the indexing of the array\n\nlistWithAge.removeAll(itemsToBeDeleted);\n</code></pre>\n"}],"owner":{"account_id":20996991,"reputation":13,"user_id":15428583,"display_name":"Eva Lovia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":66701300,"answer_count":3,"score":-2,"last_activity_date":1666181281,"creation_date":1616112479,"question_id":66700862,"body_markdown":"If have a workflow that removes elements of a List by a certain criteria. However certain items are skipped? Why is this happening?\r\n\r\n```java\r\nList&lt;Integer&gt; listWithAge = new ArrayList&lt;&gt;();\r\nint randomNumber = 100;\r\nfor (int i = 0; i &lt; randomNumber; i++) {\r\n    listWithAge.add(i);\r\n}\r\n\r\n// this is my loop    \r\nfor (int i = 0; i &lt; listWithAge.size(); i++) {\r\n    System.out.println(i);\r\n    if ((listWithAge.get(i) % 3) == 2) listWithAge.remove(i);\r\n}\r\n```\r\nAbove code is my loop. I replaced my condition with something simpler. If I run this code my second loop only runs for 67 turns instead of 100.","title":"looping through List and removing element skipps certain elements","body":"<p>If have a workflow that removes elements of a List by a certain criteria. However certain items are skipped? Why is this happening?</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; listWithAge = new ArrayList&lt;&gt;();\nint randomNumber = 100;\nfor (int i = 0; i &lt; randomNumber; i++) {\n    listWithAge.add(i);\n}\n\n// this is my loop    \nfor (int i = 0; i &lt; listWithAge.size(); i++) {\n    System.out.println(i);\n    if ((listWithAge.get(i) % 3) == 2) listWithAge.remove(i);\n}\n</code></pre>\n<p>Above code is my loop. I replaced my condition with something simpler. If I run this code my second loop only runs for 67 turns instead of 100.</p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":4,"creation_date":1510678225,"post_id":47291056,"comment_id":81532769,"body_markdown":"What is the current value of the `JAVA_HOME` environment variable? And is the JRE higher in your `PATH`? Why even install a JRE (the JDK includes one)?","body":"What is the current value of the <code>JAVA_HOME</code> environment variable? And is the JRE higher in your <code>PATH</code>? Why even install a JRE (the JDK includes one)?"},{"owner":{"account_id":9859265,"reputation":2743,"user_id":7302815,"display_name":"Viswesvar Sekar"},"score":0,"creation_date":1510678725,"post_id":47291056,"comment_id":81533105,"body_markdown":"I have jdk1.7.0_79, jdk1.8.0_144, jre1.8.0_151 inside c:/windows/program Files/ java","body":"I have jdk1.7.0_79, jdk1.8.0_144, jre1.8.0_151 inside c:/windows/program Files/ java"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1510678809,"post_id":47291056,"comment_id":81533162,"body_markdown":"That does not answer any one of my three distinct questions. Also, `c:/windows/program Files/`? Are you sure?","body":"That does not answer any one of my three distinct questions. Also, <code>c:&#47;windows&#47;program Files&#47;</code>? Are you sure?"},{"owner":{"account_id":9859265,"reputation":2743,"user_id":7302815,"display_name":"Viswesvar Sekar"},"score":0,"creation_date":1510679383,"post_id":47291056,"comment_id":81533476,"body_markdown":"https://i.stack.imgur.com/VxQ2W.jpg, and for the second one  the JRE is same as mentioned in the terminal  C:\\Program Files\\Java is my directory where JDK remains, by default in Android studio it was this directory configured in my studio  C:\\Program Files\\Android\\Android Studio\\jre","body":"<a href=\"https://i.stack.imgur.com/VxQ2W.jpg\" rel=\"nofollow noreferrer\">i.stack.imgur.com/VxQ2W.jpg</a>, and for the second one  the JRE is same as mentioned in the terminal  C:\\Program Files\\Java is my directory where JDK remains, by default in Android studio it was this directory configured in my studio  C:\\Program Files\\Android\\Android Studio\\jre"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1510679453,"post_id":47291056,"comment_id":81533519,"body_markdown":"`echo %PATH%` and `echo %JAVA_HOME%`.","body":"<code>echo %PATH%</code> and <code>echo %JAVA_HOME%</code>."},{"owner":{"account_id":9859265,"reputation":2743,"user_id":7302815,"display_name":"Viswesvar Sekar"},"score":0,"creation_date":1510680520,"post_id":47291056,"comment_id":81534129,"body_markdown":"For JAVA_HOME its C:\\Users\\viswesvar&gt;echo %JAVA_HOME%\n%JAVA_HOME%   For  echo %JAVA_HOME% C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Program Files","body":"For JAVA_HOME its C:\\Users\\viswesvar&gt;echo %JAVA_HOME% %JAVA_HOME%   For  echo %JAVA_HOME% C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Program Files"},{"owner":{"account_id":7170499,"reputation":533,"user_id":5478126,"display_name":"Pedram Vdl"},"score":1,"creation_date":1547759842,"post_id":47291056,"comment_id":95313354,"body_markdown":"I fixed it by adding JAVA_HOME to C:\\Program Files\\Android\\Android Studio\\jre","body":"I fixed it by adding JAVA_HOME to C:\\Program Files\\Android\\Android Studio\\jre"},{"owner":{"account_id":964918,"reputation":684,"user_id":988521,"accept_rate":50,"display_name":"Natan Lot&#233;rio"},"score":0,"creation_date":1609752602,"post_id":47291056,"comment_id":115910921,"body_markdown":"For MacOS users, check out my answer on another thread: [Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;. &gt; Could not find tools.jar](https://stackoverflow.com/a/65560333/988521)","body":"For MacOS users, check out my answer on another thread: <a href=\"https://stackoverflow.com/a/65560333/988521\">Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;. &gt; Could not find tools.jar</a>"},{"owner":{"account_id":5117561,"reputation":882,"user_id":4102203,"accept_rate":29,"display_name":"tomasantunes"},"score":0,"creation_date":1663839755,"post_id":47291056,"comment_id":130335621,"body_markdown":"My problem was that I had to use JDK instead of JRE.","body":"My problem was that I had to use JDK instead of JRE."}],"answers":[{"comments":[{"owner":{"account_id":2375179,"reputation":516,"user_id":2078777,"accept_rate":40,"display_name":"VijayaKumar Thangavel"},"score":10,"creation_date":1524982098,"post_id":47292211,"comment_id":87183442,"body_markdown":"This works like a charm. gradle.properties file is located in project root directory. If not create a new file gradle.properties\nFor Windows this worked for me  org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_171","body":"This works like a charm. gradle.properties file is located in project root directory. If not create a new file gradle.properties For Windows this worked for me  org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_171"},{"owner":{"account_id":6702788,"reputation":517,"user_id":5168759,"accept_rate":50,"display_name":"Mina Makhtar"},"score":1,"creation_date":1560151810,"post_id":47292211,"comment_id":99628651,"body_markdown":"how about on osx tho? any idea how to get that path?","body":"how about on osx tho? any idea how to get that path?"},{"owner":{"account_id":5398264,"reputation":2190,"user_id":4298789,"accept_rate":33,"display_name":"Harry Sharma"},"score":2,"creation_date":1582808797,"post_id":47292211,"comment_id":106909987,"body_markdown":"I am getting this error Value &#39;C:\\Program Files\\Java\\jdk1.8.0_144&#39; given for org.gradle.java.home Gradle property is invalid (Java home supplied is invalid)","body":"I am getting this error Value &#39;C:\\Program Files\\Java\\jdk1.8.0_144&#39; given for org.gradle.java.home Gradle property is invalid (Java home supplied is invalid)"},{"owner":{"account_id":1752755,"reputation":1026,"user_id":1601476,"accept_rate":20,"display_name":"Nitin_Narale"},"score":0,"creation_date":1657106056,"post_id":47292211,"comment_id":128729213,"body_markdown":"Just Go to your Program File JDK install path like me have \norg.gradle.java.home= &quot;&quot;\nC:\\Program Files\\Java\\jdk1.8.0_111\n\nand add front slash like above answer","body":"Just Go to your Program File JDK install path like me have  org.gradle.java.home= &quot;&quot; C:\\Program Files\\Java\\jdk1.8.0_111  and add front slash like above answer"}],"tags":[],"owner":{"account_id":9859265,"reputation":2743,"user_id":7302815,"display_name":"Viswesvar Sekar"},"comment_count":4,"down_vote_count":2,"up_vote_count":125,"is_accepted":false,"score":123,"last_activity_date":1638974506,"creation_date":1510681768,"answer_id":47292211,"question_id":47291056,"body_markdown":"At last, here I found the solution.\r\n\r\nI added jdk path `org.gradle.java.home=C\\:\\\\Program Files\\\\Java\\\\jdk1.8.0_144` to `gradle.properties` file and did a rebuild. It works now.\r\n\r\n\r\n","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>At last, here I found the solution.</p>\n<p>I added jdk path <code>org.gradle.java.home=C\\:\\\\Program Files\\\\Java\\\\jdk1.8.0_144</code> to <code>gradle.properties</code> file and did a rebuild. It works now.</p>\n"},{"tags":[],"owner":{"account_id":2913386,"reputation":2715,"user_id":2497144,"display_name":"Ton Snoei"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1510930856,"creation_date":1510930856,"answer_id":47353584,"question_id":47291056,"body_markdown":"I had the same problem and fixed it like this:\r\n\r\n 1. Install the JDK from the Oracle website with the same version number\r\n    as the JRE if you didn&#39;t already.  \r\n 2. Furthermore add JAVA_HOME to the environment variables of Windows.  \r\n 3. Restart your terminal or development environment to load the new JAVA_HOME value.\r\n\r\n[![JAVE_HOME in System Environment Variables][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pPnJw.png","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>I had the same problem and fixed it like this:</p>\n\n<ol>\n<li>Install the JDK from the Oracle website with the same version number\nas the JRE if you didn't already.  </li>\n<li>Furthermore add JAVA_HOME to the environment variables of Windows.  </li>\n<li>Restart your terminal or development environment to load the new JAVA_HOME value.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/pPnJw.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pPnJw.png\" alt=\"JAVE_HOME in System Environment Variables\"></a></p>\n"},{"tags":[],"owner":{"account_id":8929222,"reputation":1541,"user_id":6662393,"display_name":"romin21"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523544022,"creation_date":1523544022,"answer_id":49799453,"question_id":47291056,"body_markdown":"What I did was I uninstalled Java from my PC, and then downloaded and installed JDK again from Oracle. After this it worked perfectly. I think the problem was because the JRE and JDK update version were different from each other. ","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>What I did was I uninstalled Java from my PC, and then downloaded and installed JDK again from Oracle. After this it worked perfectly. I think the problem was because the JRE and JDK update version were different from each other. </p>\n"},{"tags":[],"owner":{"account_id":61289,"reputation":2473,"user_id":182738,"accept_rate":38,"display_name":"Marco Aur&#233;lio"},"comment_count":0,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1525920169,"creation_date":1525920169,"answer_id":50264705,"question_id":47291056,"body_markdown":"Just had this happen to me.\r\n\r\nApparently Java&#39;s automatic updater installed and configured a new version of the JRE for me, while leaving the old JDK intact. So even though I did have a JDK, it didn&#39;t match the currently &quot;active&quot; JRE, which was causing the error.\r\n\r\n**[Download *a matching version* of the JDK](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html) to the JRE you currently have installed,** (In OP&#39;s case 151) That should do the trick.","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>Just had this happen to me.</p>\n\n<p>Apparently Java's automatic updater installed and configured a new version of the JRE for me, while leaving the old JDK intact. So even though I did have a JDK, it didn't match the currently \"active\" JRE, which was causing the error.</p>\n\n<p><strong><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"noreferrer\">Download <em>a matching version</em> of the JDK</a> to the JRE you currently have installed,</strong> (In OP's case 151) That should do the trick.</p>\n"},{"comments":[{"owner":{"account_id":13060227,"reputation":1084,"user_id":9437681,"display_name":"Alexei Artsimovich"},"score":3,"creation_date":1547737875,"post_id":51317008,"comment_id":95302219,"body_markdown":"I just updated my Android Studio from version 3.2 to version 3.3 and then faced this problem. After hours of googling your solution finally helped me. Thanks!","body":"I just updated my Android Studio from version 3.2 to version 3.3 and then faced this problem. After hours of googling your solution finally helped me. Thanks!"},{"owner":{"account_id":11182326,"reputation":288,"user_id":8205999,"display_name":"Noblesse"},"score":0,"creation_date":1556275123,"post_id":51317008,"comment_id":98391642,"body_markdown":"After trying so many solutions (changing editors, installing new plugins ...), this one solved my problem, thanks.","body":"After trying so many solutions (changing editors, installing new plugins ...), this one solved my problem, thanks."},{"owner":{"account_id":6072371,"reputation":848,"user_id":6952395,"display_name":"dipakbari4"},"score":2,"creation_date":1564856470,"post_id":51317008,"comment_id":101170325,"body_markdown":"This solution works fine for me. Stunned by copy/paste of tools.jar file manually. Anyway great solution.","body":"This solution works fine for me. Stunned by copy/paste of tools.jar file manually. Anyway great solution."},{"owner":{"account_id":3620977,"reputation":728,"user_id":3019728,"display_name":"masoudmanson"},"score":0,"creation_date":1569044550,"post_id":51317008,"comment_id":102476473,"body_markdown":"This solution worked for me too, thank you &#128515; But this is really weird &#129320;This really needs to be done automatically &#128528;","body":"This solution worked for me too, thank you 😃 But this is really weird 🤨This really needs to be done automatically 😐"},{"owner":{"account_id":1080513,"reputation":3759,"user_id":1077633,"accept_rate":95,"display_name":"kwoxer"},"score":1,"creation_date":1587792806,"post_id":51317008,"comment_id":108654160,"body_markdown":"Damn JDK. Was not able to add it to the system variables as well. But just copying the tools.jar worked perfectly. Thanks.","body":"Damn JDK. Was not able to add it to the system variables as well. But just copying the tools.jar worked perfectly. Thanks."}],"tags":[],"owner":{"account_id":11134207,"reputation":1115,"user_id":8173247,"display_name":"Anup Singh"},"comment_count":5,"down_vote_count":3,"up_vote_count":111,"is_accepted":false,"score":108,"last_activity_date":1531458027,"creation_date":1531450249,"answer_id":51317008,"question_id":47291056,"body_markdown":"    ERROR: Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_121 contains a valid JDK installation\r\n\r\nCopy **tools.jar** from `C:\\Program Files\\Java\\jdk1.8.0_121\\lib` to `C:\\Program Files\\Java\\jre1.8\\lib`.\r\n\r\nIt&#39;s resolved the problem now.","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<pre><code>ERROR: Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_121 contains a valid JDK installation\n</code></pre>\n\n<p>Copy <strong>tools.jar</strong> from <code>C:\\Program Files\\Java\\jdk1.8.0_121\\lib</code> to <code>C:\\Program Files\\Java\\jre1.8\\lib</code>.</p>\n\n<p>It's resolved the problem now.</p>\n"},{"tags":[],"owner":{"account_id":3401324,"reputation":2967,"user_id":2853392,"display_name":"vishal jangid"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548224113,"creation_date":1548224113,"answer_id":54321031,"question_id":47291056,"body_markdown":"Please make sure both JDK and jre are on same version for example if you have JRE version **1.8.0_201** then JDK version should be  **1.8.0_201** version.","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>Please make sure both JDK and jre are on same version for example if you have JRE version <strong>1.8.0_201</strong> then JDK version should be  <strong>1.8.0_201</strong> version.</p>\n"},{"tags":[],"owner":{"display_name":"user9179966"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557332261,"creation_date":1557332261,"answer_id":56045016,"question_id":47291056,"body_markdown":"for tools.jar is in C:\\Program Files\\Java\\jdk1.8.0_201\\lib. I changed installed jre in eclipse. Windows-&gt;Preferences-&gt;Java-&gt;installed JREs and make default jre to point to where your jdk is.","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>for tools.jar is in C:\\Program Files\\Java\\jdk1.8.0_201\\lib. I changed installed jre in eclipse. Windows->Preferences->Java->installed JREs and make default jre to point to where your jdk is.</p>\n"},{"tags":[],"owner":{"account_id":13275628,"reputation":802,"user_id":9585068,"display_name":"Sunny Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1558455740,"creation_date":1558455740,"answer_id":56242592,"question_id":47291056,"body_markdown":"This happens when JDK and JRE have different versions installed on your system. Update the JDK with the matching version of JRE. Also verify that System variable path has bin value from same JDK version.","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>This happens when JDK and JRE have different versions installed on your system. Update the JDK with the matching version of JRE. Also verify that System variable path has bin value from same JDK version.</p>\n"},{"tags":[],"owner":{"account_id":7856116,"reputation":168,"user_id":5937903,"accept_rate":100,"display_name":"cblanto7"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559926882,"creation_date":1559926882,"answer_id":56498542,"question_id":47291056,"body_markdown":"This can occur if your path is too long as well. I solved this by moving my java install to \r\n\r\nC:\\Java\\jdk1.8.0_211","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>This can occur if your path is too long as well. I solved this by moving my java install to </p>\n\n<p>C:\\Java\\jdk1.8.0_211</p>\n"},{"tags":[],"owner":{"account_id":13860162,"reputation":201,"user_id":10005998,"display_name":"Michael Almpertis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560374515,"creation_date":1560374515,"answer_id":56570528,"question_id":47291056,"body_markdown":"What worked for me was updating Android Studio and updating JAVA_HOME and ANDROID_HOME environment variables. I believe it was caused due to the fact that I updated Java Version (through updater) but did not update jdk. ","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>What worked for me was updating Android Studio and updating JAVA_HOME and ANDROID_HOME environment variables. I believe it was caused due to the fact that I updated Java Version (through updater) but did not update jdk. </p>\n"},{"tags":[],"owner":{"account_id":8745795,"reputation":1519,"user_id":6541151,"display_name":"haidar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1563476897,"creation_date":1563476897,"answer_id":57101208,"question_id":47291056,"body_markdown":"My error was solved by uninstalling all java updates and java from control panel and reinstalling JDK","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>My error was solved by uninstalling all java updates and java from control panel and reinstalling JDK</p>\n"},{"comments":[{"owner":{"account_id":3113787,"reputation":301,"user_id":2635014,"display_name":"rachit_verma"},"score":0,"creation_date":1597200918,"post_id":57984310,"comment_id":112053291,"body_markdown":"Thanks a lot, All i had to do was update the version of jre to 1.8 through this method and it worked","body":"Thanks a lot, All i had to do was update the version of jre to 1.8 through this method and it worked"}],"tags":[],"owner":{"account_id":203953,"reputation":5113,"user_id":451894,"accept_rate":53,"display_name":"upog"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568774244,"creation_date":1568774244,"answer_id":57984310,"question_id":47291056,"body_markdown":"In Eclipse\r\n\r\nRight click Project --&gt; Java Build Path --&gt; Libraries \r\n\r\n1. Remove the JRE\r\n2. Click on Add Library --&gt; JRE System Library --&gt;Next --&gt;Alternate JRE --&gt; installed JRE --&gt; Add JDK and select and Apply","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>In Eclipse</p>\n\n<p>Right click Project --> Java Build Path --> Libraries </p>\n\n<ol>\n<li>Remove the JRE</li>\n<li>Click on Add Library --> JRE System Library -->Next -->Alternate JRE --> installed JRE --> Add JDK and select and Apply</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16944841,"reputation":1,"user_id":12255806,"display_name":"Shah Alam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571729069,"creation_date":1571729069,"answer_id":58499062,"question_id":47291056,"body_markdown":"you have to added jdk path org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_102 to gradle.properties\r\nmake sure you write your jdk version which installed in you system.","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>you have to added jdk path org.gradle.java.home=C:\\Program Files\\Java\\jdk1.8.0_102 to gradle.properties\nmake sure you write your jdk version which installed in you system.</p>\n"},{"tags":[],"owner":{"account_id":2833714,"reputation":1932,"user_id":2434726,"accept_rate":80,"display_name":"scottysseus"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576334557,"creation_date":1576334557,"answer_id":59336119,"question_id":47291056,"body_markdown":"My issue was two-fold:\r\n\r\n1. I had the JRE installed, but *not* the JDK.\r\n2. I did not have a JAVA_HOME environment variable set.\r\n\r\nNote: I am using Fedora Linux.\r\n\r\nTo resolve the first issue, I followed [these instructions][1]\r\n\r\nTo resolve the second, I merely added the following line to my `~/.bashrc` file:\r\n\r\n    export JAVA_HOME=/usr/lib/jvm/java/\r\n\r\nI had to restart my IDE and terminals to ensure the change to the `~/.bashrc` took affect.\r\n\r\n  [1]: https://www.digitalocean.com/community/tutorials/how-to-install-java-on-centos-and-fedora","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>My issue was two-fold:</p>\n\n<ol>\n<li>I had the JRE installed, but <em>not</em> the JDK.</li>\n<li>I did not have a JAVA_HOME environment variable set.</li>\n</ol>\n\n<p>Note: I am using Fedora Linux.</p>\n\n<p>To resolve the first issue, I followed <a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-java-on-centos-and-fedora\" rel=\"nofollow noreferrer\">these instructions</a></p>\n\n<p>To resolve the second, I merely added the following line to my <code>~/.bashrc</code> file:</p>\n\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java/\n</code></pre>\n\n<p>I had to restart my IDE and terminals to ensure the change to the <code>~/.bashrc</code> took affect.</p>\n"},{"comments":[{"owner":{"account_id":9446908,"reputation":150,"user_id":7025289,"display_name":"chrisroker0"},"score":0,"creation_date":1648158838,"post_id":59651176,"comment_id":126560982,"body_markdown":"Tank you. for those of us that want a solution to work on multiple operating systems with different file paths this is the answer.","body":"Tank you. for those of us that want a solution to work on multiple operating systems with different file paths this is the answer."}],"tags":[],"owner":{"account_id":13481977,"reputation":191,"user_id":9726986,"display_name":"Sampa"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1578505431,"creation_date":1578505431,"answer_id":59651176,"question_id":47291056,"body_markdown":"The problem is your gradle build is not finding the JAVA_HOME path or JDK folder. So, you could declare the path in gradle.properties like ***org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\[or yours jdk folder name]***.\r\n\r\nUse [this guide][1] for using gradle.properties.\r\n\r\nOr (and I prefer this solution) ***include JAVA_HOME path in systmem variables*** and restart CMD.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/build_environment.html\r\n  [2]: https://i.stack.imgur.com/Gr9bh.png","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>The problem is your gradle build is not finding the JAVA_HOME path or JDK folder. So, you could declare the path in gradle.properties like <strong><em>org.gradle.java.home=C:\\Program Files\\Java\\[or yours jdk folder name]</em></strong>.</p>\n\n<p>Use <a href=\"https://docs.gradle.org/current/userguide/build_environment.html\" rel=\"nofollow noreferrer\">this guide</a> for using gradle.properties.</p>\n\n<p>Or (and I prefer this solution) <strong><em>include JAVA_HOME path in systmem variables</em></strong> and restart CMD.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Gr9bh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gr9bh.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3062561,"reputation":334,"user_id":2594947,"display_name":"user27221"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585438999,"creation_date":1585438999,"answer_id":60908416,"question_id":47291056,"body_markdown":"What I did was download the JDK from [here][1], start a windows command prompt (windows+r CMD) and set the environment variable JAVA_HOME to c:\\Program Files\\Java\\jdk-14 with:\r\n\r\n    set JAVA_HOME=&quot;c:\\Program Files\\Java\\jdk-14&quot;\r\n\r\nThen run what I wanted to run. It failed afterwards, but on a different issue.\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase-jdk14-downloads.html","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>What I did was download the JDK from <a href=\"https://www.oracle.com/java/technologies/javase-jdk14-downloads.html\" rel=\"nofollow noreferrer\">here</a>, start a windows command prompt (windows+r CMD) and set the environment variable JAVA_HOME to c:\\Program Files\\Java\\jdk-14 with:</p>\n\n<pre><code>set JAVA_HOME=\"c:\\Program Files\\Java\\jdk-14\"\n</code></pre>\n\n<p>Then run what I wanted to run. It failed afterwards, but on a different issue.</p>\n"},{"tags":[],"owner":{"account_id":14107478,"reputation":59,"user_id":10191179,"display_name":"ochieng seth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609917116,"creation_date":1609917116,"answer_id":65591589,"question_id":47291056,"body_markdown":"In my case, i had installed only the JRE so you could check to make sure you actually have a valid jdk. if not i advise you to uninstall whatever java is installed and [download a correct jdk from here][1] (the jdk comes with a jre so no need to download anything else) after set the environment variable and your done\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase-downloads.html","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>In my case, i had installed only the JRE so you could check to make sure you actually have a valid jdk. if not i advise you to uninstall whatever java is installed and <a href=\"https://www.oracle.com/java/technologies/javase-downloads.html\" rel=\"nofollow noreferrer\">download a correct jdk from here</a> (the jdk comes with a jre so no need to download anything else) after set the environment variable and your done</p>\n"},{"tags":[],"owner":{"account_id":20402228,"reputation":21,"user_id":14967696,"display_name":"Blogging Mafiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1610140131,"creation_date":1610126228,"answer_id":65633466,"question_id":47291056,"body_markdown":"**Solution 1:**\r\n1. Go to your android folder &gt; Gradle.properties &gt; add your jdk path.\r\n2. Clean and rebuild then it is done.\r\n// For Example Purpose Only\r\n\r\n    org.gradle.java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home\r\n\r\n**Solution 2**\r\nAt last, here I found the solution.\r\n\r\n1. Add jdk path\r\n\r\n    ```org.gradle.java.home=YOU_PATH_TO_JDK\r\n    to gradle.properties file and did a rebuild.\r\n2. This will also solve your error.\r\n\r\nHere is all Solution **[could not find tools.jar][1]**\r\n\r\n\r\n  [1]: https://fluttercorner.com/how-to-solve-flutter-could-not-find-tools-jar/","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p><strong>Solution 1:</strong></p>\n<ol>\n<li><p>Go to your android folder &gt; Gradle.properties &gt; add your jdk path.</p>\n</li>\n<li><p>Clean and rebuild then it is done.\n// For Example Purpose Only</p>\n<p>org.gradle.java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home</p>\n</li>\n</ol>\n<p><strong>Solution 2</strong>\nAt last, here I found the solution.</p>\n<ol>\n<li><p>Add jdk path</p>\n<pre><code>to gradle.properties file and did a rebuild.\n</code></pre>\n</li>\n<li><p>This will also solve your error.</p>\n</li>\n</ol>\n<p>Here is all Solution <strong><a href=\"https://fluttercorner.com/how-to-solve-flutter-could-not-find-tools-jar/\" rel=\"nofollow noreferrer\">could not find tools.jar</a></strong></p>\n"},{"tags":[],"owner":{"account_id":13454565,"reputation":3196,"user_id":9708440,"display_name":"Lakpriya Senevirathna"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1618830985,"creation_date":1618830985,"answer_id":67160947,"question_id":47291056,"body_markdown":"If you can not find **Tools.jar** in **JAVA_HOME**, You can use this method. But you have to have **Android Studio** in your PC.\r\n\r\n    org.gradle.java.home=C:\\\\Program Files\\\\Android\\\\Android Studio\\\\jre\r\n\r\nPlace this in ```your project &gt; android &gt; gradle.properties``` \r\n\r\n","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>If you can not find <strong>Tools.jar</strong> in <strong>JAVA_HOME</strong>, You can use this method. But you have to have <strong>Android Studio</strong> in your PC.</p>\n<pre><code>org.gradle.java.home=C:\\\\Program Files\\\\Android\\\\Android Studio\\\\jre\n</code></pre>\n<p>Place this in <code>your project &gt; android &gt; gradle.properties</code></p>\n"},{"tags":[],"owner":{"account_id":18010696,"reputation":494,"user_id":13090441,"display_name":"Caro P&#233;rez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622150407,"creation_date":1622150407,"answer_id":67730135,"question_id":47291056,"body_markdown":"In my case it was because the JAVA_HOME path could not find it.\r\n\r\n - Close all terminals and open a new one\r\n\r\n - Find a directory like this on your **Mac**:\r\n   /Library/Java/JavaVirtualMachines/jdk1.8.0_91.jdk/Contents/Home\r\n   \r\n  \r\n - What may change is the version, but once you have it, it runs in that \r\n   path: \r\nexport JAVA_HOME = / Library / Java / JavaVirtualMachines / \r\n   jdk1.8.0_91.jdk / Contents / Home\r\n\r\n\r\n\r\n\r\nIN MY CASE I RUN THIS COMMAND AT THE ROOT OF THE REACT NATIVE PROJECT:\r\n\r\n    export JAVA_HOME=/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\r\n\r\n \r\n\r\nAND IT WORKED.","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>In my case it was because the JAVA_HOME path could not find it.</p>\n<ul>\n<li><p>Close all terminals and open a new one</p>\n</li>\n<li><p>Find a directory like this on your <strong>Mac</strong>:\n/Library/Java/JavaVirtualMachines/jdk1.8.0_91.jdk/Contents/Home</p>\n</li>\n<li><p>What may change is the version, but once you have it, it runs in that\npath:\nexport JAVA_HOME = / Library / Java / JavaVirtualMachines /\njdk1.8.0_91.jdk / Contents / Home</p>\n</li>\n</ul>\n<p>IN MY CASE I RUN THIS COMMAND AT THE ROOT OF THE REACT NATIVE PROJECT:</p>\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\n</code></pre>\n<p>AND IT WORKED.</p>\n"},{"tags":[],"owner":{"account_id":14649584,"reputation":3561,"user_id":10579969,"display_name":"Navin Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628685518,"creation_date":1628685518,"answer_id":68742212,"question_id":47291056,"body_markdown":"**Goto android folder** -&gt; **gradle.properties** -&gt; \r\nadd your java sdk path \r\n\r\n    org.gradle.java.home=/Users/userName/Library/Java/JavaVirtualMachines/corretto-1.8.0_302/Contents/Home/jre","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p><strong>Goto android folder</strong> -&gt; <strong>gradle.properties</strong> -&gt;\nadd your java sdk path</p>\n<pre><code>org.gradle.java.home=/Users/userName/Library/Java/JavaVirtualMachines/corretto-1.8.0_302/Contents/Home/jre\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21992174,"reputation":1,"user_id":16787578,"display_name":"Brayan Sanchez"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1630331421,"creation_date":1630331238,"answer_id":68985225,"question_id":47291056,"body_markdown":"I tried several of the above ways, but none worked for me, try the following; download the following java version [Link download in Oracle][2], after downloading and installing it, add this to the gradle.properties file\r\n`org.gradle.java.home = C: \\\\ Program Files \\\\ Java \\\\ jdk1.8.0_301` and that&#39;s it, restart the vs code and simulate again, and it worked! \r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\r\n  [2]: https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>I tried several of the above ways, but none worked for me, try the following; download the following java version <a href=\"https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\" rel=\"nofollow noreferrer\">Link download in Oracle</a>, after downloading and installing it, add this to the gradle.properties file\n<code>org.gradle.java.home = C: \\\\ Program Files \\\\ Java \\\\ jdk1.8.0_301</code> and that's it, restart the vs code and simulate again, and it worked!</p>\n"},{"tags":[],"owner":{"account_id":11982746,"reputation":240,"user_id":8768147,"display_name":"Amina Bekir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636109842,"creation_date":1636109842,"answer_id":69852174,"question_id":47291056,"body_markdown":"I faced the same problem when I installed the new android studio version and this solution works for me, so if you don&#39;t have JDK installed in the java folder or isn&#39;t the same version as JRE then you should install it (should JRE and JDK be in the same version, for example, both of them be in this version 1.8.0).\r\n\r\ninstall it from this link =&gt; [download JDK from Oracle][1]\r\n\r\nthen copy tools.jar from (JDK folder) ==&gt; jdk1.8.0../lib  and paste it in (JRE folder) ==&gt; jre1.8.0../lib \r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>I faced the same problem when I installed the new android studio version and this solution works for me, so if you don't have JDK installed in the java folder or isn't the same version as JRE then you should install it (should JRE and JDK be in the same version, for example, both of them be in this version 1.8.0).</p>\n<p>install it from this link =&gt; <a href=\"https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html\" rel=\"nofollow noreferrer\">download JDK from Oracle</a></p>\n<p>then copy tools.jar from (JDK folder) ==&gt; jdk1.8.0../lib  and paste it in (JRE folder) ==&gt; jre1.8.0../lib</p>\n"},{"tags":[],"owner":{"account_id":18479864,"reputation":349,"user_id":13462325,"display_name":"Prashant S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640628767,"creation_date":1640628767,"answer_id":70498992,"question_id":47291056,"body_markdown":"I had to add system environment variable JAVA_HOME and restart workspace. It solved the problem.","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>I had to add system environment variable JAVA_HOME and restart workspace. It solved the problem.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1641175792,"post_id":70557868,"comment_id":124732977,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/70557868/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22999289,"reputation":1,"user_id":17123487,"display_name":"Dijal Tom"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641625291,"creation_date":1641142263,"answer_id":70557868,"question_id":47291056,"body_markdown":"First of all you guys needs to check on your tool versions.\r\nbelow version may solve most of the problems.\r\n\r\n 1. jdk - v11\r\n 2. node - v16.13.1\r\n 3. Gradle - v6.1.1\r\n ","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>First of all you guys needs to check on your tool versions.\nbelow version may solve most of the problems.</p>\n<ol>\n<li>jdk - v11</li>\n<li>node - v16.13.1</li>\n<li>Gradle - v6.1.1</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":25697542,"reputation":11,"user_id":19458013,"display_name":"Sunil Kumar Choudari"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664708712,"creation_date":1664393741,"answer_id":73886926,"question_id":47291056,"body_markdown":"To Solve ERROR: Could not find tools.jar. Please check that **C:\\Program Files\\Java\\jre1.8.0_151** contains a valid JDK installation Error You Just need to add the java home JDK path in gradle.properties Just like this: \r\n`org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_144` Then try to rebuild project. Now your error must be solved. \r\n\r\nThe second solution is You just need to add tools.jar file to **C:\\Program Files\\Java\\jre1.8\\lib** this Path. First of all Copy tools.jar file from **C:\\Program Files\\Java\\jdk1.8.0_121\\lib** and then Paste into **C:\\Program Files\\Java\\jre1.8\\lib** Here. Now your error must be solved","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>To Solve ERROR: Could not find tools.jar. Please check that <strong>C:\\Program Files\\Java\\jre1.8.0_151</strong> contains a valid JDK installation Error You Just need to add the java home JDK path in gradle.properties Just like this:\n<code>org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_144</code> Then try to rebuild project. Now your error must be solved.</p>\n<p>The second solution is You just need to add tools.jar file to <strong>C:\\Program Files\\Java\\jre1.8\\lib</strong> this Path. First of all Copy tools.jar file from <strong>C:\\Program Files\\Java\\jdk1.8.0_121\\lib</strong> and then Paste into <strong>C:\\Program Files\\Java\\jre1.8\\lib</strong> Here. Now your error must be solved</p>\n"},{"tags":[],"owner":{"account_id":25798642,"reputation":5,"user_id":19541435,"display_name":"lambo9495"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666181201,"creation_date":1666181201,"answer_id":74125044,"question_id":47291056,"body_markdown":"After I&#39;ve read the threads above, there are three approaches I&#39;ve tried that work for me:\r\n\r\n - open system variable environment, add a new system variable named `JAVA_HOME` and set its value to your JDK path containing the &#39;tools.jar&#39; file e.g. `C:\\Program Files\\Java\\jdk1.8.0_311`.\r\n - create a `gradle.properties` file in your project and add the following line `org.gradle.java.home=&lt;your JDK path e.g. C:\\\\Program Files\\\\Java\\\\jdk1.8.0_311&gt;`\r\n- copy the &quot;tools.jar&quot; file from your JDK folder and paste it in the JRE folder that caused the error. You could find your jar file in lib folder of your jdk path e.g. `C:\\Program Files\\Java\\jdk1.8.0_311\\lib` ","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>After I've read the threads above, there are three approaches I've tried that work for me:</p>\n<ul>\n<li>open system variable environment, add a new system variable named <code>JAVA_HOME</code> and set its value to your JDK path containing the 'tools.jar' file e.g. <code>C:\\Program Files\\Java\\jdk1.8.0_311</code>.</li>\n<li>create a <code>gradle.properties</code> file in your project and add the following line <code>org.gradle.java.home=&lt;your JDK path e.g. C:\\\\Program Files\\\\Java\\\\jdk1.8.0_311&gt;</code></li>\n<li>copy the &quot;tools.jar&quot; file from your JDK folder and paste it in the JRE folder that caused the error. You could find your jar file in lib folder of your jdk path e.g. <code>C:\\Program Files\\Java\\jdk1.8.0_311\\lib</code></li>\n</ul>\n"}],"owner":{"account_id":9859265,"reputation":2743,"user_id":7302815,"display_name":"Viswesvar Sekar"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229738,"favorite_count":0,"down_vote_count":1,"up_vote_count":124,"answer_count":27,"score":123,"last_activity_date":1666181201,"creation_date":1510678004,"question_id":47291056,"body_markdown":"Even though I manually configured JDK project structure [file/Project structure][1] it still shows this error \r\nFAILURE: Build failed with an exception.\r\n\r\n`What went wrong:\r\nExecution failed for task &#39;:sample:compileReleaseJavaWithJavac&#39;.\r\n&gt; Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation.`\r\n\r\nI&#39;m confused why it is still looking for C:\\Program Files\\Java\\jre1.8.0_151 instead of JDK\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VxQ2W.jpg","title":"Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation","body":"<p>Even though I manually configured JDK project structure <a href=\"https://i.stack.imgur.com/VxQ2W.jpg\" rel=\"noreferrer\">file/Project structure</a> it still shows this error \nFAILURE: Build failed with an exception.</p>\n\n<p>`What went wrong:\nExecution failed for task ':sample:compileReleaseJavaWithJavac'.</p>\n\n<blockquote>\n  <p>Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_151 contains a valid JDK installation.`</p>\n</blockquote>\n\n<p>I'm confused why it is still looking for C:\\Program Files\\Java\\jre1.8.0_151 instead of JDK</p>\n"},{"tags":["java","coding-style","comments"],"comments":[{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":1,"creation_date":1666099515,"post_id":74110832,"comment_id":130851266,"body_markdown":"Have you asked your colleagues? What is their explanation?","body":"Have you asked your colleagues? What is their explanation?"},{"owner":{"account_id":17952141,"reputation":97,"user_id":13045051,"display_name":"sueszli"},"score":0,"creation_date":1666109176,"post_id":74110832,"comment_id":130855513,"body_markdown":"@jaco0646 we don&#39;t know who exactly was responsible for these","body":"@jaco0646 we don&#39;t know who exactly was responsible for these"},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1666111146,"post_id":74110832,"comment_id":130856185,"body_markdown":"I don&#39;t mean to belabor the point, but do you not have a version control system that tracks edits to the code base? A VCS can tell you who wrote these lines and when.","body":"I don&#39;t mean to belabor the point, but do you not have a version control system that tracks edits to the code base? A VCS can tell you who wrote these lines and when."},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1666116693,"post_id":74110832,"comment_id":130858116,"body_markdown":"This convention is specific to Java, perhaps specific to a tool used by Java programmers, and has nothing to do with OOP. (For that matter, there are many arguments against calling Java an OO language.) Anyway, if you want to understand why your coworkers did something, **ask them**. We aren&#39;t mind-readers.","body":"This convention is specific to Java, perhaps specific to a tool used by Java programmers, and has nothing to do with OOP. (For that matter, there are many arguments against calling Java an OO language.) Anyway, if you want to understand why your coworkers did something, <b>ask them</b>. We aren&#39;t mind-readers."}],"answers":[{"tags":[],"owner":{"account_id":17952141,"reputation":97,"user_id":13045051,"display_name":"sueszli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666181121,"creation_date":1666181121,"answer_id":74125032,"question_id":74110832,"body_markdown":"Turns out that the reason some Java developers use it, is because it is an IntelliJ idea feature: https://stackoverflow.com/questions/2344524/java-equivalent-to-region-in-c-sharp\r\n","title":"What do the comments `// &lt;name&gt; ::` and `// :: &lt;name&gt;` to mark code segments in Java mean?","body":"<p>Turns out that the reason some Java developers use it, is because it is an IntelliJ idea feature: <a href=\"https://stackoverflow.com/questions/2344524/java-equivalent-to-region-in-c-sharp\">Java equivalent to #region in C#</a></p>\n"}],"owner":{"account_id":17952141,"reputation":97,"user_id":13045051,"display_name":"sueszli"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74125032,"answer_count":1,"score":-1,"last_activity_date":1666181121,"creation_date":1666095452,"question_id":74110832,"body_markdown":"I&#39;ve noticed that colleagues of mine use the following comments in Java classes to mark a group of declarations as coherent parts.\r\n\r\nI&#39;ve noticed that these comments are used frequently. Where do they come from? What do they mean? Why do people do this? Is this some sort of trend or does it come from another language that I have never heard of?\r\n\r\n```\r\n// age verification ::\r\n\r\nprivate boolean verifiyAdult(UserAccount a) { ... }\r\nprivate boolean verifyBornInPast(UserAccount a) { ... }\r\nprivate boolean verifyNotBornInFuture(UserAccount a) { ... }\r\n\r\n// :: age verfication\r\n```\r\n\r\nI can understand why someone would want to mark a large segment as cohesive, but I can&#39;t understand what the two colons are for.","title":"What do the comments `// &lt;name&gt; ::` and `// :: &lt;name&gt;` to mark code segments in Java mean?","body":"<p>I've noticed that colleagues of mine use the following comments in Java classes to mark a group of declarations as coherent parts.</p>\n<p>I've noticed that these comments are used frequently. Where do they come from? What do they mean? Why do people do this? Is this some sort of trend or does it come from another language that I have never heard of?</p>\n<pre><code>// age verification ::\n\nprivate boolean verifiyAdult(UserAccount a) { ... }\nprivate boolean verifyBornInPast(UserAccount a) { ... }\nprivate boolean verifyNotBornInFuture(UserAccount a) { ... }\n\n// :: age verfication\n</code></pre>\n<p>I can understand why someone would want to mark a large segment as cohesive, but I can't understand what the two colons are for.</p>\n"},{"tags":["java","database","jsp","servlets"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1666009197,"post_id":74097139,"comment_id":130826266,"body_markdown":"None of your code validates any input. All it does is an if/elseif/else on `submitType`.","body":"None of your code validates any input. All it does is an if/elseif/else on <code>submitType</code>."},{"owner":{"account_id":21002977,"reputation":1,"user_id":15433394,"display_name":"Gowtham Melur"},"score":0,"creation_date":1666009769,"post_id":74097139,"comment_id":130826466,"body_markdown":"i added my code which validates","body":"i added my code which validates"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1666009961,"post_id":74097139,"comment_id":130826529,"body_markdown":"Your code still does not validate anything usefully. If the credentials are wrong, your query returns an empty ResultSet, in which case you still do not react to that and return a `new Shop();`.","body":"Your code still does not validate anything usefully. If the credentials are wrong, your query returns an empty ResultSet, in which case you still do not react to that and return a <code>new Shop();</code>."}],"answers":[{"tags":[],"owner":{"account_id":2346767,"reputation":43,"user_id":2056813,"display_name":"Lucas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666180543,"creation_date":1666180543,"answer_id":74124902,"question_id":74097139,"body_markdown":"Your code should look like this:\r\n\r\n```\r\nShop s = S.getShop(shopName, password);\r\nSystem.out.println(s.getShopname() + s.getPassword());\r\n\r\nif (null != s.getName()) {\r\n    request.setAttribute(&quot;message&quot;, s.getName());\r\n    request.getRequestDispatcher(&quot;Home.jsp&quot;).forward(request, response);\r\n} else {\r\n    request.setAttribute(&quot;message&quot;, &quot;Data Not Found,click on Register !!!&quot;);\r\n    request.getRequestDispatcher(&quot;login.jsp&quot;).forward(request, response);\r\n}\r\n```","title":"login page works without correct credentials in java jsp servlet with database","body":"<p>Your code should look like this:</p>\n<pre><code>Shop s = S.getShop(shopName, password);\nSystem.out.println(s.getShopname() + s.getPassword());\n\nif (null != s.getName()) {\n    request.setAttribute(&quot;message&quot;, s.getName());\n    request.getRequestDispatcher(&quot;Home.jsp&quot;).forward(request, response);\n} else {\n    request.setAttribute(&quot;message&quot;, &quot;Data Not Found,click on Register !!!&quot;);\n    request.getRequestDispatcher(&quot;login.jsp&quot;).forward(request, response);\n}\n</code></pre>\n"}],"owner":{"account_id":21002977,"reputation":1,"user_id":15433394,"display_name":"Gowtham Melur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1666180543,"creation_date":1666009005,"question_id":74097139,"body_markdown":"Hello i am new to stackoverflow.Recently i developed a project with login,Registration page using java servlets and database.Yesterday my code runs with correct only(if i put wrong credentials,it shows&quot;Data not found ,click on register&quot;)..Today i run the same code,with putting wrong credentials,it automatically login without validating.Please resolve my issues.Hereby i attached my code\r\n\r\n   **MyShopDAOimplcode**\r\n    \r\n    package login.sg.registration;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    \r\n    public class ShopDAOimpl implements ShopDAO {\r\n    \r\n    \tstatic Connection con;\r\n    \tstatic PreparedStatement ps;\r\n    \t\r\n    \t@Override\r\n    \tpublic int insertShopName(Shop s) {\r\n    \t\t\r\n    \t\tint status=0;\r\n    \t\ttry {\r\n    \t\t\tcon=MyConnectionProvider.getCon();\r\n    \t\t\tps=con.prepareStatement(&quot;insert into shop123  (id,shopName,password,ownerName,address) values(?,?,?,?,?)&quot;);\r\n    \t\t\tps.setString(1, s.getId());\r\n    \t\t\tps.setString(2, s.getShopname());\r\n    \t\t\tps.setString(3, s.getPassword());\r\n    \t\t\tps.setString(4, s.getName());\r\n    \t\t\tps.setString(5, s.getAddress());\r\n    \t\t\t//System.out.println(&quot;new comment&quot; + s.getShopname());\r\n    \t\t\tstatus=ps.executeUpdate();\r\n    \t\t\tSystem.out.println(&quot;insert ps  &quot; + ps);\r\n    \t\t\tcon.close();\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t}catch(Exception e) {\r\n    \t\t\tSystem.out.println(e);\r\n    \t\t}\r\n    \t\treturn status;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Shop getShop(String Shopname, String pass) {\r\n    \t\t\r\n    \t\tShop s= new Shop();\r\n    \t\ttry {\r\n    \t\t\tcon=MyConnectionProvider.getCon();\t\r\n    \t\t\t//System.out.println(&quot;after connection&quot;);\r\n    \t\t\tps=con.prepareStatement(&quot;select * from  shop123 where shopname=? and password=?&quot;);\r\n    \t\t\tps.setString(1, Shopname);\r\n    \t\t\tps.setString(2, pass);\r\n    \t\t\t//System.out.println(ps);\r\n    \t\t\tSystem.out.println(Shopname);\r\n    \t\t\tResultSet rs=ps.executeQuery();\r\n    \t\t\twhile(rs.next()) {\r\n    \t\t\t\ts.setShopname(rs.getString(1));\r\n    \t\t\t\ts.setPassword(rs.getString(2));\r\n    \t\t\t\ts.setName(rs.getString(3));\r\n    \t\t\t}\r\n    \t\t\t}catch(Exception e) {\r\n    \t\t\tSystem.out.println(e);\r\n    \t\t}\r\n    \treturn s;\r\n    \t\t\r\n    \t}\r\n    \r\n    \t}\r\n\r\n\r\n **my LoginRegister code**\r\n\r\n    package login.sg.registration;\r\n    \r\n    import java.io.IOException;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    \r\n    \r\n    @WebServlet(&quot;/LoginRegister&quot;)\r\n    public class LoginRegister extends HttpServlet {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n           \r\n    \r\n    \r\n        public LoginRegister() {\r\n            super();\r\n            // TODO Auto-generated constructor stub\r\n        }\r\n    \tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n            ShopDAO S= new ShopDAOimpl();\r\n            String submitType=request.getParameter(&quot;submit&quot;);\r\n    \r\n    \t\tif(submitType.equals(&quot;login&quot;)){\r\n    \t\t\tString shopName=request.getParameter(&quot;name&quot;);\r\n    \t\t\t   // System.out.println(shopName);\r\n    \t\t\t\tString password=request.getParameter(&quot;password1&quot;);\r\n    \r\n    \t\t\t\tShop s=S.getShop(shopName, password);\r\n    \t\t\t\tSystem.out.println(s.getShopname()+s.getPassword());\r\n    \t\t\trequest.setAttribute(&quot;message&quot;, s.getName());\r\n    \t\t\trequest.getRequestDispatcher(&quot;Home.jsp&quot;).forward(request, response);\r\n    \t\t\t\r\n    \t\t}else if(submitType.equals(&quot;register&quot;)) {\r\n    \t\t\t//System.out.println(&quot;register now function starts&quot;);\r\n    \t\t\tShop s = new Shop();\r\n    \t\t\ts.setShopname(request.getParameter(&quot;shopname&quot;));\r\n    \t\t\t//System.out.println(&quot;test comment &quot; +request.getParameter(&quot;shopname&quot;));\r\n    \t\t\ts.setPassword(request.getParameter(&quot;password1&quot;));\r\n    \t\t\ts.setName(request.getParameter(&quot;name&quot;));\r\n    \t\t\ts.setAddress(request.getParameter(&quot;address&quot;));\r\n    \t\t\ts.setId(request.getParameter(&quot;id&quot;));\r\n    \t\t\trequest.getParameter (&quot;password1&quot;);\r\n    \t\t\tS.insertShopName(s);\r\n    \t\t\trequest.setAttribute(&quot;successMessage&quot;,&quot;Registration Sucessfull!!!...login using your credentials&quot;);\r\n    \t\t\trequest.getRequestDispatcher(&quot;login.jsp&quot;).forward(request, response);\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t}else {\r\n    \t\t\trequest.setAttribute(&quot;message&quot;,&quot;Data Not Found,click on Register !!!&quot;);\r\n    \t\t\trequest.getRequestDispatcher(&quot;login.jsp&quot;).forward(request, response);\t\t\r\n    \t\t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"login page works without correct credentials in java jsp servlet with database","body":"<p>Hello i am new to stackoverflow.Recently i developed a project with login,Registration page using java servlets and database.Yesterday my code runs with correct only(if i put wrong credentials,it shows&quot;Data not found ,click on register&quot;)..Today i run the same code,with putting wrong credentials,it automatically login without validating.Please resolve my issues.Hereby i attached my code</p>\n<p><strong>MyShopDAOimplcode</strong></p>\n<pre><code>package login.sg.registration;\n\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\n\npublic class ShopDAOimpl implements ShopDAO {\n\n    static Connection con;\n    static PreparedStatement ps;\n    \n    @Override\n    public int insertShopName(Shop s) {\n        \n        int status=0;\n        try {\n            con=MyConnectionProvider.getCon();\n            ps=con.prepareStatement(&quot;insert into shop123  (id,shopName,password,ownerName,address) values(?,?,?,?,?)&quot;);\n            ps.setString(1, s.getId());\n            ps.setString(2, s.getShopname());\n            ps.setString(3, s.getPassword());\n            ps.setString(4, s.getName());\n            ps.setString(5, s.getAddress());\n            //System.out.println(&quot;new comment&quot; + s.getShopname());\n            status=ps.executeUpdate();\n            System.out.println(&quot;insert ps  &quot; + ps);\n            con.close();\n            \n            \n        }catch(Exception e) {\n            System.out.println(e);\n        }\n        return status;\n    }\n\n    @Override\n    public Shop getShop(String Shopname, String pass) {\n        \n        Shop s= new Shop();\n        try {\n            con=MyConnectionProvider.getCon();  \n            //System.out.println(&quot;after connection&quot;);\n            ps=con.prepareStatement(&quot;select * from  shop123 where shopname=? and password=?&quot;);\n            ps.setString(1, Shopname);\n            ps.setString(2, pass);\n            //System.out.println(ps);\n            System.out.println(Shopname);\n            ResultSet rs=ps.executeQuery();\n            while(rs.next()) {\n                s.setShopname(rs.getString(1));\n                s.setPassword(rs.getString(2));\n                s.setName(rs.getString(3));\n            }\n            }catch(Exception e) {\n            System.out.println(e);\n        }\n    return s;\n        \n    }\n\n    }\n</code></pre>\n<p><strong>my LoginRegister code</strong></p>\n<pre><code>package login.sg.registration;\n\nimport java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n\n\n@WebServlet(&quot;/LoginRegister&quot;)\npublic class LoginRegister extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n       \n\n\n    public LoginRegister() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        ShopDAO S= new ShopDAOimpl();\n        String submitType=request.getParameter(&quot;submit&quot;);\n\n        if(submitType.equals(&quot;login&quot;)){\n            String shopName=request.getParameter(&quot;name&quot;);\n               // System.out.println(shopName);\n                String password=request.getParameter(&quot;password1&quot;);\n\n                Shop s=S.getShop(shopName, password);\n                System.out.println(s.getShopname()+s.getPassword());\n            request.setAttribute(&quot;message&quot;, s.getName());\n            request.getRequestDispatcher(&quot;Home.jsp&quot;).forward(request, response);\n            \n        }else if(submitType.equals(&quot;register&quot;)) {\n            //System.out.println(&quot;register now function starts&quot;);\n            Shop s = new Shop();\n            s.setShopname(request.getParameter(&quot;shopname&quot;));\n            //System.out.println(&quot;test comment &quot; +request.getParameter(&quot;shopname&quot;));\n            s.setPassword(request.getParameter(&quot;password1&quot;));\n            s.setName(request.getParameter(&quot;name&quot;));\n            s.setAddress(request.getParameter(&quot;address&quot;));\n            s.setId(request.getParameter(&quot;id&quot;));\n            request.getParameter (&quot;password1&quot;);\n            S.insertShopName(s);\n            request.setAttribute(&quot;successMessage&quot;,&quot;Registration Sucessfull!!!...login using your credentials&quot;);\n            request.getRequestDispatcher(&quot;login.jsp&quot;).forward(request, response);   \n            \n            \n        }else {\n            request.setAttribute(&quot;message&quot;,&quot;Data Not Found,click on Register !!!&quot;);\n            request.getRequestDispatcher(&quot;login.jsp&quot;).forward(request, response);       \n            }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","regex","java.util.scanner"],"comments":[{"owner":{"account_id":46195,"reputation":2818,"user_id":136401,"accept_rate":94,"display_name":"Razvi"},"score":0,"creation_date":1262196210,"post_id":1981497,"comment_id":1897159,"body_markdown":"Found the bug, i have to use (\\r\\n)|;. I was parsing something like this: string;number\\r\\n... and it didn&#39;t take something like 100\\r as a number.","body":"Found the bug, i have to use (\\r\\n)|;. I was parsing something like this: string;number\\r\\n... and it didn&#39;t take something like 100\\r as a number."}],"answers":[{"comments":[{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":1,"creation_date":1262200117,"post_id":1981521,"comment_id":1897595,"body_markdown":"You can go either way. If you use two backslashes, the regex compiler sees `\\n` and interprets it as the escape sequence for a linefeed. If you use one backslash, the regex compiler sees an actual linefeed character, which it matches literally.  But I would definitely go with the character-class version: `&quot;[\\\\n;]&quot;` or `&quot;[\\n;]&quot;`; it&#39;s easier to read as well as more efficient.","body":"You can go either way. If you use two backslashes, the regex compiler sees <code>\\n</code> and interprets it as the escape sequence for a linefeed. If you use one backslash, the regex compiler sees an actual linefeed character, which it matches literally.  But I would definitely go with the character-class version: <code>&quot;[\\\\n;]&quot;</code> or <code>&quot;[\\n;]&quot;</code>; it&#39;s easier to read as well as more efficient."},{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":0,"creation_date":1262202050,"post_id":1981521,"comment_id":1897785,"body_markdown":"@Alan Moore:  Ah, OK... I just assumed that a literal line break would be misinterpreted.","body":"@Alan Moore:  Ah, OK... I just assumed that a literal line break would be misinterpreted."}],"tags":[],"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1666180402,"creation_date":1262195946,"answer_id":1981521,"question_id":1981497,"body_markdown":"As a general rule, in patterns, you need to double the `\\`.\r\n\r\nSo, try \r\n    \r\n    Scanner.useDelimiter(Pattern.compile(&quot;(\\\\n)|;&quot;));\r\nor\r\n\r\n    Scanner.useDelimiter(Pattern.compile(&quot;[\\\\n;]&quot;));\r\n\r\n***Edit***: If `\\r\\n` is the problem, you might want to try this:\r\n\r\n    Scanner.useDelimiter(Pattern.compile(&quot;[\\\\r\\\\n;]+&quot;));\r\n\r\nwhich matches one or more of `\\r`, `\\n`, and `;`.\r\n\r\n*Note*: I haven&#39;t tried these.","title":"Java Scanner question","body":"<p>As a general rule, in patterns, you need to double the <code>\\</code>.</p>\n<p>So, try</p>\n<pre><code>Scanner.useDelimiter(Pattern.compile(&quot;(\\\\n)|;&quot;));\n</code></pre>\n<p>or</p>\n<pre><code>Scanner.useDelimiter(Pattern.compile(&quot;[\\\\n;]&quot;));\n</code></pre>\n<p><em><strong>Edit</strong></em>: If <code>\\r\\n</code> is the problem, you might want to try this:</p>\n<pre><code>Scanner.useDelimiter(Pattern.compile(&quot;[\\\\r\\\\n;]+&quot;));\n</code></pre>\n<p>which matches one or more of <code>\\r</code>, <code>\\n</code>, and <code>;</code>.</p>\n<p><em>Note</em>: I haven't tried these.</p>\n"},{"tags":[],"owner":{"account_id":191,"reputation":24539,"user_id":235,"display_name":"Joshua McKinnon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1262197748,"creation_date":1262197748,"answer_id":1981690,"question_id":1981497,"body_markdown":"Looking at the OP&#39;s comment, it looks like it was a different line ending (\\r\\n or CRLF) that was the problem.\r\n\r\nHere&#39;s my answer, which would handle multiple semicolons and line endings in either format (may or may not be desired)\r\n\r\n    Scanner.useDelimiter(Pattern.compile(&quot;([\\n;]|(\\r\\n))+&quot;));\r\n\r\ne.g. an input file that looks like this:\r\n\r\n    1\r\n    \r\n    \r\n    2;3;;4\r\n    5\r\n\r\nwould result in 1,2,3,4,5\r\n\r\nI tried normal \\n and \\\\\\\\n - both worked in my case, though I agree if you need a normal backslash you would want to double it as it is an escape character. It just so happens that in this case, &quot;\\n&quot; becomes the desired character with or without the extra &#39;\\&#39;","title":"Java Scanner question","body":"<p>Looking at the OP's comment, it looks like it was a different line ending (\\r\\n or CRLF) that was the problem.</p>\n\n<p>Here's my answer, which would handle multiple semicolons and line endings in either format (may or may not be desired)</p>\n\n<pre><code>Scanner.useDelimiter(Pattern.compile(\"([\\n;]|(\\r\\n))+\"));\n</code></pre>\n\n<p>e.g. an input file that looks like this:</p>\n\n<pre><code>1\n\n\n2;3;;4\n5\n</code></pre>\n\n<p>would result in 1,2,3,4,5</p>\n\n<p>I tried normal \\n and \\\\n - both worked in my case, though I agree if you need a normal backslash you would want to double it as it is an escape character. It just so happens that in this case, \"\\n\" becomes the desired character with or without the extra '\\'</p>\n"},{"tags":[],"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1262202912,"creation_date":1262202912,"answer_id":1982101,"question_id":1981497,"body_markdown":"As you&#39;ve discovered, you needed to look for DOS/network style `\\r\\n` (CRLF) line separators instead of the Unix style `\\n` (LF only).  But what if the text contains both?  That happens a lot; in fact, when I view the source of this very page I see both varieties.\r\n\r\nYou should get in the habit of looking for both kinds of separator, as well as the older Mac style `\\r` (CR only).  Here&#39;s one way to do that:\r\n\r\n    \\r?\\n|\\r\r\n\r\nPlugging that into your sample code you get:\r\n\r\n    scanner.useDelimiter(&quot;;|\\r?\\n|\\r&quot;);\r\n\r\nThis is assuming you want to match exactly one newline or semicolon at a time. If you want to match one *or more* you can do this instead:\r\n\r\n    scanner.useDelimiter(&quot;[;\\r\\n]+&quot;);\r\n\r\nNotice, too, how I passed in a regex *string* instead of a Pattern; all regexes get cached automatically, so pre-compiling the regex doesn&#39;t get you any performance gain.\r\n","title":"Java Scanner question","body":"<p>As you've discovered, you needed to look for DOS/network style <code>\\r\\n</code> (CRLF) line separators instead of the Unix style <code>\\n</code> (LF only).  But what if the text contains both?  That happens a lot; in fact, when I view the source of this very page I see both varieties.</p>\n\n<p>You should get in the habit of looking for both kinds of separator, as well as the older Mac style <code>\\r</code> (CR only).  Here's one way to do that:</p>\n\n<pre><code>\\r?\\n|\\r\n</code></pre>\n\n<p>Plugging that into your sample code you get:</p>\n\n<pre><code>scanner.useDelimiter(\";|\\r?\\n|\\r\");\n</code></pre>\n\n<p>This is assuming you want to match exactly one newline or semicolon at a time. If you want to match one <em>or more</em> you can do this instead:</p>\n\n<pre><code>scanner.useDelimiter(\"[;\\r\\n]+\");\n</code></pre>\n\n<p>Notice, too, how I passed in a regex <em>string</em> instead of a Pattern; all regexes get cached automatically, so pre-compiling the regex doesn't get you any performance gain.</p>\n"}],"owner":{"account_id":46195,"reputation":2818,"user_id":136401,"accept_rate":94,"display_name":"Razvi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22599,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":1981521,"answer_count":3,"score":11,"last_activity_date":1666180402,"creation_date":1262195730,"question_id":1981497,"body_markdown":"How do you set the delimiter for a scanner to either ; or new line?\r\n\r\nI tried:\r\n `Scanner.useDelimiter(Pattern.compile(&quot;(\\n)|;&quot;));`\r\nBut it doesn&#39;t work.","title":"Java Scanner question","body":"<p>How do you set the delimiter for a scanner to either ; or new line?</p>\n\n<p>I tried:\n <code>Scanner.useDelimiter(Pattern.compile(\"(\\n)|;\"));</code>\nBut it doesn't work.</p>\n"},{"tags":["java","string-comparison"],"answers":[{"comments":[{"owner":{"account_id":8089,"reputation":118281,"user_id":14357,"accept_rate":82,"display_name":"spender"},"score":2,"creation_date":1244196025,"post_id":955116,"comment_id":763363,"body_markdown":"Levenshtein is great for a few strings, but will not scale to comparisons between a large number of strings.","body":"Levenshtein is great for a few strings, but will not scale to comparisons between a large number of strings."},{"owner":{"account_id":10764,"reputation":34965,"user_id":20479,"accept_rate":17,"display_name":"Rhubarb"},"score":0,"creation_date":1244197631,"post_id":955116,"comment_id":763462,"body_markdown":"I&#39;ve used Levenshtein in Java with some success. I havent done comparisons over huge lists so there may be a performance hit.\nAlso it&#39;s a bit simple and could use some tweaking to raise the threshold for shorter words (like 3 or 4 chars) which tend to be seen as more similar than the should (it&#39;s only 3 edits from cat to dog)\nNote that the Edit Distances suggested below are pretty much the same thing - Levenshtein is a particular implementation of edit distances.","body":"I&#39;ve used Levenshtein in Java with some success. I havent done comparisons over huge lists so there may be a performance hit. Also it&#39;s a bit simple and could use some tweaking to raise the threshold for shorter words (like 3 or 4 chars) which tend to be seen as more similar than the should (it&#39;s only 3 edits from cat to dog) Note that the Edit Distances suggested below are pretty much the same thing - Levenshtein is a particular implementation of edit distances."},{"owner":{"account_id":401940,"reputation":13996,"user_id":768795,"display_name":"Thomas W"},"score":0,"creation_date":1398478291,"post_id":955116,"comment_id":35679045,"body_markdown":"Here&#39;s an article showing how combine Levenshtein with an efficient SQL query: http://literatejava.com/sql/fuzzy-string-search-sql/","body":"Here&#39;s an article showing how combine Levenshtein with an efficient SQL query: <a href=\"http://literatejava.com/sql/fuzzy-string-search-sql/\" rel=\"nofollow noreferrer\">literatejava.com/sql/fuzzy-string-search-sql</a>"}],"tags":[],"owner":{"account_id":36770,"reputation":3625,"user_id":104976,"accept_rate":75,"display_name":"Florian Fankhauser"},"comment_count":3,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1244195900,"creation_date":1244195900,"answer_id":955116,"question_id":955110,"body_markdown":"You could use Levenshtein distance to calculate the difference between two strings.\r\nhttp://en.wikipedia.org/wiki/Levenshtein_distance","title":"Similarity String Comparison in Java","body":"<p>You could use Levenshtein distance to calculate the difference between two strings.\n<a href=\"http://en.wikipedia.org/wiki/Levenshtein_distance\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Levenshtein_distance</a></p>\n"},{"tags":[],"owner":{"account_id":23860,"reputation":114051,"user_id":60188,"accept_rate":56,"display_name":"Anton Gogolev"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1244195968,"creation_date":1244195968,"answer_id":955119,"question_id":955110,"body_markdown":"Theoretically, you can compare [edit distances][1].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Edit_distance","title":"Similarity String Comparison in Java","body":"<p>Theoretically, you can compare <a href=\"http://en.wikipedia.org/wiki/Edit_distance\" rel=\"nofollow noreferrer\">edit distances</a>.</p>\n"},{"comments":[{"owner":{"account_id":175079,"reputation":1509,"user_id":404822,"accept_rate":94,"display_name":"Michael Merchant"},"score":20,"creation_date":1324588011,"post_id":955122,"comment_id":10685315,"body_markdown":"+1 The simmetrics site doesn&#39;t seem active anymore. However, I found the code on sourceforge: http://sourceforge.net/projects/simmetrics/ Thanks for the pointer.","body":"+1 The simmetrics site doesn&#39;t seem active anymore. However, I found the code on sourceforge: <a href=\"http://sourceforge.net/projects/simmetrics/\" rel=\"nofollow noreferrer\">sourceforge.net/projects/simmetrics</a> Thanks for the pointer."},{"owner":{"account_id":1221859,"reputation":6059,"user_id":1188357,"accept_rate":86,"display_name":"Kiril"},"score":7,"creation_date":1395153563,"post_id":955122,"comment_id":34200818,"body_markdown":"The &quot;you can check this&quot; link is broken.","body":"The &quot;you can check this&quot; link is broken."},{"owner":{"account_id":1255300,"reputation":733,"user_id":1214899,"accept_rate":69,"display_name":"emilyk"},"score":2,"creation_date":1411590272,"post_id":955122,"comment_id":40765171,"body_markdown":"That&#39;s why Michael Merchant posted the correct link above.","body":"That&#39;s why Michael Merchant posted the correct link above."},{"owner":{"account_id":482539,"reputation":8702,"user_id":896997,"accept_rate":95,"display_name":"tom91136"},"score":2,"creation_date":1428723177,"post_id":955122,"comment_id":47296529,"body_markdown":"The jar for simmetrics on sourceforge is a bit outdated, https://github.com/mpkorstanje/simmetrics is the updated github page with maven artifacts","body":"The jar for simmetrics on sourceforge is a bit outdated, <a href=\"https://github.com/mpkorstanje/simmetrics\" rel=\"nofollow noreferrer\">github.com/mpkorstanje/simmetrics</a> is the updated github page with maven artifacts"},{"owner":{"account_id":1591496,"reputation":1127,"user_id":1474729,"display_name":"Ghurdyl"},"score":0,"creation_date":1544613966,"post_id":955122,"comment_id":94336441,"body_markdown":"To add to @MichaelMerchant &#39;s comment, the project is also available on [github](https://github.com/Simmetrics/simmetrics). Not very active there either though but a bit more recent than sourceforge.","body":"To add to @MichaelMerchant &#39;s comment, the project is also available on <a href=\"https://github.com/Simmetrics/simmetrics\" rel=\"nofollow noreferrer\">github</a>. Not very active there either though but a bit more recent than sourceforge."}],"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"comment_count":5,"down_vote_count":1,"up_vote_count":92,"is_accepted":true,"score":91,"last_activity_date":1578489880,"creation_date":1244195997,"answer_id":955122,"question_id":955110,"body_markdown":"Yes, there are many well documented algorithms like:\r\n\r\n - Cosine similarity\r\n - Jaccard similarity\r\n - Dice&#39;s coefficient\r\n - Matching similarity\r\n - Overlap similarity\r\n - etc etc\r\n\r\nA good summary (&quot;Sam&#39;s String Metrics&quot;) [can be found here][1] (original link dead, so it links to Internet Archive)\r\n\r\n\r\nAlso check these projects:\r\n\r\n - [Simmetrics][2]\r\n - [jtmt][3]\r\n\r\n \r\n\r\n\r\n  [1]: https://web.archive.org/web/20081224234350/http://www.dcs.shef.ac.uk/~sam/stringmetrics.html\r\n  [2]: https://github.com/Simmetrics\r\n  [3]: http://jtmt.sourceforge.net/","title":"Similarity String Comparison in Java","body":"<p>Yes, there are many well documented algorithms like:</p>\n\n<ul>\n<li>Cosine similarity</li>\n<li>Jaccard similarity</li>\n<li>Dice's coefficient</li>\n<li>Matching similarity</li>\n<li>Overlap similarity</li>\n<li>etc etc</li>\n</ul>\n\n<p>A good summary (\"Sam's String Metrics\") <a href=\"https://web.archive.org/web/20081224234350/http://www.dcs.shef.ac.uk/~sam/stringmetrics.html\" rel=\"noreferrer\">can be found here</a> (original link dead, so it links to Internet Archive)</p>\n\n<p>Also check these projects:</p>\n\n<ul>\n<li><a href=\"https://github.com/Simmetrics\" rel=\"noreferrer\">Simmetrics</a></li>\n<li><a href=\"http://jtmt.sourceforge.net/\" rel=\"noreferrer\">jtmt</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1244196017,"creation_date":1244196017,"answer_id":955124,"question_id":955110,"body_markdown":"This is typically done using an [edit distance](http://en.wikipedia.org/wiki/Edit_distance) measure. Searching for &quot;edit distance java&quot; turns up a number of libraries, like [this one](http://www.koders.com/java/fidB5F36E031D6D27D58091E9D9E3F3D0DCCF859A75.aspx).","title":"Similarity String Comparison in Java","body":"<p>This is typically done using an <a href=\"http://en.wikipedia.org/wiki/Edit_distance\" rel=\"nofollow noreferrer\">edit distance</a> measure. Searching for \"edit distance java\" turns up a number of libraries, like <a href=\"http://www.koders.com/java/fidB5F36E031D6D27D58091E9D9E3F3D0DCCF859A75.aspx\" rel=\"nofollow noreferrer\">this one</a>.</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1244196087,"creation_date":1244196087,"answer_id":955127,"question_id":955110,"body_markdown":"Sounds like a [plagiarism finder][1] to me if your string turns into a document.  Maybe searching with that term will turn up something good.\r\n\r\n&quot;Programming Collective Intelligence&quot; has a chapter on determining whether two documents are similar.  The code is in Python, but it&#39;s clean and easy to port.\r\n\r\n\r\n  [1]: http://ieeexplore.ieee.org/xpl/freeabs_all.jsp?arnumber=28038","title":"Similarity String Comparison in Java","body":"<p>Sounds like a <a href=\"http://ieeexplore.ieee.org/xpl/freeabs_all.jsp?arnumber=28038\" rel=\"nofollow noreferrer\">plagiarism finder</a> to me if your string turns into a document.  Maybe searching with that term will turn up something good.</p>\n\n<p>\"Programming Collective Intelligence\" has a chapter on determining whether two documents are similar.  The code is in Python, but it's clean and easy to port.</p>\n"},{"tags":[],"owner":{"account_id":230251,"reputation":169,"user_id":493744,"display_name":"user493744"},"comment_count":0,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1373599883,"creation_date":1288625609,"answer_id":4070350,"question_id":955110,"body_markdown":"I translated the [Levenshtein distance algorithm][1] into JavaScript:\r\n\r\n\r\n    String.prototype.LevenshteinDistance = function (s2) {\r\n        var array = new Array(this.length + 1);\r\n        for (var i = 0; i &lt; this.length + 1; i++)\r\n            array[i] = new Array(s2.length + 1);\r\n        \r\n        for (var i = 0; i &lt; this.length + 1; i++)\r\n            array[i][0] = i;\r\n        for (var j = 0; j &lt; s2.length + 1; j++)\r\n            array[0][j] = j;\r\n        \r\n        for (var i = 1; i &lt; this.length + 1; i++) {\r\n            for (var j = 1; j &lt; s2.length + 1; j++) {\r\n                if (this[i - 1] == s2[j - 1]) array[i][j] = array[i - 1][j - 1];\r\n                else {\r\n                    array[i][j] = Math.min(array[i][j - 1] + 1, array[i - 1][j] + 1);\r\n                    array[i][j] = Math.min(array[i][j], array[i - 1][j - 1] + 1);\r\n                }\r\n            }\r\n        }\r\n        return array[this.length][s2.length];\r\n    };\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Levenshtein_distance","title":"Similarity String Comparison in Java","body":"<p>I translated the <a href=\"http://en.wikipedia.org/wiki/Levenshtein_distance\" rel=\"noreferrer\">Levenshtein distance algorithm</a> into JavaScript:</p>\n\n<pre><code>String.prototype.LevenshteinDistance = function (s2) {\n    var array = new Array(this.length + 1);\n    for (var i = 0; i &lt; this.length + 1; i++)\n        array[i] = new Array(s2.length + 1);\n\n    for (var i = 0; i &lt; this.length + 1; i++)\n        array[i][0] = i;\n    for (var j = 0; j &lt; s2.length + 1; j++)\n        array[0][j] = j;\n\n    for (var i = 1; i &lt; this.length + 1; i++) {\n        for (var j = 1; j &lt; s2.length + 1; j++) {\n            if (this[i - 1] == s2[j - 1]) array[i][j] = array[i - 1][j - 1];\n            else {\n                array[i][j] = Math.min(array[i][j - 1] + 1, array[i - 1][j] + 1);\n                array[i][j] = Math.min(array[i][j], array[i - 1][j - 1] + 1);\n            }\n        }\n    }\n    return array[this.length][s2.length];\n};\n</code></pre>\n"},{"comments":[{"owner":{"account_id":174042,"reputation":2240,"user_id":403157,"accept_rate":84,"display_name":"Cleankod"},"score":15,"creation_date":1417769713,"post_id":16018452,"comment_id":43084691,"body_markdown":"Levenshtein distance method is available in `org.apache.commons.lang3.StringUtils`.","body":"Levenshtein distance method is available in <code>org.apache.commons.lang3.StringUtils</code>."},{"owner":{"account_id":4636337,"reputation":325,"user_id":4744158,"accept_rate":69,"display_name":"Luiz"},"score":1,"creation_date":1573652488,"post_id":16018452,"comment_id":103951165,"body_markdown":"@Cleankod Now it is part of commons-text: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/similarity/LevenshteinDistance.html","body":"@Cleankod Now it is part of commons-text: <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/similarity/LevenshteinDistance.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-text/javadocs/api-release/&zwnj;&#8203;org/&hellip;</a>"}],"tags":[],"owner":{"account_id":2077773,"reputation":133298,"user_id":1850609,"display_name":"acdcjunior"},"comment_count":2,"down_vote_count":0,"up_vote_count":191,"is_accepted":false,"score":191,"last_activity_date":1511593823,"creation_date":1366037910,"answer_id":16018452,"question_id":955110,"body_markdown":"The common way of **calculating the similarity between two strings in a 0%-100% fashion**, as used in many libraries, is to measure how much (in %) you&#39;d have to change the longer string to turn it into the shorter:\r\n\r\n    /**\r\n     * Calculates the similarity (a number within 0 and 1) between two strings.\r\n     */\r\n    public static double similarity(String s1, String s2) {\r\n      String longer = s1, shorter = s2;\r\n      if (s1.length() &lt; s2.length()) { // longer should always have greater length\r\n        longer = s2; shorter = s1;\r\n      }\r\n      int longerLength = longer.length();\r\n      if (longerLength == 0) { return 1.0; /* both strings are zero length */ }\r\n      return (longerLength - editDistance(longer, shorter)) / (double) longerLength;\r\n    }\r\n    // you can use StringUtils.getLevenshteinDistance() as the editDistance() function\r\n    // full copy-paste working code is below\r\n\r\n&lt;br&gt;\r\n###Computing the `editDistance()`:\r\n\r\nThe `editDistance()` function above is expected to calculate the **edit distance** between the two strings. There are [several implementations][1] to this step, each may suit a specific scenario better. The most common is the ***[Levenshtein distance algorithm][2]*** and we&#39;ll use it in our example below (for very large strings, other algorithms are likely to perform better).\r\n\r\nHere&#39;s two options to calculate the edit distance:\r\n\r\n- You can use **[Apache Commons Text][3]**&#39;s implementation of Levenshtein distance:\r\n                       [`apply(CharSequence left, CharSequence rightt)`][4]\r\n- Implement it in your own. Below you&#39;ll find an example implementation.\r\n\r\n\r\n&lt;br&gt;\r\n\r\n###Working example:\r\n\r\n[**See online demo here.**][5]\r\n\r\n    public class StringSimilarity {\r\n    \r\n      /**\r\n       * Calculates the similarity (a number within 0 and 1) between two strings.\r\n       */\r\n      public static double similarity(String s1, String s2) {\r\n        String longer = s1, shorter = s2;\r\n        if (s1.length() &lt; s2.length()) { // longer should always have greater length\r\n          longer = s2; shorter = s1;\r\n        }\r\n        int longerLength = longer.length();\r\n        if (longerLength == 0) { return 1.0; /* both strings are zero length */ }\r\n        /* // If you have Apache Commons Text, you can use it to calculate the edit distance:\r\n        LevenshteinDistance levenshteinDistance = new LevenshteinDistance();\r\n\t\treturn (longerLength - levenshteinDistance.apply(longer, shorter)) / (double) longerLength; */\r\n        return (longerLength - editDistance(longer, shorter)) / (double) longerLength;\r\n    \r\n      }\r\n    \r\n      // Example implementation of the Levenshtein Edit Distance\r\n      // See http://rosettacode.org/wiki/Levenshtein_distance#Java\r\n      public static int editDistance(String s1, String s2) {\r\n        s1 = s1.toLowerCase();\r\n        s2 = s2.toLowerCase();\r\n    \r\n        int[] costs = new int[s2.length() + 1];\r\n        for (int i = 0; i &lt;= s1.length(); i++) {\r\n          int lastValue = i;\r\n          for (int j = 0; j &lt;= s2.length(); j++) {\r\n            if (i == 0)\r\n              costs[j] = j;\r\n            else {\r\n              if (j &gt; 0) {\r\n                int newValue = costs[j - 1];\r\n                if (s1.charAt(i - 1) != s2.charAt(j - 1))\r\n                  newValue = Math.min(Math.min(newValue, lastValue),\r\n                      costs[j]) + 1;\r\n                costs[j - 1] = lastValue;\r\n                lastValue = newValue;\r\n              }\r\n            }\r\n          }\r\n          if (i &gt; 0)\r\n            costs[s2.length()] = lastValue;\r\n        }\r\n        return costs[s2.length()];\r\n      }\r\n    \r\n      public static void printSimilarity(String s, String t) {\r\n        System.out.println(String.format(\r\n          &quot;%.3f is the similarity between \\&quot;%s\\&quot; and \\&quot;%s\\&quot;&quot;, similarity(s, t), s, t));\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        printSimilarity(&quot;&quot;, &quot;&quot;);\r\n        printSimilarity(&quot;1234567890&quot;, &quot;1&quot;);\r\n        printSimilarity(&quot;1234567890&quot;, &quot;123&quot;);\r\n        printSimilarity(&quot;1234567890&quot;, &quot;1234567&quot;);\r\n        printSimilarity(&quot;1234567890&quot;, &quot;1234567890&quot;);\r\n        printSimilarity(&quot;1234567890&quot;, &quot;1234567980&quot;);\r\n        printSimilarity(&quot;47/2010&quot;, &quot;472010&quot;);\r\n        printSimilarity(&quot;47/2010&quot;, &quot;472011&quot;);\r\n        printSimilarity(&quot;47/2010&quot;, &quot;AB.CDEF&quot;);\r\n        printSimilarity(&quot;47/2010&quot;, &quot;4B.CDEFG&quot;);\r\n        printSimilarity(&quot;47/2010&quot;, &quot;AB.CDEFG&quot;);\r\n        printSimilarity(&quot;The quick fox jumped&quot;, &quot;The fox jumped&quot;);\r\n        printSimilarity(&quot;The quick fox jumped&quot;, &quot;The fox&quot;);\r\n        printSimilarity(&quot;kitten&quot;, &quot;sitting&quot;);\r\n      }\r\n    \r\n    }\r\n\r\n**Output:**\r\n\r\n    1.000 is the similarity between &quot;&quot; and &quot;&quot;\r\n    0.100 is the similarity between &quot;1234567890&quot; and &quot;1&quot;\r\n    0.300 is the similarity between &quot;1234567890&quot; and &quot;123&quot;\r\n    0.700 is the similarity between &quot;1234567890&quot; and &quot;1234567&quot;\r\n    1.000 is the similarity between &quot;1234567890&quot; and &quot;1234567890&quot;\r\n    0.800 is the similarity between &quot;1234567890&quot; and &quot;1234567980&quot;\r\n    0.857 is the similarity between &quot;47/2010&quot; and &quot;472010&quot;\r\n    0.714 is the similarity between &quot;47/2010&quot; and &quot;472011&quot;\r\n    0.000 is the similarity between &quot;47/2010&quot; and &quot;AB.CDEF&quot;\r\n    0.125 is the similarity between &quot;47/2010&quot; and &quot;4B.CDEFG&quot;\r\n    0.000 is the similarity between &quot;47/2010&quot; and &quot;AB.CDEFG&quot;\r\n    0.700 is the similarity between &quot;The quick fox jumped&quot; and &quot;The fox jumped&quot;\r\n    0.350 is the similarity between &quot;The quick fox jumped&quot; and &quot;The fox&quot;\r\n    0.571 is the similarity between &quot;kitten&quot; and &quot;sitting&quot;\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/String_metric\r\n  [2]: http://en.wikipedia.org/wiki/Levenshtein_distance\r\n  [3]: https://commons.apache.org/proper/commons-text/\r\n  [4]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/similarity/LevenshteinDistance.html\r\n  [5]: http://ideone.com/oOVWYj","title":"Similarity String Comparison in Java","body":"<p>The common way of <strong>calculating the similarity between two strings in a 0%-100% fashion</strong>, as used in many libraries, is to measure how much (in %) you'd have to change the longer string to turn it into the shorter:</p>\n\n<pre><code>/**\n * Calculates the similarity (a number within 0 and 1) between two strings.\n */\npublic static double similarity(String s1, String s2) {\n  String longer = s1, shorter = s2;\n  if (s1.length() &lt; s2.length()) { // longer should always have greater length\n    longer = s2; shorter = s1;\n  }\n  int longerLength = longer.length();\n  if (longerLength == 0) { return 1.0; /* both strings are zero length */ }\n  return (longerLength - editDistance(longer, shorter)) / (double) longerLength;\n}\n// you can use StringUtils.getLevenshteinDistance() as the editDistance() function\n// full copy-paste working code is below\n</code></pre>\n\n<p><br></p>\n\n<h3>Computing the <code>editDistance()</code>:</h3>\n\n<p>The <code>editDistance()</code> function above is expected to calculate the <strong>edit distance</strong> between the two strings. There are <a href=\"http://en.wikipedia.org/wiki/String_metric\" rel=\"noreferrer\">several implementations</a> to this step, each may suit a specific scenario better. The most common is the <strong><em><a href=\"http://en.wikipedia.org/wiki/Levenshtein_distance\" rel=\"noreferrer\">Levenshtein distance algorithm</a></em></strong> and we'll use it in our example below (for very large strings, other algorithms are likely to perform better).</p>\n\n<p>Here's two options to calculate the edit distance:</p>\n\n<ul>\n<li>You can use <strong><a href=\"https://commons.apache.org/proper/commons-text/\" rel=\"noreferrer\">Apache Commons Text</a></strong>'s implementation of Levenshtein distance:\n                   <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/similarity/LevenshteinDistance.html\" rel=\"noreferrer\"><code>apply(CharSequence left, CharSequence rightt)</code></a></li>\n<li>Implement it in your own. Below you'll find an example implementation.</li>\n</ul>\n\n<p><br></p>\n\n<h3>Working example:</h3>\n\n<p><a href=\"http://ideone.com/oOVWYj\" rel=\"noreferrer\"><strong>See online demo here.</strong></a></p>\n\n<pre><code>public class StringSimilarity {\n\n  /**\n   * Calculates the similarity (a number within 0 and 1) between two strings.\n   */\n  public static double similarity(String s1, String s2) {\n    String longer = s1, shorter = s2;\n    if (s1.length() &lt; s2.length()) { // longer should always have greater length\n      longer = s2; shorter = s1;\n    }\n    int longerLength = longer.length();\n    if (longerLength == 0) { return 1.0; /* both strings are zero length */ }\n    /* // If you have Apache Commons Text, you can use it to calculate the edit distance:\n    LevenshteinDistance levenshteinDistance = new LevenshteinDistance();\n    return (longerLength - levenshteinDistance.apply(longer, shorter)) / (double) longerLength; */\n    return (longerLength - editDistance(longer, shorter)) / (double) longerLength;\n\n  }\n\n  // Example implementation of the Levenshtein Edit Distance\n  // See http://rosettacode.org/wiki/Levenshtein_distance#Java\n  public static int editDistance(String s1, String s2) {\n    s1 = s1.toLowerCase();\n    s2 = s2.toLowerCase();\n\n    int[] costs = new int[s2.length() + 1];\n    for (int i = 0; i &lt;= s1.length(); i++) {\n      int lastValue = i;\n      for (int j = 0; j &lt;= s2.length(); j++) {\n        if (i == 0)\n          costs[j] = j;\n        else {\n          if (j &gt; 0) {\n            int newValue = costs[j - 1];\n            if (s1.charAt(i - 1) != s2.charAt(j - 1))\n              newValue = Math.min(Math.min(newValue, lastValue),\n                  costs[j]) + 1;\n            costs[j - 1] = lastValue;\n            lastValue = newValue;\n          }\n        }\n      }\n      if (i &gt; 0)\n        costs[s2.length()] = lastValue;\n    }\n    return costs[s2.length()];\n  }\n\n  public static void printSimilarity(String s, String t) {\n    System.out.println(String.format(\n      \"%.3f is the similarity between \\\"%s\\\" and \\\"%s\\\"\", similarity(s, t), s, t));\n  }\n\n  public static void main(String[] args) {\n    printSimilarity(\"\", \"\");\n    printSimilarity(\"1234567890\", \"1\");\n    printSimilarity(\"1234567890\", \"123\");\n    printSimilarity(\"1234567890\", \"1234567\");\n    printSimilarity(\"1234567890\", \"1234567890\");\n    printSimilarity(\"1234567890\", \"1234567980\");\n    printSimilarity(\"47/2010\", \"472010\");\n    printSimilarity(\"47/2010\", \"472011\");\n    printSimilarity(\"47/2010\", \"AB.CDEF\");\n    printSimilarity(\"47/2010\", \"4B.CDEFG\");\n    printSimilarity(\"47/2010\", \"AB.CDEFG\");\n    printSimilarity(\"The quick fox jumped\", \"The fox jumped\");\n    printSimilarity(\"The quick fox jumped\", \"The fox\");\n    printSimilarity(\"kitten\", \"sitting\");\n  }\n\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>1.000 is the similarity between \"\" and \"\"\n0.100 is the similarity between \"1234567890\" and \"1\"\n0.300 is the similarity between \"1234567890\" and \"123\"\n0.700 is the similarity between \"1234567890\" and \"1234567\"\n1.000 is the similarity between \"1234567890\" and \"1234567890\"\n0.800 is the similarity between \"1234567890\" and \"1234567980\"\n0.857 is the similarity between \"47/2010\" and \"472010\"\n0.714 is the similarity between \"47/2010\" and \"472011\"\n0.000 is the similarity between \"47/2010\" and \"AB.CDEF\"\n0.125 is the similarity between \"47/2010\" and \"4B.CDEFG\"\n0.000 is the similarity between \"47/2010\" and \"AB.CDEFG\"\n0.700 is the similarity between \"The quick fox jumped\" and \"The fox jumped\"\n0.350 is the similarity between \"The quick fox jumped\" and \"The fox\"\n0.571 is the similarity between \"kitten\" and \"sitting\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":333285,"reputation":2127,"user_id":659077,"accept_rate":0,"display_name":"Mohsen Abasi"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1413637746,"creation_date":1413637746,"answer_id":26440076,"question_id":955110,"body_markdown":"Thank to the first answerer, I think there are 2 calculations of computeEditDistance(s1, s2). Due to high time spending of it,  decided to improve the code&#39;s performance. So:\r\n\r\n    public class LevenshteinDistance {\r\n\r\n    public static int computeEditDistance(String s1, String s2) {\r\n        s1 = s1.toLowerCase();\r\n        s2 = s2.toLowerCase();\r\n\r\n        int[] costs = new int[s2.length() + 1];\r\n        for (int i = 0; i &lt;= s1.length(); i++) {\r\n            int lastValue = i;\r\n            for (int j = 0; j &lt;= s2.length(); j++) {\r\n                if (i == 0) {\r\n                    costs[j] = j;\r\n                } else {\r\n                    if (j &gt; 0) {\r\n                        int newValue = costs[j - 1];\r\n                        if (s1.charAt(i - 1) != s2.charAt(j - 1)) {\r\n                            newValue = Math.min(Math.min(newValue, lastValue),\r\n                                    costs[j]) + 1;\r\n                        }\r\n                        costs[j - 1] = lastValue;\r\n                        lastValue = newValue;\r\n                    }\r\n                }\r\n            }\r\n            if (i &gt; 0) {\r\n                costs[s2.length()] = lastValue;\r\n            }\r\n        }\r\n        return costs[s2.length()];\r\n    }\r\n\r\n    public static void printDistance(String s1, String s2) {\r\n        double similarityOfStrings = 0.0;\r\n        int editDistance = 0;\r\n        if (s1.length() &lt; s2.length()) { // s1 should always be bigger\r\n            String swap = s1;\r\n            s1 = s2;\r\n            s2 = swap;\r\n        }\r\n        int bigLen = s1.length();\r\n        editDistance = computeEditDistance(s1, s2);\r\n        if (bigLen == 0) {\r\n            similarityOfStrings = 1.0; /* both strings are zero length */\r\n        } else {\r\n            similarityOfStrings = (bigLen - editDistance) / (double) bigLen;\r\n        }\r\n        //////////////////////////\r\n        //System.out.println(s1 + &quot;--&gt;&quot; + s2 + &quot;: &quot; +\r\n          //      editDistance + &quot; (&quot; + similarityOfStrings + &quot;)&quot;);\r\n        System.out.println(editDistance + &quot; (&quot; + similarityOfStrings + &quot;)&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        printDistance(&quot;&quot;, &quot;&quot;);\r\n        printDistance(&quot;1234567890&quot;, &quot;1&quot;);\r\n        printDistance(&quot;1234567890&quot;, &quot;12&quot;);\r\n        printDistance(&quot;1234567890&quot;, &quot;123&quot;);\r\n        printDistance(&quot;1234567890&quot;, &quot;1234&quot;);\r\n        printDistance(&quot;1234567890&quot;, &quot;12345&quot;);\r\n        printDistance(&quot;1234567890&quot;, &quot;123456&quot;);\r\n        printDistance(&quot;1234567890&quot;, &quot;1234567&quot;);\r\n        printDistance(&quot;1234567890&quot;, &quot;12345678&quot;);\r\n        printDistance(&quot;1234567890&quot;, &quot;123456789&quot;);\r\n        printDistance(&quot;1234567890&quot;, &quot;1234567890&quot;);\r\n        printDistance(&quot;1234567890&quot;, &quot;1234567980&quot;);\r\n\r\n        printDistance(&quot;47/2010&quot;, &quot;472010&quot;);\r\n        printDistance(&quot;47/2010&quot;, &quot;472011&quot;);\r\n\r\n        printDistance(&quot;47/2010&quot;, &quot;AB.CDEF&quot;);\r\n        printDistance(&quot;47/2010&quot;, &quot;4B.CDEFG&quot;);\r\n        printDistance(&quot;47/2010&quot;, &quot;AB.CDEFG&quot;);\r\n\r\n        printDistance(&quot;The quick fox jumped&quot;, &quot;The fox jumped&quot;);\r\n        printDistance(&quot;The quick fox jumped&quot;, &quot;The fox&quot;);\r\n        printDistance(&quot;The quick fox jumped&quot;,\r\n                &quot;The quick fox jumped off the balcany&quot;);\r\n        printDistance(&quot;kitten&quot;, &quot;sitting&quot;);\r\n        printDistance(&quot;rosettacode&quot;, &quot;raisethysword&quot;);\r\n        printDistance(new StringBuilder(&quot;rosettacode&quot;).reverse().toString(),\r\n                new StringBuilder(&quot;raisethysword&quot;).reverse().toString());\r\n        for (int i = 1; i &lt; args.length; i += 2) {\r\n            printDistance(args[i - 1], args[i]);\r\n        }\r\n   \r\n\r\n     }\r\n    }","title":"Similarity String Comparison in Java","body":"<p>Thank to the first answerer, I think there are 2 calculations of computeEditDistance(s1, s2). Due to high time spending of it,  decided to improve the code's performance. So:</p>\n\n<pre><code>public class LevenshteinDistance {\n\npublic static int computeEditDistance(String s1, String s2) {\n    s1 = s1.toLowerCase();\n    s2 = s2.toLowerCase();\n\n    int[] costs = new int[s2.length() + 1];\n    for (int i = 0; i &lt;= s1.length(); i++) {\n        int lastValue = i;\n        for (int j = 0; j &lt;= s2.length(); j++) {\n            if (i == 0) {\n                costs[j] = j;\n            } else {\n                if (j &gt; 0) {\n                    int newValue = costs[j - 1];\n                    if (s1.charAt(i - 1) != s2.charAt(j - 1)) {\n                        newValue = Math.min(Math.min(newValue, lastValue),\n                                costs[j]) + 1;\n                    }\n                    costs[j - 1] = lastValue;\n                    lastValue = newValue;\n                }\n            }\n        }\n        if (i &gt; 0) {\n            costs[s2.length()] = lastValue;\n        }\n    }\n    return costs[s2.length()];\n}\n\npublic static void printDistance(String s1, String s2) {\n    double similarityOfStrings = 0.0;\n    int editDistance = 0;\n    if (s1.length() &lt; s2.length()) { // s1 should always be bigger\n        String swap = s1;\n        s1 = s2;\n        s2 = swap;\n    }\n    int bigLen = s1.length();\n    editDistance = computeEditDistance(s1, s2);\n    if (bigLen == 0) {\n        similarityOfStrings = 1.0; /* both strings are zero length */\n    } else {\n        similarityOfStrings = (bigLen - editDistance) / (double) bigLen;\n    }\n    //////////////////////////\n    //System.out.println(s1 + \"--&gt;\" + s2 + \": \" +\n      //      editDistance + \" (\" + similarityOfStrings + \")\");\n    System.out.println(editDistance + \" (\" + similarityOfStrings + \")\");\n}\n\npublic static void main(String[] args) {\n    printDistance(\"\", \"\");\n    printDistance(\"1234567890\", \"1\");\n    printDistance(\"1234567890\", \"12\");\n    printDistance(\"1234567890\", \"123\");\n    printDistance(\"1234567890\", \"1234\");\n    printDistance(\"1234567890\", \"12345\");\n    printDistance(\"1234567890\", \"123456\");\n    printDistance(\"1234567890\", \"1234567\");\n    printDistance(\"1234567890\", \"12345678\");\n    printDistance(\"1234567890\", \"123456789\");\n    printDistance(\"1234567890\", \"1234567890\");\n    printDistance(\"1234567890\", \"1234567980\");\n\n    printDistance(\"47/2010\", \"472010\");\n    printDistance(\"47/2010\", \"472011\");\n\n    printDistance(\"47/2010\", \"AB.CDEF\");\n    printDistance(\"47/2010\", \"4B.CDEFG\");\n    printDistance(\"47/2010\", \"AB.CDEFG\");\n\n    printDistance(\"The quick fox jumped\", \"The fox jumped\");\n    printDistance(\"The quick fox jumped\", \"The fox\");\n    printDistance(\"The quick fox jumped\",\n            \"The quick fox jumped off the balcany\");\n    printDistance(\"kitten\", \"sitting\");\n    printDistance(\"rosettacode\", \"raisethysword\");\n    printDistance(new StringBuilder(\"rosettacode\").reverse().toString(),\n            new StringBuilder(\"raisethysword\").reverse().toString());\n    for (int i = 1; i &lt; args.length; i += 2) {\n        printDistance(args[i - 1], args[i]);\n    }\n\n\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6115841,"reputation":199,"user_id":4770918,"display_name":"Thibault Debatty"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1438946803,"creation_date":1438946803,"answer_id":31876599,"question_id":955110,"body_markdown":"There are indeed a lot of string similarity measures out there:\r\n\r\n - Levenshtein edit distance;\r\n - Damerau-Levenshtein distance; \r\n - Jaro-Winkler similarity; \r\n - Longest Common Subsequence edit distance; \r\n - Q-Gram (Ukkonen); \r\n - n-Gram distance (Kondrak); \r\n - Jaccard index; \r\n - Sorensen-Dice coefficient; \r\n - Cosine similarity;\r\n - ...\r\n\r\nYou can find explanation and java implementation of these here:\r\nhttps://github.com/tdebatty/java-string-similarity","title":"Similarity String Comparison in Java","body":"<p>There are indeed a lot of string similarity measures out there:</p>\n\n<ul>\n<li>Levenshtein edit distance;</li>\n<li>Damerau-Levenshtein distance; </li>\n<li>Jaro-Winkler similarity; </li>\n<li>Longest Common Subsequence edit distance; </li>\n<li>Q-Gram (Ukkonen); </li>\n<li>n-Gram distance (Kondrak); </li>\n<li>Jaccard index; </li>\n<li>Sorensen-Dice coefficient; </li>\n<li>Cosine similarity;</li>\n<li>...</li>\n</ul>\n\n<p>You can find explanation and java implementation of these here:\n<a href=\"https://github.com/tdebatty/java-string-similarity\" rel=\"noreferrer\">https://github.com/tdebatty/java-string-similarity</a></p>\n"},{"comments":[{"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"score":3,"creation_date":1507583040,"post_id":43333035,"comment_id":80259117,"body_markdown":"As of october 2017, the linked methods are deprecated. Use the classes [LevenshteinDistance](https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/similarity/LevenshteinDistance.html) and [FuzzyScore](https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/similarity/FuzzyScore.html) from the [commons text library](https://commons.apache.org/proper/commons-text/) instead","body":"As of october 2017, the linked methods are deprecated. Use the classes <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/similarity/LevenshteinDistance.html\" rel=\"nofollow noreferrer\">LevenshteinDistance</a> and <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/similarity/FuzzyScore.html\" rel=\"nofollow noreferrer\">FuzzyScore</a> from the <a href=\"https://commons.apache.org/proper/commons-text/\" rel=\"nofollow noreferrer\">commons text library</a> instead"}],"tags":[],"owner":{"account_id":463005,"reputation":14646,"user_id":865643,"accept_rate":75,"display_name":"noelicus"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1666180348,"creation_date":1491859068,"answer_id":43333035,"question_id":955110,"body_markdown":"You can achieve this using the [apache commons text library][1]. Take a look at these two classes within it:\r\n\r\n - [LevenshteinDistance][2]\r\n - [FuzzyScore][3]\r\n\r\n----\r\nDeprecated version of the above:\r\n\r\n[apache commons java library][4] -&gt; [getLevenshteinDistance][5]  [getFuzzyDistance][6]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/\r\n  [2]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/similarity/LevenshteinDistance.html\r\n  [3]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/similarity/FuzzyScore.html\r\n  [4]: https://commons.apache.org/proper/commons-lang/apidocs/overview-summary.html\r\n  [5]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#getLevenshteinDistance-java.lang.CharSequence-java.lang.CharSequence-\r\n  [6]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#getFuzzyDistance-java.lang.CharSequence-java.lang.CharSequence-java.util.Locale-","title":"Similarity String Comparison in Java","body":"<p>You can achieve this using the <a href=\"https://commons.apache.org/proper/commons-text/\" rel=\"nofollow noreferrer\">apache commons text library</a>. Take a look at these two classes within it:</p>\n<ul>\n<li><a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/similarity/LevenshteinDistance.html\" rel=\"nofollow noreferrer\">LevenshteinDistance</a></li>\n<li><a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/similarity/FuzzyScore.html\" rel=\"nofollow noreferrer\">FuzzyScore</a></li>\n</ul>\n<hr />\n<p>Deprecated version of the above:</p>\n<p><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/overview-summary.html\" rel=\"nofollow noreferrer\">apache commons java library</a> -&gt; <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#getLevenshteinDistance-java.lang.CharSequence-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">getLevenshteinDistance</a>  <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#getFuzzyDistance-java.lang.CharSequence-java.lang.CharSequence-java.util.Locale-\" rel=\"nofollow noreferrer\">getFuzzyDistance</a></p>\n"},{"tags":[],"owner":{"account_id":18534499,"reputation":13,"user_id":13504487,"display_name":"Athul Samuel"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1589101875,"creation_date":1589101875,"answer_id":61709572,"question_id":955110,"body_markdown":"You can also use z algorithm to find similarity in the string. Click here https://teakrunch.com/2020/05/09/string-similarity-hackerrank-challenge/","title":"Similarity String Comparison in Java","body":"<p>You can also use z algorithm to find similarity in the string. Click here <a href=\"https://teakrunch.com/2020/05/09/string-similarity-hackerrank-challenge/\" rel=\"nofollow noreferrer\">https://teakrunch.com/2020/05/09/string-similarity-hackerrank-challenge/</a></p>\n"},{"tags":[],"owner":{"account_id":15999207,"reputation":69,"user_id":11546366,"display_name":"Ravan Alaskarov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660497671,"creation_date":1660497671,"answer_id":73353641,"question_id":955110,"body_markdown":"You can use this &quot;Levenshtein Distance&quot; algorithm without any library:\r\n\r\n     public static int getLevenshteinDistance(CharSequence s, CharSequence t) {\r\n        if (s == null || t == null) {throw new IllegalArgumentException(&quot;Strings must not be null&quot;);}\r\n        int n = s.length();\r\n        int m = t.length();\r\n\r\n        if (n == 0) {\r\n                return m;\r\n            }\r\n        else if (m == 0) {\r\n                return n;\r\n            }\r\n\r\n        if (n &gt; m) {\r\n                // swap the input strings to consume less memory\r\n                final CharSequence tmp = s;\r\n                s = t;\r\n                t = tmp;\r\n                n = m;\r\n                m = t.length();\r\n            }\r\n\r\n        final int[] p = new int[n + 1];\r\n        // indexes into strings s and t\r\n        int i; // iterates through s\r\n        int j; // iterates through t\r\n        int upper_left;\r\n        int upper;\r\n\r\n        char t_j; // jth character of t\r\n        int cost;\r\n\r\n        for (i = 0; i &lt;= n; i++) {\r\n                p[i] = i;\r\n            }\r\n\r\n        for (j = 1; j &lt;= m; j++) {\r\n                upper_left = p[0];\r\n                t_j = t.charAt(j - 1);\r\n                p[0] = j;\r\n\r\n                for (i = 1; i &lt;= n; i++) {\r\n                        upper = p[i];\r\n                        cost = s.charAt(i - 1) == t_j ? 0 : 1;\r\n                        // minimum of cell to the left+1, to the top+1, diagonally left and up +cost\r\n                        p[i] = Math.min(Math.min(p[i - 1] + 1, p[i] + 1), upper_left + cost);\r\n                        upper_left = upper;\r\n                    }\r\n            }\r\n\r\n        return p[n];\r\n       }\r\n\r\n\r\n\r\n[From Here][1]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/src-html/org/apache/commons/lang3/StringUtils.html#line.2333","title":"Similarity String Comparison in Java","body":"<p>You can use this &quot;Levenshtein Distance&quot; algorithm without any library:</p>\n<pre><code> public static int getLevenshteinDistance(CharSequence s, CharSequence t) {\n    if (s == null || t == null) {throw new IllegalArgumentException(&quot;Strings must not be null&quot;);}\n    int n = s.length();\n    int m = t.length();\n\n    if (n == 0) {\n            return m;\n        }\n    else if (m == 0) {\n            return n;\n        }\n\n    if (n &gt; m) {\n            // swap the input strings to consume less memory\n            final CharSequence tmp = s;\n            s = t;\n            t = tmp;\n            n = m;\n            m = t.length();\n        }\n\n    final int[] p = new int[n + 1];\n    // indexes into strings s and t\n    int i; // iterates through s\n    int j; // iterates through t\n    int upper_left;\n    int upper;\n\n    char t_j; // jth character of t\n    int cost;\n\n    for (i = 0; i &lt;= n; i++) {\n            p[i] = i;\n        }\n\n    for (j = 1; j &lt;= m; j++) {\n            upper_left = p[0];\n            t_j = t.charAt(j - 1);\n            p[0] = j;\n\n            for (i = 1; i &lt;= n; i++) {\n                    upper = p[i];\n                    cost = s.charAt(i - 1) == t_j ? 0 : 1;\n                    // minimum of cell to the left+1, to the top+1, diagonally left and up +cost\n                    p[i] = Math.min(Math.min(p[i - 1] + 1, p[i] + 1), upper_left + cost);\n                    upper_left = upper;\n                }\n        }\n\n    return p[n];\n   }\n</code></pre>\n<p><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/src-html/org/apache/commons/lang3/StringUtils.html#line.2333\" rel=\"nofollow noreferrer\">From Here</a></p>\n"}],"owner":{"account_id":1710,"reputation":18740,"user_id":2309,"accept_rate":79,"display_name":"Mario Orteg&#243;n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151429,"favorite_count":0,"down_vote_count":0,"up_vote_count":145,"accepted_answer_id":955122,"answer_count":12,"score":145,"last_activity_date":1666180348,"creation_date":1244195699,"question_id":955110,"body_markdown":"I want to compare several strings to each other, and find the ones that are the most similar.  I was wondering if there is any library, method or best practice that would return me which strings are more similar to other strings.  For example:\r\n\r\n - &quot;The quick fox jumped&quot; -&gt; &quot;The fox jumped&quot; \r\n - &quot;The quick fox jumped&quot; -&gt;  &quot;The fox&quot;\r\n\r\nThis comparison would return that the first is more similar than the second.\r\n\r\nI guess I need some method such as:\r\n\r\n    double similarityIndex(String s1, String s2)\r\n\r\nIs there such a thing somewhere?\r\n\r\nEDIT: Why am I doing this? I am writing a script that compares the output of a MS Project file to the output of some legacy system that handles tasks.  Because the legacy system has a very limited field width, when the values are added the descriptions are abbreviated.  I want some semi-automated way to find which entries from MS Project are similar to the entries on the system so I can get the generated keys.  It has drawbacks, as it has to be still manually checked, but it would save a lot of work","title":"Similarity String Comparison in Java","body":"<p>I want to compare several strings to each other, and find the ones that are the most similar.  I was wondering if there is any library, method or best practice that would return me which strings are more similar to other strings.  For example:</p>\n\n<ul>\n<li>\"The quick fox jumped\" -> \"The fox jumped\" </li>\n<li>\"The quick fox jumped\" ->  \"The fox\"</li>\n</ul>\n\n<p>This comparison would return that the first is more similar than the second.</p>\n\n<p>I guess I need some method such as:</p>\n\n<pre><code>double similarityIndex(String s1, String s2)\n</code></pre>\n\n<p>Is there such a thing somewhere?</p>\n\n<p>EDIT: Why am I doing this? I am writing a script that compares the output of a MS Project file to the output of some legacy system that handles tasks.  Because the legacy system has a very limited field width, when the values are added the descriptions are abbreviated.  I want some semi-automated way to find which entries from MS Project are similar to the entries on the system so I can get the generated keys.  It has drawbacks, as it has to be still manually checked, but it would save a lot of work</p>\n"},{"tags":["java","android","string","url","android-edittext"],"comments":[{"owner":{"display_name":"user2637715"},"score":0,"creation_date":1378367101,"post_id":18630472,"comment_id":27427441,"body_markdown":"Refer the following post to parse the Url from a long string,\r\nhttp://stackoverflow.com/questions/6384240/how-to-parse-a-url-from-a-string-in-android","body":"Refer the following post to parse the Url from a long string,  <a href=\"http://stackoverflow.com/questions/6384240/how-to-parse-a-url-from-a-string-in-android\" title=\"how to parse a url from a string in android\">stackoverflow.com/questions/6384240/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2353205,"reputation":43254,"user_id":2061604,"accept_rate":73,"display_name":"Andrei"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1457623916,"creation_date":1378367007,"answer_id":18630518,"question_id":18630472,"body_markdown":"Here is the function:\r\n\r\n    //Pull all links from the body for easy retrieval\r\n    private ArrayList pullLinks(String text) {\r\n       ArrayList links = new ArrayList();\r\n     \r\n       String regex = &quot;\\\\(?\\\\b(http://|www[.])[-A-Za-z0-9+&amp;@#/%?=~_()|!:,.;]*[-A-Za-z0-9+&amp;@#/%=~_()|]&quot;;\r\n       Pattern p = Pattern.compile(regex);\r\n       Matcher m = p.matcher(text);\r\n       while(m.find()) {\r\n          String urlStr = m.group();\r\n          if (urlStr.startsWith(&quot;(&quot;) &amp;&amp; urlStr.endsWith(&quot;)&quot;)) {\r\n             urlStr = urlStr.substring(1, urlStr.length() - 1);\r\n          }\r\n          links.add(urlStr);\r\n       }\r\n       return links;\r\n    }","title":"How to get URL from String on Android","body":"<p>Here is the function:</p>\n\n<pre><code>//Pull all links from the body for easy retrieval\nprivate ArrayList pullLinks(String text) {\n   ArrayList links = new ArrayList();\n\n   String regex = \"\\\\(?\\\\b(http://|www[.])[-A-Za-z0-9+&amp;@#/%?=~_()|!:,.;]*[-A-Za-z0-9+&amp;@#/%=~_()|]\";\n   Pattern p = Pattern.compile(regex);\n   Matcher m = p.matcher(text);\n   while(m.find()) {\n      String urlStr = m.group();\n      if (urlStr.startsWith(\"(\") &amp;&amp; urlStr.endsWith(\")\")) {\n         urlStr = urlStr.substring(1, urlStr.length() - 1);\n      }\n      links.add(urlStr);\n   }\n   return links;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1934449,"reputation":127,"user_id":1743072,"accept_rate":85,"display_name":"Manoaj J Rathore"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380524133,"creation_date":1380524133,"answer_id":19088140,"question_id":18630472,"body_markdown":"change input type of your EditText ----   android:inputType=&quot;textUri&quot;\r\n\r\nand get your url using --- String url=edittext.getText().toString(); ","title":"How to get URL from String on Android","body":"<p>change input type of your EditText ----   android:inputType=\"textUri\"</p>\n\n<p>and get your url using --- String url=edittext.getText().toString(); </p>\n"},{"tags":[],"owner":{"display_name":"user1884619"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505120895,"creation_date":1505120895,"answer_id":46151942,"question_id":18630472,"body_markdown":"Check this library: (https://github.com/robinst/autolink-java) \r\n\r\n      compile &quot;org.nibor.autolink:autolink:0.7.0&quot;\r\n\r\nWorking fine with Android.\r\n\r\nExample:\r\n\r\n      LinkExtractor linkExtractor = LinkExtractor.builder()\r\n                        .linkTypes(EnumSet.of(LinkType.URL))\r\n                        .build();\r\n                Iterable&lt;LinkSpan&gt; links = linkExtractor.extractLinks(String_with_Link&quot;);\r\n                LinkSpan link = links.iterator().next();\r\n                link.getType();        // LinkType.URL\r\n                link.getBeginIndex();  // 17\r\n                link.getEndIndex();    // 32\r\n                final_Url = String_with_Link.substring(link.getBeginIndex(), link.getEndIndex()); \r\n\r\n","title":"How to get URL from String on Android","body":"<p>Check this library: (<a href=\"https://github.com/robinst/autolink-java\" rel=\"nofollow noreferrer\">https://github.com/robinst/autolink-java</a>) </p>\n\n<pre><code>  compile \"org.nibor.autolink:autolink:0.7.0\"\n</code></pre>\n\n<p>Working fine with Android.</p>\n\n<p>Example:</p>\n\n<pre><code>  LinkExtractor linkExtractor = LinkExtractor.builder()\n                    .linkTypes(EnumSet.of(LinkType.URL))\n                    .build();\n            Iterable&lt;LinkSpan&gt; links = linkExtractor.extractLinks(String_with_Link\");\n            LinkSpan link = links.iterator().next();\n            link.getType();        // LinkType.URL\n            link.getBeginIndex();  // 17\n            link.getEndIndex();    // 32\n            final_Url = String_with_Link.substring(link.getBeginIndex(), link.getEndIndex()); \n</code></pre>\n"}],"owner":{"account_id":3190596,"reputation":41,"user_id":2694942,"display_name":"Young Cha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6884,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1666180204,"creation_date":1378366809,"question_id":18630472,"body_markdown":"I&#39;d like to extract URL from `hi there this is a URL String http://mytest.com`.\r\n\r\nI tried to use EditText.getURLs but it didn&#39;t work for me.\r\n\r\n    EditText.setText(&quot;hi there this is a URL String http://stackoverflow.com&quot;);\r\n    EditText.getURLs.toString();\r\n\r\nHow can I get URL from EditText?\r\n","title":"How to get URL from String on Android","body":"<p>I'd like to extract URL from <code>hi there this is a URL String http://mytest.com</code>.</p>\n\n<p>I tried to use EditText.getURLs but it didn't work for me.</p>\n\n<pre><code>EditText.setText(\"hi there this is a URL String http://stackoverflow.com\");\nEditText.getURLs.toString();\n</code></pre>\n\n<p>How can I get URL from EditText?</p>\n"},{"tags":["java","collections","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666090756,"post_id":74067987,"comment_id":130848060,"body_markdown":"When you’re using JDK&#160;12 or newer, you can use [the `teeing` collector](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction))","body":"When you’re using JDK 12 or newer, you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">the <code>teeing</code> collector</a>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666122695,"creation_date":1666117709,"answer_id":74115827,"question_id":74067987,"body_markdown":"Here&#39;s an idea that with a little setup would allow any number of fields of some type `T` to be summarized.  It may give you some ideas.  It makes use of the `compute*` features of a map introduced in `Java 8`.\r\n\r\nI used a record in lieu of a class to hold the data.\r\n\r\n- first, set up a list of method references to get the values you want.\r\n- then, initialize another list with the titles of names of those values (here I used your names but the data is just for demo).  *`Note:` There are many ways to do this.  A single list with a `record` holding the name and method reference would be another way.*\r\n\r\n- create a map of maps to house the results.  The key to the outer map is the `packageType`, the key to the inner map is the name of the field you are summarizing for each packageType.\r\n\r\nNow simply iterate over the list of data, and build the map.  The details of how the `compute*` methods work are explained in the [Map Interface JavaDoc](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Map.html) but here is a quick summary.\r\n\r\n`computeIfAbsent` will evaluate its second argument if the supplied key is not there.  That second argument (here it&#39;s the inner map) is returned for access.  In this case, another `computeIfAbsent` is used to see if that map has a key for the field.  If not it adds it and creates a `LongSummaryStatistic` instance wit the key for the field name.  That instance is also made available for access.  The data item is then `accepted` and the statistics updated.\r\n```\r\npublic class Summarizing {\r\n\r\n    record Data(String getPackageType, long getFilesCount,\r\n\t    long getUsedSpaceBytes) {\r\n    }\r\n\r\n    static List&lt;Function&lt;Data, Long&gt;&gt; summaryFields = List\r\n\t    .of(Data::getFilesCount, Data::getUsedSpaceBytes);\r\n   \r\n    static List&lt;String&gt; names = List.of(&quot;filesCount&quot;, &quot;usedSpaceBytes&quot;);\r\n\r\n    public static void main(String[] args) {\r\n\tList&lt;Data&gt; list = List.of(new Data(&quot;foo&quot;, 10, 100),\r\n\t\tnew Data(&quot;bar&quot;, 20, 200),\r\n\t\tnew Data(&quot;foo&quot;, 30, 300),\r\n\t\tnew Data(&quot;bar&quot;, 40, 400));\r\n\r\n\tMap&lt;String, Map&lt;String, LongSummaryStatistics&gt;&gt; result = new HashMap&lt;&gt;();\r\n\r\n\tfor (Data d : list) {\r\n\t    Map&lt;String, LongSummaryStatistics&gt; innerMap = result\r\n\t\t    .computeIfAbsent(d.getPackageType(),\r\n\t\t\t    v -&gt; new HashMap&lt;&gt;());\r\n\t    for (int i = 0; i &lt; summaryFields.size(); i++) {\r\n\t\t   innerMap.computeIfAbsent(names.get(i),\r\n\t\t\t  v -&gt; new LongSummaryStatistics())\r\n\t\t\t.accept(summaryFields.get(i)\r\n\t\t\t\t.apply(d));\r\n\t    }\r\n\t}\r\n\r\n\tresult.entrySet().forEach(e-&gt; {\r\n\t    System.out.println(e.getKey());\r\n\t    for (Entry&lt;?,?&gt; ee : e.getValue().entrySet()) {\r\n\t\tSystem.out.println(&quot;  &quot;  + ee);\r\n\t    }\r\n\t});\r\n    }\r\n}\r\n```\r\nprints\r\n```\r\nbar\r\n  filesCount=LongSummaryStatistics{count=2, sum=60, min=20, average=30.000000, max=40}\r\n  usedSpaceBytes=LongSummaryStatistics{count=2, sum=600, min=200, average=300.000000, max=400}\r\nfoo\r\n  filesCount=LongSummaryStatistics{count=2, sum=40, min=10, average=20.000000, max=30}\r\n  usedSpaceBytes=LongSummaryStatistics{count=2, sum=400, min=100, average=200.000000, max=300}\r\n","title":"java groupBy and summarize on multiple field","body":"<p>Here's an idea that with a little setup would allow any number of fields of some type <code>T</code> to be summarized.  It may give you some ideas.  It makes use of the <code>compute*</code> features of a map introduced in <code>Java 8</code>.</p>\n<p>I used a record in lieu of a class to hold the data.</p>\n<ul>\n<li><p>first, set up a list of method references to get the values you want.</p>\n</li>\n<li><p>then, initialize another list with the titles of names of those values (here I used your names but the data is just for demo).  <em><code>Note:</code> There are many ways to do this.  A single list with a <code>record</code> holding the name and method reference would be another way.</em></p>\n</li>\n<li><p>create a map of maps to house the results.  The key to the outer map is the <code>packageType</code>, the key to the inner map is the name of the field you are summarizing for each packageType.</p>\n</li>\n</ul>\n<p>Now simply iterate over the list of data, and build the map.  The details of how the <code>compute*</code> methods work are explained in the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\">Map Interface JavaDoc</a> but here is a quick summary.</p>\n<p><code>computeIfAbsent</code> will evaluate its second argument if the supplied key is not there.  That second argument (here it's the inner map) is returned for access.  In this case, another <code>computeIfAbsent</code> is used to see if that map has a key for the field.  If not it adds it and creates a <code>LongSummaryStatistic</code> instance wit the key for the field name.  That instance is also made available for access.  The data item is then <code>accepted</code> and the statistics updated.</p>\n<pre><code>public class Summarizing {\n\n    record Data(String getPackageType, long getFilesCount,\n        long getUsedSpaceBytes) {\n    }\n\n    static List&lt;Function&lt;Data, Long&gt;&gt; summaryFields = List\n        .of(Data::getFilesCount, Data::getUsedSpaceBytes);\n   \n    static List&lt;String&gt; names = List.of(&quot;filesCount&quot;, &quot;usedSpaceBytes&quot;);\n\n    public static void main(String[] args) {\n    List&lt;Data&gt; list = List.of(new Data(&quot;foo&quot;, 10, 100),\n        new Data(&quot;bar&quot;, 20, 200),\n        new Data(&quot;foo&quot;, 30, 300),\n        new Data(&quot;bar&quot;, 40, 400));\n\n    Map&lt;String, Map&lt;String, LongSummaryStatistics&gt;&gt; result = new HashMap&lt;&gt;();\n\n    for (Data d : list) {\n        Map&lt;String, LongSummaryStatistics&gt; innerMap = result\n            .computeIfAbsent(d.getPackageType(),\n                v -&gt; new HashMap&lt;&gt;());\n        for (int i = 0; i &lt; summaryFields.size(); i++) {\n           innerMap.computeIfAbsent(names.get(i),\n              v -&gt; new LongSummaryStatistics())\n            .accept(summaryFields.get(i)\n                .apply(d));\n        }\n    }\n\n    result.entrySet().forEach(e-&gt; {\n        System.out.println(e.getKey());\n        for (Entry&lt;?,?&gt; ee : e.getValue().entrySet()) {\n        System.out.println(&quot;  &quot;  + ee);\n        }\n    });\n    }\n}\n</code></pre>\n<p>prints</p>\n<pre><code>bar\n  filesCount=LongSummaryStatistics{count=2, sum=60, min=20, average=30.000000, max=40}\n  usedSpaceBytes=LongSummaryStatistics{count=2, sum=600, min=200, average=300.000000, max=400}\nfoo\n  filesCount=LongSummaryStatistics{count=2, sum=40, min=10, average=20.000000, max=30}\n  usedSpaceBytes=LongSummaryStatistics{count=2, sum=400, min=100, average=200.000000, max=300}\n</code></pre>\n"}],"owner":{"account_id":3328943,"reputation":645,"user_id":2798295,"accept_rate":40,"display_name":"carlitos081"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666180184,"creation_date":1665743938,"question_id":74067987,"body_markdown":"I&#39;m trying to use the Java summarize which I have just discovered and they are just perfect for my use case.\r\n\r\nThe only issue is that I can&#39;t make it working when I need to summarize on multiple field:\r\n\r\n``` \r\nfinal Map&lt;PackageType, LongSummaryStatistics&gt; map2 = artifactory.getStorageInfo()\r\n            .getRepositorySummaries()\r\n            .stream()\r\n            .map(o -&gt; RepositorySummaryValue.from(o))\r\n            .collect(groupingBy(\r\n                k -&gt; k.getPackageType(),\r\n                summarizingLong(k -&gt; k.filesCount)\r\n                ));\r\n```\r\n\r\nthis is my `RepositorySummaryValue` class:\r\n\r\n```\r\n@lombok.Value\r\n    @Builder(builderClassName = &quot;Builder&quot;)\r\n    private static class RepositorySummaryValue {\r\n\r\n        long filesCount;\r\n\r\n        @NonNull\r\n        PackageType packageType;\r\n\r\n        @NonNull\r\n        String key;\r\n\r\n        @NonNull\r\n        RepositoryType type;\r\n\r\n        long usedSpaceBytes;\r\n\r\n        @SneakyThrows\r\n        static RepositorySummaryValue from(RepositorySummary source) {\r\n            return builder()\r\n                .filesCount(source.getFilesCount())\r\n                .packageType(source.getPackageType())\r\n                .key(source.getKey())\r\n                .type(source.getType())\r\n                .usedSpaceBytes(source.getUsedSpaceBytes())\r\n                .build();\r\n        }\r\n    }\r\n```\r\n\r\nWhat I want is to get summarise also for `summarizingLong(k -&gt; k.usedSpaceBytes)`\r\n\r\nAny way for doing it?\r\n\r\n=========EDIT============\r\nI&#39;m using Java 8","title":"java groupBy and summarize on multiple field","body":"<p>I'm trying to use the Java summarize which I have just discovered and they are just perfect for my use case.</p>\n<p>The only issue is that I can't make it working when I need to summarize on multiple field:</p>\n<pre><code>final Map&lt;PackageType, LongSummaryStatistics&gt; map2 = artifactory.getStorageInfo()\n            .getRepositorySummaries()\n            .stream()\n            .map(o -&gt; RepositorySummaryValue.from(o))\n            .collect(groupingBy(\n                k -&gt; k.getPackageType(),\n                summarizingLong(k -&gt; k.filesCount)\n                ));\n</code></pre>\n<p>this is my <code>RepositorySummaryValue</code> class:</p>\n<pre><code>@lombok.Value\n    @Builder(builderClassName = &quot;Builder&quot;)\n    private static class RepositorySummaryValue {\n\n        long filesCount;\n\n        @NonNull\n        PackageType packageType;\n\n        @NonNull\n        String key;\n\n        @NonNull\n        RepositoryType type;\n\n        long usedSpaceBytes;\n\n        @SneakyThrows\n        static RepositorySummaryValue from(RepositorySummary source) {\n            return builder()\n                .filesCount(source.getFilesCount())\n                .packageType(source.getPackageType())\n                .key(source.getKey())\n                .type(source.getType())\n                .usedSpaceBytes(source.getUsedSpaceBytes())\n                .build();\n        }\n    }\n</code></pre>\n<p>What I want is to get summarise also for <code>summarizingLong(k -&gt; k.usedSpaceBytes)</code></p>\n<p>Any way for doing it?</p>\n<p>=========EDIT============\nI'm using Java 8</p>\n"},{"tags":["java","android","regex"],"comments":[{"owner":{"account_id":2055727,"reputation":2542,"user_id":1833539,"accept_rate":64,"display_name":"Denny Weinberg"},"score":0,"creation_date":1473788727,"post_id":39475924,"comment_id":66271326,"body_markdown":"You could search a string that contains at least one &quot;.&quot; and maybe 4 characters? (Without space)","body":"You could search a string that contains at least one &quot;.&quot; and maybe 4 characters? (Without space)"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1473789788,"post_id":39475924,"comment_id":66271934,"body_markdown":"how is this code relevant / what have you tried so far?","body":"how is this code relevant / what have you tried so far?"}],"answers":[{"tags":[],"owner":{"account_id":2598845,"reputation":1621,"user_id":2251837,"accept_rate":95,"display_name":"Aman Grover"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473788977,"creation_date":1473788977,"answer_id":39476152,"question_id":39475924,"body_markdown":"You could recognize and extract a particular pattern from the String.\r\n\r\n    // Pattern for recognizing a URL, based off RFC 3986 \r\n    private static final Pattern urlPattern = Pattern.compile(\r\n            &quot;(?:^|[\\\\W])((ht|f)tp(s?):\\\\/\\\\/|www\\\\.)&quot; \r\n                    + &quot;(([\\\\w\\\\-]+\\\\.){1,}?([\\\\w\\\\-.~]+\\\\/?)*&quot; \r\n                    + &quot;[\\\\p{Alnum}.,%_=?&amp;#\\\\-+()\\\\[\\\\]\\\\*$~@!:/{};&#39;]*)&quot;, \r\n            Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\r\n\r\nExample :\r\n\r\n    Matcher matcher = urlPattern.matcher(&quot;foo bar http://example.com baz&quot;);\r\n    while (matcher.find()) {\r\n        int matchStart = matcher.start(1);\r\n        int matchEnd = matcher.end();\r\n        // now you have the offsets of a URL match \r\n    } \r\n\r\nreference: [may be other answers there will be useful to you as well][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5713558/detect-and-extract-url-from-a-string","title":"Android: extract link from String value","body":"<p>You could recognize and extract a particular pattern from the String.</p>\n\n<pre><code>// Pattern for recognizing a URL, based off RFC 3986 \nprivate static final Pattern urlPattern = Pattern.compile(\n        \"(?:^|[\\\\W])((ht|f)tp(s?):\\\\/\\\\/|www\\\\.)\" \n                + \"(([\\\\w\\\\-]+\\\\.){1,}?([\\\\w\\\\-.~]+\\\\/?)*\" \n                + \"[\\\\p{Alnum}.,%_=?&amp;#\\\\-+()\\\\[\\\\]\\\\*$~@!:/{};']*)\", \n        Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\n</code></pre>\n\n<p>Example :</p>\n\n<pre><code>Matcher matcher = urlPattern.matcher(\"foo bar http://example.com baz\");\nwhile (matcher.find()) {\n    int matchStart = matcher.start(1);\n    int matchEnd = matcher.end();\n    // now you have the offsets of a URL match \n} \n</code></pre>\n\n<p>reference: <a href=\"https://stackoverflow.com/questions/5713558/detect-and-extract-url-from-a-string\">may be other answers there will be useful to you as well</a></p>\n"},{"tags":[],"owner":{"account_id":2985836,"reputation":2698,"user_id":2534694,"accept_rate":32,"display_name":"Zen"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1475095926,"creation_date":1475095926,"answer_id":39757439,"question_id":39475924,"body_markdown":"The following method does the trick: \r\n\r\n\t//Pull all links from the body for easy retrieval\r\n\tpublic ArrayList&lt;String&gt; pullLinks(String text) \r\n\t{\r\n\t\tArrayList&lt;String&gt; links = new ArrayList&lt;String&gt;();\r\n\t\t \r\n\t\t//String regex = &quot;\\\\(?\\\\b(http://|www[.])[-A-Za-z0-9+&amp;@#/%?=~_()|!:,.;]*[-A-Za-z0-9+&amp;@#/%=~_()|]&quot;;\r\n\t\tString regex = &quot;\\\\(?\\\\b(https?://|www[.]|ftp://)[-A-Za-z0-9+&amp;@#/%?=~_()|!:,.;]*[-A-Za-z0-9+&amp;@#/%=~_()|]&quot;;\r\n\t\t\r\n\t\tPattern p = Pattern.compile(regex);\r\n\t\tMatcher m = p.matcher(text);\r\n\t\t\r\n\t\twhile(m.find()) \r\n\t\t{\r\n\t\t\tString urlStr = m.group();\r\n\t\t\t\r\n\t\t\tif (urlStr.startsWith(&quot;(&quot;) &amp;&amp; urlStr.endsWith(&quot;)&quot;))\r\n\t\t\t{\r\n\t\t\t\turlStr = urlStr.substring(1, urlStr.length() - 1);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\tlinks.add(urlStr);\r\n\t\t}\r\n\t\t\r\n\t\t\treturn links;\r\n\t}\r\n\r\n\r\n","title":"Android: extract link from String value","body":"<p>The following method does the trick: </p>\n\n<pre><code>//Pull all links from the body for easy retrieval\npublic ArrayList&lt;String&gt; pullLinks(String text) \n{\n    ArrayList&lt;String&gt; links = new ArrayList&lt;String&gt;();\n\n    //String regex = \"\\\\(?\\\\b(http://|www[.])[-A-Za-z0-9+&amp;@#/%?=~_()|!:,.;]*[-A-Za-z0-9+&amp;@#/%=~_()|]\";\n    String regex = \"\\\\(?\\\\b(https?://|www[.]|ftp://)[-A-Za-z0-9+&amp;@#/%?=~_()|!:,.;]*[-A-Za-z0-9+&amp;@#/%=~_()|]\";\n\n    Pattern p = Pattern.compile(regex);\n    Matcher m = p.matcher(text);\n\n    while(m.find()) \n    {\n        String urlStr = m.group();\n\n        if (urlStr.startsWith(\"(\") &amp;&amp; urlStr.endsWith(\")\"))\n        {\n            urlStr = urlStr.substring(1, urlStr.length() - 1);\n        }\n\n            links.add(urlStr);\n    }\n\n        return links;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13721550,"reputation":862,"user_id":9901309,"display_name":"RAINA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666180078,"creation_date":1666180078,"answer_id":74124797,"question_id":39475924,"body_markdown":"You can just extract the Url from a string using the Matcher Class.following code will extract all the links included in the string to an array of Urls.\r\n\r\n   \r\n\r\n     Matcher webMatcher = Patterns.WEB_URL.matcher(stringWhichContainsUrl);\r\n            ArrayList&lt;String&gt; hyperLinks = new ArrayList&lt;&gt;();\r\n    \r\n            while (webMatcher.find()) {\r\n                String res = webMatcher.group();\r\n                hyperLinks.add(res);\r\n            }\r\n    \r\n            Log.e(&quot;links&quot;, hyperLinks.toString());","title":"Android: extract link from String value","body":"<p>You can just extract the Url from a string using the Matcher Class.following code will extract all the links included in the string to an array of Urls.</p>\n<pre><code> Matcher webMatcher = Patterns.WEB_URL.matcher(stringWhichContainsUrl);\n        ArrayList&lt;String&gt; hyperLinks = new ArrayList&lt;&gt;();\n\n        while (webMatcher.find()) {\n            String res = webMatcher.group();\n            hyperLinks.add(res);\n        }\n\n        Log.e(&quot;links&quot;, hyperLinks.toString());\n</code></pre>\n"}],"owner":{"account_id":2985836,"reputation":2698,"user_id":2534694,"accept_rate":32,"display_name":"Zen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":39757439,"answer_count":3,"score":1,"last_activity_date":1666180078,"creation_date":1473788200,"question_id":39475924,"body_markdown":"I would like to have link from the share intent. When I receive a link via chrome its properly formatted, but sometimes other apps add text too. \r\n\r\nExample:\r\n\r\n*Chrome: &quot;www.recode.net/2016/7/21/12243560/google-machine-learning-comics-play&quot;*\r\n\r\n*Twitter: &quot;Guys check out this link it&#39;s so cool https://www.recode.net/2016/7/21/12243560/google-machine-learning-comics-play&quot;*\r\n\r\nSo in case of twitter I would like to get rid of all the context and have only the link remaining,ie, www.recode.net/2016/7/21/12243560/google-machine-learning-comics-play\r\n\r\nNote: Link may be of any format https://.. (or) www. .. (or) recode.net/... (without the www at the beginning).\r\n\r\nAny regex to sort this out?\r\n\r\n    @Override\r\n\tprotected void onCreate(Bundle savedInstanceState) \r\n\t{\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_shareintent);\r\n\t\t\r\n\t\t// Get intent, action and MIME type\r\n\t    Intent intent = getIntent();\r\n\t    String action = intent.getAction();\r\n\t    String type = intent.getType();\r\n\r\n\t    if (Intent.ACTION_SEND.equals(action) &amp;&amp; type != null) \r\n\t    {\r\n\t        if (&quot;text/plain&quot;.equals(type)) \r\n\t        {\r\n\t        \t// Handle text being sent\r\n\t            handleSendText(intent); \r\n\t        }\r\n\t    }\r\n\t}\r\n\t\r\n\tvoid handleSendText(Intent intent)\r\n\t{\r\n\t    String sharedText = intent.getStringExtra(Intent.EXTRA_TEXT);\r\n\t    if (sharedText != null) \r\n\t    {\r\n\t        // Update UI to reflect text being shared\r\n\t    \tTextView tvShare = (TextView) findViewById(R.id.tvShare);\r\n\t    \ttvShare.setText(sharedText);\r\n\t    }\r\n\t}\r\n","title":"Android: extract link from String value","body":"<p>I would like to have link from the share intent. When I receive a link via chrome its properly formatted, but sometimes other apps add text too. </p>\n\n<p>Example:</p>\n\n<p><em>Chrome: \"www.recode.net/2016/7/21/12243560/google-machine-learning-comics-play\"</em></p>\n\n<p><em>Twitter: \"Guys check out this link it's so cool <a href=\"https://www.recode.net/2016/7/21/12243560/google-machine-learning-comics-play\" rel=\"nofollow\">https://www.recode.net/2016/7/21/12243560/google-machine-learning-comics-play</a>\"</em></p>\n\n<p>So in case of twitter I would like to get rid of all the context and have only the link remaining,ie, www.recode.net/2016/7/21/12243560/google-machine-learning-comics-play</p>\n\n<p>Note: Link may be of any format https://.. (or) www. .. (or) recode.net/... (without the www at the beginning).</p>\n\n<p>Any regex to sort this out?</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) \n{\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_shareintent);\n\n    // Get intent, action and MIME type\n    Intent intent = getIntent();\n    String action = intent.getAction();\n    String type = intent.getType();\n\n    if (Intent.ACTION_SEND.equals(action) &amp;&amp; type != null) \n    {\n        if (\"text/plain\".equals(type)) \n        {\n            // Handle text being sent\n            handleSendText(intent); \n        }\n    }\n}\n\nvoid handleSendText(Intent intent)\n{\n    String sharedText = intent.getStringExtra(Intent.EXTRA_TEXT);\n    if (sharedText != null) \n    {\n        // Update UI to reflect text being shared\n        TextView tvShare = (TextView) findViewById(R.id.tvShare);\n        tvShare.setText(sharedText);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jackson","jsm"],"answers":[{"comments":[{"owner":{"account_id":7702261,"reputation":1812,"user_id":5834387,"accept_rate":90,"display_name":"Imran"},"score":5,"creation_date":1502011148,"post_id":45527148,"comment_id":78021049,"body_markdown":"Seems like that solved the problem. Thanks you. Not sure why the docs and samples have such a problematic approach without any proper explanation. The java doc for set typeIdPropertyName just says type id property for the message. It must be set. But does not say how it should be set.","body":"Seems like that solved the problem. Thanks you. Not sure why the docs and samples have such a problematic approach without any proper explanation. The java doc for set typeIdPropertyName just says type id property for the message. It must be set. But does not say how it should be set."},{"owner":{"account_id":5560547,"reputation":377,"user_id":4410012,"display_name":"Zwakele Mgabhi"},"score":0,"creation_date":1631631745,"post_id":45527148,"comment_id":122272073,"body_markdown":"which package do I import the MessageConverter from?","body":"which package do I import the MessageConverter from?"},{"owner":{"account_id":9472564,"reputation":2041,"user_id":7548062,"accept_rate":76,"display_name":"Pavel"},"score":0,"creation_date":1636896699,"post_id":45527148,"comment_id":123674584,"body_markdown":"@Zwakele Mgabhi I had the same question.","body":"@Zwakele Mgabhi I had the same question."},{"owner":{"account_id":5560547,"reputation":377,"user_id":4410012,"display_name":"Zwakele Mgabhi"},"score":1,"creation_date":1636991097,"post_id":45527148,"comment_id":123699039,"body_markdown":"@Pavel I used &quot;org.springframework.jms.support.converter.MessageConverter&quot;","body":"@Pavel I used &quot;org.springframework.jms.support.converter.MessageConverter&quot;"}],"tags":[],"owner":{"account_id":2697018,"reputation":5916,"user_id":2328781,"accept_rate":75,"display_name":"Danylo Zatorsky"},"comment_count":4,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1501974663,"creation_date":1501974663,"answer_id":45527148,"question_id":45526371,"body_markdown":"`TypeIdPropertyName` is a name of a property that identifies the entity. Jackson mapper should know what entity to use when deserializing incoming JSON.\r\n\r\nThe request should look like the following:\r\n\r\n    {  \r\n       &quot;_type&quot; : &quot;hello.Email&quot;,\r\n       &quot;to&quot; : &quot;Imran&quot;,\r\n       &quot;from&quot; : &quot;dzatorsky&quot;\r\n    }\r\n\r\nBtw I think this is not the best solution since JMS already know what type to use (you declare it in your method). Another drawback is that you specify name of your entity and package in the messages which will hard to maintain (every change of a package or entity name will be a pain).\r\n\r\nHere is more robust config:\r\n\r\n    @EnableJms\r\n    @Configuration\r\n    public class JmsListenerConfig implements JmsListenerConfigurer {\r\n    \r\n        @Bean\r\n        public DefaultMessageHandlerMethodFactory handlerMethodFactory() {\r\n            DefaultMessageHandlerMethodFactory factory = new DefaultMessageHandlerMethodFactory();\r\n            factory.setMessageConverter(messageConverter());\r\n            return factory;\r\n        }\r\n    \r\n        @Bean\r\n        public MessageConverter messageConverter() {\r\n            return new MappingJackson2MessageConverter();\r\n        }\r\n    \r\n        @Override\r\n        public void configureJmsListeners(JmsListenerEndpointRegistrar registrar) {\r\n            registrar.setMessageHandlerMethodFactory(handlerMethodFactory());\r\n        }\r\n    }\r\n\r\nAlso if you use Spring JmsTemplate for sending messages you could add this component to your configuration:\r\n\r\n    /**\r\n     * Used to convert JMS messages from/to JSON. Registered in Spring-JMS automatically via auto configuration\r\n     */\r\n    @Component\r\n    public class JsonMessageConverter implements MessageConverter {\r\n    \r\n        @Autowired\r\n        private ObjectMapper mapper;\r\n    \r\n        /**\r\n         * Converts message to JSON. Used mostly by {@link org.springframework.jms.core.JmsTemplate}\r\n         */\r\n        @Override\r\n        public javax.jms.Message toMessage(Object object, Session session) throws JMSException, MessageConversionException {\r\n            String json;\r\n    \r\n            try {\r\n                json = mapper.writeValueAsString(object);\r\n            } catch (Exception e) {\r\n                throw new MessageConversionException(&quot;Message cannot be parsed. &quot;, e);\r\n            }\r\n    \r\n            TextMessage message = session.createTextMessage();\r\n            message.setText(json);\r\n    \r\n            return message;\r\n        }\r\n    \r\n        /**\r\n         * Extracts JSON payload for further processing by JacksonMapper.\r\n         */\r\n        @Override\r\n        public Object fromMessage(javax.jms.Message message) throws JMSException, MessageConversionException {\r\n            return ((TextMessage) message).getText();\r\n        }\r\n    }\r\nWith this configuration you can skip annoying &quot;_type&quot; field in your messages.","title":"Caused by: org.springframework.jms.support.converter.MessageConversionException: Could not find type id property [_type] on message","body":"<p><code>TypeIdPropertyName</code> is a name of a property that identifies the entity. Jackson mapper should know what entity to use when deserializing incoming JSON.</p>\n\n<p>The request should look like the following:</p>\n\n<pre><code>{  \n   \"_type\" : \"hello.Email\",\n   \"to\" : \"Imran\",\n   \"from\" : \"dzatorsky\"\n}\n</code></pre>\n\n<p>Btw I think this is not the best solution since JMS already know what type to use (you declare it in your method). Another drawback is that you specify name of your entity and package in the messages which will hard to maintain (every change of a package or entity name will be a pain).</p>\n\n<p>Here is more robust config:</p>\n\n<pre><code>@EnableJms\n@Configuration\npublic class JmsListenerConfig implements JmsListenerConfigurer {\n\n    @Bean\n    public DefaultMessageHandlerMethodFactory handlerMethodFactory() {\n        DefaultMessageHandlerMethodFactory factory = new DefaultMessageHandlerMethodFactory();\n        factory.setMessageConverter(messageConverter());\n        return factory;\n    }\n\n    @Bean\n    public MessageConverter messageConverter() {\n        return new MappingJackson2MessageConverter();\n    }\n\n    @Override\n    public void configureJmsListeners(JmsListenerEndpointRegistrar registrar) {\n        registrar.setMessageHandlerMethodFactory(handlerMethodFactory());\n    }\n}\n</code></pre>\n\n<p>Also if you use Spring JmsTemplate for sending messages you could add this component to your configuration:</p>\n\n<pre><code>/**\n * Used to convert JMS messages from/to JSON. Registered in Spring-JMS automatically via auto configuration\n */\n@Component\npublic class JsonMessageConverter implements MessageConverter {\n\n    @Autowired\n    private ObjectMapper mapper;\n\n    /**\n     * Converts message to JSON. Used mostly by {@link org.springframework.jms.core.JmsTemplate}\n     */\n    @Override\n    public javax.jms.Message toMessage(Object object, Session session) throws JMSException, MessageConversionException {\n        String json;\n\n        try {\n            json = mapper.writeValueAsString(object);\n        } catch (Exception e) {\n            throw new MessageConversionException(\"Message cannot be parsed. \", e);\n        }\n\n        TextMessage message = session.createTextMessage();\n        message.setText(json);\n\n        return message;\n    }\n\n    /**\n     * Extracts JSON payload for further processing by JacksonMapper.\n     */\n    @Override\n    public Object fromMessage(javax.jms.Message message) throws JMSException, MessageConversionException {\n        return ((TextMessage) message).getText();\n    }\n}\n</code></pre>\n\n<p>With this configuration you can skip annoying \"_type\" field in your messages.</p>\n"},{"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504282438,"creation_date":1504282438,"answer_id":46004272,"question_id":45526371,"body_markdown":"The custom (i.e. application-level) &quot;_type&quot; property must be a JMS property set on the message (by its producer). The message payload is not littered with type metadata. To learn about JMS Message properties, one should visit &lt;https://docs.oracle.com/javaee/7/api/javax/jms/Message.html&gt;\r\n\r\nThis is *not* to be confused with a JSON property which may be used alternatively and must be configured with Jackson-based annotations (e.g as polymorphic deserialization). In this case, the actual message payload (the JSON string) is changed and contains a &quot;_type&quot; property at the top-level object.","title":"Caused by: org.springframework.jms.support.converter.MessageConversionException: Could not find type id property [_type] on message","body":"<p>The custom (i.e. application-level) \"_type\" property must be a JMS property set on the message (by its producer). The message payload is not littered with type metadata. To learn about JMS Message properties, one should visit <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Message.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/7/api/javax/jms/Message.html</a></p>\n\n<p>This is <em>not</em> to be confused with a JSON property which may be used alternatively and must be configured with Jackson-based annotations (e.g as polymorphic deserialization). In this case, the actual message payload (the JSON string) is changed and contains a \"_type\" property at the top-level object.</p>\n"},{"tags":[],"owner":{"account_id":1461397,"reputation":5944,"user_id":1375627,"accept_rate":25,"display_name":"MattC"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1525372912,"creation_date":1525372912,"answer_id":50161907,"question_id":45526371,"body_markdown":"The other answers didn&#39;t specify setting the type on the calling side, so I&#39;ll point that out. You need a message converter on BOTH the calling and the receiving side (assuming you are not just playing around with a single application):\r\n\r\n        @Bean\r\n        public MessageConverter jacksonJmsMessageConverter() {\r\n            MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n            converter.setTargetType(MessageType.TEXT);\r\n            converter.setTypeIdPropertyName(&quot;_type&quot;);\r\n            return converter;\r\n        }\r\n\r\nSpring will automatically use this messageConverter with JmsTemplate (if that is what you are using). And &quot;_type&quot; can be anything, but it is supposed to be the same on both sides.","title":"Caused by: org.springframework.jms.support.converter.MessageConversionException: Could not find type id property [_type] on message","body":"<p>The other answers didn't specify setting the type on the calling side, so I'll point that out. You need a message converter on BOTH the calling and the receiving side (assuming you are not just playing around with a single application):</p>\n\n<pre><code>    @Bean\n    public MessageConverter jacksonJmsMessageConverter() {\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n        converter.setTargetType(MessageType.TEXT);\n        converter.setTypeIdPropertyName(\"_type\");\n        return converter;\n    }\n</code></pre>\n\n<p>Spring will automatically use this messageConverter with JmsTemplate (if that is what you are using). And \"_type\" can be anything, but it is supposed to be the same on both sides.</p>\n"},{"tags":[],"owner":{"account_id":2446638,"reputation":28,"user_id":5141048,"display_name":"bushrat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1608733773,"creation_date":1608733773,"answer_id":65425944,"question_id":45526371,"body_markdown":"I&#39;m using Spring Boot JmsTemplate and the 2nd class of Danylo Zatorsky&#39;s answer didn&#39;t quite work for me as its deserialization only returns simple strings.   Prepending the content with the class name during serialization and cracking that out later with a regex allows one to reverse more complex objects.  HTH\r\n\r\n```\r\n@Component\r\npublic class JsonMessageConverter implements MessageConverter {\r\n\r\n    private final ObjectMapper mapper;\r\n\r\n    public JsonMessageConverter(ObjectMapper mapper) {\r\n        this.mapper = mapper;\r\n    }\r\n\r\n    @Override\r\n    public javax.jms.Message toMessage(Object object, Session session) throws MessageConversionException {\r\n        try {\r\n            // send class=&lt;json content&gt;\r\n            return session.createTextMessage(object.getClass().getName() + &quot;=&quot; + mapper.writeValueAsString(object));\r\n        } catch (Exception e) {\r\n            throw new MessageConversionException(&quot;Message cannot be serialized&quot;, e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public Object fromMessage(javax.jms.Message message) throws JMSException, MessageConversionException {\r\n        try {\r\n            Matcher matcher = Pattern.compile(&quot;^([^=]+)=(.+)$&quot;).matcher(((TextMessage) message).getText());\r\n            if (!matcher.find())\r\n            {\r\n                throw new MessageConversionException(&quot;Message is not of the expected format: class=&lt;json content&gt;&quot;);\r\n            }\r\n            return mapper.readValue(matcher.group(2), Class.forName(matcher.group(1)));\r\n        } catch (Exception e) {\r\n            throw new MessageConversionException(&quot;Message cannot be deserialized&quot;, e);\r\n        }\r\n    }\r\n}\r\n``` ","title":"Caused by: org.springframework.jms.support.converter.MessageConversionException: Could not find type id property [_type] on message","body":"<p>I'm using Spring Boot JmsTemplate and the 2nd class of Danylo Zatorsky's answer didn't quite work for me as its deserialization only returns simple strings.   Prepending the content with the class name during serialization and cracking that out later with a regex allows one to reverse more complex objects.  HTH</p>\n<pre><code>@Component\npublic class JsonMessageConverter implements MessageConverter {\n\n    private final ObjectMapper mapper;\n\n    public JsonMessageConverter(ObjectMapper mapper) {\n        this.mapper = mapper;\n    }\n\n    @Override\n    public javax.jms.Message toMessage(Object object, Session session) throws MessageConversionException {\n        try {\n            // send class=&lt;json content&gt;\n            return session.createTextMessage(object.getClass().getName() + &quot;=&quot; + mapper.writeValueAsString(object));\n        } catch (Exception e) {\n            throw new MessageConversionException(&quot;Message cannot be serialized&quot;, e);\n        }\n    }\n\n    @Override\n    public Object fromMessage(javax.jms.Message message) throws JMSException, MessageConversionException {\n        try {\n            Matcher matcher = Pattern.compile(&quot;^([^=]+)=(.+)$&quot;).matcher(((TextMessage) message).getText());\n            if (!matcher.find())\n            {\n                throw new MessageConversionException(&quot;Message is not of the expected format: class=&lt;json content&gt;&quot;);\n            }\n            return mapper.readValue(matcher.group(2), Class.forName(matcher.group(1)));\n        } catch (Exception e) {\n            throw new MessageConversionException(&quot;Message cannot be deserialized&quot;, e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666180002,"creation_date":1666180002,"answer_id":74124783,"question_id":45526371,"body_markdown":"In my case i was `setTypeIdProprtyName` wrong. \r\n\r\n\r\n     @Bean\r\n        public MessageConverter messageConverter() {\r\n            MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n            converter.setTargetType(MessageType.TEXT);\r\n            converter.setTypeIdPropertyName(&quot;_type&quot;);\r\n            return converter;\r\n        }","title":"Caused by: org.springframework.jms.support.converter.MessageConversionException: Could not find type id property [_type] on message","body":"<p>In my case i was <code>setTypeIdProprtyName</code> wrong.</p>\n<pre><code> @Bean\n    public MessageConverter messageConverter() {\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n        converter.setTargetType(MessageType.TEXT);\n        converter.setTypeIdPropertyName(&quot;_type&quot;);\n        return converter;\n    }\n</code></pre>\n"}],"owner":{"account_id":7702261,"reputation":1812,"user_id":5834387,"accept_rate":90,"display_name":"Imran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22806,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":65425944,"answer_count":5,"score":9,"last_activity_date":1666180002,"creation_date":1501966753,"question_id":45526371,"body_markdown":"I am trying this spring JMS sample, and it gives error.\r\nhttps://spring.io/guides/gs/messaging-jms/\r\n    Caused by: `org.springframework.jms.support.converter.MessageConversionException: Could not find type id property [_type] on message  from destination [queue://mailbox]`\r\nInteresting part is, if I clone it and run everything runs fine. If I copy and paste, it gives error.\r\n\r\n\r\n     @Bean // Serialize message content to json using TextMessage\r\n    public MessageConverter jacksonJmsMessageConverter() {\r\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n        converter.setTargetType(MessageType.TEXT);\r\n        converter.setTypeIdPropertyName(&quot;_type&quot;);\r\n        return converter;\r\n    }\r\n\r\nThis piece of code actually causing the error. Searching the web and documentation, I still have no clue how and what to set setTypeIdPropertyName value and with &quot;_type&quot; what it refers in this project to? As the message does not have such property, then where is it coming from ?\r\n \r\n","title":"Caused by: org.springframework.jms.support.converter.MessageConversionException: Could not find type id property [_type] on message","body":"<p>I am trying this spring JMS sample, and it gives error.\n<a href=\"https://spring.io/guides/gs/messaging-jms/\" rel=\"noreferrer\">https://spring.io/guides/gs/messaging-jms/</a>\n    Caused by: <code>org.springframework.jms.support.converter.MessageConversionException: Could not find type id property [_type] on message  from destination [queue://mailbox]</code>\nInteresting part is, if I clone it and run everything runs fine. If I copy and paste, it gives error.</p>\n\n<pre><code> @Bean // Serialize message content to json using TextMessage\npublic MessageConverter jacksonJmsMessageConverter() {\n    MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n    converter.setTargetType(MessageType.TEXT);\n    converter.setTypeIdPropertyName(\"_type\");\n    return converter;\n}\n</code></pre>\n\n<p>This piece of code actually causing the error. Searching the web and documentation, I still have no clue how and what to set setTypeIdPropertyName value and with \"_type\" what it refers in this project to? As the message does not have such property, then where is it coming from ?</p>\n"},{"tags":["java","angular","spring","typescript","httprequest"],"answers":[{"tags":[],"owner":{"account_id":5534970,"reputation":2079,"user_id":4393627,"display_name":"Srinivasan Sekar"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":true,"score":2,"last_activity_date":1558090382,"creation_date":1558088795,"answer_id":56184532,"question_id":56184305,"body_markdown":"Try this ,\r\n\r\n\r\n     const formData = new FormData();\r\n     formData.append(&quot;file&quot;, file);\r\n     formData.append(&quot;reportProgress&quot;, true);\r\n\r\nuse httpclient,\r\n\r\n\r\n     return this.httpclient.post(this.urlUpload, formData);","title":"The request was rejected because no multipart boundary was found angular+spring","body":"<p>Try this ,</p>\n\n<pre><code> const formData = new FormData();\n formData.append(\"file\", file);\n formData.append(\"reportProgress\", true);\n</code></pre>\n\n<p>use httpclient,</p>\n\n<pre><code> return this.httpclient.post(this.urlUpload, formData);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12610796,"reputation":256,"user_id":9170006,"display_name":"Shidomaru NeveRage"},"score":0,"creation_date":1558090052,"post_id":56184713,"comment_id":98994886,"body_markdown":"Nothing change, still `the request was rejected because no multipart boundary was found`. My file don&#39;t come from a form. Maybe it&#39;s the cause ? I add more informations to my question.","body":"Nothing change, still <code>the request was rejected because no multipart boundary was found</code>. My file don&#39;t come from a form. Maybe it&#39;s the cause ? I add more informations to my question."}],"tags":[],"owner":{"account_id":15701044,"reputation":97,"user_id":11329163,"display_name":"Joost"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1558089467,"creation_date":1558089467,"answer_id":56184713,"question_id":56184305,"body_markdown":"Are you actually sending `FormData` to your server?\r\n\r\nTry wrapping the file in a `FormData` object for the `HttpClient` to automatically add the multipart boundaries.\r\n\r\n```ts\r\nupload(file) {\r\n    const formData = new FormData();\r\n    formData.append(&#39;file&#39;, file);\r\n    const req = new HttpRequest(&#39;POST&#39;, this.urlUpload, formData, {\r\n      headers: new HttpHeaders({&#39;Content-Type&#39;:&#39;multipart/form-data&#39;}),\r\n      reportProgress: true\r\n    });\r\n    return this.http.request(req);\r\n  }\r\n\r\n```","title":"The request was rejected because no multipart boundary was found angular+spring","body":"<p>Are you actually sending <code>FormData</code> to your server?</p>\n\n<p>Try wrapping the file in a <code>FormData</code> object for the <code>HttpClient</code> to automatically add the multipart boundaries.</p>\n\n<pre><code>upload(file) {\n    const formData = new FormData();\n    formData.append('file', file);\n    const req = new HttpRequest('POST', this.urlUpload, formData, {\n      headers: new HttpHeaders({'Content-Type':'multipart/form-data'}),\n      reportProgress: true\n    });\n    return this.http.request(req);\n  }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1680317,"reputation":634,"user_id":1544690,"accept_rate":44,"display_name":"Mirlo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666179697,"creation_date":1666179697,"answer_id":74124708,"question_id":56184305,"body_markdown":"Have you set Content-Type? If so, please remove it.\r\n\r\n    headers:{\r\n            &quot;Content-Type&quot;:&quot;multipart/form-data&quot;, // remove it\r\n    },\r\n\r\n\r\nFront End:\r\n\r\n     const formData = new FormData();\r\n        formData.append(&quot;file&quot;, file);\r\n        formData.append(&quot;reportProgress&quot;, &quot;true&quot;);\r\n\r\n    return this.http.post&lt;void&gt;(this.API_URL + &#39;/upload&#39;, formData);\r\n\r\nbackend end :\r\n   \r\n\r\n     @Operation(description = &quot;Upload File&quot;)\r\n        @ApiResponses(value = {\r\n                @ApiResponse(responseCode = &quot;201&quot;, description = &quot;File Uploaded successfully&quot;),\r\n                @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Problem during file upload &quot;)\r\n        })\r\n        @PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n        @ResponseStatus(value = HttpStatus.CREATED)\r\n        public void upload(@RequestPart(&quot;file&quot;) final MultipartFile file) {\r\n            //action;\r\n        }\r\n\r\n","title":"The request was rejected because no multipart boundary was found angular+spring","body":"<p>Have you set Content-Type? If so, please remove it.</p>\n<pre><code>headers:{\n        &quot;Content-Type&quot;:&quot;multipart/form-data&quot;, // remove it\n},\n</code></pre>\n<p>Front End:</p>\n<pre><code> const formData = new FormData();\n    formData.append(&quot;file&quot;, file);\n    formData.append(&quot;reportProgress&quot;, &quot;true&quot;);\n\nreturn this.http.post&lt;void&gt;(this.API_URL + '/upload', formData);\n</code></pre>\n<p>backend end :</p>\n<pre><code> @Operation(description = &quot;Upload File&quot;)\n    @ApiResponses(value = {\n            @ApiResponse(responseCode = &quot;201&quot;, description = &quot;File Uploaded successfully&quot;),\n            @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Problem during file upload &quot;)\n    })\n    @PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    @ResponseStatus(value = HttpStatus.CREATED)\n    public void upload(@RequestPart(&quot;file&quot;) final MultipartFile file) {\n        //action;\n    }\n</code></pre>\n"}],"owner":{"account_id":12610796,"reputation":256,"user_id":9170006,"display_name":"Shidomaru NeveRage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7577,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":56184532,"answer_count":3,"score":1,"last_activity_date":1666179697,"creation_date":1558088025,"question_id":56184305,"body_markdown":" I&#39;m trying to upload a file recently downloaded with Angular2 to Spring API Rest.\r\n\r\nThe problem is (display on spring app)...\r\n\r\n&gt; The request was rejected because no multipart boundary was found\r\n&gt; \r\n&gt; at\r\n&gt; org.apache.tomcat.util.http.fileupload.FileUploadBase$FileItemIteratorImpl.&lt;init&gt;(FileUploadBase.java:831)\r\n&gt; ~[tomcat-embed-core-8.5.28.jar:8.5.28] \tat\r\n&gt; org.apache.tomcat.util.http.fileupload.FileUploadBase.getItemIterator(FileUploadBase.java:256)\r\n&gt; ~[tomcat-embed-core-8.5.28.jar:8.5.28] \tat\r\n&gt; org.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:280)\r\n&gt; ~[tomcat-embed-core-8.5.28.jar:8.5.28] \tat\r\n&gt; org.apache.catalina.connector.Request.parseParts(Request.java:2869)\r\n&gt; ~[tomcat-embed-core-8.5.28.jar:8.5.28] \tat\r\n&gt; org.apache.catalina.connector.Request.parseParameters(Request.java:3216)\r\n&gt; ~[tomcat-embed-core-8.5.28.jar:8.5.28] \tat\r\n&gt; org.apache.catalina.connector.Request.getParameter(Request.java:1137)\r\n&gt; ~[tomcat-embed-core-8.5.28.jar:8.5.28]\r\n\r\nOn the client side, the request is sent with &quot;multipart/form-data&quot; as content-type.\r\n\r\nHow can I fix it ?\r\n \r\n*fileDownloaderService*\r\n\r\n    upload(file) {\r\n    const formData = new FormData();\r\n    formData.append(&#39;file&#39;, file);\r\n        const req = new HttpRequest(&#39;POST&#39;, this.urlUpload, file, {\r\n          headers: new HttpHeaders({&#39;Content-Type&#39;:&#39;multipart/form-data&#39;}),\r\n          reportProgress: true\r\n        });\r\n        return this.http.request(req);\r\n      }\r\n\r\n*app.component*\r\n    \r\n      upload() {\r\n         let file = this.generate_dummy_file(50000000);\r\n         this.downloader.upload(file).subscribe( event =&gt; {\r\n            if (event.type === HttpEventType.UploadProgress) {\r\n            } else if (event instanceof HttpResponse) {\r\n              console.log(&#39;File is completly uploaded!&#39;);\r\n            }\r\n          });\r\n  \r\n\r\n        }\r\n    \r\n      generate_dummy_file(size) {\r\n        return new Blob([new ArrayBuffer(size)], {type: &#39;multipart/form-data&#39;});\r\n      };\r\n\r\n*And spring side*\r\n\r\n    @PostMapping(&quot;/uploadFile&quot;)\r\n        public UploadFileResponse uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n            return ...;\r\n        }\r\n\r\nThanks for helping","title":"The request was rejected because no multipart boundary was found angular+spring","body":"<p>I'm trying to upload a file recently downloaded with Angular2 to Spring API Rest.</p>\n\n<p>The problem is (display on spring app)...</p>\n\n<blockquote>\n  <p>The request was rejected because no multipart boundary was found</p>\n  \n  <p>at\n  org.apache.tomcat.util.http.fileupload.FileUploadBase$FileItemIteratorImpl.(FileUploadBase.java:831)\n  ~[tomcat-embed-core-8.5.28.jar:8.5.28]    at\n  org.apache.tomcat.util.http.fileupload.FileUploadBase.getItemIterator(FileUploadBase.java:256)\n  ~[tomcat-embed-core-8.5.28.jar:8.5.28]    at\n  org.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:280)\n  ~[tomcat-embed-core-8.5.28.jar:8.5.28]    at\n  org.apache.catalina.connector.Request.parseParts(Request.java:2869)\n  ~[tomcat-embed-core-8.5.28.jar:8.5.28]    at\n  org.apache.catalina.connector.Request.parseParameters(Request.java:3216)\n  ~[tomcat-embed-core-8.5.28.jar:8.5.28]    at\n  org.apache.catalina.connector.Request.getParameter(Request.java:1137)\n  ~[tomcat-embed-core-8.5.28.jar:8.5.28]</p>\n</blockquote>\n\n<p>On the client side, the request is sent with \"multipart/form-data\" as content-type.</p>\n\n<p>How can I fix it ?</p>\n\n<p><em>fileDownloaderService</em></p>\n\n<pre><code>upload(file) {\nconst formData = new FormData();\nformData.append('file', file);\n    const req = new HttpRequest('POST', this.urlUpload, file, {\n      headers: new HttpHeaders({'Content-Type':'multipart/form-data'}),\n      reportProgress: true\n    });\n    return this.http.request(req);\n  }\n</code></pre>\n\n<p><em>app.component</em></p>\n\n<pre><code>  upload() {\n     let file = this.generate_dummy_file(50000000);\n     this.downloader.upload(file).subscribe( event =&gt; {\n        if (event.type === HttpEventType.UploadProgress) {\n        } else if (event instanceof HttpResponse) {\n          console.log('File is completly uploaded!');\n        }\n      });\n\n\n    }\n\n  generate_dummy_file(size) {\n    return new Blob([new ArrayBuffer(size)], {type: 'multipart/form-data'});\n  };\n</code></pre>\n\n<p><em>And spring side</em></p>\n\n<pre><code>@PostMapping(\"/uploadFile\")\n    public UploadFileResponse uploadFile(@RequestParam(\"file\") MultipartFile file) {\n        return ...;\n    }\n</code></pre>\n\n<p>Thanks for helping</p>\n"},{"tags":["java","html","web","servlets"],"answers":[{"tags":[],"owner":{"account_id":2346767,"reputation":43,"user_id":2056813,"display_name":"Lucas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666179306,"creation_date":1666179306,"answer_id":74124631,"question_id":74086367,"body_markdown":"I am using Jetty-11 Server standalone/embedded mode. And here is how the Login Servlet looks like.\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.util.Map;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.Cookie;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport jakarta.servlet.http.HttpSession;\r\n\r\npublic class LoginServlet extends HttpServlet {\r\n    private Logger log = LoggerFactory.getLogger(LoginServlet.class);\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n        log.debug(&quot;LoginServlet {} userPrincipal: {}&quot;, req.getServletPath(), req.getUserPrincipal());\r\n        Map&lt;String, String[]&gt; p = req.getParameterMap();\r\n\r\n        p.forEach((k, v) -&gt; {\r\n            log.debug(&quot;{} {}&quot;, k, v);\r\n        });\r\n\r\n        String un = (p.get(&quot;j_username&quot;) != null) ? p.get(&quot;j_username&quot;)[0] : null;\r\n        String up = (p.get(&quot;j_password&quot;) != null) ? p.get(&quot;j_password&quot;)[0] : null;\r\n\r\n        try {\r\n            if (un != null &amp;&amp; up != null) {\r\n                req.logout();\r\n                req.login(un, up);\r\n            }\r\n        } catch (Exception e) {\r\n            log.error(&quot;AuthenticationException: &quot;, e);\r\n        }\r\n\r\n        log.debug(&quot;{} userPrincipal: {}&quot;, req.getServletPath(), req.getUserPrincipal());       \r\n        boolean isAuth = (req.getUserPrincipal() == null) ? false : true;\r\n\r\n        log.debug(&quot;isAuth: {}&quot;, isAuth);\r\n        resp.setContentType(&quot;text/html&quot;);\r\n\r\n        if (isAuth) {\r\n            /** Session Management */\r\n            HttpSession session = req.getSession();\r\n            session.setAttribute(&quot;user&quot;, req.getUserPrincipal().getName());\r\n            // setting session to expiry in 30 mins\r\n            session.setMaxInactiveInterval(30 * 60);\r\n            log.debug(&quot;sessionId: {} &quot;, req.getSession().getId());\r\n\r\n            /** Cookie Management */\r\n            Cookie loginCookie = new Cookie(&quot;user&quot;, req.getUserPrincipal().getName());\r\n            loginCookie.setMaxAge(30 * 60);\r\n            resp.addCookie(loginCookie);\r\n\t\t\t\r\n\t\t\t/** Login Success - so display the Home Page */\r\n            resp.sendRedirect(&quot;./index.html&quot;);\r\n        } else {\r\n            Cookie loginCookie = new Cookie(&quot;user&quot;, &quot;unknownUser&quot;);\r\n            loginCookie.setMaxAge(0);\r\n            loginCookie.setPath(&quot;/&quot;);\r\n            resp.addCookie(loginCookie);\r\n            req.getRequestDispatcher(&quot;./login.html&quot;).forward(req, resp);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n\t\t\tdoGet(req, resp);\r\n    }\r\n}\r\n```","title":"How to show another html page with servlet?","body":"<p>I am using Jetty-11 Server standalone/embedded mode. And here is how the Login Servlet looks like.</p>\n<pre><code>import java.io.IOException;\nimport java.util.Map;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.Cookie;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport jakarta.servlet.http.HttpSession;\n\npublic class LoginServlet extends HttpServlet {\n    private Logger log = LoggerFactory.getLogger(LoginServlet.class);\n\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        log.debug(&quot;LoginServlet {} userPrincipal: {}&quot;, req.getServletPath(), req.getUserPrincipal());\n        Map&lt;String, String[]&gt; p = req.getParameterMap();\n\n        p.forEach((k, v) -&gt; {\n            log.debug(&quot;{} {}&quot;, k, v);\n        });\n\n        String un = (p.get(&quot;j_username&quot;) != null) ? p.get(&quot;j_username&quot;)[0] : null;\n        String up = (p.get(&quot;j_password&quot;) != null) ? p.get(&quot;j_password&quot;)[0] : null;\n\n        try {\n            if (un != null &amp;&amp; up != null) {\n                req.logout();\n                req.login(un, up);\n            }\n        } catch (Exception e) {\n            log.error(&quot;AuthenticationException: &quot;, e);\n        }\n\n        log.debug(&quot;{} userPrincipal: {}&quot;, req.getServletPath(), req.getUserPrincipal());       \n        boolean isAuth = (req.getUserPrincipal() == null) ? false : true;\n\n        log.debug(&quot;isAuth: {}&quot;, isAuth);\n        resp.setContentType(&quot;text/html&quot;);\n\n        if (isAuth) {\n            /** Session Management */\n            HttpSession session = req.getSession();\n            session.setAttribute(&quot;user&quot;, req.getUserPrincipal().getName());\n            // setting session to expiry in 30 mins\n            session.setMaxInactiveInterval(30 * 60);\n            log.debug(&quot;sessionId: {} &quot;, req.getSession().getId());\n\n            /** Cookie Management */\n            Cookie loginCookie = new Cookie(&quot;user&quot;, req.getUserPrincipal().getName());\n            loginCookie.setMaxAge(30 * 60);\n            resp.addCookie(loginCookie);\n            \n            /** Login Success - so display the Home Page */\n            resp.sendRedirect(&quot;./index.html&quot;);\n        } else {\n            Cookie loginCookie = new Cookie(&quot;user&quot;, &quot;unknownUser&quot;);\n            loginCookie.setMaxAge(0);\n            loginCookie.setPath(&quot;/&quot;);\n            resp.addCookie(loginCookie);\n            req.getRequestDispatcher(&quot;./login.html&quot;).forward(req, resp);\n        }\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n            doGet(req, resp);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17736278,"reputation":79,"user_id":12877598,"display_name":"Luigi V."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666179306,"creation_date":1665916578,"question_id":74086367,"body_markdown":"this is my first time with Java&#39;s servlet (and JSP) programming and right now I have a doubt. Imagine that I&#39;m building an online shop with a login page (let&#39;s suppose is the starting page) and maybe a shopping page (the &quot;second&quot; one). My servlet contains the code for autenticate the users and if the user is correct the servlet should shows the shopping catalog. My answer is, what&#39;s the best method for doing this? This is my servlet code (doGet) now:\r\n\r\nnb: userName and password come from the login page...\r\n\r\n    \tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t\r\n\t\tresponse.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\r\n\t\tresponse.setContentType(&quot;text/html&quot;);\r\n\t\tPrintWriter out = response.getWriter();\r\n\t\tString userName = request.getParameter(&quot;userName&quot;);\r\n\t\tString password = request.getParameter(&quot;password&quot;);\r\n\t\tout.println(&quot;&lt;html&gt;&quot;);\r\n\t\tout.println(&quot;&lt;body bgcolor = &#39;green&#39;&gt;&quot;);\r\n\t\tout.println(&quot;&lt;br&gt;&quot; + &quot;Hello &quot; + &quot;  &quot; + userName + &quot;&lt;br&gt; LOGGED IN!&quot; + &quot;&lt;br&gt;&quot;);\r\n\t\tout.println(&quot;Your password is : &quot; + &quot;  &quot; + password + &quot;&lt;br&gt;&quot;);\r\n\t\t\r\n\t\tif(userName.equals(&quot;some_correct_user&quot;)) {\r\n\t\t\tout.println(&quot;&lt;p&gt;Login correct &lt;/p&gt;&quot;);\r\n\t\t\tresponse.sendRedirect(&quot;/FirstServletExercise/shoppingPage.html&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tout.println(&quot;&lt;p&gt;Access denied&lt;/p&gt;&quot;);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\nI know it&#39;s very simple but is just the concept: it&#39;s correct to use &quot;sendRedirect&quot; to display another different page, or I have to upgrade the content of the first page? And how I can do this? Hope I have explained myself well.\r\nThanks!","title":"How to show another html page with servlet?","body":"<p>this is my first time with Java's servlet (and JSP) programming and right now I have a doubt. Imagine that I'm building an online shop with a login page (let's suppose is the starting page) and maybe a shopping page (the &quot;second&quot; one). My servlet contains the code for autenticate the users and if the user is correct the servlet should shows the shopping catalog. My answer is, what's the best method for doing this? This is my servlet code (doGet) now:</p>\n<p>nb: userName and password come from the login page...</p>\n<pre><code>    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    \n    response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\n    response.setContentType(&quot;text/html&quot;);\n    PrintWriter out = response.getWriter();\n    String userName = request.getParameter(&quot;userName&quot;);\n    String password = request.getParameter(&quot;password&quot;);\n    out.println(&quot;&lt;html&gt;&quot;);\n    out.println(&quot;&lt;body bgcolor = 'green'&gt;&quot;);\n    out.println(&quot;&lt;br&gt;&quot; + &quot;Hello &quot; + &quot;  &quot; + userName + &quot;&lt;br&gt; LOGGED IN!&quot; + &quot;&lt;br&gt;&quot;);\n    out.println(&quot;Your password is : &quot; + &quot;  &quot; + password + &quot;&lt;br&gt;&quot;);\n    \n    if(userName.equals(&quot;some_correct_user&quot;)) {\n        out.println(&quot;&lt;p&gt;Login correct &lt;/p&gt;&quot;);\n        response.sendRedirect(&quot;/FirstServletExercise/shoppingPage.html&quot;);\n    }\n    else {\n        out.println(&quot;&lt;p&gt;Access denied&lt;/p&gt;&quot;);\n        \n    }\n    \n</code></pre>\n<p>I know it's very simple but is just the concept: it's correct to use &quot;sendRedirect&quot; to display another different page, or I have to upgrade the content of the first page? And how I can do this? Hope I have explained myself well.\nThanks!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666179540,"post_id":74124594,"comment_id":130873234,"body_markdown":"You are creating a new zip file each time you recurse into packingArchive, and you give it the name of a file which already exists.","body":"You are creating a new zip file each time you recurse into packingArchive, and you give it the name of a file which already exists."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1666195583,"post_id":74124594,"comment_id":130879969,"body_markdown":"Try looking at [Zipping a folder which contains subfolders](https://stackoverflow.com/questions/3961087/zipping-a-folder-which-contains-subfolders).","body":"Try looking at <a href=\"https://stackoverflow.com/questions/3961087/zipping-a-folder-which-contains-subfolders\">Zipping a folder which contains subfolders</a>."}],"owner":{"account_id":23934228,"reputation":3,"user_id":17928212,"display_name":"milosz000"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666179111,"creation_date":1666179111,"question_id":74124594,"body_markdown":"listFiles method:\r\n\r\n      public File[] listFiles (String path) {\r\n        File[] files = Paths.get(path).toFile().listFiles();\r\n\r\n        if (files.length == 0)\r\n            System.out.println(&quot;Brak plikow&quot;);\r\n\r\n        List&lt;Integer&gt; listElements = new ArrayList&lt;&gt;();\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Lista plikow mozliwych do spakowania: &quot;);\r\n        for (int i=0; i&lt; files.length; i++)\r\n            System.out.println(i+1 + &quot;: &quot; + files[i]);\r\n\r\n        System.out.println(&quot;Podaj pliki, ktore chcesz spakowac: &quot;);\r\n        while(true) {\r\n            try {\r\n                int nextEl = scan.nextInt();\r\n                if (nextEl &gt;= 1 &amp;&amp; nextEl &lt;= files.length)\r\n                    listElements.add(nextEl);\r\n                else\r\n                    break;\r\n            } catch (Exception e) {\r\n                break;\r\n            }\r\n        }\r\n\r\n\r\n\r\n        File[] newFiles = new File[listElements.size()];\r\n        for(int i=0; i&lt;listElements.size(); i++)\r\n            newFiles[i] = files[listElements.get(i) -1];\r\n\r\n        return newFiles;\r\n\r\npackingArchive method:\r\n\r\n    public void packingArchive(File[] files, String zipName) {\r\n\r\n        try {\r\n            ZipOutputStream zipOut = new ZipOutputStream(new FileOutputStream(zipName));\r\n            zipOut.setLevel(Deflater.NO_COMPRESSION);\r\n            for (File f : files) {\r\n                if (f.isDirectory()) {\r\n                    packingArchive(f.listFiles(),  f.getParentFile() + &quot;/&quot; + f.getName());\r\n                    System.out.println( f.listFiles());\r\n                }\r\n                else {\r\n                    ZipEntry zipE = new ZipEntry(f.getName());\r\n                    zipOut.putNextEntry(zipE);\r\n                    FileInputStream fileIn = new FileInputStream(f);\r\n                    zipOut.write(fileIn.readAllBytes());\r\n                    fileIn.close();\r\n                    zipOut.closeEntry();\r\n                }\r\n            }\r\n            zipOut.flush();\r\n            zipOut.close();\r\n            System.out.println(&quot;Zapisano plik do archiwum ZIP&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nMain class:\r\n\r\n        PackageZip pz = new PackageZip();\r\n\r\n        File[] files = pz.listFiles(&quot;Client/pliki&quot;);\r\n        pz.packingArchive(files, &quot;Archiwum.zip&quot;);\r\n\r\nI&#39;m trying to zip a folder which contains subfolders and files. \r\nI have a class named PackageZip that contains method named packingArchive which takes a File array that contains all files in a current directory, and a String zipName.I also created method named listFiles that take a path and return an array of Files that I choose to zip.\r\n\r\nThe above code gave me a following Exception:\r\n\r\n&gt; java.io.FileNotFoundException: Client\\pliki\\Nowy (Access is denied) at\r\n&gt; java.base/java.io.FileOutputStream.open0(Native Method) at\r\n&gt; java.base/java.io.FileOutputStream.open(FileOutputStream.java:293) \tat\r\n&gt; java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:235)\r\n&gt; \tat\r\n&gt; java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:123)\r\n&gt; \tat PackageZip.packingArchive(PackageZip.java:51) \tat\r\n&gt; PackageZip.packingArchive(PackageZip.java:55) \tat\r\n&gt; Main.main(Main.java:22)\r\n\r\nI am fresh in Java, could you help me and give some advices?","title":"How to zip folder with subfolders and files in Java","body":"<p>listFiles method:</p>\n<pre><code>  public File[] listFiles (String path) {\n    File[] files = Paths.get(path).toFile().listFiles();\n\n    if (files.length == 0)\n        System.out.println(&quot;Brak plikow&quot;);\n\n    List&lt;Integer&gt; listElements = new ArrayList&lt;&gt;();\n    Scanner scan = new Scanner(System.in);\n\n    System.out.println(&quot;Lista plikow mozliwych do spakowania: &quot;);\n    for (int i=0; i&lt; files.length; i++)\n        System.out.println(i+1 + &quot;: &quot; + files[i]);\n\n    System.out.println(&quot;Podaj pliki, ktore chcesz spakowac: &quot;);\n    while(true) {\n        try {\n            int nextEl = scan.nextInt();\n            if (nextEl &gt;= 1 &amp;&amp; nextEl &lt;= files.length)\n                listElements.add(nextEl);\n            else\n                break;\n        } catch (Exception e) {\n            break;\n        }\n    }\n\n\n\n    File[] newFiles = new File[listElements.size()];\n    for(int i=0; i&lt;listElements.size(); i++)\n        newFiles[i] = files[listElements.get(i) -1];\n\n    return newFiles;\n</code></pre>\n<p>packingArchive method:</p>\n<pre><code>public void packingArchive(File[] files, String zipName) {\n\n    try {\n        ZipOutputStream zipOut = new ZipOutputStream(new FileOutputStream(zipName));\n        zipOut.setLevel(Deflater.NO_COMPRESSION);\n        for (File f : files) {\n            if (f.isDirectory()) {\n                packingArchive(f.listFiles(),  f.getParentFile() + &quot;/&quot; + f.getName());\n                System.out.println( f.listFiles());\n            }\n            else {\n                ZipEntry zipE = new ZipEntry(f.getName());\n                zipOut.putNextEntry(zipE);\n                FileInputStream fileIn = new FileInputStream(f);\n                zipOut.write(fileIn.readAllBytes());\n                fileIn.close();\n                zipOut.closeEntry();\n            }\n        }\n        zipOut.flush();\n        zipOut.close();\n        System.out.println(&quot;Zapisano plik do archiwum ZIP&quot;);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Main class:</p>\n<pre><code>    PackageZip pz = new PackageZip();\n\n    File[] files = pz.listFiles(&quot;Client/pliki&quot;);\n    pz.packingArchive(files, &quot;Archiwum.zip&quot;);\n</code></pre>\n<p>I'm trying to zip a folder which contains subfolders and files.\nI have a class named PackageZip that contains method named packingArchive which takes a File array that contains all files in a current directory, and a String zipName.I also created method named listFiles that take a path and return an array of Files that I choose to zip.</p>\n<p>The above code gave me a following Exception:</p>\n<blockquote>\n<p>java.io.FileNotFoundException: Client\\pliki\\Nowy (Access is denied) at\njava.base/java.io.FileOutputStream.open0(Native Method) at\njava.base/java.io.FileOutputStream.open(FileOutputStream.java:293)    at\njava.base/java.io.FileOutputStream.(FileOutputStream.java:235)\nat\njava.base/java.io.FileOutputStream.(FileOutputStream.java:123)\nat PackageZip.packingArchive(PackageZip.java:51)    at\nPackageZip.packingArchive(PackageZip.java:55)     at\nMain.main(Main.java:22)</p>\n</blockquote>\n<p>I am fresh in Java, could you help me and give some advices?</p>\n"},{"tags":["java","web-services","gwt"],"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1259665490,"post_id":1825456,"comment_id":1716325,"body_markdown":"do you need this to happen on the client side, or on the server side?","body":"do you need this to happen on the client side, or on the server side?"}],"answers":[{"tags":[],"owner":{"account_id":12262,"reputation":103384,"user_id":24054,"accept_rate":86,"display_name":"kgiannakakis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1259665523,"creation_date":1259665523,"answer_id":1825477,"question_id":1825456,"body_markdown":"For HTML pages you should use [HttpClient][1].\r\n\r\nFor Web services, you need a framework like [CXF][2].\r\n\r\n\r\n  [1]: http://hc.apache.org/httpclient-3.x/\r\n  [2]: http://cxf.apache.org/","title":"Calling Web-Service / Website from Java","body":"<p>For HTML pages you should use <a href=\"http://hc.apache.org/httpclient-3.x/\" rel=\"nofollow noreferrer\">HttpClient</a>.</p>\n\n<p>For Web services, you need a framework like <a href=\"http://cxf.apache.org/\" rel=\"nofollow noreferrer\">CXF</a>.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1259665962,"creation_date":1259665962,"answer_id":1825498,"question_id":1825456,"body_markdown":"HttpClient, although very good, is considered obsolete.\r\n&lt;a href=&quot;http://hc.apache.org/&quot;&gt;HttpComponents&lt;/a&gt; is an alternative.","title":"Calling Web-Service / Website from Java","body":"<p>HttpClient, although very good, is considered obsolete.\n<a href=\"http://hc.apache.org/\" rel=\"nofollow noreferrer\">HttpComponents</a> is an alternative.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1666179089,"creation_date":1259668342,"answer_id":1825694,"question_id":1825456,"body_markdown":"With native Java API, the easiest way to read from an URL is using [`java.net.URL#openStream()`][1]. Here&#39;s a basic example:\r\n\r\n```java\r\ntry (InputStream response = new URL(&quot;https://www.stackoverflow.com&quot;).openStream()) {\r\n    String body = new String(input.readAllBytes(), StandardCharsets.UTF_8);\r\n    System.out.println(body);\r\n}\r\n```\r\n    \r\nYou could feed the `InputStream` to any DOM/SAX parser of your taste. The average parser can take (in)directly an `InputStream` as argument or even a URL. [Jsoup is one of the better HTML parsers][2].\r\n\r\nIn case you want a bit more control and/or want a more self-documenting API, then you can since Java 11 use the [`java.net.http.HttpClient`][3]. It only gets verbose quickly when you merely want the response body:\r\n\r\n```java\r\nHttpClient client = HttpClient.newBuilder().build();\r\nHttpRequest request = HttpRequest.newBuilder().GET().uri(URI.create(&quot;https://stackoverflow.com&quot;)).build();\r\nHttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\nString body = response.body();\r\nSystem.out.println(body);\r\n```\r\n\r\n### See also:\r\n\r\n- https://stackoverflow.com/questions/2793150/how-to-use-java-net-urlconnection-to-fire-and-handle-http-requests\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URL.html#openStream()\r\n  [2]: https://stackoverflow.com/questions/3152138/what-are-the-pros-and-cons-of-the-leading-java-html-parsers/3154281#3154281\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.net.http/java/net/http/HttpClient.html\r\n\r\n","title":"Calling Web-Service / Website from Java","body":"<p>With native Java API, the easiest way to read from an URL is using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URL.html#openStream()\" rel=\"nofollow noreferrer\"><code>java.net.URL#openStream()</code></a>. Here's a basic example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (InputStream response = new URL(&quot;https://www.stackoverflow.com&quot;).openStream()) {\n    String body = new String(input.readAllBytes(), StandardCharsets.UTF_8);\n    System.out.println(body);\n}\n</code></pre>\n<p>You could feed the <code>InputStream</code> to any DOM/SAX parser of your taste. The average parser can take (in)directly an <code>InputStream</code> as argument or even a URL. <a href=\"https://stackoverflow.com/questions/3152138/what-are-the-pros-and-cons-of-the-leading-java-html-parsers/3154281#3154281\">Jsoup is one of the better HTML parsers</a>.</p>\n<p>In case you want a bit more control and/or want a more self-documenting API, then you can since Java 11 use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.net.http/java/net/http/HttpClient.html\" rel=\"nofollow noreferrer\"><code>java.net.http.HttpClient</code></a>. It only gets verbose quickly when you merely want the response body:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpClient client = HttpClient.newBuilder().build();\nHttpRequest request = HttpRequest.newBuilder().GET().uri(URI.create(&quot;https://stackoverflow.com&quot;)).build();\nHttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\nString body = response.body();\nSystem.out.println(body);\n</code></pre>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2793150/how-to-use-java-net-urlconnection-to-fire-and-handle-http-requests\">How to use java.net.URLConnection to fire and handle HTTP requests</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3611,"reputation":705,"user_id":5218,"accept_rate":82,"display_name":"wilth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1259845439,"creation_date":1259845439,"answer_id":1839735,"question_id":1825456,"body_markdown":"If you want to do something like this on the client, take a look at the [HTTP types of GWT][1]. But be aware that you are subject to the [same-origin policy][2] then.\r\n\r\n\r\n  [1]: http://code.google.com/webtoolkit/doc/1.6/DevGuideServerCommunication.html#DevGuideHttpRequests\r\n  [2]: http://en.wikipedia.org/wiki/Same_origin_policy","title":"Calling Web-Service / Website from Java","body":"<p>If you want to do something like this on the client, take a look at the <a href=\"http://code.google.com/webtoolkit/doc/1.6/DevGuideServerCommunication.html#DevGuideHttpRequests\" rel=\"nofollow noreferrer\">HTTP types of GWT</a>. But be aware that you are subject to the <a href=\"http://en.wikipedia.org/wiki/Same_origin_policy\" rel=\"nofollow noreferrer\">same-origin policy</a> then.</p>\n"}],"owner":{"account_id":51624,"reputation":33895,"user_id":154280,"accept_rate":100,"display_name":"Federer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3979,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":1825694,"answer_count":4,"score":3,"last_activity_date":1666179089,"creation_date":1259665225,"question_id":1825456,"body_markdown":"Writing some additional classes for an existing GWT project. I need to:\r\n\r\n - Request a URL\r\n - Read in the webpage returned, in order to perform operations on.\r\n\r\nThe returned page is in very simple HTML, therefore parsing it shouldn&#39;t be very difficult, I just need to get the data first.\r\n\r\nHow do I do this in Java? What packages am I best looking at?","title":"Calling Web-Service / Website from Java","body":"<p>Writing some additional classes for an existing GWT project. I need to:</p>\n\n<ul>\n<li>Request a URL</li>\n<li>Read in the webpage returned, in order to perform operations on.</li>\n</ul>\n\n<p>The returned page is in very simple HTML, therefore parsing it shouldn't be very difficult, I just need to get the data first.</p>\n\n<p>How do I do this in Java? What packages am I best looking at?</p>\n"},{"tags":["java","hibernate"],"answers":[{"comments":[{"owner":{"account_id":19392960,"reputation":63,"user_id":14181207,"display_name":"Nestirium"},"score":2,"creation_date":1666182391,"post_id":74124559,"comment_id":130874303,"body_markdown":"```persist()``` is used to insert new data apparently.\nAccording to the logs, hibernate seems to run an INSERT statement over an existing row.\nLeading to an SQLConstraintViolationException for duplicate entry.\n\nWhat about ```merge()``` ?","body":"<code>persist()</code> is used to insert new data apparently. According to the logs, hibernate seems to run an INSERT statement over an existing row. Leading to an SQLConstraintViolationException for duplicate entry.  What about <code>merge()</code> ?"},{"owner":{"account_id":7391948,"reputation":1982,"user_id":5625089,"display_name":"Garuno"},"score":3,"creation_date":1666182715,"post_id":74124559,"comment_id":130874449,"body_markdown":"Yeah, you are right. I neglected to mention `merge()` as the alternative to `saveOrUpdate()`.","body":"Yeah, you are right. I neglected to mention <code>merge()</code> as the alternative to <code>saveOrUpdate()</code>."},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1678881227,"post_id":74124559,"comment_id":133618091,"body_markdown":"But.. `merge()` can issue a SELECT if the entity wasn&#39;t in the session.","body":"But.. <code>merge()</code> can issue a SELECT if the entity wasn&#39;t in the session."}],"tags":[],"owner":{"account_id":7391948,"reputation":1982,"user_id":5625089,"display_name":"Garuno"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1666178937,"creation_date":1666178937,"answer_id":74124559,"question_id":74124232,"body_markdown":"Just browsing the source code of Hibernate yields this [commit][1] as the one that deprecated the methods. The commit is part of [this PR][2] which mentions the [corresponding issue][3]. The reasoning for deprecating the issues is as follows:\r\n\r\n&gt; The update() and saveOrUpdate() operations were, essentially, a failed experiment from early in the history of Hibernate, and were replaced by merge() in the JPA spec. It seems clear to me that users have had many fewer problems with merge() than with update(), and I think we probably should have deprecated these operations long ago.\r\n\r\n&gt;The save() operation is almost identical to saveOrUpdate() except that it returns an id. You can use it like persist(), but I think persist() is a better name anyway.\r\n\r\n\r\nYou can look into the issue for more discussion on the topic.\r\n\r\n\r\n&gt;  I&#39;ve read another question here, and they said that you don&#39;t even need to use save or saveOrUpdate, as hibernate will automatically flush any updates made to the fields inside the object.\r\n\r\nI have never heard of this behavior. You should probably use `persist()` as an alternative to `save()`\r\n\r\n  [1]: https://github.com/hibernate/hibernate-orm/commit/b444fbf9a5c15efdfaa9fd46f14d86cb725b03d8\r\n  [2]: https://github.com/hibernate/hibernate-orm/pull/4590\r\n  [3]: https://github.com/hibernate/hibernate-orm/discussions/4520","title":"Why is the method save/saveOrUpdate in hibernate deprecated?","body":"<p>Just browsing the source code of Hibernate yields this <a href=\"https://github.com/hibernate/hibernate-orm/commit/b444fbf9a5c15efdfaa9fd46f14d86cb725b03d8\" rel=\"noreferrer\">commit</a> as the one that deprecated the methods. The commit is part of <a href=\"https://github.com/hibernate/hibernate-orm/pull/4590\" rel=\"noreferrer\">this PR</a> which mentions the <a href=\"https://github.com/hibernate/hibernate-orm/discussions/4520\" rel=\"noreferrer\">corresponding issue</a>. The reasoning for deprecating the issues is as follows:</p>\n<blockquote>\n<p>The update() and saveOrUpdate() operations were, essentially, a failed experiment from early in the history of Hibernate, and were replaced by merge() in the JPA spec. It seems clear to me that users have had many fewer problems with merge() than with update(), and I think we probably should have deprecated these operations long ago.</p>\n</blockquote>\n<blockquote>\n<p>The save() operation is almost identical to saveOrUpdate() except that it returns an id. You can use it like persist(), but I think persist() is a better name anyway.</p>\n</blockquote>\n<p>You can look into the issue for more discussion on the topic.</p>\n<blockquote>\n<p>I've read another question here, and they said that you don't even need to use save or saveOrUpdate, as hibernate will automatically flush any updates made to the fields inside the object.</p>\n</blockquote>\n<p>I have never heard of this behavior. You should probably use <code>persist()</code> as an alternative to <code>save()</code></p>\n"}],"owner":{"account_id":19392960,"reputation":63,"user_id":14181207,"display_name":"Nestirium"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2596,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":74124559,"answer_count":1,"score":6,"last_activity_date":1666178937,"creation_date":1666177337,"question_id":74124232,"body_markdown":"I honestly had to research a lot before asking this question, was never able to find an answer. \r\nUsing Hibernate 6.1 here, and most of the articles/tutorials on the internet use older versions of hibernate were most of the methods were not deprecated.\r\nEven though using ```saveOrUpdate``` method worked fine for me. If it is deprecated, there must be a reason. Even the official hibernate documentation of the latest version uses it. (If I&#39;m at the correct documentation). \r\nI&#39;ve read another question here, and they said that you don&#39;t even need to use ```save``` or ```saveOrUpdate```, as hibernate will automatically flush any updates made to the fields inside the object. But that is not happening even after updating a value in the object, and manually flushing/refreshing or comitting the transaction.\r\n\r\nAssistance will be appreciated, thank you!\r\n","title":"Why is the method save/saveOrUpdate in hibernate deprecated?","body":"<p>I honestly had to research a lot before asking this question, was never able to find an answer.\nUsing Hibernate 6.1 here, and most of the articles/tutorials on the internet use older versions of hibernate were most of the methods were not deprecated.\nEven though using <code>saveOrUpdate</code> method worked fine for me. If it is deprecated, there must be a reason. Even the official hibernate documentation of the latest version uses it. (If I'm at the correct documentation).\nI've read another question here, and they said that you don't even need to use <code>save</code> or <code>saveOrUpdate</code>, as hibernate will automatically flush any updates made to the fields inside the object. But that is not happening even after updating a value in the object, and manually flushing/refreshing or comitting the transaction.</p>\n<p>Assistance will be appreciated, thank you!</p>\n"},{"tags":["java","android","xml","textview"],"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1665412145,"post_id":74016328,"comment_id":130688078,"body_markdown":"Why not add button which would generate text based on underlaying data and copy it to clipboard?","body":"Why not add button which would generate text based on underlaying data and copy it to clipboard?"},{"owner":{"account_id":25870378,"reputation":37,"user_id":19601380,"display_name":"Paranoia"},"score":0,"creation_date":1665412259,"post_id":74016328,"comment_id":130688120,"body_markdown":"@Selvin Do you have a link on how I can implement that I thinks is a better idea.","body":"@Selvin Do you have a link on how I can implement that I thinks is a better idea."}],"answers":[{"tags":[],"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666178844,"creation_date":1666129793,"answer_id":74117812,"question_id":74016328,"body_markdown":"Here are some links you can check out.\r\n[Link for usage of Clipboard][1]\r\n[Official Documentation for clipboard usage][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/238284/how-to-copy-text-programmatically-in-my-android-app\r\n\r\n  [2]: https://developer.android.com/reference/android/content/ClipboardManager.html\r\n\r\n**Implemenatation**\r\n\r\n 1. Make a `&lt;Button&gt;` that says *&quot;Copy All&quot;*\r\n 2. Get your text from text fields using `getText()`\r\n 3. Getting text from every item of recycler view won&#39;t be possible through xml so you have to get inside your code only. Because you will be sending data to adapter of your `&lt;RecyclerView&gt;` this means you already have your data. Simply use that.\r\n 4. Finally using Clipboard Manager to copy all those text to clipboard\r\n 5. Display a message to user saying *&quot;Text Copied&quot;*\r\n\r\n\r\n----------\r\n\r\n\r\nHere is the code:\r\n\r\nXML code:\r\n\r\n            &lt;Button\r\n                android:id=&quot;@+id/copy_all_button&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Copy All&quot; /&gt;\r\n\r\nJava code:\r\n\r\n   \r\n\r\n    //required imports\r\n    import android.content.ClipData;\r\n    import android.content.ClipboardManager;\r\n\r\n    public class MainActivity2 extends AppCompatActivity {\r\n    private List&lt;String&gt; itemsList;     // this list stores items of recycler view hence the text inside items of recycler view\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.test);\r\n        itemsList = new ArrayList&lt;&gt;();  //this is your list\r\n        itemsList.add(&quot;Item1 Text&quot;);    // I have added dummy items\r\n        itemsList.add(&quot;Item2 Text&quot;);    //use as per your requirement from wherever you are getting list database of user input\r\n        itemsList.add(&quot;Item3 Text&quot;);\r\n        Button copyAllButton = findViewById(R.id.copy_all_button);  // button for copy all\r\n        copyAllButton.setOnClickListener(view -&gt; copyTextToClipboard());    //handling button click\r\n    }\r\n\r\n    //Call this method when button is clicked\r\n    private void copyTextToClipboard() {\r\n        TextView tv1 = findViewById(R.id.text1);\r\n        TextView tv2 = findViewById(R.id.text2);\r\n        String st1 = tv1.getText().toString();   // get text from first text view\r\n        String st2 = tv2.getText().toString();      // get text from second text view\r\n        String recyclerText = getDataFromList();    // get data of items (but we already have it)\r\n        String finalText = st1 + st2 + recyclerText;    // finally merge all text use comma or separator as per requirement\r\n\r\n        //Now copy text to clipboard using ClipboardManager\r\n        ClipboardManager clipboard = (ClipboardManager) getSystemService(CLIPBOARD_SERVICE);\r\n        ClipData clip = ClipData.newPlainText(&quot;label&quot;, finalText);\r\n        clipboard.setPrimaryClip(clip);\r\n\r\n        //Finally inform the user that text has been copied\r\n        Toast.makeText(this, &quot;Text Copied&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    //This method is used to get data from all items\r\n    private String getDataFromList() {\r\n        StringBuilder sb = new StringBuilder();\r\n        for (String s : itemsList) {\r\n            sb.append(s).append(&quot; &quot;);\r\n        }\r\n        return sb.toString();\r\n    }\r\n    }","title":"Copy all text inside recyclerview android java?","body":"<p>Here are some links you can check out.\n<a href=\"https://stackoverflow.com/questions/238284/how-to-copy-text-programmatically-in-my-android-app\">Link for usage of Clipboard</a>\n<a href=\"https://developer.android.com/reference/android/content/ClipboardManager.html\" rel=\"nofollow noreferrer\">Official Documentation for clipboard usage</a></p>\n<p><strong>Implemenatation</strong></p>\n<ol>\n<li>Make a <code>&lt;Button&gt;</code> that says <em>&quot;Copy All&quot;</em></li>\n<li>Get your text from text fields using <code>getText()</code></li>\n<li>Getting text from every item of recycler view won't be possible through xml so you have to get inside your code only. Because you will be sending data to adapter of your <code>&lt;RecyclerView&gt;</code> this means you already have your data. Simply use that.</li>\n<li>Finally using Clipboard Manager to copy all those text to clipboard</li>\n<li>Display a message to user saying <em>&quot;Text Copied&quot;</em></li>\n</ol>\n<hr />\n<p>Here is the code:</p>\n<p>XML code:</p>\n<pre><code>        &lt;Button\n            android:id=&quot;@+id/copy_all_button&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Copy All&quot; /&gt;\n</code></pre>\n<p>Java code:</p>\n<pre><code>//required imports\nimport android.content.ClipData;\nimport android.content.ClipboardManager;\n\npublic class MainActivity2 extends AppCompatActivity {\nprivate List&lt;String&gt; itemsList;     // this list stores items of recycler view hence the text inside items of recycler view\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.test);\n    itemsList = new ArrayList&lt;&gt;();  //this is your list\n    itemsList.add(&quot;Item1 Text&quot;);    // I have added dummy items\n    itemsList.add(&quot;Item2 Text&quot;);    //use as per your requirement from wherever you are getting list database of user input\n    itemsList.add(&quot;Item3 Text&quot;);\n    Button copyAllButton = findViewById(R.id.copy_all_button);  // button for copy all\n    copyAllButton.setOnClickListener(view -&gt; copyTextToClipboard());    //handling button click\n}\n\n//Call this method when button is clicked\nprivate void copyTextToClipboard() {\n    TextView tv1 = findViewById(R.id.text1);\n    TextView tv2 = findViewById(R.id.text2);\n    String st1 = tv1.getText().toString();   // get text from first text view\n    String st2 = tv2.getText().toString();      // get text from second text view\n    String recyclerText = getDataFromList();    // get data of items (but we already have it)\n    String finalText = st1 + st2 + recyclerText;    // finally merge all text use comma or separator as per requirement\n\n    //Now copy text to clipboard using ClipboardManager\n    ClipboardManager clipboard = (ClipboardManager) getSystemService(CLIPBOARD_SERVICE);\n    ClipData clip = ClipData.newPlainText(&quot;label&quot;, finalText);\n    clipboard.setPrimaryClip(clip);\n\n    //Finally inform the user that text has been copied\n    Toast.makeText(this, &quot;Text Copied&quot;, Toast.LENGTH_SHORT).show();\n}\n\n//This method is used to get data from all items\nprivate String getDataFromList() {\n    StringBuilder sb = new StringBuilder();\n    for (String s : itemsList) {\n        sb.append(s).append(&quot; &quot;);\n    }\n    return sb.toString();\n}\n}\n</code></pre>\n"}],"owner":{"account_id":25870378,"reputation":37,"user_id":19601380,"display_name":"Paranoia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74117812,"answer_count":1,"score":0,"last_activity_date":1666178844,"creation_date":1665411473,"question_id":74016328,"body_markdown":"Im working with my android project and it composed of **multiple textview** and **recyclerview**\r\n\r\nI have used `android:textIsSelectable=&quot;true&quot;` for my textview, but the problem is it select the one textview only.\r\n\r\n&gt; Fragment Layout\r\n\r\n   \r\n\r\n     &lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n           android:id=&quot;@+id/text1&quot;\r\n           android:layout_width=&quot;wrap_content&quot;\r\n           android:layout_height=&quot;wrap_content&quot;\r\n           android:textIsSelectable=&quot;true&quot;\r\n           android:text=&quot;Title Here&quot;/&gt;\r\n    \r\n      &lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n           android:id=&quot;@+id/text2&quot;\r\n           android:layout_width=&quot;wrap_content&quot;\r\n           android:layout_height=&quot;wrap_content&quot;\r\n           android:textIsSelectable=&quot;true&quot;\r\n           android:text=&quot; AnotherTitle Here&quot;/&gt;\r\n\r\n      &lt;androidx.recyclerview.widget.RecyclerView\r\n           android:id=&quot;@+id/recyclerView&quot;\r\n           android:layout_width=&quot;match_parent&quot;\r\n           android:layout_height=&quot;wrap_content&quot;/&gt;\r\n\r\n&gt; Recycler view layout\r\n\r\n    &lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            android:id=&quot;@+id/text&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textIsSelectable=&quot;true&quot;\r\n            android:text=&quot;Recycler view text here&quot;/&gt;\r\n\r\n*How I can copy all text at once by selecting them all when long press?*","title":"Copy all text inside recyclerview android java?","body":"<p>Im working with my android project and it composed of <strong>multiple textview</strong> and <strong>recyclerview</strong></p>\n<p>I have used <code>android:textIsSelectable=&quot;true&quot;</code> for my textview, but the problem is it select the one textview only.</p>\n<blockquote>\n<p>Fragment Layout</p>\n</blockquote>\n<pre><code> &lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n       android:id=&quot;@+id/text1&quot;\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n       android:textIsSelectable=&quot;true&quot;\n       android:text=&quot;Title Here&quot;/&gt;\n\n  &lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n       android:id=&quot;@+id/text2&quot;\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n       android:textIsSelectable=&quot;true&quot;\n       android:text=&quot; AnotherTitle Here&quot;/&gt;\n\n  &lt;androidx.recyclerview.widget.RecyclerView\n       android:id=&quot;@+id/recyclerView&quot;\n       android:layout_width=&quot;match_parent&quot;\n       android:layout_height=&quot;wrap_content&quot;/&gt;\n</code></pre>\n<blockquote>\n<p>Recycler view layout</p>\n</blockquote>\n<pre><code>&lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        android:id=&quot;@+id/text&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:textIsSelectable=&quot;true&quot;\n        android:text=&quot;Recycler view text here&quot;/&gt;\n</code></pre>\n<p><em>How I can copy all text at once by selecting them all when long press?</em></p>\n"},{"tags":["java","microservices","api-gateway","spring-cloud-gateway","spring-webclient"],"owner":{"account_id":20011083,"reputation":73,"user_id":14668085,"display_name":"Ahmed Yusuf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1666178728,"creation_date":1663568661,"question_id":73769235,"body_markdown":"I am using Spring Cloud Gateway for my microservices and I am trying to make a blocking API call to another microservice within my GatewayFilter. But since spring cloud gateway is reactive, it does not allow for making blocking API Calls so I&#39;m unable to use ```.block()``` to wait for the WebClient response.\r\nHere is my Auth Filter.\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class AuthFilter implements GatewayFilter {\r\n\r\n    @Autowired\r\n    private WebClient.Builder webClientBuilder;\r\n    @Autowired\r\n    private AuthenticationTokenService authenticationTokenService;\r\n\r\n\r\n\r\n    @Override\r\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\r\n        ServerHttpRequest request = exchange.getRequest();\r\n        ServerHttpResponse response = exchange.getResponse();\r\n\r\n        final List&lt;String&gt; openEndpoints = List.of(&quot;/api/v1/auth/login&quot;,&quot;/api/v1/auth/refresh-token&quot;,&quot;/api/v1/user/register&quot;,\r\n                &quot;/api/v1/server/health-check&quot;, &quot;/api/v1/user/health-check&quot;);\r\n        final Predicate&lt;ServerHttpRequest&gt; isApiSecured = r -&gt; openEndpoints.stream()\r\n                .noneMatch(uri -&gt; r.getURI().getPath().contains(uri));\r\n\r\n        if (isApiSecured.test(request)) {\r\n            boolean isAuthorizationHeader = request.getHeaders().containsKey(AUTHORIZATION);\r\n            if (!isAuthorizationHeader) {\r\n                response.setStatusCode(UNAUTHORIZED);\r\n                return response.setComplete();\r\n            }\r\n            try {\r\n                final String authHeader = Objects.requireNonNull(request.getHeaders().get(AUTHORIZATION)).get(0);\r\n                final String[] parts = authHeader.split(&quot; &quot;);\r\n                if (parts.length != 2 || !&quot;Bearer&quot;.equals(parts[0])) {\r\n                    throw new RuntimeException(&quot;Incorrect auth structure&quot;);\r\n                }\r\n\r\n                if(!request.getURI().getPath().endsWith(&quot;/refresh-token&quot;)) {\r\n                    final String authenticationToken = parts[1];\r\n                    final AuthenticationTokenDetails authenticationTokenDetails = authenticationTokenService\r\n                            .parseAccessToken(authenticationToken);\r\n                    final Long id = authenticationTokenDetails.getUserId();\r\n                    final String uniqueId = authenticationTokenDetails.getUniqueId();\r\n                    webClientBuilder.build()\r\n                            .get()\r\n                            .uri(&quot;http://PERSISTENCE-SERVICE/api/v1/user/verify?id=&quot; +id+ &quot;&amp;uniqueId=&quot; +uniqueId)\r\n                            .retrieve()\r\n                            .bodyToMono(Boolean.class);\r\n                    //I am trying to consume the response from the above webclient call\r\n                    //The goal is for me to mutate my exchange to include the result from the API call before passing\r\n                    //the request to the downstream microservice\r\n                }\r\n\r\n            } catch (Exception e) {\r\n                response.setStatusCode(FORBIDDEN);\r\n                return response.setComplete();\r\n            }\r\n\r\n        }\r\n        return chain.filter(exchange);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI am trying to consume the response from the webclient call. The goal is for me to mutate my exchange to include the result from the API call before passing the request to the downstream microservice","title":"Consume response from a WebClient API call in spring cloud gateway filter exchange","body":"<p>I am using Spring Cloud Gateway for my microservices and I am trying to make a blocking API call to another microservice within my GatewayFilter. But since spring cloud gateway is reactive, it does not allow for making blocking API Calls so I'm unable to use <code>.block()</code> to wait for the WebClient response.\nHere is my Auth Filter.</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class AuthFilter implements GatewayFilter {\n\n    @Autowired\n    private WebClient.Builder webClientBuilder;\n    @Autowired\n    private AuthenticationTokenService authenticationTokenService;\n\n\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\n        ServerHttpRequest request = exchange.getRequest();\n        ServerHttpResponse response = exchange.getResponse();\n\n        final List&lt;String&gt; openEndpoints = List.of(&quot;/api/v1/auth/login&quot;,&quot;/api/v1/auth/refresh-token&quot;,&quot;/api/v1/user/register&quot;,\n                &quot;/api/v1/server/health-check&quot;, &quot;/api/v1/user/health-check&quot;);\n        final Predicate&lt;ServerHttpRequest&gt; isApiSecured = r -&gt; openEndpoints.stream()\n                .noneMatch(uri -&gt; r.getURI().getPath().contains(uri));\n\n        if (isApiSecured.test(request)) {\n            boolean isAuthorizationHeader = request.getHeaders().containsKey(AUTHORIZATION);\n            if (!isAuthorizationHeader) {\n                response.setStatusCode(UNAUTHORIZED);\n                return response.setComplete();\n            }\n            try {\n                final String authHeader = Objects.requireNonNull(request.getHeaders().get(AUTHORIZATION)).get(0);\n                final String[] parts = authHeader.split(&quot; &quot;);\n                if (parts.length != 2 || !&quot;Bearer&quot;.equals(parts[0])) {\n                    throw new RuntimeException(&quot;Incorrect auth structure&quot;);\n                }\n\n                if(!request.getURI().getPath().endsWith(&quot;/refresh-token&quot;)) {\n                    final String authenticationToken = parts[1];\n                    final AuthenticationTokenDetails authenticationTokenDetails = authenticationTokenService\n                            .parseAccessToken(authenticationToken);\n                    final Long id = authenticationTokenDetails.getUserId();\n                    final String uniqueId = authenticationTokenDetails.getUniqueId();\n                    webClientBuilder.build()\n                            .get()\n                            .uri(&quot;http://PERSISTENCE-SERVICE/api/v1/user/verify?id=&quot; +id+ &quot;&amp;uniqueId=&quot; +uniqueId)\n                            .retrieve()\n                            .bodyToMono(Boolean.class);\n                    //I am trying to consume the response from the above webclient call\n                    //The goal is for me to mutate my exchange to include the result from the API call before passing\n                    //the request to the downstream microservice\n                }\n\n            } catch (Exception e) {\n                response.setStatusCode(FORBIDDEN);\n                return response.setComplete();\n            }\n\n        }\n        return chain.filter(exchange);\n    }\n\n}\n</code></pre>\n<p>I am trying to consume the response from the webclient call. The goal is for me to mutate my exchange to include the result from the API call before passing the request to the downstream microservice</p>\n"},{"tags":["java","android","xml","android-studio","mobile"],"comments":[{"owner":{"account_id":25812753,"reputation":305,"user_id":19553193,"display_name":"marivic valdehueza"},"score":0,"creation_date":1665566243,"post_id":74035554,"comment_id":130728538,"body_markdown":"Need help , can anyone know this?","body":"Need help , can anyone know this?"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1665571076,"post_id":74035554,"comment_id":130730325,"body_markdown":"Add the manifest declaration of the activity where this happens.","body":"Add the manifest declaration of the activity where this happens."},{"owner":{"account_id":25812753,"reputation":305,"user_id":19553193,"display_name":"marivic valdehueza"},"score":0,"creation_date":1665572559,"post_id":74035554,"comment_id":130730921,"body_markdown":"@TheLibrarian What do you mean? how can I add manifest of activity?","body":"@TheLibrarian What do you mean? how can I add manifest of activity?"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1665578276,"post_id":74035554,"comment_id":130732984,"body_markdown":"In AndroidManifest you have to have defined activity for the screen where this happens(add it to the post). There is an Activity attribute windowSoftInputMode that could potentionally fix the problem.","body":"In AndroidManifest you have to have defined activity for the screen where this happens(add it to the post). There is an Activity attribute windowSoftInputMode that could potentionally fix the problem."},{"owner":{"account_id":25812753,"reputation":305,"user_id":19553193,"display_name":"marivic valdehueza"},"score":0,"creation_date":1665733312,"post_id":74035554,"comment_id":130771573,"body_markdown":"@TheLibrarian I tried adding `windowSoftInputMode` please see the updated code above, but the result is the same, need help","body":"@TheLibrarian I tried adding <code>windowSoftInputMode</code> please see the updated code above, but the result is the same, need help"},{"owner":{"account_id":25812753,"reputation":305,"user_id":19553193,"display_name":"marivic valdehueza"},"score":0,"creation_date":1666018000,"post_id":74035554,"comment_id":130829579,"body_markdown":"Can anyone knows this? still not found the solution","body":"Can anyone knows this? still not found the solution"},{"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"score":0,"creation_date":1666027265,"post_id":74035554,"comment_id":130833121,"body_markdown":"Set `android:layout_height=&quot;match_parent&quot;` for `&lt;ScrollView&gt;`","body":"Set <code>android:layout_height=&quot;match_parent&quot;</code> for <code>&lt;ScrollView&gt;</code>"},{"owner":{"account_id":25812753,"reputation":305,"user_id":19553193,"display_name":"marivic valdehueza"},"score":0,"creation_date":1666058798,"post_id":74035554,"comment_id":130840274,"body_markdown":"@PawanSinghHarariya Thanks, but is there anyway to automatically scroll up the layout or scroll view when the keyboards shows? I tried `android:windowSoftInputMode=&quot;adjustResize|adjustPan&quot;` but it seems didn&#39;t work for me because I have two combined layout xml","body":"@PawanSinghHarariya Thanks, but is there anyway to automatically scroll up the layout or scroll view when the keyboards shows? I tried <code>android:windowSoftInputMode=&quot;adjustResize|adjustPan&quot;</code> but it seems didn&#39;t work for me because I have two combined layout xml"}],"answers":[{"tags":[],"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666178647,"creation_date":1666126292,"answer_id":74117334,"question_id":74035554,"body_markdown":"1. Use `&lt;FrameLayout&gt;` as root tag to stack footer layout and body layout on top of each other\r\n2. Use `&lt;include&gt;` tag to add your footer.xml layout into body.xml \r\n3. Set `android:layout_height=&quot;match_parent&quot;` for `&lt;ScrollView&gt;`\r\n4. No need of setting this `android:windowSoftInputMode=&quot;adjustResize|adjustPan&quot;`\r\n\r\n**Note:** This will make only the things inside `&lt;ScrollView&gt;` to scroll up rest layout will be constant over screen when softboard appears and I think it makes sense. Ignore icons and color in gif attached.\r\n\r\n\r\nHere is the code:\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/primary&quot;\r\n    android:focusable=&quot;true&quot;\r\n    android:focusableInTouchMode=&quot;true&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;15dp&quot;\r\n                android:fontFamily=&quot;sans-serif-condensed&quot;\r\n                android:text=&quot;I. Demographics&quot;\r\n                android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;15dp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;ScrollView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:fillViewport=&quot;true&quot;&gt;\r\n\r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:layout_marginBottom=&quot;80dp&quot;\r\n                    android:focusable=&quot;true&quot;\r\n                    android:focusableInTouchMode=&quot;true&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_gravity=&quot;right&quot;&gt;\r\n\r\n                        &lt;Button\r\n                            android:id=&quot;@+id/btnSearchHh&quot;\r\n                            android:layout_width=&quot;100dp&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;right&quot;\r\n                            android:layout_marginRight=&quot;10dp&quot;\r\n                            android:padding=&quot;10dp&quot;\r\n                            android:text=&quot;Search&quot;\r\n                            android:textSize=&quot;12dp&quot;\r\n                            android:textStyle=&quot;bold&quot; /&gt;\r\n                    &lt;/LinearLayout&gt;\r\n\r\n                    &lt;com.google.android.material.textfield.TextInputLayout\r\n                        android:id=&quot;@+id/til_hh_id&quot;\r\n                        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:layout_marginTop=&quot;30dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        app:counterEnabled=&quot;true&quot;\r\n                        app:counterMaxLength=&quot;30&quot;\r\n                        app:endIconMode=&quot;clear_text&quot;\r\n                        app:errorEnabled=&quot;true&quot;\r\n                        app:helperText=&quot;Search Household ID!&quot;\r\n                        app:helperTextTextColor=&quot;@color/validation&quot;\r\n                        app:startIconDrawable=&quot;@drawable/ic_hh&quot;&gt;\r\n\r\n                        &lt;EditText\r\n                            android:id=&quot;@+id/edt_hh_id&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:hint=&quot;Household no.&quot;\r\n                            android:inputType=&quot;text&quot;\r\n                            android:maxLength=&quot;30&quot;\r\n                            android:text=&quot;160310001-&quot;\r\n\r\n                            /&gt;\r\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n                    &lt;com.google.android.material.textfield.TextInputLayout\r\n                        android:id=&quot;@+id/til_set&quot;\r\n                        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense.ExposedDropdownMenu&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_below=&quot;@+id/til_search&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:layout_marginTop=&quot;20dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        app:helperText=&quot;Required&quot;\r\n                        app:helperTextTextColor=&quot;@color/validation&quot;\r\n                        app:startIconDrawable=&quot;@drawable/ic_assigned&quot;&gt;\r\n\r\n                        &lt;androidx.appcompat.widget.AppCompatAutoCompleteTextView\r\n                            android:id=&quot;@+id/aat_set&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:focusable=&quot;false&quot;\r\n                            android:focusableInTouchMode=&quot;false&quot;\r\n                            android:hint=&quot;Set&quot;\r\n                            android:inputType=&quot;none&quot; /&gt;\r\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n                    &lt;com.google.android.material.textfield.TextInputLayout\r\n                        android:id=&quot;@+id/til_last_name&quot;\r\n                        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_below=&quot;@+id/til_set&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:layout_marginTop=&quot;15dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        app:endIconMode=&quot;clear_text&quot;\r\n                        app:helperText=&quot;Required&quot;\r\n                        app:helperTextTextColor=&quot;@color/validation&quot;\r\n                        app:startIconDrawable=&quot;@drawable/ic_person&quot;&gt;\r\n\r\n                        &lt;EditText\r\n                            android:id=&quot;@+id/edt_last_name&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:hint=&quot;Last Name:&quot;\r\n                            android:inputType=&quot;textMultiLine&quot; /&gt;\r\n\r\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n\r\n                    &lt;com.google.android.material.textfield.TextInputLayout\r\n                        android:id=&quot;@+id/til_first_name&quot;\r\n                        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_below=&quot;@+id/til_last_name&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:layout_marginTop=&quot;15dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        app:endIconMode=&quot;clear_text&quot;\r\n                        app:helperText=&quot;Required&quot;\r\n                        app:helperTextTextColor=&quot;@color/validation&quot;\r\n                        app:startIconDrawable=&quot;@drawable/ic_lastname&quot;&gt;\r\n\r\n                        &lt;EditText\r\n                            android:id=&quot;@+id/edt_first_name&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:hint=&quot;First name&quot;\r\n                            android:inputType=&quot;textMultiLine&quot; /&gt;\r\n\r\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n                    &lt;com.google.android.material.textfield.TextInputLayout\r\n                        android:id=&quot;@+id/til_middle_name&quot;\r\n                        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_below=&quot;@+id/til_first_name&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:layout_marginTop=&quot;15dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        app:endIconMode=&quot;clear_text&quot;\r\n                        app:startIconDrawable=&quot;@drawable/ic_middle&quot;&gt;\r\n\r\n                        &lt;EditText\r\n                            android:id=&quot;@+id/edt_middle_name&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:hint=&quot;Middle name&quot;\r\n                            android:inputType=&quot;textMultiLine&quot; /&gt;\r\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n\r\n                    &lt;com.google.android.material.textfield.TextInputLayout\r\n                        android:id=&quot;@+id/til_relationship_to_grantee&quot;\r\n                        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense.ExposedDropdownMenu&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_below=&quot;@+id/til_middle_name&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:layout_marginTop=&quot;20dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        app:helperText=&quot;Required&quot;\r\n                        app:helperTextTextColor=&quot;@color/validation&quot;\r\n                        app:startIconDrawable=&quot;@drawable/ic_baseline_escalator_warning_24&quot;&gt;\r\n\r\n                        &lt;androidx.appcompat.widget.AppCompatAutoCompleteTextView\r\n                            android:id=&quot;@+id/aat_relationship_to_grantee&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:focusable=&quot;false&quot;\r\n                            android:focusableInTouchMode=&quot;false&quot;\r\n                            android:hint=&quot;Relationship to Grantee&quot; /&gt;\r\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n                    &lt;com.google.android.material.textfield.TextInputLayout\r\n                        android:id=&quot;@+id/til_contact_no&quot;\r\n                        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_below=&quot;@+id/til_relationship_to_grantee&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:layout_marginTop=&quot;20dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        app:counterEnabled=&quot;true&quot;\r\n                        app:counterMaxLength=&quot;10&quot;\r\n                        app:endIconMode=&quot;clear_text&quot;\r\n                        app:helperText=&quot;Required&quot;\r\n                        app:helperTextTextColor=&quot;@color/validation&quot;&gt;\r\n\r\n                        &lt;EditText\r\n                            android:id=&quot;@+id/edt_contact_no&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:drawableStart=&quot;@drawable/icon_contacts&quot;\r\n                            android:drawableLeft=&quot;@drawable/icon_contacts&quot;\r\n                            android:drawablePadding=&quot;6dp&quot;\r\n                            android:hint=&quot;Contact No.&quot;\r\n                            android:inputType=&quot;number&quot;\r\n                            android:maxLength=&quot;10&quot; /&gt;\r\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n                    &lt;com.google.android.material.textfield.TextInputLayout\r\n                        android:id=&quot;@+id/til_contact_no_of&quot;\r\n                        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense.ExposedDropdownMenu&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_below=&quot;@+id/til_contact_no&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:layout_marginTop=&quot;20dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        app:helperText=&quot;Required&quot;\r\n                        app:helperTextTextColor=&quot;@color/validation&quot;\r\n                        app:startIconDrawable=&quot;@drawable/ic_baseline_person_24&quot;&gt;\r\n\r\n                        &lt;androidx.appcompat.widget.AppCompatAutoCompleteTextView\r\n                            android:id=&quot;@+id/aat_contact_no_of&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:focusable=&quot;false&quot;\r\n                            android:focusableInTouchMode=&quot;false&quot;\r\n                            android:hint=&quot;Contact No. of?&quot; /&gt;\r\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n\r\n                &lt;/LinearLayout&gt;\r\n            &lt;/RelativeLayout&gt;\r\n        &lt;/ScrollView&gt;\r\n    &lt;/LinearLayout&gt;\r\n    &lt;include\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        layout=&quot;@layout/footer&quot;/&gt;\r\n    &lt;/FrameLayout&gt;\r\n\r\n\r\n[![ScreenPlay][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xBfwk.gif","title":"Layout margin top not working on two xml in Android studio","body":"<ol>\n<li>Use <code>&lt;FrameLayout&gt;</code> as root tag to stack footer layout and body layout on top of each other</li>\n<li>Use <code>&lt;include&gt;</code> tag to add your footer.xml layout into body.xml</li>\n<li>Set <code>android:layout_height=&quot;match_parent&quot;</code> for <code>&lt;ScrollView&gt;</code></li>\n<li>No need of setting this <code>android:windowSoftInputMode=&quot;adjustResize|adjustPan&quot;</code></li>\n</ol>\n<p><strong>Note:</strong> This will make only the things inside <code>&lt;ScrollView&gt;</code> to scroll up rest layout will be constant over screen when softboard appears and I think it makes sense. Ignore icons and color in gif attached.</p>\n<p>Here is the code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:background=&quot;@color/primary&quot;\nandroid:focusable=&quot;true&quot;\nandroid:focusableInTouchMode=&quot;true&quot;&gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView1&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;15dp&quot;\n            android:fontFamily=&quot;sans-serif-condensed&quot;\n            android:text=&quot;I. Demographics&quot;\n            android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;15dp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;ScrollView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:background=&quot;@color/white&quot;\n        android:fillViewport=&quot;true&quot;&gt;\n\n        &lt;RelativeLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:layout_marginRight=&quot;10dp&quot;\n                android:layout_marginBottom=&quot;80dp&quot;\n                android:focusable=&quot;true&quot;\n                android:focusableInTouchMode=&quot;true&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_gravity=&quot;right&quot;&gt;\n\n                    &lt;Button\n                        android:id=&quot;@+id/btnSearchHh&quot;\n                        android:layout_width=&quot;100dp&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_gravity=&quot;right&quot;\n                        android:layout_marginRight=&quot;10dp&quot;\n                        android:padding=&quot;10dp&quot;\n                        android:text=&quot;Search&quot;\n                        android:textSize=&quot;12dp&quot;\n                        android:textStyle=&quot;bold&quot; /&gt;\n                &lt;/LinearLayout&gt;\n\n                &lt;com.google.android.material.textfield.TextInputLayout\n                    android:id=&quot;@+id/til_hh_id&quot;\n                    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginTop=&quot;30dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    app:counterEnabled=&quot;true&quot;\n                    app:counterMaxLength=&quot;30&quot;\n                    app:endIconMode=&quot;clear_text&quot;\n                    app:errorEnabled=&quot;true&quot;\n                    app:helperText=&quot;Search Household ID!&quot;\n                    app:helperTextTextColor=&quot;@color/validation&quot;\n                    app:startIconDrawable=&quot;@drawable/ic_hh&quot;&gt;\n\n                    &lt;EditText\n                        android:id=&quot;@+id/edt_hh_id&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:hint=&quot;Household no.&quot;\n                        android:inputType=&quot;text&quot;\n                        android:maxLength=&quot;30&quot;\n                        android:text=&quot;160310001-&quot;\n\n                        /&gt;\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n                &lt;com.google.android.material.textfield.TextInputLayout\n                    android:id=&quot;@+id/til_set&quot;\n                    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense.ExposedDropdownMenu&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@+id/til_search&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginTop=&quot;20dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    app:helperText=&quot;Required&quot;\n                    app:helperTextTextColor=&quot;@color/validation&quot;\n                    app:startIconDrawable=&quot;@drawable/ic_assigned&quot;&gt;\n\n                    &lt;androidx.appcompat.widget.AppCompatAutoCompleteTextView\n                        android:id=&quot;@+id/aat_set&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:focusable=&quot;false&quot;\n                        android:focusableInTouchMode=&quot;false&quot;\n                        android:hint=&quot;Set&quot;\n                        android:inputType=&quot;none&quot; /&gt;\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n                &lt;com.google.android.material.textfield.TextInputLayout\n                    android:id=&quot;@+id/til_last_name&quot;\n                    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@+id/til_set&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    app:endIconMode=&quot;clear_text&quot;\n                    app:helperText=&quot;Required&quot;\n                    app:helperTextTextColor=&quot;@color/validation&quot;\n                    app:startIconDrawable=&quot;@drawable/ic_person&quot;&gt;\n\n                    &lt;EditText\n                        android:id=&quot;@+id/edt_last_name&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:hint=&quot;Last Name:&quot;\n                        android:inputType=&quot;textMultiLine&quot; /&gt;\n\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n\n                &lt;com.google.android.material.textfield.TextInputLayout\n                    android:id=&quot;@+id/til_first_name&quot;\n                    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@+id/til_last_name&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    app:endIconMode=&quot;clear_text&quot;\n                    app:helperText=&quot;Required&quot;\n                    app:helperTextTextColor=&quot;@color/validation&quot;\n                    app:startIconDrawable=&quot;@drawable/ic_lastname&quot;&gt;\n\n                    &lt;EditText\n                        android:id=&quot;@+id/edt_first_name&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:hint=&quot;First name&quot;\n                        android:inputType=&quot;textMultiLine&quot; /&gt;\n\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n                &lt;com.google.android.material.textfield.TextInputLayout\n                    android:id=&quot;@+id/til_middle_name&quot;\n                    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@+id/til_first_name&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    app:endIconMode=&quot;clear_text&quot;\n                    app:startIconDrawable=&quot;@drawable/ic_middle&quot;&gt;\n\n                    &lt;EditText\n                        android:id=&quot;@+id/edt_middle_name&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:hint=&quot;Middle name&quot;\n                        android:inputType=&quot;textMultiLine&quot; /&gt;\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n\n                &lt;com.google.android.material.textfield.TextInputLayout\n                    android:id=&quot;@+id/til_relationship_to_grantee&quot;\n                    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense.ExposedDropdownMenu&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@+id/til_middle_name&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginTop=&quot;20dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    app:helperText=&quot;Required&quot;\n                    app:helperTextTextColor=&quot;@color/validation&quot;\n                    app:startIconDrawable=&quot;@drawable/ic_baseline_escalator_warning_24&quot;&gt;\n\n                    &lt;androidx.appcompat.widget.AppCompatAutoCompleteTextView\n                        android:id=&quot;@+id/aat_relationship_to_grantee&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:focusable=&quot;false&quot;\n                        android:focusableInTouchMode=&quot;false&quot;\n                        android:hint=&quot;Relationship to Grantee&quot; /&gt;\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n                &lt;com.google.android.material.textfield.TextInputLayout\n                    android:id=&quot;@+id/til_contact_no&quot;\n                    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@+id/til_relationship_to_grantee&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginTop=&quot;20dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    app:counterEnabled=&quot;true&quot;\n                    app:counterMaxLength=&quot;10&quot;\n                    app:endIconMode=&quot;clear_text&quot;\n                    app:helperText=&quot;Required&quot;\n                    app:helperTextTextColor=&quot;@color/validation&quot;&gt;\n\n                    &lt;EditText\n                        android:id=&quot;@+id/edt_contact_no&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:drawableStart=&quot;@drawable/icon_contacts&quot;\n                        android:drawableLeft=&quot;@drawable/icon_contacts&quot;\n                        android:drawablePadding=&quot;6dp&quot;\n                        android:hint=&quot;Contact No.&quot;\n                        android:inputType=&quot;number&quot;\n                        android:maxLength=&quot;10&quot; /&gt;\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n                &lt;com.google.android.material.textfield.TextInputLayout\n                    android:id=&quot;@+id/til_contact_no_of&quot;\n                    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense.ExposedDropdownMenu&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@+id/til_contact_no&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginTop=&quot;20dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    app:helperText=&quot;Required&quot;\n                    app:helperTextTextColor=&quot;@color/validation&quot;\n                    app:startIconDrawable=&quot;@drawable/ic_baseline_person_24&quot;&gt;\n\n                    &lt;androidx.appcompat.widget.AppCompatAutoCompleteTextView\n                        android:id=&quot;@+id/aat_contact_no_of&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:focusable=&quot;false&quot;\n                        android:focusableInTouchMode=&quot;false&quot;\n                        android:hint=&quot;Contact No. of?&quot; /&gt;\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n\n            &lt;/LinearLayout&gt;\n        &lt;/RelativeLayout&gt;\n    &lt;/ScrollView&gt;\n&lt;/LinearLayout&gt;\n&lt;include\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    layout=&quot;@layout/footer&quot;/&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/xBfwk.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xBfwk.gif\" alt=\"ScreenPlay\" /></a></p>\n"}],"owner":{"account_id":25812753,"reputation":305,"user_id":19553193,"display_name":"marivic valdehueza"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666178647,"creation_date":1665538062,"question_id":74035554,"body_markdown":"I&#39;ve been Having trouble with my layout didn&#39;t automatically scroll when typing and selecting input type contact number, I have two `xml` file with this layout one is for the body of my input fields and the other one is the footer which has previous and next button, I tried using `android:layout_marginTop=&quot;100dp&quot;` to my footer XML but didn&#39;t work, can anyone help me with this\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**body.xml**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:background=&quot;@color/primary&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:focusableInTouchMode=&quot;true&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:layout_margin=&quot;15dp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:text=&quot;I. Demographics&quot;\r\n                android:fontFamily=&quot;sans-serif-condensed&quot;\r\n                android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;\r\n                android:textSize=&quot;15dp&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    \r\n        &lt;ScrollView\r\n            android:background=&quot;@color/white&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;660dp&quot;\r\n            android:fillViewport=&quot;true&quot;\r\n            &gt;\r\n    \r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:layout_marginBottom=&quot;80dp&quot;\r\n                    android:focusable=&quot;true&quot;\r\n                    android:focusableInTouchMode=&quot;true&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                    &lt;com.google.android.material.textfield.TextInputLayout\r\n                        android:id=&quot;@+id/til_hh_id&quot;\r\n                        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:layout_marginTop=&quot;30dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        app:counterEnabled=&quot;true&quot;\r\n                        app:counterMaxLength=&quot;30&quot;\r\n                        app:endIconMode=&quot;clear_text&quot;\r\n                        app:errorEnabled=&quot;true&quot;\r\n                        app:helperText=&quot;Search Household ID!&quot;\r\n                        app:helperTextTextColor=&quot;@color/validation&quot;\r\n                        app:startIconDrawable=&quot;@drawable/ic_hh&quot;&gt;\r\n    \r\n                        &lt;EditText\r\n                            android:id=&quot;@+id/edt_hh_id&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:hint=&quot;Household no.&quot;\r\n                            android:inputType=&quot;text&quot;\r\n                            android:maxLength=&quot;30&quot;\r\n                            android:text=&quot;160310001-&quot;\r\n    \r\n                            /&gt;\r\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    \r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_gravity=&quot;right&quot;&gt;\r\n    \r\n                        &lt;Button\r\n                            android:id=&quot;@+id/btnSearchHh&quot;\r\n                            android:layout_width=&quot;100dp&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;right&quot;\r\n                            android:layout_marginRight=&quot;10dp&quot;\r\n                            android:padding=&quot;10dp&quot;\r\n                            android:text=&quot;Search&quot;\r\n                            android:textSize=&quot;12dp&quot;\r\n                            android:textStyle=&quot;bold&quot; /&gt;\r\n                    &lt;/LinearLayout&gt;\r\n    \r\n                    &lt;com.google.android.material.textfield.TextInputLayout\r\n                        android:id=&quot;@+id/til_set&quot;\r\n                        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense.ExposedDropdownMenu&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_below=&quot;@+id/til_search&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:layout_marginTop=&quot;20dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        app:helperText=&quot;Required&quot;\r\n                        app:helperTextTextColor=&quot;@color/validation&quot;\r\n                        app:startIconDrawable=&quot;@drawable/ic_assigned&quot;&gt;\r\n    \r\n                        &lt;androidx.appcompat.widget.AppCompatAutoCompleteTextView\r\n                            android:id=&quot;@+id/aat_set&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:focusable=&quot;false&quot;\r\n                            android:focusableInTouchMode=&quot;false&quot;\r\n                            android:hint=&quot;Set&quot;\r\n                            android:inputType=&quot;none&quot; /&gt;\r\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    \r\n                    &lt;com.google.android.material.textfield.TextInputLayout\r\n                        android:id=&quot;@+id/til_last_name&quot;\r\n                        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_below=&quot;@+id/til_set&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:layout_marginTop=&quot;15dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        app:endIconMode=&quot;clear_text&quot;\r\n                        app:helperText=&quot;Required&quot;\r\n                        app:helperTextTextColor=&quot;@color/validation&quot;\r\n                        app:startIconDrawable=&quot;@drawable/ic_person&quot;&gt;\r\n    \r\n                        &lt;EditText\r\n                            android:id=&quot;@+id/edt_last_name&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:hint=&quot;Last Name:&quot;\r\n                            android:inputType=&quot;textMultiLine&quot; /&gt;\r\n    \r\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    \r\n    \r\n                    &lt;com.google.android.material.textfield.TextInputLayout\r\n                        android:id=&quot;@+id/til_first_name&quot;\r\n                        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_below=&quot;@+id/til_last_name&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:layout_marginTop=&quot;15dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        app:endIconMode=&quot;clear_text&quot;\r\n                        app:helperText=&quot;Required&quot;\r\n                        app:helperTextTextColor=&quot;@color/validation&quot;\r\n                        app:startIconDrawable=&quot;@drawable/ic_lastname&quot;&gt;\r\n    \r\n                        &lt;EditText\r\n                            android:id=&quot;@+id/edt_first_name&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:hint=&quot;First name&quot;\r\n                            android:inputType=&quot;textMultiLine&quot; /&gt;\r\n    \r\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    \r\n                    &lt;com.google.android.material.textfield.TextInputLayout\r\n                        android:id=&quot;@+id/til_middle_name&quot;\r\n                        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_below=&quot;@+id/til_first_name&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:layout_marginTop=&quot;15dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        app:endIconMode=&quot;clear_text&quot;\r\n                        app:startIconDrawable=&quot;@drawable/ic_middle&quot;&gt;\r\n    \r\n                        &lt;EditText\r\n                            android:id=&quot;@+id/edt_middle_name&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:hint=&quot;Middle name&quot;\r\n                            android:inputType=&quot;textMultiLine&quot; /&gt;\r\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    \r\n           \r\n                    \r\n                    &lt;com.google.android.material.textfield.TextInputLayout\r\n                        android:id=&quot;@+id/til_relationship_to_grantee&quot;\r\n                        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense.ExposedDropdownMenu&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_below=&quot;@+id/til_middle_name&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:layout_marginTop=&quot;20dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        app:helperText=&quot;Required&quot;\r\n                        app:helperTextTextColor=&quot;@color/validation&quot;\r\n                        app:startIconDrawable=&quot;@drawable/ic_baseline_escalator_warning_24&quot;&gt;\r\n    \r\n                        &lt;androidx.appcompat.widget.AppCompatAutoCompleteTextView\r\n                            android:id=&quot;@+id/aat_relationship_to_grantee&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:focusable=&quot;false&quot;\r\n                            android:focusableInTouchMode=&quot;false&quot;\r\n                            android:hint=&quot;Relationship to Grantee&quot; /&gt;\r\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    \r\n                    &lt;com.google.android.material.textfield.TextInputLayout\r\n                        android:id=&quot;@+id/til_contact_no&quot;\r\n                        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_below=&quot;@+id/til_relationship_to_grantee&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:layout_marginTop=&quot;20dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        app:counterEnabled=&quot;true&quot;\r\n                        app:counterMaxLength=&quot;10&quot;\r\n                        app:endIconMode=&quot;clear_text&quot;\r\n                        app:helperText=&quot;Required&quot;\r\n                        app:helperTextTextColor=&quot;@color/validation&quot;&gt;\r\n    \r\n                        &lt;EditText\r\n                            android:id=&quot;@+id/edt_contact_no&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:drawableStart=&quot;@drawable/icon_contacts&quot;\r\n                            android:drawableLeft=&quot;@drawable/icon_contacts&quot;\r\n                            android:drawablePadding=&quot;6dp&quot;\r\n                            android:hint=&quot;Contact No.&quot;\r\n                            android:inputType=&quot;number&quot;\r\n                            android:maxLength=&quot;10&quot; /&gt;\r\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    \r\n                    &lt;com.google.android.material.textfield.TextInputLayout\r\n                        android:id=&quot;@+id/til_contact_no_of&quot;\r\n                        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense.ExposedDropdownMenu&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_below=&quot;@+id/til_contact_no&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:layout_marginTop=&quot;20dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        app:helperText=&quot;Required&quot;\r\n                        app:helperTextTextColor=&quot;@color/validation&quot;\r\n                        app:startIconDrawable=&quot;@drawable/ic_baseline_person_24&quot;&gt;\r\n    \r\n                        &lt;androidx.appcompat.widget.AppCompatAutoCompleteTextView\r\n                            android:id=&quot;@+id/aat_contact_no_of&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:focusable=&quot;false&quot;\r\n                            android:focusableInTouchMode=&quot;false&quot;\r\n                            android:hint=&quot;Contact No. of?&quot; /&gt;\r\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    \r\n              \r\n    \r\n                &lt;/LinearLayout&gt;\r\n    \r\n    \r\n            &lt;/RelativeLayout&gt;\r\n        &lt;/ScrollView&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n**footer.xml**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.Scanner.ScanCashCard&quot;&gt;\r\n    \r\n    \r\n            &lt;androidx.viewpager.widget.ViewPager\r\n                android:id=&quot;@+id/viewPager&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                tools:ignore=&quot;MissingConstraints&quot; /&gt;\r\n    \r\n    \r\n        &lt;LinearLayout\r\n            android:layout_marginTop=&quot;100dp&quot;\r\n            android:id=&quot;@+id/layoutDots&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:background=&quot;@color/primary&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/tvPrev&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;15dp&quot;\r\n            android:layout_marginBottom=&quot;25dp&quot;\r\n            android:text=&quot;PREV&quot;\r\n            android:textColor=&quot;@android:color/white&quot;\r\n            android:textSize=&quot;15sp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/tvNext&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;15dp&quot;\r\n            android:layout_marginBottom=&quot;25dp&quot;\r\n            android:text=&quot;NEXT&quot;\r\n            android:textColor=&quot;@android:color/white&quot;\r\n            android:textSize=&quot;15sp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/linear2&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:padding=&quot;5dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&gt;\r\n            &lt;ImageView\r\n                android:id =&quot;@+id/imageIv&quot;\r\n                android:height =&quot;60dp&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;/&gt;\r\n        &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n**Updated** in my Manifest I added `windowSoftInputMode` but it seems does not work\r\n\r\n     &lt;activity\r\n       android:name=&quot;.Scanner.ScanCashCard&quot;\r\n       android:windowSoftInputMode=&quot;adjustResize|adjustPan&quot;\r\n       android:parentActivityName=&quot;.MainActivity&quot;/&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ifHAi.gif\r\n  [2]: https://i.stack.imgur.com/u0V7H.png\r\n  [3]: https://i.stack.imgur.com/v9Cu4.png","title":"Layout margin top not working on two xml in Android studio","body":"<p>I've been Having trouble with my layout didn't automatically scroll when typing and selecting input type contact number, I have two <code>xml</code> file with this layout one is for the body of my input fields and the other one is the footer which has previous and next button, I tried using <code>android:layout_marginTop=&quot;100dp&quot;</code> to my footer XML but didn't work, can anyone help me with this</p>\n<p><a href=\"https://i.stack.imgur.com/ifHAi.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ifHAi.gif\" alt=\"enter image description here\" /></a></p>\n<p><strong>body.xml</strong></p>\n<p><a href=\"https://i.stack.imgur.com/u0V7H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u0V7H.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:background=&quot;@color/primary&quot;\n    android:focusable=&quot;true&quot;\n    android:focusableInTouchMode=&quot;true&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n        &lt;TextView\n            android:id=&quot;@+id/textView1&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:layout_margin=&quot;15dp&quot;\n            android:textStyle=&quot;bold&quot;\n            android:text=&quot;I. Demographics&quot;\n            android:fontFamily=&quot;sans-serif-condensed&quot;\n            android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;\n            android:textSize=&quot;15dp&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;ScrollView\n        android:background=&quot;@color/white&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;660dp&quot;\n        android:fillViewport=&quot;true&quot;\n        &gt;\n\n        &lt;RelativeLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:layout_marginRight=&quot;10dp&quot;\n                android:layout_marginBottom=&quot;80dp&quot;\n                android:focusable=&quot;true&quot;\n                android:focusableInTouchMode=&quot;true&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;com.google.android.material.textfield.TextInputLayout\n                    android:id=&quot;@+id/til_hh_id&quot;\n                    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginTop=&quot;30dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    app:counterEnabled=&quot;true&quot;\n                    app:counterMaxLength=&quot;30&quot;\n                    app:endIconMode=&quot;clear_text&quot;\n                    app:errorEnabled=&quot;true&quot;\n                    app:helperText=&quot;Search Household ID!&quot;\n                    app:helperTextTextColor=&quot;@color/validation&quot;\n                    app:startIconDrawable=&quot;@drawable/ic_hh&quot;&gt;\n\n                    &lt;EditText\n                        android:id=&quot;@+id/edt_hh_id&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:hint=&quot;Household no.&quot;\n                        android:inputType=&quot;text&quot;\n                        android:maxLength=&quot;30&quot;\n                        android:text=&quot;160310001-&quot;\n\n                        /&gt;\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_gravity=&quot;right&quot;&gt;\n\n                    &lt;Button\n                        android:id=&quot;@+id/btnSearchHh&quot;\n                        android:layout_width=&quot;100dp&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_gravity=&quot;right&quot;\n                        android:layout_marginRight=&quot;10dp&quot;\n                        android:padding=&quot;10dp&quot;\n                        android:text=&quot;Search&quot;\n                        android:textSize=&quot;12dp&quot;\n                        android:textStyle=&quot;bold&quot; /&gt;\n                &lt;/LinearLayout&gt;\n\n                &lt;com.google.android.material.textfield.TextInputLayout\n                    android:id=&quot;@+id/til_set&quot;\n                    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense.ExposedDropdownMenu&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@+id/til_search&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginTop=&quot;20dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    app:helperText=&quot;Required&quot;\n                    app:helperTextTextColor=&quot;@color/validation&quot;\n                    app:startIconDrawable=&quot;@drawable/ic_assigned&quot;&gt;\n\n                    &lt;androidx.appcompat.widget.AppCompatAutoCompleteTextView\n                        android:id=&quot;@+id/aat_set&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:focusable=&quot;false&quot;\n                        android:focusableInTouchMode=&quot;false&quot;\n                        android:hint=&quot;Set&quot;\n                        android:inputType=&quot;none&quot; /&gt;\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n                &lt;com.google.android.material.textfield.TextInputLayout\n                    android:id=&quot;@+id/til_last_name&quot;\n                    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@+id/til_set&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    app:endIconMode=&quot;clear_text&quot;\n                    app:helperText=&quot;Required&quot;\n                    app:helperTextTextColor=&quot;@color/validation&quot;\n                    app:startIconDrawable=&quot;@drawable/ic_person&quot;&gt;\n\n                    &lt;EditText\n                        android:id=&quot;@+id/edt_last_name&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:hint=&quot;Last Name:&quot;\n                        android:inputType=&quot;textMultiLine&quot; /&gt;\n\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n\n                &lt;com.google.android.material.textfield.TextInputLayout\n                    android:id=&quot;@+id/til_first_name&quot;\n                    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@+id/til_last_name&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    app:endIconMode=&quot;clear_text&quot;\n                    app:helperText=&quot;Required&quot;\n                    app:helperTextTextColor=&quot;@color/validation&quot;\n                    app:startIconDrawable=&quot;@drawable/ic_lastname&quot;&gt;\n\n                    &lt;EditText\n                        android:id=&quot;@+id/edt_first_name&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:hint=&quot;First name&quot;\n                        android:inputType=&quot;textMultiLine&quot; /&gt;\n\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n                &lt;com.google.android.material.textfield.TextInputLayout\n                    android:id=&quot;@+id/til_middle_name&quot;\n                    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@+id/til_first_name&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    app:endIconMode=&quot;clear_text&quot;\n                    app:startIconDrawable=&quot;@drawable/ic_middle&quot;&gt;\n\n                    &lt;EditText\n                        android:id=&quot;@+id/edt_middle_name&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:hint=&quot;Middle name&quot;\n                        android:inputType=&quot;textMultiLine&quot; /&gt;\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n       \n                \n                &lt;com.google.android.material.textfield.TextInputLayout\n                    android:id=&quot;@+id/til_relationship_to_grantee&quot;\n                    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense.ExposedDropdownMenu&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@+id/til_middle_name&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginTop=&quot;20dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    app:helperText=&quot;Required&quot;\n                    app:helperTextTextColor=&quot;@color/validation&quot;\n                    app:startIconDrawable=&quot;@drawable/ic_baseline_escalator_warning_24&quot;&gt;\n\n                    &lt;androidx.appcompat.widget.AppCompatAutoCompleteTextView\n                        android:id=&quot;@+id/aat_relationship_to_grantee&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:focusable=&quot;false&quot;\n                        android:focusableInTouchMode=&quot;false&quot;\n                        android:hint=&quot;Relationship to Grantee&quot; /&gt;\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n                &lt;com.google.android.material.textfield.TextInputLayout\n                    android:id=&quot;@+id/til_contact_no&quot;\n                    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@+id/til_relationship_to_grantee&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginTop=&quot;20dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    app:counterEnabled=&quot;true&quot;\n                    app:counterMaxLength=&quot;10&quot;\n                    app:endIconMode=&quot;clear_text&quot;\n                    app:helperText=&quot;Required&quot;\n                    app:helperTextTextColor=&quot;@color/validation&quot;&gt;\n\n                    &lt;EditText\n                        android:id=&quot;@+id/edt_contact_no&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:drawableStart=&quot;@drawable/icon_contacts&quot;\n                        android:drawableLeft=&quot;@drawable/icon_contacts&quot;\n                        android:drawablePadding=&quot;6dp&quot;\n                        android:hint=&quot;Contact No.&quot;\n                        android:inputType=&quot;number&quot;\n                        android:maxLength=&quot;10&quot; /&gt;\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n                &lt;com.google.android.material.textfield.TextInputLayout\n                    android:id=&quot;@+id/til_contact_no_of&quot;\n                    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense.ExposedDropdownMenu&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@+id/til_contact_no&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginTop=&quot;20dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    app:helperText=&quot;Required&quot;\n                    app:helperTextTextColor=&quot;@color/validation&quot;\n                    app:startIconDrawable=&quot;@drawable/ic_baseline_person_24&quot;&gt;\n\n                    &lt;androidx.appcompat.widget.AppCompatAutoCompleteTextView\n                        android:id=&quot;@+id/aat_contact_no_of&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:focusable=&quot;false&quot;\n                        android:focusableInTouchMode=&quot;false&quot;\n                        android:hint=&quot;Contact No. of?&quot; /&gt;\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n          \n\n            &lt;/LinearLayout&gt;\n\n\n        &lt;/RelativeLayout&gt;\n    &lt;/ScrollView&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>footer.xml</strong></p>\n<p><a href=\"https://i.stack.imgur.com/v9Cu4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v9Cu4.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.Scanner.ScanCashCard&quot;&gt;\n\n\n        &lt;androidx.viewpager.widget.ViewPager\n            android:id=&quot;@+id/viewPager&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            tools:ignore=&quot;MissingConstraints&quot; /&gt;\n\n\n    &lt;LinearLayout\n        android:layout_marginTop=&quot;100dp&quot;\n        android:id=&quot;@+id/layoutDots&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:gravity=&quot;center&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:background=&quot;@color/primary&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tvPrev&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;15dp&quot;\n        android:layout_marginBottom=&quot;25dp&quot;\n        android:text=&quot;PREV&quot;\n        android:textColor=&quot;@android:color/white&quot;\n        android:textSize=&quot;15sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tvNext&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;15dp&quot;\n        android:layout_marginBottom=&quot;25dp&quot;\n        android:text=&quot;NEXT&quot;\n        android:textColor=&quot;@android:color/white&quot;\n        android:textSize=&quot;15sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/linear2&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:padding=&quot;5dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&gt;\n        &lt;ImageView\n            android:id =&quot;@+id/imageIv&quot;\n            android:height =&quot;60dp&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;/&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>Updated</strong> in my Manifest I added <code>windowSoftInputMode</code> but it seems does not work</p>\n<pre><code> &lt;activity\n   android:name=&quot;.Scanner.ScanCashCard&quot;\n   android:windowSoftInputMode=&quot;adjustResize|adjustPan&quot;\n   android:parentActivityName=&quot;.MainActivity&quot;/&gt;\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":2364939,"reputation":636,"user_id":2070800,"display_name":"hardik9850"},"score":0,"creation_date":1666180873,"post_id":74124474,"comment_id":130873756,"body_markdown":"To work with AppUpdateManager you need to create a release variant build. I hope you are trying your changes with it only","body":"To work with AppUpdateManager you need to create a release variant build. I hope you are trying your changes with it only"},{"owner":{"account_id":26131826,"reputation":1,"user_id":19822437,"display_name":"Denis Oliveira Lazarini"},"score":0,"creation_date":1666182722,"post_id":74124474,"comment_id":130874456,"body_markdown":"sorry but could you give me an example","body":"sorry but could you give me an example"},{"owner":{"account_id":2364939,"reputation":636,"user_id":2070800,"display_name":"hardik9850"},"score":0,"creation_date":1666248025,"post_id":74124474,"comment_id":130891612,"body_markdown":"Sure. I assume you have not set up an internal app-sharing option. Please do that first and later follow the steps given here https://developer.android.com/guide/playcore/in-app-updates/test#internal-app-sharing","body":"Sure. I assume you have not set up an internal app-sharing option. Please do that first and later follow the steps given here <a href=\"https://developer.android.com/guide/playcore/in-app-updates/test#internal-app-sharing\" rel=\"nofollow noreferrer\">developer.android.com/guide/playcore/in-app-updates/&hellip;</a>"},{"owner":{"account_id":2364939,"reputation":636,"user_id":2070800,"display_name":"hardik9850"},"score":0,"creation_date":1666248101,"post_id":74124474,"comment_id":130891630,"body_markdown":"https://stackoverflow.com/questions/55939853/how-to-work-with-androids-in-app-update-api this will be of help as well","body":"<a href=\"https://stackoverflow.com/questions/55939853/how-to-work-with-androids-in-app-update-api\" title=\"how to work with androids in app update api\">stackoverflow.com/questions/55939853/&hellip;</a> this will be of help as well"}],"owner":{"account_id":26131826,"reputation":1,"user_id":19822437,"display_name":"Denis Oliveira Lazarini"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666178522,"creation_date":1666178522,"question_id":74124474,"body_markdown":"I&#39;m trying to create an AlertDialog that always forces the user to update the app and always use the current one\r\n\r\nBut when putting this code it does not appear, even the trial version is inferior to the one from the Google Play store\r\n\r\nGoogle Play: \\\r\nversionCode: 6 \\\r\nversionName &quot;1.6&quot;\r\n\r\nTest: \\\r\nversionCode 4\\\r\nversionName &quot;1.4&quot;\r\n\r\n\r\n\r\n\r\nBelow is the code used:\r\n\r\n```\r\n@Override\r\n public void onStart() {\r\n     super.onStart();\r\n     UpdateApp();\r\n }\r\n\r\n\r\n\r\n\r\n    public void UpdateApp() {\r\n        AppUpdateManager appUpdateManager = AppUpdateManagerFactory.create(this);\r\n        Task&lt;AppUpdateInfo&gt; appUpdateInfoTask = appUpdateManager.getAppUpdateInfo();\r\n\r\n        appUpdateInfoTask.addOnSuccessListener(result -&gt; {\r\n\r\n            if (result.updateAvailability() != UpdateAvailability.UPDATE_AVAILABLE ){\r\n\r\n                android.view.ContextThemeWrapper ctw = new android.view.ContextThemeWrapper(this, R.style.AlertDialog_AppCompat_Light);\r\n                final android.app.AlertDialog.Builder alertDialogBuilder = new android.app.AlertDialog.Builder(ctw);\r\n                alertDialogBuilder.setTitle(&quot;NOVA VERSAO&quot;);\r\n                alertDialogBuilder.setCancelable(false);\r\n                alertDialogBuilder.setMessage(&quot;Uma nova atualizacao esta disponivel na loja, realize atualizacao do mesmo para ter uma melhor experiencia&quot;);\r\n                alertDialogBuilder.setPositiveButton(&quot;ATUALIZAR&quot;, new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int id) {\r\n                        try {\r\n                            startActivity(new Intent(&quot;android.intent.action.VIEW&quot;, Uri.parse(&quot;https://play.google.com/store/apps/details?id=com.glam33.dpms&amp;hl=pt-BR&quot;)));\r\n                        } catch (ActivityNotFoundException e) {\r\n                            startActivity(new Intent(&quot;android.intent.action.VIEW&quot;, Uri.parse(&quot;https://play.google.com/store/apps/details?id=com.glam33.dpms&amp;hl=pt-BR&quot;)));\r\n                        }\r\n                    }\r\n                });\r\n                alertDialogBuilder.setNegativeButton(&quot;CANCELAR&quot;, new DialogInterface.OnClickListener() {\r\n\r\n\r\n                    @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN)\r\n                    public void onClick(DialogInterface dialog, int id) {\r\n                        finishAffinity();\r\n                    }\r\n                });\r\n                alertDialogBuilder.show();\r\n\r\n            } else {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n```","title":"Force Update Apk - Android Studio","body":"<p>I'm trying to create an AlertDialog that always forces the user to update the app and always use the current one</p>\n<p>But when putting this code it does not appear, even the trial version is inferior to the one from the Google Play store</p>\n<p>Google Play: <br />\nversionCode: 6 <br />\nversionName &quot;1.6&quot;</p>\n<p>Test: <br />\nversionCode 4<br />\nversionName &quot;1.4&quot;</p>\n<p>Below is the code used:</p>\n<pre><code>@Override\n public void onStart() {\n     super.onStart();\n     UpdateApp();\n }\n\n\n\n\n    public void UpdateApp() {\n        AppUpdateManager appUpdateManager = AppUpdateManagerFactory.create(this);\n        Task&lt;AppUpdateInfo&gt; appUpdateInfoTask = appUpdateManager.getAppUpdateInfo();\n\n        appUpdateInfoTask.addOnSuccessListener(result -&gt; {\n\n            if (result.updateAvailability() != UpdateAvailability.UPDATE_AVAILABLE ){\n\n                android.view.ContextThemeWrapper ctw = new android.view.ContextThemeWrapper(this, R.style.AlertDialog_AppCompat_Light);\n                final android.app.AlertDialog.Builder alertDialogBuilder = new android.app.AlertDialog.Builder(ctw);\n                alertDialogBuilder.setTitle(&quot;NOVA VERSAO&quot;);\n                alertDialogBuilder.setCancelable(false);\n                alertDialogBuilder.setMessage(&quot;Uma nova atualizacao esta disponivel na loja, realize atualizacao do mesmo para ter uma melhor experiencia&quot;);\n                alertDialogBuilder.setPositiveButton(&quot;ATUALIZAR&quot;, new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int id) {\n                        try {\n                            startActivity(new Intent(&quot;android.intent.action.VIEW&quot;, Uri.parse(&quot;https://play.google.com/store/apps/details?id=com.glam33.dpms&amp;hl=pt-BR&quot;)));\n                        } catch (ActivityNotFoundException e) {\n                            startActivity(new Intent(&quot;android.intent.action.VIEW&quot;, Uri.parse(&quot;https://play.google.com/store/apps/details?id=com.glam33.dpms&amp;hl=pt-BR&quot;)));\n                        }\n                    }\n                });\n                alertDialogBuilder.setNegativeButton(&quot;CANCELAR&quot;, new DialogInterface.OnClickListener() {\n\n\n                    @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN)\n                    public void onClick(DialogInterface dialog, int id) {\n                        finishAffinity();\n                    }\n                });\n                alertDialogBuilder.show();\n\n            } else {\n\n            }\n        });\n    }\n\n</code></pre>\n"},{"tags":["java","android","xml","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1617777984,"post_id":66979655,"comment_id":118397403,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":21154746,"reputation":13,"user_id":15554273,"display_name":"Pewdiepie"},"score":0,"creation_date":1617786642,"post_id":66979655,"comment_id":118400993,"body_markdown":"I want all products to show but only one product is showing in database","body":"I want all products to show but only one product is showing in database"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1617787749,"post_id":66979655,"comment_id":118401469,"body_markdown":"And that&#39;s wrong? What isn&#39;t working the way you want?","body":"And that&#39;s wrong? What isn&#39;t working the way you want?"},{"owner":{"account_id":21154746,"reputation":13,"user_id":15554273,"display_name":"Pewdiepie"},"score":0,"creation_date":1617799403,"post_id":66979655,"comment_id":118406883,"body_markdown":"I want all products to show so I know what they want I cannot just ship one product when they ordered 5.","body":"I want all products to show so I know what they want I cannot just ship one product when they ordered 5."}],"answers":[{"tags":[],"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666178408,"creation_date":1649155710,"answer_id":71750447,"question_id":66979655,"body_markdown":"    cartholder op = new cartholder(productPrice,productq,productN, saveCurrentDate, saveCurrentTime);\r\n    \r\n    ..\r\n    \r\n    note.child(randomUUIDString).child(productN).setValue(op);\r\n\r\n\r\nIt&#39;s because you are uploading only one product your CartHolder object contains only one product.\r\n\r\n    CartHolder op = new CartHolder(cartItems, saveCurrentDate, saveCurrentTime);\r\n    note.child(randonUUIDString).set(op);\r\n\r\nCreate extra class for Product to store all necessary details of product and change CartHolder class to take List&lt;Product&gt;\r\n\r\nIf you want to use the same approach you must use a loop to store all products one by one, but I don&#39;t recommend it.\r\n","title":"How to add more than one text view in firebase realtime database from android studio","body":"<pre><code>cartholder op = new cartholder(productPrice,productq,productN, saveCurrentDate, saveCurrentTime);\n\n..\n\nnote.child(randomUUIDString).child(productN).setValue(op);\n</code></pre>\n<p>It's because you are uploading only one product your CartHolder object contains only one product.</p>\n<pre><code>CartHolder op = new CartHolder(cartItems, saveCurrentDate, saveCurrentTime);\nnote.child(randonUUIDString).set(op);\n</code></pre>\n<p>Create extra class for Product to store all necessary details of product and change CartHolder class to take List</p>\n<p>If you want to use the same approach you must use a loop to store all products one by one, but I don't recommend it.</p>\n"},{"tags":[],"owner":{"account_id":23196904,"reputation":45,"user_id":17292410,"display_name":"Jalim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649168272,"creation_date":1649168272,"answer_id":71753382,"question_id":66979655,"body_markdown":"As the first answered said ***you are just adding lots of item values into one child***. ***If you want your code to add all of user&#39;s items which are in his cart, You should make it to add them in different child***. Here is my example.\r\n\r\n\r\n        FirebaseDatabase dab = FirebaseDatabase.getInstance();\r\n        DatabaseReference note = dab.getReference(&quot;Products&quot;);\r\n\r\n        note.child(randomUUIDString).child(yourProductName).setValue(op);\r\n\r\nIn this case, ***you need to set &#39;yourProductName&#39; different***. I mean ***you should not use the name that has been used before***.\r\n\r\n***If you want to make lists of products, create new class and make new list and add them into the list***. Next, just ***use &#39;for&#39; to loop your code and add all the products into your database***. Hope this is helpful :)","title":"How to add more than one text view in firebase realtime database from android studio","body":"<p>As the first answered said <em><strong>you are just adding lots of item values into one child</strong></em>. <em><strong>If you want your code to add all of user's items which are in his cart, You should make it to add them in different child</strong></em>. Here is my example.</p>\n<pre><code>    FirebaseDatabase dab = FirebaseDatabase.getInstance();\n    DatabaseReference note = dab.getReference(&quot;Products&quot;);\n\n    note.child(randomUUIDString).child(yourProductName).setValue(op);\n</code></pre>\n<p>In this case, <em><strong>you need to set 'yourProductName' different</strong></em>. I mean <em><strong>you should not use the name that has been used before</strong></em>.</p>\n<p><em><strong>If you want to make lists of products, create new class and make new list and add them into the list</strong></em>. Next, just <em><strong>use 'for' to loop your code and add all the products into your database</strong></em>. Hope this is helpful :)</p>\n"}],"owner":{"account_id":21154746,"reputation":13,"user_id":15554273,"display_name":"Pewdiepie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666178408,"creation_date":1617770477,"question_id":66979655,"body_markdown":"I have a cart fragment and I want that when someone clicks the checkout button he should be redirected to checkout activity and his products should go to the firebase Realtime database. It is working fine but in the database only one product is shown. But I want all products should be shown. Any help will be Appreciated.\r\n\r\n**CartFagment.java**\r\n\r\n    package com.example.shoppingcart.views;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    \r\n    \r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.databinding.BindingAdapter;\r\n    import androidx.fragment.app.Fragment;\r\n    import androidx.lifecycle.Observer;\r\n    import androidx.lifecycle.ViewModelProvider;\r\n    import androidx.navigation.NavController;\r\n    import androidx.navigation.Navigation;\r\n    import androidx.recyclerview.widget.DividerItemDecoration;\r\n    \r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.Button;\r\n    import android.widget.Spinner;\r\n    import android.widget.TextView;\r\n    \r\n    import com.example.shoppingcart.R;\r\n    import com.example.shoppingcart.adapters.CartListAdapter;\r\n    import com.example.shoppingcart.cartholder;\r\n    import com.example.shoppingcart.databinding.FragmentCartBinding;\r\n    import com.example.shoppingcart.models.CartItem;\r\n    import com.example.shoppingcart.repositories.CartRepo;\r\n    import com.example.shoppingcart.viewmodels.ShopViewModel;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.firestore.FirebaseFirestore;\r\n    \r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    import java.util.List;\r\n    import java.util.UUID;\r\n    \r\n    public class CartFragment extends Fragment implements CartListAdapter.CartInterface {\r\n    \r\n        private static final String TAG = &quot;CartFragment&quot;;\r\n        FirebaseFirestore firebaseFirestore;\r\n        public TextView productprice;\r\n        public TextView productname;\r\n        public Spinner productquantity;\r\n        Spinner spinner;\r\n        int quantity;\r\n        ShopViewModel shopViewModel;\r\n        FragmentCartBinding fragmentCartBinding;\r\n        NavController navController;\r\n        Button button;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        private void finishActivity() {\r\n            if (getActivity() != null) {\r\n                getActivity().finish();\r\n            }\r\n        }\r\n    \r\n        public CartFragment() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n    \r\n    \r\n    \r\n            // Inflate the layout for this fragment\r\n             fragmentCartBinding = FragmentCartBinding.inflate(inflater, container, false);\r\n            firebaseFirestore = FirebaseFirestore.getInstance();\r\n            return fragmentCartBinding.getRoot();\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n    \r\n    \r\n            navController = Navigation.findNavController(view);\r\n    \r\n            final CartListAdapter cartListAdapter = new CartListAdapter(this);\r\n            fragmentCartBinding.cartRecyclerView.setAdapter(cartListAdapter);\r\n            fragmentCartBinding.cartRecyclerView.addItemDecoration(new DividerItemDecoration(requireContext(), DividerItemDecoration.VERTICAL));\r\n    \r\n            shopViewModel = new ViewModelProvider(requireActivity()).get(ShopViewModel.class);\r\n            shopViewModel.getCart().observe(getViewLifecycleOwner(), new Observer&lt;List&lt;CartItem&gt;&gt;() {\r\n                @Override\r\n                public void onChanged(List&lt;CartItem&gt; cartItems) {\r\n                    cartListAdapter.submitList(cartItems);\r\n                    fragmentCartBinding.placeOrderButton.setEnabled(cartItems.size() &gt; 0);\r\n                }\r\n            });\r\n    \r\n            shopViewModel.getTotalPrice().observe(getViewLifecycleOwner(), new Observer&lt;Double&gt;() {\r\n                @Override\r\n                public void onChanged(Double aDouble) {\r\n                    fragmentCartBinding.orderTotalTextView.setText(&quot;Total: PKR &quot; + aDouble.toString());\r\n                    String price=aDouble.toString().trim();\r\n                }\r\n            });\r\n    \r\n            button = (Button) getView().findViewById(R.id.placeOrderButton);\r\n    \r\n    \r\n            button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    confirm();\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n        public void confirm() {\r\n            productprice = getView().findViewById(R.id.productTotalPriceTextView);\r\n            productname=getView().findViewById(R.id.productNameTextView);\r\n    \r\n            final String saveCurrentDate, saveCurrentTime;\r\n    \r\n            Calendar calForDate = Calendar.getInstance();\r\n            SimpleDateFormat currentDate = new SimpleDateFormat(&quot;MMM dd, yyyy&quot;);\r\n            saveCurrentDate = currentDate.format(calForDate.getTime());\r\n    \r\n            SimpleDateFormat currentTime = new SimpleDateFormat(&quot;HH:mm:ss a&quot;);\r\n            saveCurrentTime = currentTime.format(calForDate.getTime());\r\n    \r\n    \r\n    \r\n            spinner=getView().findViewById(R.id.quantitySpinner);\r\n    \r\n            String productPrice =productprice.getText().toString();\r\n            String productN=productname.getText().toString();\r\n            String productq= CartItem.getSelectedSpinnerValue(spinner,quantity);\r\n    \r\n            UUID uuid = UUID.randomUUID();\r\n            String randomUUIDString = uuid.toString().trim();\r\n    \r\n            cartholder op = new cartholder(productPrice,productq,productN, saveCurrentDate, saveCurrentTime);\r\n    \r\n            FirebaseDatabase dab = FirebaseDatabase.getInstance();\r\n            DatabaseReference note = dab.getReference(&quot;Products&quot;);\r\n    \r\n            note.child(randomUUIDString).child(productN).setValue(op);\r\n    \r\n    \r\n            Intent intent = new Intent(CartFragment.this.getActivity(), CheckoutActivity.class);\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n            startActivity(intent);\r\n            finishActivity();\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void deleteItem(CartItem cartItem) {\r\n            shopViewModel.removeItemFromCart(cartItem);\r\n        }\r\n    \r\n        @Override\r\n        public void changeQuantity(CartItem cartItem, int quantity) {\r\n            shopViewModel.changeQuantity(cartItem, quantity);\r\n        }\r\n    \r\n    \r\n    \r\n        }\r\n\r\n**fragment_cart.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:orientation=&quot;vertical&quot;\r\n            tools:context=&quot;.views.CartFragment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n            &lt;androidx.recyclerview.widget.RecyclerView\r\n                android:id=&quot;@+id/cartRecyclerView&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\r\n                tools:listitem=&quot;@layout/cart_row&quot;\r\n                tools:itemCount=&quot;2&quot;\r\n                /&gt;\r\n    \r\n            &lt;Space\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;16dp&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/orderTotalTextView&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;end&quot;\r\n                android:layout_margin=&quot;8dp&quot;\r\n                android:text=&quot;Total: PKR 26&quot;\r\n                android:textAppearance=&quot;@style/TextAppearance.MaterialComponents.Headline6&quot; /&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/placeOrderButton&quot;\r\n                style=&quot;@style/Widget.MaterialComponents.Button.UnelevatedButton&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;end&quot;\r\n                android:layout_margin=&quot;8dp&quot;\r\n                android:text=&quot;Proceed To Checkout&quot;\r\n                android:textAppearance=&quot;@style/TextAppearance.MaterialComponents.Caption&quot; /&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    &lt;/ScrollView&gt;","title":"How to add more than one text view in firebase realtime database from android studio","body":"<p>I have a cart fragment and I want that when someone clicks the checkout button he should be redirected to checkout activity and his products should go to the firebase Realtime database. It is working fine but in the database only one product is shown. But I want all products should be shown. Any help will be Appreciated.</p>\n<p><strong>CartFagment.java</strong></p>\n<pre><code>package com.example.shoppingcart.views;\n\nimport android.content.Intent;\nimport android.os.Bundle;\n\n\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.databinding.BindingAdapter;\nimport androidx.fragment.app.Fragment;\nimport androidx.lifecycle.Observer;\nimport androidx.lifecycle.ViewModelProvider;\nimport androidx.navigation.NavController;\nimport androidx.navigation.Navigation;\nimport androidx.recyclerview.widget.DividerItemDecoration;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.Spinner;\nimport android.widget.TextView;\n\nimport com.example.shoppingcart.R;\nimport com.example.shoppingcart.adapters.CartListAdapter;\nimport com.example.shoppingcart.cartholder;\nimport com.example.shoppingcart.databinding.FragmentCartBinding;\nimport com.example.shoppingcart.models.CartItem;\nimport com.example.shoppingcart.repositories.CartRepo;\nimport com.example.shoppingcart.viewmodels.ShopViewModel;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.firestore.FirebaseFirestore;\n\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.List;\nimport java.util.UUID;\n\npublic class CartFragment extends Fragment implements CartListAdapter.CartInterface {\n\n    private static final String TAG = &quot;CartFragment&quot;;\n    FirebaseFirestore firebaseFirestore;\n    public TextView productprice;\n    public TextView productname;\n    public Spinner productquantity;\n    Spinner spinner;\n    int quantity;\n    ShopViewModel shopViewModel;\n    FragmentCartBinding fragmentCartBinding;\n    NavController navController;\n    Button button;\n\n\n\n\n\n    private void finishActivity() {\n        if (getActivity() != null) {\n            getActivity().finish();\n        }\n    }\n\n    public CartFragment() {\n        // Required empty public constructor\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n\n\n        // Inflate the layout for this fragment\n         fragmentCartBinding = FragmentCartBinding.inflate(inflater, container, false);\n        firebaseFirestore = FirebaseFirestore.getInstance();\n        return fragmentCartBinding.getRoot();\n\n\n\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n\n        navController = Navigation.findNavController(view);\n\n        final CartListAdapter cartListAdapter = new CartListAdapter(this);\n        fragmentCartBinding.cartRecyclerView.setAdapter(cartListAdapter);\n        fragmentCartBinding.cartRecyclerView.addItemDecoration(new DividerItemDecoration(requireContext(), DividerItemDecoration.VERTICAL));\n\n        shopViewModel = new ViewModelProvider(requireActivity()).get(ShopViewModel.class);\n        shopViewModel.getCart().observe(getViewLifecycleOwner(), new Observer&lt;List&lt;CartItem&gt;&gt;() {\n            @Override\n            public void onChanged(List&lt;CartItem&gt; cartItems) {\n                cartListAdapter.submitList(cartItems);\n                fragmentCartBinding.placeOrderButton.setEnabled(cartItems.size() &gt; 0);\n            }\n        });\n\n        shopViewModel.getTotalPrice().observe(getViewLifecycleOwner(), new Observer&lt;Double&gt;() {\n            @Override\n            public void onChanged(Double aDouble) {\n                fragmentCartBinding.orderTotalTextView.setText(&quot;Total: PKR &quot; + aDouble.toString());\n                String price=aDouble.toString().trim();\n            }\n        });\n\n        button = (Button) getView().findViewById(R.id.placeOrderButton);\n\n\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                confirm();\n\n            }\n        });\n    }\n\n    public void confirm() {\n        productprice = getView().findViewById(R.id.productTotalPriceTextView);\n        productname=getView().findViewById(R.id.productNameTextView);\n\n        final String saveCurrentDate, saveCurrentTime;\n\n        Calendar calForDate = Calendar.getInstance();\n        SimpleDateFormat currentDate = new SimpleDateFormat(&quot;MMM dd, yyyy&quot;);\n        saveCurrentDate = currentDate.format(calForDate.getTime());\n\n        SimpleDateFormat currentTime = new SimpleDateFormat(&quot;HH:mm:ss a&quot;);\n        saveCurrentTime = currentTime.format(calForDate.getTime());\n\n\n\n        spinner=getView().findViewById(R.id.quantitySpinner);\n\n        String productPrice =productprice.getText().toString();\n        String productN=productname.getText().toString();\n        String productq= CartItem.getSelectedSpinnerValue(spinner,quantity);\n\n        UUID uuid = UUID.randomUUID();\n        String randomUUIDString = uuid.toString().trim();\n\n        cartholder op = new cartholder(productPrice,productq,productN, saveCurrentDate, saveCurrentTime);\n\n        FirebaseDatabase dab = FirebaseDatabase.getInstance();\n        DatabaseReference note = dab.getReference(&quot;Products&quot;);\n\n        note.child(randomUUIDString).child(productN).setValue(op);\n\n\n        Intent intent = new Intent(CartFragment.this.getActivity(), CheckoutActivity.class);\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\n        startActivity(intent);\n        finishActivity();\n    }\n\n\n    @Override\n    public void deleteItem(CartItem cartItem) {\n        shopViewModel.removeItemFromCart(cartItem);\n    }\n\n    @Override\n    public void changeQuantity(CartItem cartItem, int quantity) {\n        shopViewModel.changeQuantity(cartItem, quantity);\n    }\n\n\n\n    }\n</code></pre>\n<p><strong>fragment_cart.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;LinearLayout\n        android:orientation=&quot;vertical&quot;\n        tools:context=&quot;.views.CartFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=&quot;@+id/cartRecyclerView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\n            tools:listitem=&quot;@layout/cart_row&quot;\n            tools:itemCount=&quot;2&quot;\n            /&gt;\n\n        &lt;Space\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;16dp&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/orderTotalTextView&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;end&quot;\n            android:layout_margin=&quot;8dp&quot;\n            android:text=&quot;Total: PKR 26&quot;\n            android:textAppearance=&quot;@style/TextAppearance.MaterialComponents.Headline6&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/placeOrderButton&quot;\n            style=&quot;@style/Widget.MaterialComponents.Button.UnelevatedButton&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;end&quot;\n            android:layout_margin=&quot;8dp&quot;\n            android:text=&quot;Proceed To Checkout&quot;\n            android:textAppearance=&quot;@style/TextAppearance.MaterialComponents.Caption&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n"},{"tags":["java","json","http","rest-assured"],"comments":[{"owner":{"account_id":10187245,"reputation":442,"user_id":7521742,"display_name":"sgrpwr"},"score":0,"creation_date":1600254139,"post_id":63918290,"comment_id":113027793,"body_markdown":"Are you sure you are using **one.response** in Java? If yes which library are you using?","body":"Are you sure you are using <b>one.response</b> in Java? If yes which library are you using?"},{"owner":{"account_id":17236297,"reputation":61,"user_id":12479693,"display_name":"VSs"},"score":0,"creation_date":1600254701,"post_id":63918290,"comment_id":113028047,"body_markdown":"yes, rest assured  `response.jsonPath().get(&quot;one.response&quot;)`","body":"yes, rest assured  <code>response.jsonPath().get(&quot;one.response&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":171189,"reputation":38109,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666177662,"creation_date":1666177662,"answer_id":74124295,"question_id":63918290,"body_markdown":"You need to escape the key:\r\n\r\n\r\n```\r\nresponse.jsonPath().getString(&quot;&#39;something.one.txt&#39;.status&quot;) // Will return &quot;SUCCESSFUL&quot;\r\n```","title":"How to extract json Response in rest assured with points in key","body":"<p>You need to escape the key:</p>\n<pre><code>response.jsonPath().getString(&quot;'something.one.txt'.status&quot;) // Will return &quot;SUCCESSFUL&quot;\n</code></pre>\n"}],"owner":{"account_id":17236297,"reputation":61,"user_id":12479693,"display_name":"VSs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74124295,"answer_count":1,"score":0,"last_activity_date":1666177662,"creation_date":1600252881,"question_id":63918290,"body_markdown":"To extract status form this response in rest assured i just need to use `one.response` or `two.response`\r\n\r\n    {\r\n    &quot;one&quot;: {\r\n        &quot;status&quot;: &quot;SUCCESSFUL&quot;,\r\n        &quot;fileNum&quot;: &quot;1&quot;\r\n    },\r\n    &quot;two&quot;: {\r\n        &quot;status&quot;: &quot;SUCCESSFUL&quot;,\r\n        &quot;fileNum&quot;: &quot;2&quot;\r\n    }}\r\n\r\nBut how can I extract the same value (without changing key) if i have such response:\r\n\r\n    {\r\n    &quot;something.one.txt&quot;: {\r\n        &quot;status&quot;: &quot;SUCCESSFUL&quot;,\r\n        &quot;fileNum&quot;: &quot;1&quot;\r\n    },\r\n    &quot;somethinganother.two.txt&quot;: {\r\n        &quot;status&quot;: &quot;SUCCESSFUL&quot;,\r\n        &quot;fileNum&quot;: &quot;2&quot;\r\n    }}","title":"How to extract json Response in rest assured with points in key","body":"<p>To extract status form this response in rest assured i just need to use <code>one.response</code> or <code>two.response</code></p>\n<pre><code>{\n&quot;one&quot;: {\n    &quot;status&quot;: &quot;SUCCESSFUL&quot;,\n    &quot;fileNum&quot;: &quot;1&quot;\n},\n&quot;two&quot;: {\n    &quot;status&quot;: &quot;SUCCESSFUL&quot;,\n    &quot;fileNum&quot;: &quot;2&quot;\n}}\n</code></pre>\n<p>But how can I extract the same value (without changing key) if i have such response:</p>\n<pre><code>{\n&quot;something.one.txt&quot;: {\n    &quot;status&quot;: &quot;SUCCESSFUL&quot;,\n    &quot;fileNum&quot;: &quot;1&quot;\n},\n&quot;somethinganother.two.txt&quot;: {\n    &quot;status&quot;: &quot;SUCCESSFUL&quot;,\n    &quot;fileNum&quot;: &quot;2&quot;\n}}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666175622,"post_id":74123764,"comment_id":130871869,"body_markdown":"You mean that you want a function which returns two strings?","body":"You mean that you want a function which returns two strings?"},{"owner":{"account_id":26647701,"reputation":55,"user_id":20262433,"display_name":"Pratik"},"score":0,"creation_date":1666175996,"post_id":74123764,"comment_id":130871977,"body_markdown":"Yes. That will also work. I can tweak my logic in that manner.","body":"Yes. That will also work. I can tweak my logic in that manner."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666176943,"post_id":74123764,"comment_id":130872283,"body_markdown":"How would you get &quot;FFF&quot; from &quot;Free Float Factor-FF&quot;?","body":"How would you get &quot;FFF&quot; from &quot;Free Float Factor-FF&quot;?"}],"answers":[{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666177043,"post_id":74124001,"comment_id":130872326,"body_markdown":"The before part is meant to include the &#39;-&#39; (for whatever reason) so that should be `pos+1`","body":"The before part is meant to include the &#39;-&#39; (for whatever reason) so that should be <code>pos+1</code>"}],"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666176295,"creation_date":1666176295,"answer_id":74124001,"question_id":74123764,"body_markdown":"It&#39;s unclear how you would decide whether to return the bit before or the bit after. But you can get those two parts using `indexOf` to find the character, and then use `substring` to get the portion of the string:\r\n\r\n```\r\nint pos = p.indexOf(&#39;-&#39;);\r\nString before = p.substring(0, pos);\r\nString after = p.substring(pos+1);\r\n```","title":"Write a genetic method to remove a part of string after a particular character and till a particular character","body":"<p>It's unclear how you would decide whether to return the bit before or the bit after. But you can get those two parts using <code>indexOf</code> to find the character, and then use <code>substring</code> to get the portion of the string:</p>\n<pre><code>int pos = p.indexOf('-');\nString before = p.substring(0, pos);\nString after = p.substring(pos+1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1666177393,"creation_date":1666177036,"answer_id":74124165,"question_id":74123764,"body_markdown":"You can use `split(&quot;-&quot;)` operator on the `String` to the get the data like this:\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            String p=&quot;Free Float Factor-FFF&quot;;\r\n            String[] arr = p.split(&quot;-&quot;);\r\n            System.out.println(arr[0] + &quot;-&quot;);\r\n            System.out.println(arr[1]);\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    Free Float Factor-\r\n    FFF","title":"Write a genetic method to remove a part of string after a particular character and till a particular character","body":"<p>You can use <code>split(&quot;-&quot;)</code> operator on the <code>String</code> to the get the data like this:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        String p=&quot;Free Float Factor-FFF&quot;;\n        String[] arr = p.split(&quot;-&quot;);\n        System.out.println(arr[0] + &quot;-&quot;);\n        System.out.println(arr[1]);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Free Float Factor-\nFFF\n</code></pre>\n"}],"owner":{"account_id":26647701,"reputation":55,"user_id":20262433,"display_name":"Pratik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74124165,"answer_count":2,"score":0,"last_activity_date":1666177393,"creation_date":1666175068,"question_id":74123764,"body_markdown":"I am trying to write a generic java method wherein I want to remove a part of a String after a particular character and till a particular character. For e.g. &quot;My name is-A&quot; is the String, then I want a method that should remove String till - or remove String after -. So my expected output here would be &quot;My name is-&quot; or &quot;A&quot;. Below is my code.\r\n\r\n    String p=&quot;Free Float Factor-FFF&quot;;\r\n    \t\t\r\n    \t\tchar[] s2= p.toCharArray();\r\n    \t\tchar[] s3;\r\n    \t\tint i=0;\r\n    \t\tdo {\r\n    \t\t\ts3=ArrayUtils.remove(s2, i);\r\n    \t\t\ti++;\r\n    \t\t}while((!s2.equals(&quot;-&quot;))&amp;&amp;i&lt;s2.length);\r\n    \t\t\r\n    \t\tSystem.out.println(new String(s3));\r\n    \r\n    \t}\r\n\r\nThe output I am getting here is **Free Float Factor-FF** I want either &quot;Free Float Factor-&quot; or &quot;FFF&quot; as the output. I am trying to convert the String into an array and then remove the part of the String till - but it is removing the last character. Slightly confused by this. ","title":"Write a genetic method to remove a part of string after a particular character and till a particular character","body":"<p>I am trying to write a generic java method wherein I want to remove a part of a String after a particular character and till a particular character. For e.g. &quot;My name is-A&quot; is the String, then I want a method that should remove String till - or remove String after -. So my expected output here would be &quot;My name is-&quot; or &quot;A&quot;. Below is my code.</p>\n<pre><code>String p=&quot;Free Float Factor-FFF&quot;;\n        \n        char[] s2= p.toCharArray();\n        char[] s3;\n        int i=0;\n        do {\n            s3=ArrayUtils.remove(s2, i);\n            i++;\n        }while((!s2.equals(&quot;-&quot;))&amp;&amp;i&lt;s2.length);\n        \n        System.out.println(new String(s3));\n\n    }\n</code></pre>\n<p>The output I am getting here is <strong>Free Float Factor-FF</strong> I want either &quot;Free Float Factor-&quot; or &quot;FFF&quot; as the output. I am trying to convert the String into an array and then remove the part of the String till - but it is removing the last character. Slightly confused by this.</p>\n"},{"tags":["javascript","java","html","google-chrome","web"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666175325,"post_id":74122820,"comment_id":130871751,"body_markdown":"I would guess that&#39;s a Microsoft thing, for probably obvious reasons. There is no way other than to detect which browsers are installed and then invoke the appropriate executable","body":"I would guess that&#39;s a Microsoft thing, for probably obvious reasons. There is no way other than to detect which browsers are installed and then invoke the appropriate executable"}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666177031,"post_id":74124116,"comment_id":130872322,"body_markdown":"How is that helpful for a question involving a &quot;specific browser&quot;?","body":"How is that helpful for a question involving a &quot;specific browser&quot;?"},{"owner":{"account_id":22028707,"reputation":49,"user_id":16296318,"display_name":"Αpostolos-Valiakos"},"score":0,"creation_date":1666177233,"post_id":74124116,"comment_id":130872397,"body_markdown":"my fault ill edit","body":"my fault ill edit"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666177543,"post_id":74124116,"comment_id":130872501,"body_markdown":"That&#39;s not likely to work. &#39;Full-fat&#39; apps like chrome are not generally in ```PATH```  so ```cmd /c start``` won&#39;t find them. You&#39;d need to find the full path and then ... you don&#39;t need ```cmd /c start```","body":"That&#39;s not likely to work. &#39;Full-fat&#39; apps like chrome are not generally in <code>PATH</code>  so <code>cmd &#47;c start</code> won&#39;t find them. You&#39;d need to find the full path and then ... you don&#39;t need <code>cmd &#47;c start</code>"},{"owner":{"account_id":22028707,"reputation":49,"user_id":16296318,"display_name":"Αpostolos-Valiakos"},"score":0,"creation_date":1666177598,"post_id":74124116,"comment_id":130872522,"body_markdown":"it worked with firefox though, try it in your cmd start firefox google.com","body":"it worked with firefox though, try it in your cmd start firefox google.com"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1666177710,"post_id":74124116,"comment_id":130872568,"body_markdown":"Even that surprises me. They might have &#39;GUI-fied&#39; it so it uses the registry rather than ```PATH``` in some way. I can&#39;t test it as I don&#39;t have Windows","body":"Even that surprises me. They might have &#39;GUI-fied&#39; it so it uses the registry rather than <code>PATH</code> in some way. I can&#39;t test it as I don&#39;t have Windows"},{"owner":{"account_id":20036554,"reputation":27,"user_id":14688156,"display_name":"Sam"},"score":0,"creation_date":1666188120,"post_id":74124116,"comment_id":130876773,"body_markdown":"@Apostolos-Valiakos can we use Runtime.getRuntime().exec(new String[]{&quot;cmd&quot;, &quot;/c&quot;,&quot;start chrome your_ link &quot;}); in JSP page with scriptlet tag ?","body":"@Apostolos-Valiakos can we use Runtime.getRuntime().exec(new String[]{&quot;cmd&quot;, &quot;/c&quot;,&quot;start chrome your_ link &quot;}); in JSP page with scriptlet tag ?"},{"owner":{"account_id":22028707,"reputation":49,"user_id":16296318,"display_name":"Αpostolos-Valiakos"},"score":0,"creation_date":1666250732,"post_id":74124116,"comment_id":130892489,"body_markdown":"@Sam I am not informed about scriplet tags, so unfortunately i cannot help you","body":"@Sam I am not informed about scriplet tags, so unfortunately i cannot help you"},{"owner":{"account_id":22028707,"reputation":49,"user_id":16296318,"display_name":"Αpostolos-Valiakos"},"score":0,"creation_date":1666255869,"post_id":74124116,"comment_id":130894437,"body_markdown":"@Sam If my response helped you i would appreciate if you mentioned it as a solution","body":"@Sam If my response helped you i would appreciate if you mentioned it as a solution"},{"owner":{"account_id":20036554,"reputation":27,"user_id":14688156,"display_name":"Sam"},"score":0,"creation_date":1666260844,"post_id":74124116,"comment_id":130896335,"body_markdown":"Αpostolos-Valiakos i tired your answer but i am getting Cannot run the program &quot;cmd&quot;: error=2 No such file or directory","body":"Αpostolos-Valiakos i tired your answer but i am getting Cannot run the program &quot;cmd&quot;: error=2 No such file or directory"},{"owner":{"account_id":20036554,"reputation":27,"user_id":14688156,"display_name":"Sam"},"score":0,"creation_date":1666277224,"post_id":74124116,"comment_id":130903013,"body_markdown":"`java.io.IOException: Cannot run program &quot;cmd&quot;: error=2, No such file or directory\n        at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\n        at org.apache.jsp.imcoords_jsp._jspService(imcoords_jsp.java:61)\n        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\nCaused by: java.io.IOException: error=2, No such file or directory\n        at java.lang.UNIXProcess.forkAndExec(Native Method)\n        at java.lang.UNIXProcess.&lt;init&gt;(UNIXProcess.java:247)\n        ... 15 more\n` @Apostolos-Valiakos i am getting above error after trying your solution","body":"<code>java.io.IOException: Cannot run program &quot;cmd&quot;: error=2, No such file or directory         at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)         at org.apache.jsp.imcoords_jsp._jspService(imcoords_jsp.java:61&zwnj;&#8203;)         at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.ja&zwnj;&#8203;va:70) Caused by: java.io.IOException: error=2, No such file or directory         at java.lang.UNIXProcess.forkAndExec(Native Method)         at java.lang.UNIXProcess.&lt;init&gt;(UNIXProcess.java:247)         ... 15 more </code> @Apostolos-Valiakos i am getting above error after trying your solution"},{"owner":{"account_id":22028707,"reputation":49,"user_id":16296318,"display_name":"Αpostolos-Valiakos"},"score":0,"creation_date":1666598938,"post_id":74124116,"comment_id":130966548,"body_markdown":"@Sam Try using C:\\Windows\\System32\\cmd.exe as first argument. (Remember to escape the backslashes by doubling them, i.e. &quot;C:\\\\Windows\\\\System32\\\\cmd.exe&quot;).","body":"@Sam Try using C:\\Windows\\System32\\cmd.exe as first argument. (Remember to escape the backslashes by doubling them, i.e. &quot;C:\\\\Windows\\\\System32\\\\cmd.exe&quot;)."},{"owner":{"account_id":20036554,"reputation":27,"user_id":14688156,"display_name":"Sam"},"score":0,"creation_date":1666604654,"post_id":74124116,"comment_id":130968421,"body_markdown":"@Αpostolos-Valiakos tried but still get Cannot run program &quot;C:\\Windows\\System32\\cmd.exe &quot;: error=2, No such file or directory","body":"@Αpostolos-Valiakos tried but still get Cannot run program &quot;C:\\Windows\\System32\\cmd.exe &quot;: error=2, No such file or directory"},{"owner":{"account_id":22028707,"reputation":49,"user_id":16296318,"display_name":"Αpostolos-Valiakos"},"score":0,"creation_date":1666605679,"post_id":74124116,"comment_id":130968720,"body_markdown":"@Sam you have to find the path to the cmd.exe on your pc and add it as the first argument.","body":"@Sam you have to find the path to the cmd.exe on your pc and add it as the first argument."}],"tags":[],"owner":{"account_id":22028707,"reputation":49,"user_id":16296318,"display_name":"Αpostolos-Valiakos"},"comment_count":13,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666177392,"creation_date":1666176814,"answer_id":74124116,"question_id":74122820,"body_markdown":"If you are using Java and you want to run a certain browser with a certain link the only solution i can possibly think is using CMD\r\n\r\n    Runtime.getRuntime().exec(new String[]{&quot;cmd&quot;, &quot;/c&quot;,&quot;start chrome your_ link &quot;});\r\n\r\n\r\n","title":"How to force JAVA app to open the page in specific browser","body":"<p>If you are using Java and you want to run a certain browser with a certain link the only solution i can possibly think is using CMD</p>\n<pre><code>Runtime.getRuntime().exec(new String[]{&quot;cmd&quot;, &quot;/c&quot;,&quot;start chrome your_ link &quot;});\n</code></pre>\n"}],"owner":{"account_id":20036554,"reputation":27,"user_id":14688156,"display_name":"Sam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74124116,"answer_count":1,"score":0,"last_activity_date":1666177392,"creation_date":1666171026,"question_id":74122820,"body_markdown":"When I add microsoft-edge prefix to the URL(microsoft-edge:https://google.com) it opens the page in edge regardless what browser i am using to run the app. \r\nIs there an equivalent prefix for chrome and Firefox  ? \r\n\r\nThank you in advance","title":"How to force JAVA app to open the page in specific browser","body":"<p>When I add microsoft-edge prefix to the URL(microsoft-edge:<a href=\"https://google.com\" rel=\"nofollow noreferrer\">https://google.com</a>) it opens the page in edge regardless what browser i am using to run the app.\nIs there an equivalent prefix for chrome and Firefox  ?</p>\n<p>Thank you in advance</p>\n"},{"tags":["java","regex","lucene"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1665929167,"post_id":74086579,"comment_id":130809202,"body_markdown":"Notes: (1) You are using `[` and `]` in various places. Content inside square brackets like these in a regex is interpreted as a list of characters to find. So `[s*]` means &quot;every `s` and every `*`&quot;. Is that what you want? You can test your regexes using [Regex 101](https://regex101.com/) but bear in mind Lucene&#39;s regex functionality is [limited](https://lucene.apache.org/core/9_4_0/core/org/apache/lucene/util/automaton/RegExp.html?is-external=true).","body":"Notes: (1) You are using <code>[</code> and <code>]</code> in various places. Content inside square brackets like these in a regex is interpreted as a list of characters to find. So <code>[s*]</code> means &quot;every <code>s</code> and every <code>*</code>&quot;. Is that what you want? You can test your regexes using <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">Regex 101</a> but bear in mind Lucene&#39;s regex functionality is <a href=\"https://lucene.apache.org/core/9_4_0/core/org/apache/lucene/util/automaton/RegExp.html?is-external=true\" rel=\"nofollow noreferrer\">limited</a>."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1665929169,"post_id":74086579,"comment_id":130809203,"body_markdown":"(2) `PatternReplaceCharFilter` is a char filter - not a token filter, so maybe `.addTokenFilter(&quot;patternreplace&quot; ...` does not work the way you expect. I have not tested that.","body":"(2) <code>PatternReplaceCharFilter</code> is a char filter - not a token filter, so maybe <code>.addTokenFilter(&quot;patternreplace&quot; ...</code> does not work the way you expect. I have not tested that."}],"owner":{"account_id":25543056,"reputation":13,"user_id":19371023,"display_name":"leyva_7"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666177166,"creation_date":1665918456,"question_id":74086579,"body_markdown":"I&#39;m trying to do a code analyzer in Java with Lucene. I want to remove whitespaces to normalize the code. My problem is that it doesn&#39;t recognize &quot;\\\\s*&quot; or &quot;\\\\s+&quot; regular expression. So this is my code:  \r\n\r\n\r\n    Analyzer ana = CustomAnalyzer.builder(Paths.get(&quot;.&quot;))\r\n        .addCharFilter(&quot;patternreplace&quot;,&quot;pattern&quot;,&quot;[{]|[}]|[;]|[,]|[(]|[)]&quot;,&quot;replacement&quot;,&quot;&quot;)\r\n        .withTokenizer(SimplePatternSplitTokenizerFactory.class,&quot;pattern&quot;,&quot;[\\n]&quot;) \r\n        .addTokenFilter(LowerCaseFilterFactory.class)\r\n        .addTokenFilter(&quot;patternreplace&quot;,&quot;pattern&quot;,&quot;[jlk][+][+]&quot;,&quot;replacement&quot;,&quot;i++&quot;)\r\n        .addTokenFilter(&quot;patternreplace&quot;,&quot;pattern&quot;,&quot;size&quot;,&quot;replacement&quot;,&quot;length&quot;)\r\n        .addTokenFilter(&quot;patternreplace&quot;,&quot;pattern&quot;,&quot;[\\\\s*][jkl][\\\\s*]&quot;,&quot;replacement&quot;,&quot; i &quot;)\r\n        .addTokenFilter(&quot;patternreplace&quot;,&quot;pattern&quot;,&quot;[\\\\s+]&quot;,&quot;replacement&quot;,&quot;&quot;)\r\n        .build();\r\n        return muestraTexto(ana, texto);\r\n\r\nThis is the code example I am using:\r\n\r\n        for(int i = 0; i &lt; nada.size(); i++){\r\n    \tsuma = 5 + 3;\r\n    }\r\n\r\n\r\n        for(int j = 0; j &lt; algo.size(); j++){\r\n    \tsuma2 = 5+3;\r\n    }\r\n\r\nAnd this is my output:\r\n\r\n    forint i = 0 i &lt; nada.length i\r\n    suma = 5  3\r\n\r\n    forint j = 0 j &lt; algo.length i\r\n        suma2 = 53\r\n\r\nSo it&#39;s not removing the whitespaces.\r\n\r\n","title":"White space pattern in Lucene/Java","body":"<p>I'm trying to do a code analyzer in Java with Lucene. I want to remove whitespaces to normalize the code. My problem is that it doesn't recognize &quot;\\s*&quot; or &quot;\\s+&quot; regular expression. So this is my code:</p>\n<pre><code>Analyzer ana = CustomAnalyzer.builder(Paths.get(&quot;.&quot;))\n    .addCharFilter(&quot;patternreplace&quot;,&quot;pattern&quot;,&quot;[{]|[}]|[;]|[,]|[(]|[)]&quot;,&quot;replacement&quot;,&quot;&quot;)\n    .withTokenizer(SimplePatternSplitTokenizerFactory.class,&quot;pattern&quot;,&quot;[\\n]&quot;) \n    .addTokenFilter(LowerCaseFilterFactory.class)\n    .addTokenFilter(&quot;patternreplace&quot;,&quot;pattern&quot;,&quot;[jlk][+][+]&quot;,&quot;replacement&quot;,&quot;i++&quot;)\n    .addTokenFilter(&quot;patternreplace&quot;,&quot;pattern&quot;,&quot;size&quot;,&quot;replacement&quot;,&quot;length&quot;)\n    .addTokenFilter(&quot;patternreplace&quot;,&quot;pattern&quot;,&quot;[\\\\s*][jkl][\\\\s*]&quot;,&quot;replacement&quot;,&quot; i &quot;)\n    .addTokenFilter(&quot;patternreplace&quot;,&quot;pattern&quot;,&quot;[\\\\s+]&quot;,&quot;replacement&quot;,&quot;&quot;)\n    .build();\n    return muestraTexto(ana, texto);\n</code></pre>\n<p>This is the code example I am using:</p>\n<pre><code>    for(int i = 0; i &lt; nada.size(); i++){\n    suma = 5 + 3;\n}\n\n\n    for(int j = 0; j &lt; algo.size(); j++){\n    suma2 = 5+3;\n}\n</code></pre>\n<p>And this is my output:</p>\n<pre><code>forint i = 0 i &lt; nada.length i\nsuma = 5  3\n\nforint j = 0 j &lt; algo.length i\n    suma2 = 53\n</code></pre>\n<p>So it's not removing the whitespaces.</p>\n"},{"tags":["java","xpages","lotus-domino"],"comments":[{"owner":{"account_id":412150,"reputation":21391,"user_id":785061,"accept_rate":60,"display_name":"Per Henrik Lausten"},"score":3,"creation_date":1666120995,"post_id":74116269,"comment_id":130859522,"body_markdown":"Seriously: instead of starting to work with xAgents, look at Jakarta EE for XPages. This project gives you a modern approach to APIs and will solve issues like this question and your previous question (and is MUCH easier to work with)","body":"Seriously: instead of starting to work with xAgents, look at Jakarta EE for XPages. This project gives you a modern approach to APIs and will solve issues like this question and your previous question (and is MUCH easier to work with)"}],"answers":[{"tags":[],"owner":{"account_id":17353525,"reputation":5513,"user_id":12571484,"display_name":"Adam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666176758,"creation_date":1666176758,"answer_id":74124107,"question_id":74116269,"body_markdown":"As per [this][1] post, the issue when submitting forms with `xsp.csrf.protection` setting equals to `true` causes domino to capture the stream and look for the $$viewid field, thus preventing any data from the ServletInputStream being read (as it&#39;s been read once already). This now works for all content types other than `multipart/form-data`. To work around this, set `xsp.csrf.protection=false` in the application configuration -&gt; Xsp Properties. Set `Content-Type` to `application/octet-stream` in the client side script when building the request (e.g. using the Fetch API) and the request body is then made available to the agent.\r\n\r\nAny CSRF protection would have to be baked in manually, however.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74072893/domino-xagent-gives-500-command-not-handled-exception-viewid-id-not-present","title":"xAgent ServletInputStream read method always returns -1","body":"<p>As per <a href=\"https://stackoverflow.com/questions/74072893/domino-xagent-gives-500-command-not-handled-exception-viewid-id-not-present\">this</a> post, the issue when submitting forms with <code>xsp.csrf.protection</code> setting equals to <code>true</code> causes domino to capture the stream and look for the $$viewid field, thus preventing any data from the ServletInputStream being read (as it's been read once already). This now works for all content types other than <code>multipart/form-data</code>. To work around this, set <code>xsp.csrf.protection=false</code> in the application configuration -&gt; Xsp Properties. Set <code>Content-Type</code> to <code>application/octet-stream</code> in the client side script when building the request (e.g. using the Fetch API) and the request body is then made available to the agent.</p>\n<p>Any CSRF protection would have to be baked in manually, however.</p>\n"}],"owner":{"account_id":17353525,"reputation":5513,"user_id":12571484,"display_name":"Adam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74124107,"answer_count":1,"score":0,"last_activity_date":1666176758,"creation_date":1666120081,"question_id":74116269,"body_markdown":"Hello everyone once again. I can&#39;t seem to read POST content using this xpage/xAgent:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;xp:view xmlns:xp=&quot;http://www.ibm.com/xsp/core&quot; rendered=&quot;false&quot;\r\n    \tviewState=&quot;nostate&quot; xmlns:xe=&quot;http://www.ibm.com/xsp/coreex&quot;&gt;\r\n    \t&lt;xp:this.beforeRenderResponse&gt;\r\n    \t\t&lt;![CDATA[#{javascript:\r\n    \t\t\tvar xagentprocessor = new com.my.test.XagentProcessor;\t\r\n    \t\t\txagentprocessor.process();\r\n    \t\t}]]&gt;\r\n    \t&lt;/xp:this.beforeRenderResponse&gt;\r\n    &lt;/xp:view&gt;\r\n\r\nWhich is running this code to simply reflect back to the browser the data that was submitted:\r\n\r\n    public class XagentProcessor {\r\n    \tpublic void process() {\r\n    \t    try {\r\n    \t    \tbyte[] body = Util.getPostRequestBytes();\r\n    \t    \tUtil.sendResponseBytes(body);\r\n    \t    } catch (Exception e) {\r\n    \t    \tSystem.out.println(&quot;Error in XagentProcessor process() method:&quot;+e.toString());\r\n    \t    }\r\n    \t}\r\n    }\r\n\r\nWhich invokes this static method in my utility class (thanks John Dalsgaard for the tip there) which uses code I pinched from [here][1].\r\n\r\n    public static byte[] getPostRequestBytes() {\r\n    \t\tHttpServletRequest request = getHttpRequest();\r\n    \t\ttry {\r\n    \t\t\tServletInputStream is = request.getInputStream();\r\n    \t\t\tint length=request.getContentLength(); //This is definitely nonzero\r\n    \t\t\tByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n    \t\t\tint nRead;\r\n    \t\t\tbyte[] data = new byte[16384];\r\n    \t\t\twhile ((nRead = is.read(data, 0, data.length)) != -1) {\r\n    \t\t\t  buffer.write(data, 0, nRead);\r\n    \t\t\t}\r\n    \t\t\treturn buffer.toByteArray();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tSystem.out.print(&quot;Error in Util.getPostRequestText() method:&quot; + e.toString());\r\n    \t\t}\r\n    \t\treturn new byte[0];\r\n    \t}\r\n\r\nMy issue is that this returns no content, the first read of the inputstream returns -1. This might be related to [this post][2] in that if I don&#39;t put a $$viewid field in the POST request then it throws an error. This leads me to believe that domino has already read the input stream (as it knows about the missing field) so it&#39;s not available to the `getPostRequestBytes` method.\r\n\r\nAny ideas anyone? My options are to either read the stream again, which I don&#39;t think is possible or get Domino not to read it to check for the $$viewid field. I&#39;m really scratching my head now. All help very much appreciated indeed!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1264709/convert-inputstream-to-byte-array-in-java\r\n  [2]: https://stackoverflow.com/questions/74072893/domino-xagent-gives-500-command-not-handled-exception","title":"xAgent ServletInputStream read method always returns -1","body":"<p>Hello everyone once again. I can't seem to read POST content using this xpage/xAgent:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xp:view xmlns:xp=&quot;http://www.ibm.com/xsp/core&quot; rendered=&quot;false&quot;\n    viewState=&quot;nostate&quot; xmlns:xe=&quot;http://www.ibm.com/xsp/coreex&quot;&gt;\n    &lt;xp:this.beforeRenderResponse&gt;\n        &lt;![CDATA[#{javascript:\n            var xagentprocessor = new com.my.test.XagentProcessor;  \n            xagentprocessor.process();\n        }]]&gt;\n    &lt;/xp:this.beforeRenderResponse&gt;\n&lt;/xp:view&gt;\n</code></pre>\n<p>Which is running this code to simply reflect back to the browser the data that was submitted:</p>\n<pre><code>public class XagentProcessor {\n    public void process() {\n        try {\n            byte[] body = Util.getPostRequestBytes();\n            Util.sendResponseBytes(body);\n        } catch (Exception e) {\n            System.out.println(&quot;Error in XagentProcessor process() method:&quot;+e.toString());\n        }\n    }\n}\n</code></pre>\n<p>Which invokes this static method in my utility class (thanks John Dalsgaard for the tip there) which uses code I pinched from <a href=\"https://stackoverflow.com/questions/1264709/convert-inputstream-to-byte-array-in-java\">here</a>.</p>\n<pre><code>public static byte[] getPostRequestBytes() {\n        HttpServletRequest request = getHttpRequest();\n        try {\n            ServletInputStream is = request.getInputStream();\n            int length=request.getContentLength(); //This is definitely nonzero\n            ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n            int nRead;\n            byte[] data = new byte[16384];\n            while ((nRead = is.read(data, 0, data.length)) != -1) {\n              buffer.write(data, 0, nRead);\n            }\n            return buffer.toByteArray();\n        } catch (IOException e) {\n            System.out.print(&quot;Error in Util.getPostRequestText() method:&quot; + e.toString());\n        }\n        return new byte[0];\n    }\n</code></pre>\n<p>My issue is that this returns no content, the first read of the inputstream returns -1. This might be related to <a href=\"https://stackoverflow.com/questions/74072893/domino-xagent-gives-500-command-not-handled-exception\">this post</a> in that if I don't put a $$viewid field in the POST request then it throws an error. This leads me to believe that domino has already read the input stream (as it knows about the missing field) so it's not available to the <code>getPostRequestBytes</code> method.</p>\n<p>Any ideas anyone? My options are to either read the stream again, which I don't think is possible or get Domino not to read it to check for the $$viewid field. I'm really scratching my head now. All help very much appreciated indeed!</p>\n"},{"tags":["java","android","android-fragments","android-transitions"],"comments":[{"owner":{"account_id":7299712,"reputation":85,"user_id":5563010,"display_name":"Darren"},"score":2,"creation_date":1553087889,"post_id":55183223,"comment_id":97254698,"body_markdown":"Still looking for an answer, any help will be appreciated","body":"Still looking for an answer, any help will be appreciated"},{"owner":{"account_id":4661877,"reputation":1941,"user_id":3775934,"accept_rate":70,"display_name":"Scrobot"},"score":0,"creation_date":1569346398,"post_id":55183223,"comment_id":102564838,"body_markdown":"same problem. @Darren if you solved this problem, please, share your implementation)","body":"same problem. @Darren if you solved this problem, please, share your implementation)"},{"owner":{"account_id":3440641,"reputation":332,"user_id":2882691,"display_name":"Goran Devs"},"score":0,"creation_date":1583327709,"post_id":55183223,"comment_id":107077853,"body_markdown":"Something similar and potentially applicable:\nhttps://stackoverflow.com/questions/33561523/remove-the-white-screen-a-slide-window-transition-creates-when-it-starts","body":"Something similar and potentially applicable: <a href=\"https://stackoverflow.com/questions/33561523/remove-the-white-screen-a-slide-window-transition-creates-when-it-starts\" title=\"remove the white screen a slide window transition creates when it starts\">stackoverflow.com/questions/33561523/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":18712416,"reputation":638,"user_id":13642222,"display_name":"sina akbari"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666176575,"creation_date":1666176575,"answer_id":74124071,"question_id":55183223,"body_markdown":"The tricky part is you have to define all the **Anim** field in the action.\r\nsomething like bellow:\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/profileFragment&quot;\r\n        android:name=&quot;sample.presentation.view.fragments.profile.ProfileFragment&quot;\r\n        android:label=&quot;fragment_profile&quot;\r\n        tools:layout=&quot;@layout/fragment_profile&quot; &gt;\r\n       \r\n        &lt;action\r\n            android:id=&quot;@+id/action_profileFragment_to_personalInfoFragment&quot;\r\n            app:destination=&quot;@id/personalInfoFragment&quot;\r\n            app:enterAnim=&quot;@android:anim/slide_in_left&quot;\r\n            app:exitAnim=&quot;@android:anim/slide_out_right&quot;\r\n            app:popEnterAnim=&quot;@android:anim/slide_in_left&quot;\r\n            app:popExitAnim=&quot;@android:anim/slide_out_right&quot;/&gt;\r\n    &lt;/fragment&gt;","title":"New fragment transitioning over white background instead of old fragment","body":"<p>The tricky part is you have to define all the <strong>Anim</strong> field in the action.\nsomething like bellow:</p>\n<pre><code>&lt;fragment\n    android:id=&quot;@+id/profileFragment&quot;\n    android:name=&quot;sample.presentation.view.fragments.profile.ProfileFragment&quot;\n    android:label=&quot;fragment_profile&quot;\n    tools:layout=&quot;@layout/fragment_profile&quot; &gt;\n   \n    &lt;action\n        android:id=&quot;@+id/action_profileFragment_to_personalInfoFragment&quot;\n        app:destination=&quot;@id/personalInfoFragment&quot;\n        app:enterAnim=&quot;@android:anim/slide_in_left&quot;\n        app:exitAnim=&quot;@android:anim/slide_out_right&quot;\n        app:popEnterAnim=&quot;@android:anim/slide_in_left&quot;\n        app:popExitAnim=&quot;@android:anim/slide_out_right&quot;/&gt;\n&lt;/fragment&gt;\n</code></pre>\n"}],"owner":{"account_id":7299712,"reputation":85,"user_id":5563010,"display_name":"Darren"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1666176575,"creation_date":1552654876,"question_id":55183223,"body_markdown":"I am trying to transition between two fragments using this animation.\r\n\r\nProblem I have is when I transition using the following code. The animation slides in the new fragment over a white background instead of the old fragment.\r\n\r\nI want to either use .replace or create the exact same functionality as replace.\r\nI also want the animation to slide the new fragment over the old fragment.\r\n\r\n    FragmentTransaction transaction = MainActivity.instance.getSupportFragmentManager().beginTransaction();\r\n        transaction.setCustomAnimations(R.anim.slide_in_right, R.anim.slide_out_right, R.anim.slide_in_right, R.anim.slide_out_right);\r\n\r\n\r\n        transaction.replace(R.id.main_frame_content, fragment);\r\n        transaction.commit();\r\n\r\n        try {\r\n            fragmentManager.executePendingTransactions();\r\n        } catch (Exception e) {\r\n        }\r\n\r\n\r\nAnimations: \r\n\r\nSlide in right:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;translate\r\n        android:duration=&quot;300&quot;\r\n        android:fromXDelta=&quot;100%p&quot;\r\n        android:toXDelta=&quot;0&quot; /&gt;\r\n    &lt;/set&gt;\r\n\r\nslide out right: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;translate\r\n        android:duration=&quot;@android:integer/config_mediumAnimTime&quot;\r\n        android:fromXDelta=&quot;0&quot;\r\n        android:toXDelta=&quot;100%p&quot; /&gt;\r\n    &lt;/set&gt;","title":"New fragment transitioning over white background instead of old fragment","body":"<p>I am trying to transition between two fragments using this animation.</p>\n\n<p>Problem I have is when I transition using the following code. The animation slides in the new fragment over a white background instead of the old fragment.</p>\n\n<p>I want to either use .replace or create the exact same functionality as replace.\nI also want the animation to slide the new fragment over the old fragment.</p>\n\n<pre><code>FragmentTransaction transaction = MainActivity.instance.getSupportFragmentManager().beginTransaction();\n    transaction.setCustomAnimations(R.anim.slide_in_right, R.anim.slide_out_right, R.anim.slide_in_right, R.anim.slide_out_right);\n\n\n    transaction.replace(R.id.main_frame_content, fragment);\n    transaction.commit();\n\n    try {\n        fragmentManager.executePendingTransactions();\n    } catch (Exception e) {\n    }\n</code></pre>\n\n<p>Animations: </p>\n\n<p>Slide in right:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;set xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;translate\n    android:duration=\"300\"\n    android:fromXDelta=\"100%p\"\n    android:toXDelta=\"0\" /&gt;\n&lt;/set&gt;\n</code></pre>\n\n<p>slide out right: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;set xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;translate\n    android:duration=\"@android:integer/config_mediumAnimTime\"\n    android:fromXDelta=\"0\"\n    android:toXDelta=\"100%p\" /&gt;\n&lt;/set&gt;\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1152375,"reputation":103,"user_id":1133806,"display_name":"Manish Kumar"},"score":0,"creation_date":1666170274,"post_id":74122494,"comment_id":130869902,"body_markdown":"try this https://www.section.io/engineering-education/how-to-create-a-rest-api-using-spring-boot-maven-and-mysql/","body":"try this <a href=\"https://www.section.io/engineering-education/how-to-create-a-rest-api-using-spring-boot-maven-and-mysql/\" rel=\"nofollow noreferrer\">section.io/engineering-education/&hellip;</a>"},{"owner":{"account_id":26224393,"reputation":1,"user_id":19901286,"display_name":"SHUBHAM SHARMA"},"score":0,"creation_date":1666171104,"post_id":74122494,"comment_id":130870207,"body_markdown":"I am using Spring Suite Tool is it okay with it.","body":"I am using Spring Suite Tool is it okay with it."},{"owner":{"account_id":26224393,"reputation":1,"user_id":19901286,"display_name":"SHUBHAM SHARMA"},"score":0,"creation_date":1666174528,"post_id":74122494,"comment_id":130871465,"body_markdown":"I have to do it without database @Manish Kumar","body":"I have to do it without database @Manish Kumar"},{"owner":{"account_id":14902954,"reputation":743,"user_id":10761244,"display_name":"Ken"},"score":0,"creation_date":1666374187,"post_id":74122494,"comment_id":130930081,"body_markdown":"Please reference the Springboot docs https://spring.io/guides/tutorials/rest/","body":"Please reference the Springboot docs <a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"nofollow noreferrer\">spring.io/guides/tutorials/rest</a>"},{"owner":{"account_id":3321652,"reputation":712,"user_id":2792686,"display_name":"Joel Wigton"},"score":0,"creation_date":1666391561,"post_id":74122494,"comment_id":130934316,"body_markdown":"What is your question?","body":"What is your question?"}],"answers":[{"tags":[],"owner":{"account_id":9743027,"reputation":3,"user_id":7223898,"display_name":"Sanjeet Jagdev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666176560,"creation_date":1666176560,"answer_id":74124068,"question_id":74122494,"body_markdown":"Firstly you should consider changing the naming convention for your endpoint. You should be using HTTP Verbs (GET, POST, PUT etc.) instead of using endpoints like &quot;/getStudentList&quot; or &quot;/newStudent&quot;, use something like \r\n  \r\n\r\n      GET /students \r\n      POST /student\r\n\r\n\r\nRefer [this][1] for an introduction to creating APIs. Or you could look into Spring&#39;s own [guide][2]\r\n\r\n\r\n  [1]: https://www.javatpoint.com/spring-boot-rest-example\r\n  [2]: https://spring.io/guides/tutorials/rest/","title":"how to create API in Spring boot of student details","body":"<p>Firstly you should consider changing the naming convention for your endpoint. You should be using HTTP Verbs (GET, POST, PUT etc.) instead of using endpoints like &quot;/getStudentList&quot; or &quot;/newStudent&quot;, use something like</p>\n<pre><code>  GET /students \n  POST /student\n</code></pre>\n<p>Refer <a href=\"https://www.javatpoint.com/spring-boot-rest-example\" rel=\"nofollow noreferrer\">this</a> for an introduction to creating APIs. Or you could look into Spring's own <a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"nofollow noreferrer\">guide</a></p>\n"}],"owner":{"account_id":26224393,"reputation":1,"user_id":19901286,"display_name":"SHUBHAM SHARMA"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":433,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1666176560,"creation_date":1666169600,"question_id":74122494,"body_markdown":"I want to create the following api in spring boot and hit on the postman with Json.\r\nI have created a controller, repository and student class written the code in list format.\r\n```\r\nCreate a api while enters student data\r\n/newStudent\r\nReqeust Body:\r\n{\r\n&quot;name&quot;:&quot;Shubham&quot;,\r\n&quot;rollno&quot;:22,\r\n&quot;studentid&quot;:1\r\n}\r\n\r\nResponse: \r\n\r\n{\r\n&quot;status&quot;:&quot;OK&quot;,\r\n&quot;message&quot;:&quot;Data Added&quot;\r\n}\r\n\r\n\r\nCreate a api while enters studen marks\r\n/enterMarks\r\n\r\nRequest Body:\r\n\r\n{\r\n&quot;studenid&quot;:1,\r\n&quot;hindimarks&quot;:34,\r\n&quot;mathsmarks&quot;:12,\r\n&quot;scimarks&quot;:34,\r\n&quot;total&quot;:\r\n&quot;avg&quot;:\r\n&quot;status&quot;:\r\n}\r\n\r\nResponse: \r\n{\r\n&quot;status&quot;:&quot;OK&quot;,\r\n&quot;message&quot;:&quot;Data Added&quot;\r\n}\r\n\r\n\r\nCreate a api get get student list\r\n/getStudentList\r\n\r\nResponse:\r\n[\r\n {\r\n  &quot;name&quot;:&quot;Shubham&quot;,\r\n  &quot;rollno&quot;:22,\r\n  &quot;studentid&quot;:1\r\n },\r\n {\r\n  &quot;name&quot;:&quot;Aman&quot;,\r\n  &quot;rollno&quot;:22,\r\n  &quot;studentid&quot;:2\r\n }\r\n]\r\n```","title":"how to create API in Spring boot of student details","body":"<p>I want to create the following api in spring boot and hit on the postman with Json.\nI have created a controller, repository and student class written the code in list format.</p>\n<pre><code>Create a api while enters student data\n/newStudent\nReqeust Body:\n{\n&quot;name&quot;:&quot;Shubham&quot;,\n&quot;rollno&quot;:22,\n&quot;studentid&quot;:1\n}\n\nResponse: \n\n{\n&quot;status&quot;:&quot;OK&quot;,\n&quot;message&quot;:&quot;Data Added&quot;\n}\n\n\nCreate a api while enters studen marks\n/enterMarks\n\nRequest Body:\n\n{\n&quot;studenid&quot;:1,\n&quot;hindimarks&quot;:34,\n&quot;mathsmarks&quot;:12,\n&quot;scimarks&quot;:34,\n&quot;total&quot;:\n&quot;avg&quot;:\n&quot;status&quot;:\n}\n\nResponse: \n{\n&quot;status&quot;:&quot;OK&quot;,\n&quot;message&quot;:&quot;Data Added&quot;\n}\n\n\nCreate a api get get student list\n/getStudentList\n\nResponse:\n[\n {\n  &quot;name&quot;:&quot;Shubham&quot;,\n  &quot;rollno&quot;:22,\n  &quot;studentid&quot;:1\n },\n {\n  &quot;name&quot;:&quot;Aman&quot;,\n  &quot;rollno&quot;:22,\n  &quot;studentid&quot;:2\n }\n]\n</code></pre>\n"},{"tags":["java","spring","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":4151180,"reputation":880,"user_id":3403603,"display_name":"neal"},"score":0,"creation_date":1666041466,"post_id":74100613,"comment_id":130837323,"body_markdown":"Selenium seems heavy handed for the purpose of scraping data.  You could use Jsoup instead.  Your issue may be a duplicate.  Here&#39;s a similar thread: https://stackoverflow.com/questions/70053080/noclassdeffounderror-org-openqa-selenium-virtualauthenticator-hasvirtualauthent","body":"Selenium seems heavy handed for the purpose of scraping data.  You could use Jsoup instead.  Your issue may be a duplicate.  Here&#39;s a similar thread: <a href=\"https://stackoverflow.com/questions/70053080/noclassdeffounderror-org-openqa-selenium-virtualauthenticator-hasvirtualauthent\" title=\"noclassdeffounderror org openqa selenium virtualauthenticator hasvirtualauthent\">stackoverflow.com/questions/70053080/&hellip;</a>"},{"owner":{"account_id":26005788,"reputation":5,"user_id":19715509,"display_name":"Liudmila Zavyalova"},"score":0,"creation_date":1666176185,"post_id":74100613,"comment_id":130872051,"body_markdown":"Thanks @neal, but I tried this and also I use Gradle instead of Maven, and maybe because of it these answers are wrong for me.","body":"Thanks @neal, but I tried this and also I use Gradle instead of Maven, and maybe because of it these answers are wrong for me."}],"answers":[{"tags":[],"owner":{"account_id":26005788,"reputation":5,"user_id":19715509,"display_name":"Liudmila Zavyalova"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666176449,"creation_date":1666176449,"answer_id":74124039,"question_id":74100613,"body_markdown":"I found the answer on my own. It turned out that it was enough for Gradle to remove the versions altogether. Spring pulls those versions that are relevant for work.\r\n\r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \timplementation group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.12.0&#39;\r\n    \timplementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-api&#39;\r\n    \timplementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-chrome-driver&#39;\r\n    \timplementation group: &#39;org.jsoup&#39;, name: &#39;jsoup&#39;, version: &#39;1.15.3&#39;\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }","title":"java.lang.NoClassDefFoundError: org/openqa/selenium/virtualauthenticator/HasVirtualAuthenticator with Gradle, Selenium and ChromeDriver","body":"<p>I found the answer on my own. It turned out that it was enough for Gradle to remove the versions altogether. Spring pulls those versions that are relevant for work.</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.12.0'\n    implementation group: 'org.seleniumhq.selenium', name: 'selenium-api'\n    implementation group: 'org.seleniumhq.selenium', name: 'selenium-chrome-driver'\n    implementation group: 'org.jsoup', name: 'jsoup', version: '1.15.3'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n"}],"owner":{"account_id":26005788,"reputation":5,"user_id":19715509,"display_name":"Liudmila Zavyalova"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74124039,"answer_count":1,"score":0,"last_activity_date":1666176449,"creation_date":1666025510,"question_id":74100613,"body_markdown":"I&#39;m new to this, I want to take html from the url. I decided to try to use Selenium and sketched a service that looks like this:\r\n\r\n    package dataox.keithgellmanrestaurantmenuscraping;\r\n    \r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.log4j.Log4j2;\r\n    import org.apache.commons.lang3.RandomUtils;\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.nodes.Element;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    import org.springframework.boot.context.event.ApplicationReadyEvent;\r\n    import org.springframework.context.event.EventListener;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Log4j2\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class ParserService {\r\n    \r\n            private final ChromeOptions options = new ChromeOptions();\r\n        \r\n        \r\n            @EventListener(ApplicationReadyEvent.class)\r\n            public void a() {\r\n                String url = &quot;some url&quot;;\r\n                WebDriver webDriver = getWebDriver(url);\r\n                log.info(webDriver.getPageSource());\r\n                quitWebdriver(webDriver);\r\n            }\r\n        \r\n            private WebDriver getWebDriver(String url) {\r\n                WebDriver webDriver = new ChromeDriver(options);\r\n                webDriver.get(url);\r\n                return webDriver;\r\n            }\r\n        \r\n            private void quitWebdriver(WebDriver webDriver) {\r\n                webDriver.close();\r\n                webDriver.quit();\r\n            }\r\n    }\r\n\r\nWhen I launch it, I get the following error at the moment &quot;WebDriver webDriver = new ChromeDriver(options)&quot;:\r\n\r\n    java.lang.reflect.UndeclaredThrowableException: Failed to invoke event listener method\r\n    HandlerMethod details: \r\n    Bean [dataox.keithgellmanrestaurantmenuscraping.ParserService]\r\n    Method [public void dataox.keithgellmanrestaurantmenuscraping.ParserService.a()]\r\n    Resolved arguments: \r\n    \r\n    Caused by: java.lang.NoClassDefFoundError: org/openqa/selenium/virtualauthenticator/HasVirtualAuthenticator\r\n\r\nI work with Gradle, my gradle.build looks like this:\r\n\r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \timplementation group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.12.0&#39;\r\n    \timplementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-api&#39;, version: &#39;3.141.59&#39;\r\n    \timplementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-chrome-driver&#39;, version: &#39;3.141.59&#39;\r\n    \timplementation group: &#39;org.jsoup&#39;, name: &#39;jsoup&#39;, version: &#39;1.15.3&#39;\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    } \r\n\r\nWhat is the best thing to do in this situation?","title":"java.lang.NoClassDefFoundError: org/openqa/selenium/virtualauthenticator/HasVirtualAuthenticator with Gradle, Selenium and ChromeDriver","body":"<p>I'm new to this, I want to take html from the url. I decided to try to use Selenium and sketched a service that looks like this:</p>\n<pre><code>package dataox.keithgellmanrestaurantmenuscraping;\n\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.log4j.Log4j2;\nimport org.apache.commons.lang3.RandomUtils;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.springframework.boot.context.event.ApplicationReadyEvent;\nimport org.springframework.context.event.EventListener;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Log4j2\n@Service\n@RequiredArgsConstructor\npublic class ParserService {\n\n        private final ChromeOptions options = new ChromeOptions();\n    \n    \n        @EventListener(ApplicationReadyEvent.class)\n        public void a() {\n            String url = &quot;some url&quot;;\n            WebDriver webDriver = getWebDriver(url);\n            log.info(webDriver.getPageSource());\n            quitWebdriver(webDriver);\n        }\n    \n        private WebDriver getWebDriver(String url) {\n            WebDriver webDriver = new ChromeDriver(options);\n            webDriver.get(url);\n            return webDriver;\n        }\n    \n        private void quitWebdriver(WebDriver webDriver) {\n            webDriver.close();\n            webDriver.quit();\n        }\n}\n</code></pre>\n<p>When I launch it, I get the following error at the moment &quot;WebDriver webDriver = new ChromeDriver(options)&quot;:</p>\n<pre><code>java.lang.reflect.UndeclaredThrowableException: Failed to invoke event listener method\nHandlerMethod details: \nBean [dataox.keithgellmanrestaurantmenuscraping.ParserService]\nMethod [public void dataox.keithgellmanrestaurantmenuscraping.ParserService.a()]\nResolved arguments: \n\nCaused by: java.lang.NoClassDefFoundError: org/openqa/selenium/virtualauthenticator/HasVirtualAuthenticator\n</code></pre>\n<p>I work with Gradle, my gradle.build looks like this:</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.12.0'\n    implementation group: 'org.seleniumhq.selenium', name: 'selenium-api', version: '3.141.59'\n    implementation group: 'org.seleniumhq.selenium', name: 'selenium-chrome-driver', version: '3.141.59'\n    implementation group: 'org.jsoup', name: 'jsoup', version: '1.15.3'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n} \n</code></pre>\n<p>What is the best thing to do in this situation?</p>\n"},{"tags":["java","multidimensional-array"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1666177368,"post_id":74123806,"comment_id":130872438,"body_markdown":"I would create `List&lt;Integer&gt;` containing all lotto numbers. Shuffle them with `Collections` and pick the first 15 for each row","body":"I would create <code>List&lt;Integer&gt;</code> containing all lotto numbers. Shuffle them with <code>Collections</code> and pick the first 15 for each row"}],"owner":{"account_id":26669562,"reputation":11,"user_id":20281168,"display_name":"Sszymon877"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666176019,"creation_date":1666175294,"question_id":74123806,"body_markdown":"I have a problem with generating non-repetitive random numbers using Math.random in Java. Numbers should be generated in each row of 2d array (each row is of predefined 15 numbers length). Each row of array should have numbers generated within set: 1 - 49. \r\n\r\nSo, for example the output should look like:\r\n\r\n```none\r\n{1,4,5,8,16,21,24,28,32,34,43,45,46,47,48}\r\n{2,5,6,7,8,11,16,19,24,27,34,35,36,45,49}\r\n```\r\n\r\nI wrote a function called generateLottos() of type returning: [][], so 2D Array, but I can&#39;t get an array of even more like 2 rows with non-repeated numbers, because the program doesn&#39;t show anything in console and looks like it runs in an infinite loop.\r\n\r\nFunction generateLottos() works like this:\r\n\r\n```java\r\npublic int [][] generateLottos(int[][] arrOfLottos){\r\n    boolean[] numbers = new boolean[MAX_NUM + 1];\r\n    int random;\r\n\r\n    for (int i=1; i&lt;=MAX_NUM; i++){\r\n        numbers[i] = false;\r\n    }\r\n\r\n    for (int i=0; i&lt; arrOfLottos.length; i++){\r\n        for (int j=0; j&lt;arrOfLottos[i].length; j++){\r\n            do {\r\n                random = (int) Math.floor(Math.random() *49 +1);\r\n            }while (numbers[random]);\r\n\r\n            arrOfLottos[i][j] = random;\r\n            numbers[random] =true;\r\n        }\r\n        if (i!=0) {\r\n            for (int k=1; k&lt;= MAX_NUM; k++){\r\n                numbers[i] = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    return arrOfLottos;\r\n}\r\n```\r\n\r\nBoolean array: boolean[] numbers = new boolean[MAX_NUM + 1]; is used to create an array of boolean which each index has value from 1 to MAX_NUM = 49 and is at the start set to false:\r\n\r\n```java\r\nboolean[] numbers = new boolean[MAX_NUM + 1];\r\nint random;\r\n\r\nfor (int i=1; i&lt;=MAX_NUM; i++){\r\n    numbers[i] = false;\r\n}\r\n```\r\n        \r\nThis array of boolean makes sure that the numbers in each row do not repeat. It is nested in for loop with do while instruction to generate random number. Instruction if(i!=0) sets boolean numbers to false for generating next row of non repeated random numbers:\r\n\r\n```java\r\nfor (int i=0; i&lt; arrOfLottos.length; i++){\r\n    for (int j=0; j&lt;arrOfLottos[i].length; j++){\r\n        do {\r\n            random = (int) Math.floor(Math.random() *49 +1);\r\n        }while (numbers[random]);\r\n\r\n        arrOfLottos[i][j] = random;\r\n        numbers[random] =true;\r\n    }\r\n    if (i!=0) {\r\n        for (int k=1; k&lt;= MAX_NUM; k++){\r\n            numbers[i] = false;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe code for whole program looks like this:\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\nclass LottoSorting {\r\n\r\n    private static final Scanner scanner = new Scanner(System.in);\r\n    private static final int drawSize = 15; // size of each row of an array\r\n\r\n    private static final int MAX_NUM = 49; //Max number possible to generate using rand function\r\n\r\n    // Function to get array&#39;s number of rows\r\n    public int[][] getLottosArr(){\r\n        System.out.println(&quot;Please enter number of draws to generate: &quot;);\r\n\r\n        int drawsNum = scanner.nextInt();\r\n\r\n        int[][] lottosArr = new int[drawsNum][drawSize];\r\n        scanner.close();\r\n\r\n        return lottosArr;\r\n    }\r\n\r\n    public int [][] generateLottos(int[][] arrOfLottos){\r\n        boolean[] numbers = new boolean[MAX_NUM + 1];\r\n        int random;\r\n\r\n        for (int i=1; i&lt;=MAX_NUM; i++){\r\n            numbers[i] = false;\r\n        }\r\n\r\n        for (int i=0; i&lt; arrOfLottos.length; i++){\r\n            for (int j=0; j&lt;arrOfLottos[i].length; j++){\r\n                do {\r\n                    random = (int) Math.floor(Math.random() *49 +1);\r\n                }while (numbers[random]);\r\n\r\n                arrOfLottos[i][j] = random;\r\n                numbers[random] =true;\r\n            }\r\n            if (i!=0) {\r\n                for (int k=1; k&lt;= MAX_NUM; k++){\r\n                    numbers[i] = false;\r\n                }\r\n            }\r\n        }\r\n\r\n        return arrOfLottos;\r\n    }\r\n\r\n\r\n    public void printArray(int [][] lottosArr){\r\n        System.out.println(&quot;lottos array:&quot;);\r\n\r\n        for (int i=0; i&lt; lottosArr.length; i++){\r\n            for (int j=0; j&lt; lottosArr[i].length; j++){\r\n                if ( j==0){\r\n                    System.out.println(&quot;\\n Draw nr: &quot; + (i+1));\r\n                }else  {\r\n                    System.out.print(&quot; &quot;);\r\n                }\r\n                System.out.print(lottosArr[i][j]);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n```java\r\nclass Lotto {\r\n\r\n    public static void main(String[] args) {\r\n        LottoSorting lottoSorting = new LottoSorting();\r\n\r\n        lottoSorting.printArray(lottoSorting.generateLottos(\r\n                lottoSorting.getLottosArr()\r\n        ));\r\n    }\r\n}\r\n```","title":"Problem with generating non-repetitive random numbers in each row of a 2D array in Java","body":"<p>I have a problem with generating non-repetitive random numbers using Math.random in Java. Numbers should be generated in each row of 2d array (each row is of predefined 15 numbers length). Each row of array should have numbers generated within set: 1 - 49.</p>\n<p>So, for example the output should look like:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{1,4,5,8,16,21,24,28,32,34,43,45,46,47,48}\n{2,5,6,7,8,11,16,19,24,27,34,35,36,45,49}\n</code></pre>\n<p>I wrote a function called generateLottos() of type returning: [][], so 2D Array, but I can't get an array of even more like 2 rows with non-repeated numbers, because the program doesn't show anything in console and looks like it runs in an infinite loop.</p>\n<p>Function generateLottos() works like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int [][] generateLottos(int[][] arrOfLottos){\n    boolean[] numbers = new boolean[MAX_NUM + 1];\n    int random;\n\n    for (int i=1; i&lt;=MAX_NUM; i++){\n        numbers[i] = false;\n    }\n\n    for (int i=0; i&lt; arrOfLottos.length; i++){\n        for (int j=0; j&lt;arrOfLottos[i].length; j++){\n            do {\n                random = (int) Math.floor(Math.random() *49 +1);\n            }while (numbers[random]);\n\n            arrOfLottos[i][j] = random;\n            numbers[random] =true;\n        }\n        if (i!=0) {\n            for (int k=1; k&lt;= MAX_NUM; k++){\n                numbers[i] = false;\n            }\n        }\n    }\n\n    return arrOfLottos;\n}\n</code></pre>\n<p>Boolean array: boolean[] numbers = new boolean[MAX_NUM + 1]; is used to create an array of boolean which each index has value from 1 to MAX_NUM = 49 and is at the start set to false:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean[] numbers = new boolean[MAX_NUM + 1];\nint random;\n\nfor (int i=1; i&lt;=MAX_NUM; i++){\n    numbers[i] = false;\n}\n</code></pre>\n<p>This array of boolean makes sure that the numbers in each row do not repeat. It is nested in for loop with do while instruction to generate random number. Instruction if(i!=0) sets boolean numbers to false for generating next row of non repeated random numbers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i=0; i&lt; arrOfLottos.length; i++){\n    for (int j=0; j&lt;arrOfLottos[i].length; j++){\n        do {\n            random = (int) Math.floor(Math.random() *49 +1);\n        }while (numbers[random]);\n\n        arrOfLottos[i][j] = random;\n        numbers[random] =true;\n    }\n    if (i!=0) {\n        for (int k=1; k&lt;= MAX_NUM; k++){\n            numbers[i] = false;\n        }\n    }\n}\n</code></pre>\n<p>The code for whole program looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\nclass LottoSorting {\n\n    private static final Scanner scanner = new Scanner(System.in);\n    private static final int drawSize = 15; // size of each row of an array\n\n    private static final int MAX_NUM = 49; //Max number possible to generate using rand function\n\n    // Function to get array's number of rows\n    public int[][] getLottosArr(){\n        System.out.println(&quot;Please enter number of draws to generate: &quot;);\n\n        int drawsNum = scanner.nextInt();\n\n        int[][] lottosArr = new int[drawsNum][drawSize];\n        scanner.close();\n\n        return lottosArr;\n    }\n\n    public int [][] generateLottos(int[][] arrOfLottos){\n        boolean[] numbers = new boolean[MAX_NUM + 1];\n        int random;\n\n        for (int i=1; i&lt;=MAX_NUM; i++){\n            numbers[i] = false;\n        }\n\n        for (int i=0; i&lt; arrOfLottos.length; i++){\n            for (int j=0; j&lt;arrOfLottos[i].length; j++){\n                do {\n                    random = (int) Math.floor(Math.random() *49 +1);\n                }while (numbers[random]);\n\n                arrOfLottos[i][j] = random;\n                numbers[random] =true;\n            }\n            if (i!=0) {\n                for (int k=1; k&lt;= MAX_NUM; k++){\n                    numbers[i] = false;\n                }\n            }\n        }\n\n        return arrOfLottos;\n    }\n\n\n    public void printArray(int [][] lottosArr){\n        System.out.println(&quot;lottos array:&quot;);\n\n        for (int i=0; i&lt; lottosArr.length; i++){\n            for (int j=0; j&lt; lottosArr[i].length; j++){\n                if ( j==0){\n                    System.out.println(&quot;\\n Draw nr: &quot; + (i+1));\n                }else  {\n                    System.out.print(&quot; &quot;);\n                }\n                System.out.print(lottosArr[i][j]);\n            }\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Lotto {\n\n    public static void main(String[] args) {\n        LottoSorting lottoSorting = new LottoSorting();\n\n        lottoSorting.printArray(lottoSorting.generateLottos(\n                lottoSorting.getLottosArr()\n        ));\n    }\n}\n</code></pre>\n"},{"tags":["java","flutter","spring-boot","macos","ssl"],"comments":[{"owner":{"account_id":7268394,"reputation":1726,"user_id":5542309,"display_name":"Navneet kumar"},"score":0,"creation_date":1666178920,"post_id":74123947,"comment_id":130872997,"body_markdown":"what is the value of `Endpoints.register` ?","body":"what is the value of <code>Endpoints.register</code> ?"},{"owner":{"account_id":22402724,"reputation":101,"user_id":16612843,"display_name":"Seema Sharma"},"score":0,"creation_date":1666180165,"post_id":74123947,"comment_id":130873461,"body_markdown":"`&#39;https://192.168.1.33:8080/authentication/register&#39;`","body":"<code>&#39;https:&#47;&#47;192.168.1.33:8080&#47;authentication&#47;register&#39;</code>"}],"owner":{"account_id":22402724,"reputation":101,"user_id":16612843,"display_name":"Seema Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666175986,"creation_date":1666175986,"question_id":74123947,"body_markdown":"I am creating a Flutter frontend for Android. I have already created a Springboot backend which is **SSL Secured**(secured locally) and is secured by SpringbootSecurity. From the frontend I am trying to send request to my backend but local server is receiving no request.\r\nHere is my flutter class which is sending request code,\r\n```\r\nimport &#39;dart:convert&#39;;\r\nimport &#39;dart:developer&#39;;\r\nimport &#39;dart:io&#39;;\r\n\r\nimport &#39;package:flutter/rendering.dart&#39;;\r\nimport &#39;package:http/http.dart&#39; as http;\r\nimport &#39;package:test_flutter/enpoints.dart&#39;;\r\n\r\nclass ApiService {\r\n  Future register(String username, String password) async {\r\n    // HttpClientRequest req = HttpClientRequest()\r\n    try {\r\n      Uri url = Uri.parse(Endpoints.register);\r\n      print(url);\r\n      var response =\r\n          await http.post(url, body: {&quot;email&quot;: username, &quot;password&quot;: password});\r\n      print(response.body);\r\n      if (response.statusCode == 200) {\r\n        print(response.body);\r\n        return response.body;\r\n      }\r\n    } catch (e) {\r\n      log(e.toString());\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nHere is my Springboot Security configurations\r\n```\r\n@EnableWebSecurity\r\npublic class SecurityConfigurations {\r\n\r\n    @Autowired\r\n    private JWTAuthenticationFilter jwtAuthenticationFilter;\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain configureHttpSecurity(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity.authorizeRequests().antMatchers(&quot;/authentication/**&quot;, &quot;/public/**&quot;)\r\n                .permitAll();\r\n        httpSecurity.authorizeRequests().antMatchers(&quot;/api/**&quot;).authenticated();\r\n        httpSecurity.formLogin().disable();\r\n        httpSecurity.httpBasic().disable();\r\n        httpSecurity.csrf().disable();\r\n        httpSecurity.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        httpSecurity.cors().configurationSource(corsConfigSource());\r\n        // httpSecurity.cors().disable();\r\n        httpSecurity.addFilterBefore(jwtAuthenticationFilter,\r\n                UsernamePasswordAuthenticationFilter.class);\r\n        return httpSecurity.build();\r\n    }\r\n\r\n    @Bean\r\n    public UrlBasedCorsConfigurationSource corsConfigSource() {\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        CorsConfiguration config = new CorsConfiguration();\r\n        config.setAllowCredentials(true);\r\n        config.addAllowedOrigin(&quot;*&quot;);\r\n        config.addAllowedHeader(&quot;*&quot;);\r\n        config.addAllowedMethod(&quot;*&quot;);\r\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\r\n        return source;\r\n    }\r\n}\r\n```\r\nSSL configured in properties file\r\n```\r\nserver.port=8080\r\nserver.ssl.enabled=true\r\nserver.ssl.key-alias=local_ssl\r\nserver.ssl.key-store-password=keystore\r\nserver.ssl.key-password=keystore\r\nserver.ssl.key-store-type=PKCS12\r\nserver.ssl.key-store=classpath:local-ssl.p12\r\n```\r\n\r\nNow, to test the issue I also created a fresh sprinboot app with not SSL and SpringbootSecurity and exposed a `/test` api. Flutter was able to send request to this backend and get response.\r\nCan someone tell me what is the problem with my frontend or backend code. Btw, I am using Macbook. I would also like to list potential issue which I think might cause the issue,\r\n* Wrong Flutter code(maybe incorrect headers)\r\n* Springboot Security not configured properly\r\n* SSL causing the problem\r\n* Mac is stop the request because of SSL certificate(not sure)\r\n\r\nP.S. Springboot backed is running locally. Have tried running flutter on actual device and emulator. Firewall on Mac is turned off.","title":"Flutter not able send request to Springboot backend","body":"<p>I am creating a Flutter frontend for Android. I have already created a Springboot backend which is <strong>SSL Secured</strong>(secured locally) and is secured by SpringbootSecurity. From the frontend I am trying to send request to my backend but local server is receiving no request.\nHere is my flutter class which is sending request code,</p>\n<pre><code>import 'dart:convert';\nimport 'dart:developer';\nimport 'dart:io';\n\nimport 'package:flutter/rendering.dart';\nimport 'package:http/http.dart' as http;\nimport 'package:test_flutter/enpoints.dart';\n\nclass ApiService {\n  Future register(String username, String password) async {\n    // HttpClientRequest req = HttpClientRequest()\n    try {\n      Uri url = Uri.parse(Endpoints.register);\n      print(url);\n      var response =\n          await http.post(url, body: {&quot;email&quot;: username, &quot;password&quot;: password});\n      print(response.body);\n      if (response.statusCode == 200) {\n        print(response.body);\n        return response.body;\n      }\n    } catch (e) {\n      log(e.toString());\n    }\n  }\n}\n</code></pre>\n<p>Here is my Springboot Security configurations</p>\n<pre><code>@EnableWebSecurity\npublic class SecurityConfigurations {\n\n    @Autowired\n    private JWTAuthenticationFilter jwtAuthenticationFilter;\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain configureHttpSecurity(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.authorizeRequests().antMatchers(&quot;/authentication/**&quot;, &quot;/public/**&quot;)\n                .permitAll();\n        httpSecurity.authorizeRequests().antMatchers(&quot;/api/**&quot;).authenticated();\n        httpSecurity.formLogin().disable();\n        httpSecurity.httpBasic().disable();\n        httpSecurity.csrf().disable();\n        httpSecurity.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        httpSecurity.cors().configurationSource(corsConfigSource());\n        // httpSecurity.cors().disable();\n        httpSecurity.addFilterBefore(jwtAuthenticationFilter,\n                UsernamePasswordAuthenticationFilter.class);\n        return httpSecurity.build();\n    }\n\n    @Bean\n    public UrlBasedCorsConfigurationSource corsConfigSource() {\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowCredentials(true);\n        config.addAllowedOrigin(&quot;*&quot;);\n        config.addAllowedHeader(&quot;*&quot;);\n        config.addAllowedMethod(&quot;*&quot;);\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\n        return source;\n    }\n}\n</code></pre>\n<p>SSL configured in properties file</p>\n<pre><code>server.port=8080\nserver.ssl.enabled=true\nserver.ssl.key-alias=local_ssl\nserver.ssl.key-store-password=keystore\nserver.ssl.key-password=keystore\nserver.ssl.key-store-type=PKCS12\nserver.ssl.key-store=classpath:local-ssl.p12\n</code></pre>\n<p>Now, to test the issue I also created a fresh sprinboot app with not SSL and SpringbootSecurity and exposed a <code>/test</code> api. Flutter was able to send request to this backend and get response.\nCan someone tell me what is the problem with my frontend or backend code. Btw, I am using Macbook. I would also like to list potential issue which I think might cause the issue,</p>\n<ul>\n<li>Wrong Flutter code(maybe incorrect headers)</li>\n<li>Springboot Security not configured properly</li>\n<li>SSL causing the problem</li>\n<li>Mac is stop the request because of SSL certificate(not sure)</li>\n</ul>\n<p>P.S. Springboot backed is running locally. Have tried running flutter on actual device and emulator. Firewall on Mac is turned off.</p>\n"},{"tags":["java","performance","oop","optimization","boolean"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1666174208,"post_id":74123555,"comment_id":130871347,"body_markdown":"Having this many flags is a bit of a dubious design. Could you represent things by an enum, and use an EnumSet instead?","body":"Having this many flags is a bit of a dubious design. Could you represent things by an enum, and use an EnumSet instead?"},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666174431,"post_id":74123555,"comment_id":130871430,"body_markdown":"@AndyTurner: I can&#39;t change the code unfortunately (at least not at the moment)","body":"@AndyTurner: I can&#39;t change the code unfortunately (at least not at the moment)"},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666174534,"post_id":74123555,"comment_id":130871469,"body_markdown":"@AndyTurner: If you want to provide some solution for enumset, that is welcome too although I wont be able to use it for the time being as I can&#39;t change that class as mentioned","body":"@AndyTurner: If you want to provide some solution for enumset, that is welcome too although I wont be able to use it for the time being as I can&#39;t change that class as mentioned"}],"answers":[{"comments":[{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666175124,"post_id":74123717,"comment_id":130871690,"body_markdown":"Is there also some bitwise alternative that could be more efficient?","body":"Is there also some bitwise alternative that could be more efficient?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1666175276,"post_id":74123717,"comment_id":130871732,"body_markdown":"Efficient in what terms? Do you have a reason to think that oring all the flags together is a performance problem for your application?","body":"Efficient in what terms? Do you have a reason to think that oring all the flags together is a performance problem for your application?"},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":1,"creation_date":1666175407,"post_id":74123717,"comment_id":130871787,"body_markdown":"@tgdavies: no, strictly speaking I think you are right. It is more of a learning in case it is useful than thinking that the alternative would be much more performant. btw oring wouldn&#39;t work I think","body":"@tgdavies: no, strictly speaking I think you are right. It is more of a learning in case it is useful than thinking that the alternative would be much more performant. btw oring wouldn&#39;t work I think"},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1666184369,"post_id":74123717,"comment_id":130875139,"body_markdown":"@Jim, we have only two options: check all the properties explicite using `||` operator or use Reflection. Take a look on the @Sanjeet Jagdev answer. It is not totally bad idea to have set of boolean properties in configuration `POJO`. Every solution has it drawbacks. If this method will be used a lot implement it explicite. If this method will be used only once for a while you can use Reflection and will not notice any performance issue.","body":"@Jim, we have only two options: check all the properties explicite using <code>||</code> operator or use Reflection. Take a look on the @Sanjeet Jagdev answer. It is not totally bad idea to have set of boolean properties in configuration <code>POJO</code>. Every solution has it drawbacks. If this method will be used a lot implement it explicite. If this method will be used only once for a while you can use Reflection and will not notice any performance issue."}],"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666174829,"creation_date":1666174829,"answer_id":74123717,"question_id":74123555,"body_markdown":"Add `isAnyTrue()` method to the `Foo` and check all properties:\r\n```java\r\npublic boolean isAnyTrue() {\r\n    return isA || isB || ... || isY;\r\n}\r\n```\r\n\r\nIf the number of properties is too big to handle it in this way, you can use [Reflection][1] to find all `boolean` properties and check if any is set to `true`.\r\n\r\n\r\n  [1]: https://www.oracle.com/technical-resources/articles/java/javareflection.html","title":"Determine if any boolean flag is true","body":"<p>Add <code>isAnyTrue()</code> method to the <code>Foo</code> and check all properties:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isAnyTrue() {\n    return isA || isB || ... || isY;\n}\n</code></pre>\n<p>If the number of properties is too big to handle it in this way, you can use <a href=\"https://www.oracle.com/technical-resources/articles/java/javareflection.html\" rel=\"nofollow noreferrer\">Reflection</a> to find all <code>boolean</code> properties and check if any is set to <code>true</code>.</p>\n"},{"comments":[{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":1,"creation_date":1666183872,"post_id":74123903,"comment_id":130874949,"body_markdown":"If any of the property is true, method should return `true`. You do not need to scan all properties. So, you can improve your method by returning `true` if condition in for-each loop is met. At the end `return false`. You do not need to `hasTrue` variable.","body":"If any of the property is true, method should return <code>true</code>. You do not need to scan all properties. So, you can improve your method by returning <code>true</code> if condition in for-each loop is met. At the end <code>return false</code>. You do not need to <code>hasTrue</code> variable."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1667491110,"post_id":74123903,"comment_id":131184126,"body_markdown":"Regardless of the performance impact, you should use `field.getType() == boolean.class` instead of comparing names. Further, you can use `field.getBoolean(test)` instead of getting an `Object` and casting it to `boolean`. The entire code can be simplified to `Foo test = new Foo(); for(var field : Foo.class.getDeclaredFields()) { if(field.getType() == boolean.class &amp;&amp; field.getBoolean(test); return true; } return false;`","body":"Regardless of the performance impact, you should use <code>field.getType() == boolean.class</code> instead of comparing names. Further, you can use <code>field.getBoolean(test)</code> instead of getting an <code>Object</code> and casting it to <code>boolean</code>. The entire code can be simplified to <code>Foo test = new Foo(); for(var field : Foo.class.getDeclaredFields()) { if(field.getType() == boolean.class &amp;&amp; field.getBoolean(test); return true; } return false;</code>"}],"tags":[],"owner":{"account_id":9743027,"reputation":3,"user_id":7223898,"display_name":"Sanjeet Jagdev"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666175828,"creation_date":1666175828,"answer_id":74123903,"question_id":74123555,"body_markdown":"First of all, I think this is a bad way to do things. But none the less since you mentioned that you can&#39;t change the code as of now. Maybe you could look into Reflection, which again isn&#39;t the most optimized way to do it. \r\n\r\n    public boolean isTruePresent() throws IllegalAccessException {\r\n        var fields = Foo.class.getDeclaredFields();\r\n        Foo test = new Foo();\r\n        boolean hasTrue = false;\r\n\r\n        for(var field : fields) {\r\n            if(field.getType().getSimpleName().equals(&quot;boolean&quot;)) {\r\n                hasTrue = hasTrue || (boolean) field.get(test);\r\n            }\r\n        }\r\n        return hasTrue;\r\n    }\r\n\r\n","title":"Determine if any boolean flag is true","body":"<p>First of all, I think this is a bad way to do things. But none the less since you mentioned that you can't change the code as of now. Maybe you could look into Reflection, which again isn't the most optimized way to do it.</p>\n<pre><code>public boolean isTruePresent() throws IllegalAccessException {\n    var fields = Foo.class.getDeclaredFields();\n    Foo test = new Foo();\n    boolean hasTrue = false;\n\n    for(var field : fields) {\n        if(field.getType().getSimpleName().equals(&quot;boolean&quot;)) {\n            hasTrue = hasTrue || (boolean) field.get(test);\n        }\n    }\n    return hasTrue;\n}\n</code></pre>\n"}],"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1666175828,"creation_date":1666174072,"question_id":74123555,"body_markdown":"There is a class that is like a structure for flags. I.e. it is comprised of flags.  \r\nE.g.  \r\n\r\n    public class Foo { \r\n      boolean isA;  \r\n      boolean isB;  \r\n      boolean isC;  \r\n      boolean isD;  \r\n      boolean isE;  \r\n      boolean isX;  \r\n      boolean isY;  \r\n    }\r\nI need to check at some point if at least one of the flags is `true`. \r\nBesides a series of `if` statements e.g.  \r\n\r\n    boolean isAnyTrue = false;  \r\n    if(foo.isA) isAnyTrue = true; \r\n    else if(foo.isB) isAnyTrue = true;\r\n    else if(foo.isC) isAnyTrue = true;\r\n    else if(foo.isD) isAnyTrue = true;\r\n    else if(foo.isE) isAnyTrue = true;  \r\n    else if(foo.isX) isAnyTrue = true;  \r\n    else if(foo.isY) isAnyTrue = true;\r\n\r\nOr   \r\n\r\n    boolean isAnyTrue = foo.isA || foo.isB || foo.isC || foo.isD || foo.isE || foo.isX || foo.isY;  \r\n\r\nIs there any other way to achieve this?\r\n\r\n","title":"Determine if any boolean flag is true","body":"<p>There is a class that is like a structure for flags. I.e. it is comprised of flags.<br />\nE.g.</p>\n<pre><code>public class Foo { \n  boolean isA;  \n  boolean isB;  \n  boolean isC;  \n  boolean isD;  \n  boolean isE;  \n  boolean isX;  \n  boolean isY;  \n}\n</code></pre>\n<p>I need to check at some point if at least one of the flags is <code>true</code>.\nBesides a series of <code>if</code> statements e.g.</p>\n<pre><code>boolean isAnyTrue = false;  \nif(foo.isA) isAnyTrue = true; \nelse if(foo.isB) isAnyTrue = true;\nelse if(foo.isC) isAnyTrue = true;\nelse if(foo.isD) isAnyTrue = true;\nelse if(foo.isE) isAnyTrue = true;  \nelse if(foo.isX) isAnyTrue = true;  \nelse if(foo.isY) isAnyTrue = true;\n</code></pre>\n<p>Or</p>\n<pre><code>boolean isAnyTrue = foo.isA || foo.isB || foo.isC || foo.isD || foo.isE || foo.isX || foo.isY;  \n</code></pre>\n<p>Is there any other way to achieve this?</p>\n"},{"tags":["java","gradle","dependencies","build.gradle","legacy"],"answers":[{"tags":[],"owner":{"account_id":146011,"reputation":4322,"user_id":356199,"display_name":"Peter Ledbrook"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1524813948,"creation_date":1524813948,"answer_id":50057411,"question_id":50054359,"body_markdown":"I can&#39;t say I understand what&#39;s happening in that build and I feel your pain. The first thing I would say is that  [composite builds][1] may offer a pathway to a &quot;normal&quot;, maintainable build, allowing you to keep _robotcontroller_ as a separate project. If you go down this route, you will have to remove the `include &quot;:robotcontroller&quot; from the parent&#39;s _settings.gradle_ file and replace it with the equivalent composite build configuration.\r\n\r\nThat said, I think you can get this working fairly easily, because most of the pieces appear to be in place. I would do this:\r\n\r\n  1. Move all of those JARs currently in _plugins/*/libs_ into _robotcontroller/libs_, adding a version to their file names\r\n\r\n  2. Update all the dependencies on those JARs so that they include the appropriate version\r\n\r\n  3. Remove the _&lt;rootProject&gt;/robocommons_ directory\r\n\r\nYou see, _robotcontroller/libs_ appears to already be set up as a flat directory repository in both _robotcontroller_ and the parent project. It seems to me that the only reason the problematic libraries are in project-specific directories is because they don&#39;t have version numbers in their names to distinguish them. By adding the version number, you can keep them side by side in the same directory.\r\n\r\nDoes that make sense? Hope it helps anyway!\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/composite_builds.html","title":"Dependencies relative to Gradle subprojects which are also buildable independently","body":"<p>I can't say I understand what's happening in that build and I feel your pain. The first thing I would say is that  <a href=\"https://docs.gradle.org/current/userguide/composite_builds.html\" rel=\"nofollow noreferrer\">composite builds</a> may offer a pathway to a \"normal\", maintainable build, allowing you to keep <em>robotcontroller</em> as a separate project. If you go down this route, you will have to remove the `include \":robotcontroller\" from the parent's <em>settings.gradle</em> file and replace it with the equivalent composite build configuration.</p>\n\n<p>That said, I think you can get this working fairly easily, because most of the pieces appear to be in place. I would do this:</p>\n\n<ol>\n<li><p>Move all of those JARs currently in <em>plugins/*/libs</em> into <em>robotcontroller/libs</em>, adding a version to their file names</p></li>\n<li><p>Update all the dependencies on those JARs so that they include the appropriate version</p></li>\n<li><p>Remove the <em>/robocommons</em> directory</p></li>\n</ol>\n\n<p>You see, <em>robotcontroller/libs</em> appears to already be set up as a flat directory repository in both <em>robotcontroller</em> and the parent project. It seems to me that the only reason the problematic libraries are in project-specific directories is because they don't have version numbers in their names to distinguish them. By adding the version number, you can keep them side by side in the same directory.</p>\n\n<p>Does that make sense? Hope it helps anyway!</p>\n"},{"tags":[],"owner":{"account_id":7609862,"reputation":386,"user_id":5771107,"display_name":"yuyu5"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666175749,"creation_date":1666175749,"answer_id":74123880,"question_id":50054359,"body_markdown":"I stumbled upon this recently as I was encountering a similar issue.\r\n\r\nNot that my solution is objectively better, but I feel with Gradle (at least v7 but probably lower versions as well b/c it&#39;s too late for me to search the changelog), the answer could probably be solved even easier than above.\r\n\r\nEither:\r\n\r\n1. Use `apply from: &lt;my-personal&gt;build.gradle` which will &quot;inject&quot; all sub-dependencies + source code from said sub-project.\r\n2. (Most ideal) The fact that you said it&#39;s a different repository means *you should be using a hosted registry* i.e. micro-service. Install said micro-service from some sort of registry (meaning publish it somewhere and install it in the `dependencies {}` block rather than anywhere else) and use it that way. After jumping through some loops myself, I found this was one of the easier ways to do what you&#39;re desiring.","title":"Dependencies relative to Gradle subprojects which are also buildable independently","body":"<p>I stumbled upon this recently as I was encountering a similar issue.</p>\n<p>Not that my solution is objectively better, but I feel with Gradle (at least v7 but probably lower versions as well b/c it's too late for me to search the changelog), the answer could probably be solved even easier than above.</p>\n<p>Either:</p>\n<ol>\n<li>Use <code>apply from: &lt;my-personal&gt;build.gradle</code> which will &quot;inject&quot; all sub-dependencies + source code from said sub-project.</li>\n<li>(Most ideal) The fact that you said it's a different repository means <em>you should be using a hosted registry</em> i.e. micro-service. Install said micro-service from some sort of registry (meaning publish it somewhere and install it in the <code>dependencies {}</code> block rather than anywhere else) and use it that way. After jumping through some loops myself, I found this was one of the easier ways to do what you're desiring.</li>\n</ol>\n"}],"owner":{"account_id":1482207,"reputation":3698,"user_id":1391325,"accept_rate":92,"display_name":"errantlinguist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50057411,"answer_count":2,"score":0,"last_activity_date":1666175749,"creation_date":1524796199,"question_id":50054359,"body_markdown":"# Background\r\n\r\nI&#39;ve inherited an old, extremely complicated Gradle-based Java project with many sub-projects. Many of these have closed-source `*.jar` libraries that should not leak to other (sub-)projects in order to avoid namespace clashes when multiple projects use different versions of the &quot;same&quot; library.\r\n\r\nI&#39;m trying to update the project to use some new versions of some of these libraries and in general clean up the dependencies, since development has become extremely complicated.\r\nTo make things worse, one project is nested as a [Git submodule](https://codingkilledthecat.wordpress.com/2012/04/28/why-your-company-shouldnt-use-git-submodules/), which is supposed to be able to be built either independently **or** as a subproject of the main Gradle project I&#39;m working with.\r\n\r\n## The Git submodule\r\n\r\nHere is a simplified structure analogous to the Git submodule/Gradle project/Gradle sub-project:\r\n\r\n\trobotcontroller\r\n\t+--.git\r\n\t+--gradle\r\n\t+--libs\r\n\t+--planning\r\n\t|  +--src\r\n\t|  +--build.gradle\r\n\t+--plugins\r\n\t|  +--nao\r\n\t|  |  +--libs\r\n\t|  |  |  +--robocommons.jar\r\n\t|  |  +--src\r\n\t|  |  +--build.gradle\r\n\t|  +--pepper\r\n\t|  |  +--libs\r\n\t|  |  |  +--graphadapter.jar\r\n\t|  |  +--src\r\n\t|  |  +--build.gradle\r\n\t+--build.gradle\r\n\t+--gradlew\r\n\t+--gradlew.bat\r\n\t+--settings.gradle\r\n\t\r\n\t\r\n**`plugins/nao/build.gradle`:**\t\r\n\t\r\n\tdependencies {\r\n\t\tcompile project(&#39;:planning&#39;)\r\n\t\t// This is inside the subproject&#39;s &quot;libs/&quot; dir\r\n\t\tcompile name: &#39;robocommons&#39;\r\n\t\tcompile group: &#39;org.apache.httpcomponents&#39;, name: &#39;httpclient&#39;, version: &#39;4.5.3&#39;\r\n\t}\r\n\r\n\t[rootProject, this].each {\r\n\t\tit.repositories {\r\n\t\t\tflatDir {\r\n\t\t\t\tdirs &quot;${rootDir}/plugins/nao/libs/&quot;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n**`plugins/pepper/build.gradle`:**\t\r\n\t\r\n\tdependencies {\r\n\t\tcompile project(&#39;:planning&#39;)\r\n\t\t// This is inside the subproject&#39;s &quot;libs/&quot; dir\r\n\t\tcompile name: &#39;graphadapter&#39;\r\n\t\tcompile group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &#39;19.0&#39;\r\n\t}\r\n\r\n\t[rootProject, this].each {\r\n\t\tit.repositories {\r\n\t\t\tmaven {\r\n\t\t\t\t// Some proprietary, closed-source repo\r\n\t\t\t}\r\n\t\t\tflatDir {\r\n\t\t\t\tdirs &quot;${rootDir}/plugins/pepper/libs/&quot;\r\n\t\t\t}\r\n\t\t}\r\n\t}\t\r\n\t\r\n**`plugins/build.gradle`:**\r\n\r\n\tdependencies {\r\n\t\tcompile project(&#39;:plugins:nao&#39;)\r\n\t\tcompile project(&#39;:plugins:pepper&#39;)\r\n\t}\r\n\t\r\n**`build.gradle`:**\r\n\r\n\t// Stuff like plugins here\r\n\t...\r\n\r\n\tallprojects {\r\n\t  repositories {\r\n\t\tflatDir {\r\n\t\t  dirs &quot;${rootDir}/libs&quot;\r\n\t\t}\r\n\t\tjcenter()\r\n\r\n\t\tmaven {\r\n\t\t\t// Some other proprietary repo here\r\n\t\t}\r\n\t  }\r\n\r\n\t  dependencies {\r\n\t\ttestCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n\t  }\r\n\t}\r\n\t\r\n\tdependencies {\r\n\t\tcompile subprojects\r\n\t}\r\n\t\r\n\t// Stuff like javadoc and sourceJar tasks\r\n\t...\r\n\t\r\n\t\r\n**`settings.gradle`:**\r\n\r\n\tinclude &#39;planning&#39;\r\n\tinclude &#39;plugins&#39;\r\n\tinclude &#39;plugins:nao&#39;\r\n\tinclude &#39;plugins:pepper&#39;\r\n\r\n\r\n## The &quot;root&quot; Git repository\r\n\r\nThe Gradle project and all of its sub-projects above not only need to be able to be built on their own, but the project is itself a sub-project of another Gradle project, which is in a different Git repository:\r\n\r\n\tcomplicatedrobotproject\r\n\t+--.git\r\n\t+--gradle\r\n\t+--robotcontroller@SOMEREVISION // This is managed by the &quot;.gitmodules&quot; file\r\n\t+--robocommons // A different, partially-compatible version of the source code used to make &quot;robocommons.jar&quot; is here\r\n\t|  +--src\r\n\t|  +--build.gradle\r\n\t+--.gitmodules\r\n\t+--build.gradle\r\n\t+--gradlew\r\n\t+--gradlew.bat\r\n\t+--settings.gradle\r\n\t\r\n\t\r\n**`build.gradle`:**\r\n\r\n\tallprojects {\r\n\t\trepositories {\r\n\t\t\tflatDir {\r\n\t\t\t\tdirs &quot;${rootDir}/robotcontroller/libs&quot;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tdependencies {\r\n\t\t// some external dependencies\r\n\t\t...\r\n\t\tcompile project(&quot;:robotcontroller&quot;)\r\n\t\tcompile project(&quot;:robocommons&quot;)\r\n\r\n\t\t// TEST\r\n\t\ttestCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n\t}\r\n\t\r\n\t\r\n**`settings.gradle`:**\r\n\r\n\tinclude &#39;robocommons&#39;\r\n\tinclude &#39;robotcontroller:planning&#39;\r\n\tinclude &#39;robotcontroller:plugins&#39;\r\n\tinclude &#39;robotcontroller:plugins:nao&#39;\r\n\tinclude &#39;robotcontroller:plugins:pepper&#39;\r\n\t\r\n\t\r\n\r\n\r\n----------\r\n\r\n# Problem\r\n\r\nIn the example above, my immediate goal is to replace the source code found at `complicatedrobotproject/robocommons` with `robocommons.jar`. However, the only way to build the project is with a modified version of the Git submodule `robotcontroller` that actually depends on that:\r\n\r\n**`robotcontroller/plugins/nao/build.gradle` from revision `SOMEREVISION`:**\t\r\n\r\n\tdependencies {\r\n\t\tcompile name &#39;:robocommons&#39; // When building &quot;complicatedrobotproject&quot;, this in fact links &quot;robocommons&quot; the directory, not &quot;robocommons.jar&quot;!\r\n\t\tcompile project(&#39;:robotcontroller:planning&#39;)\r\n\t\tcompile group: &#39;org.apache.httpcomponents&#39;, name: &#39;httpclient&#39;, version: &#39;4.5.3&#39;\r\n\t}\r\n\t\r\nBy adding `:robotcontroller` to the dependencies, the project `complicatedrobotproject` can be built, but `robotcontroller` cannot be built as a standalone Gradle project. Taking that qualifier then makes the latter buildable at the expense of the former. The classes present in `robocommons.jar` that are also present in the directory `robocommons` are largely but not completely equivalent. Ultimately, I want to replace **both** with a proper external dependency to e.g. `compile group: &#39;com.complicatedrobots&#39;, name: &#39;robocommons&#39;, version: &#39;2.0.3&#39;`, but that will require a lot of re-implementation, and I first need to sort out this dependency nightmare.\r\n\r\nMy task is not to make the project make sense; As much as this makes my head hurt, I just need both Git repositories to be buildable and also using a single version of `robocommons` across all Gradle projects, regardless of which Git repository is being built. I can&#39;t even think about the problem straight because every single possibility I think of blocks out some other thing that needs to work.","title":"Dependencies relative to Gradle subprojects which are also buildable independently","body":"<h1>Background</h1>\n\n<p>I've inherited an old, extremely complicated Gradle-based Java project with many sub-projects. Many of these have closed-source <code>*.jar</code> libraries that should not leak to other (sub-)projects in order to avoid namespace clashes when multiple projects use different versions of the \"same\" library.</p>\n\n<p>I'm trying to update the project to use some new versions of some of these libraries and in general clean up the dependencies, since development has become extremely complicated.\nTo make things worse, one project is nested as a <a href=\"https://codingkilledthecat.wordpress.com/2012/04/28/why-your-company-shouldnt-use-git-submodules/\" rel=\"nofollow noreferrer\">Git submodule</a>, which is supposed to be able to be built either independently <strong>or</strong> as a subproject of the main Gradle project I'm working with.</p>\n\n<h2>The Git submodule</h2>\n\n<p>Here is a simplified structure analogous to the Git submodule/Gradle project/Gradle sub-project:</p>\n\n<pre><code>robotcontroller\n+--.git\n+--gradle\n+--libs\n+--planning\n|  +--src\n|  +--build.gradle\n+--plugins\n|  +--nao\n|  |  +--libs\n|  |  |  +--robocommons.jar\n|  |  +--src\n|  |  +--build.gradle\n|  +--pepper\n|  |  +--libs\n|  |  |  +--graphadapter.jar\n|  |  +--src\n|  |  +--build.gradle\n+--build.gradle\n+--gradlew\n+--gradlew.bat\n+--settings.gradle\n</code></pre>\n\n<p><strong><code>plugins/nao/build.gradle</code>:</strong> </p>\n\n<pre><code>dependencies {\n    compile project(':planning')\n    // This is inside the subproject's \"libs/\" dir\n    compile name: 'robocommons'\n    compile group: 'org.apache.httpcomponents', name: 'httpclient', version: '4.5.3'\n}\n\n[rootProject, this].each {\n    it.repositories {\n        flatDir {\n            dirs \"${rootDir}/plugins/nao/libs/\"\n        }\n    }\n}\n</code></pre>\n\n<p><strong><code>plugins/pepper/build.gradle</code>:</strong>  </p>\n\n<pre><code>dependencies {\n    compile project(':planning')\n    // This is inside the subproject's \"libs/\" dir\n    compile name: 'graphadapter'\n    compile group: 'com.google.guava', name: 'guava', version: '19.0'\n}\n\n[rootProject, this].each {\n    it.repositories {\n        maven {\n            // Some proprietary, closed-source repo\n        }\n        flatDir {\n            dirs \"${rootDir}/plugins/pepper/libs/\"\n        }\n    }\n}   \n</code></pre>\n\n<p><strong><code>plugins/build.gradle</code>:</strong></p>\n\n<pre><code>dependencies {\n    compile project(':plugins:nao')\n    compile project(':plugins:pepper')\n}\n</code></pre>\n\n<p><strong><code>build.gradle</code>:</strong></p>\n\n<pre><code>// Stuff like plugins here\n...\n\nallprojects {\n  repositories {\n    flatDir {\n      dirs \"${rootDir}/libs\"\n    }\n    jcenter()\n\n    maven {\n        // Some other proprietary repo here\n    }\n  }\n\n  dependencies {\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n  }\n}\n\ndependencies {\n    compile subprojects\n}\n\n// Stuff like javadoc and sourceJar tasks\n...\n</code></pre>\n\n<p><strong><code>settings.gradle</code>:</strong></p>\n\n<pre><code>include 'planning'\ninclude 'plugins'\ninclude 'plugins:nao'\ninclude 'plugins:pepper'\n</code></pre>\n\n<h2>The \"root\" Git repository</h2>\n\n<p>The Gradle project and all of its sub-projects above not only need to be able to be built on their own, but the project is itself a sub-project of another Gradle project, which is in a different Git repository:</p>\n\n<pre><code>complicatedrobotproject\n+--.git\n+--gradle\n+--robotcontroller@SOMEREVISION // This is managed by the \".gitmodules\" file\n+--robocommons // A different, partially-compatible version of the source code used to make \"robocommons.jar\" is here\n|  +--src\n|  +--build.gradle\n+--.gitmodules\n+--build.gradle\n+--gradlew\n+--gradlew.bat\n+--settings.gradle\n</code></pre>\n\n<p><strong><code>build.gradle</code>:</strong></p>\n\n<pre><code>allprojects {\n    repositories {\n        flatDir {\n            dirs \"${rootDir}/robotcontroller/libs\"\n        }\n    }\n}\n\ndependencies {\n    // some external dependencies\n    ...\n    compile project(\":robotcontroller\")\n    compile project(\":robocommons\")\n\n    // TEST\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\n</code></pre>\n\n<p><strong><code>settings.gradle</code>:</strong></p>\n\n<pre><code>include 'robocommons'\ninclude 'robotcontroller:planning'\ninclude 'robotcontroller:plugins'\ninclude 'robotcontroller:plugins:nao'\ninclude 'robotcontroller:plugins:pepper'\n</code></pre>\n\n<hr>\n\n<h1>Problem</h1>\n\n<p>In the example above, my immediate goal is to replace the source code found at <code>complicatedrobotproject/robocommons</code> with <code>robocommons.jar</code>. However, the only way to build the project is with a modified version of the Git submodule <code>robotcontroller</code> that actually depends on that:</p>\n\n<p><strong><code>robotcontroller/plugins/nao/build.gradle</code> from revision <code>SOMEREVISION</code>:</strong>    </p>\n\n<pre><code>dependencies {\n    compile name ':robocommons' // When building \"complicatedrobotproject\", this in fact links \"robocommons\" the directory, not \"robocommons.jar\"!\n    compile project(':robotcontroller:planning')\n    compile group: 'org.apache.httpcomponents', name: 'httpclient', version: '4.5.3'\n}\n</code></pre>\n\n<p>By adding <code>:robotcontroller</code> to the dependencies, the project <code>complicatedrobotproject</code> can be built, but <code>robotcontroller</code> cannot be built as a standalone Gradle project. Taking that qualifier then makes the latter buildable at the expense of the former. The classes present in <code>robocommons.jar</code> that are also present in the directory <code>robocommons</code> are largely but not completely equivalent. Ultimately, I want to replace <strong>both</strong> with a proper external dependency to e.g. <code>compile group: 'com.complicatedrobots', name: 'robocommons', version: '2.0.3'</code>, but that will require a lot of re-implementation, and I first need to sort out this dependency nightmare.</p>\n\n<p>My task is not to make the project make sense; As much as this makes my head hurt, I just need both Git repositories to be buildable and also using a single version of <code>robocommons</code> across all Gradle projects, regardless of which Git repository is being built. I can't even think about the problem straight because every single possibility I think of blocks out some other thing that needs to work.</p>\n"},{"tags":["javascript","java","android","android-studio"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1662631642,"post_id":73645822,"comment_id":130052520,"body_markdown":"You can use `Certificate Pinning` or check for installed apps &amp; determine if any Sniffing app is installed but bear in mind that no app is 100% secure.","body":"You can use <code>Certificate Pinning</code> or check for installed apps &amp; determine if any Sniffing app is installed but bear in mind that no app is 100% secure."},{"owner":{"account_id":26278966,"reputation":27,"user_id":19947699,"display_name":"Anees"},"score":0,"creation_date":1662641146,"post_id":73645822,"comment_id":130056018,"body_markdown":"There are some apps on play store which doesn&#39;t open when someone is using a packet capture app, is there any way to block access to the app when someone is using a vpn? It will also block access from packet capture apps cause they uses vpn.","body":"There are some apps on play store which doesn&#39;t open when someone is using a packet capture app, is there any way to block access to the app when someone is using a vpn? It will also block access from packet capture apps cause they uses vpn."},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1662703684,"post_id":73645822,"comment_id":130071250,"body_markdown":"To check for active VPN, check this: https://stackoverflow.com/questions/28386553/check-if-a-vpn-connection-is-active-in-android","body":"To check for active VPN, check this: <a href=\"https://stackoverflow.com/questions/28386553/check-if-a-vpn-connection-is-active-in-android\" title=\"check if a vpn connection is active in android\">stackoverflow.com/questions/28386553/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26278966,"reputation":27,"user_id":19947699,"display_name":"Anees"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666175705,"creation_date":1664541246,"answer_id":73908858,"question_id":73645822,"body_markdown":"I solved this using this:\r\n\r\nCreate a HelperUtils.java class in your utils folder and add the following code:\r\n\r\n    public class HelperUtils {\r\n    private Activity activity;\r\n\r\n    public HelperUtils(Activity activity) {\r\n        this.activity = activity;\r\n    }\r\n\r\n    public boolean isVpnConnectionAvailable(){\r\n        String iface = &quot;&quot;;\r\n        try {\r\n            for (NetworkInterface networkInst : Collections.list(NetworkInterface.getNetworkInterfaces())){\r\n                if (networkInst.isUp())\r\n                    iface = networkInst.getName();\r\n                if ( iface.contains(&quot;tun&quot;) || iface.contains(&quot;ppp&quot;) || iface.contains(&quot;pptp&quot;)) {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n\r\n        }catch (SocketException e){\r\n            e.printStackTrace();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public ApplicationInfo getRestrictApp() {\r\n        ApplicationInfo restrictPackageInfo = null;\r\n        final PackageManager pm = activity.getPackageManager();\r\n        //get a list of installed apps.\r\n        List&lt;ApplicationInfo&gt; packages = pm.getInstalledApplications(PackageManager.GET_META_DATA);\r\n        for (ApplicationInfo packageInfo : packages) {\r\n            if (packageInfo.packageName.equals(&quot;com.guoshi.httpcanary&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;app.greyshirts.sslcapture&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;com.guoshi.httpcanary.premium&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;com.minhui.networkcapture.pro&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;com.minhui.networkcapture&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;com.egorovandreyrm.pcapremote&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;com.packagesniffer.frtparlak&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;jp.co.taosoftware.android.packetcapture&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;com.emanuelef.remote_capture&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;com.minhui.wifianalyzer&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;com.evbadroid.proxymon&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;com.evbadroid.wicapdemo&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;com.evbadroid.wicap&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;com.luckypatchers.luckypatcherinstaller&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;ru.UbLBBRLf.jSziIaUjL&quot;)) {\r\n                //restrictPackageName = packageInfo.packageName;\r\n                //restrictPackageName = packageInfo.loadLabel(activity.getPackageManager()).toString();\r\n                restrictPackageInfo = packageInfo;\r\n            }\r\n        }\r\n\r\n        return restrictPackageInfo;\r\n    }\r\n\r\n    public boolean isForeground( String myPackage){\r\n        ActivityManager manager = (ActivityManager) activity.getSystemService(ACTIVITY_SERVICE);\r\n        List&lt; ActivityManager.RunningTaskInfo &gt; runningTaskInfo = manager.getRunningTasks(1);\r\n\r\n        ComponentName componentInfo = runningTaskInfo.get(0).topActivity;\r\n        Log.e(&quot;123456&quot;, &quot;Background Apps: &quot; + componentInfo.getPackageName());\r\n        return componentInfo != null &amp;&amp; componentInfo.getPackageName().equals(myPackage);\r\n    }\r\n\r\n    public boolean isAppRunning(Context context, String packageName){\r\n        ActivityManager activityManager = (ActivityManager) context.getSystemService(ACTIVITY_SERVICE);\r\n        List&lt;ActivityManager.RunningAppProcessInfo&gt; processInfos = activityManager.getRunningAppProcesses();\r\n        if (processInfos != null){\r\n            for (ActivityManager.RunningAppProcessInfo processInfo : processInfos){\r\n                if (processInfo.processName.equals(packageName)){\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public void showWarningDialog(Activity context, String title, String message) {\r\n        new AlertDialog.Builder(context)\r\n                .setTitle(title)\r\n                .setMessage(message)\r\n                .setIcon(R.drawable.ic_warning)\r\n                .setPositiveButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        System.exit(0);\r\n                        context.finish();\r\n                    }\r\n                })\r\n                .setCancelable(false)\r\n                .show();\r\n    }\r\n\r\n}\r\n\r\nAfter this go to ur MainActivity.Java class and add the following code:\r\n\r\n    \r\n\r\n    private boolean vpnStatus;\r\n       \r\n    //check vpn connection\r\n                        helperUtils = new HelperUtils(MainActivity.this);\r\n                        vpnStatus = helperUtils.isVpnConnectionAvailable();\r\n                        if (vpnStatus) {\r\n                            helperUtils.showWarningDialog(MainActivity.this, getString(R.string.vpn_detected), getString(R.string.close_vpn));\r\n                            return;\r\n                        }\r\n\r\n   \r\n\r\nAdd the following code in your sting.xml file:\r\n\r\n        &lt;string name=&quot;vpn_detected&quot;&gt;VPN Detected!!&lt;/string&gt; \r\n    &lt;string name=&quot;close_vpn&quot;&gt;Close VPN and re-open the app to continue.&lt;/string&gt;\r\n\r\nThis is it, now your app will show &quot; Vpn Detected &quot; everytime someone try to access it using a vpn or ssl capture app. Good luck.","title":"How do I protect my android app from packet capture?","body":"<p>I solved this using this:</p>\n<p>Create a HelperUtils.java class in your utils folder and add the following code:</p>\n<pre><code>public class HelperUtils {\nprivate Activity activity;\n\npublic HelperUtils(Activity activity) {\n    this.activity = activity;\n}\n\npublic boolean isVpnConnectionAvailable(){\n    String iface = &quot;&quot;;\n    try {\n        for (NetworkInterface networkInst : Collections.list(NetworkInterface.getNetworkInterfaces())){\n            if (networkInst.isUp())\n                iface = networkInst.getName();\n            if ( iface.contains(&quot;tun&quot;) || iface.contains(&quot;ppp&quot;) || iface.contains(&quot;pptp&quot;)) {\n                return true;\n            }\n        }\n\n\n    }catch (SocketException e){\n        e.printStackTrace();\n    }\n    return false;\n}\n\npublic ApplicationInfo getRestrictApp() {\n    ApplicationInfo restrictPackageInfo = null;\n    final PackageManager pm = activity.getPackageManager();\n    //get a list of installed apps.\n    List&lt;ApplicationInfo&gt; packages = pm.getInstalledApplications(PackageManager.GET_META_DATA);\n    for (ApplicationInfo packageInfo : packages) {\n        if (packageInfo.packageName.equals(&quot;com.guoshi.httpcanary&quot;) ||\n                packageInfo.packageName.equals(&quot;app.greyshirts.sslcapture&quot;) ||\n                packageInfo.packageName.equals(&quot;com.guoshi.httpcanary.premium&quot;) ||\n                packageInfo.packageName.equals(&quot;com.minhui.networkcapture.pro&quot;) ||\n                packageInfo.packageName.equals(&quot;com.minhui.networkcapture&quot;) ||\n                packageInfo.packageName.equals(&quot;com.egorovandreyrm.pcapremote&quot;) ||\n                packageInfo.packageName.equals(&quot;com.packagesniffer.frtparlak&quot;) ||\n                packageInfo.packageName.equals(&quot;jp.co.taosoftware.android.packetcapture&quot;) ||\n                packageInfo.packageName.equals(&quot;com.emanuelef.remote_capture&quot;) ||\n                packageInfo.packageName.equals(&quot;com.minhui.wifianalyzer&quot;) ||\n                packageInfo.packageName.equals(&quot;com.evbadroid.proxymon&quot;) ||\n                packageInfo.packageName.equals(&quot;com.evbadroid.wicapdemo&quot;) ||\n                packageInfo.packageName.equals(&quot;com.evbadroid.wicap&quot;) ||\n                packageInfo.packageName.equals(&quot;com.luckypatchers.luckypatcherinstaller&quot;) ||\n                packageInfo.packageName.equals(&quot;ru.UbLBBRLf.jSziIaUjL&quot;)) {\n            //restrictPackageName = packageInfo.packageName;\n            //restrictPackageName = packageInfo.loadLabel(activity.getPackageManager()).toString();\n            restrictPackageInfo = packageInfo;\n        }\n    }\n\n    return restrictPackageInfo;\n}\n\npublic boolean isForeground( String myPackage){\n    ActivityManager manager = (ActivityManager) activity.getSystemService(ACTIVITY_SERVICE);\n    List&lt; ActivityManager.RunningTaskInfo &gt; runningTaskInfo = manager.getRunningTasks(1);\n\n    ComponentName componentInfo = runningTaskInfo.get(0).topActivity;\n    Log.e(&quot;123456&quot;, &quot;Background Apps: &quot; + componentInfo.getPackageName());\n    return componentInfo != null &amp;&amp; componentInfo.getPackageName().equals(myPackage);\n}\n\npublic boolean isAppRunning(Context context, String packageName){\n    ActivityManager activityManager = (ActivityManager) context.getSystemService(ACTIVITY_SERVICE);\n    List&lt;ActivityManager.RunningAppProcessInfo&gt; processInfos = activityManager.getRunningAppProcesses();\n    if (processInfos != null){\n        for (ActivityManager.RunningAppProcessInfo processInfo : processInfos){\n            if (processInfo.processName.equals(packageName)){\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\npublic void showWarningDialog(Activity context, String title, String message) {\n    new AlertDialog.Builder(context)\n            .setTitle(title)\n            .setMessage(message)\n            .setIcon(R.drawable.ic_warning)\n            .setPositiveButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialog, int which) {\n                    System.exit(0);\n                    context.finish();\n                }\n            })\n            .setCancelable(false)\n            .show();\n}\n</code></pre>\n<p>}</p>\n<p>After this go to ur MainActivity.Java class and add the following code:</p>\n<pre><code>private boolean vpnStatus;\n   \n//check vpn connection\n                    helperUtils = new HelperUtils(MainActivity.this);\n                    vpnStatus = helperUtils.isVpnConnectionAvailable();\n                    if (vpnStatus) {\n                        helperUtils.showWarningDialog(MainActivity.this, getString(R.string.vpn_detected), getString(R.string.close_vpn));\n                        return;\n                    }\n</code></pre>\n<p>Add the following code in your sting.xml file:</p>\n<pre><code>    &lt;string name=&quot;vpn_detected&quot;&gt;VPN Detected!!&lt;/string&gt; \n&lt;string name=&quot;close_vpn&quot;&gt;Close VPN and re-open the app to continue.&lt;/string&gt;\n</code></pre>\n<p>This is it, now your app will show &quot; Vpn Detected &quot; everytime someone try to access it using a vpn or ssl capture app. Good luck.</p>\n"}],"owner":{"account_id":26278966,"reputation":27,"user_id":19947699,"display_name":"Anees"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":998,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73908858,"answer_count":1,"score":1,"last_activity_date":1666175705,"creation_date":1662625194,"question_id":73645822,"body_markdown":"I want to make my Android app secure. In some applications, if the phone has a network sniffer program installed(packet capture, ssl capture etc), the application gives an alert(Remove packet capture) and turns off. How do I add a similar security measure? What technologies should I look for?","title":"How do I protect my android app from packet capture?","body":"<p>I want to make my Android app secure. In some applications, if the phone has a network sniffer program installed(packet capture, ssl capture etc), the application gives an alert(Remove packet capture) and turns off. How do I add a similar security measure? What technologies should I look for?</p>\n"},{"tags":["java","spring","unit-testing","junit","spring-data-jpa"],"comments":[{"owner":{"account_id":2077773,"reputation":133298,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1666152090,"post_id":74119714,"comment_id":130865138,"body_markdown":"When you run the `getAllProducts` test alone, does it pass?","body":"When you run the <code>getAllProducts</code> test alone, does it pass?"},{"owner":{"account_id":26319730,"reputation":1,"user_id":19981904,"display_name":"lumi"},"score":0,"creation_date":1666152397,"post_id":74119714,"comment_id":130865187,"body_markdown":"Hi! No. It fails in assertThat and assertEquals. It says expected is 2 but was 3.","body":"Hi! No. It fails in assertThat and assertEquals. It says expected is 2 but was 3."},{"owner":{"account_id":2077773,"reputation":133298,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1666153265,"post_id":74119714,"comment_id":130865307,"body_markdown":"I think your best bet is enabling `show-sql` (`spring.jpa.show-sql=true`) and trying to see what commands are being executed when the test is run.","body":"I think your best bet is enabling <code>show-sql</code> (<code>spring.jpa.show-sql=true</code>) and trying to see what commands are being executed when the test is run."}],"answers":[{"tags":[],"owner":{"account_id":14431921,"reputation":119,"user_id":10425028,"display_name":"Alberto Mart&#237;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666175366,"creation_date":1666175366,"answer_id":74123823,"question_id":74119714,"body_markdown":"You may add some code to clean the repository data.\r\n\r\nIt seems that you already have a product when the test starts.","title":"AssertEquals failing . List size is returning more than actual size","body":"<p>You may add some code to clean the repository data.</p>\n<p>It seems that you already have a product when the test starts.</p>\n"}],"owner":{"account_id":26319730,"reputation":1,"user_id":19981904,"display_name":"lumi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666175366,"creation_date":1666152010,"question_id":74119714,"body_markdown":"everyone. I&#39;m new to Spring and unit testing and I&#39;m trying to test my repository layer. My test is failing when using assertEquals when asserting the size of my products list. In the first test, it says actual is 3 when clearly it should be 2.Same goes for the second test, it&#39;s returning 2 when it should be 1 after deletion of product1.I don&#39;t know what I&#39;m doing wrong.\r\n\r\nThank you in advance.\r\n\r\n```\r\nimport com.eshop.shoppingcart.model.Product;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase;\r\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\n\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\n\r\n@DataJpaTest\r\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\npublic class ProductRepositoryTest {\r\n    @Autowired\r\n   ProductRepository productRepository;\r\n\r\n    @Test\r\n    void getAllProducts(){\r\n        Product product1 = new Product();\r\n        product1.setId(1L);\r\n        product1.setName(&quot;The Stranger&quot;);\r\n        product1.setPrice(124.5);\r\n        product1.setPictureUrl(&quot;https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1590930002l/49552._SY475_.jpg&quot;);\r\n\r\n        Product product2 = new Product();\r\n        product2.setId(2L);\r\n        product2.setName(&quot;Meditations&quot;);\r\n        product2.setPrice(164.5);\r\n        product2.setPictureUrl(&quot;https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1590930002l/49552._SY475_.jpg&quot;);\r\n\r\n        productRepository.save(product1);\r\n        productRepository.save(product2);\r\n\r\n        List&lt;Product&gt; products = productRepository.findAll();\r\n\r\n        assertNotNull(products);\r\n        assertThat(products).isNotNull();\r\n        assertThat(products.size()).isEqualTo(2);\r\n        assertEquals(2, products.size());\r\n\r\n    }\r\n\r\n    @Test\r\n    void deleteProduct(){\r\n        Product product1 = new Product();\r\n        product1.setId(1L);\r\n        product1.setName(&quot;The Stranger&quot;);\r\n        product1.setPrice(124.5);\r\n        product1.setPictureUrl(&quot;https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1590930002l/49552._SY475_.jpg&quot;);\r\n        productRepository.save(product1);\r\n        Long id = product1.getId();\r\n\r\n        Product product2 = new Product();\r\n        product2.setId(2L);\r\n        product2.setName(&quot;Meditations&quot;);\r\n        product2.setPrice(164.5);\r\n        product2.setPictureUrl(&quot;https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1590930002l/49552._SY475_.jpg&quot;);\r\n        productRepository.save(product2);\r\n\r\n        productRepository.delete(product1);\r\n        List&lt;Product&gt; products = productRepository.findAll();\r\n        Optional&lt;Product&gt; retrievedProduct =  productRepository.findById(id);\r\n\r\n        assertThat(retrievedProduct.isEmpty());\r\n        assertEquals(1, products.size());\r\n\r\n    }\r\n}\r\n```","title":"AssertEquals failing . List size is returning more than actual size","body":"<p>everyone. I'm new to Spring and unit testing and I'm trying to test my repository layer. My test is failing when using assertEquals when asserting the size of my products list. In the first test, it says actual is 3 when clearly it should be 2.Same goes for the second test, it's returning 2 when it should be 1 after deletion of product1.I don't know what I'm doing wrong.</p>\n<p>Thank you in advance.</p>\n<pre><code>import com.eshop.shoppingcart.model.Product;\nimport org.junit.jupiter.api.Test;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\n\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\n\n@DataJpaTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\npublic class ProductRepositoryTest {\n    @Autowired\n   ProductRepository productRepository;\n\n    @Test\n    void getAllProducts(){\n        Product product1 = new Product();\n        product1.setId(1L);\n        product1.setName(&quot;The Stranger&quot;);\n        product1.setPrice(124.5);\n        product1.setPictureUrl(&quot;https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1590930002l/49552._SY475_.jpg&quot;);\n\n        Product product2 = new Product();\n        product2.setId(2L);\n        product2.setName(&quot;Meditations&quot;);\n        product2.setPrice(164.5);\n        product2.setPictureUrl(&quot;https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1590930002l/49552._SY475_.jpg&quot;);\n\n        productRepository.save(product1);\n        productRepository.save(product2);\n\n        List&lt;Product&gt; products = productRepository.findAll();\n\n        assertNotNull(products);\n        assertThat(products).isNotNull();\n        assertThat(products.size()).isEqualTo(2);\n        assertEquals(2, products.size());\n\n    }\n\n    @Test\n    void deleteProduct(){\n        Product product1 = new Product();\n        product1.setId(1L);\n        product1.setName(&quot;The Stranger&quot;);\n        product1.setPrice(124.5);\n        product1.setPictureUrl(&quot;https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1590930002l/49552._SY475_.jpg&quot;);\n        productRepository.save(product1);\n        Long id = product1.getId();\n\n        Product product2 = new Product();\n        product2.setId(2L);\n        product2.setName(&quot;Meditations&quot;);\n        product2.setPrice(164.5);\n        product2.setPictureUrl(&quot;https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1590930002l/49552._SY475_.jpg&quot;);\n        productRepository.save(product2);\n\n        productRepository.delete(product1);\n        List&lt;Product&gt; products = productRepository.findAll();\n        Optional&lt;Product&gt; retrievedProduct =  productRepository.findById(id);\n\n        assertThat(retrievedProduct.isEmpty());\n        assertEquals(1, products.size());\n\n    }\n}\n</code></pre>\n"},{"tags":["java","casting","nullpointerexception"],"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1412813639,"post_id":26258751,"comment_id":41211315,"body_markdown":"It depends on who else is coming to the cotillion.","body":"It depends on who else is coming to the cotillion."}],"answers":[{"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1412813862,"post_id":26258844,"comment_id":41211376,"body_markdown":"This is essentially what the OP proposed.","body":"This is essentially what the OP proposed."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1412845738,"post_id":26258844,"comment_id":41221905,"body_markdown":"@HotLicks It wasn&#39;t when I wrote my answer, OP edited question since.","body":"@HotLicks It wasn&#39;t when I wrote my answer, OP edited question since."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1412855482,"post_id":26258844,"comment_id":41227535,"body_markdown":"Yeah, I agree the question was vaguely worded from the start and he edited it about a dozen times.  The topic has become pretty muddled.","body":"Yeah, I agree the question was vaguely worded from the start and he edited it about a dozen times.  The topic has become pretty muddled."}],"tags":[],"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412776928,"creation_date":1412776928,"answer_id":26258844,"question_id":26258751,"body_markdown":"If only one of the arguments may be `null` (as is the case when you&#39;re comparing an unknown value to a constant), use `equals()` like this:\r\n\r\n    Integer foo = Integer.valueOf(8); // you could write Integer foo = 8; here too but I prefer to avoid autoboxing\r\n    if (foo.equals(m.get(&quot;x&quot;))) { //will never throw an NPE because foo is never null\r\n       ...\r\n    }\r\n\r\nNote that your example isn&#39;t going to work in general because comparing non-primitive values with `==` only returns true if they refer to the same object instance. (Which in this case might even be true for very specific reasons but most of the time it isn&#39;t.)","title":"What is the cleanest way to compare an int with a potentially null Integer in Java?","body":"<p>If only one of the arguments may be <code>null</code> (as is the case when you're comparing an unknown value to a constant), use <code>equals()</code> like this:</p>\n\n<pre><code>Integer foo = Integer.valueOf(8); // you could write Integer foo = 8; here too but I prefer to avoid autoboxing\nif (foo.equals(m.get(\"x\"))) { //will never throw an NPE because foo is never null\n   ...\n}\n</code></pre>\n\n<p>Note that your example isn't going to work in general because comparing non-primitive values with <code>==</code> only returns true if they refer to the same object instance. (Which in this case might even be true for very specific reasons but most of the time it isn't.)</p>\n"},{"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1412776942,"creation_date":1412776942,"answer_id":26258851,"question_id":26258751,"body_markdown":"The `==` operator doesn&#39;t compare values, but references. \r\n\r\nYou should use the `.equals()` method, instead, applied to the `Integer` variable (for which you are sure that is not `null` and NPE won&#39;t be thrown):\r\n\r\n    Integer eight = 8; //autoboxed\r\n    System.out.println(eight.equals(m.get(&quot;null&quot;)));\r\n\r\nThis will print `false` even the `m.get(&quot;null&quot;)` returns `null`.","title":"What is the cleanest way to compare an int with a potentially null Integer in Java?","body":"<p>The <code>==</code> operator doesn't compare values, but references. </p>\n\n<p>You should use the <code>.equals()</code> method, instead, applied to the <code>Integer</code> variable (for which you are sure that is not <code>null</code> and NPE won't be thrown):</p>\n\n<pre><code>Integer eight = 8; //autoboxed\nSystem.out.println(eight.equals(m.get(\"null\")));\n</code></pre>\n\n<p>This will print <code>false</code> even the <code>m.get(\"null\")</code> returns <code>null</code>.</p>\n"},{"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":1,"creation_date":1412813788,"post_id":26258870,"comment_id":41211359,"body_markdown":"Of course they end up generating essentially the same code.  The &quot;cast&quot; is really an auto-boxing directive.","body":"Of course they end up generating essentially the same code.  The &quot;cast&quot; is really an auto-boxing directive."},{"owner":{"account_id":514320,"reputation":24520,"user_id":1392132,"accept_rate":91,"display_name":"5gon12eder"},"score":0,"creation_date":1412818563,"post_id":26258870,"comment_id":41212397,"body_markdown":"@HotLicks It is, and casting a primitive to its respective boxing type is even statically type checked.  I still don&#39;t like it for stylistic reasons.  The more severe problem with the OP&#39;s code is of course using `==` to compare `Integer`s for equality as other answers have pointed out.  I must admit that I have overlooked that at a first glance, answering only his immediate question whether the cast “is considered poor style” (question edited since then).","body":"@HotLicks It is, and casting a primitive to its respective boxing type is even statically type checked.  I still don&#39;t like it for stylistic reasons.  The more severe problem with the OP&#39;s code is of course using <code>==</code> to compare <code>Integer</code>s for equality as other answers have pointed out.  I must admit that I have overlooked that at a first glance, answering only his immediate question whether the cast “is considered poor style” (question edited since then)."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1412818687,"post_id":26258870,"comment_id":41212423,"body_markdown":"Yeah, I guess he was originally using `==`, but edited that away pretty quickly.  The odd thing is that it would actually work, for small value positive ints, since they are essentially &quot;interned&quot;.","body":"Yeah, I guess he was originally using <code>==</code>, but edited that away pretty quickly.  The odd thing is that it would actually work, for small value positive ints, since they are essentially &quot;interned&quot;."}],"tags":[],"owner":{"account_id":514320,"reputation":24520,"user_id":1392132,"accept_rate":91,"display_name":"5gon12eder"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1412776991,"creation_date":1412776991,"answer_id":26258870,"question_id":26258751,"body_markdown":"I try to avoid casts whenever possible, so I&#39;d rather use the following, which also looks nicer in my opinion:\r\n\r\n    Integer.valueOf(8).equals(m.get(&quot;null&quot;))\r\n","title":"What is the cleanest way to compare an int with a potentially null Integer in Java?","body":"<p>I try to avoid casts whenever possible, so I'd rather use the following, which also looks nicer in my opinion:</p>\n\n<pre><code>Integer.valueOf(8).equals(m.get(\"null\"))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1412813826,"post_id":26258887,"comment_id":41211367,"body_markdown":"I don&#39;t believe he was intending to do that (though I&#39;ll admit that his full intent is hard to divine).","body":"I don&#39;t believe he was intending to do that (though I&#39;ll admit that his full intent is hard to divine)."}],"tags":[],"owner":{"account_id":43373,"reputation":224943,"user_id":126769,"accept_rate":94,"display_name":"nos"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1412777026,"creation_date":1412777026,"answer_id":26258887,"question_id":26258751,"body_markdown":"No, because it will not work. You can&#39;t compare two `Integer` with `==`, as that compares references and not the integer values. See more info in [this question](https://stackoverflow.com/questions/10002037/comparing-integer-values-in-java-strange-behavior)\r\n\r\nYou&#39;ll need a helper method, such as:\r\n\r\n    boolean safeIntegerCompare(Integer a, int b)\r\n    {\r\n        if (a != null) \r\n          return a.intValue() == b;\r\n        return false;\r\n    }\r\n\r\n","title":"What is the cleanest way to compare an int with a potentially null Integer in Java?","body":"<p>No, because it will not work. You can't compare two <code>Integer</code> with <code>==</code>, as that compares references and not the integer values. See more info in <a href=\"https://stackoverflow.com/questions/10002037/comparing-integer-values-in-java-strange-behavior\">this question</a></p>\n\n<p>You'll need a helper method, such as:</p>\n\n<pre><code>boolean safeIntegerCompare(Integer a, int b)\n{\n    if (a != null) \n      return a.intValue() == b;\n    return false;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7046,"reputation":4518,"user_id":12039,"accept_rate":89,"display_name":"Kariem"},"score":0,"creation_date":1657872577,"post_id":65475279,"comment_id":128917621,"body_markdown":"Wouldn&#39;t it be easier to just use `Objects.equals` here?\n\n`boolean equals = Objects.equals(objectA.getNullableInteger(), objectB.getNullableInteger())`;","body":"Wouldn&#39;t it be easier to just use <code>Objects.equals</code> here?  <code>boolean equals = Objects.equals(objectA.getNullableInteger(), objectB.getNullableInteger())</code>;"}],"tags":[],"owner":{"account_id":234362,"reputation":17417,"user_id":500451,"accept_rate":86,"display_name":"Bertie"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609146807,"creation_date":1609146807,"answer_id":65475279,"question_id":26258751,"body_markdown":"To expand the accepted answer: i find myself having to check the equality of 2 Integer variables which might or might not be null.\r\n\r\nSo my solution would be:\r\n\r\n&gt; boolean equals =\r\n&gt; Optional.ofNullable(objectA.getNullableInteger()).equals(Optional.ofNullable(objectB.getNullableInteger());\r\n\r\n","title":"What is the cleanest way to compare an int with a potentially null Integer in Java?","body":"<p>To expand the accepted answer: i find myself having to check the equality of 2 Integer variables which might or might not be null.</p>\n<p>So my solution would be:</p>\n<blockquote>\n<p>boolean equals =\nOptional.ofNullable(objectA.getNullableInteger()).equals(Optional.ofNullable(objectB.getNullableInteger());</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":463580,"reputation":995,"user_id":866576,"display_name":"Mohammed Aslam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666175233,"creation_date":1666175233,"answer_id":74123790,"question_id":26258751,"body_markdown":"You can use Objects.equals\r\n\r\n    int foo = 1;\r\n    Integer bar = null;\r\n    Objects.equals(foo, bar);","title":"What is the cleanest way to compare an int with a potentially null Integer in Java?","body":"<p>You can use Objects.equals</p>\n<pre><code>int foo = 1;\nInteger bar = null;\nObjects.equals(foo, bar);\n</code></pre>\n"}],"owner":{"account_id":4751496,"reputation":2596,"user_id":3841420,"accept_rate":75,"display_name":"Andrew G"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19823,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":26258870,"answer_count":6,"score":11,"last_activity_date":1666175233,"creation_date":1412776659,"question_id":26258751,"body_markdown":"    Map&lt;String,Integer&gt; m;\r\n\tm = new TreeMap&lt;String,Integer&gt;();\r\n\r\nIs it good practice to add the following cast just to avoid the null pointer exception when m.get() is null.\r\n\r\n\tSystem.out.println( ((Integer) 8).equals( m.get(&quot;null&quot;) ) ); // returns false\r\n\r\nAlternatively with a prior null check it starts to look a bit ugly.\r\n\r\n\tSystem.out.println( m.contains(&quot;null&quot;) != null &amp;&amp; m.get(&quot;null&quot;).equals( 8 ) );\r\n\r\nIs there a better way to write this? Thanks.","title":"What is the cleanest way to compare an int with a potentially null Integer in Java?","body":"<pre><code>Map&lt;String,Integer&gt; m;\nm = new TreeMap&lt;String,Integer&gt;();\n</code></pre>\n\n<p>Is it good practice to add the following cast just to avoid the null pointer exception when m.get() is null.</p>\n\n<pre><code>System.out.println( ((Integer) 8).equals( m.get(\"null\") ) ); // returns false\n</code></pre>\n\n<p>Alternatively with a prior null check it starts to look a bit ugly.</p>\n\n<pre><code>System.out.println( m.contains(\"null\") != null &amp;&amp; m.get(\"null\").equals( 8 ) );\n</code></pre>\n\n<p>Is there a better way to write this? Thanks.</p>\n"},{"tags":["java","selenium"],"answers":[{"comments":[{"owner":{"account_id":10728845,"reputation":25,"user_id":7895555,"accept_rate":40,"display_name":"Thiru"},"score":0,"creation_date":1492691408,"post_id":43519531,"comment_id":74092224,"body_markdown":"here, for the &quot;By Locator&quot;  what value we have to provide while calling this method. Also I have all the WebElements stored in a class file like this       @FindBy(id = &quot;username&quot;)\n\t    public static WebElement Username;\n\t\n\t@FindBy(id = &quot;password&quot;)\n\tpublic static WebElement Password;\n\t\n\t@FindBy (xpath = &quot;//img[contains(@src, &#39;logo-icon-big.png&#39;)]&quot;)\n\tpublic static WebElement Logo;","body":"here, for the &quot;By Locator&quot;  what value we have to provide while calling this method. Also I have all the WebElements stored in a class file like this       @FindBy(id = &quot;username&quot;) \t    public static WebElement Username; \t \t@FindBy(id = &quot;password&quot;) \tpublic static WebElement Password; \t \t@FindBy (xpath = &quot;//img[contains(@src, &#39;logo-icon-big.png&#39;)]&quot;) \tpublic static WebElement Logo;"},{"owner":{"account_id":10427913,"reputation":967,"user_id":7688585,"display_name":"Akarsh"},"score":0,"creation_date":1492692545,"post_id":43519531,"comment_id":74093161,"body_markdown":"Updated solution with Try/catch, try it.","body":"Updated solution with Try/catch, try it."},{"owner":{"account_id":10728845,"reputation":25,"user_id":7895555,"accept_rate":40,"display_name":"Thiru"},"score":0,"creation_date":1492759474,"post_id":43519531,"comment_id":74124944,"body_markdown":"Thanks Akarsh for your timely response. I already tried with the try catch block, hence not tried your last approach. It is a small part of Bigger Automation framework. It goes like this: IsElementPresent () will be used by enterText () and then Click (). So this isElementPresent() should be reusable by many test cases, hence i want it in a way no hard code value in the method.","body":"Thanks Akarsh for your timely response. I already tried with the try catch block, hence not tried your last approach. It is a small part of Bigger Automation framework. It goes like this: IsElementPresent () will be used by enterText () and then Click (). So this isElementPresent() should be reusable by many test cases, hence i want it in a way no hard code value in the method."},{"owner":{"account_id":10427913,"reputation":967,"user_id":7688585,"display_name":"Akarsh"},"score":0,"creation_date":1492761333,"post_id":43519531,"comment_id":74126135,"body_markdown":"I think my last solution don&#39;t have any hard codes right?","body":"I think my last solution don&#39;t have any hard codes right?"},{"owner":{"account_id":10728845,"reputation":25,"user_id":7895555,"accept_rate":40,"display_name":"Thiru"},"score":0,"creation_date":1492763579,"post_id":43519531,"comment_id":74127435,"body_markdown":"Hi Akarsh, element.getText(); throws Null pointer exception, though the web element is displayed. Also for the same web element i tried driver.findElement method which works fine.     if(driver.findElements(Locator).size()!=0 ){\n\t\t\tSystem.out.println(&quot;WebElement found&quot;);\n\t\t\treturn true;","body":"Hi Akarsh, element.getText(); throws Null pointer exception, though the web element is displayed. Also for the same web element i tried driver.findElement method which works fine.     if(driver.findElements(Locator).size()!=0 ){ \t\t\tSystem.out.println(&quot;WebElement found&quot;); \t\t\treturn true;"}],"tags":[],"owner":{"account_id":10427913,"reputation":967,"user_id":7688585,"display_name":"Akarsh"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492692419,"creation_date":1492691214,"answer_id":43519531,"question_id":43519342,"body_markdown":"Below method returns true in case element present.\r\n\r\n    public boolean isElementPresent(WebDriver driver,By locator){\r\n\r\n\t\tif(driver.findElements(locator).size()!=0){\r\n\t\t\t//Element present\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\t\telse{\r\n\t\t\t//Element not present \r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\nExample:\r\n\r\n       isElementPresent(By.id(&quot;test&quot;));\r\n\r\n       isElementPresent(By.xpath(&quot;//test1&quot;));\r\n\r\nFor your case solution will be Try/Catch:\r\n\r\n    public boolean isElementPresent(WebElement element) {\r\n       try {\r\n           element.getText();\r\n           return true;\r\n          } catch (NoSuchElementException e) {\r\n           return false;\r\n          }\r\n\r\nIf element not exists on the page then element.getText() will throw NosuchElementException, method will catch this exception and returns false.\r\n\r\nTry it and let me know if it works for you.","title":"In selenium with java need reusable method to verify isElement present which may have different locators like xpath, id, class name","body":"<p>Below method returns true in case element present.</p>\n\n<pre><code>public boolean isElementPresent(WebDriver driver,By locator){\n\n    if(driver.findElements(locator).size()!=0){\n        //Element present\n        return true;\n\n    }\n    else{\n        //Element not present \n        return false;\n    }\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>   isElementPresent(By.id(\"test\"));\n\n   isElementPresent(By.xpath(\"//test1\"));\n</code></pre>\n\n<p>For your case solution will be Try/Catch:</p>\n\n<pre><code>public boolean isElementPresent(WebElement element) {\n   try {\n       element.getText();\n       return true;\n      } catch (NoSuchElementException e) {\n       return false;\n      }\n</code></pre>\n\n<p>If element not exists on the page then element.getText() will throw NosuchElementException, method will catch this exception and returns false.</p>\n\n<p>Try it and let me know if it works for you.</p>\n"}],"owner":{"account_id":10728845,"reputation":25,"user_id":7895555,"accept_rate":40,"display_name":"Thiru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1516,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1666175196,"creation_date":1492690760,"question_id":43519342,"body_markdown":"I want to write a reusable method to identify whether the web Element is Present or not.\r\nThis method needs to accept e different locators like xpath, id, class name. \r\n\r\nHere is the code snipped I tried, but not worked for the line.\r\nif(Obj.isDisplayed())\r\n\r\n\r\n    public static boolean isElementPresent(WebDriver driver, WebElement Obj)\r\n    {\r\n        boolean result = false;\r\n    \ttry \r\n\t\t{\r\n            // if(Obj.isDisplayed())\r\n    \t\tif(driver.findElement(By.id(&quot;username&quot;)) != null)\r\n\t\t\t{\r\n    \t\t\tSystem.out.println(&quot;WEBELEMENT Username FOUND&quot;);\r\n    \t\t\tresult = true;\r\n    \t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n    \t\t\tresult = false;\r\n\t\t\t}\r\n    \t} \t\r\n\t\tcatch (Exception e) \r\n\t\t{\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \treturn result;\r\n    }","title":"In selenium with java need reusable method to verify isElement present which may have different locators like xpath, id, class name","body":"<p>I want to write a reusable method to identify whether the web Element is Present or not.\nThis method needs to accept e different locators like xpath, id, class name. </p>\n\n<p>Here is the code snipped I tried, but not worked for the line.\nif(Obj.isDisplayed())</p>\n\n<pre><code>public static boolean isElementPresent(WebDriver driver, WebElement Obj)\n{\n    boolean result = false;\n    try \n    {\n        // if(Obj.isDisplayed())\n        if(driver.findElement(By.id(\"username\")) != null)\n        {\n            System.out.println(\"WEBELEMENT Username FOUND\");\n            result = true;\n        }\n        else\n        {\n            result = false;\n        }\n    }   \n    catch (Exception e) \n    {\n        e.printStackTrace();\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jackson","lombok"],"comments":[{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1646992531,"post_id":71434813,"comment_id":126265764,"body_markdown":"How do you serialize your POJOs? Is it plain Spring? Or some other frameworks involved?\nPS: lombok should give you a warning on `@Jacksonized`, because that annotation has no effect without `@(Super)Builder`. You can remove it if you do not intend to use a builder for Jackson&#39;s instantiation.","body":"How do you serialize your POJOs? Is it plain Spring? Or some other frameworks involved? PS: lombok should give you a warning on <code>@Jacksonized</code>, because that annotation has no effect without <code>@(Super)Builder</code>. You can remove it if you do not intend to use a builder for Jackson&#39;s instantiation."},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":1,"creation_date":1646993317,"post_id":71434813,"comment_id":126266020,"body_markdown":"I&#39;ve ran your code and it&#39;s working as expected (Lombok=1.18.22, Jackson=2.13.1). Please post your ObjectMapper configuration and the version of Jackson/Lombok","body":"I&#39;ve ran your code and it&#39;s working as expected (Lombok=1.18.22, Jackson=2.13.1). Please post your ObjectMapper configuration and the version of Jackson/Lombok"}],"answers":[{"tags":[],"owner":{"account_id":5720158,"reputation":348,"user_id":4518837,"accept_rate":80,"display_name":"Gauranga Rathod"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666174985,"creation_date":1666174985,"answer_id":74123744,"question_id":71434813,"body_markdown":"Fix it in this way:-\r\n\r\n@NoArgsConstructor\r\n\r\n@AllArgsConstructor\r\n\r\npublic class Token {\r\n\r\n    @Setter(onMethod = @__(@JsonSetter(value = &quot;access_token&quot;))) \r\n\r\n    @Getter(onMethod = @__(@JsonGetter(value = &quot;accessToken&quot;))) \r\n\r\n    private String accessToken;\r\n}","title":"JsonProperty and lombok: Renaming is not done","body":"<p>Fix it in this way:-</p>\n<p>@NoArgsConstructor</p>\n<p>@AllArgsConstructor</p>\n<p>public class Token {</p>\n<pre><code>@Setter(onMethod = @__(@JsonSetter(value = &quot;access_token&quot;))) \n\n@Getter(onMethod = @__(@JsonGetter(value = &quot;accessToken&quot;))) \n\nprivate String accessToken;\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":4787866,"reputation":823,"user_id":3867820,"accept_rate":22,"display_name":"Daniel Pomrehn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666174985,"creation_date":1646982552,"question_id":71434813,"body_markdown":"I have a class annotat with @Data and @JsonProperty like in this example: \r\n\r\n    @Data\r\n    @Jacksonized\r\n    public class Request {\r\n\r\n      private Request.RequestRoot root;\r\n\r\n      @Data\r\n      @Jacksonized\r\n      public class RequestRoot {\r\n\r\n        @JsonProperty(&quot;AEND-DAT&quot;)\r\n        private LocalDate aenderungsdatum;\r\n\r\n        @JsonProperty(&quot;ANR-SL&quot;)\r\n        private String anredeSl;\r\n      }\r\n    }\r\n\r\nThis object is passed to a REST call and converted to JSON. But the JsonProperty is ignored, the fields are not named like this porperty says. It just ends in aenderungsdatum ant not AEND-DAT. \r\nBut I am required to use the names given in JsonProperty because the REST interface only accepts this values. \r\n\r\nAm I missing anything? ","title":"JsonProperty and lombok: Renaming is not done","body":"<p>I have a class annotat with @Data and @JsonProperty like in this example:</p>\n<pre><code>@Data\n@Jacksonized\npublic class Request {\n\n  private Request.RequestRoot root;\n\n  @Data\n  @Jacksonized\n  public class RequestRoot {\n\n    @JsonProperty(&quot;AEND-DAT&quot;)\n    private LocalDate aenderungsdatum;\n\n    @JsonProperty(&quot;ANR-SL&quot;)\n    private String anredeSl;\n  }\n}\n</code></pre>\n<p>This object is passed to a REST call and converted to JSON. But the JsonProperty is ignored, the fields are not named like this porperty says. It just ends in aenderungsdatum ant not AEND-DAT.\nBut I am required to use the names given in JsonProperty because the REST interface only accepts this values.</p>\n<p>Am I missing anything?</p>\n"},{"tags":["java","inheritance","annotations","gson"],"comments":[{"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"score":0,"creation_date":1338589739,"post_id":10857984,"comment_id":14143903,"body_markdown":"Wouldn&#39;t that break the class contract? A class B object would be an instance of class B (due to inheritance) but would not offer the id field that class A object offer...","body":"Wouldn&#39;t that break the class contract? A class B object would be an instance of class B (due to inheritance) but would not offer the id field that class A object offer..."},{"owner":{"account_id":1535520,"reputation":443,"user_id":1431685,"accept_rate":86,"display_name":"tpcordeiro"},"score":0,"creation_date":1338740044,"post_id":10857984,"comment_id":14165917,"body_markdown":"I understand your idea, but I dont think so, because annotations changes caracteristics of the attribute, like getters and setters, so theorically I can do this in a  child class.","body":"I understand your idea, but I dont think so, because annotations changes caracteristics of the attribute, like getters and setters, so theorically I can do this in a  child class."},{"owner":{"account_id":1535520,"reputation":443,"user_id":1431685,"accept_rate":86,"display_name":"tpcordeiro"},"score":0,"creation_date":1338740507,"post_id":10857984,"comment_id":14166014,"body_markdown":"For example, Hibernate allow me  [Hibernate inheritance](http://viralpatel.net/blogs/2011/12/hibernate-inheritance-table-per-concrete-class-annotation-xml-mapping.html)  See &quot;Hibernate Inheritance: Annotation Mapping&quot;, where @Inheritance makes the trick. I just want to know if GSON has the same feature.","body":"For example, Hibernate allow me  <a href=\"http://viralpatel.net/blogs/2011/12/hibernate-inheritance-table-per-concrete-class-annotation-xml-mapping.html\" rel=\"nofollow noreferrer\">Hibernate inheritance</a>  See &quot;Hibernate Inheritance: Annotation Mapping&quot;, where @Inheritance makes the trick. I just want to know if GSON has the same feature."}],"answers":[{"tags":[],"owner":{"account_id":17735,"reputation":39493,"user_id":40013,"accept_rate":75,"display_name":"Jesse Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1338607536,"creation_date":1338607536,"answer_id":10859559,"question_id":10857984,"body_markdown":"It isn&#39;t possible out of the box. You&#39;ll need to write a custom type adapter. See the [Custom Serialization and Deserialization][1] section of the Gson user&#39;s guide.\r\n\r\n\r\n  [1]: https://sites.google.com/site/gson/gson-user-guide#TOC-Custom-Serialization-and-Deserialization","title":"How to change @SerializedName, from GSON, of an attribute in a extended class","body":"<p>It isn't possible out of the box. You'll need to write a custom type adapter. See the <a href=\"https://sites.google.com/site/gson/gson-user-guide#TOC-Custom-Serialization-and-Deserialization\" rel=\"nofollow\">Custom Serialization and Deserialization</a> section of the Gson user's guide.</p>\n"},{"comments":[{"owner":{"account_id":111208,"reputation":1645,"user_id":293918,"accept_rate":100,"display_name":"Alberto M"},"score":0,"creation_date":1666174531,"post_id":41186950,"comment_id":130871466,"body_markdown":"this doesn&#39;t work","body":"this doesn&#39;t work"}],"tags":[],"owner":{"account_id":3347100,"reputation":9,"user_id":2812053,"display_name":"Reinzekuken"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1481899859,"creation_date":1481899859,"answer_id":41186950,"question_id":10857984,"body_markdown":"apply @SerializedName(&quot;b_id&quot;) to the setter in B\r\n\r\nclass B {\r\n    private String id;\r\n    \r\n    @SerializedName(&quot;b_id&quot;)\r\n    private void setId(String id);\r\n}","title":"How to change @SerializedName, from GSON, of an attribute in a extended class","body":"<p>apply @SerializedName(\"b_id\") to the setter in B</p>\n\n<p>class B {\n    private String id;</p>\n\n<pre><code>@SerializedName(\"b_id\")\nprivate void setId(String id);\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":111208,"reputation":1645,"user_id":293918,"accept_rate":100,"display_name":"Alberto M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666174905,"creation_date":1666174905,"answer_id":74123734,"question_id":10857984,"body_markdown":"this is what I did: I extended the class A, added a new parameter with the new serializer, and then  the overridden getter returns the new parameter:\r\n\r\n\r\n    class B extends A {\r\n    \r\n        @SerializedName(&quot;b_id&quot;)\r\n        private String newId;\r\n    \r\n        @Override\r\n        public @NotNull String getId() {\r\n            return newId;\r\n        }\r\n    }","title":"How to change @SerializedName, from GSON, of an attribute in a extended class","body":"<p>this is what I did: I extended the class A, added a new parameter with the new serializer, and then  the overridden getter returns the new parameter:</p>\n<pre><code>class B extends A {\n\n    @SerializedName(&quot;b_id&quot;)\n    private String newId;\n\n    @Override\n    public @NotNull String getId() {\n        return newId;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1535520,"reputation":443,"user_id":1431685,"accept_rate":86,"display_name":"tpcordeiro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7788,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1666174905,"creation_date":1338588927,"question_id":10857984,"body_markdown":"I have a class like this:\r\n\r\n    class A {\r\n\t    @Expose\r\n\t    @SerializedName(&quot;a_id&quot;)\r\n\t    private String id;\r\n    }\r\n\r\nNow I want to create class B that extends A, but, in B, I want to change the SerializedName of id to &quot;b_id&quot;. Is there a way to do this?\r\n","title":"How to change @SerializedName, from GSON, of an attribute in a extended class","body":"<p>I have a class like this:</p>\n\n<pre><code>class A {\n    @Expose\n    @SerializedName(\"a_id\")\n    private String id;\n}\n</code></pre>\n\n<p>Now I want to create class B that extends A, but, in B, I want to change the SerializedName of id to \"b_id\". Is there a way to do this?</p>\n"},{"tags":["java","json","slack-api","jayway"],"comments":[{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1575863715,"post_id":59098877,"comment_id":104695699,"body_markdown":"your question is very abstract, what parser you are using, this is client application, or a web application, from where `$.messages.` is coming, is it a kind of templating?","body":"your question is very abstract, what parser you are using, this is client application, or a web application, from where <code>$.messages.</code> is coming, is it a kind of templating?"},{"owner":{"account_id":8918408,"reputation":3806,"user_id":6656050,"display_name":"Jeremy Kahan"},"score":0,"creation_date":1575864407,"post_id":59098877,"comment_id":104695813,"body_markdown":"not sure if https://stackoverflow.com/questions/23897661/or-operator-in-jsonpath is relevant","body":"not sure if <a href=\"https://stackoverflow.com/questions/23897661/or-operator-in-jsonpath\" title=\"or operator in jsonpath\">stackoverflow.com/questions/23897661/or-operator-in-jsonpath</a> is relevant"},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1575875598,"post_id":59098877,"comment_id":104698501,"body_markdown":"What did you mean &quot;each read operation returns sorted list&quot;?","body":"What did you mean &quot;each read operation returns sorted list&quot;?"},{"owner":{"account_id":4942873,"reputation":191,"user_id":3979126,"accept_rate":25,"display_name":"amit"},"score":0,"creation_date":1576036992,"post_id":59098877,"comment_id":104764140,"body_markdown":"@silentsudo I am using com.jayway.jsonpath.JsonPath parser. Its a client. Messages are coming from slack api response.","body":"@silentsudo I am using com.jayway.jsonpath.JsonPath parser. Its a client. Messages are coming from slack api response."},{"owner":{"account_id":4942873,"reputation":191,"user_id":3979126,"accept_rate":25,"display_name":"amit"},"score":0,"creation_date":1576037053,"post_id":59098877,"comment_id":104764153,"body_markdown":"@LHCHIN the response by the api is in sorted manner. Thus every time I parse response it gives me sorted list.","body":"@LHCHIN the response by the api is in sorted manner. Thus every time I parse response it gives me sorted list."},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1576064616,"post_id":59098877,"comment_id":104775610,"body_markdown":"OK, so the response has been sorted by itself and you cannot prevent it from sorting. You invoked the API only once and it returned the sorted result, then you performed `JsonPath.read(document, jsonPathExpression)` twice to the sorted result and combined them, right?","body":"OK, so the response has been sorted by itself and you cannot prevent it from sorting. You invoked the API only once and it returned the sorted result, then you performed <code>JsonPath.read(document, jsonPathExpression)</code> twice to the sorted result and combined them, right?"},{"owner":{"account_id":1656067,"reputation":496,"user_id":1525602,"display_name":"Petr Bodn&#225;r"},"score":1,"creation_date":1576183640,"post_id":59098877,"comment_id":104826818,"body_markdown":"What are your exact intentions of combining the found and sorted messages with their seemingly optional nested &quot;previous&quot; messages (or even &quot;next&quot;, as I can see from the [docs](https://api.slack.com/methods/search.messages) - but they don&#39;t describe the data model behind though)? Does it really make sense to make one sorted list from them all? Sorted by which property? I would suggest to give a concrete example of expected vs. obtained results...","body":"What are your exact intentions of combining the found and sorted messages with their seemingly optional nested &quot;previous&quot; messages (or even &quot;next&quot;, as I can see from the <a href=\"https://api.slack.com/methods/search.messages\" rel=\"nofollow noreferrer\">docs</a> - but they don&#39;t describe the data model behind though)? Does it really make sense to make one sorted list from them all? Sorted by which property? I would suggest to give a concrete example of expected vs. obtained results..."},{"owner":{"account_id":4942873,"reputation":191,"user_id":3979126,"accept_rate":25,"display_name":"amit"},"score":0,"creation_date":1576630204,"post_id":59098877,"comment_id":104959903,"body_markdown":"@LHCHIN yes that&#39;s correct .","body":"@LHCHIN yes that&#39;s correct ."}],"answers":[{"comments":[{"owner":{"account_id":208696,"reputation":2360,"user_id":459347,"accept_rate":100,"display_name":"lscoughlin"},"score":0,"creation_date":1576233372,"post_id":59320663,"comment_id":104841552,"body_markdown":"When i refreshed to answer your answer popped :P","body":"When i refreshed to answer your answer popped :P"},{"owner":{"account_id":4942873,"reputation":191,"user_id":3979126,"accept_rate":25,"display_name":"amit"},"score":0,"creation_date":1576546983,"post_id":59320663,"comment_id":104926817,"body_markdown":"Thanks @Anar. I did try this but i returns a huge list which is difficult to parse further. I need to filter using 2 criterias .text and previous.text.","body":"Thanks @Anar. I did try this but i returns a huge list which is difficult to parse further. I need to filter using 2 criterias .text and previous.text."},{"owner":{"account_id":10074768,"reputation":3044,"user_id":7650222,"display_name":"Anar Sultanov"},"score":0,"creation_date":1576564571,"post_id":59320663,"comment_id":104930585,"body_markdown":"@amit I think this is the closest you can get using JSONPath, since it does not support union of separate paths.","body":"@amit I think this is the closest you can get using JSONPath, since it does not support union of separate paths."},{"owner":{"account_id":4942873,"reputation":191,"user_id":3979126,"accept_rate":25,"display_name":"amit"},"score":0,"creation_date":1576629991,"post_id":59320663,"comment_id":104959869,"body_markdown":"Thanks @Anar. Can you please suggest any other library which can help?","body":"Thanks @Anar. Can you please suggest any other library which can help?"},{"owner":{"account_id":10074768,"reputation":3044,"user_id":7650222,"display_name":"Anar Sultanov"},"score":1,"creation_date":1576651146,"post_id":59320663,"comment_id":104964190,"body_markdown":"@amit since you do not need to deserialize whole objects, but only get the attributes, you probably need a library that supports JSON tree representation, e.g. Jackson, GSON, etc.","body":"@amit since you do not need to deserialize whole objects, but only get the attributes, you probably need a library that supports JSON tree representation, e.g. Jackson, GSON, etc."},{"owner":{"account_id":4942873,"reputation":191,"user_id":3979126,"accept_rate":25,"display_name":"amit"},"score":0,"creation_date":1576725681,"post_id":59320663,"comment_id":104994493,"body_markdown":"@AnarSultanov I will try this.","body":"@AnarSultanov I will try this."},{"owner":{"account_id":4942873,"reputation":191,"user_id":3979126,"accept_rate":25,"display_name":"amit"},"score":0,"creation_date":1576727447,"post_id":59320663,"comment_id":104994829,"body_markdown":"@AnarSultanov I think this would work if there is single set of data. In my case json includes multiple messages. Its not only 1 message object.","body":"@AnarSultanov I think this would work if there is single set of data. In my case json includes multiple messages. Its not only 1 message object."},{"owner":{"account_id":10074768,"reputation":3044,"user_id":7650222,"display_name":"Anar Sultanov"},"score":0,"creation_date":1576733107,"post_id":59320663,"comment_id":104995927,"body_markdown":"It works with any set of data. Please read the library documentation that you have chosen on how to iterate through an array. I do not think that comments are the right place to discuss this.","body":"It works with any set of data. Please read the library documentation that you have chosen on how to iterate through an array. I do not think that comments are the right place to discuss this."}],"tags":[],"owner":{"account_id":10074768,"reputation":3044,"user_id":7650222,"display_name":"Anar Sultanov"},"comment_count":8,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1576233035,"creation_date":1576233035,"answer_id":59320663,"question_id":59098877,"body_markdown":"You can get both values using this expression:\r\n\r\n`$.messages.matches[*]..text`","title":"Combine jsonpath expression to read 2 nested properties in JSON string","body":"<p>You can get both values using this expression:</p>\n\n<p><code>$.messages.matches[*]..text</code></p>\n"}],"owner":{"account_id":4942873,"reputation":191,"user_id":3979126,"accept_rate":25,"display_name":"amit"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1913,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1666174491,"creation_date":1575002602,"question_id":59098877,"body_markdown":"I am using Slack API (`https://slack.com/api/search.messages`) to fetch posts in slack channel and parse the posts using Java code.\r\n\r\nFollowing is the sample Slack response where slack posts are &#39;text&#39; under &#39;matches&#39; and matches - previous&#39; :\r\n\r\n        {\r\n      &quot;ok&quot;: true,\r\n      &quot;query&quot;: &quot;\\&quot;@DTR:JQL\\&quot; in:#sydtest-reporting&quot;,\r\n      &quot;messages&quot;: {\r\n        &quot;total&quot;: 16,        \r\n        &quot;matches&quot;: [\r\n          {\r\n            &quot;iid&quot;: &quot;370f1cc2-aef9-4681-93f1-fa3787ce9d17&quot;,\r\n            &quot;team&quot;: &quot;T9180DGJH&quot;,\r\n            &quot;channel&quot;: {\r\n              &quot;id&quot;: &quot;C9UPLJ9D2&quot;,\r\n              &quot;is_channel&quot;: true,              \r\n              &quot;name&quot;: &quot;sydtest-reporting&quot;,              \r\n              &quot;teams&quot;: [\r\n                &quot;T9180DGJH&quot;\r\n              ]\r\n            },\r\n            &quot;type&quot;: &quot;message&quot;,\r\n            &quot;user&quot;: &quot;W9G7PAUCF&quot;,\r\n            &quot;username&quot;: &quot;200848&quot;,\r\n            &quot;ts&quot;: &quot;1568962541.016200&quot;,\r\n            &quot;text&quot;: &quot;@DTR:JQL#SYDEPS AND labels = Nov_2019_CSS_Cycle1&quot;,\r\n            &quot;previous&quot;: {\r\n              &quot;type&quot;: &quot;message&quot;,\r\n              &quot;user&quot;: &quot;WGGUL08NA&quot;,\r\n              &quot;username&quot;: &quot;208977&quot;,\r\n              &quot;ts&quot;: &quot;1568962184.015700&quot;,\r\n              &quot;text&quot;: &quot;@DTR:2019 November Release&quot;,\r\n              &quot;iid&quot;: &quot;4bdb76cf-015b-4b43-9608-013b56e47820&quot;,\r\n            },\r\n\r\nAbove response is sorted (&quot;sort&quot;, &quot;timestamp&quot;). I am using read() from com.jayway.jsonpath.JsonPath library to parse above JSON and using following 2 jsonPathExpression:\r\n\r\n    $.messages.matches[*].text\r\n    $.messages.matches[*].previous.text\r\n\r\nCurrently I am firing two separate `JsonPath.read(document, jsonPathExpression)` calls (one call for each jsonPathExpression above) and then make a combined list as below :\r\n\r\n    @DTR:JQL#SYDEPS AND labels = Nov_2019_CSS_Cycle1\r\n    @DTR:2019 November Release\r\n    ... many more\r\n\r\nProblem with this approach is, though each read operation returns sorted list, when I combine both lists, sorting is meaningless.\r\n\r\nWhat I am looking for is, single read operation for both jsonPathExpression. I can use some other JSON lib if needed.\r\n","title":"Combine jsonpath expression to read 2 nested properties in JSON string","body":"<p>I am using Slack API (<code>https://slack.com/api/search.messages</code>) to fetch posts in slack channel and parse the posts using Java code.</p>\n<p>Following is the sample Slack response where slack posts are 'text' under 'matches' and matches - previous' :</p>\n<pre><code>    {\n  &quot;ok&quot;: true,\n  &quot;query&quot;: &quot;\\&quot;@DTR:JQL\\&quot; in:#sydtest-reporting&quot;,\n  &quot;messages&quot;: {\n    &quot;total&quot;: 16,        \n    &quot;matches&quot;: [\n      {\n        &quot;iid&quot;: &quot;370f1cc2-aef9-4681-93f1-fa3787ce9d17&quot;,\n        &quot;team&quot;: &quot;T9180DGJH&quot;,\n        &quot;channel&quot;: {\n          &quot;id&quot;: &quot;C9UPLJ9D2&quot;,\n          &quot;is_channel&quot;: true,              \n          &quot;name&quot;: &quot;sydtest-reporting&quot;,              \n          &quot;teams&quot;: [\n            &quot;T9180DGJH&quot;\n          ]\n        },\n        &quot;type&quot;: &quot;message&quot;,\n        &quot;user&quot;: &quot;W9G7PAUCF&quot;,\n        &quot;username&quot;: &quot;200848&quot;,\n        &quot;ts&quot;: &quot;1568962541.016200&quot;,\n        &quot;text&quot;: &quot;@DTR:JQL#SYDEPS AND labels = Nov_2019_CSS_Cycle1&quot;,\n        &quot;previous&quot;: {\n          &quot;type&quot;: &quot;message&quot;,\n          &quot;user&quot;: &quot;WGGUL08NA&quot;,\n          &quot;username&quot;: &quot;208977&quot;,\n          &quot;ts&quot;: &quot;1568962184.015700&quot;,\n          &quot;text&quot;: &quot;@DTR:2019 November Release&quot;,\n          &quot;iid&quot;: &quot;4bdb76cf-015b-4b43-9608-013b56e47820&quot;,\n        },\n</code></pre>\n<p>Above response is sorted (&quot;sort&quot;, &quot;timestamp&quot;). I am using read() from com.jayway.jsonpath.JsonPath library to parse above JSON and using following 2 jsonPathExpression:</p>\n<pre><code>$.messages.matches[*].text\n$.messages.matches[*].previous.text\n</code></pre>\n<p>Currently I am firing two separate <code>JsonPath.read(document, jsonPathExpression)</code> calls (one call for each jsonPathExpression above) and then make a combined list as below :</p>\n<pre><code>@DTR:JQL#SYDEPS AND labels = Nov_2019_CSS_Cycle1\n@DTR:2019 November Release\n... many more\n</code></pre>\n<p>Problem with this approach is, though each read operation returns sorted list, when I combine both lists, sorting is meaningless.</p>\n<p>What I am looking for is, single read operation for both jsonPathExpression. I can use some other JSON lib if needed.</p>\n"},{"tags":["java","selenium","jenkins"],"answers":[{"tags":[],"owner":{"account_id":10621254,"reputation":2639,"user_id":7822301,"accept_rate":56,"display_name":"Zakaria Shahed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666174480,"creation_date":1666174480,"answer_id":74123645,"question_id":74122485,"body_markdown":"I am sharing my experience in this type of situation..\r\n\r\nI added a shell script that triggers after the build&#39;s success. Which will move your JSON file to a generic location. \r\n\r\nhere is an example of post-build. You can even execute the shell script.\r\n\r\nImage : https://issues.jenkins.io/secure/attachment/40480/JENKINS-48169_configuration.png \r\n\r\nAnd you have to read the JSON file from the generic location so every build will get latest updated data\r\n\r\n\r\n  \r\n\r\n\r\n","title":"How to use test data (json files) given by one build in subsequent builds?","body":"<p>I am sharing my experience in this type of situation..</p>\n<p>I added a shell script that triggers after the build's success. Which will move your JSON file to a generic location.</p>\n<p>here is an example of post-build. You can even execute the shell script.</p>\n<p>Image : <a href=\"https://issues.jenkins.io/secure/attachment/40480/JENKINS-48169_configuration.png\" rel=\"nofollow noreferrer\">https://issues.jenkins.io/secure/attachment/40480/JENKINS-48169_configuration.png</a></p>\n<p>And you have to read the JSON file from the generic location so every build will get latest updated data</p>\n"}],"owner":{"account_id":17770522,"reputation":89,"user_id":12904248,"display_name":"NoNoNo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666174480,"creation_date":1666169547,"question_id":74122485,"body_markdown":"I have few json files which get updated during jenkins build. I need to use updated data in the next jenkins build. \r\nWhen I run build from jenkins second time, jenkins is not taking data which was generated in previous build. And when I see my repository in CodeCommit, first build is not updating the json files. \r\nMy requirement is to use the data in second build which is generated from first build.\r\n","title":"How to use test data (json files) given by one build in subsequent builds?","body":"<p>I have few json files which get updated during jenkins build. I need to use updated data in the next jenkins build.\nWhen I run build from jenkins second time, jenkins is not taking data which was generated in previous build. And when I see my repository in CodeCommit, first build is not updating the json files.\nMy requirement is to use the data in second build which is generated from first build.</p>\n"},{"tags":["java","spring","security","authentication","authorization"],"answers":[{"comments":[{"owner":{"account_id":8510347,"reputation":382,"user_id":6380596,"accept_rate":50,"display_name":"Rinat"},"score":0,"creation_date":1539644807,"post_id":52825748,"comment_id":92568459,"body_markdown":"I&#39;ve just tried your solution, unfortunately not working for me. Any ideas?","body":"I&#39;ve just tried your solution, unfortunately not working for me. Any ideas?"},{"owner":{"account_id":14192303,"reputation":13,"user_id":10252536,"display_name":"Nadra"},"score":0,"creation_date":1539645478,"post_id":52825748,"comment_id":92568602,"body_markdown":"the problem is &quot;AnyRequest().permitAll() is after the hasAuthority(Admin).\nit will overwrite the access  i will update the code ^^ hope it works for you","body":"the problem is &quot;AnyRequest().permitAll() is after the hasAuthority(Admin). it will overwrite the access  i will update the code ^^ hope it works for you"}],"tags":[],"owner":{"account_id":14192303,"reputation":13,"user_id":10252536,"display_name":"Nadra"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666174424,"creation_date":1539643963,"answer_id":52825748,"question_id":52825679,"body_markdown":"I&#39;m using Spring Boot 2.0.4.RELEASE and Spring Security 5.0.7.RELEASE and in my WebSecurityController I&#39;m using the method `hasAuthority(&#39;ROLE_ADMIN&#39;)`.\r\n\r\nHere is a fix example:\r\n\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n       http.authorizeRequests()\r\n      // old\r\n      //.antMatchers(&quot;/users/getAll&quot;).hasAuthority(&quot;ROLE_ADMIN&quot;) \r\n      //.anyRequest().permitAll() \r\n      // Update    \r\n      .anyRequest().permitAll()\r\n      .antMatchers(&quot;/users/getAll&quot;).hasAuthority(&quot;ROLE_ADMIN&quot;) \r\n      .and()\r\n        .formLogin().loginPage(&quot;/login&quot;)\r\n        .usernameParameter(&quot;name&quot;).passwordParameter(&quot;password&quot;)\r\n      .and()\r\n        .logout().logoutSuccessUrl(&quot;/login?logout&quot;) \r\n       .and()\r\n       .exceptionHandling().accessDeniedPage(&quot;/403&quot;)\r\n      .and()\r\n        .csrf();\r\n     }\r\n","title":"How to use hasRole in Spring Security?","body":"<p>I'm using Spring Boot 2.0.4.RELEASE and Spring Security 5.0.7.RELEASE and in my WebSecurityController I'm using the method <code>hasAuthority('ROLE_ADMIN')</code>.</p>\n<p>Here is a fix example:</p>\n<pre><code>protected void configure(HttpSecurity http) throws Exception {\n   http.authorizeRequests()\n  // old\n  //.antMatchers(&quot;/users/getAll&quot;).hasAuthority(&quot;ROLE_ADMIN&quot;) \n  //.anyRequest().permitAll() \n  // Update    \n  .anyRequest().permitAll()\n  .antMatchers(&quot;/users/getAll&quot;).hasAuthority(&quot;ROLE_ADMIN&quot;) \n  .and()\n    .formLogin().loginPage(&quot;/login&quot;)\n    .usernameParameter(&quot;name&quot;).passwordParameter(&quot;password&quot;)\n  .and()\n    .logout().logoutSuccessUrl(&quot;/login?logout&quot;) \n   .and()\n   .exceptionHandling().accessDeniedPage(&quot;/403&quot;)\n  .and()\n    .csrf();\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8510347,"reputation":382,"user_id":6380596,"accept_rate":50,"display_name":"Rinat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666174364,"creation_date":1539657352,"answer_id":52827170,"question_id":52825679,"body_markdown":"Finally I repair the method `configure()` and extends from `WebSecurityConfigurerAdapter` as it said in Spring Security reference [6.4 Authorize Requests][1]:\r\n\r\n\r\n    @Controller\r\n    @EnableWebSecurity\r\n    public class WebSecurityController extends WebSecurityConfigurerAdapter {\r\n    \t\r\n\t@Autowired\r\n\tDataSource dataSource;\r\n\t\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t \r\n\t\t http\r\n\t        .authorizeRequests()                                                                \r\n\t            .antMatchers(&quot;/resources/**&quot;, &quot;/signup&quot;, &quot;/about&quot;).permitAll()                  \r\n\t            .antMatchers(&quot;/users/**&quot;).hasRole(&quot;ADMIN&quot;)                                      \r\n\t            .antMatchers(&quot;/db/**&quot;).access(&quot;hasRole(&#39;ADMIN&#39;) and hasRole(&#39;DBA&#39;)&quot;)            \r\n\t            .anyRequest().authenticated()                                                   \r\n\t        .and()\r\n\t        \t.formLogin()\r\n\t        .and()\r\n\t        \t.logout().logoutSuccessUrl(&quot;/login?logout&quot;) \r\n\t        .and()\r\n\t    \t\t.exceptionHandling().accessDeniedPage(&quot;/403&quot;)\r\n\t    \t\t;\r\n\t}\r\n\t\t \r\n \t@Autowired\r\n \tpublic void configAuthentication(AuthenticationManagerBuilder auth) throws Exception {\r\n \t\t auth.jdbcAuthentication().dataSource(dataSource)\r\n\t \t  .usersByUsernameQuery(&quot;select name,password,enabled from users where name=?&quot;)\r\n\t \t  .authoritiesByUsernameQuery(&quot;select username, role from user_roles where username=?&quot;)\r\n\t \t  .passwordEncoder(new BCryptPasswordEncoder());\r\n \t} \r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#jc-authorize-requests","title":"How to use hasRole in Spring Security?","body":"<p>Finally I repair the method <code>configure()</code> and extends from <code>WebSecurityConfigurerAdapter</code> as it said in Spring Security reference <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#jc-authorize-requests\" rel=\"nofollow noreferrer\">6.4 Authorize Requests</a>:</p>\n<pre><code>@Controller\n@EnableWebSecurity\npublic class WebSecurityController extends WebSecurityConfigurerAdapter {\n    \n@Autowired\nDataSource dataSource;\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n     \n     http\n        .authorizeRequests()                                                                \n            .antMatchers(&quot;/resources/**&quot;, &quot;/signup&quot;, &quot;/about&quot;).permitAll()                  \n            .antMatchers(&quot;/users/**&quot;).hasRole(&quot;ADMIN&quot;)                                      \n            .antMatchers(&quot;/db/**&quot;).access(&quot;hasRole('ADMIN') and hasRole('DBA')&quot;)            \n            .anyRequest().authenticated()                                                   \n        .and()\n            .formLogin()\n        .and()\n            .logout().logoutSuccessUrl(&quot;/login?logout&quot;) \n        .and()\n            .exceptionHandling().accessDeniedPage(&quot;/403&quot;)\n            ;\n}\n     \n@Autowired\npublic void configAuthentication(AuthenticationManagerBuilder auth) throws Exception {\n     auth.jdbcAuthentication().dataSource(dataSource)\n      .usersByUsernameQuery(&quot;select name,password,enabled from users where name=?&quot;)\n      .authoritiesByUsernameQuery(&quot;select username, role from user_roles where username=?&quot;)\n      .passwordEncoder(new BCryptPasswordEncoder());\n} \n</code></pre>\n"}],"owner":{"account_id":8510347,"reputation":382,"user_id":6380596,"accept_rate":50,"display_name":"Rinat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666174424,"creation_date":1539643437,"question_id":52825679,"body_markdown":"I wrote SpringBoot application with authentication via web login form. Class **WebSecurityController** is responsible for authentication and authorization.\r\nHere is its code:\r\n\r\n    @Controller\r\n    @EnableWebSecurity\r\n    public class WebSecurityController extends WebSecurityConfiguration {\r\n\r\n\t@Autowired\r\n\tDataSource dataSource;\r\n \t\r\n \tprotected void configure(HttpSecurity http) throws Exception {\r\n \t   http.authorizeRequests()\r\n \t  .antMatchers(&quot;/users/getAll&quot;).access(&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot;)  \r\n \t  .anyRequest().permitAll()\r\n \t  .and()\r\n \t    .formLogin().loginPage(&quot;/login&quot;)\r\n \t    .usernameParameter(&quot;name&quot;).passwordParameter(&quot;password&quot;)\r\n \t  .and()\r\n \t    .logout().logoutSuccessUrl(&quot;/login?logout&quot;) \r\n \t   .and()\r\n \t   .exceptionHandling().accessDeniedPage(&quot;/403&quot;)\r\n \t  .and()\r\n \t    .csrf();\r\n \t }\r\n\r\n \t @Autowired\r\n \t public void configAuthentication(AuthenticationManagerBuilder auth) throws Exception {\r\n \t\t auth.jdbcAuthentication().dataSource(dataSource)\r\n\t \t  .usersByUsernameQuery(&quot;select name,password,enabled from users where name=?&quot;)\r\n\t \t  .authoritiesByUsernameQuery(&quot;select username, role from user_roles where username=?&quot;)\r\n\t \t  .passwordEncoder(new BCryptPasswordEncoder());\r\n \t }\r\n\r\n    }\r\n\r\nIt retrieves the user credentials from **users** and **user_roles** tables of the database:\r\n\r\n    mysql&gt; select * from users;\r\n    +----+--------+---------+---------+--------------------------------------------------------------+\r\n    | id | name   | salary  | enabled | password                                                     |\r\n    +----+--------+---------+---------+--------------------------------------------------------------+\r\n    |  1 | Rinat  |  100000 |       1 | $2a$10$Md.HmF6dVbwKLxcb09dgy.JTHKq3BLLg0ZrBHHx75fNmkH8.kGeGy |\r\n    |  2 | Juliya | 1000000 |       1 | $2a$10$XWksiqEwqJ4jWp00F37i/.A8YpknUPKi36kDd2NgwKI6EBPRRMzXa |\r\n    +----+--------+---------+---------+--------------------------------------------------------------+\r\n\r\n    mysql&gt; select * from user_roles;\r\n    +----+----------+------------+\r\n    | id | username | role       |\r\n    +----+----------+------------+\r\n    |  1 | Rinat    | ROLE_ADMIN |\r\n    |  2 | Juliya   | ROLE_USER  |\r\n    +----+----------+------------+\r\nAuthentication works fine, but unfortunately any users can access to protected resource &quot;/users/getAll&quot;. It seems that `access(&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot;` not working.\r\n","title":"How to use hasRole in Spring Security?","body":"<p>I wrote SpringBoot application with authentication via web login form. Class <strong>WebSecurityController</strong> is responsible for authentication and authorization.\nHere is its code:</p>\n\n<pre><code>@Controller\n@EnableWebSecurity\npublic class WebSecurityController extends WebSecurityConfiguration {\n\n@Autowired\nDataSource dataSource;\n\nprotected void configure(HttpSecurity http) throws Exception {\n   http.authorizeRequests()\n  .antMatchers(\"/users/getAll\").access(\"hasRole('ROLE_ADMIN')\")  \n  .anyRequest().permitAll()\n  .and()\n    .formLogin().loginPage(\"/login\")\n    .usernameParameter(\"name\").passwordParameter(\"password\")\n  .and()\n    .logout().logoutSuccessUrl(\"/login?logout\") \n   .and()\n   .exceptionHandling().accessDeniedPage(\"/403\")\n  .and()\n    .csrf();\n }\n\n @Autowired\n public void configAuthentication(AuthenticationManagerBuilder auth) throws Exception {\n     auth.jdbcAuthentication().dataSource(dataSource)\n      .usersByUsernameQuery(\"select name,password,enabled from users where name=?\")\n      .authoritiesByUsernameQuery(\"select username, role from user_roles where username=?\")\n      .passwordEncoder(new BCryptPasswordEncoder());\n }\n\n}\n</code></pre>\n\n<p>It retrieves the user credentials from <strong>users</strong> and <strong>user_roles</strong> tables of the database:</p>\n\n<pre><code>mysql&gt; select * from users;\n+----+--------+---------+---------+--------------------------------------------------------------+\n| id | name   | salary  | enabled | password                                                     |\n+----+--------+---------+---------+--------------------------------------------------------------+\n|  1 | Rinat  |  100000 |       1 | $2a$10$Md.HmF6dVbwKLxcb09dgy.JTHKq3BLLg0ZrBHHx75fNmkH8.kGeGy |\n|  2 | Juliya | 1000000 |       1 | $2a$10$XWksiqEwqJ4jWp00F37i/.A8YpknUPKi36kDd2NgwKI6EBPRRMzXa |\n+----+--------+---------+---------+--------------------------------------------------------------+\n\nmysql&gt; select * from user_roles;\n+----+----------+------------+\n| id | username | role       |\n+----+----------+------------+\n|  1 | Rinat    | ROLE_ADMIN |\n|  2 | Juliya   | ROLE_USER  |\n+----+----------+------------+\n</code></pre>\n\n<p>Authentication works fine, but unfortunately any users can access to protected resource \"/users/getAll\". It seems that <code>access(\"hasRole('ROLE_ADMIN')\"</code> not working.</p>\n"},{"tags":["java","action","switch-statement"],"comments":[{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1350498905,"post_id":12940969,"comment_id":17539975,"body_markdown":"Any specific reason why would you want switch-case?","body":"Any specific reason why would you want switch-case?"},{"owner":{"account_id":1927768,"reputation":1890,"user_id":1737830,"accept_rate":81,"display_name":"AbreQueVoy"},"score":0,"creation_date":1350499283,"post_id":12940969,"comment_id":17540117,"body_markdown":"The only reason is to make the code more clear.","body":"The only reason is to make the code more clear."},{"owner":{"account_id":1325935,"reputation":6668,"user_id":1270725,"accept_rate":74,"display_name":"mcalex"},"score":1,"creation_date":1350499462,"post_id":12940969,"comment_id":17540195,"body_markdown":"then, as dystroy says down below, move all the common code into the main bit of the `if (source == comboUnit)` condition and just have the `valmeter = ` lines in the if statement (`labelDesc.setText(unit);` will work in the common code)","body":"then, as dystroy says down below, move all the common code into the main bit of the <code>if (source == comboUnit)</code> condition and just have the <code>valmeter = </code> lines in the if statement (<code>labelDesc.setText(unit);</code> will work in the common code)"}],"answers":[{"tags":[],"owner":{"account_id":437352,"reputation":19077,"user_id":824987,"accept_rate":56,"display_name":"Amit Deshpande"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350499221,"creation_date":1350498899,"answer_id":12940983,"question_id":12940969,"body_markdown":"You can use `Enum` and replace string with Enum values\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tUnits unit = Units.Unit1;\r\n\t\tswitch (unit) {\r\n\t\tcase Unit1:\r\n\t\t\tbreak;\r\n\t\tcase Unit2:\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tenum Units {\r\n\t\tUnit1, Unit2,\r\n\t}\r\n\r\nJava 7 allows you [Using Strings in switch Statements](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html)\r\n","title":"Is it possible to replace if-else with switch statement using strings as switching values?","body":"<p>You can use <code>Enum</code> and replace string with Enum values</p>\n\n<pre><code>public static void main(String[] args) {\n    Units unit = Units.Unit1;\n    switch (unit) {\n    case Unit1:\n        break;\n    case Unit2:\n        break;\n    }\n}\n\nenum Units {\n    Unit1, Unit2,\n}\n</code></pre>\n\n<p>Java 7 allows you <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow\">Using Strings in switch Statements</a></p>\n"},{"tags":[],"owner":{"account_id":92878,"reputation":8722,"user_id":254343,"accept_rate":64,"display_name":"Armen Michaeli"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666174364,"creation_date":1350498903,"answer_id":12940985,"question_id":12940969,"body_markdown":"Java 7 allows you to `switch` on `String`s.\r\n\r\nYour code needs refactoring though, and the question of whether to use `switch` or [enumerations][1] or [maps][2], is something that comes second, I would say.\r\n\r\nYou have too much duplicated code doing essentially the same thing. I am referring to:\r\n\r\n    unitValue = Double.parseDouble(tfUnit.getText());\r\n    valMeter = unitValue * defined1;\r\n    labelDesc.setText(&quot;Unit 1&quot;);\r\n    convert();\r\n\r\nObviously, because you multiply using different factors depending on the unit used, you need a function of unit evaluating to the factor to use. In less mathematical terms, you need something that yields value of either `defined1` or `defined2` depending on a string supplied.  You already have the `unit` referring to the &quot;name&quot; of your unit in question, you can use it. I call the method returning the factor for `factor`, taking in a unit name and returning a `Number` (since it does not follow from your example whether you are multiplying integers or real numbers of some sort). I am also assuming your `defined1` and `defined2` etc, are variables or literals.\r\n\r\n    unitValue = Double.parseDouble(tfUnit.getText());\r\n    valMeter = unitValue * factor(unit);\r\n    labelDesc.setText(unit);\r\n    convert();\r\n\r\n    Number factor(String unitName) {\r\n         switch(unitName) {\r\n             case &quot;Unit 1&quot;: return defined1;\r\n             case &quot;Unit 2&quot;: return defined2;\r\n             default: throw new Exception(&quot;Unknown unit&quot;);\r\n         }\r\n    }\r\n\r\nThe method itself is where your &quot;to switch or not to switch&quot; problem creeps in. You are free to use a [map][2] if you want:\r\n\r\n    Map&lt;String, Number&gt; unitNameValueMap = new HashMap&lt;String, Number&gt;();\r\n\r\n    unitNameValueMap.put(&quot;Unit 1&quot;, defined1);\r\n    unitNameValueMap.put(&quot;Unit 2&quot;, defined2);\r\n\r\n    Number factor(String unitName) {\r\n        Number result = unitNameValueMap.get(unitName);\r\n        if(result == null) throw new Exception(&quot;Unknown unit&quot;);\r\n        return result;\r\n    }\r\n\r\nOr you can use enumerations:\r\n\r\n    enum UnitValue {\r\n        UNIT1(defined1), UNIT2(defined2);\r\n        final Number value;\r\n        private UnitValue(Number value) {\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\n    Number factor(String unitName) {\r\n        return Enum.valueOf(UnitValue.class, &quot;UNIT&quot; + Integer.parseInt(unitName.substring(5)).value;\r\n    }\r\n\r\nYou can even `switch` or use a map inside enumerations, which will give you good code readability as well.\r\n\r\nYou need to profile your program to see if you need `switch`-based solution or enum-based one or a map-based one. The way it currently stands and as you can see for yourself, the `enum`-based solution is a bit messy because of relationship between your unit names, enumeration constants, and their values. If someone can do better with enums, then take their code instead, naturally.\r\n\r\nUsually, shortest code is best, as it is easier to read and most often understand. But be careful with maps - they induce more overhead than other solutions, so I for one prefer to use them where I have fewer maps with many keys each, not the other way around.\r\n\r\n[1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Enum.html\r\n[2]: http://docs.oracle.com/javase/6/docs/api/java/util/Map.html","title":"Is it possible to replace if-else with switch statement using strings as switching values?","body":"<p>Java 7 allows you to <code>switch</code> on <code>String</code>s.</p>\n<p>Your code needs refactoring though, and the question of whether to use <code>switch</code> or <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Enum.html\" rel=\"nofollow noreferrer\">enumerations</a> or <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">maps</a>, is something that comes second, I would say.</p>\n<p>You have too much duplicated code doing essentially the same thing. I am referring to:</p>\n<pre><code>unitValue = Double.parseDouble(tfUnit.getText());\nvalMeter = unitValue * defined1;\nlabelDesc.setText(&quot;Unit 1&quot;);\nconvert();\n</code></pre>\n<p>Obviously, because you multiply using different factors depending on the unit used, you need a function of unit evaluating to the factor to use. In less mathematical terms, you need something that yields value of either <code>defined1</code> or <code>defined2</code> depending on a string supplied.  You already have the <code>unit</code> referring to the &quot;name&quot; of your unit in question, you can use it. I call the method returning the factor for <code>factor</code>, taking in a unit name and returning a <code>Number</code> (since it does not follow from your example whether you are multiplying integers or real numbers of some sort). I am also assuming your <code>defined1</code> and <code>defined2</code> etc, are variables or literals.</p>\n<pre><code>unitValue = Double.parseDouble(tfUnit.getText());\nvalMeter = unitValue * factor(unit);\nlabelDesc.setText(unit);\nconvert();\n\nNumber factor(String unitName) {\n     switch(unitName) {\n         case &quot;Unit 1&quot;: return defined1;\n         case &quot;Unit 2&quot;: return defined2;\n         default: throw new Exception(&quot;Unknown unit&quot;);\n     }\n}\n</code></pre>\n<p>The method itself is where your &quot;to switch or not to switch&quot; problem creeps in. You are free to use a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">map</a> if you want:</p>\n<pre><code>Map&lt;String, Number&gt; unitNameValueMap = new HashMap&lt;String, Number&gt;();\n\nunitNameValueMap.put(&quot;Unit 1&quot;, defined1);\nunitNameValueMap.put(&quot;Unit 2&quot;, defined2);\n\nNumber factor(String unitName) {\n    Number result = unitNameValueMap.get(unitName);\n    if(result == null) throw new Exception(&quot;Unknown unit&quot;);\n    return result;\n}\n</code></pre>\n<p>Or you can use enumerations:</p>\n<pre><code>enum UnitValue {\n    UNIT1(defined1), UNIT2(defined2);\n    final Number value;\n    private UnitValue(Number value) {\n        this.value = value;\n    }\n}\n\nNumber factor(String unitName) {\n    return Enum.valueOf(UnitValue.class, &quot;UNIT&quot; + Integer.parseInt(unitName.substring(5)).value;\n}\n</code></pre>\n<p>You can even <code>switch</code> or use a map inside enumerations, which will give you good code readability as well.</p>\n<p>You need to profile your program to see if you need <code>switch</code>-based solution or enum-based one or a map-based one. The way it currently stands and as you can see for yourself, the <code>enum</code>-based solution is a bit messy because of relationship between your unit names, enumeration constants, and their values. If someone can do better with enums, then take their code instead, naturally.</p>\n<p>Usually, shortest code is best, as it is easier to read and most often understand. But be careful with maps - they induce more overhead than other solutions, so I for one prefer to use them where I have fewer maps with many keys each, not the other way around.</p>\n"},{"comments":[{"owner":{"account_id":1325935,"reputation":6668,"user_id":1270725,"accept_rate":74,"display_name":"mcalex"},"score":0,"creation_date":1350499194,"post_id":12940990,"comment_id":17540085,"body_markdown":"@dys: nahh, valmeter involves defined1 or defined2","body":"@dys: nahh, valmeter involves defined1 or defined2"},{"owner":{"account_id":97082,"reputation":375036,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":2,"creation_date":1350499257,"post_id":12940990,"comment_id":17540110,"body_markdown":"And can&#39;t it be obtained more simply ? I suggest at least to put all that you can outside the switch and leave only the code that really depends on the unit.","body":"And can&#39;t it be obtained more simply ? I suggest at least to put all that you can outside the switch and leave only the code that really depends on the unit."}],"tags":[],"owner":{"account_id":97082,"reputation":375036,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350498919,"creation_date":1350498919,"answer_id":12940990,"question_id":12940969,"body_markdown":"You mean like \r\n\r\n    switch (unit) {\r\n    case &quot;Unit 1&quot;:\r\n      // do something\r\n      break;\r\n\r\n    case &quot;Unit 2&quot;:\r\n\r\n    }\r\n\r\n?\r\n\r\nYes you can, starting with Java7.\r\n\r\nBut in your case, you don&#39;t seem to need neither switch nor if/else. You do the same thing in both cases :\r\n\r\n     String unit = comboUnit.getSelectedItem().toString();\r\n     unitValue = Double.parseDouble(tfUnit.getText());\r\n     valMeter = unitValue * defined1;\r\n     labelDesc.setText(unit);\r\n     convert();","title":"Is it possible to replace if-else with switch statement using strings as switching values?","body":"<p>You mean like </p>\n\n<pre><code>switch (unit) {\ncase \"Unit 1\":\n  // do something\n  break;\n\ncase \"Unit 2\":\n\n}\n</code></pre>\n\n<p>?</p>\n\n<p>Yes you can, starting with Java7.</p>\n\n<p>But in your case, you don't seem to need neither switch nor if/else. You do the same thing in both cases :</p>\n\n<pre><code> String unit = comboUnit.getSelectedItem().toString();\n unitValue = Double.parseDouble(tfUnit.getText());\n valMeter = unitValue * defined1;\n labelDesc.setText(unit);\n convert();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350499012,"creation_date":1350499012,"answer_id":12941018,"question_id":12940969,"body_markdown":"Only in Java 7 and later is it possible to use Strings in a switch-case statement. Here is a link to the documentation, you will need to scroll down to the String section.\r\n\r\nhttp://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html","title":"Is it possible to replace if-else with switch statement using strings as switching values?","body":"<p>Only in Java 7 and later is it possible to use Strings in a switch-case statement. Here is a link to the documentation, you will need to scroll down to the String section.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html</a></p>\n"}],"owner":{"account_id":1927768,"reputation":1890,"user_id":1737830,"accept_rate":81,"display_name":"AbreQueVoy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1855,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":12940985,"answer_count":4,"score":0,"last_activity_date":1666174364,"creation_date":1350498843,"question_id":12940969,"body_markdown":"I&#39;m wondering if it&#39;s possible to use switch statement instead of if-else one in this case. Variables are taken from JComboBoxes and processed by ActionEvent here:\r\n\r\n    public void actionPerformed(ActionEvent event) {\r\n\r\n        Object source = event.getSource();\r\n\r\n         if (source == comboUnit) {\r\n\r\n            String unit = comboUnit.getSelectedItem().toString();\r\n\r\n                if (unit.equals(&quot;Unit 1&quot;)) {\r\n                unitValue = Double.parseDouble(tfUnit.getText());\r\n                valMeter = unitValue * defined1;\r\n                labelDesc.setText(&quot;Unit 1&quot;);\r\n                convert();\r\n            }\r\n\r\n            else if (unit.equals(&quot;Unit 2&quot;)) {\r\n                unitValue = Double.parseDouble(tfUnit.getText());\r\n                valMeter = unitValue * defined2;\r\n                labelDesc.setText(&quot;Unit 2&quot;);\r\n                convert();\r\n            }\r\n    (...)\r\n\r\nI was trying to pass pure strings as the values but with no success. Do you have any hints on how it should be done (and if it&#39;s even possible)?","title":"Is it possible to replace if-else with switch statement using strings as switching values?","body":"<p>I'm wondering if it's possible to use switch statement instead of if-else one in this case. Variables are taken from JComboBoxes and processed by ActionEvent here:</p>\n\n<pre><code>public void actionPerformed(ActionEvent event) {\n\n    Object source = event.getSource();\n\n     if (source == comboUnit) {\n\n        String unit = comboUnit.getSelectedItem().toString();\n\n            if (unit.equals(\"Unit 1\")) {\n            unitValue = Double.parseDouble(tfUnit.getText());\n            valMeter = unitValue * defined1;\n            labelDesc.setText(\"Unit 1\");\n            convert();\n        }\n\n        else if (unit.equals(\"Unit 2\")) {\n            unitValue = Double.parseDouble(tfUnit.getText());\n            valMeter = unitValue * defined2;\n            labelDesc.setText(\"Unit 2\");\n            convert();\n        }\n(...)\n</code></pre>\n\n<p>I was trying to pass pure strings as the values but with no success. Do you have any hints on how it should be done (and if it's even possible)?</p>\n"},{"tags":["java","list","duplicates"],"comments":[{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1666115475,"post_id":74115247,"comment_id":130857622,"body_markdown":"You could use the [`Collection.containsAll()`](https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#containsAll-java.util.Collection-) method to check if a list contains every item in another list. As for performance, you can play the odds a bit. Since bigger lists will have a higher chance of containing smaller lists, you can iterate through the smaller lists and check if the biggest lists contain them. Since these lists are big, you can also use `HashSet` instead of `List` so it doesn&#39;t have to loop through everything when checking if the bigger list contains the smaller one.","body":"You could use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#containsAll-java.util.Collection-\" rel=\"nofollow noreferrer\"><code>Collection.containsAll()</code></a> method to check if a list contains every item in another list. As for performance, you can play the odds a bit. Since bigger lists will have a higher chance of containing smaller lists, you can iterate through the smaller lists and check if the biggest lists contain them. Since these lists are big, you can also use <code>HashSet</code> instead of <code>List</code> so it doesn&#39;t have to loop through everything when checking if the bigger list contains the smaller one."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666116526,"post_id":74115247,"comment_id":130858044,"body_markdown":"Are there any criteria how that would allow to determine that a *list* belongs to a particular *group of lists* (that share common elements) without looking at other lists? For instance, in your dummy example all the smaller lists share the same last element, is there something like that in real data?","body":"Are there any criteria how that would allow to determine that a <i>list</i> belongs to a particular <i>group of lists</i> (that share common elements) without looking at other lists? For instance, in your dummy example all the smaller lists share the same last element, is there something like that in real data?"},{"owner":{"account_id":2174712,"reputation":500,"user_id":2039591,"accept_rate":88,"display_name":"user007"},"score":0,"creation_date":1666116573,"post_id":74115247,"comment_id":130858065,"body_markdown":"@Jesse Unfortunately, I can&#39;t use containsAll()  as it&#39;s a list of objects. My object:\nclass MyObjectOne { String name, String value; } \nclass MyObjectBig { String startElem, String endElem, List&lt;MyObjectOne&gt; list } \nList&lt;MyObjectOne&gt; thatsMyList &lt;--- I&#39;d like to remove duplicates described above from it. \n\nHowever, collecting all the &#39;names&#39; and then iterating would help. Might be a good idea!","body":"@Jesse Unfortunately, I can&#39;t use containsAll()  as it&#39;s a list of objects. My object: class MyObjectOne { String name, String value; }  class MyObjectBig { String startElem, String endElem, List&lt;MyObjectOne&gt; list }  List&lt;MyObjectOne&gt; thatsMyList &lt;--- I&#39;d like to remove duplicates described above from it.   However, collecting all the &#39;names&#39; and then iterating would help. Might be a good idea!"},{"owner":{"account_id":2174712,"reputation":500,"user_id":2039591,"accept_rate":88,"display_name":"user007"},"score":0,"creation_date":1666116741,"post_id":74115247,"comment_id":130858132,"body_markdown":"@AlexanderIvanchenko kind of. Every object in the outer list contains the name of the first and last element in the inner list. See my object in my previous comment above.","body":"@AlexanderIvanchenko kind of. Every object in the outer list contains the name of the first and last element in the inner list. See my object in my previous comment above."},{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":1,"creation_date":1666116850,"post_id":74115247,"comment_id":130858164,"body_markdown":"You can though. You would just have to override the equality members. In most cases you can have your IDE do this for you. Another approach, if you don&#39;t care about keeping it 2 dimensional, would just be to override the equality members (I believe it&#39;s just `getHashCode` in this case), then add every item in every list to a `HashSet`. This will remove duplicates and you&#39;ll be left with a nice list of distinct objects.","body":"You can though. You would just have to override the equality members. In most cases you can have your IDE do this for you. Another approach, if you don&#39;t care about keeping it 2 dimensional, would just be to override the equality members (I believe it&#39;s just <code>getHashCode</code> in this case), then add every item in every list to a <code>HashSet</code>. This will remove duplicates and you&#39;ll be left with a nice list of distinct objects."},{"owner":{"account_id":2174712,"reputation":500,"user_id":2039591,"accept_rate":88,"display_name":"user007"},"score":0,"creation_date":1666116993,"post_id":74115247,"comment_id":130858215,"body_markdown":"doh. Indeed! I&#39;ll try that @Jesse sounds like a brilliant idea. I think I&#39;ve spent way too much time on that going in the wrong direction. I&#39;ll try to implement that - I&#39;ll keep you posted :) thank you!","body":"doh. Indeed! I&#39;ll try that @Jesse sounds like a brilliant idea. I think I&#39;ve spent way too much time on that going in the wrong direction. I&#39;ll try to implement that - I&#39;ll keep you posted :) thank you!"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666117541,"post_id":74115247,"comment_id":130858415,"body_markdown":"Does `MyObjectOne` has a natural ordering (or potentially could have) and does the names `startElem` and `endElem` imply that all elements in the list `&gt;=` that `startElem` and `&lt;=` than `endElem`?","body":"Does <code>MyObjectOne</code> has a natural ordering (or potentially could have) and does the names <code>startElem</code> and <code>endElem</code> imply that all elements in the list <code>&gt;=</code> that <code>startElem</code> and <code>&lt;=</code> than <code>endElem</code>?"},{"owner":{"account_id":2174712,"reputation":500,"user_id":2039591,"accept_rate":88,"display_name":"user007"},"score":0,"creation_date":1666118473,"post_id":74115247,"comment_id":130858704,"body_markdown":"@AlexanderIvanchenko these are just strings, they aren&#39;t sorted in any way. They need to stay in the order of how they were inserted into the list.","body":"@AlexanderIvanchenko these are just strings, they aren&#39;t sorted in any way. They need to stay in the order of how they were inserted into the list."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1666122771,"post_id":74115247,"comment_id":130860090,"body_markdown":"What if 2nd sublist doesn&#39;t have a 7, but instead has a 9? Is the end result that the first 2 element are preserved, since neither is a subset of the other? In this case you end up with multiple elements repeated across both lists (3,4,5,6,8) - acceptable? If not then I don&#39;t understand the problem as you&#39;ve presented it","body":"What if 2nd sublist doesn&#39;t have a 7, but instead has a 9? Is the end result that the first 2 element are preserved, since neither is a subset of the other? In this case you end up with multiple elements repeated across both lists (3,4,5,6,8) - acceptable? If not then I don&#39;t understand the problem as you&#39;ve presented it"},{"owner":{"account_id":2174712,"reputation":500,"user_id":2039591,"accept_rate":88,"display_name":"user007"},"score":0,"creation_date":1666126320,"post_id":74115247,"comment_id":130861034,"body_markdown":"@Michael that bit won&#39;t match the largest list, so should not be removed. Only exact matches counts.","body":"@Michael that bit won&#39;t match the largest list, so should not be removed. Only exact matches counts."},{"owner":{"account_id":2174712,"reputation":500,"user_id":2039591,"accept_rate":88,"display_name":"user007"},"score":1,"creation_date":1666293972,"post_id":74115247,"comment_id":130909097,"body_markdown":"@Jesse your hint with equals and hashCode helped me as well resolving the issue. Looks like I&#39;ve been looking at my code way too long to spot the obvious stuff. Anyways. Thank you!","body":"@Jesse your hint with equals and hashCode helped me as well resolving the issue. Looks like I&#39;ve been looking at my code way too long to spot the obvious stuff. Anyways. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666121492,"creation_date":1666121492,"answer_id":74116513,"question_id":74115247,"body_markdown":"I would work with an algorithm like this:\r\n\r\n1. Order the lists by their length. You can do this by assigning the inner lists to a new outer list that you sort with `Collections.sort(List&lt;T&gt; newOuter, Comparator&lt;? super T&gt; c))` with T being your inner `List&lt;String&gt;` and a custom Comparator that compares for the length of a list. (`String` used here only since you used that for your example, type doesn&#39;t actually matter.)\r\n\r\n2. Start searching for the shortest list, first in the longest, then in the second longest, etc. until you can either remove the searched list or have searched all other lists. You don&#39;t have to touch that shortest list then, it will be kept. Repeat with the second shortest list, etc. \r\n\r\nTo search a list in another list:\r\n\r\n1. Search the index of the first element of the shorter list in the longer list. \r\n2. When you found that and the rest of the longer list is long enough to contain the shorter list, you grab a `.subList` from the longer list starting with the found index over the length of the shorter list. \r\n3. You can then compare these lists with `.equals()` to find if the shorter list is contained within the longer one. If your inner list elements don&#39;t support `.equals()` sufficiently for this comparison, you can write your own Comparator and use that to compare the two lists.\r\n\r\nIf no match was found in step 3, you can continue searching the first element of the shorter list in the longer list. As `List.indexOf` doesn&#39;t provide a parameter at which index to start the search, probably better use a classic for-loop with an index for this. (It also would allow you to use a custom comparison if `.equals` doesn&#39;t work for you.)\r\n\r\nTo remove a list that was found within another one, you have to take care to remove it from the original outer list, not from your sorted version.\r\n\r\nAfter thinking a bit about it I&#39;m actually not so sure if starting the search in the longest list will save you time on average, due to the length of the searched list. It probably depends a bit on the distribution of lengths.\r\n\r\nAlso I would like to warn you of premature optimization: first implement a working version, then use a profiler to find the places in your code where optimization will have the biggest impact.","title":"Finding duplications in a List of Lists","body":"<p>I would work with an algorithm like this:</p>\n<ol>\n<li><p>Order the lists by their length. You can do this by assigning the inner lists to a new outer list that you sort with <code>Collections.sort(List&lt;T&gt; newOuter, Comparator&lt;? super T&gt; c))</code> with T being your inner <code>List&lt;String&gt;</code> and a custom Comparator that compares for the length of a list. (<code>String</code> used here only since you used that for your example, type doesn't actually matter.)</p>\n</li>\n<li><p>Start searching for the shortest list, first in the longest, then in the second longest, etc. until you can either remove the searched list or have searched all other lists. You don't have to touch that shortest list then, it will be kept. Repeat with the second shortest list, etc.</p>\n</li>\n</ol>\n<p>To search a list in another list:</p>\n<ol>\n<li>Search the index of the first element of the shorter list in the longer list.</li>\n<li>When you found that and the rest of the longer list is long enough to contain the shorter list, you grab a <code>.subList</code> from the longer list starting with the found index over the length of the shorter list.</li>\n<li>You can then compare these lists with <code>.equals()</code> to find if the shorter list is contained within the longer one. If your inner list elements don't support <code>.equals()</code> sufficiently for this comparison, you can write your own Comparator and use that to compare the two lists.</li>\n</ol>\n<p>If no match was found in step 3, you can continue searching the first element of the shorter list in the longer list. As <code>List.indexOf</code> doesn't provide a parameter at which index to start the search, probably better use a classic for-loop with an index for this. (It also would allow you to use a custom comparison if <code>.equals</code> doesn't work for you.)</p>\n<p>To remove a list that was found within another one, you have to take care to remove it from the original outer list, not from your sorted version.</p>\n<p>After thinking a bit about it I'm actually not so sure if starting the search in the longest list will save you time on average, due to the length of the searched list. It probably depends a bit on the distribution of lengths.</p>\n<p>Also I would like to warn you of premature optimization: first implement a working version, then use a profiler to find the places in your code where optimization will have the biggest impact.</p>\n"},{"comments":[{"owner":{"account_id":2174712,"reputation":500,"user_id":2039591,"accept_rate":88,"display_name":"user007"},"score":0,"creation_date":1666129554,"post_id":74117205,"comment_id":130861812,"body_markdown":"I&#39;ll try that! thank you @Alexander! I&#39;ll keep you posted","body":"I&#39;ll try that! thank you @Alexander! I&#39;ll keep you posted"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1666134311,"post_id":74117205,"comment_id":130862714,"body_markdown":"I think this is fundamentally the same solution as I posted - an observation, not a criticism; you got there way before me - with perhaps with a few more optimizations, and of course you didn&#39;t operate on plain old strings. I&#39;m pointing that out because I think a lot of what I said there also applies to this. My gut feel is that the set of map entries would not turn out to make much practical difference to simply comparing the lists, because the lists are already so small (average of ~10, according to OP), but of course you can always profile and see","body":"I think this is fundamentally the same solution as I posted - an observation, not a criticism; you got there way before me - with perhaps with a few more optimizations, and of course you didn&#39;t operate on plain old strings. I&#39;m pointing that out because I think a lot of what I said there also applies to this. My gut feel is that the set of map entries would not turn out to make much practical difference to simply comparing the lists, because the lists are already so small (average of ~10, according to OP), but of course you can always profile and see"},{"owner":{"account_id":2174712,"reputation":500,"user_id":2039591,"accept_rate":88,"display_name":"user007"},"score":0,"creation_date":1666291956,"post_id":74117205,"comment_id":130908455,"body_markdown":"Hello! So... sorry guys for waiting. I&#39;ve applied your idea, making a small change to the inner loop. Because of the fact the outer list became MUCH bigger - it has 0ver 230k items. I&#39;ve replaced the inner loop with a parallel stream loop. That gave a huge kick to the processing performance. For obvious reasons, I can&#39;t use parallel streams for both loops. I&#39;ve also filtered items in the inner loop checking if it compares two same items &#39;.filter(next -&gt; !next.getBigObject().equals(wrapper.getBigObject()))&#39; .","body":"Hello! So... sorry guys for waiting. I&#39;ve applied your idea, making a small change to the inner loop. Because of the fact the outer list became MUCH bigger - it has 0ver 230k items. I&#39;ve replaced the inner loop with a parallel stream loop. That gave a huge kick to the processing performance. For obvious reasons, I can&#39;t use parallel streams for both loops. I&#39;ve also filtered items in the inner loop checking if it compares two same items &#39;.filter(next -&gt; !next.getBigObject().equals(wrapper.getBigObject()))&#39; ."},{"owner":{"account_id":2174712,"reputation":500,"user_id":2039591,"accept_rate":88,"display_name":"user007"},"score":0,"creation_date":1666291969,"post_id":74117205,"comment_id":130908460,"body_markdown":"Anyways... I&#39;ve tested that with the smaller lists first making sure it works in general. Then I tried to run it against the outer list having 232246 items in it. \nIt processes it within 417912ms!!!! so less than 7 minutes! Amazing! :) I came to the fact the bigger loop of 232246 items contained about 50% duplicates. The final list has 147246 items. Obviously, that&#39;s the test data but... collected from prod DB and will be used in the future. But I&#39;m sure it will work perfectly.","body":"Anyways... I&#39;ve tested that with the smaller lists first making sure it works in general. Then I tried to run it against the outer list having 232246 items in it.  It processes it within 417912ms!!!! so less than 7 minutes! Amazing! :) I came to the fact the bigger loop of 232246 items contained about 50% duplicates. The final list has 147246 items. Obviously, that&#39;s the test data but... collected from prod DB and will be used in the future. But I&#39;m sure it will work perfectly."},{"owner":{"account_id":2174712,"reputation":500,"user_id":2039591,"accept_rate":88,"display_name":"user007"},"score":0,"creation_date":1666291972,"post_id":74117205,"comment_id":130908462,"body_markdown":"With the initial inner loop, it would take more than 4h. I&#39;ve stopped it after 78k items after 1h. My PC isn&#39;t slow, I&#39;m on AMD Ryzen 7 5800X 8-Core, got 32Gig or RAM. \nI just wanted to thank you for your efforts in helping me. You made my life easier today :) Thank you","body":"With the initial inner loop, it would take more than 4h. I&#39;ve stopped it after 78k items after 1h. My PC isn&#39;t slow, I&#39;m on AMD Ryzen 7 5800X 8-Core, got 32Gig or RAM.  I just wanted to thank you for your efforts in helping me. You made my life easier today :) Thank you"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1666292910,"post_id":74117205,"comment_id":130908767,"body_markdown":"@user007 I&#39;m glad to know. Parallel stream is a good idea. Note that for multithreaded inviroment `boolean` flag `isDuplicate` needs to be replaced with [`AtomicBoolean`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html) to establishes a happens-before relationship.","body":"@user007 I&#39;m glad to know. Parallel stream is a good idea. Note that for multithreaded inviroment <code>boolean</code> flag <code>isDuplicate</code> needs to be replaced with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html\" rel=\"nofollow noreferrer\"><code>AtomicBoolean</code></a> to establishes a happens-before relationship."},{"owner":{"account_id":2174712,"reputation":500,"user_id":2039591,"accept_rate":88,"display_name":"user007"},"score":1,"creation_date":1666293028,"post_id":74117205,"comment_id":130908804,"body_markdown":"yes! I know. I did that as well! Forgot to mention. Thank you again @AlexanderIvanchenko!","body":"yes! I know. I did that as well! Forgot to mention. Thank you again @AlexanderIvanchenko!"}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666174246,"creation_date":1666125517,"answer_id":74117205,"question_id":74115247,"body_markdown":"Assuming that `equals/hashCode` contract is properly implemented in the `MyObjectOne` you can define an auxiliary wrapper class which would hold a reference to the original `MyObjectBig` instance and maintain a `HashMap` of *map entries* containing *frequencies* of each `MyObjectOne` elements from the *original list* (so if there could be duplicated elements within a list, they would be taken into account during comparison).\r\n\r\nThat&#39;s how such wrapper class might look like:\r\n\r\n    public static class BigObjectWrapper {\r\n        private MyObjectBig bigObject;\r\n        private Map&lt;MyObjectOne, Long&gt; frequencies;\r\n        private int listSize;\r\n        private int mapSize;\r\n        private boolean isDuplicate;\r\n        \r\n        public BigObjectWrapper(MyObjectBig bigObject) {\r\n            this.bigObject = bigObject;\r\n            this.frequencies = bigObject.getList().stream()\r\n                .collect(Collectors.groupingBy(\r\n                    Function.identity(),\r\n                    Collectors.counting()\r\n                ));\r\n            \r\n            this.listSize = bigObject.getList().size();\r\n            this.mapSize = frequencies.size();\r\n        }\r\n        \r\n        public boolean contains(BigObjectWrapper other) {\r\n            if (listSize &lt; other.listSize || mapSize &lt; other.mapSize) return false;\r\n            \r\n            return containsAll(other.frequencies);\r\n        }\r\n        \r\n        private boolean containsAll(Map&lt;MyObjectOne, Long&gt; otherFrequencies) {\r\n            \r\n            return otherFrequencies.entrySet().stream() // frequency of each element in other map less or equal to frequency of this element\r\n                .allMatch(entry -&gt; frequencies.getOrDefault(entry.getKey(), 0L) &gt;= entry.getValue());\r\n        }\r\n        \r\n        public boolean isDuplicate() {\r\n            return isDuplicate;\r\n        }\r\n        \r\n        public void setDuplicate() {\r\n            isDuplicate = true;\r\n        }\r\n        \r\n        // getters, equals/hashCode implemented based on the size and set properties\r\n    }\r\n\r\nNow, the algorithm can be implemented in the following steps:\r\n\r\n* Create a list of wrapped objects.\r\n* Compare each wrapper against others. If the wrapper has been already proven to be a duplicate, it would be skipped. Also, in cases when a wrapper object containing a smaller set would be compared against a wrapper object holding a greater set, the call would terminate immediately returning `false` (therefore there&#39;s no point in sorting the data).\r\n* Generate a new list of `MyObjectBig` from wrapper objects that were not proven to be duplicates.\r\n\r\nThat&#39;s how implementation might look like:\r\n\r\n```\r\nList&lt;MyObjectBig&gt; source = List.of();\r\n        \r\nList&lt;BigObjectWrapper&gt; wrappers = source.stream()\r\n    .map(BigObjectWrapper::new)\r\n    .toList();\r\n        \r\nfor (BigObjectWrapper wrapper : wrappers) {\r\n    if (wrapper.isDuplicate()) continue;\r\n    for (BigObjectWrapper next : wrappers) {\r\n        if (next.isDuplicate()) continue;\r\n        if (wrapper.contains(next)) next.setDuplicate();\r\n    }\r\n}\r\n        \r\nList&lt;MyObjectBig&gt; result = wrappers.stream()\r\n    .filter(w -&gt; !w.isDuplicate())\r\n    .map(BigObjectWrapper::getBigObject)\r\n    .toList();\r\n```\r\n\r\n***Note:** if you don&#39;t need to consider the case when one larger list can be a part of another larger list, then you can split the data into two parts. And then as the first step, check only smaller lists against the larger once, and as the second step, check the remained non-duplicated smaller lists against each other.*","title":"Finding duplications in a List of Lists","body":"<p>Assuming that <code>equals/hashCode</code> contract is properly implemented in the <code>MyObjectOne</code> you can define an auxiliary wrapper class which would hold a reference to the original <code>MyObjectBig</code> instance and maintain a <code>HashMap</code> of <em>map entries</em> containing <em>frequencies</em> of each <code>MyObjectOne</code> elements from the <em>original list</em> (so if there could be duplicated elements within a list, they would be taken into account during comparison).</p>\n<p>That's how such wrapper class might look like:</p>\n<pre><code>public static class BigObjectWrapper {\n    private MyObjectBig bigObject;\n    private Map&lt;MyObjectOne, Long&gt; frequencies;\n    private int listSize;\n    private int mapSize;\n    private boolean isDuplicate;\n    \n    public BigObjectWrapper(MyObjectBig bigObject) {\n        this.bigObject = bigObject;\n        this.frequencies = bigObject.getList().stream()\n            .collect(Collectors.groupingBy(\n                Function.identity(),\n                Collectors.counting()\n            ));\n        \n        this.listSize = bigObject.getList().size();\n        this.mapSize = frequencies.size();\n    }\n    \n    public boolean contains(BigObjectWrapper other) {\n        if (listSize &lt; other.listSize || mapSize &lt; other.mapSize) return false;\n        \n        return containsAll(other.frequencies);\n    }\n    \n    private boolean containsAll(Map&lt;MyObjectOne, Long&gt; otherFrequencies) {\n        \n        return otherFrequencies.entrySet().stream() // frequency of each element in other map less or equal to frequency of this element\n            .allMatch(entry -&gt; frequencies.getOrDefault(entry.getKey(), 0L) &gt;= entry.getValue());\n    }\n    \n    public boolean isDuplicate() {\n        return isDuplicate;\n    }\n    \n    public void setDuplicate() {\n        isDuplicate = true;\n    }\n    \n    // getters, equals/hashCode implemented based on the size and set properties\n}\n</code></pre>\n<p>Now, the algorithm can be implemented in the following steps:</p>\n<ul>\n<li>Create a list of wrapped objects.</li>\n<li>Compare each wrapper against others. If the wrapper has been already proven to be a duplicate, it would be skipped. Also, in cases when a wrapper object containing a smaller set would be compared against a wrapper object holding a greater set, the call would terminate immediately returning <code>false</code> (therefore there's no point in sorting the data).</li>\n<li>Generate a new list of <code>MyObjectBig</code> from wrapper objects that were not proven to be duplicates.</li>\n</ul>\n<p>That's how implementation might look like:</p>\n<pre><code>List&lt;MyObjectBig&gt; source = List.of();\n        \nList&lt;BigObjectWrapper&gt; wrappers = source.stream()\n    .map(BigObjectWrapper::new)\n    .toList();\n        \nfor (BigObjectWrapper wrapper : wrappers) {\n    if (wrapper.isDuplicate()) continue;\n    for (BigObjectWrapper next : wrappers) {\n        if (next.isDuplicate()) continue;\n        if (wrapper.contains(next)) next.setDuplicate();\n    }\n}\n        \nList&lt;MyObjectBig&gt; result = wrappers.stream()\n    .filter(w -&gt; !w.isDuplicate())\n    .map(BigObjectWrapper::getBigObject)\n    .toList();\n</code></pre>\n<p><em><strong>Note:</strong> if you don't need to consider the case when one larger list can be a part of another larger list, then you can split the data into two parts. And then as the first step, check only smaller lists against the larger once, and as the second step, check the remained non-duplicated smaller lists against each other.</em></p>\n"},{"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666171056,"post_id":74118099,"comment_id":130870191,"body_markdown":"It&#39;s a nice illustration. And you&#39;re right, in essence the code you&#39;ve presented is very similar to mine because I was trying to optimize a brute-force algorithm.","body":"It&#39;s a nice illustration. And you&#39;re right, in essence the code you&#39;ve presented is very similar to mine because I was trying to optimize a brute-force algorithm."},{"owner":{"account_id":2174712,"reputation":500,"user_id":2039591,"accept_rate":88,"display_name":"user007"},"score":0,"creation_date":1666192611,"post_id":74118099,"comment_id":130878798,"body_markdown":"Thank you for that Michael ... I&#39;ll compare it with the solution developed by @AlexanderIvanchenko as well.. Thank you guys.. you&#39;re helping me a lot!","body":"Thank you for that Michael ... I&#39;ll compare it with the solution developed by @AlexanderIvanchenko as well.. Thank you guys.. you&#39;re helping me a lot!"}],"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666132132,"creation_date":1666132132,"answer_id":74118099,"question_id":74115247,"body_markdown":"More of a partial answer... This is the dumbest solution I could think of. I believe it&#39;s `O(N&#178; * M)` where N is the length of the parent list, and M is the length of the sublist.\r\n\r\nI was interested in how slow this would be. It&#39;s often a mistake to simply assume the stupid solution is going to be &quot;too slow&quot; without any proof.\r\n\r\nI assumed the values in each sublist were unique - making them more like ordered sets - and played around with a pool size of possible values. Fewer possible values in the sublist = more sublists removed = faster.\r\n\r\nOn my modest CPU, for 20 possible values it takes 100ms, for 25 possible values it takes 3secs, and for 40 possible values, between 8 and 10 seconds.\r\n\r\nNot posting this because I believe it&#39;s a good solution, but it is at least a working benchmark (as far as I know!) that a more complex solution should be surpassing.\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;List&lt;String&gt;&gt; listOfList = randomData();\r\n\r\n        long start = System.currentTimeMillis();\r\n        Set&lt;Integer&gt; idxToRemove = new HashSet&lt;&gt;();\r\n        for (int i = 0; i &lt; listOfList.size() - 1; ++i) {\r\n            if (idxToRemove.contains(i)) continue;\r\n            for (int j = i + 1; j &lt; listOfList.size(); ++j) {\r\n                if (idxToRemove.contains(j)) continue;\r\n                if (listOfList.get(i).containsAll(listOfList.get(j))) {\r\n                    idxToRemove.add(j);\r\n                }\r\n            }\r\n        }\r\n        idxToRemove.stream()\r\n            .sorted(Comparator.reverseOrder())\r\n            .mapToInt(i -&gt; i)\r\n            .forEach(listOfList::remove);\r\n        long duration = System.currentTimeMillis() - start;\r\n        System.out.println(idxToRemove.size());\r\n        System.out.println(&quot;Took &quot; + duration + &quot;ms&quot;);\r\n    }\r\n\r\n    private static List&lt;List&lt;String&gt;&gt; randomData() {\r\n        Random random = new Random();\r\n        int mainLength = 21_000;\r\n        int possibleValues = 40;\r\n\r\n        List&lt;List&lt;String&gt;&gt; listOfList = new ArrayList&lt;&gt;(mainLength);\r\n        for (int i = 0; i &lt; mainLength; ++i) {\r\n            int subListSize = random.nextInt(5, 20);\r\n\r\n            List&lt;Integer&gt; subList = new ArrayList&lt;&gt;(subListSize);\r\n            while (subList.size() &lt; subListSize) {\r\n                int value = random.nextInt(possibleValues);\r\n                if (!subList.contains(value)) {\r\n                    subList.add(value);\r\n                }\r\n            }\r\n            listOfList.add(\r\n                subList.stream().sorted().map(String::valueOf).collect(Collectors.toList())\r\n            );\r\n        }\r\n        return listOfList;\r\n    }","title":"Finding duplications in a List of Lists","body":"<p>More of a partial answer... This is the dumbest solution I could think of. I believe it's <code>O(N² * M)</code> where N is the length of the parent list, and M is the length of the sublist.</p>\n<p>I was interested in how slow this would be. It's often a mistake to simply assume the stupid solution is going to be &quot;too slow&quot; without any proof.</p>\n<p>I assumed the values in each sublist were unique - making them more like ordered sets - and played around with a pool size of possible values. Fewer possible values in the sublist = more sublists removed = faster.</p>\n<p>On my modest CPU, for 20 possible values it takes 100ms, for 25 possible values it takes 3secs, and for 40 possible values, between 8 and 10 seconds.</p>\n<p>Not posting this because I believe it's a good solution, but it is at least a working benchmark (as far as I know!) that a more complex solution should be surpassing.</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;List&lt;String&gt;&gt; listOfList = randomData();\n\n    long start = System.currentTimeMillis();\n    Set&lt;Integer&gt; idxToRemove = new HashSet&lt;&gt;();\n    for (int i = 0; i &lt; listOfList.size() - 1; ++i) {\n        if (idxToRemove.contains(i)) continue;\n        for (int j = i + 1; j &lt; listOfList.size(); ++j) {\n            if (idxToRemove.contains(j)) continue;\n            if (listOfList.get(i).containsAll(listOfList.get(j))) {\n                idxToRemove.add(j);\n            }\n        }\n    }\n    idxToRemove.stream()\n        .sorted(Comparator.reverseOrder())\n        .mapToInt(i -&gt; i)\n        .forEach(listOfList::remove);\n    long duration = System.currentTimeMillis() - start;\n    System.out.println(idxToRemove.size());\n    System.out.println(&quot;Took &quot; + duration + &quot;ms&quot;);\n}\n\nprivate static List&lt;List&lt;String&gt;&gt; randomData() {\n    Random random = new Random();\n    int mainLength = 21_000;\n    int possibleValues = 40;\n\n    List&lt;List&lt;String&gt;&gt; listOfList = new ArrayList&lt;&gt;(mainLength);\n    for (int i = 0; i &lt; mainLength; ++i) {\n        int subListSize = random.nextInt(5, 20);\n\n        List&lt;Integer&gt; subList = new ArrayList&lt;&gt;(subListSize);\n        while (subList.size() &lt; subListSize) {\n            int value = random.nextInt(possibleValues);\n            if (!subList.contains(value)) {\n                subList.add(value);\n            }\n        }\n        listOfList.add(\n            subList.stream().sorted().map(String::valueOf).collect(Collectors.toList())\n        );\n    }\n    return listOfList;\n}\n</code></pre>\n"}],"owner":{"account_id":2174712,"reputation":500,"user_id":2039591,"accept_rate":88,"display_name":"user007"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74117205,"answer_count":3,"score":1,"last_activity_date":1666174246,"creation_date":1666114917,"question_id":74115247,"body_markdown":"I&#39;ve got a list of lists of an object having properties (let&#39;s say a name and a value).\r\n\r\nI&#39;d like to find and remove the duplicated lists if it&#39;s a part of another list - their order does matter.\r\n\r\nExample in a pseudocode (I&#39;ll present it as a list of strings to make it easier):\r\n\r\n    List&lt;List&lt;String&gt;&gt;  = [\r\n    [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;], \r\n    [&quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;],\r\n    [&quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;],\r\n    [&quot;7&quot;, &quot;8&quot;]\r\n    ]\r\n\r\nin this case, I&#39;d like to remove shorter lists because they are part of the longer/most extended list.\r\n\r\nMy classes can be described like that:\r\n\r\n    public static class MyObjectBig {\r\n        private String startElem;\r\n        private String endElem;\r\n        private List&lt;MyObjectOne&gt; list;\r\n        \r\n        // constructors, getters, etc.\r\n    }\r\n\r\n    public static class MyObjectOne {\r\n        private String name;\r\n        private String value;\r\n    \r\n        // constructors, getters, etc.\r\n    }\r\n\r\nThe large lists are massive - like 21,000 elements, and the small lists are most at 20 elements, usually ~10.\r\n\r\nI&#39;ve got a couple of ideas, like creating a `Map` of the having the first item as a *key* and all list as a value. Then iterating over all items checking if it exists in it if it does, then checking the next items. But that&#39;s very slow.\r\n\r\nI&#39;ll appreciate any hints or ideas.","title":"Finding duplications in a List of Lists","body":"<p>I've got a list of lists of an object having properties (let's say a name and a value).</p>\n<p>I'd like to find and remove the duplicated lists if it's a part of another list - their order does matter.</p>\n<p>Example in a pseudocode (I'll present it as a list of strings to make it easier):</p>\n<pre><code>List&lt;List&lt;String&gt;&gt;  = [\n[&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;], \n[&quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;],\n[&quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;],\n[&quot;7&quot;, &quot;8&quot;]\n]\n</code></pre>\n<p>in this case, I'd like to remove shorter lists because they are part of the longer/most extended list.</p>\n<p>My classes can be described like that:</p>\n<pre><code>public static class MyObjectBig {\n    private String startElem;\n    private String endElem;\n    private List&lt;MyObjectOne&gt; list;\n    \n    // constructors, getters, etc.\n}\n\npublic static class MyObjectOne {\n    private String name;\n    private String value;\n\n    // constructors, getters, etc.\n}\n</code></pre>\n<p>The large lists are massive - like 21,000 elements, and the small lists are most at 20 elements, usually ~10.</p>\n<p>I've got a couple of ideas, like creating a <code>Map</code> of the having the first item as a <em>key</em> and all list as a value. Then iterating over all items checking if it exists in it if it does, then checking the next items. But that's very slow.</p>\n<p>I'll appreciate any hints or ideas.</p>\n"},{"tags":["java","reactjs","spring","spring-boot","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":10810559,"reputation":79,"user_id":7951276,"display_name":"Ayush Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666173812,"creation_date":1666173812,"answer_id":74123487,"question_id":73305627,"body_markdown":"Facing same issue with react app. Seems like you are missing default-filters.\r\nI have fixed using below config for cors in spring cloud gateway :- \r\n\r\n        spring:\r\n      cloud:\r\n        gateway:\r\n          default-filters:\r\n            - DedupeResponseHeader=Access-Control-Allow-Credentials Access-Control-Allow-Origin\r\n          globalcors:\r\n            corsConfigurations:\r\n              &#39;[/**]&#39;:\r\n                allowedOrigins: &quot;*&quot;\r\n                allowedMethods: &quot;*&quot;\r\n                allowedHeaders: &quot;*&quot;\r\n          routes:\r\n            - id: portalModule\r\n\r\n\r\n\r\nSpring-Boot v2.7.4,\r\nJava v11,\r\nSpring-cloud-version v2021.0.4","title":"Configure CORS for Spring Cloud Gateway using react not working","body":"<p>Facing same issue with react app. Seems like you are missing default-filters.\nI have fixed using below config for cors in spring cloud gateway :-</p>\n<pre><code>    spring:\n  cloud:\n    gateway:\n      default-filters:\n        - DedupeResponseHeader=Access-Control-Allow-Credentials Access-Control-Allow-Origin\n      globalcors:\n        corsConfigurations:\n          '[/**]':\n            allowedOrigins: &quot;*&quot;\n            allowedMethods: &quot;*&quot;\n            allowedHeaders: &quot;*&quot;\n      routes:\n        - id: portalModule\n</code></pre>\n<p>Spring-Boot v2.7.4,\nJava v11,\nSpring-cloud-version v2021.0.4</p>\n"}],"owner":{"account_id":20465610,"reputation":51,"user_id":15017186,"display_name":"Dhanashree Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1007,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666173812,"creation_date":1660131462,"question_id":73305627,"body_markdown":"I have a React application which is running locally with a Spring Cloud Gateway. I get this error:\r\n```\r\nadminLogin:1 Access to XMLHttpRequest at &#39;http://localhost:9191/admin/authenticate&#39; from origin &#39;http://localhost:3000&#39; has been blocked by CORS policy: The &#39;Access-Control-Allow-Origin&#39; header contains multiple values &#39;http://localhost:3000, http://localhost:3000&#39;, but only one is allowed.\r\n```\r\n9191 is my cloud gateway port number\r\nMy yml file of cloud gateway:\r\n```\r\nserver:\r\n  port: 9191\r\n\r\nspring:\r\n  application:\r\n    name: API-GATEWAY\r\n  cloud:\r\n    gateway:\r\n      globalcors:\r\n        corsConfigurations:\r\n          &#39;[/**]&#39;:\r\n            allowedOrigins: &quot;http://localhost:3000/&quot;\r\n            allowedMethods:\r\n            - GET\r\n            - POST\r\n            - PUT\r\n            - DELETE\r\n        \r\n      routes:\r\n        - id: ADMIN-SERVICE\r\n          uri: lb://ADMIN-SERVICE\r\n          predicates:\r\n            - Path=/admin/**\r\n        - id: CUSTOMER-SERVICE\r\n          uri: lb://CUSTOMER-SERVICE\r\n          predicates:\r\n            - Path=/customer/**\r\n        - id: DEALER-SERVICE\r\n          uri: lb://DEALER-SERVICE\r\n          predicates:\r\n            - Path=/dealer/**\r\n        - id: VENUE-SERVICE\r\n          uri: lb://VENUE-SERVICE\r\n          predicates:\r\n            - Path=/venue/**\r\n      \r\n\r\neureka:\r\n  client:\r\n    fetch-registry: true\r\n    register-with-eureka: true\r\n    service-url:\r\n      defaultZone: http://localhost:8761/eureka/\r\n  instance:\r\n    hostname: localhost\r\n\r\n```\r\nHow can I fix this issue?\r\n","title":"Configure CORS for Spring Cloud Gateway using react not working","body":"<p>I have a React application which is running locally with a Spring Cloud Gateway. I get this error:</p>\n<pre><code>adminLogin:1 Access to XMLHttpRequest at 'http://localhost:9191/admin/authenticate' from origin 'http://localhost:3000' has been blocked by CORS policy: The 'Access-Control-Allow-Origin' header contains multiple values 'http://localhost:3000, http://localhost:3000', but only one is allowed.\n</code></pre>\n<p>9191 is my cloud gateway port number\nMy yml file of cloud gateway:</p>\n<pre><code>server:\n  port: 9191\n\nspring:\n  application:\n    name: API-GATEWAY\n  cloud:\n    gateway:\n      globalcors:\n        corsConfigurations:\n          '[/**]':\n            allowedOrigins: &quot;http://localhost:3000/&quot;\n            allowedMethods:\n            - GET\n            - POST\n            - PUT\n            - DELETE\n        \n      routes:\n        - id: ADMIN-SERVICE\n          uri: lb://ADMIN-SERVICE\n          predicates:\n            - Path=/admin/**\n        - id: CUSTOMER-SERVICE\n          uri: lb://CUSTOMER-SERVICE\n          predicates:\n            - Path=/customer/**\n        - id: DEALER-SERVICE\n          uri: lb://DEALER-SERVICE\n          predicates:\n            - Path=/dealer/**\n        - id: VENUE-SERVICE\n          uri: lb://VENUE-SERVICE\n          predicates:\n            - Path=/venue/**\n      \n\neureka:\n  client:\n    fetch-registry: true\n    register-with-eureka: true\n    service-url:\n      defaultZone: http://localhost:8761/eureka/\n  instance:\n    hostname: localhost\n\n</code></pre>\n<p>How can I fix this issue?</p>\n"},{"tags":["java","android","itext","ambiguous"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":2,"creation_date":1490258931,"post_id":42971071,"comment_id":73034567,"body_markdown":"Is Phrase a sub-class of ArrayList? What does the `add` method look like?","body":"Is Phrase a sub-class of ArrayList? What does the <code>add</code> method look like?"},{"owner":{"account_id":9094295,"reputation":1988,"user_id":6768769,"accept_rate":40,"display_name":"Dileep Patel"},"score":1,"creation_date":1490258967,"post_id":42971071,"comment_id":73034585,"body_markdown":"try to this link http://stackoverflow.com/questions/20255420/what-is-an-ambiguous-type-error-in-java","body":"try to this link <a href=\"http://stackoverflow.com/questions/20255420/what-is-an-ambiguous-type-error-in-java\" title=\"what is an ambiguous type error in java\">stackoverflow.com/questions/20255420/&hellip;</a>"},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1490276217,"post_id":42971071,"comment_id":73047204,"body_markdown":"Place there the minimized copy of your code (from which you remove EVERYTHING which is NOT needed to produce your error), including the `import` commands.","body":"Place there the minimized copy of your code (from which you remove EVERYTHING which is NOT needed to produce your error), including the <code>import</code> commands."},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":2,"creation_date":1490276488,"post_id":42971071,"comment_id":73047424,"body_markdown":"Try `((Phrase) p).add(c)`. If it works, I will put it as an answer :) now I just have a certain suspicion.","body":"Try <code>((Phrase) p).add(c)</code>. If it works, I will put it as an answer :) now I just have a certain suspicion."},{"owner":{"account_id":400683,"reputation":7350,"user_id":766786,"accept_rate":68,"display_name":"Amedee Van Gasse"},"score":0,"creation_date":1490278313,"post_id":42971071,"comment_id":73048908,"body_markdown":"I stand corrected. In any case we need to see more of the code, and NOT as a screenshot but as actual code that anyone can copy/paste into their ID.","body":"I stand corrected. In any case we need to see more of the code, and NOT as a screenshot but as actual code that anyone can copy/paste into their ID."},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1490278861,"post_id":42971071,"comment_id":73049380,"body_markdown":"@DileepPatel: it is not the same case! Here he has &quot;ambiguous **method call**&quot; (the compiler cannot decide which **method** to use), whilst your linked question has &quot;ambiguous **type**&quot; (the compiler cannot decide which **type** to use: java.util.List vs. java.awt.List).","body":"@DileepPatel: it is not the same case! Here he has &quot;ambiguous <b>method call</b>&quot; (the compiler cannot decide which <b>method</b> to use), whilst your linked question has &quot;ambiguous <b>type</b>&quot; (the compiler cannot decide which <b>type</b> to use: java.util.List vs. java.awt.List)."}],"answers":[{"comments":[{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1490276319,"post_id":42971325,"comment_id":73047292,"body_markdown":"I believe the OP does understand *what* the ambiguous type error is. He is asking *why* he has it in *this specific case*.","body":"I believe the OP does understand <i>what</i> the ambiguous type error is. He is asking <i>why</i> he has it in <i>this specific case</i>."},{"owner":{"account_id":10291193,"reputation":11,"user_id":7592904,"display_name":"Rahul Puri"},"score":0,"creation_date":1490334551,"post_id":42971325,"comment_id":73075489,"body_markdown":"that is why i have given the link related to error because its is already answered by some1 earlier @HonzaZidek","body":"that is why i have given the link related to error because its is already answered by some1 earlier @HonzaZidek"},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1490349850,"post_id":42971325,"comment_id":73082944,"body_markdown":"But your explanation of the *ambiguous type* error does not belong here. It is completely confusing in the OP&#39;s particular context. The OP&#39;s problem most probably is **not** the class/variable with the same name!","body":"But your explanation of the <i>ambiguous type</i> error does not belong here. It is completely confusing in the OP&#39;s particular context. The OP&#39;s problem most probably is <b>not</b> the class/variable with the same name!"}],"tags":[],"owner":{"account_id":10291193,"reputation":11,"user_id":7592904,"display_name":"Rahul Puri"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490259969,"creation_date":1490259576,"answer_id":42971325,"question_id":42971071,"body_markdown":"&quot;ambiguous&quot; error comes up when u already have a file/varibale etc with same name.\r\nfor example when you make a project using entity framework , entity framework make class and dbcontext files for u. but if u add a class with same name as entity framework had made for u then this error comes up. check ur project/programe correctly and fully again... \r\nHope its helpfull !!\r\n\r\nand checkout this link for ur answer https://stackoverflow.com/questions/18505973/android-studio-ambiguous-method-call-getclass","title":"Why this particular code generates &quot;ambiguous method call&quot; error in Android Studio?","body":"<p>\"ambiguous\" error comes up when u already have a file/varibale etc with same name.\nfor example when you make a project using entity framework , entity framework make class and dbcontext files for u. but if u add a class with same name as entity framework had made for u then this error comes up. check ur project/programe correctly and fully again... \nHope its helpfull !!</p>\n\n<p>and checkout this link for ur answer <a href=\"https://stackoverflow.com/questions/18505973/android-studio-ambiguous-method-call-getclass\">Android Studio - Ambiguous method call getClass()</a></p>\n"},{"tags":[],"owner":{"account_id":3598164,"reputation":493,"user_id":3002218,"accept_rate":12,"display_name":"mr.burns"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490865569,"creation_date":1490865569,"answer_id":43113523,"question_id":42971071,"body_markdown":"thanks for reply - indeed I needed help regarding why &#39;ambiguous&#39; appears in this context.\r\nBut now the problem is solved - this error does not appear anymore - but I don&#39;t know exactly why.\r\nI did some Android Studio updates last week may this helped?\r\n\r\nThanks anyway!\r\n","title":"Why this particular code generates &quot;ambiguous method call&quot; error in Android Studio?","body":"<p>thanks for reply - indeed I needed help regarding why 'ambiguous' appears in this context.\nBut now the problem is solved - this error does not appear anymore - but I don't know exactly why.\nI did some Android Studio updates last week may this helped?</p>\n\n<p>Thanks anyway!</p>\n"},{"tags":[],"owner":{"account_id":11714229,"reputation":31,"user_id":8575276,"display_name":"George Vortelinos"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666173777,"creation_date":1666003983,"answer_id":74096162,"question_id":42971071,"body_markdown":"In case when we use data binding, some java files are auto-generated  \r\nThe problem was occured when a getter/setter has the same name with a function.\r\neg \r\n- var newData\r\n- fun getNewData()\r\n\r\nin this case, in the generated java file, the variable&#39;s getter has the same name with the function =&gt; **getNewData**. \r\n\r\nSo simply you have to change variable name or fuction name\r\n\r\n","title":"Why this particular code generates &quot;ambiguous method call&quot; error in Android Studio?","body":"<p>In case when we use data binding, some java files are auto-generated<br />\nThe problem was occured when a getter/setter has the same name with a function.\neg</p>\n<ul>\n<li>var newData</li>\n<li>fun getNewData()</li>\n</ul>\n<p>in this case, in the generated java file, the variable's getter has the same name with the function =&gt; <strong>getNewData</strong>.</p>\n<p>So simply you have to change variable name or fuction name</p>\n"}],"owner":{"account_id":3598164,"reputation":493,"user_id":3002218,"accept_rate":12,"display_name":"mr.burns"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1950,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1666173777,"creation_date":1490258820,"question_id":42971071,"body_markdown":"I use iText 5 in Android Studio to create a PDF document but I get an error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BvXVW.jpg\r\n\r\nI also tried\r\n\r\n    p.add((Phrase)c);\r\n\r\nbut I get same error :-(\r\n\r\nHow I can get rid of this error?","title":"Why this particular code generates &quot;ambiguous method call&quot; error in Android Studio?","body":"<p>I use iText 5 in Android Studio to create a PDF document but I get an error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BvXVW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BvXVW.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I also tried</p>\n\n<pre><code>p.add((Phrase)c);\n</code></pre>\n\n<p>but I get same error :-(</p>\n\n<p>How I can get rid of this error?</p>\n"},{"tags":["java","serialization","file-handling"],"comments":[{"owner":{"account_id":1837525,"reputation":3545,"user_id":1667562,"accept_rate":99,"display_name":"Incredible"},"score":0,"creation_date":1666173641,"post_id":74123339,"comment_id":130871168,"body_markdown":"ObjectInputStream ois = null; and then assigned to ois = new ObjectInputStream(new FileInputStream(file)); ? Why ?","body":"ObjectInputStream ois = null; and then assigned to ois = new ObjectInputStream(new FileInputStream(file)); ? Why ?"},{"owner":{"account_id":7139308,"reputation":2282,"user_id":5457643,"display_name":"Turamarth"},"score":0,"creation_date":1666173671,"post_id":74123339,"comment_id":130871178,"body_markdown":"Does this answer your question? [Why does writeObject throw java.io.NotSerializableException and how do I fix it?](https://stackoverflow.com/questions/13895867/why-does-writeobject-throw-java-io-notserializableexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13895867/why-does-writeobject-throw-java-io-notserializableexception-and-how-do-i-fix-it\">Why does writeObject throw java.io.NotSerializableException and how do I fix it?</a>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1666174083,"post_id":74123339,"comment_id":130871307,"body_markdown":"Do you have another class called `Serializable`?","body":"Do you have another class called <code>Serializable</code>?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1666174833,"post_id":74123339,"comment_id":130871586,"body_markdown":"Nothing wrong with your code itself. That&#39;s not a text file though","body":"Nothing wrong with your code itself. That&#39;s not a text file though"},{"owner":{"account_id":25739326,"reputation":17,"user_id":19493559,"display_name":"sushil"},"score":0,"creation_date":1666174953,"post_id":74123339,"comment_id":130871621,"body_markdown":"@AndyTurner No.","body":"@AndyTurner No."},{"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"score":0,"creation_date":1666177858,"post_id":74123339,"comment_id":130872614,"body_markdown":"I am assuming the class Employee should be public in order for making it serializable. Option 1) Try moving Employee class to different file Option 2) include the main method also in Employee class itself, make it public and remove Employees class.","body":"I am assuming the class Employee should be public in order for making it serializable. Option 1) Try moving Employee class to different file Option 2) include the main method also in Employee class itself, make it public and remove Employees class."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666405205,"post_id":74123339,"comment_id":130935900,"body_markdown":"I just tried pasting this code into my IDE, running it and testing. Everything works fine for me, including adding employees, exiting, then running again and displaying from the saved file. I did not receive any exceptions. There must be something else wrong. Perhaps the compiled classes need to be deleted and recompiled.","body":"I just tried pasting this code into my IDE, running it and testing. Everything works fine for me, including adding employees, exiting, then running again and displaying from the saved file. I did not receive any exceptions. There must be something else wrong. Perhaps the compiled classes need to be deleted and recompiled."}],"owner":{"account_id":25739326,"reputation":17,"user_id":19493559,"display_name":"sushil"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666173709,"creation_date":1666173285,"question_id":74123339,"body_markdown":"\r\n\r\n    import java.util.*;\r\n    \r\n    import java.io.*;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    class Employee implements Serializable{\r\n    \t\r\n    \tint empno;\r\n    \tString ename;\r\n    \tString contact;\r\n    \t\r\n    \tEmployee(int empno, String ename, String contact){\r\n    \t\tthis.empno = empno;\r\n    \t\tthis.ename = ename;\r\n    \t\tthis.contact = contact;\r\n    \t}\r\n     \r\n    \tpublic String toString() {\r\n    \t\treturn empno+&quot; &quot;+ename+&quot; &quot;+contact;\r\n    \t}\r\n    }\r\n    \r\n    public class Employees {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception{\r\n    \t\t\r\n    \t\tint choice = -1;\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tScanner sc1 = new Scanner(System.in);\r\n    \t\t\r\n    \t\tFile file = new File(&quot;employee.txt&quot;);\r\n    \t\t\r\n    \t\tArrayList&lt;Employee&gt; al = new ArrayList&lt;Employee&gt;();\r\n    \t\t\r\n    \t\tObjectOutputStream oos = null;\r\n    \t\tObjectInputStream ois = null;\r\n    \t\t\r\n    \t\tif(file.isFile()) {\r\n    \t\t\tois = new ObjectInputStream(new FileInputStream(file));\r\n    \t\t\tal = (ArrayList&lt;Employee&gt;)ois.readObject();\r\n    \t\t\tois.close();\r\n    \t\t}\r\n    \t\t\r\n    \t\tdo{\r\n    \t\t\tSystem.out.println(&quot;1.INSERT&quot;);\r\n    \t\t\tSystem.out.println(&quot;2.DISPLAY&quot;);\r\n    \t\t\tSystem.out.println(&quot;0.EXIT&quot;);\r\n    \t\t\t\r\n    \t\t\tchoice = sc.nextInt();\r\n    \t\t\t\r\n    \t\t\tswitch(choice) {\r\n    \t\t\tcase 1:\r\n    \t\t\t\tSystem.out.println(&quot;Enter how many Employees you want to add:&quot;);\r\n    \t\t\t\tint n = sc.nextInt();\r\n    \t\t\t\tfor(int i = 0; i &lt; n; i++) {\r\n    \t\t\t\tSystem.out.println(&quot;Enter Employee No: &quot;);\r\n    \t\t\t\tint empno = sc.nextInt();\r\n    \t\t\t\t\r\n    \t\t\t\tSystem.out.println(&quot;Enter Employee Name: &quot;);\r\n    \t\t\t\tString name = sc1.nextLine();\r\n    \t\t\t\t\r\n    \t\t\t\tSystem.out.println(&quot;Enter Employee Contact: &quot;);\r\n    \t\t\t\tString contact = sc1.nextLine();\r\n    \t\t\t\t\r\n    \t\t\t\tal.add(new Employee(empno, name, contact));\r\n    \t\t\t\t}\r\n    \t\t\t\toos = new ObjectOutputStream(new FileOutputStream(file));\r\n    \t\t\t\toos.writeObject(al);\r\n    \t\t\t\toos.close();\r\n    \t\t\t\tbreak;\r\n    \t\t\t\t\r\n    \t\t\tcase 2:\r\n    \t\t\t\tSystem.out.println(al);\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}while(choice!=0);\r\n    \t}\r\n    }\r\n\r\nI&#39;m getting this exception:\r\n\r\n    Caused by: java.io.NotSerializableException: Employee\r\n    \tat java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1202)\r\n    \tat java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:362)\r\n    \tat java.base/java.util.ArrayList.writeObject(ArrayList.java:866)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n    \tat java.base/java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1201)\r\n    \tat java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1531)\r\n    \tat java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1453)\r\n    \tat java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1196)\r\n    \tat java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:362)\r\n    \tat Employees.main(Employees.java:69)","title":"Java Exception NotSerializableException for ObjectOutputStream","body":"<pre><code>import java.util.*;\n\nimport java.io.*;\n\nimport java.io.Serializable;\n\nclass Employee implements Serializable{\n    \n    int empno;\n    String ename;\n    String contact;\n    \n    Employee(int empno, String ename, String contact){\n        this.empno = empno;\n        this.ename = ename;\n        this.contact = contact;\n    }\n \n    public String toString() {\n        return empno+&quot; &quot;+ename+&quot; &quot;+contact;\n    }\n}\n\npublic class Employees {\n\n    public static void main(String[] args) throws Exception{\n        \n        int choice = -1;\n        Scanner sc = new Scanner(System.in);\n        Scanner sc1 = new Scanner(System.in);\n        \n        File file = new File(&quot;employee.txt&quot;);\n        \n        ArrayList&lt;Employee&gt; al = new ArrayList&lt;Employee&gt;();\n        \n        ObjectOutputStream oos = null;\n        ObjectInputStream ois = null;\n        \n        if(file.isFile()) {\n            ois = new ObjectInputStream(new FileInputStream(file));\n            al = (ArrayList&lt;Employee&gt;)ois.readObject();\n            ois.close();\n        }\n        \n        do{\n            System.out.println(&quot;1.INSERT&quot;);\n            System.out.println(&quot;2.DISPLAY&quot;);\n            System.out.println(&quot;0.EXIT&quot;);\n            \n            choice = sc.nextInt();\n            \n            switch(choice) {\n            case 1:\n                System.out.println(&quot;Enter how many Employees you want to add:&quot;);\n                int n = sc.nextInt();\n                for(int i = 0; i &lt; n; i++) {\n                System.out.println(&quot;Enter Employee No: &quot;);\n                int empno = sc.nextInt();\n                \n                System.out.println(&quot;Enter Employee Name: &quot;);\n                String name = sc1.nextLine();\n                \n                System.out.println(&quot;Enter Employee Contact: &quot;);\n                String contact = sc1.nextLine();\n                \n                al.add(new Employee(empno, name, contact));\n                }\n                oos = new ObjectOutputStream(new FileOutputStream(file));\n                oos.writeObject(al);\n                oos.close();\n                break;\n                \n            case 2:\n                System.out.println(al);\n                break;\n            }\n        }while(choice!=0);\n    }\n}\n</code></pre>\n<p>I'm getting this exception:</p>\n<pre><code>Caused by: java.io.NotSerializableException: Employee\n    at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1202)\n    at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:362)\n    at java.base/java.util.ArrayList.writeObject(ArrayList.java:866)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at java.base/java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1201)\n    at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1531)\n    at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1453)\n    at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1196)\n    at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:362)\n    at Employees.main(Employees.java:69)\n</code></pre>\n"},{"tags":["java","xml","jackson"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666173644,"creation_date":1666173644,"answer_id":74123445,"question_id":74121338,"body_markdown":"The *Caused by: com.fasterxml.jackson.databind.JsonMappingException: Can not set final java.lang.String...* exception message is related to the fact that Jackson library because of the absence of a `JsonCreator` annotated method in the `User` record firstly creates the `User` record and then tries to modify the final field called *name*, then the exception. This scenario can be avoided adding a `JsonCreator` annotated constructor to your `User` record :\r\n\r\n~~~\r\npublic record User(@JacksonXmlProperty(isAttribute = true) String name) {\r\n\r\n    @JsonCreator\r\n    public User(String name) {\r\n        this.name = name;\r\n    }\r\n    \r\n}\r\n~~~\r\n\r\nI tried your code with the Jackson version 2.12 with no luck (maybe the constructor in the `User` record solves your issue with jackson 2.13, but I haven&#39;t verified it), using one [incremental reading](https://github.com/FasterXML/jackson-dataformat-xml) as suggested in the official documentation solves your problem:\r\n\r\n~~~\r\nFile xml = new File(&quot;msg.xml&quot;);\r\nXMLInputFactory f = XMLInputFactory.newFactory();\r\nXMLStreamReader sr = f.createXMLStreamReader(new FileInputStream(xml));\r\nXmlMapper xmlMapper = new XmlMapper();\r\nsr.nextTag(); //points to Root_to_unwrap tag\r\nsr.nextTag(); //points to User tag     \r\nUser user = xmlMapper.readValue(sr, User.class);\r\nsr.close();\r\n~~~\r\n","title":"How to Jackson Deserialize XML into Record - ignore root element","body":"<p>The <em>Caused by: com.fasterxml.jackson.databind.JsonMappingException: Can not set final java.lang.String...</em> exception message is related to the fact that Jackson library because of the absence of a <code>JsonCreator</code> annotated method in the <code>User</code> record firstly creates the <code>User</code> record and then tries to modify the final field called <em>name</em>, then the exception. This scenario can be avoided adding a <code>JsonCreator</code> annotated constructor to your <code>User</code> record :</p>\n<pre><code>public record User(@JacksonXmlProperty(isAttribute = true) String name) {\n\n    @JsonCreator\n    public User(String name) {\n        this.name = name;\n    }\n    \n}\n</code></pre>\n<p>I tried your code with the Jackson version 2.12 with no luck (maybe the constructor in the <code>User</code> record solves your issue with jackson 2.13, but I haven't verified it), using one <a href=\"https://github.com/FasterXML/jackson-dataformat-xml\" rel=\"nofollow noreferrer\">incremental reading</a> as suggested in the official documentation solves your problem:</p>\n<pre><code>File xml = new File(&quot;msg.xml&quot;);\nXMLInputFactory f = XMLInputFactory.newFactory();\nXMLStreamReader sr = f.createXMLStreamReader(new FileInputStream(xml));\nXmlMapper xmlMapper = new XmlMapper();\nsr.nextTag(); //points to Root_to_unwrap tag\nsr.nextTag(); //points to User tag     \nUser user = xmlMapper.readValue(sr, User.class);\nsr.close();\n</code></pre>\n"}],"owner":{"account_id":9754794,"reputation":28,"user_id":7231902,"display_name":"Koala Lam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666173644,"creation_date":1666164122,"question_id":74121338,"body_markdown":"XML Input:\r\n\r\n```xml\r\n&lt;Root_to_unwrap&gt;&lt;User name=&quot;a&quot;&gt;&lt;/User&gt;&lt;/Root_to_unwrap&gt;\r\n```\r\n\r\nJava Record:\r\n```java\r\npackage x.y.z;\r\n\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\r\n\r\npublic record User(@JacksonXmlProperty(isAttribute = true) String name) {\r\n}\r\n```\r\n\r\nTried the following with Jackson version 2.13.3, both doesn&#39;t work:\r\n\r\nTry #1\r\n```java\r\n  @Test\r\n  void testCase1() {\r\n    try (InputStream is = this.getClass().getClassLoader().getResourceAsStream(&quot;input.xml&quot;)) {\r\n      XmlMapper xmlMapper = new XmlMapper();\r\n      ObjectReader reader = xmlMapper.reader().withFeatures(DeserializationFeature.UNWRAP_ROOT_VALUE);\r\n      User user = reader.readValue(is, User.class);\r\n    } catch (IOException ioe) {\r\n      fail(ioe); // failed with &quot;Caused by: com.fasterxml.jackson.databind.JsonMappingException: Can not set final java.lang.String field x.y.z.User.name to java.lang.String&quot;\r\n    }\r\n  }\r\n```\r\n\r\nTry #2\r\n```java\r\n  @Test\r\n  void testCase2() {\r\n    try (InputStream is = this.getClass().getClassLoader().getResourceAsStream(&quot;input.xml&quot;)) {\r\n      XmlMapper xmlMapper = new XmlMapper();\r\n      ObjectReader reader = xmlMapper.reader().withRootName(&quot;Root_to_unwrap&quot;).withFeatures(DeserializationFeature.UNWRAP_ROOT_VALUE);\r\n      User user = reader.readValue(is, User.class);\r\n    } catch (IOException ioe) {\r\n      fail(ioe); // failed with &quot;Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Root name (&#39;User&#39;) does not match expected (&#39;Root_to_unwrap&#39;) for type `x.y.z.User`&quot;\r\n    }\r\n  }\r\n```\r\n\r\nAny idea how deserialize XML into Record? Thank you!","title":"How to Jackson Deserialize XML into Record - ignore root element","body":"<p>XML Input:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Root_to_unwrap&gt;&lt;User name=&quot;a&quot;&gt;&lt;/User&gt;&lt;/Root_to_unwrap&gt;\n</code></pre>\n<p>Java Record:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package x.y.z;\n\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\n\npublic record User(@JacksonXmlProperty(isAttribute = true) String name) {\n}\n</code></pre>\n<p>Tried the following with Jackson version 2.13.3, both doesn't work:</p>\n<p>Try #1</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Test\n  void testCase1() {\n    try (InputStream is = this.getClass().getClassLoader().getResourceAsStream(&quot;input.xml&quot;)) {\n      XmlMapper xmlMapper = new XmlMapper();\n      ObjectReader reader = xmlMapper.reader().withFeatures(DeserializationFeature.UNWRAP_ROOT_VALUE);\n      User user = reader.readValue(is, User.class);\n    } catch (IOException ioe) {\n      fail(ioe); // failed with &quot;Caused by: com.fasterxml.jackson.databind.JsonMappingException: Can not set final java.lang.String field x.y.z.User.name to java.lang.String&quot;\n    }\n  }\n</code></pre>\n<p>Try #2</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Test\n  void testCase2() {\n    try (InputStream is = this.getClass().getClassLoader().getResourceAsStream(&quot;input.xml&quot;)) {\n      XmlMapper xmlMapper = new XmlMapper();\n      ObjectReader reader = xmlMapper.reader().withRootName(&quot;Root_to_unwrap&quot;).withFeatures(DeserializationFeature.UNWRAP_ROOT_VALUE);\n      User user = reader.readValue(is, User.class);\n    } catch (IOException ioe) {\n      fail(ioe); // failed with &quot;Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Root name ('User') does not match expected ('Root_to_unwrap') for type `x.y.z.User`&quot;\n    }\n  }\n</code></pre>\n<p>Any idea how deserialize XML into Record? Thank you!</p>\n"},{"tags":["java","tomcat","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":2418539,"reputation":259,"user_id":2112089,"accept_rate":100,"display_name":"Pascal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666173492,"creation_date":1457943763,"answer_id":35982557,"question_id":35982475,"body_markdown":"I don&#39;t know why the placeholder isn&#39;t resolved but here is my working configuration:\r\n\r\n```xml\r\n&lt;Appenders&gt;\r\n    &lt;RollingFile name=&quot;Permament&quot;\r\n                 fileName=&quot;E:/workspace/myproject/logs/ergo.log&quot;\r\n                 filePattern=&quot;E:/workspace/myproject/logs/ergo.%d{yyyy-MM-dd.HH:mm}.log&quot;\r\n                 immediateFlush=&quot;true&quot;&gt;\r\n        &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} %5p{length=5} - %c{1} %m %ex%n&quot;/&gt;\r\n        &lt;Policies&gt;\r\n            &lt;TimeBasedTriggeringPolicy/&gt;\r\n        &lt;/Policies&gt;\r\n    &lt;/RollingFile&gt;\r\n...\r\n```","title":"How to use current date pattern in log4j2 fileName?","body":"<p>I don't know why the placeholder isn't resolved but here is my working configuration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Appenders&gt;\n    &lt;RollingFile name=&quot;Permament&quot;\n                 fileName=&quot;E:/workspace/myproject/logs/ergo.log&quot;\n                 filePattern=&quot;E:/workspace/myproject/logs/ergo.%d{yyyy-MM-dd.HH:mm}.log&quot;\n                 immediateFlush=&quot;true&quot;&gt;\n        &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} %5p{length=5} - %c{1} %m %ex%n&quot;/&gt;\n        &lt;Policies&gt;\n            &lt;TimeBasedTriggeringPolicy/&gt;\n        &lt;/Policies&gt;\n    &lt;/RollingFile&gt;\n...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3070300,"reputation":420,"user_id":2601138,"accept_rate":88,"display_name":"Nighty42"},"score":0,"creation_date":1523613241,"post_id":35982587,"comment_id":86642552,"body_markdown":"Yes, that worked fine for me: I had to define my appender this way: &lt;RollingFile name=&quot;DailyRollingHTML&quot; append=&quot;true&quot; fileName=&quot;application-${filePattern}.log&quot; filePattern=&quot;application-%d{yyyy-MM-dd}.log&quot;&gt;","body":"Yes, that worked fine for me: I had to define my appender this way: &lt;RollingFile name=&quot;DailyRollingHTML&quot; append=&quot;true&quot; fileName=&quot;application-${filePattern}.log&quot; filePattern=&quot;application-%d{yyyy-MM-dd}.log&quot;&gt;"}],"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1457943885,"creation_date":1457943885,"answer_id":35982587,"question_id":35982475,"body_markdown":"This one worked (whyever):\r\n\r\n    &lt;property name=&quot;filePattern&quot;&gt;${date:yyyy-MM-dd}&lt;/property&gt;","title":"How to use current date pattern in log4j2 fileName?","body":"<p>This one worked (whyever):</p>\n\n<pre><code>&lt;property name=\"filePattern\"&gt;${date:yyyy-MM-dd}&lt;/property&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1095538,"reputation":1110,"user_id":1747983,"display_name":"Tilo"},"score":0,"creation_date":1647561465,"post_id":54647486,"comment_id":126408660,"body_markdown":"can I combine this with keep max 15 files or so? DefaultRolloverStrategy caused :: `RollingFileAppender &#39;MyAppender&#39;: When no file name is provided a DirectFileRolloverStrategy must be configured`","body":"can I combine this with keep max 15 files or so? DefaultRolloverStrategy caused :: <code>RollingFileAppender &#39;MyAppender&#39;: When no file name is provided a DirectFileRolloverStrategy must be configured</code>"}],"tags":[],"owner":{"account_id":15316178,"reputation":111,"user_id":11050016,"display_name":"Ravinda Dissanayake"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1549965951,"creation_date":1549965951,"answer_id":54647486,"question_id":35982475,"body_markdown":"Remove the filename attribute. It worked for me. (got the solution from: https://issues.apache.org/jira/browse/LOG4J2-1859) Here is my working configuration \r\n\r\n\r\n        &lt;RollingFile name=&quot;File&quot; filePattern=&quot;${basePath}/api_test_execution_log_%d{yyyy-MM-dd}_%d{HH-mm-ss}_%i.log&quot; immediateFlush=&quot;true&quot;&gt;\r\n           &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n            \r\n           &lt;Policies&gt;\r\n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;32 MB&quot; /&gt;\r\n                &lt;OnStartupTriggeringPolicy/&gt;\r\n           &lt;/Policies&gt;\r\n        &lt;/RollingFile&gt;","title":"How to use current date pattern in log4j2 fileName?","body":"<p>Remove the filename attribute. It worked for me. (got the solution from: <a href=\"https://issues.apache.org/jira/browse/LOG4J2-1859\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/LOG4J2-1859</a>) Here is my working configuration </p>\n\n<pre><code>    &lt;RollingFile name=\"File\" filePattern=\"${basePath}/api_test_execution_log_%d{yyyy-MM-dd}_%d{HH-mm-ss}_%i.log\" immediateFlush=\"true\"&gt;\n       &lt;PatternLayout pattern=\"%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n\"/&gt;\n\n       &lt;Policies&gt;\n            &lt;TimeBasedTriggeringPolicy interval=\"1\" modulate=\"true\"/&gt;\n            &lt;SizeBasedTriggeringPolicy size=\"32 MB\" /&gt;\n            &lt;OnStartupTriggeringPolicy/&gt;\n       &lt;/Policies&gt;\n    &lt;/RollingFile&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1619369,"reputation":193,"user_id":1496280,"display_name":"danieltc07"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597151164,"creation_date":1597151164,"answer_id":63358793,"question_id":35982475,"body_markdown":"For those are using Log4j2 version 2.6.2 and below:\r\n\r\n&gt; The fileName is indeed a file name that never changes while the\r\n&gt; application is running. If you do not want this behavior upgrade to\r\n&gt; the latest version of Log4j 2 and do not specify the fileName\r\n&gt; attribute.\r\n\r\nFrom [https://issues.apache.org/jira/browse/LOG4J2-1859][1]\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/LOG4J2-1859","title":"How to use current date pattern in log4j2 fileName?","body":"<p>For those are using Log4j2 version 2.6.2 and below:</p>\n<blockquote>\n<p>The fileName is indeed a file name that never changes while the\napplication is running. If you do not want this behavior upgrade to\nthe latest version of Log4j 2 and do not specify the fileName\nattribute.</p>\n</blockquote>\n<p>From <a href=\"https://issues.apache.org/jira/browse/LOG4J2-1859\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/LOG4J2-1859</a></p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19780,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1666173563,"creation_date":1457943440,"question_id":35982475,"body_markdown":"```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration&gt;\r\n    &lt;Properties&gt;\r\n        &lt;property name=&quot;filePattern&quot;&gt;%d{yyyy-MM-dd}&lt;/property&gt;\r\n    &lt;/Properties&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;RollingFile name=&quot;TEST&quot;\r\n                     fileName=&quot;application-${filePattern}.log&quot;\r\n                     filePattern=&quot;application-${filePattern}-rolled.log&quot;&gt;\r\n            &lt;Policies&gt;\r\n                &lt;TimeBasedTriggeringPolicy modulate=&quot;true&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n        &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n    ...\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nI&#39;d like to use the current date directly in the written logfile. But the result of the configuration above is `application-%{yyyy-MM-dd}` as filename.\r\n\r\nWhy is the date placeholder not resolved?\r\nBy the way: the renamed file on midnight is properly renamed like `application-2016-03-13-rolled.log`. Why does it work there, but not in the current logfile?\r\n\r\nI&#39;m running  `tomcat 8` and `java 8`, if that matters.","title":"How to use current date pattern in log4j2 fileName?","body":"<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n    &lt;Properties&gt;\n        &lt;property name=&quot;filePattern&quot;&gt;%d{yyyy-MM-dd}&lt;/property&gt;\n    &lt;/Properties&gt;\n    &lt;Appenders&gt;\n        &lt;RollingFile name=&quot;TEST&quot;\n                     fileName=&quot;application-${filePattern}.log&quot;\n                     filePattern=&quot;application-${filePattern}-rolled.log&quot;&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy modulate=&quot;true&quot;/&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    ...\n&lt;/Configuration&gt;\n</code></pre>\n<p>I'd like to use the current date directly in the written logfile. But the result of the configuration above is <code>application-%{yyyy-MM-dd}</code> as filename.</p>\n<p>Why is the date placeholder not resolved?\nBy the way: the renamed file on midnight is properly renamed like <code>application-2016-03-13-rolled.log</code>. Why does it work there, but not in the current logfile?</p>\n<p>I'm running  <code>tomcat 8</code> and <code>java 8</code>, if that matters.</p>\n"},{"tags":["java","tree-traversal"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1645824245,"post_id":71270375,"comment_id":125981377,"body_markdown":"Can you give an example of the output your want for your traversal?","body":"Can you give an example of the output your want for your traversal?"}],"answers":[{"tags":[],"owner":{"account_id":9055663,"reputation":2527,"user_id":6744133,"display_name":"Oli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645833524,"creation_date":1645829523,"answer_id":71272528,"question_id":71270375,"body_markdown":"Firstly, your preorder traversal code traverses children in reverse order. When you push the children onto the stack in order, they get popped in reverse order, leading to incorrect behaviour. It should be something like this:\r\n\r\n```java\r\nstatic List&lt;Node&gt; preorderTraversal(Node root) {\r\n    List&lt;Node&gt; list = new ArrayList&lt;&gt;();\r\n    if (root == null) return list;\r\n    Stack&lt;Node&gt; stack = new Stack&lt;&gt;();\r\n    stack.push(root);\r\n\r\n    while (!stack.empty()) {\r\n        root = stack.pop();\r\n        list.add(root);\r\n\r\n        if (root.children != null) {\r\n            // iterate in reverse\r\n            for (int i = root.children.size() - 1; i &gt;= 0; i--) {\r\n                Node child = root.children.get(i);\r\n                if (child != null) {\r\n                    stack.push(child);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return list;\r\n}\r\n```\r\n\r\nBefore we look at modified preorder traversal, it is helpful to look at how to implement preorder traversal recursively:\r\n\r\n```java\r\nstatic List&lt;Node&gt; preorderTraversalRecursive(Node root) {\r\n    ArrayList&lt;Node&gt; outList = new ArrayList&lt;&gt;();\r\n    preorderTraversalRecursive(root, outList);\r\n    return outList;\r\n}\r\n\r\nprivate static void preorderTraversalRecursive(Node root, ArrayList&lt;Node&gt; outList) {\r\n    if (root == null) {\r\n        return;\r\n    }\r\n    outList.add(root);\r\n\r\n    if (root.children != null) {\r\n        for (Node child : root.children) {\r\n            preorderTraversalRecursive(child, outList);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis code simple outputs a node before traversing its children.\r\n\r\nTo make this into a modified preorder traversal, you only need to keep track of a counter that is incremented before and after every node is processed, and record it before and after the children are processed in order to get `left` and `right` values. Here, the current `count` is returned by the method so that it can be changed during processing of child nodes and this updated value used for their parents&#39; `right` value:\r\n\r\n```java\r\nstatic List&lt;MPTTNode&gt; modifiedPreorderTraversalRecursive(Node root) {\r\n    ArrayList&lt;MPTTNode&gt; outList = new ArrayList&lt;&gt;();\r\n    modifiedPreorderTraversalRecursive(root, 0, outList);\r\n    return outList;\r\n}\r\n\r\nprivate static int modifiedPreorderTraversalRecursive(Node root, int counter, ArrayList&lt;MPTTNode&gt; outList) {\r\n    if (root == null) {\r\n        return counter;\r\n    }\r\n    counter++;\r\n    MPTTNode mpttNode = new MPTTNode(root.data, counter, 0); // right value is unknown, leave as 0 for now\r\n    outList.add(mpttNode);\r\n\r\n    if (root.children != null) {\r\n        for (Node child : root.children) {\r\n            // modify counter\r\n            counter = modifiedPreorderTraversalRecursive(child, counter, outList);\r\n        }\r\n    }\r\n    counter++;\r\n\r\n    mpttNode.right = counter;\r\n\r\n    return counter;\r\n}\r\n```\r\n\r\nThis can also be implemented iteratively:\r\n\r\n```java\r\nstatic List&lt;MPTTNode&gt; modifiedPreorderTraversal(Node root) {\r\n    List&lt;MPTTNode&gt; list = new ArrayList&lt;&gt;();\r\n    if (root == null) return list;\r\n    Stack&lt;Node&gt; stack = new Stack&lt;&gt;();\r\n    Stack&lt;Integer&gt; pending = new Stack&lt;&gt;();\r\n    stack.push(root);\r\n\r\n    int counter = 0;\r\n    while (!stack.empty()) {\r\n        root = stack.pop();\r\n        if (root == null) {\r\n            int nodeIndex = pending.pop();\r\n            counter++;\r\n            list.get(nodeIndex).right = counter;\r\n            continue;\r\n        }\r\n        counter++;\r\n        pending.push(list.size());\r\n        list.add(new MPTTNode(root.data, counter, 0)); // right value is unknown, leave as 0 for now\r\n\r\n\r\n        stack.push(null);\r\n        if (root.children != null) {\r\n            // iterate in reverse\r\n            for (int i = root.children.size() - 1; i &gt;= 0; i--) {\r\n                Node child = root.children.get(i);\r\n                if (child != null) {\r\n                    stack.push(child);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return list;\r\n}\r\n```\r\nThis works by using a `pending` stack to keep track of the indices of parent nodes within the output list (`list`). It uses `null` values in the `stack` stack to signal that all children of a node have been processed and so the `right` value of their parent is known.\r\n\r\n---\r\n\r\nHere&#39;s all my code, including the same example tree as is used in the linked question:\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Node tree = new Node(&quot;Electronics&quot;,\r\n                Arrays.asList(\r\n                        new Node(&quot;Televisions&quot;,\r\n                                Arrays.asList(\r\n                                        new Node(&quot;Tube&quot;),\r\n                                        new Node(&quot;LCD&quot;),\r\n                                        new Node(&quot;Plasma&quot;)\r\n                                )\r\n                        ),\r\n                        new Node(&quot;Portable Electronics&quot;,\r\n                                Arrays.asList(\r\n                                        new Node(&quot;MP3 Players&quot;, Collections.singletonList(\r\n                                                new Node(&quot;Flash&quot;)\r\n                                        )),\r\n                                        new Node(&quot;CD Players&quot;),\r\n                                        new Node(&quot;2 Way Radios&quot;)\r\n                                )\r\n                        )\r\n                )\r\n        );\r\n\r\n        List&lt;MPTTNode&gt; list1 = Node.modifiedPreorderTraversal(tree);\r\n        List&lt;MPTTNode&gt; list2 = Node.modifiedPreorderTraversalRecursive(tree);\r\n\r\n        if (!list1.equals(list2)) {\r\n            throw new RuntimeException(&quot;Traversals not equal&quot;);\r\n        }\r\n\r\n        for (var node : list1) {\r\n            System.out.printf(&quot;%-30s left:%5d, right:%5d\\n&quot;, node.data, node.left, node.right);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Stack;\r\n\r\npublic class Node {\r\n    String data;\r\n    List&lt;Node&gt; children;\r\n\r\n    public Node(String data, List&lt;Node&gt; children) {\r\n        this.data = data;\r\n        this.children = children;\r\n    }\r\n\r\n    public Node(String data) {\r\n        this.data = data;\r\n    }\r\n\r\n    static List&lt;Node&gt; preorderTraversal(Node root) {\r\n        List&lt;Node&gt; list = new ArrayList&lt;&gt;();\r\n        if (root == null) return list;\r\n        Stack&lt;Node&gt; stack = new Stack&lt;&gt;();\r\n        stack.push(root);\r\n\r\n        while (!stack.empty()) {\r\n            root = stack.pop();\r\n            list.add(root);\r\n\r\n            if (root.children != null) {\r\n                // iterate in reverse\r\n                for (int i = root.children.size() - 1; i &gt;= 0; i--) {\r\n                    Node child = root.children.get(i);\r\n                    if (child != null) {\r\n                        stack.push(child);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return list;\r\n    }\r\n\r\n    static List&lt;MPTTNode&gt; modifiedPreorderTraversal(Node root) {\r\n        List&lt;MPTTNode&gt; list = new ArrayList&lt;&gt;();\r\n        if (root == null) return list;\r\n        Stack&lt;Node&gt; stack = new Stack&lt;&gt;();\r\n        Stack&lt;Integer&gt; pending = new Stack&lt;&gt;();\r\n        stack.push(root);\r\n\r\n        int counter = 0;\r\n        while (!stack.empty()) {\r\n            root = stack.pop();\r\n            if (root == null) {\r\n                int nodeIndex = pending.pop();\r\n                counter++;\r\n                list.get(nodeIndex).right = counter;\r\n                continue;\r\n            }\r\n            counter++;\r\n            pending.push(list.size());\r\n            list.add(new MPTTNode(root.data, counter, 0)); // right value is unknown, leave as 0 for now\r\n\r\n\r\n            stack.push(null);\r\n            if (root.children != null) {\r\n                // iterate in reverse\r\n                for (int i = root.children.size() - 1; i &gt;= 0; i--) {\r\n                    Node child = root.children.get(i);\r\n                    if (child != null) {\r\n                        stack.push(child);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return list;\r\n    }\r\n\r\n    static List&lt;Node&gt; preorderTraversalRecursive(Node root) {\r\n        ArrayList&lt;Node&gt; outList = new ArrayList&lt;&gt;();\r\n        preorderTraversalRecursive(root, outList);\r\n        return outList;\r\n    }\r\n\r\n    private static void preorderTraversalRecursive(Node root, ArrayList&lt;Node&gt; outList) {\r\n        if (root == null) {\r\n            return;\r\n        }\r\n        outList.add(root);\r\n\r\n        if (root.children != null) {\r\n            for (Node child : root.children) {\r\n                preorderTraversalRecursive(child, outList);\r\n            }\r\n        }\r\n    }\r\n    static List&lt;MPTTNode&gt; modifiedPreorderTraversalRecursive(Node root) {\r\n        ArrayList&lt;MPTTNode&gt; outList = new ArrayList&lt;&gt;();\r\n        modifiedPreorderTraversalRecursive(root, 0, outList);\r\n        return outList;\r\n    }\r\n\r\n    private static int modifiedPreorderTraversalRecursive(Node root, int counter, ArrayList&lt;MPTTNode&gt; outList) {\r\n        if (root == null) {\r\n            return counter;\r\n        }\r\n        counter++;\r\n        MPTTNode mpttNode = new MPTTNode(root.data, counter, 0);\r\n        outList.add(mpttNode);\r\n\r\n        if (root.children != null) {\r\n            for (Node child : root.children) {\r\n                counter = modifiedPreorderTraversalRecursive(child, counter, outList);\r\n            }\r\n        }\r\n        counter++;\r\n\r\n        mpttNode.right = counter;\r\n\r\n        return counter;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nimport java.util.Objects;\r\n\r\npublic class MPTTNode {\r\n    String data;\r\n    int left;\r\n    int right;\r\n\r\n    public MPTTNode(String data, int left, int right) {\r\n        this.data = data;\r\n        this.left = left;\r\n        this.right = right;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        MPTTNode mpttNode = (MPTTNode) o;\r\n        return left == mpttNode.left &amp;&amp; right == mpttNode.right &amp;&amp; Objects.equals(data, mpttNode.data);\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```lang-none\r\nElectronics                    left:    1, right:   20\r\nTelevisions                    left:    2, right:    9\r\nTube                           left:    3, right:    4\r\nLCD                            left:    5, right:    6\r\nPlasma                         left:    7, right:    8\r\nPortable Electronics           left:   10, right:   19\r\nMP3 Players                    left:   11, right:   14\r\nFlash                          left:   12, right:   13\r\nCD Players                     left:   15, right:   16\r\n2 Way Radios                   left:   17, right:   18\r\n```\r\n","title":"Algorithm for Modified Preorder Tree Traversal in Java","body":"<p>Firstly, your preorder traversal code traverses children in reverse order. When you push the children onto the stack in order, they get popped in reverse order, leading to incorrect behaviour. It should be something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static List&lt;Node&gt; preorderTraversal(Node root) {\n    List&lt;Node&gt; list = new ArrayList&lt;&gt;();\n    if (root == null) return list;\n    Stack&lt;Node&gt; stack = new Stack&lt;&gt;();\n    stack.push(root);\n\n    while (!stack.empty()) {\n        root = stack.pop();\n        list.add(root);\n\n        if (root.children != null) {\n            // iterate in reverse\n            for (int i = root.children.size() - 1; i &gt;= 0; i--) {\n                Node child = root.children.get(i);\n                if (child != null) {\n                    stack.push(child);\n                }\n            }\n        }\n    }\n    return list;\n}\n</code></pre>\n<p>Before we look at modified preorder traversal, it is helpful to look at how to implement preorder traversal recursively:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static List&lt;Node&gt; preorderTraversalRecursive(Node root) {\n    ArrayList&lt;Node&gt; outList = new ArrayList&lt;&gt;();\n    preorderTraversalRecursive(root, outList);\n    return outList;\n}\n\nprivate static void preorderTraversalRecursive(Node root, ArrayList&lt;Node&gt; outList) {\n    if (root == null) {\n        return;\n    }\n    outList.add(root);\n\n    if (root.children != null) {\n        for (Node child : root.children) {\n            preorderTraversalRecursive(child, outList);\n        }\n    }\n}\n</code></pre>\n<p>This code simple outputs a node before traversing its children.</p>\n<p>To make this into a modified preorder traversal, you only need to keep track of a counter that is incremented before and after every node is processed, and record it before and after the children are processed in order to get <code>left</code> and <code>right</code> values. Here, the current <code>count</code> is returned by the method so that it can be changed during processing of child nodes and this updated value used for their parents' <code>right</code> value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static List&lt;MPTTNode&gt; modifiedPreorderTraversalRecursive(Node root) {\n    ArrayList&lt;MPTTNode&gt; outList = new ArrayList&lt;&gt;();\n    modifiedPreorderTraversalRecursive(root, 0, outList);\n    return outList;\n}\n\nprivate static int modifiedPreorderTraversalRecursive(Node root, int counter, ArrayList&lt;MPTTNode&gt; outList) {\n    if (root == null) {\n        return counter;\n    }\n    counter++;\n    MPTTNode mpttNode = new MPTTNode(root.data, counter, 0); // right value is unknown, leave as 0 for now\n    outList.add(mpttNode);\n\n    if (root.children != null) {\n        for (Node child : root.children) {\n            // modify counter\n            counter = modifiedPreorderTraversalRecursive(child, counter, outList);\n        }\n    }\n    counter++;\n\n    mpttNode.right = counter;\n\n    return counter;\n}\n</code></pre>\n<p>This can also be implemented iteratively:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static List&lt;MPTTNode&gt; modifiedPreorderTraversal(Node root) {\n    List&lt;MPTTNode&gt; list = new ArrayList&lt;&gt;();\n    if (root == null) return list;\n    Stack&lt;Node&gt; stack = new Stack&lt;&gt;();\n    Stack&lt;Integer&gt; pending = new Stack&lt;&gt;();\n    stack.push(root);\n\n    int counter = 0;\n    while (!stack.empty()) {\n        root = stack.pop();\n        if (root == null) {\n            int nodeIndex = pending.pop();\n            counter++;\n            list.get(nodeIndex).right = counter;\n            continue;\n        }\n        counter++;\n        pending.push(list.size());\n        list.add(new MPTTNode(root.data, counter, 0)); // right value is unknown, leave as 0 for now\n\n\n        stack.push(null);\n        if (root.children != null) {\n            // iterate in reverse\n            for (int i = root.children.size() - 1; i &gt;= 0; i--) {\n                Node child = root.children.get(i);\n                if (child != null) {\n                    stack.push(child);\n                }\n            }\n        }\n    }\n    return list;\n}\n</code></pre>\n<p>This works by using a <code>pending</code> stack to keep track of the indices of parent nodes within the output list (<code>list</code>). It uses <code>null</code> values in the <code>stack</code> stack to signal that all children of a node have been processed and so the <code>right</code> value of their parent is known.</p>\n<hr />\n<p>Here's all my code, including the same example tree as is used in the linked question:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n\n\npublic class Main {\n    public static void main(String[] args) {\n        Node tree = new Node(&quot;Electronics&quot;,\n                Arrays.asList(\n                        new Node(&quot;Televisions&quot;,\n                                Arrays.asList(\n                                        new Node(&quot;Tube&quot;),\n                                        new Node(&quot;LCD&quot;),\n                                        new Node(&quot;Plasma&quot;)\n                                )\n                        ),\n                        new Node(&quot;Portable Electronics&quot;,\n                                Arrays.asList(\n                                        new Node(&quot;MP3 Players&quot;, Collections.singletonList(\n                                                new Node(&quot;Flash&quot;)\n                                        )),\n                                        new Node(&quot;CD Players&quot;),\n                                        new Node(&quot;2 Way Radios&quot;)\n                                )\n                        )\n                )\n        );\n\n        List&lt;MPTTNode&gt; list1 = Node.modifiedPreorderTraversal(tree);\n        List&lt;MPTTNode&gt; list2 = Node.modifiedPreorderTraversalRecursive(tree);\n\n        if (!list1.equals(list2)) {\n            throw new RuntimeException(&quot;Traversals not equal&quot;);\n        }\n\n        for (var node : list1) {\n            System.out.printf(&quot;%-30s left:%5d, right:%5d\\n&quot;, node.data, node.left, node.right);\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Stack;\n\npublic class Node {\n    String data;\n    List&lt;Node&gt; children;\n\n    public Node(String data, List&lt;Node&gt; children) {\n        this.data = data;\n        this.children = children;\n    }\n\n    public Node(String data) {\n        this.data = data;\n    }\n\n    static List&lt;Node&gt; preorderTraversal(Node root) {\n        List&lt;Node&gt; list = new ArrayList&lt;&gt;();\n        if (root == null) return list;\n        Stack&lt;Node&gt; stack = new Stack&lt;&gt;();\n        stack.push(root);\n\n        while (!stack.empty()) {\n            root = stack.pop();\n            list.add(root);\n\n            if (root.children != null) {\n                // iterate in reverse\n                for (int i = root.children.size() - 1; i &gt;= 0; i--) {\n                    Node child = root.children.get(i);\n                    if (child != null) {\n                        stack.push(child);\n                    }\n                }\n            }\n        }\n        return list;\n    }\n\n    static List&lt;MPTTNode&gt; modifiedPreorderTraversal(Node root) {\n        List&lt;MPTTNode&gt; list = new ArrayList&lt;&gt;();\n        if (root == null) return list;\n        Stack&lt;Node&gt; stack = new Stack&lt;&gt;();\n        Stack&lt;Integer&gt; pending = new Stack&lt;&gt;();\n        stack.push(root);\n\n        int counter = 0;\n        while (!stack.empty()) {\n            root = stack.pop();\n            if (root == null) {\n                int nodeIndex = pending.pop();\n                counter++;\n                list.get(nodeIndex).right = counter;\n                continue;\n            }\n            counter++;\n            pending.push(list.size());\n            list.add(new MPTTNode(root.data, counter, 0)); // right value is unknown, leave as 0 for now\n\n\n            stack.push(null);\n            if (root.children != null) {\n                // iterate in reverse\n                for (int i = root.children.size() - 1; i &gt;= 0; i--) {\n                    Node child = root.children.get(i);\n                    if (child != null) {\n                        stack.push(child);\n                    }\n                }\n            }\n        }\n        return list;\n    }\n\n    static List&lt;Node&gt; preorderTraversalRecursive(Node root) {\n        ArrayList&lt;Node&gt; outList = new ArrayList&lt;&gt;();\n        preorderTraversalRecursive(root, outList);\n        return outList;\n    }\n\n    private static void preorderTraversalRecursive(Node root, ArrayList&lt;Node&gt; outList) {\n        if (root == null) {\n            return;\n        }\n        outList.add(root);\n\n        if (root.children != null) {\n            for (Node child : root.children) {\n                preorderTraversalRecursive(child, outList);\n            }\n        }\n    }\n    static List&lt;MPTTNode&gt; modifiedPreorderTraversalRecursive(Node root) {\n        ArrayList&lt;MPTTNode&gt; outList = new ArrayList&lt;&gt;();\n        modifiedPreorderTraversalRecursive(root, 0, outList);\n        return outList;\n    }\n\n    private static int modifiedPreorderTraversalRecursive(Node root, int counter, ArrayList&lt;MPTTNode&gt; outList) {\n        if (root == null) {\n            return counter;\n        }\n        counter++;\n        MPTTNode mpttNode = new MPTTNode(root.data, counter, 0);\n        outList.add(mpttNode);\n\n        if (root.children != null) {\n            for (Node child : root.children) {\n                counter = modifiedPreorderTraversalRecursive(child, counter, outList);\n            }\n        }\n        counter++;\n\n        mpttNode.right = counter;\n\n        return counter;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Objects;\n\npublic class MPTTNode {\n    String data;\n    int left;\n    int right;\n\n    public MPTTNode(String data, int left, int right) {\n        this.data = data;\n        this.left = left;\n        this.right = right;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        MPTTNode mpttNode = (MPTTNode) o;\n        return left == mpttNode.left &amp;&amp; right == mpttNode.right &amp;&amp; Objects.equals(data, mpttNode.data);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Electronics                    left:    1, right:   20\nTelevisions                    left:    2, right:    9\nTube                           left:    3, right:    4\nLCD                            left:    5, right:    6\nPlasma                         left:    7, right:    8\nPortable Electronics           left:   10, right:   19\nMP3 Players                    left:   11, right:   14\nFlash                          left:   12, right:   13\nCD Players                     left:   15, right:   16\n2 Way Radios                   left:   17, right:   18\n</code></pre>\n"}],"owner":{"account_id":512425,"reputation":287,"user_id":2647867,"accept_rate":43,"display_name":"Student"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666173394,"creation_date":1645814423,"question_id":71270375,"body_markdown":"In the spirit of https://stackoverflow.com/questions/3623645/how-to-repair-a-corrupted-mptt-tree-nested-set-in-the-database-using-sql, I am trying to figure out an algorithm to determine the left and right values of a Modified Preorder Tree Traversal in Java given a root Node. Does anyone have any experience converting a regular pre order traversal into the modified traversal? \r\n\r\nI currently have this as my preorder traversal.\r\n```\r\nList&lt;Node&gt; preorderTraversal(Node root) {\r\n    List&lt;Node&gt; list = new ArrayList&lt;&gt;();\r\n    if(root == null) return list;\r\n    Stack&lt;Node&gt; stack = new Stack&lt;&gt;();\r\n    stack.push(root);\r\n\r\n    while(!stack.empty()) {\r\n        root = stack.pop();\r\n        list.add(root);\r\n\r\n        if(root.children != null) {\r\n            for(Node child : root.children) {\r\n                if(child != null) {\r\n                    stack.push(child);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return list;\r\n}\r\n```","title":"Algorithm for Modified Preorder Tree Traversal in Java","body":"<p>In the spirit of <a href=\"https://stackoverflow.com/questions/3623645/how-to-repair-a-corrupted-mptt-tree-nested-set-in-the-database-using-sql\">How to repair a corrupted MPTT tree (nested set) in the database using SQL?</a>, I am trying to figure out an algorithm to determine the left and right values of a Modified Preorder Tree Traversal in Java given a root Node. Does anyone have any experience converting a regular pre order traversal into the modified traversal?</p>\n<p>I currently have this as my preorder traversal.</p>\n<pre><code>List&lt;Node&gt; preorderTraversal(Node root) {\n    List&lt;Node&gt; list = new ArrayList&lt;&gt;();\n    if(root == null) return list;\n    Stack&lt;Node&gt; stack = new Stack&lt;&gt;();\n    stack.push(root);\n\n    while(!stack.empty()) {\n        root = stack.pop();\n        list.add(root);\n\n        if(root.children != null) {\n            for(Node child : root.children) {\n                if(child != null) {\n                    stack.push(child);\n                }\n            }\n        }\n    }\n    return list;\n}\n</code></pre>\n"},{"tags":["java","spring","project-reactor","blocking","spring-cloud-gateway"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1664455738,"post_id":73894468,"comment_id":130479169,"body_markdown":"No it won&#39;t as it is still blocking underneath whereas R2DBC isn&#39;t. It will exhuast the pool, create additional threads, basically you are loosing what you want to achieve with reactive programming. There is a reason why it is not recommended to use JDBC (and JPA for that matter) in a reactive application due to the inherent blocking nature of those technologies.","body":"No it won&#39;t as it is still blocking underneath whereas R2DBC isn&#39;t. It will exhuast the pool, create additional threads, basically you are loosing what you want to achieve with reactive programming. There is a reason why it is not recommended to use JDBC (and JPA for that matter) in a reactive application due to the inherent blocking nature of those technologies."}],"answers":[{"tags":[],"owner":{"account_id":11471404,"reputation":180,"user_id":8408114,"display_name":"Khepu"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666172805,"creation_date":1666172805,"answer_id":74123242,"question_id":73894468,"body_markdown":"I have used both approaches in production, wrapped JDBC calls and pure R2DBC. They were different applications so I won&#39;t speak to the performance because there are other parameters that affect it a lot, e.g. existence of ORM.\r\n\r\nYour approach is mostly correct but it does have a few issues. The first one is that you are currently &quot;leaking&quot; the scheduler outside of your repository, which means that any stream that connects to it will now run your code on the bounded elastic scheduler that you want to use for your DB calls. This will eventually lead to a nasty deadlock. Make sure to define an output scheduler (parallel or single) and transfer execution there before leaving the repository. \r\n\r\nThe other issue I see here is that your implementation will not play well with retry and repeat mechanisms. Using any of those would not cause a DB call to be made but instead, use the data that was fetched previously. Use `Mono.defer` to fix that:\r\n\r\n```java\r\n    public Mono&lt;String&gt; getSomeData(){\r\n        return Mono.defer(() -&gt; Mono.fromCallable(\r\n                () -&gt; template.queryForObject(SOME_SQL_QUERY, String.class)))\r\n           .subscribeOn(Schedulers.boundedElastic())\r\n           .publishOn(Schedulers.parallel());\r\n    }\r\n```\r\n\r\nUsing the default schedulers is fine for small applications but for more involved projects it would be better to have a dedicated DB bounded elastic and a parameterized output scheduler.\r\n\r\nThe last issue, which was a pain to figure out, is that your JDBC threadpool should be the same size as the boundedElastic used for the db calls. Otherwise some calls &quot;go missing&quot; under a lot of stress.\r\n\r\nI hope this helps!","title":"Spring gateway: Wrapping blocking calls with Mono.fromCallable()","body":"<p>I have used both approaches in production, wrapped JDBC calls and pure R2DBC. They were different applications so I won't speak to the performance because there are other parameters that affect it a lot, e.g. existence of ORM.</p>\n<p>Your approach is mostly correct but it does have a few issues. The first one is that you are currently &quot;leaking&quot; the scheduler outside of your repository, which means that any stream that connects to it will now run your code on the bounded elastic scheduler that you want to use for your DB calls. This will eventually lead to a nasty deadlock. Make sure to define an output scheduler (parallel or single) and transfer execution there before leaving the repository.</p>\n<p>The other issue I see here is that your implementation will not play well with retry and repeat mechanisms. Using any of those would not cause a DB call to be made but instead, use the data that was fetched previously. Use <code>Mono.defer</code> to fix that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Mono&lt;String&gt; getSomeData(){\n        return Mono.defer(() -&gt; Mono.fromCallable(\n                () -&gt; template.queryForObject(SOME_SQL_QUERY, String.class)))\n           .subscribeOn(Schedulers.boundedElastic())\n           .publishOn(Schedulers.parallel());\n    }\n</code></pre>\n<p>Using the default schedulers is fine for small applications but for more involved projects it would be better to have a dedicated DB bounded elastic and a parameterized output scheduler.</p>\n<p>The last issue, which was a pain to figure out, is that your JDBC threadpool should be the same size as the boundedElastic used for the db calls. Otherwise some calls &quot;go missing&quot; under a lot of stress.</p>\n<p>I hope this helps!</p>\n"}],"owner":{"account_id":7066200,"reputation":43,"user_id":5569569,"display_name":"martino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74123242,"answer_count":1,"score":2,"last_activity_date":1666172805,"creation_date":1664449449,"question_id":73894468,"body_markdown":"The scenario: In my Spring cloud gateway I need to modify the request based on some data persisted in my database. Therefore I am implementing a gateway-filter. Consider the following implementations:\r\n\r\nRepository Interface:\r\n```lang-java\r\npublic interface MyReactiveRepository{\r\n    Mono&lt;String&gt; getSomeData();\r\n}\r\n```\r\n\r\nRepository implementation:\r\n\r\n```lang-java\r\n@Repository\r\npublic class MyReactiveRepositoryImpl implements MyReactiveRepository\r\n{\r\n    private final JdbcTemplate template;\r\n\r\n    public MyReactiveRepositoryImpl(@Autowired JdbcTemplate template){\r\n        this.template = template;\r\n    }\r\n\r\n    @Override\r\n    public Mono&lt;String&gt; getSomeData(){\r\n        return Mono.fromCallable(\r\n            // Wrapping blocking code in a Mono:\r\n            () -&gt; template.queryForObject(SOME_SQL_QUERY, String.class)\r\n        ).subscribeOn(Schedulers.boundedElastic());\r\n    }\r\n}\r\n```\r\n\r\nAnd the filter:\r\n```lang-java\r\n@Component\r\npublic class MyGatewayFilter implements GatewayFilter\r\n{\r\n    private final MyReactiveRepository repository;\r\n\r\n    public MyGatewayFilter(@Autowired MyReactiveRepository repository){\r\n        this.repository = repository;\r\n    }\r\n\r\n    @Override\r\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain){\r\n        return repository.getSomeData()\r\n            .flatMap(\r\n                (repositoryData) -&gt; {\r\n                    // Modify the exchange based on the repository data in some way...\r\n                    // Then return\r\n                    return chain.filter(exchange);\r\n                }\r\n            );\r\n    }\r\n}\r\n```\r\nThe key here is that I have the blocking JDBCTemplate which I am &quot;attempting&quot; to make non-blocking as to preserve the non-blocking nature of the spring gateway. Naturally, I could make use of Spring R2DBC, but by Googling I have gotten the impression that the&quot;Mono.fromCallable+BoundedElastic-scheduler&quot;-trick also will work.\r\n\r\nMy question is whether or not my implementation actually will have the same performance compared to an implementation making use of R2DBC: What are the disadvantages of my implementation?\r\n\r\nThank you\r\n\r\n**Edit**: I first saw the &quot;fromCallable&quot; pattern at the [project reactor FAQ](https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking) so I would assume that there are scenarios where it is acceptable?","title":"Spring gateway: Wrapping blocking calls with Mono.fromCallable()","body":"<p>The scenario: In my Spring cloud gateway I need to modify the request based on some data persisted in my database. Therefore I am implementing a gateway-filter. Consider the following implementations:</p>\n<p>Repository Interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyReactiveRepository{\n    Mono&lt;String&gt; getSomeData();\n}\n</code></pre>\n<p>Repository implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic class MyReactiveRepositoryImpl implements MyReactiveRepository\n{\n    private final JdbcTemplate template;\n\n    public MyReactiveRepositoryImpl(@Autowired JdbcTemplate template){\n        this.template = template;\n    }\n\n    @Override\n    public Mono&lt;String&gt; getSomeData(){\n        return Mono.fromCallable(\n            // Wrapping blocking code in a Mono:\n            () -&gt; template.queryForObject(SOME_SQL_QUERY, String.class)\n        ).subscribeOn(Schedulers.boundedElastic());\n    }\n}\n</code></pre>\n<p>And the filter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class MyGatewayFilter implements GatewayFilter\n{\n    private final MyReactiveRepository repository;\n\n    public MyGatewayFilter(@Autowired MyReactiveRepository repository){\n        this.repository = repository;\n    }\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain){\n        return repository.getSomeData()\n            .flatMap(\n                (repositoryData) -&gt; {\n                    // Modify the exchange based on the repository data in some way...\n                    // Then return\n                    return chain.filter(exchange);\n                }\n            );\n    }\n}\n</code></pre>\n<p>The key here is that I have the blocking JDBCTemplate which I am &quot;attempting&quot; to make non-blocking as to preserve the non-blocking nature of the spring gateway. Naturally, I could make use of Spring R2DBC, but by Googling I have gotten the impression that the&quot;Mono.fromCallable+BoundedElastic-scheduler&quot;-trick also will work.</p>\n<p>My question is whether or not my implementation actually will have the same performance compared to an implementation making use of R2DBC: What are the disadvantages of my implementation?</p>\n<p>Thank you</p>\n<p><strong>Edit</strong>: I first saw the &quot;fromCallable&quot; pattern at the <a href=\"https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking\" rel=\"nofollow noreferrer\">project reactor FAQ</a> so I would assume that there are scenarios where it is acceptable?</p>\n"},{"tags":["java","spring-boot","jms"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1656596702,"post_id":72815680,"comment_id":128615782,"body_markdown":"Where is this defined `weblogic.jms.backend.jms` , are you sure the ConnectionFactory in your weblogic configuration is named `ConnectionFactory`?","body":"Where is this defined <code>weblogic.jms.backend.jms</code> , are you sure the ConnectionFactory in your weblogic configuration is named <code>ConnectionFactory</code>?"},{"owner":{"account_id":3617395,"reputation":61,"user_id":3016930,"display_name":"Chris Romkema"},"score":0,"creation_date":1656911478,"post_id":72815680,"comment_id":128677419,"body_markdown":"Yes I am 100% sure that the name of the ConnectionFactory is correct and I have no idea where this `weblogic.jms.backend.jms` is defined. It is not within my application nor the only other application deployed on that WebLogic server.","body":"Yes I am 100% sure that the name of the ConnectionFactory is correct and I have no idea where this <code>weblogic.jms.backend.jms</code> is defined. It is not within my application nor the only other application deployed on that WebLogic server."}],"answers":[{"tags":[],"owner":{"account_id":3617395,"reputation":61,"user_id":3016930,"display_name":"Chris Romkema"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666172796,"creation_date":1666172796,"answer_id":74123240,"question_id":72815680,"body_markdown":"I have found the solution. This is a case where WebLogic does not return a ConnectionFactory that can be used to create a JmsTemplate in order to interact with JmsQueue&#39;s.\r\n\r\nThe solution is to not create a JmsTemplate from a supplied ConnectionFactory but to directly refer to a JmsTemplate.\r\n\r\n```java\r\n@Component\r\npublic class JmsMessageSender {\r\n\r\n    @Resource\r\n    private JmsTemplate jmsTemplate;\r\n\r\n    public JmsMessageSender() {\r\n        ...\r\n    }\r\n    ...\r\n```","title":"Trying to send a message to a queue on weblogic","body":"<p>I have found the solution. This is a case where WebLogic does not return a ConnectionFactory that can be used to create a JmsTemplate in order to interact with JmsQueue's.</p>\n<p>The solution is to not create a JmsTemplate from a supplied ConnectionFactory but to directly refer to a JmsTemplate.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class JmsMessageSender {\n\n    @Resource\n    private JmsTemplate jmsTemplate;\n\n    public JmsMessageSender() {\n        ...\n    }\n    ...\n</code></pre>\n"}],"owner":{"account_id":3617395,"reputation":61,"user_id":3016930,"display_name":"Chris Romkema"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":754,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74123240,"answer_count":1,"score":0,"last_activity_date":1666172796,"creation_date":1656591440,"question_id":72815680,"body_markdown":"I have a spring boot application that is deployed on a WebLogic server, on that server there is a JmsModule defined that I need to use to send messages.\r\n\r\nI have the following as my sending class:\r\n```\r\n@Component\r\npublic class JmsMessageSender {\r\n    @Value(&quot;${spring.jms.queue}&quot;)\r\n    private String jmsQueue;\r\n\r\n    public JmsMessageSender(ConnectionFactory connectionFactory) {\r\n        this.jmsTemplate = new JmsTemplate(connectionFactory);\r\n    }\r\n\r\n    public void send(Message message) {\r\n        jmsTemplate.convertAndSend(jmsQueue, message.getBody(), mess -&gt; {\r\n            log.info(&quot;setting standard JMS headers before sending&quot;);\r\n            mess.setJMSMessageID(determineMessageId(message));\r\n            return mess;\r\n        });\r\n    }\r\n...\r\n```\r\n\r\nThe queue has a JNDI name and is retrieved via spring properties, it&#39;s defined as:\r\n\r\n```\r\nspring:\r\n  jms:\r\n    jndi-name: jms/ConnectionFactory\r\n    queue: jms/ProcessEventQueue\r\n```\r\n\r\nWhen starting the application I see no errors&#39; in the log but when I try to access this piece of code the following error is shown:\r\n\r\n```\r\n2022-06-30T10:22:20,072 [ERROR] org.springframework.boot.web.servlet.support.ErrorPageFilter ([ACTIVE] ExecuteThread: &#39;19&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;) - Forwarding to error page from request [/ha] due to exception [Uncategorized exception occurred during JMS processing; nested exception is weblogic.jms.common.JMSException: [JMSExceptions:045103]While trying to find a topic or a queue, the specific JMS server requested could not be found. The linked exception may contain more information about the reason for failure.]\r\norg.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is weblogic.jms.common.JMSException: [JMSExceptions:045103]While trying to find a topic or a queue, the specific JMS server requested could not be found. The linked exception may contain more information about the reason for failure.\r\n\tat org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:311) ~[spring-jms-5.3.20.jar:5.3.20]\r\n\tat org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:185) ~[spring-jms-5.3.20.jar:5.3.20]\r\n\tat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:507) ~[spring-jms-5.3.20.jar:5.3.20]\r\n\tat org.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:584) ~[spring-jms-5.3.20.jar:5.3.20]\r\n\tat org.springframework.jms.core.JmsTemplate.convertAndSend(JmsTemplate.java:691) ~[spring-jms-5.3.20.jar:5.3.20]\r\n...\r\nCaused by: javax.naming.NameNotFoundException: Unable to resolve &#39;weblogic.jms.backend.jms&#39;. Resolved &#39;weblogic.jms.backend&#39;\r\n\tat weblogic.jndi.internal.BasicNamingNode.newNameNotFoundException(BasicNamingNode.java:1292) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.BasicNamingNode.lookupHere(BasicNamingNode.java:354) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.ServerNamingNode.lookupHere(ServerNamingNode.java:227) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.BasicNamingNode.lookup(BasicNamingNode.java:214) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.ServerNamingNode.lookup(ServerNamingNode.java:532) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.BasicNamingNode.lookup(BasicNamingNode.java:228) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.ServerNamingNode.lookup(ServerNamingNode.java:532) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.BasicNamingNode.lookup(BasicNamingNode.java:228) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.ServerNamingNode.lookup(ServerNamingNode.java:532) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.BasicNamingNode.lookup(BasicNamingNode.java:228) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.ServerNamingNode.lookup(ServerNamingNode.java:532) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.RootNamingNode.lookup(RootNamingNode.java:84) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.WLEventContextImpl.lookup(WLEventContextImpl.java:307) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.WLContextImpl.lookup(WLContextImpl.java:435) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jms.frontend.FEManager.destinationCreate(FEManager.java:300) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\r\n\tat weblogic.jms.frontend.FEManager.invoke(FEManager.java:588) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\r\n\tat weblogic.messaging.dispatcher.Request.wrappedFiniteStateMachine(Request.java:1015) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\r\n\tat weblogic.messaging.dispatcher.DispatcherImpl.syncRequest(DispatcherImpl.java:256) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\r\n\tat weblogic.messaging.dispatcher.DispatcherImpl.dispatchSyncNoTran(DispatcherImpl.java:359) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\r\n\tat weblogic.jms.dispatcher.DispatcherAdapter.dispatchSyncNoTran(DispatcherAdapter.java:67) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\r\n\tat weblogic.messaging.dispatcher.CrossPartitionDispatcher.dispatchSyncNoTran(CrossPartitionDispatcher.java:64) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\r\n\tat weblogic.jms.client.JMSSession.createDestination(JMSSession.java:3460) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\r\n\tat weblogic.jms.client.JMSSession.createQueue(JMSSession.java:2749) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\r\n\tat weblogic.jms.client.WLSessionImpl.createQueue(WLSessionImpl.java:945) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\r\n\tat org.springframework.jms.support.destination.DynamicDestinationResolver.resolveQueue(DynamicDestinationResolver.java:85) ~[spring-jms-5.3.20.jar:5.3.20]\r\n\tat org.springframework.jms.support.destination.DynamicDestinationResolver.resolveDestinationName(DynamicDestinationResolver.java:59) ~[spring-jms-5.3.20.jar:5.3.20]\r\n\tat org.springframework.jms.support.destination.JmsDestinationAccessor.resolveDestinationName(JmsDestinationAccessor.java:115) ~[spring-jms-5.3.20.jar:5.3.20]\r\n\tat org.springframework.jms.core.JmsTemplate.lambda$send$3(JmsTemplate.java:585) ~[spring-jms-5.3.20.jar:5.3.20]\r\n\tat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:504) ~[spring-jms-5.3.20.jar:5.3.20]\r\n```\r\n\r\nI have verified that the correct property is retrieved and that it matches the JNDI name of the JmsModule in WebLogic. The web.xml and weblogic.xml are standard and do not contain anything related to JMS. Is there something that I&#39;m doing wrong/is missing?","title":"Trying to send a message to a queue on weblogic","body":"<p>I have a spring boot application that is deployed on a WebLogic server, on that server there is a JmsModule defined that I need to use to send messages.</p>\n<p>I have the following as my sending class:</p>\n<pre><code>@Component\npublic class JmsMessageSender {\n    @Value(&quot;${spring.jms.queue}&quot;)\n    private String jmsQueue;\n\n    public JmsMessageSender(ConnectionFactory connectionFactory) {\n        this.jmsTemplate = new JmsTemplate(connectionFactory);\n    }\n\n    public void send(Message message) {\n        jmsTemplate.convertAndSend(jmsQueue, message.getBody(), mess -&gt; {\n            log.info(&quot;setting standard JMS headers before sending&quot;);\n            mess.setJMSMessageID(determineMessageId(message));\n            return mess;\n        });\n    }\n...\n</code></pre>\n<p>The queue has a JNDI name and is retrieved via spring properties, it's defined as:</p>\n<pre><code>spring:\n  jms:\n    jndi-name: jms/ConnectionFactory\n    queue: jms/ProcessEventQueue\n</code></pre>\n<p>When starting the application I see no errors' in the log but when I try to access this piece of code the following error is shown:</p>\n<pre><code>2022-06-30T10:22:20,072 [ERROR] org.springframework.boot.web.servlet.support.ErrorPageFilter ([ACTIVE] ExecuteThread: '19' for queue: 'weblogic.kernel.Default (self-tuning)') - Forwarding to error page from request [/ha] due to exception [Uncategorized exception occurred during JMS processing; nested exception is weblogic.jms.common.JMSException: [JMSExceptions:045103]While trying to find a topic or a queue, the specific JMS server requested could not be found. The linked exception may contain more information about the reason for failure.]\norg.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is weblogic.jms.common.JMSException: [JMSExceptions:045103]While trying to find a topic or a queue, the specific JMS server requested could not be found. The linked exception may contain more information about the reason for failure.\n    at org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:311) ~[spring-jms-5.3.20.jar:5.3.20]\n    at org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:185) ~[spring-jms-5.3.20.jar:5.3.20]\n    at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:507) ~[spring-jms-5.3.20.jar:5.3.20]\n    at org.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:584) ~[spring-jms-5.3.20.jar:5.3.20]\n    at org.springframework.jms.core.JmsTemplate.convertAndSend(JmsTemplate.java:691) ~[spring-jms-5.3.20.jar:5.3.20]\n...\nCaused by: javax.naming.NameNotFoundException: Unable to resolve 'weblogic.jms.backend.jms'. Resolved 'weblogic.jms.backend'\n    at weblogic.jndi.internal.BasicNamingNode.newNameNotFoundException(BasicNamingNode.java:1292) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.BasicNamingNode.lookupHere(BasicNamingNode.java:354) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.ServerNamingNode.lookupHere(ServerNamingNode.java:227) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.BasicNamingNode.lookup(BasicNamingNode.java:214) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.ServerNamingNode.lookup(ServerNamingNode.java:532) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.BasicNamingNode.lookup(BasicNamingNode.java:228) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.ServerNamingNode.lookup(ServerNamingNode.java:532) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.BasicNamingNode.lookup(BasicNamingNode.java:228) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.ServerNamingNode.lookup(ServerNamingNode.java:532) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.BasicNamingNode.lookup(BasicNamingNode.java:228) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.ServerNamingNode.lookup(ServerNamingNode.java:532) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.RootNamingNode.lookup(RootNamingNode.java:84) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.WLEventContextImpl.lookup(WLEventContextImpl.java:307) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.WLContextImpl.lookup(WLContextImpl.java:435) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jms.frontend.FEManager.destinationCreate(FEManager.java:300) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\n    at weblogic.jms.frontend.FEManager.invoke(FEManager.java:588) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\n    at weblogic.messaging.dispatcher.Request.wrappedFiniteStateMachine(Request.java:1015) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\n    at weblogic.messaging.dispatcher.DispatcherImpl.syncRequest(DispatcherImpl.java:256) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\n    at weblogic.messaging.dispatcher.DispatcherImpl.dispatchSyncNoTran(DispatcherImpl.java:359) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\n    at weblogic.jms.dispatcher.DispatcherAdapter.dispatchSyncNoTran(DispatcherAdapter.java:67) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\n    at weblogic.messaging.dispatcher.CrossPartitionDispatcher.dispatchSyncNoTran(CrossPartitionDispatcher.java:64) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\n    at weblogic.jms.client.JMSSession.createDestination(JMSSession.java:3460) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\n    at weblogic.jms.client.JMSSession.createQueue(JMSSession.java:2749) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\n    at weblogic.jms.client.WLSessionImpl.createQueue(WLSessionImpl.java:945) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\n    at org.springframework.jms.support.destination.DynamicDestinationResolver.resolveQueue(DynamicDestinationResolver.java:85) ~[spring-jms-5.3.20.jar:5.3.20]\n    at org.springframework.jms.support.destination.DynamicDestinationResolver.resolveDestinationName(DynamicDestinationResolver.java:59) ~[spring-jms-5.3.20.jar:5.3.20]\n    at org.springframework.jms.support.destination.JmsDestinationAccessor.resolveDestinationName(JmsDestinationAccessor.java:115) ~[spring-jms-5.3.20.jar:5.3.20]\n    at org.springframework.jms.core.JmsTemplate.lambda$send$3(JmsTemplate.java:585) ~[spring-jms-5.3.20.jar:5.3.20]\n    at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:504) ~[spring-jms-5.3.20.jar:5.3.20]\n</code></pre>\n<p>I have verified that the correct property is retrieved and that it matches the JNDI name of the JmsModule in WebLogic. The web.xml and weblogic.xml are standard and do not contain anything related to JMS. Is there something that I'm doing wrong/is missing?</p>\n"},{"tags":["java","groovy","graphql","jmeter","jmeter-5.0"],"answers":[{"comments":[{"owner":{"account_id":20320342,"reputation":41,"user_id":14905175,"display_name":"Gopirengaraj C"},"score":0,"creation_date":1666172437,"post_id":74122939,"comment_id":130870748,"body_markdown":"I used the above code. In the request body, now the value looks like [\\&quot;\\\\\\&quot;aqwedasd\\\\\\&quot;\\&quot;, \\&quot;\\\\\\&quot;aqwedasq\\\\\\&quot;\\&quot;]\nI tried to use the json, and with that  the value looks like \n[&quot;\\&quot;aqwedasd\\&quot;&quot;,&quot;\\&quot;aqwedasq\\&quot;&quot;]","body":"I used the above code. In the request body, now the value looks like [\\&quot;\\\\\\&quot;aqwedasd\\\\\\&quot;\\&quot;, \\&quot;\\\\\\&quot;aqwedasq\\\\\\&quot;\\&quot;] I tried to use the json, and with that  the value looks like  [&quot;\\&quot;aqwedasd\\&quot;&quot;,&quot;\\&quot;aqwedasq\\&quot;&quot;]"}],"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666171479,"creation_date":1666171479,"answer_id":74122939,"question_id":74122770,"body_markdown":"You need to [escape quotation marks][1] which you&#39;re getting from the CSV file\r\n\r\nYou&#39;re sending:\r\n\r\n    (input_data: [&quot;aqwedasd&quot;,&quot;aqwedasq&quot;])\r\n\r\nand it needs to be\r\n \r\n    (input_data: [\\&quot;aqwedasd\\&quot;,\\&quot;aqwedasq\\&quot;])\r\n\r\n\r\n\r\n\r\nMy expectation is that instead of `vars.putObject(&quot;listdata&quot;, listdata)` you need to do something like:\r\n\r\n    def json = new groovy.json.JsonBuilder(listdata).toString()\r\n    def escapedJson = org.apache.commons.text.StringEscapeUtils.escapeJson(json)\r\n    vars.put(&#39;listdata&#39;, escapedJson)\r\n\r\n\r\nMore information on Groovy scripting in JMeter: [Apache Groovy: What Is Groovy Used For?][2]\r\n\r\n    \r\n\r\n\r\n  [1]: https://www.edureka.co/community/23839/escaping-strings-in-json\r\n  [2]: https://www.blazemeter.com/blog/apache-groovy","title":"list of string formatting issue in request","body":"<p>You need to <a href=\"https://www.edureka.co/community/23839/escaping-strings-in-json\" rel=\"nofollow noreferrer\">escape quotation marks</a> which you're getting from the CSV file</p>\n<p>You're sending:</p>\n<pre><code>(input_data: [&quot;aqwedasd&quot;,&quot;aqwedasq&quot;])\n</code></pre>\n<p>and it needs to be</p>\n<pre><code>(input_data: [\\&quot;aqwedasd\\&quot;,\\&quot;aqwedasq\\&quot;])\n</code></pre>\n<p>My expectation is that instead of <code>vars.putObject(&quot;listdata&quot;, listdata)</code> you need to do something like:</p>\n<pre><code>def json = new groovy.json.JsonBuilder(listdata).toString()\ndef escapedJson = org.apache.commons.text.StringEscapeUtils.escapeJson(json)\nvars.put('listdata', escapedJson)\n</code></pre>\n<p>More information on Groovy scripting in JMeter: <a href=\"https://www.blazemeter.com/blog/apache-groovy\" rel=\"nofollow noreferrer\">Apache Groovy: What Is Groovy Used For?</a></p>\n"}],"owner":{"account_id":20320342,"reputation":41,"user_id":14905175,"display_name":"Gopirengaraj C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666172520,"creation_date":1666170847,"question_id":74122770,"body_markdown":"I&#39;m trying to load test my Graphql API using Jmeter&#39;s GraphQL HTTP Request. I&#39;m reading a CSV file in JSR223 preprocessor to create an ArrayList&lt;String&gt;. I&#39;m loading the ArrayList to the parameter. When I&#39;m using the parameter value, I get the error because of a formatting issue.\r\nQuery without using the parameter\r\n\r\n```\r\nquery MyQuery {\r\n  batchGetData(input_data: [&quot;aqwedasd&quot;,&quot;aqwedasq&quot;]) {\r\n    data {\r\n      value1\r\n      value2\r\n      value3\r\n    }\r\n  }\r\n}\r\n\r\n```\r\nThe body of JMeter request without the parameter. **The below request works fine without any issues.** \r\n```\r\nPOST https://example.com/graphql\r\n\r\nPOST data:\r\n{&quot;operationName&quot;:null,&quot;query&quot;:&quot;query MyQuery {\\n  batchGetData(input_data: [\\&quot;aqwedasd\\&quot;,\\&quot;aqwedasq\\&quot;]) {\\n    data {\\n      value1\\n      value2\\n      value3\\n    }\\n  }\\n}&quot;}\r\n\r\n[no cookies]\r\n```\r\n\r\nNow using the JSR223 preprocessor, I read a CSV file and created an ArrayList using the below script and added it to the **listdata** parameter. \r\n```\r\ndef rows = new File(&quot;values.csv&quot;).readLines()\r\nCollections.shuffle(rows)\r\nArrayList&lt;String&gt; listdata = new ArrayList&lt;String&gt;()\r\nlistdata  = rows.subList(0, 5)\r\nvars.putObject(&quot;listdata&quot;, listdata)\r\n```\r\n\r\nNow in my query I&#39;m using the above **listdata** parameter. \r\n\r\nGraphQL query:\r\n```\r\nquery MyQuery {\r\n  batchGetData(input_data: ${listdata}) {\r\n    data {\r\n      value1\r\n      value2\r\n      value3\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\nNow when I ran the thread group, the JMeter transforms the query into the below request body. This fails because it doesn&#39;t have **\\** like the previous request.\r\n```\r\nPOST https://example.com/graphql\r\n\r\nPOST data:\r\n{&quot;operationName&quot;:null,&quot;query&quot;:&quot;query MyQuery {\\n  batchGetData(input_data: [&quot;aqwedasd&quot;,&quot;aqwedasq&quot;]) {\\n    data {\\n      value1\\n      value2\\n      value3\\n    }\\n  }\\n}&quot;}\r\n\r\n[no cookies]\r\n```\r\nI&#39;m getting the below error for the above request\r\n```\r\n{\r\n  &quot;errors&quot; : [ {\r\n    &quot;message&quot; : &quot;Invalid JSON payload in GraphQLAuth POST request.&quot;,\r\n    &quot;errorType&quot; : &quot;MalformedHttpRequestException&quot;\r\n  } ]\r\n}\r\n```\r\n\r\nPlease let me know if I&#39;m doing something wrong. ","title":"list of string formatting issue in request","body":"<p>I'm trying to load test my Graphql API using Jmeter's GraphQL HTTP Request. I'm reading a CSV file in JSR223 preprocessor to create an ArrayList. I'm loading the ArrayList to the parameter. When I'm using the parameter value, I get the error because of a formatting issue.\nQuery without using the parameter</p>\n<pre><code>query MyQuery {\n  batchGetData(input_data: [&quot;aqwedasd&quot;,&quot;aqwedasq&quot;]) {\n    data {\n      value1\n      value2\n      value3\n    }\n  }\n}\n\n</code></pre>\n<p>The body of JMeter request without the parameter. <strong>The below request works fine without any issues.</strong></p>\n<pre><code>POST https://example.com/graphql\n\nPOST data:\n{&quot;operationName&quot;:null,&quot;query&quot;:&quot;query MyQuery {\\n  batchGetData(input_data: [\\&quot;aqwedasd\\&quot;,\\&quot;aqwedasq\\&quot;]) {\\n    data {\\n      value1\\n      value2\\n      value3\\n    }\\n  }\\n}&quot;}\n\n[no cookies]\n</code></pre>\n<p>Now using the JSR223 preprocessor, I read a CSV file and created an ArrayList using the below script and added it to the <strong>listdata</strong> parameter.</p>\n<pre><code>def rows = new File(&quot;values.csv&quot;).readLines()\nCollections.shuffle(rows)\nArrayList&lt;String&gt; listdata = new ArrayList&lt;String&gt;()\nlistdata  = rows.subList(0, 5)\nvars.putObject(&quot;listdata&quot;, listdata)\n</code></pre>\n<p>Now in my query I'm using the above <strong>listdata</strong> parameter.</p>\n<p>GraphQL query:</p>\n<pre><code>query MyQuery {\n  batchGetData(input_data: ${listdata}) {\n    data {\n      value1\n      value2\n      value3\n    }\n  }\n}\n\n</code></pre>\n<p>Now when I ran the thread group, the JMeter transforms the query into the below request body. This fails because it doesn't have *<em>*</em> like the previous request.</p>\n<pre><code>POST https://example.com/graphql\n\nPOST data:\n{&quot;operationName&quot;:null,&quot;query&quot;:&quot;query MyQuery {\\n  batchGetData(input_data: [&quot;aqwedasd&quot;,&quot;aqwedasq&quot;]) {\\n    data {\\n      value1\\n      value2\\n      value3\\n    }\\n  }\\n}&quot;}\n\n[no cookies]\n</code></pre>\n<p>I'm getting the below error for the above request</p>\n<pre><code>{\n  &quot;errors&quot; : [ {\n    &quot;message&quot; : &quot;Invalid JSON payload in GraphQLAuth POST request.&quot;,\n    &quot;errorType&quot; : &quot;MalformedHttpRequestException&quot;\n  } ]\n}\n</code></pre>\n<p>Please let me know if I'm doing something wrong.</p>\n"},{"tags":["java","json","spring","spring-boot"],"comments":[{"owner":{"account_id":8741282,"reputation":1956,"user_id":6538278,"display_name":"0009laH"},"score":1,"creation_date":1666169025,"post_id":74122332,"comment_id":130869431,"body_markdown":"`private String List&lt;Response&gt; value;` You&#39;re declaring `value` as a list and as a string, this is strange...","body":"<code>private String List&lt;Response&gt; value;</code> You&#39;re declaring <code>value</code> as a list and as a string, this is strange..."},{"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"score":0,"creation_date":1666169182,"post_id":74122332,"comment_id":130869489,"body_markdown":"your code does not compile!","body":"your code does not compile!"},{"owner":{"account_id":26668769,"reputation":1,"user_id":20280477,"display_name":"Daboo"},"score":0,"creation_date":1666170090,"post_id":74122332,"comment_id":130869829,"body_markdown":"Yes, it compiles but it gives 500 internal error on postman","body":"Yes, it compiles but it gives 500 internal error on postman"},{"owner":{"account_id":26668769,"reputation":1,"user_id":20280477,"display_name":"Daboo"},"score":0,"creation_date":1666170125,"post_id":74122332,"comment_id":130869839,"body_markdown":"private String List&lt;Response&gt; value sorry typo error it is -&gt; private List&lt;Response&gt; value;","body":"private String List&lt;Response&gt; value sorry typo error it is -&gt; private List&lt;Response&gt; value;"}],"answers":[{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666172466,"creation_date":1666171644,"answer_id":74122985,"question_id":74122332,"body_markdown":"*If I understood it correctly you are trying to return the `DetailsField` object after setting the `List&lt;Response&gt; res` which you are getting from the API so it seems you can have the `DetailsField` object as the return type instead of `List&lt;DetailsField&gt; list`*\r\n\r\n**Note:**  \r\n\r\n1) Replace the `Response.java` class with your required implementation.\r\n2) Replace the hardcoded list `res` with your actual API response.\r\n\r\n***You can try this approach:***\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            System.out.println(getDetails(&quot;1&quot;));\r\n        }\r\n    \r\n        public static DetailsField getDetails(String id){\r\n            List&lt;Response&gt; res = Arrays.asList(new Response(&quot;response1&quot;),new Response(&quot;response2&quot;));\r\n            // I have hardcoded it for the demo\r\n            System.out.println(res); //here res is coming\r\n            DetailsField detail = new DetailsField();\r\n            detail.setIdS(id);\r\n            detail.setValue(res);\r\n            return detail;\r\n        }\r\n    }\r\n\r\n \r\n**Response.java**\r\n\r\n    public class Response {\r\n    \r\n        private String output;\r\n    \r\n        public Response(String output) {\r\n            this.output = output;\r\n        }\r\n    \r\n        public String getOutput() {\r\n            return output;\r\n        }\r\n    \r\n        public void setOutput(String output) {\r\n            this.output = output;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Response{&quot; +\r\n                    &quot;output=&#39;&quot; + output + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n**DetailsField.java**\r\n\r\n    public class DetailsField {\r\n    \r\n        private String idS;\r\n        private List&lt;Response&gt; value;\r\n    \r\n        public DetailsField(){}\r\n    \r\n        public DetailsField(String idS, List&lt;Response&gt; value) {\r\n            this.idS = idS;\r\n            this.value = value;\r\n        }\r\n    \r\n        public String getIdS() {\r\n            return idS;\r\n        }\r\n    \r\n        public void setIdS(String idS) {\r\n            this.idS = idS;\r\n        }\r\n    \r\n        public List&lt;Response&gt; getValue() {\r\n            return value;\r\n        }\r\n    \r\n        public void setValue(List&lt;Response&gt; value) {\r\n            this.value = value;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;DetailsField{&quot; +\r\n                    &quot;idS=&#39;&quot; + idS + &#39;\\&#39;&#39; +\r\n                    &quot;, value=&quot; + value +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    [Response{output=&#39;response1&#39;}, Response{output=&#39;response2&#39;}]\r\n    DetailsField{idS=&#39;1&#39;, value=[Response{output=&#39;response1&#39;}, Response{output=&#39;response2&#39;}]}","title":"How to set List value to a entity field","body":"<p><em>If I understood it correctly you are trying to return the <code>DetailsField</code> object after setting the <code>List&lt;Response&gt; res</code> which you are getting from the API so it seems you can have the <code>DetailsField</code> object as the return type instead of <code>List&lt;DetailsField&gt; list</code></em></p>\n<p><strong>Note:</strong></p>\n<ol>\n<li>Replace the <code>Response.java</code> class with your required implementation.</li>\n<li>Replace the hardcoded list <code>res</code> with your actual API response.</li>\n</ol>\n<p><em><strong>You can try this approach:</strong></em></p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        System.out.println(getDetails(&quot;1&quot;));\n    }\n\n    public static DetailsField getDetails(String id){\n        List&lt;Response&gt; res = Arrays.asList(new Response(&quot;response1&quot;),new Response(&quot;response2&quot;));\n        // I have hardcoded it for the demo\n        System.out.println(res); //here res is coming\n        DetailsField detail = new DetailsField();\n        detail.setIdS(id);\n        detail.setValue(res);\n        return detail;\n    }\n}\n</code></pre>\n<p><strong>Response.java</strong></p>\n<pre><code>public class Response {\n\n    private String output;\n\n    public Response(String output) {\n        this.output = output;\n    }\n\n    public String getOutput() {\n        return output;\n    }\n\n    public void setOutput(String output) {\n        this.output = output;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Response{&quot; +\n                &quot;output='&quot; + output + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p><strong>DetailsField.java</strong></p>\n<pre><code>public class DetailsField {\n\n    private String idS;\n    private List&lt;Response&gt; value;\n\n    public DetailsField(){}\n\n    public DetailsField(String idS, List&lt;Response&gt; value) {\n        this.idS = idS;\n        this.value = value;\n    }\n\n    public String getIdS() {\n        return idS;\n    }\n\n    public void setIdS(String idS) {\n        this.idS = idS;\n    }\n\n    public List&lt;Response&gt; getValue() {\n        return value;\n    }\n\n    public void setValue(List&lt;Response&gt; value) {\n        this.value = value;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;DetailsField{&quot; +\n                &quot;idS='&quot; + idS + '\\'' +\n                &quot;, value=&quot; + value +\n                '}';\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[Response{output='response1'}, Response{output='response2'}]\nDetailsField{idS='1', value=[Response{output='response1'}, Response{output='response2'}]}\n</code></pre>\n"}],"owner":{"account_id":26668769,"reputation":1,"user_id":20280477,"display_name":"Daboo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":608,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666172466,"creation_date":1666168829,"question_id":74122332,"body_markdown":"    public List&lt;DetailsField&gt; getDetails(String id){\r\n    List&lt;Response&gt; res = detailsService.getApiDetails(id);//I am getting details from API\r\n    System.out.println(res); //here res is coming\r\n    DetailsField detail = new DetailsField();\r\n    for(Response response: res){\r\n    System.out.println(response); //here response is coming\r\n    detail.setValue(List&lt;Response&gt; response);\r\n    }\r\n    return (List&lt;DetailsField&gt; )detail);\r\n    }\r\n\r\nBasically I am getting the details from res but I need to set res details to value field of DetailsField class.\r\n\r\n    public class DetailsField\r\n    {\r\n     private String idS;\r\n     private List&lt;Response&gt; value;\r\n    }\r\n\r\nBut I get an 500 internal error and when I check the logs, I see that Response cannot be casted to list. I am not sure of as res -&gt; I am getting the values and response -&gt; I am getting the values, I feel issue is while setting up the res values to DetailsField class field value.\r\n","title":"How to set List value to a entity field","body":"<pre><code>public List&lt;DetailsField&gt; getDetails(String id){\nList&lt;Response&gt; res = detailsService.getApiDetails(id);//I am getting details from API\nSystem.out.println(res); //here res is coming\nDetailsField detail = new DetailsField();\nfor(Response response: res){\nSystem.out.println(response); //here response is coming\ndetail.setValue(List&lt;Response&gt; response);\n}\nreturn (List&lt;DetailsField&gt; )detail);\n}\n</code></pre>\n<p>Basically I am getting the details from res but I need to set res details to value field of DetailsField class.</p>\n<pre><code>public class DetailsField\n{\n private String idS;\n private List&lt;Response&gt; value;\n}\n</code></pre>\n<p>But I get an 500 internal error and when I check the logs, I see that Response cannot be casted to list. I am not sure of as res -&gt; I am getting the values and response -&gt; I am getting the values, I feel issue is while setting up the res values to DetailsField class field value.</p>\n"},{"tags":["java","android","android-layout","android-library","android-gradle-3.0"],"comments":[{"owner":{"account_id":23733633,"reputation":742,"user_id":17752564,"display_name":"ninhnau19"},"score":0,"creation_date":1666000833,"post_id":74092374,"comment_id":130823207,"body_markdown":"I updated my answear, you could check it","body":"I updated my answear, you could check it"}],"answers":[{"comments":[{"owner":{"account_id":25149817,"reputation":11,"user_id":18995214,"display_name":"Userint2122"},"score":0,"creation_date":1665997010,"post_id":74092650,"comment_id":130821910,"body_markdown":"i did i forgot to mention it, still doesn&#39;t work","body":"i did i forgot to mention it, still doesn&#39;t work"},{"owner":{"account_id":23733633,"reputation":742,"user_id":17752564,"display_name":"ninhnau19"},"score":0,"creation_date":1666000957,"post_id":74092650,"comment_id":130823257,"body_markdown":"@Userint2122 check my answear again and let me know if it&#39;s work","body":"@Userint2122 check my answear again and let me know if it&#39;s work"},{"owner":{"account_id":25149817,"reputation":11,"user_id":18995214,"display_name":"Userint2122"},"score":0,"creation_date":1666164709,"post_id":74092650,"comment_id":130867912,"body_markdown":"didn&#39;t work unfortunately","body":"didn&#39;t work unfortunately"},{"owner":{"account_id":23733633,"reputation":742,"user_id":17752564,"display_name":"ninhnau19"},"score":0,"creation_date":1666171228,"post_id":74092650,"comment_id":130870247,"body_markdown":"@Userint2122 I see in your update, build.gradle duplicate material version (1.6.1 &amp; 1.0.0), try delete 1.6.1 and resync","body":"@Userint2122 I see in your update, build.gradle duplicate material version (1.6.1 &amp; 1.0.0), try delete 1.6.1 and resync"},{"owner":{"account_id":25149817,"reputation":11,"user_id":18995214,"display_name":"Userint2122"},"score":0,"creation_date":1666172334,"post_id":74092650,"comment_id":130870700,"body_markdown":"i tried, still doesn&#39;t work","body":"i tried, still doesn&#39;t work"},{"owner":{"account_id":23733633,"reputation":742,"user_id":17752564,"display_name":"ninhnau19"},"score":0,"creation_date":1666237301,"post_id":74092650,"comment_id":130889646,"body_markdown":"I don&#39;t know idea bruh. I created new project, implement as my answer and it works for me","body":"I don&#39;t know idea bruh. I created new project, implement as my answer and it works for me"}],"tags":[],"owner":{"account_id":23733633,"reputation":742,"user_id":17752564,"display_name":"ninhnau19"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666000796,"creation_date":1665981680,"answer_id":74092650,"question_id":74092374,"body_markdown":"make sure you add jcenter in build.gradle(project level)\r\n```\r\nallprojects {\r\n\t\trepositories {\r\n\t\t\t...\r\n\t\t\tjcenter()\r\n\t\t\tmaven { url &#39;https://jitpack.io&#39; }\r\n\t\t}\r\n\t}\r\n```\r\n\r\nAnd add support design library, such as\r\n```\r\n    implementation &#39;com.android.support:design:26.1.0&#39;\r\n```\r\nor migrate to android X, using:\r\n```\r\n    implementation &#39;com.google.android.material:material:v.v.v&#39;\r\n```","title":"Error cannot resolve class &#39; library&#39; in xml file","body":"<p>make sure you add jcenter in build.gradle(project level)</p>\n<pre><code>allprojects {\n        repositories {\n            ...\n            jcenter()\n            maven { url 'https://jitpack.io' }\n        }\n    }\n</code></pre>\n<p>And add support design library, such as</p>\n<pre><code>    implementation 'com.android.support:design:26.1.0'\n</code></pre>\n<p>or migrate to android X, using:</p>\n<pre><code>    implementation 'com.google.android.material:material:v.v.v'\n</code></pre>\n"}],"owner":{"account_id":25149817,"reputation":11,"user_id":18995214,"display_name":"Userint2122"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666172298,"creation_date":1665977901,"question_id":74092374,"body_markdown":"\r\n\r\nI want this library but keep getting error in the layout \r\n&#39; cannot resolve class devs.mulham.horizontalcalendar.HorizontalCalendarView &#39;  \r\nand &#39;Class referenced in the layout file, devs.mulham.horizontalcalendar.HorizontalCalendarView , was not found in the project or the libraries&#39; which i tried to  tools:ignore=&quot;MissingClass&quot; but nothing changed. \r\n\r\n\r\nI searched for solutions found this &quot;https://stackoverflow.com/questions/71929304/i-get-the-error-class-referenced-in-the-layout-file-was-not-found-in-the-pro/71929922#71929922&quot; but doesn&#39;t work, i also tried to invalidate cashes/restart, rebuild project/clean project, changing gradle classpath/version,.. deleting and reinstalling android studio \r\n\r\n\r\n\r\nHere is build gradle, the library i need `implementation &#39;devs.mulham.horizontalcalendar:horizontalcalendar:1.3.4&#39;` \r\n\r\n        plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    \r\n    android {\r\n        namespace &#39;com.example.calendarv511&#39;\r\n        compileSdk 32\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.calendarv511&quot;\r\n            minSdk 21\r\n            targetSdk 32\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n        implementation &#39;devs.mulham.horizontalcalendar:horizontalcalendar:1.3.4&#39;\r\n    }\r\n\r\n**Updated dependencies-gradle:** \r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.6.1&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;devs.mulham.horizontalcalendar:horizontalcalendar:1.3.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    implementation &#39;devs.mulham.horizontalcalendar:horizontalcalendar:1.3.4&#39;","title":"Error cannot resolve class &#39; library&#39; in xml file","body":"<p>I want this library but keep getting error in the layout\n' cannot resolve class devs.mulham.horizontalcalendar.HorizontalCalendarView '<br />\nand 'Class referenced in the layout file, devs.mulham.horizontalcalendar.HorizontalCalendarView , was not found in the project or the libraries' which i tried to  tools:ignore=&quot;MissingClass&quot; but nothing changed.</p>\n<p>I searched for solutions found this &quot;https://stackoverflow.com/questions/71929304/i-get-the-error-class-referenced-in-the-layout-file-was-not-found-in-the-pro/71929922#71929922&quot; but doesn't work, i also tried to invalidate cashes/restart, rebuild project/clean project, changing gradle classpath/version,.. deleting and reinstalling android studio</p>\n<p>Here is build gradle, the library i need <code>implementation 'devs.mulham.horizontalcalendar:horizontalcalendar:1.3.4'</code></p>\n<pre><code>    plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.calendarv511'\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.example.calendarv511&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    implementation 'devs.mulham.horizontalcalendar:horizontalcalendar:1.3.4'\n}\n</code></pre>\n<p><strong>Updated dependencies-gradle:</strong></p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.5.1'\nimplementation 'com.google.android.material:material:1.6.1'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.4'\nimplementation 'devs.mulham.horizontalcalendar:horizontalcalendar:1.3.4'\ntestImplementation 'junit:junit:4.13.2'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.3'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\nimplementation 'devs.mulham.horizontalcalendar:horizontalcalendar:1.3.4'\n</code></pre>\n"},{"tags":["java","pdfbox","boxable"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1665949959,"post_id":74089752,"comment_id":130813789,"body_markdown":"As @KJ says, parts of the pdf required for text extraction are not finished before asking the document. The optimal solution would be for you to keep track of whether or not the *project name* is on each page while *creating* the document pages. Alternatively, you Indeed have to store and load again.","body":"As @KJ says, parts of the pdf required for text extraction are not finished before asking the document. The optimal solution would be for you to keep track of whether or not the <i>project name</i> is on each page while <i>creating</i> the document pages. Alternatively, you Indeed have to store and load again."},{"owner":{"account_id":8901665,"reputation":315,"user_id":6644926,"accept_rate":12,"display_name":"Владимир Гичев"},"score":0,"creation_date":1665977991,"post_id":74089752,"comment_id":130817737,"body_markdown":"I&#39;m using boxable library to create a tables. On the first page i&#39;m adding all project info and when the table is bigger than one page is auto creating second page and i should add only project name there. Maybe i will try different approache. I&#39;ll try to calculate pages automatically created and add  the project name only on them.","body":"I&#39;m using boxable library to create a tables. On the first page i&#39;m adding all project info and when the table is bigger than one page is auto creating second page and i should add only project name there. Maybe i will try different approache. I&#39;ll try to calculate pages automatically created and add  the project name only on them."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1666002489,"post_id":74089752,"comment_id":130823795,"body_markdown":"You could save and reload to get your project working. But this is not an elegant development style. Does boxable tell you whether it created an extra page? Or can you detect it by calling `PDDocument.getNumberOfPages()` before and after?","body":"You could save and reload to get your project working. But this is not an elegant development style. Does boxable tell you whether it created an extra page? Or can you detect it by calling <code>PDDocument.getNumberOfPages()</code> before and after?"}],"answers":[{"tags":[],"owner":{"account_id":8901665,"reputation":315,"user_id":6644926,"accept_rate":12,"display_name":"Владимир Гичев"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666172180,"creation_date":1666172180,"answer_id":74123097,"question_id":74089752,"body_markdown":"Obviasly there is no way to find text before saving the document so I started a new approach.\r\n\r\n\r\n    oldPagesCount = document.getNumberOfPages();\r\n    addTableInformation(List&lt;String&gt; informationToAdd);\r\n    if (oldPagesCount &lt; document.getNumberOfPages()) {\r\n    \t    // we have auto generated pages and we should add projec name-number\r\n    \t    for (int i = oldPagesCount; i &lt; document.getNumberOfPages(); i++) {\r\n    \t\tpage = document.getPage(i);\r\n    \t    }\r\n    \t    addProjectInfo(project);\r\n    \t}\r\n      }\r\n\r\nIn this case if table info is moved to multiple pages the code is going on every newly added page and adding project information. Hope that this will help to everybody that need to do something like this.","title":"PDFBox search for text on specific page in new PDF","body":"<p>Obviasly there is no way to find text before saving the document so I started a new approach.</p>\n<pre><code>oldPagesCount = document.getNumberOfPages();\naddTableInformation(List&lt;String&gt; informationToAdd);\nif (oldPagesCount &lt; document.getNumberOfPages()) {\n        // we have auto generated pages and we should add projec name-number\n        for (int i = oldPagesCount; i &lt; document.getNumberOfPages(); i++) {\n        page = document.getPage(i);\n        }\n        addProjectInfo(project);\n    }\n  }\n</code></pre>\n<p>In this case if table info is moved to multiple pages the code is going on every newly added page and adding project information. Hope that this will help to everybody that need to do something like this.</p>\n"}],"owner":{"account_id":8901665,"reputation":315,"user_id":6644926,"accept_rate":12,"display_name":"Владимир Гичев"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74123097,"answer_count":1,"score":0,"last_activity_date":1666172180,"creation_date":1665945188,"question_id":74089752,"body_markdown":"I&#39;m searching a way to check my new PDF for a specific `String` on every page.\r\nThe idea is to go on every page and if project name is missing from the page to add it (before saving the pdf -  `doc.save(new FileOutputStream(new File(pathToFile)));`\r\n\r\nI already tried:\r\n\r\n`document.save(new FileOutputStream(new File(pathToFile)));`\r\n\r\n `PDDocument document = PDDocument.load(new File(pathToFile));`\r\n\r\n  \r\n\r\n     for (int i = 1; i &lt; document.getNumberOfPages(); i++) {\r\n        \t    PDFTextStripper reader = new PDFTextStripper();\r\n        \t    reader.setStartPage(i);\r\n        \t    reader.setEndPage(i);\r\n        \t    String pageText = reader.getText(document);\r\n        \t    System.out.println(pageText);\r\n        \t}\r\n\r\nthe result is : `Hello World` which is ok.\r\n\r\nbut this is working only if document is already saved and then load it again.\r\n\r\nIn my case when the document is not saved yet:\r\n\r\n     for (int i = 1; i &lt; document.getNumberOfPages(); i++) {\r\n            \t    PDFTextStripper reader = new PDFTextStripper();\r\n            \t    reader.setStartPage(i);\r\n            \t    reader.setEndPage(i);\r\n            \t    String pageText = reader.getText(document);\r\n            \t    System.out.println(pageText);\r\n            \t}\r\n\r\n\r\n\r\n the result is `empty String`\r\n\r\n","title":"PDFBox search for text on specific page in new PDF","body":"<p>I'm searching a way to check my new PDF for a specific <code>String</code> on every page.\nThe idea is to go on every page and if project name is missing from the page to add it (before saving the pdf -  <code>doc.save(new FileOutputStream(new File(pathToFile)));</code></p>\n<p>I already tried:</p>\n<p><code>document.save(new FileOutputStream(new File(pathToFile)));</code></p>\n<p><code>PDDocument document = PDDocument.load(new File(pathToFile));</code></p>\n<pre><code> for (int i = 1; i &lt; document.getNumberOfPages(); i++) {\n            PDFTextStripper reader = new PDFTextStripper();\n            reader.setStartPage(i);\n            reader.setEndPage(i);\n            String pageText = reader.getText(document);\n            System.out.println(pageText);\n        }\n</code></pre>\n<p>the result is : <code>Hello World</code> which is ok.</p>\n<p>but this is working only if document is already saved and then load it again.</p>\n<p>In my case when the document is not saved yet:</p>\n<pre><code> for (int i = 1; i &lt; document.getNumberOfPages(); i++) {\n                PDFTextStripper reader = new PDFTextStripper();\n                reader.setStartPage(i);\n                reader.setEndPage(i);\n                String pageText = reader.getText(document);\n                System.out.println(pageText);\n            }\n</code></pre>\n<p>the result is <code>empty String</code></p>\n"},{"tags":["java","bots","discord","discord-jda"],"answers":[{"comments":[{"owner":{"account_id":15064274,"reputation":412,"user_id":10871976,"display_name":"Shadow4571"},"score":0,"creation_date":1586957131,"post_id":61229594,"comment_id":108319596,"body_markdown":"Yes, this is exactly what was needed. Thank you very much.","body":"Yes, this is exactly what was needed. Thank you very much."},{"owner":{"account_id":19748748,"reputation":93,"user_id":14460547,"display_name":"Octavian T."},"score":0,"creation_date":1642633576,"post_id":61229594,"comment_id":125126522,"body_markdown":"How does loadMembers work? From the documentation, it seems like it will be useful for the feature that I am trying to implement, but I am not very proficient in java, so I don&#39;t know how the Task works. Is it like a promise a something? How can I get the final lists of members once the task ends processing?","body":"How does loadMembers work? From the documentation, it seems like it will be useful for the feature that I am trying to implement, but I am not very proficient in java, so I don&#39;t know how the Task works. Is it like a promise a something? How can I get the final lists of members once the task ends processing?"},{"owner":{"account_id":15064274,"reputation":412,"user_id":10871976,"display_name":"Shadow4571"},"score":1,"creation_date":1685426566,"post_id":61229594,"comment_id":134653806,"body_markdown":"@OctavianT. If still relevant: You can use the [Task](https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/utils/concurrent/Task.html) in several ways. Synchronously get the execution result through a method `get()` or asynchronously execute code with the result of a task through a method `onSuccess(result -&gt; ...)` using lamba function for example. Very similar to Promise from JS. For example: `response.json().then(json =&gt; ...)`","body":"@OctavianT. If still relevant: You can use the <a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/utils/concurrent/Task.html\" rel=\"nofollow noreferrer\">Task</a> in several ways. Synchronously get the execution result through a method <code>get()</code> or asynchronously execute code with the result of a task through a method <code>onSuccess(result -&gt; ...)</code> using lamba function for example. Very similar to Promise from JS. For example: <code>response.json().then(json =&gt; ...)</code>"}],"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1666171276,"creation_date":1586956242,"answer_id":61229594,"question_id":61226721,"body_markdown":"I assume you&#39;re using a development version of the 4.2.0 release (4.1.1_102 and above)\r\n\r\nIn these versions, the new factory methods have been introduced to make people aware of the new discord API design. In the future, bots will be limited to cache members who connected to voice channels by default.\r\n\r\n**If all you need is the count of members you can just use [Guild#getMemberCount][5]! Otherwise:**\r\n\r\nThe `createDefault`/`createLight` will only cache members connected to voice channels or owners of guilds (on first sight). To cache more members, you will have to enable the `GUILD_MEMBERS` intent in both the application dashboard for your bot and in JDA.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow you can do something like this:\r\n\r\n```java\r\nJDA api = JDABuilder.createDefault(token)\r\n                    .setMemberCachePolicy(MemberCachePolicy.ALL)\r\n                    .enableIntents(GatewayIntent.GUILD_MEMBERS)\r\n                    .build();\r\n```\r\n\r\nThe `GUILD_MEMBERS` intent is needed because it enables the `GUILD_MEMBER_REMOVE` dispatch to tell the library to remove a member from the cache when they are kicked/banned/leave.\r\n\r\nThis setup will perform **lazy loading**, which means it will start with only voice members and add more members to the cache once they become active.\r\n\r\nTo load all members on startup you have to additionally enable **member chunking**:\r\n\r\n```java\r\nJDABuilder.createDefault(token)\r\n          .setChunkingFilter(ChunkingFilter.ALL) // enable member chunking for all guilds\r\n          .setMemberCachePolicy(MemberCachePolicy.ALL)\r\n          .enableIntents(GatewayIntent.GUILD_MEMBERS)\r\n          .build();\r\n```\r\n\r\nYou can also load them for individual guilds using [Guild#loadMembers][2] or [Guild#findMembers][3].\r\n\r\nI recommend to also read this JDA wiki article: [Gateway Intents and Member Cache Policy][4].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/csqMM.png\r\n  [2]: https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/Guild.html#loadMembers()\r\n  [3]: https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/Guild.html#findMembers(java.util.function.Predicate)\r\n  [4]: https://github.com/DV8FromTheWorld/JDA/wiki/Gateway-Intents-and-Member-Cache-Policy\r\n  [5]: https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/Guild.html#getMemberCount()","title":"Discord JDA - Invalid Member List","body":"<p>I assume you're using a development version of the 4.2.0 release (4.1.1_102 and above)</p>\n<p>In these versions, the new factory methods have been introduced to make people aware of the new discord API design. In the future, bots will be limited to cache members who connected to voice channels by default.</p>\n<p><strong>If all you need is the count of members you can just use <a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/Guild.html#getMemberCount()\" rel=\"nofollow noreferrer\">Guild#getMemberCount</a>! Otherwise:</strong></p>\n<p>The <code>createDefault</code>/<code>createLight</code> will only cache members connected to voice channels or owners of guilds (on first sight). To cache more members, you will have to enable the <code>GUILD_MEMBERS</code> intent in both the application dashboard for your bot and in JDA.</p>\n<p><a href=\"https://i.stack.imgur.com/csqMM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/csqMM.png\" alt=\"enter image description here\" /></a></p>\n<p>Now you can do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JDA api = JDABuilder.createDefault(token)\n                    .setMemberCachePolicy(MemberCachePolicy.ALL)\n                    .enableIntents(GatewayIntent.GUILD_MEMBERS)\n                    .build();\n</code></pre>\n<p>The <code>GUILD_MEMBERS</code> intent is needed because it enables the <code>GUILD_MEMBER_REMOVE</code> dispatch to tell the library to remove a member from the cache when they are kicked/banned/leave.</p>\n<p>This setup will perform <strong>lazy loading</strong>, which means it will start with only voice members and add more members to the cache once they become active.</p>\n<p>To load all members on startup you have to additionally enable <strong>member chunking</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JDABuilder.createDefault(token)\n          .setChunkingFilter(ChunkingFilter.ALL) // enable member chunking for all guilds\n          .setMemberCachePolicy(MemberCachePolicy.ALL)\n          .enableIntents(GatewayIntent.GUILD_MEMBERS)\n          .build();\n</code></pre>\n<p>You can also load them for individual guilds using <a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/Guild.html#loadMembers()\" rel=\"nofollow noreferrer\">Guild#loadMembers</a> or <a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/Guild.html#findMembers(java.util.function.Predicate)\" rel=\"nofollow noreferrer\">Guild#findMembers</a>.</p>\n<p>I recommend to also read this JDA wiki article: <a href=\"https://github.com/DV8FromTheWorld/JDA/wiki/Gateway-Intents-and-Member-Cache-Policy\" rel=\"nofollow noreferrer\">Gateway Intents and Member Cache Policy</a>.</p>\n"}],"owner":{"account_id":15064274,"reputation":412,"user_id":10871976,"display_name":"Shadow4571"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6208,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":61229594,"answer_count":1,"score":5,"last_activity_date":1666171276,"creation_date":1586947190,"question_id":61226721,"body_markdown":"I am creating a Discord bot and have encountered a strange problem. I need to go through each user on the server and perform a conditional action. But when receiving a list of all Members, it contains only me and the bot itself.\r\n\r\n    public class Bot extends ListenerAdapter {\r\n\t\tpublic void onGuildMessageReceived(GuildMessageReceivedEvent Event) {\r\n\t\t\tString Message = Event.getMessage().getContentRaw();\r\n\t\t\r\n\t\t\tif(Message.charAt(0) == Globals.BOT_PREFIX) {\r\n\t\t\t\tString[] Args = Message.split(&quot;\\\\s+&quot;);\r\n\t\t\t\r\n\t\t\tif(Args[0].equalsIgnoreCase(CommandType.COMMAND_DEV_TEST)) {\r\n\t\t\t\tList&lt;Member&gt; MemberList = Event.getGuild().getMembers();\r\n\t\t\t\tfor(int i = 0; i &lt; MemberList.size(); i++)\r\n\t\t\t\t\tSystem.out.println(MemberList.get(i));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nIf another person writes, then only me and the bot are still displayed.","title":"Discord JDA - Invalid Member List","body":"<p>I am creating a Discord bot and have encountered a strange problem. I need to go through each user on the server and perform a conditional action. But when receiving a list of all Members, it contains only me and the bot itself.</p>\n\n<pre><code>public class Bot extends ListenerAdapter {\n    public void onGuildMessageReceived(GuildMessageReceivedEvent Event) {\n        String Message = Event.getMessage().getContentRaw();\n\n        if(Message.charAt(0) == Globals.BOT_PREFIX) {\n            String[] Args = Message.split(\"\\\\s+\");\n\n        if(Args[0].equalsIgnoreCase(CommandType.COMMAND_DEV_TEST)) {\n            List&lt;Member&gt; MemberList = Event.getGuild().getMembers();\n            for(int i = 0; i &lt; MemberList.size(); i++)\n                System.out.println(MemberList.get(i));\n        }\n    }\n}\n</code></pre>\n\n<p>If another person writes, then only me and the bot are still displayed.</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1666171638,"post_id":74122785,"comment_id":130870403,"body_markdown":"Since you are getting an http 500, you should have the error with stack trace in the server log. Please provide this.","body":"Since you are getting an http 500, you should have the error with stack trace in the server log. Please provide this."},{"owner":{"account_id":26025376,"reputation":3,"user_id":19732377,"display_name":"Chatboat2.0"},"score":0,"creation_date":1666195348,"post_id":74122785,"comment_id":130879877,"body_markdown":"How to Provide stack trace in the server log?","body":"How to Provide stack trace in the server log?"},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1666249849,"post_id":74122785,"comment_id":130892206,"body_markdown":"Looks like you are running your project from your IDE (IntelliJ?) so you will see it in the run (or debug) console there. It i the window on the bottom right on your first screenshot.","body":"Looks like you are running your project from your IDE (IntelliJ?) so you will see it in the run (or debug) console there. It i the window on the bottom right on your first screenshot."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666645840,"post_id":74122785,"comment_id":130982422,"body_markdown":"`WARN` and `org.springfr...MissingPathVariab..` is far from &quot;all looks fine&quot; ;) (and that is where &quot;console&quot; and server.log ...please prefer text to images where possible;)","body":"<code>WARN</code> and <code>org.springfr...MissingPathVariab..</code> is far from &quot;all looks fine&quot; ;) (and that is where &quot;console&quot; and server.log ...please prefer text to images where possible;)"},{"owner":{"account_id":26025376,"reputation":3,"user_id":19732377,"display_name":"Chatboat2.0"},"score":0,"creation_date":1668706409,"post_id":74122785,"comment_id":131477106,"body_markdown":"grekier I am using SpringToolSuit(STS)","body":"grekier I am using SpringToolSuit(STS)"}],"owner":{"account_id":26025376,"reputation":3,"user_id":19732377,"display_name":"Chatboat2.0"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666171207,"creation_date":1666170917,"question_id":74122785,"body_markdown":"All looks fine [![enter image description here][1]][1]\r\n     \r\nMyController Code ..\r\n    \r\n    package com.springrest.springrest.controller;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.DeleteMapping;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.PutMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.springrest.springrest.entities.Course;\r\n    import com.springrest.springrest.services.CourseService;\r\n    \r\n    @RestController    //This will tell spring boot that this is the Controller whenever we send a request by GET method in POSTMAN, to identify where the Controller is located \r\n    public class MyController {\r\n    \t@GetMapping(&quot;/home&quot;)    // This is necessary in order to map with controller whenever we call by GET method in POSTMAN home method will be called.\r\n    \tpublic String home() {\r\n    \t\treturn &quot;Welcome to home page&quot;;\r\n    \t\t\r\n    \t}\r\n    \t`enter code here`@Autowired     // we don&#39;t need to create object Springboot will automatically create an object for us\r\n    \tprivate CourseService courseService; // a variable must be created same as service package parent class of CourseServiceImpl i.e CourseService\r\n    \t\r\n    \t//Get all the courese \r\n    \t// this getCourses will return List of courses \r\n    \t@GetMapping(&quot;/courses&quot;)\r\n    \tpublic List&lt;Course&gt; getCourses(){           //the Course is defined in entities package \r\n    \t\treturn courseService.getCourses();   // courseService will call getCourses method from CourseService Class but it us abstract so It will go to CourseServiceImpl list will be returned by getCourse but implemented in Constructor\r\n    \t}\r\n    \t\r\n    \t//get course by id\r\n    \t// this getCourse will return one course \r\n    \t@GetMapping(&quot;/courses/{courseId}&quot;)\r\n    \tpublic Course getCourse(@PathVariable String courseId) {\r\n    \t\treturn this.courseService.getCourse(Long.parseLong(courseId));\r\n    \t}\r\n    \t@PostMapping(&quot;/courses&quot;)    // \r\n    \tpublic Course addCourse(@RequestBody Course course) {\r\n    \t\treturn this.courseService.addCourse(course);\r\n    \t}\r\n    \t//Update the course using  PUT request\r\n    \t@PutMapping(&quot;/courses&quot;) \r\n    \t//@Autowired  \r\n    \tpublic Course updateCourse(@RequestBody Course course){\r\n    \t\treturn this.courseService.updateCourse(course);\r\n    \t}\r\n    \t\r\n    \t// DELETE method delete the course  \r\n    \t\r\n    \t@DeleteMapping(&quot;/courses/{courseId}&quot;)\r\n    \t\r\n    \tpublic ResponseEntity&lt;HttpStatus&gt; deleteCourse(@PathVariable String CourseId) {\r\n    \t\ttry {\r\n    \t\t\tthis.courseService.deleteCourse(Long.parseLong(CourseId));\r\n    \t\t\treturn new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n    \t\t} catch(Exception e) {\r\n    \t\t\treturn new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nCourseService code... \r\n\r\n    package com.springrest.springrest.services;\r\n    \r\n    import java.util.List;\r\n    \r\n    import com.springrest.springrest.entities.Course;\r\n    \r\n    public interface CourseService {\r\n    \tpublic List&lt;Course&gt; getCourses();   // Because its a abstract class therefore it don&#39;t have body\r\n    \tpublic Course getCourse(long courseId);\r\n    \tpublic Course addCourse(Course course);\r\n    \tpublic Course updateCourse(Course course);\r\n    \tpublic void deleteCourse(long parseLong);\r\n     }\r\n    \r\nCourseServiceImpl..\r\n\r\n     package com.springrest.springrest.services;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import com.springrest.springrest.entities.Course;\r\n    @Service\r\n    public class CourseServiceImpl implements CourseService {\r\n    \t\r\n    \tList&lt;Course&gt;  list;\r\n    \r\n    \tpublic CourseServiceImpl() {\r\n    \t\t\r\n    \t\tlist = new ArrayList&lt;&gt;();\r\n    \t\tlist.add(new Course(145,&quot;Java Core Course &quot;,&quot; This course contains basics of Core Java &quot;));\r\n    \t\tlist.add(new Course(420,&quot;Spring boot Course&quot;, &quot;Creating REST API using Spring boot&quot;));\r\n    \t\tlist.add(new Course(110, &quot;Python Course&quot;,&quot;This is Python course for beginners&quot;));\r\n    \t\tlist.add(new Course(220, &quot;Angular JS Course&quot;,&quot;This is Angular JS course for beginners&quot;));\r\n    \t\tlist.add(new Course(330, &quot;React JS Course&quot;,&quot;This is React JS course for beginners&quot;));\r\n    \r\n    \t}\r\n       @Override\r\n    \tpublic List&lt;Course&gt; getCourses() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn list;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Course getCourse(long courseId) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tCourse c= null;\r\n    \t\tfor(Course course:list) {\r\n    \t\t\tif(course.getId()==courseId) {\r\n    \t\t\t\tc= course; \r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn c;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Course addCourse(Course course) {\r\n    \t\tlist.add(course);\r\n    \t\treturn course;\r\n    \t}\r\n    \r\n    \t\r\n         @Override\r\n    \tpublic Course updateCourse(Course course) {\r\n    \t\tlist.forEach(e -&gt; {\r\n    \t\t\tif(e.getId()==course.getId()) {\r\n    \t\t\t\te.setTitle(course.getTitle());\r\n    \t\t\t\te.setDescription(course.getDescription());\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\treturn course;\r\n    \t}\r\n         @Override\r\n       \r\n     \tpublic void deleteCourse(long parseLong) {\r\n     \t\tlist= this.list.stream().filter(e -&gt; e.getId()!=parseLong).collect(Collectors.toList());\r\n     \t}\r\n    }\r\n\r\nI am new Learning REST API I have created Controller Class, Service Class, Implementation Class But When I run PUTMAPPING or DeleteMapping It Shows Given error( POSTMAN Screentshot Given )\r\nI don&#39;t know where the Problem is I have given The problem in Header Section POSTMAN Screen Shot and all class Screen Shot I have attaeched in Imagag section Kindly Rectify This.\r\n\r\n[1]: https://i.stack.imgur.com/JxaP9.png\r\n   ","title":"getting this { &quot;timestamp&quot;: &quot;2022-10-19T08:57:38.327+00:00&quot;, &quot;status&quot;: 500, &quot;error&quot;: &quot;Internal Server Error&quot;, &quot;path&quot;: &quot;/courses/420&quot; }","body":"<p>All looks fine <a href=\"https://i.stack.imgur.com/JxaP9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JxaP9.png\" alt=\"enter image description here\" /></a></p>\n<p>MyController Code ..</p>\n<pre><code>package com.springrest.springrest.controller;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.springrest.springrest.entities.Course;\nimport com.springrest.springrest.services.CourseService;\n\n@RestController    //This will tell spring boot that this is the Controller whenever we send a request by GET method in POSTMAN, to identify where the Controller is located \npublic class MyController {\n    @GetMapping(&quot;/home&quot;)    // This is necessary in order to map with controller whenever we call by GET method in POSTMAN home method will be called.\n    public String home() {\n        return &quot;Welcome to home page&quot;;\n        \n    }\n    `enter code here`@Autowired     // we don't need to create object Springboot will automatically create an object for us\n    private CourseService courseService; // a variable must be created same as service package parent class of CourseServiceImpl i.e CourseService\n    \n    //Get all the courese \n    // this getCourses will return List of courses \n    @GetMapping(&quot;/courses&quot;)\n    public List&lt;Course&gt; getCourses(){           //the Course is defined in entities package \n        return courseService.getCourses();   // courseService will call getCourses method from CourseService Class but it us abstract so It will go to CourseServiceImpl list will be returned by getCourse but implemented in Constructor\n    }\n    \n    //get course by id\n    // this getCourse will return one course \n    @GetMapping(&quot;/courses/{courseId}&quot;)\n    public Course getCourse(@PathVariable String courseId) {\n        return this.courseService.getCourse(Long.parseLong(courseId));\n    }\n    @PostMapping(&quot;/courses&quot;)    // \n    public Course addCourse(@RequestBody Course course) {\n        return this.courseService.addCourse(course);\n    }\n    //Update the course using  PUT request\n    @PutMapping(&quot;/courses&quot;) \n    //@Autowired  \n    public Course updateCourse(@RequestBody Course course){\n        return this.courseService.updateCourse(course);\n    }\n    \n    // DELETE method delete the course  \n    \n    @DeleteMapping(&quot;/courses/{courseId}&quot;)\n    \n    public ResponseEntity&lt;HttpStatus&gt; deleteCourse(@PathVariable String CourseId) {\n        try {\n            this.courseService.deleteCourse(Long.parseLong(CourseId));\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n        } catch(Exception e) {\n            return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n}\n</code></pre>\n<p>CourseService code...</p>\n<pre><code>package com.springrest.springrest.services;\n\nimport java.util.List;\n\nimport com.springrest.springrest.entities.Course;\n\npublic interface CourseService {\n    public List&lt;Course&gt; getCourses();   // Because its a abstract class therefore it don't have body\n    public Course getCourse(long courseId);\n    public Course addCourse(Course course);\n    public Course updateCourse(Course course);\n    public void deleteCourse(long parseLong);\n }\n</code></pre>\n<p>CourseServiceImpl..</p>\n<pre><code> package com.springrest.springrest.services;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.springrest.springrest.entities.Course;\n@Service\npublic class CourseServiceImpl implements CourseService {\n    \n    List&lt;Course&gt;  list;\n\n    public CourseServiceImpl() {\n        \n        list = new ArrayList&lt;&gt;();\n        list.add(new Course(145,&quot;Java Core Course &quot;,&quot; This course contains basics of Core Java &quot;));\n        list.add(new Course(420,&quot;Spring boot Course&quot;, &quot;Creating REST API using Spring boot&quot;));\n        list.add(new Course(110, &quot;Python Course&quot;,&quot;This is Python course for beginners&quot;));\n        list.add(new Course(220, &quot;Angular JS Course&quot;,&quot;This is Angular JS course for beginners&quot;));\n        list.add(new Course(330, &quot;React JS Course&quot;,&quot;This is React JS course for beginners&quot;));\n\n    }\n   @Override\n    public List&lt;Course&gt; getCourses() {\n        // TODO Auto-generated method stub\n        return list;\n    }\n\n    @Override\n    public Course getCourse(long courseId) {\n        // TODO Auto-generated method stub\n        Course c= null;\n        for(Course course:list) {\n            if(course.getId()==courseId) {\n                c= course; \n                break;\n            }\n        }\n        return c;\n    }\n\n    @Override\n    public Course addCourse(Course course) {\n        list.add(course);\n        return course;\n    }\n\n    \n     @Override\n    public Course updateCourse(Course course) {\n        list.forEach(e -&gt; {\n            if(e.getId()==course.getId()) {\n                e.setTitle(course.getTitle());\n                e.setDescription(course.getDescription());\n            }\n        });\n        return course;\n    }\n     @Override\n   \n    public void deleteCourse(long parseLong) {\n        list= this.list.stream().filter(e -&gt; e.getId()!=parseLong).collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p>I am new Learning REST API I have created Controller Class, Service Class, Implementation Class But When I run PUTMAPPING or DeleteMapping It Shows Given error( POSTMAN Screentshot Given )\nI don't know where the Problem is I have given The problem in Header Section POSTMAN Screen Shot and all class Screen Shot I have attaeched in Imagag section Kindly Rectify This.</p>\n"},{"tags":["java","validation","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666164300,"creation_date":1666164300,"answer_id":74121372,"question_id":74121337,"body_markdown":"Add all valid characters:\r\n   \r\n    if (in.hasNext(&quot;[A-Za-z0-9\\-]&quot;)) {","title":"Java validation vehicle registration","body":"<p>Add all valid characters:</p>\n<pre><code>if (in.hasNext(&quot;[A-Za-z0-9\\-]&quot;)) {\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22658656,"reputation":1,"user_id":16832138,"display_name":"Tharuka Ravisara"},"score":0,"creation_date":1666172740,"post_id":74122797,"comment_id":130870855,"body_markdown":"WOW. Thanks for your great explain. Its really help full.  I just want to make Dash (-) as a must required character. And also need to block all the other symbols. White space and character count are not mandatory.   As examples registration numbers can be : BHQ - 7896 , BH - 5627, 64 - 4585, 6 - 5486 like this.  So just need to implement (-) dash  and block other symbols.","body":"WOW. Thanks for your great explain. Its really help full.  I just want to make Dash (-) as a must required character. And also need to block all the other symbols. White space and character count are not mandatory.   As examples registration numbers can be : BHQ - 7896 , BH - 5627, 64 - 4585, 6 - 5486 like this.  So just need to implement (-) dash  and block other symbols."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1666218252,"post_id":74122797,"comment_id":130886886,"body_markdown":"Then you can change the regex in code to this: `&quot;(?i)[A-Z0-9]{1,} ?\\\\- ?[A-Z0-9]{1,}&quot;`.","body":"Then you can change the regex in code to this: <code>&quot;(?i)[A-Z0-9]{1,} ?\\\\- ?[A-Z0-9]{1,}&quot;</code>."}],"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666170966,"creation_date":1666170966,"answer_id":74122797,"question_id":74121337,"body_markdown":"I&#39;m not sure if what you show as an example registration number is the actual format for a vehicle registration number (3 chars, a dash, 4 chars). Does the whitespace before and after the dash need to be there or is that optional? Are there only three alphanumeric characters before the dash and always 4 alphanumeric character after the dash? Because you haven&#39;t indicated as such either way I&#39;m going to assume so. The supplied Regular Expression below can be easily modified to accommodate whatever format(s) are required.\r\n\r\nHere is the code:\r\n\r\n    String ls = System.lineSeparator();\r\n    Scanner in = new Scanner(System.in);\r\n    String vrn = &quot;&quot;;\r\n    while (vrn.isEmpty()) {\r\n        System.out.print(&quot;Please enter a valid Vehicle Registration number&quot; + ls \r\n                       + &quot;or &#39;q&#39; to quit: -&gt; &quot;);\r\n        vrn = in.nextLine().trim();\r\n        if (vrn.equalsIgnoreCase(&quot;Q&quot;)) { //Quit?\r\n            return;\r\n        }\r\n            \r\n        // Validate entry...\r\n        if (!vrn.matches(&quot;(?i)[A-Z0-9]{3} ?\\\\- ?[A-Z0-9]{4}&quot;)) {\r\n            System.out.println(&quot;Invalid Vehicle Registation Number! (&quot; \r\n                       + vrn + &quot;) Try again...&quot; + ls);\r\n            vrn = &quot;&quot;; // Empty vrn so to re-loop.\r\n        }\r\n    }\r\n    System.out.println(&quot;VALID VRN!&quot;);\r\n\r\n**About the Regular Expression (regex):**\r\n\r\n - `(?i)`  Letter case insensitive;\r\n - `[A-Z0-9]{3}` Any 3 alphanumeric character (**A** to **Z**, **a** to **z**, or **0** to **9**) *before* the dash;\r\n - ` ?`  An optional single whitespace **before** the mandatory dash (-);\r\n - `\\\\-`  A mandatory single literal Dash character;\r\n - ` ?`  An optional single whitespace **after** the mandatory dash (-);\r\n - `[A-Z0-9]{4}` Any 4 alphanumeric characters (**A** to **Z**, **a** to **z**, or **0** to **9**) *after* the dash;\r\n\r\nIf you want to change the number of allowable characters within the regex then you can consider any one of these few **examples**:\r\n\r\n - `{3}` Strictly 3 characters allowed only;\r\n - `{3,6}` Strictly 3 to 6 characters allowed only;\r\n - `{3,}` 3 or more characters allowed;\r\n - `{0,} 0 or more characters allowed.\r\n\r\n ","title":"Java validation vehicle registration","body":"<p>I'm not sure if what you show as an example registration number is the actual format for a vehicle registration number (3 chars, a dash, 4 chars). Does the whitespace before and after the dash need to be there or is that optional? Are there only three alphanumeric characters before the dash and always 4 alphanumeric character after the dash? Because you haven't indicated as such either way I'm going to assume so. The supplied Regular Expression below can be easily modified to accommodate whatever format(s) are required.</p>\n<p>Here is the code:</p>\n<pre><code>String ls = System.lineSeparator();\nScanner in = new Scanner(System.in);\nString vrn = &quot;&quot;;\nwhile (vrn.isEmpty()) {\n    System.out.print(&quot;Please enter a valid Vehicle Registration number&quot; + ls \n                   + &quot;or 'q' to quit: -&gt; &quot;);\n    vrn = in.nextLine().trim();\n    if (vrn.equalsIgnoreCase(&quot;Q&quot;)) { //Quit?\n        return;\n    }\n        \n    // Validate entry...\n    if (!vrn.matches(&quot;(?i)[A-Z0-9]{3} ?\\\\- ?[A-Z0-9]{4}&quot;)) {\n        System.out.println(&quot;Invalid Vehicle Registation Number! (&quot; \n                   + vrn + &quot;) Try again...&quot; + ls);\n        vrn = &quot;&quot;; // Empty vrn so to re-loop.\n    }\n}\nSystem.out.println(&quot;VALID VRN!&quot;);\n</code></pre>\n<p><strong>About the Regular Expression (regex):</strong></p>\n<ul>\n<li><code>(?i)</code>  Letter case insensitive;</li>\n<li><code>[A-Z0-9]{3}</code> Any 3 alphanumeric character (<strong>A</strong> to <strong>Z</strong>, <strong>a</strong> to <strong>z</strong>, or <strong>0</strong> to <strong>9</strong>) <em>before</em> the dash;</li>\n<li><code> ?</code>  An optional single whitespace <strong>before</strong> the mandatory dash (-);</li>\n<li><code>\\\\-</code>  A mandatory single literal Dash character;</li>\n<li><code> ?</code>  An optional single whitespace <strong>after</strong> the mandatory dash (-);</li>\n<li><code>[A-Z0-9]{4}</code> Any 4 alphanumeric characters (<strong>A</strong> to <strong>Z</strong>, <strong>a</strong> to <strong>z</strong>, or <strong>0</strong> to <strong>9</strong>) <em>after</em> the dash;</li>\n</ul>\n<p>If you want to change the number of allowable characters within the regex then you can consider any one of these few <strong>examples</strong>:</p>\n<ul>\n<li><code>{3}</code> Strictly 3 characters allowed only;</li>\n<li><code>{3,6}</code> Strictly 3 to 6 characters allowed only;</li>\n<li><code>{3,}</code> 3 or more characters allowed;</li>\n<li>`{0,} 0 or more characters allowed.</li>\n</ul>\n"}],"owner":{"account_id":22658656,"reputation":1,"user_id":16832138,"display_name":"Tharuka Ravisara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74122797,"answer_count":2,"score":0,"last_activity_date":1666170966,"creation_date":1666164121,"question_id":74121337,"body_markdown":"I&#39;m trying to do a simple validation for vehicle registration number.\r\n\r\n - It must include &quot;**-**&quot; Dash/Hyphen symbol. Example: BIR - 5698\r\n - It allows Numbers/Letters and Hyphen symbol only.\r\n - All the other symbols are invalid. ( `~!@#$%^&amp;*()_+=./;,&lt;&gt;&quot;:|\\[]{} )\r\n\r\n   My code - \r\n\r\n    \tpublic static void main(String[] args) {\r\n\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tif (in.hasNext(&quot;[A-Za]&quot;)) {\r\n\t\t\tSystem.out.println(&quot;Vehicles :&quot; + vehicles );\r\n\t\t}else {\r\n\t\t\tSystem.out.println(&quot;Enter a Valid Value&quot;);\r\n\r\n\r\nThank you. Your kind help highly appreciated. ","title":"Java validation vehicle registration","body":"<p>I'm trying to do a simple validation for vehicle registration number.</p>\n<ul>\n<li><p>It must include &quot;<strong>-</strong>&quot; Dash/Hyphen symbol. Example: BIR - 5698</p>\n</li>\n<li><p>It allows Numbers/Letters and Hyphen symbol only.</p>\n</li>\n<li><p>All the other symbols are invalid. ( `~!@#$%^&amp;*()_+=./;,&lt;&gt;&quot;:|[]{} )</p>\n<p>My code -</p>\n<pre><code> public static void main(String[] args) {\n\n Scanner in = new Scanner(System.in);\n if (in.hasNext(&quot;[A-Za]&quot;)) {\n     System.out.println(&quot;Vehicles :&quot; + vehicles );\n }else {\n     System.out.println(&quot;Enter a Valid Value&quot;);\n</code></pre>\n</li>\n</ul>\n<p>Thank you. Your kind help highly appreciated.</p>\n"},{"tags":["java","algorithm","search","tree"],"answers":[{"tags":[],"owner":{"account_id":6426024,"reputation":1723,"user_id":4981150,"display_name":"Pieter12345"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627592570,"creation_date":1627592570,"answer_id":68582751,"question_id":68582415,"body_markdown":"What you can do is create a method that takes a starting point, a target point and a set of already visited airports. In this method, you can:\r\n - Return the path if the starting point is the end point.\r\n - Loop over all neighbors of the starting point minus all already visited airports and make a recursive call using the neighbor as the starting point and with the set of already visited airports plus the current starting point (make sure that you clone this set, or use a stack and restore its state after the recursive call).\r\n\r\nIf you do this, you effectively attempt every path from the given starting point to the given target point without visiting the same airport twice. I will leave the return value of this recursive method as an exercise for you (the return value has to be used to obtain the succesful paths that were found).","title":"Finding paths from node A to node B using the given data structure","body":"<p>What you can do is create a method that takes a starting point, a target point and a set of already visited airports. In this method, you can:</p>\n<ul>\n<li>Return the path if the starting point is the end point.</li>\n<li>Loop over all neighbors of the starting point minus all already visited airports and make a recursive call using the neighbor as the starting point and with the set of already visited airports plus the current starting point (make sure that you clone this set, or use a stack and restore its state after the recursive call).</li>\n</ul>\n<p>If you do this, you effectively attempt every path from the given starting point to the given target point without visiting the same airport twice. I will leave the return value of this recursive method as an exercise for you (the return value has to be used to obtain the succesful paths that were found).</p>\n"},{"comments":[{"owner":{"account_id":5809819,"reputation":3680,"user_id":4581287,"accept_rate":51,"display_name":"Parag Kadam"},"score":0,"creation_date":1627615139,"post_id":68583291,"comment_id":121208672,"body_markdown":"Thanks for the solution. I couldn&#39;t wrap my head around this line `result.extend([[source[&quot;name&quot;]] + path for path in paths])`, can you tell me what it does so that I could convert it to java.","body":"Thanks for the solution. I couldn&#39;t wrap my head around this line <code>result.extend([[source[&quot;name&quot;]] + path for path in paths])</code>, can you tell me what it does so that I could convert it to java."},{"owner":{"account_id":5809819,"reputation":3680,"user_id":4581287,"accept_rate":51,"display_name":"Parag Kadam"},"score":0,"creation_date":1627615597,"post_id":68583291,"comment_id":121208743,"body_markdown":"Seems like you are doing a lot in this one line, it would be better if you break it into multiple lines so that I could understand easily.","body":"Seems like you are doing a lot in this one line, it would be better if you break it into multiple lines so that I could understand easily."},{"owner":{"account_id":2318302,"reputation":23679,"user_id":2034787,"accept_rate":53,"display_name":"גלעד ברקן"},"score":1,"creation_date":1627615794,"post_id":68583291,"comment_id":121208775,"body_markdown":"Sure, `extend` is like `concat`. So it concatenates another list to whatever `result` is at that point. The list (or array) it is concatenating with `result` is a list of lists, where each one of lists is `[source[&quot;name&quot;]] + path` so a list with the elements being the airport names in order.","body":"Sure, <code>extend</code> is like <code>concat</code>. So it concatenates another list to whatever <code>result</code> is at that point. The list (or array) it is concatenating with <code>result</code> is a list of lists, where each one of lists is <code>[source[&quot;name&quot;]] + path</code> so a list with the elements being the airport names in order."}],"tags":[],"owner":{"account_id":2318302,"reputation":23679,"user_id":2034787,"accept_rate":53,"display_name":"גלעד ברקן"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627596276,"creation_date":1627596276,"answer_id":68583291,"question_id":68582415,"body_markdown":"Here is a solution in Python as I&#39;m not versed in Java; but since you tagged the question with &quot;algorithm,&quot; I think can be easily understood and converted.\r\n\r\n```python\r\ndef getPaths(source, destination):\r\n  # We’ve reached the destination\r\n  if source[&quot;name&quot;] == destination[&quot;name&quot;]:\r\n    # Return a list of lists\r\n    return [[destination[&quot;name&quot;]]]\r\n\r\n  result = []\r\n\r\n  # If there are no neighbours or\r\n  # none of them yield a destination,\r\n  # ‘result’ will be an empty list\r\n  for neighbour in source[&quot;neighbours&quot;]:\r\n    paths = getPaths(neighbour, destination)\r\n    result.extend([[source[&quot;name&quot;]] + path for path in paths])\r\n\r\n  return result\r\n```\r\n\r\nExample:\r\n```\r\nmumbai = {&quot;name&quot;: &quot;Mumbai&quot;}\r\npune = {&quot;name&quot;: &quot;Pune&quot;}\r\ndelhi = {&quot;name&quot;: &quot;Delhi&quot;}\r\nahmedabad = {&quot;name&quot;: &quot;Ahmedabad&quot;}\r\nnoida = {&quot;name&quot;: &quot;Noida&quot;}\r\n\r\n# Assign neighbours\r\nmumbai[&quot;neighbours&quot;] = [pune, ahmedabad]\r\npune[&quot;neighbours&quot;] = [delhi]\r\ndelhi[&quot;neighbours&quot;] = []\r\nahmedabad[&quot;neighbours&quot;] = [noida]\r\nnoida[&quot;neighbours&quot;] = [delhi]\r\n\r\nprint(getPaths(mumbai, delhi))\r\n```","title":"Finding paths from node A to node B using the given data structure","body":"<p>Here is a solution in Python as I'm not versed in Java; but since you tagged the question with &quot;algorithm,&quot; I think can be easily understood and converted.</p>\n<pre class=\"lang-py prettyprint-override\"><code>def getPaths(source, destination):\n  # We’ve reached the destination\n  if source[&quot;name&quot;] == destination[&quot;name&quot;]:\n    # Return a list of lists\n    return [[destination[&quot;name&quot;]]]\n\n  result = []\n\n  # If there are no neighbours or\n  # none of them yield a destination,\n  # ‘result’ will be an empty list\n  for neighbour in source[&quot;neighbours&quot;]:\n    paths = getPaths(neighbour, destination)\n    result.extend([[source[&quot;name&quot;]] + path for path in paths])\n\n  return result\n</code></pre>\n<p>Example:</p>\n<pre><code>mumbai = {&quot;name&quot;: &quot;Mumbai&quot;}\npune = {&quot;name&quot;: &quot;Pune&quot;}\ndelhi = {&quot;name&quot;: &quot;Delhi&quot;}\nahmedabad = {&quot;name&quot;: &quot;Ahmedabad&quot;}\nnoida = {&quot;name&quot;: &quot;Noida&quot;}\n\n# Assign neighbours\nmumbai[&quot;neighbours&quot;] = [pune, ahmedabad]\npune[&quot;neighbours&quot;] = [delhi]\ndelhi[&quot;neighbours&quot;] = []\nahmedabad[&quot;neighbours&quot;] = [noida]\nnoida[&quot;neighbours&quot;] = [delhi]\n\nprint(getPaths(mumbai, delhi))\n</code></pre>\n"}],"owner":{"account_id":5809819,"reputation":3680,"user_id":4581287,"accept_rate":51,"display_name":"Parag Kadam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666170932,"creation_date":1627590308,"question_id":68582415,"body_markdown":"I am stuck with a tricky problem as I am not able to think in a recursive way to find a solution for it. \r\n\r\nHere is my data structure:\r\n\r\n    public class Airport {\r\n        String name;\r\n        Set&lt;Neighbour&gt; neighbours;\r\n        ...\r\n    }\r\n\r\n    public class Neighbour {\r\n        Airport airport;\r\n        double costToReach;\r\n        ...\r\n    }\r\n\r\nI am trying to get the available paths(list of list) from one `Airport` to another `Airport`.\r\n\r\n    List&lt;List&lt;Airport&gt;&gt; getPaths(Airport source, Airport destination) {\r\n        // Logic goes here\r\n    }\r\n\r\nExpected input sample:\r\n\r\n    Source airport - Mumbai\r\n    Destination airport - Delhi\r\n\r\nExpected output sample:\r\n\r\n    Mumbai -&gt; Pune -&gt; Delhi\r\n    Mumbai -&gt; Ahmedabad -&gt; Noida -&gt; Delhi\r\n","title":"Finding paths from node A to node B using the given data structure","body":"<p>I am stuck with a tricky problem as I am not able to think in a recursive way to find a solution for it.</p>\n<p>Here is my data structure:</p>\n<pre><code>public class Airport {\n    String name;\n    Set&lt;Neighbour&gt; neighbours;\n    ...\n}\n\npublic class Neighbour {\n    Airport airport;\n    double costToReach;\n    ...\n}\n</code></pre>\n<p>I am trying to get the available paths(list of list) from one <code>Airport</code> to another <code>Airport</code>.</p>\n<pre><code>List&lt;List&lt;Airport&gt;&gt; getPaths(Airport source, Airport destination) {\n    // Logic goes here\n}\n</code></pre>\n<p>Expected input sample:</p>\n<pre><code>Source airport - Mumbai\nDestination airport - Delhi\n</code></pre>\n<p>Expected output sample:</p>\n<pre><code>Mumbai -&gt; Pune -&gt; Delhi\nMumbai -&gt; Ahmedabad -&gt; Noida -&gt; Delhi\n</code></pre>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":4166159,"reputation":951,"user_id":3415090,"display_name":"mohammedkhan"},"score":0,"creation_date":1652781147,"post_id":72271308,"comment_id":127683611,"body_markdown":"It looks like you&#39;re explicitly setting all of your security settings for each of your controllers in `security.xml`, in that case do you need to have anything for `/rest`? I would assume if there is no setting defined it won&#39;t restrict it.","body":"It looks like you&#39;re explicitly setting all of your security settings for each of your controllers in <code>security.xml</code>, in that case do you need to have anything for <code>&#47;rest</code>? I would assume if there is no setting defined it won&#39;t restrict it."},{"owner":{"account_id":5809819,"reputation":3680,"user_id":4581287,"accept_rate":51,"display_name":"Parag Kadam"},"score":0,"creation_date":1652924450,"post_id":72271308,"comment_id":127727427,"body_markdown":"@dbaltor It doesn&#39;t seem to work somehow. However, I have fixed it by while listing all the URLs one by one that needs to be tracked by spring security in web.xml.","body":"@dbaltor It doesn&#39;t seem to work somehow. However, I have fixed it by while listing all the URLs one by one that needs to be tracked by spring security in web.xml."},{"owner":{"account_id":9507708,"reputation":2869,"user_id":7066647,"display_name":"dbaltor"},"score":1,"creation_date":1652945463,"post_id":72271308,"comment_id":127731704,"body_markdown":"Thank you for the feedback. I&#39;m glad you found out a solution in the end.","body":"Thank you for the feedback. I&#39;m glad you found out a solution in the end."}],"answers":[{"comments":[{"owner":{"account_id":5809819,"reputation":3680,"user_id":4581287,"accept_rate":51,"display_name":"Parag Kadam"},"score":0,"creation_date":1652781986,"post_id":72271843,"comment_id":127683964,"body_markdown":"I have a different way to authenticate the URLs starting with `/rest`, so not sure if this would work.","body":"I have a different way to authenticate the URLs starting with <code>&#47;rest</code>, so not sure if this would work."}],"tags":[],"owner":{"account_id":4166159,"reputation":951,"user_id":3415090,"display_name":"mohammedkhan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652781280,"creation_date":1652781280,"answer_id":72271843,"question_id":72271308,"body_markdown":"As per my comment on the question, you _may_ not need to define the controller to not have any security settings. But if you do, there are already other controllers in your `security.xml` that do something similar:\r\n```\r\n&lt;security:intercept-url pattern=&quot;^\\/rest/*$&quot; access=&quot;permitAll&quot;/&gt;\r\n```","title":"Exclude certain URL patterns from Spring Security","body":"<p>As per my comment on the question, you <em>may</em> not need to define the controller to not have any security settings. But if you do, there are already other controllers in your <code>security.xml</code> that do something similar:</p>\n<pre><code>&lt;security:intercept-url pattern=&quot;^\\/rest/*$&quot; access=&quot;permitAll&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9507708,"reputation":2869,"user_id":7066647,"display_name":"dbaltor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652786221,"creation_date":1652783394,"answer_id":72272408,"question_id":72271308,"body_markdown":"I&#39;ve never used it but I think this could work for you: [DelegatingFilterProxy][1]. \r\n\r\nTo use it, you need to add the snippet below to your `web.xml`:\r\n```\r\n&lt;filter&gt;\r\n    &lt;filter-name&gt;filterProxy&lt;/filter-name&gt;\r\n    &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n&lt;/filter&gt;\r\n\r\n&lt;filter-mapping&gt;\r\n    &lt;filter-name&gt;filterProxy&lt;/filter-name&gt;\r\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n&lt;/filter-mapping&gt;\r\n```\r\n\r\nand then configure the `filterChainProxy` bean to whitelist the `/rest` URL whilst applying all filters you need to the general case. Here is an example:\r\n```\r\n&lt;bean id=&quot;filterChainProxy&quot; class=&quot;org.springframework.security.web.FilterChainProxy&quot;&gt;\r\n&lt;constructor-arg&gt;\r\n\t&lt;list&gt;\r\n\t&lt;sec:filter-chain pattern=&quot;/rest/**&quot; filters=&quot;none&quot; /&gt;\r\n\t&lt;sec:filter-chain pattern=&quot;/**&quot; filters=&quot;\r\n        UsernamePasswordAuthenticationFilter,\r\n        basicAuthenticationFilter,\r\n\t\tformLoginFilter,\r\n\t\tsecurityContextPersistenceFilterWithASCTrue,\r\n\t\texceptionTranslationFilter,\r\n\t\tfilterSecurityInterceptor&quot; /&gt;\r\n\t&lt;/list&gt;\r\n&lt;/constructor-arg&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\nThe order above is important. The more restrict URLs must come first.\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/4.2.x/reference/html/security-filter-chain.html#security-filter-chain","title":"Exclude certain URL patterns from Spring Security","body":"<p>I've never used it but I think this could work for you: <a href=\"https://docs.spring.io/spring-security/site/docs/4.2.x/reference/html/security-filter-chain.html#security-filter-chain\" rel=\"nofollow noreferrer\">DelegatingFilterProxy</a>.</p>\n<p>To use it, you need to add the snippet below to your <code>web.xml</code>:</p>\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;filterProxy&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;filterProxy&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n<p>and then configure the <code>filterChainProxy</code> bean to whitelist the <code>/rest</code> URL whilst applying all filters you need to the general case. Here is an example:</p>\n<pre><code>&lt;bean id=&quot;filterChainProxy&quot; class=&quot;org.springframework.security.web.FilterChainProxy&quot;&gt;\n&lt;constructor-arg&gt;\n    &lt;list&gt;\n    &lt;sec:filter-chain pattern=&quot;/rest/**&quot; filters=&quot;none&quot; /&gt;\n    &lt;sec:filter-chain pattern=&quot;/**&quot; filters=&quot;\n        UsernamePasswordAuthenticationFilter,\n        basicAuthenticationFilter,\n        formLoginFilter,\n        securityContextPersistenceFilterWithASCTrue,\n        exceptionTranslationFilter,\n        filterSecurityInterceptor&quot; /&gt;\n    &lt;/list&gt;\n&lt;/constructor-arg&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>The order above is important. The more restrict URLs must come first.</p>\n"}],"owner":{"account_id":5809819,"reputation":3680,"user_id":4581287,"accept_rate":51,"display_name":"Parag Kadam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":841,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1666170892,"creation_date":1652778888,"question_id":72271308,"body_markdown":"I am using Spring Security 4 in my Struts app and want all the URLs to go through Spring Security except the URLs starting with `/rest`. How can I get this to work as I understand that regex patterns are not allowed to be used in web.xml.\r\n\r\nHence, `&lt;url-pattern&gt;^(?!\\/rest).*$&lt;/url-pattern&gt;` does not work.\r\n\r\n**web.xml**\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t    &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;^(?!\\/rest).*$&lt;/url-pattern&gt;              &lt;!-- Doesn&#39;t work --&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\n\r\n**security.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans:beans xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\r\n           xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n        http://www.springframework.org/schema/beans/spring-beans.xsd\r\n        http://www.springframework.org/schema/security\r\n        http://www.springframework.org/schema/security/spring-security.xsd&quot;&gt;\r\n    \r\n        &lt;security:http use-expressions=&quot;true&quot; create-session=&quot;ifRequired&quot; request-matcher=&quot;regex&quot;&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/(css|fonts|help|images|layouts|scripts).*$&quot; access=&quot;permitAll&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/login.*$&quot; access=&quot;permitAll&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/logout.*$&quot; access=&quot;permitAll&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/accessDenied.cprms$&quot; access=&quot;permitAll&quot;/&gt;\r\n    \r\n            &lt;security:intercept-url pattern=&quot;^.*.jsp$&quot; access=&quot;isAuthenticated()&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/errors\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;adminRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;,&#39;changePasswordRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/control\\/.*$&quot; access=&quot;isAuthenticated()&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/control\\/jobStatus.cprms$&quot; access=&quot;isAuthenticated()&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/sysad\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/userad\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;adminRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/myprofile\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;adminRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;,&#39;changePasswordRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/config\\/carpark\\/carParkDetails.cprms$&quot; access=&quot;isAuthenticated()&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/config\\/carpark\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;adminRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/config\\/product\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;adminRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/config\\/splevt\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;adminRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/config\\/alert\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;adminRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/config\\/location\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;supportRole&#39;,&#39;nolocation&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/config\\/competitor\\/details\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;adminRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/config\\/competitor\\/product\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;adminRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/config\\/consolidator\\/interface\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;adminRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/config\\/consolidator\\/details\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;adminRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/config\\/consolidator\\/product\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/monitor\\/config\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;adminRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/monitor\\/configure\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;adminRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/monitor\\/operation\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;adminRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/recommendedSettings.cprms$&quot; access=&quot;isAuthenticated()&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/.*errors.cprms$&quot; access=&quot;isAuthenticated()&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/upload\\/uploadExtract\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;uploadExtractRole&#39;)&quot;/&gt;\r\n    \r\n            &lt;security:intercept-url pattern=&quot;^\\/.*$&quot; access=&quot;isAuthenticated()&quot;/&gt;\r\n    \r\n            &lt;security:form-login\r\n                    login-page=&quot;/loginRedirector.jsp&quot;\r\n                    login-processing-url=&quot;/login&quot;\r\n                    authentication-failure-handler-ref=&quot;authenticationFailureHandler&quot;\r\n                    default-target-url=&quot;/welcome.jsp&quot;\r\n                    always-use-default-target=&quot;true&quot;\r\n                    username-parameter=&quot;j_username&quot;\r\n                    password-parameter=&quot;j_password&quot;\r\n            /&gt;\r\n            &lt;security:logout logout-success-url=&quot;/loginRedirector.jsp&quot; /&gt;\r\n    \r\n            &lt;security:session-management invalid-session-url=&quot;/loginRedirector.jsp&quot;&gt;\r\n                &lt;security:concurrency-control max-sessions=&quot;1&quot; /&gt;\r\n            &lt;/security:session-management&gt;\r\n            &lt;security:csrf disabled=&quot;true&quot;/&gt;\r\n        &lt;/security:http&gt;\r\n    \r\n        &lt;security:authentication-manager erase-credentials=&quot;false&quot;&gt;\r\n            &lt;security:authentication-provider&gt;\r\n                &lt;security:password-encoder ref=&quot;passwordEncoder&quot; /&gt;\r\n                &lt;security:jdbc-user-service\r\n                    data-source-ref=&quot;globalDataSource&quot;\r\n                    users-by-username-query=&quot;SELECT user_id AS `username`, PASSWORD AS `password`, IF(user_locked = &#39;N&#39;, 1, 0) AS `enabled` FROM `user` WHERE user_id = ?&quot;\r\n                    authorities-by-username-query=&quot;SELECT u.user_id AS `username`, r.NAME AS `role` FROM `user` u INNER JOIN user_role ur ON ur.user_fk = u.user_pk INNER JOIN role AS r ON ur.role_fk = r.role_pk WHERE u.user_id = ?&quot;\r\n                /&gt;\r\n            &lt;/security:authentication-provider&gt;\r\n            &lt;security:authentication-provider ref=&quot;ssoAuthenticationProvider&quot; /&gt;\r\n        &lt;/security:authentication-manager&gt;\r\n    \r\n        &lt;beans:bean id=&quot;authenticationFailureHandler&quot; class=&quot;com.ideas.carparkpro.core.service.impl.LoginFailureHandler&quot; /&gt;\r\n        &lt;beans:bean id=&quot;passwordEncoder&quot; class=&quot;org.springframework.security.authentication.encoding.ShaPasswordEncoder&quot;/&gt;\r\n        &lt;beans:bean id=&quot;ssoAuthenticationProvider&quot; class=&quot;com.ideas.carparkpro.core.service.impl.SSOAuthenticationProvider&quot; /&gt;\r\n    \r\n    &lt;/beans:beans&gt;\r\n\r\n","title":"Exclude certain URL patterns from Spring Security","body":"<p>I am using Spring Security 4 in my Struts app and want all the URLs to go through Spring Security except the URLs starting with <code>/rest</code>. How can I get this to work as I understand that regex patterns are not allowed to be used in web.xml.</p>\n<p>Hence, <code>&lt;url-pattern&gt;^(?!\\/rest).*$&lt;/url-pattern&gt;</code> does not work.</p>\n<p><strong>web.xml</strong></p>\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n    &lt;url-pattern&gt;^(?!\\/rest).*$&lt;/url-pattern&gt;              &lt;!-- Doesn't work --&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n<p><strong>security.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans:beans xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\n       xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/security\n    http://www.springframework.org/schema/security/spring-security.xsd&quot;&gt;\n\n    &lt;security:http use-expressions=&quot;true&quot; create-session=&quot;ifRequired&quot; request-matcher=&quot;regex&quot;&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/(css|fonts|help|images|layouts|scripts).*$&quot; access=&quot;permitAll&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/login.*$&quot; access=&quot;permitAll&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/logout.*$&quot; access=&quot;permitAll&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/accessDenied.cprms$&quot; access=&quot;permitAll&quot;/&gt;\n\n        &lt;security:intercept-url pattern=&quot;^.*.jsp$&quot; access=&quot;isAuthenticated()&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/errors\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','adminRole','businessRole','operationalRole','changePasswordRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/control\\/.*$&quot; access=&quot;isAuthenticated()&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/control\\/jobStatus.cprms$&quot; access=&quot;isAuthenticated()&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/sysad\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/userad\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','adminRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/myprofile\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','adminRole','businessRole','operationalRole','changePasswordRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/config\\/carpark\\/carParkDetails.cprms$&quot; access=&quot;isAuthenticated()&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/config\\/carpark\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','adminRole','businessRole','operationalRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/config\\/product\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','adminRole','businessRole','operationalRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/config\\/splevt\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','adminRole','businessRole','operationalRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/config\\/alert\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','adminRole','businessRole','operationalRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/config\\/location\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','supportRole','nolocation')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/config\\/competitor\\/details\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','adminRole','businessRole','operationalRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/config\\/competitor\\/product\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','adminRole','businessRole','operationalRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/config\\/consolidator\\/interface\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','adminRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/config\\/consolidator\\/details\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','adminRole','businessRole','operationalRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/config\\/consolidator\\/product\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','businessRole','operationalRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/monitor\\/config\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','adminRole','businessRole','operationalRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/monitor\\/configure\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','adminRole','businessRole','operationalRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/monitor\\/operation\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','adminRole','businessRole','operationalRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/recommendedSettings.cprms$&quot; access=&quot;isAuthenticated()&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/.*errors.cprms$&quot; access=&quot;isAuthenticated()&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/upload\\/uploadExtract\\/.*$&quot; access=&quot;hasAnyAuthority('uploadExtractRole')&quot;/&gt;\n\n        &lt;security:intercept-url pattern=&quot;^\\/.*$&quot; access=&quot;isAuthenticated()&quot;/&gt;\n\n        &lt;security:form-login\n                login-page=&quot;/loginRedirector.jsp&quot;\n                login-processing-url=&quot;/login&quot;\n                authentication-failure-handler-ref=&quot;authenticationFailureHandler&quot;\n                default-target-url=&quot;/welcome.jsp&quot;\n                always-use-default-target=&quot;true&quot;\n                username-parameter=&quot;j_username&quot;\n                password-parameter=&quot;j_password&quot;\n        /&gt;\n        &lt;security:logout logout-success-url=&quot;/loginRedirector.jsp&quot; /&gt;\n\n        &lt;security:session-management invalid-session-url=&quot;/loginRedirector.jsp&quot;&gt;\n            &lt;security:concurrency-control max-sessions=&quot;1&quot; /&gt;\n        &lt;/security:session-management&gt;\n        &lt;security:csrf disabled=&quot;true&quot;/&gt;\n    &lt;/security:http&gt;\n\n    &lt;security:authentication-manager erase-credentials=&quot;false&quot;&gt;\n        &lt;security:authentication-provider&gt;\n            &lt;security:password-encoder ref=&quot;passwordEncoder&quot; /&gt;\n            &lt;security:jdbc-user-service\n                data-source-ref=&quot;globalDataSource&quot;\n                users-by-username-query=&quot;SELECT user_id AS `username`, PASSWORD AS `password`, IF(user_locked = 'N', 1, 0) AS `enabled` FROM `user` WHERE user_id = ?&quot;\n                authorities-by-username-query=&quot;SELECT u.user_id AS `username`, r.NAME AS `role` FROM `user` u INNER JOIN user_role ur ON ur.user_fk = u.user_pk INNER JOIN role AS r ON ur.role_fk = r.role_pk WHERE u.user_id = ?&quot;\n            /&gt;\n        &lt;/security:authentication-provider&gt;\n        &lt;security:authentication-provider ref=&quot;ssoAuthenticationProvider&quot; /&gt;\n    &lt;/security:authentication-manager&gt;\n\n    &lt;beans:bean id=&quot;authenticationFailureHandler&quot; class=&quot;com.ideas.carparkpro.core.service.impl.LoginFailureHandler&quot; /&gt;\n    &lt;beans:bean id=&quot;passwordEncoder&quot; class=&quot;org.springframework.security.authentication.encoding.ShaPasswordEncoder&quot;/&gt;\n    &lt;beans:bean id=&quot;ssoAuthenticationProvider&quot; class=&quot;com.ideas.carparkpro.core.service.impl.SSOAuthenticationProvider&quot; /&gt;\n\n&lt;/beans:beans&gt;\n</code></pre>\n"},{"tags":["java","hashmap"],"answers":[{"comments":[{"owner":{"account_id":5809819,"reputation":3680,"user_id":4581287,"accept_rate":51,"display_name":"Parag Kadam"},"score":0,"creation_date":1653924823,"post_id":72436681,"comment_id":127964716,"body_markdown":"This works for the most part just that it also gives Shop3 -&gt; Product5 wherein Product5 occurs in just 1 shop and not multiple.","body":"This works for the most part just that it also gives Shop3 -&gt; Product5 wherein Product5 occurs in just 1 shop and not multiple."},{"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"score":0,"creation_date":1653925125,"post_id":72436681,"comment_id":127964823,"body_markdown":"@ParagKadam Huh? The result I get when I print out result is: `{Product3=[Shop5], Product1=[Shop1, Shop3], Product2=[Shop4, Shop2]}`. Which looks correct.","body":"@ParagKadam Huh? The result I get when I print out result is: <code>{Product3=[Shop5], Product1=[Shop1, Shop3], Product2=[Shop4, Shop2]}</code>. Which looks correct."},{"owner":{"account_id":5809819,"reputation":3680,"user_id":4581287,"accept_rate":51,"display_name":"Parag Kadam"},"score":0,"creation_date":1653925283,"post_id":72436681,"comment_id":127964887,"body_markdown":"Product3=[Shop5] shouldn&#39;t be in the result as it occurs in only Shop5, if it occurred at more than 1 shop then it should have been included in the result.","body":"Product3=[Shop5] shouldn&#39;t be in the result as it occurs in only Shop5, if it occurred at more than 1 shop then it should have been included in the result."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":1,"creation_date":1653925527,"post_id":72436681,"comment_id":127964972,"body_markdown":"@ParagKadam Just add a filter before collecting, to include only duplicate values. something like `.stream().filter(e -&gt; Collections.frequency(map.values(), e.getValue()) &gt; 1).collect(Collectors.groupingBy....`","body":"@ParagKadam Just add a filter before collecting, to include only duplicate values. something like <code>.stream().filter(e -&gt; Collections.frequency(map.values(), e.getValue()) &gt; 1).collect(Collectors.groupingBy....</code>"}],"tags":[],"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"comment_count":4,"down_vote_count":2,"up_vote_count":5,"is_accepted":true,"score":3,"last_activity_date":1653925710,"creation_date":1653924394,"answer_id":72436681,"question_id":72436555,"body_markdown":"What you&#39;re trying to do is to invert the map (values become keys and keys get grouped by old values). There should be libraries that do that, but a sample solution with streams:\r\n\r\n    result = map.entrySet()\r\n    .stream()\r\n    .filter(e -&gt; Collections.frequency(map.values(), e.getValue()) &gt; 1)\r\n    .collect(Collectors.groupingBy(Map.Entry::getValue, Collectors.mapping(Map.Entry::getKey, Collectors.toList())))","title":"Mapping duplicate values from Map against the keys in which they are found","body":"<p>What you're trying to do is to invert the map (values become keys and keys get grouped by old values). There should be libraries that do that, but a sample solution with streams:</p>\n<pre><code>result = map.entrySet()\n.stream()\n.filter(e -&gt; Collections.frequency(map.values(), e.getValue()) &gt; 1)\n.collect(Collectors.groupingBy(Map.Entry::getValue, Collectors.mapping(Map.Entry::getKey, Collectors.toList())))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653924427,"creation_date":1653924427,"answer_id":72436690,"question_id":72436555,"body_markdown":"You can do this with [Guava&#39;s Multimap][1].\r\n\r\n\tfinal Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\tmap.put(&quot;Shop1&quot;, &quot;Product1&quot;);\r\n\tmap.put(&quot;Shop2&quot;, &quot;Product2&quot;);\r\n\tmap.put(&quot;Shop3&quot;, &quot;Product1&quot;);\r\n\tmap.put(&quot;Shop4&quot;, &quot;Product2&quot;);\r\n\tmap.put(&quot;Shop5&quot;, &quot;Product3&quot;);\r\n\r\n\tfinal Multimap&lt;String, String&gt; shopToProduct = Multimaps.forMap(map), productToShop = HashMultimap.create();\r\n\r\n\tMultimaps.invertFrom(shopToProduct, productToShop);\r\n\r\n\t// Prints the output you want\r\n\tproductToShop.asMap().entrySet().forEach(System.out::println);\r\n\r\n\t// You can also get the backing map, but ideally use the Multimap abstraction\r\n\tfinal Map&lt;String, Collection&lt;String&gt;&gt; backingMap = productToShop.asMap();\r\n\r\n\r\n  [1]: https://github.com/google/guava/wiki/NewCollectionTypesExplained#multimap","title":"Mapping duplicate values from Map against the keys in which they are found","body":"<p>You can do this with <a href=\"https://github.com/google/guava/wiki/NewCollectionTypesExplained#multimap\" rel=\"nofollow noreferrer\">Guava's Multimap</a>.</p>\n<pre><code>final Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;Shop1&quot;, &quot;Product1&quot;);\nmap.put(&quot;Shop2&quot;, &quot;Product2&quot;);\nmap.put(&quot;Shop3&quot;, &quot;Product1&quot;);\nmap.put(&quot;Shop4&quot;, &quot;Product2&quot;);\nmap.put(&quot;Shop5&quot;, &quot;Product3&quot;);\n\nfinal Multimap&lt;String, String&gt; shopToProduct = Multimaps.forMap(map), productToShop = HashMultimap.create();\n\nMultimaps.invertFrom(shopToProduct, productToShop);\n\n// Prints the output you want\nproductToShop.asMap().entrySet().forEach(System.out::println);\n\n// You can also get the backing map, but ideally use the Multimap abstraction\nfinal Map&lt;String, Collection&lt;String&gt;&gt; backingMap = productToShop.asMap();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653924533,"creation_date":1653924533,"answer_id":72436713,"question_id":72436555,"body_markdown":"Find the `distinct` values first. After that, you can iterate through each value and search for their  `key` on the map, whenever you find a `key` you just put them into a `list`.\r\n\r\n\r\n```\r\nList&lt;String&gt; list = map.values().stream().distinct().collect(Collectors.toList()); //Collecting the distinct values\r\n```\r\n\r\n```\r\nfor (String value : list) {  //iterating through each key\r\n    List&lt;String&gt; temp =  map.entrySet()\r\n             .stream()\r\n             .filter(entry -&gt; value.equals(entry.getValue())) //filtering out similar entries\r\n             .map(Map.Entry::getKey)\r\n             .collect(Collectors.toList());\r\n     result.put(value, temp);\r\n }\r\n System.out.println(result);\r\n```","title":"Mapping duplicate values from Map against the keys in which they are found","body":"<p>Find the <code>distinct</code> values first. After that, you can iterate through each value and search for their  <code>key</code> on the map, whenever you find a <code>key</code> you just put them into a <code>list</code>.</p>\n<pre><code>List&lt;String&gt; list = map.values().stream().distinct().collect(Collectors.toList()); //Collecting the distinct values\n</code></pre>\n<pre><code>for (String value : list) {  //iterating through each key\n    List&lt;String&gt; temp =  map.entrySet()\n             .stream()\n             .filter(entry -&gt; value.equals(entry.getValue())) //filtering out similar entries\n             .map(Map.Entry::getKey)\n             .collect(Collectors.toList());\n     result.put(value, temp);\n }\n System.out.println(result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4338279,"reputation":558,"user_id":3542239,"display_name":"Idan Elhalwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653925053,"creation_date":1653925053,"answer_id":72436828,"question_id":72436555,"body_markdown":"You can use Guava&#39;s [Multimap][1] to achieve this, however you&#39;d need to invert the map.\r\n\r\n```java\r\nMultimap&lt;String, String&gt; map = HashMultimap.create();\r\nmap.put(&quot;Product1&quot;, &quot;Shop1&quot;);\r\nmap.put(&quot;Product2&quot;, &quot;Shop2&quot;);\r\nmap.put(&quot;Product2&quot;, &quot;Shop1&quot;);\r\nmap.put(&quot;Product2&quot;, &quot;Shop4&quot;);\r\nmap.put(&quot;Product3&quot;, &quot;Shop5&quot;);\r\nSystem.out.println(map.get(&quot;Product2&quot;)); // [Shop4, Shop1, Shop2]\r\n```\r\n\r\nAlternatively, if you&#39;d prefer not to invert the original map - you can use a `Map&lt;String, List&lt;String&gt;` (Or combine the following solution with the `Multimap` above) and add records with `computeIfAbsent`, then invert the map to get the values you want.\r\n\r\n```java\r\n        Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\r\n        map.computeIfAbsent(&quot;Shop1&quot;, (x) -&gt; new ArrayList&lt;&gt;()).add(&quot;Product1&quot;);\r\n        map.computeIfAbsent(&quot;Shop2&quot;, (x) -&gt; new ArrayList&lt;&gt;()).add(&quot;Product2&quot;);\r\n        map.computeIfAbsent(&quot;Shop3&quot;, (x) -&gt; new ArrayList&lt;&gt;()).add(&quot;Product1&quot;);\r\n        map.computeIfAbsent(&quot;Shop4&quot;, (x) -&gt; new ArrayList&lt;&gt;()).add(&quot;Product2&quot;);\r\n        map.computeIfAbsent(&quot;Shop5&quot;, (x) -&gt; new ArrayList&lt;&gt;()).add(&quot;Product3&quot;);\r\n        // Invert the map\r\n        Map&lt;String, List&lt;String&gt;&gt; invertedMap = map\r\n                .entrySet()\r\n                .stream()\r\n                .collect(HashMap::new, (m, entry) -&gt; {\r\n                    entry.getValue().forEach((value) -&gt; {\r\n                        m.computeIfAbsent(value, (x) -&gt; new ArrayList&lt;&gt;()).add(entry.getKey());\r\n                    });\r\n                }, Map::putAll);\r\n\r\n        System.out.println(invertedMap); // {Product3=[Shop5], Product1=[Shop1, Shop3], Product2=[Shop4, Shop2]}\r\n```\r\n\r\n\r\n\r\n  [1]: https://guava.dev/releases/23.0/api/docs/com/google/common/collect/Multimap.html","title":"Mapping duplicate values from Map against the keys in which they are found","body":"<p>You can use Guava's <a href=\"https://guava.dev/releases/23.0/api/docs/com/google/common/collect/Multimap.html\" rel=\"nofollow noreferrer\">Multimap</a> to achieve this, however you'd need to invert the map.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Multimap&lt;String, String&gt; map = HashMultimap.create();\nmap.put(&quot;Product1&quot;, &quot;Shop1&quot;);\nmap.put(&quot;Product2&quot;, &quot;Shop2&quot;);\nmap.put(&quot;Product2&quot;, &quot;Shop1&quot;);\nmap.put(&quot;Product2&quot;, &quot;Shop4&quot;);\nmap.put(&quot;Product3&quot;, &quot;Shop5&quot;);\nSystem.out.println(map.get(&quot;Product2&quot;)); // [Shop4, Shop1, Shop2]\n</code></pre>\n<p>Alternatively, if you'd prefer not to invert the original map - you can use a <code>Map&lt;String, List&lt;String&gt;</code> (Or combine the following solution with the <code>Multimap</code> above) and add records with <code>computeIfAbsent</code>, then invert the map to get the values you want.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\n        map.computeIfAbsent(&quot;Shop1&quot;, (x) -&gt; new ArrayList&lt;&gt;()).add(&quot;Product1&quot;);\n        map.computeIfAbsent(&quot;Shop2&quot;, (x) -&gt; new ArrayList&lt;&gt;()).add(&quot;Product2&quot;);\n        map.computeIfAbsent(&quot;Shop3&quot;, (x) -&gt; new ArrayList&lt;&gt;()).add(&quot;Product1&quot;);\n        map.computeIfAbsent(&quot;Shop4&quot;, (x) -&gt; new ArrayList&lt;&gt;()).add(&quot;Product2&quot;);\n        map.computeIfAbsent(&quot;Shop5&quot;, (x) -&gt; new ArrayList&lt;&gt;()).add(&quot;Product3&quot;);\n        // Invert the map\n        Map&lt;String, List&lt;String&gt;&gt; invertedMap = map\n                .entrySet()\n                .stream()\n                .collect(HashMap::new, (m, entry) -&gt; {\n                    entry.getValue().forEach((value) -&gt; {\n                        m.computeIfAbsent(value, (x) -&gt; new ArrayList&lt;&gt;()).add(entry.getKey());\n                    });\n                }, Map::putAll);\n\n        System.out.println(invertedMap); // {Product3=[Shop5], Product1=[Shop1, Shop3], Product2=[Shop4, Shop2]}\n</code></pre>\n"}],"owner":{"account_id":5809819,"reputation":3680,"user_id":4581287,"accept_rate":51,"display_name":"Parag Kadam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1653925304,"accepted_answer_id":72436681,"answer_count":4,"score":-1,"last_activity_date":1666170834,"creation_date":1653923714,"question_id":72436555,"body_markdown":"What I have is:\r\n\r\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;Shop1&quot;, &quot;Product1&quot;);\r\n    map.put(&quot;Shop2&quot;, &quot;Product2&quot;);\r\n    map.put(&quot;Shop3&quot;, &quot;Product1&quot;);\r\n    map.put(&quot;Shop4&quot;, &quot;Product2&quot;);\r\n    map.put(&quot;Shop5&quot;, &quot;Product3&quot;);\r\n\r\nWhat I want is:\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; result = new HashMap&lt;&gt;();\r\n\r\nWherein `result` contains:\r\n\r\nProduct1 -&gt; Shop1,Shop3\r\n\r\nProduct2 -&gt; Shop2,Shop4\r\n\r\nHere Product1 is found at multiple times in shops Shop1 &amp; Shop3 and Product2 is found multiple times in shops Shop2 &amp; Shop4.\r\n","title":"Mapping duplicate values from Map against the keys in which they are found","body":"<p>What I have is:</p>\n<pre><code>Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;Shop1&quot;, &quot;Product1&quot;);\nmap.put(&quot;Shop2&quot;, &quot;Product2&quot;);\nmap.put(&quot;Shop3&quot;, &quot;Product1&quot;);\nmap.put(&quot;Shop4&quot;, &quot;Product2&quot;);\nmap.put(&quot;Shop5&quot;, &quot;Product3&quot;);\n</code></pre>\n<p>What I want is:</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; result = new HashMap&lt;&gt;();\n</code></pre>\n<p>Wherein <code>result</code> contains:</p>\n<p>Product1 -&gt; Shop1,Shop3</p>\n<p>Product2 -&gt; Shop2,Shop4</p>\n<p>Here Product1 is found at multiple times in shops Shop1 &amp; Shop3 and Product2 is found multiple times in shops Shop2 &amp; Shop4.</p>\n"},{"tags":["java","intellij-idea","logging"],"comments":[{"owner":{"account_id":7548491,"reputation":844,"user_id":5730762,"display_name":"Alexander Terekhov"},"score":1,"creation_date":1666170892,"post_id":74122662,"comment_id":130870135,"body_markdown":"If you have &quot;Class : method&quot; pattern in the logging you can try search by regex:\nlog.error\\(&quot;[A-z0-9]+ : [A-z0-9]+","body":"If you have &quot;Class : method&quot; pattern in the logging you can try search by regex: log.error&#40;&quot;[A-z0-9]+ : [A-z0-9]+"},{"owner":{"account_id":17234105,"reputation":41,"user_id":12477935,"display_name":"gan7202"},"score":0,"creation_date":1666171270,"post_id":74122662,"comment_id":130870259,"body_markdown":"I got message as .... Bad pattern &quot;log.error(&quot;[A-z0-9]+ : [A-z0-9]+&quot;: Unclosed group.","body":"I got message as .... Bad pattern &quot;log.error(&quot;[A-z0-9]+ : [A-z0-9]+&quot;: Unclosed group."},{"owner":{"account_id":7548491,"reputation":844,"user_id":5730762,"display_name":"Alexander Terekhov"},"score":0,"creation_date":1666171547,"post_id":74122662,"comment_id":130870365,"body_markdown":"Did you insert the pattern in the &quot;Find in files&quot; dialog?\nAnd chose the &quot;regexp&quot; search?","body":"Did you insert the pattern in the &quot;Find in files&quot; dialog? And chose the &quot;regexp&quot; search?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":3,"creation_date":1666171901,"post_id":74122662,"comment_id":130870512,"body_markdown":"The regex must be `log.error\\(&quot;[A-z0-9]+ : [A-z0-9]+` (note the backslash before the &quot;(&quot; - otherwise the ( is interpreted as start of a capturing group)","body":"The regex must be <code>log.error\\(&quot;[A-z0-9]+ : [A-z0-9]+</code> (note the backslash before the &quot;(&quot; - otherwise the ( is interpreted as start of a capturing group)"}],"owner":{"account_id":17234105,"reputation":41,"user_id":12477935,"display_name":"gan7202"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666170404,"creation_date":1666170404,"question_id":74122662,"body_markdown":"The below is the example, How to find the java files which logging the function/class names in log statements.\r\n\r\n    log.error(&quot;ManagerServiceImpl : processDeviceMgrNotification - failed for device [{}] due to: &quot;);\r\n\r\nCould any one suggest me the proper search criteria to use in intellij to get above result.","title":"how to find all methods names which are used in log statements in java","body":"<p>The below is the example, How to find the java files which logging the function/class names in log statements.</p>\n<pre><code>log.error(&quot;ManagerServiceImpl : processDeviceMgrNotification - failed for device [{}] due to: &quot;);\n</code></pre>\n<p>Could any one suggest me the proper search criteria to use in intellij to get above result.</p>\n"},{"tags":["java","android","android-studio","kotlin","android-cursor"],"answers":[{"comments":[{"owner":{"account_id":16192048,"reputation":2374,"user_id":11690526,"display_name":"Tippu Fisal Sheriff"},"score":1,"creation_date":1666169870,"post_id":74107645,"comment_id":130869745,"body_markdown":"I tried the reference link but didn&#39;t get it. Can you add a sample code here?","body":"I tried the reference link but didn&#39;t get it. Can you add a sample code here?"}],"tags":[],"owner":{"account_id":25739271,"reputation":653,"user_id":19493508,"display_name":"Hanif Shaikh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666080211,"creation_date":1666080211,"answer_id":74107645,"question_id":74085065,"body_markdown":"Reference:- https://developer.android.com/training/contacts-provider/retrieve-details\r\n\r\nThe above Link has - ContactsContract.Data.DATA1 \r\n that only retrieves the phone number \r\ncheckout above link for more detail","title":"How to get the only phone number from the device contact, not whats app and duo number, etc","body":"<p>Reference:- <a href=\"https://developer.android.com/training/contacts-provider/retrieve-details\" rel=\"nofollow noreferrer\">https://developer.android.com/training/contacts-provider/retrieve-details</a></p>\n<p>The above Link has - ContactsContract.Data.DATA1\nthat only retrieves the phone number\ncheckout above link for more detail</p>\n"},{"comments":[{"owner":{"account_id":16192048,"reputation":2374,"user_id":11690526,"display_name":"Tippu Fisal Sheriff"},"score":0,"creation_date":1666171711,"post_id":74122632,"comment_id":130870436,"body_markdown":"I tried above the code, and it didn&#39;t work","body":"I tried above the code, and it didn&#39;t work"}],"tags":[],"owner":{"account_id":25739271,"reputation":653,"user_id":19493508,"display_name":"Hanif Shaikh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666170256,"creation_date":1666170256,"answer_id":74122632,"question_id":74085065,"body_markdown":"try this one i hope this will help you.\r\n\r\n    //ContactsContract defines an extensible database of contact-related information\r\n        var uri = ContactsContract.Data.CONTENT_URI\r\n\r\n        val PROJECTION = arrayOf(\r\n            ContactsContract.Data.CONTACT_ID,\r\n            ContactsContract.Data.DISPLAY_NAME,\r\n            ContactsContract.Data.PHOTO_URI,\r\n            ContactsContract.Data.DATA1\r\n        )\r\n\r\n\r\n        var cursor =\r\n            contentResolver.query(uri, PROJECTION, ContactsContract.Data.MIMETYPE + &quot; = ?&quot;, arrayOf(\r\n                ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE\r\n            ), ContactsContract.Contacts.DISPLAY_NAME + &quot; ASC &quot;, null)\r\n\r\n        while (cursor.moveToNext())\r\n        {\r\n            val contactId =\r\n                cursor!!.getString(cursor!!.getColumnIndex(ContactsContract.Data.CONTACT_ID))\r\n            val photo = cursor!!.getString(cursor!!.getColumnIndex(ContactsContract.Data.PHOTO_URI))\r\n            val name = cursor!!.getString(cursor!!.getColumnIndex(ContactsContract.Data.DISPLAY_NAME))\r\n            val phone = cursor!!.getString(cursor!!.getColumnIndex(ContactsContract.Data.DATA1))\r\n        }","title":"How to get the only phone number from the device contact, not whats app and duo number, etc","body":"<p>try this one i hope this will help you.</p>\n<pre><code>//ContactsContract defines an extensible database of contact-related information\n    var uri = ContactsContract.Data.CONTENT_URI\n\n    val PROJECTION = arrayOf(\n        ContactsContract.Data.CONTACT_ID,\n        ContactsContract.Data.DISPLAY_NAME,\n        ContactsContract.Data.PHOTO_URI,\n        ContactsContract.Data.DATA1\n    )\n\n\n    var cursor =\n        contentResolver.query(uri, PROJECTION, ContactsContract.Data.MIMETYPE + &quot; = ?&quot;, arrayOf(\n            ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE\n        ), ContactsContract.Contacts.DISPLAY_NAME + &quot; ASC &quot;, null)\n\n    while (cursor.moveToNext())\n    {\n        val contactId =\n            cursor!!.getString(cursor!!.getColumnIndex(ContactsContract.Data.CONTACT_ID))\n        val photo = cursor!!.getString(cursor!!.getColumnIndex(ContactsContract.Data.PHOTO_URI))\n        val name = cursor!!.getString(cursor!!.getColumnIndex(ContactsContract.Data.DISPLAY_NAME))\n        val phone = cursor!!.getString(cursor!!.getColumnIndex(ContactsContract.Data.DATA1))\n    }\n</code></pre>\n"}],"owner":{"account_id":16192048,"reputation":2374,"user_id":11690526,"display_name":"Tippu Fisal Sheriff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666170256,"creation_date":1665901883,"question_id":74085065,"body_markdown":"How to get the only phone number from the device contact, not whats app and duo number, etc...\r\n\r\nExample:\r\nI got the device contact number, but that return\r\n\r\n 1. Phone Number\r\n 2. What&#39;s App Number\r\n 3. Google Duo Number etc...\r\n\r\nNote: I need only a phone number from the local device contact.\r\n\r\n\r\n    val phones: Cursor? = contentResolver.query(\r\n            ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\r\n            null,\r\n            ContactsContract.CommonDataKinds.Phone.CONTACT_ID + &quot; = ?&quot;,\r\n            arrayOf(contactId),\r\n            null\r\n        )\r\n\r\n    // This will return list of contact number\r\n    val phoneNumbers: Int = it.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER)\r\n\r\n","title":"How to get the only phone number from the device contact, not whats app and duo number, etc","body":"<p>How to get the only phone number from the device contact, not whats app and duo number, etc...</p>\n<p>Example:\nI got the device contact number, but that return</p>\n<ol>\n<li>Phone Number</li>\n<li>What's App Number</li>\n<li>Google Duo Number etc...</li>\n</ol>\n<p>Note: I need only a phone number from the local device contact.</p>\n<pre><code>val phones: Cursor? = contentResolver.query(\n        ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\n        null,\n        ContactsContract.CommonDataKinds.Phone.CONTACT_ID + &quot; = ?&quot;,\n        arrayOf(contactId),\n        null\n    )\n\n// This will return list of contact number\nval phoneNumbers: Int = it.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER)\n</code></pre>\n"},{"tags":["java","spring-boot","gradle","intellij-idea","class-diagram"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1665569559,"post_id":74039783,"comment_id":130729794,"body_markdown":"Could you clarify please? &quot;Java Classes&quot; option shows diagram for selected file or package.","body":"Could you clarify please? &quot;Java Classes&quot; option shows diagram for selected file or package."},{"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"score":0,"creation_date":1665570057,"post_id":74039783,"comment_id":130729945,"body_markdown":"It shows a diagram for the file class, but instead of the class diagram, it only shows the annotations of the class.","body":"It shows a diagram for the file class, but instead of the class diagram, it only shows the annotations of the class."},{"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"score":0,"creation_date":1665570145,"post_id":74039783,"comment_id":130729971,"body_markdown":"I want to see the dependencies of the class, you could say a &quot;flow&quot; diagram.","body":"I want to see the dependencies of the class, you could say a &quot;flow&quot; diagram."},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1665583653,"post_id":74039783,"comment_id":130735343,"body_markdown":"Please vote the elated request on YouTrack: https://youtrack.jetbrains.com/issue/IDEA-81834/Show-dependencies-of-a-class-in-UML-diagram-without-manually-opening-the-dependencies","body":"Please vote the elated request on YouTrack: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-81834/Show-dependencies-of-a-class-in-UML-diagram-without-manually-opening-the-dependencies\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-81834/&hellip;</a>"},{"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"score":0,"creation_date":1665586755,"post_id":74039783,"comment_id":130736693,"body_markdown":"the fact that this request is 11 years old makes me a bit skeptical about it... But I&#39;ve upvoted it anyhow :).\nSo, I understand it is not possible in IntelliJ?","body":"the fact that this request is 11 years old makes me a bit skeptical about it... But I&#39;ve upvoted it anyhow :). So, I understand it is not possible in IntelliJ?"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1665603677,"post_id":74039783,"comment_id":130742326,"body_markdown":"Yes, there is no such feature. You may try to build diagram for &quot;src&quot; folder to avoid all dependencies shown.","body":"Yes, there is no such feature. You may try to build diagram for &quot;src&quot; folder to avoid all dependencies shown."},{"owner":{"account_id":8900126,"reputation":1612,"user_id":6643833,"display_name":"Tobias Otto"},"score":0,"creation_date":1665753900,"post_id":74039783,"comment_id":130778062,"body_markdown":"Please explain what information do you want to see. IntelliJ can show you methods, fields or properties. Right-Click in the class-diagramm -&gt; Content -&gt; Show Categories -&gt; Fields","body":"Please explain what information do you want to see. IntelliJ can show you methods, fields or properties. Right-Click in the class-diagramm -&gt; Content -&gt; Show Categories -&gt; Fields"},{"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"score":0,"creation_date":1666118785,"post_id":74039783,"comment_id":130858793,"body_markdown":"@TobiasOtto I&#39;ve tried to clarify things, please tell me if my needs are still not clear.","body":"@TobiasOtto I&#39;ve tried to clarify things, please tell me if my needs are still not clear."},{"owner":{"account_id":442668,"reputation":1431,"user_id":833399,"accept_rate":75,"display_name":"Knight Industries"},"score":1,"creation_date":1666345034,"post_id":74039783,"comment_id":130919982,"body_markdown":"IntelliJ can show UML [class diagrams](https://en.wikipedia.org/wiki/Class_diagram) including fields, methods, inheritance and relations out of the box. What you are probably looking for in order to visualize the &#39;flow&#39; of methods are [sequence diagrams](https://plugins.jetbrains.com/plugin/8286-sequencediagram).","body":"IntelliJ can show UML <a href=\"https://en.wikipedia.org/wiki/Class_diagram\" rel=\"nofollow noreferrer\">class diagrams</a> including fields, methods, inheritance and relations out of the box. What you are probably looking for in order to visualize the &#39;flow&#39; of methods are <a href=\"https://plugins.jetbrains.com/plugin/8286-sequencediagram\" rel=\"nofollow noreferrer\">sequence diagrams</a>."},{"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"score":0,"creation_date":1666345915,"post_id":74039783,"comment_id":130920269,"body_markdown":"@KnightIndustries you are right. This is what I am looking for, but the IntelliJ dependencies diagram should also be suitable for my needs if it just could be applied to 1 class.\nI have already checked out the sequence plugin and it is buggy when used on long flows, and has issues displaying flows of classes implementing interfaces or extending abstract classes.\nIt isn&#39;t a good enough solution :(","body":"@KnightIndustries you are right. This is what I am looking for, but the IntelliJ dependencies diagram should also be suitable for my needs if it just could be applied to 1 class. I have already checked out the sequence plugin and it is buggy when used on long flows, and has issues displaying flows of classes implementing interfaces or extending abstract classes. It isn&#39;t a good enough solution :("},{"owner":{"account_id":442668,"reputation":1431,"user_id":833399,"accept_rate":75,"display_name":"Knight Industries"},"score":0,"creation_date":1666348352,"post_id":74039783,"comment_id":130921098,"body_markdown":"So your question is about visualizing all imports of a class? The [dependency analysis](https://www.jetbrains.com/help/idea/dependencies-analysis.html) can help with this, but for a typical Java class with 20-30 imports, I suspect a diagram would quickly become incomprehensible.","body":"So your question is about visualizing all imports of a class? The <a href=\"https://www.jetbrains.com/help/idea/dependencies-analysis.html\" rel=\"nofollow noreferrer\">dependency analysis</a> can help with this, but for a typical Java class with 20-30 imports, I suspect a diagram would quickly become incomprehensible."}],"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":783,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666170047,"creation_date":1665567971,"question_id":74039783,"body_markdown":"I am writing in java SpringBoot and Gradle via IntelliJ. \r\nI want to be able to see all the classes my flow needs and the dependencies between them. The ideal diagram would contain the methods call flow.\r\nBut another good enough diagram would give me all the class contained in my flow.\r\nSo the best thing is something like:\r\n```\r\nClass1.method1 -&gt; Class2.method2 -&gt; Class3.method3\r\n```\r\nand ok diagram:\r\n```\r\nClass1 -&gt; Class2 -&gt; Class3\r\n```\r\n\r\nWhen trying to use the Diagrams | Show Diagram in a class I have the next options:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhen trying to use `Java Classes` - I am getting a diagram of only the class and its annotations:\r\n[![enter image description here][2]][2]\r\n\r\n\r\nWhen trying `Gradle Dependencies` / `Spring Beans Dependencies` I am getting it for the whole package, and I am having this super frightening (but very pretty) diagram:\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4M7ik.png\r\n  [2]: https://i.stack.imgur.com/W3Qx6.png\r\n  [3]: https://i.stack.imgur.com/54uvX.png\r\n\r\nSo it seems like IntelliJ has what I need but it can display it for the whole project, which is not realistic to use it.\r\nIs there a way I can have a diagram for only 1 class (as a root)?\r\nOr alternatively, do you know of another way (e.g. another IDE) to achieve this kind of diagram?","title":"IntelliJ class diagram as a &quot;flow&quot; diagram for only 1 class (or alternative)","body":"<p>I am writing in java SpringBoot and Gradle via IntelliJ.\nI want to be able to see all the classes my flow needs and the dependencies between them. The ideal diagram would contain the methods call flow.\nBut another good enough diagram would give me all the class contained in my flow.\nSo the best thing is something like:</p>\n<pre><code>Class1.method1 -&gt; Class2.method2 -&gt; Class3.method3\n</code></pre>\n<p>and ok diagram:</p>\n<pre><code>Class1 -&gt; Class2 -&gt; Class3\n</code></pre>\n<p>When trying to use the Diagrams | Show Diagram in a class I have the next options:</p>\n<p><a href=\"https://i.stack.imgur.com/4M7ik.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4M7ik.png\" alt=\"enter image description here\" /></a></p>\n<p>When trying to use <code>Java Classes</code> - I am getting a diagram of only the class and its annotations:\n<a href=\"https://i.stack.imgur.com/W3Qx6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W3Qx6.png\" alt=\"enter image description here\" /></a></p>\n<p>When trying <code>Gradle Dependencies</code> / <code>Spring Beans Dependencies</code> I am getting it for the whole package, and I am having this super frightening (but very pretty) diagram:\n<a href=\"https://i.stack.imgur.com/54uvX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/54uvX.png\" alt=\"enter image description here\" /></a></p>\n<p>So it seems like IntelliJ has what I need but it can display it for the whole project, which is not realistic to use it.\nIs there a way I can have a diagram for only 1 class (as a root)?\nOr alternatively, do you know of another way (e.g. another IDE) to achieve this kind of diagram?</p>\n"},{"tags":["java","http","testing","junit"],"comments":[{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":2,"creation_date":1666170199,"post_id":74122561,"comment_id":130869874,"body_markdown":"`429 Too Many Requests` is the HTTP status code you receive and its name is already giving it away. Seems like your API has some kind of [leaky-bucket filter](https://en.wikipedia.org/wiki/Leaky_bucket) that only allows a certain amount of API calls within a given time. As you didn&#39;t include any hints on what framework your API is made of or how its configured, it&#39;s hard to give further advice.","body":"<code>429 Too Many Requests</code> is the HTTP status code you receive and its name is already giving it away. Seems like your API has some kind of <a href=\"https://en.wikipedia.org/wiki/Leaky_bucket\" rel=\"nofollow noreferrer\">leaky-bucket filter</a> that only allows a certain amount of API calls within a given time. As you didn&#39;t include any hints on what framework your API is made of or how its configured, it&#39;s hard to give further advice."},{"owner":{"account_id":26036770,"reputation":11,"user_id":19742116,"display_name":"Albert Albatros"},"score":0,"creation_date":1666170667,"post_id":74122561,"comment_id":130870051,"body_markdown":"I can not really post some screens unfortunatelly but ye i have set the limit for 50 requests, but i want it to stay as it is and only increase that number in tests scope.","body":"I can not really post some screens unfortunatelly but ye i have set the limit for 50 requests, but i want it to stay as it is and only increase that number in tests scope."}],"owner":{"account_id":26036770,"reputation":11,"user_id":19742116,"display_name":"Albert Albatros"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666169884,"creation_date":1666169884,"question_id":74122561,"body_markdown":"Im testing my api and after 50 tests every next test is returning 429 instead of 200. Can you tell me how to fix it? How to inject rate limiter only to this test unit?","title":"Http 429 response while testing","body":"<p>Im testing my api and after 50 tests every next test is returning 429 instead of 200. Can you tell me how to fix it? How to inject rate limiter only to this test unit?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":7669559,"reputation":184,"user_id":5812260,"accept_rate":75,"display_name":"Dmitry K"},"score":0,"creation_date":1651234771,"post_id":71913235,"comment_id":127321722,"body_markdown":"I found the similar issue: https://stackoverflow.com/questions/30082281/manytoonefetch-fetchtype-lazy-doesnt-work-on-non-primary-key-referenced-co","body":"I found the similar issue: <a href=\"https://stackoverflow.com/questions/30082281/manytoonefetch-fetchtype-lazy-doesnt-work-on-non-primary-key-referenced-co\" title=\"manytoonefetch fetchtype lazy doesnt work on non primary key referenced co\">stackoverflow.com/questions/30082281/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":7669559,"reputation":184,"user_id":5812260,"accept_rate":75,"display_name":"Dmitry K"},"score":0,"creation_date":1651234744,"post_id":71916207,"comment_id":127321708,"body_markdown":"Changing to EAGER does not work.","body":"Changing to EAGER does not work."}],"tags":[],"owner":{"account_id":3032783,"reputation":5092,"user_id":2571455,"display_name":"Rambler"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650310083,"creation_date":1650310083,"answer_id":71916207,"question_id":71913235,"body_markdown":"Just looking at the entity definition ` @ManyToOne(fetch = FetchType.LAZY)` is the cause.\r\n\r\nYou are explicitly telling JPA to fetch BB1 only when it is needed/accessed.Hence when the first call to get the parent entity is made BB1 is not loaded.It is only when you are accessing the child that triggers JPA to fetch it.\r\n\r\nIf you change it to `FetchType.EAGER` , both the entities will be queried in a single call.\r\n\r\nBut be careful there are advantages/pit-falls with either approach.\r\nRead more abt it here : https://thorben-janssen.com/entity-mappings-introduction-jpa-fetchtypes/\r\n","title":"Hibernate left join fetch by non-primary keys","body":"<p>Just looking at the entity definition <code> @ManyToOne(fetch = FetchType.LAZY)</code> is the cause.</p>\n<p>You are explicitly telling JPA to fetch BB1 only when it is needed/accessed.Hence when the first call to get the parent entity is made BB1 is not loaded.It is only when you are accessing the child that triggers JPA to fetch it.</p>\n<p>If you change it to <code>FetchType.EAGER</code> , both the entities will be queried in a single call.</p>\n<p>But be careful there are advantages/pit-falls with either approach.\nRead more abt it here : <a href=\"https://thorben-janssen.com/entity-mappings-introduction-jpa-fetchtypes/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/entity-mappings-introduction-jpa-fetchtypes/</a></p>\n"},{"tags":[],"owner":{"account_id":3261458,"reputation":232,"user_id":5035345,"accept_rate":57,"display_name":"Guillaume Delafosse"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666165653,"creation_date":1666165653,"answer_id":74121643,"question_id":71913235,"body_markdown":"You must add FETCH to your JPQL query :\r\n\r\n    SELECT a FROM AA1 a LEFT JOIN FETCH a.bb1 b;\r\n\r\nbut keep the LAZY loading, because Hibernante will always try to get ManyToOne or OneToOne relationship, which are EAGER by default, with an additional query.\r\n\r\nLook at this article [https://thorben-janssen.com/5-common-hibernate-mistakes-that-cause-dozens-of-unexpected-queries/][1] from Th\r\n\r\n\r\n  [1]: https://thorben-janssen.com/5-common-hibernate-mistakes-that-cause-dozens-of-unexpected-queries/#Use_FetchTypeLAZY_for_all_Associations","title":"Hibernate left join fetch by non-primary keys","body":"<p>You must add FETCH to your JPQL query :</p>\n<pre><code>SELECT a FROM AA1 a LEFT JOIN FETCH a.bb1 b;\n</code></pre>\n<p>but keep the LAZY loading, because Hibernante will always try to get ManyToOne or OneToOne relationship, which are EAGER by default, with an additional query.</p>\n<p>Look at this article <a href=\"https://thorben-janssen.com/5-common-hibernate-mistakes-that-cause-dozens-of-unexpected-queries/#Use_FetchTypeLAZY_for_all_Associations\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/5-common-hibernate-mistakes-that-cause-dozens-of-unexpected-queries/</a> from Th</p>\n"},{"tags":[],"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666169744,"creation_date":1666169744,"answer_id":74122533,"question_id":71913235,"body_markdown":"By default, to make lazy loading work for `@OneToOne` and `@ManyToOne`, you need to enable &quot;no proxy lazy associations&quot;. Otherwize, despite the FetchType.LAZY annotation, the associated object will be &quot;fetched&quot; and the &quot;fetch&quot; will be done with an extra sql query. \r\n\r\nTherefore, one half-way solution to leverage performances without enabling &quot;no proxy lazy associations&quot; is to avoid extra queries by forcing a join fetch on the associated objet. Various technics allow to reach this goal : &quot;LEFT JOIN FETCH&quot; in JPQL queries or EntityGraph.","title":"Hibernate left join fetch by non-primary keys","body":"<p>By default, to make lazy loading work for <code>@OneToOne</code> and <code>@ManyToOne</code>, you need to enable &quot;no proxy lazy associations&quot;. Otherwize, despite the FetchType.LAZY annotation, the associated object will be &quot;fetched&quot; and the &quot;fetch&quot; will be done with an extra sql query.</p>\n<p>Therefore, one half-way solution to leverage performances without enabling &quot;no proxy lazy associations&quot; is to avoid extra queries by forcing a join fetch on the associated objet. Various technics allow to reach this goal : &quot;LEFT JOIN FETCH&quot; in JPQL queries or EntityGraph.</p>\n"}],"owner":{"account_id":7669559,"reputation":184,"user_id":5812260,"accept_rate":75,"display_name":"Dmitry K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":657,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1666169744,"creation_date":1650292735,"question_id":71913235,"body_markdown":"Following entities:\r\n\r\n    @Table\r\n    class AA1 {\r\n     @Id\r\n     Long id;\r\n\r\n     String a_number;\r\n    \r\n     Category category;\r\n    \r\n     @ManyToOne(fetch = FetchType.LAZY)\r\n     @JoinColumn(name= &#39;a_number&#39;, referencedColumnName=&#39;a_number&#39;)\r\n     @JoinColumn(name= &#39;category&#39;, referencedColumnName=&#39;category&#39;)\r\n     BB1 bb1 \r\n    \r\n    ...other fields...\r\n    }\r\n    \r\n    @Table\r\n    class BB1 {\r\n     @Id\r\n     String a_number;\r\n\r\n     Category category;\r\n\r\n     String value;\r\n    }\r\n\r\nJPQL query:\r\n\r\n    SELECT a FROM AA1 a LEFT JOIN a.bb1 b;\r\n\r\nHibernate produces correct sql query, but when it tries to collect data it makes additional call like: \r\n\r\n    SELECT b.a_number, b.category, b.value FROM BB1 b WHERE b.a_number = ? AND b.category = ?\r\n\r\nI checked that query returns null.\r\nHow can I avoid such database queries?\r\n\r\n**My investigation:** As far as I see Hibernate creates key by(AA1.a_number and AA1.category) and tries to retrieve entity from context. And for specific row &#39;left join&#39; query returns null values and Hibernate asks context by key and context returns null, it leads to call to database for it.\r\n","title":"Hibernate left join fetch by non-primary keys","body":"<p>Following entities:</p>\n<pre><code>@Table\nclass AA1 {\n @Id\n Long id;\n\n String a_number;\n\n Category category;\n\n @ManyToOne(fetch = FetchType.LAZY)\n @JoinColumn(name= 'a_number', referencedColumnName='a_number')\n @JoinColumn(name= 'category', referencedColumnName='category')\n BB1 bb1 \n\n...other fields...\n}\n\n@Table\nclass BB1 {\n @Id\n String a_number;\n\n Category category;\n\n String value;\n}\n</code></pre>\n<p>JPQL query:</p>\n<pre><code>SELECT a FROM AA1 a LEFT JOIN a.bb1 b;\n</code></pre>\n<p>Hibernate produces correct sql query, but when it tries to collect data it makes additional call like:</p>\n<pre><code>SELECT b.a_number, b.category, b.value FROM BB1 b WHERE b.a_number = ? AND b.category = ?\n</code></pre>\n<p>I checked that query returns null.\nHow can I avoid such database queries?</p>\n<p><strong>My investigation:</strong> As far as I see Hibernate creates key by(AA1.a_number and AA1.category) and tries to retrieve entity from context. And for specific row 'left join' query returns null values and Hibernate asks context by key and context returns null, it leads to call to database for it.</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":6991584,"reputation":2672,"user_id":5360672,"accept_rate":86,"display_name":"Jonathan Laliberte"},"score":0,"creation_date":1542019852,"post_id":53260316,"comment_id":93405470,"body_markdown":"you want to pass a value the user enters in your jsp to your servlet?","body":"you want to pass a value the user enters in your jsp to your servlet?"},{"owner":{"account_id":12881336,"reputation":61,"user_id":9316276,"display_name":"SKH"},"score":1,"creation_date":1542020642,"post_id":53260316,"comment_id":93405889,"body_markdown":"Yes, I want to pass it in @WebInitParam","body":"Yes, I want to pass it in @WebInitParam"},{"owner":{"account_id":6991584,"reputation":2672,"user_id":5360672,"accept_rate":86,"display_name":"Jonathan Laliberte"},"score":0,"creation_date":1542020932,"post_id":53260316,"comment_id":93406056,"body_markdown":"that doesn&#39;t really make much sense though. WebInitParam isn&#39;t used for this kind of thing. So you want every user who makes a request to the servlet to have a clientId of 123?? You cannot change WebInitParam in runtime.","body":"that doesn&#39;t really make much sense though. WebInitParam isn&#39;t used for this kind of thing. So you want every user who makes a request to the servlet to have a clientId of 123?? You cannot change WebInitParam in runtime."}],"answers":[{"tags":[],"owner":{"account_id":213337,"reputation":3691,"user_id":466677,"display_name":"Marek Gregor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666169714,"creation_date":1666169714,"answer_id":74122524,"question_id":53260316,"body_markdown":"@WebInitParam&#39;s are used for the configuration of servlets implemented by third-party libraries. Usually, these libraries use methods getInitParameterNames() and getInitParameter() of abstract class GenericServlet (but you should check in library code for it).\r\n\r\nFor the dynamic setting of the @WebInitParam you can override those methods in your servlet implementation. Below is an example of how to do it.\r\n\r\n    @WebServlet(urlPatterns = &quot;/abc/*&quot;)\r\n    public class DynamicInitParamServlet extends SomeCustomLibraryHttpServlet {\r\n    private static final String WEB_INIT_PARAM_NAME = &quot;some.param.name&quot;;\r\n    private Integer webInitParamValue = null;\r\n\r\n    @Override\r\n    public void init(ServletConfig config) throws ServletException {\r\n        // calculate init param value dynamically,\r\n        // TODO: implement your own code\r\n        webInitParamValue = 2 * 3;\r\n\r\n        // call custom library servlet init after init parameter value is set\r\n        super.init(config);\r\n    }\r\n\r\n    @Override\r\n    public Enumeration&lt;String&gt; getInitParameterNames() {\r\n        if (webInitParamValue != null) {\r\n            final Set&lt;String&gt; initParameterNames = new HashSet&lt;&gt;(Collections.list(super.getInitParameterNames()));\r\n            initParameterNames.add(WEB_INIT_PARAM_NAME);\r\n            return Collections.enumeration(initParameterNames);\r\n        } else {\r\n            return super.getInitParameterNames();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String getInitParameter(String name) {\r\n        if (WEB_INIT_PARAM_NAME.compareTo(name) == 0 &amp;&amp; webInitParamValue != null) {\r\n            return &quot;&quot; + webInitParamValue;\r\n        } else {\r\n            return super.getInitParameter(name);\r\n        }\r\n    }\r\n    }\r\n\r\n","title":"Is it possible to get the values dynamically in @WebInitParam?","body":"<p>@WebInitParam's are used for the configuration of servlets implemented by third-party libraries. Usually, these libraries use methods getInitParameterNames() and getInitParameter() of abstract class GenericServlet (but you should check in library code for it).</p>\n<p>For the dynamic setting of the @WebInitParam you can override those methods in your servlet implementation. Below is an example of how to do it.</p>\n<pre><code>@WebServlet(urlPatterns = &quot;/abc/*&quot;)\npublic class DynamicInitParamServlet extends SomeCustomLibraryHttpServlet {\nprivate static final String WEB_INIT_PARAM_NAME = &quot;some.param.name&quot;;\nprivate Integer webInitParamValue = null;\n\n@Override\npublic void init(ServletConfig config) throws ServletException {\n    // calculate init param value dynamically,\n    // TODO: implement your own code\n    webInitParamValue = 2 * 3;\n\n    // call custom library servlet init after init parameter value is set\n    super.init(config);\n}\n\n@Override\npublic Enumeration&lt;String&gt; getInitParameterNames() {\n    if (webInitParamValue != null) {\n        final Set&lt;String&gt; initParameterNames = new HashSet&lt;&gt;(Collections.list(super.getInitParameterNames()));\n        initParameterNames.add(WEB_INIT_PARAM_NAME);\n        return Collections.enumeration(initParameterNames);\n    } else {\n        return super.getInitParameterNames();\n    }\n}\n\n@Override\npublic String getInitParameter(String name) {\n    if (WEB_INIT_PARAM_NAME.compareTo(name) == 0 &amp;&amp; webInitParamValue != null) {\n        return &quot;&quot; + webInitParamValue;\n    } else {\n        return super.getInitParameter(name);\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":12881336,"reputation":61,"user_id":9316276,"display_name":"SKH"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666169714,"creation_date":1542018866,"question_id":53260316,"body_markdown":"I have a JSP page wherein user has to enter some custom URL. I want to pass that custom url in @WebInitParam in my servlet \r\n\r\n    @WebServlet(name = &quot;oauthCustomURL&quot;, initParams = {\r\n    \t @WebInitParam(name = &quot;clientId&quot;, value = &quot;123&quot;),\r\n    \t @WebInitParam(name = &quot;key&quot;, value = &quot;***&quot;),\r\n    \t @WebInitParam(name = &quot;environment&quot;, value = &quot;customUrl&quot;),\r\n    }) //in value I want to pass the value entered by user\r\n\r\n","title":"Is it possible to get the values dynamically in @WebInitParam?","body":"<p>I have a JSP page wherein user has to enter some custom URL. I want to pass that custom url in @WebInitParam in my servlet </p>\n\n<pre><code>@WebServlet(name = \"oauthCustomURL\", initParams = {\n     @WebInitParam(name = \"clientId\", value = \"123\"),\n     @WebInitParam(name = \"key\", value = \"***\"),\n     @WebInitParam(name = \"environment\", value = \"customUrl\"),\n}) //in value I want to pass the value entered by user\n</code></pre>\n"},{"tags":["java","html","selenium-webdriver","xpath","iframe"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1666169466,"post_id":74122422,"comment_id":130869579,"body_markdown":"Check if a namespace is in use.","body":"Check if a namespace is in use."},{"owner":{"account_id":26668811,"reputation":1,"user_id":20280515,"display_name":"sekhar"},"score":0,"creation_date":1666169676,"post_id":74122422,"comment_id":130869673,"body_markdown":"where do i check this namespace and how can i use it","body":"where do i check this namespace and how can i use it"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1666171842,"post_id":74122422,"comment_id":130870485,"body_markdown":"This question is missing a minimal debugging details","body":"This question is missing a minimal debugging details"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1666181359,"post_id":74122422,"comment_id":130873941,"body_markdown":"@sekhar Does your input document (besides the snippet you showed to us) contain attributes like `xmlns`? If yes, you are using namespaces and want to check https://stackoverflow.com/search?q=java+xpath+namespace","body":"@sekhar Does your input document (besides the snippet you showed to us) contain attributes like <code>xmlns</code>? If yes, you are using namespaces and want to check <a href=\"https://stackoverflow.com/search?q=java+xpath+namespace\">stackoverflow.com/search?q=java+xpath+namespace</a>"}],"owner":{"account_id":26668811,"reputation":1,"user_id":20280515,"display_name":"sekhar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666169235,"creation_date":1666169235,"question_id":74122422,"body_markdown":"Given the xpath `//iframe[@id=&#39;gst_main&#39;]`\r\n\r\nMy DOM Element is `&lt;iframe title=&quot;Main Content&quot; id=&quot;gst_main&quot; name=&quot;gst_main&quot; src=&quot;incident_list.do?sysparm_query= slot=&quot;apple-ui&quot; style=&quot;visibility: visible;&quot;&gt;&lt;/iframe&gt;`\r\n\r\nThe problem is the xpath is not found in DOM by using chrome dev tools\r\n\r\n","title":"iframe is not found via xpath even iframe is exists","body":"<p>Given the xpath <code>//iframe[@id='gst_main']</code></p>\n<p>My DOM Element is <code>&lt;iframe title=&quot;Main Content&quot; id=&quot;gst_main&quot; name=&quot;gst_main&quot; src=&quot;incident_list.do?sysparm_query= slot=&quot;apple-ui&quot; style=&quot;visibility: visible;&quot;&gt;&lt;/iframe&gt;</code></p>\n<p>The problem is the xpath is not found in DOM by using chrome dev tools</p>\n"},{"tags":["java","quarkus","metrics"],"answers":[{"tags":[],"owner":{"account_id":5621681,"reputation":229,"user_id":6935180,"display_name":"Bruno Baptista"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666169134,"creation_date":1666169134,"answer_id":74122388,"question_id":74121676,"body_markdown":"Currently the recommended way to produce metrics on Quarkus is with Micrometer. Quarkus is moving away from MicroProfile Metrics and it&#39;s implementation with SmallRye Metrics\r\n\r\nWith Micrometer on Quarkus you can output the results in the standard OTLP (OpenTelemetry) format with the [OTLP exporter](https://github.com/quarkiverse/quarkus-micrometer-registry/tree/main/micrometer-registry-otlp).\r\nPlease also check the Guide: https://quarkus.io/guides/micrometer\r\n","title":"OpenTelemetry Metrics for Quarkus","body":"<p>Currently the recommended way to produce metrics on Quarkus is with Micrometer. Quarkus is moving away from MicroProfile Metrics and it's implementation with SmallRye Metrics</p>\n<p>With Micrometer on Quarkus you can output the results in the standard OTLP (OpenTelemetry) format with the <a href=\"https://github.com/quarkiverse/quarkus-micrometer-registry/tree/main/micrometer-registry-otlp\" rel=\"nofollow noreferrer\">OTLP exporter</a>.\nPlease also check the Guide: <a href=\"https://quarkus.io/guides/micrometer\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/micrometer</a></p>\n"}],"owner":{"account_id":887243,"reputation":859,"user_id":926383,"display_name":"A B Vijay Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":827,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666169134,"creation_date":1666165792,"question_id":74121676,"body_markdown":"I have used OTEL for quakrus for tracing. But is there also metrics? like can I stream SmallRyeMetrics to OTEL?","title":"OpenTelemetry Metrics for Quarkus","body":"<p>I have used OTEL for quakrus for tracing. But is there also metrics? like can I stream SmallRyeMetrics to OTEL?</p>\n"},{"tags":["java","eclipse","applet"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1666168868,"post_id":74063856,"comment_id":130869371,"body_markdown":"Applets are a discontinued technology, originally intended to run in browsers, but there no longer supported. So you might reconsider swing or javafx.","body":"Applets are a discontinued technology, originally intended to run in browsers, but there no longer supported. So you might reconsider swing or javafx."}],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665717770,"creation_date":1665717770,"answer_id":74063980,"question_id":74063856,"body_markdown":"Java 17 removed supports for Applets, and most browsers had long since removed their support for them. The only way they can work is with a version of Java before Java 9. I don&#39;t want to be mean, but you solve this problem &quot;professionally&quot; by moving to a different technology.\r\n\r\nhttps://www.oracle.com/technetwork/java/javase/migratingfromapplets-2872444.pdf","title":"How can to java applet program in eclipse?","body":"<p>Java 17 removed supports for Applets, and most browsers had long since removed their support for them. The only way they can work is with a version of Java before Java 9. I don't want to be mean, but you solve this problem &quot;professionally&quot; by moving to a different technology.</p>\n<p><a href=\"https://www.oracle.com/technetwork/java/javase/migratingfromapplets-2872444.pdf\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/java/javase/migratingfromapplets-2872444.pdf</a></p>\n"},{"tags":[],"owner":{"account_id":84493,"reputation":1255,"user_id":236152,"display_name":"Anthony"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666168647,"creation_date":1666168647,"answer_id":74122288,"question_id":74063856,"body_markdown":"You can install Eclipse *Applet Runner* plug-in and run your applet in it: https://marketplace.eclipse.org/content/applet-runner-eclipse\r\n\r\nNote that you can also download it from the application website https://www.japplis.com/applet-runner/","title":"How can to java applet program in eclipse?","body":"<p>You can install Eclipse <em>Applet Runner</em> plug-in and run your applet in it: <a href=\"https://marketplace.eclipse.org/content/applet-runner-eclipse\" rel=\"nofollow noreferrer\">https://marketplace.eclipse.org/content/applet-runner-eclipse</a></p>\n<p>Note that you can also download it from the application website <a href=\"https://www.japplis.com/applet-runner/\" rel=\"nofollow noreferrer\">https://www.japplis.com/applet-runner/</a></p>\n"}],"owner":{"account_id":26612374,"reputation":11,"user_id":20232378,"display_name":"sanalsabu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":841,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666168647,"creation_date":1665716334,"question_id":74063856,"body_markdown":"Now I am using the JDK 18 version. When I tried to execute the applet program I am getting an error telling could not find or load the main class sun.applet.appletviewer.\r\n\r\nI saw many videos on YouTube to solve this problem, they are asking me to uninstall the current version of the JDK file and install JDK 8 which allows running an applet program in eclipse, is there any other way to solve this problem professionally? ","title":"How can to java applet program in eclipse?","body":"<p>Now I am using the JDK 18 version. When I tried to execute the applet program I am getting an error telling could not find or load the main class sun.applet.appletviewer.</p>\n<p>I saw many videos on YouTube to solve this problem, they are asking me to uninstall the current version of the JDK file and install JDK 8 which allows running an applet program in eclipse, is there any other way to solve this problem professionally?</p>\n"},{"tags":["java","broadcastreceiver","android-usb"],"answers":[{"tags":[],"owner":{"account_id":19731402,"reputation":144,"user_id":14446786,"display_name":"scr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666168615,"creation_date":1666167925,"answer_id":74122129,"question_id":72097649,"body_markdown":"You need to register the broadcast receiver and call the requestPermission() method to display a dialog that asks users for permission to connect to the device,\r\nplease refer the [official doc][1]  and search for keyword &quot;requestPermission()&quot;\r\n\r\n    \r\n    permissionIntent = PendingIntent.getBroadcast(this, 0, Intent(ACTION_USB_PERMISSION), PendingIntent.FLAG_MUTABLE)\r\n    lateinit var device: UsbDevice\r\n            ...\r\n    usbManager.requestPermission(device, permissionIntent)\r\n\r\n  [1]: https://developer.android.com/guide/topics/connectivity/usb/host#kotlin","title":"Issue with getting USB device permission from BroadcastReceiver?","body":"<p>You need to register the broadcast receiver and call the requestPermission() method to display a dialog that asks users for permission to connect to the device,\nplease refer the <a href=\"https://developer.android.com/guide/topics/connectivity/usb/host#kotlin\" rel=\"nofollow noreferrer\">official doc</a>  and search for keyword &quot;requestPermission()&quot;</p>\n<pre><code>permissionIntent = PendingIntent.getBroadcast(this, 0, Intent(ACTION_USB_PERMISSION), PendingIntent.FLAG_MUTABLE)\nlateinit var device: UsbDevice\n        ...\nusbManager.requestPermission(device, permissionIntent)\n</code></pre>\n"}],"owner":{"account_id":20591283,"reputation":135,"user_id":15114844,"display_name":"yamut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666168615,"creation_date":1651571589,"question_id":72097649,"body_markdown":"I am using below code to get usb access permission from user when its detected, but it never get detected in android 11. Any help would be highly appreciated    \r\n\r\n\r\n \r\n\r\n    public final String ACTION_USB_PERMISSION = &quot;com.domain.ftd.USB_PERMISSION&quot;;\r\n\r\n    private final BroadcastReceiver broadcastReceiver = new BroadcastReceiver() { \r\n            @Override\r\n            public void onReceive(Context context, Intent intent) {\r\n    \r\n    \r\n                if (intent.getAction().equals(ACTION_USB_PERMISSION)) {\r\n                    boolean granted = intent.getExtras().getBoolean(UsbManager.EXTRA_PERMISSION_GRANTED);\r\n                    Log.e(&quot;usb started&quot;,&quot;really&quot;);\r\n                    if (granted) {\r\n                         //DO SOMETHING \r\n                    }\r\n             }\r\n    \r\n         @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n               super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_main);\r\n                 usbManager = (UsbManager) getSystemService(this.USB_SERVICE);\r\n                IntentFilter filter = new IntentFilter();\r\n                filter.addAction(ACTION_USB_PERMISSION);\r\n                filter.addAction(UsbManager.ACTION_USB_DEVICE_ATTACHED);\r\n                filter.addAction(UsbManager.ACTION_USB_DEVICE_DETACHED);\r\n                registerReceiver(broadcastReceiver, filter);\r\n        \r\n        \r\n        \r\n        \r\n            }\r\n                            \r\n    \r\n         \r\n        ","title":"Issue with getting USB device permission from BroadcastReceiver?","body":"<p>I am using below code to get usb access permission from user when its detected, but it never get detected in android 11. Any help would be highly appreciated</p>\n<pre><code>public final String ACTION_USB_PERMISSION = &quot;com.domain.ftd.USB_PERMISSION&quot;;\n\nprivate final BroadcastReceiver broadcastReceiver = new BroadcastReceiver() { \n        @Override\n        public void onReceive(Context context, Intent intent) {\n\n\n            if (intent.getAction().equals(ACTION_USB_PERMISSION)) {\n                boolean granted = intent.getExtras().getBoolean(UsbManager.EXTRA_PERMISSION_GRANTED);\n                Log.e(&quot;usb started&quot;,&quot;really&quot;);\n                if (granted) {\n                     //DO SOMETHING \n                }\n         }\n\n     @Override\n        protected void onCreate(Bundle savedInstanceState) {\n           super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n             usbManager = (UsbManager) getSystemService(this.USB_SERVICE);\n            IntentFilter filter = new IntentFilter();\n            filter.addAction(ACTION_USB_PERMISSION);\n            filter.addAction(UsbManager.ACTION_USB_DEVICE_ATTACHED);\n            filter.addAction(UsbManager.ACTION_USB_DEVICE_DETACHED);\n            registerReceiver(broadcastReceiver, filter);\n    \n    \n    \n    \n        }\n                        \n\n     \n    \n</code></pre>\n"},{"tags":["java","elasticsearch","kibana","elasticsearch-painless"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1657699205,"post_id":72962658,"comment_id":128869824,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1666169426,"post_id":72962658,"comment_id":130869571,"body_markdown":"`int array.indexOf(String)` maybe?","body":"<code>int array.indexOf(String)</code> maybe?"}],"owner":{"account_id":25797021,"reputation":1,"user_id":19540023,"display_name":"lhy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666168119,"creation_date":1657698475,"question_id":72962658,"body_markdown":"As shown in the figure, the indexOf of the longer id is valid but the indexOf of the shorter id is all -1.\r\n[my search result][1] I would like to know how to make the indexOf for these short ids also take effect!\r\n\r\n  [1]: https://i.stack.imgur.com/JtU6h.png","title":"Problem: indexOf not taking effect when using script syntax in elasticsearch","body":"<p>As shown in the figure, the indexOf of the longer id is valid but the indexOf of the shorter id is all -1.\n<a href=\"https://i.stack.imgur.com/JtU6h.png\" rel=\"nofollow noreferrer\">my search result</a> I would like to know how to make the indexOf for these short ids also take effect!</p>\n"},{"tags":["java","websocket","ocpp"],"answers":[{"tags":[],"owner":{"account_id":3488925,"reputation":238,"user_id":2919078,"accept_rate":71,"display_name":"Gautam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666167850,"creation_date":1666167850,"answer_id":74122113,"question_id":73855216,"body_markdown":"You need to do plenty of things to send command from your side to station.\r\n\r\n 1. When station connect to your server, you need to keep that session\r\n    in a Map with chargepointId probably.\r\n 2. If you would like to send\r\n    command then use that session then use websocket instance to send\r\n    command to station. \r\n 3. To initiate Step-2, you need to have service or\r\n    API to initiate it.\r\n\r\nShould you need information, follow this URL: https://github.com/ChargeTimeEU/Java-OCA-OCPP","title":"How can enter in a open session using Spring Websocket Handler?","body":"<p>You need to do plenty of things to send command from your side to station.</p>\n<ol>\n<li>When station connect to your server, you need to keep that session\nin a Map with chargepointId probably.</li>\n<li>If you would like to send\ncommand then use that session then use websocket instance to send\ncommand to station.</li>\n<li>To initiate Step-2, you need to have service or\nAPI to initiate it.</li>\n</ol>\n<p>Should you need information, follow this URL: <a href=\"https://github.com/ChargeTimeEU/Java-OCA-OCPP\" rel=\"nofollow noreferrer\">https://github.com/ChargeTimeEU/Java-OCA-OCPP</a></p>\n"}],"owner":{"account_id":25465021,"reputation":19,"user_id":19264203,"display_name":"Lucas silva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666167850,"creation_date":1664200429,"question_id":73855216,"body_markdown":"I&#39;m testing a Ocpp Server comunication using Spring Websocket. The handshake works well, I can interact with the client when a station send a message (BootNotification,StatusNotification...). But sometimes I need to send things with the server (request remote transaction, get informations, etc), without the station send first.\r\nHow can I access a open session (example: ws:localhost:8080/central/station01) with another service?\r\n\r\nMy Wesocket config:\r\n\r\n    @Configuration\r\n    @EnableWebSocket\r\n    public class WebSocketConfig implements WebSocketConfigurer {\r\n    \t@Bean\r\n        public WebSocketHandler myHandler() {\r\n            return new MyHandler();\r\n        }\r\n    \t\r\n        @Override\r\n        public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\r\n            registry.addHandler(myHandler(), &quot;/central/**&quot;)\r\n            .addInterceptors(new HttpSessionHandshakeInterceptor());\r\n            \r\n        }   \r\n    }\r\n\r\nMy WebSocket Handler:\r\n\r\n    public class MyHandler extends TextWebSocketHandler implements SubProtocolCapable {\r\n    \t\r\n    \t\r\n    \r\n    \tprivate final String[] subProtocols = {&quot;ocpp1.6&quot;, &quot;ocpp2.0&quot;};\r\n    \t\r\n    \t@Autowired\r\n    \tprivate ClientRepository clientRepo;\r\n    \t\r\n    \t@Override\r\n    \tpublic void afterConnectionClosed(WebSocketSession session, CloseStatus status) {\r\n    \t\tGlobal.id=&quot;&quot;;\r\n    \t\tGlobal.session=&quot;&quot;;\r\n    \t\tGlobal.client=&quot;Close&quot;;\r\n    \t\tSystem.out.print(&quot;\\n Connection Close \\n&quot;+&quot;Session: &quot;+session.getId()+&quot;\\n&quot;);\r\n    \t\tsession.getHandshakeHeaders();\r\n    \t\tSystem.out.print(&quot;session enabled&quot;+session);\r\n    \t\t\r\n    \t}\r\n    \t@Override\r\n    \tpublic void afterConnectionEstablished(WebSocketSession session)\r\n                throws Exception{\r\n    \t\tGlobal.id=session.getId();\r\n    \t\tGlobal.session=session.getUri().toString();\r\n    \t\tGlobal.client=&quot;ok&quot;;\r\n    \t\t\r\n    \t\t\r\n    \t\tClient aa= new Client(null,session.getId(),session.getUri().toString(),&quot;ok&quot;,&quot;&quot;);\r\n    \t\tSystem.out.print(&quot;\\n Connected \\n&quot;+&quot;Session: &quot;+session.getId()+&quot;\\n&quot;);\r\n    \t\t\r\n    \t\tSystem.out.print(session.getUri());\r\n    \t\t\r\n    \t}\r\n    \r\n        @Override\r\n        public void handleMessage(WebSocketSession session,WebSocketMessage&lt;?&gt; message)  throws Exception {\r\n        \t//WebSocketHttpHeaders expectedHeaders = new WebSocketHttpHeaders();\r\n        \tSystem.out.print(&quot;\\n &quot;+message.getPayload());\r\n        \tInteger id=0;\r\n        \tGlobal.ocpp=Global.ocpp+&quot; \\n &quot;+message.getPayload().toString();\r\n        \t\r\n        \tZonedDateTime data = ZonedDateTime.now();\r\n        \tBootNotificationResponse stat=new BootNotificationResponse(&quot;Accepted&quot;,data.toString().substring(0,data.toString().length()-&quot;[America/Sao_Paulo]&quot;.length()),300);\r\n        \tJSONArray mm=new JSONArray((message.getPayload()).toString());\r\n        \tid=(int )mm.get(0)+1;\r\n    //    \tsession.sendMessage(new TextMessage(message.getPayload().toString()));\r\n    //    \tSystem.out.print(&quot;\\n Remote: &quot;+session.getRemoteAddress()+&quot;\\n&quot;);\r\n        \tJSONObject ss=new JSONObject(stat);\r\n        \tSystem.out.print(session.getHandshakeHeaders());\r\n        \tJSONArray ja = new JSONArray();\r\n        \t\r\n        \tja.put(3);\r\n        \tja.put(mm.get(1));\r\n        \t//\r\n        \tja.put(ss);\r\n    //    \tSystem.out.print(&quot;\\n&quot;+message.getPayload()+&quot;\\n&quot;);\r\n    //    \tSystem.out.print(mm.get(2)+&quot;\\n&quot;);\r\n        \tClient dados=new Client(null,Global.id,Global.session,Global.client,message.getPayload().toString());\r\n        \tclientRepo.save(dados);\r\n        \tif(mm.get(2).equals(&quot;Authorize&quot;)) {\r\n        \t\t\r\n        \t\tJSONArray nob = new JSONArray();\r\n        \t\tJSONObject iii=new JSONObject(new Auth(new AuthorizeResponse(&quot;1233434&quot;,&quot;ddfd&quot;,&quot;Accepted&quot;)));\r\n        \t\tnob.put(3);\r\n        \t\tnob.put(mm.get(1));\r\n        \t\tnob.put(iii);\r\n        \t\tSystem.out.print(nob);\r\n        \t\t//[2,&quot;4&quot;,&quot;Authorize&quot;,{&quot;idToken&quot;:{&quot;idToken&quot;:&quot;111111&quot;,&quot;type&quot;:&quot;ISO14443&quot;},&quot;evseId&quot;:[1]}]\r\n        \t\tsession.sendMessage(new TextMessage(nob.toString()));\r\n        \t}\r\n        \tif(mm.get(2).equals(&quot;BootNotification&quot;)) {\r\n        \t\tSystem.out.print(&quot;Boot \\n&quot;);\r\n        \t\t\r\n        \t\tsession.sendMessage(new TextMessage(ja.toString()));\r\n        \t}\r\n        \t\r\n        \t\r\n        }\r\n        \r\n        \r\n        @Override\r\n        public List&lt;String&gt; getSubProtocols() {\r\n        \tSystem.out.print(Arrays.asList(subProtocols));\r\n            return Arrays.asList(subProtocols);\r\n        }\r\n        \r\n        \r\n    \r\n    }\r\n\r\n","title":"How can enter in a open session using Spring Websocket Handler?","body":"<p>I'm testing a Ocpp Server comunication using Spring Websocket. The handshake works well, I can interact with the client when a station send a message (BootNotification,StatusNotification...). But sometimes I need to send things with the server (request remote transaction, get informations, etc), without the station send first.\nHow can I access a open session (example: ws:localhost:8080/central/station01) with another service?</p>\n<p>My Wesocket config:</p>\n<pre><code>@Configuration\n@EnableWebSocket\npublic class WebSocketConfig implements WebSocketConfigurer {\n    @Bean\n    public WebSocketHandler myHandler() {\n        return new MyHandler();\n    }\n    \n    @Override\n    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\n        registry.addHandler(myHandler(), &quot;/central/**&quot;)\n        .addInterceptors(new HttpSessionHandshakeInterceptor());\n        \n    }   \n}\n</code></pre>\n<p>My WebSocket Handler:</p>\n<pre><code>public class MyHandler extends TextWebSocketHandler implements SubProtocolCapable {\n    \n    \n\n    private final String[] subProtocols = {&quot;ocpp1.6&quot;, &quot;ocpp2.0&quot;};\n    \n    @Autowired\n    private ClientRepository clientRepo;\n    \n    @Override\n    public void afterConnectionClosed(WebSocketSession session, CloseStatus status) {\n        Global.id=&quot;&quot;;\n        Global.session=&quot;&quot;;\n        Global.client=&quot;Close&quot;;\n        System.out.print(&quot;\\n Connection Close \\n&quot;+&quot;Session: &quot;+session.getId()+&quot;\\n&quot;);\n        session.getHandshakeHeaders();\n        System.out.print(&quot;session enabled&quot;+session);\n        \n    }\n    @Override\n    public void afterConnectionEstablished(WebSocketSession session)\n            throws Exception{\n        Global.id=session.getId();\n        Global.session=session.getUri().toString();\n        Global.client=&quot;ok&quot;;\n        \n        \n        Client aa= new Client(null,session.getId(),session.getUri().toString(),&quot;ok&quot;,&quot;&quot;);\n        System.out.print(&quot;\\n Connected \\n&quot;+&quot;Session: &quot;+session.getId()+&quot;\\n&quot;);\n        \n        System.out.print(session.getUri());\n        \n    }\n\n    @Override\n    public void handleMessage(WebSocketSession session,WebSocketMessage&lt;?&gt; message)  throws Exception {\n        //WebSocketHttpHeaders expectedHeaders = new WebSocketHttpHeaders();\n        System.out.print(&quot;\\n &quot;+message.getPayload());\n        Integer id=0;\n        Global.ocpp=Global.ocpp+&quot; \\n &quot;+message.getPayload().toString();\n        \n        ZonedDateTime data = ZonedDateTime.now();\n        BootNotificationResponse stat=new BootNotificationResponse(&quot;Accepted&quot;,data.toString().substring(0,data.toString().length()-&quot;[America/Sao_Paulo]&quot;.length()),300);\n        JSONArray mm=new JSONArray((message.getPayload()).toString());\n        id=(int )mm.get(0)+1;\n//      session.sendMessage(new TextMessage(message.getPayload().toString()));\n//      System.out.print(&quot;\\n Remote: &quot;+session.getRemoteAddress()+&quot;\\n&quot;);\n        JSONObject ss=new JSONObject(stat);\n        System.out.print(session.getHandshakeHeaders());\n        JSONArray ja = new JSONArray();\n        \n        ja.put(3);\n        ja.put(mm.get(1));\n        //\n        ja.put(ss);\n//      System.out.print(&quot;\\n&quot;+message.getPayload()+&quot;\\n&quot;);\n//      System.out.print(mm.get(2)+&quot;\\n&quot;);\n        Client dados=new Client(null,Global.id,Global.session,Global.client,message.getPayload().toString());\n        clientRepo.save(dados);\n        if(mm.get(2).equals(&quot;Authorize&quot;)) {\n            \n            JSONArray nob = new JSONArray();\n            JSONObject iii=new JSONObject(new Auth(new AuthorizeResponse(&quot;1233434&quot;,&quot;ddfd&quot;,&quot;Accepted&quot;)));\n            nob.put(3);\n            nob.put(mm.get(1));\n            nob.put(iii);\n            System.out.print(nob);\n            //[2,&quot;4&quot;,&quot;Authorize&quot;,{&quot;idToken&quot;:{&quot;idToken&quot;:&quot;111111&quot;,&quot;type&quot;:&quot;ISO14443&quot;},&quot;evseId&quot;:[1]}]\n            session.sendMessage(new TextMessage(nob.toString()));\n        }\n        if(mm.get(2).equals(&quot;BootNotification&quot;)) {\n            System.out.print(&quot;Boot \\n&quot;);\n            \n            session.sendMessage(new TextMessage(ja.toString()));\n        }\n        \n        \n    }\n    \n    \n    @Override\n    public List&lt;String&gt; getSubProtocols() {\n        System.out.print(Arrays.asList(subProtocols));\n        return Arrays.asList(subProtocols);\n    }\n    \n    \n\n}\n</code></pre>\n"},{"tags":["java","performance","optimization","data-structures","hashmap"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1666165267,"post_id":74121299,"comment_id":130868129,"body_markdown":"Btw, `tokenLookupMap.containsKey(token) ? tokenLookupMap.get(token)` could be optimized because you&#39;re doing the lookup twice. Instead use `Set&lt;Integer&gt; docs = tokenLookupMap.get(token); if( docs == null ) docs = new HashSet();`.","body":"Btw, <code>tokenLookupMap.containsKey(token) ? tokenLookupMap.get(token)</code> could be optimized because you&#39;re doing the lookup twice. Instead use <code>Set&lt;Integer&gt; docs = tokenLookupMap.get(token); if( docs == null ) docs = new HashSet();</code>."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1666249995,"post_id":74121299,"comment_id":130892259,"body_markdown":"Thinking some more about your problem it seems like you basically need 2 indices into your data which made me think a DB might be best. Would it be an option to use a specialized DB or even search engine like Lucene? If you need to do it in memory, maybe this can help: https://github.com/npgall/cqengine - it seems to provide a couple of indexing options. If it doesn&#39;t provide better performance (I&#39;d assume it requires more memory) then it might at least be a tested and stable implementation to help keep everything in sync.","body":"Thinking some more about your problem it seems like you basically need 2 indices into your data which made me think a DB might be best. Would it be an option to use a specialized DB or even search engine like Lucene? If you need to do it in memory, maybe this can help: <a href=\"https://github.com/npgall/cqengine\" rel=\"nofollow noreferrer\">github.com/npgall/cqengine</a> - it seems to provide a couple of indexing options. If it doesn&#39;t provide better performance (I&#39;d assume it requires more memory) then it might at least be a tested and stable implementation to help keep everything in sync."}],"answers":[{"comments":[{"owner":{"account_id":14623340,"reputation":101,"user_id":10561318,"display_name":"Blasterdude8"},"score":0,"creation_date":1666190980,"post_id":74121522,"comment_id":130878049,"body_markdown":"Hey, thanks a ton for posting your thoughts! I’m trying to wrap my head around this and I’m having trouble seeing some of the improvements. Can you elaborate on how this optimizes space / time / readability? The fact that the Document class holds a collection of Token references and vice versa (/and theoretically allows for infinite recursive references) is really throwing me for a loop.","body":"Hey, thanks a ton for posting your thoughts! I’m trying to wrap my head around this and I’m having trouble seeing some of the improvements. Can you elaborate on how this optimizes space / time / readability? The fact that the Document class holds a collection of Token references and vice versa (/and theoretically allows for infinite recursive references) is really throwing me for a loop."},{"owner":{"account_id":14623340,"reputation":101,"user_id":10561318,"display_name":"Blasterdude8"},"score":0,"creation_date":1666191168,"post_id":74121522,"comment_id":130878151,"body_markdown":"As for the weakHashMap, I think I may have already addressed relevant concerns by removing entires from ‘ tokenLookupMap’ (please see the example in my question) that point to empty lists. To be clear tokenLookupMap returning stale data is unacceptable. Not sure if that’s possible in your example but I definitely need to avoid that.","body":"As for the weakHashMap, I think I may have already addressed relevant concerns by removing entires from ‘ tokenLookupMap’ (please see the example in my question) that point to empty lists. To be clear tokenLookupMap returning stale data is unacceptable. Not sure if that’s possible in your example but I definitely need to avoid that."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1666249631,"post_id":74121522,"comment_id":130892137,"body_markdown":"@Blasterdude8 thinking about it some more you&#39;re right, this doesn&#39;t add too much value. The thinking was that maintaining the bidirectional n:m relationship between documents and tokens could best be encapsulated there with the maps only being indices to find the documents or tokens themselves. But you&#39;re right, this probably doesn&#39;t have much advantage if any.","body":"@Blasterdude8 thinking about it some more you&#39;re right, this doesn&#39;t add too much value. The thinking was that maintaining the bidirectional n:m relationship between documents and tokens could best be encapsulated there with the maps only being indices to find the documents or tokens themselves. But you&#39;re right, this probably doesn&#39;t have much advantage if any."}],"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666167534,"creation_date":1666165058,"answer_id":74121522,"question_id":74121299,"body_markdown":"One thing that comes to my mind would be to maintain the Document-Token relation in separate classes and maintain 2 maps only for lookup:\r\n\r\n    class Document {\r\n      Integer docId;\r\n\r\n      //using arrays saves some space and tokens don&#39;t seem to change that often\r\n      Token[] tokens;\r\n    }\r\n\r\n    class Token {\r\n      String token;\r\n      Set&lt;Document&gt; documents;\r\n    }\r\n \r\n    Map&lt;Integer, Document&gt; docs = new HashMap&lt;&gt;();\r\n    Map&lt;String, Token&gt; tokens = new WeakHashMap&lt;&gt;();\r\n\r\nWhen inserting a new document you basically clear the set of tokens and rebuild it:\r\n\r\n    private void insertDocument(int docId, Set&lt;String&gt; tokens ) {\r\n      Document doc = docs.computeIfAbsent(docId, ...);\r\n      \r\n      //clear the tokens\r\n      for( Token old : doc.tokens ) {       \r\n        old.documents.remove(doc);\r\n      }\r\n      \r\n      //add the new tokens\r\n      Set&lt;Token&gt; newTokens = new HashSet&lt;&gt;();\r\n      for( String t: tokens ) {\r\n        Token newToken = tokens.computeIfAbsent(t, ...);\r\n        newToken.documents.add(doc);\r\n        newTokens.add(newToken);\r\n      }\r\n\r\n      doc.tokens = newTokens.toArray(new Token[0]);\r\n    }\r\n\r\nOf course this could be optimized to ignore tokens that aren&#39;t changed.\r\n\r\nNote the use of `WeakHashMap` for tokens: since tokens could be abandoned at some point they should not use up any more memory. `WeakHashMap` would allow the garbage collector to remove those that aren&#39;t reachably by anyone else, e.g. those that aren&#39;t listed in any document.\r\n\r\nOf course it could take some time until gc kicks in and in the meantime token lookup could return tokens that aren&#39;t used anymore. You&#39;d either need to filter those or remove the tokens from the token map manually if they don&#39;t have document references anymore.","title":"Optimal way to maintain and quickly look up which objects contain a specific token (string) without maintaining two hash maps?","body":"<p>One thing that comes to my mind would be to maintain the Document-Token relation in separate classes and maintain 2 maps only for lookup:</p>\n<pre><code>class Document {\n  Integer docId;\n\n  //using arrays saves some space and tokens don't seem to change that often\n  Token[] tokens;\n}\n\nclass Token {\n  String token;\n  Set&lt;Document&gt; documents;\n}\n\nMap&lt;Integer, Document&gt; docs = new HashMap&lt;&gt;();\nMap&lt;String, Token&gt; tokens = new WeakHashMap&lt;&gt;();\n</code></pre>\n<p>When inserting a new document you basically clear the set of tokens and rebuild it:</p>\n<pre><code>private void insertDocument(int docId, Set&lt;String&gt; tokens ) {\n  Document doc = docs.computeIfAbsent(docId, ...);\n  \n  //clear the tokens\n  for( Token old : doc.tokens ) {       \n    old.documents.remove(doc);\n  }\n  \n  //add the new tokens\n  Set&lt;Token&gt; newTokens = new HashSet&lt;&gt;();\n  for( String t: tokens ) {\n    Token newToken = tokens.computeIfAbsent(t, ...);\n    newToken.documents.add(doc);\n    newTokens.add(newToken);\n  }\n\n  doc.tokens = newTokens.toArray(new Token[0]);\n}\n</code></pre>\n<p>Of course this could be optimized to ignore tokens that aren't changed.</p>\n<p>Note the use of <code>WeakHashMap</code> for tokens: since tokens could be abandoned at some point they should not use up any more memory. <code>WeakHashMap</code> would allow the garbage collector to remove those that aren't reachably by anyone else, e.g. those that aren't listed in any document.</p>\n<p>Of course it could take some time until gc kicks in and in the meantime token lookup could return tokens that aren't used anymore. You'd either need to filter those or remove the tokens from the token map manually if they don't have document references anymore.</p>\n"}],"owner":{"account_id":14623340,"reputation":101,"user_id":10561318,"display_name":"Blasterdude8"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666167534,"creation_date":1666163882,"question_id":74121299,"body_markdown":"My system takes in a documentID and list of strings that represent tokens associated with the document. The primary metric I am trying to optimize for is returning a list of all the document ids that are associated with a given token. I am pretty confident I should start with something like `HashMap&lt;String, HashSet&lt;Integer&gt;&gt; tokenLookupMap` where the string is the token and the hash set is the set of documents IDs that contain that token. The tricky part is how to easily deal with documents being overwritten with new token lists (inserts completely overwrite the existing token lists with the new input).  For example if my input looks like:\r\n```\r\ninsertDocument(docId: 1, tokens: {token1, token2, token3} )\r\n// query on token1 returns docIDs:[1]\r\ninsertDocument(docId: 2, tokens: {token1, token2, token3} )\r\n// query on token1 returns docIDs:[1, 2]\r\ninsertDocument(docId: 1, tokens: {token4, token5, token6} )\r\n// query on token1 returns docIDs:[2]\r\n// query on token4 returns docIDs:[1]\r\n``` \r\n\r\nI need to be able to efficiently update all the values in `tokenLookupMap` to reflect any tokens that are no longer present in the overridden document. Currently I&#39;m maintaining a second hash map `HashMap&lt;Integer, HashSet&lt;String&gt;&gt; documentLookupMap;` to provide the &quot;opposite&quot; lookup perspective such that I can quickly look up what tokens are associated with a given document id and remove the old ones before an overwrite. This definitely allows me to optimize for lookups by token (insert time doesn&#39;t matter as much as queries) but it feels silly or even dangerous to have two structs that sort of represent the same thing and share a lot of overlapping space. Aside from the space increase and slight time increase on insert I technically run the risk of the structures getting out of sync. \r\n\r\nAre there more optimal ways I could go about this? I could always put the two hash maps in a separate class and lock it down with limited public methods but are there ways to change the structure and perhaps avoid maintaining two structures altogether? Here&#39;s the most relevant code:\r\n\r\n```\r\n    private HashMap&lt;Integer, HashSet&lt;String&gt;&gt; documentLookupMap;\r\n    private HashMap&lt;String, HashSet&lt;Integer&gt;&gt; tokenLookupMap;\r\n\r\n    private void insertDocument(int docId, HashSet&lt;String&gt; tokens ) {\r\n\r\n        if( documentLookupMap.containsKey(docId)) {\r\n            // if we&#39;ve aleady indexed a doc with the same id we need to clean up first\r\n            var oldTokens = documentLookupMap.get(docId);\r\n            for (String token : oldTokens) {\r\n                tokenLookupMap.get(token).remove(docId);\r\n                // not sure if this is beneficial big picture on large data sets / space constraints\r\n                if(tokenLookupMap.get(token).isEmpty()) {\r\n                    tokenLookupMap.remove(token);\r\n                }\r\n            }\r\n        }\r\n\r\n        documentLookupMap.put(docId, tokens);\r\n        for (String token : tokens) {\r\n            tokenLookupMap.computeIfAbsent(token,t-&gt;new HashSet&lt;Integer&gt;()).add(docId);\r\n        }\r\n    }\r\n\r\n    private Set&lt;Integer&gt; getDocsForToken(String token) {\r\n        return tokenLookupMap.containsKey(token) ? tokenLookupMap.get(token) : new HashSet&lt;Integer&gt;();\r\n    }\r\n\r\n\r\n```\r\n\r\nThis needs to scale efficiently to tens of thousands of documents / tokens\r\n\r\nThanks in advance for any insights!\r\n","title":"Optimal way to maintain and quickly look up which objects contain a specific token (string) without maintaining two hash maps?","body":"<p>My system takes in a documentID and list of strings that represent tokens associated with the document. The primary metric I am trying to optimize for is returning a list of all the document ids that are associated with a given token. I am pretty confident I should start with something like <code>HashMap&lt;String, HashSet&lt;Integer&gt;&gt; tokenLookupMap</code> where the string is the token and the hash set is the set of documents IDs that contain that token. The tricky part is how to easily deal with documents being overwritten with new token lists (inserts completely overwrite the existing token lists with the new input).  For example if my input looks like:</p>\n<pre><code>insertDocument(docId: 1, tokens: {token1, token2, token3} )\n// query on token1 returns docIDs:[1]\ninsertDocument(docId: 2, tokens: {token1, token2, token3} )\n// query on token1 returns docIDs:[1, 2]\ninsertDocument(docId: 1, tokens: {token4, token5, token6} )\n// query on token1 returns docIDs:[2]\n// query on token4 returns docIDs:[1]\n</code></pre>\n<p>I need to be able to efficiently update all the values in <code>tokenLookupMap</code> to reflect any tokens that are no longer present in the overridden document. Currently I'm maintaining a second hash map <code>HashMap&lt;Integer, HashSet&lt;String&gt;&gt; documentLookupMap;</code> to provide the &quot;opposite&quot; lookup perspective such that I can quickly look up what tokens are associated with a given document id and remove the old ones before an overwrite. This definitely allows me to optimize for lookups by token (insert time doesn't matter as much as queries) but it feels silly or even dangerous to have two structs that sort of represent the same thing and share a lot of overlapping space. Aside from the space increase and slight time increase on insert I technically run the risk of the structures getting out of sync.</p>\n<p>Are there more optimal ways I could go about this? I could always put the two hash maps in a separate class and lock it down with limited public methods but are there ways to change the structure and perhaps avoid maintaining two structures altogether? Here's the most relevant code:</p>\n<pre><code>    private HashMap&lt;Integer, HashSet&lt;String&gt;&gt; documentLookupMap;\n    private HashMap&lt;String, HashSet&lt;Integer&gt;&gt; tokenLookupMap;\n\n    private void insertDocument(int docId, HashSet&lt;String&gt; tokens ) {\n\n        if( documentLookupMap.containsKey(docId)) {\n            // if we've aleady indexed a doc with the same id we need to clean up first\n            var oldTokens = documentLookupMap.get(docId);\n            for (String token : oldTokens) {\n                tokenLookupMap.get(token).remove(docId);\n                // not sure if this is beneficial big picture on large data sets / space constraints\n                if(tokenLookupMap.get(token).isEmpty()) {\n                    tokenLookupMap.remove(token);\n                }\n            }\n        }\n\n        documentLookupMap.put(docId, tokens);\n        for (String token : tokens) {\n            tokenLookupMap.computeIfAbsent(token,t-&gt;new HashSet&lt;Integer&gt;()).add(docId);\n        }\n    }\n\n    private Set&lt;Integer&gt; getDocsForToken(String token) {\n        return tokenLookupMap.containsKey(token) ? tokenLookupMap.get(token) : new HashSet&lt;Integer&gt;();\n    }\n\n\n</code></pre>\n<p>This needs to scale efficiently to tens of thousands of documents / tokens</p>\n<p>Thanks in advance for any insights!</p>\n"},{"tags":["java","profiler"],"answers":[{"tags":[],"owner":{"account_id":15923,"reputation":28380,"user_id":34161,"accept_rate":83,"display_name":"Yoni Roit"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1229449108,"creation_date":1229357715,"answer_id":368873,"question_id":368831,"body_markdown":"JVMPI spec: http://java.sun.com/j2se/1.5.0/docs/guide/jvmpi/jvmpi.html\r\n\r\nI salute your courage and bravery\r\n\r\nEDIT: And as noted by user Boune, JVMTI: \r\nhttp://java.sun.com/developer/technicalArticles/Programming/jvmti/","title":"How to write a profiler?","body":"<p>JVMPI spec: <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/jvmpi/jvmpi.html\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.5.0/docs/guide/jvmpi/jvmpi.html</a></p>\n\n<p>I salute your courage and bravery</p>\n\n<p>EDIT: And as noted by user Boune, JVMTI: \n<a href=\"http://java.sun.com/developer/technicalArticles/Programming/jvmti/\" rel=\"nofollow noreferrer\">http://java.sun.com/developer/technicalArticles/Programming/jvmti/</a></p>\n"},{"tags":[],"owner":{"account_id":11315,"reputation":41450,"user_id":21755,"accept_rate":85,"display_name":"The Archetypal Paul"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1666167518,"creation_date":1229359521,"answer_id":368978,"question_id":368831,"body_markdown":"Encouraging lot, aren&#39;t we :)\r\n\r\nProfilers aren&#39;t too hard if you&#39;re just trying to get a reasonable idea of where the program&#39;s spending most of its time. If you&#39;re bothered about high accuracy and minimum disruption, things get difficult.\r\n\r\nSo if you just want the answers a profiler would give you, go for one someone else has written. If you&#39;re looking for the intellectual challenge, why not have a go at writing one?\r\n\r\nI&#39;ve written a couple, for run time environments that the years have rendered irrelevant. \r\n\r\nThere are two approaches\r\n\r\n  - adding something to each function or other significant point that logs the time and where it is.\r\n\r\n  - having a timer going off regularly and taking a peek where the program currently is. \r\n\r\nThe JVMPI version seems to be the first kind - the link provided by uzhin shows that it can report on quite a number of things (see section 1.3). What gets executed changes to do this, so the profiling can affect the performance (and if you&#39;re profiling what was otherwise a very lightweight but often called function, it can mislead).\r\n\r\nIf you can get a timer/interrupt telling you where the program counter was at the time of the interrupt, you can use the symbol table/debugging information to work out which function it was in at the time. This provides less information but can be less disruptive. A bit more information can be obtained from walking the call stack to identify callers etc. I&#39;ve no idea if these is even possible in Java...\r\n\r\nPaul.","title":"How to write a profiler?","body":"<p>Encouraging lot, aren't we :)</p>\n<p>Profilers aren't too hard if you're just trying to get a reasonable idea of where the program's spending most of its time. If you're bothered about high accuracy and minimum disruption, things get difficult.</p>\n<p>So if you just want the answers a profiler would give you, go for one someone else has written. If you're looking for the intellectual challenge, why not have a go at writing one?</p>\n<p>I've written a couple, for run time environments that the years have rendered irrelevant.</p>\n<p>There are two approaches</p>\n<ul>\n<li><p>adding something to each function or other significant point that logs the time and where it is.</p>\n</li>\n<li><p>having a timer going off regularly and taking a peek where the program currently is.</p>\n</li>\n</ul>\n<p>The JVMPI version seems to be the first kind - the link provided by uzhin shows that it can report on quite a number of things (see section 1.3). What gets executed changes to do this, so the profiling can affect the performance (and if you're profiling what was otherwise a very lightweight but often called function, it can mislead).</p>\n<p>If you can get a timer/interrupt telling you where the program counter was at the time of the interrupt, you can use the symbol table/debugging information to work out which function it was in at the time. This provides less information but can be less disruptive. A bit more information can be obtained from walking the call stack to identify callers etc. I've no idea if these is even possible in Java...</p>\n<p>Paul.</p>\n"},{"tags":[],"owner":{"account_id":19498,"reputation":1063,"user_id":45757,"display_name":"Boune"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1229386804,"creation_date":1229386804,"answer_id":370167,"question_id":368831,"body_markdown":"I would look at those open-source projects first:\r\n\r\n - Eclipse TPTP (http://www.eclipse.org/tptp/)\r\n - VisualVM (https://visualvm.dev.java.net/)\r\n\r\nThen I would look at JVMTI (not JVMPI)\r\n\r\n - http://java.sun.com/developer/technicalArticles/Programming/jvmti/","title":"How to write a profiler?","body":"<p>I would look at those open-source projects first:</p>\n\n<ul>\n<li>Eclipse TPTP (<a href=\"http://www.eclipse.org/tptp/\" rel=\"noreferrer\">http://www.eclipse.org/tptp/</a>)</li>\n<li>VisualVM (<a href=\"https://visualvm.dev.java.net/\" rel=\"noreferrer\">https://visualvm.dev.java.net/</a>)</li>\n</ul>\n\n<p>Then I would look at JVMTI (not JVMPI)</p>\n\n<ul>\n<li><a href=\"http://java.sun.com/developer/technicalArticles/Programming/jvmti/\" rel=\"noreferrer\">http://java.sun.com/developer/technicalArticles/Programming/jvmti/</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":34982,"reputation":45888,"user_id":1386054,"accept_rate":96,"display_name":"Adrian McCarthy"},"score":0,"creation_date":1271980218,"post_id":738647,"comment_id":2717182,"body_markdown":"This sounds like a great approach for finding the bottleneck function in a program. But I don&#39;t see it obviating the need for a traditional profiler when you&#39;re doing low-level tuning. You do need precise measurements to validate your changes. If `Foo` took 50% before my change and 40% after, have I made a significant improvement or is it sampling error? And sometimes you need to nail down the bottleneck to the level of an if-branch that&#39;s triggering far more often than you&#39;d expect. If it&#39;s inline code, a callstack won&#39;t give you that.","body":"This sounds like a great approach for finding the bottleneck function in a program. But I don&#39;t see it obviating the need for a traditional profiler when you&#39;re doing low-level tuning. You do need precise measurements to validate your changes. If <code>Foo</code> took 50% before my change and 40% after, have I made a significant improvement or is it sampling error? And sometimes you need to nail down the bottleneck to the level of an if-branch that&#39;s triggering far more often than you&#39;d expect. If it&#39;s inline code, a callstack won&#39;t give you that."},{"owner":{"account_id":12145,"reputation":40207,"user_id":23771,"accept_rate":60,"display_name":"Mike Dunlavey"},"score":0,"creation_date":1271986803,"post_id":738647,"comment_id":2717681,"body_markdown":"@Adrian McCarthy: (I won&#39;t address inlining, because you can always get down to machine code &amp; work back to source.) Regarding your 50-40% point, in this paradigm you don&#39;t look at functions and expect small changes like that. Rather you look at lines (or instructions, call or not) and see what % of time they account for and (crucially) divine *why* that time is being spent. ...","body":"@Adrian McCarthy: (I won&#39;t address inlining, because you can always get down to machine code &amp; work back to source.) Regarding your 50-40% point, in this paradigm you don&#39;t look at functions and expect small changes like that. Rather you look at lines (or instructions, call or not) and see what % of time they account for and (crucially) divine <i>why</i> that time is being spent. ..."},{"owner":{"account_id":12145,"reputation":40207,"user_id":23771,"accept_rate":60,"display_name":"Mike Dunlavey"},"score":0,"creation_date":1271987008,"post_id":738647,"comment_id":2717689,"body_markdown":"@Adrian McCarthy: ...  If it&#39;s not a good &quot;why&quot;, i.e. you can find a way not to spend it, then the % on that line doesn&#39;t just drop a little bit, it often disappears, and 1) the entire time decreases by that %, and 2) the distribution of what statements take time shifts. (There&#39;s no harm in measuring with a traditional profiler, but I&#39;ve never needed to, because the overall time drops by the percent that the line or instruction was responsible for.)","body":"@Adrian McCarthy: ...  If it&#39;s not a good &quot;why&quot;, i.e. you can find a way not to spend it, then the % on that line doesn&#39;t just drop a little bit, it often disappears, and 1) the entire time decreases by that %, and 2) the distribution of what statements take time shifts. (There&#39;s no harm in measuring with a traditional profiler, but I&#39;ve never needed to, because the overall time drops by the percent that the line or instruction was responsible for.)"},{"owner":{"account_id":12145,"reputation":40207,"user_id":23771,"accept_rate":60,"display_name":"Mike Dunlavey"},"score":0,"creation_date":1271987750,"post_id":738647,"comment_id":2717742,"body_markdown":"@Adrian McCarthy: Not to belabor, but maybe you can see how precision of measurement never has to enter the process, because if a line of code (or a whole function) is on the stack 50% and is optimized to 40%, then it&#39;s easy to see the change because that 10% comes directly off of the overall time, where a simple stopwatch can measure it, without any question of accuracy.","body":"@Adrian McCarthy: Not to belabor, but maybe you can see how precision of measurement never has to enter the process, because if a line of code (or a whole function) is on the stack 50% and is optimized to 40%, then it&#39;s easy to see the change because that 10% comes directly off of the overall time, where a simple stopwatch can measure it, without any question of accuracy."}],"tags":[],"owner":{"account_id":12145,"reputation":40207,"user_id":23771,"accept_rate":60,"display_name":"Mike Dunlavey"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1242388857,"creation_date":1239392173,"answer_id":738647,"question_id":368831,"body_markdown":"I wrote one once, mainly as an attempt to make &quot;deep sampling&quot; more user-friendly. When you do the method manually, [it is explained here][1]. It is based on sampling, but rather than take a large number of small samples, you take a small number of large samples.\r\n\r\nIt can tell you, for example, that instruction `I` (usually a function call) is costing you some percent X of total execution time, more or less, since it appears on the stack on X% of samples.\r\n\r\nThink about it, because **this is a key point**. The call stack exists as long as the program is running. If a particular call instruction `I` is on the stack X% of the time, then if that instruction could disappear, that X% of time would disappear. *This does not depend on how many times `I` is executed, or how long the function call takes. So timers and counters are missing the point.* And in a sense all instructions are call instructions, even if they only call microcode.\r\n\r\nThe sampler is based on the premise that it is better to know the address of instruction `I` with precision (*because that is what you are looking for*) than to know the number X% with precision. If you know that you could save roughly 30% of time by recoding something, do you really care that you might be off by 5%? You&#39;re still going to want to fix it. The amount of time it actually saves won&#39;t be made any less or greater by your knowing X precisely.\r\n\r\nSo it is possible to drive samples off of a timer, but frankly I found it just as useful to trigger an interrupt by the user pressing both shift keys as the same time. Since 20 samples is generally plenty, and this way you can be sure to take samples at a relevant time (i.e. not while waiting for user input) it was quite adequate. Another way would be to only do the timer-driven samples while the user holds down both shift keys (or something like that).\r\n\r\nIt did not concern me that the taking of samples might slow down the program, because the goal was not to measure speed, but to locate the most costly instructions. After fixing something, the overall speedup is easy to measure.\r\n\r\nThe main thing that the profiler provided was a UI so you could examine the results painlessly. What comes out of the sampling phase is a collection of call stack samples, where each sample is a list of addresses of instructions, where every instruction but the last is a call instruction. The UI was mainly what is called a &quot;butterfly view&quot;.\r\nIt has a current &quot;focus&quot;, which is a particular instruction. To the left is displayed the call instructions immediately above that instruction, as culled from the stack samples. If the focus instruction is a call instruction, then the instructions below it appear to the right, as culled from the samples. On the focus instruction is displayed a percent, which is the percent of stacks containing that instruction. Similarly for each instruction on the left or right, the percent is broken down by the frequency of each such instruction. Of course, the instruction was represented by file, line number, and the name of the function it was in. The user could easily explore the data by clicking any of the instructions to make it the new focus.\r\n\r\nA variation on this UI treated the butterfly as bipartite, consisting of alternating layers of function call instructions and the functions containing them. That can give a little more clarity of time spent in each function.\r\n\r\nMaybe it&#39;s not obvious, so it&#39;s worth mentioning some properties of this technique.\r\n\r\n- Recursion is not an issue, because if an instruction appears more than once on any given stack sample, that still counts as only one sample containing it. It still remains true that the estimated time that would be saved by its removal is the percent of stacks it is on.\r\n\r\n- Notice this is not the same as a call tree. It gives you the cost of an instruction no matter how many different branches of a call tree it is in.\r\n\r\n- Performance of the UI is not an issue, because the number of samples need not be very large. If a particular instruction I is the focus, it is quite simple to find how may samples contain it, and for each adjacent instruction, how many of the samples containing I also contain the adjacent instruction next to it.\r\n\r\n- As mentioned before, speed of sampling is not an issue, because we&#39;re not measuring performance, we&#39;re diagnosing. The sampling does not bias the results, because the sampling does not affect what the overall program does. An algorithm that takes N instructions to complete still takes N instructions even if it is halted any number of times.\r\n\r\n- I&#39;m often asked how to sample a program that completes in milliseconds. The simple answer is wrap it in an outer loop to make it take long enough to sample. You can find out what takes X% of time, remove it, get the X% speedup, and then remove the outer loop.\r\n\r\nThis little profiler, that I called YAPA (yet another performance analyzer) was DOS-based and made a nice little demo, but when I had serious work to do, I would fall back on the manual method. The main reason for this is that the call stack alone is often not enough state information to tell you why a particular cycle is being spent. You may also need to know other state information so you have a more complete idea of what the program was doing at that time. Since I found the manual method pretty satisfactory, I shelved the tool.\r\n\r\nA point that&#39;s often missed when talking about profiling is that you can do it repeatedly to find multiple problems. For example, suppose instruction `I1` is on the stack 5% of the time, and `I2` is on the stack 50% of the time. Twenty samples will easily find `I2`, but maybe not `I1`. So you fix `I2`. Then you do it all again, but now `I1` takes 10% of the time, so 20 samples will probably see it. This *magnification effect* allows repeated applications of profiling to achieve large compounded speedup factors.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/375913/what-can-i-use-to-profile-c-code-in-linux/378024#378024","title":"How to write a profiler?","body":"<p>I wrote one once, mainly as an attempt to make \"deep sampling\" more user-friendly. When you do the method manually, <a href=\"https://stackoverflow.com/questions/375913/what-can-i-use-to-profile-c-code-in-linux/378024#378024\">it is explained here</a>. It is based on sampling, but rather than take a large number of small samples, you take a small number of large samples.</p>\n\n<p>It can tell you, for example, that instruction <code>I</code> (usually a function call) is costing you some percent X of total execution time, more or less, since it appears on the stack on X% of samples.</p>\n\n<p>Think about it, because <strong>this is a key point</strong>. The call stack exists as long as the program is running. If a particular call instruction <code>I</code> is on the stack X% of the time, then if that instruction could disappear, that X% of time would disappear. <em>This does not depend on how many times <code>I</code> is executed, or how long the function call takes. So timers and counters are missing the point.</em> And in a sense all instructions are call instructions, even if they only call microcode.</p>\n\n<p>The sampler is based on the premise that it is better to know the address of instruction <code>I</code> with precision (<em>because that is what you are looking for</em>) than to know the number X% with precision. If you know that you could save roughly 30% of time by recoding something, do you really care that you might be off by 5%? You're still going to want to fix it. The amount of time it actually saves won't be made any less or greater by your knowing X precisely.</p>\n\n<p>So it is possible to drive samples off of a timer, but frankly I found it just as useful to trigger an interrupt by the user pressing both shift keys as the same time. Since 20 samples is generally plenty, and this way you can be sure to take samples at a relevant time (i.e. not while waiting for user input) it was quite adequate. Another way would be to only do the timer-driven samples while the user holds down both shift keys (or something like that).</p>\n\n<p>It did not concern me that the taking of samples might slow down the program, because the goal was not to measure speed, but to locate the most costly instructions. After fixing something, the overall speedup is easy to measure.</p>\n\n<p>The main thing that the profiler provided was a UI so you could examine the results painlessly. What comes out of the sampling phase is a collection of call stack samples, where each sample is a list of addresses of instructions, where every instruction but the last is a call instruction. The UI was mainly what is called a \"butterfly view\".\nIt has a current \"focus\", which is a particular instruction. To the left is displayed the call instructions immediately above that instruction, as culled from the stack samples. If the focus instruction is a call instruction, then the instructions below it appear to the right, as culled from the samples. On the focus instruction is displayed a percent, which is the percent of stacks containing that instruction. Similarly for each instruction on the left or right, the percent is broken down by the frequency of each such instruction. Of course, the instruction was represented by file, line number, and the name of the function it was in. The user could easily explore the data by clicking any of the instructions to make it the new focus.</p>\n\n<p>A variation on this UI treated the butterfly as bipartite, consisting of alternating layers of function call instructions and the functions containing them. That can give a little more clarity of time spent in each function.</p>\n\n<p>Maybe it's not obvious, so it's worth mentioning some properties of this technique.</p>\n\n<ul>\n<li><p>Recursion is not an issue, because if an instruction appears more than once on any given stack sample, that still counts as only one sample containing it. It still remains true that the estimated time that would be saved by its removal is the percent of stacks it is on.</p></li>\n<li><p>Notice this is not the same as a call tree. It gives you the cost of an instruction no matter how many different branches of a call tree it is in.</p></li>\n<li><p>Performance of the UI is not an issue, because the number of samples need not be very large. If a particular instruction I is the focus, it is quite simple to find how may samples contain it, and for each adjacent instruction, how many of the samples containing I also contain the adjacent instruction next to it.</p></li>\n<li><p>As mentioned before, speed of sampling is not an issue, because we're not measuring performance, we're diagnosing. The sampling does not bias the results, because the sampling does not affect what the overall program does. An algorithm that takes N instructions to complete still takes N instructions even if it is halted any number of times.</p></li>\n<li><p>I'm often asked how to sample a program that completes in milliseconds. The simple answer is wrap it in an outer loop to make it take long enough to sample. You can find out what takes X% of time, remove it, get the X% speedup, and then remove the outer loop.</p></li>\n</ul>\n\n<p>This little profiler, that I called YAPA (yet another performance analyzer) was DOS-based and made a nice little demo, but when I had serious work to do, I would fall back on the manual method. The main reason for this is that the call stack alone is often not enough state information to tell you why a particular cycle is being spent. You may also need to know other state information so you have a more complete idea of what the program was doing at that time. Since I found the manual method pretty satisfactory, I shelved the tool.</p>\n\n<p>A point that's often missed when talking about profiling is that you can do it repeatedly to find multiple problems. For example, suppose instruction <code>I1</code> is on the stack 5% of the time, and <code>I2</code> is on the stack 50% of the time. Twenty samples will easily find <code>I2</code>, but maybe not <code>I1</code>. So you fix <code>I2</code>. Then you do it all again, but now <code>I1</code> takes 10% of the time, so 20 samples will probably see it. This <em>magnification effect</em> allows repeated applications of profiling to achieve large compounded speedup factors.</p>\n"},{"tags":[],"owner":{"account_id":12145,"reputation":40207,"user_id":23771,"accept_rate":60,"display_name":"Mike Dunlavey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1242579462,"creation_date":1242567180,"answer_id":874632,"question_id":368831,"body_markdown":"As another answer, I just looked at LukeStackwalker on sourceforge. It is a nice, small, example of a stack-sampler, and a nice place to start if you want to write a profiler.\r\n\r\nHere, in my opinion, is what it does right:\r\n\r\n- It samples the entire call stack.\r\n\r\nSigh ... so near yet so far. Here, IMO, is what it (and other stack samplers like xPerf) should do:\r\n\r\n- It should retain the raw stack samples. As it is, it summarizes at the function level as it samples. This loses the key line-number information locating the problematic call sites.\r\n\r\n- It need not take so many samples, if storage to hold them is an issue. Since typical performance problems cost from 10% to 90%, 20-40 samples will show them quite reliably. Hundreds of samples give more measurement precision, but they do not increase the probability of locating the problems.\r\n\r\n- The UI should summarize in terms of statements, not functions. This is easy to do if the raw samples are kept. The key measure to attach to a statement is the fraction of samples containing it. For example:\r\n\r\n    5/20 MyFile.cpp:326   for (i = 0; i &lt; strlen(s); ++i)\r\n\r\nThis says that line 326 in MyFile.cpp showed up on 5 out of 20 samples, in the process of calling `strlen`. This is very significant, because you can instantly see the problem, and you know how much speedup you can expect from fixing it. If you replace `strlen(s)` by `s[i]`, it will no longer be spending time in that call, so these samples will not occur, and the speedup will be approximately 1/(1-5/20) = 20/(20-5) = 4/3 = 33% speedup. (Thanks to David Thornley for this sample code.)\r\n\r\n- The UI should have a &quot;butterfly&quot; view showing statements. (If it shows functions too, that&#39;s OK, but the statements are what really matter.) For example:\r\n\r\n    3/20 MyFile.cpp:502  MyFunction(myArgs)  \r\n    2/20 HisFile.cpp:113 MyFunction(hisArgs)\r\n\r\n    5/20 MyFile.cpp:326  for (i = 0; i &lt; strlen(s); ++i)\r\n    \r\n    5/20 strlen.asm:23   ... some assembly code ...\r\n\r\n\r\nIn this example, the line containing the `for` statement is the &quot;focus of attention&quot;. It occurred on 5 samples. The two lines above it say that on 3 of those samples, it was called from `MyFile.cpp:502`, and on 2 of those samples, it was called from `HisFile.cpp:113`. The line below it says that on all 5 of those samples, it was in `strlen` (no surprise there). In general, the focus line will have a tree of &quot;parents&quot; and a tree of &quot;children&quot;. If for some reason, the focus line is not something you can fix, you can go up or down. The goal is to find lines that you can fix that are on as many samples as possible.\r\n\r\nIMPORTANT: Profiling should not be looked at as something you do **once**. For example, in the sample above, we got a 4/3 speedup by fixing one line of code. When the process is repeated, other problematic lines of code should show up at 4/3 the frequency they did before, and thus be easier to find. I never hear of people talking about iterating the profiling process, but it is crucial to getting overall large compounded speedups.\r\n\r\nP.S. If a statement occurs more than once in a single sample, that means there is recursion taking place. It is not a problem. It still only counts as one sample containing the statement. It is still the case that the cost of the statement is approximated by the fraction of samples containing it.\r\n\r\n","title":"How to write a profiler?","body":"<p>As another answer, I just looked at LukeStackwalker on sourceforge. It is a nice, small, example of a stack-sampler, and a nice place to start if you want to write a profiler.</p>\n\n<p>Here, in my opinion, is what it does right:</p>\n\n<ul>\n<li>It samples the entire call stack.</li>\n</ul>\n\n<p>Sigh ... so near yet so far. Here, IMO, is what it (and other stack samplers like xPerf) should do:</p>\n\n<ul>\n<li><p>It should retain the raw stack samples. As it is, it summarizes at the function level as it samples. This loses the key line-number information locating the problematic call sites.</p></li>\n<li><p>It need not take so many samples, if storage to hold them is an issue. Since typical performance problems cost from 10% to 90%, 20-40 samples will show them quite reliably. Hundreds of samples give more measurement precision, but they do not increase the probability of locating the problems.</p></li>\n<li><p>The UI should summarize in terms of statements, not functions. This is easy to do if the raw samples are kept. The key measure to attach to a statement is the fraction of samples containing it. For example:</p>\n\n<p>5/20 MyFile.cpp:326   for (i = 0; i &lt; strlen(s); ++i)</p></li>\n</ul>\n\n<p>This says that line 326 in MyFile.cpp showed up on 5 out of 20 samples, in the process of calling <code>strlen</code>. This is very significant, because you can instantly see the problem, and you know how much speedup you can expect from fixing it. If you replace <code>strlen(s)</code> by <code>s[i]</code>, it will no longer be spending time in that call, so these samples will not occur, and the speedup will be approximately 1/(1-5/20) = 20/(20-5) = 4/3 = 33% speedup. (Thanks to David Thornley for this sample code.)</p>\n\n<ul>\n<li><p>The UI should have a \"butterfly\" view showing statements. (If it shows functions too, that's OK, but the statements are what really matter.) For example:</p>\n\n<p>3/20 MyFile.cpp:502  MyFunction(myArgs)<br>\n2/20 HisFile.cpp:113 MyFunction(hisArgs)</p>\n\n<p>5/20 MyFile.cpp:326  for (i = 0; i &lt; strlen(s); ++i)</p>\n\n<p>5/20 strlen.asm:23   ... some assembly code ...</p></li>\n</ul>\n\n<p>In this example, the line containing the <code>for</code> statement is the \"focus of attention\". It occurred on 5 samples. The two lines above it say that on 3 of those samples, it was called from <code>MyFile.cpp:502</code>, and on 2 of those samples, it was called from <code>HisFile.cpp:113</code>. The line below it says that on all 5 of those samples, it was in <code>strlen</code> (no surprise there). In general, the focus line will have a tree of \"parents\" and a tree of \"children\". If for some reason, the focus line is not something you can fix, you can go up or down. The goal is to find lines that you can fix that are on as many samples as possible.</p>\n\n<p>IMPORTANT: Profiling should not be looked at as something you do <strong>once</strong>. For example, in the sample above, we got a 4/3 speedup by fixing one line of code. When the process is repeated, other problematic lines of code should show up at 4/3 the frequency they did before, and thus be easier to find. I never hear of people talking about iterating the profiling process, but it is crucial to getting overall large compounded speedups.</p>\n\n<p>P.S. If a statement occurs more than once in a single sample, that means there is recursion taking place. It is not a problem. It still only counts as one sample containing the statement. It is still the case that the cost of the statement is approximated by the fraction of samples containing it.</p>\n"}],"owner":{"account_id":12501,"reputation":3966,"user_id":24639,"accept_rate":88,"display_name":"Agusti-N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4687,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":370167,"answer_count":5,"score":17,"last_activity_date":1666167518,"creation_date":1229356967,"question_id":368831,"body_markdown":"i would to know how to write a profiler? What books and / or articles recommended? Can anyone help me please?\r\n\r\nSomeone has already done something like this?\r\n","title":"How to write a profiler?","body":"<p>i would to know how to write a profiler? What books and / or articles recommended? Can anyone help me please?</p>\n\n<p>Someone has already done something like this?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1666165056,"post_id":74121448,"comment_id":130868042,"body_markdown":"Just don’t make them nullable. Especially lists should never be nullable, just use an empty list as default value.","body":"Just don’t make them nullable. Especially lists should never be nullable, just use an empty list as default value."},{"owner":{"account_id":8778895,"reputation":375,"user_id":6563164,"accept_rate":43,"display_name":"rura6502"},"score":0,"creation_date":1666165744,"post_id":74121448,"comment_id":130868271,"body_markdown":"thanks. this data structure is response dto by outside API, so I am not sure fields is not null.","body":"thanks. this data structure is response dto by outside API, so I am not sure fields is not null."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1666191697,"post_id":74121448,"comment_id":130878387,"body_markdown":"@rura6502 You mean you receive this data from an external API and some properties come as `null` right? In such a case, you need to instruct your desirialization tool (like Jackson, Gson) to assign default values instead of `null`. That would be the proper solution to the problem. You can provide a sample response message you&#39;re getting and specify the tool you&#39;re using for parsing. And, by the way, you should be aware that using `Optional` to hide *null-checks* is an abuse `Optional`.","body":"@rura6502 You mean you receive this data from an external API and some properties come as <code>null</code> right? In such a case, you need to instruct your desirialization tool (like Jackson, Gson) to assign default values instead of <code>null</code>. That would be the proper solution to the problem. You can provide a sample response message you&#39;re getting and specify the tool you&#39;re using for parsing. And, by the way, you should be aware that using <code>Optional</code> to hide <i>null-checks</i> is an abuse <code>Optional</code>."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1666165226,"post_id":74121523,"comment_id":130868120,"body_markdown":"Note that `Optional`’s `map` method does handle `null` by returning an empty `Optional` but `Stream`’s `map` method does not.","body":"Note that <code>Optional</code>’s <code>map</code> method does handle <code>null</code> by returning an empty <code>Optional</code> but <code>Stream</code>’s <code>map</code> method does not."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1666165397,"post_id":74121523,"comment_id":130868169,"body_markdown":"Do you mean, I should make a `filter(Objects::nonNull)` before `Stream`&#39;s `map`?","body":"Do you mean, I should make a <code>filter(Objects::nonNull)</code> before <code>Stream</code>&#39;s <code>map</code>?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666165687,"post_id":74121523,"comment_id":130868254,"body_markdown":"If we interpret the OP’s “all member is nullable” as “`getDs` can return `null`” and “`getValue` can return `null`”, you should place a `filter(Objects::nonNull)` *after* the corresponding `map` calls, i.e.  `.map(C::getDs).filter(Objects::nonNull)` and `.map(D::getValue).filter(Objects::nonNull)` Well, if we assume that the lists could also contain `null`, you would also need `.filter(Objects::nonNull)` before the map calls.","body":"If we interpret the OP’s “all member is nullable” as “<code>getDs</code> can return <code>null</code>” and “<code>getValue</code> can return <code>null</code>”, you should place a <code>filter(Objects::nonNull)</code> <i>after</i> the corresponding <code>map</code> calls, i.e.  <code>.map(C::getDs).filter(Objects::nonNull)</code> and <code>.map(D::getValue).filter(Objects::nonNull)</code> Well, if we assume that the lists could also contain <code>null</code>, you would also need <code>.filter(Objects::nonNull)</code> before the map calls."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1666166397,"post_id":74121523,"comment_id":130868531,"body_markdown":"Yes, I make some tests, and indeed, I have to place `.filter(Objects::nonNull)` before each map, I edit my answer, thanks @Holger","body":"Yes, I make some tests, and indeed, I have to place <code>.filter(Objects::nonNull)</code> before each map, I edit my answer, thanks @Holger"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1666167228,"post_id":74121523,"comment_id":130868815,"body_markdown":"But you don’t need a `.filter(Objects::nonNull)` after `.stream()`. `Optional`’s `.stream()` method will return either, an empty stream or a single non-null element stream.","body":"But you don’t need a <code>.filter(Objects::nonNull)</code> after <code>.stream()</code>. <code>Optional</code>’s <code>.stream()</code> method will return either, an empty stream or a single non-null element stream."}],"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666167460,"creation_date":1666165059,"answer_id":74121523,"question_id":74121448,"body_markdown":"Something like this:\r\n\r\n    var result = Optional.of(a)\r\n            .map(A::getB)\r\n            .map(B::getCs)\r\n            .stream()\r\n            .flatMap(List::stream)\r\n            .filter(Objects::nonNull)\r\n            .map(C::getDs)\r\n            .filter(Objects::nonNull)\r\n            .flatMap(List::stream)\r\n            .filter(Objects::nonNull)\r\n            .map(D::getValue)\r\n            .filter(Objects::nonNull)\r\n            .toList();","title":"flat elements in arrays with optional, null safe","body":"<p>Something like this:</p>\n<pre><code>var result = Optional.of(a)\n        .map(A::getB)\n        .map(B::getCs)\n        .stream()\n        .flatMap(List::stream)\n        .filter(Objects::nonNull)\n        .map(C::getDs)\n        .filter(Objects::nonNull)\n        .flatMap(List::stream)\n        .filter(Objects::nonNull)\n        .map(D::getValue)\n        .filter(Objects::nonNull)\n        .toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666166023,"creation_date":1666166023,"answer_id":74121727,"question_id":74121448,"body_markdown":"I would make every DTO responsible for returning not-null value (either `Optional` or empty `List`)\r\n\r\n    @Data @AllArgsConstructor\r\n    class C {\r\n      private List&lt;D&gt; ds;\r\n      public List&lt;D&gt; getDs() {\r\n        return ds == null ? Collections.emptyList() : ds;\r\n      }\r\n    }\r\n    \r\n    @Data @AllArgsConstructor\r\n    class D {\r\n      private String value;\r\n      public Optional&lt;String&gt; getValue() {\r\n        return Optional.ofNullable(value);\r\n      }\r\n    }","title":"flat elements in arrays with optional, null safe","body":"<p>I would make every DTO responsible for returning not-null value (either <code>Optional</code> or empty <code>List</code>)</p>\n<pre><code>@Data @AllArgsConstructor\nclass C {\n  private List&lt;D&gt; ds;\n  public List&lt;D&gt; getDs() {\n    return ds == null ? Collections.emptyList() : ds;\n  }\n}\n\n@Data @AllArgsConstructor\nclass D {\n  private String value;\n  public Optional&lt;String&gt; getValue() {\n    return Optional.ofNullable(value);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":8778895,"reputation":375,"user_id":6563164,"accept_rate":43,"display_name":"rura6502"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666167460,"creation_date":1666164705,"question_id":74121448,"body_markdown":"my data structure is \r\n\r\n```java\r\n@Data @AllArgsConstructor\r\nclass A {\r\n  private B b;\r\n}\r\n\r\n@Data @AllArgsConstructor\r\nclass B {\r\n  private List&lt;C&gt; cs;\r\n}\r\n\r\n@Data @AllArgsConstructor\r\nclass C {\r\n  private List&lt;D&gt; ds;\r\n}\r\n\r\n@Data @AllArgsConstructor\r\nclass D {\r\n  private String value;\r\n}\r\n```\r\n\r\nand all member is nullable. so I want to extract all values(in class D) in this data structure with optional for nullsafe.\r\n\r\nI imagine\r\n\r\n```java\r\nA a = new A(\r\n  new B(List.of(\r\n    new C(List.of(\r\n      new D(&quot;a&quot;), new D(&quot;b&quot;), new D(&quot;c&quot;)\r\n    ))\r\n    , new C(List.of(\r\n      new D(&quot;d&quot;), new D(&quot;e&quot;), new D(&quot;f&quot;)\r\n    ))\r\n  ))\r\n);\r\n\r\n\r\n// it will be List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;)\r\nvar result = Optional.ofNullable(a)\r\n  .map(A::getB)\r\n  .flatMap(.......)   // &lt;-- i don&#39;t know this point how to do to flat elements\r\n  .orElse(List.of(&quot;empty&quot;)) // or &#39;orThrow`\r\n```","title":"flat elements in arrays with optional, null safe","body":"<p>my data structure is</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data @AllArgsConstructor\nclass A {\n  private B b;\n}\n\n@Data @AllArgsConstructor\nclass B {\n  private List&lt;C&gt; cs;\n}\n\n@Data @AllArgsConstructor\nclass C {\n  private List&lt;D&gt; ds;\n}\n\n@Data @AllArgsConstructor\nclass D {\n  private String value;\n}\n</code></pre>\n<p>and all member is nullable. so I want to extract all values(in class D) in this data structure with optional for nullsafe.</p>\n<p>I imagine</p>\n<pre class=\"lang-java prettyprint-override\"><code>A a = new A(\n  new B(List.of(\n    new C(List.of(\n      new D(&quot;a&quot;), new D(&quot;b&quot;), new D(&quot;c&quot;)\n    ))\n    , new C(List.of(\n      new D(&quot;d&quot;), new D(&quot;e&quot;), new D(&quot;f&quot;)\n    ))\n  ))\n);\n\n\n// it will be List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;)\nvar result = Optional.ofNullable(a)\n  .map(A::getB)\n  .flatMap(.......)   // &lt;-- i don't know this point how to do to flat elements\n  .orElse(List.of(&quot;empty&quot;)) // or 'orThrow`\n</code></pre>\n"},{"tags":["java","spigot"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1666127275,"post_id":74117489,"comment_id":130861261,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666167459,"creation_date":1666167459,"answer_id":74122040,"question_id":74117489,"body_markdown":"It&#39;s normal that it doesn&#39;t change the config file on the plugin folder. If you want to update it, just remove it and it will create a new one.\r\n\r\nFor the file `config.yml` you can just do `saveDefaultConfig()` in your `onEnable()` and it will be copied in good folder.\r\n\r\nFor others, you can simply do:\r\n```java\r\nFile file = new File(getDataFolder(), &quot;my-file.yml&quot;);\r\ntry (InputStream in = getResource(&quot;my-config-file.yml&quot;); OutputStream out = new FileOutputStream(file)) {\r\n\tByteStreams.copy(in, out);\r\n} catch (Exception e) {\r\n\te.printStackTrace();\r\n}\r\n```\r\nThis code copied `my-config-file.yml` from your plugin to `plugins/YourPlugin/my-file.yml` in your server file.","title":"Comparing 2 configfile in java (for spigot plugin)","body":"<p>It's normal that it doesn't change the config file on the plugin folder. If you want to update it, just remove it and it will create a new one.</p>\n<p>For the file <code>config.yml</code> you can just do <code>saveDefaultConfig()</code> in your <code>onEnable()</code> and it will be copied in good folder.</p>\n<p>For others, you can simply do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(getDataFolder(), &quot;my-file.yml&quot;);\ntry (InputStream in = getResource(&quot;my-config-file.yml&quot;); OutputStream out = new FileOutputStream(file)) {\n    ByteStreams.copy(in, out);\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>This code copied <code>my-config-file.yml</code> from your plugin to <code>plugins/YourPlugin/my-file.yml</code> in your server file.</p>\n"}],"owner":{"account_id":10513989,"reputation":1,"user_id":7748675,"display_name":"Meridias"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666167459,"creation_date":1666127260,"question_id":74117489,"body_markdown":"I try to learn some thing about plugin for minecraft.  \r\nIn my way i got to make config files.  \r\nFrom there everything is ok i can read it, save it into the pluginfolder..  \r\nBut when i change it into my resourceFolder it dosn&#39;t update into the pluginfolder.  \r\nI try to find a way to do it but i dont know how to do.\r\n\r\nIf someone can help me, thanks a lot\r\n\r\nMy FilesUtils class:\r\n```\r\npublic enum FilesUtil {\r\n  // D&#233;finie les fichiers de config\r\n  CONFIG(&quot;config.yml&quot;),\r\n  LANG(&quot;lang.yml&quot;);\r\n\r\n  private final String fileName;\r\n  private final File dataFolder;\r\n\r\n  FilesUtil(String fileName) {\r\n    this.fileName = fileName;\r\n    this.dataFolder = FirstPlugin.getInstance().getDataFolder();\r\n  }\r\n\r\n  // Copie le fichier resource du jar vers le fichier du dossier du plugin\r\n  public void create(Logger logger) {\r\n    // V&#233;rifie si le fichier resource jar n&#39;est pas null et n&#39;est pas vide\r\n    if (fileName == null || fileName.isEmpty()) {\r\n      throw new IllegalArgumentException(&quot;ResourcePath cannot be null or empty&quot;);\r\n    }\r\n\r\n    // lit le fichier resource jar\r\n    InputStream in = FirstPlugin.getInstance().getResource(fileName);\r\n\r\n    // V&#233;rifie que le fichier n&#39;est pas null\r\n    if (in == null) {\r\n      throw new IllegalArgumentException(&quot;The resource &#39;&quot; + fileName + &quot;&#39; cannot be found in plugin jar&quot;);\r\n    }\r\n\r\n    // V&#233;rifie si le dossier du plugin n&#39;existe pas et qu&#39;on&#39;a pas pu le cr&#233;er\r\n    if (!dataFolder.exists() &amp;&amp; !dataFolder.mkdir()) {\r\n      logger.severe(&quot;Failed to make directory&quot;);\r\n    }\r\n\r\n    // Fichier plugin\r\n    File outFile = getFile();\r\n\r\n    try {\r\n      // V&#233;rifie si le fichier plugin existe\r\n      if (!outFile.exists()) {\r\n        logger.info(&quot;The &quot; + fileName + &quot; was not found, creation in progress ...&quot;);\r\n\r\n        // Permet d&#39;&#233;crire sur le fichier\r\n        OutputStream out = new FileOutputStream(outFile);\r\n        // Indique le nombre d&#39;octets lu &#224; chaque tour de boucle\r\n        byte[] buf = new byte[1024];\r\n        // R&#233;sultat de la lecture\r\n        int n;\r\n        // Tant qu&#39;infile n&#39;est pas lu\r\n        while ((n = in.read(buf)) &gt;= 0) {\r\n          // &#201;crire dans outfile\r\n          out.write(buf, 0, n);\r\n        }\r\n\r\n        // Fermeture des flux\r\n        out.close();\r\n        in.close();\r\n\r\n        // On v&#233;rifie si le fichier du plugin est bien cr&#233;&#233;\r\n        if (!(outFile.exists())) {\r\n          logger.severe(&quot;Unable to copy the file&quot;);\r\n        }\r\n\r\n      }\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n    }\r\n\r\n  // Retourne un File plut&#244;t qu&#39;un nom de fichier\r\n  public File getFile() {\r\n    return new File(dataFolder, fileName);\r\n  }\r\n\r\n  // Permet de r&#233;cup&#233;rer facilement le fichier config\r\n  public FileConfiguration getConfig() {\r\n    return YamlConfiguration.loadConfiguration(getFile());\r\n  }\r\n\r\n  // Permet de sauvegarder le fichier de configuration\r\n  public void save(FileConfiguration config) {\r\n    try {\r\n      config.save(getFile());\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n\r\n  public String getFileName() {\r\n    return fileName;\r\n  }\r\n\r\n}\r\n```","title":"Comparing 2 configfile in java (for spigot plugin)","body":"<p>I try to learn some thing about plugin for minecraft.<br />\nIn my way i got to make config files.<br />\nFrom there everything is ok i can read it, save it into the pluginfolder..<br />\nBut when i change it into my resourceFolder it dosn't update into the pluginfolder.<br />\nI try to find a way to do it but i dont know how to do.</p>\n<p>If someone can help me, thanks a lot</p>\n<p>My FilesUtils class:</p>\n<pre><code>public enum FilesUtil {\n  // Définie les fichiers de config\n  CONFIG(&quot;config.yml&quot;),\n  LANG(&quot;lang.yml&quot;);\n\n  private final String fileName;\n  private final File dataFolder;\n\n  FilesUtil(String fileName) {\n    this.fileName = fileName;\n    this.dataFolder = FirstPlugin.getInstance().getDataFolder();\n  }\n\n  // Copie le fichier resource du jar vers le fichier du dossier du plugin\n  public void create(Logger logger) {\n    // Vérifie si le fichier resource jar n'est pas null et n'est pas vide\n    if (fileName == null || fileName.isEmpty()) {\n      throw new IllegalArgumentException(&quot;ResourcePath cannot be null or empty&quot;);\n    }\n\n    // lit le fichier resource jar\n    InputStream in = FirstPlugin.getInstance().getResource(fileName);\n\n    // Vérifie que le fichier n'est pas null\n    if (in == null) {\n      throw new IllegalArgumentException(&quot;The resource '&quot; + fileName + &quot;' cannot be found in plugin jar&quot;);\n    }\n\n    // Vérifie si le dossier du plugin n'existe pas et qu'on'a pas pu le créer\n    if (!dataFolder.exists() &amp;&amp; !dataFolder.mkdir()) {\n      logger.severe(&quot;Failed to make directory&quot;);\n    }\n\n    // Fichier plugin\n    File outFile = getFile();\n\n    try {\n      // Vérifie si le fichier plugin existe\n      if (!outFile.exists()) {\n        logger.info(&quot;The &quot; + fileName + &quot; was not found, creation in progress ...&quot;);\n\n        // Permet d'écrire sur le fichier\n        OutputStream out = new FileOutputStream(outFile);\n        // Indique le nombre d'octets lu à chaque tour de boucle\n        byte[] buf = new byte[1024];\n        // Résultat de la lecture\n        int n;\n        // Tant qu'infile n'est pas lu\n        while ((n = in.read(buf)) &gt;= 0) {\n          // Écrire dans outfile\n          out.write(buf, 0, n);\n        }\n\n        // Fermeture des flux\n        out.close();\n        in.close();\n\n        // On vérifie si le fichier du plugin est bien créé\n        if (!(outFile.exists())) {\n          logger.severe(&quot;Unable to copy the file&quot;);\n        }\n\n      }\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n    }\n\n  // Retourne un File plutôt qu'un nom de fichier\n  public File getFile() {\n    return new File(dataFolder, fileName);\n  }\n\n  // Permet de récupérer facilement le fichier config\n  public FileConfiguration getConfig() {\n    return YamlConfiguration.loadConfiguration(getFile());\n  }\n\n  // Permet de sauvegarder le fichier de configuration\n  public void save(FileConfiguration config) {\n    try {\n      config.save(getFile());\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n  }\n\n  public String getFileName() {\n    return fileName;\n  }\n\n}\n</code></pre>\n"},{"tags":["java","authentication","uri"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666170140,"post_id":74122036,"comment_id":130869847,"body_markdown":"Without looking into it, my best guess that it&#39;s nothing really to do with the ```URI``` . It will probably be to do with the fact that the api you&#39;re using won&#39;t automatically produce the authorization from what I think can be got from ```URI.getUserInfo()``` You&#39;ll have to do that yourself with the api&#39;s auth mechanism","body":"Without looking into it, my best guess that it&#39;s nothing really to do with the <code>URI</code> . It will probably be to do with the fact that the api you&#39;re using won&#39;t automatically produce the authorization from what I think can be got from <code>URI.getUserInfo()</code> You&#39;ll have to do that yourself with the api&#39;s auth mechanism"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666170459,"post_id":74122036,"comment_id":130869968,"body_markdown":"The  [auth mechanism](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/Authenticator.html)","body":"The  <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/Authenticator.html\" rel=\"nofollow noreferrer\">auth mechanism</a>"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1666173322,"post_id":74122036,"comment_id":130871043,"body_markdown":"@g00se does that also work for the new HTTP client?","body":"@g00se does that also work for the new HTTP client?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1666173335,"post_id":74122036,"comment_id":130871045,"body_markdown":"When adding username and password to the URL like that, it&#39;s the same as basic authentication. That can be replaced with a header: `Authorization: Basic &lt;username:password in base64&gt;`","body":"When adding username and password to the URL like that, it&#39;s the same as basic authentication. That can be replaced with a header: <code>Authorization: Basic &lt;username:password in base64&gt;</code>"},{"owner":{"account_id":2392816,"reputation":2925,"user_id":2092322,"accept_rate":88,"display_name":"BairDev"},"score":0,"creation_date":1666249042,"post_id":74122036,"comment_id":130891943,"body_markdown":"@g00se Well, like I&#39;ve said: *When I use the same URI as URL in a browser, the request works just fine: the response has 200 status and the content looks like I&#39;d expect it.* It might be the case that the problem is not related to `URI`, so I would need to debug this a little bit deeper.","body":"@g00se Well, like I&#39;ve said: <i>When I use the same URI as URL in a browser, the request works just fine: the response has 200 status and the content looks like I&#39;d expect it.</i> It might be the case that the problem is not related to <code>URI</code>, so I would need to debug this a little bit deeper."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666249857,"post_id":74122036,"comment_id":130892210,"body_markdown":"I&#39;m not sure why you&#39;d expect a simple api to behave in the same way as a massively complex piece of software..?   But i&#39;ve given you a possible way of making it do so","body":"I&#39;m not sure why you&#39;d expect a simple api to behave in the same way as a massively complex piece of software..?   But i&#39;ve given you a possible way of making it do so"},{"owner":{"account_id":2392816,"reputation":2925,"user_id":2092322,"accept_rate":88,"display_name":"BairDev"},"score":0,"creation_date":1666253715,"post_id":74122036,"comment_id":130893610,"body_markdown":"@g00se You are right, I should think again, because this way of authentication is designed for a PHP script (a PHP script is receiving). So I need to look in this direction. A PHP line like this should work: `file_get_contents(&quot;https://&quot;.$user.&quot;:&quot;.$pw.&quot;@cool-domain.com/Export.php);` and trying to reproduce this in Java by using a very basic client might be hybris.","body":"@g00se You are right, I should think again, because this way of authentication is designed for a PHP script (a PHP script is receiving). So I need to look in this direction. A PHP line like this should work: <code>file_get_contents(&quot;https:&#47;&#47;&quot;.$user.&quot;:&quot;.$pw.&quot;@cool-domain.com&zwnj;&#8203;&#47;Export.php);</code> and trying to reproduce this in Java by using a very basic client might be hybris."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666254512,"post_id":74122036,"comment_id":130893912,"body_markdown":"In a way it doesn&#39;t matter what kind of page is at the receiving end. Basic authentication is performed at the web server level. If you put up a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) I might be able to help you fix it so that it authenticates","body":"In a way it doesn&#39;t matter what kind of page is at the receiving end. Basic authentication is performed at the web server level. If you put up a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> I might be able to help you fix it so that it authenticates"},{"owner":{"account_id":2392816,"reputation":2925,"user_id":2092322,"accept_rate":88,"display_name":"BairDev"},"score":0,"creation_date":1666255649,"post_id":74122036,"comment_id":130894340,"body_markdown":"@g00se thanks a lot! I am going to figure out a way of using an `Authenticator` and ask again after some &#39;research&#39;. This will probably happen next week.","body":"@g00se thanks a lot! I am going to figure out a way of using an <code>Authenticator</code> and ask again after some &#39;research&#39;. This will probably happen next week."},{"owner":{"account_id":2392816,"reputation":2925,"user_id":2092322,"accept_rate":88,"display_name":"BairDev"},"score":0,"creation_date":1666261821,"post_id":74122036,"comment_id":130896721,"body_markdown":"@g00se Alright, using a very simple `Authenticator` in the client works. I am overriding `getPasswordAuthentication` and add an instance of my class to the client builder. `HttpClient.newBuilder().connectTimeout(Duration.ofMillis(90 * 1000)).sslContext(sslContext).authenticator(new MyAuthenticator()).build()`. Now I need to understand, why this works.","body":"@g00se Alright, using a very simple <code>Authenticator</code> in the client works. I am overriding <code>getPasswordAuthentication</code> and add an instance of my class to the client builder. <code>HttpClient.newBuilder().connectTimeout(Duration.ofMillis(90 * 1000)).sslContext(sslContext).authenticator(new MyAuthenticator()).build()</code>. Now I need to understand, why this works."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666265225,"post_id":74122036,"comment_id":130897830,"body_markdown":"What&#39;s the mystery? ;)","body":"What&#39;s the mystery? ;)"},{"owner":{"account_id":2392816,"reputation":2925,"user_id":2092322,"accept_rate":88,"display_name":"BairDev"},"score":0,"creation_date":1666616108,"post_id":74122036,"comment_id":130972258,"body_markdown":"@g00se The mystery is in my lack of knowledge. I guess that the authenticator adds an `Authorization` header. But I cannot see this, when I inspect the request in the browser, which somehow manages to do the authentication. Something must happen in the browser, which I don&#39;t understand yet.","body":"@g00se The mystery is in my lack of knowledge. I guess that the authenticator adds an <code>Authorization</code> header. But I cannot see this, when I inspect the request in the browser, which somehow manages to do the authentication. Something must happen in the browser, which I don&#39;t understand yet."}],"owner":{"account_id":2392816,"reputation":2925,"user_id":2092322,"accept_rate":88,"display_name":"BairDev"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666167435,"creation_date":1666167435,"question_id":74122036,"body_markdown":"I need to use a very outdated variant of authentication for a third party server in my Java application. It looks like a subdomain:\r\n\r\n`https://{user}:{password}@cool-domain.com/etc/etc`.\r\n\r\n#### I know this is weird, ugly, dangerous and almost a crime.\r\n\r\nBut my question is: how can use this kind of *URI* with a simple Java URI?\r\n\r\nI am doing this:\r\n\r\n```\r\nfinal URI myURI = URI.create(&quot;https://username:admin@cool-domain.com/etc/etc&quot;);\r\nfinal HttpRequest requ = HttpRequest.newBuilder().GET().uri(myURI).build();\r\n```\r\n\r\nWhen I just log the URI based on the **sent request**:\r\n\r\n```\r\nHttpResponse&lt;String&gt; response = client.send(requ, BodyHandlers.ofString()); // which is the java.net.http.HttpClient\r\nHelpers.logger.debug(response.request().uri().toString());\r\n```\r\n\r\nI am getting the exact given URI. But the server does not recognize the authorization and gives a 401. When I use the same URI als URL in a browser, the request works just fine: the response has 200 status and the content looks like I&#39;d expect it.\r\n\r\nSo I have actually two questions:\r\n\r\n### 1. How can I debug what is actually happening with the URI string?\r\n\r\nI have used *lsof* like this: `watch -n1 lsof -i TCP:80,443`. \r\n\r\nWhen *lsof* catches the request, some domain name resolution has happened in the meantime and cannot see what has happened:\r\n\r\n```\r\njava    76953    myname   56u  IPv6 1525771      0t0  TCP myname-work:60370-&gt;ns1.server-name.com:https (ESTABLISHED)\r\n```\r\n\r\n(*cool-domain.com* is a server alias, so it points to *server-name.com*).\r\n\r\nI am not familiar with networking details, but I guess that *lsof* catches a package **after some DNS lookup process**. But I need to see, what is actually sent by my Java application. \r\n\r\n### 2. Is it possible at all to use a form like this with Java URI:\r\n*https://{user}:{password}@cool-domain.com/etc/etc* and how can I achieve it?\r\n\r\n","title":"How can I add {user}:{password}@ to Java URI?","body":"<p>I need to use a very outdated variant of authentication for a third party server in my Java application. It looks like a subdomain:</p>\n<p><code>https://{user}:{password}@cool-domain.com/etc/etc</code>.</p>\n<h4>I know this is weird, ugly, dangerous and almost a crime.</h4>\n<p>But my question is: how can use this kind of <em>URI</em> with a simple Java URI?</p>\n<p>I am doing this:</p>\n<pre><code>final URI myURI = URI.create(&quot;https://username:admin@cool-domain.com/etc/etc&quot;);\nfinal HttpRequest requ = HttpRequest.newBuilder().GET().uri(myURI).build();\n</code></pre>\n<p>When I just log the URI based on the <strong>sent request</strong>:</p>\n<pre><code>HttpResponse&lt;String&gt; response = client.send(requ, BodyHandlers.ofString()); // which is the java.net.http.HttpClient\nHelpers.logger.debug(response.request().uri().toString());\n</code></pre>\n<p>I am getting the exact given URI. But the server does not recognize the authorization and gives a 401. When I use the same URI als URL in a browser, the request works just fine: the response has 200 status and the content looks like I'd expect it.</p>\n<p>So I have actually two questions:</p>\n<h3>1. How can I debug what is actually happening with the URI string?</h3>\n<p>I have used <em>lsof</em> like this: <code>watch -n1 lsof -i TCP:80,443</code>.</p>\n<p>When <em>lsof</em> catches the request, some domain name resolution has happened in the meantime and cannot see what has happened:</p>\n<pre><code>java    76953    myname   56u  IPv6 1525771      0t0  TCP myname-work:60370-&gt;ns1.server-name.com:https (ESTABLISHED)\n</code></pre>\n<p>(<em>cool-domain.com</em> is a server alias, so it points to <em>server-name.com</em>).</p>\n<p>I am not familiar with networking details, but I guess that <em>lsof</em> catches a package <strong>after some DNS lookup process</strong>. But I need to see, what is actually sent by my Java application.</p>\n<h3>2. Is it possible at all to use a form like this with Java URI:</h3>\n<p><em>https://{user}:{password}@cool-domain.com/etc/etc</em> and how can I achieve it?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1666156697,"post_id":74120085,"comment_id":130865856,"body_markdown":"What is the concise problem? What behaviour do you get, what do you expect instead?","body":"What is the concise problem? What behaviour do you get, what do you expect instead?"},{"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"score":1,"creation_date":1666157664,"post_id":74120085,"comment_id":130866034,"body_markdown":"what does the error say?","body":"what does the error say?"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666166989,"creation_date":1666160754,"answer_id":74120753,"question_id":74120085,"body_markdown":"Basically, you need to get the frequencies of all the letters in the string. If at least one of those frequencies is odd, you print *NO*, otherwise you print *YES*.\r\n\r\nLet&#39;s analyze your code.\r\n```java\r\nString str = in.next();\r\n```\r\nI think this is more appropriate:\r\n```java\r\nString str = in.nextLine();\r\n```\r\nAfter calling `nextInt` and before calling `nextLine`, you need to add an extra call to `nextLine`\r\n```java\r\nlong n = in.nextInt();\r\nin.nextLine();\r\nString str = in.nextLine();\r\n```\r\nRefer to [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)\r\n\r\nIt seems like you want to iterate through each letter of `str` and for each letter, you iterate `str` again and count how many times it appears.\r\n```java\r\nfor(int i=0; i&lt;n; i++){\r\n    if(s.charAt(0)==str.charAt(i)){\r\n```\r\nI don&#39;t understand the `if`. You are comparing every letter in `str` with the first letter in `str`. You simply need a nested `for` loop.\r\n```java\r\ntry (Scanner in = new Scanner(System.in)) {\r\n    int t = in.nextInt();\r\n    while (t-- &gt; 0) {\r\n        long count = 0;\r\n        long n = in.nextInt();\r\n        in.nextLine();\r\n        String str = in.nextLine();\r\n        if (n % 2 != 0) {\r\n            System.out.println(&quot;NO&quot;);\r\n        }\r\n        else {\r\n            String s = str;\r\n            for (int i = 0; i &lt; n; i++) {\r\n                count = 1;\r\n                for (int j = 0; j &lt; n; j++) {\r\n                    if (i != j) {\r\n                        if (s.charAt(j) == str.charAt(i)) {\r\n                            count++;\r\n                        }\r\n                    }\r\n                }\r\n                if (count % 2 == 1) {\r\n                    System.out.println(&quot;NO&quot;);\r\n                    count = 0;\r\n                    break;\r\n                }\r\n            }\r\n            if (count &gt; 0) {\r\n                if (count % 2 == 0) {\r\n                    System.out.println(&quot;YES&quot;);\r\n                }\r\n                else {\r\n                    System.out.println(&quot;NO&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nBasicaly, in the nested `for` loops, we are comparing a given character, in `str`, with every other character in `str` and we repeat this for every character in `str`. Thus we count how many times each character appears in `str`. After obtaining the count, we check to see whether that count is odd. If it is then we print *NO*. After we have counted the occurrences of all the characters in `str`, we check whether we already printed *NO*. If we have not, then we check the final value of `count` to see whether it is even or odd and print *YES* or *NO*, respectively.\r\n\r\nAlternatively, here is a solution that uses [streams](https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html).\r\n```java\r\nimport java.util.Scanner;\r\nimport java.util.function.Function;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        int t = in.nextInt();\r\n        while (t-- &gt; 0) {\r\n            int n = in.nextInt();\r\n            in.nextLine();\r\n            String str = in.nextLine();\r\n            if (n % 2 != 0) {\r\n                System.out.println(&quot;NO&quot;);\r\n            }\r\n            else {\r\n                str.chars()\r\n                   .boxed()\r\n                   .collect(Collectors.groupingBy(Function.identity(),\r\n                                                  Collectors.counting()))\r\n                   .values()\r\n                   .stream()\r\n                   .filter(v -&gt; v % 2 == 1)\r\n                   .findFirst()\r\n                   .ifPresentOrElse(v -&gt; System.out.println(&quot;NO&quot;),\r\n                                    () -&gt; System.out.println(&quot;YES&quot;));\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n1. The characters in the string are converted to a stream of `int`s.\r\n2. The stream of `int`s is converted to a stream of `Integer` objects.\r\n3. A frequency map is created where the map key is [essentially] a letter and the map value is the number of occurrences of that letter in the string.\r\n4. The map values, i.e. the letter frequencies, are searched for one that is odd.\r\n5. If an odd frequency is found, *NO* is printed and if no odd frequencies are found, *YES* is printed.\r\n\r\nThe solution passed all the tests on [CodeChef](https://www.codechef.com/).","title":"Code delivering the wrong result at higher inputs","body":"<p>Basically, you need to get the frequencies of all the letters in the string. If at least one of those frequencies is odd, you print <em>NO</em>, otherwise you print <em>YES</em>.</p>\n<p>Let's analyze your code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = in.next();\n</code></pre>\n<p>I think this is more appropriate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = in.nextLine();\n</code></pre>\n<p>After calling <code>nextInt</code> and before calling <code>nextLine</code>, you need to add an extra call to <code>nextLine</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>long n = in.nextInt();\nin.nextLine();\nString str = in.nextLine();\n</code></pre>\n<p>Refer to <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a></p>\n<p>It seems like you want to iterate through each letter of <code>str</code> and for each letter, you iterate <code>str</code> again and count how many times it appears.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int i=0; i&lt;n; i++){\n    if(s.charAt(0)==str.charAt(i)){\n</code></pre>\n<p>I don't understand the <code>if</code>. You are comparing every letter in <code>str</code> with the first letter in <code>str</code>. You simply need a nested <code>for</code> loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Scanner in = new Scanner(System.in)) {\n    int t = in.nextInt();\n    while (t-- &gt; 0) {\n        long count = 0;\n        long n = in.nextInt();\n        in.nextLine();\n        String str = in.nextLine();\n        if (n % 2 != 0) {\n            System.out.println(&quot;NO&quot;);\n        }\n        else {\n            String s = str;\n            for (int i = 0; i &lt; n; i++) {\n                count = 1;\n                for (int j = 0; j &lt; n; j++) {\n                    if (i != j) {\n                        if (s.charAt(j) == str.charAt(i)) {\n                            count++;\n                        }\n                    }\n                }\n                if (count % 2 == 1) {\n                    System.out.println(&quot;NO&quot;);\n                    count = 0;\n                    break;\n                }\n            }\n            if (count &gt; 0) {\n                if (count % 2 == 0) {\n                    System.out.println(&quot;YES&quot;);\n                }\n                else {\n                    System.out.println(&quot;NO&quot;);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Basicaly, in the nested <code>for</code> loops, we are comparing a given character, in <code>str</code>, with every other character in <code>str</code> and we repeat this for every character in <code>str</code>. Thus we count how many times each character appears in <code>str</code>. After obtaining the count, we check to see whether that count is odd. If it is then we print <em>NO</em>. After we have counted the occurrences of all the characters in <code>str</code>, we check whether we already printed <em>NO</em>. If we have not, then we check the final value of <code>count</code> to see whether it is even or odd and print <em>YES</em> or <em>NO</em>, respectively.</p>\n<p>Alternatively, here is a solution that uses <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">streams</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int t = in.nextInt();\n        while (t-- &gt; 0) {\n            int n = in.nextInt();\n            in.nextLine();\n            String str = in.nextLine();\n            if (n % 2 != 0) {\n                System.out.println(&quot;NO&quot;);\n            }\n            else {\n                str.chars()\n                   .boxed()\n                   .collect(Collectors.groupingBy(Function.identity(),\n                                                  Collectors.counting()))\n                   .values()\n                   .stream()\n                   .filter(v -&gt; v % 2 == 1)\n                   .findFirst()\n                   .ifPresentOrElse(v -&gt; System.out.println(&quot;NO&quot;),\n                                    () -&gt; System.out.println(&quot;YES&quot;));\n            }\n        }\n    }\n}\n</code></pre>\n<ol>\n<li>The characters in the string are converted to a stream of <code>int</code>s.</li>\n<li>The stream of <code>int</code>s is converted to a stream of <code>Integer</code> objects.</li>\n<li>A frequency map is created where the map key is [essentially] a letter and the map value is the number of occurrences of that letter in the string.</li>\n<li>The map values, i.e. the letter frequencies, are searched for one that is odd.</li>\n<li>If an odd frequency is found, <em>NO</em> is printed and if no odd frequencies are found, <em>YES</em> is printed.</li>\n</ol>\n<p>The solution passed all the tests on <a href=\"https://www.codechef.com/\" rel=\"nofollow noreferrer\">CodeChef</a>.</p>\n"}],"owner":{"account_id":26667011,"reputation":3,"user_id":20278955,"display_name":"flyingbridges"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74120753,"answer_count":1,"score":-2,"last_activity_date":1666166989,"creation_date":1666155620,"question_id":74120085,"body_markdown":"I am an aspiring coder. I have been trying to solve this question on codechef. What do you reckon is the problem here? A link to the question: https://www.codechef.com/submit/EVENTUAL?tab=statement\r\nMy code fail when the input is 990, which, in the question refers to the value of n. The value of &#39;n&#39; refers to the length of the string. My code for the question has been provided below.\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class eventual_reduction {\r\n    public static void main(String[] args) {\r\n        try (Scanner in = new Scanner(System.in)) {\r\n            int t = in.nextInt();\r\n            while(t--&gt;0){\r\n                long count =0;\r\n                long n = in.nextInt();\r\n                String str = in.next();\r\n                if(n%2!=0){\r\n                    System.out.println(&quot;NO&quot;);\r\n                }else{\r\n                    String s = str;\r\n                    for(int i=0; i&lt;n; i++){\r\n                        if(s.charAt(0)==str.charAt(i)){\r\n                            count++;\r\n                            if((count+1)%2==0){\r\n                                for(int j=1; j&lt;n;j++){\r\n                                    if(s.charAt(j)==str.charAt(i)){\r\n                                        count++;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    if(count%2==0){\r\n                        System.out.println(&quot;YES&quot;);\r\n                    }else{\r\n                        System.out.println(&quot;NO&quot;);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nCould you please help me out with the code? Would love to see ways to improve my code. Thank you!","title":"Code delivering the wrong result at higher inputs","body":"<p>I am an aspiring coder. I have been trying to solve this question on codechef. What do you reckon is the problem here? A link to the question: <a href=\"https://www.codechef.com/submit/EVENTUAL?tab=statement\" rel=\"nofollow noreferrer\">https://www.codechef.com/submit/EVENTUAL?tab=statement</a>\nMy code fail when the input is 990, which, in the question refers to the value of n. The value of 'n' refers to the length of the string. My code for the question has been provided below.</p>\n<pre><code>import java.util.Scanner;\n\npublic class eventual_reduction {\npublic static void main(String[] args) {\n    try (Scanner in = new Scanner(System.in)) {\n        int t = in.nextInt();\n        while(t--&gt;0){\n            long count =0;\n            long n = in.nextInt();\n            String str = in.next();\n            if(n%2!=0){\n                System.out.println(&quot;NO&quot;);\n            }else{\n                String s = str;\n                for(int i=0; i&lt;n; i++){\n                    if(s.charAt(0)==str.charAt(i)){\n                        count++;\n                        if((count+1)%2==0){\n                            for(int j=1; j&lt;n;j++){\n                                if(s.charAt(j)==str.charAt(i)){\n                                    count++;\n                                }\n                            }\n                        }\n                    }\n                }\n                if(count%2==0){\n                    System.out.println(&quot;YES&quot;);\n                }else{\n                    System.out.println(&quot;NO&quot;);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Could you please help me out with the code? Would love to see ways to improve my code. Thank you!</p>\n"},{"tags":["java","java-io","outputstream"],"answers":[{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1430935269,"post_id":30084242,"comment_id":48281618,"body_markdown":"The first example is harder to maintain e.g. to make it a `BufferedOutputStream`","body":"The first example is harder to maintain e.g. to make it a <code>BufferedOutputStream</code>"}],"tags":[],"owner":{"account_id":4904091,"reputation":1206,"user_id":3951318,"display_name":"Bitcoin M"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430935090,"creation_date":1430935090,"answer_id":30084242,"question_id":30083921,"body_markdown":"There is no difference. However, the first example is a lot easier to program with. In fact, the second example is still using `FileOutputStream`, except you are putting it in an `OutputStream` variable.","title":"FileOutputStream vs OutputStream, why and when?","body":"<p>There is no difference. However, the first example is a lot easier to program with. In fact, the second example is still using <code>FileOutputStream</code>, except you are putting it in an <code>OutputStream</code> variable.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430935194,"creation_date":1430935194,"answer_id":30084273,"question_id":30083921,"body_markdown":"You should code deliberately and be no more specific than you actually need.\r\n\r\nIf you have a variable which must refer to a `FileOutputStream` use that.  It means you can&#39;t use some other `OutputStream` for some good reason.\r\n\r\nHowever, if there is no good reason to be more specific than `OutputStream` this is what you should use.\r\n\r\nSay someone has to change this code later and need to change the type of OutputStream e.g. to a `BufferedOutputStream` or `GZIPOutputStream`.  However, the code says it must be a `FileOutputStream`  why?, well there is no good reason.  Trying to find something which is not there takes a lot longer.\r\n\r\nIn short, make the type of reference match what it has to be, not what it happens to be now.","title":"FileOutputStream vs OutputStream, why and when?","body":"<p>You should code deliberately and be no more specific than you actually need.</p>\n\n<p>If you have a variable which must refer to a <code>FileOutputStream</code> use that.  It means you can't use some other <code>OutputStream</code> for some good reason.</p>\n\n<p>However, if there is no good reason to be more specific than <code>OutputStream</code> this is what you should use.</p>\n\n<p>Say someone has to change this code later and need to change the type of OutputStream e.g. to a <code>BufferedOutputStream</code> or <code>GZIPOutputStream</code>.  However, the code says it must be a <code>FileOutputStream</code>  why?, well there is no good reason.  Trying to find something which is not there takes a lot longer.</p>\n\n<p>In short, make the type of reference match what it has to be, not what it happens to be now.</p>\n"},{"tags":[],"owner":{"account_id":2722145,"reputation":616,"user_id":2348212,"accept_rate":39,"display_name":"eatinasandwich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430935419,"creation_date":1430935419,"answer_id":30084347,"question_id":30083921,"body_markdown":"According to the java docs, OutputStream is just the abstract class that FileOutputStream inherits from. Also, the way you are using it in your two examples doesn&#39;t really show a practical difference because the instance in both cases is still a FileOutputStream. The second case just allows you to use the variable polymorphically so if you didn&#39;t know what type of output stream you would need on perhaps a particular iteration of a loop you could type the variable with the abstract class and instantiate it to whichever subclass you needed.","title":"FileOutputStream vs OutputStream, why and when?","body":"<p>According to the java docs, OutputStream is just the abstract class that FileOutputStream inherits from. Also, the way you are using it in your two examples doesn't really show a practical difference because the instance in both cases is still a FileOutputStream. The second case just allows you to use the variable polymorphically so if you didn't know what type of output stream you would need on perhaps a particular iteration of a loop you could type the variable with the abstract class and instantiate it to whichever subclass you needed.</p>\n"},{"tags":[],"owner":{"account_id":6266127,"reputation":181,"user_id":4871814,"display_name":"Ivan1211"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1430937028,"creation_date":1430937028,"answer_id":30084816,"question_id":30083921,"body_markdown":"So, depending on the question you are trying to ask, there are two different answers here.  (1) Is there a difference between the two OutputStream objects that have been created in your example? And (2) is there a difference between the two Object types and when should each be used? \r\n\r\n(1)\r\n\r\n    ObjectStream os = new FileObjectStream(File file);\r\nand \r\n\r\n    FileObjectStream fos = new FileObjectStream(File file);\r\n*are no different.*  \r\n\r\nBecause FileObjectStream is a subclass of the abstract ObjectStream, the Object can be created using the subclass constructor and will inherit all subclass functionality. \r\n\r\n(2) \r\nOutputStream is an abstract class which should be sub classed, *by an Object such as FileOutputStream*, so that the `write(byte[] b)` call may be overridden and any functionality specific to the output sink may be added.  More simply, FileOutputStream (and subclasses of OutputStream like it) &quot;is a&quot; OutputStrem object, but OutputStream is not a FileOutputStream object.  ","title":"FileOutputStream vs OutputStream, why and when?","body":"<p>So, depending on the question you are trying to ask, there are two different answers here.  (1) Is there a difference between the two OutputStream objects that have been created in your example? And (2) is there a difference between the two Object types and when should each be used? </p>\n\n<p>(1)</p>\n\n<pre><code>ObjectStream os = new FileObjectStream(File file);\n</code></pre>\n\n<p>and </p>\n\n<pre><code>FileObjectStream fos = new FileObjectStream(File file);\n</code></pre>\n\n<p><em>are no different.</em>  </p>\n\n<p>Because FileObjectStream is a subclass of the abstract ObjectStream, the Object can be created using the subclass constructor and will inherit all subclass functionality. </p>\n\n<p>(2) \nOutputStream is an abstract class which should be sub classed, <em>by an Object such as FileOutputStream</em>, so that the <code>write(byte[] b)</code> call may be overridden and any functionality specific to the output sink may be added.  More simply, FileOutputStream (and subclasses of OutputStream like it) \"is a\" OutputStrem object, but OutputStream is not a FileOutputStream object.  </p>\n"},{"tags":[],"owner":{"account_id":9096854,"reputation":11,"user_id":6770536,"display_name":"Ewebs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483720077,"creation_date":1483720077,"answer_id":41509919,"question_id":30083921,"body_markdown":"Outputstream is an abstract class whereas FileOutputStream is the child class.\r\n\r\nIt&#39;s possible that you could use Outputstream to just write in bytes for a prexisting file instead of outputting a file.  \r\n\r\nIf your just writing a file normally FileOutputStream would be the way to go","title":"FileOutputStream vs OutputStream, why and when?","body":"<p>Outputstream is an abstract class whereas FileOutputStream is the child class.</p>\n\n<p>It's possible that you could use Outputstream to just write in bytes for a prexisting file instead of outputting a file.  </p>\n\n<p>If your just writing a file normally FileOutputStream would be the way to go</p>\n"},{"tags":[],"owner":{"account_id":11042485,"reputation":815,"user_id":8109855,"display_name":"Richie Rizal Amir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666166985,"creation_date":1666166985,"answer_id":74121932,"question_id":30083921,"body_markdown":"FileOutputStream implemented finalize method. Which means that objects created will likely hang around until a full garbage collection occurs, which will leave excessive garbage on the heap for longer, and potentially much longer than expected. Whereas outputstream and Inputstream that do not have this concern.","title":"FileOutputStream vs OutputStream, why and when?","body":"<p>FileOutputStream implemented finalize method. Which means that objects created will likely hang around until a full garbage collection occurs, which will leave excessive garbage on the heap for longer, and potentially much longer than expected. Whereas outputstream and Inputstream that do not have this concern.</p>\n"}],"owner":{"account_id":3541080,"reputation":1607,"user_id":2958190,"accept_rate":68,"display_name":"Lauro182"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16804,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30084816,"answer_count":6,"score":1,"last_activity_date":1666166985,"creation_date":1430934123,"question_id":30083921,"body_markdown":"So, you can save a form file through several methods, I guess, I use 2, but I never really know when to use which. I have these 2 pieces of codes that do the same:\r\n\r\n1-This writes my form file to specified path.\r\n\r\n    FormFile archivo = myForm.getArchivo();\r\n    File newFile = new File(path, archivo.getFileName());\r\n    FileOutputStream fos = new FileOutputStream(newFile);\r\n    fos.write(archivo.getFileData());\r\n    fos.flush();\r\n    fos.close();\r\n\r\n\r\n\r\n2-This does too.\r\n\r\n    FormFile archivo = myForm.getArchivo();\r\n    InputStream in = archivo.getInputStream();\r\n    OutputStream bos = new FileOutputStream(path + &quot;archivo.ext&quot;);\r\n\r\n    int byteRead = 0;\r\n    byte[] buffer = new byte[8192];\r\n    while ((byteRead = in.read(buffer, 0, 8192)) != -1) {\r\n         bos.write(buffer, 0, byteRead);\r\n    }\r\n    bos.close();\r\n    in.close();\r\n\r\nSo, my question here is, what&#39;s the difference between the 2 of them, and when should I use which?","title":"FileOutputStream vs OutputStream, why and when?","body":"<p>So, you can save a form file through several methods, I guess, I use 2, but I never really know when to use which. I have these 2 pieces of codes that do the same:</p>\n\n<p>1-This writes my form file to specified path.</p>\n\n<pre><code>FormFile archivo = myForm.getArchivo();\nFile newFile = new File(path, archivo.getFileName());\nFileOutputStream fos = new FileOutputStream(newFile);\nfos.write(archivo.getFileData());\nfos.flush();\nfos.close();\n</code></pre>\n\n<p>2-This does too.</p>\n\n<pre><code>FormFile archivo = myForm.getArchivo();\nInputStream in = archivo.getInputStream();\nOutputStream bos = new FileOutputStream(path + \"archivo.ext\");\n\nint byteRead = 0;\nbyte[] buffer = new byte[8192];\nwhile ((byteRead = in.read(buffer, 0, 8192)) != -1) {\n     bos.write(buffer, 0, byteRead);\n}\nbos.close();\nin.close();\n</code></pre>\n\n<p>So, my question here is, what's the difference between the 2 of them, and when should I use which?</p>\n"},{"tags":["java","spring-boot","ssl-certificate","truststore"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1665993432,"post_id":74094008,"comment_id":130820758,"body_markdown":"I guest that if the property is set too late, the SSL system has already bean initialized and the properties are not read anymore.","body":"I guest that if the property is set too late, the SSL system has already bean initialized and the properties are not read anymore."}],"answers":[{"tags":[],"owner":{"account_id":6257410,"reputation":495,"user_id":4865531,"accept_rate":60,"display_name":"Safa Kadir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666166795,"creation_date":1666166795,"answer_id":74121905,"question_id":74094008,"body_markdown":"I solve the problem by initializing my custom SSLContext and setting as default, after setting the *trustStoreType* system property.\r\n\r\nThis solution works, so it indicates that when I set the system property during late stage, the default SSLContext was already created at somewhere and will not be affected by setting system property after creation. So it&#39;s risky to set *javax.net.ssl.trustStoreType* or other ssl related properties at runtime, unless you&#39;re using below solution. Setting them as JVM options would be safe.\r\n\r\n```\r\nif(properties.useWindowsStore) {\r\n    System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;WINDOWS-ROOT&quot;);\r\n}\r\n\r\n/*\r\n* Initializing a TrustManagerFactory with null is configuring TrustManager to use system&#39;s default keystore.\r\n* If useWindowsStore = true then system certificates are from OS, else system certificates are from JDK.\r\n*/\r\nTrustManagerFactory trustManagerFactorySystem = TrustManagerFactory.getInstance(&quot;X509&quot;);\r\ntrustManagerFactorySystem.init((KeyStore) null);\r\n\r\nSSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\nsslContext.init(null, trustManagerFactorySystem.getTrustManagers(), null);\r\nSSLContext.setDefault(sslContext);\r\n```\r\n\r\nIf you want to merge system certificates with some of your certificates, you could initiate another TrustManagerFactory with a new KeyStore and combine them into one TrustManager as described in this question: https://stackoverflow.com/questions/1793979/registering-multiple-keystores-in-jvm/16229909","title":"Setting trustStoreType is not working properly in Spring Boot","body":"<p>I solve the problem by initializing my custom SSLContext and setting as default, after setting the <em>trustStoreType</em> system property.</p>\n<p>This solution works, so it indicates that when I set the system property during late stage, the default SSLContext was already created at somewhere and will not be affected by setting system property after creation. So it's risky to set <em>javax.net.ssl.trustStoreType</em> or other ssl related properties at runtime, unless you're using below solution. Setting them as JVM options would be safe.</p>\n<pre><code>if(properties.useWindowsStore) {\n    System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;WINDOWS-ROOT&quot;);\n}\n\n/*\n* Initializing a TrustManagerFactory with null is configuring TrustManager to use system's default keystore.\n* If useWindowsStore = true then system certificates are from OS, else system certificates are from JDK.\n*/\nTrustManagerFactory trustManagerFactorySystem = TrustManagerFactory.getInstance(&quot;X509&quot;);\ntrustManagerFactorySystem.init((KeyStore) null);\n\nSSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\nsslContext.init(null, trustManagerFactorySystem.getTrustManagers(), null);\nSSLContext.setDefault(sslContext);\n</code></pre>\n<p>If you want to merge system certificates with some of your certificates, you could initiate another TrustManagerFactory with a new KeyStore and combine them into one TrustManager as described in this question: <a href=\"https://stackoverflow.com/questions/1793979/registering-multiple-keystores-in-jvm/16229909\">Registering multiple keystores in JVM</a></p>\n"}],"owner":{"account_id":6257410,"reputation":495,"user_id":4865531,"accept_rate":60,"display_name":"Safa Kadir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74121905,"answer_count":1,"score":0,"last_activity_date":1666166795,"creation_date":1665992787,"question_id":74094008,"body_markdown":"We have a Spring Boot application where we need to set javax.net.ssl.trustStoreType to WINDOWS-ROOT.\r\n\r\n    System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;WINDOWS-ROOT&quot;);\r\n\r\nI have a class named TestService in my src folder (not from test package) to see if the target URL is accessible properly, without SSL error. I&#39;m adding this class and running application to manually check the result. It&#39;s working fine.\r\n\r\n```\r\n@Service\r\npublic class TestService {\r\n    private RestTemplate restTemplate;\r\n\r\n    public TestService(RestTemplateBuilder restTemplateBuilder) {\r\n        this.restTemplate = restTemplateBuilder.build();\r\n    }\r\n\r\n    @EventListener(ApplicationReadyEvent.class)\r\n    public void testSslAccesibility() {\r\n       try {\r\n           ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(&quot;https://THE_URL_WE_RE_TESTING&quot;, String.class);\r\n       }\r\n       catch (Exception e) {\r\n           if(e.getCause() instanceof SSLHandshakeException) {\r\n               logger.debug(&quot;SSL CERTIFICATE ERROR&quot;);\r\n           }\r\n       }\r\n   }\r\n}\r\n```\r\n\r\n**The problem is**, even though we set the *trustStoreType* property during initialization(before test method run), the behavior changes according to which bean I placed it in.\r\n\r\nIf I set it in constructor of the bean where we get some part of application.properties, the test method works and gets actual response from target server. (Below I hide the actual names by renaming classes and variables)\r\n\r\n```\r\n@ConstructorBinding\r\n@ConfigurationProperties(&quot;myconf&quot;)\r\npublic class MyConfProperties {\r\n    public final ConfSet1 confSet1; \r\n    public final ConfSet2 confSet2;\r\n\r\n    public MyConfProperties(ConfSet1 confSet1, ConfSet2 confSet2) {\r\n        this.confSet1 = confSet1;\r\n        this.confSet2 = confSet2;\r\n\r\n        if(confSet2.useWindowsStore) {\r\n            System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;WINDOWS-ROOT&quot;);\r\n        }\r\n    }\r\n    \r\n    public static class ConfSet1 {\r\n        public final String cs1attr1;\r\n        public final String cs1attr2;\r\n        \r\n        public ConfSet1(String cs1attr1, String cs1attr2) {\r\n            this.cs1attr1 = cs1attr1;\r\n            this.cs1attr2 = cs1attr2;\r\n        }\r\n    }\r\n\r\n    public static class ConfSet2 {\r\n        public final String cs2attr1;\r\n        public final String useWindowsStore;\r\n        \r\n        public ConfSet2(String cs2attr1, String useWindowsStore) {\r\n            this.cs2attr1 = cs2attr1;\r\n            this.useWindowsStore = useWindowsStore;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf I set it in a new separate bean, it&#39;s set but takes no effect. The test fails with SSL CERTIFICATE error.\r\n\r\n```\r\n@Component\r\npublic class StoreTypeManager {\r\n    private MyConfProperties.confSet2 properties;\r\n\r\n    public StoreTypeManager(MyConfProperties myConfProperties) {\r\n        this.properties = myConfProperties.confSet2;\r\n\r\n        if(properties.useWindowsStore) {\r\n            System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;WINDOWS-ROOT&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI only change the place of a single System.setProperty() line.\r\n\r\nFor the timing when I debug, new bean is created much more later. But normally, it should not matter.\r\n\r\n- What is the reason of this strange behavior?\r\n- How can I make it work even if executed later in the initialization?\r\n- If I cannot, how can I adjust the new bean to initialize earlier?\r\n\r\n","title":"Setting trustStoreType is not working properly in Spring Boot","body":"<p>We have a Spring Boot application where we need to set javax.net.ssl.trustStoreType to WINDOWS-ROOT.</p>\n<pre><code>System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;WINDOWS-ROOT&quot;);\n</code></pre>\n<p>I have a class named TestService in my src folder (not from test package) to see if the target URL is accessible properly, without SSL error. I'm adding this class and running application to manually check the result. It's working fine.</p>\n<pre><code>@Service\npublic class TestService {\n    private RestTemplate restTemplate;\n\n    public TestService(RestTemplateBuilder restTemplateBuilder) {\n        this.restTemplate = restTemplateBuilder.build();\n    }\n\n    @EventListener(ApplicationReadyEvent.class)\n    public void testSslAccesibility() {\n       try {\n           ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(&quot;https://THE_URL_WE_RE_TESTING&quot;, String.class);\n       }\n       catch (Exception e) {\n           if(e.getCause() instanceof SSLHandshakeException) {\n               logger.debug(&quot;SSL CERTIFICATE ERROR&quot;);\n           }\n       }\n   }\n}\n</code></pre>\n<p><strong>The problem is</strong>, even though we set the <em>trustStoreType</em> property during initialization(before test method run), the behavior changes according to which bean I placed it in.</p>\n<p>If I set it in constructor of the bean where we get some part of application.properties, the test method works and gets actual response from target server. (Below I hide the actual names by renaming classes and variables)</p>\n<pre><code>@ConstructorBinding\n@ConfigurationProperties(&quot;myconf&quot;)\npublic class MyConfProperties {\n    public final ConfSet1 confSet1; \n    public final ConfSet2 confSet2;\n\n    public MyConfProperties(ConfSet1 confSet1, ConfSet2 confSet2) {\n        this.confSet1 = confSet1;\n        this.confSet2 = confSet2;\n\n        if(confSet2.useWindowsStore) {\n            System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;WINDOWS-ROOT&quot;);\n        }\n    }\n    \n    public static class ConfSet1 {\n        public final String cs1attr1;\n        public final String cs1attr2;\n        \n        public ConfSet1(String cs1attr1, String cs1attr2) {\n            this.cs1attr1 = cs1attr1;\n            this.cs1attr2 = cs1attr2;\n        }\n    }\n\n    public static class ConfSet2 {\n        public final String cs2attr1;\n        public final String useWindowsStore;\n        \n        public ConfSet2(String cs2attr1, String useWindowsStore) {\n            this.cs2attr1 = cs2attr1;\n            this.useWindowsStore = useWindowsStore;\n        }\n    }\n}\n</code></pre>\n<p>If I set it in a new separate bean, it's set but takes no effect. The test fails with SSL CERTIFICATE error.</p>\n<pre><code>@Component\npublic class StoreTypeManager {\n    private MyConfProperties.confSet2 properties;\n\n    public StoreTypeManager(MyConfProperties myConfProperties) {\n        this.properties = myConfProperties.confSet2;\n\n        if(properties.useWindowsStore) {\n            System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;WINDOWS-ROOT&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I only change the place of a single System.setProperty() line.</p>\n<p>For the timing when I debug, new bean is created much more later. But normally, it should not matter.</p>\n<ul>\n<li>What is the reason of this strange behavior?</li>\n<li>How can I make it work even if executed later in the initialization?</li>\n<li>If I cannot, how can I adjust the new bean to initialize earlier?</li>\n</ul>\n"},{"tags":["java","maven","junit","autotest"],"answers":[{"tags":[],"owner":{"account_id":26479761,"reputation":1,"user_id":20119184,"display_name":"avatar277"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666166650,"creation_date":1666103916,"answer_id":74112845,"question_id":73290047,"body_markdown":"I had the exact same problem as you, including Intellij reporting the properties in `junit-platform.properties` as not being used. \r\n\r\nAdding the JUnit properties to my `build.gradle` ended up being the solution for me. \r\n```\r\ntest {\r\n    useJUnitPlatform {\r\n        includeEngines &#39;junit-jupiter&#39;, &#39;junit-vintage&#39;\r\n        systemProperty &#39;junit.jupiter.execution.parallel.enabled&#39;, &#39;true&#39;\r\n        systemProperty &#39;junit.jupiter.execution.parallel.config.strategy&#39;, &#39;dynamic&#39;\r\n        systemProperty &#39;junit.jupiter.execution.parallel.mode.default&#39;, &#39;concurrent&#39;\r\n        systemProperty &#39;junit.jupiter.execution.parallel.mode.classes.default&#39;, &#39;concurrent&#39;\r\n    }\r\n}\r\n```\r\n","title":"JUnit 5 parallel tests not running in junit-platform.properties file","body":"<p>I had the exact same problem as you, including Intellij reporting the properties in <code>junit-platform.properties</code> as not being used.</p>\n<p>Adding the JUnit properties to my <code>build.gradle</code> ended up being the solution for me.</p>\n<pre><code>test {\n    useJUnitPlatform {\n        includeEngines 'junit-jupiter', 'junit-vintage'\n        systemProperty 'junit.jupiter.execution.parallel.enabled', 'true'\n        systemProperty 'junit.jupiter.execution.parallel.config.strategy', 'dynamic'\n        systemProperty 'junit.jupiter.execution.parallel.mode.default', 'concurrent'\n        systemProperty 'junit.jupiter.execution.parallel.mode.classes.default', 'concurrent'\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18141370,"reputation":143,"user_id":13762114,"display_name":"Otto Rahn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":879,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666166650,"creation_date":1660039761,"question_id":73290047,"body_markdown":"The tests do not run in parallel, &quot;Unused property&quot; is written in the properties file, what could be the problem? POM:\r\n\r\nhttps://gist.github.com/vindus940/60b1a6440d3be9f25ff2b00f0e74dcea\r\n\r\nfile structure: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mAxYr.png\r\n","title":"JUnit 5 parallel tests not running in junit-platform.properties file","body":"<p>The tests do not run in parallel, &quot;Unused property&quot; is written in the properties file, what could be the problem? POM:</p>\n<p><a href=\"https://gist.github.com/vindus940/60b1a6440d3be9f25ff2b00f0e74dcea\" rel=\"nofollow noreferrer\">https://gist.github.com/vindus940/60b1a6440d3be9f25ff2b00f0e74dcea</a></p>\n<p>file structure:</p>\n<p><a href=\"https://i.stack.imgur.com/mAxYr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mAxYr.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":6076299,"reputation":2304,"user_id":4743567,"accept_rate":73,"display_name":"Subburaj"},"score":0,"creation_date":1527701650,"post_id":50610249,"comment_id":88230847,"body_markdown":"Whether you want to extract the &quot;Price &amp; \nAvailability Check cannot be executed for your order&quot; text from element 1 and &quot; Part# 00000&quot; text from element 2 html?","body":"Whether you want to extract the &quot;Price &amp;  Availability Check cannot be executed for your order&quot; text from element 1 and &quot; Part# 00000&quot; text from element 2 html?"},{"owner":{"account_id":13091224,"reputation":121,"user_id":9458620,"display_name":"Y_Sh"},"score":0,"creation_date":1527701998,"post_id":50610249,"comment_id":88231022,"body_markdown":"something like: if (&quot;Price &amp; Availability Check cannot be executed for your order&quot;.isDispayed) { do this} else { get text of element &quot;Part# 00000&quot;. but when first text is displayed, another one (Part# 00000&quot;) doesn&#39;t exist.","body":"something like: if (&quot;Price &amp; Availability Check cannot be executed for your order&quot;.isDispayed) { do this} else { get text of element &quot;Part# 00000&quot;. but when first text is displayed, another one (Part# 00000&quot;) doesn&#39;t exist."},{"owner":{"account_id":6076299,"reputation":2304,"user_id":4743567,"accept_rate":73,"display_name":"Subburaj"},"score":0,"creation_date":1527704390,"post_id":50610249,"comment_id":88232246,"body_markdown":"Okay. So,I have assumed,  At any point of time, we can see either element 1 html or element 2 html and updated the answer","body":"Okay. So,I have assumed,  At any point of time, we can see either element 1 html or element 2 html and updated the answer"}],"answers":[{"comments":[{"owner":{"account_id":13091224,"reputation":121,"user_id":9458620,"display_name":"Y_Sh"},"score":0,"creation_date":1527783158,"post_id":50611128,"comment_id":88267181,"body_markdown":"the size of the rootElement is always 1, so it will always execute statement after if and will ignore else.","body":"the size of the rootElement is always 1, so it will always execute statement after if and will ignore else."},{"owner":{"account_id":6076299,"reputation":2304,"user_id":4743567,"accept_rate":73,"display_name":"Subburaj"},"score":0,"creation_date":1527784985,"post_id":50611128,"comment_id":88268138,"body_markdown":"No. I haven&#39;t taken the root element size. Using the Root Element, I am getting the element1 in List( Xpath --&gt; &quot;.//div[@class=&#39;span11&#39;]/p&quot; ).It&#39;s called Chained Search. If the Element 1 is available, then element1List.size() will be 1, else it will be 0.  This code will work without any issue","body":"No. I haven&#39;t taken the root element size. Using the Root Element, I am getting the element1 in List( Xpath --&gt; &quot;.//div[@class=&#39;span11&#39;]/p&quot; ).It&#39;s called Chained Search. If the Element 1 is available, then element1List.size() will be 1, else it will be 0.  This code will work without any issue"},{"owner":{"account_id":6076299,"reputation":2304,"user_id":4743567,"accept_rate":73,"display_name":"Subburaj"},"score":0,"creation_date":1527785976,"post_id":50611128,"comment_id":88268638,"body_markdown":"@Y_Sh: I have updated the details in the answer. Please check","body":"@Y_Sh: I have updated the details in the answer. Please check"},{"owner":{"account_id":13091224,"reputation":121,"user_id":9458620,"display_name":"Y_Sh"},"score":0,"creation_date":1527800841,"post_id":50611128,"comment_id":88275830,"body_markdown":"the element1 with Xpath --&gt; &quot;.//div[@class=&#39;span11&#39;]/p isn&#39;t the one element to be taken. Once element 2 is displayed the element1 will not be existed. And I need to use both elements in one condition: if element 1 is displayed do this, else take element2 text and do this.","body":"the element1 with Xpath --&gt; &quot;.//div[@class=&#39;span11&#39;]/p isn&#39;t the one element to be taken. Once element 2 is displayed the element1 will not be existed. And I need to use both elements in one condition: if element 1 is displayed do this, else take element2 text and do this."},{"owner":{"account_id":6076299,"reputation":2304,"user_id":4743567,"accept_rate":73,"display_name":"Subburaj"},"score":0,"creation_date":1527825603,"post_id":50611128,"comment_id":88281692,"body_markdown":"yeah.I think, you are not getting my point. The element 1 is getting displayed inside the span11 class with tag as P.But In Element 2 HTML, P tag is not present inside the div tag[Span 11 class] . Have you tried with the above code?","body":"yeah.I think, you are not getting my point. The element 1 is getting displayed inside the span11 class with tag as P.But In Element 2 HTML, P tag is not present inside the div tag[Span 11 class] . Have you tried with the above code?"},{"owner":{"account_id":13091224,"reputation":121,"user_id":9458620,"display_name":"Y_Sh"},"score":0,"creation_date":1528125733,"post_id":50611128,"comment_id":88377469,"body_markdown":"Yes, I did. And it works only when element1 is displayed. But failed when element 2","body":"Yes, I did. And it works only when element1 is displayed. But failed when element 2"},{"owner":{"account_id":6076299,"reputation":2304,"user_id":4743567,"accept_rate":73,"display_name":"Subburaj"},"score":0,"creation_date":1528128331,"post_id":50611128,"comment_id":88378964,"body_markdown":"Oh. Actually, the above code should work. However, you can try with the modified code","body":"Oh. Actually, the above code should work. However, you can try with the modified code"}],"tags":[],"owner":{"account_id":6076299,"reputation":2304,"user_id":4743567,"accept_rate":73,"display_name":"Subburaj"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528128391,"creation_date":1527704160,"answer_id":50611128,"question_id":50610249,"body_markdown":"You can modify the code as below\r\n\r\n**Code:**\r\n\r\n        public void checkTextInPopUp(){\r\n\r\n            WebElement rootElement=driver.findElement(By.id(&quot;CheckStockProductAvailabilityWidget&quot;));\r\n            List&lt;WebElement&gt; element1List=rootElement.findElements(By.xpath(&quot;.//div[@class=&#39;span11&#39;]/p&quot;));\r\n\r\n            if (element1List.size()==1) {\r\n                ---Do your stuff----\r\n                addToCartStock.click();\r\n            } else {\r\n                System.out.println(rootElement.findElement(By.xpath(&quot;.//div[@class=&#39;span12&#39;]&quot;)).getText());\r\n            }\r\n        }\r\n    }\r\n\r\n**Details:**\r\n\r\n 1. Find the Root WebElement. Since, this element always visible in both element 1 and element2 HTML\r\n 2. Element 1 may or may not be visible at a time. To avoid `NoSuchElementException`, find the element using `findElements` Method and store the element in List (You can find the element using the root element)\r\n 3. If the element 1 is **found**, then element 1 will be visible and element1 size will be 1.\r\n 4. If the element 1 is **not found**, then element 2 will be visible and\r\n    element 1 size will be 0.\r\n5. logic can be added based on the element size condition\r\n\r\n**Updated Code:**\r\n\r\n    List&lt;WebElement&gt; elementList=driver.findElements(By.xpath(&quot;//p[@id=&#39;ajaxErrorMsg&#39;]&quot;));\r\n    //If the element 1 html is present, then element list size will be 1, else it will be 0.\r\n    if(elementList.size()&gt;0){\r\n        //element 1 related stuff\r\n        ---Do your stuff----\r\n                addToCartStock.click();\r\n    }\r\n    else{\r\n        //element 2 related stuff\r\n        System.out.println(rootElement.findElement(By.xpath(&quot;.//div[@class=&#39;span12&#39;]&quot;)).getText());\r\n    }","title":"Selenium check dynamic elements","body":"<p>You can modify the code as below</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>    public void checkTextInPopUp(){\n\n        WebElement rootElement=driver.findElement(By.id(\"CheckStockProductAvailabilityWidget\"));\n        List&lt;WebElement&gt; element1List=rootElement.findElements(By.xpath(\".//div[@class='span11']/p\"));\n\n        if (element1List.size()==1) {\n            ---Do your stuff----\n            addToCartStock.click();\n        } else {\n            System.out.println(rootElement.findElement(By.xpath(\".//div[@class='span12']\")).getText());\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Details:</strong></p>\n\n<ol>\n<li>Find the Root WebElement. Since, this element always visible in both element 1 and element2 HTML</li>\n<li>Element 1 may or may not be visible at a time. To avoid <code>NoSuchElementException</code>, find the element using <code>findElements</code> Method and store the element in List (You can find the element using the root element)</li>\n<li>If the element 1 is <strong>found</strong>, then element 1 will be visible and element1 size will be 1.</li>\n<li>If the element 1 is <strong>not found</strong>, then element 2 will be visible and\nelement 1 size will be 0.\n\n<ol start=\"5\">\n<li>logic can be added based on the element size condition</li>\n</ol></li>\n</ol>\n\n<p><strong>Updated Code:</strong></p>\n\n<pre><code>List&lt;WebElement&gt; elementList=driver.findElements(By.xpath(\"//p[@id='ajaxErrorMsg']\"));\n//If the element 1 html is present, then element list size will be 1, else it will be 0.\nif(elementList.size()&gt;0){\n    //element 1 related stuff\n    ---Do your stuff----\n            addToCartStock.click();\n}\nelse{\n    //element 2 related stuff\n    System.out.println(rootElement.findElement(By.xpath(\".//div[@class='span12']\")).getText());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13091224,"reputation":121,"user_id":9458620,"display_name":"Y_Sh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527745091,"creation_date":1527709459,"answer_id":50612336,"question_id":50610249,"body_markdown":"I&#39;ve found out the solution by using try and catch. Will see if it&#39;s an ideal one.\r\n\r\n    public void getStockPopUpMessage() {\r\n\r\n        try {\r\n            driver.findElement(By.xpath(&quot;.//*[@id=&#39;ajaxErrorMsg&#39;]&quot;));\r\n            System.out.println(&quot;Stock displays: &quot; + \r\n            driver.findElement(By.xpath(&quot;.//*[@id=&#39;ajaxErrorMsg&#39;]&quot;)).getText());\r\n            closeCheckStock.click();\r\n        } catch (NoSuchElementException e) {\r\n            System.out.println(&quot;No ajax&quot;);\r\n            dothis();\r\n        }\r\n    }","title":"Selenium check dynamic elements","body":"<p>I've found out the solution by using try and catch. Will see if it's an ideal one.</p>\n\n<pre><code>public void getStockPopUpMessage() {\n\n    try {\n        driver.findElement(By.xpath(\".//*[@id='ajaxErrorMsg']\"));\n        System.out.println(\"Stock displays: \" + \n        driver.findElement(By.xpath(\".//*[@id='ajaxErrorMsg']\")).getText());\n        closeCheckStock.click();\n    } catch (NoSuchElementException e) {\n        System.out.println(\"No ajax\");\n        dothis();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25202098,"reputation":1,"user_id":19040859,"display_name":"AYaman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666166271,"creation_date":1666166271,"answer_id":74121790,"question_id":50610249,"body_markdown":"Simply use \r\n    @FindAll ({\r\n               @FindBy(locator elem1)\r\n               @FindBy(locator elem2)`enter code here`\r\n             })\r\n    private WebElement elem`enter code here`X;\r\n\r\nFindAll annotation works with OR logic. It will find elem1 or elem2 and store  it as a web element. Alternatively you can store it in a List of web element within your object repository.","title":"Selenium check dynamic elements","body":"<p>Simply use\n@FindAll ({\n@FindBy(locator elem1)\n@FindBy(locator elem2)<code>enter code here</code>\n})\nprivate WebElement elem<code>enter code here</code>X;</p>\n<p>FindAll annotation works with OR logic. It will find elem1 or elem2 and store  it as a web element. Alternatively you can store it in a List of web element within your object repository.</p>\n"}],"owner":{"account_id":13091224,"reputation":121,"user_id":9458620,"display_name":"Y_Sh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1666166271,"creation_date":1527700595,"question_id":50610249,"body_markdown":"Selenium/Java\r\n\r\nthe task is to get text of two possible elements: elem1 and elem2. \r\nWhen Scenario A - elem1 is displayed, and the locator of elem2 doesn&#39;t exist. And vice versa.\r\n\r\nMy code:\r\n\r\n     public void checkTextInPopUp() {\r\n        List&lt;WebElement&gt; commonDiv= driver.findElements(By.xpath(&quot;.//* \r\n    [@id=&#39;CheckStockProductAvailabilityWidget&#39;]/div/div&quot;));\r\n\r\n        if (commonDiv.size()&gt;=1) {\r\n            \r\n            addToCartStock.click();         \r\n\r\n        } else {\r\n          \r\n    System.out.println(driver.findElement(By.id(&quot;ajaxErrorMsg&quot;)).getText());\r\n            closeCheckStock.click();            \r\n        }\r\n    }\r\n\r\nMy code is always work only in scenario1 and failed when element2 is dispayed, saying: unable to locate element2.\r\n\r\nElem1 html:\r\n\r\n        &lt;div id=&quot;CheckStockProductAvailabilityWidget&quot; class=&quot;dijitContentPane&quot; \r\n    lang=&quot;en&quot; controllerid=&quot;CheckStockProductAvailabilityController&quot; \r\n    widgetid=&quot;CheckStockProductAvailabilityWidget&quot; \r\n    dojotype=&quot;wc.widget.RefreshArea&quot; style=&quot;&quot;&gt;\r\n          &lt;div class=&quot;row-fluid&quot;&gt;\r\n             &lt;div class=&quot;span11&quot;&gt;\r\n                &lt;p id=&quot;ajaxErrorMsg&quot; class=&quot;error-font-color&quot;&gt;Price &amp; \r\n    Availability Check cannot be executed for your order.&lt;/p&gt;\r\n             &lt;/div&gt;\r\n         &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\nElem2 html:\r\n\r\n    &lt;div id=&quot;CheckStockProductAvailabilityWidget&quot; class=&quot;dijitContentPane&quot; \r\n    lang=&quot;en&quot; controllerid=&quot;CheckStockProductAvailabilityController&quot; \r\n    widgetid=&quot;CheckStockProductAvailabilityWidget&quot; \r\n    dojotype=&quot;wc.widget.RefreshArea&quot; style=&quot;&quot;&gt;\r\n    &lt;div class=&quot;row-fluid&quot;&gt;\r\n      &lt;div class=&quot;span11&quot;&gt;\r\n        &lt;div class=&quot;row-fluid &quot;&gt;\r\n           &lt;div class=&quot;span12&quot;&gt;\r\n\r\n                  Part# 00000\r\n                 &lt;br/&gt;\r\n                 &lt;p&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n      &lt;div class=&quot;row-fluid space-bottom&quot;&gt;\r\n      &lt;div class=&quot;row-fluid &quot;&gt;\r\n      &lt;div class=&quot;row-fluid mobile-inline-block&quot;&gt;\r\n   &lt;/div&gt;\r\n\r\n\r\nBoth elements have a common &lt;div class=&quot;span11&quot;&gt;, and both returns &quot;1&quot; when getting element.size","title":"Selenium check dynamic elements","body":"<p>Selenium/Java</p>\n\n<p>the task is to get text of two possible elements: elem1 and elem2. \nWhen Scenario A - elem1 is displayed, and the locator of elem2 doesn't exist. And vice versa.</p>\n\n<p>My code:</p>\n\n<pre><code> public void checkTextInPopUp() {\n    List&lt;WebElement&gt; commonDiv= driver.findElements(By.xpath(\".//* \n[@id='CheckStockProductAvailabilityWidget']/div/div\"));\n\n    if (commonDiv.size()&gt;=1) {\n\n        addToCartStock.click();         \n\n    } else {\n\nSystem.out.println(driver.findElement(By.id(\"ajaxErrorMsg\")).getText());\n        closeCheckStock.click();            \n    }\n}\n</code></pre>\n\n<p>My code is always work only in scenario1 and failed when element2 is dispayed, saying: unable to locate element2.</p>\n\n<p>Elem1 html:</p>\n\n<pre><code>    &lt;div id=\"CheckStockProductAvailabilityWidget\" class=\"dijitContentPane\" \nlang=\"en\" controllerid=\"CheckStockProductAvailabilityController\" \nwidgetid=\"CheckStockProductAvailabilityWidget\" \ndojotype=\"wc.widget.RefreshArea\" style=\"\"&gt;\n      &lt;div class=\"row-fluid\"&gt;\n         &lt;div class=\"span11\"&gt;\n            &lt;p id=\"ajaxErrorMsg\" class=\"error-font-color\"&gt;Price &amp; \nAvailability Check cannot be executed for your order.&lt;/p&gt;\n         &lt;/div&gt;\n     &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Elem2 html:</p>\n\n<pre><code>&lt;div id=\"CheckStockProductAvailabilityWidget\" class=\"dijitContentPane\" \nlang=\"en\" controllerid=\"CheckStockProductAvailabilityController\" \nwidgetid=\"CheckStockProductAvailabilityWidget\" \ndojotype=\"wc.widget.RefreshArea\" style=\"\"&gt;\n&lt;div class=\"row-fluid\"&gt;\n  &lt;div class=\"span11\"&gt;\n    &lt;div class=\"row-fluid \"&gt;\n       &lt;div class=\"span12\"&gt;\n\n              Part# 00000\n             &lt;br/&gt;\n             &lt;p&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n  &lt;div class=\"row-fluid space-bottom\"&gt;\n  &lt;div class=\"row-fluid \"&gt;\n  &lt;div class=\"row-fluid mobile-inline-block\"&gt;\n</code></pre>\n\n<p></p>\n\n<p>Both elements have a common , and both returns \"1\" when getting element.size</p>\n"},{"tags":["java","spring-boot","spring-security","single-sign-on","cas"],"answers":[{"tags":[],"owner":{"account_id":3580437,"reputation":513,"user_id":2988780,"display_name":"Creamstout10"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649434265,"creation_date":1649434265,"answer_id":71800197,"question_id":71753882,"body_markdown":"If you need to make calls to the other service&#39;s API do you need to make the request as the logged-in user? Typically service to service calls use a machine token and not a user token. If the user context is required you could look at minting JWTs as service tickets:\r\n\r\nhttps://apereo.github.io/cas/6.0.x/installation/JWT-Authentication.html\r\n\r\nYou could pass the JWT to the other service&#39;s API to provide user context but I would recommend using a different form of authentication as it would allow anyone with a valid JWT to call your service&#39;s API.","title":"How to call an external rest api authenticated by the same CAS SSO","body":"<p>If you need to make calls to the other service's API do you need to make the request as the logged-in user? Typically service to service calls use a machine token and not a user token. If the user context is required you could look at minting JWTs as service tickets:</p>\n<p><a href=\"https://apereo.github.io/cas/6.0.x/installation/JWT-Authentication.html\" rel=\"nofollow noreferrer\">https://apereo.github.io/cas/6.0.x/installation/JWT-Authentication.html</a></p>\n<p>You could pass the JWT to the other service's API to provide user context but I would recommend using a different form of authentication as it would allow anyone with a valid JWT to call your service's API.</p>\n"},{"tags":[],"owner":{"account_id":309979,"reputation":26,"user_id":622709,"display_name":"Nesteban"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666166202,"creation_date":1666166202,"answer_id":74121766,"question_id":71753882,"body_markdown":"I like [@creamstout10][1] answer, I think it is the way to go although I have been using the CAS Protocol proxy tickets approach for service to service calls with older versions of CAS. \r\n\r\nYou don&#39;t specify which CAS client you are using. In all cases, if you don&#39;t get a proxy ticket usually you need to configure the proxy receptor URL correctly, so that CAS server can call it (to confirm, check CAS server logs for errors). For example, if you are using java cas client directly, check ***proxyReceptorUrl*** property here: \r\n\r\n&lt;https://github.com/apereo/java-cas-client#orgapereocasclientvalidationcas20proxyreceivingticketvalidationfilter&gt;\r\n\r\nIf using spring-security-cas you should check that module&#39;s documentation for settings those properties in Spring config.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2988780/creamstout10","title":"How to call an external rest api authenticated by the same CAS SSO","body":"<p>I like <a href=\"https://stackoverflow.com/users/2988780/creamstout10\">@creamstout10</a> answer, I think it is the way to go although I have been using the CAS Protocol proxy tickets approach for service to service calls with older versions of CAS.</p>\n<p>You don't specify which CAS client you are using. In all cases, if you don't get a proxy ticket usually you need to configure the proxy receptor URL correctly, so that CAS server can call it (to confirm, check CAS server logs for errors). For example, if you are using java cas client directly, check <em><strong>proxyReceptorUrl</strong></em> property here:</p>\n<p><a href=\"https://github.com/apereo/java-cas-client#orgapereocasclientvalidationcas20proxyreceivingticketvalidationfilter\" rel=\"nofollow noreferrer\">https://github.com/apereo/java-cas-client#orgapereocasclientvalidationcas20proxyreceivingticketvalidationfilter</a></p>\n<p>If using spring-security-cas you should check that module's documentation for settings those properties in Spring config.</p>\n"}],"owner":{"account_id":2326732,"reputation":69,"user_id":2041057,"accept_rate":100,"display_name":"user2041057"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666166202,"creation_date":1649170159,"question_id":71753882,"body_markdown":"I have a microservice that is protected by cas sso. There is also another microservice that is also authenticated by the same cas server. In my app I need to call a rest api from the second microservice. I&#39;ve searched alot and just found a few about it, e.g. [this][1]. I agve it a try as follows:\r\n\r\n    final String targetUrl = &quot;https://server/webappB&quot;;\r\n    final CasAuthenticationToken token = (CasAuthenticationToken) request.getUserPrincipal();\r\n    final String proxyTicket = token.getAssertion().getPrincipal().getProxyTicketFor(targetUrl);\r\n    final String serviceUrl = targetUrl+&quot;?ticket=&quot;+URLEncoder.encode(proxyTicket, &quot;UTF-8&quot;);\r\n    String proxyResponse = CommonUtils.getResponseFromServer(serviceUrl, &quot;UTF-8&quot;);\r\n\r\nbut the `proxyTicket` is `null`! What I must to do (probably in my client app cas settings) to get it working?\r\n  \r\np.s. I&#39;m new to sso and don&#39;t know if this is the only way to call an external rest api or not. I get manually the `JSESSIONID` cookie of the external rest service from `firefox` and somehow set it in a request in my app code and could to get response but have no idea how I can do this automatically? \r\n\r\n  [1]: https://stackoverflow.com/questions/8838545/spring-and-cas-using-proxy-tickets","title":"How to call an external rest api authenticated by the same CAS SSO","body":"<p>I have a microservice that is protected by cas sso. There is also another microservice that is also authenticated by the same cas server. In my app I need to call a rest api from the second microservice. I've searched alot and just found a few about it, e.g. <a href=\"https://stackoverflow.com/questions/8838545/spring-and-cas-using-proxy-tickets\">this</a>. I agve it a try as follows:</p>\n<pre><code>final String targetUrl = &quot;https://server/webappB&quot;;\nfinal CasAuthenticationToken token = (CasAuthenticationToken) request.getUserPrincipal();\nfinal String proxyTicket = token.getAssertion().getPrincipal().getProxyTicketFor(targetUrl);\nfinal String serviceUrl = targetUrl+&quot;?ticket=&quot;+URLEncoder.encode(proxyTicket, &quot;UTF-8&quot;);\nString proxyResponse = CommonUtils.getResponseFromServer(serviceUrl, &quot;UTF-8&quot;);\n</code></pre>\n<p>but the <code>proxyTicket</code> is <code>null</code>! What I must to do (probably in my client app cas settings) to get it working?</p>\n<p>p.s. I'm new to sso and don't know if this is the only way to call an external rest api or not. I get manually the <code>JSESSIONID</code> cookie of the external rest service from <code>firefox</code> and somehow set it in a request in my app code and could to get response but have no idea how I can do this automatically?</p>\n"},{"tags":["java","c++","reference"],"comments":[{"owner":{"account_id":8261,"reputation":4480,"user_id":14788,"display_name":"Mark Kegel"},"score":1,"creation_date":1231560562,"post_id":430479,"comment_id":254073,"body_markdown":"Java only passes around object-references. You can think of them essentially the same as boost shared_ptr&#39;s. Just box the primitive in an object and you&#39;re set. You may want to correct the wording of your question.","body":"Java only passes around object-references. You can think of them essentially the same as boost shared_ptr&#39;s. Just box the primitive in an object and you&#39;re set. You may want to correct the wording of your question."},{"owner":{"account_id":6555,"reputation":813,"user_id":11077,"display_name":"Steve Lacey"},"score":1,"creation_date":1232696132,"post_id":430479,"comment_id":289828,"body_markdown":"Sorry, but I have to chime in. Pass by reference out parameters in c++ are evil. Don&#39;t do it.","body":"Sorry, but I have to chime in. Pass by reference out parameters in c++ are evil. Don&#39;t do it."},{"owner":{"display_name":"user140327"},"score":0,"creation_date":1251822717,"post_id":430479,"comment_id":1201020,"body_markdown":"@Steve Lacey - why are they evil?","body":"@Steve Lacey - why are they evil?"}],"answers":[{"tags":[],"owner":{"account_id":11948,"reputation":737798,"user_id":23283,"accept_rate":100,"display_name":"JaredPar"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1666166069,"creation_date":1231557015,"answer_id":430488,"question_id":430479,"body_markdown":"Java has no equivalent of C++ references.  The only way to get this to work is to encapsulate the values in another class and swap the values within the class.  \r\n\r\nHere is a lengthy discussion on the issue: https://jonskeet.uk/java/passing.html","title":"How do I use an equivalent to C++ reference parameters in Java?","body":"<p>Java has no equivalent of C++ references.  The only way to get this to work is to encapsulate the values in another class and swap the values within the class.</p>\n<p>Here is a lengthy discussion on the issue: <a href=\"https://jonskeet.uk/java/passing.html\" rel=\"nofollow noreferrer\">https://jonskeet.uk/java/passing.html</a></p>\n"},{"tags":[],"owner":{"account_id":18835,"reputation":82201,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1231557087,"creation_date":1231557087,"answer_id":430491,"question_id":430479,"body_markdown":"Well, there are a couple of workarounds. You mentioned one yourself. Another one would be:\r\n\r\n    public void test(int[] values) {\r\n        ++values[0];\r\n        ++values[1];\r\n    }\r\n\r\nI would go with the custom object, though. It’s a much cleaner way. Also, try to re-arrange your problem so that a single method doesn’t need to return two values.","title":"How do I use an equivalent to C++ reference parameters in Java?","body":"<p>Well, there are a couple of workarounds. You mentioned one yourself. Another one would be:</p>\n\n<pre><code>public void test(int[] values) {\n    ++values[0];\n    ++values[1];\n}\n</code></pre>\n\n<p>I would go with the custom object, though. It’s a much cleaner way. Also, try to re-arrange your problem so that a single method doesn’t need to return two values.</p>\n"},{"tags":[],"owner":{"account_id":19555,"reputation":237923,"user_id":45914,"accept_rate":68,"display_name":"jason"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1231557149,"creation_date":1231557149,"answer_id":430492,"question_id":430479,"body_markdown":"Java does not have pass-by-reference. You must encapsulate to achieve the desired functionality. Jon Skeet has a brief [explanation](http://www.yoda.arachsys.com/java/passing.html) why pass-by-reference was excluded from Java.","title":"How do I use an equivalent to C++ reference parameters in Java?","body":"<p>Java does not have pass-by-reference. You must encapsulate to achieve the desired functionality. Jon Skeet has a brief <a href=\"http://www.yoda.arachsys.com/java/passing.html\" rel=\"noreferrer\">explanation</a> why pass-by-reference was excluded from Java.</p>\n"},{"comments":[{"owner":{"account_id":18835,"reputation":82201,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"score":0,"creation_date":1231557796,"post_id":430496,"comment_id":254041,"body_markdown":"That will still not change the objects outside of the method, as Integers are immutable.","body":"That will still not change the objects outside of the method, as Integers are immutable."},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1231560360,"post_id":430496,"comment_id":254069,"body_markdown":"Where did you get the idea that Integer had an add() method? Anyway, as Bombe pointed out, Integers are immutable, which leaves you with the exact same problem (but with more typing).","body":"Where did you get the idea that Integer had an add() method? Anyway, as Bombe pointed out, Integers are immutable, which leaves you with the exact same problem (but with more typing)."},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1231560610,"post_id":430496,"comment_id":254076,"body_markdown":"Looks like I should have addressed that comment to jinguy; he&#39;s the one who added those methods.","body":"Looks like I should have addressed that comment to jinguy; he&#39;s the one who added those methods."},{"owner":{"account_id":7808,"reputation":24390,"user_id":13687,"display_name":"John Gardner"},"score":0,"creation_date":1231564376,"post_id":430496,"comment_id":254132,"body_markdown":"you could pass in AtomicInteger instead, that&#39;s mutable.  That isn&#39;t its intended purpose, but would almost make this method work.","body":"you could pass in AtomicInteger instead, that&#39;s mutable.  That isn&#39;t its intended purpose, but would almost make this method work."},{"owner":{"account_id":16029,"reputation":498875,"user_id":34509,"accept_rate":62,"display_name":"Johannes Schaub - litb"},"score":0,"creation_date":1231592227,"post_id":430496,"comment_id":254405,"body_markdown":"this won&#39;t work as object references are passed by value, as everything in java. read this. http://stackoverflow.com/questions/373419/whats-the-difference-between-a-parameter-passed-by-reference-vs-passed-by-value#373429","body":"this won&#39;t work as object references are passed by value, as everything in java. read this. <a href=\"http://stackoverflow.com/questions/373419/whats-the-difference-between-a-parameter-passed-by-reference-vs-passed-by-value#373429\" title=\"whats the difference between a parameter passed by reference vs passed by value%23373429\">stackoverflow.com/questions/373419/&hellip;</a>"},{"owner":{"account_id":16029,"reputation":498875,"user_id":34509,"accept_rate":62,"display_name":"Johannes Schaub - litb"},"score":0,"creation_date":1231592713,"post_id":430496,"comment_id":254413,"body_markdown":"it has nothing todo with whether or not Integer is immutable tho. .. ugg it was jinguy who added those code in test. well ok it *had* something todo with immutability before jinguy changed that answer :p now it solely has todo with pass-by-value instead of pass-by-reference :)","body":"it has nothing todo with whether or not Integer is immutable tho. .. ugg it was jinguy who added those code in test. well ok it <i>had</i> something todo with immutability before jinguy changed that answer :p now it solely has todo with pass-by-value instead of pass-by-reference :)"}],"tags":[],"owner":{"account_id":16216,"reputation":110786,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"comment_count":6,"down_vote_count":6,"up_vote_count":2,"is_accepted":false,"score":-4,"last_activity_date":1231559491,"creation_date":1231557295,"answer_id":430496,"question_id":430479,"body_markdown":"You could construct boxed objects, ie,\r\n\r\n    Integer iObj = new Integer(i);\r\n    Integer jObj = new Integer(j);\r\n\r\nand write your routine as\r\n\r\n    public void test(Integer i, Integer j){\r\n      i = i.add(1);\r\n      j = j.add(1);\r\n    }\r\n\r\nFor any number of reasons, the designers of Java felt call-by-value was better; they purposefully didn&#39;t include a method for call by reference.  (Strictly, they pass copies of references to the objects, with the special case for the primitive types that they are purely call by value.  But the effect is the same.)\r\n\r\n","title":"How do I use an equivalent to C++ reference parameters in Java?","body":"<p>You could construct boxed objects, ie,</p>\n\n<pre><code>Integer iObj = new Integer(i);\nInteger jObj = new Integer(j);\n</code></pre>\n\n<p>and write your routine as</p>\n\n<pre><code>public void test(Integer i, Integer j){\n  i = i.add(1);\n  j = j.add(1);\n}\n</code></pre>\n\n<p>For any number of reasons, the designers of Java felt call-by-value was better; they purposefully didn't include a method for call by reference.  (Strictly, they pass copies of references to the objects, with the special case for the primitive types that they are purely call by value.  But the effect is the same.)</p>\n"},{"tags":[],"owner":{"account_id":17447,"reputation":30170,"user_id":39057,"accept_rate":89,"display_name":"Loki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1231559565,"creation_date":1231559565,"answer_id":430530,"question_id":430479,"body_markdown":"You have to box it (your way) somehow.\r\n\r\nInteger is immutable. so useless.\r\nint is mutable but since java is pass by value then its unusable again in that case.\r\nSee these pages for more explanations: [Java is Pass-by-Value, Dammit!][1] and [int vs Integer][2]\r\n\r\n\r\nApache commons lang has a MutableInt class. Or you could write it yourself.\r\n\r\nIn any case, it should not be that bad because it should not happen often. If it does, then you should definitively change the way you code in Java.\r\n\r\n\r\n  [1]: http://javadude.com/articles/passbyvalue.htm\r\n  [2]: http://mindprod.com/jgloss/intvsinteger.html","title":"How do I use an equivalent to C++ reference parameters in Java?","body":"<p>You have to box it (your way) somehow.</p>\n\n<p>Integer is immutable. so useless.\nint is mutable but since java is pass by value then its unusable again in that case.\nSee these pages for more explanations: <a href=\"http://javadude.com/articles/passbyvalue.htm\" rel=\"nofollow noreferrer\">Java is Pass-by-Value, Dammit!</a> and <a href=\"http://mindprod.com/jgloss/intvsinteger.html\" rel=\"nofollow noreferrer\">int vs Integer</a></p>\n\n<p>Apache commons lang has a MutableInt class. Or you could write it yourself.</p>\n\n<p>In any case, it should not be that bad because it should not happen often. If it does, then you should definitively change the way you code in Java.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1251821757,"creation_date":1231602436,"answer_id":431152,"question_id":430479,"body_markdown":"Simulating reference with wrappers.\r\n-\r\nOne way you can have this behavior somehow simulated is create a generic wrapper. \r\n\r\n    public class _&lt;E&gt; {\r\n        E ref;\r\n        public _( E e ){\r\n            ref = e;\r\n        }\r\n        public E g() { return ref; }\r\n        public void s( E e ){ this.ref = e; }\r\n\r\n        public String toString() {\r\n            return ref.toString();\r\n        }\r\n    }\r\n\r\nI&#39;m not too convinced about the value of this code, by I couldn&#39;t help it, I had to code it :) \r\n\r\nSo here it is.\r\n\r\nThe sample usage:\r\n\r\n    public class Test {\r\n\r\n        public static void main ( String [] args ) {\r\n            _&lt;Integer&gt; iByRef = new _&lt;Integer&gt;( 1 );\r\n            addOne( iByRef );\r\n            System.out.println( iByRef ); // prints 2\r\n\r\n            _&lt;String&gt; sByRef = new _&lt;String&gt;( &quot;Hola&quot; );\r\n            reverse( sByRef ); \r\n            System.out.println( sByRef ); // prints aloH\r\n\r\n        }\r\n\r\n        // Change the value of ref by adding 1\r\n        public static void addOne( _&lt;Integer&gt; ref ) { \r\n            int i = ref.g();\r\n            ref.s( ++i  );\r\n            \r\n            // or \r\n            //int i = ref.g();\r\n            //ref.s( i + 1 );\r\n\r\n        }\r\n        // Reverse the vale of a string.\r\n        public static void reverse( _&lt;String&gt; otherRef ) { \r\n            String v = otherRef.g();\r\n            String reversed = new StringBuilder( v ).reverse().toString();\r\n            otherRef.s( reversed );\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\nThe amusing thing here, is the generic wrapper class name is &quot;_&quot; which is a valid class identifier.  So a declaration reads:\r\n\r\nFor an integer:\r\n\r\n    _&lt;Integer&gt; iByRef = new _&lt;Integer&gt;( 1 );\r\n\r\nFor a String:\r\n\r\n    _&lt;String&gt; sByRef = new _&lt;String&gt;( &quot;Hola&quot; );\r\n\r\nFor any other class\r\n\r\n    _&lt;Employee&gt; employee = new _&lt;Employee&gt;( Employee.byId(123) );\r\n\r\n\r\nThe methods &quot;s&quot; and &quot;g&quot; stands for set and get :P \r\n\r\n\r\n\r\n\r\n","title":"How do I use an equivalent to C++ reference parameters in Java?","body":"<h2>Simulating reference with wrappers.</h2>\n\n<p>One way you can have this behavior somehow simulated is create a generic wrapper. </p>\n\n<pre><code>public class _&lt;E&gt; {\n    E ref;\n    public _( E e ){\n        ref = e;\n    }\n    public E g() { return ref; }\n    public void s( E e ){ this.ref = e; }\n\n    public String toString() {\n        return ref.toString();\n    }\n}\n</code></pre>\n\n<p>I'm not too convinced about the value of this code, by I couldn't help it, I had to code it :) </p>\n\n<p>So here it is.</p>\n\n<p>The sample usage:</p>\n\n<pre><code>public class Test {\n\n    public static void main ( String [] args ) {\n        _&lt;Integer&gt; iByRef = new _&lt;Integer&gt;( 1 );\n        addOne( iByRef );\n        System.out.println( iByRef ); // prints 2\n\n        _&lt;String&gt; sByRef = new _&lt;String&gt;( \"Hola\" );\n        reverse( sByRef ); \n        System.out.println( sByRef ); // prints aloH\n\n    }\n\n    // Change the value of ref by adding 1\n    public static void addOne( _&lt;Integer&gt; ref ) { \n        int i = ref.g();\n        ref.s( ++i  );\n\n        // or \n        //int i = ref.g();\n        //ref.s( i + 1 );\n\n    }\n    // Reverse the vale of a string.\n    public static void reverse( _&lt;String&gt; otherRef ) { \n        String v = otherRef.g();\n        String reversed = new StringBuilder( v ).reverse().toString();\n        otherRef.s( reversed );\n    }\n\n}\n</code></pre>\n\n<p>The amusing thing here, is the generic wrapper class name is \"_\" which is a valid class identifier.  So a declaration reads:</p>\n\n<p>For an integer:</p>\n\n<pre><code>_&lt;Integer&gt; iByRef = new _&lt;Integer&gt;( 1 );\n</code></pre>\n\n<p>For a String:</p>\n\n<pre><code>_&lt;String&gt; sByRef = new _&lt;String&gt;( \"Hola\" );\n</code></pre>\n\n<p>For any other class</p>\n\n<pre><code>_&lt;Employee&gt; employee = new _&lt;Employee&gt;( Employee.byId(123) );\n</code></pre>\n\n<p>The methods \"s\" and \"g\" stands for set and get :P </p>\n"},{"tags":[],"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1231604580,"creation_date":1231604580,"answer_id":431241,"question_id":430479,"body_markdown":"A better question: why are you creating methods with such side-effects?\r\n\r\nGenerally, this is a strong indication that you should extract the data into a separate class, with public accessors that describe why the operation is taking place.","title":"How do I use an equivalent to C++ reference parameters in Java?","body":"<p>A better question: why are you creating methods with such side-effects?</p>\n\n<p>Generally, this is a strong indication that you should extract the data into a separate class, with public accessors that describe why the operation is taking place.</p>\n"},{"tags":[],"owner":{"account_id":7670,"reputation":35003,"user_id":13379,"accept_rate":86,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1231705989,"creation_date":1231705989,"answer_id":433631,"question_id":430479,"body_markdown":"Are the two integers related?  Like a pair of x/y coordinates?  If so, I would put the integers in a new class and pass that class into the method.\r\n\r\n    class A{ \r\n      public void test(Coord c)\r\n      {\r\n        c.x++;\r\n        c.y++;\r\n      }\r\n      private class Coord{\r\n        public int x, y;\r\n      }\r\n    }\r\n\r\nIf the two integers are not related, you might want to think about why you are passing them into the same method in the first place.","title":"How do I use an equivalent to C++ reference parameters in Java?","body":"<p>Are the two integers related?  Like a pair of x/y coordinates?  If so, I would put the integers in a new class and pass that class into the method.</p>\n\n<pre><code>class A{ \n  public void test(Coord c)\n  {\n    c.x++;\n    c.y++;\n  }\n  private class Coord{\n    public int x, y;\n  }\n}\n</code></pre>\n\n<p>If the two integers are not related, you might want to think about why you are passing them into the same method in the first place.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1232695792,"creation_date":1232695792,"answer_id":472188,"question_id":430479,"body_markdown":"Though its a bad design pattern IMHO, Another possible solution is\r\n\r\n    static void test(AtomicInteger i, AtomicInteger j)\r\n    {\r\n        i.incrementAndGet();\r\n        j.incrementAndGet();\r\n    }\r\n\r\n","title":"How do I use an equivalent to C++ reference parameters in Java?","body":"<p>Though its a bad design pattern IMHO, Another possible solution is</p>\n\n<pre><code>static void test(AtomicInteger i, AtomicInteger j)\n{\n    i.incrementAndGet();\n    j.incrementAndGet();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1179412,"reputation":4177,"user_id":1154692,"accept_rate":97,"display_name":"Marwen Trabelsi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354217162,"creation_date":1354217162,"answer_id":13633169,"question_id":430479,"body_markdown":"The easiest solution is to use [org.apache.commons.lang.mutable.MutableInt][1] class you don&#39;t need to write by yourself.\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/api-2.6/org/apache/commons/lang/mutable/MutableInt.html","title":"How do I use an equivalent to C++ reference parameters in Java?","body":"<p>The easiest solution is to use <a href=\"http://commons.apache.org/lang/api-2.6/org/apache/commons/lang/mutable/MutableInt.html\" rel=\"nofollow\">org.apache.commons.lang.mutable.MutableInt</a> class you don't need to write by yourself.</p>\n"},{"tags":[],"owner":{"account_id":5788862,"reputation":11,"user_id":4567117,"display_name":"Bahram Manafi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1423936338,"creation_date":1423936338,"answer_id":28518436,"question_id":430479,"body_markdown":"Java passes parameters by value, and has no mechanism to allow pass-by-reference.","title":"How do I use an equivalent to C++ reference parameters in Java?","body":"<p>Java passes parameters by value, and has no mechanism to allow pass-by-reference.</p>\n"}],"owner":{"display_name":"al bundy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14626,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":11,"score":8,"last_activity_date":1666166069,"creation_date":1231556814,"question_id":430479,"body_markdown":"Suppose I have this in C++:\r\n\r\n    void test(int &amp;i, int &amp;j)\r\n    {\r\n        ++i;\r\n        ++j;\r\n    }\r\n\r\nThe values are altered inside the function and then used outside. How could I write a code that does the same in Java? I imagine I could return a class that encapsulates both values, but that seems really cumbersome.","title":"How do I use an equivalent to C++ reference parameters in Java?","body":"<p>Suppose I have this in C++:</p>\n\n<pre><code>void test(int &amp;i, int &amp;j)\n{\n    ++i;\n    ++j;\n}\n</code></pre>\n\n<p>The values are altered inside the function and then used outside. How could I write a code that does the same in Java? I imagine I could return a class that encapsulates both values, but that seems really cumbersome.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7012111,"reputation":598,"user_id":5374606,"display_name":"Pasindu Weerakoon"},"score":0,"creation_date":1619088994,"post_id":67211508,"comment_id":118801890,"body_markdown":"can you share the coolers.xml file here. I think &quot;black&quot; color not available in it.","body":"can you share the coolers.xml file here. I think &quot;black&quot; color not available in it."}],"answers":[{"tags":[],"owner":{"account_id":19400960,"reputation":1653,"user_id":14187529,"display_name":"Kamal Nayan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619087969,"creation_date":1619087969,"answer_id":67211625,"question_id":67211508,"body_markdown":"Try to remove button colour and use some another attribute like background color or something else.","title":"AAPT: error: attribute buttonColor (aka com.example.*appName*) not found","body":"<p>Try to remove button colour and use some another attribute like background color or something else.</p>\n"},{"tags":[],"owner":{"account_id":23523151,"reputation":1,"user_id":17570024,"display_name":"Ardita Krasniqi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666165765,"creation_date":1666165436,"answer_id":74121596,"question_id":67211508,"body_markdown":"In xml, instead of `fbutton:buttonColor` use `fbutton:fButtonColor`\r\n\r\n```\r\nfbutton:fButtonColor=&quot;@color/black&quot;\r\n```","title":"AAPT: error: attribute buttonColor (aka com.example.*appName*) not found","body":"<p>In xml, instead of <code>fbutton:buttonColor</code> use <code>fbutton:fButtonColor</code></p>\n<pre><code>fbutton:fButtonColor=&quot;@color/black&quot;\n</code></pre>\n"}],"owner":{"account_id":20998200,"reputation":1,"user_id":15615834,"display_name":"Kemi Kuti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":836,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666165765,"creation_date":1619087503,"question_id":67211508,"body_markdown":"I have searched far and high for a solution and tried to also understand this error but there seems not to be much info about this particular error.\r\n\r\nHere is the activity.xml line where is saying the error is residing (I have two of these as I have two buttons) \r\n\r\n    &lt;info.hoang8f.widget.FButton\r\n                android:id=&quot;@+id/btnMakeAnAccount&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:layout_margin=&quot;8dp&quot;\r\n                android:text=&quot;Make An Account&quot;\r\n                android:textColor=&quot;@color/pink&quot;\r\n                fbutton:buttonColor=&quot;@color/black&quot;\r\n                fbutton:cornerRadius=&quot;4dp&quot;\r\n                fbutton:shadowColor=&quot;@android:color/black&quot;\r\n                fbutton:shadowEnabled=&quot;true&quot;\r\n                fbutton:shadowHeight=&quot;5dp&quot;\r\n                /&gt;\r\n\r\nat first I was using this library --&gt; implementation &#39;info.hoang8f:fbutton:1.0.5&#39;\r\n\r\nhowever due to my emulator not working I came to learn to use this library instead --&gt; implementation &#39;com.github.jd-alexander:android-flat-button:v1.1&#39; the library details of use is found here https://github.com/jd-alexander/android-flat-button I thought in my code I have adapted it so it could work but obviously not lol\r\n\r\n\r\nthis is the code of me casting the button and its methods in my main btnLogin = (FButton)findViewById(R.id.btnLogin);\r\n        btnMakeAnAccount = (FButton)findViewById(R.id.btnMakeAnAccount);\r\n\r\n\r\n        btnLogin.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n            }\r\n        });\r\n\r\n        btnMakeAnAccount.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n            }\r\n        });\r\n","title":"AAPT: error: attribute buttonColor (aka com.example.*appName*) not found","body":"<p>I have searched far and high for a solution and tried to also understand this error but there seems not to be much info about this particular error.</p>\n<p>Here is the activity.xml line where is saying the error is residing (I have two of these as I have two buttons)</p>\n<pre><code>&lt;info.hoang8f.widget.FButton\n            android:id=&quot;@+id/btnMakeAnAccount&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot;\n            android:layout_margin=&quot;8dp&quot;\n            android:text=&quot;Make An Account&quot;\n            android:textColor=&quot;@color/pink&quot;\n            fbutton:buttonColor=&quot;@color/black&quot;\n            fbutton:cornerRadius=&quot;4dp&quot;\n            fbutton:shadowColor=&quot;@android:color/black&quot;\n            fbutton:shadowEnabled=&quot;true&quot;\n            fbutton:shadowHeight=&quot;5dp&quot;\n            /&gt;\n</code></pre>\n<p>at first I was using this library --&gt; implementation 'info.hoang8f:fbutton:1.0.5'</p>\n<p>however due to my emulator not working I came to learn to use this library instead --&gt; implementation 'com.github.jd-alexander:android-flat-button:v1.1' the library details of use is found here <a href=\"https://github.com/jd-alexander/android-flat-button\" rel=\"nofollow noreferrer\">https://github.com/jd-alexander/android-flat-button</a> I thought in my code I have adapted it so it could work but obviously not lol</p>\n<p>this is the code of me casting the button and its methods in my main btnLogin = (FButton)findViewById(R.id.btnLogin);\nbtnMakeAnAccount = (FButton)findViewById(R.id.btnMakeAnAccount);</p>\n<pre><code>    btnLogin.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n        }\n    });\n\n    btnMakeAnAccount.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n        }\n    });\n</code></pre>\n"},{"tags":["java","spring","dependency-injection","transactions"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1665996492,"post_id":74094601,"comment_id":130821734,"body_markdown":"`myService` is just a proxy wrapper around `this` presumably. There is only one `MyService` instance, `this` which is also the backing instance of the proxy class referenced by `myService`!?","body":"<code>myService</code> is just a proxy wrapper around <code>this</code> presumably. There is only one <code>MyService</code> instance, <code>this</code> which is also the backing instance of the proxy class referenced by <code>myService</code>!?"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665996489,"creation_date":1665996489,"answer_id":74094687,"question_id":74094601,"body_markdown":"The service is not copied, it is only a reference. But I&#39;d be wary of such a design: it creates a circular reference and the object graph is impossible to create at once. You first need to create the incomplete service, then set its field. Furthermore, it is kind of confusing and surprising to find such a dependency to self\r\n\r\nI&#39;d propose a different solution:\r\n\r\n```\r\n@Component\r\npublic class WithTransaction {\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    public void requiresNew(final Runnable runnable) {\r\n        runnable.run();\r\n    }\r\n}\r\n\r\n@Service\r\npublic class MyService{\r\n    private final WithTransaction withTransaction;\r\n\r\n    @Autowired\r\n    public MyService(final WithTransaction withTransaction) {\r\n      this.withTransaction = withTransaction;\r\n    }\r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    public void method1(){\r\n      method2();// runs in the same transaction with method1\r\n      withTransaction.requiresNew(this::method2); // runs in separate transaction from method1\r\n    }\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    public void method2(){\r\n\r\n    }\r\n}\r\n```\r\n\r\nAnd if you can avoid it: don&#39;t call any public methods from your service on the service itself. Split the service into smaller components so that each &quot;public&quot; call must go through the proxy.","title":"Does spring self injection lead to memory leakage?","body":"<p>The service is not copied, it is only a reference. But I'd be wary of such a design: it creates a circular reference and the object graph is impossible to create at once. You first need to create the incomplete service, then set its field. Furthermore, it is kind of confusing and surprising to find such a dependency to self</p>\n<p>I'd propose a different solution:</p>\n<pre><code>@Component\npublic class WithTransaction {\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    public void requiresNew(final Runnable runnable) {\n        runnable.run();\n    }\n}\n\n@Service\npublic class MyService{\n    private final WithTransaction withTransaction;\n\n    @Autowired\n    public MyService(final WithTransaction withTransaction) {\n      this.withTransaction = withTransaction;\n    }\n\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    public void method1(){\n      method2();// runs in the same transaction with method1\n      withTransaction.requiresNew(this::method2); // runs in separate transaction from method1\n    }\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    public void method2(){\n\n    }\n}\n</code></pre>\n<p>And if you can avoid it: don't call any public methods from your service on the service itself. Split the service into smaller components so that each &quot;public&quot; call must go through the proxy.</p>\n"}],"owner":{"account_id":13807566,"reputation":61,"user_id":9966043,"display_name":"Ahmet Erdem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74094687,"answer_count":1,"score":-2,"last_activity_date":1666164998,"creation_date":1665996078,"question_id":74094601,"body_markdown":"In Spring, beans are encapsulated by a proxy object and when called from outer object the proxy object&#39;s method is also called. By using this trick transaction management is performed in proxy object&#39;s methods. \r\nBut when you are calling a method in the same bean and if you want the called method to be run in another transaction with the caller method it is not possible. Since the method calls in the same bean does not pass through the proxy object which performs transaction operations.\r\nIn order to solve this, self-injection of the bean inside itself is proposed.   \r\n\r\nlike this \r\n\r\n    @Service\r\n    public class MyService{\r\n        @Autowired\r\n        public MyService myService;\r\n    \r\n        @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n        public void method1(){\r\n          method2();// runs in the same transaction with method1\r\n          myService.method2();// runs in separate transaction from method1\r\n        }\r\n        @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n        public void method2(){\r\n    \r\n        }\r\n    }\r\n\r\nI want to ask whether self-injection leads to memory leakage.\r\nOuter bean MyService includes injected myService and myService should include attribute of type MyService, which should include  attribute of type MyService ....\r\n\r\n\r\n\r\n","title":"Does spring self injection lead to memory leakage?","body":"<p>In Spring, beans are encapsulated by a proxy object and when called from outer object the proxy object's method is also called. By using this trick transaction management is performed in proxy object's methods.\nBut when you are calling a method in the same bean and if you want the called method to be run in another transaction with the caller method it is not possible. Since the method calls in the same bean does not pass through the proxy object which performs transaction operations.\nIn order to solve this, self-injection of the bean inside itself is proposed.</p>\n<p>like this</p>\n<pre><code>@Service\npublic class MyService{\n    @Autowired\n    public MyService myService;\n\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    public void method1(){\n      method2();// runs in the same transaction with method1\n      myService.method2();// runs in separate transaction from method1\n    }\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    public void method2(){\n\n    }\n}\n</code></pre>\n<p>I want to ask whether self-injection leads to memory leakage.\nOuter bean MyService includes injected myService and myService should include attribute of type MyService, which should include  attribute of type MyService ....</p>\n"},{"tags":["java","android","google-cloud-firestore","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1665836397,"post_id":74078233,"comment_id":130794450,"body_markdown":"As you discovered anyone who has the FCM server key can send whatever message they want to all of your users. By including this key in your Android app, a malicious user can find it and you&#39;re putting your users at risk. See https://stackoverflow.com/a/37993724 for a better solution.","body":"As you discovered anyone who has the FCM server key can send whatever message they want to all of your users. By including this key in your Android app, a malicious user can find it and you&#39;re putting your users at risk. See <a href=\"https://stackoverflow.com/a/37993724\">stackoverflow.com/a/37993724</a> for a better solution."},{"owner":{"account_id":24326117,"reputation":2235,"user_id":18265638,"display_name":"Sathi Aiswarya"},"score":0,"creation_date":1666446823,"post_id":74078233,"comment_id":130941499,"body_markdown":"I have posted comment as&#160;[community wiki](https://stackoverflow.com/help/privileges/community-wiki). so that others could spot the workaround easier","body":"I have posted comment as <a href=\"https://stackoverflow.com/help/privileges/community-wiki\">community wiki</a>. so that others could spot the workaround easier"}],"answers":[{"tags":[],"owner":{"account_id":24326117,"reputation":2235,"user_id":18265638,"display_name":"Sathi Aiswarya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666164992,"creation_date":1666164992,"answer_id":74121509,"question_id":74078233,"body_markdown":"Answering this as community wiki.As mentioned above in comments by  Frank van Puffelen\r\n\r\nAs you discovered anyone who has the FCM server key can send whatever message they want to all of your users. By including this key in your Android app, a malicious user can find it and you&#39;re putting your users at risk.\r\n \r\nYou can check this stackoverflow [thread][1] for a better solution.\r\n\r\n[1]:https://stackoverflow.com/a/37993724\r\n","title":"Send Firebase Cloud Messaging Notifications via App without exposing the Server Key","body":"<p>Answering this as community wiki.As mentioned above in comments by  Frank van Puffelen</p>\n<p>As you discovered anyone who has the FCM server key can send whatever message they want to all of your users. By including this key in your Android app, a malicious user can find it and you're putting your users at risk.</p>\n<p>You can check this stackoverflow <a href=\"https://stackoverflow.com/a/37993724\">thread</a> for a better solution.</p>\n"}],"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666164992,"creation_date":1665826067,"question_id":74078233,"body_markdown":"I am using the old Firebase Cloud Messaging API. I can send notifications to all my users with the application that I made. But as I watched tutorials, I realized that it is not good to expose your Server Key in your app because apps can be reverse engineered. So, is there any way to send notifications to all users without your server key being exposed? How?","title":"Send Firebase Cloud Messaging Notifications via App without exposing the Server Key","body":"<p>I am using the old Firebase Cloud Messaging API. I can send notifications to all my users with the application that I made. But as I watched tutorials, I realized that it is not good to expose your Server Key in your app because apps can be reverse engineered. So, is there any way to send notifications to all users without your server key being exposed? How?</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1567490009,"post_id":57765709,"comment_id":101966810,"body_markdown":"Are you using the itext 7 *pdfCalligraph* add on?","body":"Are you using the itext 7 <i>pdfCalligraph</i> add on?"},{"owner":{"account_id":10024751,"reputation":1,"user_id":7413217,"display_name":"Rahul.Raj"},"score":0,"creation_date":1567490757,"post_id":57765709,"comment_id":101967049,"body_markdown":"Actually I need to use itext5 and its not working. So I have tried with itext7 and added pdfCalligraph as dependency","body":"Actually I need to use itext5 and its not working. So I have tried with itext7 and added pdfCalligraph as dependency"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1567497591,"post_id":57765709,"comment_id":101970002,"body_markdown":"pdfCalligraph is necessary for non-trivial scripts. Whether it suffices, I cannot tell. You might want ask itext support.","body":"pdfCalligraph is necessary for non-trivial scripts. Whether it suffices, I cannot tell. You might want ask itext support."}],"answers":[{"tags":[],"owner":{"account_id":26668130,"reputation":1,"user_id":20279901,"display_name":"Tarsem Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666164641,"creation_date":1666164641,"answer_id":74121440,"question_id":57765709,"body_markdown":"I know its quite late on answering this question but for future references, I am writing my solution here, on adding following dependencies to pom.xml and updating version of iText7-core &amp; html2pdf dependencies works for me\r\n\r\n- Add below repository to your pom.xml\r\n```\r\n&lt;!-- All add-ons and iText 7 core--&gt;\r\n&lt;repositories&gt;\r\n  &lt;repository&gt;\r\n    &lt;id&gt;itext&lt;/id&gt;\r\n    &lt;name&gt;iText Repository - releases&lt;/name&gt;\r\n    &lt;url&gt;https://repo.itextsupport.com/releases&lt;/url&gt;\r\n  &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n\r\n```\r\n- Add the pdfCalligraph dependency to .pom project file\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n   &lt;artifactId&gt;typography&lt;/artifactId&gt;\r\n   &lt;version&gt;3.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```","title":"Kannada font issue in pdf genration with itext","body":"<p>I know its quite late on answering this question but for future references, I am writing my solution here, on adding following dependencies to pom.xml and updating version of iText7-core &amp; html2pdf dependencies works for me</p>\n<ul>\n<li>Add below repository to your pom.xml</li>\n</ul>\n<pre><code>&lt;!-- All add-ons and iText 7 core--&gt;\n&lt;repositories&gt;\n  &lt;repository&gt;\n    &lt;id&gt;itext&lt;/id&gt;\n    &lt;name&gt;iText Repository - releases&lt;/name&gt;\n    &lt;url&gt;https://repo.itextsupport.com/releases&lt;/url&gt;\n  &lt;/repository&gt;\n&lt;/repositories&gt;\n\n</code></pre>\n<ul>\n<li>Add the pdfCalligraph dependency to .pom project file</li>\n</ul>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n   &lt;artifactId&gt;typography&lt;/artifactId&gt;\n   &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n"}],"owner":{"account_id":10024751,"reputation":1,"user_id":7413217,"display_name":"Rahul.Raj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":640,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666164641,"creation_date":1567489770,"question_id":57765709,"body_markdown":"I have tried to use Itext5 and Itext7 in my application to generate Kannada(Indian language) PDF document. But the character joins are not coming properly \r\n\r\niText7:\r\n\r\n    String dir = &quot;D:\\\\test\\\\sample pdf file\\\\itext7\\\\itext7pdf_&quot; +System.currentTimeMillis()+&quot;.pdf&quot;;\r\n      \r\n    File licenseFile = ResourceUtils.getFile(&quot;classpath:license/itextkey1567154651327_0.xml&quot;);\r\n    LicenseKey.loadLicenseFile(licenseFile.getAbsolutePath());\r\n\r\n    FileOutputStream fos = new FileOutputStream(dir);\r\n    PdfWriter writer = new PdfWriter(fos);\r\n    PdfDocument pdf = new PdfDocument(writer);\r\n    Document document = new Document(pdf);\r\n    File file = ResourceUtils.getFile(&quot;classpath:font/tunga.ttf&quot;);\r\n    PdfFont font = PdfFontFactory.createFont(file.getAbsolutePath(),PdfEncodings.IDENTITY_H, true);\r\n    document.add(new Paragraph().setFont(font)\r\n            .add(&quot;\\u0CAA\\u0CCD\\u0CAF\\u0CBE\\u0CB0\\u0CBE\\u0CAE\\u0CC0\\u0C9F\\u0CB0\\u0CCD \\u0CAA\\u0CCD\\u0CB0\\u0C95\\u0CBE\\u0CB0\\u0C97\\u0CB3\\u0CA8\\u0CCD\\u0CA8\\u0CC1 \\u0CAA\\u0CA1\\u0CC6\\u0CAF\\u0CC1\\u0CB5\\u0CBE\\u0C97 \\u0CA6\\u0CCB\\u0CB7&quot;));\r\n    document.close();\r\n\r\n       \r\n\r\nThe expected output is\r\nಪ್ಯಾರಾಮೀಟರ್ ಪ್ರಕಾರಗಳನ್ನು ಪಡೆಯುವಾಗ ದೋಷ\r\nbut I got words like in the link\r\nhttps://ibb.co/2sbxV6B","title":"Kannada font issue in pdf genration with itext","body":"<p>I have tried to use Itext5 and Itext7 in my application to generate Kannada(Indian language) PDF document. But the character joins are not coming properly </p>\n\n<p>iText7:</p>\n\n<pre><code>String dir = \"D:\\\\test\\\\sample pdf file\\\\itext7\\\\itext7pdf_\" +System.currentTimeMillis()+\".pdf\";\n\nFile licenseFile = ResourceUtils.getFile(\"classpath:license/itextkey1567154651327_0.xml\");\nLicenseKey.loadLicenseFile(licenseFile.getAbsolutePath());\n\nFileOutputStream fos = new FileOutputStream(dir);\nPdfWriter writer = new PdfWriter(fos);\nPdfDocument pdf = new PdfDocument(writer);\nDocument document = new Document(pdf);\nFile file = ResourceUtils.getFile(\"classpath:font/tunga.ttf\");\nPdfFont font = PdfFontFactory.createFont(file.getAbsolutePath(),PdfEncodings.IDENTITY_H, true);\ndocument.add(new Paragraph().setFont(font)\n        .add(\"\\u0CAA\\u0CCD\\u0CAF\\u0CBE\\u0CB0\\u0CBE\\u0CAE\\u0CC0\\u0C9F\\u0CB0\\u0CCD \\u0CAA\\u0CCD\\u0CB0\\u0C95\\u0CBE\\u0CB0\\u0C97\\u0CB3\\u0CA8\\u0CCD\\u0CA8\\u0CC1 \\u0CAA\\u0CA1\\u0CC6\\u0CAF\\u0CC1\\u0CB5\\u0CBE\\u0C97 \\u0CA6\\u0CCB\\u0CB7\"));\ndocument.close();\n</code></pre>\n\n<p>The expected output is\nಪ್ಯಾರಾಮೀಟರ್ ಪ್ರಕಾರಗಳನ್ನು ಪಡೆಯುವಾಗ ದೋಷ\nbut I got words like in the link\n<a href=\"https://ibb.co/2sbxV6B\" rel=\"nofollow noreferrer\">https://ibb.co/2sbxV6B</a></p>\n"},{"tags":["java","rest","web-services","browser"],"answers":[{"comments":[{"owner":{"account_id":5560474,"reputation":185,"user_id":4409964,"accept_rate":83,"display_name":"Devanshu Kashyap"},"score":0,"creation_date":1662543565,"post_id":73632992,"comment_id":130027936,"body_markdown":"I have seen multiple solutions with this approach. The question asks to do so using web service call. How would this main method be interfaced with a web service call ?","body":"I have seen multiple solutions with this approach. The question asks to do so using web service call. How would this main method be interfaced with a web service call ?"},{"owner":{"account_id":25637854,"reputation":1,"user_id":19407198,"display_name":"Anil Dhangar"},"score":0,"creation_date":1666163881,"post_id":73632992,"comment_id":130867632,"body_markdown":"we can do it easily in spring boot with rest api. here is the code\n\n\n\n\n\n\n\n\n\n\n\n\n@RestController\npublic class MainController{\n\n@GetMapping(&quot;/openBrowser&quot;)\n  public void openBrowser(){\n\n\n  Desktop desktop = Desktop.getDesktop();\n desktop.browse(new URI(&quot;www.xyz.com&quot;));\n}\n}","body":"we can do it easily in spring boot with rest api. here is the code             @RestController public class MainController{  @GetMapping(&quot;/openBrowser&quot;)   public void openBrowser(){     Desktop desktop = Desktop.getDesktop();  desktop.browse(new URI(&quot;www.xyz.com&quot;)); } }"}],"tags":[],"owner":{"account_id":25637854,"reputation":1,"user_id":19407198,"display_name":"Anil Dhangar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666164388,"creation_date":1662542553,"answer_id":73632992,"question_id":73632669,"body_markdown":"using java and spring boot we can start browser by a web service\r\n\r\nafter this number of line added hit http//localhost:yourPort/openBrowser\r\nfrom your browser it will Open new instance of your pc Default browser\r\n\r\n\r\n----------\r\n\r\n    package test;\r\n    \r\n    import java.awt.Desktop;\r\n    import java.io.IOException;\r\n    import java.net.URI;\r\n    import java.net.URISyntaxException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n\r\n\r\n    @RestController\r\n    public class Example {\r\n\r\n        @GetMapping(&quot;/openBrowser&quot;)\r\n    \tpublic void openBrowser(){\r\n    \r\n    \t\tDesktop desktop = Desktop.getDesktop();\r\n    \t\tdesktop.browse(new URI(&quot;www.xyz.com&quot;));\r\n    \t}\r\n    }\r\n\r\n","title":"How do I open a web browser using a rest service call?","body":"<p>using java and spring boot we can start browser by a web service</p>\n<p>after this number of line added hit http//localhost:yourPort/openBrowser\nfrom your browser it will Open new instance of your pc Default browser</p>\n<hr />\n<pre><code>package test;\n\nimport java.awt.Desktop;\nimport java.io.IOException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.util.ArrayList;\nimport java.util.List;\n\n\n\n@RestController\npublic class Example {\n\n    @GetMapping(&quot;/openBrowser&quot;)\n    public void openBrowser(){\n\n        Desktop desktop = Desktop.getDesktop();\n        desktop.browse(new URI(&quot;www.xyz.com&quot;));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":300083,"reputation":25180,"user_id":607033,"accept_rate":94,"display_name":"inf3rno"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662559234,"creation_date":1662559234,"answer_id":73636815,"question_id":73632669,"body_markdown":"You need a tool that can control browser opening and a tool that can control the browser itself. The former one is shell, the latter one is for example selenium: https://www.selenium.dev/ You can solve most of the upper with java and selenium I think. Here is an example of how you can use selenium to open browser: https://automationbyte.com/how-to-launch-firefox-browser-using-selenium/ As of the REST service it must run in the same OS you want to use to open the browser. There are already existing similar solutions like SauceLabs, maybe they use REST services in the background to control testing, who knows. https://saucelabs.com/","title":"How do I open a web browser using a rest service call?","body":"<p>You need a tool that can control browser opening and a tool that can control the browser itself. The former one is shell, the latter one is for example selenium: <a href=\"https://www.selenium.dev/\" rel=\"nofollow noreferrer\">https://www.selenium.dev/</a> You can solve most of the upper with java and selenium I think. Here is an example of how you can use selenium to open browser: <a href=\"https://automationbyte.com/how-to-launch-firefox-browser-using-selenium/\" rel=\"nofollow noreferrer\">https://automationbyte.com/how-to-launch-firefox-browser-using-selenium/</a> As of the REST service it must run in the same OS you want to use to open the browser. There are already existing similar solutions like SauceLabs, maybe they use REST services in the background to control testing, who knows. <a href=\"https://saucelabs.com/\" rel=\"nofollow noreferrer\">https://saucelabs.com/</a></p>\n"}],"owner":{"account_id":5560474,"reputation":185,"user_id":4409964,"accept_rate":83,"display_name":"Devanshu Kashyap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73636815,"answer_count":2,"score":2,"last_activity_date":1666164388,"creation_date":1662541008,"question_id":73632669,"body_markdown":"I came across the following question asked in interviews which ask about controlling a web browser using a web service calls.\r\n\r\nImplement the following 4 WebServices in the choice of your language.\r\n\r\nstartBrowser() -&gt; Start the browser(User Input) and opens given URL(User Input)\r\n\r\nstopBrowser()-&gt; Kill the specified opened browser.\r\n\r\ngetLatestURL()-&gt; Fetched last visited URL (Doesn’t matter browser is running or it’s closed)\r\n\r\ndeleteAllHistory()-&gt; Delete all the data -&gt; Browser History, cookies, cache, saved passwords, bookmarks etc.\r\n\r\nhttps://www.geeksforgeeks.org/browserstack-mumbai-interview-experience-software-engineer/\r\n\r\nMost of what I saw while trying to find answer to it ( on SO and other websites) was to use the main method to open a java framework based browser using java.awt and URL processing.\r\n\r\nThe above question demands opening a web browser using a web service call, which is possibly by hitting a rest service which opens and closes browser and does other operations mentioned in the question.\r\n\r\nMay I know how is it possible to interface a web browser (client side installed tool ) with a web service call ? Are there any special apis or annotations using REST.\r\nI am not able to understand the only part regarding interfacing web service call ( possibly using postman) with an application ( web browser) installed on client side.","title":"How do I open a web browser using a rest service call?","body":"<p>I came across the following question asked in interviews which ask about controlling a web browser using a web service calls.</p>\n<p>Implement the following 4 WebServices in the choice of your language.</p>\n<p>startBrowser() -&gt; Start the browser(User Input) and opens given URL(User Input)</p>\n<p>stopBrowser()-&gt; Kill the specified opened browser.</p>\n<p>getLatestURL()-&gt; Fetched last visited URL (Doesn’t matter browser is running or it’s closed)</p>\n<p>deleteAllHistory()-&gt; Delete all the data -&gt; Browser History, cookies, cache, saved passwords, bookmarks etc.</p>\n<p><a href=\"https://www.geeksforgeeks.org/browserstack-mumbai-interview-experience-software-engineer/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/browserstack-mumbai-interview-experience-software-engineer/</a></p>\n<p>Most of what I saw while trying to find answer to it ( on SO and other websites) was to use the main method to open a java framework based browser using java.awt and URL processing.</p>\n<p>The above question demands opening a web browser using a web service call, which is possibly by hitting a rest service which opens and closes browser and does other operations mentioned in the question.</p>\n<p>May I know how is it possible to interface a web browser (client side installed tool ) with a web service call ? Are there any special apis or annotations using REST.\nI am not able to understand the only part regarding interfacing web service call ( possibly using postman) with an application ( web browser) installed on client side.</p>\n"},{"tags":["java","spring","spring-boot","cas"],"answers":[{"tags":[],"owner":{"account_id":1371634,"reputation":4233,"user_id":1306655,"accept_rate":40,"display_name":"Misagh Moayyed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661356386,"creation_date":1661356386,"answer_id":73476213,"question_id":73445162,"body_markdown":"&gt; Anyone got any ideas?\r\n\r\nPlease read:\r\nhttps://apereo.github.io/cas/6.5.x/installation/Troubleshooting-Guide.html#review-logs\r\n\r\n&gt; CAS server logs are the best resource for determining the root cause of the problem, provided you have configured the appropriate log levels. Specifically you want to make sure DEBUG levels are turned on the org.apereo package in the log configuration\r\n\r\nYou could consider moving the configuration inside the CAS build itself  in an application.yml file, instead of keeping it outside.\r\n\r\nhttps://apereo.github.io/cas/6.5.x/configuration/Configuration-Server-Management-Standalone.html\r\n\r\n","title":"cannot start cas-overlay-template on windows - missing \\etc\\cas\\thekeystore","body":"<blockquote>\n<p>Anyone got any ideas?</p>\n</blockquote>\n<p>Please read:\n<a href=\"https://apereo.github.io/cas/6.5.x/installation/Troubleshooting-Guide.html#review-logs\" rel=\"nofollow noreferrer\">https://apereo.github.io/cas/6.5.x/installation/Troubleshooting-Guide.html#review-logs</a></p>\n<blockquote>\n<p>CAS server logs are the best resource for determining the root cause of the problem, provided you have configured the appropriate log levels. Specifically you want to make sure DEBUG levels are turned on the org.apereo package in the log configuration</p>\n</blockquote>\n<p>You could consider moving the configuration inside the CAS build itself  in an application.yml file, instead of keeping it outside.</p>\n<p><a href=\"https://apereo.github.io/cas/6.5.x/configuration/Configuration-Server-Management-Standalone.html\" rel=\"nofollow noreferrer\">https://apereo.github.io/cas/6.5.x/configuration/Configuration-Server-Management-Standalone.html</a></p>\n"},{"tags":[],"owner":{"account_id":1214804,"reputation":1085,"user_id":1182619,"display_name":"Ben"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662559410,"creation_date":1662559410,"answer_id":73636847,"question_id":73445162,"body_markdown":"Try switching from tomcat to jetty as an embedded servlet server. It seems to have better windows support, and *properly* looks for `c:\\etc\\cas\\thekeystore`.\r\n\r\nTo do that just replace `-tomcat` with `-jetty` as `appServer` in the  `gradle.properties` file.\r\n\r\nThere might be a way to teach tomcat to look at the right place, but I didn&#39;t found it. The `server.ssl.key-store` setting didn&#39;t had any effect.","title":"cannot start cas-overlay-template on windows - missing \\etc\\cas\\thekeystore","body":"<p>Try switching from tomcat to jetty as an embedded servlet server. It seems to have better windows support, and <em>properly</em> looks for <code>c:\\etc\\cas\\thekeystore</code>.</p>\n<p>To do that just replace <code>-tomcat</code> with <code>-jetty</code> as <code>appServer</code> in the  <code>gradle.properties</code> file.</p>\n<p>There might be a way to teach tomcat to look at the right place, but I didn't found it. The <code>server.ssl.key-store</code> setting didn't had any effect.</p>\n"},{"tags":[],"owner":{"account_id":309979,"reputation":26,"user_id":622709,"display_name":"Nesteban"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666164350,"creation_date":1666164350,"answer_id":74121378,"question_id":73445162,"body_markdown":"You can change the keystore location in spring config. You can pass the property either in cas.properties or with command line flags or ENV. Two examples:\r\n\r\nExample: absolute windwos path\r\n\r\n    server.ssl.key-store=D:/dev/cas/etc/theKeystore.jks\r\n\r\n\r\nExample: relative path\r\n\r\n    server.ssl.key-store=file:etc/cas/thekeystore\r\n\r\nBy the way, you can also change the location of the cas.properties file with the cas.standalone.configurationDirectory parameter. This is how I usually work in a local environment on Windows:\r\n\r\n    java -jar build/libs/cas.war --cas.standalone.configurationDirectory=etc/cas/config --debug","title":"cannot start cas-overlay-template on windows - missing \\etc\\cas\\thekeystore","body":"<p>You can change the keystore location in spring config. You can pass the property either in cas.properties or with command line flags or ENV. Two examples:</p>\n<p>Example: absolute windwos path</p>\n<pre><code>server.ssl.key-store=D:/dev/cas/etc/theKeystore.jks\n</code></pre>\n<p>Example: relative path</p>\n<pre><code>server.ssl.key-store=file:etc/cas/thekeystore\n</code></pre>\n<p>By the way, you can also change the location of the cas.properties file with the cas.standalone.configurationDirectory parameter. This is how I usually work in a local environment on Windows:</p>\n<pre><code>java -jar build/libs/cas.war --cas.standalone.configurationDirectory=etc/cas/config --debug\n</code></pre>\n"}],"owner":{"account_id":774916,"reputation":325,"user_id":545800,"accept_rate":100,"display_name":"bluebloodedboy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":896,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74121378,"answer_count":3,"score":2,"last_activity_date":1666164350,"creation_date":1661171442,"question_id":73445162,"body_markdown":"I am trying to run https://github.com/apereo/cas-overlay-template on Windows 11 and JDK 11 (Eclipse Adoptium 11.0.16.1), using the 6.5 branch. I have ran the &quot;createKeystore&quot; and &quot;copyCasConfiguration&quot; gradle tasks using gradlew.bat, and it created the files below:\r\n\r\n 1. c:/etc/cas/cas.crt\r\n 1. c:/etc/cas/thekeystore\r\n 1. c:/etc/cas/config/cas.properties\r\n 1. c:/etc/cas/config/log4j2.xml\r\n\r\nwhen I tried to run &quot;gradlew.bat run&quot;, it hit the following error:\r\n\r\n```\r\n2022-08-22 20:26:06,670 WARN [org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext] - &lt;Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: FaException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n        at org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:59)\r\nCaused by: org.springframework.context.ApplicationContextException: Failed to start bean &#39;webServerStartStop&#39;; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181)\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)\r\n        at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356)\r\n        at java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155)\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\r\n        at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164)\r\n        at org.apereo.cas.web.CasWebApplication.main(CasWebApplication.java:62)\r\n        ... 8 more\r\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:229)\r\n        at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:43)\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178)\r\n        ... 21 more\r\nCaused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\r\n        at org.apache.catalina.core.StandardService.addConnector(StandardService.java:238)\r\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:282)\r\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:213)\r\n        ... 23 more\r\nCaused by: org.apache.catalina.LifecycleException: Protocol handler start failed\r\n        at org.apache.catalina.connector.Connector.startInternal(Connector.java:1077)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n        at org.apache.catalina.core.StandardService.addConnector(StandardService.java:234)\r\n        ... 25 more\r\nCaused by: java.lang.IllegalArgumentException: \\etc\\cas\\thekeystore (The system cannot find the path specified)\r\n        at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:107)\r\n        at org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71)\r\n        at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:235)\r\n        at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1227)\r\n        at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1313)\r\n        at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:614)\r\n        at org.apache.catalina.connector.Connector.startInternal(Connector.java:1074)\r\n        ... 27 more\r\nCaused by: java.io.FileNotFoundException: \\etc\\cas\\thekeystore (The system cannot find the path specified)\r\n        at java.base/java.io.FileInputStream.open0(Native Method)\r\n        at java.base/java.io.FileInputStream.open(FileInputStream.java:219)\r\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\r\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:112)\r\n        at java.base/sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java:86)\r\n        at java.base/sun.net.www.protocol.file.FileURLConnection.getInputStream(FileURLConnection.java:184)\r\n        at org.apache.catalina.startup.CatalinaBaseConfigurationSource.getResource(CatalinaBaseConfigurationSource.java:118)\r\n        at org.apache.tomcat.util.net.SSLUtilBase.getStore(SSLUtilBase.java:199)\r\n        at org.apache.tomcat.util.net.SSLHostConfigCertificate.getCertificateKeystore(SSLHostConfigCertificate.java:207)\r\n        at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:283)\r\n        at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247)\r\n        at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:105)\r\n        ... 33 more\r\n```\r\n\r\nI believe this is due to Gradle thinking its running inside a Unix environment instead of a Windows one. Any changes I make to the c:/etc/cas/config/cas.properties file is ignored, which makes me believe that its looking elsewhere for the cas folder (not c:/etc/cas). Anyone got any ideas?","title":"cannot start cas-overlay-template on windows - missing \\etc\\cas\\thekeystore","body":"<p>I am trying to run <a href=\"https://github.com/apereo/cas-overlay-template\" rel=\"nofollow noreferrer\">https://github.com/apereo/cas-overlay-template</a> on Windows 11 and JDK 11 (Eclipse Adoptium 11.0.16.1), using the 6.5 branch. I have ran the &quot;createKeystore&quot; and &quot;copyCasConfiguration&quot; gradle tasks using gradlew.bat, and it created the files below:</p>\n<ol>\n<li>c:/etc/cas/cas.crt</li>\n<li>c:/etc/cas/thekeystore</li>\n<li>c:/etc/cas/config/cas.properties</li>\n<li>c:/etc/cas/config/log4j2.xml</li>\n</ol>\n<p>when I tried to run &quot;gradlew.bat run&quot;, it hit the following error:</p>\n<pre><code>2022-08-22 20:26:06,670 WARN [org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext] - &lt;Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: FaException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n        at org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:59)\nCaused by: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181)\n        at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)\n        at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356)\n        at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n        at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155)\n        at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123)\n        at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\n        at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164)\n        at org.apereo.cas.web.CasWebApplication.main(CasWebApplication.java:62)\n        ... 8 more\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:229)\n        at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:43)\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178)\n        ... 21 more\nCaused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\n        at org.apache.catalina.core.StandardService.addConnector(StandardService.java:238)\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:282)\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:213)\n        ... 23 more\nCaused by: org.apache.catalina.LifecycleException: Protocol handler start failed\n        at org.apache.catalina.connector.Connector.startInternal(Connector.java:1077)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardService.addConnector(StandardService.java:234)\n        ... 25 more\nCaused by: java.lang.IllegalArgumentException: \\etc\\cas\\thekeystore (The system cannot find the path specified)\n        at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:107)\n        at org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71)\n        at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:235)\n        at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1227)\n        at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1313)\n        at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:614)\n        at org.apache.catalina.connector.Connector.startInternal(Connector.java:1074)\n        ... 27 more\nCaused by: java.io.FileNotFoundException: \\etc\\cas\\thekeystore (The system cannot find the path specified)\n        at java.base/java.io.FileInputStream.open0(Native Method)\n        at java.base/java.io.FileInputStream.open(FileInputStream.java:219)\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:112)\n        at java.base/sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java:86)\n        at java.base/sun.net.www.protocol.file.FileURLConnection.getInputStream(FileURLConnection.java:184)\n        at org.apache.catalina.startup.CatalinaBaseConfigurationSource.getResource(CatalinaBaseConfigurationSource.java:118)\n        at org.apache.tomcat.util.net.SSLUtilBase.getStore(SSLUtilBase.java:199)\n        at org.apache.tomcat.util.net.SSLHostConfigCertificate.getCertificateKeystore(SSLHostConfigCertificate.java:207)\n        at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:283)\n        at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247)\n        at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:105)\n        ... 33 more\n</code></pre>\n<p>I believe this is due to Gradle thinking its running inside a Unix environment instead of a Windows one. Any changes I make to the c:/etc/cas/config/cas.properties file is ignored, which makes me believe that its looking elsewhere for the cas folder (not c:/etc/cas). Anyone got any ideas?</p>\n"},{"tags":["java","spring","spring-boot","jpa","junit"],"comments":[{"owner":{"account_id":2610115,"reputation":434,"user_id":2260370,"accept_rate":50,"display_name":"Noushad"},"score":0,"creation_date":1666078793,"post_id":74107337,"comment_id":130844139,"body_markdown":"Can you please edit and add the structure of PoiDto and Poi Classes as well ?","body":"Can you please edit and add the structure of PoiDto and Poi Classes as well ?"},{"owner":{"account_id":2610115,"reputation":434,"user_id":2260370,"accept_rate":50,"display_name":"Noushad"},"score":2,"creation_date":1666078914,"post_id":74107337,"comment_id":130844172,"body_markdown":"Looks like `saveDto.position()` returns an object instead of a String.","body":"Looks like <code>saveDto.position()</code> returns an object instead of a String."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666082227,"post_id":74107337,"comment_id":130845226,"body_markdown":"Use `assertEquals(saveDto.position().toString(), entity.getPosition());`!?","body":"Use <code>assertEquals(saveDto.position().toString(), entity.getPosition());</code>!?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666082330,"post_id":74107337,"comment_id":130845260,"body_markdown":"But this relies (I would not) on &quot;order&quot; of x,y,z (in the resulting string...json is different !)","body":"But this relies (I would not) on &quot;order&quot; of x,y,z (in the resulting string...json is different !)"},{"owner":{"account_id":5156519,"reputation":3345,"user_id":5272567,"display_name":"Matthias"},"score":0,"creation_date":1666095868,"post_id":74107337,"comment_id":130849888,"body_markdown":"to expand on xerx593&#39;s comment, instead of toString I would instead change the string to a dict but using json.loads. For example `assertEquals(saveDto.position(), json.loads(entity.getPosition()));`","body":"to expand on xerx593&#39;s comment, instead of toString I would instead change the string to a dict but using json.loads. For example <code>assertEquals(saveDto.position(), json.loads(entity.getPosition()));</code>"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666333214,"post_id":74121376,"comment_id":130916276,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74121376/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26224674,"reputation":19,"user_id":19901531,"display_name":"user19901531"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666164344,"creation_date":1666164344,"answer_id":74121376,"question_id":74107337,"body_markdown":"I sovled as like below\r\n\r\n`Assertions.assertThat(a).isEqualTo(b)`","title":"Why is my unit test failing when saving a json string?","body":"<p>I sovled as like below</p>\n<p><code>Assertions.assertThat(a).isEqualTo(b)</code></p>\n"}],"owner":{"account_id":26224674,"reputation":19,"user_id":19901531,"display_name":"user19901531"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666164344,"creation_date":1666078668,"question_id":74107337,"body_markdown":"Why is my unit test failing when saving a json string?\r\n\r\nHere is my unit test.\r\n\r\n    @Test\r\n    void save() {\r\n        PoiDto saveDto = createPoi();\r\n\r\n        Poi entity = poiRepository.findById(saveDto.id()).orElseThrow();\r\n\r\n        assertEquals(saveDto.id(), entity.getId());\r\n        assertEquals(saveDto.code(), entity.getCode());\r\n        assertEquals(saveDto.position(), entity.getPosition());\r\n        assertEquals(&quot;\\&quot;&quot; + saveDto.position() + &quot;\\&quot;&quot;, entity.getPosition());\r\n    }\r\n\r\n3&lt;sup&gt;rd&lt;/sup&gt; assert does not pass but the 4&lt;sup&gt;th&lt;/sup&gt; assert passes.\r\n\r\nThe error is:\r\n\r\n```\r\norg.opentest4j.AssertionFailedError:\r\nExpected :{x: 75, y: 40, z: 13}\r\nActual :&quot;{x: 75, y: 40, z: 13}&quot;\r\n```\r\n\r\nI wonder why `&quot;&quot;` is appended when searching json with entity.\r\n\r\nI&#39;m also wondering how I should modify this test code.","title":"Why is my unit test failing when saving a json string?","body":"<p>Why is my unit test failing when saving a json string?</p>\n<p>Here is my unit test.</p>\n<pre><code>@Test\nvoid save() {\n    PoiDto saveDto = createPoi();\n\n    Poi entity = poiRepository.findById(saveDto.id()).orElseThrow();\n\n    assertEquals(saveDto.id(), entity.getId());\n    assertEquals(saveDto.code(), entity.getCode());\n    assertEquals(saveDto.position(), entity.getPosition());\n    assertEquals(&quot;\\&quot;&quot; + saveDto.position() + &quot;\\&quot;&quot;, entity.getPosition());\n}\n</code></pre>\n<p>3<sup>rd</sup> assert does not pass but the 4<sup>th</sup> assert passes.</p>\n<p>The error is:</p>\n<pre><code>org.opentest4j.AssertionFailedError:\nExpected :{x: 75, y: 40, z: 13}\nActual :&quot;{x: 75, y: 40, z: 13}&quot;\n</code></pre>\n<p>I wonder why <code>&quot;&quot;</code> is appended when searching json with entity.</p>\n<p>I'm also wondering how I should modify this test code.</p>\n"},{"tags":["java","apache-camel","apache-camel-mail"],"answers":[{"comments":[{"owner":{"account_id":16125832,"reputation":498,"user_id":11640603,"display_name":"Amit Mishra"},"score":1,"creation_date":1666349624,"post_id":74121226,"comment_id":130921501,"body_markdown":"Thank you Nicolas, I wasn&#39;t sure that it&#39;s giving error for that logger","body":"Thank you Nicolas, I wasn&#39;t sure that it&#39;s giving error for that logger"}],"tags":[],"owner":{"account_id":2269593,"reputation":43917,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666164080,"creation_date":1666163486,"answer_id":74121226,"question_id":74115317,"body_markdown":"Your mistake is in the **simple language expression** used in the log EIP, indeed the expression `${exchange.message}` asks Camel to call dynamically the method `getMessage` on the current exchange but as mentioned in the error message, there are 2 existing methods called `getMessage` in `Exchange` which are [`getMessage()`][1] and [`getMessage(java.lang.Class)`][2] and Camel has no way to know which one to call which causes this specific exception.\r\n\r\nI don&#39;t know what you wanted to log but if it is the body of your message the expected expression is rather `${body}`. Please refer to the doc about [the simple language][3] for more details.\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.apache.camel/camel-api/latest/org/apache/camel/Exchange.html#getMessage()\r\n  [2]: https://www.javadoc.io/doc/org.apache.camel/camel-api/latest/org/apache/camel/Exchange.html#getMessage(java.lang.Class)\r\n  [3]: https://camel.apache.org/components/next/languages/simple-language.html","title":"AmbiguousMethodCallException Camel - Mail on Exchange.getMessage()","body":"<p>Your mistake is in the <strong>simple language expression</strong> used in the log EIP, indeed the expression <code>${exchange.message}</code> asks Camel to call dynamically the method <code>getMessage</code> on the current exchange but as mentioned in the error message, there are 2 existing methods called <code>getMessage</code> in <code>Exchange</code> which are <a href=\"https://www.javadoc.io/doc/org.apache.camel/camel-api/latest/org/apache/camel/Exchange.html#getMessage()\" rel=\"nofollow noreferrer\"><code>getMessage()</code></a> and <a href=\"https://www.javadoc.io/doc/org.apache.camel/camel-api/latest/org/apache/camel/Exchange.html#getMessage(java.lang.Class)\" rel=\"nofollow noreferrer\"><code>getMessage(java.lang.Class)</code></a> and Camel has no way to know which one to call which causes this specific exception.</p>\n<p>I don't know what you wanted to log but if it is the body of your message the expected expression is rather <code>${body}</code>. Please refer to the doc about <a href=\"https://camel.apache.org/components/next/languages/simple-language.html\" rel=\"nofollow noreferrer\">the simple language</a> for more details.</p>\n"}],"owner":{"account_id":16125832,"reputation":498,"user_id":11640603,"display_name":"Amit Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74121226,"answer_count":1,"score":1,"last_activity_date":1666164080,"creation_date":1666115274,"question_id":74115317,"body_markdown":"I am working with `camel-mail-starter` version `3.12.0`\r\n\r\nI have configured the route this way:\r\n\r\n```\r\nString from = protocol + &quot;://&quot; + host + &quot;:&quot; + port + &quot;?username=&quot; \r\n    + username + &quot;&amp;password=&quot; + password + &quot;&amp;delete=&quot; + removeAfterConsuming \r\n    + &quot;&amp;mail.pop3.starttls.enable=true&amp;debugMode=true&quot;;\r\nRouteBuilder emailListener = new RouteBuilder () {\r\n    @Override\r\n    public void configure() throws Exception {\r\n        from (from)\r\n            .process (new EmailProcessor (body, client))\r\n            .log(&quot;${exchange.message}&quot;);\r\n    }\r\n};\r\n```\r\n\r\n**My Processor**\r\n\r\n```\r\npublic void process(Exchange exchange) throws Exception {\r\n    MailMessage message = exchange.getIn(MailMessage.class);\r\n    MimeMessageParser parser = new MimeMessageParser(\r\n        (IMAPMessage) message.getOriginalMessage()\r\n    );\r\n\r\n    try {\r\n        parser.parse();\r\n    } catch (Exception e) {\r\n        ApplicationException applicationException = new ApplicationException(\r\n            e.getStackTrace(), \r\n            Collections.singletonMap(&quot;process&quot;, &quot; Inside camel mail&quot;), \r\n            getClass(), &quot;33&quot;\r\n        );\r\n        applicationException.notifyViaEmail();\r\n    }\r\n}\r\n```\r\n\r\nWhen I run this, I get the following exception\r\n```\r\nCaused by: org.apache.camel.component.bean.AmbiguousMethodCallException: Ambiguous method invocations possible: [public abstract org.apache.camel.Message org.apache.camel.Exchange.getMessage(), public abstract java.lang.Object org.apache.camel.Exchange.getMessage(java.lang.Class)] on the exchange: Exchange[166D4FAD964C49D-0000000000000000]\r\n```\r\n\r\nI don&#39;t know what I am doing wrong\r\n","title":"AmbiguousMethodCallException Camel - Mail on Exchange.getMessage()","body":"<p>I am working with <code>camel-mail-starter</code> version <code>3.12.0</code></p>\n<p>I have configured the route this way:</p>\n<pre><code>String from = protocol + &quot;://&quot; + host + &quot;:&quot; + port + &quot;?username=&quot; \n    + username + &quot;&amp;password=&quot; + password + &quot;&amp;delete=&quot; + removeAfterConsuming \n    + &quot;&amp;mail.pop3.starttls.enable=true&amp;debugMode=true&quot;;\nRouteBuilder emailListener = new RouteBuilder () {\n    @Override\n    public void configure() throws Exception {\n        from (from)\n            .process (new EmailProcessor (body, client))\n            .log(&quot;${exchange.message}&quot;);\n    }\n};\n</code></pre>\n<p><strong>My Processor</strong></p>\n<pre><code>public void process(Exchange exchange) throws Exception {\n    MailMessage message = exchange.getIn(MailMessage.class);\n    MimeMessageParser parser = new MimeMessageParser(\n        (IMAPMessage) message.getOriginalMessage()\n    );\n\n    try {\n        parser.parse();\n    } catch (Exception e) {\n        ApplicationException applicationException = new ApplicationException(\n            e.getStackTrace(), \n            Collections.singletonMap(&quot;process&quot;, &quot; Inside camel mail&quot;), \n            getClass(), &quot;33&quot;\n        );\n        applicationException.notifyViaEmail();\n    }\n}\n</code></pre>\n<p>When I run this, I get the following exception</p>\n<pre><code>Caused by: org.apache.camel.component.bean.AmbiguousMethodCallException: Ambiguous method invocations possible: [public abstract org.apache.camel.Message org.apache.camel.Exchange.getMessage(), public abstract java.lang.Object org.apache.camel.Exchange.getMessage(java.lang.Class)] on the exchange: Exchange[166D4FAD964C49D-0000000000000000]\n</code></pre>\n<p>I don't know what I am doing wrong</p>\n"},{"tags":["java","networking","wmi","windows-server","dcom"],"owner":{"account_id":26660754,"reputation":11,"user_id":20273622,"display_name":"Tirumala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":735,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666163880,"creation_date":1666103832,"question_id":74112828,"body_markdown":"We have application which was using by Customer and customer like to update authentication from our application to AD from NTLM to Kerberos.  Based on this article, it may have to be done by early 2022.\r\n\r\nhttps://support.microsoft.com/en-us/topic/kb5004442-manage-changes-for-windows-dcom-server-security-feature-bypass-cve-2021-26414-f1400b52-c141-43d2-941e-37ed901c769c\r\n\r\nIn the document below, it is listing the different levels that are required, and Microsoft is stating that RPC_C_AUTHN_LEVEL_PKT_INTEGRITY or higher is required shortly.  Right now the error we are having on their DC&#39;s from Our application authentications is that the user in our AD scope under passive ID for monitoring is attempting to connect to our domain at too low of a security level.\r\n\r\nhttps://docs.microsoft.com/en-us/windows/win32/rpc/authentication-level-constants\r\n\r\nIn our application Admin Web UI we are geeing the issue:\r\nThe connection was tested on &#39;&lt;ise domain&gt;&#39; PassiveID active node.\r\nConnection to &#39;ws2022-a.lab2022.local&#39; failed.\r\nAccess is denied. Please check credentials, permissions and configure the Windows machine for WMI access.\r\n\r\nIn AD event viewer &gt; Administrative Events: 10036 Errors. which says that\r\n\r\n&quot;The server-side authentication level policy does not allow the user LAB2022\\dev-admin SID (S-1-5-21-4164125427-177154609-51000486-1108) from address &lt;ip&gt; to activate DCOM server. Please raise the activation authentication level at least to RPC_C_AUTHN_LEVEL_PKT_INTEGRITY in client application&quot;.\r\n\r\nCan anyone help me how we can fix the issue from application side since MS workaround was not working(disabling the registry key in DC)?\r\nwe found some possible solution from sourceforge forum site discussion (https://sourceforge.net/p/j-interop/discussion/600729/thread/731d99133f/) that need to fix the issue in third party library j-interop-ng and tried the solution to set the sign and seal flags in JIComserver.java before init() block but not worked as expected.\r\n\r\nWe are using j-interop-ng-3.0.jar in our application and need some quick solution to fix the issue further to work the WMI provider.","title":"WMI Providers Not Working after Windows DCOM Server Hardening for CVE-2021-26414","body":"<p>We have application which was using by Customer and customer like to update authentication from our application to AD from NTLM to Kerberos.  Based on this article, it may have to be done by early 2022.</p>\n<p><a href=\"https://support.microsoft.com/en-us/topic/kb5004442-manage-changes-for-windows-dcom-server-security-feature-bypass-cve-2021-26414-f1400b52-c141-43d2-941e-37ed901c769c\" rel=\"nofollow noreferrer\">https://support.microsoft.com/en-us/topic/kb5004442-manage-changes-for-windows-dcom-server-security-feature-bypass-cve-2021-26414-f1400b52-c141-43d2-941e-37ed901c769c</a></p>\n<p>In the document below, it is listing the different levels that are required, and Microsoft is stating that RPC_C_AUTHN_LEVEL_PKT_INTEGRITY or higher is required shortly.  Right now the error we are having on their DC's from Our application authentications is that the user in our AD scope under passive ID for monitoring is attempting to connect to our domain at too low of a security level.</p>\n<p><a href=\"https://docs.microsoft.com/en-us/windows/win32/rpc/authentication-level-constants\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/windows/win32/rpc/authentication-level-constants</a></p>\n<p>In our application Admin Web UI we are geeing the issue:\nThe connection was tested on '' PassiveID active node.\nConnection to 'ws2022-a.lab2022.local' failed.\nAccess is denied. Please check credentials, permissions and configure the Windows machine for WMI access.</p>\n<p>In AD event viewer &gt; Administrative Events: 10036 Errors. which says that</p>\n<p>&quot;The server-side authentication level policy does not allow the user LAB2022\\dev-admin SID (S-1-5-21-4164125427-177154609-51000486-1108) from address  to activate DCOM server. Please raise the activation authentication level at least to RPC_C_AUTHN_LEVEL_PKT_INTEGRITY in client application&quot;.</p>\n<p>Can anyone help me how we can fix the issue from application side since MS workaround was not working(disabling the registry key in DC)?\nwe found some possible solution from sourceforge forum site discussion (<a href=\"https://sourceforge.net/p/j-interop/discussion/600729/thread/731d99133f/\" rel=\"nofollow noreferrer\">https://sourceforge.net/p/j-interop/discussion/600729/thread/731d99133f/</a>) that need to fix the issue in third party library j-interop-ng and tried the solution to set the sign and seal flags in JIComserver.java before init() block but not worked as expected.</p>\n<p>We are using j-interop-ng-3.0.jar in our application and need some quick solution to fix the issue further to work the WMI provider.</p>\n"},{"tags":["java","spring-boot","postman"],"comments":[{"owner":{"account_id":4712900,"reputation":3227,"user_id":3812888,"accept_rate":73,"display_name":"The Head Rush"},"score":0,"creation_date":1549466581,"post_id":54556868,"comment_id":95913573,"body_markdown":"Using Spring Security?","body":"Using Spring Security?"},{"owner":{"account_id":37236,"reputation":2594,"user_id":106418,"accept_rate":81,"display_name":"Nicholas Hirras"},"score":0,"creation_date":1549466621,"post_id":54556868,"comment_id":95913598,"body_markdown":"If you have CORS protection you might need to include an Origin header in your postman request.","body":"If you have CORS protection you might need to include an Origin header in your postman request."},{"owner":{"account_id":8491796,"reputation":135,"user_id":6367865,"accept_rate":42,"display_name":"alonso05"},"score":0,"creation_date":1549466651,"post_id":54556868,"comment_id":95913617,"body_markdown":"@TheHeadRush i don&#39;t use spring security","body":"@TheHeadRush i don&#39;t use spring security"},{"owner":{"account_id":8491796,"reputation":135,"user_id":6367865,"accept_rate":42,"display_name":"alonso05"},"score":0,"creation_date":1549466669,"post_id":54556868,"comment_id":95913627,"body_markdown":"@NicholasHirras i dont&#39;t have cors","body":"@NicholasHirras i dont&#39;t have cors"},{"owner":{"account_id":23678540,"reputation":343,"user_id":17704418,"display_name":"salam_verdim_alana_panyatkasi"},"score":0,"creation_date":1665820237,"post_id":54556868,"comment_id":130791678,"body_markdown":"probably you use spring security in your app, otherwise never you get 403 forbidden error http status code in your app.","body":"probably you use spring security in your app, otherwise never you get 403 forbidden error http status code in your app."}],"answers":[{"tags":[],"owner":{"account_id":12248710,"reputation":990,"user_id":8939708,"display_name":"Farhan Qasim"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549466934,"creation_date":1549466934,"answer_id":54557109,"question_id":54556868,"body_markdown":"    {&quot;timestamp&quot;:1549465915019,&quot;status&quot;:403,&quot;error&quot;:&quot;Forbidden&quot;,&quot;message&quot;:&quot;Access Denied&quot;,&quot;path&quot;:&quot;/e/api/user/create&quot;}\r\n\r\nYou are getting the error 403. The true definition of 403 is following:\r\n\r\n    The 403 Forbidden error is an HTTP status code which means that accessing the page or resource you were trying to reach is absolutely forbidden for some reason.\r\n\r\nYou might not have the permission to reach this method, hence the error. \r\n\r\n\r\nIf you are using spring security and it GET works correctly, it might be because of CSRF and you can disable it through doing the following in your configuration method. \r\n\r\n    http.csrf().disable();","title":"Why does post request cause forbidden error?","body":"<pre><code>{\"timestamp\":1549465915019,\"status\":403,\"error\":\"Forbidden\",\"message\":\"Access Denied\",\"path\":\"/e/api/user/create\"}\n</code></pre>\n\n<p>You are getting the error 403. The true definition of 403 is following:</p>\n\n<pre><code>The 403 Forbidden error is an HTTP status code which means that accessing the page or resource you were trying to reach is absolutely forbidden for some reason.\n</code></pre>\n\n<p>You might not have the permission to reach this method, hence the error. </p>\n\n<p>If you are using spring security and it GET works correctly, it might be because of CSRF and you can disable it through doing the following in your configuration method. </p>\n\n<pre><code>http.csrf().disable();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4124176,"reputation":1017,"user_id":3383771,"display_name":"blueDexter"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568898324,"creation_date":1568898324,"answer_id":58011679,"question_id":54556868,"body_markdown":"If you are using spring security then try with the following security configuration.`http.authorizeRequests().antMatchers(&quot;//e/api/**&quot;).permitAll().and().cors().and().csrf().disable();`","title":"Why does post request cause forbidden error?","body":"<p>If you are using spring security then try with the following security configuration.<code>http.authorizeRequests().antMatchers(\"//e/api/**\").permitAll().and().cors().and().csrf().disable();</code></p>\n"},{"tags":[],"owner":{"account_id":26629773,"reputation":1,"user_id":20247137,"display_name":"elakkiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666163836,"creation_date":1665819999,"answer_id":74077631,"question_id":54556868,"body_markdown":"I got 403 forbidden error in postman. so i changed the statement in security configuration \r\nfrom\r\n\r\n     http.authorizeRequests().antMatchers( &quot;/employee*&quot;).hasRole(&quot;developer&quot;).anyRequest().permitAll();\r\n\r\n to  \r\n\r\n    .http.authorizeRequests().antMatchers(&quot;/*&quot;).permitAll().and().cors().and().csrf().disable();\r\n\r\ni tried this.. its working now. thank you","title":"Why does post request cause forbidden error?","body":"<p>I got 403 forbidden error in postman. so i changed the statement in security configuration\nfrom</p>\n<pre><code> http.authorizeRequests().antMatchers( &quot;/employee*&quot;).hasRole(&quot;developer&quot;).anyRequest().permitAll();\n</code></pre>\n<p>to</p>\n<pre><code>.http.authorizeRequests().antMatchers(&quot;/*&quot;).permitAll().and().cors().and().csrf().disable();\n</code></pre>\n<p>i tried this.. its working now. thank you</p>\n"}],"owner":{"account_id":8491796,"reputation":135,"user_id":6367865,"accept_rate":42,"display_name":"alonso05"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10046,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1666163836,"creation_date":1549466241,"question_id":54556868,"body_markdown":"Here is my code:\r\n\r\nController:\r\n\r\n    @PostMapping(&quot;/create&quot;)\r\n    \tpublic ResponseEntity&lt;?&gt; createUser(@RequestBody UserExternalResource newUser) {\r\n    \t\ttry {\r\n    \t\t\tLOGGER.info(&quot;Incoming request to create a user: {}&quot;, newUser);\r\n    \t\t\treturn userService.createUser(newUser);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tLOGGER.error(&quot;Error create user: &quot; + newUser + &quot;. Message: &quot; + e.getMessage(), e);\r\n    \t\t\treturn new ResponseEntity&lt;&gt;(new ResponseResource(&quot;Error creating user!&quot;), HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \t\t}\r\n    \t}\r\n\r\nRequest body:\r\n\r\n    {\r\n        &quot;user&quot; : &quot;John&quot;,\r\n        &quot;username&quot; : &quot;john1&quot;\r\n    \r\n    }\r\n\r\n\r\nWhen i try to send this request with postman i get 403 Forbidden error.\r\n\r\nResponse from Postman console:\r\n\r\n    POST /e/api/user/create\r\n    Content-Type: text/plain\r\n    cache-control: no-cache\r\n    Postman-Token: b6590554-b54e-4935-b0c2-bc43857b3dc1\r\n    User-Agent: PostmanRuntime/7.6.0\r\n    Accept: */*\r\n    Host: localhost:8500\r\n    cookie: EXAMPLE SERVICE-SESSIONID=3TWT113hsJ0e1LVQEDlQqp69O6U8VZx-7sFSyH63\r\n    accept-encoding: gzip, deflate\r\n    content-length: 284\r\n    {\r\n     &quot;user&quot; : &quot;John&quot;,\r\n     &quot;username&quot; : &quot;john1&quot;\r\n     }\r\n    HTTP/1.1 403\r\n    status: 403\r\n    Expires: 0\r\n    Cache-Control: no-cache, no-store, max-age=0, must-revalidate\r\n    X-XSS-Protection: 1; mode=block\r\n    Pragma: no-cache\r\n    Date: Wed, 06 Feb 2019 15:11:55 GMT\r\n    Connection: keep-alive\r\n    X-Content-Type-Options: nosniff\r\n    Transfer-Encoding: chunked\r\n    Content-Type: application/json;charset=UTF-8\r\n    {&quot;timestamp&quot;:1549465915019,&quot;status&quot;:403,&quot;error&quot;:&quot;Forbidden&quot;,&quot;message&quot;:&quot;Access Denied&quot;,&quot;path&quot;:&quot;/e/api/user/create&quot;}\r\n\r\nDoes anyone know what could be problem?\r\n","title":"Why does post request cause forbidden error?","body":"<p>Here is my code:</p>\n\n<p>Controller:</p>\n\n<pre><code>@PostMapping(\"/create\")\n    public ResponseEntity&lt;?&gt; createUser(@RequestBody UserExternalResource newUser) {\n        try {\n            LOGGER.info(\"Incoming request to create a user: {}\", newUser);\n            return userService.createUser(newUser);\n        } catch (Exception e) {\n            LOGGER.error(\"Error create user: \" + newUser + \". Message: \" + e.getMessage(), e);\n            return new ResponseEntity&lt;&gt;(new ResponseResource(\"Error creating user!\"), HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n</code></pre>\n\n<p>Request body:</p>\n\n<pre><code>{\n    \"user\" : \"John\",\n    \"username\" : \"john1\"\n\n}\n</code></pre>\n\n<p>When i try to send this request with postman i get 403 Forbidden error.</p>\n\n<p>Response from Postman console:</p>\n\n<pre><code>POST /e/api/user/create\nContent-Type: text/plain\ncache-control: no-cache\nPostman-Token: b6590554-b54e-4935-b0c2-bc43857b3dc1\nUser-Agent: PostmanRuntime/7.6.0\nAccept: */*\nHost: localhost:8500\ncookie: EXAMPLE SERVICE-SESSIONID=3TWT113hsJ0e1LVQEDlQqp69O6U8VZx-7sFSyH63\naccept-encoding: gzip, deflate\ncontent-length: 284\n{\n \"user\" : \"John\",\n \"username\" : \"john1\"\n }\nHTTP/1.1 403\nstatus: 403\nExpires: 0\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nX-XSS-Protection: 1; mode=block\nPragma: no-cache\nDate: Wed, 06 Feb 2019 15:11:55 GMT\nConnection: keep-alive\nX-Content-Type-Options: nosniff\nTransfer-Encoding: chunked\nContent-Type: application/json;charset=UTF-8\n{\"timestamp\":1549465915019,\"status\":403,\"error\":\"Forbidden\",\"message\":\"Access Denied\",\"path\":\"/e/api/user/create\"}\n</code></pre>\n\n<p>Does anyone know what could be problem?</p>\n"},{"tags":["java","android","string","android-fragments","localization"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1509680133,"post_id":47087904,"comment_id":81125749,"body_markdown":"You really aren&#39;t meant to directly change the locale like that.  It mostly works, but the way the system is meant to work is for you to follow the system locale and never change it yourself.  If you want to change it yourself you&#39;re almost better off writing your own system of strings.","body":"You really aren&#39;t meant to directly change the locale like that.  It mostly works, but the way the system is meant to work is for you to follow the system locale and never change it yourself.  If you want to change it yourself you&#39;re almost better off writing your own system of strings."},{"owner":{"account_id":7351713,"reputation":153,"user_id":5597621,"accept_rate":43,"display_name":"A. N"},"score":0,"creation_date":1509681267,"post_id":47087904,"comment_id":81126002,"body_markdown":"Hello there! Sorry maybe I write wrong title. what I mean is that I have this &quot;change language&quot; setting on my app, I need to change language only on app. Can you explain more or give reference about how to write our &quot;own system of strings&quot;? Thanks!","body":"Hello there! Sorry maybe I write wrong title. what I mean is that I have this &quot;change language&quot; setting on my app, I need to change language only on app. Can you explain more or give reference about how to write our &quot;own system of strings&quot;? Thanks!"},{"owner":{"account_id":8989082,"reputation":64,"user_id":6701660,"display_name":"Aqsa Shahid"},"score":0,"creation_date":1607247014,"post_id":47087904,"comment_id":115207708,"body_markdown":"did you find any solution? I am having the same issue.","body":"did you find any solution? I am having the same issue."}],"answers":[{"tags":[],"owner":{"account_id":9542098,"reputation":91,"user_id":7092449,"display_name":"Kamil Kulig"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1509679528,"creation_date":1509679528,"answer_id":47088022,"question_id":47087904,"body_markdown":"Check this out. Maybe some string is not include.\r\nFrom documentation.\r\n\r\nhttps://developer.android.com/guide/topics/resources/localization.html#using-framework\r\n\r\n&gt; Suppose that your application&#39;s default language is English. Suppose\r\n&gt; also that you want to localize all the text in your application to\r\n&gt; French, and most of the text in your application (everything except\r\n&gt; the application&#39;s title) to Japanese. In this case, you could create\r\n&gt; three alternative strings.xml files, each stored in a locale-specific\r\n&gt; resource directory:\r\n&gt; \r\n&gt; res/values/strings.xml Contains English text for all the strings that\r\n&gt; the application uses, including text for a string named title.\r\n&gt; res/values-fr/strings.xml Contain French text for all the strings,\r\n&gt; including title. res/values-ja/strings.xml Contain Japanese text for\r\n&gt; all the strings except title. If your Java code refers to\r\n&gt; R.string.title, here is what will happen at runtime:\r\n&gt; \r\n&gt; If the device is set to any language other than French, Android will\r\n&gt; load title from the res/values/strings.xml file. If the device is set\r\n&gt; to French, Android will load title from the res/values-fr/strings.xml\r\n&gt; file. Notice that if the device is set to Japanese, Android will look\r\n&gt; for title in the res/values-ja/strings.xml file. But because no such\r\n&gt; string is included in that file, Android **will fall back to the\r\n&gt; default**, and will load title in English from the\r\n&gt; res/values/strings.xml file.\r\n\r\nI hope it will work.","title":"Android change language in app only: Some strings not translated properly","body":"<p>Check this out. Maybe some string is not include.\nFrom documentation.</p>\n\n<p><a href=\"https://developer.android.com/guide/topics/resources/localization.html#using-framework\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/resources/localization.html#using-framework</a></p>\n\n<blockquote>\n  <p>Suppose that your application's default language is English. Suppose\n  also that you want to localize all the text in your application to\n  French, and most of the text in your application (everything except\n  the application's title) to Japanese. In this case, you could create\n  three alternative strings.xml files, each stored in a locale-specific\n  resource directory:</p>\n  \n  <p>res/values/strings.xml Contains English text for all the strings that\n  the application uses, including text for a string named title.\n  res/values-fr/strings.xml Contain French text for all the strings,\n  including title. res/values-ja/strings.xml Contain Japanese text for\n  all the strings except title. If your Java code refers to\n  R.string.title, here is what will happen at runtime:</p>\n  \n  <p>If the device is set to any language other than French, Android will\n  load title from the res/values/strings.xml file. If the device is set\n  to French, Android will load title from the res/values-fr/strings.xml\n  file. Notice that if the device is set to Japanese, Android will look\n  for title in the res/values-ja/strings.xml file. But because no such\n  string is included in that file, Android <strong>will fall back to the\n  default</strong>, and will load title in English from the\n  res/values/strings.xml file.</p>\n</blockquote>\n\n<p>I hope it will work.</p>\n"},{"tags":[],"owner":{"account_id":13475857,"reputation":41,"user_id":9722864,"display_name":"Jasper Y."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532256938,"creation_date":1532256938,"answer_id":51464359,"question_id":47087904,"body_markdown":"I had the same issue as you. The language changes in Activities but doesn&#39;t change in Fragments. I tried it on more than one device, all had the same result. Later, I figured out a solution and it does work for me.\r\n\r\nSolution:\r\nInside the Android Studio, go to the &quot;Build&quot; tab, select &quot;Clean Project&quot;. Wait until it finished. (A loading bar is placed at the bottom right corner indicating the progress rate)\r\nNext, go to the &quot;Build&quot; tab again, select &quot;Rebuild Project&quot;. When it finished rebuilding, the problem should be solved.\r\n\r\nHope this help.","title":"Android change language in app only: Some strings not translated properly","body":"<p>I had the same issue as you. The language changes in Activities but doesn't change in Fragments. I tried it on more than one device, all had the same result. Later, I figured out a solution and it does work for me.</p>\n\n<p>Solution:\nInside the Android Studio, go to the \"Build\" tab, select \"Clean Project\". Wait until it finished. (A loading bar is placed at the bottom right corner indicating the progress rate)\nNext, go to the \"Build\" tab again, select \"Rebuild Project\". When it finished rebuilding, the problem should be solved.</p>\n\n<p>Hope this help.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":3,"creation_date":1639007361,"post_id":70278296,"comment_id":124241570,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/70278296/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":7320847,"reputation":41,"user_id":5576951,"display_name":"Ahtsham Asghar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666163294,"creation_date":1638980369,"answer_id":70278296,"question_id":47087904,"body_markdown":"This happened to me as well, what I did is I set text from Java/Kotlin instead of XML.\r\nI did this for headings as well though in my case headings are not changing.","title":"Android change language in app only: Some strings not translated properly","body":"<p>This happened to me as well, what I did is I set text from Java/Kotlin instead of XML.\nI did this for headings as well though in my case headings are not changing.</p>\n"}],"owner":{"account_id":7351713,"reputation":153,"user_id":5597621,"accept_rate":43,"display_name":"A. N"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7224,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1666163294,"creation_date":1509678619,"question_id":47087904,"body_markdown":"**(I&#39;ve added an update on the bottom of the post)**\r\n\r\nI am currently working on a project that will support multiple language. I have written all strings for all languages.\r\n\r\nI use BaseActivity, Application class, and LocaleHelper to manage the localization on my app. \r\nAnd then I found this behavior on my app. After I setLocale to another language, Strings in some activities are changed and correct, but NOT in MainActivity even though they have some same strings. I tried to restart app and it&#39;s still not working. \r\n\r\nI also have another activity which some of the words in activity got translated but all words inside a fragment and a recyclerview didn&#39;t get translated at all.\r\n\r\nI still couldn&#39;t find why it&#39;s not translated properly. Can someone help me??\r\n\r\nHere&#39;s some snippet:\r\n\r\n**Application class**\r\n\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        LocaleUtil.setLocale(new Locale(LocaleUtil.with(this).getPreference()));\r\n        LocaleUtil.updateConfig(this,getBaseContext().getResources().getConfiguration());\r\n    }\r\n\r\n    @Override\r\n    public void onConfigurationChanged(Configuration newConfig) {\r\n        super.onConfigurationChanged(newConfig);\r\n        LocaleUtil.setLocale(new Locale(LocaleUtil.with(this).getPreference()));\r\n        LocaleUtil.updateConfig(this, newConfig);\r\n    }\r\n\r\n\r\n**BaseActivity**\r\n\r\n    public BaseActivity() {\r\n        LocaleUtil.updateConfig(this);\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        initLocale();\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    public void initLocale(){\r\n        localeUtil = new LocaleUtil(this);\r\n        localeUtil.setListener(this);\r\n        localeUtil.setLanguageByCode(localeUtil.getPreference());\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4ulj2.png\r\n\r\nPlease help me! THanks!!\r\n\r\n(**UPDATE**)\r\n\r\nI found out that I have to setLocale again whenever I want to access **Strings.xml** for any views in a recyclerview and a fragment. This is totally inconvenient and I&#39;m worried about the performance. I would love to hear a better advice to change language.\r\n","title":"Android change language in app only: Some strings not translated properly","body":"<p><strong>(I've added an update on the bottom of the post)</strong></p>\n\n<p>I am currently working on a project that will support multiple language. I have written all strings for all languages.</p>\n\n<p>I use BaseActivity, Application class, and LocaleHelper to manage the localization on my app. \nAnd then I found this behavior on my app. After I setLocale to another language, Strings in some activities are changed and correct, but NOT in MainActivity even though they have some same strings. I tried to restart app and it's still not working. </p>\n\n<p>I also have another activity which some of the words in activity got translated but all words inside a fragment and a recyclerview didn't get translated at all.</p>\n\n<p>I still couldn't find why it's not translated properly. Can someone help me??</p>\n\n<p>Here's some snippet:</p>\n\n<p><strong>Application class</strong></p>\n\n<pre><code>@Override\npublic void onCreate() {\n    super.onCreate();\n    LocaleUtil.setLocale(new Locale(LocaleUtil.with(this).getPreference()));\n    LocaleUtil.updateConfig(this,getBaseContext().getResources().getConfiguration());\n}\n\n@Override\npublic void onConfigurationChanged(Configuration newConfig) {\n    super.onConfigurationChanged(newConfig);\n    LocaleUtil.setLocale(new Locale(LocaleUtil.with(this).getPreference()));\n    LocaleUtil.updateConfig(this, newConfig);\n}\n</code></pre>\n\n<p><strong>BaseActivity</strong></p>\n\n<pre><code>public BaseActivity() {\n    LocaleUtil.updateConfig(this);\n}\n\n@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    initLocale();\n    super.onCreate(savedInstanceState);\n}\n\npublic void initLocale(){\n    localeUtil = new LocaleUtil(this);\n    localeUtil.setListener(this);\n    localeUtil.setLanguageByCode(localeUtil.getPreference());\n}\n</code></pre>\n\n<p>Please help me! THanks!!</p>\n\n<p>(<strong>UPDATE</strong>)</p>\n\n<p>I found out that I have to setLocale again whenever I want to access <strong>Strings.xml</strong> for any views in a recyclerview and a fragment. This is totally inconvenient and I'm worried about the performance. I would love to hear a better advice to change language.</p>\n"},{"tags":["java","junit","operators"],"comments":[{"owner":{"account_id":7990857,"reputation":113,"user_id":6028761,"display_name":"Nautilus "},"score":1,"creation_date":1666159910,"post_id":74120587,"comment_id":130866518,"body_markdown":"What&#39;s the error code?\nPlease, make sure your naming conventions are right.","body":"What&#39;s the error code? Please, make sure your naming conventions are right."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1666159910,"post_id":74120587,"comment_id":130866519,"body_markdown":"Either change Salary &lt; 20000, or Salary &gt; 20000 in other if","body":"Either change Salary &lt; 20000, or Salary &gt; 20000 in other if"},{"owner":{"account_id":24482009,"reputation":1906,"user_id":18400272,"display_name":"Logan"},"score":0,"creation_date":1666159919,"post_id":74120587,"comment_id":130866525,"body_markdown":"it should only be either 10000-19999 or 20001 - 40000","body":"it should only be either 10000-19999 or 20001 - 40000"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1666159920,"post_id":74120587,"comment_id":130866526,"body_markdown":"First of all: Take care of java naming conventions. Class names should start with upper case character, variable names with lower case character","body":"First of all: Take care of java naming conventions. Class names should start with upper case character, variable names with lower case character"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1666159979,"post_id":74120587,"comment_id":130866538,"body_markdown":"Please share the code of the test.","body":"Please share the code of the test."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":5,"creation_date":1666160054,"post_id":74120587,"comment_id":130866559,"body_markdown":"And also share the specification. Should the return value C or B if the salary is exactly 20000","body":"And also share the specification. Should the return value C or B if the salary is exactly 20000"},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1666160111,"post_id":74120587,"comment_id":130866574,"body_markdown":"you need to define what the expected output is if the salary is 20000, then write the code according to that","body":"you need to define what the expected output is if the salary is 20000, then write the code according to that"}],"answers":[{"tags":[],"owner":{"account_id":12799909,"reputation":16,"user_id":9261565,"display_name":"Mohammad Zeryab Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666163234,"creation_date":1666163234,"answer_id":74121183,"question_id":74120587,"body_markdown":"FOR 20000 below code will always return C. because if first condition is True in IF-ELSE then all other if-else will not be used(try using breakpoint you will understand). Also you need to find out what is your boundary value. like if 20000 mean B, then you should use &lt;20000 for C. \r\n","title":"How to do Salary &gt;= 10000 &amp;&amp; Salary &lt;= 20000","body":"<p>FOR 20000 below code will always return C. because if first condition is True in IF-ELSE then all other if-else will not be used(try using breakpoint you will understand). Also you need to find out what is your boundary value. like if 20000 mean B, then you should use &lt;20000 for C.</p>\n"}],"owner":{"account_id":26667510,"reputation":1,"user_id":20279380,"display_name":"potatocode0"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1666163234,"creation_date":1666159736,"question_id":74120587,"body_markdown":"So heres my code: \r\n\r\n    public class employee {\r\n    \r\n        //attributes\r\n        String Name = &quot;name&quot;;\r\n        String Position = &quot;position&quot;;\r\n    \r\n    \r\n        //behavior\r\n        public static char getSalary(int Salary) {\r\n            if (Salary &gt;= 10000 &amp;&amp; Salary &lt;= 20000) {\r\n                return &#39;C&#39;;\r\n            } else if (Salary &gt;= 20000 &amp;&amp; Salary &lt;= 40000) {\r\n                return &#39;B&#39;;\r\n            } else {\r\n                return &#39;A&#39;;\r\n            }\r\n        }\r\n    }\r\n\r\nwhen I run a test it gets error because if (Salary &gt;= 10000 &amp;&amp; Salary &lt;= 20000) and\r\n       (Salary &gt;= 20000 &amp;&amp; Salary &lt;= 40000) both have 20000, what should I do?\r\n            \r\n","title":"How to do Salary &gt;= 10000 &amp;&amp; Salary &lt;= 20000","body":"<p>So heres my code:</p>\n<pre><code>public class employee {\n\n    //attributes\n    String Name = &quot;name&quot;;\n    String Position = &quot;position&quot;;\n\n\n    //behavior\n    public static char getSalary(int Salary) {\n        if (Salary &gt;= 10000 &amp;&amp; Salary &lt;= 20000) {\n            return 'C';\n        } else if (Salary &gt;= 20000 &amp;&amp; Salary &lt;= 40000) {\n            return 'B';\n        } else {\n            return 'A';\n        }\n    }\n}\n</code></pre>\n<p>when I run a test it gets error because if (Salary &gt;= 10000 &amp;&amp; Salary &lt;= 20000) and\n(Salary &gt;= 20000 &amp;&amp; Salary &lt;= 40000) both have 20000, what should I do?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9273,"page":950,"page_size":100}
