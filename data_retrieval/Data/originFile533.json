{"items":[{"tags":["java","automation","typeerror","playwright"],"comments":[{"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"score":1,"creation_date":1680298387,"post_id":75902850,"comment_id":133880800,"body_markdown":"What is `playwright.$(&quot;//app-date-picker[@formcontrolname=&#39;myDate&#39;]//input&quot;)`? Try logging it to find out.","body":"What is <code>playwright.$(&quot;&#47;&#47;app-date-picker[@formcontrolname=&#39;myDate&#39;]&#47;&#47;&zwnj;&#8203;input&quot;)</code>? Try logging it to find out."},{"owner":{"account_id":27375149,"reputation":1,"user_id":20880617,"display_name":"L. Measy"},"score":0,"creation_date":1680298690,"post_id":75902850,"comment_id":133880848,"body_markdown":"Thank you for the reply. It is an angular input element.","body":"Thank you for the reply. It is an angular input element."},{"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"score":1,"creation_date":1680299730,"post_id":75902850,"comment_id":133881028,"body_markdown":"[`.$` is deprecated](https://playwright.dev/docs/api/class-page#deprecated) and doesn&#39;t wait for anything. This isn&#39;t a complete, runnable [mcve] so it&#39;s hard to tell how you&#39;re actually using this, but usually you have to `const eh = await page.$(...)` to get a handle, then you can call methods on it. Without the `await` you&#39;re just working with a raw promise, and promises don&#39;t have a `.fill()` method.","body":"<a href=\"https://playwright.dev/docs/api/class-page#deprecated\" rel=\"nofollow noreferrer\"><code>.$</code> is deprecated</a> and doesn&#39;t wait for anything. This isn&#39;t a complete, runnable <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so it&#39;s hard to tell how you&#39;re actually using this, but usually you have to <code>const eh = await page.$(...)</code> to get a handle, then you can call methods on it. Without the <code>await</code> you&#39;re just working with a raw promise, and promises don&#39;t have a <code>.fill()</code> method."},{"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"score":0,"creation_date":1680301069,"post_id":75902850,"comment_id":133881207,"body_markdown":"Whoops, I didn&#39;t realize you&#39;re using Java, not JS. I think the Java API is synchronous, so that invalidates my answer and part of my comment. The problem might be that `$` doesn&#39;t wait for the element while `locator` does, but we&#39;d have to see the site to say for sure. It&#39;s odd that you say `$` finds an input--doesn&#39;t seem to match the error. Is there a reason this is tagged [tag:javascript]? Java and JS are totally unrelated languages. I&#39;ll pull off that tag unless there&#39;s good reason to keep it.","body":"Whoops, I didn&#39;t realize you&#39;re using Java, not JS. I think the Java API is synchronous, so that invalidates my answer and part of my comment. The problem might be that <code>$</code> doesn&#39;t wait for the element while <code>locator</code> does, but we&#39;d have to see the site to say for sure. It&#39;s odd that you say <code>$</code> finds an input--doesn&#39;t seem to match the error. Is there a reason this is tagged <a href=\"https://stackoverflow.com/questions/tagged/javascript\">javascript</a>? Java and JS are totally unrelated languages. I&#39;ll pull off that tag unless there&#39;s good reason to keep it."}],"owner":{"account_id":27375149,"reputation":1,"user_id":20880617,"display_name":"L. Measy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680340399,"creation_date":1680297897,"question_id":75902850,"body_markdown":"It does not matter if I try type or fill on the element using the playwright inspector console, it shows the error as below:\r\n\r\n```\r\nplaywright.$(&quot;//app-date-picker[@formcontrolname=&#39;myDate&#39;]//input&quot;).fill(&#39;a2&#39;);\r\n\r\nVM51594:1 Uncaught TypeError: playwright.$(...).fill is not a function\r\nat &lt;anonymous&gt;:1:72\r\n```\r\n\r\nHowever, if I run the type method from my Playwright Java code, it runs without error:\r\n```\r\nLocator birthDateField = page.locator(&quot;//app-date-picker[@formcontrolname=&#39;myDate&#39;]//input&quot;);\r\nbirthDateField.fill(&quot;&quot;);\r\n```\r\n\r\nWhat can cause the difference and why it is not working with the fill method in playwright inspector? The selector is correct, only the fill method is problematic somehow.\r\n","title":"Why can&#39;t I use fill and type methods in playwright inspector on input elements?","body":"<p>It does not matter if I try type or fill on the element using the playwright inspector console, it shows the error as below:</p>\n<pre><code>playwright.$(&quot;//app-date-picker[@formcontrolname='myDate']//input&quot;).fill('a2');\n\nVM51594:1 Uncaught TypeError: playwright.$(...).fill is not a function\nat &lt;anonymous&gt;:1:72\n</code></pre>\n<p>However, if I run the type method from my Playwright Java code, it runs without error:</p>\n<pre><code>Locator birthDateField = page.locator(&quot;//app-date-picker[@formcontrolname='myDate']//input&quot;);\nbirthDateField.fill(&quot;&quot;);\n</code></pre>\n<p>What can cause the difference and why it is not working with the fill method in playwright inspector? The selector is correct, only the fill method is problematic somehow.</p>\n"},{"tags":["java","spring","spring-boot","spring-session"],"owner":{"account_id":27355785,"reputation":11,"user_id":20864199,"display_name":"Marcin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680340222,"creation_date":1680263058,"question_id":75898154,"body_markdown":"I have recently switched my app from local http session to Spring-Session. It was pretty straight forward following instructions available on the internet. However, my HttpSessionListener stopped working. \r\n\r\nI came across this question: https://stackoverflow.com/questions/30341254/migrating-httpsessionlistener-after-adopting-spring-sessions Following the instruction I added the bean in my configuration class:\r\n\r\n```\r\n@EnableRedisHttpSession\r\n@Configuration\r\npublic class ApplicationConfiguration {\r\n\r\n    @Bean\r\n    public ServletListenerRegistrationBean&lt;LocalSessionCleanerListener&gt; sessionListener() {\r\n        System.out.println(&quot;------------------ Bean: ServletListenerRegistrationBean&lt;LocalSessionCleanerListener&gt; -----------------&quot;);\r\n        ServletListenerRegistrationBean&lt;LocalSessionCleanerListener&gt; listenerRegBean\r\n                = new ServletListenerRegistrationBean&lt;&gt;();\r\n\r\n        listenerRegBean.setListener(new LocalSessionCleanerListener());\r\n        return listenerRegBean;\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhere LocalSessionCleanerListener is my HttpSessionListener. I can see it being initialized (so configuration is loaded and bean retrieved) but events are not invoked on the listener (in exactly the same scenario as without Spring-Session). Is there something else I need to do?\r\n\r\nMy SpringApplication is annotated with @ServletComponentScan and LocalSessionCleanerListener with @WebListener.\r\n\r\nI have also tried following beans in configuration class:\r\n\r\n\r\n```\r\n    @Bean\r\n    public HttpSessionListener localSessionCleanerListener() {\r\n        System.out.println(&quot;------------------ Bean: LocalSessionCleanerListener -----------------&quot;);\r\n        return new LocalSessionCleanerListener();\r\n    }\r\n```\r\n```\r\n    @Bean\r\n    public SessionEventHttpSessionListenerAdapter session() {\r\n        System.out.println(&quot;------------------ Bean: SessionEventHttpSessionListenerAdapter -----------------&quot;);\r\n        List&lt;HttpSessionListener&gt; listeners = new ArrayList&lt;HttpSessionListener&gt;();\r\n        listeners.add(new LocalSessionCleanerListener());\r\n        return new SessionEventHttpSessionListenerAdapter(listeners);\r\n    }\r\n```\r\n\r\nWith the same effect, my LocalSessionCleanerListener is created but does not receive any events. I would really appreciate some help with understanding what happens under the hood with Spring-Session and why it does not work. Thanks.","title":"Spring-Boot with Spring-Session (Redis) and HttpSessionListener - listener is not registered","body":"<p>I have recently switched my app from local http session to Spring-Session. It was pretty straight forward following instructions available on the internet. However, my HttpSessionListener stopped working.</p>\n<p>I came across this question: <a href=\"https://stackoverflow.com/questions/30341254/migrating-httpsessionlistener-after-adopting-spring-sessions\">Migrating HttpSessionListener after adopting spring-sessions</a> Following the instruction I added the bean in my configuration class:</p>\n<pre><code>@EnableRedisHttpSession\n@Configuration\npublic class ApplicationConfiguration {\n\n    @Bean\n    public ServletListenerRegistrationBean&lt;LocalSessionCleanerListener&gt; sessionListener() {\n        System.out.println(&quot;------------------ Bean: ServletListenerRegistrationBean&lt;LocalSessionCleanerListener&gt; -----------------&quot;);\n        ServletListenerRegistrationBean&lt;LocalSessionCleanerListener&gt; listenerRegBean\n                = new ServletListenerRegistrationBean&lt;&gt;();\n\n        listenerRegBean.setListener(new LocalSessionCleanerListener());\n        return listenerRegBean;\n    }\n\n}\n</code></pre>\n<p>Where LocalSessionCleanerListener is my HttpSessionListener. I can see it being initialized (so configuration is loaded and bean retrieved) but events are not invoked on the listener (in exactly the same scenario as without Spring-Session). Is there something else I need to do?</p>\n<p>My SpringApplication is annotated with @ServletComponentScan and LocalSessionCleanerListener with @WebListener.</p>\n<p>I have also tried following beans in configuration class:</p>\n<pre><code>    @Bean\n    public HttpSessionListener localSessionCleanerListener() {\n        System.out.println(&quot;------------------ Bean: LocalSessionCleanerListener -----------------&quot;);\n        return new LocalSessionCleanerListener();\n    }\n</code></pre>\n<pre><code>    @Bean\n    public SessionEventHttpSessionListenerAdapter session() {\n        System.out.println(&quot;------------------ Bean: SessionEventHttpSessionListenerAdapter -----------------&quot;);\n        List&lt;HttpSessionListener&gt; listeners = new ArrayList&lt;HttpSessionListener&gt;();\n        listeners.add(new LocalSessionCleanerListener());\n        return new SessionEventHttpSessionListenerAdapter(listeners);\n    }\n</code></pre>\n<p>With the same effect, my LocalSessionCleanerListener is created but does not receive any events. I would really appreciate some help with understanding what happens under the hood with Spring-Session and why it does not work. Thanks.</p>\n"},{"tags":["java","intellij-idea","unicode","console","jvm"],"comments":[{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1589382266,"post_id":1082343,"comment_id":109272949,"body_markdown":"See also [Intellij Idea incorrect encoding in console output](https://stackoverflow.com/questions/35231291/intellij-idea-incorrect-encoding-in-console-output)","body":"See also <a href=\"https://stackoverflow.com/questions/35231291/intellij-idea-incorrect-encoding-in-console-output\">Intellij Idea incorrect encoding in console output</a>"}],"answers":[{"comments":[{"owner":{"account_id":45195,"reputation":2344,"user_id":2134702,"accept_rate":85,"display_name":"Eran"},"score":0,"creation_date":1246719572,"post_id":1082350,"comment_id":895438,"body_markdown":"Inside IntelliJ, for starters.","body":"Inside IntelliJ, for starters."}],"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1246719363,"creation_date":1246719363,"answer_id":1082350,"question_id":1082343,"body_markdown":"System.out uses the default encoding of the underlying operating system which typically is ISO-8859-1 or UTF-8.  The first is what I have with the 1252 codepage under XP. \r\n\r\nIs this in a CMD.EXE window, or inside an IDE?","title":"Unicode characters appear as question marks in IntelliJ IDEA console","body":"<p>System.out uses the default encoding of the underlying operating system which typically is ISO-8859-1 or UTF-8.  The first is what I have with the 1252 codepage under XP. </p>\n\n<p>Is this in a CMD.EXE window, or inside an IDE?</p>\n"},{"tags":[],"owner":{"account_id":24436,"reputation":73314,"user_id":62130,"accept_rate":39,"display_name":"Esko Luontola"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1246719978,"creation_date":1246719978,"answer_id":1082370,"question_id":1082343,"body_markdown":"Is the file encoding configured correctly? See that &quot;Settings | File Encodings&quot; uses UTF-8. Printing ♠ works for me when I have IDE encoding and all files set to UTF-8. Recompiling may be needed after changing the encoding.","title":"Unicode characters appear as question marks in IntelliJ IDEA console","body":"<p>Is the file encoding configured correctly? See that \"Settings | File Encodings\" uses UTF-8. Printing ♠ works for me when I have IDE encoding and all files set to UTF-8. Recompiling may be needed after changing the encoding.</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1246724350,"creation_date":1246724350,"answer_id":1082509,"question_id":1082343,"body_markdown":"If you ultimately want to print a wide range of Unicode characters on a standard command line on Windows, there is a bit of work involved. The default raster font will not support the characters and applications usually need to call the Unicode console API to render them. Java does not - it will first encode the characters to the native character set (a lossy process) and then emit them using an ANSI call. You can read [this blog post][1] if you want the gory details.\r\n\r\n\r\n\r\n  [1]: http://illegalargumentexception.blogspot.com/2009/04/i18n-unicode-at-windows-command-prompt.html","title":"Unicode characters appear as question marks in IntelliJ IDEA console","body":"<p>If you ultimately want to print a wide range of Unicode characters on a standard command line on Windows, there is a bit of work involved. The default raster font will not support the characters and applications usually need to call the Unicode console API to render them. Java does not - it will first encode the characters to the native character set (a lossy process) and then emit them using an ANSI call. You can read <a href=\"http://illegalargumentexception.blogspot.com/2009/04/i18n-unicode-at-windows-command-prompt.html\" rel=\"nofollow noreferrer\">this blog post</a> if you want the gory details.</p>\n"},{"comments":[{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":3,"creation_date":1473520585,"post_id":29422627,"comment_id":66178546,"body_markdown":"2016.4: Doesn&#39;t work. Everything is UTF-8 including `System.out.textOut.out.se.cs` but I see boxed question marks (�) in the console.","body":"2016.4: Doesn&#39;t work. Everything is UTF-8 including <code>System.out.textOut.out.se.cs</code> but I see boxed question marks (�) in the console."},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1473533734,"post_id":29422627,"comment_id":66182435,"body_markdown":"@MarkJeronimus I was going to ask you to precisely describe your situation, but you might be better off starting a new question.  You might want to link to this one to show that nothing here worked for you.","body":"@MarkJeronimus I was going to ask you to precisely describe your situation, but you might be better off starting a new question.  You might want to link to this one to show that nothing here worked for you."},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":1,"creation_date":1473533845,"post_id":29422627,"comment_id":66182472,"body_markdown":"@MarkJeronimus your boxed question marks are an entirely different thing from regular question marks, and what they tell about your console is that it is perfectly capable of rendering unicode, so your problem may be elsewhere.","body":"@MarkJeronimus your boxed question marks are an entirely different thing from regular question marks, and what they tell about your console is that it is perfectly capable of rendering unicode, so your problem may be elsewhere."}],"tags":[],"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":3,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1428932709,"creation_date":1428009412,"answer_id":29422627,"question_id":1082343,"body_markdown":"A little update for the year 2015\r\n---------------------------------\r\n\r\n**TL;DR answer:**\r\n\r\nGo to `Settings` -&gt; `Editor` -&gt; `File Encodings` -&gt; `Project Encoding` and set it to &quot;UTF-8&quot;.\r\n\r\n**Expanded answer:**\r\n\r\nThe reason why it does not work can be found by placing a breakpoint on a `System.out.print()` call. When the breakpoint hits, you can add `System.out` to `Watches`, and you can see that `System.out.textOut.out.se.cs` is set to `windows-1252` or something similarly unsuitable.\r\n\r\nThe setting which magically worked for me (I do not know why) is in `Settings` -&gt; `Editor` -&gt; `File Encodings` -&gt; `Project Encoding`.  You need to set that to &quot;UTF-8&quot;.\r\n\r\nThen, unicode characters display properly on the console, and one more quick look with the debugger shows that the value of `System.out.textOut.out.se.cs` has magically turned into `UTF-8`.\r\n\r\nI am saying &quot;magically&quot; because I do not see how and why an editor setting should affect the character set that `System.out` gets instantiated with when launching/debugging an application.  If someone knows what is the logic behind this, please do tell!","title":"Unicode characters appear as question marks in IntelliJ IDEA console","body":"<h2>A little update for the year 2015</h2>\n\n<p><strong>TL;DR answer:</strong></p>\n\n<p>Go to <code>Settings</code> -> <code>Editor</code> -> <code>File Encodings</code> -> <code>Project Encoding</code> and set it to \"UTF-8\".</p>\n\n<p><strong>Expanded answer:</strong></p>\n\n<p>The reason why it does not work can be found by placing a breakpoint on a <code>System.out.print()</code> call. When the breakpoint hits, you can add <code>System.out</code> to <code>Watches</code>, and you can see that <code>System.out.textOut.out.se.cs</code> is set to <code>windows-1252</code> or something similarly unsuitable.</p>\n\n<p>The setting which magically worked for me (I do not know why) is in <code>Settings</code> -> <code>Editor</code> -> <code>File Encodings</code> -> <code>Project Encoding</code>.  You need to set that to \"UTF-8\".</p>\n\n<p>Then, unicode characters display properly on the console, and one more quick look with the debugger shows that the value of <code>System.out.textOut.out.se.cs</code> has magically turned into <code>UTF-8</code>.</p>\n\n<p>I am saying \"magically\" because I do not see how and why an editor setting should affect the character set that <code>System.out</code> gets instantiated with when launching/debugging an application.  If someone knows what is the logic behind this, please do tell!</p>\n"},{"tags":[],"owner":{"account_id":5470400,"reputation":26,"user_id":4349948,"display_name":"Langelihle Kwinda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520925448,"creation_date":1520925448,"answer_id":49250326,"question_id":1082343,"body_markdown":"The settings are not configured correctly, make sure that the your File encodings are set to UTF-8, in particular the &#39;Default encoding properties files&#39;.\r\nOn my side the steps below didnt work until I changed the default encoding.\r\n\r\nOn Intellij 2017.3.1 (Community Edition) File | Settings | Editor &gt; File Encodings . Click on link below to see settings image\r\n\r\n\r\n  [Intellij 2017.3.1 (Community Edition)][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XEgrw.png","title":"Unicode characters appear as question marks in IntelliJ IDEA console","body":"<p>The settings are not configured correctly, make sure that the your File encodings are set to UTF-8, in particular the 'Default encoding properties files'.\nOn my side the steps below didnt work until I changed the default encoding.</p>\n\n<p>On Intellij 2017.3.1 (Community Edition) File | Settings | Editor > File Encodings . Click on link below to see settings image</p>\n\n<p><a href=\"https://i.stack.imgur.com/XEgrw.png\" rel=\"nofollow noreferrer\">Intellij 2017.3.1 (Community Edition)</a></p>\n"},{"tags":[],"owner":{"account_id":7206748,"reputation":6346,"user_id":5502121,"display_name":"Kirill Karmazin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545662348,"creation_date":1545662348,"answer_id":53914769,"question_id":1082343,"body_markdown":"1. Do what @Mike Nakis said in his answer with going to Settings and changing project Encoding.\r\n\r\n2. In my case I had to do an additional step:\r\n\r\nIn the bottom right corner of IntelliJ IDEA switch encoding to UTF-8\r\n[![enter image description here][1]][1]\r\n\r\n*Note* that if you had some text pasted in your class with a different encoding (in my case I pasted a block of Cyrillic text right from the browser) it will become ugly formatted but that&#39;s ok. \r\nJust remove it and after switching to UTF-8 put it back.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JMJgx.png","title":"Unicode characters appear as question marks in IntelliJ IDEA console","body":"<ol>\n<li><p>Do what @Mike Nakis said in his answer with going to Settings and changing project Encoding.</p></li>\n<li><p>In my case I had to do an additional step:</p></li>\n</ol>\n\n<p>In the bottom right corner of IntelliJ IDEA switch encoding to UTF-8\n<a href=\"https://i.stack.imgur.com/JMJgx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JMJgx.png\" alt=\"enter image description here\"></a></p>\n\n<p><em>Note</em> that if you had some text pasted in your class with a different encoding (in my case I pasted a block of Cyrillic text right from the browser) it will become ugly formatted but that's ok. \nJust remove it and after switching to UTF-8 put it back.</p>\n"},{"comments":[{"owner":{"account_id":2306493,"reputation":153,"user_id":2025670,"display_name":"Rogerborg"},"score":2,"creation_date":1575377226,"post_id":58886877,"comment_id":104539008,"body_markdown":"Nice one, thanks.  Likewise, none of the other solutions worked.  Worth adding that I needed to restart IntelliJ to get it to stick. Solutions elsewhere suggest editing the idea/idea64.exe.vmoptions file in IntelliJ&#39;s bin directory, but Help -&gt; Edit Custom VM options opens one in ~\\.IntelliJ$VERSION\\config\\idea64.exe.vmoptions.","body":"Nice one, thanks.  Likewise, none of the other solutions worked.  Worth adding that I needed to restart IntelliJ to get it to stick. Solutions elsewhere suggest editing the idea/idea64.exe.vmoptions file in IntelliJ&#39;s bin directory, but Help -&gt; Edit Custom VM options opens one in ~\\.IntelliJ$VERSION\\config\\idea64.exe.vmoptions."},{"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"score":0,"creation_date":1592790266,"post_id":58886877,"comment_id":110541241,"body_markdown":"yeah I had a situation where I was running a batch program from a `nohup` on a linux terminal. The batch program would read from Solr and write to a text file. For some reason, all the UTF-8 characters like `–` were coming up as `?`. When I did `-Dfile.encoding=UTF-8` it fixed it","body":"yeah I had a situation where I was running a batch program from a <code>nohup</code> on a linux terminal. The batch program would read from Solr and write to a text file. For some reason, all the UTF-8 characters like <code>–</code> were coming up as <code>?</code>. When I did <code>-Dfile.encoding=UTF-8</code> it fixed it"},{"owner":{"account_id":1985248,"reputation":364,"user_id":1780668,"accept_rate":42,"display_name":"Vignesh"},"score":0,"creation_date":1617994730,"post_id":58886877,"comment_id":118477245,"body_markdown":"This works! Added in custom vm options. Restarted intelliJ. The Russian characters printed properly in console","body":"This works! Added in custom vm options. Restarted intelliJ. The Russian characters printed properly in console"}],"tags":[],"owner":{"account_id":6778270,"reputation":6791,"user_id":5288316,"accept_rate":79,"display_name":"Nicolas"},"comment_count":3,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1575464558,"creation_date":1573869533,"answer_id":58886877,"question_id":1082343,"body_markdown":"Go to &lt;kbd&gt;Help&lt;/kbd&gt; &gt; &lt;kbd&gt;Edit Custom VM options...&lt;/kbd&gt; then add the following option:\r\n```\r\n-Dconsole.encoding=UTF-8\r\n-Dfile.encoding=UTF-8\r\n```\r\nI&#39;m not sure if both are necessary but it worked for me. You need to restart IntelliJ for changes to be applied.\n\nI had already tried changing every encoding setting in Intellij, setting those options in Gradle and changing the system encoding, this is the only one that worked.","title":"Unicode characters appear as question marks in IntelliJ IDEA console","body":"<p>Go to <kbd>Help</kbd> > <kbd>Edit Custom VM options...</kbd> then add the following option:</p>\n\n<pre><code>-Dconsole.encoding=UTF-8\n-Dfile.encoding=UTF-8\n</code></pre>\n\n<p>I'm not sure if both are necessary but it worked for me. You need to restart IntelliJ for changes to be applied.</p>\n\n<p>I had already tried changing every encoding setting in Intellij, setting those options in Gradle and changing the system encoding, this is the only one that worked.</p>\n"},{"tags":[],"owner":{"account_id":21537293,"reputation":81,"user_id":15875615,"display_name":"Muhammad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653599463,"creation_date":1653599463,"answer_id":72398039,"question_id":1082343,"body_markdown":"Replace your encoding.xml file which exists at .idea with the following:\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project version=&quot;4&quot;&gt;\r\n  &lt;component name=&quot;Encoding&quot; defaultCharsetForPropertiesFiles=&quot;UTF-8&quot;&gt;\r\n    &lt;file url=&quot;PROJECT&quot; charset=&quot;UTF-8&quot; /&gt;\r\n  &lt;/component&gt;\r\n&lt;/project&gt;```\r\n","title":"Unicode characters appear as question marks in IntelliJ IDEA console","body":"<p>Replace your encoding.xml file which exists at .idea with the following:</p>\n<pre><code>&lt;project version=&quot;4&quot;&gt;\n  &lt;component name=&quot;Encoding&quot; defaultCharsetForPropertiesFiles=&quot;UTF-8&quot;&gt;\n    &lt;file url=&quot;PROJECT&quot; charset=&quot;UTF-8&quot; /&gt;\n  &lt;/component&gt;\n&lt;/project&gt;```\n</code></pre>\n"}],"owner":{"account_id":45195,"reputation":2344,"user_id":2134702,"accept_rate":85,"display_name":"Eran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41444,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":1082370,"answer_count":8,"score":22,"last_activity_date":1680339011,"creation_date":1246719149,"question_id":1082343,"body_markdown":"I&#39;m trying to write Unicode characters (♠) using `System.out`, and a question mark (`?`) gets printed instead. \r\n\r\nHow can I have proper Unicode characters displayed instead of question marks?\r\n\r\nI&#39;m using IntelliJ IDEA on Windows, and trying to print from within the IDE.\r\n","title":"Unicode characters appear as question marks in IntelliJ IDEA console","body":"<p>I'm trying to write Unicode characters (♠) using <code>System.out</code>, and a question mark (<code>?</code>) gets printed instead.</p>\n<p>How can I have proper Unicode characters displayed instead of question marks?</p>\n<p>I'm using IntelliJ IDEA on Windows, and trying to print from within the IDE.</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"score":0,"creation_date":1680328604,"post_id":75903885,"comment_id":133883487,"body_markdown":"I think you applied 2D array on a single dimension array `//array of menuitems\nMenuItem[] temp; MenuItem[] menuitem = new MenuItem[5];` either you create another variables or add new dimension to the existing ones","body":"I think you applied 2D array on a single dimension array <code>&#47;&#47;array of menuitems MenuItem[] temp; MenuItem[] menuitem = new MenuItem[5];</code> either you create another variables or add new dimension to the existing ones"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1680333314,"post_id":75903885,"comment_id":133883833,"body_markdown":"Variable `menuitem` is **not** a two-dimensional array - it is a one-dimensional array. What value do you expect `menuitem[x][0]` to give you? Also, it may help me to answer your question if you post the code for class `MenuItem`.","body":"Variable <code>menuitem</code> is <b>not</b> a two-dimensional array - it is a one-dimensional array. What value do you expect <code>menuitem[x][0]</code> to give you? Also, it may help me to answer your question if you post the code for class <code>MenuItem</code>."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680338835,"creation_date":1680338835,"answer_id":75905111,"question_id":75903885,"body_markdown":"Explanations appear after the code.  \r\n(Changes to your code are indicated in the below code with the comment &quot;CHANGE HERE&quot;.)\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Menu {\r\n\r\n    public static void main(String[] args) {\r\n        double totalitems = 0;\r\n        String newitemname, newitemprice;\r\n        int x;\r\n\r\n        // array of menuitems\r\n        MenuItem[] temp;\r\n\r\n        MenuItem[] menuitem = new MenuItem[5];\r\n        menuitem[0] = new MenuItem(&quot;Tacos: Steak, Chicken, Pastor, Lengua&quot;, 3.00);\r\n        menuitem[1] = new MenuItem(&quot;Nachos: Steak, Chicken, Pastor, Lengua&quot;, 4.50);\r\n        menuitem[2] = new MenuItem(&quot;Tortas: Steak, Chicken, Pastor, Lengua&quot;, 6.00);\r\n        menuitem[3] = new MenuItem(&quot;Burritos: Steak, Chicken, Pastor, Lengua&quot;, 5.00);\r\n        menuitem[4] = new MenuItem(&quot;Quesadillas: Steak, Chicken, Pastor, Lengua&quot;, 7.00);\r\n\r\n        // welcoming the user to the restaurant and giving the menu after\r\n        System.out.println(&quot;Welcome to Luis Restaurant!&quot;);\r\n        System.out.println(&quot;This is the Restaurant Menu!&quot;);\r\n\r\n        for (x = 0; x &lt; menuitem.length; x++) {\r\n            System.out.println(x + &quot;)&quot; + menuitem[x]); // CHANGE HERE\r\n        }\r\n        Scanner input = new Scanner(System.in);\r\n        int option = 1;\r\n        String option2;\r\n        int order;\r\n        int k;\r\n\r\n        // this makes a loop to continue and keep asking question until the user wants\r\n        // to exit\r\n        while (option != 0) {\r\n            System.out.println(&quot; What would you like to do ? &quot;);\r\n            System.out.println(&quot; 1) Calculate the Total &quot;);\r\n            System.out.println(&quot; 2) Add an item to the menu &quot;);\r\n            System.out.println(&quot; 3) Delete an item from the menu &quot;);\r\n            System.out.println(&quot; 4) Change the price of an item &quot;);\r\n            System.out.println(&quot; 0) press 0 if you want to exit &quot;);\r\n            option = input.nextInt();\r\n\r\n            // if the user wants to calculate a total\r\n            // ask the user to allow this to calculate the total\r\n            if (option == 1) {\r\n                for (x = 0; x &lt; menuitem.length; x++)\r\n                    System.out.println(x + &quot;)&quot; + menuitem[x].toString());\r\n                System.out.println(&quot; Cacluating the Total &gt;&gt;&gt; &quot;);\r\n                System.out.println(&quot;Select the item or type 999 for the total:&quot;);\r\n                order = input.nextInt();\r\n                while (order != 999) {\r\n                    if (order &lt; menuitem.length)\r\n                        totalitems += menuitem[order].getPrice(); // if the user wants to enter multiple items this will make a loop for them\r\n                    System.out.println(&quot;Select the item or type 999 for the total:&quot;); // ask the user to enter &quot;x&quot; once you want the total\r\n                    order = input.nextInt();\r\n                }\r\n                System.out.println(&quot;This is your total $&quot; + totalitems);\r\n            }\r\n\r\n            // if the user wants to add an item:\r\n            // ask the user to add the item name and price.\r\n            else if (option == 2) {\r\n                System.out.println(&quot; Enter the name of the food item: &quot;);\r\n                input.nextLine();\r\n                newitemname = input.nextLine();\r\n                System.out.println(&quot; Enter the price of the food item: &quot;);\r\n                newitemprice = input.nextLine();\r\n                temp = new MenuItem[menuitem.length + 1];\r\n                for (x = 0; x &lt; menuitem.length; x++) {\r\n                    temp[x] = menuitem[x]; // CHANGE HERE\r\n                }\r\n                temp[x] = new MenuItem(newitemname, Double.parseDouble(newitemprice)); // CHANGE HERE\r\n                menuitem = temp;\r\n            }\r\n\r\n            // if the user wants to remove a item\r\n            // ask the user what item to delete.\r\n            else if (option == 3) {\r\n                for (x = 0; x &lt; menuitem.length; x++)\r\n                    System.out.println(x + &quot;)&quot; + menuitem[x]); // CHANGE HERE\r\n                System.out.println(&quot; What item would you like to Delete?&quot;);\r\n                order = input.nextInt();\r\n                temp = new MenuItem[menuitem.length - 1];\r\n                for (x = 0, k = 0; x &lt; menuitem.length; x++) {\r\n                    if (x != order) {\r\n                        temp[k] = menuitem[x]; // CHANGE HERE\r\n                        k++;\r\n                    }\r\n                }\r\n                menuitem = temp;\r\n            }\r\n\r\n            // If the user wants to change the price of an item:\r\n            // ask the user what item and what the new price is\r\n            else if (option == 4) {\r\n                for (x = 0; x &lt; menuitem.length; x++)\r\n                    System.out.println(x + &quot;)&quot; + menuitem[x]); // CHANGE HERE\r\n                System.out.println(&quot; what item would you like to Change?&quot;);\r\n                System.out.println(&quot; Enter the Number of the food item: &quot;);\r\n                order = input.nextInt();\r\n                input.nextLine();\r\n                System.out.println(&quot; Enter the food price of the item:  &quot;);\r\n                option2 = input.nextLine();\r\n                menuitem[order].setPrice(Double.parseDouble(option2));\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nclass MenuItem {\r\n    private String name;\r\n    private double price;\r\n\r\n    public MenuItem(String desc, double cost) {\r\n        name = desc;\r\n        price = cost;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public double getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(double newPrice) {\r\n        price = newPrice;\r\n    }\r\n\r\n    @Override // java.lang.Object\r\n    public String toString() {\r\n        return String.format(&quot;%s: $%.2f&quot;, name, price);\r\n    }\r\n}\r\n```\r\nEach element in array `menuitem` is an instance of class `MenuItem` and `menuitem[x][0]` does **not** give you an attribute of the class. You need to invoke a class method that returns the desired attribute &amp;ndash; and that appears in your code:\r\n```java\r\ntotalitems += menuitem[order].getPrice(); // if the user wants to enter multiple items this will make a loop for them\r\n```\r\nHence, in the above code, I replaced `menuitem[x][0]` with `menuitem[x].getName()` and `menuitem[x][1]` with `menuitem[x].getPrice()`.\r\n\r\nIf you want to create a new `MenuItem` instance, you need to call the constructor of class `MenuItem`. Hence I replaced:\r\n```java\r\ntemp[x][0] = newitemname;\r\ntemp[x][1] = newitemprice;\r\n```\r\nwith:\r\n```java\r\ntemp[x] = new MenuItem(newitemname, Double.parseDouble(newitemprice));\r\n```\r\nWhen copying elements from array `menuitem` to array `temp`, you just need a simple assignment &amp;ndash; you don&#39;t need to assign each attribute separately. Hence I replaced:\r\n```java\r\ntemp[x] = menuitem[x][0];\r\ntemp[x][1] = menuitem[x][1];\r\n```\r\nwith:\r\n```java\r\ntemp[x] = menuitem[x];\r\n```\r\nNote that the following code creates a new array but every element in that array is null:\r\n```java\r\ntemp = new MenuItem[menuitem.length + 1];\r\n```\r\nHowever you can combine creating a new array and copying elements by calling method [copyOf](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#copyOf(T%5B%5D,int)) in class `java.util.Arrays`:\r\n```java\r\ntemp = Arrays.copyOf(menuitem, menuitem.length + 1);\r\n```\r\nWhen printing a `MenuItem` instance, it is preferable to override method `toString`. This also appears in your code:\r\n```java\r\nSystem.out.println(x + &quot;)&quot; + menuitem[x].toString());\r\n```\r\nNote that you can remove the `.toString()`.\r\n\r\nYou need to be careful when calling different `next*` methods of class `java.util.Scanner`. In your code you are calling methods `next` and `nextInt` and `nextLine`. Refer to [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo).\r\n\r\nI have not done so in the above code, but you should check whether the user enters valid values. What happens if she enters option 7, for example?\r\n\r\nOutput from a sample run of the above code:\r\n```none\r\nWelcome to Luis Restaurant!\r\nThis is the Restaurant Menu!\r\n0)Tacos: Steak, Chicken, Pastor, Lengua: $3.00\r\n1)Nachos: Steak, Chicken, Pastor, Lengua: $4.50\r\n2)Tortas: Steak, Chicken, Pastor, Lengua: $6.00\r\n3)Burritos: Steak, Chicken, Pastor, Lengua: $5.00\r\n4)Quesadillas: Steak, Chicken, Pastor, Lengua: $7.00\r\n What would you like to do ? \r\n 1) Calculate the Total \r\n 2) Add an item to the menu \r\n 3) Delete an item from the menu \r\n 4) Change the price of an item \r\n 0) press 0 if you want to exit \r\n1\r\n0)Tacos: Steak, Chicken, Pastor, Lengua: $3.00\r\n1)Nachos: Steak, Chicken, Pastor, Lengua: $4.50\r\n2)Tortas: Steak, Chicken, Pastor, Lengua: $6.00\r\n3)Burritos: Steak, Chicken, Pastor, Lengua: $5.00\r\n4)Quesadillas: Steak, Chicken, Pastor, Lengua: $7.00\r\n Cacluating the Total &gt;&gt;&gt; \r\nSelect the item or type 999 for the total:\r\n999\r\nThis is your total $0.0\r\n What would you like to do ? \r\n 1) Calculate the Total \r\n 2) Add an item to the menu \r\n 3) Delete an item from the menu \r\n 4) Change the price of an item \r\n 0) press 0 if you want to exit \r\n2\r\n Enter the name of the food item: \r\nGeorge\r\n Enter the price of the food item: \r\n25\r\n What would you like to do ? \r\n 1) Calculate the Total \r\n 2) Add an item to the menu \r\n 3) Delete an item from the menu \r\n 4) Change the price of an item \r\n 0) press 0 if you want to exit \r\n4\r\n0)Tacos: Steak, Chicken, Pastor, Lengua: $3.00\r\n1)Nachos: Steak, Chicken, Pastor, Lengua: $4.50\r\n2)Tortas: Steak, Chicken, Pastor, Lengua: $6.00\r\n3)Burritos: Steak, Chicken, Pastor, Lengua: $5.00\r\n4)Quesadillas: Steak, Chicken, Pastor, Lengua: $7.00\r\n5)George: $25.00\r\n what item would you like to Change?\r\n Enter the Number of the food item: \r\n0\r\n Enter the food price of the item:  \r\n3.25\r\n What would you like to do ? \r\n 1) Calculate the Total \r\n 2) Add an item to the menu \r\n 3) Delete an item from the menu \r\n 4) Change the price of an item \r\n 0) press 0 if you want to exit \r\n3\r\n0)Tacos: Steak, Chicken, Pastor, Lengua: $3.25\r\n1)Nachos: Steak, Chicken, Pastor, Lengua: $4.50\r\n2)Tortas: Steak, Chicken, Pastor, Lengua: $6.00\r\n3)Burritos: Steak, Chicken, Pastor, Lengua: $5.00\r\n4)Quesadillas: Steak, Chicken, Pastor, Lengua: $7.00\r\n5)George: $25.00\r\n What item would you like to Delete?\r\n5\r\n What would you like to do ? \r\n 1) Calculate the Total \r\n 2) Add an item to the menu \r\n 3) Delete an item from the menu \r\n 4) Change the price of an item \r\n 0) press 0 if you want to exit \r\n1\r\n0)Tacos: Steak, Chicken, Pastor, Lengua: $3.25\r\n1)Nachos: Steak, Chicken, Pastor, Lengua: $4.50\r\n2)Tortas: Steak, Chicken, Pastor, Lengua: $6.00\r\n3)Burritos: Steak, Chicken, Pastor, Lengua: $5.00\r\n4)Quesadillas: Steak, Chicken, Pastor, Lengua: $7.00\r\n Cacluating the Total &gt;&gt;&gt; \r\nSelect the item or type 999 for the total:\r\n0\r\nSelect the item or type 999 for the total:\r\n0\r\nSelect the item or type 999 for the total:\r\n1\r\nSelect the item or type 999 for the total:\r\n999\r\nThis is your total $11.0\r\n What would you like to do ? \r\n 1) Calculate the Total \r\n 2) Add an item to the menu \r\n 3) Delete an item from the menu \r\n 4) Change the price of an item \r\n 0) press 0 if you want to exit \r\n0\r\n```\r\n","title":"Can someone help me turn my 2D array options into a single array options in my code","body":"<p>Explanations appear after the code.<br />\n(Changes to your code are indicated in the below code with the comment &quot;CHANGE HERE&quot;.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Menu {\n\n    public static void main(String[] args) {\n        double totalitems = 0;\n        String newitemname, newitemprice;\n        int x;\n\n        // array of menuitems\n        MenuItem[] temp;\n\n        MenuItem[] menuitem = new MenuItem[5];\n        menuitem[0] = new MenuItem(&quot;Tacos: Steak, Chicken, Pastor, Lengua&quot;, 3.00);\n        menuitem[1] = new MenuItem(&quot;Nachos: Steak, Chicken, Pastor, Lengua&quot;, 4.50);\n        menuitem[2] = new MenuItem(&quot;Tortas: Steak, Chicken, Pastor, Lengua&quot;, 6.00);\n        menuitem[3] = new MenuItem(&quot;Burritos: Steak, Chicken, Pastor, Lengua&quot;, 5.00);\n        menuitem[4] = new MenuItem(&quot;Quesadillas: Steak, Chicken, Pastor, Lengua&quot;, 7.00);\n\n        // welcoming the user to the restaurant and giving the menu after\n        System.out.println(&quot;Welcome to Luis Restaurant!&quot;);\n        System.out.println(&quot;This is the Restaurant Menu!&quot;);\n\n        for (x = 0; x &lt; menuitem.length; x++) {\n            System.out.println(x + &quot;)&quot; + menuitem[x]); // CHANGE HERE\n        }\n        Scanner input = new Scanner(System.in);\n        int option = 1;\n        String option2;\n        int order;\n        int k;\n\n        // this makes a loop to continue and keep asking question until the user wants\n        // to exit\n        while (option != 0) {\n            System.out.println(&quot; What would you like to do ? &quot;);\n            System.out.println(&quot; 1) Calculate the Total &quot;);\n            System.out.println(&quot; 2) Add an item to the menu &quot;);\n            System.out.println(&quot; 3) Delete an item from the menu &quot;);\n            System.out.println(&quot; 4) Change the price of an item &quot;);\n            System.out.println(&quot; 0) press 0 if you want to exit &quot;);\n            option = input.nextInt();\n\n            // if the user wants to calculate a total\n            // ask the user to allow this to calculate the total\n            if (option == 1) {\n                for (x = 0; x &lt; menuitem.length; x++)\n                    System.out.println(x + &quot;)&quot; + menuitem[x].toString());\n                System.out.println(&quot; Cacluating the Total &gt;&gt;&gt; &quot;);\n                System.out.println(&quot;Select the item or type 999 for the total:&quot;);\n                order = input.nextInt();\n                while (order != 999) {\n                    if (order &lt; menuitem.length)\n                        totalitems += menuitem[order].getPrice(); // if the user wants to enter multiple items this will make a loop for them\n                    System.out.println(&quot;Select the item or type 999 for the total:&quot;); // ask the user to enter &quot;x&quot; once you want the total\n                    order = input.nextInt();\n                }\n                System.out.println(&quot;This is your total $&quot; + totalitems);\n            }\n\n            // if the user wants to add an item:\n            // ask the user to add the item name and price.\n            else if (option == 2) {\n                System.out.println(&quot; Enter the name of the food item: &quot;);\n                input.nextLine();\n                newitemname = input.nextLine();\n                System.out.println(&quot; Enter the price of the food item: &quot;);\n                newitemprice = input.nextLine();\n                temp = new MenuItem[menuitem.length + 1];\n                for (x = 0; x &lt; menuitem.length; x++) {\n                    temp[x] = menuitem[x]; // CHANGE HERE\n                }\n                temp[x] = new MenuItem(newitemname, Double.parseDouble(newitemprice)); // CHANGE HERE\n                menuitem = temp;\n            }\n\n            // if the user wants to remove a item\n            // ask the user what item to delete.\n            else if (option == 3) {\n                for (x = 0; x &lt; menuitem.length; x++)\n                    System.out.println(x + &quot;)&quot; + menuitem[x]); // CHANGE HERE\n                System.out.println(&quot; What item would you like to Delete?&quot;);\n                order = input.nextInt();\n                temp = new MenuItem[menuitem.length - 1];\n                for (x = 0, k = 0; x &lt; menuitem.length; x++) {\n                    if (x != order) {\n                        temp[k] = menuitem[x]; // CHANGE HERE\n                        k++;\n                    }\n                }\n                menuitem = temp;\n            }\n\n            // If the user wants to change the price of an item:\n            // ask the user what item and what the new price is\n            else if (option == 4) {\n                for (x = 0; x &lt; menuitem.length; x++)\n                    System.out.println(x + &quot;)&quot; + menuitem[x]); // CHANGE HERE\n                System.out.println(&quot; what item would you like to Change?&quot;);\n                System.out.println(&quot; Enter the Number of the food item: &quot;);\n                order = input.nextInt();\n                input.nextLine();\n                System.out.println(&quot; Enter the food price of the item:  &quot;);\n                option2 = input.nextLine();\n                menuitem[order].setPrice(Double.parseDouble(option2));\n            }\n        }\n    }\n}\n\nclass MenuItem {\n    private String name;\n    private double price;\n\n    public MenuItem(String desc, double cost) {\n        name = desc;\n        price = cost;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public double getPrice() {\n        return price;\n    }\n\n    public void setPrice(double newPrice) {\n        price = newPrice;\n    }\n\n    @Override // java.lang.Object\n    public String toString() {\n        return String.format(&quot;%s: $%.2f&quot;, name, price);\n    }\n}\n</code></pre>\n<p>Each element in array <code>menuitem</code> is an instance of class <code>MenuItem</code> and <code>menuitem[x][0]</code> does <strong>not</strong> give you an attribute of the class. You need to invoke a class method that returns the desired attribute – and that appears in your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>totalitems += menuitem[order].getPrice(); // if the user wants to enter multiple items this will make a loop for them\n</code></pre>\n<p>Hence, in the above code, I replaced <code>menuitem[x][0]</code> with <code>menuitem[x].getName()</code> and <code>menuitem[x][1]</code> with <code>menuitem[x].getPrice()</code>.</p>\n<p>If you want to create a new <code>MenuItem</code> instance, you need to call the constructor of class <code>MenuItem</code>. Hence I replaced:</p>\n<pre class=\"lang-java prettyprint-override\"><code>temp[x][0] = newitemname;\ntemp[x][1] = newitemprice;\n</code></pre>\n<p>with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>temp[x] = new MenuItem(newitemname, Double.parseDouble(newitemprice));\n</code></pre>\n<p>When copying elements from array <code>menuitem</code> to array <code>temp</code>, you just need a simple assignment – you don't need to assign each attribute separately. Hence I replaced:</p>\n<pre class=\"lang-java prettyprint-override\"><code>temp[x] = menuitem[x][0];\ntemp[x][1] = menuitem[x][1];\n</code></pre>\n<p>with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>temp[x] = menuitem[x];\n</code></pre>\n<p>Note that the following code creates a new array but every element in that array is null:</p>\n<pre class=\"lang-java prettyprint-override\"><code>temp = new MenuItem[menuitem.length + 1];\n</code></pre>\n<p>However you can combine creating a new array and copying elements by calling method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#copyOf(T%5B%5D,int)\" rel=\"nofollow noreferrer\">copyOf</a> in class <code>java.util.Arrays</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>temp = Arrays.copyOf(menuitem, menuitem.length + 1);\n</code></pre>\n<p>When printing a <code>MenuItem</code> instance, it is preferable to override method <code>toString</code>. This also appears in your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(x + &quot;)&quot; + menuitem[x].toString());\n</code></pre>\n<p>Note that you can remove the <code>.toString()</code>.</p>\n<p>You need to be careful when calling different <code>next*</code> methods of class <code>java.util.Scanner</code>. In your code you are calling methods <code>next</code> and <code>nextInt</code> and <code>nextLine</code>. Refer to <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>.</p>\n<p>I have not done so in the above code, but you should check whether the user enters valid values. What happens if she enters option 7, for example?</p>\n<p>Output from a sample run of the above code:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Welcome to Luis Restaurant!\nThis is the Restaurant Menu!\n0)Tacos: Steak, Chicken, Pastor, Lengua: $3.00\n1)Nachos: Steak, Chicken, Pastor, Lengua: $4.50\n2)Tortas: Steak, Chicken, Pastor, Lengua: $6.00\n3)Burritos: Steak, Chicken, Pastor, Lengua: $5.00\n4)Quesadillas: Steak, Chicken, Pastor, Lengua: $7.00\n What would you like to do ? \n 1) Calculate the Total \n 2) Add an item to the menu \n 3) Delete an item from the menu \n 4) Change the price of an item \n 0) press 0 if you want to exit \n1\n0)Tacos: Steak, Chicken, Pastor, Lengua: $3.00\n1)Nachos: Steak, Chicken, Pastor, Lengua: $4.50\n2)Tortas: Steak, Chicken, Pastor, Lengua: $6.00\n3)Burritos: Steak, Chicken, Pastor, Lengua: $5.00\n4)Quesadillas: Steak, Chicken, Pastor, Lengua: $7.00\n Cacluating the Total &gt;&gt;&gt; \nSelect the item or type 999 for the total:\n999\nThis is your total $0.0\n What would you like to do ? \n 1) Calculate the Total \n 2) Add an item to the menu \n 3) Delete an item from the menu \n 4) Change the price of an item \n 0) press 0 if you want to exit \n2\n Enter the name of the food item: \nGeorge\n Enter the price of the food item: \n25\n What would you like to do ? \n 1) Calculate the Total \n 2) Add an item to the menu \n 3) Delete an item from the menu \n 4) Change the price of an item \n 0) press 0 if you want to exit \n4\n0)Tacos: Steak, Chicken, Pastor, Lengua: $3.00\n1)Nachos: Steak, Chicken, Pastor, Lengua: $4.50\n2)Tortas: Steak, Chicken, Pastor, Lengua: $6.00\n3)Burritos: Steak, Chicken, Pastor, Lengua: $5.00\n4)Quesadillas: Steak, Chicken, Pastor, Lengua: $7.00\n5)George: $25.00\n what item would you like to Change?\n Enter the Number of the food item: \n0\n Enter the food price of the item:  \n3.25\n What would you like to do ? \n 1) Calculate the Total \n 2) Add an item to the menu \n 3) Delete an item from the menu \n 4) Change the price of an item \n 0) press 0 if you want to exit \n3\n0)Tacos: Steak, Chicken, Pastor, Lengua: $3.25\n1)Nachos: Steak, Chicken, Pastor, Lengua: $4.50\n2)Tortas: Steak, Chicken, Pastor, Lengua: $6.00\n3)Burritos: Steak, Chicken, Pastor, Lengua: $5.00\n4)Quesadillas: Steak, Chicken, Pastor, Lengua: $7.00\n5)George: $25.00\n What item would you like to Delete?\n5\n What would you like to do ? \n 1) Calculate the Total \n 2) Add an item to the menu \n 3) Delete an item from the menu \n 4) Change the price of an item \n 0) press 0 if you want to exit \n1\n0)Tacos: Steak, Chicken, Pastor, Lengua: $3.25\n1)Nachos: Steak, Chicken, Pastor, Lengua: $4.50\n2)Tortas: Steak, Chicken, Pastor, Lengua: $6.00\n3)Burritos: Steak, Chicken, Pastor, Lengua: $5.00\n4)Quesadillas: Steak, Chicken, Pastor, Lengua: $7.00\n Cacluating the Total &gt;&gt;&gt; \nSelect the item or type 999 for the total:\n0\nSelect the item or type 999 for the total:\n0\nSelect the item or type 999 for the total:\n1\nSelect the item or type 999 for the total:\n999\nThis is your total $11.0\n What would you like to do ? \n 1) Calculate the Total \n 2) Add an item to the menu \n 3) Delete an item from the menu \n 4) Change the price of an item \n 0) press 0 if you want to exit \n0\n</code></pre>\n"}],"owner":{"account_id":28183432,"reputation":1,"user_id":21540084,"display_name":"Luis Rivera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680338835,"creation_date":1680314091,"question_id":75903885,"body_markdown":"As you can see, the beginning of my code works perfectly, option one works fine until I get to options 2, 3, and 4. They are still 2D arrays and make my code have errors and not run.\r\n```Java\r\nimport java.util.Scanner;\r\n\r\npublic class Menu {\r\n\r\n    public static void main(String[] args) {\r\n        int number = 0;\r\n        String item;\r\n        String item2;\r\n        String item3;\r\n        Double itemprice;\r\n        double totalitems = 0;\r\n        String itemprice2;\r\n        String newitemname, newitemprice;\r\n        int x;\r\n\r\n        // array of menuitems\r\n        MenuItem[] temp;\r\n\r\n        MenuItem[] menuitem = new MenuItem[5];\r\n        menuitem[0] = new MenuItem(&quot;Tacos: Steak, Chicken, Pastor, Lengua&quot;, 3.00);\r\n        menuitem[1] = new MenuItem(&quot;Nachos: Steak, Chicken, Pastor, Lengua&quot;, 4.50);\r\n        menuitem[2] = new MenuItem(&quot;Tortas: Steak, Chicken, Pastor, Lengua&quot;, 6.00);\r\n        menuitem[3] = new MenuItem(&quot;Burritos: Steak, Chicken, Pastor, Lengua&quot;, 5.00);\r\n        menuitem[4] = new MenuItem(&quot;Quesadillas: Steak, Chicken, Pastor, Lengua&quot;, 7.00);\r\n\r\n        // welcoming the user to the restaurant and giving the menu after\r\n        System.out.println(&quot;Welcome to Luis Restaurant!&quot;);\r\n        System.out.println(&quot;This is the Restaurant Menu!&quot;);\r\n\r\n        for (x = 0; x &lt; menuitem.length; x++) {\r\n            System.out.println(x + &quot;)&quot; + menuitem[x].toString());\r\n        }\r\n        Scanner input = new Scanner(System.in);\r\n        int option = 1;\r\n        String option2;\r\n        int order;\r\n        int k;\r\n\r\n        // this makes a loop to continue and keep asking question until the user wants\r\n        // to exit\r\n        while (option != 0) {\r\n            System.out.println(&quot; What would you like to do ? &quot;);\r\n            System.out.println(&quot; 1) Calculate the Total &quot;);\r\n            System.out.println(&quot; 2) Add an item to the menu &quot;);\r\n            System.out.println(&quot; 3) Delete an item from the menu &quot;);\r\n            System.out.println(&quot; 4) Change the price of an item &quot;);\r\n            System.out.println(&quot; 0) press 0 if you want to exit &quot;);\r\n            option = input.nextInt();\r\n\r\n            // if the user wants to calculate a total\r\n            // ask the user to allow this to calculate the total\r\n            if (option == 1) {\r\n                for (x = 0; x &lt; menuitem.length; x++)\r\n                    System.out.println(x + &quot;)&quot; + menuitem[x].toString());\r\n                System.out.println(&quot; Cacluating the Total &gt;&gt;&gt; &quot;);\r\n                System.out.println(&quot;Select the item or type 999 for the total:&quot;);\r\n                order = input.nextInt();\r\n                while (order != 999) {\r\n                    if (order &lt; menuitem.length)\r\n                        totalitems += menuitem[order].getPrice(); // if the user wants to enter multiple items this will make a loop for them\r\n                    System.out.println(&quot;Select the item or type 999 for the total:&quot;); // ask the user to enter &quot;x&quot; once you want the total\r\n                    order = input.nextInt();\r\n                }\r\n                System.out.println(&quot;This is your total $&quot; + totalitems);\r\n            }\r\n\r\n            // if the user wants to add an item:\r\n            // ask the user to add the item name and price.\r\n            else if (option == 2) {\r\n                System.out.println(&quot; Enter the name of the food item: &quot;);\r\n                input.nextLine();\r\n                newitemname = input.nextLine();\r\n                System.out.println(&quot; Enter the price of the food item: &quot;);\r\n                newitemprice = input.nextLine();\r\n                temp = new MenuItem[menuitem.length + 1];\r\n                for (x = 0; x &lt; menuitem.length; x++) {\r\n                    temp[x] = menuitem[x][0];\r\n                    temp[x][1] = menuitem[x][1];\r\n                }\r\n                temp[x][0] = newitemname;\r\n                temp[x][1] = newitemprice;\r\n                menuitem = temp;\r\n            }\r\n\r\n            // if the user wants to remove a item\r\n            // ask the user what item to delete.\r\n            else if (option == 3) {\r\n                for (x = 0; x &lt; menuitem.length; x++)\r\n                    System.out.println(x + &quot;)&quot; + menuitem[x][0] + &quot;:  $&quot; + menuitem[x][1]);\r\n                System.out.println(&quot; What item would you like to Delete?&quot;);\r\n                order = input.nextInt();\r\n                temp = new MenuItem[menuitem.length - 1];\r\n                for (x = 0, k = 0; x &lt; menuitem.length; x++) {\r\n                    if (x != order) {\r\n                        temp[k].setPrice(menuitem[x].getPrice());\r\n                        temp[k].setName(menuitem[x].getName());\r\n                        k++;\r\n                    }\r\n                }\r\n                menuitem = temp;\r\n            }\r\n\r\n            // If the user wants to change the price of an item:\r\n            // ask the user what item and what the new price is\r\n            else if (option == 4) {\r\n                for (x = 0; x &lt; menuitem.length; x++)\r\n                    System.out.println(x + &quot;)&quot; + menuitem[x][0] + &quot;:  $&quot; + menuitem[x][1]);\r\n                System.out.println(&quot; what item would you like to Change?&quot;);\r\n                System.out.println(&quot; Enter the Number of the food item: &quot;);\r\n                order = input.nextInt();\r\n                System.out.println(&quot; Enter the food price of the item:  &quot;);\r\n                option2 = input.next();\r\n                menuitem[order][1] = option2;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nThese errors are located at bottom of option 2:\r\n```none\r\ntemp[x] = menuitem[x][0];\r\ntemp[x][1]= menuitem[x][1];\r\n\r\ntemp[x][0]=\r\ntemp[x][1] =\r\n```\r\nThis error is in option 3:\r\n```none\r\nSystem.out.println(x + &quot;)&quot; + menuitem[x][0] + &quot;:  $&quot; + menuitem[x][1]);\r\n```\r\nThese errors are in option 4:\r\n```none\r\nSystem.out.println(x + &quot;)&quot; +menuitem[x][0] + &quot;:  $&quot; + menuitem[x][1]);\r\n\r\nmenuitem[order][1] = option2;\r\n```\r\n","title":"Can someone help me turn my 2D array options into a single array options in my code","body":"<p>As you can see, the beginning of my code works perfectly, option one works fine until I get to options 2, 3, and 4. They are still 2D arrays and make my code have errors and not run.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Menu {\n\n    public static void main(String[] args) {\n        int number = 0;\n        String item;\n        String item2;\n        String item3;\n        Double itemprice;\n        double totalitems = 0;\n        String itemprice2;\n        String newitemname, newitemprice;\n        int x;\n\n        // array of menuitems\n        MenuItem[] temp;\n\n        MenuItem[] menuitem = new MenuItem[5];\n        menuitem[0] = new MenuItem(&quot;Tacos: Steak, Chicken, Pastor, Lengua&quot;, 3.00);\n        menuitem[1] = new MenuItem(&quot;Nachos: Steak, Chicken, Pastor, Lengua&quot;, 4.50);\n        menuitem[2] = new MenuItem(&quot;Tortas: Steak, Chicken, Pastor, Lengua&quot;, 6.00);\n        menuitem[3] = new MenuItem(&quot;Burritos: Steak, Chicken, Pastor, Lengua&quot;, 5.00);\n        menuitem[4] = new MenuItem(&quot;Quesadillas: Steak, Chicken, Pastor, Lengua&quot;, 7.00);\n\n        // welcoming the user to the restaurant and giving the menu after\n        System.out.println(&quot;Welcome to Luis Restaurant!&quot;);\n        System.out.println(&quot;This is the Restaurant Menu!&quot;);\n\n        for (x = 0; x &lt; menuitem.length; x++) {\n            System.out.println(x + &quot;)&quot; + menuitem[x].toString());\n        }\n        Scanner input = new Scanner(System.in);\n        int option = 1;\n        String option2;\n        int order;\n        int k;\n\n        // this makes a loop to continue and keep asking question until the user wants\n        // to exit\n        while (option != 0) {\n            System.out.println(&quot; What would you like to do ? &quot;);\n            System.out.println(&quot; 1) Calculate the Total &quot;);\n            System.out.println(&quot; 2) Add an item to the menu &quot;);\n            System.out.println(&quot; 3) Delete an item from the menu &quot;);\n            System.out.println(&quot; 4) Change the price of an item &quot;);\n            System.out.println(&quot; 0) press 0 if you want to exit &quot;);\n            option = input.nextInt();\n\n            // if the user wants to calculate a total\n            // ask the user to allow this to calculate the total\n            if (option == 1) {\n                for (x = 0; x &lt; menuitem.length; x++)\n                    System.out.println(x + &quot;)&quot; + menuitem[x].toString());\n                System.out.println(&quot; Cacluating the Total &gt;&gt;&gt; &quot;);\n                System.out.println(&quot;Select the item or type 999 for the total:&quot;);\n                order = input.nextInt();\n                while (order != 999) {\n                    if (order &lt; menuitem.length)\n                        totalitems += menuitem[order].getPrice(); // if the user wants to enter multiple items this will make a loop for them\n                    System.out.println(&quot;Select the item or type 999 for the total:&quot;); // ask the user to enter &quot;x&quot; once you want the total\n                    order = input.nextInt();\n                }\n                System.out.println(&quot;This is your total $&quot; + totalitems);\n            }\n\n            // if the user wants to add an item:\n            // ask the user to add the item name and price.\n            else if (option == 2) {\n                System.out.println(&quot; Enter the name of the food item: &quot;);\n                input.nextLine();\n                newitemname = input.nextLine();\n                System.out.println(&quot; Enter the price of the food item: &quot;);\n                newitemprice = input.nextLine();\n                temp = new MenuItem[menuitem.length + 1];\n                for (x = 0; x &lt; menuitem.length; x++) {\n                    temp[x] = menuitem[x][0];\n                    temp[x][1] = menuitem[x][1];\n                }\n                temp[x][0] = newitemname;\n                temp[x][1] = newitemprice;\n                menuitem = temp;\n            }\n\n            // if the user wants to remove a item\n            // ask the user what item to delete.\n            else if (option == 3) {\n                for (x = 0; x &lt; menuitem.length; x++)\n                    System.out.println(x + &quot;)&quot; + menuitem[x][0] + &quot;:  $&quot; + menuitem[x][1]);\n                System.out.println(&quot; What item would you like to Delete?&quot;);\n                order = input.nextInt();\n                temp = new MenuItem[menuitem.length - 1];\n                for (x = 0, k = 0; x &lt; menuitem.length; x++) {\n                    if (x != order) {\n                        temp[k].setPrice(menuitem[x].getPrice());\n                        temp[k].setName(menuitem[x].getName());\n                        k++;\n                    }\n                }\n                menuitem = temp;\n            }\n\n            // If the user wants to change the price of an item:\n            // ask the user what item and what the new price is\n            else if (option == 4) {\n                for (x = 0; x &lt; menuitem.length; x++)\n                    System.out.println(x + &quot;)&quot; + menuitem[x][0] + &quot;:  $&quot; + menuitem[x][1]);\n                System.out.println(&quot; what item would you like to Change?&quot;);\n                System.out.println(&quot; Enter the Number of the food item: &quot;);\n                order = input.nextInt();\n                System.out.println(&quot; Enter the food price of the item:  &quot;);\n                option2 = input.next();\n                menuitem[order][1] = option2;\n            }\n        }\n    }\n}\n</code></pre>\n<p>These errors are located at bottom of option 2:</p>\n<pre class=\"lang-none prettyprint-override\"><code>temp[x] = menuitem[x][0];\ntemp[x][1]= menuitem[x][1];\n\ntemp[x][0]=\ntemp[x][1] =\n</code></pre>\n<p>This error is in option 3:</p>\n<pre class=\"lang-none prettyprint-override\"><code>System.out.println(x + &quot;)&quot; + menuitem[x][0] + &quot;:  $&quot; + menuitem[x][1]);\n</code></pre>\n<p>These errors are in option 4:</p>\n<pre class=\"lang-none prettyprint-override\"><code>System.out.println(x + &quot;)&quot; +menuitem[x][0] + &quot;:  $&quot; + menuitem[x][1]);\n\nmenuitem[order][1] = option2;\n</code></pre>\n"},{"tags":["java","google-chrome","selenium","pdf","selenium-webdriver"],"comments":[{"owner":{"account_id":3447044,"reputation":41737,"user_id":2887618,"display_name":"Florent B."},"score":1,"creation_date":1512827435,"post_id":47729046,"comment_id":82418928,"body_markdown":"What is the point of using Selenium given that the browser is then immediately closed when `--print-to-pdf` is provided as argument?","body":"What is the point of using Selenium given that the browser is then immediately closed when <code>--print-to-pdf</code> is provided as argument?"},{"owner":{"account_id":2175767,"reputation":1561,"user_id":1926478,"accept_rate":74,"display_name":"OddDev"},"score":0,"creation_date":1512828885,"post_id":47729046,"comment_id":82419355,"body_markdown":"@FlorentB.I didn&#39;t get your point exactly","body":"@FlorentB.I didn&#39;t get your point exactly"},{"owner":{"account_id":2100805,"reputation":1169,"user_id":1868478,"display_name":"Mahmud Riad"},"score":0,"creation_date":1512832819,"post_id":47729046,"comment_id":82420583,"body_markdown":"@MoatezBouhdid You can not save a webpage as pdf directly by using selenium. \nRather you can save the screenshot of the page and later convert it to pdf but that is too costly. As a workaround you can write python script or bash script to run the command","body":"@MoatezBouhdid You can not save a webpage as pdf directly by using selenium.  Rather you can save the screenshot of the page and later convert it to pdf but that is too costly. As a workaround you can write python script or bash script to run the command"},{"owner":{"account_id":2100805,"reputation":1169,"user_id":1868478,"display_name":"Mahmud Riad"},"score":0,"creation_date":1512847765,"post_id":47729046,"comment_id":82425152,"body_markdown":"I have added an asnwer for this. Please let me know your feedback","body":"I have added an asnwer for this. Please let me know your feedback"},{"owner":{"account_id":4600987,"reputation":955,"user_id":3731747,"display_name":"Max"},"score":0,"creation_date":1593085905,"post_id":47729046,"comment_id":110659487,"body_markdown":"Hey, have you found a solution?","body":"Hey, have you found a solution?"},{"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"score":0,"creation_date":1603700656,"post_id":47729046,"comment_id":114108442,"body_markdown":"Check [this](https://stackoverflow.com/a/64533554/1776132) answer.","body":"Check <a href=\"https://stackoverflow.com/a/64533554/1776132\">this</a> answer."},{"owner":{"account_id":1260896,"reputation":1488,"user_id":1219213,"accept_rate":60,"display_name":"TheRealChx101"},"score":0,"creation_date":1679174576,"post_id":47729046,"comment_id":133675340,"body_markdown":"@MahmudRiad You mean it does not provide or expose a print to PDF feature? It&#39;s 2023 and one would hope otherwise","body":"@MahmudRiad You mean it does not provide or expose a print to PDF feature? It&#39;s 2023 and one would hope otherwise"}],"answers":[{"tags":[],"owner":{"account_id":2100805,"reputation":1169,"user_id":1868478,"display_name":"Mahmud Riad"},"comment_count":0,"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1538666542,"creation_date":1512834179,"answer_id":47730226,"question_id":47729046,"body_markdown":"You have to do two things.\r\n\r\nFirst: Make a screenshot using selenium.\r\n\r\nSecond: Convert that screenshot using any pdf tool, like [itext](http://www.java2s.com/Code/Jar/i/Downloaditextpdf540jar.htm). Here I am showing a complete example of how to do this.\r\n\r\nStep 1: Download the jar of itext from [here](http://www.java2s.com/Code/Jar/i/Downloaditextpdf540jar.htm) and add the jar file to your build path.\r\n\r\nStep 2: Add this code to your project.\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;disable-infobars&quot;);\r\n    options.addArguments(&quot;--print-to-pdf&quot;);\r\n    \r\n    WebDriver driver = new ChromeDriver(options);\r\n    driver.get(&quot;file:///C:/invoiceTemplate2.html&quot;);\r\n\r\n    try {\r\n        File screenshot = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\r\n        FileUtils.copyFile(screenshot, new File(&quot;screenshot.png&quot;));\r\n        Document document = new Document(PageSize.A4, 20, 20, 20, 20);\r\n        PdfWriter.getInstance(document, new FileOutputStream(&quot;webaspdf.pdf&quot;));\r\n        document.open();\r\n        Image image = Image.getInstance(&quot;screenshot.png&quot;);\r\n        document.add(image);\r\n        document.close();\r\n    }\r\n    catch (Exception e2) {\r\n        // TODO Auto-generated catch block\r\n        e2.printStackTrace();\r\n    }\r\n\r\n\r\nNote: To use the mentioned itext package, add the required imports to your code.\r\n\r\n    import com.itextpdf.text.Document;\r\n    import com.itextpdf.text.Image;\r\n    import com.itextpdf.text.PageSize;\r\n    import com.itextpdf.text.pdf.PdfWriter;\r\n    import org.apache.commons.io.FileUtils;\r\n    import org.openqa.selenium.OutputType;\r\n    import org.openqa.selenium.TakesScreenshot;","title":"Generate PDF with selenium chrome driver","body":"<p>You have to do two things.</p>\n\n<p>First: Make a screenshot using selenium.</p>\n\n<p>Second: Convert that screenshot using any pdf tool, like <a href=\"http://www.java2s.com/Code/Jar/i/Downloaditextpdf540jar.htm\" rel=\"nofollow noreferrer\">itext</a>. Here I am showing a complete example of how to do this.</p>\n\n<p>Step 1: Download the jar of itext from <a href=\"http://www.java2s.com/Code/Jar/i/Downloaditextpdf540jar.htm\" rel=\"nofollow noreferrer\">here</a> and add the jar file to your build path.</p>\n\n<p>Step 2: Add this code to your project.</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"disable-infobars\");\noptions.addArguments(\"--print-to-pdf\");\n\nWebDriver driver = new ChromeDriver(options);\ndriver.get(\"file:///C:/invoiceTemplate2.html\");\n\ntry {\n    File screenshot = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\n    FileUtils.copyFile(screenshot, new File(\"screenshot.png\"));\n    Document document = new Document(PageSize.A4, 20, 20, 20, 20);\n    PdfWriter.getInstance(document, new FileOutputStream(\"webaspdf.pdf\"));\n    document.open();\n    Image image = Image.getInstance(\"screenshot.png\");\n    document.add(image);\n    document.close();\n}\ncatch (Exception e2) {\n    // TODO Auto-generated catch block\n    e2.printStackTrace();\n}\n</code></pre>\n\n<p>Note: To use the mentioned itext package, add the required imports to your code.</p>\n\n<pre><code>import com.itextpdf.text.Document;\nimport com.itextpdf.text.Image;\nimport com.itextpdf.text.PageSize;\nimport com.itextpdf.text.pdf.PdfWriter;\nimport org.apache.commons.io.FileUtils;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":401085,"reputation":1174,"user_id":767434,"display_name":"max"},"score":0,"creation_date":1675429276,"post_id":63176917,"comment_id":132932308,"body_markdown":"Thanks - the &quot;executeCdpCommand&quot; version work great for me.\nIf you want to set some additional parameter - here is the list of available ones:\nhttps://vanilla.aslushnikov.com/?Page.printToPDF","body":"Thanks - the &quot;executeCdpCommand&quot; version work great for me. If you want to set some additional parameter - here is the list of available ones: <a href=\"https://vanilla.aslushnikov.com/?Page.printToPDF\" rel=\"nofollow noreferrer\">vanilla.aslushnikov.com/?Page.printToPDF</a>"},{"owner":{"account_id":1325784,"reputation":441,"user_id":1270603,"accept_rate":62,"display_name":"Caponte"},"score":0,"creation_date":1680526382,"post_id":63176917,"comment_id":133908305,"body_markdown":"@KJ I looked into it, in my initial tests it seems to still work without that option. However, I did not find information about the deprecation. Could you share some references to have a better idea about it?","body":"@KJ I looked into it, in my initial tests it seems to still work without that option. However, I did not find information about the deprecation. Could you share some references to have a better idea about it?"}],"tags":[],"owner":{"account_id":1325784,"reputation":441,"user_id":1270603,"accept_rate":62,"display_name":"Caponte"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680337982,"creation_date":1596124584,"answer_id":63176917,"question_id":47729046,"body_markdown":"**UPDATE 31-03-2023:**\r\nIn one of chrome&#39;s last updates some extra security measures were added and the solution bellow stoped working because the websocket connection could not be stablish. To fix this we added a new argument to ChromeDriver:\r\n\r\n    options.addArgument(&quot;--remote-allow-origins=*&quot;);\r\n\r\n\r\n**UPDATE 31-05-2021:**\r\nwe noticed that the original workaround was not always working properly, and we went for a Selenium + ChromeDriver:\r\n\r\n\tpublic void generatePdf(Path inputPath, Path outputPath) throws Exception\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\r\n\t\t\tChromeOptions options = new ChromeOptions();\r\n\t\t\toptions.addArguments(&quot;--headless&quot;, &quot;--disable-gpu&quot;, &quot;--run-all-compositor-stages-before-draw&quot;);\r\n\t\t\tChromeDriver chromeDriver = new ChromeDriver(options);\r\n\t\t\tchromeDriver.get(inputPath.toString());\r\n\t\t\tMap&lt;String, Object&gt; params = new HashMap();\r\n\t\t\t\r\n\t\t\tString command = &quot;Page.printToPDF&quot;;\r\n\t\t\tMap&lt;String, Object&gt; output = chromeDriver.executeCdpCommand(command, params);\r\n\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tFileOutputStream fileOutputStream = new FileOutputStream(outputPath.toString());\r\n\t\t\t\tbyte[] byteArray = java.util.Base64.getDecoder().decode((String) output.get(&quot;data&quot;));\r\n\t\t\t\tfileOutputStream.write(byteArray);\r\n\t\t\t\tfileOutputStream.close();\r\n\t\t\t}\r\n\t\t\tcatch (IOException e)\r\n\t\t\t{\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (Exception e)\r\n\t\t{\r\n\t\t\te.printStackTrace(System.err);\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t}\r\n\r\n\r\nIf this will be called frequently I suggest reusing the driver object because it takes a while to initialize.\r\n\r\nRemember to close or quit the driver to avoid leaving Zombie chrome processes behind and also remember to install ChromeDriver in your machine.\r\n\r\n\r\n-------------------------------\r\n\r\n\r\n**Original Solution:**\r\n\r\nNot being able to get the desired outcome using ChromeDriver my workaround was to call the headless chrome in the command-line from my Java program. \r\n\r\nThis is working on Windows but just changing the contents of the paths used in the command variable should make it work in Linux too.\r\n\r\n    public void generatePdf(Path inputPath, Path outputPath) throws Exception {\r\n    \r\n    \ttry\t{\r\n    \t\t\t\r\n    \t\tString chromePath = &quot;C:/Program Files (x86)/Google/Chrome/Application/chrome.exe&quot;;\r\n    \t\tString command = chromePath + &quot; --headless --disable-gpu --run-all-compositor-stages-before-draw --print-to-pdf=&quot; + outputPath.toString() + &quot; &quot; + inputPath.toString();\r\n    \t\t\t\t\r\n    \t\t// Runs &quot;chrome&quot; Windows command\r\n    \t\tProcess process = Runtime.getRuntime().exec(command);\r\n    \t\tprocess.waitFor(); // Waits for the command&#39;s execution to finish \r\n    \t\t\t\r\n    \t}catch (Exception e){\r\n    \t\t\r\n            e.printStackTrace(System.err);\r\n    \t\tthrow e;\r\n    \r\n    \t}finally{\r\n    \t\t\r\n    \t\t// Deletes files on exit\r\n    \t\tinput.toFile().deleteOnExit();\r\n    \t\toutput.toFile().deleteOnExit();\r\n    \r\n    \t}\r\n    }\r\n\r\nNote: both input and output paths are temporary files created with NIO.","title":"Generate PDF with selenium chrome driver","body":"<p><strong>UPDATE 31-03-2023:</strong>\nIn one of chrome's last updates some extra security measures were added and the solution bellow stoped working because the websocket connection could not be stablish. To fix this we added a new argument to ChromeDriver:</p>\n<pre><code>options.addArgument(&quot;--remote-allow-origins=*&quot;);\n</code></pre>\n<p><strong>UPDATE 31-05-2021:</strong>\nwe noticed that the original workaround was not always working properly, and we went for a Selenium + ChromeDriver:</p>\n<pre><code>public void generatePdf(Path inputPath, Path outputPath) throws Exception\n{\n    try\n    {\n\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;--headless&quot;, &quot;--disable-gpu&quot;, &quot;--run-all-compositor-stages-before-draw&quot;);\n        ChromeDriver chromeDriver = new ChromeDriver(options);\n        chromeDriver.get(inputPath.toString());\n        Map&lt;String, Object&gt; params = new HashMap();\n        \n        String command = &quot;Page.printToPDF&quot;;\n        Map&lt;String, Object&gt; output = chromeDriver.executeCdpCommand(command, params);\n\n        try\n        {\n            FileOutputStream fileOutputStream = new FileOutputStream(outputPath.toString());\n            byte[] byteArray = java.util.Base64.getDecoder().decode((String) output.get(&quot;data&quot;));\n            fileOutputStream.write(byteArray);\n            fileOutputStream.close();\n        }\n        catch (IOException e)\n        {\n            e.printStackTrace();\n        }\n    }\n    catch (Exception e)\n    {\n        e.printStackTrace(System.err);\n        throw e;\n    }\n}\n</code></pre>\n<p>If this will be called frequently I suggest reusing the driver object because it takes a while to initialize.</p>\n<p>Remember to close or quit the driver to avoid leaving Zombie chrome processes behind and also remember to install ChromeDriver in your machine.</p>\n<hr />\n<p><strong>Original Solution:</strong></p>\n<p>Not being able to get the desired outcome using ChromeDriver my workaround was to call the headless chrome in the command-line from my Java program.</p>\n<p>This is working on Windows but just changing the contents of the paths used in the command variable should make it work in Linux too.</p>\n<pre><code>public void generatePdf(Path inputPath, Path outputPath) throws Exception {\n\n    try {\n            \n        String chromePath = &quot;C:/Program Files (x86)/Google/Chrome/Application/chrome.exe&quot;;\n        String command = chromePath + &quot; --headless --disable-gpu --run-all-compositor-stages-before-draw --print-to-pdf=&quot; + outputPath.toString() + &quot; &quot; + inputPath.toString();\n                \n        // Runs &quot;chrome&quot; Windows command\n        Process process = Runtime.getRuntime().exec(command);\n        process.waitFor(); // Waits for the command's execution to finish \n            \n    }catch (Exception e){\n        \n        e.printStackTrace(System.err);\n        throw e;\n\n    }finally{\n        \n        // Deletes files on exit\n        input.toFile().deleteOnExit();\n        output.toFile().deleteOnExit();\n\n    }\n}\n</code></pre>\n<p>Note: both input and output paths are temporary files created with NIO.</p>\n"},{"comments":[{"owner":{"account_id":1260896,"reputation":1488,"user_id":1219213,"accept_rate":60,"display_name":"TheRealChx101"},"score":0,"creation_date":1679174840,"post_id":63971045,"comment_id":133675368,"body_markdown":"THis is not efficient when you want to convert a very large html document to PDF. IT would be nice to only pass the source and destination file and let chrome handle the streaming instead of holding a base64 (30% size increase of original data) in memory","body":"THis is not efficient when you want to convert a very large html document to PDF. IT would be nice to only pass the source and destination file and let chrome handle the streaming instead of holding a base64 (30% size increase of original data) in memory"},{"owner":{"account_id":2810253,"reputation":680,"user_id":2416627,"display_name":"Otto G"},"score":1,"creation_date":1693233242,"post_id":63971045,"comment_id":135729719,"body_markdown":"Actually, the Page.printToPDF documentation at https://chromedevtools.github.io/devtools-protocol/tot/Page/#method-printToPDF now lists an experimental option `transferMode=&quot;ReturnAsStream&quot;` that should allow for precisely that, as far as output is concerned. (Not that Chrome would literally handle the streaming to the output file, but it should be possible to stream directly to a PDF file from the Java or C# code.) I have not tried that option, though.","body":"Actually, the Page.printToPDF documentation at <a href=\"https://chromedevtools.github.io/devtools-protocol/tot/Page/#method-printToPDF\" rel=\"nofollow noreferrer\">chromedevtools.github.io/devtools-protocol/tot/Page/&hellip;</a> now lists an experimental option <code>transferMode=&quot;ReturnAsStream&quot;</code> that should allow for precisely that, as far as output is concerned. (Not that Chrome would literally handle the streaming to the output file, but it should be possible to stream directly to a PDF file from the Java or C# code.) I have not tried that option, though."}],"tags":[],"owner":{"account_id":2810253,"reputation":680,"user_id":2416627,"display_name":"Otto G"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600533213,"creation_date":1600533213,"answer_id":63971045,"question_id":47729046,"body_markdown":"This can indeed be done with Selenium and ChromeDriver (tested with Chrome version 85), but using the &quot;print-to-pdf&quot; option when starting Chrome from the webdriver is not the solution.\r\n\r\nThe thing to do is to use the command execution functionality of ChromeDriver:\r\n\r\nhttps://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/remote/RemoteWebDriver.html#execute-java.lang.String-java.util.Map-\r\n\r\nThere is a command called `Page.printToPDF` that provides PDF output functionality. A dictionary containing the item &quot;data&quot;, with the resulting PDF in base-64-encoded format, is returned.\r\n\r\nUnfortunately, I do not have a full Java example, but in this answer, there is a C# example (Selenium methods are named differently in C# compared to Java, but the principle should be the same):\r\n\r\nhttps://stackoverflow.com/a/63970792/2416627\r\n\r\nThe `Page.printToPDF` command in Chrome is documented here:\r\n\r\nhttps://chromedevtools.github.io/devtools-protocol/tot/Page/#method-printToPDF","title":"Generate PDF with selenium chrome driver","body":"<p>This can indeed be done with Selenium and ChromeDriver (tested with Chrome version 85), but using the &quot;print-to-pdf&quot; option when starting Chrome from the webdriver is not the solution.</p>\n<p>The thing to do is to use the command execution functionality of ChromeDriver:</p>\n<p><a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/remote/RemoteWebDriver.html#execute-java.lang.String-java.util.Map-\" rel=\"nofollow noreferrer\">https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/remote/RemoteWebDriver.html#execute-java.lang.String-java.util.Map-</a></p>\n<p>There is a command called <code>Page.printToPDF</code> that provides PDF output functionality. A dictionary containing the item &quot;data&quot;, with the resulting PDF in base-64-encoded format, is returned.</p>\n<p>Unfortunately, I do not have a full Java example, but in this answer, there is a C# example (Selenium methods are named differently in C# compared to Java, but the principle should be the same):</p>\n<p><a href=\"https://stackoverflow.com/a/63970792/2416627\">https://stackoverflow.com/a/63970792/2416627</a></p>\n<p>The <code>Page.printToPDF</code> command in Chrome is documented here:</p>\n<p><a href=\"https://chromedevtools.github.io/devtools-protocol/tot/Page/#method-printToPDF\" rel=\"nofollow noreferrer\">https://chromedevtools.github.io/devtools-protocol/tot/Page/#method-printToPDF</a></p>\n"},{"comments":[{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1677594812,"post_id":68086459,"comment_id":133366229,"body_markdown":"I&#39;m downvoting because the question asked for a Java solution and you presented a C# solution.","body":"I&#39;m downvoting because the question asked for a Java solution and you presented a C# solution."},{"owner":{"account_id":1260896,"reputation":1488,"user_id":1219213,"accept_rate":60,"display_name":"TheRealChx101"},"score":0,"creation_date":1679174937,"post_id":68086459,"comment_id":133675378,"body_markdown":"Please provide a Java solution, like the question asked.","body":"Please provide a Java solution, like the question asked."}],"tags":[],"owner":{"account_id":21971079,"reputation":7,"user_id":16247575,"display_name":"user16247575"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1624437075,"creation_date":1624375646,"answer_id":68086459,"question_id":47729046,"body_markdown":"The code will help you save the page in `PDF` format on Selenium c#\r\n\r\n```\r\nusing OpenQA.Selenium;\r\nusing OpenQA.Selenium.Chrome;\r\n\r\n    protected void PDFconversion(ChromeDriver driver, string root, string rootTemp)\r\n    {\r\n        //Grid.Rows.Add(TxtBxName.Text, TxtBxAddress.Text);\r\n        try\r\n        {\r\n            IJavaScriptExecutor js = (IJavaScriptExecutor)driver;\r\n            Thread.Sleep(500);\r\n            js.ExecuteScript(&quot;setTimeout(function() { window.print(); }, 0);&quot;);\r\n            Thread.Sleep(500);\r\n            driver.SwitchTo().Window(driver.WindowHandles.Last());\r\n            Thread.Sleep(500);\r\n            string JSPath = &quot;document.querySelector(&#39;body&gt;print-preview-app&#39;).shadowRoot.querySelector(&#39;#sidebar&#39;).shadowRoot.querySelector(&#39;#destinationSettings&#39;).shadowRoot.querySelector(&#39;#destinationSelect&#39;).shadowRoot.querySelector(&#39;print-preview-settings-section:nth-child(9)&gt;div&gt;select&gt;option:nth-child(3)&#39;)&quot;;\r\n            Thread.Sleep(500);\r\n            IWebElement PrintBtn = (IWebElement)js.ExecuteScript($&quot;return {JSPath}&quot;);\r\n            Thread.Sleep(500);\r\n            PrintBtn.Click();\r\n            string JSPath1 = &quot;document.querySelector(&#39;body&gt;print-preview-app&#39;).shadowRoot.querySelector(&#39;#sidebar&#39;).shadowRoot.querySelector(&#39;print-preview-button-strip&#39;).shadowRoot.querySelector(&#39;cr-button.action-button&#39;)&quot;;\r\n            Thread.Sleep(1000);\r\n            IWebElement PrintBtn1 = (IWebElement)js.ExecuteScript($&quot;return {JSPath1}&quot;);\r\n            PrintBtn1.Click();\r\n            Thread.Sleep(1000);\r\n            SendKeys.Send(&quot;{HOME}&quot;);\r\n            SendKeys.Send(rootTemp + &quot;\\\\&quot; + &quot;result.pdf&quot;); // Path\r\n            SendKeys.Send(&quot;{TAB}&quot;);\r\n            SendKeys.Send(&quot;{TAB}&quot;);\r\n            SendKeys.Send(&quot;{TAB}&quot;);\r\n            SendKeys.Send(&quot;{ENTER}&quot;);\r\n            Thread.Sleep(1000);\r\n       \r\n        }\r\n        catch (Exception ex){}\r\n    }\r\n```\r\n","title":"Generate PDF with selenium chrome driver","body":"<p>The code will help you save the page in <code>PDF</code> format on Selenium c#</p>\n<pre><code>using OpenQA.Selenium;\nusing OpenQA.Selenium.Chrome;\n\n    protected void PDFconversion(ChromeDriver driver, string root, string rootTemp)\n    {\n        //Grid.Rows.Add(TxtBxName.Text, TxtBxAddress.Text);\n        try\n        {\n            IJavaScriptExecutor js = (IJavaScriptExecutor)driver;\n            Thread.Sleep(500);\n            js.ExecuteScript(&quot;setTimeout(function() { window.print(); }, 0);&quot;);\n            Thread.Sleep(500);\n            driver.SwitchTo().Window(driver.WindowHandles.Last());\n            Thread.Sleep(500);\n            string JSPath = &quot;document.querySelector('body&gt;print-preview-app').shadowRoot.querySelector('#sidebar').shadowRoot.querySelector('#destinationSettings').shadowRoot.querySelector('#destinationSelect').shadowRoot.querySelector('print-preview-settings-section:nth-child(9)&gt;div&gt;select&gt;option:nth-child(3)')&quot;;\n            Thread.Sleep(500);\n            IWebElement PrintBtn = (IWebElement)js.ExecuteScript($&quot;return {JSPath}&quot;);\n            Thread.Sleep(500);\n            PrintBtn.Click();\n            string JSPath1 = &quot;document.querySelector('body&gt;print-preview-app').shadowRoot.querySelector('#sidebar').shadowRoot.querySelector('print-preview-button-strip').shadowRoot.querySelector('cr-button.action-button')&quot;;\n            Thread.Sleep(1000);\n            IWebElement PrintBtn1 = (IWebElement)js.ExecuteScript($&quot;return {JSPath1}&quot;);\n            PrintBtn1.Click();\n            Thread.Sleep(1000);\n            SendKeys.Send(&quot;{HOME}&quot;);\n            SendKeys.Send(rootTemp + &quot;\\\\&quot; + &quot;result.pdf&quot;); // Path\n            SendKeys.Send(&quot;{TAB}&quot;);\n            SendKeys.Send(&quot;{TAB}&quot;);\n            SendKeys.Send(&quot;{TAB}&quot;);\n            SendKeys.Send(&quot;{ENTER}&quot;);\n            Thread.Sleep(1000);\n       \n        }\n        catch (Exception ex){}\n    }\n</code></pre>\n"}],"owner":{"account_id":2175767,"reputation":1561,"user_id":1926478,"accept_rate":74,"display_name":"OddDev"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16100,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1680337982,"creation_date":1512825985,"question_id":47729046,"body_markdown":"To generate PDF from a HTML file, I want to use selenium Chrome driver.\r\n\r\n I tried it with command line :\r\n   \r\n\r\n    chrome.exe --headless --disable-gpu --print-to-pdf   file:///C:invoiceTemplate2.html\r\n\r\nand it works perfectly, So I wanted to do that with JAVA and here&#39;s my code :\r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:/work/chromedriver.exe&quot;);\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--headless&quot;, &quot;--disable-gpu&quot;, &quot;--print-to-pdf&quot;,\r\n\t\t\t\t&quot;file:///C:/invoiceTemplate2.html&quot;);\r\n    WebDriver driver = new ChromeDriver(options);\r\n    driver.quit();\r\n\r\nThe server is started with no problem, but chrome is opened with multiple tabs with the arguments I specified in Options.\r\n\r\nAny solution to this ? thx.\r\n","title":"Generate PDF with selenium chrome driver","body":"<p>To generate PDF from a HTML file, I want to use selenium Chrome driver.</p>\n\n<p>I tried it with command line :</p>\n\n<pre><code>chrome.exe --headless --disable-gpu --print-to-pdf   file:///C:invoiceTemplate2.html\n</code></pre>\n\n<p>and it works perfectly, So I wanted to do that with JAVA and here's my code :</p>\n\n<pre><code>System.setProperty(\"webdriver.chrome.driver\", \"C:/work/chromedriver.exe\");\nChromeOptions options = new ChromeOptions();\noptions.addArguments(\"--headless\", \"--disable-gpu\", \"--print-to-pdf\",\n            \"file:///C:/invoiceTemplate2.html\");\nWebDriver driver = new ChromeDriver(options);\ndriver.quit();\n</code></pre>\n\n<p>The server is started with no problem, but chrome is opened with multiple tabs with the arguments I specified in Options.</p>\n\n<p>Any solution to this ? thx.</p>\n"},{"tags":["java","tess4j"],"owner":{"account_id":28185415,"reputation":1,"user_id":21541704,"display_name":"P14ym4k3r"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680339874,"answer_count":0,"score":0,"last_activity_date":1680337560,"creation_date":1680337560,"question_id":75905013,"body_markdown":"I have download Tess4J jar files from this link: &lt;https://sourceforge.net/projects/tess4j/&gt; and added them to my Project Structure in IntelliJ and use doOCR() method to get the text from my image, but it failed. This is my code and errors:\r\n\r\n```\r\nimport net.sourceforge.tess4j.Tesseract;\r\nimport net.sourceforge.tess4j.TesseractException;\r\nimport java.io.File;\r\n\r\npublic class TessData {\r\n    public static void main(String[] args) {\r\n        Tesseract tesseract = new Tesseract();\r\n        try {\r\n            // Load image to perform OCR on\r\n            File imageFile = new File(&quot;test.png&quot;);\r\n            // Perform OCR on image\r\n            String result = tesseract.doOCR(imageFile);\r\n            // Print OCR result\r\n            System.out.println(result);\r\n        } catch (TesseractException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\nError opening data file ./eng.traineddata\r\nPlease make sure the TESSDATA_PREFIX environment variable is set to your &quot;tessdata&quot; directory.\r\nFailed loading language &#39;eng&#39;\r\nTesseract couldn&#39;t load any languages!\r\nException in thread &quot;main&quot; java.lang.Error: Invalid memory access\r\n\tat com.sun.jna.Native.invokePointer(Native Method)\r\n\tat com.sun.jna.Function.invokePointer(Function.java:497)\r\n\tat com.sun.jna.Function.invoke(Function.java:441)\r\n\tat com.sun.jna.Function.invoke(Function.java:361)\r\n\tat com.sun.jna.Library$Handler.invoke(Library.java:270)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy0.TessBaseAPIGetUTF8Text(Unknown Source)\r\n\tat net.sourceforge.tess4j.Tesseract.getOCRText(Tesseract.java:532)\r\n\tat net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:374)\r\n\tat net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:243)\r\n\tat net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:210)\r\n\tat TessData.main(TessData.java:14)\r\n```","title":"How can I download and use Tess4j in IntelliJ?","body":"<p>I have download Tess4J jar files from this link: <a href=\"https://sourceforge.net/projects/tess4j/\" rel=\"nofollow noreferrer\">https://sourceforge.net/projects/tess4j/</a> and added them to my Project Structure in IntelliJ and use doOCR() method to get the text from my image, but it failed. This is my code and errors:</p>\n<pre><code>import net.sourceforge.tess4j.Tesseract;\nimport net.sourceforge.tess4j.TesseractException;\nimport java.io.File;\n\npublic class TessData {\n    public static void main(String[] args) {\n        Tesseract tesseract = new Tesseract();\n        try {\n            // Load image to perform OCR on\n            File imageFile = new File(&quot;test.png&quot;);\n            // Perform OCR on image\n            String result = tesseract.doOCR(imageFile);\n            // Print OCR result\n            System.out.println(result);\n        } catch (TesseractException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<pre><code>Error opening data file ./eng.traineddata\nPlease make sure the TESSDATA_PREFIX environment variable is set to your &quot;tessdata&quot; directory.\nFailed loading language 'eng'\nTesseract couldn't load any languages!\nException in thread &quot;main&quot; java.lang.Error: Invalid memory access\n    at com.sun.jna.Native.invokePointer(Native Method)\n    at com.sun.jna.Function.invokePointer(Function.java:497)\n    at com.sun.jna.Function.invoke(Function.java:441)\n    at com.sun.jna.Function.invoke(Function.java:361)\n    at com.sun.jna.Library$Handler.invoke(Library.java:270)\n    at jdk.proxy1/jdk.proxy1.$Proxy0.TessBaseAPIGetUTF8Text(Unknown Source)\n    at net.sourceforge.tess4j.Tesseract.getOCRText(Tesseract.java:532)\n    at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:374)\n    at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:243)\n    at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:210)\n    at TessData.main(TessData.java:14)\n</code></pre>\n"},{"tags":["java","generics"],"answers":[{"comments":[{"owner":{"account_id":27806466,"reputation":13,"user_id":21229753,"display_name":"SailingBytes"},"score":0,"creation_date":1680336769,"post_id":75904952,"comment_id":133884204,"body_markdown":"Of course not! Thanks! Got it ;)\nI thougth that it would be ok, because &quot;test&quot; is instantiated with &quot;ArrayList&lt;String&gt;&quot; what defacto makes it a &quot;List&lt;String&gt;&quot;.","body":"Of course not! Thanks! Got it ;) I thougth that it would be ok, because &quot;test&quot; is instantiated with &quot;ArrayList&lt;String&gt;&quot; what defacto makes it a &quot;List&lt;String&gt;&quot;."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1680337165,"post_id":75904952,"comment_id":133884235,"body_markdown":"@SailingBytes When you declare the type as `List&lt;? extends Comparable&lt;String&gt;&gt;`, the compiler will treat it as a List of some (unknown) type that implements `Comparable&lt;String&gt;`. The exact type of the value assigned to it no longer matters.","body":"@SailingBytes When you declare the type as <code>List&lt;? extends Comparable&lt;String&gt;&gt;</code>, the compiler will treat it as a List of some (unknown) type that implements <code>Comparable&lt;String&gt;</code>. The exact type of the value assigned to it no longer matters."}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680336599,"creation_date":1680336599,"answer_id":75904952,"question_id":75904936,"body_markdown":"Consider this:\r\n\r\n```java\r\nclass X implements Comparable&lt;String&gt; {\r\n\t@Override\r\n\tpublic int compareTo(String o) {\r\n\t\treturn 0;\r\n\t}\r\n}\r\nList&lt;? extends Comparable&lt;String&gt;&gt; test = new ArrayList&lt;X&gt;();\r\n```\r\n\r\nDoes it make sense to add a `String` to `test`?","title":"Wildcard instantiated List does not accept value","body":"<p>Consider this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class X implements Comparable&lt;String&gt; {\n    @Override\n    public int compareTo(String o) {\n        return 0;\n    }\n}\nList&lt;? extends Comparable&lt;String&gt;&gt; test = new ArrayList&lt;X&gt;();\n</code></pre>\n<p>Does it make sense to add a <code>String</code> to <code>test</code>?</p>\n"}],"owner":{"account_id":27806466,"reputation":13,"user_id":21229753,"display_name":"SailingBytes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75904952,"answer_count":1,"score":1,"last_activity_date":1680336608,"creation_date":1680336336,"question_id":75904936,"body_markdown":"I don&#39;t get why it&#39;s not okay to put a String into the List below:\r\n\r\n\r\n```\r\n        List&lt;? extends Comparable&lt;String&gt;&gt; test = new ArrayList&lt;String&gt;();\r\n        String string = &quot;A&quot;;\r\n        test.add(string); // why is this not ok? in fact &quot;String&quot; should be a subype of &quot;? extends Comparable&lt;String&gt;\r\n```\r\n\r\n\r\nCan anyone please explain where the problem is? I know that there is no benefit in having a wildcard at this point because we can&#39;t inherit from &quot;String&quot;, but I want to understand what&#39;s happening an why the compiler is complaining about it.","title":"Wildcard instantiated List does not accept value","body":"<p>I don't get why it's not okay to put a String into the List below:</p>\n<pre><code>        List&lt;? extends Comparable&lt;String&gt;&gt; test = new ArrayList&lt;String&gt;();\n        String string = &quot;A&quot;;\n        test.add(string); // why is this not ok? in fact &quot;String&quot; should be a subype of &quot;? extends Comparable&lt;String&gt;\n</code></pre>\n<p>Can anyone please explain where the problem is? I know that there is no benefit in having a wildcard at this point because we can't inherit from &quot;String&quot;, but I want to understand what's happening an why the compiler is complaining about it.</p>\n"},{"tags":["java","oop","collections","hashset","linkedhashset"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1680335078,"post_id":75904807,"comment_id":133884015,"body_markdown":"the simplest (and &quot;cheaper&quot; than a stream lambda) is probably (right next to `TreeSet&lt;Expense&gt; set1 = new TreeSet&lt;Expense&gt;();`) to introduce `int sum = 0;` (or long, or BigDecimal...according to your &quot;budget&quot; :) ..and to update it on each `add`: `sum += exp.getAmount();`","body":"the simplest (and &quot;cheaper&quot; than a stream lambda) is probably (right next to <code>TreeSet&lt;Expense&gt; set1 = new TreeSet&lt;Expense&gt;();</code>) to introduce <code>int sum = 0;</code> (or long, or BigDecimal...according to your &quot;budget&quot; :) ..and to update it on each <code>add</code>: <code>sum += exp.getAmount();</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1680335991,"post_id":75904807,"comment_id":133884121,"body_markdown":"`Expense exp = (Expense) x.next(); System.out.println(exp); sum += exp.getAmount();` inside the loop (assuming `Iterator` is not typed)","body":"<code>Expense exp = (Expense) x.next(); System.out.println(exp); sum += exp.getAmount();</code> inside the loop (assuming <code>Iterator</code> is not typed)"}],"answers":[{"tags":[],"owner":{"account_id":17670429,"reputation":67,"user_id":12826706,"display_name":"Tharun S M"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680334689,"creation_date":1680334689,"answer_id":75904828,"question_id":75904807,"body_markdown":"Temporarly i added : \r\na int variable in main class which will sum up the values every time i enter the amount and display it at the end.\r\n```\r\nclass main{\r\n    ...\r\n    int tamount=0;\r\n    ...\r\n    tamount = tamount + Integer.valueOf(amt);\r\n\r\n    ...\r\n    System.out.println(&quot;Total Amount Spent:&quot;+ tamount);\r\n}\r\n","title":"Getting the sum of elements of a HashSet (Java)","body":"<p>Temporarly i added :\na int variable in main class which will sum up the values every time i enter the amount and display it at the end.</p>\n<pre><code>class main{\n    ...\n    int tamount=0;\n    ...\n    tamount = tamount + Integer.valueOf(amt);\n\n    ...\n    System.out.println(&quot;Total Amount Spent:&quot;+ tamount);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17670429,"reputation":67,"user_id":12826706,"display_name":"Tharun S M"},"score":0,"creation_date":1680335043,"post_id":75904835,"comment_id":133884010,"body_markdown":"can u please explain me how this works?","body":"can u please explain me how this works?"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1680335157,"post_id":75904835,"comment_id":133884024,"body_markdown":"@TharunSM First, we get a Stream of Expenses, with `set1.stream()`. Then, it&#39;s converted to an IntStream by calling `getAmount` on each element. Finally, `.sum()` adds up all the ints in the stream.","body":"@TharunSM First, we get a Stream of Expenses, with <code>set1.stream()</code>. Then, it&#39;s converted to an IntStream by calling <code>getAmount</code> on each element. Finally, <code>.sum()</code> adds up all the ints in the stream."}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680334805,"creation_date":1680334805,"answer_id":75904835,"question_id":75904807,"body_markdown":"`addAll` is used to add elements from a `Collection` to the `Set`. You can use `IntStream#sum` in this case.\r\n\r\n```java\r\nset1.stream().mapToInt(Expense::getAmount).sum()\r\n```","title":"Getting the sum of elements of a HashSet (Java)","body":"<p><code>addAll</code> is used to add elements from a <code>Collection</code> to the <code>Set</code>. You can use <code>IntStream#sum</code> in this case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>set1.stream().mapToInt(Expense::getAmount).sum()\n</code></pre>\n"}],"owner":{"account_id":17670429,"reputation":67,"user_id":12826706,"display_name":"Tharun S M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680334805,"creation_date":1680334340,"question_id":75904807,"body_markdown":"** I am not sure how to get the sum of certain elements from a hashset please help**\r\ni need to add the amount from the expense \r\n\r\ni am not sure about the line - System.out.println(&quot;Total Amount Spent:&quot;+ set1.addAll([1]);\r\n\r\nThis is my code and the required output is also give below:\r\n\r\n\r\n```lang-java\r\nimport java.util.*;\r\n\r\nclass Expense implements Comparable&lt;Expense&gt;{\r\n\t\r\n\tString expenseCategory;\r\n\tInteger amount;\r\n\t\r\n\t\r\n\tpublic String getExpenseCategory() {\r\n\t\treturn expenseCategory;\r\n\t}\r\n\tpublic void setExpenseCategory(String expenseCategory) {\r\n\t\tthis.expenseCategory = expenseCategory;\r\n\t}\r\n\tpublic Integer getAmount() {\r\n\t\treturn amount;\r\n\t}\r\n\tpublic void setAmount(Integer amount) {\r\n\t\tthis.amount = amount;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tpublic Expense(String expC , Integer amount) {\r\n\t\tthis.expenseCategory=expC;\r\n\t\tthis.amount = amount;\r\n\t}\r\n\t\r\n\t\r\n\tpublic String toString() {\r\n\t\treturn expenseCategory+ &quot; &quot; +amount;\r\n\t}\r\n\t\t\r\n\t\r\n\tpublic int compareTo(Expense e) {\r\n\t\tif(amount&gt;e.amount){    \r\n\t        return 1;    \r\n\t    }else if(amount&lt;e.amount){    \r\n\t        return -1;    \r\n\t    }else{    \r\n\t    return 0;    \r\n\t    } \r\n\t}\r\n}\r\n```\r\n```lang-java\r\npublic class Main {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\t\r\n\t\tTreeSet&lt;Expense&gt; set1 = new TreeSet&lt;Expense&gt;();\r\n\t\t\r\n\t\twhile(true) {\r\n\t\t\tSystem.out.println(&quot;Enter expense category&quot;);\r\n\t\t\tString expC = sc.next();\r\n\t\t\tSystem.out.println(&quot;Enter expense amount&quot;);\r\n\t\t\tString amt = sc.next();\r\n\t\t\tset1.add(new Expense(expC,Integer.valueOf(amt)));\r\n\t\t\tSystem.out.println(&quot;Do you want to continue(yes/no):&quot;);\r\n\t\t\tString cond = sc.next();\r\n\t\t\tif(cond.equals(&quot;no&quot;)) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\tSystem.out.println(&quot;Top spending categories&quot;);\r\n\t\t\tSystem.out.println(&quot;Category    Amount&quot;);\r\n\t\t\tIterator x = set1.descendingIterator();\r\n\t\t\t\r\n\t\t\twhile(x.hasNext()) {\r\n\t\t\t\tSystem.out.println(x.next());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Total Amount Spent:&quot;+ set1.addAll([1]);//please help me figure out this part \r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n\r\n\r\nOUTPUT Should be like:\r\n\r\n```\r\nEnter expense category\r\nRent\r\nEnter expense amount\r\n6000\r\nDo you want to continue(yes/no):\r\nyes\r\nEnter expense category\r\nFood\r\nEnter expense amount\r\n4500\r\nDo you want to continue(yes/no):\r\nyes\r\nEnter expense category\r\nTravel\r\nEnter expense amount\r\n2300\r\nDo you want to continue(yes/no):\r\nyes\r\nEnter expense category\r\nMobile\r\nEnter expense amount\r\n700\r\nDo you want to continue(yes/no):\r\nno\r\nTop spending categories\r\nCategory    Amount\r\nRent    6000\r\nFood    4500\r\nTravel    2300\r\nMobile    700\r\nTotal amount spent: 13500\r\n```","title":"Getting the sum of elements of a HashSet (Java)","body":"<p>** I am not sure how to get the sum of certain elements from a hashset please help**\ni need to add the amount from the expense</p>\n<p>i am not sure about the line - System.out.println(&quot;Total Amount Spent:&quot;+ set1.addAll([1]);</p>\n<p>This is my code and the required output is also give below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\nclass Expense implements Comparable&lt;Expense&gt;{\n    \n    String expenseCategory;\n    Integer amount;\n    \n    \n    public String getExpenseCategory() {\n        return expenseCategory;\n    }\n    public void setExpenseCategory(String expenseCategory) {\n        this.expenseCategory = expenseCategory;\n    }\n    public Integer getAmount() {\n        return amount;\n    }\n    public void setAmount(Integer amount) {\n        this.amount = amount;\n    }\n    \n    \n    \n    public Expense(String expC , Integer amount) {\n        this.expenseCategory=expC;\n        this.amount = amount;\n    }\n    \n    \n    public String toString() {\n        return expenseCategory+ &quot; &quot; +amount;\n    }\n        \n    \n    public int compareTo(Expense e) {\n        if(amount&gt;e.amount){    \n            return 1;    \n        }else if(amount&lt;e.amount){    \n            return -1;    \n        }else{    \n        return 0;    \n        } \n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    \n    public static void main(String[] args) {\n        \n        Scanner sc = new Scanner(System.in);\n        \n        TreeSet&lt;Expense&gt; set1 = new TreeSet&lt;Expense&gt;();\n        \n        while(true) {\n            System.out.println(&quot;Enter expense category&quot;);\n            String expC = sc.next();\n            System.out.println(&quot;Enter expense amount&quot;);\n            String amt = sc.next();\n            set1.add(new Expense(expC,Integer.valueOf(amt)));\n            System.out.println(&quot;Do you want to continue(yes/no):&quot;);\n            String cond = sc.next();\n            if(cond.equals(&quot;no&quot;)) {\n                break;\n            }\n        }\n            System.out.println(&quot;Top spending categories&quot;);\n            System.out.println(&quot;Category    Amount&quot;);\n            Iterator x = set1.descendingIterator();\n            \n            while(x.hasNext()) {\n                System.out.println(x.next());\n            }\n            \n            \n            System.out.println(&quot;Total Amount Spent:&quot;+ set1.addAll([1]);//please help me figure out this part \n        \n        \n    }\n    \n}\n</code></pre>\n<p>OUTPUT Should be like:</p>\n<pre><code>Enter expense category\nRent\nEnter expense amount\n6000\nDo you want to continue(yes/no):\nyes\nEnter expense category\nFood\nEnter expense amount\n4500\nDo you want to continue(yes/no):\nyes\nEnter expense category\nTravel\nEnter expense amount\n2300\nDo you want to continue(yes/no):\nyes\nEnter expense category\nMobile\nEnter expense amount\n700\nDo you want to continue(yes/no):\nno\nTop spending categories\nCategory    Amount\nRent    6000\nFood    4500\nTravel    2300\nMobile    700\nTotal amount spent: 13500\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","exception","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":16208117,"reputation":41,"user_id":11702834,"display_name":"Arjun Kumar"},"score":0,"creation_date":1680506265,"post_id":75904767,"comment_id":133903783,"body_markdown":"Already I tried this but no use.","body":"Already I tried this but no use."}],"tags":[],"owner":{"account_id":2261604,"reputation":72,"user_id":1991545,"display_name":"abhi_88"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680333646,"creation_date":1680333646,"answer_id":75904767,"question_id":75899234,"body_markdown":"Try to maintain a separate transaction for `public void logData()` method using @Transactional(isolation = Isolation.DEFAULT, propagation = Propagation.REQUIRES_NEW).\r\n\r\nNow sendToShed() and logData() will have separate transaction.\r\n","title":"JPA Hibernate:@Transactional Save entity in the exception catch block","body":"<p>Try to maintain a separate transaction for <code>public void logData()</code> method using @Transactional(isolation = Isolation.DEFAULT, propagation = Propagation.REQUIRES_NEW).</p>\n<p>Now sendToShed() and logData() will have separate transaction.</p>\n"}],"owner":{"account_id":16208117,"reputation":41,"user_id":11702834,"display_name":"Arjun Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680333646,"creation_date":1680270156,"question_id":75899234,"body_markdown":"I am doing two operations in a single transaction and my code looks like\r\n```\r\n**Model looks like**\r\n\r\n@Entity\r\n@Table(name = &quot;projects&quot;)\r\npublic class CarDTO {\r\n  \r\n  @Column(name = &quot;id&quot;)\r\n  private String id;\r\n\r\n  @Column(name = &quot;model_id&quot;)\r\n  private String model;\r\n\r\n  @Column(name = &quot;name&quot;)\r\n  private String name;\r\n\r\n  @ManyToMany\r\n  @JoinTable(\r\n      name = &quot;cars_sheds&quot;,\r\n      joinColumns = { @JoinColumn(name = car_id) },\r\n      inverseJoinColumns = { @JoinColumn(name = &quot;shed_id&quot;) })\r\n  private Set&lt;Shed&gt; sheds = new HashSet&lt;&gt;();\r\n\r\n  .\r\n  .\r\n  .etc\r\n}\r\n\r\n\r\n**Service method looks like**\r\n\r\n  @Transactional(rollbackOn = {Exception.class, CrudException.class})\r\n  public CarDTO sendToShed(String id, String shedId) {\r\n\r\n    CarDTO dbCar = getById(id);\r\n    Shed shed = shedService.getShedById(shedId);\r\n    dbCar.getSheds().add(shed);\r\n    CarDTO updatedCar = patch(dbCar, id);\r\n\r\n    try {\r\n      shedService.sendCarToShed(updatedCar, shedId);\r\n    } catch (Exception e) {\r\n      logData(&#39;car_id&#39;,&#39;shed_id&#39;, 401, &#39;exception while saving&#39;);\r\n      throw new CrudException(&quot;Exception while sending project to SmartconX&quot;);\r\n    }\r\n    return updatedCar;\r\n  }\r\n\r\n  public void logData(String carId, String shedId, int httpStatusCode, String responseMessage) {\r\n      LogDTO log = new LogDTO(carId, shedId, httpStatusCode, responseMessage);\r\n      logsRepository.save(log);\r\n  }\r\n```\r\n**success case**: first I am saving entity before try block and try block executes without issues.\r\n\r\n**exception case**: first I am saving entity and when try block throughs exception in the catch block I need to save the error into a logs table. But because of @trans - rollback the entity and error log both were gets rollbacked.\r\n\r\nif I remove @Transaction on top of the method I am able to save logs but the entity saved which should not.\r\n\r\n**What I need**: In the exception case I need to roll back the entity but need to log failed response into logs table.","title":"JPA Hibernate:@Transactional Save entity in the exception catch block","body":"<p>I am doing two operations in a single transaction and my code looks like</p>\n<pre><code>**Model looks like**\n\n@Entity\n@Table(name = &quot;projects&quot;)\npublic class CarDTO {\n  \n  @Column(name = &quot;id&quot;)\n  private String id;\n\n  @Column(name = &quot;model_id&quot;)\n  private String model;\n\n  @Column(name = &quot;name&quot;)\n  private String name;\n\n  @ManyToMany\n  @JoinTable(\n      name = &quot;cars_sheds&quot;,\n      joinColumns = { @JoinColumn(name = car_id) },\n      inverseJoinColumns = { @JoinColumn(name = &quot;shed_id&quot;) })\n  private Set&lt;Shed&gt; sheds = new HashSet&lt;&gt;();\n\n  .\n  .\n  .etc\n}\n\n\n**Service method looks like**\n\n  @Transactional(rollbackOn = {Exception.class, CrudException.class})\n  public CarDTO sendToShed(String id, String shedId) {\n\n    CarDTO dbCar = getById(id);\n    Shed shed = shedService.getShedById(shedId);\n    dbCar.getSheds().add(shed);\n    CarDTO updatedCar = patch(dbCar, id);\n\n    try {\n      shedService.sendCarToShed(updatedCar, shedId);\n    } catch (Exception e) {\n      logData('car_id','shed_id', 401, 'exception while saving');\n      throw new CrudException(&quot;Exception while sending project to SmartconX&quot;);\n    }\n    return updatedCar;\n  }\n\n  public void logData(String carId, String shedId, int httpStatusCode, String responseMessage) {\n      LogDTO log = new LogDTO(carId, shedId, httpStatusCode, responseMessage);\n      logsRepository.save(log);\n  }\n</code></pre>\n<p><strong>success case</strong>: first I am saving entity before try block and try block executes without issues.</p>\n<p><strong>exception case</strong>: first I am saving entity and when try block throughs exception in the catch block I need to save the error into a logs table. But because of @trans - rollback the entity and error log both were gets rollbacked.</p>\n<p>if I remove @Transaction on top of the method I am able to save logs but the entity saved which should not.</p>\n<p><strong>What I need</strong>: In the exception case I need to roll back the entity but need to log failed response into logs table.</p>\n"},{"tags":["java","jakarta-ee","dependency-injection","cdi","quarkus"],"comments":[{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":8,"creation_date":1680336270,"post_id":75904763,"comment_id":133884147,"body_markdown":"Your JAR needs to be a bean archive for beans to be discovered. Therefore, it needs to have a beans.xml file or a Jandex index. See https://stackoverflow.com/questions/55513502/how-to-create-a-jandex-index-in-quarkus-for-classes-in-a-external-module","body":"Your JAR needs to be a bean archive for beans to be discovered. Therefore, it needs to have a beans.xml file or a Jandex index. See <a href=\"https://stackoverflow.com/questions/55513502/how-to-create-a-jandex-index-in-quarkus-for-classes-in-a-external-module\" title=\"how to create a jandex index in quarkus for classes in a external module\">stackoverflow.com/questions/55513502/&hellip;</a>"}],"owner":{"account_id":20013102,"reputation":641,"user_id":14669745,"display_name":"Pawan.Java"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680333554,"creation_date":1680333554,"question_id":75904763,"body_markdown":"I have the following code which works well when I use it in my Quarkus application:\r\n````\r\npublic interface CrudRepository&lt;T&gt; {\r\n\r\n    void save(T t);\r\n\r\n    Set&lt;T&gt; findAll();\r\n\r\n    Set&lt;T&gt; findByMapOfKeyValues(T t);\r\n\r\n}\r\n````\r\n\r\n````\r\npublic class CrudRepositoryImplementation&lt;T&gt; implements CrudRepository&lt;T&gt; {\r\n    private T t;\r\n\r\n    @Override\r\n    public void save(T t) {\r\n      // some impl\r\n        mapper.save(t);\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;T&gt; findAll() {\r\n       //some impl\r\n        return new HashSet&lt;&gt;(mapper.query((Class&lt;T&gt;) t.getClass(), queryExpression));\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;T&gt; findByMapOfKeyValues(T t) {\r\n       //some impl\r\n        return new HashSet&lt;&gt;(mapper.query((Class&lt;T&gt;) t.getClass(), queryExpression));\r\n    }\r\n}\r\n````\r\n\r\nUsing a producer method as shown below to indicate quarkus for CDI to be done:\r\n\r\n````\r\npublic class Config {\r\n\r\n    @Produces\r\n    @Dependent\r\n    public &lt;T&gt; CrudRepository&lt;T&gt; getCrudRepo() {\r\n        return new CrudRepositoryImplementation&lt;&gt;();\r\n    }\r\n}\r\n````\r\n\r\nWhen i run the above in a package in my application and I inject the interface CrudRepository&lt;Vehicle&gt; as shown below, everything works fine:\r\n\r\n````\r\n@ApplicationScoped\r\npublic class VehicleService {\r\n\r\n    @Inject\r\n    CrudRepository&lt;Vehicle&gt; repository;\r\n\r\n    public void saveEVBattery(String vin){\r\n       //some impl\r\n    }\r\n````\r\n\r\nNow the issue is when i build the package in a separate maven project and import it as a dependecy in my quarkus application, i get the following error. As per my observation, i think quarkus is not calling the producer method at runtime and thus it does not get the implmentation to inject it. \r\n\r\npom.xml\r\n````\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;com.repo.dynamodb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;CrudRepositoryDynamoDB&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n````\r\n\r\nException thrown at runtime:\r\n````\r\n Build failure: Build failed due to errors\r\n[ERROR]         [error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: javax.e\r\nnterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type com.repo.dynamodb.CrudRepository&lt;Vehicle&gt; and qualifiers [@Default]\r\n````\r\n\r\nCan you guide me into how to successfully inject my jar into my Quarkus Application on runtime?","title":"how to inject the producer method when running as a jar in Quarkus?","body":"<p>I have the following code which works well when I use it in my Quarkus application:</p>\n<pre><code>public interface CrudRepository&lt;T&gt; {\n\n    void save(T t);\n\n    Set&lt;T&gt; findAll();\n\n    Set&lt;T&gt; findByMapOfKeyValues(T t);\n\n}\n</code></pre>\n<pre><code>public class CrudRepositoryImplementation&lt;T&gt; implements CrudRepository&lt;T&gt; {\n    private T t;\n\n    @Override\n    public void save(T t) {\n      // some impl\n        mapper.save(t);\n    }\n\n    @Override\n    public Set&lt;T&gt; findAll() {\n       //some impl\n        return new HashSet&lt;&gt;(mapper.query((Class&lt;T&gt;) t.getClass(), queryExpression));\n    }\n\n    @Override\n    public Set&lt;T&gt; findByMapOfKeyValues(T t) {\n       //some impl\n        return new HashSet&lt;&gt;(mapper.query((Class&lt;T&gt;) t.getClass(), queryExpression));\n    }\n}\n</code></pre>\n<p>Using a producer method as shown below to indicate quarkus for CDI to be done:</p>\n<pre><code>public class Config {\n\n    @Produces\n    @Dependent\n    public &lt;T&gt; CrudRepository&lt;T&gt; getCrudRepo() {\n        return new CrudRepositoryImplementation&lt;&gt;();\n    }\n}\n</code></pre>\n<p>When i run the above in a package in my application and I inject the interface CrudRepository as shown below, everything works fine:</p>\n<pre><code>@ApplicationScoped\npublic class VehicleService {\n\n    @Inject\n    CrudRepository&lt;Vehicle&gt; repository;\n\n    public void saveEVBattery(String vin){\n       //some impl\n    }\n</code></pre>\n<p>Now the issue is when i build the package in a separate maven project and import it as a dependecy in my quarkus application, i get the following error. As per my observation, i think quarkus is not calling the producer method at runtime and thus it does not get the implmentation to inject it.</p>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.repo.dynamodb&lt;/groupId&gt;\n            &lt;artifactId&gt;CrudRepositoryDynamoDB&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Exception thrown at runtime:</p>\n<pre><code> Build failure: Build failed due to errors\n[ERROR]         [error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: javax.e\nnterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type com.repo.dynamodb.CrudRepository&lt;Vehicle&gt; and qualifiers [@Default]\n</code></pre>\n<p>Can you guide me into how to successfully inject my jar into my Quarkus Application on runtime?</p>\n"},{"tags":["java","shardingsphere"],"owner":{"account_id":25223570,"reputation":1,"user_id":19059725,"display_name":"money fox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680332803,"creation_date":1680332803,"question_id":75904725,"body_markdown":"The shardingshpere-jdbc needs to configure the sub database policy in the configuration file. After there are too many tables, the configuration file is very large and inconvenient to maintain. I want to define an annotation myself, configure the sub database policy in the annotation, and then inject it in the form of scanning. In addition, it needs to be compatible with those already configured in the configuration file. Is there an extensible solution for shardingshpere-jdbc?\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mUrcx.png","title":"shardingshpere-jdbc Dynamically loading sub database rules","body":"<p>The shardingshpere-jdbc needs to configure the sub database policy in the configuration file. After there are too many tables, the configuration file is very large and inconvenient to maintain. I want to define an annotation myself, configure the sub database policy in the annotation, and then inject it in the form of scanning. In addition, it needs to be compatible with those already configured in the configuration file. Is there an extensible solution for shardingshpere-jdbc?\n<a href=\"https://i.stack.imgur.com/mUrcx.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","redis"],"answers":[{"tags":[],"owner":{"account_id":5198383,"reputation":431,"user_id":4158745,"display_name":"hiimjames"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680332721,"creation_date":1680332721,"answer_id":75904718,"question_id":72183787,"body_markdown":"    boolean tryLock(long time, TimeUnit unit) throws InterruptedException;\r\n\r\nAs you can see, method tryLock optionally takes 2 arguments.\r\n\r\n    if(!lock.tryLock(30, SECONDS)){\r\n      logger.warn(&quot;Unable to lock resource {}&quot;, taskKey);\r\n      return false;\r\n    }","title":"Java spring distributed lock with redis: different lock timeout for each lock","body":"<pre><code>boolean tryLock(long time, TimeUnit unit) throws InterruptedException;\n</code></pre>\n<p>As you can see, method tryLock optionally takes 2 arguments.</p>\n<pre><code>if(!lock.tryLock(30, SECONDS)){\n  logger.warn(&quot;Unable to lock resource {}&quot;, taskKey);\n  return false;\n}\n</code></pre>\n"}],"owner":{"account_id":14554448,"reputation":191,"user_id":10512384,"display_name":"Pikappa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":794,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680332721,"creation_date":1652174666,"question_id":72183787,"body_markdown":"I need to create locks for each task execution, however different tasks can have differents locks timeout. I&#39;m using Spring distributed lock with Redis, there&#39;s a snippet of my example code:\r\n\r\n    @Override\r\n    public boolean lock(String taskKey) {\r\n        if(taskKey == null || taskKey.isEmpty()){\r\n            throw new IllegalArgumentException(&quot;Key must be not null!&quot;);\r\n        }\r\n        Lock lock = lockRegistry.obtain(taskKey);\r\n\r\n    try{\r\n        if(!lock.tryLock()){\r\n            logger.warn(&quot;Unable to lock resource {}&quot;, taskKey);\r\n            return false;\r\n        }\r\n\r\n        logger.debug(&quot;Resource {} locked &quot;, taskKey);\r\n        return true;\r\n    }catch(Exception exc){\r\n        throw exc;\r\n    }\r\n}\r\n\r\nand what I want is to set differents lock timeout for each taskKey. How can i do that?\r\n\r\n","title":"Java spring distributed lock with redis: different lock timeout for each lock","body":"<p>I need to create locks for each task execution, however different tasks can have differents locks timeout. I'm using Spring distributed lock with Redis, there's a snippet of my example code:</p>\n<pre><code>@Override\npublic boolean lock(String taskKey) {\n    if(taskKey == null || taskKey.isEmpty()){\n        throw new IllegalArgumentException(&quot;Key must be not null!&quot;);\n    }\n    Lock lock = lockRegistry.obtain(taskKey);\n\ntry{\n    if(!lock.tryLock()){\n        logger.warn(&quot;Unable to lock resource {}&quot;, taskKey);\n        return false;\n    }\n\n    logger.debug(&quot;Resource {} locked &quot;, taskKey);\n    return true;\n}catch(Exception exc){\n    throw exc;\n}\n</code></pre>\n<p>}</p>\n<p>and what I want is to set differents lock timeout for each taskKey. How can i do that?</p>\n"},{"tags":["java","multidimensional-array"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680331442,"post_id":75904593,"comment_id":133883695,"body_markdown":"It would help if you showed how you access that data structure.","body":"It would help if you showed how you access that data structure."}],"answers":[{"comments":[{"owner":{"account_id":28184725,"reputation":3,"user_id":21541137,"display_name":"Evan Troxell"},"score":1,"creation_date":1680981132,"post_id":75904700,"comment_id":133986994,"body_markdown":"I was messing around with custom data-storing files, I realized that I can get better results if I navigate to JSON instead. I was really just trying to make a universal JSON object in Java when there are extensions that can do it for me without the headache","body":"I was messing around with custom data-storing files, I realized that I can get better results if I navigate to JSON instead. I was really just trying to make a universal JSON object in Java when there are extensions that can do it for me without the headache"},{"owner":{"account_id":25466,"reputation":36566,"user_id":65464,"accept_rate":93,"display_name":"Erich Kitzmueller"},"score":0,"creation_date":1681204518,"post_id":75904700,"comment_id":134014813,"body_markdown":"Definitely. Just use a JSON library and call it a day.","body":"Definitely. Just use a JSON library and call it a day."}],"tags":[],"owner":{"account_id":25466,"reputation":36566,"user_id":65464,"accept_rate":93,"display_name":"Erich Kitzmueller"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680332417,"creation_date":1680332417,"answer_id":75904700,"question_id":75904593,"body_markdown":"That would be an array of `Object`, where each object can be another array, or just a `String`, `Number` or `Boolean` object. But doing that in Java is rather cumbersome, as it requires lots of `instanceof` and casts. Using `List`s instead of arrays makes things *slightly* easier.","title":"Multidimensional arrays with different dimensional values in Java","body":"<p>That would be an array of <code>Object</code>, where each object can be another array, or just a <code>String</code>, <code>Number</code> or <code>Boolean</code> object. But doing that in Java is rather cumbersome, as it requires lots of <code>instanceof</code> and casts. Using <code>List</code>s instead of arrays makes things <em>slightly</em> easier.</p>\n"}],"owner":{"account_id":28184725,"reputation":3,"user_id":21541137,"display_name":"Evan Troxell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75904700,"answer_count":1,"score":0,"last_activity_date":1680332417,"creation_date":1680330174,"question_id":75904593,"body_markdown":"Is there any way build an array in Java such that it can possess multiple dimensions in different indexes? For example: in JSON I would write such array as:\r\n\r\n    //jsonObj.jsonc\r\n    [\r\n        [\r\n            [\r\n                “String”,\r\n                ”String2”\r\n            ],\r\n            “String3”\r\n        ]\r\n        “String4”\r\n    ]\r\n\r\nIf it helps, I’m trying to build something to decode basic JSON. Everything is sorted at this point but I don’t know how to set up an array this way, or if there’s an alternative\r\n\r\nI tried to use new objects from a class to build arrays, but this also has the dimension limiter. I’m new here, please let me know if I’m missing a basic.","title":"Multidimensional arrays with different dimensional values in Java","body":"<p>Is there any way build an array in Java such that it can possess multiple dimensions in different indexes? For example: in JSON I would write such array as:</p>\n<pre><code>//jsonObj.jsonc\n[\n    [\n        [\n            “String”,\n            ”String2”\n        ],\n        “String3”\n    ]\n    “String4”\n]\n</code></pre>\n<p>If it helps, I’m trying to build something to decode basic JSON. Everything is sorted at this point but I don’t know how to set up an array this way, or if there’s an alternative</p>\n<p>I tried to use new objects from a class to build arrays, but this also has the dimension limiter. I’m new here, please let me know if I’m missing a basic.</p>\n"},{"tags":["java","javabeans","opencsv"],"answers":[{"comments":[{"owner":{"account_id":2851272,"reputation":1349,"user_id":2448440,"accept_rate":50,"display_name":"Qw3ry"},"score":0,"creation_date":1574071382,"post_id":50467624,"comment_id":104086078,"body_markdown":"Wow. That was unexpected. Pretty much every parser/serialization lib I have ever used either (a) does not need getters/setters or (b) has the annotations directly on the access methods...","body":"Wow. That was unexpected. Pretty much every parser/serialization lib I have ever used either (a) does not need getters/setters or (b) has the annotations directly on the access methods..."}],"tags":[],"owner":{"account_id":8585520,"reputation":111,"user_id":6431803,"display_name":"rothbart"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1526991895,"creation_date":1526991895,"answer_id":50467624,"question_id":50463948,"body_markdown":"Through elimination, I discovered that the getter methods&#39; names must match the properties&#39; names.  With the correction below, now I can write to CSVs from a list of objects.  \r\n\r\n \r\n\r\n    //...\r\n    \tpublic int getFieldx() {\r\n            return fieldx;\r\n        }\r\n        public int getFieldy() {\r\n            return fieldy;\r\n        }\r\n        public void setFieldx(int x) {\r\n            this.fieldx = x;\r\n        }\r\n        public void setFieldy(int y) {\r\n            this.fieldy = y;\r\n        }\r\n    //...","title":"Getting CsvBeanIntrospectionException while using OpenCSV","body":"<p>Through elimination, I discovered that the getter methods' names must match the properties' names.  With the correction below, now I can write to CSVs from a list of objects.  </p>\n\n<pre><code>//...\n    public int getFieldx() {\n        return fieldx;\n    }\n    public int getFieldy() {\n        return fieldy;\n    }\n    public void setFieldx(int x) {\n        this.fieldx = x;\n    }\n    public void setFieldy(int y) {\n        this.fieldy = y;\n    }\n//...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":392398,"reputation":2602,"user_id":753633,"accept_rate":55,"display_name":"LEO"},"score":0,"creation_date":1626269184,"post_id":63940721,"comment_id":120847466,"body_markdown":"Empty public constructor!","body":"Empty public constructor!"}],"tags":[],"owner":{"account_id":1667864,"reputation":3614,"user_id":1534925,"accept_rate":60,"display_name":"Akshay"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600354352,"creation_date":1600354352,"answer_id":63940721,"question_id":50463948,"body_markdown":"In my case, the constructor was not declared public!","title":"Getting CsvBeanIntrospectionException while using OpenCSV","body":"<p>In my case, the constructor was not declared public!</p>\n"},{"comments":[{"owner":{"account_id":9439654,"reputation":470,"user_id":7266331,"display_name":"sarthakgupta072"},"score":0,"creation_date":1644159655,"post_id":66520933,"comment_id":125526467,"body_markdown":"Thanks. Couldn&#39;t have figured this out through the logs.","body":"Thanks. Couldn&#39;t have figured this out through the logs."}],"tags":[],"owner":{"account_id":9229376,"reputation":902,"user_id":6856020,"display_name":"Supreet Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1615147890,"creation_date":1615147890,"answer_id":66520933,"question_id":50463948,"body_markdown":"I was getting a similar error, try adding a default constructor for the class you want to convert CSV into, it worked for me.","title":"Getting CsvBeanIntrospectionException while using OpenCSV","body":"<p>I was getting a similar error, try adding a default constructor for the class you want to convert CSV into, it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619473809,"creation_date":1619473809,"answer_id":67274243,"question_id":50463948,"body_markdown":"My case was because I was testing the lib so I created a non-public bean file that was the problem so make sure that the bean file is a public class file since the lib uses `CGLIB` that proxies the class so it needs to access it","title":"Getting CsvBeanIntrospectionException while using OpenCSV","body":"<p>My case was because I was testing the lib so I created a non-public bean file that was the problem so make sure that the bean file is a public class file since the lib uses <code>CGLIB</code> that proxies the class so it needs to access it</p>\n"},{"tags":[],"owner":{"account_id":11625636,"reputation":13,"user_id":8515484,"display_name":"Gorjan Djundev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626646692,"creation_date":1626646692,"answer_id":68433467,"question_id":50463948,"body_markdown":"In my case it was because of the final keyword:\r\n```\r\n@Data\r\n@Accessors(chain = true)\r\npublic class CsvFile {\r\n\r\n    @CsvBindByName(column = &quot;ColumnOne&quot;)\r\n    private final String columnOne;\r\n}\r\n```\r\nWorked fine after I removed the `final` keyword. ","title":"Getting CsvBeanIntrospectionException while using OpenCSV","body":"<p>In my case it was because of the final keyword:</p>\n<pre><code>@Data\n@Accessors(chain = true)\npublic class CsvFile {\n\n    @CsvBindByName(column = &quot;ColumnOne&quot;)\n    private final String columnOne;\n}\n</code></pre>\n<p>Worked fine after I removed the <code>final</code> keyword.</p>\n"},{"tags":[],"owner":{"account_id":7441676,"reputation":860,"user_id":5659278,"display_name":"Kushwaha"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645626979,"creation_date":1645626979,"answer_id":71238893,"question_id":50463948,"body_markdown":"I have also faced similar issue. \r\n\r\n**Error message**: Basic instantiation of the given bean type (and subordinate beans created through recursion, if applicable) was determined to be impossible\r\n\r\nMeans, it is trying to create Object but since bean class does not have public constructor hence its failing. \r\n\r\n**Resolution**: Look at your bean class, ***it must have public constructor***. If you have private or default then it will not work.\r\n\r\nhappy learning :)","title":"Getting CsvBeanIntrospectionException while using OpenCSV","body":"<p>I have also faced similar issue.</p>\n<p><strong>Error message</strong>: Basic instantiation of the given bean type (and subordinate beans created through recursion, if applicable) was determined to be impossible</p>\n<p>Means, it is trying to create Object but since bean class does not have public constructor hence its failing.</p>\n<p><strong>Resolution</strong>: Look at your bean class, <em><strong>it must have public constructor</strong></em>. If you have private or default then it will not work.</p>\n<p>happy learning :)</p>\n"},{"comments":[{"owner":{"account_id":4728451,"reputation":451,"user_id":3824715,"accept_rate":62,"display_name":"ch1ll"},"score":2,"creation_date":1656575948,"post_id":72680679,"comment_id":128607946,"body_markdown":"Well...there went an hour of my life for that. Thank you! Just...why","body":"Well...there went an hour of my life for that. Thank you! Just...why"},{"owner":{"account_id":6790074,"reputation":572,"user_id":5227526,"display_name":"AElMehdi"},"score":0,"creation_date":1656624561,"post_id":72680679,"comment_id":128625059,"body_markdown":"You need to include a @AllArgsConstructor(access = PRIVATE) if it happens that you&#39;re using @Builder.","body":"You need to include a @AllArgsConstructor(access = PRIVATE) if it happens that you&#39;re using @Builder."}],"tags":[],"owner":{"account_id":377597,"reputation":9529,"user_id":729820,"accept_rate":84,"display_name":"SoftwareSavant"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1655676972,"creation_date":1655676972,"answer_id":72680679,"question_id":50463948,"body_markdown":"If you are using Lombok, be sure to add a @NoArgConstructor on top of your Pojo.","title":"Getting CsvBeanIntrospectionException while using OpenCSV","body":"<p>If you are using Lombok, be sure to add a @NoArgConstructor on top of your Pojo.</p>\n"},{"tags":[],"owner":{"account_id":15225257,"reputation":1,"user_id":10986075,"display_name":"aniketshrm285"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680332006,"creation_date":1679777188,"answer_id":75844427,"question_id":50463948,"body_markdown":"In my case, I had both default and parameterized constructor. The problem was resolved after adding getters and setters.\r\n\r\nI used `lombok` for this purpose but I believe, after looking at other answers, that you&#39;ll have to make use of standard names for getters and setters. Custom names won&#39;t work.","title":"Getting CsvBeanIntrospectionException while using OpenCSV","body":"<p>In my case, I had both default and parameterized constructor. The problem was resolved after adding getters and setters.</p>\n<p>I used <code>lombok</code> for this purpose but I believe, after looking at other answers, that you'll have to make use of standard names for getters and setters. Custom names won't work.</p>\n"}],"owner":{"account_id":8585520,"reputation":111,"user_id":6431803,"display_name":"rothbart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9494,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":8,"score":7,"last_activity_date":1680332006,"creation_date":1526980431,"question_id":50463948,"body_markdown":"I&#39;m trying to write a CSV using openCSV 4.1, from a list of beans.  However, whenever I run my programme, I get CsvBeanIntrospectionException, and then  a NoSuchMethodException: Unknown property &#39;fieldx&#39; on class &#39;class TestObject&#39;\r\n\r\nI have successfully used the reader counterpart to read a CSV to a list of beans.  \r\n\r\nHere&#39;s my code for the object &#39;TestObject&#39;:  \r\n\r\n    import com.opencsv.bean.CsvBindByName;\r\n    import java.io.Serializable;\r\n    \r\n    public class TestObject implements Serializable {\r\n    \t@CsvBindByName\r\n    \tint fieldx;\r\n    \t@CsvBindByName\r\n    \tint fieldy;\r\n    \tpublic TestObject() {\r\n    \t}\r\n    \tpublic TestObject(int x, int y) {\r\n    \t\tthis.fieldx = x;\r\n    \t\tthis.fieldy = y;\r\n    \t}\r\n    \t\r\n    \tpublic int getX() {\r\n    \t\treturn fieldx;\r\n    \t}\r\n    \tpublic int getY() {\r\n    \t\treturn fieldy;\r\n    \t}\r\n    \tpublic void setX(int x) {\r\n    \t\tthis.fieldx = x;\r\n    \t}\r\n    \tpublic void setY(int y) {\r\n    \t\tthis.fieldy = y;\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString(){\r\n    \t\treturn &quot;{&quot; + fieldx + &quot;,&quot; + fieldy + &quot;}&quot;;\r\n    \t}\r\n    }\r\n\r\nAnd here&#39;s the rest. \r\n\r\n      public class Project {\r\n        public static void main(String[] args) {\r\n    \t\tTestObject t1 = new TestObject(1,2);\r\n    \t\tTestObject t2 = new TestObject(3,4);\r\n    \r\n    \t\tList&lt;TestObject&gt; testList = new ArrayList&lt;&gt;();\r\n    \t\ttestList.add(t1);\r\n    \t\ttestList.add(t2);\r\n    \t\t\r\n    \t\tPrep prep = new Prep();\r\n    \t\ttry {\r\n    \t\t\tprep.writeCSV(testList);\r\n    \t\t} catch (IOException | CsvDataTypeMismatchException | CsvRequiredFieldEmptyException ex) {\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    import com.opencsv.bean.*;\r\n    import com.opencsv.exceptions.CsvDataTypeMismatchException;\r\n    import com.opencsv.exceptions.CsvRequiredFieldEmptyException;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.io.Writer;\r\n    import java.util.List;\r\n    \r\n    public class Prep {\r\n    \tpublic void writeCSV(List&lt;TestObject&gt; t) throws IOException, \r\n    \t\t\tCsvDataTypeMismatchException,\r\n    \t\t\tCsvRequiredFieldEmptyException {\r\n    \t\tWriter writer = new FileWriter(&quot;testfile.csv&quot;);\r\n         StatefulBeanToCsv beanToCsv = new StatefulBeanToCsvBuilder(writer).build();\r\n         beanToCsv.write(t);\r\n         writer.close();\t\t\r\n    \t}\r\n    }","title":"Getting CsvBeanIntrospectionException while using OpenCSV","body":"<p>I'm trying to write a CSV using openCSV 4.1, from a list of beans.  However, whenever I run my programme, I get CsvBeanIntrospectionException, and then  a NoSuchMethodException: Unknown property 'fieldx' on class 'class TestObject'</p>\n\n<p>I have successfully used the reader counterpart to read a CSV to a list of beans.  </p>\n\n<p>Here's my code for the object 'TestObject':  </p>\n\n<pre><code>import com.opencsv.bean.CsvBindByName;\nimport java.io.Serializable;\n\npublic class TestObject implements Serializable {\n    @CsvBindByName\n    int fieldx;\n    @CsvBindByName\n    int fieldy;\n    public TestObject() {\n    }\n    public TestObject(int x, int y) {\n        this.fieldx = x;\n        this.fieldy = y;\n    }\n\n    public int getX() {\n        return fieldx;\n    }\n    public int getY() {\n        return fieldy;\n    }\n    public void setX(int x) {\n        this.fieldx = x;\n    }\n    public void setY(int y) {\n        this.fieldy = y;\n    }\n    @Override\n    public String toString(){\n        return \"{\" + fieldx + \",\" + fieldy + \"}\";\n    }\n}\n</code></pre>\n\n<p>And here's the rest. </p>\n\n<pre><code>  public class Project {\n    public static void main(String[] args) {\n        TestObject t1 = new TestObject(1,2);\n        TestObject t2 = new TestObject(3,4);\n\n        List&lt;TestObject&gt; testList = new ArrayList&lt;&gt;();\n        testList.add(t1);\n        testList.add(t2);\n\n        Prep prep = new Prep();\n        try {\n            prep.writeCSV(testList);\n        } catch (IOException | CsvDataTypeMismatchException | CsvRequiredFieldEmptyException ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n\nimport com.opencsv.bean.*;\nimport com.opencsv.exceptions.CsvDataTypeMismatchException;\nimport com.opencsv.exceptions.CsvRequiredFieldEmptyException;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.Writer;\nimport java.util.List;\n\npublic class Prep {\n    public void writeCSV(List&lt;TestObject&gt; t) throws IOException, \n            CsvDataTypeMismatchException,\n            CsvRequiredFieldEmptyException {\n        Writer writer = new FileWriter(\"testfile.csv\");\n     StatefulBeanToCsv beanToCsv = new StatefulBeanToCsvBuilder(writer).build();\n     beanToCsv.write(t);\n     writer.close();        \n    }\n}\n</code></pre>\n"},{"tags":["java","java-time","date-formatting","datetimeformatter"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1680321438,"post_id":75904138,"comment_id":133882933,"body_markdown":"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html","body":"<a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/20/docs/api/java.base/java/ti&zwnj;&#8203;me/&hellip;</a>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680323959,"post_id":75904138,"comment_id":133883131,"body_markdown":"You are correct, it is a locale difference. Perhaps `Apr.` with a dot is German or something and `Apr` without the dot is English or something else. Specify the locale you want, for example `DateTimeFormatter.ofPattern(&quot;dd MMM yyyy&quot;, Locale.ENGLISH)`.","body":"You are correct, it is a locale difference. Perhaps <code>Apr.</code> with a dot is German or something and <code>Apr</code> without the dot is English or something else. Specify the locale you want, for example <code>DateTimeFormatter.ofPattern(&quot;dd MMM yyyy&quot;, Locale.ENGLISH)</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1680328006,"post_id":75904138,"comment_id":133883450,"body_markdown":"Always search Stack Overflow thoroughly before posting.","body":"Always search Stack Overflow thoroughly before posting."},{"owner":{"account_id":24559039,"reputation":9,"user_id":18467120,"display_name":"jBOSS"},"score":0,"creation_date":1680572043,"post_id":75904138,"comment_id":133917355,"body_markdown":"@BasilBourque  This is related to https://bugs.openjdk.java.net/browse/JDK-8211750 .","body":"@BasilBourque  This is related to <a href=\"https://bugs.openjdk.java.net/browse/JDK-8211750\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8211750</a> ."}],"answers":[{"tags":[],"owner":{"account_id":24559039,"reputation":9,"user_id":18467120,"display_name":"jBOSS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680320368,"creation_date":1680320368,"answer_id":75904147,"question_id":75904138,"body_markdown":"Its depends on Locale.\r\n\r\nit produces correct results when I use Locale.US\r\n\r\nLocalDate.parse(&quot;2023-01-01&quot;).format(DateTimeFormatter.ofPattern(&quot;dd MMM yyyy&quot;, Locale.US))","title":"DateTimeFormatter dd MMM yyyy prints period after month (01 Apr. 2023)","body":"<p>Its depends on Locale.</p>\n<p>it produces correct results when I use Locale.US</p>\n<p>LocalDate.parse(&quot;2023-01-01&quot;).format(DateTimeFormatter.ofPattern(&quot;dd MMM yyyy&quot;, Locale.US))</p>\n"}],"owner":{"account_id":24559039,"reputation":9,"user_id":18467120,"display_name":"jBOSS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1680324249,"answer_count":1,"score":-1,"last_activity_date":1680331646,"creation_date":1680320024,"question_id":75904138,"body_markdown":"When I run below code in the server, I get period after month.\r\n\r\n```\r\nDateTimeFormatter.ofPattern(&quot;dd MMM yyyy&quot;).format(LocalDate.parse(&quot;2023-04-01&quot;))\r\n\r\n01 Apr. 2023\r\n```\r\nThere is a period after month.\r\n\r\n[screenshot](https://i.stack.imgur.com/Fi6xu.png)\r\n\r\n\r\nBut, same code when I run in java main method, it produces expected output.\r\n\r\n```\r\nDateTimeFormatter.ofPattern(&quot;dd MMM yyyy&quot;).format(LocalDate.parse(&quot;2023-04-01&quot;))\r\n\r\n01 Apr 2023\r\n```\r\n\r\n\r\n\r\n\r\nAny reason why the first operation produces period?\r\n\r\nIs dateTimeFormatter depends on Locale?","title":"DateTimeFormatter dd MMM yyyy prints period after month (01 Apr. 2023)","body":"<p>When I run below code in the server, I get period after month.</p>\n<pre><code>DateTimeFormatter.ofPattern(&quot;dd MMM yyyy&quot;).format(LocalDate.parse(&quot;2023-04-01&quot;))\n\n01 Apr. 2023\n</code></pre>\n<p>There is a period after month.</p>\n<p><a href=\"https://i.stack.imgur.com/Fi6xu.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n<p>But, same code when I run in java main method, it produces expected output.</p>\n<pre><code>DateTimeFormatter.ofPattern(&quot;dd MMM yyyy&quot;).format(LocalDate.parse(&quot;2023-04-01&quot;))\n\n01 Apr 2023\n</code></pre>\n<p>Any reason why the first operation produces period?</p>\n<p>Is dateTimeFormatter depends on Locale?</p>\n"},{"tags":["javascript","java","selenium"],"comments":[{"owner":{"account_id":7749813,"reputation":518,"user_id":5866094,"display_name":"Bug"},"score":1,"creation_date":1500605080,"post_id":45227618,"comment_id":77422345,"body_markdown":"Java and Javascript have very little in common except the word &#39;java&#39;. Scrips are quicker to get up and running and good if you are changing your code often. If it is an app you are building I would go Java but it can have a startup lag. For testing purposes my advice is scripting","body":"Java and Javascript have very little in common except the word &#39;java&#39;. Scrips are quicker to get up and running and good if you are changing your code often. If it is an app you are building I would go Java but it can have a startup lag. For testing purposes my advice is scripting"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1500605136,"post_id":45227618,"comment_id":77422357,"body_markdown":"Possibly `JavaScript` though I don&#39;t have any data to prove as of now.","body":"Possibly <code>JavaScript</code> though I don&#39;t have any data to prove as of now."},{"owner":{"account_id":3447044,"reputation":41737,"user_id":2887618,"display_name":"Florent B."},"score":0,"creation_date":1500605841,"post_id":45227618,"comment_id":77422494,"body_markdown":"It will be the same. The cost on the client side is insignificant. You should use the language that you and your team are the most comfortable to work with.","body":"It will be the same. The cost on the client side is insignificant. You should use the language that you and your team are the most comfortable to work with."}],"answers":[{"tags":[],"owner":{"account_id":148837,"reputation":26003,"user_id":360899,"accept_rate":91,"display_name":"Lesmana"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680331268,"creation_date":1572347375,"answer_id":58606285,"question_id":45227618,"body_markdown":"Which would be faster can only be answered by a benchmark.\r\n\r\nI think the speed difference of java or javascript will be negligible compared to the overhead of selenium and the website itself. Even if one proves to be milliseconds faster than the other, what does it matter if a single test takes seconds from end to end. To make matters worse selenium run times typically vary greatly because of all the components involved.\r\n\r\nI can imagine speed difference of the language becoming noticeable IF you have a very special use case like thousands of microtests and/or the webserver is highly optimized for micropayloads. But as said: there is no universal answer. You must benchmark.\r\n\r\nEasier to maintain would be the language you (and your team) are more comfortable with.\r\n\r\nIf you are equaly comfortable with both languages, and there are no other factors to base the decision on, then flip a coin. Or write some of the more complicated tests in both languages and maintain them for some time. Then decide based on the experience of maintaining them.\r\n","title":"Would selenium end to end test run faster if the test were written in Java or in Javascript?","body":"<p>Which would be faster can only be answered by a benchmark.</p>\n<p>I think the speed difference of java or javascript will be negligible compared to the overhead of selenium and the website itself. Even if one proves to be milliseconds faster than the other, what does it matter if a single test takes seconds from end to end. To make matters worse selenium run times typically vary greatly because of all the components involved.</p>\n<p>I can imagine speed difference of the language becoming noticeable IF you have a very special use case like thousands of microtests and/or the webserver is highly optimized for micropayloads. But as said: there is no universal answer. You must benchmark.</p>\n<p>Easier to maintain would be the language you (and your team) are more comfortable with.</p>\n<p>If you are equaly comfortable with both languages, and there are no other factors to base the decision on, then flip a coin. Or write some of the more complicated tests in both languages and maintain them for some time. Then decide based on the experience of maintaining them.</p>\n"}],"owner":{"account_id":69742,"reputation":1960,"user_id":202784,"accept_rate":72,"display_name":"claya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58606285,"answer_count":1,"score":1,"last_activity_date":1680331268,"creation_date":1500600884,"question_id":45227618,"body_markdown":"Trying to decide which way to go for e2e tests Selenium tests written in Java or Javascript? Which would be faster(time tests take to run) which would be easier to maintain?","title":"Would selenium end to end test run faster if the test were written in Java or in Javascript?","body":"<p>Trying to decide which way to go for e2e tests Selenium tests written in Java or Javascript? Which would be faster(time tests take to run) which would be easier to maintain?</p>\n"},{"tags":["java","multithreading","scala","io","pipe"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":1,"creation_date":1680355701,"post_id":75904608,"comment_id":133886408,"body_markdown":"If you really need / want some efficient way to stream I/O data, I would recommend looking at **fs2** or **ZIO** and maybe **AkkaStreams**. But, note each of these has a learning curve and imply some new concepts like the `IO` data type or actors.","body":"If you really need / want some efficient way to stream I/O data, I would recommend looking at <b>fs2</b> or <b>ZIO</b> and maybe <b>AkkaStreams</b>. But, note each of these has a learning curve and imply some new concepts like the <code>IO</code> data type or actors."},{"owner":{"account_id":8739147,"reputation":1298,"user_id":6536722,"display_name":"alcorn"},"score":0,"creation_date":1680376358,"post_id":75904608,"comment_id":133889492,"body_markdown":"@Ga&#235;lJ looks like the problem in that question was that the input stream was incorrectly sending EOF. In this case the read is hanging entirely, nothing is coming out, so I think it is different.","body":"@Ga&#235;lJ looks like the problem in that question was that the input stream was incorrectly sending EOF. In this case the read is hanging entirely, nothing is coming out, so I think it is different."},{"owner":{"account_id":8739147,"reputation":1298,"user_id":6536722,"display_name":"alcorn"},"score":0,"creation_date":1680383392,"post_id":75904608,"comment_id":133890360,"body_markdown":"Voting to close this question in favor of a new question I asked which isolates the problem much more effectively: https://stackoverflow.com/questions/75908870/why-does-writing-a-value-larger-than-the-buffer-size-of-javas-pipedinputstream","body":"Voting to close this question in favor of a new question I asked which isolates the problem much more effectively: <a href=\"https://stackoverflow.com/questions/75908870/why-does-writing-a-value-larger-than-the-buffer-size-of-javas-pipedinputstream\" title=\"why does writing a value larger than the buffer size of javas pipedinputstream\">stackoverflow.com/questions/75908870/&hellip;</a>"}],"owner":{"account_id":8739147,"reputation":1298,"user_id":6536722,"display_name":"alcorn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1680387916,"answer_count":0,"score":1,"last_activity_date":1680330544,"creation_date":1680330544,"question_id":75904608,"body_markdown":"I&#39;m playing around with the stream interfaces discussed in [this blog post](https://www.lihaoyi.com/post/StandardizingIOInterfacesforScalaLibraries.html). I&#39;ve made what feels like a simple implementation to test out the interfaces, but it is hanging indefinitely when I run it and I&#39;m stumped as to why. Here&#39;s the code:\r\n\r\n```\r\nimport java.io.PipedOutputStream\r\nimport java.io.PipedInputStream\r\nimport java.io.InputStream\r\nimport java.io.OutputStream\r\nimport scala.concurrent.{Future, Promise, Await}\r\nimport scala.concurrent.ExecutionContext\r\nimport java.util.concurrent.Executors\r\nimport scala.concurrent.duration._\r\nimport scala.collection.immutable.ListMap\r\n\r\nimplicit val ec = ExecutionContext.fromExecutor(Executors.newFixedThreadPool(10))\r\n\r\ndef copy(input: InputStream, output: OutputStream): Unit = {\r\n  val buffer = new Array[Byte](1024)\r\n  var bytesRead = input.read(buffer)\r\n  while (bytesRead != -1) {\r\n    output.write(buffer, 0, bytesRead)\r\n    bytesRead = input.read(buffer)\r\n  }\r\n}\r\n\r\ndef curthread(label: String): Unit = println(label, Thread.currentThread().getName())\r\n\r\ntrait Writable{\r\n  def writeBytesTo(out: OutputStream): Unit\r\n}\r\n\r\ntrait Readable extends Writable{\r\n  def readBytesThrough[T](f: InputStream =&gt; T): T\r\n  def writeBytesTo(out: OutputStream): Unit = readBytesThrough(copy(_, out))\r\n}\r\n\r\ndef convertToUpperCase(input: InputStream, output: OutputStream): Unit = {\r\n  println(&quot;convertToUpperCase&quot;)\r\n  curthread(&quot;convertToUpperCase&quot;)\r\n  val buffer = new Array[Byte](1024) // buffer size\r\n  println(&quot;convertToUpperCase: input.read&quot;)\r\n  var bytesRead = input.read(buffer)\r\n\r\n  while (bytesRead != -1) {\r\n    println(s&quot;convertToUpperCase read $bytesRead&quot;)\r\n    val upperBuffer = buffer.map(_.toChar.toUpper.toByte)\r\n    println(&quot;convertToUpperCase: output.write&quot;)\r\n    output.write(upperBuffer, 0, bytesRead)\r\n    println(&quot;convertToUpperCase: input.read&quot;)\r\n    bytesRead = input.read(buffer)\r\n  }\r\n\r\n  input.close()\r\n  output.close()\r\n}\r\n\r\nclass Put extends Readable {\r\n  private val output = new PipedOutputStream\r\n\r\n  def readBytesThrough[T](f: InputStream =&gt; T): T = {\r\n    println(&quot;Put: readBytesThrough&quot;)\r\n    curthread(&quot;Put&quot;)\r\n    f(new PipedInputStream(output))\r\n  }\r\n  \r\n  def receive(x: Any): Unit = {\r\n    println(s&quot;Put: receive($x)&quot;)\r\n    curthread(&quot;Put&quot;)\r\n    output.write(x.toString.getBytes(&quot;utf-8&quot;))\r\n    println(&quot;done receiving&quot;)\r\n  }\r\n\r\n  def receivedLast(): Unit = {\r\n    println(&quot;Put: receivedLast&quot;)\r\n    curthread(&quot;Put&quot;)\r\n    output.close()\r\n  }\r\n}\r\n\r\ncase class Parsed(value: String) extends Writable {\r\n  def writeBytesTo(out: OutputStream): Unit = {\r\n    println(&quot;Parsed: writeBytesTo&quot;)\r\n    curthread(&quot;Parsed&quot;)\r\n    out.write(value.getBytes(&quot;utf-8&quot;))\r\n  }\r\n}\r\n\r\ndef uppercase(r: Readable): Readable = new Readable {\r\n  def readBytesThrough[T](f: InputStream =&gt; T): T = {\r\n    val output = new PipedOutputStream\r\n    Future {\r\n      r.readBytesThrough(input =&gt; {\r\n        convertToUpperCase(input, output)\r\n      })\r\n    }\r\n    f(new PipedInputStream(output))\r\n  }\r\n}\r\n\r\ndef parse(r: Readable): Writable = {\r\n  curthread(&quot;parse&quot;)\r\n  val x = r.readBytesThrough(scala.io.Source.fromInputStream(_).mkString)\r\n  Parsed(x)\r\n}\r\n\r\ndef display(w: Writable): Unit = {\r\n  curthread(&quot;display&quot;)\r\n  w.writeBytesTo(System.out)\r\n}\r\n\r\nval put = new Put\r\n\r\ncurthread(&quot;main&quot;)\r\n\r\nFuture {\r\n\tput.receive(&quot;foobarbaz&quot;)\r\n\tput.receivedLast()\r\n}\r\n\r\ndisplay(parse(uppercase(put)))\r\n```\r\n\r\nThis gives the output\r\n\r\n```\r\n(main,run-main-0)\r\nPut: receive(foobarbaz)\r\n(Put,pool-11-thread-1)\r\n(parse,run-main-0)\r\nPut: readBytesThrough\r\n(Put,pool-11-thread-2)\r\nconvertToUpperCase\r\n(convertToUpperCase,pool-11-thread-2)\r\nconvertToUpperCase: input.read\r\n```\r\n\r\nSo it appears that reads and writes to each end of the piped stream are happening on different threads as they should. Why then is it hanging at `convertToUpperCase`?\r\n\r\nScastie link: https://scastie.scala-lang.org/I9EIOs8NR2mBeLbcqDx2zA","title":"Why is this use of piped IO streams in Scala hanging indefinitely?","body":"<p>I'm playing around with the stream interfaces discussed in <a href=\"https://www.lihaoyi.com/post/StandardizingIOInterfacesforScalaLibraries.html\" rel=\"nofollow noreferrer\">this blog post</a>. I've made what feels like a simple implementation to test out the interfaces, but it is hanging indefinitely when I run it and I'm stumped as to why. Here's the code:</p>\n<pre><code>import java.io.PipedOutputStream\nimport java.io.PipedInputStream\nimport java.io.InputStream\nimport java.io.OutputStream\nimport scala.concurrent.{Future, Promise, Await}\nimport scala.concurrent.ExecutionContext\nimport java.util.concurrent.Executors\nimport scala.concurrent.duration._\nimport scala.collection.immutable.ListMap\n\nimplicit val ec = ExecutionContext.fromExecutor(Executors.newFixedThreadPool(10))\n\ndef copy(input: InputStream, output: OutputStream): Unit = {\n  val buffer = new Array[Byte](1024)\n  var bytesRead = input.read(buffer)\n  while (bytesRead != -1) {\n    output.write(buffer, 0, bytesRead)\n    bytesRead = input.read(buffer)\n  }\n}\n\ndef curthread(label: String): Unit = println(label, Thread.currentThread().getName())\n\ntrait Writable{\n  def writeBytesTo(out: OutputStream): Unit\n}\n\ntrait Readable extends Writable{\n  def readBytesThrough[T](f: InputStream =&gt; T): T\n  def writeBytesTo(out: OutputStream): Unit = readBytesThrough(copy(_, out))\n}\n\ndef convertToUpperCase(input: InputStream, output: OutputStream): Unit = {\n  println(&quot;convertToUpperCase&quot;)\n  curthread(&quot;convertToUpperCase&quot;)\n  val buffer = new Array[Byte](1024) // buffer size\n  println(&quot;convertToUpperCase: input.read&quot;)\n  var bytesRead = input.read(buffer)\n\n  while (bytesRead != -1) {\n    println(s&quot;convertToUpperCase read $bytesRead&quot;)\n    val upperBuffer = buffer.map(_.toChar.toUpper.toByte)\n    println(&quot;convertToUpperCase: output.write&quot;)\n    output.write(upperBuffer, 0, bytesRead)\n    println(&quot;convertToUpperCase: input.read&quot;)\n    bytesRead = input.read(buffer)\n  }\n\n  input.close()\n  output.close()\n}\n\nclass Put extends Readable {\n  private val output = new PipedOutputStream\n\n  def readBytesThrough[T](f: InputStream =&gt; T): T = {\n    println(&quot;Put: readBytesThrough&quot;)\n    curthread(&quot;Put&quot;)\n    f(new PipedInputStream(output))\n  }\n  \n  def receive(x: Any): Unit = {\n    println(s&quot;Put: receive($x)&quot;)\n    curthread(&quot;Put&quot;)\n    output.write(x.toString.getBytes(&quot;utf-8&quot;))\n    println(&quot;done receiving&quot;)\n  }\n\n  def receivedLast(): Unit = {\n    println(&quot;Put: receivedLast&quot;)\n    curthread(&quot;Put&quot;)\n    output.close()\n  }\n}\n\ncase class Parsed(value: String) extends Writable {\n  def writeBytesTo(out: OutputStream): Unit = {\n    println(&quot;Parsed: writeBytesTo&quot;)\n    curthread(&quot;Parsed&quot;)\n    out.write(value.getBytes(&quot;utf-8&quot;))\n  }\n}\n\ndef uppercase(r: Readable): Readable = new Readable {\n  def readBytesThrough[T](f: InputStream =&gt; T): T = {\n    val output = new PipedOutputStream\n    Future {\n      r.readBytesThrough(input =&gt; {\n        convertToUpperCase(input, output)\n      })\n    }\n    f(new PipedInputStream(output))\n  }\n}\n\ndef parse(r: Readable): Writable = {\n  curthread(&quot;parse&quot;)\n  val x = r.readBytesThrough(scala.io.Source.fromInputStream(_).mkString)\n  Parsed(x)\n}\n\ndef display(w: Writable): Unit = {\n  curthread(&quot;display&quot;)\n  w.writeBytesTo(System.out)\n}\n\nval put = new Put\n\ncurthread(&quot;main&quot;)\n\nFuture {\n    put.receive(&quot;foobarbaz&quot;)\n    put.receivedLast()\n}\n\ndisplay(parse(uppercase(put)))\n</code></pre>\n<p>This gives the output</p>\n<pre><code>(main,run-main-0)\nPut: receive(foobarbaz)\n(Put,pool-11-thread-1)\n(parse,run-main-0)\nPut: readBytesThrough\n(Put,pool-11-thread-2)\nconvertToUpperCase\n(convertToUpperCase,pool-11-thread-2)\nconvertToUpperCase: input.read\n</code></pre>\n<p>So it appears that reads and writes to each end of the piped stream are happening on different threads as they should. Why then is it hanging at <code>convertToUpperCase</code>?</p>\n<p>Scastie link: <a href=\"https://scastie.scala-lang.org/I9EIOs8NR2mBeLbcqDx2zA\" rel=\"nofollow noreferrer\">https://scastie.scala-lang.org/I9EIOs8NR2mBeLbcqDx2zA</a></p>\n"},{"tags":["java","multithreading"],"owner":{"account_id":15264878,"reputation":145,"user_id":15434658,"display_name":"Lex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680329319,"creation_date":1680329319,"question_id":75904545,"body_markdown":"I have a program that sums array elements array[], but I want to sum two dimensional array[][] how can I do it?\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.ForkJoinPool;\r\n    import java.util.concurrent.ForkJoinTask;\r\n    import java.util.concurrent.RecursiveTask;\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    \r\n    class ForkJoin extends RecursiveTask&lt;Integer&gt; {\r\n    \tprivate int[] arr;\r\n    \t\r\n    \tpublic ForkJoin(int[] arr) { \r\n    \t\tthis.arr = arr; \r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected Integer compute() {\r\n    \tif (arr.length &gt; 3) {\r\n    \t\treturn ForkJoinTask.invokeAll(createSubtasks()).stream().mapToInt(ForkJoinTask::join).sum();\r\n    \t} else { \r\n    \t\treturn processing(arr); \r\n    \t\t}\r\n    \t}\r\n    \tprivate Collection&lt;ForkJoin&gt; createSubtasks() {\r\n    \tList&lt;ForkJoin&gt; subTasks = new ArrayList&lt;&gt;();\r\n    \tsubTasks.add(new ForkJoin(Arrays.copyOfRange(arr, 0, arr.length / 2)));\r\n    \tsubTasks.add(new ForkJoin(Arrays.copyOfRange(arr, arr.length / 2, arr.length)));\r\n    \treturn subTasks;\r\n    \t}\r\n    \tprivate Integer processing(int[] arr) {\r\n    \tint result = Arrays.stream(arr).sum();\r\n    \tSystem.out.printf(&quot;Result: %s; Thread: %s %n&quot;, result, Thread.currentThread().getName());\r\n    \treturn result;\r\n    \t}\r\n    \r\n      \t\r\n      public ForkJoin() {\r\n    \t  ForkJoinPool commonPool = ForkJoinPool.commonPool();\r\n    \t  RecursiveTask&lt;Integer&gt; sumArrayTask = new ForkJoin(\r\n    \t\t\t  new int[] {0, 1, 2, 3, 4, 5, 6 ,7 ,8, 9, 10, 11, 12, 13, 14}\r\n          );\r\n    \t  commonPool.execute(sumArrayTask);\r\n    \t  try {\r\n    \t  System.out.printf(&quot;Result: %s %n&quot;, sumArrayTask.get());\r\n    \t  } catch (InterruptedException | ExecutionException ignored) { }\r\n    \t  commonPool.shutdownNow();\r\n      }\r\n    }\r\n\r\n\r\nI tried to loop, because I need arr[2][3];\r\n\r\n     for (int i = 0; i &lt; row; i++){\r\n    \t  RecursiveTask&lt;Integer&gt; sumArrayTask = new ForkJoin(\r\n    \t\t\t  new int[] {0, 1, 2, 3, 4, 5, 6 ,7 ,8, 9, 10, 11, 12, 13, 14}\r\n          );\r\n    \t  commonPool.execute(sumArrayTask);\r\n    }\r\n\r\nbut It doesnt work because it executes only once.\r\nDo I need to pass two dimensional array when I am creating subtasks and also change these methods?\r\n \r\n\r\n    subTasks.add(new ForkJoin(Arrays.copyOfRange(arr, 0, arr.length / 2)));\r\n    \tsubTasks.add(new ForkJoin(Arrays.copyOfRange(arr, arr.length / 2, arr.length)));\r\n\r\nor it will be easier to flat 2d array[][] into array[] and then use this method?","title":"fork join pool sum of two dimentional array","body":"<p>I have a program that sums array elements array[], but I want to sum two dimensional array[][] how can I do it?</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ForkJoinPool;\nimport java.util.concurrent.ForkJoinTask;\nimport java.util.concurrent.RecursiveTask;\nimport java.util.ArrayList;\nimport java.util.Collection;\n\nclass ForkJoin extends RecursiveTask&lt;Integer&gt; {\n    private int[] arr;\n    \n    public ForkJoin(int[] arr) { \n        this.arr = arr; \n    }\n    \n    @Override\n    protected Integer compute() {\n    if (arr.length &gt; 3) {\n        return ForkJoinTask.invokeAll(createSubtasks()).stream().mapToInt(ForkJoinTask::join).sum();\n    } else { \n        return processing(arr); \n        }\n    }\n    private Collection&lt;ForkJoin&gt; createSubtasks() {\n    List&lt;ForkJoin&gt; subTasks = new ArrayList&lt;&gt;();\n    subTasks.add(new ForkJoin(Arrays.copyOfRange(arr, 0, arr.length / 2)));\n    subTasks.add(new ForkJoin(Arrays.copyOfRange(arr, arr.length / 2, arr.length)));\n    return subTasks;\n    }\n    private Integer processing(int[] arr) {\n    int result = Arrays.stream(arr).sum();\n    System.out.printf(&quot;Result: %s; Thread: %s %n&quot;, result, Thread.currentThread().getName());\n    return result;\n    }\n\n    \n  public ForkJoin() {\n      ForkJoinPool commonPool = ForkJoinPool.commonPool();\n      RecursiveTask&lt;Integer&gt; sumArrayTask = new ForkJoin(\n              new int[] {0, 1, 2, 3, 4, 5, 6 ,7 ,8, 9, 10, 11, 12, 13, 14}\n      );\n      commonPool.execute(sumArrayTask);\n      try {\n      System.out.printf(&quot;Result: %s %n&quot;, sumArrayTask.get());\n      } catch (InterruptedException | ExecutionException ignored) { }\n      commonPool.shutdownNow();\n  }\n}\n</code></pre>\n<p>I tried to loop, because I need arr[2][3];</p>\n<pre><code> for (int i = 0; i &lt; row; i++){\n      RecursiveTask&lt;Integer&gt; sumArrayTask = new ForkJoin(\n              new int[] {0, 1, 2, 3, 4, 5, 6 ,7 ,8, 9, 10, 11, 12, 13, 14}\n      );\n      commonPool.execute(sumArrayTask);\n}\n</code></pre>\n<p>but It doesnt work because it executes only once.\nDo I need to pass two dimensional array when I am creating subtasks and also change these methods?</p>\n<pre><code>subTasks.add(new ForkJoin(Arrays.copyOfRange(arr, 0, arr.length / 2)));\n    subTasks.add(new ForkJoin(Arrays.copyOfRange(arr, arr.length / 2, arr.length)));\n</code></pre>\n<p>or it will be easier to flat 2d array[][] into array[] and then use this method?</p>\n"},{"tags":["java","java-time","date-parsing"],"answers":[{"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":2,"creation_date":1607616849,"post_id":65238160,"comment_id":115334646,"body_markdown":"`Locale.ENGLISH` is a spot on!","body":"<code>Locale.ENGLISH</code> is a spot on!"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1607617215,"post_id":65238160,"comment_id":115334853,"body_markdown":"I think `Locale.US` works as well. `Locale.ROOT`, interestingly, does not.","body":"I think <code>Locale.US</code> works as well. <code>Locale.ROOT</code>, interestingly, does not."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1607618507,"post_id":65238160,"comment_id":115335489,"body_markdown":"Interesting indeed, @MCEmperor, thanks. On my Java 11 `Locale.ROOT` produces and expects `Mar 26 2020`. Might seem like a bug to me, though there might be some reason that I can’t understand.","body":"Interesting indeed, @MCEmperor, thanks. On my Java 11 <code>Locale.ROOT</code> produces and expects <code>Mar 26 2020</code>. Might seem like a bug to me, though there might be some reason that I can’t understand."}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1607616581,"creation_date":1607616581,"answer_id":65238160,"question_id":65238108,"body_markdown":"Use the pattern, `MMMM dd uuuu` with `Locale.ENGLISH`.\r\n\r\n**Demo:**\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString strDate = &quot;March 26 2020&quot;;\r\n    \t\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;MMMM dd uuuu&quot;, Locale.ENGLISH);\r\n    \t\tLocalDate date = LocalDate.parse(strDate, dtf);\r\n    \t\tSystem.out.println(date);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    2020-03-26\r\n\r\n","title":"Parsing LocalDate in Java: What&#39;s the pattern for &quot;March 26 2020&quot;","body":"<p>Use the pattern, <code>MMMM dd uuuu</code> with <code>Locale.ENGLISH</code>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\nclass Main {\n    public static void main(String[] args) {\n        String strDate = &quot;March 26 2020&quot;;\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;MMMM dd uuuu&quot;, Locale.ENGLISH);\n        LocalDate date = LocalDate.parse(strDate, dtf);\n        System.out.println(date);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2020-03-26\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1607618683,"post_id":65238631,"comment_id":115335569,"body_markdown":"You do not need to specify the space between `MMMM` and `dd` or between `dd` and `yyyy` explicitly using `&#39; &#39;`. You can simply put the space without using single quotes.","body":"You do not need to specify the space between <code>MMMM</code> and <code>dd</code> or between <code>dd</code> and <code>yyyy</code> explicitly using <code>&#39; &#39;</code>. You can simply put the space without using single quotes."},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1607620840,"post_id":65238631,"comment_id":115336336,"body_markdown":"I&#39;ve seen sometimes it could make a difference","body":"I&#39;ve seen sometimes it could make a difference"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1607626174,"post_id":65238631,"comment_id":115338656,"body_markdown":"@MichaelGantman No, for a space never. Some do recommend the single quotes anyway, it’s probably a matter of taste.","body":"@MichaelGantman No, for a space never. Some do recommend the single quotes anyway, it’s probably a matter of taste."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1667636030,"post_id":65238631,"comment_id":131217249,"body_markdown":"It’s even in [the official documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html), @ArvindKumarAvinash: *… it is recommended to use single quotes around all characters that you want to output directly to ensure that future changes do not break your application.*","body":"It’s even in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">the official documentation</a>, @ArvindKumarAvinash: <i>… it is recommended to use single quotes around all characters that you want to output directly to ensure that future changes do not break your application.</i>"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1667641327,"post_id":65238631,"comment_id":131218062,"body_markdown":"Thanks, @OleV.V. for the valuable information. I&#39;m not sure whether they have assumed that space characters will always be parsed without quotes or whether the documentation needs to be updated. They say *Any non-letter character, other than &#39;[&#39;, &#39;]&#39;, &#39;{&#39;, &#39;}&#39;, &#39;#&#39; and the single quote will be output directly.*","body":"Thanks, @OleV.V. for the valuable information. I&#39;m not sure whether they have assumed that space characters will always be parsed without quotes or whether the documentation needs to be updated. They say <i>Any non-letter character, other than &#39;[&#39;, &#39;]&#39;, &#39;{&#39;, &#39;}&#39;, &#39;#&#39; and the single quote will be output directly.</i>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1667641490,"post_id":65238631,"comment_id":131218088,"body_markdown":"@ArvindKumarAvinash I am not sure either. And I most often do not follow this particular recommendation.","body":"@ArvindKumarAvinash I am not sure either. And I most often do not follow this particular recommendation."}],"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607618281,"creation_date":1607618281,"answer_id":65238631,"question_id":65238108,"body_markdown":"Try this \r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMMM&#39; &#39;dd&#39; &#39;yyyy&quot;, Locale.ENGLISH)\r\n\r\nWorked for me just fine, Output:\r\n\r\n    December 10 2020","title":"Parsing LocalDate in Java: What&#39;s the pattern for &quot;March 26 2020&quot;","body":"<p>Try this</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMMM' 'dd' 'yyyy&quot;, Locale.ENGLISH)\n</code></pre>\n<p>Worked for me just fine, Output:</p>\n<pre><code>December 10 2020\n</code></pre>\n"}],"owner":{"account_id":1828043,"reputation":1717,"user_id":1660256,"accept_rate":79,"display_name":"CNDyson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"accepted_answer_id":65238160,"answer_count":2,"score":-2,"last_activity_date":1680324670,"creation_date":1607616394,"question_id":65238108,"body_markdown":"I can&#39;t seem to come up with a pattern for &quot;March 26 2020&quot; (no comma). Can someone help? I&#39;ve tried `DateTimeFormatter.ofPattern(&quot;MMMM dd yyyy&quot;)` and `DateTimeFormatter.ofPattern(&quot;MMM dd yyyy&quot;)`.\r\n\r\nMinimal reproducible example:\r\n\r\n\t\tString strDate = &quot;March 26 2020&quot;;\r\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;MMMM dd uuuu&quot;);\r\n        LocalDate date = LocalDate.parse(strDate, dtf);\r\n        System.out.println(date);\r\n\r\nOn my computer this throws\r\n\r\n&gt; Exception in thread &quot;main&quot; java.time.format.DateTimeParseException:\r\n&gt; Text &#39;March 26 2020&#39; could not be parsed at index 0\r\n\r\nExpected output was\r\n\r\n&gt;     2020-03-26\r\n\r\nWith `MMM` in the format pattern instead the exception is the same.","title":"Parsing LocalDate in Java: What&#39;s the pattern for &quot;March 26 2020&quot;","body":"<p>I can't seem to come up with a pattern for &quot;March 26 2020&quot; (no comma). Can someone help? I've tried <code>DateTimeFormatter.ofPattern(&quot;MMMM dd yyyy&quot;)</code> and <code>DateTimeFormatter.ofPattern(&quot;MMM dd yyyy&quot;)</code>.</p>\n<p>Minimal reproducible example:</p>\n<pre><code>    String strDate = &quot;March 26 2020&quot;;\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;MMMM dd uuuu&quot;);\n    LocalDate date = LocalDate.parse(strDate, dtf);\n    System.out.println(date);\n</code></pre>\n<p>On my computer this throws</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.time.format.DateTimeParseException:\nText 'March 26 2020' could not be parsed at index 0</p>\n</blockquote>\n<p>Expected output was</p>\n<blockquote>\n<pre><code>2020-03-26\n</code></pre>\n</blockquote>\n<p>With <code>MMM</code> in the format pattern instead the exception is the same.</p>\n"},{"tags":["java","jsonpath","json-path-expression"],"answers":[{"tags":[],"owner":{"account_id":14235307,"reputation":1,"user_id":10283259,"display_name":"Gaoranger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680323454,"creation_date":1680323454,"answer_id":75904290,"question_id":75830685,"body_markdown":"It seems like the new update removed the try/catch statement to check the SUPPRESS_EXCEPTION option.\r\nSo you can use the try/catch to check it by itself. like this one: \r\n\r\n    try {\r\n      JsonPath.using(Configuration.builder()\r\n              .options(Option.SUPPRESS_EXCEPTIONS).build())\r\n          .parse(node.toString())\r\n          .read(&quot;$.test[?(@ != null)]&quot;);\r\n    } catch (JsonPathException ex) {\r\n      if (is suppress exception) {\r\n        return &#39;default value&#39;;\r\n      } \r\n      throw  ex;\r\n    }","title":"Option.SUPRESS_EXCEPTION Is not working - JsonPath 2.7.0 (or higher version)","body":"<p>It seems like the new update removed the try/catch statement to check the SUPPRESS_EXCEPTION option.\nSo you can use the try/catch to check it by itself. like this one:</p>\n<pre><code>try {\n  JsonPath.using(Configuration.builder()\n          .options(Option.SUPPRESS_EXCEPTIONS).build())\n      .parse(node.toString())\n      .read(&quot;$.test[?(@ != null)]&quot;);\n} catch (JsonPathException ex) {\n  if (is suppress exception) {\n    return 'default value';\n  } \n  throw  ex;\n}\n</code></pre>\n"}],"owner":{"account_id":17351024,"reputation":3,"user_id":12569499,"display_name":"Ms Windows"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680323454,"creation_date":1679640166,"question_id":75830685,"body_markdown":"I&#39;m trying to suppress all the exceptions when evaluating a JSON path. but when I upgrade the JSON path lib to 2.7, it seems like it is not working as expected. For example:\r\n\r\n```java\r\nvar node = objectMapper.readTree(&quot;{\\&quot;test\\&quot; :  null}&quot;);\r\n\r\n    JsonPath.using(Configuration.builder()\r\n        .options(Option.SUPPRESS_EXCEPTIONS).build())\r\n        .parse(node.toString())\r\n        .read(&quot;$.test[?(@ != null)]&quot;);\r\n```\r\nwe got an exception thrown.\r\n\r\n```java\r\nFilter: [?] can not be applied to primitives. Current context is: null\r\ncom.jayway.jsonpath.InvalidPathException: Filter: [?] can not be applied to primitives. Current context is: null\r\n```\r\n---\r\n\r\nrelated issue : https://github.com/json-path/JsonPath/issues/908","title":"Option.SUPRESS_EXCEPTION Is not working - JsonPath 2.7.0 (or higher version)","body":"<p>I'm trying to suppress all the exceptions when evaluating a JSON path. but when I upgrade the JSON path lib to 2.7, it seems like it is not working as expected. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var node = objectMapper.readTree(&quot;{\\&quot;test\\&quot; :  null}&quot;);\n\n    JsonPath.using(Configuration.builder()\n        .options(Option.SUPPRESS_EXCEPTIONS).build())\n        .parse(node.toString())\n        .read(&quot;$.test[?(@ != null)]&quot;);\n</code></pre>\n<p>we got an exception thrown.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Filter: [?] can not be applied to primitives. Current context is: null\ncom.jayway.jsonpath.InvalidPathException: Filter: [?] can not be applied to primitives. Current context is: null\n</code></pre>\n<hr />\n<p>related issue : <a href=\"https://github.com/json-path/JsonPath/issues/908\" rel=\"nofollow noreferrer\">https://github.com/json-path/JsonPath/issues/908</a></p>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":2467399,"reputation":2927,"user_id":2290950,"accept_rate":100,"display_name":"Viktor Yakunin"},"score":0,"creation_date":1549232248,"post_id":54508068,"comment_id":95819890,"body_markdown":"What is your question? Nesting is bad, try to avoid too many levels - that&#39;s the common sense, there are a lot of tools to profile layout performance, so you can check each case.","body":"What is your question? Nesting is bad, try to avoid too many levels - that&#39;s the common sense, there are a lot of tools to profile layout performance, so you can check each case."},{"owner":{"account_id":15093010,"reputation":129,"user_id":10892300,"display_name":"Gamericious Blog"},"score":0,"creation_date":1549233946,"post_id":54508068,"comment_id":95820233,"body_markdown":"@ViktorYakunin but for my case, to group views can i use a linearlayout inside a constraint?","body":"@ViktorYakunin but for my case, to group views can i use a linearlayout inside a constraint?"},{"owner":{"account_id":8953873,"reputation":17307,"user_id":6678991,"accept_rate":75,"display_name":"Mahdi-Malv"},"score":0,"creation_date":1549260515,"post_id":54508068,"comment_id":95824968,"body_markdown":"According to what you mentioned, one of the roots is useless. You don&#39;t need both.","body":"According to what you mentioned, one of the roots is useless. You don&#39;t need both."},{"owner":{"account_id":2467399,"reputation":2927,"user_id":2290950,"accept_rate":100,"display_name":"Viktor Yakunin"},"score":0,"creation_date":1549275598,"post_id":54508068,"comment_id":95831107,"body_markdown":"@GamericiousBlog show full layout file, so that would be clear, currently it&#39;s not - what is linearEndMark ?","body":"@GamericiousBlog show full layout file, so that would be clear, currently it&#39;s not - what is linearEndMark ?"},{"owner":{"account_id":15093010,"reputation":129,"user_id":10892300,"display_name":"Gamericious Blog"},"score":0,"creation_date":1549282143,"post_id":54508068,"comment_id":95834420,"body_markdown":"@ViktorYakunin another linearlayout which also contains a textview and edittext.","body":"@ViktorYakunin another linearlayout which also contains a textview and edittext."},{"owner":{"account_id":15093010,"reputation":129,"user_id":10892300,"display_name":"Gamericious Blog"},"score":0,"creation_date":1549282530,"post_id":54508068,"comment_id":95834632,"body_markdown":"@ViktorYakunin what i want to know if it can worsen performance if i have 2 linearlayouts as child layouts which i use to group the views textview and edittext and then position those 2 linearlayouts with constraints so i  still dont understand why layout nesting is bad.","body":"@ViktorYakunin what i want to know if it can worsen performance if i have 2 linearlayouts as child layouts which i use to group the views textview and edittext and then position those 2 linearlayouts with constraints so i  still dont understand why layout nesting is bad."},{"owner":{"account_id":15093010,"reputation":129,"user_id":10892300,"display_name":"Gamericious Blog"},"score":0,"creation_date":1549283011,"post_id":54508068,"comment_id":95834872,"body_markdown":"@ViktorYakunin i edited my post.","body":"@ViktorYakunin i edited my post."},{"owner":{"account_id":2467399,"reputation":2927,"user_id":2290950,"accept_rate":100,"display_name":"Viktor Yakunin"},"score":0,"creation_date":1549292037,"post_id":54508068,"comment_id":95840247,"body_markdown":"Nesting is bad, to understand why you need to know how layout works, it tries to get size of each view, so to get size of linear layout system tries to get required sizes of two child views, after that it tries to get actual sizes of views basing on parents size. More nesting - more passes for layout. ConstraintLayout was designed to solve this problem - one level, easier to compose different views inside the parent.","body":"Nesting is bad, to understand why you need to know how layout works, it tries to get size of each view, so to get size of linear layout system tries to get required sizes of two child views, after that it tries to get actual sizes of views basing on parents size. More nesting - more passes for layout. ConstraintLayout was designed to solve this problem - one level, easier to compose different views inside the parent."},{"owner":{"account_id":2467399,"reputation":2927,"user_id":2290950,"accept_rate":100,"display_name":"Viktor Yakunin"},"score":0,"creation_date":1549292481,"post_id":54508068,"comment_id":95840549,"body_markdown":"In your case - you use linear layouts because you don&#39;t understand how it should be done in one constraint.","body":"In your case - you use linear layouts because you don&#39;t understand how it should be done in one constraint."},{"owner":{"account_id":15093010,"reputation":129,"user_id":10892300,"display_name":"Gamericious Blog"},"score":0,"creation_date":1549478191,"post_id":54508068,"comment_id":95919935,"body_markdown":"@ViktorYakunin so you&#39;re saying i should remove those  2 linearlayouts and use constraints on each view separately?","body":"@ViktorYakunin so you&#39;re saying i should remove those  2 linearlayouts and use constraints on each view separately?"}],"answers":[{"comments":[{"owner":{"account_id":15093010,"reputation":129,"user_id":10892300,"display_name":"Gamericious Blog"},"score":0,"creation_date":1549282425,"post_id":54508786,"comment_id":95834573,"body_markdown":"So for my situation it&#39;s okay to have a constraintlayout with 2 linearlayouts as childlayouts to group views? which makes it easier to position i thought but some say layout nesting is bad ?","body":"So for my situation it&#39;s okay to have a constraintlayout with 2 linearlayouts as childlayouts to group views? which makes it easier to position i thought but some say layout nesting is bad ?"},{"owner":{"account_id":9037505,"reputation":102,"user_id":8505712,"display_name":"Henrique Becker"},"score":0,"creation_date":1549283106,"post_id":54508786,"comment_id":95834930,"body_markdown":"Your solution is acceptable, you can use it and don&#39;t will have problems, it&#39;s only a little bad in performance terms, but in modern smartphones it has not a big impact for the user experience.","body":"Your solution is acceptable, you can use it and don&#39;t will have problems, it&#39;s only a little bad in performance terms, but in modern smartphones it has not a big impact for the user experience."}],"tags":[],"owner":{"account_id":9037505,"reputation":102,"user_id":8505712,"display_name":"Henrique Becker"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1549238297,"creation_date":1549238297,"answer_id":54508786,"question_id":54508068,"body_markdown":"For performance nested components/containers are better, but in some complex layouts they can make the code easy to understand and help to encapsulate code parts in separate reusable files.","title":"Is it bad using linear/relative layouts inside a constraint layout?","body":"<p>For performance nested components/containers are better, but in some complex layouts they can make the code easy to understand and help to encapsulate code parts in separate reusable files.</p>\n"},{"tags":[],"owner":{"account_id":9523455,"reputation":83,"user_id":7077499,"display_name":"Funrab"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680183724,"creation_date":1680183724,"answer_id":75889047,"question_id":54508068,"body_markdown":"As others have written above, nested containers degrade performance, but that doesn&#39;t mean that using them inside ConstraintLayout is bad practice. Of course, it is better to use the tools that ConstraintLayout provides, but you don&#39;t have to. And the official documentation makes no such requirement.\r\n\r\nIt depends on what you want to use the containers inside ConstraintLayout for. If it makes your code easier to understand and the nesting isn&#39;t very deep, why not?","title":"Is it bad using linear/relative layouts inside a constraint layout?","body":"<p>As others have written above, nested containers degrade performance, but that doesn't mean that using them inside ConstraintLayout is bad practice. Of course, it is better to use the tools that ConstraintLayout provides, but you don't have to. And the official documentation makes no such requirement.</p>\n<p>It depends on what you want to use the containers inside ConstraintLayout for. If it makes your code easier to understand and the nesting isn't very deep, why not?</p>\n"},{"tags":[],"owner":{"account_id":3016379,"reputation":5038,"user_id":2558442,"display_name":"hoford"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680323079,"creation_date":1680323079,"answer_id":75904273,"question_id":54508068,"body_markdown":"The &quot;nested layouts is bad&quot; was said in relation to deep nesting. Look at your typical modern web page you will find 10-20 layer deep nesting. If you took that style of layout to Views it will hurt performance. If you are 4-5 layers deep. It is probably fine in all but the most demanding needs.\r\n\r\nThere is a very small overhead associated with each layer but that overhead grows on the order of 2^n for n layers. So at 4-5 it is 16x to 32x but at 10-20 it is 1024x to 1048576x. \r\n\r\nEven a very small overhead becomes a problem when you need to do it a million times.\r\n\r\nI am simplifying for illustration (It is a lot more complex)","title":"Is it bad using linear/relative layouts inside a constraint layout?","body":"<p>The &quot;nested layouts is bad&quot; was said in relation to deep nesting. Look at your typical modern web page you will find 10-20 layer deep nesting. If you took that style of layout to Views it will hurt performance. If you are 4-5 layers deep. It is probably fine in all but the most demanding needs.</p>\n<p>There is a very small overhead associated with each layer but that overhead grows on the order of 2^n for n layers. So at 4-5 it is 16x to 32x but at 10-20 it is 1024x to 1048576x.</p>\n<p>Even a very small overhead becomes a problem when you need to do it a million times.</p>\n<p>I am simplifying for illustration (It is a lot more complex)</p>\n"}],"owner":{"account_id":15093010,"reputation":129,"user_id":10892300,"display_name":"Gamericious Blog"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2812,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54508786,"answer_count":3,"score":2,"last_activity_date":1680323079,"creation_date":1549231669,"question_id":54508068,"body_markdown":"I read something about layout nesting which some say is a bad practice but i have a xml layout where it makes me easier to group views with a linear layout and then constraint them too each other.\r\n\r\n    &lt;android.support.constraint.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/linearMarkStart&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toStartOf=&quot;@id/linearEndMark&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/mark_start&quot;\r\n                    android:text=&quot;@string/start_label&quot;\r\n                    android:textColor=&quot;#ffffffff&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:labelFor=&quot;@+id/starttext&quot;\r\n                    android:clickable=&quot;true&quot;\r\n                    android:focusable=&quot;true&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;31dip&quot;/&gt;\r\n\r\n                &lt;EditText\r\n                    android:id=&quot;@+id/starttext&quot;\r\n                    android:textSize=&quot;16sp&quot;\r\n                    android:textColor=&quot;@color/white&quot;\r\n                    android:inputType=&quot;number|numberDecimal&quot;\r\n                    android:layout_marginStart=&quot;10dip&quot;\r\n                    android:layout_marginEnd=&quot;30dip&quot;\r\n                    android:layout_width=&quot;70dip&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:gravity=&quot;center&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/linearEndMark&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@id/linearMarkStart&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/mark_end&quot;\r\n                    android:text=&quot;@string/end_label&quot;\r\n                    android:textColor=&quot;#ffffffff&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:labelFor=&quot;@+id/endtext&quot;\r\n                    android:clickable=&quot;true&quot;\r\n                    android:focusable=&quot;true&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;31dip&quot; /&gt;\r\n\r\n                &lt;EditText\r\n                    android:id=&quot;@+id/endtext&quot;\r\n                    android:textSize=&quot;16sp&quot;\r\n                    android:textColor=&quot;@color/white&quot;\r\n                    android:inputType=&quot;number|numberDecimal&quot;\r\n                    android:layout_width=&quot;70dip&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginStart=&quot;10dip&quot;\r\n                    /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n    &lt;/ConstraintLayout&gt;\r\n\r\nWhat i have as output now by using 2 linearlayouts as childlayouts in constraintlayout and how i can achieve the same without those 2 linearlayouts because layout nesting is bad so it seems? \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1DeJ2.png","title":"Is it bad using linear/relative layouts inside a constraint layout?","body":"<p>I read something about layout nesting which some say is a bad practice but i have a xml layout where it makes me easier to group views with a linear layout and then constraint them too each other.</p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n        &lt;LinearLayout\n            android:id=\"@+id/linearMarkStart\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toStartOf=\"@id/linearEndMark\"&gt;\n\n            &lt;TextView\n                android:id=\"@+id/mark_start\"\n                android:text=\"@string/start_label\"\n                android:textColor=\"#ffffffff\"\n                android:textSize=\"14sp\"\n                android:textStyle=\"bold\"\n                android:labelFor=\"@+id/starttext\"\n                android:clickable=\"true\"\n                android:focusable=\"true\"\n                android:gravity=\"center\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"31dip\"/&gt;\n\n            &lt;EditText\n                android:id=\"@+id/starttext\"\n                android:textSize=\"16sp\"\n                android:textColor=\"@color/white\"\n                android:inputType=\"number|numberDecimal\"\n                android:layout_marginStart=\"10dip\"\n                android:layout_marginEnd=\"30dip\"\n                android:layout_width=\"70dip\"\n                android:layout_height=\"wrap_content\"\n                android:gravity=\"center\" /&gt;\n        &lt;/LinearLayout&gt;\n\n        &lt;LinearLayout\n            android:id=\"@+id/linearEndMark\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toEndOf=\"@id/linearMarkStart\"&gt;\n\n            &lt;TextView\n                android:id=\"@+id/mark_end\"\n                android:text=\"@string/end_label\"\n                android:textColor=\"#ffffffff\"\n                android:textSize=\"14sp\"\n                android:textStyle=\"bold\"\n                android:labelFor=\"@+id/endtext\"\n                android:clickable=\"true\"\n                android:focusable=\"true\"\n                android:gravity=\"center\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"31dip\" /&gt;\n\n            &lt;EditText\n                android:id=\"@+id/endtext\"\n                android:textSize=\"16sp\"\n                android:textColor=\"@color/white\"\n                android:inputType=\"number|numberDecimal\"\n                android:layout_width=\"70dip\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginStart=\"10dip\"\n                /&gt;\n\n        &lt;/LinearLayout&gt;\n&lt;/ConstraintLayout&gt;\n</code></pre>\n\n<p>What i have as output now by using 2 linearlayouts as childlayouts in constraintlayout and how i can achieve the same without those 2 linearlayouts because layout nesting is bad so it seems? \n<a href=\"https://i.stack.imgur.com/1DeJ2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1DeJ2.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1680304660,"post_id":75902833,"comment_id":133881662,"body_markdown":"the error message posted and the dependency from the pom.xml does not match each other. You are getting the error because you have spring-data or spring-jpa or some other database related dependency in the pom, and when it starts up it is looking for a database to to connect to, and you havnt configured where the database is (url). Please post your FULL pom.xml","body":"the error message posted and the dependency from the pom.xml does not match each other. You are getting the error because you have spring-data or spring-jpa or some other database related dependency in the pom, and when it starts up it is looking for a database to to connect to, and you havnt configured where the database is (url). Please post your FULL pom.xml"},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1680312887,"post_id":75902833,"comment_id":133882325,"body_markdown":"@Toerktumlare Added pom.xml and application.properties to the question. I don&#39;t think the database configuration is the problem because before adding the mentioned dependency, the api could successfully connect to the db and execute all CRUD operations. The error really started to happen just when &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt; was added to pom.xml. That is really the only single difference from the when everything was working fine including db connection and CRUD operations.","body":"@Toerktumlare Added pom.xml and application.properties to the question. I don&#39;t think the database configuration is the problem because before adding the mentioned dependency, the api could successfully connect to the db and execute all CRUD operations. The error really started to happen just when &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt; was added to pom.xml. That is really the only single difference from the when everything was working fine including db connection and CRUD operations."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1680336703,"post_id":75902833,"comment_id":133884198,"body_markdown":"Why are you not using the spring security starter dependency?","body":"Why are you not using the spring security starter dependency?"},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1680346355,"post_id":75902833,"comment_id":133885239,"body_markdown":"@Toerktumlare Should I? As I understand, for what I need to do, the only spring security dependencies I should need should be spring-security-config and spring-security-web. I posted an answer for my own question. See below. That happens when I have these two dependencies I mentioned in pom.xml.","body":"@Toerktumlare Should I? As I understand, for what I need to do, the only spring security dependencies I should need should be spring-security-config and spring-security-web. I posted an answer for my own question. See below. That happens when I have these two dependencies I mentioned in pom.xml."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1680348268,"post_id":75902833,"comment_id":133885434,"body_markdown":"since you are not using the recommended way of including things, its impossible to tell, this most likely has to do with versions or spring autoconfiguration not loading properly when you do unorthodox things see this answer https://stackoverflow.com/a/66193743/1840146 if you dont go the recommended route, you can expect undefined behavior.","body":"since you are not using the recommended way of including things, its impossible to tell, this most likely has to do with versions or spring autoconfiguration not loading properly when you do unorthodox things see this answer <a href=\"https://stackoverflow.com/a/66193743/1840146\">stackoverflow.com/a/66193743/1840146</a> if you dont go the recommended route, you can expect undefined behavior."},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1680526630,"post_id":75902833,"comment_id":133908360,"body_markdown":"when you say I&#39;m not using the recommended way, what would be the recommended way? Thought this was the way to do it. But if not, would be glad to change to what it should be. Thanks.","body":"when you say I&#39;m not using the recommended way, what would be the recommended way? Thought this was the way to do it. But if not, would be glad to change to what it should be. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680322913,"creation_date":1680322913,"answer_id":75904263,"question_id":75902833,"body_markdown":"I found a solution for the question I posted although I&#39;m not yet satisfied with it cause it has a strange behaviour.\r\n\r\nThe solution is to change:\r\n```\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n```\r\n\r\nto:\r\n```\r\nspring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\r\n```\r\n\r\nWhen that is done, the application runs fine.\r\n\r\nThe strange part is that if I right click the project name in Spring Tool Suite (Eclipse) &gt; Maven &gt; Update Project, to update maven dependencies, the solution stops working. And no changes at all were made either on the code or in pom.xml. Then I change it back to:\r\n\r\n```\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n```\r\nand starts working again!\r\n\r\nAnd if I do another maven update, it stops working again and need to change once more to the previous version of the property.\r\n\r\nMakes no sense.\r\nIt works just if I don&#39;t do a maven update. Whenever I do a maven update I need to change to the other version of the property.\r\n\r\nSo, sometimes one version of the property is the one that works, sometimes is the other.\r\n\r\nReally strange.","title":"Failed to configure a DataSource: &#39;url&#39; attribute is not specified -&gt; Pom.xml spring-security-web","body":"<p>I found a solution for the question I posted although I'm not yet satisfied with it cause it has a strange behaviour.</p>\n<p>The solution is to change:</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n<p>to:</p>\n<pre><code>spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\n</code></pre>\n<p>When that is done, the application runs fine.</p>\n<p>The strange part is that if I right click the project name in Spring Tool Suite (Eclipse) &gt; Maven &gt; Update Project, to update maven dependencies, the solution stops working. And no changes at all were made either on the code or in pom.xml. Then I change it back to:</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n<p>and starts working again!</p>\n<p>And if I do another maven update, it stops working again and need to change once more to the previous version of the property.</p>\n<p>Makes no sense.\nIt works just if I don't do a maven update. Whenever I do a maven update I need to change to the other version of the property.</p>\n<p>So, sometimes one version of the property is the one that works, sometimes is the other.</p>\n<p>Really strange.</p>\n"}],"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":433,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680322913,"creation_date":1680297753,"question_id":75902833,"body_markdown":"I have an Java Spring Boot Rest API application that works fine.\r\n\r\nBut when I add this dependency to pom.xml:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI start getting the following error:\r\n\r\n```\r\n2023-03-31 18:11:34.768[0;39m [32m INFO[0;39m [35m1612[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 2437 ms\r\n[2m2023-03-31 18:11:34.872[0;39m [33m WARN[0;39m [35m1612[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mConfigServletWebServerApplicationContext[0;39m [2m:[0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n[2m2023-03-31 18:11:34.875[0;39m [32m INFO[0;39m [35m1612[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.a.c.c.StandardService                 [0;39m [2m:[0;39m Stopping service [Tomcat]\r\n[2m2023-03-31 18:11:34.896[0;39m [32m INFO[0;39m [35m1612[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mConditionEvaluationReportLoggingListener[0;39m [2m:[0;39m \r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n[2m2023-03-31 18:11:34.924[0;39m [31mERROR[0;39m [35m1612[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.d.LoggingFailureAnalysisReporter  [0;39m [2m:[0;39m \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n\r\nAction:\r\n\r\nConsider the following:\r\n\tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n\tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\r\n```\r\n\r\nI know there are other posts here in StackOverflow about this error.\r\n\r\nBut couldn&#39;t find one with a solution for this specific cause I&#39;m reporting here.\r\n\r\nThanks.\r\n\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.mycomp.myappapi&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;myappapi&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;myappapi&lt;/name&gt;\r\n\t&lt;description&gt;My app&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;org.mapstruct.version&gt;1.5.2.Final&lt;/org.mapstruct.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.25&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;de.huxhorn.sulky&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;de.huxhorn.sulky.ulid&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;!--&lt;version&gt;3.8.1&lt;/version&gt;--&gt;\r\n\t\t\t\t&lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;11&lt;/source&gt; &lt;!-- depending on your project --&gt;\r\n\t\t\t\t\t&lt;target&gt;11&lt;/target&gt; &lt;!-- depending on your project --&gt;\r\n\t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t\t&lt;!-- other annotation processors --&gt;\r\n\t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t\t\t&lt;compilerArgs&gt;\r\n\t\t\t\t\t\t&lt;compilerArg&gt;-Amapstruct.defaultComponentModel=spring&lt;/compilerArg&gt;\r\n\t\t\t\t\t&lt;/compilerArgs&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\napplication.properties\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/mydb\r\nspring.datasource.username=xxx\r\nspring.datasource.password=xxx\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults = false\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\r\nserver.servlet.context-path=/xxx\r\nspring.jpa.generate-ddl=true\r\n\r\n#hikari\r\nspring.datasource.hikari.connection-timeout = 20000 \r\nspring.datasource.hikari.minimum-idle= 10\r\nspring.datasource.hikari.maximum-pool-size= 40\r\nspring.datasource.hikari.idle-timeout=10000 \r\nspring.datasource.hikari.auto-commit =true\r\n\r\nserver.error.include-stacktrace=never\r\n\r\n```\r\n\r\n","title":"Failed to configure a DataSource: &#39;url&#39; attribute is not specified -&gt; Pom.xml spring-security-web","body":"<p>I have an Java Spring Boot Rest API application that works fine.</p>\n<p>But when I add this dependency to pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I start getting the following error:</p>\n<pre><code>2023-03-31 18:11:34.768[0;39m [32m INFO[0;39m [35m1612[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 2437 ms\n[2m2023-03-31 18:11:34.872[0;39m [33m WARN[0;39m [35m1612[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mConfigServletWebServerApplicationContext[0;39m [2m:[0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n[2m2023-03-31 18:11:34.875[0;39m [32m INFO[0;39m [35m1612[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.a.c.c.StandardService                 [0;39m [2m:[0;39m Stopping service [Tomcat]\n[2m2023-03-31 18:11:34.896[0;39m [32m INFO[0;39m [35m1612[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mConditionEvaluationReportLoggingListener[0;39m [2m:[0;39m \nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n[2m2023-03-31 18:11:34.924[0;39m [31mERROR[0;39m [35m1612[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.d.LoggingFailureAnalysisReporter  [0;39m [2m:[0;39m \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\nAction:\n\nConsider the following:\n    If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n    If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\n</code></pre>\n<p>I know there are other posts here in StackOverflow about this error.</p>\n<p>But couldn't find one with a solution for this specific cause I'm reporting here.</p>\n<p>Thanks.</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.mycomp.myappapi&lt;/groupId&gt;\n    &lt;artifactId&gt;myappapi&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;myappapi&lt;/name&gt;\n    &lt;description&gt;My app&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;org.mapstruct.version&gt;1.5.2.Final&lt;/org.mapstruct.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.25&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.huxhorn.sulky&lt;/groupId&gt;\n            &lt;artifactId&gt;de.huxhorn.sulky.ulid&lt;/artifactId&gt;\n            &lt;version&gt;8.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;!--&lt;version&gt;3.8.1&lt;/version&gt;--&gt;\n                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt; &lt;!-- depending on your project --&gt;\n                    &lt;target&gt;11&lt;/target&gt; &lt;!-- depending on your project --&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;!-- other annotation processors --&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;compilerArg&gt;-Amapstruct.defaultComponentModel=spring&lt;/compilerArg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/mydb\nspring.datasource.username=xxx\nspring.datasource.password=xxx\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults = false\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\nserver.servlet.context-path=/xxx\nspring.jpa.generate-ddl=true\n\n#hikari\nspring.datasource.hikari.connection-timeout = 20000 \nspring.datasource.hikari.minimum-idle= 10\nspring.datasource.hikari.maximum-pool-size= 40\nspring.datasource.hikari.idle-timeout=10000 \nspring.datasource.hikari.auto-commit =true\n\nserver.error.include-stacktrace=never\n\n</code></pre>\n"},{"tags":["javascript","java","spring","spring-boot","webjars"],"answers":[{"comments":[{"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"score":0,"creation_date":1516626180,"post_id":48380236,"comment_id":83751126,"body_markdown":"Yeah,. Adding `dist`  folder was 3rd change I suggested.","body":"Yeah,. Adding <code>dist</code>  folder was 3rd change I suggested."},{"owner":{"account_id":6481695,"reputation":1819,"user_id":5018474,"accept_rate":71,"display_name":"Droide"},"score":0,"creation_date":1516626225,"post_id":48380236,"comment_id":83751152,"body_markdown":"Yes yes, I saw it... But if add dist to include fornt-awesome it doesn&#39;t work... Why?","body":"Yes yes, I saw it... But if add dist to include fornt-awesome it doesn&#39;t work... Why?"},{"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"score":0,"creation_date":1516626232,"post_id":48380236,"comment_id":83751157,"body_markdown":"For fon&#39;t awesome, I suggest to do same thing I did, load the webjar dependency to your workspace and inspect the path of that dependency.","body":"For fon&#39;t awesome, I suggest to do same thing I did, load the webjar dependency to your workspace and inspect the path of that dependency."},{"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"score":0,"creation_date":1516626279,"post_id":48380236,"comment_id":83751195,"body_markdown":"Font awesome wasn&#39;t part of this question. Can you update it which artifact you use?","body":"Font awesome wasn&#39;t part of this question. Can you update it which artifact you use?"}],"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1516627388,"creation_date":1516619505,"answer_id":48380236,"question_id":48380145,"body_markdown":"When I loaded that library into my workspace, it indicates this path: `META-INF/resources/webjars/popper.js/1.13.0/dist`. So try it: \r\n\r\n 1. without `/npm` in path \r\n 2. with version number\r\n 3. with `dist` folder\r\n\r\n\r\n        &lt;script th:src=&quot;@{/webjars/popper.js/1.13.0/dist/popper.min.js}&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n\r\n\r\n**EDIT: (Reaction on comment)**\r\n\r\nFont awesome JAR has a lot of different folders in WebJAR distribution. Look at my IJ screenshot:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo for highlighted file in screenshot, you would use\r\n\r\n     &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/font-awesome/5.0.2/svg-with-js/css/fa-svg-with-js.css}&quot; /&gt;\r\n\r\nHope that after whowing the screenshot you understand how these webjar folders work. WebJAR just adds bunch of UI resources to your WEB-INF/resources folder and you need to figure out correct path from your workspace.\r\n\r\n  [1]: https://i.stack.imgur.com/JXZ54.png","title":"How can I correct include path for webjars?","body":"<p>When I loaded that library into my workspace, it indicates this path: <code>META-INF/resources/webjars/popper.js/1.13.0/dist</code>. So try it: </p>\n\n<ol>\n<li>without <code>/npm</code> in path </li>\n<li>with version number</li>\n<li><p>with <code>dist</code> folder</p>\n\n<pre><code>&lt;script th:src=\"@{/webjars/popper.js/1.13.0/dist/popper.min.js}\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre></li>\n</ol>\n\n<p><strong>EDIT: (Reaction on comment)</strong></p>\n\n<p>Font awesome JAR has a lot of different folders in WebJAR distribution. Look at my IJ screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/JXZ54.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JXZ54.png\" alt=\"enter image description here\"></a></p>\n\n<p>So for highlighted file in screenshot, you would use</p>\n\n<pre><code> &lt;link rel=\"stylesheet\" th:href=\"@{/webjars/font-awesome/5.0.2/svg-with-js/css/fa-svg-with-js.css}\" /&gt;\n</code></pre>\n\n<p>Hope that after whowing the screenshot you understand how these webjar folders work. WebJAR just adds bunch of UI resources to your WEB-INF/resources folder and you need to figure out correct path from your workspace.</p>\n"},{"tags":[],"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680322336,"creation_date":1680322336,"answer_id":75904231,"question_id":48380145,"body_markdown":"In case of eclipse / sts i added dependency like following in pom.xml\r\n\r\n\t\t&lt;!-- bootstrap and jquery --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n             &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n             &lt;artifactId&gt;jquery&lt;/artifactId&gt;\r\n             &lt;version&gt;3.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;popper.js&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        \r\n\r\nand then in html template i added url by going through maven dependency file structure inside \r\n\r\npopper.js-2.0.2.jar-&gt;META-INF-&gt;resources-&gt;webjars-&gt;popper.js-&gt;2.0.2-&gt;umd-&gt;popper.js\r\n\r\nso path i have added as following\r\n\r\n\t&lt;script src=&quot;webjars/popper.js/2.0.2/umd/popper.js&quot;&gt;&lt;/script&gt;\r\n\r\nsimilarly we can add proper path for webjar dependency following is screenshot [![screenshot][1]][1] for reference\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JR5Nf.png","title":"How can I correct include path for webjars?","body":"<p>In case of eclipse / sts i added dependency like following in pom.xml</p>\n<pre><code>    &lt;!-- bootstrap and jquery --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n        &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n        &lt;version&gt;3.3.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n         &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n         &lt;artifactId&gt;jquery&lt;/artifactId&gt;\n         &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n        &lt;artifactId&gt;popper.js&lt;/artifactId&gt;\n        &lt;version&gt;2.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n</code></pre>\n<p>and then in html template i added url by going through maven dependency file structure inside</p>\n<p>popper.js-2.0.2.jar-&gt;META-INF-&gt;resources-&gt;webjars-&gt;popper.js-&gt;2.0.2-&gt;umd-&gt;popper.js</p>\n<p>so path i have added as following</p>\n<pre><code>&lt;script src=&quot;webjars/popper.js/2.0.2/umd/popper.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>similarly we can add proper path for webjar dependency following is screenshot <a href=\"https://i.stack.imgur.com/JR5Nf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JR5Nf.png\" alt=\"screenshot\" /></a> for reference</p>\n"}],"owner":{"account_id":6481695,"reputation":1819,"user_id":5018474,"accept_rate":71,"display_name":"Droide"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6798,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48380236,"answer_count":2,"score":2,"last_activity_date":1680322336,"creation_date":1516619156,"question_id":48380145,"body_markdown":"I&#39;m trying to include Bootstrap 4 within my Spring Boot project, but I&#39;m seeing the error: `Bootstrap tooltips require Popper.js`\r\n\r\nSo I included the dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.webjars.npm&lt;/groupId&gt;\r\n      &lt;artifactId&gt;popper.js&lt;/artifactId&gt;\r\n      &lt;version&gt;1.13.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;webjars-locator&lt;/artifactId&gt;\r\n\t    &lt;version&gt;0.32-1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nBut when I include it inside the page I can&#39; find the the popper.js . Why?\r\n\r\nThis is what I used:\r\n\r\n    &lt;script th:src=&quot;@{/webjars/npm/popper.js/popper.min.js}&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n\r\nWhat is the correct path to include it?\r\n\r\nEDIT:\r\n\r\nSame problem with font-awesome:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n        &lt;artifactId&gt;font-awesome&lt;/artifactId&gt;\r\n        &lt;version&gt;5.0.2&lt;/version&gt;\r\n \t&lt;/dependency&gt;\r\n\r\nand\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/font-awesome/dist/font-awesome.min.css}&quot; /&gt;","title":"How can I correct include path for webjars?","body":"<p>I'm trying to include Bootstrap 4 within my Spring Boot project, but I'm seeing the error: <code>Bootstrap tooltips require Popper.js</code></p>\n\n<p>So I included the dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.webjars.npm&lt;/groupId&gt;\n  &lt;artifactId&gt;popper.js&lt;/artifactId&gt;\n  &lt;version&gt;1.13.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n    &lt;artifactId&gt;webjars-locator&lt;/artifactId&gt;\n    &lt;version&gt;0.32-1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>But when I include it inside the page I can' find the the popper.js . Why?</p>\n\n<p>This is what I used:</p>\n\n<pre><code>&lt;script th:src=\"@{/webjars/npm/popper.js/popper.min.js}\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>What is the correct path to include it?</p>\n\n<p>EDIT:</p>\n\n<p>Same problem with font-awesome:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n    &lt;artifactId&gt;font-awesome&lt;/artifactId&gt;\n    &lt;version&gt;5.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" th:href=\"@{/webjars/font-awesome/dist/font-awesome.min.css}\" /&gt;\n</code></pre>\n"},{"tags":["java","arrays","list","sorting","arraylist"],"comments":[{"owner":{"account_id":3589103,"reputation":726,"user_id":2995560,"display_name":"Benoit Cuvelier"},"score":0,"creation_date":1644932744,"post_id":71127526,"comment_id":125731932,"body_markdown":"Collect to list after you sorted it : .collect(Collectors.toList())","body":"Collect to list after you sorted it : .collect(Collectors.toList())"},{"owner":{"account_id":24243797,"reputation":29,"user_id":18195811,"display_name":"Batuhan Bakar"},"score":0,"creation_date":1644932848,"post_id":71127526,"comment_id":125731987,"body_markdown":"I tried almost everything but it didn&#39;t work. I will try again.","body":"I tried almost everything but it didn&#39;t work. I will try again."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":3,"creation_date":1644932909,"post_id":71127526,"comment_id":125732009,"body_markdown":"[How to print out all the elements of a List in Java?](https://stackoverflow.com/q/10168066) [How to get the String representation of all elements in a Java 8 stream](https://stackoverflow.com/q/39565865)","body":"<a href=\"https://stackoverflow.com/q/10168066\">How to print out all the elements of a List in Java?</a> <a href=\"https://stackoverflow.com/q/39565865\">How to get the String representation of all elements in a Java 8 stream</a>"},{"owner":{"account_id":24243797,"reputation":29,"user_id":18195811,"display_name":"Batuhan Bakar"},"score":0,"creation_date":1644932972,"post_id":71127526,"comment_id":125732036,"body_markdown":"@BenoitCuvelier I tried now this: sortedList.collect(Collectors.toList());\n But I get Result of &#39;Stream.collect()&#39; is ignored ERROR. And when I run it returns SORTED LİST java.util.stream.SortedOps$OfRef@3e8c3cb","body":"@BenoitCuvelier I tried now this: sortedList.collect(Collectors.toList());  But I get Result of &#39;Stream.collect()&#39; is ignored ERROR. And when I run it returns SORTED LİST java.util.stream.SortedOps$OfRef@3e8c3cb"},{"owner":{"account_id":4126058,"reputation":449,"user_id":3385180,"display_name":"venkat"},"score":0,"creation_date":1644941052,"post_id":71127526,"comment_id":125735798,"body_markdown":"final List&lt;String&gt; collect = words.stream().sorted().collect(Collectors.toList()); this logic should work","body":"final List&lt;String&gt; collect = words.stream().sorted().collect(Collectors.toList()); this logic should work"},{"owner":{"account_id":24243797,"reputation":29,"user_id":18195811,"display_name":"Batuhan Bakar"},"score":0,"creation_date":1644942263,"post_id":71127526,"comment_id":125736328,"body_markdown":"@venkat I don&#39;t know why but it gets same result.  --&gt;  public  List&lt;String&gt; getWords(String address) {\n\n        String[] words = address.split(&quot;(/) | (,) | ( )&quot;);\n\n        for (\n                int i = 0;\n                i &lt; words.length; i++) {\n                words[i] = words[i].replaceAll(&quot;[^\\\\w]&quot;, &quot;,&quot;);\n        }\n        return Arrays.asList(words);\n    }\nI use this method. Can it be because of this method ?","body":"@venkat I don&#39;t know why but it gets same result.  --&gt;  public  List&lt;String&gt; getWords(String address) {          String[] words = address.split(&quot;(/) | (,) | ( )&quot;);          for (                 int i = 0;                 i &lt; words.length; i++) {                 words[i] = words[i].replaceAll(&quot;[^\\\\w]&quot;, &quot;,&quot;);         }         return Arrays.asList(words);     } I use this method. Can it be because of this method ?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1644957060,"post_id":71127526,"comment_id":125741986,"body_markdown":"@BatuhanBakar You&#39;re question says that your lists are simply a group of strings like  `&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;`.  So that is the what is expected.","body":"@BatuhanBakar You&#39;re question says that your lists are simply a group of strings like  <code>&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;</code>.  So that is the what is expected."}],"answers":[{"comments":[{"owner":{"account_id":24243797,"reputation":29,"user_id":18195811,"display_name":"Batuhan Bakar"},"score":0,"creation_date":1644933353,"post_id":71127658,"comment_id":125732207,"body_markdown":"I got This ERROR : no instance(s) of type variable(s) exist so that Object conforms to String inference variable T has incompatible bounds: equality constraints: String lower bounds: Object------&gt; Required :  List&lt;String&gt;  Provided List&lt;Object&gt;","body":"I got This ERROR : no instance(s) of type variable(s) exist so that Object conforms to String inference variable T has incompatible bounds: equality constraints: String lower bounds: Object------&gt; Required :  List&lt;String&gt;  Provided List&lt;Object&gt;"},{"owner":{"account_id":3589103,"reputation":726,"user_id":2995560,"display_name":"Benoit Cuvelier"},"score":0,"creation_date":1644933483,"post_id":71127658,"comment_id":125732268,"body_markdown":"Look at my edited answer, i didn t noticed that your WORD_OF_ADDRESS was already a list","body":"Look at my edited answer, i didn t noticed that your WORD_OF_ADDRESS was already a list"},{"owner":{"account_id":24243797,"reputation":29,"user_id":18195811,"display_name":"Batuhan Bakar"},"score":0,"creation_date":1644941164,"post_id":71127658,"comment_id":125735842,"body_markdown":"This didn&#39;t work it still comes same list.","body":"This didn&#39;t work it still comes same list."},{"owner":{"account_id":24243797,"reputation":29,"user_id":18195811,"display_name":"Batuhan Bakar"},"score":0,"creation_date":1644942342,"post_id":71127658,"comment_id":125736375,"body_markdown":"public  List&lt;String&gt; getWords(String address) {\n\n        String[] words = address.split(&quot;(/) | (,) | ( )&quot;);\n\n        for (\n                int i = 0;\n                i &lt; words.length; i++) {\n                words[i] = words[i].replaceAll(&quot;[^\\\\w]&quot;, &quot;,&quot;);\n        }\n        return Arrays.asList(words);\n    }\nI use this method. Can this be the reason ?","body":"public  List&lt;String&gt; getWords(String address) {          String[] words = address.split(&quot;(/) | (,) | ( )&quot;);          for (                 int i = 0;                 i &lt; words.length; i++) {                 words[i] = words[i].replaceAll(&quot;[^\\\\w]&quot;, &quot;,&quot;);         }         return Arrays.asList(words);     } I use this method. Can this be the reason ?"}],"tags":[],"owner":{"account_id":3589103,"reputation":726,"user_id":2995560,"display_name":"Benoit Cuvelier"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644933447,"creation_date":1644933206,"answer_id":71127658,"question_id":71127526,"body_markdown":"What you are actually displaying is a Stream. But what you want is the list of string used by this stream, change your code this way : \r\n\r\n    List&lt;String&gt; sortedList = WORD_OF_ADDRESS.stream()\r\n                             .sorted()\r\n                             .collect(Collectors.toList());\r\n\r\nThen display your list the way Johnny Mopp suggered","title":"Java Sort String 2 List and Compare them","body":"<p>What you are actually displaying is a Stream. But what you want is the list of string used by this stream, change your code this way :</p>\n<pre><code>List&lt;String&gt; sortedList = WORD_OF_ADDRESS.stream()\n                         .sorted()\n                         .collect(Collectors.toList());\n</code></pre>\n<p>Then display your list the way Johnny Mopp suggered</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644941923,"creation_date":1644939999,"answer_id":71129347,"question_id":71127526,"body_markdown":"You can sort the lists easily as follows:\r\n```\r\nList&lt;String&gt; WORD_OF_ADDRESS_sorted gatekeeperPage.getWords(ADDRESS)\r\n    .stream().sorted().toList();\r\nList&lt;String&gt; WORD_OF_CONTACT_ADDRESS_sorted = gatekeeperPage.getWords(CONTACT_ADDRESS)\r\n    .stream().sorted().toList();\r\n```\r\nThen you can compare them.\r\n\r\nHowever, if you just want to see if they are equal based on contents, sorting is not necessary to test for content equality.  Update a map with a running count each time the item occurs is more efficient. `Add 1` for one list and `subtract 1` for the other.  `Map.merge` is useful because it permits one to replace a `0` value with `null` which then removes the entry.  So if you end up with an empty map, the lists must be equal based on contents.\r\n```\r\npublic static &lt;T&gt; boolean areEqual(List&lt;T&gt; list1, List&lt;T&gt; list2) {\r\n\tMap&lt;T, Integer&gt; map = new HashMap&lt;&gt;();\r\n\tif (list1.size() != list2.size()) {\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tfor (int i = 0; i &lt; list1.size(); i++) {\r\n\t\tmap.merge(list1.get(i), -1,\r\n\t\t\t\t(k, v) -&gt; v + 1 == 0 ? null : v + 1);\r\n\t\tmap.merge(list2.get(i), 1,\r\n\t\t\t\t(k, v) -&gt; v - 1 == 0 ? null : v - 1);\r\n\t}\r\n\t\r\n\treturn map.isEmpty();\r\n}\r\n```\r\nI have not extensively tested this but with the all tests using lists of random integers, where only one is copied shuffled tested as equal.   Randomly salting the lists with different values tested as false.\r\n\r\nSince immutable lists are not altered, they can be passed directly to the method.\r\n\r\nCaveat:  Since Integers have a maximum value and minimum value, extremely large lists have the potential to fail if those limits are reached.  Counting of `Long` or `BigInteger` would mitigate this problem but also decrease its performance.","title":"Java Sort String 2 List and Compare them","body":"<p>You can sort the lists easily as follows:</p>\n<pre><code>List&lt;String&gt; WORD_OF_ADDRESS_sorted gatekeeperPage.getWords(ADDRESS)\n    .stream().sorted().toList();\nList&lt;String&gt; WORD_OF_CONTACT_ADDRESS_sorted = gatekeeperPage.getWords(CONTACT_ADDRESS)\n    .stream().sorted().toList();\n</code></pre>\n<p>Then you can compare them.</p>\n<p>However, if you just want to see if they are equal based on contents, sorting is not necessary to test for content equality.  Update a map with a running count each time the item occurs is more efficient. <code>Add 1</code> for one list and <code>subtract 1</code> for the other.  <code>Map.merge</code> is useful because it permits one to replace a <code>0</code> value with <code>null</code> which then removes the entry.  So if you end up with an empty map, the lists must be equal based on contents.</p>\n<pre><code>public static &lt;T&gt; boolean areEqual(List&lt;T&gt; list1, List&lt;T&gt; list2) {\n    Map&lt;T, Integer&gt; map = new HashMap&lt;&gt;();\n    if (list1.size() != list2.size()) {\n        return false;\n    }\n    \n    for (int i = 0; i &lt; list1.size(); i++) {\n        map.merge(list1.get(i), -1,\n                (k, v) -&gt; v + 1 == 0 ? null : v + 1);\n        map.merge(list2.get(i), 1,\n                (k, v) -&gt; v - 1 == 0 ? null : v - 1);\n    }\n    \n    return map.isEmpty();\n}\n</code></pre>\n<p>I have not extensively tested this but with the all tests using lists of random integers, where only one is copied shuffled tested as equal.   Randomly salting the lists with different values tested as false.</p>\n<p>Since immutable lists are not altered, they can be passed directly to the method.</p>\n<p>Caveat:  Since Integers have a maximum value and minimum value, extremely large lists have the potential to fail if those limits are reached.  Counting of <code>Long</code> or <code>BigInteger</code> would mitigate this problem but also decrease its performance.</p>\n"}],"owner":{"account_id":24243797,"reputation":29,"user_id":18195811,"display_name":"Batuhan Bakar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":407,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1680321357,"creation_date":1644932665,"question_id":71127526,"body_markdown":"I want to sort 2 List and compare them, but sorted method did not work.\r\nI have 2 String List which includes integer. \r\n\r\nThese are my Lists\r\n``` \r\nList&lt;String&gt; WORD_OF_ADDRESS = gatekeeperPage.getWords(ADDRESS);\r\nList&lt;String&gt; WORD_OF_CONTACT_ADDRESS = gatekeeperPage.getWords(CONTACT_ADDRESS);\r\n ```\r\nMy **getwords** method returns :  ```return Arrays.asList(words); ```\r\n\r\nWhen I try this ;\r\n\r\n``` \r\nStream&lt;Object&gt; sortedList = Arrays.stream(WORD_OF_ADDRESS.toArray()).sorted();\r\nSystem.out.println(&quot;SORTED LİST &quot;+ sortedList);\r\n```\r\nI get this : ```SORTED LİST java.util.stream.SortedOps$OfRef@3e8c3cb```\r\n\r\nWhat should I do to sort 2 list ?\r\n\r\n  \r\n\r\n\r\n","title":"Java Sort String 2 List and Compare them","body":"<p>I want to sort 2 List and compare them, but sorted method did not work.\nI have 2 String List which includes integer.</p>\n<p>These are my Lists</p>\n<pre><code>List&lt;String&gt; WORD_OF_ADDRESS = gatekeeperPage.getWords(ADDRESS);\nList&lt;String&gt; WORD_OF_CONTACT_ADDRESS = gatekeeperPage.getWords(CONTACT_ADDRESS);\n</code></pre>\n<p>My <strong>getwords</strong> method returns :  <code>return Arrays.asList(words); </code></p>\n<p>When I try this ;</p>\n<pre><code>Stream&lt;Object&gt; sortedList = Arrays.stream(WORD_OF_ADDRESS.toArray()).sorted();\nSystem.out.println(&quot;SORTED LİST &quot;+ sortedList);\n</code></pre>\n<p>I get this : <code>SORTED LİST java.util.stream.SortedOps$OfRef@3e8c3cb</code></p>\n<p>What should I do to sort 2 list ?</p>\n"},{"tags":["java","list","arraylist","crash","size"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1680320540,"post_id":75904135,"comment_id":133882867,"body_markdown":"If your intention is to show the size of the list, try `testTextView.setText(Integer.toString(list.size()));`","body":"If your intention is to show the size of the list, try <code>testTextView.setText(Integer.toString(list.size()));</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1680320746,"post_id":75904135,"comment_id":133882882,"body_markdown":"I&#39;m not familiar with programming Android. But, a quick web search says the `testTextView.setText(int r);` method, the  `r` is a resource identifier for the String to be displayed. By the way, it would help to have the [android] tag on the question.","body":"I&#39;m not familiar with programming Android. But, a quick web search says the <code>testTextView.setText(int r);</code> method, the  <code>r</code> is a resource identifier for the String to be displayed. By the way, it would help to have the [android] tag on the question."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1680325693,"post_id":75904135,"comment_id":133883283,"body_markdown":"Please [edit] your question to provide a proper [mre] and the error you&#39;re getting.","body":"Please <a href=\"https://stackoverflow.com/posts/75904135/edit\">edit</a> your question to provide a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and the error you&#39;re getting."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1680330925,"post_id":75904135,"comment_id":133883660,"body_markdown":"Please paste the stack trace from the crash into your question (nicely formatted as code).","body":"Please paste the stack trace from the crash into your question (nicely formatted as code)."}],"answers":[{"tags":[],"owner":{"account_id":28076903,"reputation":51,"user_id":21448598,"display_name":"user21448598"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680320558,"creation_date":1680320558,"answer_id":75904155,"question_id":75904135,"body_markdown":"It seems the problem come form this line:\r\n\r\n    testTextView.setText(list.size());\r\n\r\nthe text view take strings as parameters but you give them an Int, causing your problem. In order to fix that you can Use the String.valueOf() function in java to convert the integer size to a string that would be accepted by the component:\r\n\r\n    testTextView.setText(String.valueOf(list.size()));","title":"List&lt;String&gt;.size() keeps crashing app on device","body":"<p>It seems the problem come form this line:</p>\n<pre><code>testTextView.setText(list.size());\n</code></pre>\n<p>the text view take strings as parameters but you give them an Int, causing your problem. In order to fix that you can Use the String.valueOf() function in java to convert the integer size to a string that would be accepted by the component:</p>\n<pre><code>testTextView.setText(String.valueOf(list.size()));\n</code></pre>\n"}],"owner":{"account_id":19808428,"reputation":15,"user_id":14507864,"display_name":"fireslide"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75904155,"answer_count":1,"score":0,"last_activity_date":1680320558,"creation_date":1680319830,"question_id":75904135,"body_markdown":"I&#39;m creating an app in android studio in Java and I&#39;m trying to return the size of a List&lt;String&gt; using the .size() function but the app on my device keeps crashing when I use it.\r\n\r\nTo see my result on the app I&#39;ve initialized a TextView\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport android.widget.TextView;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\n\r\nTextView testTextView = findViewById(R.id.testText);\r\n\r\nList&lt;String&gt; list = Arrays.asList(&quot;test&quot;,&quot;try&quot;);\r\ntestTextView.setText(list.size());\r\n```\r\nI&#39;ve tried to use other functions to see if I have wrote correctly the List&lt;String&gt; &quot;list&quot; or not, and when I used :\r\n\r\n```\r\ntestTextView.setText(list.get(0));\r\n```\r\nIt worked and shows ```test``` as a result\r\n\r\nI do not think it is a null pointer exception because we can access the List with the .get() function. \r\nBut if it is do you have any clue why ?\r\n","title":"List&lt;String&gt;.size() keeps crashing app on device","body":"<p>I'm creating an app in android studio in Java and I'm trying to return the size of a List using the .size() function but the app on my device keeps crashing when I use it.</p>\n<p>To see my result on the app I've initialized a TextView</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport android.widget.TextView;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\n\nTextView testTextView = findViewById(R.id.testText);\n\nList&lt;String&gt; list = Arrays.asList(&quot;test&quot;,&quot;try&quot;);\ntestTextView.setText(list.size());\n</code></pre>\n<p>I've tried to use other functions to see if I have wrote correctly the List &quot;list&quot; or not, and when I used :</p>\n<pre><code>testTextView.setText(list.get(0));\n</code></pre>\n<p>It worked and shows <code>test</code> as a result</p>\n<p>I do not think it is a null pointer exception because we can access the List with the .get() function.\nBut if it is do you have any clue why ?</p>\n"},{"tags":["java","canvas"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1680330932,"post_id":75904085,"comment_id":133883661,"body_markdown":"Cast the graphics object to Graphics2d, and you will have plenty of methods to draw, including rectangles. For custom drawing create an object that implements Shape.","body":"Cast the graphics object to Graphics2d, and you will have plenty of methods to draw, including rectangles. For custom drawing create an object that implements Shape."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1680331476,"post_id":75904085,"comment_id":133883699,"body_markdown":"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/painting/index.html</a>"}],"owner":{"account_id":27643558,"reputation":15,"user_id":21099993,"display_name":"tarikeld11"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680318659,"creation_date":1680318659,"question_id":75904085,"body_markdown":"I wrote a library for customized draw Methods in JavaScript, which I want to rewrite for Java. In Javascript it looks like this:\r\n\r\n```\r\nvar canvas = document.getElementById(&quot;canvas&quot;);\r\nvar ctx = canvas.getContext(&quot;2d&quot;);\r\nctx.canvas.width = window.innerWidth;\r\nctx.canvas.height = window.innerHeight;\r\n\r\nfunction rect(x, y, sizex, sizey, color) {\r\n    ctx.fillStyle = color;\r\n    ctx.fillRect(x, y, sizex, sizey);\r\n}\r\n\r\n//more functions...\r\n```\r\n\r\nNow don&#39;t know how to draw with custom methods in Java without hardcoding everything into the `paint(Graphics g)` method. \r\n\r\nI want to have a class &quot;Graphic&quot; which can be used by other classes to call my own `rect` method. Other classes should use it like this:\r\n\r\n\r\n```\r\nGraphic g = new Graphic(myFrame);\r\npublic void drawThing(x,y){\r\n    g.rect(x,y,50,50,Color.RED);\r\n    g.rect(x + 50,y,50,50,Color.BLUE);\r\n}\r\n\r\n```\r\n\r\n\r\nMy Java code looks like this but what should I write at the &quot;???&quot; \r\n```\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\n\r\npublic class Graphic extends Canvas {\r\n\r\n    public Graphic(JFrame f) {\r\n        setSize(new Dimension(f.getContentPane().getWidth(),f.getContentPane().getHeight()));\r\n    }\r\n\r\n    public void rect(int x, int y,\r\n            int sizeX, int sizeY, Color c) {\r\n        ???.setColor(c);\r\n        ???.fillRect(x, y, sizeX, sizeY);\r\n    }\r\n\r\n    public void paint(Graphics g) {\r\n        ???\r\n    }\r\n}\r\n```\r\nI already looked on plenty of websites but everyone seems to draw everything already in the paint method.","title":"How can I write custom methods for drawing in Java Canvas?","body":"<p>I wrote a library for customized draw Methods in JavaScript, which I want to rewrite for Java. In Javascript it looks like this:</p>\n<pre><code>var canvas = document.getElementById(&quot;canvas&quot;);\nvar ctx = canvas.getContext(&quot;2d&quot;);\nctx.canvas.width = window.innerWidth;\nctx.canvas.height = window.innerHeight;\n\nfunction rect(x, y, sizex, sizey, color) {\n    ctx.fillStyle = color;\n    ctx.fillRect(x, y, sizex, sizey);\n}\n\n//more functions...\n</code></pre>\n<p>Now don't know how to draw with custom methods in Java without hardcoding everything into the <code>paint(Graphics g)</code> method.</p>\n<p>I want to have a class &quot;Graphic&quot; which can be used by other classes to call my own <code>rect</code> method. Other classes should use it like this:</p>\n<pre><code>Graphic g = new Graphic(myFrame);\npublic void drawThing(x,y){\n    g.rect(x,y,50,50,Color.RED);\n    g.rect(x + 50,y,50,50,Color.BLUE);\n}\n\n</code></pre>\n<p>My Java code looks like this but what should I write at the &quot;???&quot;</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class Graphic extends Canvas {\n\n    public Graphic(JFrame f) {\n        setSize(new Dimension(f.getContentPane().getWidth(),f.getContentPane().getHeight()));\n    }\n\n    public void rect(int x, int y,\n            int sizeX, int sizeY, Color c) {\n        ???.setColor(c);\n        ???.fillRect(x, y, sizeX, sizeY);\n    }\n\n    public void paint(Graphics g) {\n        ???\n    }\n}\n</code></pre>\n<p>I already looked on plenty of websites but everyone seems to draw everything already in the paint method.</p>\n"},{"tags":["java","spring","api","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1516895522,"post_id":48446708,"comment_id":83885877,"body_markdown":"Is the only difference that you call it API key instead of username or is there anything else?","body":"Is the only difference that you call it API key instead of username or is there anything else?"},{"owner":{"account_id":1558780,"reputation":4158,"user_id":1449185,"accept_rate":42,"display_name":"Rasool Ghafari"},"score":0,"creation_date":1594464268,"post_id":48446708,"comment_id":111139069,"body_markdown":"Is this below answer resolved your problem? how did you managed your users and api key for each user?","body":"Is this below answer resolved your problem? how did you managed your users and api key for each user?"}],"answers":[{"comments":[{"owner":{"account_id":5418641,"reputation":3338,"user_id":4313055,"accept_rate":89,"display_name":"Phillip Stack"},"score":1,"creation_date":1555090946,"post_id":48448901,"comment_id":98002669,"body_markdown":"this was quite helpful. I have an application which needs to support both Username/Password and ApiKey based authentication. I had Username/Password working and after reading your posting was able to get ApiKey working. Unfortunately, I seemed to break the Username/Password. I am suspicious it is the ordering of my filters or my use of the same AuthenticationManager for both Username/Password and ApiKey auth. Any advice?","body":"this was quite helpful. I have an application which needs to support both Username/Password and ApiKey based authentication. I had Username/Password working and after reading your posting was able to get ApiKey working. Unfortunately, I seemed to break the Username/Password. I am suspicious it is the ordering of my filters or my use of the same AuthenticationManager for both Username/Password and ApiKey auth. Any advice?"},{"owner":{"account_id":35893,"reputation":3344,"user_id":102009,"accept_rate":100,"display_name":"MarkOfHall"},"score":2,"creation_date":1555358523,"post_id":48448901,"comment_id":98075256,"body_markdown":"@PhillipStack You should be able to configure two WebSecurityConfigurerAdapter with different authentication managers  ala:\nhttps://stackoverflow.com/questions/33603156/spring-security-multiple-http-config-not-working","body":"@PhillipStack You should be able to configure two WebSecurityConfigurerAdapter with different authentication managers  ala: <a href=\"https://stackoverflow.com/questions/33603156/spring-security-multiple-http-config-not-working\" title=\"spring security multiple http config not working\">stackoverflow.com/questions/33603156/&hellip;</a>"},{"owner":{"account_id":450931,"reputation":1641,"user_id":846535,"accept_rate":33,"display_name":"marcellorvalle"},"score":1,"creation_date":1571243404,"post_id":48448901,"comment_id":103178337,"body_markdown":"If I understood correctly, the APIKey is not private. Anyone using the client can open the developer console and check the header content. Is it right?","body":"If I understood correctly, the APIKey is not private. Anyone using the client can open the developer console and check the header content. Is it right?"},{"owner":{"account_id":35893,"reputation":3344,"user_id":102009,"accept_rate":100,"display_name":"MarkOfHall"},"score":5,"creation_date":1571673829,"post_id":48448901,"comment_id":103310429,"body_markdown":"@marcellorvalle Typically, the client of an API secured with an API key is another service.  If you&#39;re inferring that the client of this API would be a web browser, I would suggest you look into OAuth / JWT tokens for user authorization.","body":"@marcellorvalle Typically, the client of an API secured with an API key is another service.  If you&#39;re inferring that the client of this API would be a web browser, I would suggest you look into OAuth / JWT tokens for user authorization."},{"owner":{"account_id":357873,"reputation":897,"user_id":698312,"display_name":"Mikael Vandmo"},"score":0,"creation_date":1592987409,"post_id":48448901,"comment_id":110618583,"body_markdown":"Shouldn&#39;t it be the other way around? That the principal should be &quot;N/A&quot;, &quot;API Key Holder&quot; or similar and then the credential would be the actual API key?","body":"Shouldn&#39;t it be the other way around? That the principal should be &quot;N/A&quot;, &quot;API Key Holder&quot; or similar and then the credential would be the actual API key?"},{"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"score":2,"creation_date":1635871364,"post_id":48448901,"comment_id":123406155,"body_markdown":"Useful must-read : [REST Security Cheat Sheet / API Keys](https://cheatsheetseries.owasp.org/cheatsheets/REST_Security_Cheat_Sheet.html#api-keys)","body":"Useful must-read : <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/REST_Security_Cheat_Sheet.html#api-keys\" rel=\"nofollow noreferrer\">REST Security Cheat Sheet / API Keys</a>"},{"owner":{"account_id":20591962,"reputation":185,"user_id":17852207,"display_name":"Neil"},"score":0,"creation_date":1647718025,"post_id":48448901,"comment_id":126443003,"body_markdown":"I tried to implement this, but my authenticate() method was not being called.  I implemented the Filter-based answer below and it worked perfectly.","body":"I tried to implement this, but my authenticate() method was not being called.  I implemented the Filter-based answer below and it worked perfectly."},{"owner":{"account_id":4054391,"reputation":929,"user_id":3332879,"accept_rate":38,"display_name":"Cugomastik"},"score":0,"creation_date":1668504403,"post_id":48448901,"comment_id":131415260,"body_markdown":"What if we have a table of API keys to check for each user?","body":"What if we have a table of API keys to check for each user?"}],"tags":[],"owner":{"account_id":35893,"reputation":3344,"user_id":102009,"accept_rate":100,"display_name":"MarkOfHall"},"comment_count":8,"down_vote_count":1,"up_vote_count":115,"is_accepted":true,"score":114,"last_activity_date":1540557675,"creation_date":1516901995,"answer_id":48448901,"question_id":48446708,"body_markdown":"Create a filter that grabs what ever header(s) you&#39;re using for authentication.\r\n\r\n    import org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter;\r\n\r\n\tpublic class APIKeyAuthFilter extends AbstractPreAuthenticatedProcessingFilter {\r\n\r\n\t    private String principalRequestHeader;\r\n    \r\n\t    public APIKeyAuthFilter(String principalRequestHeader) {\r\n\t        this.principalRequestHeader = principalRequestHeader;\r\n\t    }\r\n    \r\n\t    @Override\r\n\t    protected Object getPreAuthenticatedPrincipal(HttpServletRequest request) {\r\n\t        return request.getHeader(principalRequestHeader);\r\n\t    }\r\n\r\n\t    @Override\r\n\t    protected Object getPreAuthenticatedCredentials(HttpServletRequest request) {\r\n\t        return &quot;N/A&quot;;\r\n\t    }\r\n\r\n\t}\r\n\r\n\r\nConfigure the filter in your Web Security config.\r\n\r\n\timport org.springframework.beans.factory.annotation.Value;\r\n\timport org.springframework.context.annotation.Configuration;\r\n\timport org.springframework.core.annotation.Order;\r\n\timport org.springframework.security.authentication.AuthenticationManager;\r\n\timport org.springframework.security.authentication.BadCredentialsException;\r\n\timport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n\timport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n\timport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n\timport org.springframework.security.config.http.SessionCreationPolicy;\r\n\timport org.springframework.security.core.Authentication;\r\n\timport org.springframework.security.core.AuthenticationException;\r\n\r\n\t@Configuration\r\n\t@EnableWebSecurity\r\n\t@Order(1)\r\n\tpublic class APISecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t    @Value(&quot;${yourapp.http.auth-token-header-name}&quot;)\r\n\t    private String principalRequestHeader;\r\n    \r\n\t    @Value(&quot;${yourapp.http.auth-token}&quot;)\r\n\t    private String principalRequestValue;\r\n    \r\n\t    @Override\r\n\t    protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n\t        APIKeyAuthFilter filter = new APIKeyAuthFilter(principalRequestHeader);\r\n\t        filter.setAuthenticationManager(new AuthenticationManager() {\r\n            \r\n\t            @Override\r\n\t            public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n\t                String principal = (String) authentication.getPrincipal();\r\n\t                if (!principalRequestValue.equals(principal))\r\n\t                {\r\n\t                    throw new BadCredentialsException(&quot;The API key was not found or not the expected value.&quot;);\r\n\t                }\r\n\t                authentication.setAuthenticated(true);\r\n\t                return authentication;\r\n\t            }\r\n\t        });\r\n\t        httpSecurity.\r\n\t            antMatcher(&quot;/api/**&quot;).\r\n\t            csrf().disable().\r\n\t            sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).\r\n\t            and().addFilter(filter).authorizeRequests().anyRequest().authenticated();\r\n\t    }\r\n    \r\n\t}\r\n","title":"Securing Spring Boot API with API key and secret","body":"<p>Create a filter that grabs what ever header(s) you're using for authentication.</p>\n\n<pre><code>import org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter;\n\npublic class APIKeyAuthFilter extends AbstractPreAuthenticatedProcessingFilter {\n\n    private String principalRequestHeader;\n\n    public APIKeyAuthFilter(String principalRequestHeader) {\n        this.principalRequestHeader = principalRequestHeader;\n    }\n\n    @Override\n    protected Object getPreAuthenticatedPrincipal(HttpServletRequest request) {\n        return request.getHeader(principalRequestHeader);\n    }\n\n    @Override\n    protected Object getPreAuthenticatedCredentials(HttpServletRequest request) {\n        return \"N/A\";\n    }\n\n}\n</code></pre>\n\n<p>Configure the filter in your Web Security config.</p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.BadCredentialsException;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.AuthenticationException;\n\n@Configuration\n@EnableWebSecurity\n@Order(1)\npublic class APISecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Value(\"${yourapp.http.auth-token-header-name}\")\n    private String principalRequestHeader;\n\n    @Value(\"${yourapp.http.auth-token}\")\n    private String principalRequestValue;\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        APIKeyAuthFilter filter = new APIKeyAuthFilter(principalRequestHeader);\n        filter.setAuthenticationManager(new AuthenticationManager() {\n\n            @Override\n            public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n                String principal = (String) authentication.getPrincipal();\n                if (!principalRequestValue.equals(principal))\n                {\n                    throw new BadCredentialsException(\"The API key was not found or not the expected value.\");\n                }\n                authentication.setAuthenticated(true);\n                return authentication;\n            }\n        });\n        httpSecurity.\n            antMatcher(\"/api/**\").\n            csrf().disable().\n            sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).\n            and().addFilter(filter).authorizeRequests().anyRequest().authenticated();\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5145448,"reputation":574,"user_id":4121585,"accept_rate":20,"display_name":"Vishal Patel"},"score":0,"creation_date":1603717750,"post_id":63852212,"comment_id":114115662,"body_markdown":"this really worked for me. but, is it recommended using in production?","body":"this really worked for me. but, is it recommended using in production?"},{"owner":{"account_id":2205705,"reputation":3873,"user_id":1948990,"accept_rate":20,"display_name":"matt forsythe"},"score":1,"creation_date":1603824155,"post_id":63852212,"comment_id":114157578,"body_markdown":"API keys in general are less secure than, say OAuth.  But they are simpler, which is part of the appeal.  Weather or not this trade-off is worth it depends on your needs and how your application is deployed.  My particular application was an internal application, not accepting connections from the outside world, so the trade-off was worth it in my case.  But I would not, for example, deploy an API key to a mobile application as the sole security mechanism because any user of the application will be able to get that API key.","body":"API keys in general are less secure than, say OAuth.  But they are simpler, which is part of the appeal.  Weather or not this trade-off is worth it depends on your needs and how your application is deployed.  My particular application was an internal application, not accepting connections from the outside world, so the trade-off was worth it in my case.  But I would not, for example, deploy an API key to a mobile application as the sole security mechanism because any user of the application will be able to get that API key."},{"owner":{"account_id":2109919,"reputation":726,"user_id":1875391,"accept_rate":86,"display_name":"Wanny Miarelli"},"score":1,"creation_date":1641683799,"post_id":63852212,"comment_id":124870235,"body_markdown":"@mattforsythe You are correct but api keys are usually meant to be used in private environment. To use it in a mobile application, in theory, you need to create some kind of proxy with your backend.","body":"@mattforsythe You are correct but api keys are usually meant to be used in private environment. To use it in a mobile application, in theory, you need to create some kind of proxy with your backend."},{"owner":{"account_id":2205705,"reputation":3873,"user_id":1948990,"accept_rate":20,"display_name":"matt forsythe"},"score":1,"creation_date":1641786877,"post_id":63852212,"comment_id":124889302,"body_markdown":"@WannyMiarelli, correct.  As I mentioned in my comment, my application was a private, internal one that did not accept connections from the outside internet.  This is what made it ideal in my case.  I think we are saying the same thing, right?","body":"@WannyMiarelli, correct.  As I mentioned in my comment, my application was a private, internal one that did not accept connections from the outside internet.  This is what made it ideal in my case.  I think we are saying the same thing, right?"},{"owner":{"account_id":1845121,"reputation":326,"user_id":1673614,"accept_rate":85,"display_name":"daydr3amer"},"score":0,"creation_date":1652809064,"post_id":63852212,"comment_id":127694520,"body_markdown":"How can I combine it with a bearer token filter, such that api keys authorizated requests will get a different group than the token requests. In such a way that I can use it with @PreAuthorize. For example some endpoints will be publicly available with an api key, others are protected behind a login","body":"How can I combine it with a bearer token filter, such that api keys authorizated requests will get a different group than the token requests. In such a way that I can use it with @PreAuthorize. For example some endpoints will be publicly available with an api key, others are protected behind a login"},{"owner":{"account_id":1845121,"reputation":326,"user_id":1673614,"accept_rate":85,"display_name":"daydr3amer"},"score":0,"creation_date":1652810082,"post_id":63852212,"comment_id":127694828,"body_markdown":"Got it. Change AuthorityUtils.NO_AUTHORITIES to any role you would like to give to your api key","body":"Got it. Change AuthorityUtils.NO_AUTHORITIES to any role you would like to give to your api key"},{"owner":{"account_id":2205705,"reputation":3873,"user_id":1948990,"accept_rate":20,"display_name":"matt forsythe"},"score":0,"creation_date":1652974510,"post_id":63852212,"comment_id":127742953,"body_markdown":"@daydr3amer - glad you worked it out, but do be careful in using API keys for publicly available endpoints.  If your intent is to guard your endpoints against unauthorized use, and your API keys get deployed as part of a mobile app (for example) then anyone who can download the app can easily get the key and use it how they like.","body":"@daydr3amer - glad you worked it out, but do be careful in using API keys for publicly available endpoints.  If your intent is to guard your endpoints against unauthorized use, and your API keys get deployed as part of a mobile app (for example) then anyone who can download the app can easily get the key and use it how they like."},{"owner":{"account_id":5297337,"reputation":161,"user_id":4228152,"accept_rate":40,"display_name":"Muhammad Abu Bakr"},"score":0,"creation_date":1662616146,"post_id":63852212,"comment_id":130047684,"body_markdown":"@mattforsythe what&#39;s the purpose of transient annotation for ApiKeyAuthenticationToken class?","body":"@mattforsythe what&#39;s the purpose of transient annotation for ApiKeyAuthenticationToken class?"},{"owner":{"account_id":2205705,"reputation":3873,"user_id":1948990,"accept_rate":20,"display_name":"matt forsythe"},"score":2,"creation_date":1662785153,"post_id":63852212,"comment_id":130091381,"body_markdown":"@MuhammadAbuBakr, `@Transient` instructs Spring not to create an HttpSession for this request.  In the case of stateless requests using API keys, you don&#39;t need an HttpSession being created, and if the client happens to ignore the cookies sent back from the server, each request would end up creating a brand new HttpSession on the server.  If you need state stored between requests, and your clients save and honor cookies, feel free to take it out.","body":"@MuhammadAbuBakr, <code>@Transient</code> instructs Spring not to create an HttpSession for this request.  In the case of stateless requests using API keys, you don&#39;t need an HttpSession being created, and if the client happens to ignore the cookies sent back from the server, each request would end up creating a brand new HttpSession on the server.  If you need state stored between requests, and your clients save and honor cookies, feel free to take it out."}],"tags":[],"owner":{"account_id":2205705,"reputation":3873,"user_id":1948990,"accept_rate":20,"display_name":"matt forsythe"},"comment_count":9,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1599847711,"creation_date":1599847711,"answer_id":63852212,"question_id":48446708,"body_markdown":"I realize I am a little late to the game on this one, but I also managed to get API keys working with Spring Boot in tandem with user-name/password authentication.  I wasn&#39;t crazy about the idea of using `AbstractPreAuthenticatedProcessingFilter` because in reading the JavaDoc, it seemed like a misuse of that particular class.\r\n\r\nI ended up creating a new `ApiKeyAuthenticationToken` class along with a pretty simple raw servlet filter to accomplish this:\r\n\r\n    import java.util.Collection;\r\n    \r\n    import org.springframework.security.authentication.AbstractAuthenticationToken;\r\n    import org.springframework.security.core.GrantedAuthority;\r\n    import org.springframework.security.core.Transient;\r\n    \r\n    @Transient\r\n    public class ApiKeyAuthenticationToken extends AbstractAuthenticationToken {\r\n    \r\n        private String apiKey;\r\n        \r\n        public ApiKeyAuthenticationToken(String apiKey, Collection&lt;? extends GrantedAuthority&gt; authorities) {\r\n            super(authorities);\r\n            this.apiKey = apiKey;\r\n            setAuthenticated(true);\r\n        }\r\n    \r\n        @Override\r\n        public Object getCredentials() {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public Object getPrincipal() {\r\n            return apiKey;\r\n        }\r\n    }\r\n\r\n\r\nAnd the filter\r\n\r\n    import javax.servlet.Filter;\r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.ServletRequest;\r\n    import javax.servlet.ServletResponse;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import org.springframework.security.core.authority.AuthorityUtils;\r\n    import org.springframework.security.core.context.SecurityContextHolder;\r\n    \r\n    public class ApiKeyAuthenticationFilter implements Filter {\r\n    \r\n        static final private String AUTH_METHOD = &quot;api-key&quot;;\r\n        \r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n                throws IOException, ServletException\r\n        {\r\n            if(request instanceof HttpServletRequest &amp;&amp; response instanceof HttpServletResponse) {\r\n                String apiKey = getApiKey((HttpServletRequest) request);\r\n                if(apiKey != null) {\r\n                    if(apiKey.equals(&quot;my-valid-api-key&quot;)) {\r\n                        ApiKeyAuthenticationToken apiToken = new ApiKeyAuthenticationToken(apiKey, AuthorityUtils.NO_AUTHORITIES);\r\n                        SecurityContextHolder.getContext().setAuthentication(apiToken);\r\n                    } else {\r\n                        HttpServletResponse httpResponse = (HttpServletResponse) response;\r\n                        httpResponse.setStatus(401);\r\n                        httpResponse.getWriter().write(&quot;Invalid API Key&quot;);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            chain.doFilter(request, response);\r\n            \r\n        }\r\n    \r\n        private String getApiKey(HttpServletRequest httpRequest) {\r\n            String apiKey = null;\r\n            \r\n            String authHeader = httpRequest.getHeader(&quot;Authorization&quot;);\r\n            if(authHeader != null) {\r\n                authHeader = authHeader.trim();\r\n                if(authHeader.toLowerCase().startsWith(AUTH_METHOD + &quot; &quot;)) {\r\n                    apiKey = authHeader.substring(AUTH_METHOD.length()).trim();\r\n                }\r\n            }\r\n            \r\n            return apiKey;\r\n        }\r\n    }\r\n\r\nAll that is left at this point is to inject the filter at the proper location in the chain.  In my case, I wanted API key authentication to be evaluated before any user-name / password authentication so that it could authenticate the request before the application tried to redirect to a login page:\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n            .csrf()\r\n                .disable()\r\n            .addFilterBefore(new ApiKeyAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class)\r\n            .authorizeRequests()\r\n                .anyRequest()\r\n                    .fullyAuthenticated()\r\n                    .and()\r\n            .formLogin();\r\n    }\r\n\r\n    \r\nOne other thing I will say you should watch out for is that your API key authenticated requests don&#39;t create and abandon a bunch of `HttpSession`s on your server.","title":"Securing Spring Boot API with API key and secret","body":"<p>I realize I am a little late to the game on this one, but I also managed to get API keys working with Spring Boot in tandem with user-name/password authentication.  I wasn't crazy about the idea of using <code>AbstractPreAuthenticatedProcessingFilter</code> because in reading the JavaDoc, it seemed like a misuse of that particular class.</p>\n<p>I ended up creating a new <code>ApiKeyAuthenticationToken</code> class along with a pretty simple raw servlet filter to accomplish this:</p>\n<pre><code>import java.util.Collection;\n\nimport org.springframework.security.authentication.AbstractAuthenticationToken;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.Transient;\n\n@Transient\npublic class ApiKeyAuthenticationToken extends AbstractAuthenticationToken {\n\n    private String apiKey;\n    \n    public ApiKeyAuthenticationToken(String apiKey, Collection&lt;? extends GrantedAuthority&gt; authorities) {\n        super(authorities);\n        this.apiKey = apiKey;\n        setAuthenticated(true);\n    }\n\n    @Override\n    public Object getCredentials() {\n        return null;\n    }\n\n    @Override\n    public Object getPrincipal() {\n        return apiKey;\n    }\n}\n</code></pre>\n<p>And the filter</p>\n<pre><code>import javax.servlet.Filter;\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.security.core.authority.AuthorityUtils;\nimport org.springframework.security.core.context.SecurityContextHolder;\n\npublic class ApiKeyAuthenticationFilter implements Filter {\n\n    static final private String AUTH_METHOD = &quot;api-key&quot;;\n    \n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException\n    {\n        if(request instanceof HttpServletRequest &amp;&amp; response instanceof HttpServletResponse) {\n            String apiKey = getApiKey((HttpServletRequest) request);\n            if(apiKey != null) {\n                if(apiKey.equals(&quot;my-valid-api-key&quot;)) {\n                    ApiKeyAuthenticationToken apiToken = new ApiKeyAuthenticationToken(apiKey, AuthorityUtils.NO_AUTHORITIES);\n                    SecurityContextHolder.getContext().setAuthentication(apiToken);\n                } else {\n                    HttpServletResponse httpResponse = (HttpServletResponse) response;\n                    httpResponse.setStatus(401);\n                    httpResponse.getWriter().write(&quot;Invalid API Key&quot;);\n                    return;\n                }\n            }\n        }\n        \n        chain.doFilter(request, response);\n        \n    }\n\n    private String getApiKey(HttpServletRequest httpRequest) {\n        String apiKey = null;\n        \n        String authHeader = httpRequest.getHeader(&quot;Authorization&quot;);\n        if(authHeader != null) {\n            authHeader = authHeader.trim();\n            if(authHeader.toLowerCase().startsWith(AUTH_METHOD + &quot; &quot;)) {\n                apiKey = authHeader.substring(AUTH_METHOD.length()).trim();\n            }\n        }\n        \n        return apiKey;\n    }\n}\n</code></pre>\n<p>All that is left at this point is to inject the filter at the proper location in the chain.  In my case, I wanted API key authentication to be evaluated before any user-name / password authentication so that it could authenticate the request before the application tried to redirect to a login page:</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n        .csrf()\n            .disable()\n        .addFilterBefore(new ApiKeyAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class)\n        .authorizeRequests()\n            .anyRequest()\n                .fullyAuthenticated()\n                .and()\n        .formLogin();\n}\n</code></pre>\n<p>One other thing I will say you should watch out for is that your API key authenticated requests don't create and abandon a bunch of <code>HttpSession</code>s on your server.</p>\n"},{"tags":[],"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1618275032,"creation_date":1617965015,"answer_id":67019644,"question_id":48446708,"body_markdown":"The answer from the @MarkOfHall is correct and I just want to add a little more details. After you have the code, you will need to add the property values to the `application.properties` file as below:\r\n\r\n\r\n    yourapp.http.auth-token-header-name=X-API-KEY\r\n    yourapp.http.auth-token=abc123\r\n\r\nThe set the authentication value in the Postman as below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nYou can use Postman but if you use `cURL` request will be similar provided below:\r\n\r\n    $ curl -H &quot;X-API-KEY: abc123&quot; &quot;http://localhost:8080/api/v1/property/1&quot;\r\n \r\nUnless if provide the correct key and value, the app will not work. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gh3dp.png\r\n","title":"Securing Spring Boot API with API key and secret","body":"<p>The answer from the @MarkOfHall is correct and I just want to add a little more details. After you have the code, you will need to add the property values to the <code>application.properties</code> file as below:</p>\n<pre><code>yourapp.http.auth-token-header-name=X-API-KEY\nyourapp.http.auth-token=abc123\n</code></pre>\n<p>The set the authentication value in the Postman as below:</p>\n<p><a href=\"https://i.stack.imgur.com/gh3dp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/gh3dp.png\" alt=\"enter image description here\" /></a></p>\n<p>You can use Postman but if you use <code>cURL</code> request will be similar provided below:</p>\n<pre><code>$ curl -H &quot;X-API-KEY: abc123&quot; &quot;http://localhost:8080/api/v1/property/1&quot;\n</code></pre>\n<p>Unless if provide the correct key and value, the app will not work.</p>\n"},{"tags":[],"owner":{"account_id":2784451,"reputation":155,"user_id":2396218,"display_name":"zawar"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1680318214,"creation_date":1654334835,"answer_id":72498590,"question_id":48446708,"body_markdown":"To build on the answer by @MarkOfHall, `WebSecurityConfigurerAdapter` has been deprecated (see https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter). So his version of `APISecurityConfig` will now look like:\r\n\r\n    package com.fasset.ledger.auth;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.annotation.Order;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.authentication.BadCredentialsException;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.core.Authentication;\r\n    import org.springframework.security.core.AuthenticationException;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @Order(1)\r\n    public class APISecurityConfig {\r\n\r\n    @Value(&quot;${yourapp.http.auth-token-header-name}&quot;)\r\n    private String principalRequestHeader;\r\n\r\n    @Value(&quot;${yourapp.http.auth-token}&quot;)\r\n    private String principalRequestValue;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        ApiKeyAuthFilter filter = new ApiKeyAuthFilter(principalRequestHeader);\r\n        filter.setAuthenticationManager(new AuthenticationManager() {\r\n\r\n            @Override\r\n            public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n                String principal = (String) authentication.getPrincipal();\r\n                if (!principalRequestValue.equals(principal))\r\n                {\r\n                    throw new BadCredentialsException(&quot;The API key was not found or not the expected value.&quot;);\r\n                }\r\n                authentication.setAuthenticated(true);\r\n                return authentication;\r\n            }\r\n        });\r\n        http.antMatcher(&quot;/api/**&quot;).\r\n                csrf().disable().\r\n                sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).\r\n                and().addFilter(filter).authorizeRequests().anyRequest().authenticated();\r\n\r\n        return http.build();\r\n      }\r\n    }\r\n","title":"Securing Spring Boot API with API key and secret","body":"<p>To build on the answer by @MarkOfHall, <code>WebSecurityConfigurerAdapter</code> has been deprecated (see <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter</a>). So his version of <code>APISecurityConfig</code> will now look like:</p>\n<pre><code>package com.fasset.ledger.auth;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.BadCredentialsException;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\n@Order(1)\npublic class APISecurityConfig {\n\n@Value(&quot;${yourapp.http.auth-token-header-name}&quot;)\nprivate String principalRequestHeader;\n\n@Value(&quot;${yourapp.http.auth-token}&quot;)\nprivate String principalRequestValue;\n\n@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    ApiKeyAuthFilter filter = new ApiKeyAuthFilter(principalRequestHeader);\n    filter.setAuthenticationManager(new AuthenticationManager() {\n\n        @Override\n        public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n            String principal = (String) authentication.getPrincipal();\n            if (!principalRequestValue.equals(principal))\n            {\n                throw new BadCredentialsException(&quot;The API key was not found or not the expected value.&quot;);\n            }\n            authentication.setAuthenticated(true);\n            return authentication;\n        }\n    });\n    http.antMatcher(&quot;/api/**&quot;).\n            csrf().disable().\n            sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).\n            and().addFilter(filter).authorizeRequests().anyRequest().authenticated();\n\n    return http.build();\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":315536,"reputation":1786,"user_id":631272,"display_name":"Marquee"},"score":3,"creation_date":1673982313,"post_id":74729453,"comment_id":132616497,"body_markdown":"Thanks for updating and putting these all together in real code style","body":"Thanks for updating and putting these all together in real code style"},{"owner":{"account_id":453322,"reputation":1998,"user_id":850252,"accept_rate":86,"display_name":"M Smith"},"score":0,"creation_date":1691770186,"post_id":74729453,"comment_id":135541347,"body_markdown":"As of Aug 2023, the dependency for HttpServletRequest is `import jakarta.servlet.http.HttpServletRequest;`","body":"As of Aug 2023, the dependency for HttpServletRequest is <code>import jakarta.servlet.http.HttpServletRequest;</code>"},{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":0,"creation_date":1700209767,"post_id":74729453,"comment_id":136628604,"body_markdown":"https://stackoverflow.com/questions/74609057/how-to-fix-spring-authorizerequests-is-deprecated","body":"<a href=\"https://stackoverflow.com/questions/74609057/how-to-fix-spring-authorizerequests-is-deprecated\" title=\"how to fix spring authorizerequests is deprecated\">stackoverflow.com/questions/74609057/&hellip;</a>"}],"tags":[],"owner":{"account_id":79489,"reputation":1968,"user_id":225341,"display_name":"Victor Ionescu"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1670498175,"creation_date":1670498175,"answer_id":74729453,"question_id":48446708,"body_markdown":"Building upon the answers of @zawar and @MarkOfHall, and from [https://github.com/gregwhitaker/springboot-apikey-example][1]\r\n\r\n\r\na contemporary solution as of December 8th 2022 would look like this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\tpackage com.mygloriousapp.auth;\r\n\timport javax.servlet.http.HttpServletRequest;\r\n\timport org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter;\r\n\r\n\t/**\r\n\t * Filter responsible for getting the api key off of incoming requests that need to be authorized.\r\n\t */\r\n\tpublic class ApiKeyAuthFilter extends AbstractPreAuthenticatedProcessingFilter {\r\n\r\n\t  private final String headerName;\r\n\r\n\t  public ApiKeyAuthFilter(final String headerName) {\r\n\t\tthis.headerName = headerName;\r\n\t  }\r\n\r\n\t  @Override\r\n\t  protected Object getPreAuthenticatedPrincipal(HttpServletRequest request) {\r\n\t\treturn request.getHeader(headerName);\r\n\t  }\r\n\r\n\t  @Override\r\n\t  protected Object getPreAuthenticatedCredentials(HttpServletRequest request) {\r\n\t\t// No credentials when using API key\r\n\t\treturn null;\r\n\t  }\r\n\t}\r\n\r\n\r\n\r\n\r\n\tpackage com.mygloriousapp.config;\r\n\r\n\timport com.mygloriousapp.auth.ApiKeyAuthFilter;\r\n\timport java.util.Objects;\r\n\timport org.springframework.beans.factory.annotation.Value;\r\n\timport org.springframework.context.annotation.Bean;\r\n\timport org.springframework.context.annotation.Configuration;\r\n\timport org.springframework.core.annotation.Order;\r\n\timport org.springframework.security.authentication.BadCredentialsException;\r\n\timport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n\timport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n\timport org.springframework.security.config.http.SessionCreationPolicy;\r\n\timport org.springframework.security.web.SecurityFilterChain;\r\n\r\n\t@Configuration\r\n\t@EnableWebSecurity\r\n\t@Order(1)\r\n\tpublic class SecurityConfig {\r\n\r\n\t  @Value(&quot;${app.http.auth-token-header-name}&quot;)\r\n\t  private String principalRequestHeader;\r\n\r\n\t  @Value(&quot;${app.http.auth-token}&quot;)\r\n\t  private String principalRequestValue;\r\n\r\n\t  @Bean\r\n\t  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\tApiKeyAuthFilter filter = new ApiKeyAuthFilter(principalRequestHeader);\r\n\t\tfilter.setAuthenticationManager(\r\n\t\t\tauthentication -&gt; {\r\n\t\t\t  String principal = (String) authentication.getPrincipal();\r\n\t\t\t  if (!Objects.equals(principalRequestValue, principal)) {\r\n\t\t\t\tthrow new BadCredentialsException(\r\n\t\t\t\t\t&quot;The API key was not found or not the expected value.&quot;);\r\n\t\t\t  }\r\n\t\t\t  authentication.setAuthenticated(true);\r\n\t\t\t  return authentication;\r\n\t\t\t});\r\n\t\thttp.antMatcher(&quot;/**&quot;)\r\n\t\t\t.csrf()\r\n\t\t\t.disable()\r\n\t\t\t.sessionManagement()\r\n\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\t\t\t.and()\r\n\t\t\t.addFilter(filter)\r\n\t\t\t.authorizeRequests()\r\n\t\t\t.anyRequest()\r\n\t\t\t.authenticated();\r\n\r\n\t\treturn http.build();\r\n\t  }\r\n\t}\r\n\r\nThe required configuration in application.properties:\r\n\r\n&lt;!-- language: lang-properties --&gt;\r\n\tapp.http.auth-token-header-name=X-API-Key\r\n\tapp.http.auth-token=109353c6-6432-4acf-8e77-ef842f64a664\r\n\r\nThe dependeny in pom.xml:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;    \r\n\r\nIf you are using Postman, click on the collection and edit the Authorization tab:\r\n[![Postman autorization][2]][2] \r\n\r\n\r\n  [1]: https://github.com/gregwhitaker/springboot-apikey-example\r\n  [2]: https://i.stack.imgur.com/nZcuR.png","title":"Securing Spring Boot API with API key and secret","body":"<p>Building upon the answers of @zawar and @MarkOfHall, and from <a href=\"https://github.com/gregwhitaker/springboot-apikey-example\" rel=\"noreferrer\">https://github.com/gregwhitaker/springboot-apikey-example</a></p>\n<p>a contemporary solution as of December 8th 2022 would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mygloriousapp.auth;\nimport javax.servlet.http.HttpServletRequest;\nimport org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter;\n\n/**\n * Filter responsible for getting the api key off of incoming requests that need to be authorized.\n */\npublic class ApiKeyAuthFilter extends AbstractPreAuthenticatedProcessingFilter {\n\n  private final String headerName;\n\n  public ApiKeyAuthFilter(final String headerName) {\n    this.headerName = headerName;\n  }\n\n  @Override\n  protected Object getPreAuthenticatedPrincipal(HttpServletRequest request) {\n    return request.getHeader(headerName);\n  }\n\n  @Override\n  protected Object getPreAuthenticatedCredentials(HttpServletRequest request) {\n    // No credentials when using API key\n    return null;\n  }\n}\n\n\n\n\npackage com.mygloriousapp.config;\n\nimport com.mygloriousapp.auth.ApiKeyAuthFilter;\nimport java.util.Objects;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.security.authentication.BadCredentialsException;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\n@Order(1)\npublic class SecurityConfig {\n\n  @Value(&quot;${app.http.auth-token-header-name}&quot;)\n  private String principalRequestHeader;\n\n  @Value(&quot;${app.http.auth-token}&quot;)\n  private String principalRequestValue;\n\n  @Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    ApiKeyAuthFilter filter = new ApiKeyAuthFilter(principalRequestHeader);\n    filter.setAuthenticationManager(\n        authentication -&gt; {\n          String principal = (String) authentication.getPrincipal();\n          if (!Objects.equals(principalRequestValue, principal)) {\n            throw new BadCredentialsException(\n                &quot;The API key was not found or not the expected value.&quot;);\n          }\n          authentication.setAuthenticated(true);\n          return authentication;\n        });\n    http.antMatcher(&quot;/**&quot;)\n        .csrf()\n        .disable()\n        .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .addFilter(filter)\n        .authorizeRequests()\n        .anyRequest()\n        .authenticated();\n\n    return http.build();\n  }\n}\n</code></pre>\n<p>The required configuration in application.properties:</p>\n<pre class=\"lang-properties prettyprint-override\"><code>app.http.auth-token-header-name=X-API-Key\napp.http.auth-token=109353c6-6432-4acf-8e77-ef842f64a664\n</code></pre>\n<p>The dependeny in pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;    \n</code></pre>\n<p>If you are using Postman, click on the collection and edit the Authorization tab:\n<a href=\"https://i.stack.imgur.com/nZcuR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nZcuR.png\" alt=\"Postman autorization\" /></a></p>\n"}],"owner":{"account_id":5211320,"reputation":1165,"user_id":4167652,"display_name":"Vitalii Oleksiv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124093,"favorite_count":0,"down_vote_count":0,"up_vote_count":101,"accepted_answer_id":48448901,"answer_count":5,"score":101,"last_activity_date":1680318214,"creation_date":1516894941,"question_id":48446708,"body_markdown":"I would like to secure the Spring Boot API so it is accessible only for the clients that has valid API key and secret. However, there is no authentication (standard login with username and password) inside the program as all data is anonymous. All I&#39;m trying to achieve is that all API requests can be used only for specific third party front-end.\r\n\r\nI found a lot of articles about how to secure the Spring Boot API with user authentication. But I don&#39;t need user authentication. What I am thinking of is just provide my client with API key and secret so he has access to the endpoints.\r\n\r\nCould you please suggest me how can I achieve this? Thank you!\r\n   ","title":"Securing Spring Boot API with API key and secret","body":"<p>I would like to secure the Spring Boot API so it is accessible only for the clients that has valid API key and secret. However, there is no authentication (standard login with username and password) inside the program as all data is anonymous. All I'm trying to achieve is that all API requests can be used only for specific third party front-end.</p>\n\n<p>I found a lot of articles about how to secure the Spring Boot API with user authentication. But I don't need user authentication. What I am thinking of is just provide my client with API key and secret so he has access to the endpoints.</p>\n\n<p>Could you please suggest me how can I achieve this? Thank you!</p>\n"},{"tags":["java","arrays","generics","deque","type-safety"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680098259,"post_id":75878133,"comment_id":133839717,"body_markdown":"Does this answer your question? [How to create a generic array in Java?](https://stackoverflow.com/questions/529085/how-to-create-a-generic-array-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/529085/how-to-create-a-generic-array-in-java\">How to create a generic array in Java?</a>"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1680101458,"post_id":75878133,"comment_id":133840795,"body_markdown":"Generally, this is done by doing a cast on the getters/dequeue method, and keeping it as an Object[].","body":"Generally, this is done by doing a cast on the getters/dequeue method, and keeping it as an Object[]."}],"owner":{"account_id":25342583,"reputation":1,"user_id":19160775,"display_name":"luh_marc808"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680317007,"creation_date":1680097793,"question_id":75878133,"body_markdown":"I am creating a deque using generic type E...\r\nHaving trouble initializing some sort of generic array, while being type safe, have tried casting, however this is `Type safety: Unchecked cast from Object[] to E[]`\r\n\r\n    public class DequeCyclic&lt;E&gt; implements Deque&lt;E&gt; {\r\n       private E[] line;\r\n    \r\n       public DequeCyclic(int size) {\r\n       E[] line = (E[])new Object[size];\r\n       }\r\n    }\r\n\r\nCould I put in `@SuppressWarnings(&quot;unchecked&quot;)` to ignore the type safety issue?\r\nWhat is another way to create the generic deque/array?","title":"How to make generic type deque?","body":"<p>I am creating a deque using generic type E...\nHaving trouble initializing some sort of generic array, while being type safe, have tried casting, however this is <code>Type safety: Unchecked cast from Object[] to E[]</code></p>\n<pre><code>public class DequeCyclic&lt;E&gt; implements Deque&lt;E&gt; {\n   private E[] line;\n\n   public DequeCyclic(int size) {\n   E[] line = (E[])new Object[size];\n   }\n}\n</code></pre>\n<p>Could I put in <code>@SuppressWarnings(&quot;unchecked&quot;)</code> to ignore the type safety issue?\nWhat is another way to create the generic deque/array?</p>\n"},{"tags":["java","android","android-sdk-manager"],"comments":[{"owner":{"account_id":19400960,"reputation":1653,"user_id":14187529,"display_name":"Kamal Nayan"},"score":0,"creation_date":1680318799,"post_id":75904015,"comment_id":133882754,"body_markdown":"SDK for documentation ?? Couldn&#39;t understand. If there is any error share the log or error message.","body":"SDK for documentation ?? Couldn&#39;t understand. If there is any error share the log or error message."}],"owner":{"account_id":28183879,"reputation":1,"user_id":21540432,"display_name":"Hazrath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680316874,"creation_date":1680316874,"question_id":75904015,"body_markdown":"i have downloaded the newer version of androistudio and insatalled in my linux system , but i cant find the android sdk for documentatoin option to download the documentation file.\r\n\r\nthis is my sdk manger\r\n[enter image description here](https://i.stack.imgur.com/Bt0oj.png)[enter image description here](https://i.stack.imgur.com/06Fe0.png)","title":"I cant find the option of androi documentation for sdk in androi studio","body":"<p>i have downloaded the newer version of androistudio and insatalled in my linux system , but i cant find the android sdk for documentatoin option to download the documentation file.</p>\n<p>this is my sdk manger\n<a href=\"https://i.stack.imgur.com/Bt0oj.png\" rel=\"nofollow noreferrer\">enter image description here</a><a href=\"https://i.stack.imgur.com/06Fe0.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","optimization","jvm","null-check"],"comments":[{"owner":{"account_id":3595277,"reputation":44036,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":1,"creation_date":1504554122,"post_id":46043185,"comment_id":79046599,"body_markdown":"Have you tested what happens?","body":"Have you tested what happens?"},{"owner":{"account_id":11653359,"reputation":5339,"user_id":8533940,"display_name":"Lothar"},"score":0,"creation_date":1504555643,"post_id":46043185,"comment_id":79047091,"body_markdown":"There are other optimizations that were out there for quite some tmie like changing the if-then-else orders etc. that could have similar effects like the one you described, so I assume that this is covered (haven&#39;t tested it though). As Carcigenicate suggested, do a test and find out for yourself.","body":"There are other optimizations that were out there for quite some tmie like changing the if-then-else orders etc. that could have similar effects like the one you described, so I assume that this is covered (haven&#39;t tested it though). As Carcigenicate suggested, do a test and find out for yourself."},{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":5,"creation_date":1504556011,"post_id":46043185,"comment_id":79047208,"body_markdown":"You can be sure that all the optimizations done by the Java HotSpot JIT compiler leave the language semantics intact. So maybe in your case it won&#39;t apply Null-Check Elimination, or delay the `++` until after a modified `obj.doSomething(m_someVar+1)` or doing a `m_someVar--` after the segmentation fault.","body":"You can be sure that all the optimizations done by the Java HotSpot JIT compiler leave the language semantics intact. So maybe in your case it won&#39;t apply Null-Check Elimination, or delay the <code>++</code> until after a modified <code>obj.doSomething(m_someVar+1)</code> or doing a <code>m_someVar--</code> after the segmentation fault."},{"owner":{"account_id":2358514,"reputation":9644,"user_id":2065796,"accept_rate":62,"display_name":"Sasha Shpota"},"score":1,"creation_date":1504565139,"post_id":46043185,"comment_id":79049574,"body_markdown":"Yes, it is seems like it executes the command twice on assembler level. But it does not spoil the end result (otherwise it would be improper JVM implementation). Take a look at this article http://jcdav.is/2015/10/06/SIGSEGV-as-control-flow/ This guy analyses the C2 output line by line for exactly the same case.","body":"Yes, it is seems like it executes the command twice on assembler level. But it does not spoil the end result (otherwise it would be improper JVM implementation). Take a look at this article <a href=\"http://jcdav.is/2015/10/06/SIGSEGV-as-control-flow/\" rel=\"nofollow noreferrer\">jcdav.is/2015/10/06/SIGSEGV-as-control-flow</a> This guy analyses the C2 output line by line for exactly the same case."},{"owner":{"account_id":326549,"reputation":3415,"user_id":648368,"accept_rate":74,"display_name":"Tomer W"},"score":0,"creation_date":1504582956,"post_id":46043185,"comment_id":79052897,"body_markdown":"@RalfKleberhoff thanks, I was pretty sure it would, but didn&#39;t get how the JVM can know when the &quot;middle code&quot; is apathetic to being run twice.  is there some source for deeper explanation on the implementation?","body":"@RalfKleberhoff thanks, I was pretty sure it would, but didn&#39;t get how the JVM can know when the &quot;middle code&quot; is apathetic to being run twice.  is there some source for deeper explanation on the implementation?"}],"answers":[{"tags":[],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1504584221,"creation_date":1504584221,"answer_id":46046854,"question_id":46043185,"body_markdown":"There are many possibilities ho to avoid the problem: Delaying or undoing the increment was already mentioned in a comment. The JVM has a big bag of tricks and some of them applies:\r\n\r\n- When `obj.doSomething(m_someVar)` is a non-virtual method call (a `private` or `final` method, or a never overridden method), then it probably requires an explicit null check(*) as there would be no SEGV, but the NPE must be thrown before the call. I&#39;m assuming the method was not inlined, as otherwise this analysis should be applied after inlining.\r\n- When `obj.doSomething(m_someVar)` is a virtual method call, then you have to do &quot;method dispatch&quot;, i.e., something like `obj.getClass().getPointerToMethod(&quot;doSomething(int)&quot;)` in order to determine what concrete method to call. I wrote &quot;something like&quot; as doing this literally is very time-consuming and gets optimized away as much as possible. This dispatch can be moved above the increment and it itself will throw an NPE, if `obj` happens to be `null`.\r\n- When you&#39;re lucky, then the dispatch may look like `if (obj.getClass() != MyClass.class) uncommon_trap();`, which is the simplest case (called &quot;monomorphic call site&quot;), but even this involves dereferencing `obj` and you again get an NPE for `null`.\r\n\r\n---\r\n(*) A null check may look like `obj.getClass()` which in assembler is a single instruction loading from a fixed offset relative to the `obj` pointer. When `obj == null` then an unmapped page ist hit.","title":"Java Null check elimination can cause bad code?","body":"<p>There are many possibilities ho to avoid the problem: Delaying or undoing the increment was already mentioned in a comment. The JVM has a big bag of tricks and some of them applies:</p>\n\n<ul>\n<li>When <code>obj.doSomething(m_someVar)</code> is a non-virtual method call (a <code>private</code> or <code>final</code> method, or a never overridden method), then it probably requires an explicit null check(*) as there would be no SEGV, but the NPE must be thrown before the call. I'm assuming the method was not inlined, as otherwise this analysis should be applied after inlining.</li>\n<li>When <code>obj.doSomething(m_someVar)</code> is a virtual method call, then you have to do \"method dispatch\", i.e., something like <code>obj.getClass().getPointerToMethod(\"doSomething(int)\")</code> in order to determine what concrete method to call. I wrote \"something like\" as doing this literally is very time-consuming and gets optimized away as much as possible. This dispatch can be moved above the increment and it itself will throw an NPE, if <code>obj</code> happens to be <code>null</code>.</li>\n<li>When you're lucky, then the dispatch may look like <code>if (obj.getClass() != MyClass.class) uncommon_trap();</code>, which is the simplest case (called \"monomorphic call site\"), but even this involves dereferencing <code>obj</code> and you again get an NPE for <code>null</code>.</li>\n</ul>\n\n<hr>\n\n<p>(*) A null check may look like <code>obj.getClass()</code> which in assembler is a single instruction loading from a fixed offset relative to the <code>obj</code> pointer. When <code>obj == null</code> then an unmapped page ist hit.</p>\n"}],"owner":{"account_id":326549,"reputation":3415,"user_id":648368,"accept_rate":74,"display_name":"Tomer W"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1004,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46046854,"answer_count":1,"score":0,"last_activity_date":1680316483,"creation_date":1504553979,"question_id":46043185,"body_markdown":"Recently, I read [here][1] about JVM optimizations , which are great,  \r\nbut i have a problem with one optimization, namely **Null Check Elimination** (or Uncommon trap)\r\n\r\nTo sum up **Null Check Elimination** removes a `if (obj == null) ...` and hopes for the best, while if encounters a **Segmentation Fault** it recompiles the code and this time includes the neglected `if (obj == null) ...`.\r\n\r\nMy question is, Given:\r\n\r\n    bool foo(MyClass obj)\r\n    {\r\n       if(obj == null)\r\n          return false;\r\n       m_someVar++;\r\n       obj.doSomething(m_someVar);\r\n    }\r\n\r\nbecause the Null-Check is eliminated, and required only after `m_someVar++`.  \r\nwill foo execute `m_someVar++` an extra time when c will be null?\r\n\r\nEdit:\r\n\r\nIs there some source for deeper explanation on the implementation of this optimizations, which explain how does this optimization keeps the code semantically same?\r\n\r\nThanks\r\n\r\n  [1]: https://dzone.com/articles/java-on-steroids-5-super-useful-jit-optimization-t","title":"Java Null check elimination can cause bad code?","body":"<p>Recently, I read <a href=\"https://dzone.com/articles/java-on-steroids-5-super-useful-jit-optimization-t\" rel=\"nofollow noreferrer\">here</a> about JVM optimizations , which are great,<br>\nbut i have a problem with one optimization, namely <strong>Null Check Elimination</strong> (or Uncommon trap)</p>\n\n<p>To sum up <strong>Null Check Elimination</strong> removes a <code>if (obj == null) ...</code> and hopes for the best, while if encounters a <strong>Segmentation Fault</strong> it recompiles the code and this time includes the neglected <code>if (obj == null) ...</code>.</p>\n\n<p>My question is, Given:</p>\n\n<pre><code>bool foo(MyClass obj)\n{\n   if(obj == null)\n      return false;\n   m_someVar++;\n   obj.doSomething(m_someVar);\n}\n</code></pre>\n\n<p>because the Null-Check is eliminated, and required only after <code>m_someVar++</code>.<br>\nwill foo execute <code>m_someVar++</code> an extra time when c will be null?</p>\n\n<p>Edit:</p>\n\n<p>Is there some source for deeper explanation on the implementation of this optimizations, which explain how does this optimization keeps the code semantically same?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","linux","bash","shell"],"comments":[{"owner":{"account_id":2141010,"reputation":118249,"user_id":1899640,"display_name":"that other guy"},"score":1,"creation_date":1420835158,"post_id":27868569,"comment_id":44139692,"body_markdown":"How do you run `jj.sh` when you do it directly?","body":"How do you run <code>jj.sh</code> when you do it directly?"},{"owner":{"display_name":"user1531971"},"score":0,"creation_date":1420836403,"post_id":27868569,"comment_id":44140293,"body_markdown":"You might have to use the full path to the shell you expect this script to run in as the first argument; the hash-bang may not make sense to the exec shell that Java spawns. Also, you are going to have to pay close attention to how some characters are escaped, as this stuff is parsed more than one time.","body":"You might have to use the full path to the shell you expect this script to run in as the first argument; the hash-bang may not make sense to the exec shell that Java spawns. Also, you are going to have to pay close attention to how some characters are escaped, as this stuff is parsed more than one time."},{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":0,"creation_date":1420836501,"post_id":27868569,"comment_id":44140338,"body_markdown":"The question [Running shell script from java code and pass arguments](http://stackoverflow.com/q/12812345/17300) may be helpful to you. In particular, switch from `runtime.exec()` to `process.start()`. Also, neither is a shell; you should [invoke the shell](http://stackoverflow.com/a/12833242/17300) and pass the script as an argument to it.","body":"The question <a href=\"http://stackoverflow.com/q/12812345/17300\">Running shell script from java code and pass arguments</a> may be helpful to you. In particular, switch from <code>runtime.exec()</code> to <code>process.start()</code>. Also, neither is a shell; you should <a href=\"http://stackoverflow.com/a/12833242/17300\">invoke the shell</a> and pass the script as an argument to it."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1420839633,"post_id":27868569,"comment_id":44141791,"body_markdown":"First, your Java code doesn&#39;t actually compile. You didn&#39;t close the `if` block. The variables I&#39;d allow are all strings. But then, you wrote `ls-1|tail-1` without spaces and that will never fly. But then, your shell script wouldn&#39;t actually work with a pipe. You&#39;re probably running it as `jj.sh key ls -1| tail -1`, which actually runs `jj.sh key ls -1` then passes the output to `tail -1`.","body":"First, your Java code doesn&#39;t actually compile. You didn&#39;t close the <code>if</code> block. The variables I&#39;d allow are all strings. But then, you wrote <code>ls-1|tail-1</code> without spaces and that will never fly. But then, your shell script wouldn&#39;t actually work with a pipe. You&#39;re probably running it as <code>jj.sh key ls -1| tail -1</code>, which actually runs <code>jj.sh key ls -1</code> then passes the output to <code>tail -1</code>."},{"owner":{"account_id":265996,"reputation":1584,"user_id":1400123,"accept_rate":71,"display_name":"Learner"},"score":0,"creation_date":1420857855,"post_id":27868569,"comment_id":44147007,"body_markdown":"@thatotherguy: I do run as sh jj.sh mine &quot;ls -1|tail -1&quot;","body":"@thatotherguy: I do run as sh jj.sh mine &quot;ls -1|tail -1&quot;"},{"owner":{"account_id":265996,"reputation":1584,"user_id":1400123,"accept_rate":71,"display_name":"Learner"},"score":0,"creation_date":1420857903,"post_id":27868569,"comment_id":44147019,"body_markdown":"@StephenP: I have tried that also , but it did not work","body":"@StephenP: I have tried that also , but it did not work"},{"owner":{"account_id":265996,"reputation":1584,"user_id":1400123,"accept_rate":71,"display_name":"Learner"},"score":0,"creation_date":1420857968,"post_id":27868569,"comment_id":44147032,"body_markdown":"@RealSkeptic: I am able to get the proper argument in the script, I have tried this by printing the $2 before it is executed.","body":"@RealSkeptic: I am able to get the proper argument in the script, I have tried this by printing the $2 before it is executed."},{"owner":{"account_id":2141010,"reputation":118249,"user_id":1899640,"display_name":"that other guy"},"score":1,"creation_date":1420869050,"post_id":27868569,"comment_id":44148737,"body_markdown":"@Jagdeep When I run that command with your script, I get &quot;ls: invalid option -- &#39;|&#39;\nTry `ls --help&#39; for more information.&quot;. What do you get when you copy-paste your command? Make sure to actually copy-paste the command into a terminal, and don&#39;t run something you think is equivalent.","body":"@Jagdeep When I run that command with your script, I get &quot;ls: invalid option -- &#39;|&#39; Try `ls --help&#39; for more information.&quot;. What do you get when you copy-paste your command? Make sure to actually copy-paste the command into a terminal, and don&#39;t run something you think is equivalent."}],"answers":[{"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1420840224,"post_id":27869139,"comment_id":44142026,"body_markdown":"It actually does run the she-bang. Try writing a shell script that only has a she-bang and a `ps $$` and running it through the (corrected form of the) above program.","body":"It actually does run the she-bang. Try writing a shell script that only has a she-bang and a <code>ps $$</code> and running it through the (corrected form of the) above program."}],"tags":[],"owner":{"account_id":3419696,"reputation":764,"user_id":2867699,"display_name":"miw"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420837246,"creation_date":1420837246,"answer_id":27869139,"question_id":27868569,"body_markdown":"As other posters pointed out already, the sub-process is not started in a shell, so the she-bang is not interpreted.\r\n\r\nI got your example to work by explicitly starting the evaluation of the second parameter in a shell in jj.sh:\r\n\r\n    value=`sh -c &quot;$2&quot;` \r\n\r\nNot nice, but works.\r\n\r\nOther option may be to start the script in a shell explicitly, emulating the sh-bang:\r\n\r\n    String[] cmd = { &quot;/bin/sh&quot;, &quot;jj.sh&quot; , key,value};","title":"Execute shell script in Java and read Output","body":"<p>As other posters pointed out already, the sub-process is not started in a shell, so the she-bang is not interpreted.</p>\n\n<p>I got your example to work by explicitly starting the evaluation of the second parameter in a shell in jj.sh:</p>\n\n<pre><code>value=`sh -c \"$2\"` \n</code></pre>\n\n<p>Not nice, but works.</p>\n\n<p>Other option may be to start the script in a shell explicitly, emulating the sh-bang:</p>\n\n<pre><code>String[] cmd = { \"/bin/sh\", \"jj.sh\" , key,value};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2141010,"reputation":118249,"user_id":1899640,"display_name":"that other guy"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1680315192,"creation_date":1420846657,"answer_id":27871038,"question_id":27868569,"body_markdown":"The primary reason why this doesn&#39;t work is that `` `$2` `` is not the same as `` `ls -1 | tail -1` ``, even when `$2` is set to that string. \r\n\r\nIf your script accepts a literal string with a command to execute, you can use `eval` to do so. \r\n\r\nI created a complete example. Please copy-paste it and verify that it works before you try applying any of it to your own code. Here&#39;s `Test.java`:\r\n\r\n```java\r\nimport java.io.*;\r\n\r\npublic class Test {\r\n  public static void main(String[] args) throws Exception {\r\n    String[] command = { &quot;./myscript&quot;, &quot;key&quot;, &quot;ls -t | tail -n 1&quot; };\r\n    Process process = Runtime.getRuntime().exec(command);\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(\r\n        process.getInputStream()));\r\n    String s;\r\n    while ((s = reader.readLine()) != null) {\r\n      System.out.println(&quot;Script output: &quot; + s);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nAnd `myscript`:\r\n\r\n```bash\r\n#!/bin/bash\r\nkey=&quot;$1&quot;\r\nvalue=$(eval &quot;$2&quot;)\r\necho &quot;The command  $2  evaluated to: $value&quot;\r\n```\r\n\r\nHere&#39;s how we can run `myscript` separately:\r\n\r\n    $ ls -t | tail -n 1\r\n    Templates\r\n\r\n    $ ./myscript foo &#39;ls -t | tail -n 1&#39;\r\n    The command  ls -t | tail -n 1  evaluated to: Templates\r\n\r\nAnd here&#39;s the result of running the Java code:\r\n\r\n    $ javac Test.java &amp;&amp; java Test\r\n    Script output: The command  ls -t | tail -n 1  evaluated to: Templates \r\n","title":"Execute shell script in Java and read Output","body":"<p>The primary reason why this doesn't work is that <code>`$2`</code> is not the same as <code>`ls -1 | tail -1`</code>, even when <code>$2</code> is set to that string.</p>\n<p>If your script accepts a literal string with a command to execute, you can use <code>eval</code> to do so.</p>\n<p>I created a complete example. Please copy-paste it and verify that it works before you try applying any of it to your own code. Here's <code>Test.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\n\npublic class Test {\n  public static void main(String[] args) throws Exception {\n    String[] command = { &quot;./myscript&quot;, &quot;key&quot;, &quot;ls -t | tail -n 1&quot; };\n    Process process = Runtime.getRuntime().exec(command);\n    BufferedReader reader = new BufferedReader(new InputStreamReader(\n        process.getInputStream()));\n    String s;\n    while ((s = reader.readLine()) != null) {\n      System.out.println(&quot;Script output: &quot; + s);\n    }\n  }\n}\n</code></pre>\n<p>And <code>myscript</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\nkey=&quot;$1&quot;\nvalue=$(eval &quot;$2&quot;)\necho &quot;The command  $2  evaluated to: $value&quot;\n</code></pre>\n<p>Here's how we can run <code>myscript</code> separately:</p>\n<pre><code>$ ls -t | tail -n 1\nTemplates\n\n$ ./myscript foo 'ls -t | tail -n 1'\nThe command  ls -t | tail -n 1  evaluated to: Templates\n</code></pre>\n<p>And here's the result of running the Java code:</p>\n<pre><code>$ javac Test.java &amp;&amp; java Test\nScript output: The command  ls -t | tail -n 1  evaluated to: Templates \n</code></pre>\n"}],"owner":{"account_id":265996,"reputation":1584,"user_id":1400123,"accept_rate":71,"display_name":"Learner"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38588,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":27871038,"answer_count":2,"score":6,"last_activity_date":1680315192,"creation_date":1420834794,"question_id":27868569,"body_markdown":"I am executing the shell script using below method in java \r\n\r\n    public static void main(String ar[])\r\n    {\r\n      //key value are being read from properties file, here I am assigning the sample values      directly\r\n\r\n       key=mine\r\n       value=&quot;ls-1|tail-1&quot;\r\n\r\n\r\n      String[] cmd = { &quot;jj.sh&quot; , key,value};\r\n      Process script_exec = Runtime.getRuntime().exec(cmd);\r\n      script_exec.waitFor();\r\n      if(script_exec.exitValue() != 0){\r\n       System.out.println(&quot;Error while executing script&quot;);\r\n\r\n      BufferedReader stdInput = new BufferedReader(new\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;InputStreamReader(script_exec.getInputStream()));\r\n\r\n      while ((s = stdInput.readLine()) != null) {\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(s);\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}\r\n    }\r\n\r\nThe jj.sh file contains below value\r\n\r\n\r\n&lt;!-- language: lang-sh --&gt;\r\n\r\n    #!/bin/sh\r\n\r\n    key=$1\r\n    value=`$2` \r\n    echo $value\r\n\r\nWhen I execute jj.sh using key and value directly, it give me the correct value, that is, the name of file. \r\nHowever with java it is giving me the result as ls -1 result (Means java is ignoring the command after &#39;|&#39;). When I pass the key values  delimited with tilde sign &amp;#96; then it simply displays the full key value i.e. `ls -1|tail -1`\r\n\r\nHow to execute the full command using java\r\n","title":"Execute shell script in Java and read Output","body":"<p>I am executing the shell script using below method in java </p>\n\n<pre><code>public static void main(String ar[])\n{\n  //key value are being read from properties file, here I am assigning the sample values      directly\n\n   key=mine\n   value=\"ls-1|tail-1\"\n\n\n  String[] cmd = { \"jj.sh\" , key,value};\n  Process script_exec = Runtime.getRuntime().exec(cmd);\n  script_exec.waitFor();\n  if(script_exec.exitValue() != 0){\n   System.out.println(\"Error while executing script\");\n\n  BufferedReader stdInput = new BufferedReader(new\n                InputStreamReader(script_exec.getInputStream()));\n\n  while ((s = stdInput.readLine()) != null) {\n                System.out.println(s);\n            }\n}\n</code></pre>\n\n<p>The jj.sh file contains below value</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>#!/bin/sh\n\nkey=$1\nvalue=`$2` \necho $value\n</code></pre>\n\n<p>When I execute jj.sh using key and value directly, it give me the correct value, that is, the name of file. \nHowever with java it is giving me the result as ls -1 result (Means java is ignoring the command after '|'). When I pass the key values  delimited with tilde sign &#96; then it simply displays the full key value i.e. <code>ls -1|tail -1</code></p>\n\n<p>How to execute the full command using java</p>\n"},{"tags":["java","android","email","file-io","send"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1680350226,"post_id":75903908,"comment_id":133885676,"body_markdown":"`DataSource source = new FileDataSource(fileName)` You cannot just use a file name. You have to supply a full path.","body":"<code>DataSource source = new FileDataSource(fileName)</code> You cannot just use a file name. You have to supply a full path."},{"owner":{"account_id":20974123,"reputation":25,"user_id":15410598,"display_name":"Amedeo Braggio"},"score":0,"creation_date":1680462880,"post_id":75903908,"comment_id":133898836,"body_markdown":"@blackapps please read the [EDITED] part","body":"@blackapps please read the [EDITED] part"}],"owner":{"account_id":20974123,"reputation":25,"user_id":15410598,"display_name":"Amedeo Braggio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680314993,"creation_date":1680314645,"question_id":75903908,"body_markdown":"i&#39;m trying to send a mail with an attachment via java in android (in an AsyncTask), i have this method:\r\n```\r\n Properties props = new Properties();\r\n        props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n        props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\r\n        Session session = Session.getInstance(props, new Authenticator() {\r\n            protected PasswordAuthentication getPasswordAuthentication() {\r\n                return new PasswordAuthentication(&quot;youknow@gmail.com&quot;, &quot;psw&quot;);\r\n            }\r\n        });\r\n\r\n        Message message = new MimeMessage(session);\r\n        try {\r\n            message.setFrom(new InternetAddress(&quot;youknow@gmail.com@gmail.com&quot;));\r\n            message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(&quot;receiver@gmail.com&quot;));\r\n            message.setSubject(&quot;Subject line&quot;);\r\n            message.setText(&quot;Email content&quot;);\r\n\r\n            MimeBodyPart messageBodyPart = new MimeBodyPart();\r\n            messageBodyPart.setText(&quot;test&quot;);\r\n\r\n            MimeBodyPart attachmentBodyPart = new MimeBodyPart();\r\n            DataSource source = new FileDataSource(fileName);\r\n            attachmentBodyPart.setDataHandler(new DataHandler(source));\r\n            attachmentBodyPart.setFileName(source.getName());\r\n\r\n            MimeMultipart multipart = new MimeMultipart();\r\n            multipart.addBodyPart(messageBodyPart);\r\n            multipart.addBodyPart(attachmentBodyPart);\r\n            message.setContent(multipart);\r\n\r\n            Transport.send(message);\r\n\r\n\r\n        } catch (MessagingException ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n```\r\n\r\non fileName i have the file name saved with \r\n```\r\nFileOutputStream outputStream = context.openFileOutput(nameExelFile, Context.MODE_PRIVATE);\r\n```\r\nthe error i get is:\r\n```\r\n\r\n\r\nE/AndroidRuntime: FATAL EXCEPTION: AsyncTask #1\r\n    Process: com.gattolfo.gestionaluber, PID: 6179\r\n    java.lang.RuntimeException: An error occurred while executing doInBackground()\r\n        at android.os.AsyncTask$4.done(AsyncTask.java:415)\r\n        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:383)\r\n        at java.util.concurrent.FutureTask.setException(FutureTask.java:252)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:271)\r\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:923)\r\n     Caused by: java.lang.RuntimeException: javax.mail.MessagingException: IOException while sending message;\r\n      nested exception is:\r\n    \tjavax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; \r\n    \tboundary=&quot;----=_Part_0_82827468.1680314088984&quot;\r\n        at com.gattolfo.gestionaluber.DataManager.DbRappresentation.Registri.MailSender.sendMailInstant(MailSender.java:296)\r\n        at com.gattolfo.gestionaluber.DataManager.DbRappresentation.Registri.MailSender.doInBackground(MailSender.java:141)\r\n        at com.gattolfo.gestionaluber.DataManager.DbRappresentation.Registri.MailSender.doInBackground(MailSender.java:48)\r\n        at android.os.AsyncTask$3.call(AsyncTask.java:394)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        \t... 4 more\r\n     Caused by: javax.mail.MessagingException: IOException while sending message;\r\n      nested exception is:\r\n    \tjavax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; \r\n    \tboundary=&quot;----=_Part_0_82827468.1680314088984&quot;\r\n        at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1350)\r\n        at javax.mail.Transport.send0(Transport.java:231)\r\n        at javax.mail.Transport.send(Transport.java:100)\r\n        at com.gattolfo.gestionaluber.DataManager.DbRappresentation.Registri.MailSender.sendMailInstant(MailSender.java:292)\r\n        \t... 8 more\r\n     Caused by: javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; \r\n    \tboundary=&quot;----=_Part_0_82827468.1680314088984&quot;\r\n        at javax.activation.ObjectDataContentHandler.writeTo(DataHandler.java:878)\r\n        at javax.activation.DataHandler.writeTo(DataHandler.java:300)\r\n        at javax.mail.internet.MimeBodyPart.writeTo(MimeBodyPart.java:1670)\r\n        at javax.mail.internet.MimeMessage.writeTo(MimeMessage.java:1889)\r\n        at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1300)\r\n        \t... 11 more\r\n```\r\n\r\ni&#39;m uscing \r\n```\r\n    implementation &#39;com.sun.mail:android-mail:1.6.7&#39;\r\n    implementation &#39;com.sun.mail:android-activation:1.6.7&#39;\r\n```\r\n\r\nand I also tried with:\r\n\r\n``` \r\nimplementation &#39;com.sun.mail:jakarta.mail:2.0.1&#39;\r\n ``` \r\n\r\n\r\nplease help!!\r\n\r\nthe same code on my PC (windows java) work fine, i think the problem is for the input/output from the android memory \r\n\r\n\r\n[EDIT]\r\n\r\nI noticed that adding an attachment like this:\r\n ``` \r\nMimeBodyPart messageBodyPart = new MimeBodyPart();\r\n            String jsonContent = &quot;{\\&quot;name\\&quot;: \\&quot;John Doe\\&quot;, \\&quot;email\\&quot;: \\&quot;johndoe@example.com\\&quot;}&quot;;\r\n            messageBodyPart.setContent(jsonContent, &quot;application/json&quot;);\r\n\r\n ``` \r\nFrom the exact same error, the only way it won&#39;t give an error is if I don&#39;t add attachments like this:\r\n\r\n ``` \r\n  MimeMessage message = new MimeMessage(session);\r\n            message.setFrom(new InternetAddress(username));\r\n            message.addRecipient(Message.RecipientType.TO, new InternetAddress(mailReciver));\r\n            message.setSubject(&quot;Report utilizzo cassette&quot;);\r\n            message.setText(&quot;message&quot;);\r\n            Transport.send(message);\r\n ``` \r\n","title":"Error sending mail with java in android (with attachment )","body":"<p>i'm trying to send a mail with an attachment via java in android (in an AsyncTask), i have this method:</p>\n<pre><code> Properties props = new Properties();\n        props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n        props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n\n        Session session = Session.getInstance(props, new Authenticator() {\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(&quot;youknow@gmail.com&quot;, &quot;psw&quot;);\n            }\n        });\n\n        Message message = new MimeMessage(session);\n        try {\n            message.setFrom(new InternetAddress(&quot;youknow@gmail.com@gmail.com&quot;));\n            message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(&quot;receiver@gmail.com&quot;));\n            message.setSubject(&quot;Subject line&quot;);\n            message.setText(&quot;Email content&quot;);\n\n            MimeBodyPart messageBodyPart = new MimeBodyPart();\n            messageBodyPart.setText(&quot;test&quot;);\n\n            MimeBodyPart attachmentBodyPart = new MimeBodyPart();\n            DataSource source = new FileDataSource(fileName);\n            attachmentBodyPart.setDataHandler(new DataHandler(source));\n            attachmentBodyPart.setFileName(source.getName());\n\n            MimeMultipart multipart = new MimeMultipart();\n            multipart.addBodyPart(messageBodyPart);\n            multipart.addBodyPart(attachmentBodyPart);\n            message.setContent(multipart);\n\n            Transport.send(message);\n\n\n        } catch (MessagingException ex) {\n            throw new RuntimeException(ex);\n        }\n</code></pre>\n<p>on fileName i have the file name saved with</p>\n<pre><code>FileOutputStream outputStream = context.openFileOutput(nameExelFile, Context.MODE_PRIVATE);\n</code></pre>\n<p>the error i get is:</p>\n<pre><code>\n\nE/AndroidRuntime: FATAL EXCEPTION: AsyncTask #1\n    Process: com.gattolfo.gestionaluber, PID: 6179\n    java.lang.RuntimeException: An error occurred while executing doInBackground()\n        at android.os.AsyncTask$4.done(AsyncTask.java:415)\n        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:383)\n        at java.util.concurrent.FutureTask.setException(FutureTask.java:252)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:271)\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:923)\n     Caused by: java.lang.RuntimeException: javax.mail.MessagingException: IOException while sending message;\n      nested exception is:\n        javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; \n        boundary=&quot;----=_Part_0_82827468.1680314088984&quot;\n        at com.gattolfo.gestionaluber.DataManager.DbRappresentation.Registri.MailSender.sendMailInstant(MailSender.java:296)\n        at com.gattolfo.gestionaluber.DataManager.DbRappresentation.Registri.MailSender.doInBackground(MailSender.java:141)\n        at com.gattolfo.gestionaluber.DataManager.DbRappresentation.Registri.MailSender.doInBackground(MailSender.java:48)\n        at android.os.AsyncTask$3.call(AsyncTask.java:394)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n            ... 4 more\n     Caused by: javax.mail.MessagingException: IOException while sending message;\n      nested exception is:\n        javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; \n        boundary=&quot;----=_Part_0_82827468.1680314088984&quot;\n        at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1350)\n        at javax.mail.Transport.send0(Transport.java:231)\n        at javax.mail.Transport.send(Transport.java:100)\n        at com.gattolfo.gestionaluber.DataManager.DbRappresentation.Registri.MailSender.sendMailInstant(MailSender.java:292)\n            ... 8 more\n     Caused by: javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; \n        boundary=&quot;----=_Part_0_82827468.1680314088984&quot;\n        at javax.activation.ObjectDataContentHandler.writeTo(DataHandler.java:878)\n        at javax.activation.DataHandler.writeTo(DataHandler.java:300)\n        at javax.mail.internet.MimeBodyPart.writeTo(MimeBodyPart.java:1670)\n        at javax.mail.internet.MimeMessage.writeTo(MimeMessage.java:1889)\n        at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1300)\n            ... 11 more\n</code></pre>\n<p>i'm uscing</p>\n<pre><code>    implementation 'com.sun.mail:android-mail:1.6.7'\n    implementation 'com.sun.mail:android-activation:1.6.7'\n</code></pre>\n<p>and I also tried with:</p>\n<pre><code>implementation 'com.sun.mail:jakarta.mail:2.0.1'\n</code></pre>\n<p>please help!!</p>\n<p>the same code on my PC (windows java) work fine, i think the problem is for the input/output from the android memory</p>\n<p>[EDIT]</p>\n<p>I noticed that adding an attachment like this:</p>\n<pre><code>MimeBodyPart messageBodyPart = new MimeBodyPart();\n           String jsonContent = &quot;{\\&quot;name\\&quot;: \\&quot;John Doe\\&quot;, \\&quot;email\\&quot;: \\&quot;johndoe@example.com\\&quot;}&quot;;\n           messageBodyPart.setContent(jsonContent, &quot;application/json&quot;);\n\n</code></pre>\n<p>From the exact same error, the only way it won't give an error is if I don't add attachments like this:</p>\n<pre><code> MimeMessage message = new MimeMessage(session);\n           message.setFrom(new InternetAddress(username));\n           message.addRecipient(Message.RecipientType.TO, new InternetAddress(mailReciver));\n           message.setSubject(&quot;Report utilizzo cassette&quot;);\n           message.setText(&quot;message&quot;);\n           Transport.send(message);\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","one-to-many"],"answers":[{"tags":[],"owner":{"account_id":19480151,"reputation":31,"user_id":14250670,"display_name":"omid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680241481,"creation_date":1680241481,"answer_id":75895222,"question_id":75893469,"body_markdown":"You could have a dto object like this\r\n\r\n    public class EmployeeDto{\r\n\t\tprivate String employeeName;\r\n\t\tprivate String employeeSurname;\r\n\t\tprivate String employeeEmail;\r\n\t\tprivate String employeeIdentityNumber;\r\n\t\tprivate long departmentId;\r\n\t}\r\n\r\nA controller mthod like this:\r\n\r\n    @PostMapping(&quot;employee&quot;)\r\n\tpublic Employee save(@RequestBody EmployeeDto employeeDto){\r\n\t\tEmployee em = employeeDto.toEntity();\r\n\t\t//Assuming department with given id already exist\r\n\t\tem.setDepartment(Department.builder().departmentId(employeeDto.departmentId).build());\r\n\t\treturn emRepository.save(employee);\r\n\t}\r\n\r\nto my knowlage, this should do the job.","title":"SpringBoot @OneToMany Trigger Error And Request Sending Error","body":"<p>You could have a dto object like this</p>\n<pre><code>public class EmployeeDto{\n    private String employeeName;\n    private String employeeSurname;\n    private String employeeEmail;\n    private String employeeIdentityNumber;\n    private long departmentId;\n}\n</code></pre>\n<p>A controller mthod like this:</p>\n<pre><code>@PostMapping(&quot;employee&quot;)\npublic Employee save(@RequestBody EmployeeDto employeeDto){\n    Employee em = employeeDto.toEntity();\n    //Assuming department with given id already exist\n    em.setDepartment(Department.builder().departmentId(employeeDto.departmentId).build());\n    return emRepository.save(employee);\n}\n</code></pre>\n<p>to my knowlage, this should do the job.</p>\n"},{"tags":[],"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680246800,"creation_date":1680245971,"answer_id":75895701,"question_id":75893469,"body_markdown":"you can try this,\r\n\r\n    {\r\n       &quot;employeeName&quot;: &quot;Josh&quot;,\r\n       &quot;employeeSurname&quot;: &quot;Long&quot;,\r\n       &quot;employeeEmail&quot;: &quot;joshlong@gmail.com&quot;,\r\n       &quot;employeeIdentityNumber&quot;: &quot;12345678912&quot;,\r\n       &quot;department&quot;: {&quot;departmentId&quot;: &quot;5342432432&quot;}\r\n    }\r\n\r\n\r\nand for department,\r\n\r\n    {\r\n       &quot;departmentName&quot;: &quot;department&quot;, \r\n       &quot;employees&quot; : [{&quot;id&quot; : &quot;79878&quot;}, {&quot;id&quot;: &quot;654654&quot;}, ...]\r\n    }","title":"SpringBoot @OneToMany Trigger Error And Request Sending Error","body":"<p>you can try this,</p>\n<pre><code>{\n   &quot;employeeName&quot;: &quot;Josh&quot;,\n   &quot;employeeSurname&quot;: &quot;Long&quot;,\n   &quot;employeeEmail&quot;: &quot;joshlong@gmail.com&quot;,\n   &quot;employeeIdentityNumber&quot;: &quot;12345678912&quot;,\n   &quot;department&quot;: {&quot;departmentId&quot;: &quot;5342432432&quot;}\n}\n</code></pre>\n<p>and for department,</p>\n<pre><code>{\n   &quot;departmentName&quot;: &quot;department&quot;, \n   &quot;employees&quot; : [{&quot;id&quot; : &quot;79878&quot;}, {&quot;id&quot;: &quot;654654&quot;}, ...]\n}\n</code></pre>\n"}],"owner":{"account_id":16423250,"reputation":219,"user_id":11863934,"display_name":"fsk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680313150,"creation_date":1680215585,"question_id":75893469,"body_markdown":"I have 2 entity classes. One employee should has one department. But one department can has many employees.\r\n\r\nWhen I send to postman request insert employee, I want to trigger Department table. \r\n```\r\n@Table\r\n@Entity(name = &quot;employee&quot;)\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Employee extends Auditable&lt;String&gt; implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;employee_name&quot;, nullable = false)\r\n    private String employeeName;\r\n\r\n    @Column(name = &quot;employee_surname&quot;, nullable = false)\r\n    private String employeeSurname;\r\n\r\n    @Column(name = &quot;employee_email&quot;,\r\n            nullable = false,\r\n            unique = true)\r\n    private String employeeEmail;\r\n\r\n    @Column(name = &quot;employee_identity_number&quot;,\r\n            nullable = false,\r\n            unique = true,\r\n            length = 11)\r\n    private String employeeIdentityNumber;\r\n\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;department_id&quot;)\r\n    private Department department;\r\n\r\n\r\n}\r\n```\r\nAbove code my Employee class.\r\n```\r\n@Table\r\n@Entity(name = &quot;department&quot;)\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Department {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long departmentId;\r\n\r\n    @Column(name = &quot;department_name&quot;, unique = true)\r\n    private String departmentName;\r\n\r\n    @OneToMany(mappedBy = &quot;department&quot;)\r\n    private Set&lt;Employee&gt; employees;\r\n\r\n}\r\n```\r\nAbove code my Department class.\r\n\r\nWhen I send postman request as JSON like following,\r\n```\r\n{\r\n    &quot;employeeName&quot;: &quot;Josh&quot;,\r\n    &quot;employeeSurname&quot;: &quot;Long&quot;,\r\n    &quot;employeeEmail&quot;: &quot;joshlong@gmail.com&quot;,\r\n    &quot;employeeIdentityNumber&quot;: &quot;12345678912&quot;,\r\n    &quot;department&quot;: 1\r\n}\r\n```\r\nI know, department property is wrong. I should define as department object. But i want to send just department id.\r\n\r\nAnd when I send this request, I want to trigger employees field in department table.","title":"SpringBoot @OneToMany Trigger Error And Request Sending Error","body":"<p>I have 2 entity classes. One employee should has one department. But one department can has many employees.</p>\n<p>When I send to postman request insert employee, I want to trigger Department table.</p>\n<pre><code>@Table\n@Entity(name = &quot;employee&quot;)\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Employee extends Auditable&lt;String&gt; implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Column(name = &quot;employee_name&quot;, nullable = false)\n    private String employeeName;\n\n    @Column(name = &quot;employee_surname&quot;, nullable = false)\n    private String employeeSurname;\n\n    @Column(name = &quot;employee_email&quot;,\n            nullable = false,\n            unique = true)\n    private String employeeEmail;\n\n    @Column(name = &quot;employee_identity_number&quot;,\n            nullable = false,\n            unique = true,\n            length = 11)\n    private String employeeIdentityNumber;\n\n\n    @ManyToOne\n    @JoinColumn(name = &quot;department_id&quot;)\n    private Department department;\n\n\n}\n</code></pre>\n<p>Above code my Employee class.</p>\n<pre><code>@Table\n@Entity(name = &quot;department&quot;)\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Department {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long departmentId;\n\n    @Column(name = &quot;department_name&quot;, unique = true)\n    private String departmentName;\n\n    @OneToMany(mappedBy = &quot;department&quot;)\n    private Set&lt;Employee&gt; employees;\n\n}\n</code></pre>\n<p>Above code my Department class.</p>\n<p>When I send postman request as JSON like following,</p>\n<pre><code>{\n    &quot;employeeName&quot;: &quot;Josh&quot;,\n    &quot;employeeSurname&quot;: &quot;Long&quot;,\n    &quot;employeeEmail&quot;: &quot;joshlong@gmail.com&quot;,\n    &quot;employeeIdentityNumber&quot;: &quot;12345678912&quot;,\n    &quot;department&quot;: 1\n}\n</code></pre>\n<p>I know, department property is wrong. I should define as department object. But i want to send just department id.</p>\n<p>And when I send this request, I want to trigger employees field in department table.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1382358616,"post_id":19494501,"comment_id":28915198,"body_markdown":"Use a `List` not an array.","body":"Use a <code>List</code> not an array."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1382358637,"post_id":19494501,"comment_id":28915212,"body_markdown":"I don&#39;t even understand what you&#39;re trying to achieve.","body":"I don&#39;t even understand what you&#39;re trying to achieve."},{"owner":{"account_id":153744,"reputation":3590,"user_id":369218,"accept_rate":57,"display_name":"AJJ"},"score":0,"creation_date":1382358645,"post_id":19494501,"comment_id":28915215,"body_markdown":"You don&#39;t want to print 0 from the array??? your question is not clear enough","body":"You don&#39;t want to print 0 from the array??? your question is not clear enough"},{"owner":{"account_id":1667682,"reputation":51,"user_id":1534779,"accept_rate":0,"display_name":"user1534779"},"score":0,"creation_date":1382358886,"post_id":19494501,"comment_id":28915366,"body_markdown":"no I do not. because the Array consist of 100 integers and if I print 0 , the for loop will exit. and if I print whatever is in the array it might be 1 , 2 ,3 ,4 and a bunch of 0s those are the ones I want to eliminate","body":"no I do not. because the Array consist of 100 integers and if I print 0 , the for loop will exit. and if I print whatever is in the array it might be 1 , 2 ,3 ,4 and a bunch of 0s those are the ones I want to eliminate"},{"owner":{"account_id":153744,"reputation":3590,"user_id":369218,"accept_rate":57,"display_name":"AJJ"},"score":0,"creation_date":1382359090,"post_id":19494501,"comment_id":28915508,"body_markdown":"Thomas got it.. Use List&lt;Integer&gt;","body":"Thomas got it.. Use List&lt;Integer&gt;"}],"answers":[{"comments":[{"owner":{"account_id":1667682,"reputation":51,"user_id":1534779,"accept_rate":0,"display_name":"user1534779"},"score":0,"creation_date":1382358960,"post_id":19494655,"comment_id":28915427,"body_markdown":"can I prevent those remaining 0s to be printed","body":"can I prevent those remaining 0s to be printed"}],"tags":[],"owner":{"account_id":2841781,"reputation":12126,"user_id":2441252,"display_name":"Leigh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382358852,"creation_date":1382358852,"answer_id":19494655,"question_id":19494501,"body_markdown":"The rest of the array has been initialised to 0 for each item in this call:\r\n\r\n```   int [] array = new int [100];```\r\n\r\nAnd then when the first `0` is detected it breaks the `for` loop and prints everything.","title":"Java Array printing 0","body":"<p>The rest of the array has been initialised to 0 for each item in this call:</p>\n\n<p><code>int [] array = new int [100];</code></p>\n\n<p>And then when the first <code>0</code> is detected it breaks the <code>for</code> loop and prints everything.</p>\n"},{"comments":[{"owner":{"account_id":1667682,"reputation":51,"user_id":1534779,"accept_rate":0,"display_name":"user1534779"},"score":0,"creation_date":1382358995,"post_id":19494670,"comment_id":28915453,"body_markdown":"well it has to be 100 , and I can terminate by entering 0 , all the other 0 will be printed","body":"well it has to be 100 , and I can terminate by entering 0 , all the other 0 will be printed"}],"tags":[],"owner":{"account_id":905416,"reputation":25876,"user_id":940428,"accept_rate":100,"display_name":"Prabhakaran Ramaswamy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382358897,"creation_date":1382358897,"answer_id":19494670,"question_id":19494501,"body_markdown":"You need to create the array with your own size. While creating your array 100 static memory allocated and all values are assigned to 0. \r\n\r\n     System.out.print(&quot;Enter the array size&quot;);\r\n     int arraySize = input.nextInt();\r\n     int [] array = new int [arraySize];\r\n\r\nOtherwise use  `ArrayList&lt;Integer&gt;` to store the numbers","title":"Java Array printing 0","body":"<p>You need to create the array with your own size. While creating your array 100 static memory allocated and all values are assigned to 0. </p>\n\n<pre><code> System.out.print(\"Enter the array size\");\n int arraySize = input.nextInt();\n int [] array = new int [arraySize];\n</code></pre>\n\n<p>Otherwise use  <code>ArrayList&lt;Integer&gt;</code> to store the numbers</p>\n"},{"comments":[{"owner":{"account_id":153744,"reputation":3590,"user_id":369218,"accept_rate":57,"display_name":"AJJ"},"score":0,"creation_date":1382359120,"post_id":19494678,"comment_id":28915530,"body_markdown":"he got it.. As suggested use List&lt;Integer&gt;, instead of array.","body":"he got it.. As suggested use List&lt;Integer&gt;, instead of array."}],"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1382358913,"creation_date":1382358913,"answer_id":19494678,"question_id":19494501,"body_markdown":"I think I understand now. \r\n\r\n `int [] array = new int [100];` will create an array of 100 ints and each element is initialized with the value 0 (that&#39;s the default for `int`). Thus when you print your array, 100 numbers will be printed, regardless of whether they are 0 or not.\r\n\r\nYou have a few options here:\r\n\r\n- Use a `List&lt;Integer&gt;`, that way the list only contains numbers that were entered before the first 0.\r\n- Print in a loop and break at the first 0 or at the end of the array.\r\n- Optionally you might want to keep count of how many numbers have been entered, e.g. for calculating an average etc. This could be used to iterate over those first n elements in the array.\r\n\r\nThat being said, I&#39;d suggest using lists, since this will be more flexible.","title":"Java Array printing 0","body":"<p>I think I understand now. </p>\n\n<p><code>int [] array = new int [100];</code> will create an array of 100 ints and each element is initialized with the value 0 (that's the default for <code>int</code>). Thus when you print your array, 100 numbers will be printed, regardless of whether they are 0 or not.</p>\n\n<p>You have a few options here:</p>\n\n<ul>\n<li>Use a <code>List&lt;Integer&gt;</code>, that way the list only contains numbers that were entered before the first 0.</li>\n<li>Print in a loop and break at the first 0 or at the end of the array.</li>\n<li>Optionally you might want to keep count of how many numbers have been entered, e.g. for calculating an average etc. This could be used to iterate over those first n elements in the array.</li>\n</ul>\n\n<p>That being said, I'd suggest using lists, since this will be more flexible.</p>\n"},{"tags":[],"owner":{"account_id":153744,"reputation":3590,"user_id":369218,"accept_rate":57,"display_name":"AJJ"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1382359611,"creation_date":1382359611,"answer_id":19494936,"question_id":19494501,"body_markdown":"Using ingeter array. But this will print null when you print the array. Add a condition to not do so while printing.\r\n\r\n    package com.prasad.samples.views;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n    \r\n    public class November2012 {\r\n        public static void main(String[] args) {\r\n            int tal;\r\n            int summa=0;\r\n            Scanner input = new Scanner(System.in);\r\n            Integer [] array = new Integer [100];\r\n            System.out.println(array[0]);\r\n            int min = Integer.MAX_VALUE;\r\n            int max = 0;\r\n    \r\n            for (int i=0 ; i&lt;array.length; i++ ){\r\n                System.out.print(&quot;Ange tal 0 avsluta&quot;);\r\n                array[i] = input.nextInt();\r\n                summa =summa+array[i];\r\n                if (array[i]==0) {\r\n                    break;\r\n                }\r\n                while(array[i]&lt;min)\r\n                { \r\n                    min=array[i];\r\n                }\r\n                while(array[i]&gt;max)\r\n                { \r\n                    max=array[i];\r\n                }\r\n            }\r\n    \r\n            System.out.print(&quot;ar &quot; + Arrays.toString(array));    \r\n            System.out.println();\r\n            System.out.print(&quot;summan ar &quot; + summa);\r\n            System.out.println();\r\n            System.out.print(&quot;Max ar &quot; + max);\r\n            System.out.println();\r\n            System.out.print(&quot;Min ar &quot; + min);\r\n        }\r\n    }\r\n\r\n","title":"Java Array printing 0","body":"<p>Using ingeter array. But this will print null when you print the array. Add a condition to not do so while printing.</p>\n\n<pre><code>package com.prasad.samples.views;\n\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class November2012 {\n    public static void main(String[] args) {\n        int tal;\n        int summa=0;\n        Scanner input = new Scanner(System.in);\n        Integer [] array = new Integer [100];\n        System.out.println(array[0]);\n        int min = Integer.MAX_VALUE;\n        int max = 0;\n\n        for (int i=0 ; i&lt;array.length; i++ ){\n            System.out.print(\"Ange tal 0 avsluta\");\n            array[i] = input.nextInt();\n            summa =summa+array[i];\n            if (array[i]==0) {\n                break;\n            }\n            while(array[i]&lt;min)\n            { \n                min=array[i];\n            }\n            while(array[i]&gt;max)\n            { \n                max=array[i];\n            }\n        }\n\n        System.out.print(\"ar \" + Arrays.toString(array));    \n        System.out.println();\n        System.out.print(\"summan ar \" + summa);\n        System.out.println();\n        System.out.print(\"Max ar \" + max);\n        System.out.println();\n        System.out.print(\"Min ar \" + min);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1667682,"reputation":51,"user_id":1534779,"accept_rate":0,"display_name":"user1534779"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2939,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":4,"score":-3,"last_activity_date":1680312959,"creation_date":1382358418,"question_id":19494501,"body_markdown":"In the program if I enter 0 it exits, the problem is when I am trying to print the array afterwards there will be alot of 0 if I choose to exit. How do I prevent that being print.\r\n\r\n    package lu.ics.Sohail.labbar;\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n\r\n    public class November2012 {\r\n        public static void main(String[] args) {\r\n            int tal;\r\n            int summa=0;\r\n            Scanner input = new Scanner(System.in);\r\n            int [] array = new int [100];\r\n            int min = Integer.MAX_VALUE;\r\n            int max = 0;\r\n        \r\n            for (int i=0 ; i&lt;array.length; i++ ){\r\n                System.out.print(&quot;Ange tal 0 avsluta&quot;);\r\n                array[i] = input.nextInt();\r\n                summa =summa+array[i];\r\n                if (array[i]==0) {\r\n                    break;\r\n                }\r\n                while(array[i]&lt;min)\r\n                { \r\n                    min=array[i];\r\n                }\r\n                while(array[i]&gt;max)\r\n                { \r\n                    max=array[i];\r\n                }\r\n            }\r\n     \r\n            System.out.print(&quot;Talen &#228;r &quot; + Arrays.toString(array));    \r\n            System.out.println();\r\n            System.out.print(&quot;Summan &#228;r &quot; + summa);\r\n            System.out.println();\r\n            System.out.print(&quot;Max &#228;r &quot; + max);\r\n            System.out.println();\r\n            System.out.print(&quot;Min &#228;r &quot; + min);\r\n        }\r\n    }\r\n","title":"Java Array printing 0","body":"<p>In the program if I enter 0 it exits, the problem is when I am trying to print the array afterwards there will be alot of 0 if I choose to exit. How do I prevent that being print.</p>\n\n<pre><code>package lu.ics.Sohail.labbar;\n\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class November2012 {\n    public static void main(String[] args) {\n        int tal;\n        int summa=0;\n        Scanner input = new Scanner(System.in);\n        int [] array = new int [100];\n        int min = Integer.MAX_VALUE;\n        int max = 0;\n\n        for (int i=0 ; i&lt;array.length; i++ ){\n            System.out.print(\"Ange tal 0 avsluta\");\n            array[i] = input.nextInt();\n            summa =summa+array[i];\n            if (array[i]==0) {\n                break;\n            }\n            while(array[i]&lt;min)\n            { \n                min=array[i];\n            }\n            while(array[i]&gt;max)\n            { \n                max=array[i];\n            }\n        }\n\n        System.out.print(\"Talen är \" + Arrays.toString(array));    \n        System.out.println();\n        System.out.print(\"Summan är \" + summa);\n        System.out.println();\n        System.out.print(\"Max är \" + max);\n        System.out.println();\n        System.out.print(\"Min är \" + min);\n    }\n}\n</code></pre>\n"},{"tags":["java","exception","jackson","deserialization","stack-trace"],"answers":[{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1680314953,"post_id":75903707,"comment_id":133882473,"body_markdown":"I could have sworn I tried that. Seems to work now, thanks!","body":"I could have sworn I tried that. Seems to work now, thanks!"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1680410912,"post_id":75903707,"comment_id":133892454,"body_markdown":"Of course, I was calling it from the constuctor &#129318;‍♂️","body":"Of course, I was calling it from the constuctor 🤦‍♂️"}],"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680310974,"creation_date":1680309872,"answer_id":75903707,"question_id":75903486,"body_markdown":"You can use `fillInStackTrace()` to reset the stack trace to the point at which you throw:\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) throws Exception {\r\n        Exception e = createException();\r\n        e.fillInStackTrace();\r\n        throw e;\r\n    }\r\n\r\n    private static Exception createException() {\r\n        return new Exception(&quot;my message&quot;);\r\n    }\r\n}\r\n```\r\nproduces:\r\n```\r\nException in thread &quot;main&quot; java.lang.Exception: my message\r\n\tat org.example.Main.main(Main.java:11)\r\n```\r\nwithout the call to `fillInStackTrace() the output is:\r\n```\r\nException in thread &quot;main&quot; java.lang.Exception: my message\r\n\tat org.example.Main.createException(Main.java:16)\r\n\tat org.example.Main.main(Main.java:10)\r\n```","title":"Deserialize JSON to Exception object","body":"<p>You can use <code>fillInStackTrace()</code> to reset the stack trace to the point at which you throw:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws Exception {\n        Exception e = createException();\n        e.fillInStackTrace();\n        throw e;\n    }\n\n    private static Exception createException() {\n        return new Exception(&quot;my message&quot;);\n    }\n}\n</code></pre>\n<p>produces:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Exception: my message\n    at org.example.Main.main(Main.java:11)\n</code></pre>\n<p>without the call to `fillInStackTrace() the output is:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Exception: my message\n    at org.example.Main.createException(Main.java:16)\n    at org.example.Main.main(Main.java:10)\n</code></pre>\n"}],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75903707,"answer_count":1,"score":1,"last_activity_date":1680310974,"creation_date":1680305621,"question_id":75903486,"body_markdown":"I&#39;m using Jackson to deserialize an Exception object from JSON. Here&#39;s a simplified demo (using an implicit [delegating][1] creator):\r\n\r\n    throw new ObjectMapper().readValue(&quot;\\&quot;custom error message\\&quot;&quot;, Exception.class);\r\n\r\nThis works, but unfortunately the stack trace includes the Jackson frames leading up to the instantiation of the exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.Exception: custom error message\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat com.fasterxml.jackson.databind.introspect.AnnotatedConstructor.call1(AnnotatedConstructor.java:133)\r\n    \tat com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromString(StdValueInstantiator.java:332)\r\n    \tat com.fasterxml.jackson.databind.deser.std.StdDeserializer._deserializeFromString(StdDeserializer.java:265)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromString(BeanDeserializerBase.java:1495)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:197)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\r\n    \tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3597)\r\n\r\nIs there a way to clean it up so it looks like it was created on the same line it was thrown?\r\n\r\n  [1]: https://www.cowtowncoder.com/blog/archives/2011/07/entry_457.html","title":"Deserialize JSON to Exception object","body":"<p>I'm using Jackson to deserialize an Exception object from JSON. Here's a simplified demo (using an implicit <a href=\"https://www.cowtowncoder.com/blog/archives/2011/07/entry_457.html\" rel=\"nofollow noreferrer\">delegating</a> creator):</p>\n<pre><code>throw new ObjectMapper().readValue(&quot;\\&quot;custom error message\\&quot;&quot;, Exception.class);\n</code></pre>\n<p>This works, but unfortunately the stack trace includes the Jackson frames leading up to the instantiation of the exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Exception: custom error message\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at com.fasterxml.jackson.databind.introspect.AnnotatedConstructor.call1(AnnotatedConstructor.java:133)\n    at com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromString(StdValueInstantiator.java:332)\n    at com.fasterxml.jackson.databind.deser.std.StdDeserializer._deserializeFromString(StdDeserializer.java:265)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromString(BeanDeserializerBase.java:1495)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:197)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3597)\n</code></pre>\n<p>Is there a way to clean it up so it looks like it was created on the same line it was thrown?</p>\n"},{"tags":["java","android","in-app-purchase","in-app-billing"],"owner":{"account_id":19487421,"reputation":1,"user_id":14256447,"display_name":"MSterling"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680309909,"creation_date":1680309909,"question_id":75903708,"body_markdown":"Using Android Studio Electric Eel. Implementing billing Library 5.0. Gradle Version 7.1 Android Gradle Plugin Version 7.0.4. \r\n\r\nHave been trying to get this to work for several days in several ways always end up in the same place -- ITEM_ALREADY_OWNED even when creating new accounts that have never made a purchase in Google Play. I have detailed the steps below. \r\n\r\n\r\nCheck product available on Google Play:\r\n\r\n    ImmutableList productList = ImmutableList.of(\r\n      QueryProductDetailsParams.Product.newBuilder()\r\n         .setProductId(&quot;cp_content&quot;)\r\n         .setProductType(BillingClient.ProductType.INAPP)\r\n         .build()\r\n        );\r\n\r\n    billingClient.queryProductDetailsAsync(\r\n      params,\r\n      (billingResult, productDetailsList) -&gt; {\r\n\r\n      runOnUiThread(() -&gt; {\r\n         for (ProductDetails productDetails : productDetailsList) {\r\n           if (productDetails.getProductId().equals(&quot;cp_content&quot;)) {  \r\n             lauchpurchaseFlow(productDetails);\r\n            }\r\n          }\r\n      });\r\n     }\r\n    );\r\n\r\n\r\nComes back fine.\r\n\r\nLaunch Purchase Flow:\r\n\r\n    runOnUiThread(() -&gt; {\r\n      if (productDetails != null) {\r\n        ImmutableList productDetailsParamsList = ImmutableList.of(\r\n          BillingFlowParams.ProductDetailsParams.newBuilder()\r\n            .setProductDetails(productDetails)\r\n            .build()\r\n    );\r\n                \r\n    BillingFlowParams billingFlowParams = BillingFlowParams.newBuilder()\r\n      .setProductDetailsParamsList(productDetailsParamsList)\r\n      .build();\r\n    BillingResult billingResult = billingClient.launchBillingFlow(\r\n      getMyActivity(), billingFlowParams);\r\n                \r\n      }\r\n    });\r\n \r\n\r\nbillingResponse.getResponseCode = 0 or OK in Log Statement. Then\r\n\r\nonPurchasesUpdatedListener called and billingResultsCode is 7 and purchases is null. Added queryPurchaseAsync as recommended by Google Documents (link https://developer.android.com/google/play/billing/errors under ITEM_ALREADY_OWNED) -BUT this always comes back as ITEM_ALREADY_OWNED.\r\n\r\n\r\n    Log.d(&quot;MainVC&quot;,&quot;LINE 365....billingResult = &quot; + billingResult.getResponseCode());\r\n    Log.d(&quot;MainVC&quot;,&quot;LINE 366.......purchases = &quot; + purchases);\r\n\r\n    if (billingResult.getResponseCode() \r\n      == BillingClient.BillingResponseCode.ITEM_ALREADY_OWNED || purchases == null) {\r\n            \r\n    billingClient.queryPurchasesAsync(\r\n       QueryPurchasesParams.newBuilder()\r\n          .setProductType(BillingClient.ProductType.INAPP)\r\n          .build(),\r\n          new PurchasesResponseListener() {\r\n          @Override\r\n          public void onQueryPurchasesResponse\r\n            (@NonNull BillingResult billingResult, @NonNull List&lt;Purchase&gt; list) {\r\n\r\n    --------billingResults.getResponseCode = 7 ITEM_ALREADY_OWNED -------------\r\n \r\n         if (billingResult.getResponseCode() ==\r\n           BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\r\n              for (Purchase purchase: purchases) {\r\n                            \r\n                handlePurchases(purchases);\r\n              }\r\n            }\r\n          }\r\n        }\r\n     );\r\n    }\r\n\r\n\r\nI have tried many StackFlow recommendations/suggestions but nothing as solved the problem. Any help greatly appreciated.\r\n       \r\n   \r\n\r\nTried all solutions I could find on StackFlow (even resetting to billing version 4.0) always ended up in the same place. ITEM_ALREADY_OWNED.","title":"Android inApp purchase always shows Code 7 Already Owned","body":"<p>Using Android Studio Electric Eel. Implementing billing Library 5.0. Gradle Version 7.1 Android Gradle Plugin Version 7.0.4.</p>\n<p>Have been trying to get this to work for several days in several ways always end up in the same place -- ITEM_ALREADY_OWNED even when creating new accounts that have never made a purchase in Google Play. I have detailed the steps below.</p>\n<p>Check product available on Google Play:</p>\n<pre><code>ImmutableList productList = ImmutableList.of(\n  QueryProductDetailsParams.Product.newBuilder()\n     .setProductId(&quot;cp_content&quot;)\n     .setProductType(BillingClient.ProductType.INAPP)\n     .build()\n    );\n\nbillingClient.queryProductDetailsAsync(\n  params,\n  (billingResult, productDetailsList) -&gt; {\n\n  runOnUiThread(() -&gt; {\n     for (ProductDetails productDetails : productDetailsList) {\n       if (productDetails.getProductId().equals(&quot;cp_content&quot;)) {  \n         lauchpurchaseFlow(productDetails);\n        }\n      }\n  });\n }\n);\n</code></pre>\n<p>Comes back fine.</p>\n<p>Launch Purchase Flow:</p>\n<pre><code>runOnUiThread(() -&gt; {\n  if (productDetails != null) {\n    ImmutableList productDetailsParamsList = ImmutableList.of(\n      BillingFlowParams.ProductDetailsParams.newBuilder()\n        .setProductDetails(productDetails)\n        .build()\n);\n            \nBillingFlowParams billingFlowParams = BillingFlowParams.newBuilder()\n  .setProductDetailsParamsList(productDetailsParamsList)\n  .build();\nBillingResult billingResult = billingClient.launchBillingFlow(\n  getMyActivity(), billingFlowParams);\n            \n  }\n});\n</code></pre>\n<p>billingResponse.getResponseCode = 0 or OK in Log Statement. Then</p>\n<p>onPurchasesUpdatedListener called and billingResultsCode is 7 and purchases is null. Added queryPurchaseAsync as recommended by Google Documents (link <a href=\"https://developer.android.com/google/play/billing/errors\" rel=\"nofollow noreferrer\">https://developer.android.com/google/play/billing/errors</a> under ITEM_ALREADY_OWNED) -BUT this always comes back as ITEM_ALREADY_OWNED.</p>\n<pre><code>Log.d(&quot;MainVC&quot;,&quot;LINE 365....billingResult = &quot; + billingResult.getResponseCode());\nLog.d(&quot;MainVC&quot;,&quot;LINE 366.......purchases = &quot; + purchases);\n\nif (billingResult.getResponseCode() \n  == BillingClient.BillingResponseCode.ITEM_ALREADY_OWNED || purchases == null) {\n        \nbillingClient.queryPurchasesAsync(\n   QueryPurchasesParams.newBuilder()\n      .setProductType(BillingClient.ProductType.INAPP)\n      .build(),\n      new PurchasesResponseListener() {\n      @Override\n      public void onQueryPurchasesResponse\n        (@NonNull BillingResult billingResult, @NonNull List&lt;Purchase&gt; list) {\n\n--------billingResults.getResponseCode = 7 ITEM_ALREADY_OWNED -------------\n\n     if (billingResult.getResponseCode() ==\n       BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\n          for (Purchase purchase: purchases) {\n                        \n            handlePurchases(purchases);\n          }\n        }\n      }\n    }\n );\n}\n</code></pre>\n<p>I have tried many StackFlow recommendations/suggestions but nothing as solved the problem. Any help greatly appreciated.</p>\n<p>Tried all solutions I could find on StackFlow (even resetting to billing version 4.0) always ended up in the same place. ITEM_ALREADY_OWNED.</p>\n"},{"tags":["java","sqlite","schemaspy"],"comments":[{"owner":{"account_id":2597516,"reputation":1351,"user_id":2250843,"display_name":"Antony Gibbs"},"score":0,"creation_date":1660926596,"post_id":62626447,"comment_id":129657079,"body_markdown":"Any progress on this?","body":"Any progress on this?"}],"answers":[{"tags":[],"owner":{"account_id":20917390,"reputation":76,"user_id":15366766,"display_name":"Nils Petz&#228;ll"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680308113,"creation_date":1680308113,"answer_id":75903608,"question_id":62626447,"body_markdown":"The first error read-only probably is because it tries to create a database in root. Path to db is absolut\r\n\r\nI don&#39;t know exactly which version of SchemaSpy, but `-t sqlite-xerial` has been added for the xerial driver.\r\n\r\nAnd it seems that the `-dp` argument didn&#39;t point to the driver or that it wasn&#39;t resolved correctly.\r\n\r\nBut as an example having everything in `/chinook` (schemaspy, xerial JDBC driver, database) and running from that directory the command should look something like\r\n\r\n`java -jar schemaspy-6.2.2.jar -dp /chinook/sqlite-jdbc-3.30.1.jar -t sqlite-xerial -db /chinook/chinook.db -sso -s chinook -cat chinook -o implied -o report`\r\n\r\nIf there&#39;s still any issues please create an issue at GitHub.","title":"How to use SchemaSpy with SQLite?","body":"<p>The first error read-only probably is because it tries to create a database in root. Path to db is absolut</p>\n<p>I don't know exactly which version of SchemaSpy, but <code>-t sqlite-xerial</code> has been added for the xerial driver.</p>\n<p>And it seems that the <code>-dp</code> argument didn't point to the driver or that it wasn't resolved correctly.</p>\n<p>But as an example having everything in <code>/chinook</code> (schemaspy, xerial JDBC driver, database) and running from that directory the command should look something like</p>\n<p><code>java -jar schemaspy-6.2.2.jar -dp /chinook/sqlite-jdbc-3.30.1.jar -t sqlite-xerial -db /chinook/chinook.db -sso -s chinook -cat chinook -o implied -o report</code></p>\n<p>If there's still any issues please create an issue at GitHub.</p>\n"}],"owner":{"account_id":61520,"reputation":1755,"user_id":183315,"accept_rate":39,"display_name":"writes_on"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1680308113,"creation_date":1593367812,"question_id":62626447,"body_markdown":"How to use SchemaSpy to create an ERD of an SQLite database? I&#39;m trying this with the chinook.db sample database. \r\n\r\nUsing this command: \r\n\r\n    java -jar schemaspy-6.1.0.jar -t sqlite -db chinook.db -u admin -o .\r\n\r\nI get this partial output:\r\n\r\n    INFO  - The following profiles are active: default\r\n    INFO  - Started Main in 0.937 seconds (JVM running for 1.232)\r\n    INFO  - Starting schema analysis\r\n    WARN  - Connection Failure\r\n    Failed to connect to database URL [jdbc:sqlite:/chinook.db] opening db: &#39;/chinook.db&#39;: Read-only file system\r\n    INFO  - StackTraces have been omitted, use `-debug` when executing SchemaSpy to see them\r\n\r\nI don&#39;t understand what Read-only is trying to tell me as this is executed in a directory of my own on my Mac.\r\n\r\nI&#39;ve downloaded the latest SQLite JDBC driver and tried this command line:\r\n\r\n    java -jar schemaspy-6.1.0.jar -t sqlite -dp sqlite-jdbc-3.30.1.jar -db chinook.db -u admin -o .\r\n\r\nAnd the system responds this way:\r\n\r\n    INFO  - The following profiles are active: default\r\n    INFO  - Started Main in 0.706 seconds (JVM running for 0.996)\r\n    INFO  - Starting schema analysis\r\n    WARN  - Connection Failure\r\n    Failed to connect to database URL [jdbc:sqlite:/chinook.db] Failed to create any of &#39;org.sqlite.JDBC&#39; driver from driverPath &#39;sqlite-jdbc-3.30.1.jar&#39; with sibling jars no.\r\n    Resulting in classpath: empty\r\n    There were missing paths in driverPath:\r\n    \tsqlite-jdbc-3.30.1.jar\r\n    Use commandline option &#39;-dp&#39; to specify driver location.\r\n    If you need to load sibling jars used &#39;-loadjars&#39;\r\n    INFO  - StackTraces have been omitted, use `-debug` when executing SchemaSpy to see them\r\n    sd","title":"How to use SchemaSpy with SQLite?","body":"<p>How to use SchemaSpy to create an ERD of an SQLite database? I'm trying this with the chinook.db sample database.</p>\n<p>Using this command:</p>\n<pre><code>java -jar schemaspy-6.1.0.jar -t sqlite -db chinook.db -u admin -o .\n</code></pre>\n<p>I get this partial output:</p>\n<pre><code>INFO  - The following profiles are active: default\nINFO  - Started Main in 0.937 seconds (JVM running for 1.232)\nINFO  - Starting schema analysis\nWARN  - Connection Failure\nFailed to connect to database URL [jdbc:sqlite:/chinook.db] opening db: '/chinook.db': Read-only file system\nINFO  - StackTraces have been omitted, use `-debug` when executing SchemaSpy to see them\n</code></pre>\n<p>I don't understand what Read-only is trying to tell me as this is executed in a directory of my own on my Mac.</p>\n<p>I've downloaded the latest SQLite JDBC driver and tried this command line:</p>\n<pre><code>java -jar schemaspy-6.1.0.jar -t sqlite -dp sqlite-jdbc-3.30.1.jar -db chinook.db -u admin -o .\n</code></pre>\n<p>And the system responds this way:</p>\n<pre><code>INFO  - The following profiles are active: default\nINFO  - Started Main in 0.706 seconds (JVM running for 0.996)\nINFO  - Starting schema analysis\nWARN  - Connection Failure\nFailed to connect to database URL [jdbc:sqlite:/chinook.db] Failed to create any of 'org.sqlite.JDBC' driver from driverPath 'sqlite-jdbc-3.30.1.jar' with sibling jars no.\nResulting in classpath: empty\nThere were missing paths in driverPath:\n    sqlite-jdbc-3.30.1.jar\nUse commandline option '-dp' to specify driver location.\nIf you need to load sibling jars used '-loadjars'\nINFO  - StackTraces have been omitted, use `-debug` when executing SchemaSpy to see them\nsd\n</code></pre>\n"},{"tags":["java","jboss","wildfly"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1467639121,"post_id":38185633,"comment_id":63797575,"body_markdown":"How is the application deployed to begin with, and what type of deployments is the server allowing? Is it done by putting the ear in the standalone/deployments folder?","body":"How is the application deployed to begin with, and what type of deployments is the server allowing? Is it done by putting the ear in the standalone/deployments folder?"},{"owner":{"account_id":1314766,"reputation":374,"user_id":1261906,"accept_rate":55,"display_name":"Lu&#237;s Rigoni"},"score":0,"creation_date":1467639709,"post_id":38185633,"comment_id":63797945,"body_markdown":"@Gimby, please see the detailed question edits","body":"@Gimby, please see the detailed question edits"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1467702478,"post_id":38185633,"comment_id":63818890,"body_markdown":"After the undeployment happens, what files are there in the deployments folder?","body":"After the undeployment happens, what files are there in the deployments folder?"}],"answers":[{"tags":[],"owner":{"account_id":223299,"reputation":188,"user_id":1656858,"display_name":"Adrian Bartyczak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680306718,"creation_date":1669439964,"answer_id":74579917,"question_id":38185633,"body_markdown":"I had the same problem. I found out that I had Linux cron job running that was reloading WildFly. This may not be your case, but check your cron jobs just in case.\r\n\r\nHere is the log output I was getting.\r\n\r\n```2022-11-26 03:30:25,025 INFO  [org.jboss.ws.common.management] (MSC service thread 1-8) JBWS022052: Starting JBossWS 5.4.2.Final (Apache CXF 3.3.7) \r\n2022-11-26 03:30:27,110 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) WFLYSRV0207: Starting subdeployment (runtime-name: &quot;stych.war&quot;)\r\n2022-11-26 03:30:27,110 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) WFLYSRV0207: Starting subdeployment (runtime-name: &quot;stych-ejb.jar&quot;)\r\n2022-11-26 03:30:27,986 INFO  [org.jboss.weld.deployer] (MSC service thread 1-7) WFLYWELD0003: Processing weld deployment stych.ear\r\n2022-11-26 03:30:28,092 INFO  [org.hibernate.validator.internal.util.Version] (MSC service thread 1-7) HV000001: Hibernate Validator 6.0.22.Final\r\n2022-11-26 03:30:28,225 INFO  [org.jboss.weld.deployer] (MSC service thread 1-4) WFLYWELD0003: Processing weld deployment stych-ejb.jar\r\n2022-11-26 03:30:28,271 INFO  [org.jboss.weld.deployer] (MSC service thread 1-7) WFLYWELD0003: Processing weld deployment stych.war\r\n2022-11-26 03:30:28,460 INFO  [io.jaegertracing.internal.JaegerTracer] (MSC service thread 1-7) No shutdown hook registered: Please call close() manually on application shutdown.\r\n2022-11-26 03:30:28,517 INFO  [org.jboss.weld.Version] (MSC service thread 1-1) WELD-000900: 3.1.5 (Final)\r\n2022-11-26 03:30:28,627 WARN  [org.jboss.as.jaxrs] (MSC service thread 1-6) WFLYRS0018: Explicit usage of Jackson annotation in a JAX-RS deployment; the system will disable JSON-B processing for the current deployment. Consider setting the &#39;resteasy.preferJacksonOverJsonB&#39; property to &#39;false&#39; to restore JSON-B.\r\n2022-11-26 03:30:28,782 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 78) ISPN000128: Infinispan version: Infinispan &#39;Corona Extra&#39; 11.0.8.Final\r\n2022-11-26 03:30:28,859 INFO  [org.infinispan.CONFIG] (MSC service thread 1-2) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\r\n2022-11-26 03:30:28,861 INFO  [org.infinispan.CONFIG] (MSC service thread 1-2) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\r\n2022-11-26 03:30:28,991 INFO  [org.infinispan.PERSISTENCE] (ServerService Thread Pool -- 78) ISPN000556: Starting user marshaller &#39;org.wildfly.clustering.infinispan.spi.marshalling.InfinispanProtoStreamMarshaller&#39;\r\n2022-11-26 03:30:29,186 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 78) WFLYCLINF0002: Started http-remoting-connector cache from ejb container\r\n2022-11-26 03:30:29,807 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 80) RESTEASY002225: Deploying javax.ws.rs.core.Application: class com.stych.backend.rest.RestApplication\r\n2022-11-26 03:30:29,807 WARN  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 80) RESTEASY002155: Provider class org.jboss.resteasy.plugins.providers.jackson.ResteasyJacksonProvider is already registered.  2nd registration is being ignored.\r\n2022-11-26 03:30:29,825 WARN  [org.jboss.as.weld] (ServerService Thread Pool -- 80) WFLYWELD0052: Using deployment classloader to load proxy classes for module com.fasterxml.jackson.jaxrs.jackson-jaxrs-json-provider. Package-private access will not work. To fix this the module should declare dependencies on [org.jboss.weld.core, org.jboss.weld.spi, org.jboss.weld.api]\r\n2022-11-26 03:30:30,034 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 80) WFLYUT0021: Registered web context: &#39;/&#39; for server &#39;default-server&#39;\r\n2022-11-26 03:30:30,091 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;stych.ear&quot; (runtime-name : &quot;stych.ear&quot;)\r\n2022-11-26 03:30:30,136 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\r\n2022-11-26 03:30:30,139 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Full 22.0.1.Final (WildFly Core 14.0.1.Final) started in 8464ms - Started 516 of 718 services (356 services are lazy, passive or on-demand)\r\n2022-11-26 03:30:30,140 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\r\n2022-11-26 03:30:30,140 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\r\n&lt;------------------------------------------------------------------------------------------------&gt;\r\n            10 MINUTES LATER EVERYTHING GOT UNREGISTERED FOR AN UNKNOWN REASON\r\n&lt;------------------------------------------------------------------------------------------------&gt;\r\n2022-11-26 03:40:08,103 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-7) WFLYMAIL0002: Unbound mail session [java:jboss/mail/Default]\r\n2022-11-26 03:40:08,113 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 83) WFLYUT0022: Unregistered web context: &#39;/&#39; from server &#39;default-server&#39;\r\n2022-11-26 03:40:08,136 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0019: Host default-host stopping\r\n2022-11-26 03:40:08,143 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-7) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]\r\n2022-11-26 03:40:08,151 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-5) WFLYJCA0019: Stopped Driver service with driver-name = h2\r\n2022-11-26 03:40:08,164 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 83) WFLYCLINF0003: Stopped http-remoting-connector cache from ejb container\r\n2022-11-26 03:40:08,168 INFO  [org.infinispan.manager.DefaultCacheManager] (ServerService Thread Pool -- 83) Stopping cache manager null on null\r\n2022-11-26 03:40:08,185 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0008: Undertow HTTP listener default suspending\r\n2022-11-26 03:40:08,185 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) WFLYSRV0208: Stopped subdeployment (runtime-name: stych-ejb.jar) in 99ms\r\n2022-11-26 03:40:08,185 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0007: Undertow HTTP listener default stopped, was bound to 127.0.0.1:8080","title":"What could make WildFly undeploy automatically an EAR?","body":"<p>I had the same problem. I found out that I had Linux cron job running that was reloading WildFly. This may not be your case, but check your cron jobs just in case.</p>\n<p>Here is the log output I was getting.</p>\n<pre><code>2022-11-26 03:30:27,110 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) WFLYSRV0207: Starting subdeployment (runtime-name: &quot;stych.war&quot;)\n2022-11-26 03:30:27,110 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) WFLYSRV0207: Starting subdeployment (runtime-name: &quot;stych-ejb.jar&quot;)\n2022-11-26 03:30:27,986 INFO  [org.jboss.weld.deployer] (MSC service thread 1-7) WFLYWELD0003: Processing weld deployment stych.ear\n2022-11-26 03:30:28,092 INFO  [org.hibernate.validator.internal.util.Version] (MSC service thread 1-7) HV000001: Hibernate Validator 6.0.22.Final\n2022-11-26 03:30:28,225 INFO  [org.jboss.weld.deployer] (MSC service thread 1-4) WFLYWELD0003: Processing weld deployment stych-ejb.jar\n2022-11-26 03:30:28,271 INFO  [org.jboss.weld.deployer] (MSC service thread 1-7) WFLYWELD0003: Processing weld deployment stych.war\n2022-11-26 03:30:28,460 INFO  [io.jaegertracing.internal.JaegerTracer] (MSC service thread 1-7) No shutdown hook registered: Please call close() manually on application shutdown.\n2022-11-26 03:30:28,517 INFO  [org.jboss.weld.Version] (MSC service thread 1-1) WELD-000900: 3.1.5 (Final)\n2022-11-26 03:30:28,627 WARN  [org.jboss.as.jaxrs] (MSC service thread 1-6) WFLYRS0018: Explicit usage of Jackson annotation in a JAX-RS deployment; the system will disable JSON-B processing for the current deployment. Consider setting the 'resteasy.preferJacksonOverJsonB' property to 'false' to restore JSON-B.\n2022-11-26 03:30:28,782 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 78) ISPN000128: Infinispan version: Infinispan 'Corona Extra' 11.0.8.Final\n2022-11-26 03:30:28,859 INFO  [org.infinispan.CONFIG] (MSC service thread 1-2) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\n2022-11-26 03:30:28,861 INFO  [org.infinispan.CONFIG] (MSC service thread 1-2) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\n2022-11-26 03:30:28,991 INFO  [org.infinispan.PERSISTENCE] (ServerService Thread Pool -- 78) ISPN000556: Starting user marshaller 'org.wildfly.clustering.infinispan.spi.marshalling.InfinispanProtoStreamMarshaller'\n2022-11-26 03:30:29,186 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 78) WFLYCLINF0002: Started http-remoting-connector cache from ejb container\n2022-11-26 03:30:29,807 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 80) RESTEASY002225: Deploying javax.ws.rs.core.Application: class com.stych.backend.rest.RestApplication\n2022-11-26 03:30:29,807 WARN  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 80) RESTEASY002155: Provider class org.jboss.resteasy.plugins.providers.jackson.ResteasyJacksonProvider is already registered.  2nd registration is being ignored.\n2022-11-26 03:30:29,825 WARN  [org.jboss.as.weld] (ServerService Thread Pool -- 80) WFLYWELD0052: Using deployment classloader to load proxy classes for module com.fasterxml.jackson.jaxrs.jackson-jaxrs-json-provider. Package-private access will not work. To fix this the module should declare dependencies on [org.jboss.weld.core, org.jboss.weld.spi, org.jboss.weld.api]\n2022-11-26 03:30:30,034 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 80) WFLYUT0021: Registered web context: '/' for server 'default-server'\n2022-11-26 03:30:30,091 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;stych.ear&quot; (runtime-name : &quot;stych.ear&quot;)\n2022-11-26 03:30:30,136 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\n2022-11-26 03:30:30,139 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Full 22.0.1.Final (WildFly Core 14.0.1.Final) started in 8464ms - Started 516 of 718 services (356 services are lazy, passive or on-demand)\n2022-11-26 03:30:30,140 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\n2022-11-26 03:30:30,140 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\n&lt;------------------------------------------------------------------------------------------------&gt;\n            10 MINUTES LATER EVERYTHING GOT UNREGISTERED FOR AN UNKNOWN REASON\n&lt;------------------------------------------------------------------------------------------------&gt;\n2022-11-26 03:40:08,103 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-7) WFLYMAIL0002: Unbound mail session [java:jboss/mail/Default]\n2022-11-26 03:40:08,113 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 83) WFLYUT0022: Unregistered web context: '/' from server 'default-server'\n2022-11-26 03:40:08,136 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0019: Host default-host stopping\n2022-11-26 03:40:08,143 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-7) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]\n2022-11-26 03:40:08,151 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-5) WFLYJCA0019: Stopped Driver service with driver-name = h2\n2022-11-26 03:40:08,164 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 83) WFLYCLINF0003: Stopped http-remoting-connector cache from ejb container\n2022-11-26 03:40:08,168 INFO  [org.infinispan.manager.DefaultCacheManager] (ServerService Thread Pool -- 83) Stopping cache manager null on null\n2022-11-26 03:40:08,185 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0008: Undertow HTTP listener default suspending\n2022-11-26 03:40:08,185 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) WFLYSRV0208: Stopped subdeployment (runtime-name: stych-ejb.jar) in 99ms\n2022-11-26 03:40:08,185 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0007: Undertow HTTP listener default stopped, was bound to 127.0.0.1:8080\n</code></pre>\n"}],"owner":{"account_id":1314766,"reputation":374,"user_id":1261906,"accept_rate":55,"display_name":"Lu&#237;s Rigoni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1426,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1680306718,"creation_date":1467637919,"question_id":38185633,"body_markdown":"I have an application hosted in WildFly 8.2.1.Final and after some days it undeploy automatically my EAR.\r\n\r\nThe server is started with `./standalone.sh` and the EAR is deployed putting the ear in the `standalone/deployments` folder along with `.dodeploy` file.\r\n\r\nThe last lines of `server.log` shows:\r\n\r\n    INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) JBAS017535: Unregistered web context: /App\r\n    INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) JBAS017535: Unregistered web context: /AppPortal\r\n    INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 60) JBAS011410: Stopping Persistence Unit (phase 2 of 2) Service &#39;AppEAR.ear/AppEJB.jar#AppEJB&#39;\r\n    INFO  [org.jboss.weld.deployer] (MSC service thread 1-5) JBAS016009: Stopping weld service for deployment AppEAR.ear\r\n    INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 60) JBAS011410: Stopping Persistence Unit (phase 1 of 2) Service &#39;AppEAR.ear/AppEJB.jar#AppEJB&#39;\r\n    INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) JBAS015974: Stopped subdeployment (runtime-name: AppService.war) in 233ms\r\n    INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015974: Stopped subdeployment (runtime-name: AppEJB.jar) in 233ms\r\n    INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015974: Stopped subdeployment (runtime-name: AppPortal.war) in 237ms\r\n    INFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) JBAS015877: Stopped deployment AppEAR.ear (runtime-name: AppEAR.ear) in 336ms\r\n    INFO  [org.jboss.as.server] (DeploymentScanner-threads - 1) JBAS018558: Undeployed &quot;AppEAR.ear&quot; (runtime-name: &quot;AppEAR.ear&quot;)\r\n\r\nAfter that, neither management console works at `localhost:9990`.\r\n\r\n","title":"What could make WildFly undeploy automatically an EAR?","body":"<p>I have an application hosted in WildFly 8.2.1.Final and after some days it undeploy automatically my EAR.</p>\n\n<p>The server is started with <code>./standalone.sh</code> and the EAR is deployed putting the ear in the <code>standalone/deployments</code> folder along with <code>.dodeploy</code> file.</p>\n\n<p>The last lines of <code>server.log</code> shows:</p>\n\n<pre><code>INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) JBAS017535: Unregistered web context: /App\nINFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) JBAS017535: Unregistered web context: /AppPortal\nINFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 60) JBAS011410: Stopping Persistence Unit (phase 2 of 2) Service 'AppEAR.ear/AppEJB.jar#AppEJB'\nINFO  [org.jboss.weld.deployer] (MSC service thread 1-5) JBAS016009: Stopping weld service for deployment AppEAR.ear\nINFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 60) JBAS011410: Stopping Persistence Unit (phase 1 of 2) Service 'AppEAR.ear/AppEJB.jar#AppEJB'\nINFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) JBAS015974: Stopped subdeployment (runtime-name: AppService.war) in 233ms\nINFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015974: Stopped subdeployment (runtime-name: AppEJB.jar) in 233ms\nINFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015974: Stopped subdeployment (runtime-name: AppPortal.war) in 237ms\nINFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) JBAS015877: Stopped deployment AppEAR.ear (runtime-name: AppEAR.ear) in 336ms\nINFO  [org.jboss.as.server] (DeploymentScanner-threads - 1) JBAS018558: Undeployed \"AppEAR.ear\" (runtime-name: \"AppEAR.ear\")\n</code></pre>\n\n<p>After that, neither management console works at <code>localhost:9990</code>.</p>\n"},{"tags":["java","spring-boot","mapstruct","openapi-generator"],"answers":[{"comments":[{"owner":{"account_id":7806091,"reputation":85,"user_id":5903937,"display_name":"Elias Khan"},"score":1,"creation_date":1680384581,"post_id":75903507,"comment_id":133890493,"body_markdown":"Yeah that makes sense. I have a creating mapper anyway. Like I said my colleague finds that this particular layer in the model should stay immutable. So I&#39;ll just leave it that way and not provide an updating mapper. Don&#39;t know what I was thinking, of course it&#39;s not gonna use a constructor to update. But after so many hours you start to get into that tunnel. Thanks a bunch!","body":"Yeah that makes sense. I have a creating mapper anyway. Like I said my colleague finds that this particular layer in the model should stay immutable. So I&#39;ll just leave it that way and not provide an updating mapper. Don&#39;t know what I was thinking, of course it&#39;s not gonna use a constructor to update. But after so many hours you start to get into that tunnel. Thanks a bunch!"}],"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680305980,"creation_date":1680305980,"answer_id":75903507,"question_id":75901298,"body_markdown":"The problem here is that `ConsultationBO` cannot be modified once created (all of its fields are final, and have no setters), but you&#39;re using [`@MappingTarget`](https://mapstruct.org/documentation/stable/reference/html/#updating-bean-instances) to update it.  The constructor isn&#39;t being used since `@MappingTarget` provides an object to be updated, rather than creating a new object.  And since none of the properties on it are modifiable, the object is returned without changes.\r\n\r\nOne solution is to instead have MapStruct create the object for you:\r\n\r\n```lang-java\r\nConsultationBO map(Consultation apiModel);\r\n```\r\n\r\nThe other solution would be to make `ConsultationBO` mutable (change its fields to be non-final and add setters).","title":"MapStruct generates empty mapper method body for update mapper","body":"<p>The problem here is that <code>ConsultationBO</code> cannot be modified once created (all of its fields are final, and have no setters), but you're using <a href=\"https://mapstruct.org/documentation/stable/reference/html/#updating-bean-instances\" rel=\"nofollow noreferrer\"><code>@MappingTarget</code></a> to update it.  The constructor isn't being used since <code>@MappingTarget</code> provides an object to be updated, rather than creating a new object.  And since none of the properties on it are modifiable, the object is returned without changes.</p>\n<p>One solution is to instead have MapStruct create the object for you:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ConsultationBO map(Consultation apiModel);\n</code></pre>\n<p>The other solution would be to make <code>ConsultationBO</code> mutable (change its fields to be non-final and add setters).</p>\n"}],"owner":{"account_id":7806091,"reputation":85,"user_id":5903937,"display_name":"Elias Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75903507,"answer_count":1,"score":0,"last_activity_date":1680305980,"creation_date":1680284385,"question_id":75901298,"body_markdown":"I really can&#39;t figure out what&#39;s going on.\r\n\r\nHere&#39;s my openapi generated class which will be doing the updating:\r\n\r\n```java\r\n    /**\r\n     * Consultation\r\n     */\r\n    \r\n    @Schema(name = &quot;Consultation&quot;, description = &quot;Consultation&quot;)\r\n    @Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-03-31T19:23:20.818876600+02:00[Europe/Brussels]&quot;)\r\n    public class Consultation   {\r\n    \r\n      @JsonProperty(&quot;publicId&quot;)\r\n      private UUID publicId;\r\n    \r\n      @JsonProperty(&quot;decision&quot;)\r\n      private Decision decision;\r\n    \r\n      @JsonProperty(&quot;consultationDate&quot;)\r\n      @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n      private LocalDateTime consultationDate;\r\n    \r\n      @JsonProperty(&quot;languageCode&quot;)\r\n      private String languageCode;\r\n    \r\n      @JsonProperty(&quot;remoteIpAddress&quot;)\r\n      private String remoteIpAddress;\r\n    \r\n      @JsonProperty(&quot;remoteIpAddressCountryCode&quot;)\r\n      private String remoteIpAddressCountryCode;\r\n    \r\n      @JsonProperty(&quot;createdBy&quot;)\r\n      private String createdBy;\r\n    \r\n      @JsonProperty(&quot;createdOn&quot;)\r\n      @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n      private LocalDateTime createdOn;\r\n    \r\n      @JsonProperty(&quot;modifiedBy&quot;)\r\n      private String modifiedBy;\r\n    \r\n      @JsonProperty(&quot;modifiedOn&quot;)\r\n      @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n      private LocalDateTime modifiedOn;\r\n    \r\n      public Consultation publicId(UUID publicId) {\r\n        this.publicId = publicId;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * ID of the consultation\r\n       * @return publicId\r\n      */\r\n      @Valid \r\n      @Schema(name = &quot;publicId&quot;, description = &quot;ID of the consultation&quot;, required = false)\r\n      public UUID getPublicId() {\r\n        return publicId;\r\n      }\r\n    \r\n      public void setPublicId(UUID publicId) {\r\n        this.publicId = publicId;\r\n      }\r\n    \r\n      public Consultation decision(Decision decision) {\r\n        this.decision = decision;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * Get decision\r\n       * @return decision\r\n      */\r\n      @Valid \r\n      @Schema(name = &quot;decision&quot;, required = false)\r\n      public Decision getDecision() {\r\n        return decision;\r\n      }\r\n    \r\n      public void setDecision(Decision decision) {\r\n        this.decision = decision;\r\n      }\r\n    \r\n      public Consultation consultationDate(LocalDateTime consultationDate) {\r\n        this.consultationDate = consultationDate;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * date of the consultation\r\n       * @return consultationDate\r\n      */\r\n      @Valid \r\n      @Schema(name = &quot;consultationDate&quot;, description = &quot;date of the consultation&quot;, required = false)\r\n      public LocalDateTime getConsultationDate() {\r\n        return consultationDate;\r\n      }\r\n    \r\n      public void setConsultationDate(LocalDateTime consultationDate) {\r\n        this.consultationDate = consultationDate;\r\n      }\r\n    \r\n      public Consultation languageCode(String languageCode) {\r\n        this.languageCode = languageCode;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * language code of the consultation\r\n       * @return languageCode\r\n      */\r\n      \r\n      @Schema(name = &quot;languageCode&quot;, description = &quot;language code of the consultation&quot;, required = false)\r\n      public String getLanguageCode() {\r\n        return languageCode;\r\n      }\r\n    \r\n      public void setLanguageCode(String languageCode) {\r\n        this.languageCode = languageCode;\r\n      }\r\n    \r\n      public Consultation remoteIpAddress(String remoteIpAddress) {\r\n        this.remoteIpAddress = remoteIpAddress;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * IP address of the user who consulted the decision\r\n       * @return remoteIpAddress\r\n      */\r\n      \r\n      @Schema(name = &quot;remoteIpAddress&quot;, description = &quot;IP address of the user who consulted the decision&quot;, required = false)\r\n      public String getRemoteIpAddress() {\r\n        return remoteIpAddress;\r\n      }\r\n    \r\n      public void setRemoteIpAddress(String remoteIpAddress) {\r\n        this.remoteIpAddress = remoteIpAddress;\r\n      }\r\n    \r\n      public Consultation remoteIpAddressCountryCode(String remoteIpAddressCountryCode) {\r\n        this.remoteIpAddressCountryCode = remoteIpAddressCountryCode;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * Country code of the IP address of the user who consulted the decision\r\n       * @return remoteIpAddressCountryCode\r\n      */\r\n      \r\n      @Schema(name = &quot;remoteIpAddressCountryCode&quot;, description = &quot;Country code of the IP address of the user who consulted the decision&quot;, required = false)\r\n      public String getRemoteIpAddressCountryCode() {\r\n        return remoteIpAddressCountryCode;\r\n      }\r\n    \r\n      public void setRemoteIpAddressCountryCode(String remoteIpAddressCountryCode) {\r\n        this.remoteIpAddressCountryCode = remoteIpAddressCountryCode;\r\n      }\r\n    \r\n      public Consultation createdBy(String createdBy) {\r\n        this.createdBy = createdBy;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * User who created the consultation\r\n       * @return createdBy\r\n      */\r\n      \r\n      @Schema(name = &quot;createdBy&quot;, description = &quot;User who created the consultation&quot;, required = false)\r\n      public String getCreatedBy() {\r\n        return createdBy;\r\n      }\r\n    \r\n      public void setCreatedBy(String createdBy) {\r\n        this.createdBy = createdBy;\r\n      }\r\n    \r\n      public Consultation createdOn(LocalDateTime createdOn) {\r\n        this.createdOn = createdOn;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * Date when the consultation was created\r\n       * @return createdOn\r\n      */\r\n      @Valid \r\n      @Schema(name = &quot;createdOn&quot;, description = &quot;Date when the consultation was created&quot;, required = false)\r\n      public LocalDateTime getCreatedOn() {\r\n        return createdOn;\r\n      }\r\n    \r\n      public void setCreatedOn(LocalDateTime createdOn) {\r\n        this.createdOn = createdOn;\r\n      }\r\n    \r\n      public Consultation modifiedBy(String modifiedBy) {\r\n        this.modifiedBy = modifiedBy;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * User who last modified the consultation\r\n       * @return modifiedBy\r\n      */\r\n      \r\n      @Schema(name = &quot;modifiedBy&quot;, description = &quot;User who last modified the consultation&quot;, required = false)\r\n      public String getModifiedBy() {\r\n        return modifiedBy;\r\n      }\r\n    \r\n      public void setModifiedBy(String modifiedBy) {\r\n        this.modifiedBy = modifiedBy;\r\n      }\r\n    \r\n      public Consultation modifiedOn(LocalDateTime modifiedOn) {\r\n        this.modifiedOn = modifiedOn;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * Date when the consultation was last modified\r\n       * @return modifiedOn\r\n      */\r\n      @Valid \r\n      @Schema(name = &quot;modifiedOn&quot;, description = &quot;Date when the consultation was last modified&quot;, required = false)\r\n      public LocalDateTime getModifiedOn() {\r\n        return modifiedOn;\r\n      }\r\n    \r\n      public void setModifiedOn(LocalDateTime modifiedOn) {\r\n        this.modifiedOn = modifiedOn;\r\n      }\r\n    \r\n      @Override\r\n      public boolean equals(Object o) {\r\n        if (this == o) {\r\n          return true;\r\n        }\r\n        if (o == null || getClass() != o.getClass()) {\r\n          return false;\r\n        }\r\n        Consultation consultation = (Consultation) o;\r\n        return Objects.equals(this.publicId, consultation.publicId) &amp;&amp;\r\n            Objects.equals(this.decision, consultation.decision) &amp;&amp;\r\n            Objects.equals(this.consultationDate, consultation.consultationDate) &amp;&amp;\r\n            Objects.equals(this.languageCode, consultation.languageCode) &amp;&amp;\r\n            Objects.equals(this.remoteIpAddress, consultation.remoteIpAddress) &amp;&amp;\r\n            Objects.equals(this.remoteIpAddressCountryCode, consultation.remoteIpAddressCountryCode) &amp;&amp;\r\n            Objects.equals(this.createdBy, consultation.createdBy) &amp;&amp;\r\n            Objects.equals(this.createdOn, consultation.createdOn) &amp;&amp;\r\n            Objects.equals(this.modifiedBy, consultation.modifiedBy) &amp;&amp;\r\n            Objects.equals(this.modifiedOn, consultation.modifiedOn);\r\n      }\r\n    \r\n      @Override\r\n      public int hashCode() {\r\n        return Objects.hash(publicId, decision, consultationDate, languageCode, remoteIpAddress, remoteIpAddressCountryCode, createdBy, createdOn, modifiedBy, modifiedOn);\r\n      }\r\n    \r\n      @Override\r\n      public String toString() {\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;class Consultation {\\n&quot;);\r\n        sb.append(&quot;    publicId: &quot;).append(toIndentedString(publicId)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    decision: &quot;).append(toIndentedString(decision)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    consultationDate: &quot;).append(toIndentedString(consultationDate)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    languageCode: &quot;).append(toIndentedString(languageCode)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    remoteIpAddress: &quot;).append(toIndentedString(remoteIpAddress)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    remoteIpAddressCountryCode: &quot;).append(toIndentedString(remoteIpAddressCountryCode)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    createdBy: &quot;).append(toIndentedString(createdBy)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    createdOn: &quot;).append(toIndentedString(createdOn)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    modifiedBy: &quot;).append(toIndentedString(modifiedBy)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    modifiedOn: &quot;).append(toIndentedString(modifiedOn)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;}&quot;);\r\n        return sb.toString();\r\n      }\r\n    \r\n      /**\r\n       * Convert the given object to string with each line indented by 4 spaces\r\n       * (except the first line).\r\n       */\r\n      private String toIndentedString(Object o) {\r\n        if (o == null) {\r\n          return &quot;null&quot;;\r\n        }\r\n        return o.toString().replace(&quot;\\n&quot;, &quot;\\n    &quot;);\r\n      }\r\n    }\r\n```\r\nThe business object which will be updated by the mapper:\r\n```java\r\n    public class ConsultationBO extends BasicData {\r\n        private final UUID publicId;\r\n    \r\n        private final Decision decision;\r\n    \r\n        private final LocalDateTime consultationDate;\r\n    \r\n        private final String languageCode;\r\n    \r\n        private final String remoteIpAddress;\r\n    \r\n        private final String remoteIpAddressCountryCode;\r\n    \r\n        public ConsultationBO(String createdBy,\r\n                              LocalDateTime createdOn,\r\n                              String modifiedBy,\r\n                              LocalDateTime modifiedOn,\r\n                              UUID publicId,\r\n                              Decision decision,\r\n                              LocalDateTime consultationDate,\r\n                              String languageCode,\r\n                              String remoteIpAddress,\r\n                              String remoteIpAddressCountryCode) {\r\n            super(createdBy, createdOn, modifiedBy, modifiedOn);\r\n            this.publicId = publicId;\r\n            this.decision = decision;\r\n            this.consultationDate = consultationDate;\r\n            this.languageCode = languageCode;\r\n            this.remoteIpAddress = remoteIpAddress;\r\n            this.remoteIpAddressCountryCode = remoteIpAddressCountryCode;\r\n        }\r\n    \r\n        public UUID getPublicId() {\r\n            return publicId;\r\n        }\r\n    \r\n        public Decision getDecision() {\r\n            return decision;\r\n        }\r\n    \r\n        public LocalDateTime getConsultationDate() {\r\n            return consultationDate;\r\n        }\r\n    \r\n        public String getLanguageCode() {\r\n            return languageCode;\r\n        }\r\n    \r\n        public String getRemoteIpAddress() {\r\n            return remoteIpAddress;\r\n        }\r\n    \r\n        public String getRemoteIpAddressCountryCode() {\r\n            return remoteIpAddressCountryCode;\r\n        }\r\n    }\r\n```\r\n\r\nHere&#39;s the mapper:\r\n```java\r\n    @Mapper\r\n    @Component\r\n    public interface ConsultationMapper {\r\n    \r\n        ConsultationBO consultationLogEntityToConsultationBO(DecisionConsultationLogEntity entity);\r\n    \r\n        void updateConsultationLogEntityWithConsultationBO(ConsultationBO businessObject, @MappingTarget DecisionConsultationLogEntity entity);\r\n        DecisionConsultationLogEntity consultationBOToConsultationLogEntity(ConsultationBO businessObject);\r\n    \r\n        Consultation consultationBOToConsultationAPIModel(ConsultationBO businessObject);\r\n    \r\n    // This one isn&#39;t being implemented\r\n        void updateConsultationBOWithConsultationAPIModel(Consultation apiModel, @MappingTarget ConsultationBO businessObject);\r\n    \r\n        ConsultationBO consultationAPIModelToConsultationBO(Consultation apiModel);\r\n    }\r\n```\r\nHere&#39;s the implementation that mapstruct is generating for the one before last mapper method: \r\n```java\r\n    @Override\r\n        public void updateConsultationBOWithConsultationAPIModel(Consultation apiModel, ConsultationBO businessObject) {\r\n            if ( apiModel == null ) {\r\n                return;\r\n            }\r\n        }\r\n```\r\nThere should be a whole implementation of the mapping like all the other methods who have succesfully been generated. Here&#39;s an example:\r\n```java\r\n    @Override\r\n        public ConsultationBO consultationAPIModelToConsultationBO(Consultation apiModel) {\r\n            if ( apiModel == null ) {\r\n                return null;\r\n            }\r\n    \r\n            String createdBy = null;\r\n            LocalDateTime createdOn = null;\r\n            String modifiedBy = null;\r\n            LocalDateTime modifiedOn = null;\r\n            UUID publicId = null;\r\n            be.fgov.just.judgment.dvaauthenticsourceapi.domain.Decision decision = null;\r\n            LocalDateTime consultationDate = null;\r\n            String languageCode = null;\r\n            String remoteIpAddress = null;\r\n            String remoteIpAddressCountryCode = null;\r\n    \r\n            createdBy = apiModel.getCreatedBy();\r\n            createdOn = apiModel.getCreatedOn();\r\n            modifiedBy = apiModel.getModifiedBy();\r\n            modifiedOn = apiModel.getModifiedOn();\r\n            publicId = apiModel.getPublicId();\r\n            decision = decisionToDecision1( apiModel.getDecision() );\r\n            consultationDate = apiModel.getConsultationDate();\r\n            languageCode = apiModel.getLanguageCode();\r\n            remoteIpAddress = apiModel.getRemoteIpAddress();\r\n            remoteIpAddressCountryCode = apiModel.getRemoteIpAddressCountryCode();\r\n    \r\n            ConsultationBO consultationBO = new ConsultationBO( createdBy, createdOn, modifiedBy, modifiedOn, publicId, decision, consultationDate, languageCode, remoteIpAddress, remoteIpAddressCountryCode );\r\n    \r\n            return consultationBO;\r\n        }\r\n```\r\nI thought it was because the source class is generated by openapi maven generator, but it isn&#39;t a problem for any other methods. Then I thought maybe it&#39;s because there&#39;s no constructor in the generated class. But that makes no sense because that&#39;s just the source, it doesn&#39;t need to set anything on that class. My BO class which is the target, does have a constructor which should be used automatically by mapstruct, but no setters indeed. I asked my tech lead and he said to leave the class immutable. \r\n\r\nMaybe I need to specify that it should use the constructor, but that doesn&#39;t make sense either... Per the mapstruct docs:\r\n\r\n&gt; MapStruct supports using constructors for mapping target types. When\r\n&gt; doing a mapping MapStruct checks if there is a builder for the type\r\n&gt; being mapped. If there is no builder, then MapStruct looks for a\r\n&gt; single accessible constructor.\r\n\r\nAlso, it can find the constructor and use it in standard mappings into the BO. Here&#39;s another method it implemented correctly using the constructor of the immutable BO class:\r\n\r\n```java\r\n@Override\r\n    public ConsultationBO consultationLogEntityToConsultationBO(DecisionConsultationLogEntity entity) {\r\n        if ( entity == null ) {\r\n            return null;\r\n        }\r\n\r\n        String createdBy = null;\r\n        LocalDateTime createdOn = null;\r\n        String modifiedBy = null;\r\n        LocalDateTime modifiedOn = null;\r\n        UUID publicId = null;\r\n        be.fgov.just.judgment.dvaauthenticsourceapi.domain.Decision decision = null;\r\n        LocalDateTime consultationDate = null;\r\n        String languageCode = null;\r\n        String remoteIpAddress = null;\r\n        String remoteIpAddressCountryCode = null;\r\n\r\n        createdBy = entity.getCreatedBy();\r\n        createdOn = entity.getCreatedOn();\r\n        modifiedBy = entity.getModifiedBy();\r\n        modifiedOn = entity.getModifiedOn();\r\n        publicId = entity.getPublicId();\r\n        decision = decisionEntityToDecision( entity.getDecision() );\r\n        consultationDate = entity.getConsultationDate();\r\n        languageCode = entity.getLanguageCode();\r\n        remoteIpAddress = entity.getRemoteIpAddress();\r\n        remoteIpAddressCountryCode = entity.getRemoteIpAddressCountryCode();\r\n\r\n        ConsultationBO consultationBO = new ConsultationBO( createdBy, createdOn, modifiedBy, modifiedOn, publicId, decision, consultationDate, languageCode, remoteIpAddress, remoteIpAddressCountryCode );\r\n\r\n        return consultationBO;\r\n    }\r\n```","title":"MapStruct generates empty mapper method body for update mapper","body":"<p>I really can't figure out what's going on.</p>\n<p>Here's my openapi generated class which will be doing the updating:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n     * Consultation\n     */\n    \n    @Schema(name = &quot;Consultation&quot;, description = &quot;Consultation&quot;)\n    @Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-03-31T19:23:20.818876600+02:00[Europe/Brussels]&quot;)\n    public class Consultation   {\n    \n      @JsonProperty(&quot;publicId&quot;)\n      private UUID publicId;\n    \n      @JsonProperty(&quot;decision&quot;)\n      private Decision decision;\n    \n      @JsonProperty(&quot;consultationDate&quot;)\n      @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n      private LocalDateTime consultationDate;\n    \n      @JsonProperty(&quot;languageCode&quot;)\n      private String languageCode;\n    \n      @JsonProperty(&quot;remoteIpAddress&quot;)\n      private String remoteIpAddress;\n    \n      @JsonProperty(&quot;remoteIpAddressCountryCode&quot;)\n      private String remoteIpAddressCountryCode;\n    \n      @JsonProperty(&quot;createdBy&quot;)\n      private String createdBy;\n    \n      @JsonProperty(&quot;createdOn&quot;)\n      @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n      private LocalDateTime createdOn;\n    \n      @JsonProperty(&quot;modifiedBy&quot;)\n      private String modifiedBy;\n    \n      @JsonProperty(&quot;modifiedOn&quot;)\n      @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n      private LocalDateTime modifiedOn;\n    \n      public Consultation publicId(UUID publicId) {\n        this.publicId = publicId;\n        return this;\n      }\n    \n      /**\n       * ID of the consultation\n       * @return publicId\n      */\n      @Valid \n      @Schema(name = &quot;publicId&quot;, description = &quot;ID of the consultation&quot;, required = false)\n      public UUID getPublicId() {\n        return publicId;\n      }\n    \n      public void setPublicId(UUID publicId) {\n        this.publicId = publicId;\n      }\n    \n      public Consultation decision(Decision decision) {\n        this.decision = decision;\n        return this;\n      }\n    \n      /**\n       * Get decision\n       * @return decision\n      */\n      @Valid \n      @Schema(name = &quot;decision&quot;, required = false)\n      public Decision getDecision() {\n        return decision;\n      }\n    \n      public void setDecision(Decision decision) {\n        this.decision = decision;\n      }\n    \n      public Consultation consultationDate(LocalDateTime consultationDate) {\n        this.consultationDate = consultationDate;\n        return this;\n      }\n    \n      /**\n       * date of the consultation\n       * @return consultationDate\n      */\n      @Valid \n      @Schema(name = &quot;consultationDate&quot;, description = &quot;date of the consultation&quot;, required = false)\n      public LocalDateTime getConsultationDate() {\n        return consultationDate;\n      }\n    \n      public void setConsultationDate(LocalDateTime consultationDate) {\n        this.consultationDate = consultationDate;\n      }\n    \n      public Consultation languageCode(String languageCode) {\n        this.languageCode = languageCode;\n        return this;\n      }\n    \n      /**\n       * language code of the consultation\n       * @return languageCode\n      */\n      \n      @Schema(name = &quot;languageCode&quot;, description = &quot;language code of the consultation&quot;, required = false)\n      public String getLanguageCode() {\n        return languageCode;\n      }\n    \n      public void setLanguageCode(String languageCode) {\n        this.languageCode = languageCode;\n      }\n    \n      public Consultation remoteIpAddress(String remoteIpAddress) {\n        this.remoteIpAddress = remoteIpAddress;\n        return this;\n      }\n    \n      /**\n       * IP address of the user who consulted the decision\n       * @return remoteIpAddress\n      */\n      \n      @Schema(name = &quot;remoteIpAddress&quot;, description = &quot;IP address of the user who consulted the decision&quot;, required = false)\n      public String getRemoteIpAddress() {\n        return remoteIpAddress;\n      }\n    \n      public void setRemoteIpAddress(String remoteIpAddress) {\n        this.remoteIpAddress = remoteIpAddress;\n      }\n    \n      public Consultation remoteIpAddressCountryCode(String remoteIpAddressCountryCode) {\n        this.remoteIpAddressCountryCode = remoteIpAddressCountryCode;\n        return this;\n      }\n    \n      /**\n       * Country code of the IP address of the user who consulted the decision\n       * @return remoteIpAddressCountryCode\n      */\n      \n      @Schema(name = &quot;remoteIpAddressCountryCode&quot;, description = &quot;Country code of the IP address of the user who consulted the decision&quot;, required = false)\n      public String getRemoteIpAddressCountryCode() {\n        return remoteIpAddressCountryCode;\n      }\n    \n      public void setRemoteIpAddressCountryCode(String remoteIpAddressCountryCode) {\n        this.remoteIpAddressCountryCode = remoteIpAddressCountryCode;\n      }\n    \n      public Consultation createdBy(String createdBy) {\n        this.createdBy = createdBy;\n        return this;\n      }\n    \n      /**\n       * User who created the consultation\n       * @return createdBy\n      */\n      \n      @Schema(name = &quot;createdBy&quot;, description = &quot;User who created the consultation&quot;, required = false)\n      public String getCreatedBy() {\n        return createdBy;\n      }\n    \n      public void setCreatedBy(String createdBy) {\n        this.createdBy = createdBy;\n      }\n    \n      public Consultation createdOn(LocalDateTime createdOn) {\n        this.createdOn = createdOn;\n        return this;\n      }\n    \n      /**\n       * Date when the consultation was created\n       * @return createdOn\n      */\n      @Valid \n      @Schema(name = &quot;createdOn&quot;, description = &quot;Date when the consultation was created&quot;, required = false)\n      public LocalDateTime getCreatedOn() {\n        return createdOn;\n      }\n    \n      public void setCreatedOn(LocalDateTime createdOn) {\n        this.createdOn = createdOn;\n      }\n    \n      public Consultation modifiedBy(String modifiedBy) {\n        this.modifiedBy = modifiedBy;\n        return this;\n      }\n    \n      /**\n       * User who last modified the consultation\n       * @return modifiedBy\n      */\n      \n      @Schema(name = &quot;modifiedBy&quot;, description = &quot;User who last modified the consultation&quot;, required = false)\n      public String getModifiedBy() {\n        return modifiedBy;\n      }\n    \n      public void setModifiedBy(String modifiedBy) {\n        this.modifiedBy = modifiedBy;\n      }\n    \n      public Consultation modifiedOn(LocalDateTime modifiedOn) {\n        this.modifiedOn = modifiedOn;\n        return this;\n      }\n    \n      /**\n       * Date when the consultation was last modified\n       * @return modifiedOn\n      */\n      @Valid \n      @Schema(name = &quot;modifiedOn&quot;, description = &quot;Date when the consultation was last modified&quot;, required = false)\n      public LocalDateTime getModifiedOn() {\n        return modifiedOn;\n      }\n    \n      public void setModifiedOn(LocalDateTime modifiedOn) {\n        this.modifiedOn = modifiedOn;\n      }\n    \n      @Override\n      public boolean equals(Object o) {\n        if (this == o) {\n          return true;\n        }\n        if (o == null || getClass() != o.getClass()) {\n          return false;\n        }\n        Consultation consultation = (Consultation) o;\n        return Objects.equals(this.publicId, consultation.publicId) &amp;&amp;\n            Objects.equals(this.decision, consultation.decision) &amp;&amp;\n            Objects.equals(this.consultationDate, consultation.consultationDate) &amp;&amp;\n            Objects.equals(this.languageCode, consultation.languageCode) &amp;&amp;\n            Objects.equals(this.remoteIpAddress, consultation.remoteIpAddress) &amp;&amp;\n            Objects.equals(this.remoteIpAddressCountryCode, consultation.remoteIpAddressCountryCode) &amp;&amp;\n            Objects.equals(this.createdBy, consultation.createdBy) &amp;&amp;\n            Objects.equals(this.createdOn, consultation.createdOn) &amp;&amp;\n            Objects.equals(this.modifiedBy, consultation.modifiedBy) &amp;&amp;\n            Objects.equals(this.modifiedOn, consultation.modifiedOn);\n      }\n    \n      @Override\n      public int hashCode() {\n        return Objects.hash(publicId, decision, consultationDate, languageCode, remoteIpAddress, remoteIpAddressCountryCode, createdBy, createdOn, modifiedBy, modifiedOn);\n      }\n    \n      @Override\n      public String toString() {\n        StringBuilder sb = new StringBuilder();\n        sb.append(&quot;class Consultation {\\n&quot;);\n        sb.append(&quot;    publicId: &quot;).append(toIndentedString(publicId)).append(&quot;\\n&quot;);\n        sb.append(&quot;    decision: &quot;).append(toIndentedString(decision)).append(&quot;\\n&quot;);\n        sb.append(&quot;    consultationDate: &quot;).append(toIndentedString(consultationDate)).append(&quot;\\n&quot;);\n        sb.append(&quot;    languageCode: &quot;).append(toIndentedString(languageCode)).append(&quot;\\n&quot;);\n        sb.append(&quot;    remoteIpAddress: &quot;).append(toIndentedString(remoteIpAddress)).append(&quot;\\n&quot;);\n        sb.append(&quot;    remoteIpAddressCountryCode: &quot;).append(toIndentedString(remoteIpAddressCountryCode)).append(&quot;\\n&quot;);\n        sb.append(&quot;    createdBy: &quot;).append(toIndentedString(createdBy)).append(&quot;\\n&quot;);\n        sb.append(&quot;    createdOn: &quot;).append(toIndentedString(createdOn)).append(&quot;\\n&quot;);\n        sb.append(&quot;    modifiedBy: &quot;).append(toIndentedString(modifiedBy)).append(&quot;\\n&quot;);\n        sb.append(&quot;    modifiedOn: &quot;).append(toIndentedString(modifiedOn)).append(&quot;\\n&quot;);\n        sb.append(&quot;}&quot;);\n        return sb.toString();\n      }\n    \n      /**\n       * Convert the given object to string with each line indented by 4 spaces\n       * (except the first line).\n       */\n      private String toIndentedString(Object o) {\n        if (o == null) {\n          return &quot;null&quot;;\n        }\n        return o.toString().replace(&quot;\\n&quot;, &quot;\\n    &quot;);\n      }\n    }\n</code></pre>\n<p>The business object which will be updated by the mapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class ConsultationBO extends BasicData {\n        private final UUID publicId;\n    \n        private final Decision decision;\n    \n        private final LocalDateTime consultationDate;\n    \n        private final String languageCode;\n    \n        private final String remoteIpAddress;\n    \n        private final String remoteIpAddressCountryCode;\n    \n        public ConsultationBO(String createdBy,\n                              LocalDateTime createdOn,\n                              String modifiedBy,\n                              LocalDateTime modifiedOn,\n                              UUID publicId,\n                              Decision decision,\n                              LocalDateTime consultationDate,\n                              String languageCode,\n                              String remoteIpAddress,\n                              String remoteIpAddressCountryCode) {\n            super(createdBy, createdOn, modifiedBy, modifiedOn);\n            this.publicId = publicId;\n            this.decision = decision;\n            this.consultationDate = consultationDate;\n            this.languageCode = languageCode;\n            this.remoteIpAddress = remoteIpAddress;\n            this.remoteIpAddressCountryCode = remoteIpAddressCountryCode;\n        }\n    \n        public UUID getPublicId() {\n            return publicId;\n        }\n    \n        public Decision getDecision() {\n            return decision;\n        }\n    \n        public LocalDateTime getConsultationDate() {\n            return consultationDate;\n        }\n    \n        public String getLanguageCode() {\n            return languageCode;\n        }\n    \n        public String getRemoteIpAddress() {\n            return remoteIpAddress;\n        }\n    \n        public String getRemoteIpAddressCountryCode() {\n            return remoteIpAddressCountryCode;\n        }\n    }\n</code></pre>\n<p>Here's the mapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Mapper\n    @Component\n    public interface ConsultationMapper {\n    \n        ConsultationBO consultationLogEntityToConsultationBO(DecisionConsultationLogEntity entity);\n    \n        void updateConsultationLogEntityWithConsultationBO(ConsultationBO businessObject, @MappingTarget DecisionConsultationLogEntity entity);\n        DecisionConsultationLogEntity consultationBOToConsultationLogEntity(ConsultationBO businessObject);\n    \n        Consultation consultationBOToConsultationAPIModel(ConsultationBO businessObject);\n    \n    // This one isn't being implemented\n        void updateConsultationBOWithConsultationAPIModel(Consultation apiModel, @MappingTarget ConsultationBO businessObject);\n    \n        ConsultationBO consultationAPIModelToConsultationBO(Consultation apiModel);\n    }\n</code></pre>\n<p>Here's the implementation that mapstruct is generating for the one before last mapper method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n        public void updateConsultationBOWithConsultationAPIModel(Consultation apiModel, ConsultationBO businessObject) {\n            if ( apiModel == null ) {\n                return;\n            }\n        }\n</code></pre>\n<p>There should be a whole implementation of the mapping like all the other methods who have succesfully been generated. Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n        public ConsultationBO consultationAPIModelToConsultationBO(Consultation apiModel) {\n            if ( apiModel == null ) {\n                return null;\n            }\n    \n            String createdBy = null;\n            LocalDateTime createdOn = null;\n            String modifiedBy = null;\n            LocalDateTime modifiedOn = null;\n            UUID publicId = null;\n            be.fgov.just.judgment.dvaauthenticsourceapi.domain.Decision decision = null;\n            LocalDateTime consultationDate = null;\n            String languageCode = null;\n            String remoteIpAddress = null;\n            String remoteIpAddressCountryCode = null;\n    \n            createdBy = apiModel.getCreatedBy();\n            createdOn = apiModel.getCreatedOn();\n            modifiedBy = apiModel.getModifiedBy();\n            modifiedOn = apiModel.getModifiedOn();\n            publicId = apiModel.getPublicId();\n            decision = decisionToDecision1( apiModel.getDecision() );\n            consultationDate = apiModel.getConsultationDate();\n            languageCode = apiModel.getLanguageCode();\n            remoteIpAddress = apiModel.getRemoteIpAddress();\n            remoteIpAddressCountryCode = apiModel.getRemoteIpAddressCountryCode();\n    \n            ConsultationBO consultationBO = new ConsultationBO( createdBy, createdOn, modifiedBy, modifiedOn, publicId, decision, consultationDate, languageCode, remoteIpAddress, remoteIpAddressCountryCode );\n    \n            return consultationBO;\n        }\n</code></pre>\n<p>I thought it was because the source class is generated by openapi maven generator, but it isn't a problem for any other methods. Then I thought maybe it's because there's no constructor in the generated class. But that makes no sense because that's just the source, it doesn't need to set anything on that class. My BO class which is the target, does have a constructor which should be used automatically by mapstruct, but no setters indeed. I asked my tech lead and he said to leave the class immutable.</p>\n<p>Maybe I need to specify that it should use the constructor, but that doesn't make sense either... Per the mapstruct docs:</p>\n<blockquote>\n<p>MapStruct supports using constructors for mapping target types. When\ndoing a mapping MapStruct checks if there is a builder for the type\nbeing mapped. If there is no builder, then MapStruct looks for a\nsingle accessible constructor.</p>\n</blockquote>\n<p>Also, it can find the constructor and use it in standard mappings into the BO. Here's another method it implemented correctly using the constructor of the immutable BO class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public ConsultationBO consultationLogEntityToConsultationBO(DecisionConsultationLogEntity entity) {\n        if ( entity == null ) {\n            return null;\n        }\n\n        String createdBy = null;\n        LocalDateTime createdOn = null;\n        String modifiedBy = null;\n        LocalDateTime modifiedOn = null;\n        UUID publicId = null;\n        be.fgov.just.judgment.dvaauthenticsourceapi.domain.Decision decision = null;\n        LocalDateTime consultationDate = null;\n        String languageCode = null;\n        String remoteIpAddress = null;\n        String remoteIpAddressCountryCode = null;\n\n        createdBy = entity.getCreatedBy();\n        createdOn = entity.getCreatedOn();\n        modifiedBy = entity.getModifiedBy();\n        modifiedOn = entity.getModifiedOn();\n        publicId = entity.getPublicId();\n        decision = decisionEntityToDecision( entity.getDecision() );\n        consultationDate = entity.getConsultationDate();\n        languageCode = entity.getLanguageCode();\n        remoteIpAddress = entity.getRemoteIpAddress();\n        remoteIpAddressCountryCode = entity.getRemoteIpAddressCountryCode();\n\n        ConsultationBO consultationBO = new ConsultationBO( createdBy, createdOn, modifiedBy, modifiedOn, publicId, decision, consultationDate, languageCode, remoteIpAddress, remoteIpAddressCountryCode );\n\n        return consultationBO;\n    }\n</code></pre>\n"},{"tags":["java","jakarta-ee","talend","edi","x12"],"comments":[{"owner":{"account_id":222663,"reputation":1366,"user_id":481421,"accept_rate":51,"display_name":"Leejoy"},"score":0,"creation_date":1345642747,"post_id":12073794,"comment_id":16129069,"body_markdown":"Or is there any alternative to process the above mentioned EDI transaction sets using **java code** will also be helpful.","body":"Or is there any alternative to process the above mentioned EDI transaction sets using <b>java code</b> will also be helpful."}],"answers":[{"tags":[],"owner":{"account_id":584839,"reputation":710,"user_id":251208,"display_name":"eppye"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345645920,"creation_date":1345645920,"answer_id":12075430,"question_id":12073794,"body_markdown":"maybe you can integrate bots (http://bots.sourceforge.net) in Talend for these edi translations.\r\nfor AS2:\r\n- http://sourceforge.net/projects/openas2/\r\n- http://as2.mendelson-e-c.com/\r\n","title":"Is there any Talend component to create ANSI X12 edi file?","body":"<p>maybe you can integrate bots (http://bots.sourceforge.net) in Talend for these edi translations.\nfor AS2:\n- <a href=\"http://sourceforge.net/projects/openas2/\" rel=\"nofollow\">http://sourceforge.net/projects/openas2/</a>\n- <a href=\"http://as2.mendelson-e-c.com/\" rel=\"nofollow\">http://as2.mendelson-e-c.com/</a></p>\n"},{"tags":[],"owner":{"account_id":187327,"reputation":2831,"user_id":425289,"accept_rate":56,"display_name":"Andrew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1345646968,"creation_date":1345646968,"answer_id":12075784,"question_id":12073794,"body_markdown":"You may want to look at Altova&#39;s [MapForce][1].  A graphical mapper (good), but then the transform is Java code.  \r\n\r\nFor AS2, I recommend [Cleo Lexicom][2] or [Liaison ECS][3].  Both are well-established, cost effective commercial packages.  \r\n\r\n\r\n  [1]: http://www.altova.com/mapforce.html\r\n  [2]: http://www.cleo.com/data-transfer-software/\r\n  [3]: http://liaison.com/products/integrate/ecs","title":"Is there any Talend component to create ANSI X12 edi file?","body":"<p>You may want to look at Altova's <a href=\"http://www.altova.com/mapforce.html\" rel=\"nofollow\">MapForce</a>.  A graphical mapper (good), but then the transform is Java code.  </p>\n\n<p>For AS2, I recommend <a href=\"http://www.cleo.com/data-transfer-software/\" rel=\"nofollow\">Cleo Lexicom</a> or <a href=\"http://liaison.com/products/integrate/ecs\" rel=\"nofollow\">Liaison ECS</a>.  Both are well-established, cost effective commercial packages.  </p>\n"},{"tags":[],"owner":{"account_id":29838,"reputation":19362,"user_id":80906,"display_name":"Francis Upton IV"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1345747470,"creation_date":1345747470,"answer_id":12098128,"question_id":12073794,"body_markdown":"Have a look at the [Oakland Data Transformer][1]. It handles all sorts of formats including X12 and is well integrated with the Talend ESB (Apache Camel). A number of Talend customers have used this.\r\n\r\n\r\n  [1]: http://oaklandsoftware.com/data-transformer","title":"Is there any Talend component to create ANSI X12 edi file?","body":"<p>Have a look at the <a href=\"http://oaklandsoftware.com/data-transformer\" rel=\"nofollow\">Oakland Data Transformer</a>. It handles all sorts of formats including X12 and is well integrated with the Talend ESB (Apache Camel). A number of Talend customers have used this.</p>\n"},{"tags":[],"owner":{"account_id":1293628,"reputation":11570,"user_id":1245240,"accept_rate":85,"display_name":"Robert H"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369162234,"creation_date":1369162234,"answer_id":16677366,"question_id":12073794,"body_markdown":"We&#39;re using Altova MapForce and Mendelson AS2 Opensource for our EDI needs. \r\n\r\nMapForce makes mapping a breeze and the Mendelson AS2 server is straight forward to setup and use. \r\n\r\nA bonus for MapForce is it allows you to export your mapping to *royalty free* Java, C#, C++, XQuery, and XSLT 1.0/2.0 code so it is an easy drop in product. \r\n\r\nI&#39;m not a huge fan of the generated code ( empty catch statements etc ) but it works and the code is available for you to edit. \r\n\r\n","title":"Is there any Talend component to create ANSI X12 edi file?","body":"<p>We're using Altova MapForce and Mendelson AS2 Opensource for our EDI needs. </p>\n\n<p>MapForce makes mapping a breeze and the Mendelson AS2 server is straight forward to setup and use. </p>\n\n<p>A bonus for MapForce is it allows you to export your mapping to <em>royalty free</em> Java, C#, C++, XQuery, and XSLT 1.0/2.0 code so it is an easy drop in product. </p>\n\n<p>I'm not a huge fan of the generated code ( empty catch statements etc ) but it works and the code is available for you to edit. </p>\n"}],"owner":{"account_id":222663,"reputation":1366,"user_id":481421,"accept_rate":51,"display_name":"Leejoy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2885,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1680305822,"creation_date":1345640612,"question_id":12073794,"body_markdown":"Is there any Talend component to create ANSI X12 edi file? I need to process the following EDI Transaction sets:\r\n\r\n    *846 - Inventory Inquiry/Advice\r\n    *856 - Ship Notice/Manifest\r\n    *888 - Item Maintenance\r\n    *940 - Warehouse Shipping Order\r\n    *943 - Warehouse Stock Transfer Shipment Advice\r\n    *944 - Warehouse Stock Transfer Receipt Advice\r\n    *945 - Warehouse Shipping Advice\r\n    *947 - Warehouse Inventory Adjustment Advice\r\n    *204 - Motor Carrier Load Tender\r\n    *210 - Motor Carrier Freight Details and Invoice\r\n    *212 - Motor Carrier Delivery Trailer Manifest\r\n\r\nThe EDI’s has to be sent back and forth using the AS2 standard.\r\n\r\nSince I am new to EDI and don&#39;t even know much about how to send EDI using AS2 format. \r\n\r\nThanks in advance.\r\n\r\nUpdated on Sep 3, 2012. \r\n\r\nI have found X12 parser, which is seems to be working. I was able to parse 856 EDI Transaction set. I didn&#39;t try with other formats yet. \r\n\r\nFollowing is the link :\r\n\r\nhttp://x12-parser.googlecode.com/svn/trunk/\r\n\r\nIf someone has any valuable comments or suggestion on X12 parser please post it here. \r\n\r\nThanks ","title":"Is there any Talend component to create ANSI X12 edi file?","body":"<p>Is there any Talend component to create ANSI X12 edi file? I need to process the following EDI Transaction sets:</p>\n\n<pre><code>*846 - Inventory Inquiry/Advice\n*856 - Ship Notice/Manifest\n*888 - Item Maintenance\n*940 - Warehouse Shipping Order\n*943 - Warehouse Stock Transfer Shipment Advice\n*944 - Warehouse Stock Transfer Receipt Advice\n*945 - Warehouse Shipping Advice\n*947 - Warehouse Inventory Adjustment Advice\n*204 - Motor Carrier Load Tender\n*210 - Motor Carrier Freight Details and Invoice\n*212 - Motor Carrier Delivery Trailer Manifest\n</code></pre>\n\n<p>The EDI’s has to be sent back and forth using the AS2 standard.</p>\n\n<p>Since I am new to EDI and don't even know much about how to send EDI using AS2 format. </p>\n\n<p>Thanks in advance.</p>\n\n<p>Updated on Sep 3, 2012. </p>\n\n<p>I have found X12 parser, which is seems to be working. I was able to parse 856 EDI Transaction set. I didn't try with other formats yet. </p>\n\n<p>Following is the link :</p>\n\n<p><a href=\"http://x12-parser.googlecode.com/svn/trunk/\" rel=\"nofollow\">http://x12-parser.googlecode.com/svn/trunk/</a></p>\n\n<p>If someone has any valuable comments or suggestion on X12 parser please post it here. </p>\n\n<p>Thanks </p>\n"},{"tags":["java","ssl","keytool","jce"],"comments":[{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1308043673,"post_id":6340918,"comment_id":7419211,"body_markdown":"I&#39;m not sure what you mean by &quot;The particular certificate I&#39;m importing has only a public key&quot;: is it just a public key (i.e. not a certificate) or a non-CA certificate?","body":"I&#39;m not sure what you mean by &quot;The particular certificate I&#39;m importing has only a public key&quot;: is it just a public key (i.e. not a certificate) or a non-CA certificate?"},{"owner":{"account_id":83125,"reputation":9583,"user_id":233266,"accept_rate":75,"display_name":"Toby"},"score":0,"creation_date":1308043898,"post_id":6340918,"comment_id":7419271,"body_markdown":"hmmm, not sure. I exported from my browser as a PEM file. Does that help?","body":"hmmm, not sure. I exported from my browser as a PEM file. Does that help?"},{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1308044219,"post_id":6340918,"comment_id":7419348,"body_markdown":"If it&#39;s exported from the browser, it&#39;s probably a certificate. Is it a server certificate (with a CN or subjectAltName matching the name of a server)? Is it a CA certificate (look under Basic Constraints, you should be able to see this using your browser).","body":"If it&#39;s exported from the browser, it&#39;s probably a certificate. Is it a server certificate (with a CN or subjectAltName matching the name of a server)? Is it a CA certificate (look under Basic Constraints, you should be able to see this using your browser)."},{"owner":{"account_id":1750515,"reputation":6073,"user_id":1599699,"accept_rate":80,"display_name":"Andrew"},"score":3,"creation_date":1503679669,"post_id":6340918,"comment_id":78731095,"body_markdown":"**tl;dr:** trust stores contain public, trusted, root (CA) certs, whereas identity/key stores contain private, identity certs; file-wise, however, they are the same.","body":"<b>tl;dr:</b> trust stores contain public, trusted, root (CA) certs, whereas identity/key stores contain private, identity certs; file-wise, however, they are the same."},{"owner":{"account_id":10159308,"reputation":1339,"user_id":13216387,"display_name":"Saboteur"},"score":0,"creation_date":1616688067,"post_id":6340918,"comment_id":118087232,"body_markdown":"there are no technical difference, just some logic and comfort things to separate trusted certificates from server/client certificates.","body":"there are no technical difference, just some logic and comfort things to separate trusted certificates from server/client certificates."}],"answers":[{"comments":[{"owner":{"account_id":114848,"reputation":134189,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"score":4,"creation_date":1308041588,"post_id":6341035,"comment_id":7418698,"body_markdown":"You can use different types of keystore (e.g., PKCS12) by setting the `javax.net.ssl.keyStoreType` and `javax.net.ssl.trustStoreType` system properties.","body":"You can use different types of keystore (e.g., PKCS12) by setting the <code>javax.net.ssl.keyStoreType</code> and <code>javax.net.ssl.trustStoreType</code> system properties."},{"owner":{"account_id":63571,"reputation":14881,"user_id":188107,"accept_rate":63,"display_name":"musiKk"},"score":1,"creation_date":1308042102,"post_id":6341035,"comment_id":7418834,"body_markdown":"@Donal: Good addition. Do you happen to know if there is a list of all supported containers? I only know of PKCS12 and JKS (the former being the result of trial and error...).","body":"@Donal: Good addition. Do you happen to know if there is a list of all supported containers? I only know of PKCS12 and JKS (the former being the result of trial and error...)."},{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":2,"creation_date":1308044578,"post_id":6341035,"comment_id":7419424,"body_markdown":"the keystore formats vary depending on the providers available (see [this list](http://download.oracle.com/javase/6/docs/technotes/guides/security/SunProviders.html) for those bundled with the Oracle JRE by default). There was also a discussion in [this question](http://stackoverflow.com/questions/6157550/question-on-java-keystores/6157716#6157716). Other providers (e.g. BouncyCastle) can be used for other formats.","body":"the keystore formats vary depending on the providers available (see <a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/security/SunProviders.html\" rel=\"nofollow noreferrer\">this list</a> for those bundled with the Oracle JRE by default). There was also a discussion in <a href=\"http://stackoverflow.com/questions/6157550/question-on-java-keystores/6157716#6157716\">this question</a>. Other providers (e.g. BouncyCastle) can be used for other formats."}],"tags":[],"owner":{"account_id":63571,"reputation":14881,"user_id":188107,"accept_rate":63,"display_name":"musiKk"},"comment_count":3,"down_vote_count":2,"up_vote_count":30,"is_accepted":false,"score":28,"last_activity_date":1571902566,"creation_date":1308040527,"answer_id":6341035,"question_id":6340918,"body_markdown":"There is no difference between keystore and truststore files. Both are files in the proprietary JKS file format. The distinction is in the use: To the best of my knowledge, Java will only use the store that is referenced by the `-Djavax.net.ssl.trustStore` system property to look for certificates to trust when creating SSL connections. Same for keys and `-Djavax.net.ssl.keyStore`. But in theory it&#39;s fine to use one and the same file for trust- and keystores.","title":"Trust Store vs Key Store - creating with keytool","body":"<p>There is no difference between keystore and truststore files. Both are files in the proprietary JKS file format. The distinction is in the use: To the best of my knowledge, Java will only use the store that is referenced by the <code>-Djavax.net.ssl.trustStore</code> system property to look for certificates to trust when creating SSL connections. Same for keys and <code>-Djavax.net.ssl.keyStore</code>. But in theory it's fine to use one and the same file for trust- and keystores.</p>\n"},{"comments":[{"owner":{"account_id":83125,"reputation":9583,"user_id":233266,"accept_rate":75,"display_name":"Toby"},"score":0,"creation_date":1308124987,"post_id":6341566,"comment_id":7437597,"body_markdown":"thanks for the reply, it clears things up a little. I&#39;m still confused though when it comes to usage, I can use a pk12 pri/pub key (xxx.p12) as a keystore (via -D) and create a SSL connection (trusted) without any mention of a truststore via -D... oh well.","body":"thanks for the reply, it clears things up a little. I&#39;m still confused though when it comes to usage, I can use a pk12 pri/pub key (xxx.p12) as a keystore (via -D) and create a SSL connection (trusted) without any mention of a truststore via -D... oh well."},{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":75,"creation_date":1308128950,"post_id":6341566,"comment_id":7438562,"body_markdown":"You don&#39;t need to specify a truststore, because there&#39;s a default value for it (it&#39;s bundled with the JRE), usually in `$JAVA_HOME/lib/security/cacerts` (see 2nd JSSE ref guide link I sent). Like browsers, it contains a default set of trusted CA certificates. In general, a client will always use a truststore to check the server cert but the keystore will only be used if the server requests a client cert, and the server will always use a keystore for its own key+cert but the truststore will only be used if the client sends a client certificate.","body":"You don&#39;t need to specify a truststore, because there&#39;s a default value for it (it&#39;s bundled with the JRE), usually in <code>$JAVA_HOME&#47;lib&#47;security&#47;cacerts</code> (see 2nd JSSE ref guide link I sent). Like browsers, it contains a default set of trusted CA certificates. In general, a client will always use a truststore to check the server cert but the keystore will only be used if the server requests a client cert, and the server will always use a keystore for its own key+cert but the truststore will only be used if the client sends a client certificate."},{"owner":{"account_id":5968065,"reputation":14213,"user_id":4691279,"accept_rate":58,"display_name":"hagrawal7777"},"score":4,"creation_date":1487001113,"post_id":6341566,"comment_id":71577496,"body_markdown":"Thanks for useful information. In Weblogic, there is &quot;identity-key-store&quot; which stores the server&#39;s SSL certificate and then there is &quot;trust-key-store&quot; which stores the SSL certificates which server trusts, so am I correct if I say that &quot;identity-key-store&quot; is nothing but a &quot;keystore&quot; and &quot;trust-key-store&quot; is nothing but a &quot;truststore&quot; ?","body":"Thanks for useful information. In Weblogic, there is &quot;identity-key-store&quot; which stores the server&#39;s SSL certificate and then there is &quot;trust-key-store&quot; which stores the SSL certificates which server trusts, so am I correct if I say that &quot;identity-key-store&quot; is nothing but a &quot;keystore&quot; and &quot;trust-key-store&quot; is nothing but a &quot;truststore&quot; ?"},{"owner":{"account_id":227596,"reputation":4137,"user_id":489364,"accept_rate":53,"display_name":"kommradHomer"},"score":0,"creation_date":1562247945,"post_id":6341566,"comment_id":100325571,"body_markdown":"@Bruno also should we note that when there&#39;s a &quot;jssecacerts&quot; ,  &quot;cacerts&quot; is ignored ?","body":"@Bruno also should we note that when there&#39;s a &quot;jssecacerts&quot; ,  &quot;cacerts&quot; is ignored ?"}],"tags":[],"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"comment_count":4,"down_vote_count":0,"up_vote_count":411,"is_accepted":true,"score":411,"last_activity_date":1400691075,"creation_date":1308043582,"answer_id":6341566,"question_id":6340918,"body_markdown":"The terminology is a bit confusing indeed, but both `javax.net.ssl.keyStore` and `javax.net.ssl.trustStore` are used to specify which keystores to use, for two different purposes. Keystores come in various formats and are not even necessarily files (see [this question][1]), and `keytool` is just a tool to perform various operations on them (import/export/list/...).\r\n\r\nThe `javax.net.ssl.keyStore` and `javax.net.ssl.trustStore` parameters are the default parameters used to build `KeyManager`s and `TrustManager`s (respectively), then used to build an `SSLContext` which essentially contains the SSL/TLS settings to use when making an SSL/TLS connection via an `SSLSocketFactory` or an `SSLEngine`. These system properties are just where the default values come from, which is then used by `SSLContext.getDefault()`, itself used by `SSLSocketFactory.getDefault()` for example. (All of this can be customized via the API in a number of places, if you don&#39;t want to use the default values and that specific `SSLContext`s for a given purpose.)\r\n\r\nThe difference between the `KeyManager` and `TrustManager` (and thus between `javax.net.ssl.keyStore` and `javax.net.ssl.trustStore`) is as follows (quoted from the [JSSE ref guide][2]):\r\n\r\n&gt; TrustManager: \tDetermines whether the\r\n&gt; remote authentication credentials (and\r\n&gt; thus the connection) should be\r\n&gt; trusted.\r\n&gt; \r\n&gt; KeyManager: \tDetermines which\r\n&gt; authentication credentials to send to\r\n&gt; the remote host.\r\n\r\n(Other parameters are available and their default values are described in the [JSSE ref guide][3]. Note that while there is a default value for the trust store, there isn&#39;t one for the key store.)\r\n\r\nEssentially, the keystore in `javax.net.ssl.keyStore` is meant to contain your private keys and certificates, whereas the `javax.net.ssl.trustStore` is meant to contain the CA certificates you&#39;re willing to trust when a remote party presents its certificate. In some cases, they can be one and the same store, although it&#39;s often better practice to use distinct stores (especially when they&#39;re file-based).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6157550/question-on-java-keystores/6157716#6157716\r\n  [2]: http://download.oracle.com/javase/6/docs/technotes/guides/security/jsse/JSSERefGuide.html#RelsTM_KM\r\n  [3]: http://download.oracle.com/javase/6/docs/technotes/guides/security/jsse/JSSERefGuide.html#Customization","title":"Trust Store vs Key Store - creating with keytool","body":"<p>The terminology is a bit confusing indeed, but both <code>javax.net.ssl.keyStore</code> and <code>javax.net.ssl.trustStore</code> are used to specify which keystores to use, for two different purposes. Keystores come in various formats and are not even necessarily files (see <a href=\"https://stackoverflow.com/questions/6157550/question-on-java-keystores/6157716#6157716\">this question</a>), and <code>keytool</code> is just a tool to perform various operations on them (import/export/list/...).</p>\n\n<p>The <code>javax.net.ssl.keyStore</code> and <code>javax.net.ssl.trustStore</code> parameters are the default parameters used to build <code>KeyManager</code>s and <code>TrustManager</code>s (respectively), then used to build an <code>SSLContext</code> which essentially contains the SSL/TLS settings to use when making an SSL/TLS connection via an <code>SSLSocketFactory</code> or an <code>SSLEngine</code>. These system properties are just where the default values come from, which is then used by <code>SSLContext.getDefault()</code>, itself used by <code>SSLSocketFactory.getDefault()</code> for example. (All of this can be customized via the API in a number of places, if you don't want to use the default values and that specific <code>SSLContext</code>s for a given purpose.)</p>\n\n<p>The difference between the <code>KeyManager</code> and <code>TrustManager</code> (and thus between <code>javax.net.ssl.keyStore</code> and <code>javax.net.ssl.trustStore</code>) is as follows (quoted from the <a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/security/jsse/JSSERefGuide.html#RelsTM_KM\" rel=\"noreferrer\">JSSE ref guide</a>):</p>\n\n<blockquote>\n  <p>TrustManager:     Determines whether the\n  remote authentication credentials (and\n  thus the connection) should be\n  trusted.</p>\n  \n  <p>KeyManager:   Determines which\n  authentication credentials to send to\n  the remote host.</p>\n</blockquote>\n\n<p>(Other parameters are available and their default values are described in the <a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/security/jsse/JSSERefGuide.html#Customization\" rel=\"noreferrer\">JSSE ref guide</a>. Note that while there is a default value for the trust store, there isn't one for the key store.)</p>\n\n<p>Essentially, the keystore in <code>javax.net.ssl.keyStore</code> is meant to contain your private keys and certificates, whereas the <code>javax.net.ssl.trustStore</code> is meant to contain the CA certificates you're willing to trust when a remote party presents its certificate. In some cases, they can be one and the same store, although it's often better practice to use distinct stores (especially when they're file-based).</p>\n"},{"comments":[{"owner":{"account_id":3030319,"reputation":1688,"user_id":2569475,"display_name":"Deepak"},"score":0,"creation_date":1560402059,"post_id":41280603,"comment_id":99725361,"body_markdown":"Hi, I have one scenario where I have two different applications within the same container (tomcat). From both applications, I have to call the rest endpoints from both sides to each application. Like, from A to B and B to A (A and B are the two applications). Do I need to use the truststore in this scenario? As I am using custom rest client which is using keystore. Please suggest.","body":"Hi, I have one scenario where I have two different applications within the same container (tomcat). From both applications, I have to call the rest endpoints from both sides to each application. Like, from A to B and B to A (A and B are the two applications). Do I need to use the truststore in this scenario? As I am using custom rest client which is using keystore. Please suggest."}],"tags":[],"owner":{"account_id":1861044,"reputation":1917,"user_id":1901896,"display_name":"Akash5288"},"comment_count":1,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1550635118,"creation_date":1482401401,"answer_id":41280603,"question_id":6340918,"body_markdown":"Keystore is used by a server to store private keys, and Truststore is used by third party client to store public keys provided by server to access. I have done that in my production application. Below are the steps for generating java certificates for SSL communication:\r\n\r\n1. Generate a certificate using keygen command in windows:\r\n\r\n`keytool -genkey -keystore server.keystore -alias mycert -keyalg RSA -keysize 2048 -validity 3950`\r\n\r\n2. Self certify the certificate:\r\n\r\n`keytool -selfcert -alias mycert -keystore server.keystore -validity 3950`\r\n\r\n3. Export certificate to folder:\r\n\r\n`keytool -export -alias mycert -keystore server.keystore -rfc -file mycert.cer`\r\n\r\n4. Import Certificate into client Truststore:\r\n\r\n`keytool -importcert -alias mycert -file mycert.cer -keystore truststore`","title":"Trust Store vs Key Store - creating with keytool","body":"<p>Keystore is used by a server to store private keys, and Truststore is used by third party client to store public keys provided by server to access. I have done that in my production application. Below are the steps for generating java certificates for SSL communication:</p>\n\n<ol>\n<li>Generate a certificate using keygen command in windows:</li>\n</ol>\n\n<p><code>keytool -genkey -keystore server.keystore -alias mycert -keyalg RSA -keysize 2048 -validity 3950</code></p>\n\n<ol start=\"2\">\n<li>Self certify the certificate:</li>\n</ol>\n\n<p><code>keytool -selfcert -alias mycert -keystore server.keystore -validity 3950</code></p>\n\n<ol start=\"3\">\n<li>Export certificate to folder:</li>\n</ol>\n\n<p><code>keytool -export -alias mycert -keystore server.keystore -rfc -file mycert.cer</code></p>\n\n<ol start=\"4\">\n<li>Import Certificate into client Truststore:</li>\n</ol>\n\n<p><code>keytool -importcert -alias mycert -file mycert.cer -keystore truststore</code></p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1544091799,"post_id":47888598,"comment_id":94156724,"body_markdown":"A truststore stores trusted *certicificates.*","body":"A truststore stores trusted <i>certicificates.</i>"},{"owner":{"account_id":2100640,"reputation":588,"user_id":1868371,"accept_rate":100,"display_name":"Gerardo Cauich"},"score":1,"creation_date":1641769731,"post_id":47888598,"comment_id":124886899,"body_markdown":"@user207421 trusted certificates ** :)","body":"@user207421 trusted certificates ** :)"}],"tags":[],"owner":{"account_id":11978855,"reputation":33,"user_id":8765252,"display_name":"Team END_TECH"},"comment_count":2,"down_vote_count":5,"up_vote_count":4,"is_accepted":false,"score":-1,"last_activity_date":1513691887,"creation_date":1513691887,"answer_id":47888598,"question_id":6340918,"body_markdown":"keystore simply stores private keys, wheras truststore stores public keys. You will want to generate a java certificate for SSL communication. You can use a keygen command in windows, this will probably be the most easy solution.","title":"Trust Store vs Key Store - creating with keytool","body":"<p>keystore simply stores private keys, wheras truststore stores public keys. You will want to generate a java certificate for SSL communication. You can use a keygen command in windows, this will probably be the most easy solution.</p>\n"},{"tags":[],"owner":{"account_id":2404390,"reputation":7871,"user_id":2101290,"accept_rate":8,"display_name":"Balaji Boggaram Ramanarayan"},"comment_count":0,"down_vote_count":0,"up_vote_count":139,"is_accepted":false,"score":139,"last_activity_date":1641810707,"creation_date":1518808343,"answer_id":48833390,"question_id":6340918,"body_markdown":"To explain in common usecase/purpose or layman way: \r\n\r\n&gt; **TrustStore** : Used to store the ***certificates***\r\n&gt; of trusted entities. A process can maintain a store of certificates of all the trusted parties\r\n&gt; which  it trusts.\r\n&gt;\r\n&gt; **keyStore** : Used to store the server ***keys*** (both public and private)\r\n&gt; along with the signed certificate.\r\n\r\nDuring the SSL handshake, \r\n\r\n1. A client tries to access https:// \r\n\r\n2. And thus, Server responds by providing a SSL certificate (which is stored in its keyStore)\r\n\r\n3. Now, the client receives the SSL certificate and verifies it via trustStore (i.e the client&#39;s trustStore already has pre-defined set of certificates which it trusts.). Its like : Can I trust this server ? Is this the same server whom I am trying to talk to ? No middle man attacks ?\r\n\r\n4. Once, the client verifies that it is talking to server which it trusts, then SSL communication can happen over a shared secret key. \r\n\r\nNote : I am not talking here anything about client authentication on server side. If a server wants to do a client authentication too, then the server also maintains a trustStore to verify client. Then it becomes mutual TLS.","title":"Trust Store vs Key Store - creating with keytool","body":"<p>To explain in common usecase/purpose or layman way:</p>\n<blockquote>\n<p><strong>TrustStore</strong> : Used to store the <em><strong>certificates</strong></em>\nof trusted entities. A process can maintain a store of certificates of all the trusted parties\nwhich  it trusts.</p>\n<p><strong>keyStore</strong> : Used to store the server <em><strong>keys</strong></em> (both public and private)\nalong with the signed certificate.</p>\n</blockquote>\n<p>During the SSL handshake,</p>\n<ol>\n<li><p>A client tries to access https://</p>\n</li>\n<li><p>And thus, Server responds by providing a SSL certificate (which is stored in its keyStore)</p>\n</li>\n<li><p>Now, the client receives the SSL certificate and verifies it via trustStore (i.e the client's trustStore already has pre-defined set of certificates which it trusts.). Its like : Can I trust this server ? Is this the same server whom I am trying to talk to ? No middle man attacks ?</p>\n</li>\n<li><p>Once, the client verifies that it is talking to server which it trusts, then SSL communication can happen over a shared secret key.</p>\n</li>\n</ol>\n<p>Note : I am not talking here anything about client authentication on server side. If a server wants to do a client authentication too, then the server also maintains a trustStore to verify client. Then it becomes mutual TLS.</p>\n"},{"tags":[],"owner":{"account_id":11155895,"reputation":1,"user_id":8187631,"display_name":"Ganesh Sha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571895908,"creation_date":1571893076,"answer_id":58534398,"question_id":6340918,"body_markdown":"These are the steps to create a Truststore in your local machine using Keytool.\r\nSteps to create truststore for a URL in your local machine.\r\n\r\n1) Hit the url in the browser using chrome\r\n\r\n2) Check for the **&quot;i&quot;** icon to the left of the url in the chrome and click it\r\n\r\n3) Check for **certificate option** and click it and a Dialog box will open\r\n\r\n4) check the **&quot;certificate path&quot; tab** for the number of certificates available to create the truststore\r\n\r\n5) Go the `&quot;details&quot; tab -&gt; click&quot;Copy to File&quot; -&gt; Give the path and the name for the certificate` you want to create.\r\n\r\n6) Check if it has parent certificates and follow the point **&quot;5&quot;**.\r\n\r\n7) After all the certificates are being create open Command Prompt and navigate to the path where you created the certificates.\r\n\r\n8) provide the below Keytool command to add the certificates and create a truststore.\r\n```\t\t\r\nSample: \r\n   keytool -import -alias abcdefg -file abcdefg.cer -keystore cacerts\r\n\t\twhere &quot;abcdefg&quot; is the alias name and &quot;abcdefg.cer&quot; is the actual certificate name and &quot;cacerts&quot; is the truststore name\r\n```\r\n\t\t\r\n9) Provide the keytool command for all the certificates and add them to the trust store.\r\n```\r\n   \tkeytool -list -v -keystore cacerts\r\n```","title":"Trust Store vs Key Store - creating with keytool","body":"<p>These are the steps to create a Truststore in your local machine using Keytool.\nSteps to create truststore for a URL in your local machine.</p>\n\n<p>1) Hit the url in the browser using chrome</p>\n\n<p>2) Check for the <strong>\"i\"</strong> icon to the left of the url in the chrome and click it</p>\n\n<p>3) Check for <strong>certificate option</strong> and click it and a Dialog box will open</p>\n\n<p>4) check the <strong>\"certificate path\" tab</strong> for the number of certificates available to create the truststore</p>\n\n<p>5) Go the <code>\"details\" tab -&gt; click\"Copy to File\" -&gt; Give the path and the name for the certificate</code> you want to create.</p>\n\n<p>6) Check if it has parent certificates and follow the point <strong>\"5\"</strong>.</p>\n\n<p>7) After all the certificates are being create open Command Prompt and navigate to the path where you created the certificates.</p>\n\n<p>8) provide the below Keytool command to add the certificates and create a truststore.</p>\n\n<pre><code>Sample: \n   keytool -import -alias abcdefg -file abcdefg.cer -keystore cacerts\n        where \"abcdefg\" is the alias name and \"abcdefg.cer\" is the actual certificate name and \"cacerts\" is the truststore name\n</code></pre>\n\n<p>9) Provide the keytool command for all the certificates and add them to the trust store.</p>\n\n<pre><code>    keytool -list -v -keystore cacerts\n</code></pre>\n"}],"owner":{"account_id":83125,"reputation":9583,"user_id":233266,"accept_rate":75,"display_name":"Toby"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300583,"favorite_count":0,"down_vote_count":0,"up_vote_count":301,"accepted_answer_id":6341566,"answer_count":6,"score":301,"last_activity_date":1680304720,"creation_date":1308039794,"question_id":6340918,"body_markdown":"I understand that the keystore would usually hold private/public keys and the trust store only public keys (and represents the list of trusted parties you intend to communicate with). Well, that&#39;s my first assumption, so if that&#39;s not correct, I probably haven&#39;t started very well...\r\n\r\n**I was interested though in understanding how / when you distinguish the stores when using keytool.**\r\n\r\nSo, far I&#39;ve created a keystore using\r\n\r\n    keytool -import -alias bob -file bob.crt -keystore keystore.ks\r\n\r\nwhich creates my keystore.ks file. I answer `yes` to the question do I trust bob but it is unclear to me if this has created a keystore file or a truststore file? I can set up my application to use the file as either.\r\n\r\n    -Djavax.net.ssl.keyStore=keystore.ks -Djavax.net.ssl.keyStorePassword=x\r\n    -Djavax.net.ssl.trustStore=keystore.ks -Djavax.net.ssl.trustStorePassword=x\r\n\r\nand with `System.setProperty( &quot;javax.net.debug&quot;, &quot;ssl&quot;)` set, I can see the certificate under trusted certifications (but not under the keystore section). The particular certificate I&#39;m importing has only a public key and I intend to use it to send stuff over an SSL connection to Bob (but perhaps that&#39;s best left for another question!).\r\n\r\nAny pointers or clarifications would be much appreciated. Is the output of keytool the same whatever you import and its just convention that says one is a keystore and the other a trust store? What&#39;s the relationship when using SSL etc?","title":"Trust Store vs Key Store - creating with keytool","body":"<p>I understand that the keystore would usually hold private/public keys and the trust store only public keys (and represents the list of trusted parties you intend to communicate with). Well, that's my first assumption, so if that's not correct, I probably haven't started very well...</p>\n\n<p><strong>I was interested though in understanding how / when you distinguish the stores when using keytool.</strong></p>\n\n<p>So, far I've created a keystore using</p>\n\n<pre><code>keytool -import -alias bob -file bob.crt -keystore keystore.ks\n</code></pre>\n\n<p>which creates my keystore.ks file. I answer <code>yes</code> to the question do I trust bob but it is unclear to me if this has created a keystore file or a truststore file? I can set up my application to use the file as either.</p>\n\n<pre><code>-Djavax.net.ssl.keyStore=keystore.ks -Djavax.net.ssl.keyStorePassword=x\n-Djavax.net.ssl.trustStore=keystore.ks -Djavax.net.ssl.trustStorePassword=x\n</code></pre>\n\n<p>and with <code>System.setProperty( \"javax.net.debug\", \"ssl\")</code> set, I can see the certificate under trusted certifications (but not under the keystore section). The particular certificate I'm importing has only a public key and I intend to use it to send stuff over an SSL connection to Bob (but perhaps that's best left for another question!).</p>\n\n<p>Any pointers or clarifications would be much appreciated. Is the output of keytool the same whatever you import and its just convention that says one is a keystore and the other a trust store? What's the relationship when using SSL etc?</p>\n"},{"tags":["java","xml","jackson"],"answers":[{"tags":[],"owner":{"account_id":11747902,"reputation":644,"user_id":8598112,"display_name":"Hamza Ince"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680304489,"creation_date":1560430316,"answer_id":56580954,"question_id":56579316,"body_markdown":"I found the solution:&lt;br&gt;My mistake, (a terrible one), was, that I forgot to change the type of the mapping class for the method `xmlMapper.readValue(String content, Class&lt;T&gt; valueType)`.&lt;br&gt;&lt;br&gt;\r\nIndeed, I set the class of the mapping object as `new TypeReference&lt;List&lt;XlDeployCi&gt;&gt;() {}`. You should do that to get a list, but actually, I only needed 1 object.&lt;br&gt;&lt;br&gt;\r\n\r\nI leave this answer, in case someone makes the same mistake as I did.","title":"Error while mapping xml to java using jackson: com.fasterxml.jackson.databind.exc.MismatchedInputException","body":"<p>I found the solution:<br>My mistake, (a terrible one), was, that I forgot to change the type of the mapping class for the method <code>xmlMapper.readValue(String content, Class&lt;T&gt; valueType)</code>.<br><br>\nIndeed, I set the class of the mapping object as <code>new TypeReference&lt;List&lt;XlDeployCi&gt;&gt;() {}</code>. You should do that to get a list, but actually, I only needed 1 object.<br><br></p>\n<p>I leave this answer, in case someone makes the same mistake as I did.</p>\n"}],"owner":{"account_id":11747902,"reputation":644,"user_id":8598112,"display_name":"Hamza Ince"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56580954,"answer_count":1,"score":1,"last_activity_date":1680304489,"creation_date":1560424840,"question_id":56579316,"body_markdown":"I have an xml file that I have to parse and map to a Java class:&lt;br&gt;\r\n\r\n    &lt;udm.DeployedApplication id=&quot;ID&quot; token=&quot;TOKEN&quot; created-by=&quot;AUTHOR&quot; created-at=&quot;2018-12-10T10:02:36.264+0000&quot; last-modified-by=&quot;AUTHOR&quot; last-modified-at=&quot;2019-05-21T18:16:07.492+0000&quot;&gt;\r\n        &lt;version ref=&quot;REF&quot;/&gt;\r\n        &lt;environment ref=&quot;REF2&quot;/&gt;\r\n        &lt;deployeds&gt;\r\n            &lt;ci ref=&quot;ref3&quot;/&gt;\r\n        &lt;/deployeds&gt;\r\n        &lt;orchestrator&gt;\r\n            &lt;value&gt;value1&lt;/value&gt;\r\n            &lt;value&gt;value2&lt;/value&gt;\r\n            &lt;value&gt;value3&lt;/value&gt;\r\n        &lt;/orchestrator&gt;\r\n        &lt;optimizePlan&gt;true&lt;/optimizePlan&gt;\r\n        &lt;boundConfigurationItems/&gt;\r\n        &lt;unresolvedPlaceholders/&gt;\r\n        &lt;undeployDependencies&gt;false&lt;/undeployDependencies&gt;\r\n        &lt;bpcForceUndeployment&gt;false&lt;/bpcForceUndeployment&gt;\r\n        &lt;enableAutomaticOrchestrators&gt;true&lt;/enableAutomaticOrchestrators&gt;\r\n        &lt;hotDeploy&gt;false&lt;/hotDeploy&gt;\r\n    &lt;/udm.DeployedApplication&gt;\r\n\r\n\r\n**XlDeployCi.java:**\r\n\t\r\n\t@JsonIgnoreProperties(ignoreUnknown = true)\r\n\tpublic class XlDeployCi {\r\n\t\t@JacksonXmlProperty(localName = &quot;id&quot;)\r\n\t\tprivate String id;\r\n\t\t@JacksonXmlProperty(localName = &quot;token&quot;)\r\n\t\tprivate String token;\r\n\t\t@JacksonXmlProperty(localName = &quot;created-by&quot;)\r\n\t\tprivate String createdBy;\r\n\t\t@JacksonXmlProperty(localName = &quot;created-at&quot;)\r\n\t\tprivate Timestamp createdAt;\r\n\t\t@JacksonXmlProperty(localName = &quot;last-modified-by&quot;)\r\n\t\tprivate String modifiedBy;\r\n\t\t@JacksonXmlProperty(localName = &quot;last-modified-at&quot;)\r\n\t\tprivate Timestamp modifiedAt;\r\n\t\r\n\t\t@JacksonXmlProperty(localName = &quot;version&quot;)\r\n\t\tprivate XlDeployRef version;\r\n\t\t@JacksonXmlProperty(localName = &quot;environment&quot;)\r\n\t\tprivate XlDeployRef environment;\r\n\t\t@JacksonXmlProperty(localName = &quot;deployeds&quot;)\r\n\t\tprivate List&lt;XlDeployRef&gt; deployeds;\r\n\t\r\n\t\t@JacksonXmlProperty(localName = &quot;orchestrator&quot;)\r\n\t\tprivate XlDeployOrchestrator orchestrator;\r\n\t\r\n\t\t@JacksonXmlProperty(localName = &quot;boundConfigurationItems&quot;)\r\n\t\tprivate String boundConfigurationItems;\r\n\t\t@JacksonXmlProperty(localName = &quot;unresolvedPlaceholders&quot;)\r\n\t\tprivate String unresolvedPlaceholders;\r\n\t\t@JacksonXmlProperty(localName = &quot;optimizePlan&quot;)\r\n\t\tprivate Boolean optimizePlan;\r\n\t\t@JacksonXmlProperty(localName = &quot;undeployDependencies&quot;)\r\n\t\tprivate Boolean undeployDependencies;\r\n\t\t@JacksonXmlProperty(localName = &quot;bpcForceUndeployment&quot;)\r\n\t\tprivate Boolean bpcForceUndeployment;\r\n\t\t@JacksonXmlProperty(localName = &quot;enableAutomaticOrchestrators&quot;)\r\n\t\tprivate Boolean enableAutomaticOrchestrators;\r\n\t\t@JacksonXmlProperty(localName = &quot;hotDeploy&quot;)\r\n\t\tprivate Boolean hotDeploy;\r\n\t}\r\n\r\n**XlDeployRef.java:**\r\n\r\n\t@JsonIgnoreProperties(ignoreUnknown = true)\r\n\tpublic class XlDeployRef {\r\n\t    @JacksonXmlProperty(localName = &quot;ref&quot;)\r\n\t\tprivate String ref;\r\n\t\r\n\t\tpublic String getRef() {\r\n\t\t\treturn ref;\r\n\t\t}\r\n\t\r\n\t\tpublic void setRef(String ref) {\r\n\t\t\tthis.ref = ref;\r\n\t\t}\r\n\t}\r\n\r\n**XlDeployOrchestrator.java:**\r\n\r\n\t@JsonIgnoreProperties(ignoreUnknown = true)\r\n\tpublic class XlDeployOrchestrator {\r\n\t\t@JacksonXmlProperty(localName = &quot;value&quot;)\r\n\t\tprivate ArrayList &lt;String&gt; value;\r\n\t}\r\n\r\n**TestXml.java:**\r\n\t\r\n\tpublic class TestXml {\r\n\t\r\n\t\tprivate static final String FILE_PATH = &quot;src/main/resources/xmlRest.txt&quot;;\r\n\t\r\n\t\t@Test\r\n\t\tpublic void testXml() throws JsonParseException, JsonMappingException, IOException {\r\n\t\t\tString xmlFile = readFile(FILE_PATH, Charset.defaultCharset());\r\n\t\t\tXmlMapper xmlMapper = new XmlMapper();\r\n\t\r\n\t\t\txmlMapper.setDefaultUseWrapper(false);\r\n\t\t\txmlMapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\r\n\t\r\n\t\t\tList&lt;XlDeployCi&gt; list = xmlMapper.readValue(xmlFile, new TypeReference&lt;List&lt;XlDeployCi&gt;&gt;() {});\r\n\t\r\n\t\t\tlist.forEach(System.out::println);\r\n\t\t}\r\n\t\r\n\t\tprivate static String readFile(String path, Charset encoding) throws IOException {\r\n\t\t\tbyte[] encoded = Files.readAllBytes(Paths.get(path));\r\n\t\t\treturn new String(encoded, encoding);\r\n\t\t}\r\n\t}\r\n\r\n--------------\r\n\r\nThe error I get : \r\n\r\n&gt;com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `package.XlDeployCi`\r\n(although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;true&#39;)&lt;br&gt;\r\n\r\n\r\n## EDIT ##\r\nI tried few things, and found something strange, I changed my xml file to :\r\n\r\n    &lt;udm.DeployedApplication id=&quot;Environments/UAT/Env/UAT-DCS_APL/dcs-application&quot; token=&quot;b3dd242b-66ff-4548-81b1-062c8a1152be&quot; created-by=&quot;ext.pcuciniello&quot; created-at=&quot;2018-12-10T10:02:36.264+0000&quot; last-modified-by=&quot;ext.pcuciniello&quot; last-modified-at=&quot;2019-05-21T18:16:07.492+0000&quot;&gt;\r\n\t    &lt;version ref=&quot;Applications/Shipping/Java/DCS/dcs-application/dcs1.8.5-20190521&quot;/&gt;\r\n\t    &lt;environment ref=&quot;Environments/UAT/Env/UAT-DCS_APL&quot;/&gt;\r\n\t    &lt;deployeds&gt;\r\n\t\t\t&lt;ci ref=&quot;Infrastructure/UAT/WEBLO/UAT_DCS_APL_DOMAIN/DCS_UAT_CLUSTER/dcs-application&quot;/&gt;\r\n\t    &lt;/deployeds&gt;\r\n\t    &lt;hotDeploy&gt;true&lt;/hotDeploy&gt;\r\n\t&lt;/udm.DeployedApplication&gt;\r\n\r\nThen, I changed the **XlDeployCi.java** file:\r\n\r\n\t@JsonIgnoreProperties(ignoreUnknown = true)\r\n\tpublic class XlDeployCi {\r\n\t\t\r\n\t\t@JacksonXmlProperty(localName = &quot;id&quot;)\r\n\t\tprivate String id;\r\n\t\t@JacksonXmlProperty(localName = &quot;token&quot;)\r\n\t\tprivate String token;\r\n\t\t@JacksonXmlProperty(localName = &quot;created-by&quot;)\r\n\t\tprivate String createdBy;\r\n\t\t@JacksonXmlProperty(localName = &quot;created-at&quot;)\r\n\t\tprivate Timestamp createdAt;\r\n\t\t@JacksonXmlProperty(localName = &quot;last-modified-by&quot;)\r\n\t\tprivate String modifiedBy;\r\n\t\t@JacksonXmlProperty(localName = &quot;last-modified-at&quot;)\r\n\t\tprivate Timestamp modifiedAt;\r\n\t\r\n\t\t@JacksonXmlProperty(localName = &quot;version&quot;)\r\n\t\tprivate XlDeployRef version;\r\n\t\t@JacksonXmlProperty(localName = &quot;environment&quot;)\r\n\t\tprivate XlDeployRef environment;\r\n\t\t@JacksonXmlProperty(localName = &quot;deployeds&quot;)\r\n\t\tprivate List&lt;XlDeployRef&gt; deployeds;\r\n\t\r\n\t\t@JacksonXmlProperty(localName = &quot;hotDeploy&quot;)\r\n\t\tpublic String hotDeploy;\r\n\t\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;XlDeployCi [id=&quot; + id + &quot;, token=&quot; + token + &quot;, createdBy=&quot; + createdBy + &quot;, createdAt=&quot; + createdAt\r\n\t\t\t\t\t+ &quot;, modifiedBy=&quot; + modifiedBy + &quot;, modifiedAt=&quot; + modifiedAt + &quot;, version=&quot; + version\r\n\t\t\t\t\t+ &quot;, environment=&quot; + environment + &quot;, deployeds=&quot; + deployeds + &quot;, hotDeploy=&quot; + hotDeploy + &quot;]&quot;;\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n-------------\r\nThe error I get :\r\n&gt;com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `package.XlDeployCi`\r\n(although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;false&#39;)\r\n\r\n**But**, If I remove the line ``&lt;hotDeploy&gt;false&lt;/hotDeploy&gt;``, it works correctly.&lt;br&gt;\r\n\r\nIt&#39;s seems, I can&#39;t do something like `&lt;X&gt;Y&lt;/Y&gt;`, I can only do stuff like `&lt;X Y=&quot;Z&quot;/&gt;`.","title":"Error while mapping xml to java using jackson: com.fasterxml.jackson.databind.exc.MismatchedInputException","body":"<p>I have an xml file that I have to parse and map to a Java class:<br></p>\n\n<pre><code>&lt;udm.DeployedApplication id=\"ID\" token=\"TOKEN\" created-by=\"AUTHOR\" created-at=\"2018-12-10T10:02:36.264+0000\" last-modified-by=\"AUTHOR\" last-modified-at=\"2019-05-21T18:16:07.492+0000\"&gt;\n    &lt;version ref=\"REF\"/&gt;\n    &lt;environment ref=\"REF2\"/&gt;\n    &lt;deployeds&gt;\n        &lt;ci ref=\"ref3\"/&gt;\n    &lt;/deployeds&gt;\n    &lt;orchestrator&gt;\n        &lt;value&gt;value1&lt;/value&gt;\n        &lt;value&gt;value2&lt;/value&gt;\n        &lt;value&gt;value3&lt;/value&gt;\n    &lt;/orchestrator&gt;\n    &lt;optimizePlan&gt;true&lt;/optimizePlan&gt;\n    &lt;boundConfigurationItems/&gt;\n    &lt;unresolvedPlaceholders/&gt;\n    &lt;undeployDependencies&gt;false&lt;/undeployDependencies&gt;\n    &lt;bpcForceUndeployment&gt;false&lt;/bpcForceUndeployment&gt;\n    &lt;enableAutomaticOrchestrators&gt;true&lt;/enableAutomaticOrchestrators&gt;\n    &lt;hotDeploy&gt;false&lt;/hotDeploy&gt;\n&lt;/udm.DeployedApplication&gt;\n</code></pre>\n\n<p><strong>XlDeployCi.java:</strong></p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class XlDeployCi {\n    @JacksonXmlProperty(localName = \"id\")\n    private String id;\n    @JacksonXmlProperty(localName = \"token\")\n    private String token;\n    @JacksonXmlProperty(localName = \"created-by\")\n    private String createdBy;\n    @JacksonXmlProperty(localName = \"created-at\")\n    private Timestamp createdAt;\n    @JacksonXmlProperty(localName = \"last-modified-by\")\n    private String modifiedBy;\n    @JacksonXmlProperty(localName = \"last-modified-at\")\n    private Timestamp modifiedAt;\n\n    @JacksonXmlProperty(localName = \"version\")\n    private XlDeployRef version;\n    @JacksonXmlProperty(localName = \"environment\")\n    private XlDeployRef environment;\n    @JacksonXmlProperty(localName = \"deployeds\")\n    private List&lt;XlDeployRef&gt; deployeds;\n\n    @JacksonXmlProperty(localName = \"orchestrator\")\n    private XlDeployOrchestrator orchestrator;\n\n    @JacksonXmlProperty(localName = \"boundConfigurationItems\")\n    private String boundConfigurationItems;\n    @JacksonXmlProperty(localName = \"unresolvedPlaceholders\")\n    private String unresolvedPlaceholders;\n    @JacksonXmlProperty(localName = \"optimizePlan\")\n    private Boolean optimizePlan;\n    @JacksonXmlProperty(localName = \"undeployDependencies\")\n    private Boolean undeployDependencies;\n    @JacksonXmlProperty(localName = \"bpcForceUndeployment\")\n    private Boolean bpcForceUndeployment;\n    @JacksonXmlProperty(localName = \"enableAutomaticOrchestrators\")\n    private Boolean enableAutomaticOrchestrators;\n    @JacksonXmlProperty(localName = \"hotDeploy\")\n    private Boolean hotDeploy;\n}\n</code></pre>\n\n<p><strong>XlDeployRef.java:</strong></p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class XlDeployRef {\n    @JacksonXmlProperty(localName = \"ref\")\n    private String ref;\n\n    public String getRef() {\n        return ref;\n    }\n\n    public void setRef(String ref) {\n        this.ref = ref;\n    }\n}\n</code></pre>\n\n<p><strong>XlDeployOrchestrator.java:</strong></p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class XlDeployOrchestrator {\n    @JacksonXmlProperty(localName = \"value\")\n    private ArrayList &lt;String&gt; value;\n}\n</code></pre>\n\n<p><strong>TestXml.java:</strong></p>\n\n<pre><code>public class TestXml {\n\n    private static final String FILE_PATH = \"src/main/resources/xmlRest.txt\";\n\n    @Test\n    public void testXml() throws JsonParseException, JsonMappingException, IOException {\n        String xmlFile = readFile(FILE_PATH, Charset.defaultCharset());\n        XmlMapper xmlMapper = new XmlMapper();\n\n        xmlMapper.setDefaultUseWrapper(false);\n        xmlMapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\n\n        List&lt;XlDeployCi&gt; list = xmlMapper.readValue(xmlFile, new TypeReference&lt;List&lt;XlDeployCi&gt;&gt;() {});\n\n        list.forEach(System.out::println);\n    }\n\n    private static String readFile(String path, Charset encoding) throws IOException {\n        byte[] encoded = Files.readAllBytes(Paths.get(path));\n        return new String(encoded, encoding);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>The error I get : </p>\n\n<blockquote>\n  <p>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of <code>package.XlDeployCi</code>\n  (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('true')<br></p>\n</blockquote>\n\n<h2>EDIT</h2>\n\n<p>I tried few things, and found something strange, I changed my xml file to :</p>\n\n<pre><code>&lt;udm.DeployedApplication id=\"Environments/UAT/Env/UAT-DCS_APL/dcs-application\" token=\"b3dd242b-66ff-4548-81b1-062c8a1152be\" created-by=\"ext.pcuciniello\" created-at=\"2018-12-10T10:02:36.264+0000\" last-modified-by=\"ext.pcuciniello\" last-modified-at=\"2019-05-21T18:16:07.492+0000\"&gt;\n    &lt;version ref=\"Applications/Shipping/Java/DCS/dcs-application/dcs1.8.5-20190521\"/&gt;\n    &lt;environment ref=\"Environments/UAT/Env/UAT-DCS_APL\"/&gt;\n    &lt;deployeds&gt;\n        &lt;ci ref=\"Infrastructure/UAT/WEBLO/UAT_DCS_APL_DOMAIN/DCS_UAT_CLUSTER/dcs-application\"/&gt;\n    &lt;/deployeds&gt;\n    &lt;hotDeploy&gt;true&lt;/hotDeploy&gt;\n&lt;/udm.DeployedApplication&gt;\n</code></pre>\n\n<p>Then, I changed the <strong>XlDeployCi.java</strong> file:</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class XlDeployCi {\n\n    @JacksonXmlProperty(localName = \"id\")\n    private String id;\n    @JacksonXmlProperty(localName = \"token\")\n    private String token;\n    @JacksonXmlProperty(localName = \"created-by\")\n    private String createdBy;\n    @JacksonXmlProperty(localName = \"created-at\")\n    private Timestamp createdAt;\n    @JacksonXmlProperty(localName = \"last-modified-by\")\n    private String modifiedBy;\n    @JacksonXmlProperty(localName = \"last-modified-at\")\n    private Timestamp modifiedAt;\n\n    @JacksonXmlProperty(localName = \"version\")\n    private XlDeployRef version;\n    @JacksonXmlProperty(localName = \"environment\")\n    private XlDeployRef environment;\n    @JacksonXmlProperty(localName = \"deployeds\")\n    private List&lt;XlDeployRef&gt; deployeds;\n\n    @JacksonXmlProperty(localName = \"hotDeploy\")\n    public String hotDeploy;\n\n    @Override\n    public String toString() {\n        return \"XlDeployCi [id=\" + id + \", token=\" + token + \", createdBy=\" + createdBy + \", createdAt=\" + createdAt\n                + \", modifiedBy=\" + modifiedBy + \", modifiedAt=\" + modifiedAt + \", version=\" + version\n                + \", environment=\" + environment + \", deployeds=\" + deployeds + \", hotDeploy=\" + hotDeploy + \"]\";\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<p>The error I get :</p>\n\n<blockquote>\n  <p>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of <code>package.XlDeployCi</code>\n  (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('false')</p>\n</blockquote>\n\n<p><strong>But</strong>, If I remove the line <code>&lt;hotDeploy&gt;false&lt;/hotDeploy&gt;</code>, it works correctly.<br></p>\n\n<p>It's seems, I can't do something like <code>&lt;X&gt;Y&lt;/Y&gt;</code>, I can only do stuff like <code>&lt;X Y=\"Z\"/&gt;</code>.</p>\n"},{"tags":["java","sum","sub-array"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680286232,"post_id":75901321,"comment_id":133878448,"body_markdown":"This looks like a problem from a programming practice or challenge site. Please provide a link to the page that presents the problem.","body":"This looks like a problem from a programming practice or challenge site. Please provide a link to the page that presents the problem."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680289245,"post_id":75901321,"comment_id":133879046,"body_markdown":"By the way, and off-topic:  In Java, an array is a reference type, and has its own `length` attribute.","body":"By the way, and off-topic:  In Java, an array is a reference type, and has its own <code>length</code> attribute."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1680289385,"post_id":75901321,"comment_id":133879077,"body_markdown":"code does not *consider* a one element sub-array. What will happen if only one single value is equal to the sum? Example `{1,2,3}` and `sum=2` or even trivial `{1}` and `sum=1` (@OldDogProgrammer based on sample data, the array is not sorted; and the problem is probably stated for different languages, not just Java [my guess], so not using `length`)","body":"code does not <i>consider</i> a one element sub-array. What will happen if only one single value is equal to the sum? Example <code>{1,2,3}</code> and <code>sum=2</code> or even trivial <code>{1}</code> and <code>sum=1</code> (@OldDogProgrammer based on sample data, the array is not sorted; and the problem is probably stated for different languages, not just Java [my guess], so not using <code>length</code>)"},{"owner":{"account_id":27677588,"reputation":11,"user_id":21127063,"display_name":"Sourav Borah"},"score":1,"creation_date":1680634408,"post_id":75901321,"comment_id":133930638,"body_markdown":"https://practice.geeksforgeeks.org/problems/subarray-with-given-sum-1587115621/1?page=1&amp;difficulty[]=0&amp;category[]=Arrays&amp;sortBy=submissions this is the link to the problem @OldDogProgrammer","body":"<a href=\"https://practice.geeksforgeeks.org/problems/subarray-with-given-sum-1587115621/1?page=1&amp;difficulty[]=0&amp;category[]=Arrays&amp;sortBy=submissions\" rel=\"nofollow noreferrer\">practice.geeksforgeeks.org/problems/&hellip;</a> this is the link to the problem @OldDogProgrammer"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680652219,"post_id":75901321,"comment_id":133933790,"body_markdown":"I noticed the authors of the problem want it done in O(n). Your program runs in O(n^2).  You said your code failed for a really large set of arrays. Did your code fail because it returned the wrong answer or did it fail because it took too long to run?","body":"I noticed the authors of the problem want it done in O(n). Your program runs in O(n^2).  You said your code failed for a really large set of arrays. Did your code fail because it returned the wrong answer or did it fail because it took too long to run?"}],"answers":[{"tags":[],"owner":{"account_id":23684315,"reputation":171,"user_id":17709482,"display_name":"Johann Schwarze"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680304401,"creation_date":1680304401,"answer_id":75903394,"question_id":75901321,"body_markdown":"The following code should work:\r\n\r\n```java\r\nstatic ArrayList&lt;Integer&gt; subarraySum(int[] arr, int s) {\r\n\tArrayList&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n\t\r\n\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\tint sum = 0;\r\n\t\tfor (int j = i; j &lt; arr.length; j++) {\r\n\t\t\tsum += arr[j];\r\n\t\t\t\r\n\t\t\tif (s == sum) {\r\n\t\t\t\tresult.add(i+1);\r\n\t\t\t\tresult.add(j+1);\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tresult.add(-1);\r\n\treturn result;\r\n}\r\n```","title":"Continuous subarray with given sum","body":"<p>The following code should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static ArrayList&lt;Integer&gt; subarraySum(int[] arr, int s) {\n    ArrayList&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n    \n    for (int i = 0; i &lt; arr.length; i++) {\n        int sum = 0;\n        for (int j = i; j &lt; arr.length; j++) {\n            sum += arr[j];\n            \n            if (s == sum) {\n                result.add(i+1);\n                result.add(j+1);\n                return result;\n            }\n        }\n    }\n    \n    result.add(-1);\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":27677588,"reputation":11,"user_id":21127063,"display_name":"Sourav Borah"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680304401,"creation_date":1680284525,"question_id":75901321,"body_markdown":"I am trying to create a continuous subArray from a given array which is equal to the given sum and return the first and last index as an ArrayList. This is the solution i could think of which actually passed 52 testcases but failed for a really large set of Arrays where it is returning -1 instead.\r\n`Input -\r\narr = {1,2,3,7,5}\r\nn = 5\r\ns = 12Expected output = 2, 4`\r\n\r\n```java\r\nstatic ArrayList&lt;Integer&gt; subarraySum(int[] arr, int n, int s) {\r\n    ArrayList&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n    result.add(0, -1);\r\n    for (int i = 0; i &lt; n; i++) {\r\n        int sum = arr[i];\r\n        for (int j = i+1; j &lt; n; j++) {\r\n            sum += arr[j];\r\n            if (sum == s) {\r\n                result.add(1, j+1);\r\n                result.set(0, i+1);\r\n                return result;\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\n```","title":"Continuous subarray with given sum","body":"<p>I am trying to create a continuous subArray from a given array which is equal to the given sum and return the first and last index as an ArrayList. This is the solution i could think of which actually passed 52 testcases but failed for a really large set of Arrays where it is returning -1 instead.\n<code>Input - arr = {1,2,3,7,5} n = 5 s = 12Expected output = 2, 4</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>static ArrayList&lt;Integer&gt; subarraySum(int[] arr, int n, int s) {\n    ArrayList&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n    result.add(0, -1);\n    for (int i = 0; i &lt; n; i++) {\n        int sum = arr[i];\n        for (int j = i+1; j &lt; n; j++) {\n            sum += arr[j];\n            if (sum == s) {\n                result.add(1, j+1);\n                result.set(0, i+1);\n                return result;\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","postman","multipartfile"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680304988,"post_id":75903123,"comment_id":133881706,"body_markdown":"Best lookup enabling octet-stream in the server config for requests and post.","body":"Best lookup enabling octet-stream in the server config for requests and post."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1680305124,"post_id":75903123,"comment_id":133881720,"body_markdown":"@SamuelMarchant How can I enabling octet-stream?","body":"@SamuelMarchant How can I enabling octet-stream?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680305180,"post_id":75903123,"comment_id":133881725,"body_markdown":"What server are you using?   Here is some of that type of way.   https://stackoverflow.com/questions/75687109/how-can-i-limit-the-body-of-a-application-octet-stream-request-in-spring-boot","body":"What server are you using?   Here is some of that type of way.   <a href=\"https://stackoverflow.com/questions/75687109/how-can-i-limit-the-body-of-a-application-octet-stream-request-in-spring-boot\" title=\"how can i limit the body of a application octet stream request in spring boot\">stackoverflow.com/questions/75687109/&hellip;</a>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1680305376,"post_id":75903123,"comment_id":133881749,"body_markdown":"@SamuelMarchant Tomcat. I think there is a problem in createQrCode method.","body":"@SamuelMarchant Tomcat. I think there is a problem in createQrCode method."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1680305891,"post_id":75903123,"comment_id":133881803,"body_markdown":"@SamuelMarchant When I use this option `public ResponseEntity&lt;byte[]&gt; createQrCode(@RequestPart String text, @RequestPart String size, @RequestPart String color, @RequestPart String backgroundColor, @RequestPart MultipartFile imageFile) throws IOException`  , it works. However, I want to send a RequestBody","body":"@SamuelMarchant When I use this option <code>public ResponseEntity&lt;byte[]&gt; createQrCode(@RequestPart String text, @RequestPart String size, @RequestPart String color, @RequestPart String backgroundColor, @RequestPart MultipartFile imageFile) throws IOException</code>  , it works. However, I want to send a RequestBody"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680306162,"post_id":75903123,"comment_id":133881834,"body_markdown":"From both errors it is definitely a server config issue, a QR code however may be a mime type &quot;image/png&quot;   or &quot;image/jpg&quot; what does it generate?  Too if you are sending in a request from a multiparty form, all you need to do is put &quot;the data&quot; piece through the url encoder first to make it a pseudo string. Post or Get email form &quot;data&quot; is url encoder first!  A better way of comprehending it is after all pieces are url encoder first and then joined together finally, it then has a Content-Length","body":"From both errors it is definitely a server config issue, a QR code however may be a mime type &quot;image/png&quot;   or &quot;image/jpg&quot; what does it generate?  Too if you are sending in a request from a multiparty form, all you need to do is put &quot;the data&quot; piece through the url encoder first to make it a pseudo string. Post or Get email form &quot;data&quot; is url encoder first!  A better way of comprehending it is after all pieces are url encoder first and then joined together finally, it then has a Content-Length"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680306397,"post_id":75903123,"comment_id":133881860,"body_markdown":"You then are using multiparty/form-data form type , but is the QR code image an attachment or in the body? If in the body part then it is best type text/html and in an html IMG element to use a base64 image data coding in the SRC=","body":"You then are using multiparty/form-data form type , but is the QR code image an attachment or in the body? If in the body part then it is best type text/html and in an html IMG element to use a base64 image data coding in the SRC="},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1680306842,"post_id":75903123,"comment_id":133881901,"body_markdown":"@SamuelMarchant I don&#39;t think there is a server issue. The problem is related with this part `(@RequestPart CreateQrRequest request, \n                                               @RequestPart MultipartFile imageFile) `","body":"@SamuelMarchant I don&#39;t think there is a server issue. The problem is related with this part <code>(@RequestPart CreateQrRequest request,                                                 @RequestPart MultipartFile imageFile) </code>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680307657,"post_id":75903123,"comment_id":133881971,"body_markdown":"When using application/octet-stream the content-transfer-encoding would be &quot;binary&quot;. However I presume much of this is done by the system.   The answer by someone below seems credible from this tutorial.   https://www.baeldung.com/java-generating-barcodes-qr-codes","body":"When using application/octet-stream the content-transfer-encoding would be &quot;binary&quot;. However I presume much of this is done by the system.   The answer by someone below seems credible from this tutorial.   <a href=\"https://www.baeldung.com/java-generating-barcodes-qr-codes\" rel=\"nofollow noreferrer\">baeldung.com/java-generating-barcodes-qr-codes</a>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1680308925,"post_id":75903123,"comment_id":133882079,"body_markdown":"@SamuelMarchant I use ZXing library in my example. My issue is related with the request part with variables. `@RequestPart` didn&#39;t help me fix the issue.","body":"@SamuelMarchant I use ZXing library in my example. My issue is related with the request part with variables. <code>@RequestPart</code> didn&#39;t help me fix the issue."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680318073,"post_id":75903123,"comment_id":133882697,"body_markdown":"Not finding good api info for it , this following is in some way a Result not a requestpart @RequestPart MultipartFile.     Too, is the byte[] array returned only image data or a whole message?   Is that emailed or sent straight out http &quot;Are you writing your own annotations for this code?&quot;. E.g. Qrproductioninput     Qrproductioninputparam    Qrproductionoutput","body":"Not finding good api info for it , this following is in some way a Result not a requestpart @RequestPart MultipartFile.     Too, is the byte[] array returned only image data or a whole message?   Is that emailed or sent straight out http &quot;Are you writing your own annotations for this code?&quot;. E.g. Qrproductioninput     Qrproductioninputparam    Qrproductionoutput"}],"answers":[{"comments":[{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1680304629,"post_id":75903389,"comment_id":133881655,"body_markdown":"Is it impossible to use CreateQrRequest request?","body":"Is it impossible to use CreateQrRequest request?"},{"owner":{"account_id":6599951,"reputation":596,"user_id":5098570,"display_name":"Md. Nowshad Hasan"},"score":0,"creation_date":1680304918,"post_id":75903389,"comment_id":133881698,"body_markdown":"Not sure, once I faced this issue, and solved it this way. If you find anything, please post the solution here.","body":"Not sure, once I faced this issue, and solved it this way. If you find anything, please post the solution here."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1680518764,"post_id":75903389,"comment_id":133906515,"body_markdown":"I have a problem about the custom validation in this example. Can you help me if you have any idea. Here is the link : https://stackoverflow.com/questions/75918125/how-to-use-custom-validation-with-requestparam-in-spring-boot","body":"I have a problem about the custom validation in this example. Can you help me if you have any idea. Here is the link : <a href=\"https://stackoverflow.com/questions/75918125/how-to-use-custom-validation-with-requestparam-in-spring-boot\" title=\"how to use custom validation with requestparam in spring boot\">stackoverflow.com/questions/75918125/&hellip;</a>"}],"tags":[],"owner":{"account_id":6599951,"reputation":596,"user_id":5098570,"display_name":"Md. Nowshad Hasan"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680304342,"creation_date":1680304342,"answer_id":75903389,"question_id":75903123,"body_markdown":"You can change the controller like below - \r\n```java\r\n @PostMapping(produces = MediaType.IMAGE_PNG_VALUE)\r\n    public ResponseEntity&lt;byte[]&gt; createQrCode(@RequestPart String text, @RequestPart String size, @RequestPart String color, @RequestPart String backgroundColor, @RequestPart MultipartFile imageFile) throws IOException {\r\n\r\n    }\r\n```\r\nJust writing the request&#39;s attributes separately.","title":"Cannot send requestbody and Multipartfile in Controller of Spring Boot from Postman","body":"<p>You can change the controller like below -</p>\n<pre class=\"lang-java prettyprint-override\"><code> @PostMapping(produces = MediaType.IMAGE_PNG_VALUE)\n    public ResponseEntity&lt;byte[]&gt; createQrCode(@RequestPart String text, @RequestPart String size, @RequestPart String color, @RequestPart String backgroundColor, @RequestPart MultipartFile imageFile) throws IOException {\n\n    }\n</code></pre>\n<p>Just writing the request's attributes separately.</p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":818,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75903389,"answer_count":1,"score":0,"last_activity_date":1680304342,"creation_date":1680300825,"question_id":75903123,"body_markdown":"I have a problem to send requestBody and multipartFile in Controller of Spring Boot from Postman.\r\n\r\nI get this issue shown below as an image\r\n\r\n[![Image][1]][1]\r\n\r\n\r\nHere is the method of controller shown below\r\n\r\n    @PostMapping(produces = MediaType.IMAGE_PNG_VALUE)\r\n    public ResponseEntity&lt;byte[]&gt; createQrCode(@RequestBody CreateQrRequest request, @RequestPart MultipartFile imageFile) throws IOException {\r\n    \r\n    }\r\n\r\nHere is **CreateQrRequest** shown below\r\n\r\n    @Data\r\n    @Builder\r\n    public class CreateQrRequest {\r\n    \r\n        @NotBlank\r\n        private String text;\r\n    \r\n        @NotBlank\r\n        private String size;\r\n    \r\n        @NotBlank\r\n        private String color;\r\n    \r\n        @NotBlank\r\n        private String backgroundColor;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O6Cx4.png\r\n\r\n\r\nHere is the error message when I tried to define the parameters like \r\n\r\n    public ResponseEntity&lt;byte[]&gt; createQrCode(@RequestPart CreateQrRequest request, \r\n                                                   @RequestPart MultipartFile imageFile) throws IOException {\r\n\r\nError Message \r\n\r\n    {\r\n        &quot;type&quot;: &quot;about:blank&quot;,\r\n        &quot;title&quot;: &quot;Unsupported Media Type&quot;,\r\n        &quot;status&quot;: 415,\r\n        &quot;detail&quot;: &quot;Content-Type &#39;application/octet-stream&#39; is not supported.&quot;,\r\n        &quot;instance&quot;: &quot;/api/v1/qr-generator&quot;\r\n    }\r\n\r\nHow can I fix it?","title":"Cannot send requestbody and Multipartfile in Controller of Spring Boot from Postman","body":"<p>I have a problem to send requestBody and multipartFile in Controller of Spring Boot from Postman.</p>\n<p>I get this issue shown below as an image</p>\n<p><a href=\"https://i.stack.imgur.com/O6Cx4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O6Cx4.png\" alt=\"Image\" /></a></p>\n<p>Here is the method of controller shown below</p>\n<pre><code>@PostMapping(produces = MediaType.IMAGE_PNG_VALUE)\npublic ResponseEntity&lt;byte[]&gt; createQrCode(@RequestBody CreateQrRequest request, @RequestPart MultipartFile imageFile) throws IOException {\n\n}\n</code></pre>\n<p>Here is <strong>CreateQrRequest</strong> shown below</p>\n<pre><code>@Data\n@Builder\npublic class CreateQrRequest {\n\n    @NotBlank\n    private String text;\n\n    @NotBlank\n    private String size;\n\n    @NotBlank\n    private String color;\n\n    @NotBlank\n    private String backgroundColor;\n}\n</code></pre>\n<p>Here is the error message when I tried to define the parameters like</p>\n<pre><code>public ResponseEntity&lt;byte[]&gt; createQrCode(@RequestPart CreateQrRequest request, \n                                               @RequestPart MultipartFile imageFile) throws IOException {\n</code></pre>\n<p>Error Message</p>\n<pre><code>{\n    &quot;type&quot;: &quot;about:blank&quot;,\n    &quot;title&quot;: &quot;Unsupported Media Type&quot;,\n    &quot;status&quot;: 415,\n    &quot;detail&quot;: &quot;Content-Type 'application/octet-stream' is not supported.&quot;,\n    &quot;instance&quot;: &quot;/api/v1/qr-generator&quot;\n}\n</code></pre>\n<p>How can I fix it?</p>\n"},{"tags":["java","openshift"],"comments":[{"owner":{"account_id":7052109,"reputation":1400,"user_id":5400813,"display_name":"Jiri Fiala"},"score":0,"creation_date":1453293605,"post_id":34818473,"comment_id":57536886,"body_markdown":"Did you named it `ROOT.war` or `root.war` (case sensitive; you&#39;re mentioning both variants in your question)? Were there any deployment errors?","body":"Did you named it <code>ROOT.war</code> or <code>root.war</code> (case sensitive; you&#39;re mentioning both variants in your question)? Were there any deployment errors?"},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1453315662,"post_id":34818473,"comment_id":57552092,"body_markdown":"@JiriFiala Thanks for looking into my question. I named it ROOT.war. There were not any deployment errors. None. I have pasted the log messages in my original post. I restarted my application to look if there are any deployment errors.","body":"@JiriFiala Thanks for looking into my question. I named it ROOT.war. There were not any deployment errors. None. I have pasted the log messages in my original post. I restarted my application to look if there are any deployment errors."},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1455644767,"post_id":34818473,"comment_id":58576832,"body_markdown":"@JiriFiala My problem is solved! Check the answer xD","body":"@JiriFiala My problem is solved! Check the answer xD"}],"answers":[{"tags":[],"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680304206,"creation_date":1455636291,"answer_id":35436409,"question_id":34818473,"body_markdown":"Okay now I got it. Although renaming *.war to ROOT.war was important, I was missing  .jsp file at aN important location. I added &quot;index.jsp&quot; at the root of my web application and inside it I have \r\n\r\n    &lt;%@ page session=&quot;false&quot; %&gt;\r\n    &lt;c:redirect url=&quot;/main&quot; /&gt;\r\n\r\nThe main thing that&#39;s needed here is the 2nd line. It will redirect all the calls headed for http://app-domain.rhcloud.com/ to http://app-domain.rhcloud.com/main, which I actually need. I just type http://demo-farazdurrani.rhcloud.com/ and it redirects it to http://demo-farazdurrani.rhcloud.com/main\r\n\r\nFirst line is optional (not needed for my solution) and is doing this: It is a needed page that doesn&#39;t need to be involved in a session. Or if this code is specified in a JSP page, it means session objects will not be available for that page. Hence session cannot be maintained for that page. (just putting it out there not necessary for my question though).\r\n\r\nI will show you how my project structure looks like now:\r\n\r\n[![Eclipse Project Director Structure][1]][1] \r\n\r\nEarlier in the question I was asking if I need to change anything in web.xml. No I don&#39;t. Everything is fine there. \r\n\r\n  [1]: http://i.stack.imgur.com/npGxA.jpg","title":"Renamed my .war file to ROOT.war but still has to type full name + /appname","body":"<p>Okay now I got it. Although renaming *.war to ROOT.war was important, I was missing  .jsp file at aN important location. I added &quot;index.jsp&quot; at the root of my web application and inside it I have</p>\n<pre><code>&lt;%@ page session=&quot;false&quot; %&gt;\n&lt;c:redirect url=&quot;/main&quot; /&gt;\n</code></pre>\n<p>The main thing that's needed here is the 2nd line. It will redirect all the calls headed for <a href=\"http://app-domain.rhcloud.com/\" rel=\"nofollow noreferrer\">http://app-domain.rhcloud.com/</a> to <a href=\"http://app-domain.rhcloud.com/main\" rel=\"nofollow noreferrer\">http://app-domain.rhcloud.com/main</a>, which I actually need. I just type <a href=\"http://demo-farazdurrani.rhcloud.com/\" rel=\"nofollow noreferrer\">http://demo-farazdurrani.rhcloud.com/</a> and it redirects it to <a href=\"http://demo-farazdurrani.rhcloud.com/main\" rel=\"nofollow noreferrer\">http://demo-farazdurrani.rhcloud.com/main</a></p>\n<p>First line is optional (not needed for my solution) and is doing this: It is a needed page that doesn't need to be involved in a session. Or if this code is specified in a JSP page, it means session objects will not be available for that page. Hence session cannot be maintained for that page. (just putting it out there not necessary for my question though).</p>\n<p>I will show you how my project structure looks like now:</p>\n<p><a href=\"https://i.stack.imgur.com/npGxA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/npGxA.jpg\" alt=\"Eclipse Project Director Structure\" /></a></p>\n<p>Earlier in the question I was asking if I need to change anything in web.xml. No I don't. Everything is fine there.</p>\n"}],"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":705,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35436409,"answer_count":1,"score":1,"last_activity_date":1680304206,"creation_date":1452886364,"question_id":34818473,"body_markdown":"I read here https://stackoverflow.com/questions/23977205/deploy-tomcat-application-to-root-in-openshift that by renaming your .war file to ROOT.war, you will be able to do access your website by typing this: http://app-domain.rhcloud.com/ . So I renamed it to root.war but still no changes. I still have to type http://app-domain.rhcloud.com/name-of-war-file\r\n\r\nThis is my web.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    `&lt;web-app version=&quot;3.0&quot;\r\n     xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n     xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n     metadata-complete=&quot;false&quot;&gt;\r\n\r\n    &lt;display-name&gt;Advanced Mappings Demo Application&lt;/display-name&gt;\r\n\r\n    &lt;jsp-config&gt;\r\n    &lt;jsp-property-group&gt;\r\n        &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\r\n        &lt;url-pattern&gt;*.jspf&lt;/url-pattern&gt;\r\n        &lt;page-encoding&gt;UTF-8&lt;/page-encoding&gt;\r\n        &lt;scripting-invalid&gt;true&lt;/scripting-invalid&gt;\r\n        &lt;include-prelude&gt;/WEB-INF/jsp/base.jspf&lt;/include-prelude&gt;\r\n        &lt;trim-directive-whitespaces&gt;true&lt;/trim-directive-whitespaces&gt;\r\n        &lt;default-content-type&gt;text/html&lt;/default-content-type&gt;\r\n    &lt;/jsp-property-group&gt;\r\n    &lt;/jsp-config&gt;\r\n    &lt;session-config&gt;\r\n    &lt;session-timeout&gt;30&lt;/session-timeout&gt;\r\n    &lt;cookie-config&gt;\r\n        &lt;http-only&gt;true&lt;/http-only&gt;\r\n    &lt;/cookie-config&gt;\r\n    &lt;tracking-mode&gt;COOKIE&lt;/tracking-mode&gt;\r\n    &lt;/session-config&gt;         \r\n\r\nAnd this is my onStartUp method (I configured it programmatically):\r\n\r\n    @Override\r\n    public void onStartup(ServletContext container) throws ServletException\r\n    {\r\n    AnnotationConfigWebApplicationContext rootContext =\r\n            new AnnotationConfigWebApplicationContext();\r\n    rootContext.register(RootContextConfiguration.class);\r\n    container.addListener(new ContextLoaderListener(rootContext));\r\n\r\n    AnnotationConfigWebApplicationContext servletContext =\r\n            new AnnotationConfigWebApplicationContext();\r\n    servletContext.register(WebServletContextConfiguration.class); \r\n    ServletRegistration.Dynamic dispatcher = container.addServlet(\r\n            &quot;springDispatcher&quot;, new DispatcherServlet(servletContext)\r\n    );\r\n    dispatcher.setLoadOnStartup(1);\r\n    dispatcher.addMapping(&quot;/&quot;);\r\n    container.getServletRegistration(&quot;default&quot;).addMapping(&quot;/resources/*&quot;,   &quot;*.css&quot;, &quot;*.js&quot;, &quot;*.png&quot;, &quot;*.gif&quot;, &quot;*.jpg&quot;);\r\n\r\n    }\r\n\r\nThis is the log of my application when being deployed:\r\n\r\n[Openshift logs after restarting my application via Eclipse][1]\r\n\r\n\r\n  [1]: http://pastebin.com/5jydhNFC","title":"Renamed my .war file to ROOT.war but still has to type full name + /appname","body":"<p>I read here <a href=\"https://stackoverflow.com/questions/23977205/deploy-tomcat-application-to-root-in-openshift\">Deploy tomcat application to root in openshift</a> that by renaming your .war file to ROOT.war, you will be able to do access your website by typing this: <a href=\"http://app-domain.rhcloud.com/\" rel=\"nofollow noreferrer\">http://app-domain.rhcloud.com/</a> . So I renamed it to root.war but still no changes. I still have to type <a href=\"http://app-domain.rhcloud.com/name-of-war-file\" rel=\"nofollow noreferrer\">http://app-domain.rhcloud.com/name-of-war-file</a></p>\n\n<p>This is my web.xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n`&lt;web-app version=\"3.0\"\n xmlns=\"http://java.sun.com/xml/ns/javaee\"\n xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\n metadata-complete=\"false\"&gt;\n\n&lt;display-name&gt;Advanced Mappings Demo Application&lt;/display-name&gt;\n\n&lt;jsp-config&gt;\n&lt;jsp-property-group&gt;\n    &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\n    &lt;url-pattern&gt;*.jspf&lt;/url-pattern&gt;\n    &lt;page-encoding&gt;UTF-8&lt;/page-encoding&gt;\n    &lt;scripting-invalid&gt;true&lt;/scripting-invalid&gt;\n    &lt;include-prelude&gt;/WEB-INF/jsp/base.jspf&lt;/include-prelude&gt;\n    &lt;trim-directive-whitespaces&gt;true&lt;/trim-directive-whitespaces&gt;\n    &lt;default-content-type&gt;text/html&lt;/default-content-type&gt;\n&lt;/jsp-property-group&gt;\n&lt;/jsp-config&gt;\n&lt;session-config&gt;\n&lt;session-timeout&gt;30&lt;/session-timeout&gt;\n&lt;cookie-config&gt;\n    &lt;http-only&gt;true&lt;/http-only&gt;\n&lt;/cookie-config&gt;\n&lt;tracking-mode&gt;COOKIE&lt;/tracking-mode&gt;\n&lt;/session-config&gt;         \n</code></pre>\n\n<p>And this is my onStartUp method (I configured it programmatically):</p>\n\n<pre><code>@Override\npublic void onStartup(ServletContext container) throws ServletException\n{\nAnnotationConfigWebApplicationContext rootContext =\n        new AnnotationConfigWebApplicationContext();\nrootContext.register(RootContextConfiguration.class);\ncontainer.addListener(new ContextLoaderListener(rootContext));\n\nAnnotationConfigWebApplicationContext servletContext =\n        new AnnotationConfigWebApplicationContext();\nservletContext.register(WebServletContextConfiguration.class); \nServletRegistration.Dynamic dispatcher = container.addServlet(\n        \"springDispatcher\", new DispatcherServlet(servletContext)\n);\ndispatcher.setLoadOnStartup(1);\ndispatcher.addMapping(\"/\");\ncontainer.getServletRegistration(\"default\").addMapping(\"/resources/*\",   \"*.css\", \"*.js\", \"*.png\", \"*.gif\", \"*.jpg\");\n\n}\n</code></pre>\n\n<p>This is the log of my application when being deployed:</p>\n\n<p><a href=\"http://pastebin.com/5jydhNFC\" rel=\"nofollow noreferrer\">Openshift logs after restarting my application via Eclipse</a></p>\n"},{"tags":["java","docker","integration-testing","localstack","concourse-pipeline"],"owner":{"account_id":21274423,"reputation":1,"user_id":15653457,"display_name":"nabin bhatta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680303710,"creation_date":1680303710,"question_id":75903346,"body_markdown":"I am trying to run the integration test with localstack container in pipeline. It runs fine locally but it is ignored in pipeline (Concourse). If I run the test without docker desktop, it is again ignored when I use mvn clean test command. \r\n\r\n```\r\n@Container\r\nprivate static final LocalStackContainer localstack = new LocalStackContainer(DockerImageName.parse(&quot;localstack/localstack:0.13.0&quot;)).withServices(LocalStackContainer.Service.SQS\r\n```\r\n\r\nI tried creating a docker image from &quot;localstack/localstack:0.13.0&quot; but it is still ignoring the test. I was expecting it to run the test since if I run &quot;localstack/localstack:0.13.0&quot; but it is still ignoring the test.","title":"Run localstack Integration test in Pipeline","body":"<p>I am trying to run the integration test with localstack container in pipeline. It runs fine locally but it is ignored in pipeline (Concourse). If I run the test without docker desktop, it is again ignored when I use mvn clean test command.</p>\n<pre><code>@Container\nprivate static final LocalStackContainer localstack = new LocalStackContainer(DockerImageName.parse(&quot;localstack/localstack:0.13.0&quot;)).withServices(LocalStackContainer.Service.SQS\n</code></pre>\n<p>I tried creating a docker image from &quot;localstack/localstack:0.13.0&quot; but it is still ignoring the test. I was expecting it to run the test since if I run &quot;localstack/localstack:0.13.0&quot; but it is still ignoring the test.</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680303071,"creation_date":1680303071,"answer_id":75903295,"question_id":75902910,"body_markdown":"Flipping the tree order doesn&#39;t seem to have an obvious solution in MapStruct.  One option is to use MapStruct for the straightforward mapping pieces (&quot;name&quot; in this case), and use a custom mapping method for swapping the ordering:\r\n\r\n```lang-java\r\n@Mapper\r\npublic interface AToBMapper {\r\n    @Mapping(target = &quot;parent&quot;, ignore = true)\r\n    BParent parentNameOnly(A a);\r\n\r\n    @Mapping(target = &quot;parent&quot;, ignore = true)\r\n    BParent parentNameOnly(AChild a);\r\n\r\n    B parentToB(BParent b);\r\n\r\n    default B aToB(A a) {\r\n        List&lt;BParent&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(parentNameOnly(a));\r\n        for (AChild child = a.child; child != null; child = child.child) {\r\n            list.add(parentNameOnly(child));\r\n        }\r\n        Collections.reverse(list);\r\n        BParent current = list.get(0);\r\n        for (BParent next : list.subList(1, list.size())) {\r\n            current.parent = next;\r\n            current = next;\r\n        }\r\n        return parentToB(list.get(0));\r\n    }\r\n}\r\n```\r\n\r\n```lang-java\r\n// Assuming A &amp; AChild each have a (String name, AChild child) constructor\r\n\r\nA a = new A(&quot;grandpa&quot;, new AChild(&quot;dad&quot;, new AChild(&quot;me&quot;, null)));\r\nB b = Mappers.getMapper(AToBMapper.class).aToB(a);\r\n```","title":"Map a reversed object with Mapstruct","body":"<p>Flipping the tree order doesn't seem to have an obvious solution in MapStruct.  One option is to use MapStruct for the straightforward mapping pieces (&quot;name&quot; in this case), and use a custom mapping method for swapping the ordering:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface AToBMapper {\n    @Mapping(target = &quot;parent&quot;, ignore = true)\n    BParent parentNameOnly(A a);\n\n    @Mapping(target = &quot;parent&quot;, ignore = true)\n    BParent parentNameOnly(AChild a);\n\n    B parentToB(BParent b);\n\n    default B aToB(A a) {\n        List&lt;BParent&gt; list = new ArrayList&lt;&gt;();\n        list.add(parentNameOnly(a));\n        for (AChild child = a.child; child != null; child = child.child) {\n            list.add(parentNameOnly(child));\n        }\n        Collections.reverse(list);\n        BParent current = list.get(0);\n        for (BParent next : list.subList(1, list.size())) {\n            current.parent = next;\n            current = next;\n        }\n        return parentToB(list.get(0));\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Assuming A &amp; AChild each have a (String name, AChild child) constructor\n\nA a = new A(&quot;grandpa&quot;, new AChild(&quot;dad&quot;, new AChild(&quot;me&quot;, null)));\nB b = Mappers.getMapper(AToBMapper.class).aToB(a);\n</code></pre>\n"}],"owner":{"account_id":28182521,"reputation":23,"user_id":21539296,"display_name":"Nathan S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75903295,"answer_count":1,"score":1,"last_activity_date":1680303071,"creation_date":1680298500,"question_id":75902910,"body_markdown":"I found nothing about this, I tried to reverse an object with Mapstruct I don&#39;t know if it&#39;s even possible or if I have to write a specific method\r\n\r\nMy objets are like this:\r\n\r\n```\r\npublic class A {\r\n    private String name;\r\n    private AChild child;\r\n}\r\npublic class AChild {\r\n    private String name;\r\n    private AChild child;\r\n}\r\n\r\npublic class B {\r\n    private String name;\r\n    private BParent parent;\r\n}\r\npublic class BParent {\r\n    private String name;\r\n    private BParent parent;\r\n}\r\n```\r\n\r\nwe would have an A like this :\r\n```\r\nA : {\r\n\tname: &quot;grandpa&quot;,\r\n\tchild: {\r\n\t\tname: &quot;dad&quot;,\r\n\t\tchild: {\r\n\t\t\tname: &quot;me&quot;,\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nand we would like this B:\r\n```\r\nB: {\r\n\tname: &quot;me&quot;,\r\n\tparent: {\r\n\t\tname: &quot;dad&quot;,\r\n\t\tparent: {\r\n\t\t\tname: &quot;grandpa&quot;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nwe could possibly have an infinite recursion\r\n\r\nThanks in advance &#128513;\r\n","title":"Map a reversed object with Mapstruct","body":"<p>I found nothing about this, I tried to reverse an object with Mapstruct I don't know if it's even possible or if I have to write a specific method</p>\n<p>My objets are like this:</p>\n<pre><code>public class A {\n    private String name;\n    private AChild child;\n}\npublic class AChild {\n    private String name;\n    private AChild child;\n}\n\npublic class B {\n    private String name;\n    private BParent parent;\n}\npublic class BParent {\n    private String name;\n    private BParent parent;\n}\n</code></pre>\n<p>we would have an A like this :</p>\n<pre><code>A : {\n    name: &quot;grandpa&quot;,\n    child: {\n        name: &quot;dad&quot;,\n        child: {\n            name: &quot;me&quot;,\n        }\n    }\n}\n</code></pre>\n<p>and we would like this B:</p>\n<pre><code>B: {\n    name: &quot;me&quot;,\n    parent: {\n        name: &quot;dad&quot;,\n        parent: {\n            name: &quot;grandpa&quot;\n        }\n    }\n}\n</code></pre>\n<p>we could possibly have an infinite recursion</p>\n<p>Thanks in advance 😁</p>\n"},{"tags":["java","processing"],"answers":[{"comments":[{"owner":{"account_id":23395934,"reputation":135,"user_id":17459969,"display_name":"Crystallean"},"score":0,"creation_date":1680300959,"post_id":75903066,"comment_id":133881192,"body_markdown":"Yes, this is what I want the program to do. But I don&#39;t get how a vector multiplied by 0 gets the position of the click and how multiplied by 1 gets the position of the center of the screen.","body":"Yes, this is what I want the program to do. But I don&#39;t get how a vector multiplied by 0 gets the position of the click and how multiplied by 1 gets the position of the center of the screen."},{"owner":{"account_id":6339777,"reputation":1453,"user_id":4922102,"display_name":"Lauromine"},"score":0,"creation_date":1680301978,"post_id":75903066,"comment_id":133881313,"body_markdown":"@Crystallean I updated my answer to be clearer","body":"@Crystallean I updated my answer to be clearer"},{"owner":{"account_id":23395934,"reputation":135,"user_id":17459969,"display_name":"Crystallean"},"score":0,"creation_date":1680307379,"post_id":75903066,"comment_id":133881952,"body_markdown":"I am having trouble implementing this.","body":"I am having trouble implementing this."}],"tags":[],"owner":{"account_id":6339777,"reputation":1453,"user_id":4922102,"display_name":"Lauromine"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680301960,"creation_date":1680300223,"answer_id":75903066,"question_id":75902928,"body_markdown":"If I understand what you want, you want to draw the line progressively between the position clicked and the center of the screen. This can be done by using the fact that you can multiply a vector by a number to make it longer/shorter. \r\n\r\nA vector is made of a direction and a magnitude (and a position in our case)\r\nIf you multiply your vectors by 0, you get the position where the click happened.\r\nIf you multiply your vectors by 1, you have the position at the center of the screen.\r\n\r\nTo get the vector between your mouse and the center of the screen, you use the formula (Xb - Xa; Yb - Ya)\r\nA being your mouse position and B being the center of your screen.\r\n\r\nMultipling a vector by a number is easy, you multiply each component of the vector (x, y) by the number.\r\n\r\n**All you have to do is to slowly multiply each vector from 0 to 1.** (using a loop with a timeout between each iteration or something like that)\r\n\r\nFinally, you have something like that \r\n\r\n```\r\nline(mouseX, mouseY,\r\nmouseX + vectorBetweenMouseAndCenter.x * theNumberBetweenZeroAndOne,\r\nmouseY + vectorBetweenMouseAndCenter.y * theNumberBetweenZeroAndOne)\r\n```\r\n\r\nThis way, you have vectors starting from your mouse position and by playing with `theNumberBetweenZeroAndOne`, you can draw a part of it *(eg. 0.25)*, none of it *(0)* or all of it *(1)*.","title":"How can I make the vector points of each line move into the center?","body":"<p>If I understand what you want, you want to draw the line progressively between the position clicked and the center of the screen. This can be done by using the fact that you can multiply a vector by a number to make it longer/shorter.</p>\n<p>A vector is made of a direction and a magnitude (and a position in our case)\nIf you multiply your vectors by 0, you get the position where the click happened.\nIf you multiply your vectors by 1, you have the position at the center of the screen.</p>\n<p>To get the vector between your mouse and the center of the screen, you use the formula (Xb - Xa; Yb - Ya)\nA being your mouse position and B being the center of your screen.</p>\n<p>Multipling a vector by a number is easy, you multiply each component of the vector (x, y) by the number.</p>\n<p><strong>All you have to do is to slowly multiply each vector from 0 to 1.</strong> (using a loop with a timeout between each iteration or something like that)</p>\n<p>Finally, you have something like that</p>\n<pre><code>line(mouseX, mouseY,\nmouseX + vectorBetweenMouseAndCenter.x * theNumberBetweenZeroAndOne,\nmouseY + vectorBetweenMouseAndCenter.y * theNumberBetweenZeroAndOne)\n</code></pre>\n<p>This way, you have vectors starting from your mouse position and by playing with <code>theNumberBetweenZeroAndOne</code>, you can draw a part of it <em>(eg. 0.25)</em>, none of it <em>(0)</em> or all of it <em>(1)</em>.</p>\n"}],"owner":{"account_id":23395934,"reputation":135,"user_id":17459969,"display_name":"Crystallean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680301960,"creation_date":1680298743,"question_id":75902928,"body_markdown":"I was making a Java processing code that basically records where 20 of your mouse clicks and draws lines that connect the vector point of each mouse click to the center of the screen, which in this case is 600x600. I was able to create the lines but I am stuck on how I could be able to make the lines move into the center. Do you guys have any suggestions for how I could make it happen?\r\n\r\n    float[] Xcont = new float[0];\r\n    float[] Ycont = new float[0];\r\n    int clickCounter = 0;\r\n    float centerX = 300;\r\n    float centerY = 300;\r\n    float amt = 1;\r\n    \r\n    void setup(){\r\n    size(600, 600);\r\n    background(0);\r\n    }\r\n    \r\n    void draw(){ \r\n      stroke(255);\r\n      if(clickCounter == 20){\r\n        for(int i = 0; i &lt; Xcont.length; i+=1){\r\n        line(Xcont[i], Ycont[i], centerX, centerY);\r\n        circle(Xcont[i], Ycont[i], 10);\r\n        }\r\n      }\r\n    }\r\n    \r\n    void mousePressed(){\r\n    clickCounter+=1;\r\n    if(clickCounter &lt;= 20){\r\n    Xcont = append(Xcont, mouseX);\r\n    Ycont = append(Ycont, mouseY);\r\n    println(mouseX, mouseY);\r\n    }\r\n    if(clickCounter == 20){\r\n    println(Xcont);\r\n    }\r\n    }","title":"How can I make the vector points of each line move into the center?","body":"<p>I was making a Java processing code that basically records where 20 of your mouse clicks and draws lines that connect the vector point of each mouse click to the center of the screen, which in this case is 600x600. I was able to create the lines but I am stuck on how I could be able to make the lines move into the center. Do you guys have any suggestions for how I could make it happen?</p>\n<pre><code>float[] Xcont = new float[0];\nfloat[] Ycont = new float[0];\nint clickCounter = 0;\nfloat centerX = 300;\nfloat centerY = 300;\nfloat amt = 1;\n\nvoid setup(){\nsize(600, 600);\nbackground(0);\n}\n\nvoid draw(){ \n  stroke(255);\n  if(clickCounter == 20){\n    for(int i = 0; i &lt; Xcont.length; i+=1){\n    line(Xcont[i], Ycont[i], centerX, centerY);\n    circle(Xcont[i], Ycont[i], 10);\n    }\n  }\n}\n\nvoid mousePressed(){\nclickCounter+=1;\nif(clickCounter &lt;= 20){\nXcont = append(Xcont, mouseX);\nYcont = append(Ycont, mouseY);\nprintln(mouseX, mouseY);\n}\nif(clickCounter == 20){\nprintln(Xcont);\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","junit","objectmapper"],"answers":[{"comments":[{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1680270133,"post_id":75899118,"comment_id":133874410,"body_markdown":"It didn&#39;t help me fix the issue.","body":"It didn&#39;t help me fix the issue."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1680274621,"post_id":75899118,"comment_id":133875704,"body_markdown":"objectMapper.writeValueAsString is used for more than one field but AdminRefreshTokenRequest has only one field.","body":"objectMapper.writeValueAsString is used for more than one field but AdminRefreshTokenRequest has only one field."}],"tags":[],"owner":{"account_id":16858686,"reputation":51,"user_id":12190006,"display_name":"Andrea Ciccotelli"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680269464,"creation_date":1680269464,"answer_id":75899118,"question_id":75898955,"body_markdown":"The problem is that your back-end is not able to initialize the request body.\r\nBy default what the framework does is to:\r\n\r\n 1. it creates the instance of the request body;\r\n 2. then it is going to populate variables;\r\n 3. finally it goes into the mapped method with the builded body.\r\n\r\nIn the first step the framework is going to call the empty constructor of your body class, so if it is missing it is going to reply with a 400 error code.\r\n\r\nTo fix the problem you can simply replace the **@Builder** annotation with the **@NoArgsConstructor** in your AdminRefreshTokenRequest class.\r\nThe final body class should look like the following:\r\n\r\n    import jakarta.validation.constraints.NotBlank;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    @Data\r\n    @NoArgsConstructor\r\n    public class AdminRefreshTokenRequest {\r\n    \r\n        @NotBlank\r\n        private String refreshToken;\r\n    }\r\n\r\nThis should fix the problem, hope it helps.","title":"Cannot send request body to integration test method in Spring Boot JUnit (objectMapper.writeValueAsString Issue)","body":"<p>The problem is that your back-end is not able to initialize the request body.\nBy default what the framework does is to:</p>\n<ol>\n<li>it creates the instance of the request body;</li>\n<li>then it is going to populate variables;</li>\n<li>finally it goes into the mapped method with the builded body.</li>\n</ol>\n<p>In the first step the framework is going to call the empty constructor of your body class, so if it is missing it is going to reply with a 400 error code.</p>\n<p>To fix the problem you can simply replace the <strong>@Builder</strong> annotation with the <strong>@NoArgsConstructor</strong> in your AdminRefreshTokenRequest class.\nThe final body class should look like the following:</p>\n<pre><code>import jakarta.validation.constraints.NotBlank;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@NoArgsConstructor\npublic class AdminRefreshTokenRequest {\n\n    @NotBlank\n    private String refreshToken;\n}\n</code></pre>\n<p>This should fix the problem, hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1680300259,"creation_date":1680300259,"answer_id":75903070,"question_id":75898955,"body_markdown":"Here is the solution shown below.\r\n\r\nAfter deleting `@Builder` which is used for more than one variable, I defined both `@NoArgsConstructor` and `@AllArgsConstructor`. Next, the issue disappeared.\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class AdminRefreshTokenRequest {\r\n    \r\n        @NotBlank\r\n        private String refreshToken;\r\n    }","title":"Cannot send request body to integration test method in Spring Boot JUnit (objectMapper.writeValueAsString Issue)","body":"<p>Here is the solution shown below.</p>\n<p>After deleting <code>@Builder</code> which is used for more than one variable, I defined both <code>@NoArgsConstructor</code> and <code>@AllArgsConstructor</code>. Next, the issue disappeared.</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class AdminRefreshTokenRequest {\n\n    @NotBlank\n    private String refreshToken;\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":675,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75903070,"answer_count":2,"score":1,"last_activity_date":1680300259,"creation_date":1680268355,"question_id":75898955,"body_markdown":"I have a problem to handle with sending request body to integration test in Spring Boot JUnit.\r\nI got 400 Bad Request instead of 200 Ok.\r\n\r\nHere is the AdminRefreshTokenRequest shown below\r\n\r\n    import jakarta.validation.constraints.NotBlank;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    \r\n    @Data\r\n    @Builder\r\n    public class AdminRefreshTokenRequest {\r\n    \r\n        @NotBlank\r\n        private String refreshToken;\r\n    }\r\n\r\n\r\nHere is the refreshToken method shown below\r\n\r\n    @PostMapping(&quot;/refreshtoken&quot;)\r\n        public ResponseEntity&lt;?&gt; refreshToken(@RequestBody AdminRefreshTokenRequest refreshTokenRequest) {\r\n      .....\r\n    }\r\n\r\nHere is the relevant part of integration test method shown below\r\n\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n\r\n    AdminRefreshTokenRequest refreshTokenRequest = AdminRefreshTokenRequest.builder()\r\n                    .refreshToken(&quot;RefreshToken&quot;)\r\n                    .build();\r\n    \r\n    mockMvc.perform(post(ADMIN_CONTROLLER_BASEURL + &quot;/refreshtoken&quot;)\r\n                            .contentType(&quot;application/json&quot;)\r\n                            .content(objectMapper.writeValueAsString(refreshTokenRequest)))\r\n                    .andDo(print())\r\n                    .andExpect(status().isOk())\r\n\r\nI get this issue shown below\r\n\r\n    MockHttpServletResponse:\r\n               Status = 400\r\n        Error message = null\r\n              Headers = [Content-Type:&quot;application/problem+json&quot;]\r\n         Content type = application/problem+json\r\n                 Body = {&quot;type&quot;:&quot;about:blank&quot;,&quot;title&quot;:&quot;Bad Request&quot;,&quot;status&quot;:400,&quot;detail&quot;:&quot;Failed to read request&quot;,&quot;instance&quot;:&quot;/api/v1/refreshtoken&quot;}\r\n        Forwarded URL = null\r\n       Redirected URL = null\r\n              Cookies = []\r\n    \r\n    java.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;400&gt;\r\n    Expected :200\r\n    Actual   :400\r\n\r\n\r\nThe value assigning to refreshTokenRequest in refreshToken method of controller is null when mockMvc try to call the method after I delete `@RequestBody`.\r\n\r\nHow can I fix it?\r\n\r\n\r\n","title":"Cannot send request body to integration test method in Spring Boot JUnit (objectMapper.writeValueAsString Issue)","body":"<p>I have a problem to handle with sending request body to integration test in Spring Boot JUnit.\nI got 400 Bad Request instead of 200 Ok.</p>\n<p>Here is the AdminRefreshTokenRequest shown below</p>\n<pre><code>import jakarta.validation.constraints.NotBlank;\nimport lombok.Builder;\nimport lombok.Data;\n\n@Data\n@Builder\npublic class AdminRefreshTokenRequest {\n\n    @NotBlank\n    private String refreshToken;\n}\n</code></pre>\n<p>Here is the refreshToken method shown below</p>\n<pre><code>@PostMapping(&quot;/refreshtoken&quot;)\n    public ResponseEntity&lt;?&gt; refreshToken(@RequestBody AdminRefreshTokenRequest refreshTokenRequest) {\n  .....\n}\n</code></pre>\n<p>Here is the relevant part of integration test method shown below</p>\n<pre><code>@Autowired\nprivate MockMvc mockMvc;\n@Autowired\nprivate ObjectMapper objectMapper;\n\nAdminRefreshTokenRequest refreshTokenRequest = AdminRefreshTokenRequest.builder()\n                .refreshToken(&quot;RefreshToken&quot;)\n                .build();\n\nmockMvc.perform(post(ADMIN_CONTROLLER_BASEURL + &quot;/refreshtoken&quot;)\n                        .contentType(&quot;application/json&quot;)\n                        .content(objectMapper.writeValueAsString(refreshTokenRequest)))\n                .andDo(print())\n                .andExpect(status().isOk())\n</code></pre>\n<p>I get this issue shown below</p>\n<pre><code>MockHttpServletResponse:\n           Status = 400\n    Error message = null\n          Headers = [Content-Type:&quot;application/problem+json&quot;]\n     Content type = application/problem+json\n             Body = {&quot;type&quot;:&quot;about:blank&quot;,&quot;title&quot;:&quot;Bad Request&quot;,&quot;status&quot;:400,&quot;detail&quot;:&quot;Failed to read request&quot;,&quot;instance&quot;:&quot;/api/v1/refreshtoken&quot;}\n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n\njava.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;400&gt;\nExpected :200\nActual   :400\n</code></pre>\n<p>The value assigning to refreshTokenRequest in refreshToken method of controller is null when mockMvc try to call the method after I delete <code>@RequestBody</code>.</p>\n<p>How can I fix it?</p>\n"},{"tags":["java","spring","spring-boot","apache-camel"],"answers":[{"comments":[{"owner":{"account_id":23609658,"reputation":759,"user_id":17644863,"display_name":"Santanu"},"score":0,"creation_date":1680204769,"post_id":75892181,"comment_id":133863151,"body_markdown":"tried that also, but still asks for the same username and password.","body":"tried that also, but still asks for the same username and password."}],"tags":[],"owner":{"account_id":19519078,"reputation":172,"user_id":14281350,"display_name":"Sidharth"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680204010,"creation_date":1680204010,"answer_id":75892181,"question_id":75892068,"body_markdown":"You can try\r\n\r\n    from(&quot;sftp://HOST.com:22?username=demo_user&amp;password=demo_password&quot;)\r\n\t   .to(&quot;file://src/main/resources&quot;);","title":"Apache Camel SFTP is asking for Username and Password in the console","body":"<p>You can try</p>\n<pre><code>from(&quot;sftp://HOST.com:22?username=demo_user&amp;password=demo_password&quot;)\n   .to(&quot;file://src/main/resources&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23609658,"reputation":759,"user_id":17644863,"display_name":"Santanu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680299503,"creation_date":1680299503,"answer_id":75903001,"question_id":75892068,"body_markdown":"Finally, I got the solution.\r\nI passed a parameter - `preferredAuthentications` as `password` and after that, it&#39;s working\r\n\r\n    URI uri = new URIBuilder().setScheme(&quot;sftp&quot;).setHost(&quot;HOST.com&quot;).setPort(22)\r\n           .setUser(&quot;demo_user&quot;, &quot;demo_password&quot;).addParameter(&quot;preferredAuthentications&quot;, &quot;password&quot;).build();","title":"Apache Camel SFTP is asking for Username and Password in the console","body":"<p>Finally, I got the solution.\nI passed a parameter - <code>preferredAuthentications</code> as <code>password</code> and after that, it's working</p>\n<pre><code>URI uri = new URIBuilder().setScheme(&quot;sftp&quot;).setHost(&quot;HOST.com&quot;).setPort(22)\n       .setUser(&quot;demo_user&quot;, &quot;demo_password&quot;).addParameter(&quot;preferredAuthentications&quot;, &quot;password&quot;).build();\n</code></pre>\n"}],"owner":{"account_id":23609658,"reputation":759,"user_id":17644863,"display_name":"Santanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75903001,"answer_count":2,"score":0,"last_activity_date":1680299503,"creation_date":1680203144,"question_id":75892068,"body_markdown":"Though I&#39;ve added a `username` and `password` still camel route is asking for a username and password in the console.\r\n\r\nDependency -\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;camel-core&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.20.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;camel-ftp&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.20.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nCamel Route -\r\n```\r\nURI uri = new URIBuilder().setScheme(&quot;sftp&quot;).setHost(&quot;HOST.com&quot;).setPort(22)\r\n           .setUser(&quot;demo_user&quot;, &quot;demo_password&quot;).build();\r\n\r\nfrom(uri.toString()).to(&quot;file://src/main/resources);\r\n```\r\n\r\nAfter running this in the console it&#39;s showing - \r\n\r\n```\r\n19:01:41:158 [main] WARN o.a.c.c.file.remote.SftpOperations - JSCH\r\nKerberos username: \r\n```\r\n\r\nI want to run the application and the `username` &amp; `password` should automatically take but sadly it&#39;s not taking, any solution, please","title":"Apache Camel SFTP is asking for Username and Password in the console","body":"<p>Though I've added a <code>username</code> and <code>password</code> still camel route is asking for a username and password in the console.</p>\n<p>Dependency -</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-core&lt;/artifactId&gt;\n    &lt;version&gt;3.20.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-ftp&lt;/artifactId&gt;\n    &lt;version&gt;3.20.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Camel Route -</p>\n<pre><code>URI uri = new URIBuilder().setScheme(&quot;sftp&quot;).setHost(&quot;HOST.com&quot;).setPort(22)\n           .setUser(&quot;demo_user&quot;, &quot;demo_password&quot;).build();\n\nfrom(uri.toString()).to(&quot;file://src/main/resources);\n</code></pre>\n<p>After running this in the console it's showing -</p>\n<pre><code>19:01:41:158 [main] WARN o.a.c.c.file.remote.SftpOperations - JSCH\nKerberos username: \n</code></pre>\n<p>I want to run the application and the <code>username</code> &amp; <code>password</code> should automatically take but sadly it's not taking, any solution, please</p>\n"},{"tags":["java","mapping","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19775,"user_id":1115491,"display_name":"Filip"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1487362139,"creation_date":1487362139,"answer_id":42306521,"question_id":42295252,"body_markdown":"Yes you can force MapStruct not to use those `presenceCheckers`. You can find more information in [source presence checking](http://mapstruct.org/documentation/stable/reference/html/#source-presence-check) in the documentation.\r\n\r\nBasically the only way to do this is to provide an implementation of the MapStruct [`AccessorNamingStrategy`](http://mapstruct.org/documentation/stable/api/org/mapstruct/ap/spi/AccessorNamingStrategy.html). You can just extend the [`DefaultAccessorNamingStrategy`](http://mapstruct.org/documentation/stable/api/org/mapstruct/ap/spi/DefaultAccessorNamingStrategy.html) and override its`isPresenceCheckMethod`.\r\n\r\nYou have access to the method `ExecutableElement` and you can check the type of class it is in and other things as well.\r\n\r\n    MyAccessorNamingStrategy extends DefaultAccessorNamingStrategy {\r\n\r\n        @Override\r\n        public boolean isPresenceCheckMethod(ExecutableElement element) {\r\n            //You can do your checks here. You can ignore certain methods, from certain classes\r\n\r\n        }\r\n\r\n    \r\nRemember to register your SPI with a file `META-INF-/services/com.example.MyAccessorNamingStrategy`\r\n\r\nThere is also the [examples](https://github.com/mapstruct/mapstruct-examples) where you can find an example for the SPI.","title":"Force mapstruct not to call has* methods","body":"<p>Yes you can force MapStruct not to use those <code>presenceCheckers</code>. You can find more information in <a href=\"http://mapstruct.org/documentation/stable/reference/html/#source-presence-check\" rel=\"noreferrer\">source presence checking</a> in the documentation.</p>\n\n<p>Basically the only way to do this is to provide an implementation of the MapStruct <a href=\"http://mapstruct.org/documentation/stable/api/org/mapstruct/ap/spi/AccessorNamingStrategy.html\" rel=\"noreferrer\"><code>AccessorNamingStrategy</code></a>. You can just extend the <a href=\"http://mapstruct.org/documentation/stable/api/org/mapstruct/ap/spi/DefaultAccessorNamingStrategy.html\" rel=\"noreferrer\"><code>DefaultAccessorNamingStrategy</code></a> and override its<code>isPresenceCheckMethod</code>.</p>\n\n<p>You have access to the method <code>ExecutableElement</code> and you can check the type of class it is in and other things as well.</p>\n\n<pre><code>MyAccessorNamingStrategy extends DefaultAccessorNamingStrategy {\n\n    @Override\n    public boolean isPresenceCheckMethod(ExecutableElement element) {\n        //You can do your checks here. You can ignore certain methods, from certain classes\n\n    }\n</code></pre>\n\n<p>Remember to register your SPI with a file <code>META-INF-/services/com.example.MyAccessorNamingStrategy</code></p>\n\n<p>There is also the <a href=\"https://github.com/mapstruct/mapstruct-examples\" rel=\"noreferrer\">examples</a> where you can find an example for the SPI.</p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680295814,"creation_date":1680295814,"answer_id":75902658,"question_id":42295252,"body_markdown":"While the [answer](https://stackoverflow.com/a/42306521/1108305) that suggests providing your own `AccessorNamingStrategy` explains how to solve this in general, often disabling the source presence checker is overkill.  I think your solution of using `expression` is probably often the right answer in terms of simplicity for a one-off override.\r\n\r\n```lang-java\r\n@Mapping(target = &quot;userId&quot;, expression=&quot;java(source.getId().getUserId())&quot;)\r\nMyTargetType map(MySourceType source);\r\n```\r\n\r\nor\r\n\r\n```lang-java\r\n@Mapping(target = &quot;userId&quot;, source=&quot;id&quot;)\r\nMyTargetType map(MySourceType source);\r\n\r\ndefault String map(MySourceTypeId id) {\r\n  return id == null ? null : id.getUserId();\r\n}\r\n```","title":"Force mapstruct not to call has* methods","body":"<p>While the <a href=\"https://stackoverflow.com/a/42306521/1108305\">answer</a> that suggests providing your own <code>AccessorNamingStrategy</code> explains how to solve this in general, often disabling the source presence checker is overkill.  I think your solution of using <code>expression</code> is probably often the right answer in terms of simplicity for a one-off override.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapping(target = &quot;userId&quot;, expression=&quot;java(source.getId().getUserId())&quot;)\nMyTargetType map(MySourceType source);\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapping(target = &quot;userId&quot;, source=&quot;id&quot;)\nMyTargetType map(MySourceType source);\n\ndefault String map(MySourceTypeId id) {\n  return id == null ? null : id.getUserId();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680299321,"creation_date":1680299321,"answer_id":75902987,"question_id":42295252,"body_markdown":"MapStruct is treating the `hasId()` method as a [source presence checker](https://mapstruct.org/documentation/stable/reference/html/#source-presence-check) method, only setting the `id` value if it returns `true`.\r\n\r\nIf `conditionExpression` is specified, it is used instead of the source presence checker method.  By specifying an always-true value for this, the value will always be mapped, rather than conditionally based on the result of `hasId()`.\r\n\r\n```lang-java\r\n@Mapping(target = &quot;userId&quot;, source = &quot;id.userId&quot;, conditionExpression = &quot;java(true)&quot;)\r\n```\r\n\r\nThis results in the generated code like the following:\r\n\r\n```lang-java\r\nif ( true ) {\r\n    target.setUserId( userId );\r\n}\r\n```","title":"Force mapstruct not to call has* methods","body":"<p>MapStruct is treating the <code>hasId()</code> method as a <a href=\"https://mapstruct.org/documentation/stable/reference/html/#source-presence-check\" rel=\"nofollow noreferrer\">source presence checker</a> method, only setting the <code>id</code> value if it returns <code>true</code>.</p>\n<p>If <code>conditionExpression</code> is specified, it is used instead of the source presence checker method.  By specifying an always-true value for this, the value will always be mapped, rather than conditionally based on the result of <code>hasId()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapping(target = &quot;userId&quot;, source = &quot;id.userId&quot;, conditionExpression = &quot;java(true)&quot;)\n</code></pre>\n<p>This results in the generated code like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if ( true ) {\n    target.setUserId( userId );\n}\n</code></pre>\n"}],"owner":{"account_id":3273973,"reputation":5801,"user_id":2756574,"accept_rate":89,"display_name":"Sebastian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1813,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":42306521,"answer_count":3,"score":5,"last_activity_date":1680299321,"creation_date":1487326645,"question_id":42295252,"body_markdown":"I wrote a mapstruct mapper that uses a mapping like this:\r\n\r\n    @Mapping(target = &quot;userId&quot;, source = &quot;id.userId&quot;)\r\n\r\nWhen I looked at the autogenerated mapstruct class I stubled upon that code:\r\n\r\n    if ( !foobar.hasId() ) {\r\n        return null;\r\n    }\r\n\r\nThis is a problem for me as `hasId()` does not what mapstruct expects here. Can I force mapstruct somehow to not generate code that uses this method but checks for `id != null` or something?\r\n\r\nI could use a mapping like `@Mapping(target = &quot;userId&quot;, expression= &quot;java(...)&quot;)` but I think there should be another way.","title":"Force mapstruct not to call has* methods","body":"<p>I wrote a mapstruct mapper that uses a mapping like this:</p>\n\n<pre><code>@Mapping(target = \"userId\", source = \"id.userId\")\n</code></pre>\n\n<p>When I looked at the autogenerated mapstruct class I stubled upon that code:</p>\n\n<pre><code>if ( !foobar.hasId() ) {\n    return null;\n}\n</code></pre>\n\n<p>This is a problem for me as <code>hasId()</code> does not what mapstruct expects here. Can I force mapstruct somehow to not generate code that uses this method but checks for <code>id != null</code> or something?</p>\n\n<p>I could use a mapping like <code>@Mapping(target = \"userId\", expression= \"java(...)\")</code> but I think there should be another way.</p>\n"},{"tags":["java","android","sorting","arraylist"],"comments":[{"owner":{"account_id":12219925,"reputation":11,"user_id":8919266,"display_name":"Waqar"},"score":0,"creation_date":1680176925,"post_id":75886952,"comment_id":133855645,"body_markdown":"but it only works for number and not for alphabets in array","body":"but it only works for number and not for alphabets in array"}],"owner":{"account_id":12219925,"reputation":11,"user_id":8919266,"display_name":"Waqar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1680179546,"answer_count":0,"score":0,"last_activity_date":1680297902,"creation_date":1680171568,"question_id":75886952,"body_markdown":"I have two array lists.  One contains the names and the second contains the ranks. I want to show rank in ascending order so names should also be arranged with respect to sorted rank. Example: according to these arrays &quot;ali&quot; has rank &quot;5&quot; now which is the first element of the array but when I will sort the rank array then &quot;5&quot; will go to 3rd place so &quot;ali&quot; should also go to 3rd place in the names array list. Please help me.  How can I arrange names array with respected to sorted rank array?  Here is my code:\r\n\r\n```\r\npublic class MainActivity2 extends AppCompatActivity {\r\n    \r\n\r\n    ArrayAdapter nameArrayAdapter, rankArrayAdapter;\r\n    private ListView nameListView, rankListView;\r\n    ArrayList name_array_list, rank_array_list;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n\r\n\r\n\r\n        name_array_list = new ArrayList();\r\n        rank_array_list = new ArrayList();\r\n\r\n        nameListView = findViewById(R.id.listView);\r\n        rankListView = findViewById(R.id.listView1);\r\n\r\n        name_array_list.add(&quot;ali&quot;);\r\n        name_array_list.add(&quot;waqar&quot;);\r\n        name_array_list.add(&quot;zahid&quot;);\r\n        name_array_list.add(&quot;nasir&quot;);\r\n\r\n        rank_array_list.add(&quot;5&quot;); //array_list1.add(&quot;1&quot;);\r\n        rank_array_list.add(&quot;1&quot;); //array_list1.add(&quot;4&quot;);\r\n        rank_array_list.add(&quot;7&quot;); //array_list1.add(&quot;5&quot;);\r\n        rank_array_list.add(&quot;4&quot;); //array_list1.add(&quot;7&quot;);\r\n\r\n        Collections.sort(rank_array_list);\r\n\r\n        nameArrayAdapter = new ArrayAdapter(MainActivity2.this, android.R.layout.simple_list_item_1, name_array_list);\r\n        nameListView.setAdapter(nameArrayAdapter);\r\n\r\n\r\n        rankArrayAdapter = new ArrayAdapter(MainActivity2.this, android.R.layout.simple_list_item_1, rank_array_list);\r\n        rankListView.setAdapter(rankArrayAdapter);\r\n\r\n\r\n    }\r\n}\r\n```","title":"Sort array list with respect to other array list in Java Android","body":"<p>I have two array lists.  One contains the names and the second contains the ranks. I want to show rank in ascending order so names should also be arranged with respect to sorted rank. Example: according to these arrays &quot;ali&quot; has rank &quot;5&quot; now which is the first element of the array but when I will sort the rank array then &quot;5&quot; will go to 3rd place so &quot;ali&quot; should also go to 3rd place in the names array list. Please help me.  How can I arrange names array with respected to sorted rank array?  Here is my code:</p>\n<pre><code>public class MainActivity2 extends AppCompatActivity {\n    \n\n    ArrayAdapter nameArrayAdapter, rankArrayAdapter;\n    private ListView nameListView, rankListView;\n    ArrayList name_array_list, rank_array_list;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n\n\n\n        name_array_list = new ArrayList();\n        rank_array_list = new ArrayList();\n\n        nameListView = findViewById(R.id.listView);\n        rankListView = findViewById(R.id.listView1);\n\n        name_array_list.add(&quot;ali&quot;);\n        name_array_list.add(&quot;waqar&quot;);\n        name_array_list.add(&quot;zahid&quot;);\n        name_array_list.add(&quot;nasir&quot;);\n\n        rank_array_list.add(&quot;5&quot;); //array_list1.add(&quot;1&quot;);\n        rank_array_list.add(&quot;1&quot;); //array_list1.add(&quot;4&quot;);\n        rank_array_list.add(&quot;7&quot;); //array_list1.add(&quot;5&quot;);\n        rank_array_list.add(&quot;4&quot;); //array_list1.add(&quot;7&quot;);\n\n        Collections.sort(rank_array_list);\n\n        nameArrayAdapter = new ArrayAdapter(MainActivity2.this, android.R.layout.simple_list_item_1, name_array_list);\n        nameListView.setAdapter(nameArrayAdapter);\n\n\n        rankArrayAdapter = new ArrayAdapter(MainActivity2.this, android.R.layout.simple_list_item_1, rank_array_list);\n        rankListView.setAdapter(rankArrayAdapter);\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","html","spring"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1680296872,"post_id":75902745,"comment_id":133880574,"body_markdown":"Could you provide a [mre] with your code?","body":"Could you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with your code?"},{"owner":{"account_id":6790343,"reputation":1483,"user_id":5227721,"display_name":"Berk Kurkcuoglu"},"score":0,"creation_date":1680296931,"post_id":75902745,"comment_id":133880580,"body_markdown":"If you are using spring boot 3, it doesn&#39;t support trailing slashes out of the box.","body":"If you are using spring boot 3, it doesn&#39;t support trailing slashes out of the box."},{"owner":{"account_id":21260902,"reputation":984,"user_id":15641685,"display_name":"Huu Phuong Vu"},"score":0,"creation_date":1680495419,"post_id":75902745,"comment_id":133902441,"body_markdown":"`&quot;/path/&quot;` and `&quot;/path&quot;` are considered two different paths in Spring Boot 3 by default. Check more about it here https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#spring-mvc-and-webflux-url-matching-changes","body":"<code>&quot;&#47;path&#47;&quot;</code> and <code>&quot;&#47;path&quot;</code> are considered two different paths in Spring Boot 3 by default. Check more about it here <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#spring-mvc-and-webflux-url-matching-changes\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680297617,"creation_date":1680297617,"answer_id":75902825,"question_id":75902745,"body_markdown":"Your question needs some serious improvements, but here is a guess.\r\n\r\nWhat Framework: &quot;I&#39;m using Spring&quot;\r\n\r\nBased on the annotations, I think that that is a given.\r\n\r\nMy Controller has the @RequestMapping(&quot;some/resource&quot;)\r\n\r\n    @RequestMapping(&quot;some/resource&quot;)\r\n    @Controller\r\n    public class ResourceController { .... }\r\n\r\nSo, we know what is being referenced &quot;some/resource&quot;\r\n\r\nYou have an access method for &quot;some/resource&quot;\r\n\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public Result getResource() {\r\n         return someValue;\r\n    }\r\n\r\n\r\nAnd you are wondering why the additional `/` is not needed?\r\n\r\n\r\n    @GetMapping\r\n    public Result getResource() {\r\n         return someValue;\r\n    }\r\n\r\n\r\nSpring does not know what it should do, what should &quot;some/resource//&quot; deliver?\r\n\r\nThe `@GetMapping` is added to the `@ResourceMapping`. That is why it doesn&#39;t **work**, the path doesn&#39;t make any sense.","title":"Is there a reason my @GetMapping(&quot;/&quot;) doesn&#39;t work, but @GetMapping(&quot;&quot;) does work?","body":"<p>Your question needs some serious improvements, but here is a guess.</p>\n<p>What Framework: &quot;I'm using Spring&quot;</p>\n<p>Based on the annotations, I think that that is a given.</p>\n<p>My Controller has the @RequestMapping(&quot;some/resource&quot;)</p>\n<pre><code>@RequestMapping(&quot;some/resource&quot;)\n@Controller\npublic class ResourceController { .... }\n</code></pre>\n<p>So, we know what is being referenced &quot;some/resource&quot;</p>\n<p>You have an access method for &quot;some/resource&quot;</p>\n<pre><code>@GetMapping(&quot;/&quot;)\npublic Result getResource() {\n     return someValue;\n}\n</code></pre>\n<p>And you are wondering why the additional <code>/</code> is not needed?</p>\n<pre><code>@GetMapping\npublic Result getResource() {\n     return someValue;\n}\n</code></pre>\n<p>Spring does not know what it should do, what should &quot;some/resource//&quot; deliver?</p>\n<p>The <code>@GetMapping</code> is added to the <code>@ResourceMapping</code>. That is why it doesn't <strong>work</strong>, the path doesn't make any sense.</p>\n"}],"owner":{"account_id":15766228,"reputation":89,"user_id":11376496,"display_name":"bynary"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680297617,"creation_date":1680296793,"question_id":75902745,"body_markdown":"As stated in the question, my GetMapping only works when I do not input any parameters. I&#39;ve also had some weird errors with some PostMapping actions requiring more explicit path declarations in my form action tags. \r\n\r\nI don&#39;t know what to even reinstall if this is an issue with a faulty installation, I&#39;ve reinstalled my java and used both eclipse(spring tool suite 4) and visual studio code with no changes in the nature of the errors I&#39;m seeing. \r\n\r\nAny help greatly appreciated.","title":"Is there a reason my @GetMapping(&quot;/&quot;) doesn&#39;t work, but @GetMapping(&quot;&quot;) does work?","body":"<p>As stated in the question, my GetMapping only works when I do not input any parameters. I've also had some weird errors with some PostMapping actions requiring more explicit path declarations in my form action tags.</p>\n<p>I don't know what to even reinstall if this is an issue with a faulty installation, I've reinstalled my java and used both eclipse(spring tool suite 4) and visual studio code with no changes in the nature of the errors I'm seeing.</p>\n<p>Any help greatly appreciated.</p>\n"},{"tags":["java","android","android-studio","android-toast","android-splashscreen"],"comments":[{"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"score":0,"creation_date":1680213371,"post_id":75893226,"comment_id":133864928,"body_markdown":"Does this answer your question? [Can an Android Toast be longer than Toast.LENGTH\\_LONG?](https://stackoverflow.com/questions/2220560/can-an-android-toast-be-longer-than-toast-length-long)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2220560/can-an-android-toast-be-longer-than-toast-length-long\">Can an Android Toast be longer than Toast.LENGTH_LONG?</a>"},{"owner":{"account_id":16176496,"reputation":63,"user_id":11679021,"display_name":"Alonso"},"score":0,"creation_date":1680227181,"post_id":75893226,"comment_id":133866552,"body_markdown":"you can use Log.d(&quot;ur tag&quot;,&quot;ur message&quot;); to check if the toast had been called.","body":"you can use Log.d(&quot;ur tag&quot;,&quot;ur message&quot;); to check if the toast had been called."},{"owner":{"account_id":20202048,"reputation":3,"user_id":14817495,"display_name":"Kuzey Tekinoğlu"},"score":0,"creation_date":1680285424,"post_id":75893226,"comment_id":133878291,"body_markdown":"The problem is the emulator. It was resolved after deleting and reinstalling. Thank you for your interest.","body":"The problem is the emulator. It was resolved after deleting and reinstalling. Thank you for your interest."}],"answers":[{"tags":[],"owner":{"account_id":19400960,"reputation":1653,"user_id":14187529,"display_name":"Kamal Nayan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680225670,"creation_date":1680225670,"answer_id":75894125,"question_id":75893226,"body_markdown":"**By default Toast messages are visible for few seconds.**\r\n\r\n\r\n As you are using `Toast.LENGTH_SHORT` it will show for short time. If you want to have for a little longer you can use `Toast.LENGTH_LONG`.\r\n\r\nAnd for custom duration use `setDuration()` method of toast.","title":"My toast message is not appearing in the app","body":"<p><strong>By default Toast messages are visible for few seconds.</strong></p>\n<p>As you are using <code>Toast.LENGTH_SHORT</code> it will show for short time. If you want to have for a little longer you can use <code>Toast.LENGTH_LONG</code>.</p>\n<p>And for custom duration use <code>setDuration()</code> method of toast.</p>\n"},{"tags":[],"owner":{"account_id":16120041,"reputation":16,"user_id":11636224,"display_name":"Михаил Карлов"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680297132,"creation_date":1680297132,"answer_id":75902775,"question_id":75893226,"body_markdown":"It seems like an emulator issue. Your toast should be displayed in any case based on code you provided.\r\n\r\nTry to:\r\n\r\n 1. Cold boot emulator\r\n 2. Test on real device\r\n 3. Delay toast showing\r\n\r\nNote: never use splash screen in this way. It&#39;s designed to be something like loading screen, not with fixed timer.\r\n\r\n","title":"My toast message is not appearing in the app","body":"<p>It seems like an emulator issue. Your toast should be displayed in any case based on code you provided.</p>\n<p>Try to:</p>\n<ol>\n<li>Cold boot emulator</li>\n<li>Test on real device</li>\n<li>Delay toast showing</li>\n</ol>\n<p>Note: never use splash screen in this way. It's designed to be something like loading screen, not with fixed timer.</p>\n"}],"owner":{"account_id":20202048,"reputation":3,"user_id":14817495,"display_name":"Kuzey Tekinoğlu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75902775,"answer_count":2,"score":0,"last_activity_date":1680297132,"creation_date":1680212532,"question_id":75893226,"body_markdown":"It was visible at first, but I don&#39;t know if it&#39;s related to the emulator, but my toast message is no longer visible. Can you help me?\r\n\r\n\r\n```\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.widget.Toast;\r\n\r\n@SuppressLint(&quot;CustomSplashScreen&quot;)\r\npublic class SplashActivity extends AppCompatActivity {\r\n    private static final String PREFS_NAME = &quot;MyPrefsFile&quot;;\r\n    private static final String KEY_FIRST_TIME = &quot;first_time&quot;;\r\n\r\n    private boolean isFirstTime() {\r\n        SharedPreferences preferences = getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE);\r\n        boolean firstTime = preferences.getBoolean(KEY_FIRST_TIME, true);\r\n        if (firstTime) {\r\n            preferences.edit().putBoolean(KEY_FIRST_TIME, false).apply();\r\n        }\r\n        return firstTime;\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_splash);\r\n        if (isFirstTime()) {\r\n            Toast.makeText(this, &quot;Welcome&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            Toast.makeText(this, &quot;Hello&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n        new Handler().postDelayed(() -&gt; {\r\n            Intent i = new Intent(SplashActivity.this, MainActivity.class);\r\n            startActivity(i);\r\n            finish();\r\n        }, 5000);\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\nmy code is like this And as I said, the toast message appeared on the screen at first, but I don&#39;t know if I did something, but it no longer appears. Could it have something to do with xml files?\r\n\r\n","title":"My toast message is not appearing in the app","body":"<p>It was visible at first, but I don't know if it's related to the emulator, but my toast message is no longer visible. Can you help me?</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.widget.Toast;\n\n@SuppressLint(&quot;CustomSplashScreen&quot;)\npublic class SplashActivity extends AppCompatActivity {\n    private static final String PREFS_NAME = &quot;MyPrefsFile&quot;;\n    private static final String KEY_FIRST_TIME = &quot;first_time&quot;;\n\n    private boolean isFirstTime() {\n        SharedPreferences preferences = getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE);\n        boolean firstTime = preferences.getBoolean(KEY_FIRST_TIME, true);\n        if (firstTime) {\n            preferences.edit().putBoolean(KEY_FIRST_TIME, false).apply();\n        }\n        return firstTime;\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_splash);\n        if (isFirstTime()) {\n            Toast.makeText(this, &quot;Welcome&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(this, &quot;Hello&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n        new Handler().postDelayed(() -&gt; {\n            Intent i = new Intent(SplashActivity.this, MainActivity.class);\n            startActivity(i);\n            finish();\n        }, 5000);\n\n\n\n    }\n\n\n}\n</code></pre>\n<p>my code is like this And as I said, the toast message appeared on the screen at first, but I don't know if I did something, but it no longer appears. Could it have something to do with xml files?</p>\n"},{"tags":["java","generics"],"answers":[{"comments":[{"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"score":0,"creation_date":1680295824,"post_id":75902500,"comment_id":133880395,"body_markdown":"Your &quot;firstly&quot; solves my problem, you&#39;ll get the answer. But I realize there is a side issue, I&#39;ll update my question.","body":"Your &quot;firstly&quot; solves my problem, you&#39;ll get the answer. But I realize there is a side issue, I&#39;ll update my question."}],"tags":[],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680294677,"creation_date":1680294282,"answer_id":75902500,"question_id":75902385,"body_markdown":"Firstly, your `getItem` method needs a separate generic parameter to set on your `Item` parameter (I&#39;m going to use `E`). Secondly, just use [`Class#newInstance`][1]:\r\n\r\n    public static &lt;T extends Item&lt;E&gt;, E&gt; T getItem(Class&lt;T&gt; itemType)\r\n    \t\tthrows InstantiationException, IllegalAccessException {\r\n    \treturn itemType.newInstance();\r\n    }\r\n\r\nYou can also omit the `extends Item&lt;?&gt;` part entirely. While this will allow the method to instantiate instances of other types, it will still work perfectly for Item types.\r\n\r\nIf in the future you wanted to add parameters to your item constructors, you could use [`Class#getConstructor(Class&lt;?&gt;...)`][2] or [`Class#getConstructors()`][3] to find the constructor you want to use, then \r\n[`Constructor#newInstance(Object...)`][4] to create your instance. Here are two examples:\r\n\r\n\t// This example does NOT work with null arguments\r\n\tpublic static &lt;T&gt; T getItem(Class&lt;T&gt; itemType, Object... arguments)\r\n\t\t\tthrows NoSuchMethodException, SecurityException, InstantiationException, IllegalAccessException,\r\n\t\t\tIllegalArgumentException, InvocationTargetException {\r\n\t\tClass&lt;?&gt;[] parameterTypes = Arrays.stream(arguments).map(Object::getClass).toArray(Class[]::new);\r\n\t\treturn getItem(itemType, parameterTypes, arguments);\r\n\t}\r\n\r\n\t// This example works with null arguments\r\n\tpublic static &lt;T&gt; T getItem(Class&lt;T&gt; itemType, Class&lt;?&gt;[] parameterTypes, Object[] arguments)\r\n\t\t\tthrows NoSuchMethodException, SecurityException, InstantiationException, IllegalAccessException,\r\n\t\t\tIllegalArgumentException, InvocationTargetException {\r\n\t\tConstructor&lt;T&gt; constructor = itemType.getConstructor(parameterTypes);\r\n\t\treturn constructor.newInstance(arguments);\r\n\t}\r\n\t\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#newInstance--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getConstructor-java.lang.Class...-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getConstructors--\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Constructor.html#newInstance-java.lang.Object...-","title":"Generic method to get an instance from a class parameter","body":"<p>Firstly, your <code>getItem</code> method needs a separate generic parameter to set on your <code>Item</code> parameter (I'm going to use <code>E</code>). Secondly, just use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#newInstance--\" rel=\"nofollow noreferrer\"><code>Class#newInstance</code></a>:</p>\n<pre><code>public static &lt;T extends Item&lt;E&gt;, E&gt; T getItem(Class&lt;T&gt; itemType)\n        throws InstantiationException, IllegalAccessException {\n    return itemType.newInstance();\n}\n</code></pre>\n<p>You can also omit the <code>extends Item&lt;?&gt;</code> part entirely. While this will allow the method to instantiate instances of other types, it will still work perfectly for Item types.</p>\n<p>If in the future you wanted to add parameters to your item constructors, you could use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getConstructor-java.lang.Class...-\" rel=\"nofollow noreferrer\"><code>Class#getConstructor(Class&lt;?&gt;...)</code></a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getConstructors--\" rel=\"nofollow noreferrer\"><code>Class#getConstructors()</code></a> to find the constructor you want to use, then\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Constructor.html#newInstance-java.lang.Object...-\" rel=\"nofollow noreferrer\"><code>Constructor#newInstance(Object...)</code></a> to create your instance. Here are two examples:</p>\n<pre><code>// This example does NOT work with null arguments\npublic static &lt;T&gt; T getItem(Class&lt;T&gt; itemType, Object... arguments)\n        throws NoSuchMethodException, SecurityException, InstantiationException, IllegalAccessException,\n        IllegalArgumentException, InvocationTargetException {\n    Class&lt;?&gt;[] parameterTypes = Arrays.stream(arguments).map(Object::getClass).toArray(Class[]::new);\n    return getItem(itemType, parameterTypes, arguments);\n}\n\n// This example works with null arguments\npublic static &lt;T&gt; T getItem(Class&lt;T&gt; itemType, Class&lt;?&gt;[] parameterTypes, Object[] arguments)\n        throws NoSuchMethodException, SecurityException, InstantiationException, IllegalAccessException,\n        IllegalArgumentException, InvocationTargetException {\n    Constructor&lt;T&gt; constructor = itemType.getConstructor(parameterTypes);\n    return constructor.newInstance(arguments);\n}\n</code></pre>\n"}],"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75902500,"answer_count":1,"score":1,"last_activity_date":1680296675,"creation_date":1680293136,"question_id":75902385,"body_markdown":"I have a generic class with subclasses:\r\n\r\n    class Item&lt;T&gt;\r\n    {\r\n         //\r\n    }\r\n    \r\n    class IntItem extends Item&lt;Integer&gt;\r\n    {\r\n        //\r\n    }\r\n\r\nI need a method to get an instance of Item from its class. I tried methods like:\r\n\r\n    &lt;T extends Item&lt;T&gt;&gt; T getItem(Class&lt;T&gt; itemClass)\r\n    {\r\n      return ...\r\n    }\r\n\r\n    \r\n    &lt;T&gt; Item&lt;T&gt; getItem(Class&lt;Item&lt;T&gt;&gt; itemClass)\r\n    {\r\n        return ...\r\n    }\r\n\r\n\r\nBut it does not work:\r\n\r\n    // Does not compile: &quot;inference variable T has incompatible equality constraints Integer,IntItem&quot;\r\n    IntItem ii = getItem(IntItem.class); \r\n\r\n\r\nWhat is the correct way to do this ?\r\n\r\n\r\n**EDIT after cardinal system answer**\r\n\r\nNote that question is only related to the generics/method signatures.\r\n\r\nSame question but passing an item instance as parameter:\r\n\r\n    IntItem ii = getItem2(anIntItem); \r\n    \r\n    static &lt;T extends Item&lt;E&gt;,E&gt; T getItem(Class&lt;T&gt; itemClass)\r\n    {\r\n        return ...\r\n    }\r\n\r\n    static &lt;T extends Item&lt;E&gt;,E&gt; T getItem2(T item)\r\n    { \r\n         // Does not compile: &quot;error: incompatible types: Item cannot be converted to T&quot;\r\n         return getItem(item.getClass();\r\n    }\r\n\r\n","title":"Generic method to get an instance from a class parameter","body":"<p>I have a generic class with subclasses:</p>\n<pre><code>class Item&lt;T&gt;\n{\n     //\n}\n\nclass IntItem extends Item&lt;Integer&gt;\n{\n    //\n}\n</code></pre>\n<p>I need a method to get an instance of Item from its class. I tried methods like:</p>\n<pre><code>&lt;T extends Item&lt;T&gt;&gt; T getItem(Class&lt;T&gt; itemClass)\n{\n  return ...\n}\n\n\n&lt;T&gt; Item&lt;T&gt; getItem(Class&lt;Item&lt;T&gt;&gt; itemClass)\n{\n    return ...\n}\n</code></pre>\n<p>But it does not work:</p>\n<pre><code>// Does not compile: &quot;inference variable T has incompatible equality constraints Integer,IntItem&quot;\nIntItem ii = getItem(IntItem.class); \n</code></pre>\n<p>What is the correct way to do this ?</p>\n<p><strong>EDIT after cardinal system answer</strong></p>\n<p>Note that question is only related to the generics/method signatures.</p>\n<p>Same question but passing an item instance as parameter:</p>\n<pre><code>IntItem ii = getItem2(anIntItem); \n\nstatic &lt;T extends Item&lt;E&gt;,E&gt; T getItem(Class&lt;T&gt; itemClass)\n{\n    return ...\n}\n\nstatic &lt;T extends Item&lt;E&gt;,E&gt; T getItem2(T item)\n{ \n     // Does not compile: &quot;error: incompatible types: Item cannot be converted to T&quot;\n     return getItem(item.getClass();\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1680287117,"post_id":75901488,"comment_id":133878613,"body_markdown":"why should the last `&lt;a:b&gt;` be replaced? (and you should probably use zero-width lookahead/-behind for the delimiters)","body":"why should the last <code>&lt;a:b&gt;</code> be replaced? (and you should probably use zero-width lookahead/-behind for the delimiters)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1680287567,"post_id":75901488,"comment_id":133878712,"body_markdown":"(see [documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Pattern.html#pos_lookahead))","body":"(see <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Pattern.html#pos_lookahead\" rel=\"nofollow noreferrer\">documentation</a>)"}],"answers":[{"tags":[],"owner":{"account_id":3112422,"reputation":741,"user_id":2633917,"display_name":"tobifasc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680288536,"creation_date":1680288536,"answer_id":75901831,"question_id":75901488,"body_markdown":"You could try a regex which explicitly matches NOT `&lt;&gt;` or `{}` around `a:b` and build your replacement using the matched groups:\r\n\r\n    String source = &quot;a:b + &lt;a:b&gt; + a:b +a:b+ &lt;a:b&gt;+{a:b} + {a:b}+d([&lt;a:b&gt;])+a:b * + &lt;a:b&gt; + {a:b}&quot;;\r\n    Pattern pattern = Pattern.compile(&quot;(^|[^&lt;{])(a:b)([^&gt;}]|$)&quot;);\r\n    Matcher m = pattern.matcher(source);\r\n    String output = m.replaceAll(&quot;$1x$3&quot;);","title":"Regex to replace a substring which is not contained into tags","body":"<p>You could try a regex which explicitly matches NOT <code>&lt;&gt;</code> or <code>{}</code> around <code>a:b</code> and build your replacement using the matched groups:</p>\n<pre><code>String source = &quot;a:b + &lt;a:b&gt; + a:b +a:b+ &lt;a:b&gt;+{a:b} + {a:b}+d([&lt;a:b&gt;])+a:b * + &lt;a:b&gt; + {a:b}&quot;;\nPattern pattern = Pattern.compile(&quot;(^|[^&lt;{])(a:b)([^&gt;}]|$)&quot;);\nMatcher m = pattern.matcher(source);\nString output = m.replaceAll(&quot;$1x$3&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27701808,"reputation":2943,"user_id":21146235,"display_name":"motto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680288939,"creation_date":1680288939,"answer_id":75901878,"question_id":75901488,"body_markdown":"Honestly, there&#39;s a few ways to do this &quot;really properly&quot; from a regexp perspective and they&#39;re all pretty messy. Maybe &quot;slightly less ugliest&quot; way is to use a combination of lookahead and negative lookbehind –&#160;match against `a:b` and then check that it isn&#39;t actually surrounded by `&lt;&gt;` or `{}`:\r\n\r\n```java\r\nPattern pattern = Pattern.compile(&quot;a:b(?=$|.(?&lt;!&lt;a:b&gt;|{a:b}))&quot;);\r\n```\r\n\r\nThe pattern breaks down as:\r\n```\r\n   a:b              # Find &quot;a:b&quot;\r\n   (?=              #&#160;but only if it is followed by ...\r\n     $ |            #&#160;the end of the string, or ...\r\n     .(?&lt;!          # the string that we just matched does NOT match ...\r\n       &lt;a:b&gt;|{a:b}  # ... either of our exempt strings.\r\n      )\r\n   )\r\n```\r\n\r\nIf you can assume that your input is well-formed and doesn&#39;t contain curly bits like `{a:b&gt;` then @tobifasc&#39;s answer is a far better alternative.","title":"Regex to replace a substring which is not contained into tags","body":"<p>Honestly, there's a few ways to do this &quot;really properly&quot; from a regexp perspective and they're all pretty messy. Maybe &quot;slightly less ugliest&quot; way is to use a combination of lookahead and negative lookbehind – match against <code>a:b</code> and then check that it isn't actually surrounded by <code>&lt;&gt;</code> or <code>{}</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern pattern = Pattern.compile(&quot;a:b(?=$|.(?&lt;!&lt;a:b&gt;|{a:b}))&quot;);\n</code></pre>\n<p>The pattern breaks down as:</p>\n<pre><code>   a:b              # Find &quot;a:b&quot;\n   (?=              # but only if it is followed by ...\n     $ |            # the end of the string, or ...\n     .(?&lt;!          # the string that we just matched does NOT match ...\n       &lt;a:b&gt;|{a:b}  # ... either of our exempt strings.\n      )\n   )\n</code></pre>\n<p>If you can assume that your input is well-formed and doesn't contain curly bits like <code>{a:b&gt;</code> then @tobifasc's answer is a far better alternative.</p>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680293581,"creation_date":1680293041,"answer_id":75902371,"question_id":75901488,"body_markdown":"You may use this regex for matching:\r\n\r\n```sh\r\n(?&lt;!&lt;(?=...&gt;))(?&lt;!\\{(?=...}))\\ba:b\\b\r\n```\r\n\r\nand replace this with `x`.\r\n\r\n[&lt;kbd&gt;Code Demo&lt;/kbd&gt;][1]\r\n\r\n[RegEx Demo][2]\r\n\r\n\r\n**RegEx Demo:**\r\n\r\n- `(?&lt;!&lt;(?=...&gt;))`: Negative lookbehind to fail the match if we have a `&lt;` before the current position which must be followed by 3 characters (i.e. `a:b`) and `&gt;`\r\n- `(?&lt;!\\{(?=...}))`: Negative lookbehind to fail the match if we have a `{` before the current position which must be followed by 3 characters and `}`\r\n- `\\ba:b\\b`: Match `a:b` surrounded with word boundaries \r\n\r\n\r\n  [1]: https://ideone.com/LIuHz2\r\n  [2]: https://regex101.com/r/XLMFaj/1\r\n\r\n**Java Code:**\r\n\r\n\tString st = &quot;a:b + &lt;a:b&gt; + a:b +a:b+ &lt;a:b&gt;+{a:b} + {a:b}+d([&lt;a:b&gt;])+a:b * + &lt;a:b&gt; + {a:b}&quot;;\r\n\tPattern pattern = Pattern.compile(\r\n\t\t\t&quot;(?&lt;!&lt;(?=...&gt;))(?&lt;!\\\\{(?=...}))\\\\ba:b\\\\b&quot;);\r\n\tMatcher matcher = pattern.matcher(st);\r\n\tString s2 = matcher.replaceAll(&quot;x&quot;);\r\n\tSystem.out.println(s2);","title":"Regex to replace a substring which is not contained into tags","body":"<p>You may use this regex for matching:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>(?&lt;!&lt;(?=...&gt;))(?&lt;!\\{(?=...}))\\ba:b\\b\n</code></pre>\n<p>and replace this with <code>x</code>.</p>\n<p><a href=\"https://ideone.com/LIuHz2\" rel=\"nofollow noreferrer\"><kbd>Code Demo</kbd></a></p>\n<p><a href=\"https://regex101.com/r/XLMFaj/1\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n<p><strong>RegEx Demo:</strong></p>\n<ul>\n<li><code>(?&lt;!&lt;(?=...&gt;))</code>: Negative lookbehind to fail the match if we have a <code>&lt;</code> before the current position which must be followed by 3 characters (i.e. <code>a:b</code>) and <code>&gt;</code></li>\n<li><code>(?&lt;!\\{(?=...}))</code>: Negative lookbehind to fail the match if we have a <code>{</code> before the current position which must be followed by 3 characters and <code>}</code></li>\n<li><code>\\ba:b\\b</code>: Match <code>a:b</code> surrounded with word boundaries</li>\n</ul>\n<p><strong>Java Code:</strong></p>\n<pre><code>String st = &quot;a:b + &lt;a:b&gt; + a:b +a:b+ &lt;a:b&gt;+{a:b} + {a:b}+d([&lt;a:b&gt;])+a:b * + &lt;a:b&gt; + {a:b}&quot;;\nPattern pattern = Pattern.compile(\n        &quot;(?&lt;!&lt;(?=...&gt;))(?&lt;!\\\\{(?=...}))\\\\ba:b\\\\b&quot;);\nMatcher matcher = pattern.matcher(st);\nString s2 = matcher.replaceAll(&quot;x&quot;);\nSystem.out.println(s2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680295972,"creation_date":1680295650,"answer_id":75902635,"question_id":75901488,"body_markdown":"I have assumed that in the example given in the question `&#39;a&#39;`, &#39;`b&#39;` and so on are placeholders and not literals. Therefore, the regular expression that works for `&#39;a:b &lt;c:d&gt;&#39;` should, without change, also work for `&#39;e:f &lt;g:h&gt;&#39;`. I have assumed it should also work for `&#39;dog_1:cat_9 {3 little pigs: and 1 big, bad wolf}&#39;` (where `&#39;dog_1:cat_9&#39;` is to be replaced with `&#39;x&#39;`), the only requirement being that the replacement strings be comprised of one or more word characters (letters, digits and underscores) followed by a colon followed by one or more word characters. \r\n\r\nYou could match the following regular expression\r\n\r\n    &lt;[^&gt;:]+:[^&gt;]+&gt;|\\{[^}:]+:[^}]+}|(\\w+:\\w+)\r\n\r\nand replace captured strings with `&#39;x&#39;`. The &quot;Demo&quot; link below considers the following two strings.\r\n\r\n    a:b + &lt;a:b&gt; + a:b +a:b+ &lt;a:b&gt;+{ac:b} + {a:b}+d([&lt;a:b&gt;])+a:b\r\n    ccc   mmmmm   ccc  ccc  mmmmm mmmmmm   mmmmm    mmmmm   ccc    \r\n    \r\n    a bc:de &lt;b c: d e&gt; a dog:cat[de :f]\r\n      ccccc mmmmmmmmmm   ccccccc\r\n\r\nI have used `&#39;m&#39;`&#39;s to denote strings that are matched but not captured, and `&#39;c&#39;`&#39;s to denote strings that are matched *and* captured (to group 1).\r\n\r\nCaptures are to be replaced with `&#39;x&#39;`. No action is to be taken for strings that are matched but not captured.\r\n\r\nThis idea of matching, but not capturing, what you don&#39;t want and capturing only the juicy bits has been an established technique since I was a kid.\r\n\r\nNaturally, this regular expression would need to be modified if my assumptions about requirements are incorrect.\r\n\r\n----------\r\n\r\n[Demo](https://regex101.com/r/Fax9A9/1)\r\n\r\nThe regular expression has the following elements.\r\n\r\n    &lt;         match &#39;&lt;&#39;\r\n      [^&gt;:]+  match one or more characters other than &#39;&gt;&#39; and &#39;:&#39;\r\n      :       march &#39;:&#39;\r\n      [^&gt;]+   match one or more characters other than &#39;&gt;&#39;\r\n    &gt;         match &#39;&gt;&#39;\r\n    |         or\r\n    \\{        match &#39;{&#39; \r\n      [^}:]+  match one or more characters other than &#39;}&#39; and &#39;:&#39;\r\n      :       march &#39;:&#39;\r\n      [^}]+   match one or more characters other than &#39;}&#39;\r\n    }         match &#39;}&#39;\r\n    |         or\r\n    (         begin capture group 1\r\n      \\w+     match one or more word characters\r\n      :       march &#39;:&#39;\r\n      \\w+     match one or more word characters\r\n    )         end capture group 1\r\n\r\n\r\n----------\r\n\r\nOne may alternatively match the same regular expression without the capture group,\r\n\r\n    &lt;[^&gt;:]+:[^&gt;]+&gt;|\\{[^}:]+:[^}]+}|\\w+:\\w+\r\n\r\nand replace (with &#39;x&#39;) those matches that begin with a word character.\r\n","title":"Regex to replace a substring which is not contained into tags","body":"<p>I have assumed that in the example given in the question <code>'a'</code>, '<code>b'</code> and so on are placeholders and not literals. Therefore, the regular expression that works for <code>'a:b &lt;c:d&gt;'</code> should, without change, also work for <code>'e:f &lt;g:h&gt;'</code>. I have assumed it should also work for <code>'dog_1:cat_9 {3 little pigs: and 1 big, bad wolf}'</code> (where <code>'dog_1:cat_9'</code> is to be replaced with <code>'x'</code>), the only requirement being that the replacement strings be comprised of one or more word characters (letters, digits and underscores) followed by a colon followed by one or more word characters.</p>\n<p>You could match the following regular expression</p>\n<pre><code>&lt;[^&gt;:]+:[^&gt;]+&gt;|\\{[^}:]+:[^}]+}|(\\w+:\\w+)\n</code></pre>\n<p>and replace captured strings with <code>'x'</code>. The &quot;Demo&quot; link below considers the following two strings.</p>\n<pre><code>a:b + &lt;a:b&gt; + a:b +a:b+ &lt;a:b&gt;+{ac:b} + {a:b}+d([&lt;a:b&gt;])+a:b\nccc   mmmmm   ccc  ccc  mmmmm mmmmmm   mmmmm    mmmmm   ccc    \n\na bc:de &lt;b c: d e&gt; a dog:cat[de :f]\n  ccccc mmmmmmmmmm   ccccccc\n</code></pre>\n<p>I have used <code>'m'</code>'s to denote strings that are matched but not captured, and <code>'c'</code>'s to denote strings that are matched <em>and</em> captured (to group 1).</p>\n<p>Captures are to be replaced with <code>'x'</code>. No action is to be taken for strings that are matched but not captured.</p>\n<p>This idea of matching, but not capturing, what you don't want and capturing only the juicy bits has been an established technique since I was a kid.</p>\n<p>Naturally, this regular expression would need to be modified if my assumptions about requirements are incorrect.</p>\n<hr />\n<p><a href=\"https://regex101.com/r/Fax9A9/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n<p>The regular expression has the following elements.</p>\n<pre><code>&lt;         match '&lt;'\n  [^&gt;:]+  match one or more characters other than '&gt;' and ':'\n  :       march ':'\n  [^&gt;]+   match one or more characters other than '&gt;'\n&gt;         match '&gt;'\n|         or\n\\{        match '{' \n  [^}:]+  match one or more characters other than '}' and ':'\n  :       march ':'\n  [^}]+   match one or more characters other than '}'\n}         match '}'\n|         or\n(         begin capture group 1\n  \\w+     match one or more word characters\n  :       march ':'\n  \\w+     match one or more word characters\n)         end capture group 1\n</code></pre>\n<hr />\n<p>One may alternatively match the same regular expression without the capture group,</p>\n<pre><code>&lt;[^&gt;:]+:[^&gt;]+&gt;|\\{[^}:]+:[^}]+}|\\w+:\\w+\n</code></pre>\n<p>and replace (with 'x') those matches that begin with a word character.</p>\n"},{"tags":[],"owner":{"account_id":268704,"reputation":2391,"user_id":15577665,"display_name":"sln"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680296442,"creation_date":1680296442,"answer_id":75902708,"question_id":75901488,"body_markdown":"With Java not having conditionals, both pairs need to be explicitly excluded.  \r\n\r\n    a:b(?&lt;!&lt;a:b(?=&gt;))(?&lt;!\\{a:b(?=}))\r\n\r\nhttps://regex101.com/r/DzBzgq/1\r\n\r\n     a:b\r\n     (?&lt;!\r\n        &lt;a:b\r\n        (?= &gt; )\r\n     )\r\n     (?&lt;!\r\n        \\{a:b\r\n        (?= } )\r\n     )\r\n     \r\n","title":"Regex to replace a substring which is not contained into tags","body":"<p>With Java not having conditionals, both pairs need to be explicitly excluded.</p>\n<pre><code>a:b(?&lt;!&lt;a:b(?=&gt;))(?&lt;!\\{a:b(?=}))\n</code></pre>\n<p><a href=\"https://regex101.com/r/DzBzgq/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/DzBzgq/1</a></p>\n<pre><code> a:b\n (?&lt;!\n    &lt;a:b\n    (?= &gt; )\n )\n (?&lt;!\n    \\{a:b\n    (?= } )\n )\n \n</code></pre>\n"}],"owner":{"account_id":220124,"reputation":1508,"user_id":477372,"accept_rate":39,"display_name":"Fab"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1680296442,"creation_date":1680285917,"question_id":75901488,"body_markdown":"In the following string:\r\n\r\n```a:b + &lt;a:b&gt; + a:b +a:b+ &lt;a:b&gt;+{a:b} + {a:b}+d([&lt;a:b&gt;])+a:b * + &lt;a:b&gt; + {a:b}```\r\n\r\nI have to replace a:b when not contained in &lt;&gt; or {}, a:b can be contained in spaces or operators, hence the expected result should be:\r\n\r\n```x + &lt;a:b&gt; + x +x+ &lt;a:b&gt;+{a:b} + {a:b}+d([&lt;a:b&gt;])+x * x + {a:b}```\r\n\r\nI&#39;m using the following regex:\r\n\r\n\r\n``` (^|[^&lt;^{])a:b```\r\n\r\nand the following code:\r\n\r\n```\r\nString st = &quot;a:b + &lt;a:b&gt; + a:b +a:b+ &lt;a:b&gt;+{a:b} + {a:b}+d([&lt;a:b&gt;])+a:b * + &lt;a:b&gt; + {a:b}&quot;;\r\n\t\r\nPattern pattern = Pattern.compile(&quot;(^|[^&lt;^{])a:b&quot;);\r\nMatcher matcher = pattern.matcher(st);\r\n\t\t\r\nString s2 = matcher.replaceAll(&quot;x&quot;);\r\n\r\n```\r\n\r\nbut I get:\r\n\r\n```x + &lt;a:b&gt; +x x+ &lt;a:b&gt;+{a:b} + {a:b}+d([&lt;a:b&gt;])x * + &lt;a:b&gt; + {a:b}```\r\n\r\nHow can I avoid to replace spaces and operators?","title":"Regex to replace a substring which is not contained into tags","body":"<p>In the following string:</p>\n<p><code>a:b + &lt;a:b&gt; + a:b +a:b+ &lt;a:b&gt;+{a:b} + {a:b}+d([&lt;a:b&gt;])+a:b * + &lt;a:b&gt; + {a:b}</code></p>\n<p>I have to replace a:b when not contained in &lt;&gt; or {}, a:b can be contained in spaces or operators, hence the expected result should be:</p>\n<p><code>x + &lt;a:b&gt; + x +x+ &lt;a:b&gt;+{a:b} + {a:b}+d([&lt;a:b&gt;])+x * x + {a:b}</code></p>\n<p>I'm using the following regex:</p>\n<p><code> (^|[^&lt;^{])a:b</code></p>\n<p>and the following code:</p>\n<pre><code>String st = &quot;a:b + &lt;a:b&gt; + a:b +a:b+ &lt;a:b&gt;+{a:b} + {a:b}+d([&lt;a:b&gt;])+a:b * + &lt;a:b&gt; + {a:b}&quot;;\n    \nPattern pattern = Pattern.compile(&quot;(^|[^&lt;^{])a:b&quot;);\nMatcher matcher = pattern.matcher(st);\n        \nString s2 = matcher.replaceAll(&quot;x&quot;);\n\n</code></pre>\n<p>but I get:</p>\n<p><code>x + &lt;a:b&gt; +x x+ &lt;a:b&gt;+{a:b} + {a:b}+d([&lt;a:b&gt;])x * + &lt;a:b&gt; + {a:b}</code></p>\n<p>How can I avoid to replace spaces and operators?</p>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1680211776,"post_id":75893059,"comment_id":133864659,"body_markdown":"I&#39;m afraid to add this to the question body (I don&#39;t want to get it closed for a lack of focus), but this `&lt;fieldset&gt;\n                &lt;label for=&quot;admin&quot;&gt;Admin: &lt;/label&gt;\n                &lt;input id=&quot;admin&quot; th:field=&quot;*{authorities}&quot; type=&quot;checkbox&quot; th:value=&quot;${adminRoleSet}&quot; /&gt;\n            &lt;/fieldset&gt;`\nreturns this: `java.lang.NumberFormatException: For input string: &quot;[Role[id=1,role=&#39;USER&#39;],Role[id=2,role=&#39;ADMIN&#39;]]&quot;\n\tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67) ~[na:na]\n\tat java.base/java.lang.Long.parseLong(Long.java:711) ~[na:na]`. May be rel","body":"I&#39;m afraid to add this to the question body (I don&#39;t want to get it closed for a lack of focus), but this <code>&lt;fieldset&gt;                 &lt;label for=&quot;admin&quot;&gt;Admin: &lt;&#47;label&gt;                 &lt;input id=&quot;admin&quot; th:field=&quot;*{authorities}&quot; type=&quot;checkbox&quot; th:value=&quot;${adminRoleSet}&quot; &#47;&gt;             &lt;&#47;fieldset&gt;</code> returns this: <code>java.lang.NumberFormatException: For input string: &quot;[Role[id=1,role=&#39;USER&#39;],Role[id=2,role=&#39;ADMIN&#39;]]&quot; \tat java.base&#47;java.lang.NumberFormatException.forInputString(Num&zwnj;&#8203;berFormatException.j&zwnj;&#8203;ava:67) ~[na:na] \tat java.base&#47;java.lang.Long.parseLong(Long.java:711) ~[na:na]</code>. May be rel"},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1680211909,"post_id":75893059,"comment_id":133864683,"body_markdown":"`adminRoleSet` is a model attribute: `addAttribute(&quot;adminRoleSet&quot;,\n                        new HashSet&lt;&gt;(List.of(service.getRoleByName(&quot;USER&quot;),\n                                service.getRoleByName(&quot;ADMIN&quot;))))`. It never gets to the `saveUser()` handler because of that error","body":"<code>adminRoleSet</code> is a model attribute: <code>addAttribute(&quot;adminRoleSet&quot;,                         new HashSet&lt;&gt;(List.of(service.getRoleByName(&quot;USER&quot;),                                 service.getRoleByName(&quot;ADMIN&quot;))))</code>. It never gets to the <code>saveUser()</code> handler because of that error"},{"owner":{"account_id":365547,"reputation":4033,"user_id":710530,"accept_rate":67,"display_name":"DavidA"},"score":0,"creation_date":1680221444,"post_id":75893059,"comment_id":133865941,"body_markdown":"First thing I would to is verify that it shows up correctly in the hidden field on the browser, and that it gets sent correctly in the POST from the browser.  That way you know where it first disappears, and can focus on that area.","body":"First thing I would to is verify that it shows up correctly in the hidden field on the browser, and that it gets sent correctly in the POST from the browser.  That way you know where it first disappears, and can focus on that area."},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1680268648,"post_id":75893059,"comment_id":133874038,"body_markdown":"@DavidA Hm, it disappears in the view, indeed: `&lt;input type=&quot;hidden&quot; id=&quot;authorities&quot; name=&quot;authorities&quot; value=&quot;&quot;&gt;`. What should I do then?","body":"@DavidA Hm, it disappears in the view, indeed: <code>&lt;input type=&quot;hidden&quot; id=&quot;authorities&quot; name=&quot;authorities&quot; value=&quot;&quot;&gt;</code>. What should I do then?"},{"owner":{"account_id":365547,"reputation":4033,"user_id":710530,"accept_rate":67,"display_name":"DavidA"},"score":1,"creation_date":1680281734,"post_id":75893059,"comment_id":133877484,"body_markdown":"My guess is that while you created a formatter to convert from a string to a set of roles, you didn&#39;t create a serializer to go the other direction (converting the entire set to a single string) when sending the response to the client.  Also, as an aside, not related to your question, you are letting your user change all the user settings by sending all the user details back and forth. The user could easily go in and change their department, roles, even salary with your current set up.  I would suggest only letting them send the new password, and not send all the user data.","body":"My guess is that while you created a formatter to convert from a string to a set of roles, you didn&#39;t create a serializer to go the other direction (converting the entire set to a single string) when sending the response to the client.  Also, as an aside, not related to your question, you are letting your user change all the user settings by sending all the user details back and forth. The user could easily go in and change their department, roles, even salary with your current set up.  I would suggest only letting them send the new password, and not send all the user data."},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1680289337,"post_id":75893059,"comment_id":133879069,"body_markdown":"@DavidA why would I need to &quot;go the other direction&quot; if `toString()` already does the job of converting anything to `String`s?","body":"@DavidA why would I need to &quot;go the other direction&quot; if <code>toString()</code> already does the job of converting anything to <code>String</code>s?"},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1680289693,"post_id":75893059,"comment_id":133879157,"body_markdown":"@DavidA well, as long as those inputs are hidden, they can&#39;t change those fields, can they? `department` and `salary` are always hidden in user views","body":"@DavidA well, as long as those inputs are hidden, they can&#39;t change those fields, can they? <code>department</code> and <code>salary</code> are always hidden in user views"},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1680290980,"post_id":75893059,"comment_id":133879405,"body_markdown":"You know what I just realized. `getAuthorities()` returns a `Collection` that doesn&#39;t have a `toString()` method. But why can I print it then? It&#39;s confusing...","body":"You know what I just realized. <code>getAuthorities()</code> returns a <code>Collection</code> that doesn&#39;t have a <code>toString()</code> method. But why can I print it then? It&#39;s confusing..."},{"owner":{"account_id":365547,"reputation":4033,"user_id":710530,"accept_rate":67,"display_name":"DavidA"},"score":0,"creation_date":1680359110,"post_id":75893059,"comment_id":133886892,"body_markdown":"A basic rule in browser/server development is never &#39;trust&#39; the client.  Someone can always use development tools on their browser to change what is running locally.  So, they could debug and see the values, and change them.  So, non-technical users can&#39;t change them, but technical users can easily do so.","body":"A basic rule in browser/server development is never &#39;trust&#39; the client.  Someone can always use development tools on their browser to change what is running locally.  So, they could debug and see the values, and change them.  So, non-technical users can&#39;t change them, but technical users can easily do so."},{"owner":{"account_id":365547,"reputation":4033,"user_id":710530,"accept_rate":67,"display_name":"DavidA"},"score":0,"creation_date":1680359510,"post_id":75893059,"comment_id":133886956,"body_markdown":"Good job on solving the serialization, though sending it all back and forth is still a security hole.","body":"Good job on solving the serialization, though sending it all back and forth is still a security hole."}],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680295961,"creation_date":1680210891,"question_id":75893059,"body_markdown":"I have a Spring Boot project. It uses both Spring MVC and Spring Security. The app gets `User` objects from a database and makes them updateable in certain ways in certain views. For example, this handler handles the request `/user/update-password`\r\n```java\r\n    @GetMapping(&quot;/user/update-password&quot;)\r\n    public String updateYourPassword(Model model, Authentication authentication) {\r\n        String username = getUsername(authentication);\r\n        User user = service.getByUsername(username);\r\n        model.addAttribute(&quot;user&quot;, user);\r\n        System.out.println(&quot;user in handler: &quot; + user); // LOG #1\r\n        return &quot;user-update-password&quot;;\r\n    }\r\n```\r\nthen shows the `user-update-password` view\r\n```html\r\n&lt;form class=&quot;forms&quot; th:action=&quot;@{/save-user(passwordChange=true)}&quot; th:object=&quot;${user}&quot; method=&quot;post&quot;&gt;\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot;/&gt;\r\n\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{username}&quot;/&gt;\r\n\r\n            &lt;fieldset&gt;\r\n                &lt;label for=&quot;password&quot;&gt;Your new password: &lt;/label&gt;\r\n                &lt;input id=&quot;password&quot; name=&quot;password&quot; required/&gt;\r\n            &lt;/fieldset&gt;\r\n\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{name}&quot;/&gt;\r\n\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{lastName}&quot;/&gt;\r\n\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{department}&quot;/&gt;\r\n\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{salary}&quot;/&gt;\r\n\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{age}&quot;/&gt;\r\n\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{email}&quot;/&gt;\r\n\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{enabled}&quot;&gt; // to the best of my understanding, one doesn&#39;t have to\r\n\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{authorities}&quot;&gt; // explicitly close input tags. i tried explicitly closing them too anyway\r\n\r\n            &lt;input class=&quot;main-button&quot; type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\r\n        &lt;/form&gt;\r\n```\r\nand finally gets it to the point where the password is encoded and the user gets redirected back to their home page\r\n```java\r\n    @PostMapping(&quot;/save-user&quot;)\r\n    public String saveUser(@ModelAttribute User user,\r\n                           @RequestParam(defaultValue = &quot;false&quot;) String passwordChange, // some views that use this handler don&#39;t change password\r\n                           Authentication authentication) {\r\n        System.out.println(&quot;User @ModelAttribute: &quot; + user); // LOG #2\r\n\r\n        if (Boolean.parseBoolean(passwordChange)) {\r\n            System.out.println(&quot;Encoding...&quot;);\r\n            encodePassword(user);\r\n            System.out.println(&quot;Encoding complete!&quot;);\r\n        }\r\n\r\n        service.save(user);\r\n\r\n        return isAdmin(authentication) ?\r\n                &quot;redirect:/admin&quot; :\r\n                &quot;redirect:/user&quot;;\r\n    }\r\n```\r\nThe password gets changed. The problem is the `authorities` field becomes null. Here&#39;s what LOG #1 returns\r\n```\r\nuser in handler: User[id=2, username=&#39;mickey_m&#39;, password=&#39;$2y$10$ZE1cg7hP1CdafEhXITEfB.MNcyNxNUz1cm3ZTn.eRK13lHQfTta7i&#39;, name=&#39;Mickey&#39;, lastName=&#39;Mouse&#39;, department=&#39;sales&#39;, salary=180000, age=95, email=&#39;mickey@outlook.com&#39;, enabled=1, authorities=[Role[id=1, role=&#39;USER&#39;]]]\r\n```\r\nHere&#39;s what LOG #2 returns (I changed the password to &quot;mimi&quot; here)\r\n```\r\nUser @ModelAttribute: User[id=2, username=&#39;mickey_m&#39;, password=&#39;mimi&#39;, name=&#39;Mickey&#39;, lastName=&#39;Mouse&#39;, department=&#39;sales&#39;, salary=180000, age=95, email=&#39;mickey@outlook.com&#39;, enabled=1, authorities=null]\r\n```\r\n**Why does this nullifying happen and how do I prevent this?**\r\n\r\nYou may need a bit more information on what `User` and `authorities` are. Here it is\r\n```java\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User implements UserDetails {\r\n// ...\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;user_role&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    private Set&lt;Role&gt; authorities;\r\n```\r\n```java\r\n@Entity\r\n@Table(name = &quot;roles&quot;)\r\npublic class Role implements GrantedAuthority {\r\n// ...\r\n    @Column(name = &quot;role&quot;) // the fact that the column is named differently may be important, idk\r\n    private String authority;\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;user_role&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;role_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;))\r\n    private Set&lt;User&gt; userList;\r\n// ...\r\n@Override\r\n    public String toString() {\r\n        return new StringJoiner(&quot;, &quot;, Role.class.getSimpleName() + &quot;[&quot;, &quot;]&quot;)\r\n                .add(&quot;id=&quot; + id)\r\n                .add(&quot;role=&#39;&quot; + authority + &quot;&#39;&quot;) // notice quotes\r\n                .toString();\r\n    }\r\n```\r\nI tried many things, including adding a custom `Formatter` from `String` to `Set&lt;Role&gt;`. I expected it to, well, convert `String`s like `[Role[id=1, authority=&#39;USER&#39;], Role[id=2, authority=&#39;ADMIN&#39;]]` (what I expected forms to return) into corresponding `Set`s of `Role`s. Unfortunately, it didn&#39;t help\r\n```java\r\n@Configuration\r\npublic class WebMvcConfig implements WebMvcConfigurer {\r\n// ...\r\n@Override\r\n    public void addFormatters(FormatterRegistry registry) {\r\n        System.out.println(&quot;addFormatters() called&quot;); // this log message gets printed on startup\r\n        registry.addFormatter(new Formatter&lt;Set&lt;Role&gt;&gt;() {\r\n            @Override\r\n            public Set&lt;Role&gt; parse(String text, Locale locale) { // a breakpoint here never gets hit\r\n                Set&lt;Role&gt; roleSet = new HashSet&lt;&gt;();\r\n                String[] roles = text.split(&quot;^\\\\[|\\\\]$|(?&lt;=\\\\]),\\\\s?&quot;);\r\n                for (String roleString : roles) {\r\n                    String authority =\r\n                            roleString.substring(roleString.lastIndexOf(&quot;=&quot;) + 1,\r\n                                    roleString.indexOf(&quot;]&quot;) - 1); // -1 because of quotes\r\n                    roleSet.add(service.getRoleByName(authority));\r\n                }\r\n                return roleSet;\r\n            }\r\n\r\n            @Override\r\n            public String print(Set&lt;Role&gt; object, Locale locale) {\r\n                return null;\r\n            }\r\n        });\r\n    }\r\n```\r\nI hope it may count for a &quot;minimum reproducible example&quot;. Anyway, you can see the project&#39;s repo [here](https://github.com/NadChel/boot_security) in case I haven&#39;t included some important details\r\n\r\n**UPD:** I discovered that it gets null in the view:\r\n\r\n[![authorities being null as shown via Devtools][1]][1]\r\n\r\nWhat should I make of this?\r\n\r\n**UPD2:** You&#39;re not going to believe it! I cracked it thanks to the Sage chat bot! What worked is having this in my view:\r\n```html\r\n&lt;!-- authorities is a Collection, and Collections don&#39;t have their toString() methods since they are interfaces and don&#39;t override it--&gt;\r\n\r\n&lt;input type=&quot;hidden&quot; th:name=&quot;authorities&quot;\r\n                   th:value=&quot;*{#strings.toString(authorities)}&quot;/&gt;\r\n```\r\nand also fixing my Formatter a bit:\r\n```java\r\n            @Override\r\n            public Set&lt;Role&gt; parse(String text, Locale locale) {\r\n                Set&lt;Role&gt; roleSet = new HashSet&lt;&gt;();\r\n                String[] roles = text.split(&quot;^\\\\[|\\\\]$|(?&lt;=\\\\]),\\\\s?&quot;);\r\n                for (String roleString : roles) {\r\n                    if (roleString.length() == 0) continue; // I didn&#39;t have an empty String check\r\n                    String authority =\r\n                            roleString.substring(roleString.lastIndexOf(&quot;=&quot;) + 2, // it used to have +1 instead of +2\r\n                                    roleString.indexOf(&quot;]&quot;) - 1);\r\n                    roleSet.add(service.getRoleByName(authority));\r\n                }\r\n                return roleSet;\r\n            }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MT4vr.png","title":"When an instance field, a Collection of custom Objects, passes through my view, it becomes null. How do I prevent it?","body":"<p>I have a Spring Boot project. It uses both Spring MVC and Spring Security. The app gets <code>User</code> objects from a database and makes them updateable in certain ways in certain views. For example, this handler handles the request <code>/user/update-password</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(&quot;/user/update-password&quot;)\n    public String updateYourPassword(Model model, Authentication authentication) {\n        String username = getUsername(authentication);\n        User user = service.getByUsername(username);\n        model.addAttribute(&quot;user&quot;, user);\n        System.out.println(&quot;user in handler: &quot; + user); // LOG #1\n        return &quot;user-update-password&quot;;\n    }\n</code></pre>\n<p>then shows the <code>user-update-password</code> view</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form class=&quot;forms&quot; th:action=&quot;@{/save-user(passwordChange=true)}&quot; th:object=&quot;${user}&quot; method=&quot;post&quot;&gt;\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot;/&gt;\n\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{username}&quot;/&gt;\n\n            &lt;fieldset&gt;\n                &lt;label for=&quot;password&quot;&gt;Your new password: &lt;/label&gt;\n                &lt;input id=&quot;password&quot; name=&quot;password&quot; required/&gt;\n            &lt;/fieldset&gt;\n\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{name}&quot;/&gt;\n\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{lastName}&quot;/&gt;\n\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{department}&quot;/&gt;\n\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{salary}&quot;/&gt;\n\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{age}&quot;/&gt;\n\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{email}&quot;/&gt;\n\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{enabled}&quot;&gt; // to the best of my understanding, one doesn't have to\n\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{authorities}&quot;&gt; // explicitly close input tags. i tried explicitly closing them too anyway\n\n            &lt;input class=&quot;main-button&quot; type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\n        &lt;/form&gt;\n</code></pre>\n<p>and finally gets it to the point where the password is encoded and the user gets redirected back to their home page</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @PostMapping(&quot;/save-user&quot;)\n    public String saveUser(@ModelAttribute User user,\n                           @RequestParam(defaultValue = &quot;false&quot;) String passwordChange, // some views that use this handler don't change password\n                           Authentication authentication) {\n        System.out.println(&quot;User @ModelAttribute: &quot; + user); // LOG #2\n\n        if (Boolean.parseBoolean(passwordChange)) {\n            System.out.println(&quot;Encoding...&quot;);\n            encodePassword(user);\n            System.out.println(&quot;Encoding complete!&quot;);\n        }\n\n        service.save(user);\n\n        return isAdmin(authentication) ?\n                &quot;redirect:/admin&quot; :\n                &quot;redirect:/user&quot;;\n    }\n</code></pre>\n<p>The password gets changed. The problem is the <code>authorities</code> field becomes null. Here's what LOG #1 returns</p>\n<pre><code>user in handler: User[id=2, username='mickey_m', password='$2y$10$ZE1cg7hP1CdafEhXITEfB.MNcyNxNUz1cm3ZTn.eRK13lHQfTta7i', name='Mickey', lastName='Mouse', department='sales', salary=180000, age=95, email='mickey@outlook.com', enabled=1, authorities=[Role[id=1, role='USER']]]\n</code></pre>\n<p>Here's what LOG #2 returns (I changed the password to &quot;mimi&quot; here)</p>\n<pre><code>User @ModelAttribute: User[id=2, username='mickey_m', password='mimi', name='Mickey', lastName='Mouse', department='sales', salary=180000, age=95, email='mickey@outlook.com', enabled=1, authorities=null]\n</code></pre>\n<p><strong>Why does this nullifying happen and how do I prevent this?</strong></p>\n<p>You may need a bit more information on what <code>User</code> and <code>authorities</code> are. Here it is</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User implements UserDetails {\n// ...\n    @ManyToMany\n    @JoinTable(name = &quot;user_role&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Set&lt;Role&gt; authorities;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;roles&quot;)\npublic class Role implements GrantedAuthority {\n// ...\n    @Column(name = &quot;role&quot;) // the fact that the column is named differently may be important, idk\n    private String authority;\n    @ManyToMany\n    @JoinTable(name = &quot;user_role&quot;,\n            joinColumns = @JoinColumn(name = &quot;role_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;))\n    private Set&lt;User&gt; userList;\n// ...\n@Override\n    public String toString() {\n        return new StringJoiner(&quot;, &quot;, Role.class.getSimpleName() + &quot;[&quot;, &quot;]&quot;)\n                .add(&quot;id=&quot; + id)\n                .add(&quot;role='&quot; + authority + &quot;'&quot;) // notice quotes\n                .toString();\n    }\n</code></pre>\n<p>I tried many things, including adding a custom <code>Formatter</code> from <code>String</code> to <code>Set&lt;Role&gt;</code>. I expected it to, well, convert <code>String</code>s like <code>[Role[id=1, authority='USER'], Role[id=2, authority='ADMIN']]</code> (what I expected forms to return) into corresponding <code>Set</code>s of <code>Role</code>s. Unfortunately, it didn't help</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebMvcConfig implements WebMvcConfigurer {\n// ...\n@Override\n    public void addFormatters(FormatterRegistry registry) {\n        System.out.println(&quot;addFormatters() called&quot;); // this log message gets printed on startup\n        registry.addFormatter(new Formatter&lt;Set&lt;Role&gt;&gt;() {\n            @Override\n            public Set&lt;Role&gt; parse(String text, Locale locale) { // a breakpoint here never gets hit\n                Set&lt;Role&gt; roleSet = new HashSet&lt;&gt;();\n                String[] roles = text.split(&quot;^\\\\[|\\\\]$|(?&lt;=\\\\]),\\\\s?&quot;);\n                for (String roleString : roles) {\n                    String authority =\n                            roleString.substring(roleString.lastIndexOf(&quot;=&quot;) + 1,\n                                    roleString.indexOf(&quot;]&quot;) - 1); // -1 because of quotes\n                    roleSet.add(service.getRoleByName(authority));\n                }\n                return roleSet;\n            }\n\n            @Override\n            public String print(Set&lt;Role&gt; object, Locale locale) {\n                return null;\n            }\n        });\n    }\n</code></pre>\n<p>I hope it may count for a &quot;minimum reproducible example&quot;. Anyway, you can see the project's repo <a href=\"https://github.com/NadChel/boot_security\" rel=\"nofollow noreferrer\">here</a> in case I haven't included some important details</p>\n<p><strong>UPD:</strong> I discovered that it gets null in the view:</p>\n<p><a href=\"https://i.stack.imgur.com/MT4vr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MT4vr.png\" alt=\"authorities being null as shown via Devtools\" /></a></p>\n<p>What should I make of this?</p>\n<p><strong>UPD2:</strong> You're not going to believe it! I cracked it thanks to the Sage chat bot! What worked is having this in my view:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!-- authorities is a Collection, and Collections don't have their toString() methods since they are interfaces and don't override it--&gt;\n\n&lt;input type=&quot;hidden&quot; th:name=&quot;authorities&quot;\n                   th:value=&quot;*{#strings.toString(authorities)}&quot;/&gt;\n</code></pre>\n<p>and also fixing my Formatter a bit:</p>\n<pre class=\"lang-java prettyprint-override\"><code>            @Override\n            public Set&lt;Role&gt; parse(String text, Locale locale) {\n                Set&lt;Role&gt; roleSet = new HashSet&lt;&gt;();\n                String[] roles = text.split(&quot;^\\\\[|\\\\]$|(?&lt;=\\\\]),\\\\s?&quot;);\n                for (String roleString : roles) {\n                    if (roleString.length() == 0) continue; // I didn't have an empty String check\n                    String authority =\n                            roleString.substring(roleString.lastIndexOf(&quot;=&quot;) + 2, // it used to have +1 instead of +2\n                                    roleString.indexOf(&quot;]&quot;) - 1);\n                    roleSet.add(service.getRoleByName(authority));\n                }\n                return roleSet;\n            }\n</code></pre>\n"},{"tags":["java","caching","transactions","infinispan","infinispan-9"],"answers":[{"tags":[],"owner":{"account_id":3534106,"reputation":1214,"user_id":2952847,"display_name":"pruivo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680295455,"creation_date":1680295455,"answer_id":75902617,"question_id":75890762,"body_markdown":"What is happening is that your cache is transactional and by invoking `put()` inside `beforeCompletion()`, Infinispan will try to register itself within the transaction. At this time, the transaction is preparing and modifications are not accepted. \r\n\r\nYou need to configure your cache as nontransactional by setting `&lt;transaction mode=&quot;NONE&quot;/&gt;`.\r\n\r\nIf you need your cache to be transactional, you need to suspend the transaction before invoking `put()` and then resume the transaction.","title":"Infinispan 9.4 fails by putOperation in TwoPhaseCoordinator.beforeCompletion","body":"<p>What is happening is that your cache is transactional and by invoking <code>put()</code> inside <code>beforeCompletion()</code>, Infinispan will try to register itself within the transaction. At this time, the transaction is preparing and modifications are not accepted.</p>\n<p>You need to configure your cache as nontransactional by setting <code>&lt;transaction mode=&quot;NONE&quot;/&gt;</code>.</p>\n<p>If you need your cache to be transactional, you need to suspend the transaction before invoking <code>put()</code> and then resume the transaction.</p>\n"}],"owner":{"account_id":20930003,"reputation":1,"user_id":15376594,"display_name":"Denis Abramov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680295455,"creation_date":1680193755,"question_id":75890762,"body_markdown":"I have Infinispan 9.4 and this settings in infinispan.xml:\r\n\r\n```\r\n&lt;local-cache name=&quot;localCache&quot;&gt;\r\n  &lt;locking isolation=&quot;READ_COMMITTED&quot;/&gt;\r\n  &lt;transaction mode=&quot;BATCH&quot;/&gt;\r\n  &lt;memory&gt;\r\n\t &lt;object strategy=&quot;NONE&quot;/&gt;\r\n  &lt;/memory&gt;\r\n&lt;/local-cache&gt;\r\n```\r\n\r\nand when i try to add new value in this cache in the transaction but in the beforeCompletion phase\r\n\r\n```\r\ntx.registerSynchronization(new Synchronization()\r\n{\r\n...\r\n\r\npublic void beforeCompletion()\r\n{\r\n  cache.put(CACHE_KEY, value);\r\n}\r\n\r\n...\r\n}\r\n\r\n```\r\ni got this exception:\r\n\r\n...\r\n\r\n    at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.beforeCompletion(SynchronizationImple.java:76) ~[jbossjts-4.16.6.Final.jar:?]\r\n    \tat com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:273) ~[jbossjts-4.16.6.Final.jar:?]\r\n    \tat com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:93) ~[jbossjts-4.16.6.Final.jar:?]\r\n    \tat com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:164) ~[jbossjts-4.16.6.Final.jar:?]\r\n    \tat com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1165) ~[jbossjts-4.16.6.Final.jar:?]\r\n    \tat com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:117) ~[jbossjts-4.16.6.Final.jar:?]`\r\n\r\n...\r\n\r\n    ERROR impl.InvocationContextInterceptor - ISPN000136: Error executing command PutKeyValueCommand on Cache &#39;localCache&#39;, writing keys [storage] \r\n    \r\n    java.lang.UnsupportedOperationException: null\r\n    \tat org.infinispan.commons.util.ImmutableListCopy.add(ImmutableListCopy.java:124) ~[infinispan-commons-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.transaction.impl.LocalTransaction.addModification(LocalTransaction.java:66) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.impl.TxInterceptor.lambda$handleWriteCommand$8(TxInterceptor.java:414) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndFinally(BaseAsyncInterceptor.java:165) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.impl.TxInterceptor.handleWriteCommand(TxInterceptor.java:402) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.impl.TxInterceptor.visitPutKeyValueCommand(TxInterceptor.java:235) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:73) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:56) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.impl.CacheMgmtInterceptor.updateStoreStatistics(CacheMgmtInterceptor.java:217) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.impl.CacheMgmtInterceptor.visitPutKeyValueCommand(CacheMgmtInterceptor.java:182) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:73) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:125) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:90) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:58) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.impl.BatchingInterceptor.handleDefault(BatchingInterceptor.java:69) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.impl.BatchingInterceptor.visitPutKeyValueCommand(BatchingInterceptor.java:49) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:73) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.DDAsyncInterceptor.visitCommand(DDAsyncInterceptor.java:50) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:248) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1915) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.cache.impl.CacheImpl.put(CacheImpl.java:1430) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.cache.impl.CacheImpl.put(CacheImpl.java:2040) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.cache.impl.CacheImpl.put(CacheImpl.java:230) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.cache.impl.AbstractDelegatingCache.put(AbstractDelegatingCache.java:448) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.cache.impl.EncoderCache.put(EncoderCache.java:729) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Fina\r\n\r\n\r\ni checked - if i do it without a beforeCompletion phase - it&#39;s ok. \r\n\r\nBut i need execute this in this phase - how i can fix it?\r\n","title":"Infinispan 9.4 fails by putOperation in TwoPhaseCoordinator.beforeCompletion","body":"<p>I have Infinispan 9.4 and this settings in infinispan.xml:</p>\n<pre><code>&lt;local-cache name=&quot;localCache&quot;&gt;\n  &lt;locking isolation=&quot;READ_COMMITTED&quot;/&gt;\n  &lt;transaction mode=&quot;BATCH&quot;/&gt;\n  &lt;memory&gt;\n     &lt;object strategy=&quot;NONE&quot;/&gt;\n  &lt;/memory&gt;\n&lt;/local-cache&gt;\n</code></pre>\n<p>and when i try to add new value in this cache in the transaction but in the beforeCompletion phase</p>\n<pre><code>tx.registerSynchronization(new Synchronization()\n{\n...\n\npublic void beforeCompletion()\n{\n  cache.put(CACHE_KEY, value);\n}\n\n...\n}\n\n</code></pre>\n<p>i got this exception:</p>\n<p>...</p>\n<pre><code>at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.beforeCompletion(SynchronizationImple.java:76) ~[jbossjts-4.16.6.Final.jar:?]\n    at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:273) ~[jbossjts-4.16.6.Final.jar:?]\n    at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:93) ~[jbossjts-4.16.6.Final.jar:?]\n    at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:164) ~[jbossjts-4.16.6.Final.jar:?]\n    at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1165) ~[jbossjts-4.16.6.Final.jar:?]\n    at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:117) ~[jbossjts-4.16.6.Final.jar:?]`\n</code></pre>\n<p>...</p>\n<pre><code>ERROR impl.InvocationContextInterceptor - ISPN000136: Error executing command PutKeyValueCommand on Cache 'localCache', writing keys [storage] \n\njava.lang.UnsupportedOperationException: null\n    at org.infinispan.commons.util.ImmutableListCopy.add(ImmutableListCopy.java:124) ~[infinispan-commons-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.transaction.impl.LocalTransaction.addModification(LocalTransaction.java:66) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.impl.TxInterceptor.lambda$handleWriteCommand$8(TxInterceptor.java:414) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndFinally(BaseAsyncInterceptor.java:165) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.impl.TxInterceptor.handleWriteCommand(TxInterceptor.java:402) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.impl.TxInterceptor.visitPutKeyValueCommand(TxInterceptor.java:235) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:73) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:56) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.impl.CacheMgmtInterceptor.updateStoreStatistics(CacheMgmtInterceptor.java:217) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.impl.CacheMgmtInterceptor.visitPutKeyValueCommand(CacheMgmtInterceptor.java:182) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:73) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:125) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:90) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:58) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.impl.BatchingInterceptor.handleDefault(BatchingInterceptor.java:69) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.impl.BatchingInterceptor.visitPutKeyValueCommand(BatchingInterceptor.java:49) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:73) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.DDAsyncInterceptor.visitCommand(DDAsyncInterceptor.java:50) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:248) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1915) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.cache.impl.CacheImpl.put(CacheImpl.java:1430) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.cache.impl.CacheImpl.put(CacheImpl.java:2040) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.cache.impl.CacheImpl.put(CacheImpl.java:230) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.cache.impl.AbstractDelegatingCache.put(AbstractDelegatingCache.java:448) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.cache.impl.EncoderCache.put(EncoderCache.java:729) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Fina\n</code></pre>\n<p>i checked - if i do it without a beforeCompletion phase - it's ok.</p>\n<p>But i need execute this in this phase - how i can fix it?</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":2,"creation_date":1680298599,"post_id":75902547,"comment_id":133880831,"body_markdown":"I&#39;m not sure you quite have enough information here, but from what you have posted, it looks like you are trying to mock out the class being tested. That won&#39;t help you, as it basically replaces the code you are trying to test with mock functionality. Instead, you mock out the dependencies of the class: i.e. the other classes that it uses.","body":"I&#39;m not sure you quite have enough information here, but from what you have posted, it looks like you are trying to mock out the class being tested. That won&#39;t help you, as it basically replaces the code you are trying to test with mock functionality. Instead, you mock out the dependencies of the class: i.e. the other classes that it uses."}],"owner":{"account_id":24842062,"reputation":11,"user_id":18719954,"display_name":"AlbersB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680294708,"creation_date":1680294708,"question_id":75902547,"body_markdown":"I am trying to write a JUnit test case for a method whose job is to change a single entry in a block of information. We don&#39;t have a lot of JUnit tests here for me to look at as examples and I myself don&#39;t have much experience with JUnit. I am doing a when().thenReturn method call but noticed that I am only getting back a nullException. I can&#39;t finish testing the method when that is thrown.\r\n\r\nI will be using semi pseudo code for my example but all code in the program is written in Java 8. I currently have 2 when().thenReturn() calls: \r\n```\r\nwhen(Class.readInfo(any(), anyString(), any())).thenReturn(INFO);\r\nwhen(Class.getInformation(anyString())).thenReturn(INFORMATION);\r\n```\r\nThe first when call is to a method call inside the method being referenced in the second when. It looks something like this:\r\n\r\n```\r\ngetInformation(final String){\r\n try{\r\n   Database call;\r\n   OpenConnection();\r\n\r\n   final Information info = readInfo(connection, String, Enum); &lt;---returns a nullException\r\n\r\n   return info;\r\n } catch(Exception e){\r\n   e.printStack();\r\n } finally {\r\n   CloseConnection();\r\n }\r\n return null;\r\n}\r\n```\r\n\r\nThe method readInfo call is to a method in an Interface located in our .gradle file. Do I need to try to mock the insides of that Interface as well? I&#39;ve tried Googling this but Google thinks I&#39;m asking about making a mock that WILL throw an Exception while I&#39;m trying to stop it from doing so. I have heard about using Spy but a senior developer/ kinda manager told me not to use Spy. Also in similar questions I see something that looks like a solution using EasyMock but I don&#39;t have access to that I am not allowed to add more dependencies.","title":"How far do I need to go with my Mockito.when().thenReturn()?","body":"<p>I am trying to write a JUnit test case for a method whose job is to change a single entry in a block of information. We don't have a lot of JUnit tests here for me to look at as examples and I myself don't have much experience with JUnit. I am doing a when().thenReturn method call but noticed that I am only getting back a nullException. I can't finish testing the method when that is thrown.</p>\n<p>I will be using semi pseudo code for my example but all code in the program is written in Java 8. I currently have 2 when().thenReturn() calls:</p>\n<pre><code>when(Class.readInfo(any(), anyString(), any())).thenReturn(INFO);\nwhen(Class.getInformation(anyString())).thenReturn(INFORMATION);\n</code></pre>\n<p>The first when call is to a method call inside the method being referenced in the second when. It looks something like this:</p>\n<pre><code>getInformation(final String){\n try{\n   Database call;\n   OpenConnection();\n\n   final Information info = readInfo(connection, String, Enum); &lt;---returns a nullException\n\n   return info;\n } catch(Exception e){\n   e.printStack();\n } finally {\n   CloseConnection();\n }\n return null;\n}\n</code></pre>\n<p>The method readInfo call is to a method in an Interface located in our .gradle file. Do I need to try to mock the insides of that Interface as well? I've tried Googling this but Google thinks I'm asking about making a mock that WILL throw an Exception while I'm trying to stop it from doing so. I have heard about using Spy but a senior developer/ kinda manager told me not to use Spy. Also in similar questions I see something that looks like a solution using EasyMock but I don't have access to that I am not allowed to add more dependencies.</p>\n"},{"tags":["java","serialization","netbeans","jframe","deserialization"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680294034,"post_id":75901850,"comment_id":133880056,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":28130890,"reputation":11,"user_id":21495460,"display_name":"csofi"},"score":0,"creation_date":1680294402,"post_id":75901850,"comment_id":133880115,"body_markdown":"I fixed the post so there is only the important code. This program is already made from scratch just for the post. I hope this helps!","body":"I fixed the post so there is only the important code. This program is already made from scratch just for the post. I hope this helps!"}],"answers":[{"comments":[{"owner":{"account_id":28130890,"reputation":11,"user_id":21495460,"display_name":"csofi"},"score":0,"creation_date":1680294742,"post_id":75902516,"comment_id":133880176,"body_markdown":"thank you, I will research JPA!","body":"thank you, I will research JPA!"}],"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680294437,"creation_date":1680294437,"answer_id":75902516,"question_id":75901850,"body_markdown":"You are not, according to your question, serializing the objects but &quot;the list&quot;.\r\n\r\nAs such, you have to re-write (serialize) the entire List with every change.\r\n\r\nJava serialization is a known problem regarding long term storage (versioning) and de-serialization security attacks against the class loader.\r\n\r\nConsider using JPA and some kind of database, there are also &quot;in memory&quot; and &quot;local&quot; DBs that are great for learning data storage and retrieval.","title":"Serializing an object in an arrayList that is modified while a program is running","body":"<p>You are not, according to your question, serializing the objects but &quot;the list&quot;.</p>\n<p>As such, you have to re-write (serialize) the entire List with every change.</p>\n<p>Java serialization is a known problem regarding long term storage (versioning) and de-serialization security attacks against the class loader.</p>\n<p>Consider using JPA and some kind of database, there are also &quot;in memory&quot; and &quot;local&quot; DBs that are great for learning data storage and retrieval.</p>\n"}],"owner":{"account_id":28130890,"reputation":11,"user_id":21495460,"display_name":"csofi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75902516,"answer_count":1,"score":0,"last_activity_date":1680294437,"creation_date":1680288720,"question_id":75901850,"body_markdown":"I am new to Java, and I am learning about serialization and deserialization. I made a little expirement program to help me learn it and get the hang of it. I am trying to save the data of an arrayList so I don&#39;t have to make a complete new one with no info in it every time I run the program.\r\n\r\nIf I were to modify an arrayList while a program was running by adding or deleting from the arrayList, would I have to reserialize the WHOLE arrayList? Or would there be a way to just simply serialize the object that is apart of the list?\r\n\r\nHere is my little demo project if you need it:\r\n\r\n\r\nButtons and their actions\r\n\r\nAdding Instructions\r\n```\r\nprivate void btnAddActionPerformed(java.awt.event.ActionEvent evt) {                                       \r\n        JobTypeTxt.setText(&quot;&quot;);\r\n        salaryTxt.setText(&quot;&quot;);\r\n        companyTxt.setText(&quot;&quot;);\r\n        \r\n        JobTypeTxt.setEditable(true);\r\n        salaryTxt.setEditable(true);\r\n        companyTxt.setEditable(true);\r\n        InstructionsTxt.setText(&quot;The textfields above have now become editable. Type in your new job&#39;s type, salary, and company, and then click save to add it to the list.&quot;);\r\n}                                      \r\n```\r\n\r\nDeleting items from the arrayList\r\n```\r\n    private void btnDeleteActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n        if(jobList.getSelectedValue() == null) {\r\n            InstructionsTxt.setText(&quot;Make sure you select an object in the list that you want to delete.&quot;);\r\n        } else {\r\n            Data.getJobs().remove(jobList.getSelectedIndex());\r\n            \r\n            JobTypeTxt.setText(&quot;&quot;);\r\n            salaryTxt.setText(&quot;&quot;);\r\n            companyTxt.setText(&quot;&quot;);\r\n            jobList.revalidate();\r\n            jobList.repaint();\r\n        } \r\n    }                                         \r\n```\r\n\r\nSaving and actually adding the item to the arrayList\r\n```\r\n    private void btnSaveActionPerformed(java.awt.event.ActionEvent evt) {                                        \r\n        try{\r\n            double salary = Double.parseDouble(salaryTxt.getText().trim());\r\n            \r\n            Job job = new Job(JobTypeTxt.getText().trim(), salary, companyTxt.getText().trim());\r\n            Data.getJobs().add(job);\r\n            \r\n            \r\n            JobTypeTxt.setEditable(false);\r\n            salaryTxt.setEditable(false);\r\n            companyTxt.setEditable(false);\r\n            \r\n            InstructionsTxt.setText(&quot;&quot;);\r\n        } catch(NumberFormatException e) {\r\n            InstructionsTxt.setText(&quot;The salary must be a valid decimal!&quot;);\r\n        }\r\n        \r\n        jobList.revalidate();\r\n        jobList.repaint();\r\n    }                                       \r\n```\r\n\r\nVariable Declaration\r\n```\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JTextArea InstructionsTxt;\r\n    private javax.swing.JTextField JobTypeTxt;\r\n    private javax.swing.JButton btnAdd;\r\n    private javax.swing.JButton btnDelete;\r\n    private javax.swing.JButton btnSave;\r\n    private javax.swing.JTextField companyTxt;\r\n    private javax.swing.JScrollPane jScrollPane;\r\n    private javax.swing.JScrollPane jScrollPane1;\r\n    private javax.swing.JList&lt;String&gt; jobList;\r\n    private javax.swing.JLabel lblCompany;\r\n    private javax.swing.JLabel lblJobType;\r\n    private javax.swing.JLabel lblSalary;\r\n    private javax.swing.JTextField salaryTxt;\r\n    // End of variables declaration                   \r\n}\r\n```\r\n\r\nClass Job\r\n\r\n```\r\n\r\npackage deserialization.and.serialization;\r\n\r\n\r\npublic class Job {\r\n    private String type;\r\n    private double salaryPerHr;\r\n    private String company;\r\n    \r\n    public Job(String type, double salary, String company) {\r\n        this.type = type;\r\n        salaryPerHr = salary;\r\n        this.company = company;\r\n    }\r\n    \r\n    public String getType() {\r\n        return type;\r\n    }\r\n    \r\n    public void setType(String type) {\r\n        this.type = type;\r\n    }\r\n    \r\n    public double getSalary() {\r\n        return salaryPerHr;\r\n    }\r\n    \r\n    public void setSalary(double salary) {\r\n        salaryPerHr = salary;\r\n    }\r\n    \r\n    public String getCompany() {\r\n        return company;\r\n    }\r\n    \r\n    public void setCompany(String company) {\r\n        this.company = company;\r\n    }\r\n}\r\n```\r\n\r\nClass Data\r\n\r\n```\r\npackage deserialization.and.serialization;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class Data {\r\n    private static ArrayList&lt;Job&gt; jobs = new ArrayList&lt;Job&gt;();\r\n    \r\n    public static ArrayList&lt;Job&gt; getJobs() {\r\n        return jobs;\r\n    }\r\n    \r\n    public static void setJobs(ArrayList&lt;Job&gt; allJobs) {\r\n        jobs = allJobs;\r\n    }\r\n}\r\n```\r\n\r\nHow the GUI looks\r\n\r\n[GUI](https://i.stack.imgur.com/OKn1C.png)\r\n\r\nThank you for any help whatsoever :)","title":"Serializing an object in an arrayList that is modified while a program is running","body":"<p>I am new to Java, and I am learning about serialization and deserialization. I made a little expirement program to help me learn it and get the hang of it. I am trying to save the data of an arrayList so I don't have to make a complete new one with no info in it every time I run the program.</p>\n<p>If I were to modify an arrayList while a program was running by adding or deleting from the arrayList, would I have to reserialize the WHOLE arrayList? Or would there be a way to just simply serialize the object that is apart of the list?</p>\n<p>Here is my little demo project if you need it:</p>\n<p>Buttons and their actions</p>\n<p>Adding Instructions</p>\n<pre><code>private void btnAddActionPerformed(java.awt.event.ActionEvent evt) {                                       \n        JobTypeTxt.setText(&quot;&quot;);\n        salaryTxt.setText(&quot;&quot;);\n        companyTxt.setText(&quot;&quot;);\n        \n        JobTypeTxt.setEditable(true);\n        salaryTxt.setEditable(true);\n        companyTxt.setEditable(true);\n        InstructionsTxt.setText(&quot;The textfields above have now become editable. Type in your new job's type, salary, and company, and then click save to add it to the list.&quot;);\n}                                      \n</code></pre>\n<p>Deleting items from the arrayList</p>\n<pre><code>    private void btnDeleteActionPerformed(java.awt.event.ActionEvent evt) {                                          \n        if(jobList.getSelectedValue() == null) {\n            InstructionsTxt.setText(&quot;Make sure you select an object in the list that you want to delete.&quot;);\n        } else {\n            Data.getJobs().remove(jobList.getSelectedIndex());\n            \n            JobTypeTxt.setText(&quot;&quot;);\n            salaryTxt.setText(&quot;&quot;);\n            companyTxt.setText(&quot;&quot;);\n            jobList.revalidate();\n            jobList.repaint();\n        } \n    }                                         \n</code></pre>\n<p>Saving and actually adding the item to the arrayList</p>\n<pre><code>    private void btnSaveActionPerformed(java.awt.event.ActionEvent evt) {                                        \n        try{\n            double salary = Double.parseDouble(salaryTxt.getText().trim());\n            \n            Job job = new Job(JobTypeTxt.getText().trim(), salary, companyTxt.getText().trim());\n            Data.getJobs().add(job);\n            \n            \n            JobTypeTxt.setEditable(false);\n            salaryTxt.setEditable(false);\n            companyTxt.setEditable(false);\n            \n            InstructionsTxt.setText(&quot;&quot;);\n        } catch(NumberFormatException e) {\n            InstructionsTxt.setText(&quot;The salary must be a valid decimal!&quot;);\n        }\n        \n        jobList.revalidate();\n        jobList.repaint();\n    }                                       \n</code></pre>\n<p>Variable Declaration</p>\n<pre><code>    // Variables declaration - do not modify                     \n    private javax.swing.JTextArea InstructionsTxt;\n    private javax.swing.JTextField JobTypeTxt;\n    private javax.swing.JButton btnAdd;\n    private javax.swing.JButton btnDelete;\n    private javax.swing.JButton btnSave;\n    private javax.swing.JTextField companyTxt;\n    private javax.swing.JScrollPane jScrollPane;\n    private javax.swing.JScrollPane jScrollPane1;\n    private javax.swing.JList&lt;String&gt; jobList;\n    private javax.swing.JLabel lblCompany;\n    private javax.swing.JLabel lblJobType;\n    private javax.swing.JLabel lblSalary;\n    private javax.swing.JTextField salaryTxt;\n    // End of variables declaration                   \n}\n</code></pre>\n<p>Class Job</p>\n<pre><code>\npackage deserialization.and.serialization;\n\n\npublic class Job {\n    private String type;\n    private double salaryPerHr;\n    private String company;\n    \n    public Job(String type, double salary, String company) {\n        this.type = type;\n        salaryPerHr = salary;\n        this.company = company;\n    }\n    \n    public String getType() {\n        return type;\n    }\n    \n    public void setType(String type) {\n        this.type = type;\n    }\n    \n    public double getSalary() {\n        return salaryPerHr;\n    }\n    \n    public void setSalary(double salary) {\n        salaryPerHr = salary;\n    }\n    \n    public String getCompany() {\n        return company;\n    }\n    \n    public void setCompany(String company) {\n        this.company = company;\n    }\n}\n</code></pre>\n<p>Class Data</p>\n<pre><code>package deserialization.and.serialization;\n\nimport java.util.ArrayList;\n\npublic class Data {\n    private static ArrayList&lt;Job&gt; jobs = new ArrayList&lt;Job&gt;();\n    \n    public static ArrayList&lt;Job&gt; getJobs() {\n        return jobs;\n    }\n    \n    public static void setJobs(ArrayList&lt;Job&gt; allJobs) {\n        jobs = allJobs;\n    }\n}\n</code></pre>\n<p>How the GUI looks</p>\n<p><a href=\"https://i.stack.imgur.com/OKn1C.png\" rel=\"nofollow noreferrer\">GUI</a></p>\n<p>Thank you for any help whatsoever :)</p>\n"},{"tags":["java","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":22980869,"reputation":33,"user_id":17107814,"display_name":"do hai"},"score":0,"creation_date":1680330292,"post_id":75899670,"comment_id":133883616,"body_markdown":"I added &quot;private HttpServletRequest request&quot; but it still doesn&#39;t work.","body":"I added &quot;private HttpServletRequest request&quot; but it still doesn&#39;t work."}],"tags":[],"owner":{"account_id":1668696,"reputation":471,"user_id":1535592,"accept_rate":79,"display_name":"Dedyshka"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680272763,"creation_date":1680272763,"answer_id":75899670,"question_id":75899575,"body_markdown":"Note that to be able to inject the HttpSession object directly into Controller method, as shown in your example - this will work as long as the HttpServletRequest object has already been injected into the Controller.\r\n\r\n    @Controller \r\n    @RequestMapping(&quot;/&quot;) \r\n    public class HomeController {\r\n\r\n        @Autowired\r\n        private HttpServletRequest request;\r\n    \r\n        @GetMapping\r\n        @Transactional\r\n        public String Default(@SessionAttribute(&quot;email&quot;) String email,ModelMap modelMap,HttpSession httpSession) {\r\n            if(httpSession.getAttribute(&quot;email&quot;) != null) {\r\n                String email =(String) httpSession.getAttribute(&quot;email&quot;);\r\n                String chacracter = email.substring(0, 1);\r\n                modelMap.addAttribute(&quot;chacracter &quot;, chacracter );\r\n            }\r\n            return &quot;home&quot;;\r\n        }\r\n    }","title":"Error creating bean with name &#39;HomeController&#39;: Lookup method resolution failed","body":"<p>Note that to be able to inject the HttpSession object directly into Controller method, as shown in your example - this will work as long as the HttpServletRequest object has already been injected into the Controller.</p>\n<pre><code>@Controller \n@RequestMapping(&quot;/&quot;) \npublic class HomeController {\n\n    @Autowired\n    private HttpServletRequest request;\n\n    @GetMapping\n    @Transactional\n    public String Default(@SessionAttribute(&quot;email&quot;) String email,ModelMap modelMap,HttpSession httpSession) {\n        if(httpSession.getAttribute(&quot;email&quot;) != null) {\n            String email =(String) httpSession.getAttribute(&quot;email&quot;);\n            String chacracter = email.substring(0, 1);\n            modelMap.addAttribute(&quot;chacracter &quot;, chacracter );\n        }\n        return &quot;home&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22980869,"reputation":33,"user_id":17107814,"display_name":"do hai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680294411,"creation_date":1680272163,"question_id":75899575,"body_markdown":"I have some problems when trying to use `@HttpSession` in Spring MVC Controller. I want to cut the first letter of an email from login page to home page with session. To avoid session being null when loading first home page when loaded I used `if` condition but it gives this error:\r\n\r\n&gt; Error creating bean with name &#39;HomeController&#39;: Lookup method resolution failed\r\n\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/&quot;)\r\npublic class HomeController {\r\n\t@GetMapping\r\n\t@Transactional\r\n\tpublic String Default(@SessionAttribute(&quot;email&quot;) String email,ModelMap modelMap,HttpSession httpSession) {\r\n\t\tif(httpSession.getAttribute(&quot;email&quot;) != null) {\r\n\t\t\tString email =(String) httpSession.getAttribute(&quot;email&quot;);\r\n\t\t\tString chacracter = email.substring(0, 1);\r\n\t\t\tmodelMap.addAttribute(&quot;chacracter &quot;, chacracter );\r\n\t\t}\r\n\t\treturn &quot;home&quot;;\r\n\t}\r\n}\r\n```\r\n","title":"Error creating bean with name &#39;HomeController&#39;: Lookup method resolution failed","body":"<p>I have some problems when trying to use <code>@HttpSession</code> in Spring MVC Controller. I want to cut the first letter of an email from login page to home page with session. To avoid session being null when loading first home page when loaded I used <code>if</code> condition but it gives this error:</p>\n<blockquote>\n<p>Error creating bean with name 'HomeController': Lookup method resolution failed</p>\n</blockquote>\n<pre><code>@Controller\n@RequestMapping(&quot;/&quot;)\npublic class HomeController {\n    @GetMapping\n    @Transactional\n    public String Default(@SessionAttribute(&quot;email&quot;) String email,ModelMap modelMap,HttpSession httpSession) {\n        if(httpSession.getAttribute(&quot;email&quot;) != null) {\n            String email =(String) httpSession.getAttribute(&quot;email&quot;);\n            String chacracter = email.substring(0, 1);\n            modelMap.addAttribute(&quot;chacracter &quot;, chacracter );\n        }\n        return &quot;home&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","oop","while-loop","menu","java.util.scanner"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680309043,"post_id":75902409,"comment_id":133882086,"body_markdown":"Do answers to this question help?  https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo","body":"Do answers to this question help?  <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\" title=\"scanner is skipping nextline after using next or nextfoo\">stackoverflow.com/questions/13102045/&hellip;</a>"}],"owner":{"account_id":28182094,"reputation":1,"user_id":21538940,"display_name":"Nathan Allie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680294106,"creation_date":1680293418,"question_id":75902409,"body_markdown":"I&#39;m making a basic menu for what is meant to be a pet store, in the program I&#39;m writing, you can own multiple pets and buy them from this store. I run this menu on the command line and attempt to get user input using `scan.nextInt()`, what happens is the menu repeats a second time, but then typing anything in on the second loop seems to do nothing and the program proceeds. Internet searches suggested I need to clear the scanner using a `scan.nextLine()` but that doesn&#39;t seem to fix it either. If you need more code tell me but this should be sufficient, I&#39;m newer to programming so be gentle\r\n\r\n\r\n```\r\n\r\n\tpublic Pet showMenu()\r\n\t{\r\n\r\n\t\t\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tint result = 10;\r\n\t\t\t\r\n\t\twhile(true)\r\n\t\t{\r\n\r\n\t\t\tSystem.out.println(&quot;Welcome to the pet store: &quot;);\r\n\t\t\tSystem.out.println(&quot;Please pick a pet &quot;);\r\n\t\t\tfor (int i = 0; i &lt; availablePets.size(); i++)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(i + &quot;)&quot;);\r\n\t\t\t\tavailablePets.get(i).printStats();\r\n\t\t\t\tSystem.out.println();\r\n\r\n\t\t\t}//End for\r\n\t\t\ttry\r\n\t\t\t{\r\n\r\n\t\t\t\tSystem.out.println(&quot;Which pet would you like? (Type any other number to quit)&quot;);\r\n\t\t\t\tresult = scan.nextInt(); \r\n\t\t\t\tscan.nextLine();\t\r\n\t\t\t\tif (result &gt;= 0 &amp;&amp; result &lt;= 3)\r\n\t\t\t\t{\r\n\t\t\r\n\t\t\t\t\tPet tempPet = availablePets.get(result);\r\n\t\t\t\t\tavailablePets.remove(result);\r\n\t\t\t\t\treturn tempPet;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\r\n\t\t\t\r\n\t\t\t\t\tPet quitObj = new Pet(&quot;Quit&quot;);\r\n\t\t\t\t\treturn quitObj;\t\t\r\n\t\t\t\t\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tcatch (Exception e)\r\n\t\t\t{\r\n\r\n\t\t\t\tSystem.out.println(e.getMessage());\r\n\r\n\t\t\t}\r\n\t\t}\r\n      }\r\n```\r\n\r\n\r\n[Output](https://i.stack.imgur.com/u2BnZ.jpg)","title":"How to properly clear a scanner to prevent the input from looping an extra time?","body":"<p>I'm making a basic menu for what is meant to be a pet store, in the program I'm writing, you can own multiple pets and buy them from this store. I run this menu on the command line and attempt to get user input using <code>scan.nextInt()</code>, what happens is the menu repeats a second time, but then typing anything in on the second loop seems to do nothing and the program proceeds. Internet searches suggested I need to clear the scanner using a <code>scan.nextLine()</code> but that doesn't seem to fix it either. If you need more code tell me but this should be sufficient, I'm newer to programming so be gentle</p>\n<pre><code>\n    public Pet showMenu()\n    {\n\n        \n        Scanner scan = new Scanner(System.in);\n        int result = 10;\n            \n        while(true)\n        {\n\n            System.out.println(&quot;Welcome to the pet store: &quot;);\n            System.out.println(&quot;Please pick a pet &quot;);\n            for (int i = 0; i &lt; availablePets.size(); i++)\n            {\n                System.out.println(i + &quot;)&quot;);\n                availablePets.get(i).printStats();\n                System.out.println();\n\n            }//End for\n            try\n            {\n\n                System.out.println(&quot;Which pet would you like? (Type any other number to quit)&quot;);\n                result = scan.nextInt(); \n                scan.nextLine();    \n                if (result &gt;= 0 &amp;&amp; result &lt;= 3)\n                {\n        \n                    Pet tempPet = availablePets.get(result);\n                    availablePets.remove(result);\n                    return tempPet;\n                }\n                else\n                {\n\n            \n                    Pet quitObj = new Pet(&quot;Quit&quot;);\n                    return quitObj;     \n                \n\n                }\n\n            }\n            catch (Exception e)\n            {\n\n                System.out.println(e.getMessage());\n\n            }\n        }\n      }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/u2BnZ.jpg\" rel=\"nofollow noreferrer\">Output</a></p>\n"},{"tags":["java","antlr","programming-languages","continuation-passing"],"comments":[{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":0,"creation_date":1680297034,"post_id":75901999,"comment_id":133880603,"body_markdown":"You could make a private version of the tool templates to generate what you want.","body":"You could make a private version of the tool templates to generate what you want."},{"owner":{"account_id":22571790,"reputation":140,"user_id":16757869,"display_name":"Plegeus"},"score":0,"creation_date":1680302097,"post_id":75901999,"comment_id":133881325,"body_markdown":"I don’t think I get what you mean, could you elaborate please?","body":"I don’t think I get what you mean, could you elaborate please?"},{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":0,"creation_date":1680305208,"post_id":75901999,"comment_id":133881727,"body_markdown":"Modify [this code](https://github.com/antlr/antlr4/blob/master/tool/resources/org/antlr/v4/tool/templates/codegen/CSharp/CSharp.stg) then follow the build procedure [here](https://github.com/antlr/antlr4/blob/master/doc/building-antlr.md). You will have a jar to generate your parser code with CPS. Use &quot;find&quot; to find the jar.","body":"Modify <a href=\"https://github.com/antlr/antlr4/blob/master/tool/resources/org/antlr/v4/tool/templates/codegen/CSharp/CSharp.stg\" rel=\"nofollow noreferrer\">this code</a> then follow the build procedure <a href=\"https://github.com/antlr/antlr4/blob/master/doc/building-antlr.md\" rel=\"nofollow noreferrer\">here</a>. You will have a jar to generate your parser code with CPS. Use &quot;find&quot; to find the jar."},{"owner":{"account_id":22571790,"reputation":140,"user_id":16757869,"display_name":"Plegeus"},"score":0,"creation_date":1680335236,"post_id":75901999,"comment_id":133884035,"body_markdown":"That seems like a big hastle, I think it might be simpler to just write one eval procedure to dispatch on the context if you get what I mean.","body":"That seems like a big hastle, I think it might be simpler to just write one eval procedure to dispatch on the context if you get what I mean."}],"answers":[{"comments":[{"owner":{"account_id":22571790,"reputation":140,"user_id":16757869,"display_name":"Plegeus"},"score":0,"creation_date":1680335059,"post_id":75902404,"comment_id":133884011,"body_markdown":"Any suggestions for the cps part?","body":"Any suggestions for the cps part?"},{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1680351849,"post_id":75902404,"comment_id":133885898,"body_markdown":"What do you mean by &quot;cps part&quot;?","body":"What do you mean by &quot;cps part&quot;?"}],"tags":[],"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680293380,"creation_date":1680293380,"answer_id":75902404,"question_id":75901999,"body_markdown":"&gt; ow can I add additional parameters to the visit methods\r\n\r\nYou cannot add any parameters to `enter...`, `exit...` or `visit...` methods.","title":"Antlr adding additional parameters to visit methods, accommodations for continuation passing style","body":"<blockquote>\n<p>ow can I add additional parameters to the visit methods</p>\n</blockquote>\n<p>You cannot add any parameters to <code>enter...</code>, <code>exit...</code> or <code>visit...</code> methods.</p>\n"}],"owner":{"account_id":22571790,"reputation":140,"user_id":16757869,"display_name":"Plegeus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680293380,"creation_date":1680289992,"question_id":75901999,"body_markdown":"I am trying to do continuation passing style for a simple programming language made with antlr. Typically you would have an eval procedure that takes as arguments the expression to be evaluated as well as the continuation of that expression. I guess it would be quite elegant to add an additional continuation parameter to the visitor&#39;s visit methods (or for the listener).\r\n\r\nHowever, when I generate the parser code with the antlr jar, the visit methods only take one parameter, namely the context (i.e., the tree).\r\n\r\nSo my question is, how can I add additional parameters to the visit methods such that I get this:\r\n\r\n\t/**\r\n\t * {@inheritDoc}\r\n\t *\r\n\t * &lt;p&gt;The default implementation does nothing.&lt;/p&gt;\r\n\t */\r\n\t@Override public void enterStart(Parser.StartContext ctx, Continuation cnt) { }\r\n\r\nInstead of the currently auto generated code:\r\n\r\n\t/**\r\n\t * {@inheritDoc}\r\n\t *\r\n\t * &lt;p&gt;The default implementation does nothing.&lt;/p&gt;\r\n\t */\r\n\t@Override public void enterStart(Parser.StartContext ctx) { }\r\n\r\nIf it is not possible to add additional parameters to the visitor&#39;s visit methods, how would one accommodate the **continuation passing style** in antlr?\r\n\r\nThanks a lot!","title":"Antlr adding additional parameters to visit methods, accommodations for continuation passing style","body":"<p>I am trying to do continuation passing style for a simple programming language made with antlr. Typically you would have an eval procedure that takes as arguments the expression to be evaluated as well as the continuation of that expression. I guess it would be quite elegant to add an additional continuation parameter to the visitor's visit methods (or for the listener).</p>\n<p>However, when I generate the parser code with the antlr jar, the visit methods only take one parameter, namely the context (i.e., the tree).</p>\n<p>So my question is, how can I add additional parameters to the visit methods such that I get this:</p>\n<pre><code>/**\n * {@inheritDoc}\n *\n * &lt;p&gt;The default implementation does nothing.&lt;/p&gt;\n */\n@Override public void enterStart(Parser.StartContext ctx, Continuation cnt) { }\n</code></pre>\n<p>Instead of the currently auto generated code:</p>\n<pre><code>/**\n * {@inheritDoc}\n *\n * &lt;p&gt;The default implementation does nothing.&lt;/p&gt;\n */\n@Override public void enterStart(Parser.StartContext ctx) { }\n</code></pre>\n<p>If it is not possible to add additional parameters to the visitor's visit methods, how would one accommodate the <strong>continuation passing style</strong> in antlr?</p>\n<p>Thanks a lot!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":407811,"reputation":516,"user_id":778096,"display_name":"skw"},"score":1,"creation_date":1508148255,"post_id":46767528,"comment_id":80480573,"body_markdown":"Add the code in your question and not as links.","body":"Add the code in your question and not as links."},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1508152594,"post_id":46767528,"comment_id":80483189,"body_markdown":"`public void setPrice(int price) {\n   itemPrice = 0; /* HERE you should probably use &quot;price&quot; */\n   return;\n} \n` I don&#39;t see why you are surprised by your 0","body":"<code>public void setPrice(int price) {    itemPrice = 0; &#47;* HERE you should probably use &quot;price&quot; *&#47;    return; }  </code> I don&#39;t see why you are surprised by your 0"}],"answers":[{"tags":[],"owner":{"account_id":407811,"reputation":516,"user_id":778096,"display_name":"skw"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508154009,"creation_date":1508152972,"answer_id":46769162,"question_id":46767528,"body_markdown":"The problem is in your `setters`. You are assigning 0 (zero) to the items.\r\n\r\n    itemPrice = 0;\r\n\r\nand \r\n\r\n    itemQuantity = 0;\r\n\r\nThis can be fixed by doing something like:\r\n\r\n    itemPrice = price;\r\n\r\nand \r\n\r\n    itemQuantity = quantity;\r\n\r\nAlso, you do not need the `return` statements at the end of each method that has a `void` return type, especially in the `ItemToPurchase()` constructor. You can safely remove them.\r\n","title":"Online shopping cart java","body":"<p>The problem is in your <code>setters</code>. You are assigning 0 (zero) to the items.</p>\n\n<pre><code>itemPrice = 0;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>itemQuantity = 0;\n</code></pre>\n\n<p>This can be fixed by doing something like:</p>\n\n<pre><code>itemPrice = price;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>itemQuantity = quantity;\n</code></pre>\n\n<p>Also, you do not need the <code>return</code> statements at the end of each method that has a <code>void</code> return type, especially in the <code>ItemToPurchase()</code> constructor. You can safely remove them.</p>\n"},{"tags":[],"owner":{"account_id":20751908,"reputation":11,"user_id":15239220,"display_name":"rerun"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613694893,"creation_date":1613694893,"answer_id":66270191,"question_id":46767528,"body_markdown":"The zybooks assignment applies the setters automatically, it is not by choice. there is only certain parts of code that can be edited. I am currently working on this project and have been running into problems as well. Just wanted to clarify its not the coders fault they are set to 0","title":"Online shopping cart java","body":"<p>The zybooks assignment applies the setters automatically, it is not by choice. there is only certain parts of code that can be edited. I am currently working on this project and have been running into problems as well. Just wanted to clarify its not the coders fault they are set to 0</p>\n"},{"tags":[],"owner":{"account_id":24147540,"reputation":1,"user_id":18112874,"display_name":"pamas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644037100,"creation_date":1643914398,"answer_id":70976761,"question_id":46767528,"body_markdown":"@skw is correct, the mutator methods should not be set to 0:\r\n\r\n    public void setPrice(int price) {\r\n        itemPrice = price;\r\n    }\r\n\r\n    public void setQuantity (int quantity) {\r\n        itemQuantity = quantity;\r\n    }\r\n\r\nAlso, note that the set method is void so you don&#39;t need a return statement in the end, just change the price of the variable and you are done!","title":"Online shopping cart java","body":"<p>@skw is correct, the mutator methods should not be set to 0:</p>\n<pre><code>public void setPrice(int price) {\n    itemPrice = price;\n}\n\npublic void setQuantity (int quantity) {\n    itemQuantity = quantity;\n}\n</code></pre>\n<p>Also, note that the set method is void so you don't need a return statement in the end, just change the price of the variable and you are done!</p>\n"},{"tags":[],"owner":{"account_id":25121422,"reputation":11,"user_id":18969715,"display_name":"rmazur7831"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680292231,"creation_date":1680292231,"answer_id":75902282,"question_id":46767528,"body_markdown":"I was able to complete this lab and It was really difficult but here is the code that works.\r\n\r\nfor the shopping cart printer:\r\n\r\n    import java.util.Scanner;\r\n          public class ShoppingCartPrinter {\r\n    \r\n          public static void main(String[] args) {\r\n    \r\n             Scanner scnr = new Scanner(System.in);\r\n    \r\n             int i = 0;\r\n             String itemName;\r\n             int itemPrice = 0;\r\n             int itemQuantity = 0;\r\n             int cartTotal = 0;\r\n             \r\n             ItemToPurchase item1 = new ItemToPurchase();\r\n             ItemToPurchase item2 = new ItemToPurchase();\r\n    \r\n    // Get item 1 details from user, create itemToPurchase object\r\n    \r\n             System.out.println(&quot;Item 1&quot;);\r\n    \r\n             System.out.println(&quot;Enter the item name: &quot;);\r\n             itemName = scnr.nextLine();\r\n             item1.setName(itemName);\r\n    \r\n             System.out.println(&quot;Enter the item price: &quot;);\r\n             itemPrice = scnr.nextInt();\r\n             item1.setPrice(itemPrice);\r\n    \r\n             System.out.println(&quot;Enter the item quantity: &quot;);\r\n    \r\n             itemQuantity = scnr.nextInt();\r\n             item1.setQuantity(itemQuantity);\r\n             scnr.nextLine();\r\n    \r\n             System.out.println(&quot;&quot;);\r\n             System.out.println(&quot;Item 2&quot;);\r\n             System.out.println(&quot;Enter the item name: &quot;);\r\n    \r\n             itemName = scnr.nextLine();\r\n             item2.setName(itemName);\r\n    \r\n             System.out.println(&quot;Enter the item price: &quot;);\r\n    \r\n             itemPrice = scnr.nextInt();\r\n             item2.setPrice(itemPrice);\r\n    \r\n             System.out.println(&quot;Enter the item quantity: &quot;);\r\n    \r\n             itemQuantity = scnr.nextInt();\r\n             item2.setQuantity(itemQuantity);\r\n    \r\n             System.out.println(&quot;&quot;);\r\n    \r\n             cartTotal = (item1.getPrice() * item1.getQuantity()) +\r\n             (item2.getPrice() * item2.getQuantity());\r\n    \r\n             System.out.println(&quot;TOTAL COST&quot;);\r\n             System.out.println(item1.getName() + &quot; &quot; + item1.getQuantity() +\r\n             &quot; @ $&quot; + (item1.getPrice() + &quot; = $&quot; + item1.getPrice() * item1.getQuantity()));\r\n             System.out.println(item2.getName() + &quot; &quot; + item2.getQuantity() +\r\n             &quot; @ $&quot; + (item2.getPrice() + &quot; = $&quot; + item2.getPrice() * item2.getQuantity()));\r\n             System.out.println(&quot;&quot;);\r\n             System.out.println(&quot;Total: $&quot; + cartTotal);\r\n    \r\n    for the items to purchase:\r\n    \r\n    public class ItemToPurchase {\r\n    \r\n          String itemName;\r\n          int itemPrice;\r\n          int itemQuantity;\r\n    \r\n    public ItemToPurchase() {\r\n    \r\n          itemName = &quot;none&quot;;\r\n          itemPrice = 0;\r\n          itemQuantity = 0;\r\n    }\r\n    public String getName() {\r\n    \r\n    \treturn itemName;\r\n    \r\n    }\r\n    public void setName(String itemName) {\r\n    \tthis.itemName = itemName;\r\n    }\r\n    public int getPrice() {\r\n    \treturn itemPrice;\r\n    }\r\n    \r\n    public void setPrice(int price) {\r\n    \tif (price &lt; 0) {\r\n    \t\titemPrice = 0;\r\n    \t}\r\n    \telse {\r\n    \t\titemPrice = price;\r\n    \t}\r\n    }\r\n    public int getQuantity() {\r\n    \treturn itemQuantity;\r\n    }\r\n    public void setQuantity(int quantity) {\r\n    \tif (quantity &lt; 0) {\r\n    \t\titemQuantity = 0;\r\n    \t}\r\n    \telse {\r\n    \t\titemQuantity = quantity;\r\n    \t}\r\n    }\r\n    public void printItemPurchase() {\r\n          System.out.println(itemQuantity + &quot; &quot; + itemName + &quot; $&quot; + itemPrice +\r\n          &quot; = $&quot; + (itemPrice * itemQuantity));\r\n    \r\n    }\r\n    \r\n    }","title":"Online shopping cart java","body":"<p>I was able to complete this lab and It was really difficult but here is the code that works.</p>\n<p>for the shopping cart printer:</p>\n<pre><code>import java.util.Scanner;\n      public class ShoppingCartPrinter {\n\n      public static void main(String[] args) {\n\n         Scanner scnr = new Scanner(System.in);\n\n         int i = 0;\n         String itemName;\n         int itemPrice = 0;\n         int itemQuantity = 0;\n         int cartTotal = 0;\n         \n         ItemToPurchase item1 = new ItemToPurchase();\n         ItemToPurchase item2 = new ItemToPurchase();\n\n// Get item 1 details from user, create itemToPurchase object\n\n         System.out.println(&quot;Item 1&quot;);\n\n         System.out.println(&quot;Enter the item name: &quot;);\n         itemName = scnr.nextLine();\n         item1.setName(itemName);\n\n         System.out.println(&quot;Enter the item price: &quot;);\n         itemPrice = scnr.nextInt();\n         item1.setPrice(itemPrice);\n\n         System.out.println(&quot;Enter the item quantity: &quot;);\n\n         itemQuantity = scnr.nextInt();\n         item1.setQuantity(itemQuantity);\n         scnr.nextLine();\n\n         System.out.println(&quot;&quot;);\n         System.out.println(&quot;Item 2&quot;);\n         System.out.println(&quot;Enter the item name: &quot;);\n\n         itemName = scnr.nextLine();\n         item2.setName(itemName);\n\n         System.out.println(&quot;Enter the item price: &quot;);\n\n         itemPrice = scnr.nextInt();\n         item2.setPrice(itemPrice);\n\n         System.out.println(&quot;Enter the item quantity: &quot;);\n\n         itemQuantity = scnr.nextInt();\n         item2.setQuantity(itemQuantity);\n\n         System.out.println(&quot;&quot;);\n\n         cartTotal = (item1.getPrice() * item1.getQuantity()) +\n         (item2.getPrice() * item2.getQuantity());\n\n         System.out.println(&quot;TOTAL COST&quot;);\n         System.out.println(item1.getName() + &quot; &quot; + item1.getQuantity() +\n         &quot; @ $&quot; + (item1.getPrice() + &quot; = $&quot; + item1.getPrice() * item1.getQuantity()));\n         System.out.println(item2.getName() + &quot; &quot; + item2.getQuantity() +\n         &quot; @ $&quot; + (item2.getPrice() + &quot; = $&quot; + item2.getPrice() * item2.getQuantity()));\n         System.out.println(&quot;&quot;);\n         System.out.println(&quot;Total: $&quot; + cartTotal);\n\nfor the items to purchase:\n\npublic class ItemToPurchase {\n\n      String itemName;\n      int itemPrice;\n      int itemQuantity;\n\npublic ItemToPurchase() {\n\n      itemName = &quot;none&quot;;\n      itemPrice = 0;\n      itemQuantity = 0;\n}\npublic String getName() {\n\n    return itemName;\n\n}\npublic void setName(String itemName) {\n    this.itemName = itemName;\n}\npublic int getPrice() {\n    return itemPrice;\n}\n\npublic void setPrice(int price) {\n    if (price &lt; 0) {\n        itemPrice = 0;\n    }\n    else {\n        itemPrice = price;\n    }\n}\npublic int getQuantity() {\n    return itemQuantity;\n}\npublic void setQuantity(int quantity) {\n    if (quantity &lt; 0) {\n        itemQuantity = 0;\n    }\n    else {\n        itemQuantity = quantity;\n    }\n}\npublic void printItemPurchase() {\n      System.out.println(itemQuantity + &quot; &quot; + itemName + &quot; $&quot; + itemPrice +\n      &quot; = $&quot; + (itemPrice * itemQuantity));\n\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":12004824,"reputation":1,"user_id":8783474,"display_name":"madeinpl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16882,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1680292231,"creation_date":1508147774,"question_id":46767528,"body_markdown":"I&#39;m having a hard time figuring out why this code is not adding up at the end in &quot;TOTAL COST&quot;.\r\n\r\nTwo classes:  \r\n\r\nShoppingCartPrinter.java and ItemToPurchase.java\r\n\r\nThe result I keep getting are all 0&#39;s in &quot;TOTAL COST&quot;.  Any help would be greatly appreciated.  Thanks.\r\n\r\nShoppingCartPrinter.java code:  \r\n\r\n    import java.util.Scanner;\r\n\r\n    public class ShoppingCartPrinter {\r\n      public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      int i = 0;\r\n      String productName;\r\n      int productPrice = 0;\r\n      int productQuantity = 0;\r\n      int cartTotal = 0;\r\n  \r\n      ItemToPurchase item1 = new ItemToPurchase();\r\n      ItemToPurchase item2 = new ItemToPurchase();\r\n\r\n      System.out.println(&quot;Item 1&quot;);\r\n      System.out.println(&quot;Enter the item name: &quot;);\r\n      productName = scnr.nextLine();                                         // Sets the variable productName for user input\r\n      \r\n      System.out.println(&quot;Enter the item price: &quot;);\r\n      productPrice = scnr.nextInt();                                         // Set the variable productPrice for user input\r\n      \r\n      System.out.println(&quot;Enter the item quantity: &quot;);\r\n      productQuantity = scnr.nextInt();                                      // Set the variable productQuantity for user user input\r\n      System.out.println(&quot;&quot;);\r\n      \r\n      item1.setName(productName);\r\n      item1.setPrice(productPrice);\r\n      item1.setQuantity(productQuantity);\r\n \r\n      System.out.println(&quot;Item 2&quot;);\r\n      System.out.println(&quot;Enter the item name: &quot;);\r\n      scnr.nextLine();\r\n      productName = scnr.nextLine();                                         // Set the variable productName for user input\r\n      \r\n      System.out.println(&quot;Enter the item price: &quot;);\r\n      productPrice = scnr.nextInt();                                         // Set the variable productPrice for user input\r\n      \r\n      System.out.println(&quot;Enter the item quantity: &quot;);\r\n      productQuantity = scnr.nextInt();                                      // Set the variable productQuantity for user input\r\n      System.out.println(&quot;&quot;);\r\n      \r\n      item2.setName(productName);\r\n      item2.setPrice(productPrice);\r\n      item2.setQuantity(productQuantity);\r\n      \r\n      cartTotal = (item1.getPrice() * item1.getQuantity()) + (item2.getPrice() * item2.getQuantity());\r\n      \r\n      System.out.println(&quot;TOTAL COST&quot;);\r\n      System.out.println(item1.getName() + &quot; &quot; + item1.getQuantity() + &quot; @ $&quot; + item1.getPrice()  + &quot; = $&quot; + (item1.getPrice() * item1.getQuantity()));\r\n      \r\n      System.out.println(item2.getName() + &quot; &quot; + item2.getQuantity() + &quot; @ $&quot; + item2.getPrice()  + &quot; = $&quot; + (item2.getPrice() * item2.getQuantity()));\r\n      System.out.println(&quot;&quot;);\r\n      \r\n      System.out.println(&quot;Total: $&quot; + cartTotal);\r\n      \r\n      return;\r\n       }\r\n    }\r\n\r\nItemToPurchase.java\r\n\r\n    public class ItemToPurchase {\r\n       private String itemName;\r\n       private int itemPrice;\r\n       private int itemQuantity;\r\n   \r\n    public ItemToPurchase() {\r\n      itemName = &quot;none&quot;;\r\n      itemPrice = 0;\r\n      itemQuantity = 0;\r\n      return;\r\n    }\r\n   \r\n    public void setName(String name) {\r\n      itemName = name;\r\n      return;\r\n    }\r\n   \r\n    public void setPrice(int price) {\r\n       itemPrice = 0;\r\n       return;\r\n    }\r\n   \r\n    public void setQuantity (int quantity) {\r\n       itemQuantity = 0;\r\n       return;       \r\n    }\r\n   \r\n    public String getName() {\r\n      return itemName;\r\n    }\r\n   \r\n    public int getPrice() {\r\n      return itemPrice;\r\n    }\r\n   \r\n    public int getQuantity() {\r\n       return itemQuantity;\r\n    }\r\n\r\n    public void printItemPurchase() {\r\n      System.out.println(itemQuantity + &quot; &quot; + itemName + &quot; $&quot; + itemPrice +  &quot; = $&quot; + (itemPrice * itemQuantity));\r\n    }\r\n    } ","title":"Online shopping cart java","body":"<p>I'm having a hard time figuring out why this code is not adding up at the end in \"TOTAL COST\".</p>\n\n<p>Two classes:  </p>\n\n<p>ShoppingCartPrinter.java and ItemToPurchase.java</p>\n\n<p>The result I keep getting are all 0's in \"TOTAL COST\".  Any help would be greatly appreciated.  Thanks.</p>\n\n<p>ShoppingCartPrinter.java code:  </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class ShoppingCartPrinter {\n  public static void main(String[] args) {\n  Scanner scnr = new Scanner(System.in);\n  int i = 0;\n  String productName;\n  int productPrice = 0;\n  int productQuantity = 0;\n  int cartTotal = 0;\n\n  ItemToPurchase item1 = new ItemToPurchase();\n  ItemToPurchase item2 = new ItemToPurchase();\n\n  System.out.println(\"Item 1\");\n  System.out.println(\"Enter the item name: \");\n  productName = scnr.nextLine();                                         // Sets the variable productName for user input\n\n  System.out.println(\"Enter the item price: \");\n  productPrice = scnr.nextInt();                                         // Set the variable productPrice for user input\n\n  System.out.println(\"Enter the item quantity: \");\n  productQuantity = scnr.nextInt();                                      // Set the variable productQuantity for user user input\n  System.out.println(\"\");\n\n  item1.setName(productName);\n  item1.setPrice(productPrice);\n  item1.setQuantity(productQuantity);\n\n  System.out.println(\"Item 2\");\n  System.out.println(\"Enter the item name: \");\n  scnr.nextLine();\n  productName = scnr.nextLine();                                         // Set the variable productName for user input\n\n  System.out.println(\"Enter the item price: \");\n  productPrice = scnr.nextInt();                                         // Set the variable productPrice for user input\n\n  System.out.println(\"Enter the item quantity: \");\n  productQuantity = scnr.nextInt();                                      // Set the variable productQuantity for user input\n  System.out.println(\"\");\n\n  item2.setName(productName);\n  item2.setPrice(productPrice);\n  item2.setQuantity(productQuantity);\n\n  cartTotal = (item1.getPrice() * item1.getQuantity()) + (item2.getPrice() * item2.getQuantity());\n\n  System.out.println(\"TOTAL COST\");\n  System.out.println(item1.getName() + \" \" + item1.getQuantity() + \" @ $\" + item1.getPrice()  + \" = $\" + (item1.getPrice() * item1.getQuantity()));\n\n  System.out.println(item2.getName() + \" \" + item2.getQuantity() + \" @ $\" + item2.getPrice()  + \" = $\" + (item2.getPrice() * item2.getQuantity()));\n  System.out.println(\"\");\n\n  System.out.println(\"Total: $\" + cartTotal);\n\n  return;\n   }\n}\n</code></pre>\n\n<p>ItemToPurchase.java</p>\n\n<pre><code>public class ItemToPurchase {\n   private String itemName;\n   private int itemPrice;\n   private int itemQuantity;\n\npublic ItemToPurchase() {\n  itemName = \"none\";\n  itemPrice = 0;\n  itemQuantity = 0;\n  return;\n}\n\npublic void setName(String name) {\n  itemName = name;\n  return;\n}\n\npublic void setPrice(int price) {\n   itemPrice = 0;\n   return;\n}\n\npublic void setQuantity (int quantity) {\n   itemQuantity = 0;\n   return;       \n}\n\npublic String getName() {\n  return itemName;\n}\n\npublic int getPrice() {\n  return itemPrice;\n}\n\npublic int getQuantity() {\n   return itemQuantity;\n}\n\npublic void printItemPurchase() {\n  System.out.println(itemQuantity + \" \" + itemName + \" $\" + itemPrice +  \" = $\" + (itemPrice * itemQuantity));\n}\n} \n</code></pre>\n"},{"tags":["java","inputstream","java-11"],"comments":[{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":2,"creation_date":1680292437,"post_id":75902244,"comment_id":133879733,"body_markdown":"No. Whatever is calling &quot;getMyObject&quot; might know the file name, but a Java Stream knows has no concept of a &quot;file name&quot;.","body":"No. Whatever is calling &quot;getMyObject&quot; might know the file name, but a Java Stream knows has no concept of a &quot;file name&quot;."},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1680292694,"post_id":75902244,"comment_id":133879795,"body_markdown":"You could try Apache Tika to guess the content: https://tika.apache.org/. You&#39;ll have to process the content either way, though.","body":"You could try Apache Tika to guess the content: <a href=\"https://tika.apache.org/\" rel=\"nofollow noreferrer\">tika.apache.org</a>. You&#39;ll have to process the content either way, though."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":1,"creation_date":1680293255,"post_id":75902244,"comment_id":133879917,"body_markdown":"If only csv or txt are being sent, then I would check how csv-s are formatted, they mostly are comma (or other char) separated data, mostly same number of elements per row. If data matches such prediction then its probably csv, otherwise, its txt. But that is rather a hack, and will not always work - it should be fixed erlier in the process.","body":"If only csv or txt are being sent, then I would check how csv-s are formatted, they mostly are comma (or other char) separated data, mostly same number of elements per row. If data matches such prediction then its probably csv, otherwise, its txt. But that is rather a hack, and will not always work - it should be fixed erlier in the process."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1680293627,"post_id":75902244,"comment_id":133879986,"body_markdown":"You could possibly just count the commas (all or on a few lines).   Statistically, I would think a csv file should have a lot more than an normal text file.","body":"You could possibly just count the commas (all or on a few lines).   Statistically, I would think a csv file should have a lot more than an normal text file."},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1680293795,"post_id":75902244,"comment_id":133880014,"body_markdown":"@PetrJaneček Tika (Lucene) is a totally different use case IMHO.\nWJS What I said :-)\nmarcinj CSV is, by definition, &quot;Comma&quot; Separated Values. I know that sometimes they can be Tab separated, etc. but that is not really an &quot;identifiable&quot; attribute. See: https://en.wikipedia.org/wiki/Comma-separated_values","body":"@PetrJaneček Tika (Lucene) is a totally different use case IMHO. WJS What I said :-) marcinj CSV is, by definition, &quot;Comma&quot; Separated Values. I know that sometimes they can be Tab separated, etc. but that is not really an &quot;identifiable&quot; attribute. See: <a href=\"https://en.wikipedia.org/wiki/Comma-separated_values\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Comma-separated_values</a>"}],"owner":{"account_id":4651430,"reputation":1022,"user_id":3768218,"accept_rate":67,"display_name":"Jeya Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680292131,"creation_date":1680291875,"question_id":75902244,"body_markdown":"I am making changes in legacy code where the method i am changing is getting inputstream from caller\r\n\r\n    public customObject getMyObject(InputStream is){\r\n    \r\n            String mimeType = URLConnection.guessContentTypeFromStream(targetStream);\r\n            System.out.println(&quot;file extens id  &quot; + mimeType); // this gives null\r\n    \r\n    }\r\n\r\n\r\nBefore I process the stream i want to detect if the content is from `CSV` or text. Some times clients upload wrong file. \r\n\r\nIf file is `.txt` i dont want to process it from my method or i want to process only csv file.\r\n\r\n\r\nIs it possible to get `fileExtension` from `InputStream`\r\n","title":"Finding file type or extension from inputstream - java 11","body":"<p>I am making changes in legacy code where the method i am changing is getting inputstream from caller</p>\n<pre><code>public customObject getMyObject(InputStream is){\n\n        String mimeType = URLConnection.guessContentTypeFromStream(targetStream);\n        System.out.println(&quot;file extens id  &quot; + mimeType); // this gives null\n\n}\n</code></pre>\n<p>Before I process the stream i want to detect if the content is from <code>CSV</code> or text. Some times clients upload wrong file.</p>\n<p>If file is <code>.txt</code> i dont want to process it from my method or i want to process only csv file.</p>\n<p>Is it possible to get <code>fileExtension</code> from <code>InputStream</code></p>\n"},{"tags":["java","multithreading","thread-safety","atomic"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680291845,"post_id":75902150,"comment_id":133879580,"body_markdown":"Consider using a [thread-safe `Set`](https://stackoverflow.com/q/6720396/642706).","body":"Consider using a <a href=\"https://stackoverflow.com/q/6720396/642706\">thread-safe <code>Set</code></a>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1680291936,"post_id":75902150,"comment_id":133879601,"body_markdown":"`AtomicReference` protects the *reference* to the `List` object, not the *contents* of the `List`. Read the related links to learn about thread-safe `List` &amp; `Set` implementations that protect the elements.","body":"<code>AtomicReference</code> protects the <i>reference</i> to the <code>List</code> object, not the <i>contents</i> of the <code>List</code>. Read the related links to learn about thread-safe <code>List</code> &amp; <code>Set</code> implementations that protect the elements."},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1680292000,"post_id":75902150,"comment_id":133879619,"body_markdown":"@BasilBourque exactly my point. So, can we achieve this using any of the `Atomic` package from Java? May be by using a combinations of them?","body":"@BasilBourque exactly my point. So, can we achieve this using any of the <code>Atomic</code> package from Java? May be by using a combinations of them?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1680292039,"post_id":75902150,"comment_id":133879633,"body_markdown":"None of the `Atomic…` classes protect the elements of a collection. You are [barking up the wrong tree](https://en.wikipedia.org/wiki/Barking_up_the_wrong_tree).","body":"None of the <code>Atomic…</code> classes protect the elements of a collection. You are <a href=\"https://en.wikipedia.org/wiki/Barking_up_the_wrong_tree\" rel=\"nofollow noreferrer\">barking up the wrong tree</a>."},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1680292210,"post_id":75902150,"comment_id":133879680,"body_markdown":"@BasilBourque How about `ReadWriteLock`?  There will be changes and searches happening concurrently. So, the only way is to use a thread-safe collection unless we need to lock the entire list?","body":"@BasilBourque How about <code>ReadWriteLock</code>?  There will be changes and searches happening concurrently. So, the only way is to use a thread-safe collection unless we need to lock the entire list?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1680350125,"post_id":75902150,"comment_id":133885662,"body_markdown":"Re, &quot;it a mandatory thing that AtomicReference expects an immutable object?&quot; No. There is no requirement that the referent of an [`AtomicReference`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html) be immutable. As far as I know, &quot;immutable object&quot; is not even a concept that the Java language recognizes. That is to say, there is no way (that I know of) to define some type `Foobar&lt;V&gt;` and have the compiler enforce that `V` must be immutable.","body":"Re, &quot;it a mandatory thing that AtomicReference expects an immutable object?&quot; No. There is no requirement that the referent of an <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html\" rel=\"nofollow noreferrer\"><code>AtomicReference</code></a> be immutable. As far as I know, &quot;immutable object&quot; is not even a concept that the Java language recognizes. That is to say, there is no way (that I know of) to define some type <code>Foobar&lt;V&gt;</code> and have the compiler enforce that <code>V</code> must be immutable."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1680350871,"post_id":75902150,"comment_id":133885770,"body_markdown":"Re, &quot;I want to know the behavior when a custom mutable object is used.&quot; Behavior of what? Of the AtomicReference? An AtomicReference does not interact with its referent in any way. There are no two types `Foo` and `Bar` such that an `AtomicReference&lt;Foo&gt;` would behave any differently from an `AtomicReference&lt;Bar&gt;`.","body":"Re, &quot;I want to know the behavior when a custom mutable object is used.&quot; Behavior of what? Of the AtomicReference? An AtomicReference does not interact with its referent in any way. There are no two types <code>Foo</code> and <code>Bar</code> such that an <code>AtomicReference&lt;Foo&gt;</code> would behave any differently from an <code>AtomicReference&lt;Bar&gt;</code>."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1680351082,"post_id":75902150,"comment_id":133885793,"body_markdown":"Re, &quot;... Can we wrap that object with AtomicReference?&quot; What does &quot;wrap&quot; mean? If `AtomicReference&lt;T&gt;` &quot;wraps&quot; `T`, then sure. You can &quot;wrap&quot; _any_ type with AtomicReference. You can have AtomicReference&lt;AtomicInteger&gt; if that solves some problem for you. I don&#39;t care to imagine what problem it would solve, but Java won&#39;t stop you from doing it. You could even have AtomicReference&lt;AtomicReference&lt;AtomicReference&lt;Integer&gt;&gt;&gt;.","body":"Re, &quot;... Can we wrap that object with AtomicReference?&quot; What does &quot;wrap&quot; mean? If <code>AtomicReference&lt;T&gt;</code> &quot;wraps&quot; <code>T</code>, then sure. You can &quot;wrap&quot; <i>any</i> type with AtomicReference. You can have AtomicReference&lt;AtomicInteger&gt; if that solves some problem for you. I don&#39;t care to imagine what problem it would solve, but Java won&#39;t stop you from doing it. You could even have AtomicReference&lt;AtomicReference&lt;AtomicReference&lt;Integer&gt;&gt;&gt;."},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1680368799,"post_id":75902150,"comment_id":133888343,"body_markdown":"@SolomonSlow\n`As far as I know, &quot;immutable object&quot; is not even a concept that the Java language recognizes.` --&gt; what do you mean??","body":"@SolomonSlow <code>As far as I know, &quot;immutable object&quot; is not even a concept that the Java language recognizes.</code> --&gt; what do you mean??"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1680373323,"post_id":75902150,"comment_id":133889008,"body_markdown":"What I mean is, If I define some API, and if my API allows you to submit instances of some class that you declare in your own code, then I don&#39;t know any way I can prevent you from submitting _mutable_ instances. I can tell you not to do it in my documentation. And maybe, under some circumstances, I could notice that you have mutated an instance after you gave me and, I could raise an exception; but there&#39;s nothing I can do to outright _prevent_ you from giving me a mutable instance in the first place. Java&#39;s type machinery has no way of specifying an immutable data type.","body":"What I mean is, If I define some API, and if my API allows you to submit instances of some class that you declare in your own code, then I don&#39;t know any way I can prevent you from submitting <i>mutable</i> instances. I can tell you not to do it in my documentation. And maybe, under some circumstances, I could notice that you have mutated an instance after you gave me and, I could raise an exception; but there&#39;s nothing I can do to outright <i>prevent</i> you from giving me a mutable instance in the first place. Java&#39;s type machinery has no way of specifying an immutable data type."}],"answers":[{"comments":[{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1680291603,"post_id":75902196,"comment_id":133879539,"body_markdown":"Yes, the list keeps changing and new values come on every instant. That&#39;s why I was looking for `AtomicReference`\nAnd preferably, don&#39;t want to lock the entire list.","body":"Yes, the list keeps changing and new values come on every instant. That&#39;s why I was looking for <code>AtomicReference</code> And preferably, don&#39;t want to lock the entire list."},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1680291692,"post_id":75902196,"comment_id":133879550,"body_markdown":"With a &quot;readLock&quot;, multiple threads can read at the same time. It is, by design, a &quot;non blocking&quot; read lock.","body":"With a &quot;readLock&quot;, multiple threads can read at the same time. It is, by design, a &quot;non blocking&quot; read lock."},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1680291850,"post_id":75902196,"comment_id":133879584,"body_markdown":"Get the readLock, see if it is contained in the list, then get the writeLock if you have to add it to the list. You only acquire the writeLock if a change is needed.","body":"Get the readLock, see if it is contained in the list, then get the writeLock if you have to add it to the list. You only acquire the writeLock if a change is needed."},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1680292329,"post_id":75902196,"comment_id":133879707,"body_markdown":"Thank you for the insights!\nso if a thread acquired `writeLock`, then other threads can&#39;t read right?","body":"Thank you for the insights! so if a thread acquired <code>writeLock</code>, then other threads can&#39;t read right?"},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1680292660,"post_id":75902196,"comment_id":133879783,"body_markdown":"See: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReadWriteLock.html and https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantReadWriteLock.html","body":"See: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReadWriteLock.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantReadWriteLock.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a>"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1680300401,"post_id":75902196,"comment_id":133881118,"body_markdown":"@BillMair, Re, &quot;...then get the writeLock if you have to add...&quot; But note! If that&#39;s `java.util.concurrent.locks.ReadWriteLock` interface that you&#39;re talking about, then the documentation explicitly does not specify whether read ownership can be upgraded to write ownership. If the OP chooses the standard `ReentrantReadWriteLock` implementation of that interface, then _that_ doc page explicitly says that upgrading is _not_ possible. So, OP will have to release the read permission, then acquire write permission, and then _re-test_ to see whether the item _still_ is not present in the list.","body":"@BillMair, Re, &quot;...then get the writeLock if you have to add...&quot; But note! If that&#39;s <code>java.util.concurrent.locks.ReadWriteLock</code> interface that you&#39;re talking about, then the documentation explicitly does not specify whether read ownership can be upgraded to write ownership. If the OP chooses the standard <code>ReentrantReadWriteLock</code> implementation of that interface, then <i>that</i> doc page explicitly says that upgrading is <i>not</i> possible. So, OP will have to release the read permission, then acquire write permission, and then <i>re-test</i> to see whether the item <i>still</i> is not present in the list."},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1680301358,"post_id":75902196,"comment_id":133881245,"body_markdown":"@SolomonSlow I didn&#39;t say &quot;upgrade&quot;, you can acquire the writeLock independently of any other readLocks that you might have. Releasing the readLock is not a requirement, having already gained the readLock, to acquiring the writeLock. Being able to write is not mutually exclusive to being already able to read.","body":"@SolomonSlow I didn&#39;t say &quot;upgrade&quot;, you can acquire the writeLock independently of any other readLocks that you might have. Releasing the readLock is not a requirement, having already gained the readLock, to acquiring the writeLock. Being able to write is not mutually exclusive to being already able to read."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1680309121,"post_id":75902196,"comment_id":133882097,"body_markdown":"You did&#39;t say &quot;upgrade.&quot; You said, &quot;Get the readLock, ..., then get the writeLock...&quot; That&#39;s ambiguous. If &quot;get the writeLock&quot; means getting it without first _releasing_ the previously acquired readLock, then that would be an upgrade. If, on the other hand, you intended for the OP to release the readLock before attempting to get the writeLock, then that&#39;s not an upgrade, but it creates an opportunity for some other thread to get the writeLock first, and modify the list—a potential race condition. OP is a newbie. If you&#39;re leading them down a dangerous path, then you should warn them about it.","body":"You did&#39;t say &quot;upgrade.&quot; You said, &quot;Get the readLock, ..., then get the writeLock...&quot; That&#39;s ambiguous. If &quot;get the writeLock&quot; means getting it without first <i>releasing</i> the previously acquired readLock, then that would be an upgrade. If, on the other hand, you intended for the OP to release the readLock before attempting to get the writeLock, then that&#39;s not an upgrade, but it creates an opportunity for some other thread to get the writeLock first, and modify the list—a potential race condition. OP is a newbie. If you&#39;re leading them down a dangerous path, then you should warn them about it."},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1680328714,"post_id":75902196,"comment_id":133883492,"body_markdown":"@SolomonSlow\nI had the same concern, thats why I specifically asked for lock-free atomic solutions (if possible) other than readymade thread-safe collections. Is there a guarantee of lock-free concurrency even if we use thread-safe collections?","body":"@SolomonSlow I had the same concern, thats why I specifically asked for lock-free atomic solutions (if possible) other than readymade thread-safe collections. Is there a guarantee of lock-free concurrency even if we use thread-safe collections?"},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1680329377,"post_id":75902196,"comment_id":133883540,"body_markdown":"@SolomonSlow\nAlso, is it a mandatory thing that `AtomicReference` expects an `immutable` object? I want to know the behavior when a custom `mutable` object is used.  I understand that `atomicity` is only for the `reference` of objects. Let&#39;s say an object with an `AtomicInteger` as member variable. Can we wrap that object with `AtomicReference` ?","body":"@SolomonSlow Also, is it a mandatory thing that <code>AtomicReference</code> expects an <code>immutable</code> object? I want to know the behavior when a custom <code>mutable</code> object is used.  I understand that <code>atomicity</code> is only for the <code>reference</code> of objects. Let&#39;s say an object with an <code>AtomicInteger</code> as member variable. Can we wrap that object with <code>AtomicReference</code> ?"}],"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":10,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680291902,"creation_date":1680291474,"answer_id":75902196,"question_id":75902150,"body_markdown":"If the list itself doesn&#39;t change then you should not be looking at AtomicReference.\r\n\r\nIt looks like you need `ReadWriteLock`, allowing multiple threads to check the list at once while locking during changes to the list.\r\n\r\nTo check if it is in the list you need `Lock readLock()` and to change it `Lock writeLock()`.\r\n\r\nThere are many examples for this kind of usage.\r\n\r\nAfter comment from OP: Changes not just compare can be made.\r\n\r\nGet the readLock, see if it is contained in the list, then get the writeLock if you have to add it to the list. You only acquire the writeLock if a change is needed.","title":"How to check if an ArrayList contains an element atomically?","body":"<p>If the list itself doesn't change then you should not be looking at AtomicReference.</p>\n<p>It looks like you need <code>ReadWriteLock</code>, allowing multiple threads to check the list at once while locking during changes to the list.</p>\n<p>To check if it is in the list you need <code>Lock readLock()</code> and to change it <code>Lock writeLock()</code>.</p>\n<p>There are many examples for this kind of usage.</p>\n<p>After comment from OP: Changes not just compare can be made.</p>\n<p>Get the readLock, see if it is contained in the list, then get the writeLock if you have to add it to the list. You only acquire the writeLock if a change is needed.</p>\n"}],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":10,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1680291707,"accepted_answer_id":75902196,"answer_count":1,"score":-1,"last_activity_date":1680291902,"creation_date":1680291144,"question_id":75902150,"body_markdown":"Let&#39;s say, We&#39;re trying to add several elements into an `ArrayList`. At the same time, the same list is being searched for `list.contains(givenElement)`. \r\n\r\nThen, how do we achieve thread-safety without locking the whole `list` object?\r\nIn other words, how can multiple threads access this list and perform operations `atomically`?  I would like to know how to achieve this using `AtomicReference`.\r\n\r\nI can create an `AtomicReference` variable with the `list` loaded in it. But, then how do I do `contains()` operation atomically without doing `compareAndSet()` on whole `list` ?   \r\n\r\n\r\nNote that I&#39;m looking for solutions other than using thread-safe collections. \r\n","title":"How to check if an ArrayList contains an element atomically?","body":"<p>Let's say, We're trying to add several elements into an <code>ArrayList</code>. At the same time, the same list is being searched for <code>list.contains(givenElement)</code>.</p>\n<p>Then, how do we achieve thread-safety without locking the whole <code>list</code> object?\nIn other words, how can multiple threads access this list and perform operations <code>atomically</code>?  I would like to know how to achieve this using <code>AtomicReference</code>.</p>\n<p>I can create an <code>AtomicReference</code> variable with the <code>list</code> loaded in it. But, then how do I do <code>contains()</code> operation atomically without doing <code>compareAndSet()</code> on whole <code>list</code> ?</p>\n<p>Note that I'm looking for solutions other than using thread-safe collections.</p>\n"},{"tags":["java","validation","calendar","date"],"comments":[{"owner":{"account_id":8519,"reputation":175107,"user_id":15416,"accept_rate":63,"display_name":"MSalters"},"score":0,"creation_date":1271082667,"post_id":226910,"comment_id":2635177,"body_markdown":"For anyone with a similar question, please consider whether you need non-Gregorian calendar support.","body":"For anyone with a similar question, please consider whether you need non-Gregorian calendar support."}],"answers":[{"comments":[{"owner":{"account_id":4252,"reputation":16524,"user_id":6329,"accept_rate":75,"display_name":"tardate"},"score":3,"creation_date":1242900529,"post_id":226920,"comment_id":699323,"body_markdown":"don&#39;t think this exactly works as-is. Calendar.setTime takes java.util.Date, so the conversion from string has already happened by the time you get a &quot;yourDate&quot; object.","body":"don&#39;t think this exactly works as-is. Calendar.setTime takes java.util.Date, so the conversion from string has already happened by the time you get a &quot;yourDate&quot; object."},{"owner":{"account_id":51,"reputation":10382,"user_id":62,"accept_rate":49,"display_name":"Liron Yahdav"},"score":35,"creation_date":1272158040,"post_id":226920,"comment_id":2730519,"body_markdown":"3 problems with the example code:\n1. After getting a Calendar instance, you must call cal.setLenient(false). Otherwise a date like Feb 31 2007 will be considered valid.\n2. An exception doesn&#39;t get thrown by cal.setTime(). You must call cal.getTime() after the setTime() call, which throws an exception on invalid date.\n3. Typo: Missing a &#39;}&#39; before the catch.","body":"3 problems with the example code: 1. After getting a Calendar instance, you must call cal.setLenient(false). Otherwise a date like Feb 31 2007 will be considered valid. 2. An exception doesn&#39;t get thrown by cal.setTime(). You must call cal.getTime() after the setTime() call, which throws an exception on invalid date. 3. Typo: Missing a &#39;}&#39; before the catch."},{"owner":{"account_id":247188,"reputation":7267,"user_id":521754,"accept_rate":77,"display_name":"despot"},"score":0,"creation_date":1376567947,"post_id":226920,"comment_id":26764283,"body_markdown":"This is also slower than other approaches. See http://stackoverflow.com/questions/2149680/regex-date-format-validation-on-java/18252071#18252071","body":"This is also slower than other approaches. See <a href=\"http://stackoverflow.com/questions/2149680/regex-date-format-validation-on-java/18252071#18252071\" title=\"regex date format validation on java\">stackoverflow.com/questions/2149680/&hellip;</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":6,"creation_date":1523145046,"post_id":226920,"comment_id":86439583,"body_markdown":"FYI, the troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."},{"owner":{"account_id":12254930,"reputation":478,"user_id":8944197,"display_name":"shikha singh"},"score":4,"creation_date":1564396641,"post_id":226920,"comment_id":101003970,"body_markdown":"doesn&#39;t validate dates like 31 Feb","body":"doesn&#39;t validate dates like 31 Feb"}],"tags":[],"owner":{"account_id":9016,"reputation":16145,"user_id":16476,"accept_rate":63,"display_name":"AdamC"},"comment_count":5,"down_vote_count":11,"up_vote_count":50,"is_accepted":true,"score":39,"last_activity_date":1452193055,"creation_date":1224698887,"answer_id":226920,"question_id":226910,"body_markdown":"The current way is to use the calendar class.  It has the [setLenient][1] method that will validate the date and throw and exception if it is out of range as in your example.  \r\n\r\nForgot to add:\r\nIf you get a calendar instance and set the time using your date, this is how you get the validation.\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.setLenient(false);\r\n    cal.setTime(yourDate);\r\n    try {\r\n        cal.getTime();\r\n    }\r\n    catch (Exception e) {\r\n      System.out.println(&quot;Invalid date&quot;);\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html#setLenient%28boolean%29","title":"How to sanity check a date in Java","body":"<p>The current way is to use the calendar class.  It has the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html#setLenient%28boolean%29\" rel=\"noreferrer\">setLenient</a> method that will validate the date and throw and exception if it is out of range as in your example.  </p>\n\n<p>Forgot to add:\nIf you get a calendar instance and set the time using your date, this is how you get the validation.</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.setLenient(false);\ncal.setTime(yourDate);\ntry {\n    cal.getTime();\n}\ncatch (Exception e) {\n  System.out.println(\"Invalid date\");\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":247188,"reputation":7267,"user_id":521754,"accept_rate":77,"display_name":"despot"},"score":2,"creation_date":1376558156,"post_id":227232,"comment_id":26759803,"body_markdown":"One of the issues with this approach is that its gonna accept 0003-0002-001.","body":"One of the issues with this approach is that its gonna accept 0003-0002-001."},{"owner":{"account_id":329906,"reputation":12901,"user_id":653708,"accept_rate":90,"display_name":"8bitjunkie"},"score":1,"creation_date":1386941675,"post_id":227232,"comment_id":30763124,"body_markdown":"Another issue is that setting 13 in the month returns a Date where the month is 01 the following year.","body":"Another issue is that setting 13 in the month returns a Date where the month is 01 the following year."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1534012625,"post_id":227232,"comment_id":90561629,"body_markdown":"FYI, the terribly troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the terribly troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."}],"tags":[],"owner":{"account_id":13632,"reputation":1583,"user_id":27520,"display_name":"Maglob"},"comment_count":3,"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1224704144,"creation_date":1224704144,"answer_id":227232,"question_id":226910,"body_markdown":"You can use [SimpleDateFormat][1]\r\n\r\nFor example something like:\r\n\r\n    boolean isLegalDate(String s) {\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        sdf.setLenient(false);\r\n        return sdf.parse(s, new ParsePosition(0)) != null;\r\n    }\r\n\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/text/SimpleDateFormat.html","title":"How to sanity check a date in Java","body":"<p>You can use <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">SimpleDateFormat</a></p>\n\n<p>For example something like:</p>\n\n<pre><code>boolean isLegalDate(String s) {\n    SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    sdf.setLenient(false);\n    return sdf.parse(s, new ParsePosition(0)) != null;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1235468,"reputation":31121,"user_id":1199132,"accept_rate":83,"display_name":"Aritz"},"score":0,"creation_date":1470325404,"post_id":892204,"comment_id":64915140,"body_markdown":"I ended up with the joda alternative and checking that the value matches the pattern length myself...","body":"I ended up with the joda alternative and checking that the value matches the pattern length myself..."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1534012265,"post_id":892204,"comment_id":90561541,"body_markdown":"Update: The terrible old legacy classes (`Date`, `SimpleDateFormat`, etc.) are now supplanted by the modern *java.time* classes. Likewise, the *Joda-Time* project is in maintenance mode, and advises migration to the *java.time* classes.","body":"Update: The terrible old legacy classes (<code>Date</code>, <code>SimpleDateFormat</code>, etc.) are now supplanted by the modern <i>java.time</i> classes. Likewise, the <i>Joda-Time</i> project is in maintenance mode, and advises migration to the <i>java.time</i> classes."}],"tags":[],"owner":{"account_id":4252,"reputation":16524,"user_id":6329,"accept_rate":75,"display_name":"tardate"},"comment_count":2,"down_vote_count":1,"up_vote_count":50,"is_accepted":false,"score":49,"last_activity_date":1242968658,"creation_date":1242900496,"answer_id":892204,"question_id":226910,"body_markdown":"As shown by @Maglob, the basic approach is to test the conversion from string to date using [SimpleDateFormat.parse][1]. That will catch invalid day/month combinations like 2008-02-31.\r\n\r\nHowever, in practice that is rarely enough since SimpleDateFormat.parse is exceedingly liberal. There are two behaviours you might be concerned with:\r\n\r\n**Invalid characters in the date string**\r\nSurprisingly, 2008-02-2x will &quot;pass&quot; as a valid date with locale format = &quot;yyyy-MM-dd&quot; for example. Even when isLenient==false.\r\n\r\n**Years: 2, 3 or 4 digits?**\r\nYou may also want to enforce 4-digit years rather than allowing the default SimpleDateFormat behaviour (which will interpret &quot;12-02-31&quot; differently depending on whether your format was &quot;yyyy-MM-dd&quot; or &quot;yy-MM-dd&quot;)\r\n\r\nA Strict Solution with the Standard Library\r\n-------------------------------------------\r\n\r\nSo a complete string to date test could look like this: a combination of regex match, and then a forced date conversion. The trick with the regex is to make it locale-friendly.\r\n\r\n      Date parseDate(String maybeDate, String format, boolean lenient) {\r\n        Date date = null;\r\n        \r\n        // test date string matches format structure using regex\r\n        // - weed out illegal characters and enforce 4-digit year\r\n        // - create the regex based on the local format string\r\n        String reFormat = Pattern.compile(&quot;d+|M+&quot;).matcher(Matcher.quoteReplacement(format)).replaceAll(&quot;\\\\\\\\d{1,2}&quot;);\r\n        reFormat = Pattern.compile(&quot;y+&quot;).matcher(reFormat).replaceAll(&quot;\\\\\\\\d{4}&quot;);\r\n        if ( Pattern.compile(reFormat).matcher(maybeDate).matches() ) {\r\n    \r\n          // date string matches format structure, \r\n          // - now test it can be converted to a valid date\r\n          SimpleDateFormat sdf = (SimpleDateFormat)DateFormat.getDateInstance();\r\n          sdf.applyPattern(format);\r\n          sdf.setLenient(lenient);\r\n          try { date = sdf.parse(maybeDate); } catch (ParseException e) { }\r\n        } \r\n        return date;\r\n      } \r\n      \r\n      // used like this:\r\n      Date date = parseDate( &quot;21/5/2009&quot;, &quot;d/M/yyyy&quot;, false);\r\n\r\n \r\nNote that the regex assumes the format string contains only day, month, year, and separator characters. Aside from that, format can be in any locale format: &quot;d/MM/yy&quot;, &quot;yyyy-MM-dd&quot;, and so on. The format string for the current locale could be obtained like this:\r\n\r\n    Locale locale = Locale.getDefault();\r\n    SimpleDateFormat sdf = (SimpleDateFormat)DateFormat.getDateInstance(DateFormat.SHORT, locale );\r\n    String format = sdf.toPattern();\r\n\r\nJoda Time - Better Alternative?\r\n-------------------------------\r\n\r\nI&#39;ve been hearing about [joda time][2] recently and thought I&#39;d compare. Two points:\r\n\r\n 1. Seems better at being strict about invalid characters in the date string, unlike SimpleDateFormat\r\n 2. Can&#39;t see a way to enforce 4-digit years with it yet (but I guess you could create your own [DateTimeFormatter][3] for this purpose)\r\n\r\nIt&#39;s quite simple to use:\r\n\r\n    import org.joda.time.format.*;\r\n    import org.joda.time.DateTime;\r\n    \r\n    org.joda.time.DateTime parseDate(String maybeDate, String format) {\r\n      org.joda.time.DateTime date = null;\r\n      try {\r\n        DateTimeFormatter fmt = DateTimeFormat.forPattern(format);\r\n        date =  fmt.parseDateTime(maybeDate);\r\n      } catch (Exception e) { }\r\n      return date;\r\n    }\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/text/SimpleDateFormat.html\r\n  [2]: http://joda-time.sourceforge.net/\r\n  [3]: http://joda-time.sourceforge.net/api-release/org/joda/time/format/DateTimeFormatter.html","title":"How to sanity check a date in Java","body":"<p>As shown by @Maglob, the basic approach is to test the conversion from string to date using <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">SimpleDateFormat.parse</a>. That will catch invalid day/month combinations like 2008-02-31.</p>\n\n<p>However, in practice that is rarely enough since SimpleDateFormat.parse is exceedingly liberal. There are two behaviours you might be concerned with:</p>\n\n<p><strong>Invalid characters in the date string</strong>\nSurprisingly, 2008-02-2x will \"pass\" as a valid date with locale format = \"yyyy-MM-dd\" for example. Even when isLenient==false.</p>\n\n<p><strong>Years: 2, 3 or 4 digits?</strong>\nYou may also want to enforce 4-digit years rather than allowing the default SimpleDateFormat behaviour (which will interpret \"12-02-31\" differently depending on whether your format was \"yyyy-MM-dd\" or \"yy-MM-dd\")</p>\n\n<h2>A Strict Solution with the Standard Library</h2>\n\n<p>So a complete string to date test could look like this: a combination of regex match, and then a forced date conversion. The trick with the regex is to make it locale-friendly.</p>\n\n<pre><code>  Date parseDate(String maybeDate, String format, boolean lenient) {\n    Date date = null;\n\n    // test date string matches format structure using regex\n    // - weed out illegal characters and enforce 4-digit year\n    // - create the regex based on the local format string\n    String reFormat = Pattern.compile(\"d+|M+\").matcher(Matcher.quoteReplacement(format)).replaceAll(\"\\\\\\\\d{1,2}\");\n    reFormat = Pattern.compile(\"y+\").matcher(reFormat).replaceAll(\"\\\\\\\\d{4}\");\n    if ( Pattern.compile(reFormat).matcher(maybeDate).matches() ) {\n\n      // date string matches format structure, \n      // - now test it can be converted to a valid date\n      SimpleDateFormat sdf = (SimpleDateFormat)DateFormat.getDateInstance();\n      sdf.applyPattern(format);\n      sdf.setLenient(lenient);\n      try { date = sdf.parse(maybeDate); } catch (ParseException e) { }\n    } \n    return date;\n  } \n\n  // used like this:\n  Date date = parseDate( \"21/5/2009\", \"d/M/yyyy\", false);\n</code></pre>\n\n<p>Note that the regex assumes the format string contains only day, month, year, and separator characters. Aside from that, format can be in any locale format: \"d/MM/yy\", \"yyyy-MM-dd\", and so on. The format string for the current locale could be obtained like this:</p>\n\n<pre><code>Locale locale = Locale.getDefault();\nSimpleDateFormat sdf = (SimpleDateFormat)DateFormat.getDateInstance(DateFormat.SHORT, locale );\nString format = sdf.toPattern();\n</code></pre>\n\n<h2>Joda Time - Better Alternative?</h2>\n\n<p>I've been hearing about <a href=\"http://joda-time.sourceforge.net/\" rel=\"noreferrer\">joda time</a> recently and thought I'd compare. Two points:</p>\n\n<ol>\n<li>Seems better at being strict about invalid characters in the date string, unlike SimpleDateFormat</li>\n<li>Can't see a way to enforce 4-digit years with it yet (but I guess you could create your own <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/format/DateTimeFormatter.html\" rel=\"noreferrer\">DateTimeFormatter</a> for this purpose)</li>\n</ol>\n\n<p>It's quite simple to use:</p>\n\n<pre><code>import org.joda.time.format.*;\nimport org.joda.time.DateTime;\n\norg.joda.time.DateTime parseDate(String maybeDate, String format) {\n  org.joda.time.DateTime date = null;\n  try {\n    DateTimeFormatter fmt = DateTimeFormat.forPattern(format);\n    date =  fmt.parseDateTime(maybeDate);\n  } catch (Exception e) { }\n  return date;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4252,"reputation":16524,"user_id":6329,"accept_rate":75,"display_name":"tardate"},"score":0,"creation_date":1242965072,"post_id":893408,"comment_id":703815,"body_markdown":"good point Tom. I updated the example I provided to make sure consistently using static instance.","body":"good point Tom. I updated the example I provided to make sure consistently using static instance."},{"owner":{"account_id":129401,"reputation":2460,"user_id":327961,"accept_rate":50,"display_name":"user327961"},"score":0,"creation_date":1399578643,"post_id":893408,"comment_id":36134784,"body_markdown":"Using a synchronized function might not scale for some projects. I would recommand putting the SimpleDateFormat in a ThreadLocal variable instead of a static variable accessed through a synchronized function.","body":"Using a synchronized function might not scale for some projects. I would recommand putting the SimpleDateFormat in a ThreadLocal variable instead of a static variable accessed through a synchronized function."}],"tags":[],"owner":{"account_id":37204,"reputation":242,"user_id":106320,"display_name":"Tom"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1242918225,"creation_date":1242918225,"answer_id":893408,"question_id":226910,"body_markdown":"Two comments on the use of SimpleDateFormat.\r\n&gt; it should be declared as a static instance\r\n&gt; if declared as static access should be synchronized as it is not thread safe\r\n\r\nIME that is better that instantiating an instance for each parse of a date.","title":"How to sanity check a date in Java","body":"<p>Two comments on the use of SimpleDateFormat.</p>\n\n<blockquote>\n  <p>it should be declared as a static instance\n  if declared as static access should be synchronized as it is not thread safe</p>\n</blockquote>\n\n<p>IME that is better that instantiating an instance for each parse of a date.</p>\n"},{"comments":[{"owner":{"account_id":79489,"reputation":1968,"user_id":225341,"display_name":"Victor Ionescu"},"score":0,"creation_date":1339594240,"post_id":2622589,"comment_id":14398803,"body_markdown":"This is definitely the way to go, see also sample code on http://www.dreamincode.net/forums/topic/14886-date-validation-using-simpledateformat/","body":"This is definitely the way to go, see also sample code on <a href=\"http://www.dreamincode.net/forums/topic/14886-date-validation-using-simpledateformat/\" rel=\"nofollow noreferrer\">dreamincode.net/forums/topic/&hellip;</a>"}],"tags":[],"owner":{"account_id":604852,"reputation":71,"user_id":314577,"display_name":"Ben"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1271080828,"creation_date":1271080828,"answer_id":2622589,"question_id":226910,"body_markdown":"An alternative strict solution using the standard library is to perform the following:\r\n\r\n1) Create a strict SimpleDateFormat using your pattern\r\n\r\n2) Attempt to parse the user entered value using the format object\r\n\r\n3) If successful, reformat the Date resulting from (2) using the same date format (from (1))\r\n\r\n4) Compare the reformatted date against the original, user-entered value. If they&#39;re equal then the value entered strictly matches your pattern.\r\n\r\nThis way, you don&#39;t need to create complex regular expressions - in my case I needed to support all of SimpleDateFormat&#39;s pattern syntax, rather than be limited to certain types like just days, months and years.","title":"How to sanity check a date in Java","body":"<p>An alternative strict solution using the standard library is to perform the following:</p>\n\n<p>1) Create a strict SimpleDateFormat using your pattern</p>\n\n<p>2) Attempt to parse the user entered value using the format object</p>\n\n<p>3) If successful, reformat the Date resulting from (2) using the same date format (from (1))</p>\n\n<p>4) Compare the reformatted date against the original, user-entered value. If they're equal then the value entered strictly matches your pattern.</p>\n\n<p>This way, you don't need to create complex regular expressions - in my case I needed to support all of SimpleDateFormat's pattern syntax, rather than be limited to certain types like just days, months and years.</p>\n"},{"comments":[{"owner":{"account_id":261496,"reputation":289,"user_id":545703,"display_name":"maximus"},"score":0,"creation_date":1293220324,"post_id":4528089,"comment_id":4960375,"body_markdown":"@duffymo the second statement isn&#39;t throwing exception... :(","body":"@duffymo the second statement isn&#39;t throwing exception... :("},{"owner":{"account_id":247380,"reputation":7563,"user_id":522058,"accept_rate":94,"display_name":"sasidhar"},"score":0,"creation_date":1293220911,"post_id":4528089,"comment_id":4960425,"body_markdown":"@Pangea Not really.... try this date &quot;31-01-2010&quot; it won&#39;t throw any exception..........Just run it on your machine and see... it doesn&#39;t work....","body":"@Pangea Not really.... try this date &quot;31-01-2010&quot; it won&#39;t throw any exception..........Just run it on your machine and see... it doesn&#39;t work...."},{"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"score":0,"creation_date":1293221280,"post_id":4528089,"comment_id":4960452,"body_markdown":"My bad. I removed my comment. But the second statement is throwing exception for me though. @duffymo - which jvm are you using?","body":"My bad. I removed my comment. But the second statement is throwing exception for me though. @duffymo - which jvm are you using?"},{"owner":{"account_id":247380,"reputation":7563,"user_id":522058,"accept_rate":94,"display_name":"sasidhar"},"score":0,"creation_date":1293221635,"post_id":4528089,"comment_id":4960479,"body_markdown":"@Pangea i am using jdk1.6.0_23 I tried this with this even http://joda-time.sourceforge.net/ but even that didn&#39;t work....","body":"@Pangea i am using jdk1.6.0_23 I tried this with this even <a href=\"http://joda-time.sourceforge.net/\" rel=\"nofollow noreferrer\">joda-time.sourceforge.net</a> but even that didn&#39;t work...."},{"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"score":0,"creation_date":1293222817,"post_id":4528089,"comment_id":4960555,"body_markdown":"What did not work? Try doing a sys out of date 2 and post what is being printed here. I tried it with 1.6.0_20-b02.","body":"What did not work? Try doing a sys out of date 2 and post what is being printed here. I tried it with 1.6.0_20-b02."},{"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"score":0,"creation_date":1293223163,"post_id":4528089,"comment_id":4960577,"body_markdown":"Exception in thread &quot;main&quot; java.text.ParseException: Unparseable date: &quot;31-02-2010&quot;\n\tat java.text.DateFormat.parse(DateFormat.java:337)","body":"Exception in thread &quot;main&quot; java.text.ParseException: Unparseable date: &quot;31-02-2010&quot; \tat java.text.DateFormat.parse(DateFormat.java:337)"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1293226237,"post_id":4528089,"comment_id":4960778,"body_markdown":"@maximus: that&#39;s because the first has thrown an exception and thus the remnant of the code won&#39;t be executed. @sasidhar: that&#39;s because 31 january is a valid date. @duffymo: consider putting each in a try-catch so that both get executed ;)","body":"@maximus: that&#39;s because the first has thrown an exception and thus the remnant of the code won&#39;t be executed. @sasidhar: that&#39;s because 31 january is a valid date. @duffymo: consider putting each in a try-catch so that both get executed ;)"},{"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"score":1,"creation_date":1293229451,"post_id":4528089,"comment_id":4961001,"body_markdown":"I understand this is just a simple test but to just to make sure that people doesn&#39;t copy this verbatim, I want to say &quot;DateFormat&quot; IS NOT THREAD SAFE. So always create it as a local variable or use it with thread local.","body":"I understand this is just a simple test but to just to make sure that people doesn&#39;t copy this verbatim, I want to say &quot;DateFormat&quot; IS NOT THREAD SAFE. So always create it as a local variable or use it with thread local."},{"owner":{"account_id":247380,"reputation":7563,"user_id":522058,"accept_rate":94,"display_name":"sasidhar"},"score":0,"creation_date":1293255727,"post_id":4528089,"comment_id":4962056,"body_markdown":"@Pangea just figured out that the 31st of February doesn&#39;t throw an exception if we use the date format as &quot;dd-mm-yyyy&quot; it has to be &quot;dd-MM-yyyy&quot; that was the little thing worrying me from days, just noticed that i was using small letter for month, any way thanks. Any idea what the small m&#39;s mean ?","body":"@Pangea just figured out that the 31st of February doesn&#39;t throw an exception if we use the date format as &quot;dd-mm-yyyy&quot; it has to be &quot;dd-MM-yyyy&quot; that was the little thing worrying me from days, just noticed that i was using small letter for month, any way thanks. Any idea what the small m&#39;s mean ?"},{"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"score":0,"creation_date":1293256232,"post_id":4528089,"comment_id":4962078,"body_markdown":"small m is used to indicate minutes. seems like SimpleDateFormat is more forgiving that desired ;-). Look here for the supported symbols and their interpretations: http://mboshart.dyndns.org/boshart/documentation/APIdocs/api/java/text/SimpleDateFormat.html#month","body":"small m is used to indicate minutes. seems like SimpleDateFormat is more forgiving that desired ;-). Look here for the supported symbols and their interpretations: <a href=\"http://mboshart.dyndns.org/boshart/documentation/APIdocs/api/java/text/SimpleDateFormat.html#month\" rel=\"nofollow noreferrer\">mboshart.dyndns.org/boshart/documentation/APIdocs/api/java/t&zwnj;&#8203;ext/&hellip;</a>"}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":10,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1293228909,"creation_date":1293219901,"answer_id":4528089,"question_id":226910,"body_markdown":"Assuming that both of those are Strings (otherwise they&#39;d already be valid Dates), here&#39;s one way:\r\n\r\n    package cruft;\r\n    \r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    public class DateValidator\r\n    {\r\n        private static final DateFormat DEFAULT_FORMATTER;\r\n    \r\n        static\r\n        {\r\n            DEFAULT_FORMATTER = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n            DEFAULT_FORMATTER.setLenient(false);\r\n        }\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            for (String dateString : args)\r\n            {\r\n                try\r\n                {\r\n                    System.out.println(&quot;arg: &quot; + dateString + &quot; date: &quot; + convertDateString(dateString));\r\n                }\r\n                catch (ParseException e)\r\n                {\r\n                    System.out.println(&quot;could not parse &quot; + dateString);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static Date convertDateString(String dateString) throws ParseException\r\n        {\r\n            return DEFAULT_FORMATTER.parse(dateString);\r\n        }\r\n    }\r\n\r\nHere&#39;s the output I get:\r\n\r\n\r\n    java cruft.DateValidator 32-11-2010 31-02-2010 04-01-2011\r\n    could not parse 32-11-2010\r\n    could not parse 31-02-2010\r\n    arg: 04-01-2011 date: Tue Jan 04 00:00:00 EST 2011\r\n    \r\n    Process finished with exit code 0\r\n\r\nAs you can see, it does handle both of your cases nicely.\r\n","title":"How to sanity check a date in Java","body":"<p>Assuming that both of those are Strings (otherwise they'd already be valid Dates), here's one way:</p>\n\n<pre><code>package cruft;\n\nimport java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class DateValidator\n{\n    private static final DateFormat DEFAULT_FORMATTER;\n\n    static\n    {\n        DEFAULT_FORMATTER = new SimpleDateFormat(\"dd-MM-yyyy\");\n        DEFAULT_FORMATTER.setLenient(false);\n    }\n\n    public static void main(String[] args)\n    {\n        for (String dateString : args)\n        {\n            try\n            {\n                System.out.println(\"arg: \" + dateString + \" date: \" + convertDateString(dateString));\n            }\n            catch (ParseException e)\n            {\n                System.out.println(\"could not parse \" + dateString);\n            }\n        }\n    }\n\n    public static Date convertDateString(String dateString) throws ParseException\n    {\n        return DEFAULT_FORMATTER.parse(dateString);\n    }\n}\n</code></pre>\n\n<p>Here's the output I get:</p>\n\n<pre><code>java cruft.DateValidator 32-11-2010 31-02-2010 04-01-2011\ncould not parse 32-11-2010\ncould not parse 31-02-2010\narg: 04-01-2011 date: Tue Jan 04 00:00:00 EST 2011\n\nProcess finished with exit code 0\n</code></pre>\n\n<p>As you can see, it does handle both of your cases nicely.</p>\n"},{"comments":[{"owner":{"account_id":1448716,"reputation":6182,"user_id":1366353,"accept_rate":81,"display_name":"ceklock"},"score":3,"creation_date":1397090666,"post_id":4528094,"comment_id":35086192,"body_markdown":"Try with &quot;09-04-201a&quot;. It will create a crazy date.","body":"Try with &quot;09-04-201a&quot;. It will create a crazy date."},{"owner":{"account_id":1728894,"reputation":1604,"user_id":1582948,"accept_rate":33,"display_name":"Daniel Naber"},"score":0,"creation_date":1401889700,"post_id":4528094,"comment_id":37059835,"body_markdown":"@ceklock that&#39;s the way it works, no matter if you use `setLenient` or not: `SimpleDateFormat` will always parse until the pattern is matched and ignore the rest of the string, thus you get `201` as year.","body":"@ceklock that&#39;s the way it works, no matter if you use <code>setLenient</code> or not: <code>SimpleDateFormat</code> will always parse until the pattern is matched and ignore the rest of the string, thus you get <code>201</code> as year."},{"owner":{"account_id":1333279,"reputation":6465,"user_id":1276636,"accept_rate":62,"display_name":"Sufian"},"score":0,"creation_date":1432900605,"post_id":4528094,"comment_id":49131407,"body_markdown":"@ceklock I just addressed it in [my solution](http://stackoverflow.com/a/30528952/1276636). It may save a minute or two for someone.","body":"@ceklock I just addressed it in <a href=\"http://stackoverflow.com/a/30528952/1276636\">my solution</a>. It may save a minute or two for someone."},{"owner":{"account_id":1168981,"reputation":1857,"user_id":1146596,"accept_rate":92,"display_name":"RavenMan"},"score":1,"creation_date":1441396746,"post_id":4528094,"comment_id":52679657,"body_markdown":"Incorporating exception handling entails a big performance hit, so this is probably a bad design IF you expect malformed input in normal operation (e.g. validating user input). But if the method is used as a double-check against inputs that are supposed to be valid all the time (except for bugs), it is fine.","body":"Incorporating exception handling entails a big performance hit, so this is probably a bad design IF you expect malformed input in normal operation (e.g. validating user input). But if the method is used as a double-check against inputs that are supposed to be valid all the time (except for bugs), it is fine."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1534012645,"post_id":4528094,"comment_id":90561632,"body_markdown":"FYI, the terribly troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the terribly troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."}],"tags":[],"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"comment_count":5,"down_vote_count":2,"up_vote_count":93,"is_accepted":false,"score":91,"last_activity_date":1674465724,"creation_date":1293219979,"answer_id":4528094,"question_id":226910,"body_markdown":"Key is `df.setLenient(false);`. This is more than enough for simple cases. If you are looking for a more robust (I doubt that) and/or alternate libraries like [joda-time](https://www.joda.org/joda-time/), then look at the [answer by user &quot;tardate&quot;][1]\r\n\r\n    final static String DATE_FORMAT = &quot;dd-MM-yyyy&quot;;\r\n\r\n    public static boolean isDateValid(String date)\r\n    {\r\n            try {\r\n                DateFormat df = new SimpleDateFormat(DATE_FORMAT);\r\n                df.setLenient(false);\r\n                df.parse(date);\r\n                return true;\r\n            } catch (ParseException e) {\r\n                return false;\r\n            }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/892204/1076848\r\n","title":"How to sanity check a date in Java","body":"<p>Key is <code>df.setLenient(false);</code>. This is more than enough for simple cases. If you are looking for a more robust (I doubt that) and/or alternate libraries like <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">joda-time</a>, then look at the <a href=\"https://stackoverflow.com/a/892204/1076848\">answer by user &quot;tardate&quot;</a></p>\n<pre><code>final static String DATE_FORMAT = &quot;dd-MM-yyyy&quot;;\n\npublic static boolean isDateValid(String date)\n{\n        try {\n            DateFormat df = new SimpleDateFormat(DATE_FORMAT);\n            df.setLenient(false);\n            df.parse(date);\n            return true;\n        } catch (ParseException e) {\n            return false;\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1510126,"reputation":5466,"user_id":1412471,"accept_rate":60,"display_name":"Imran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363169504,"creation_date":1363169504,"answer_id":15382305,"question_id":226910,"body_markdown":"Above methods of date parsing are nice , i just added new check in existing methods that double check the converted date  with original date using formater, so it works for almost each case as i verified. e.g. 02/29/2013 is invalid date.\r\nGiven function parse the date according to current acceptable date formats. It returns true if date is not parsed successfully.\r\n \r\n   \r\n\r\n     public final boolean validateDateFormat(final String date) {\r\n            String[] formatStrings = {&quot;MM/dd/yyyy&quot;};\r\n            boolean isInvalidFormat = false;\r\n            Date dateObj;\r\n            for (String formatString : formatStrings) {\r\n                try {\r\n                    SimpleDateFormat sdf = (SimpleDateFormat) DateFormat.getDateInstance();\r\n                    sdf.applyPattern(formatString);\r\n                    sdf.setLenient(false);\r\n                    dateObj = sdf.parse(date);\r\n                    System.out.println(dateObj);\r\n                    if (date.equals(sdf.format(dateObj))) {\r\n                        isInvalidFormat = false;\r\n                        break;\r\n                    }\r\n                } catch (ParseException e) {\r\n                    isInvalidFormat = true;\r\n                }\r\n            }\r\n            return isInvalidFormat;\r\n        }\r\n","title":"How to sanity check a date in Java","body":"<p>Above methods of date parsing are nice , i just added new check in existing methods that double check the converted date  with original date using formater, so it works for almost each case as i verified. e.g. 02/29/2013 is invalid date.\nGiven function parse the date according to current acceptable date formats. It returns true if date is not parsed successfully.</p>\n\n<pre><code> public final boolean validateDateFormat(final String date) {\n        String[] formatStrings = {\"MM/dd/yyyy\"};\n        boolean isInvalidFormat = false;\n        Date dateObj;\n        for (String formatString : formatStrings) {\n            try {\n                SimpleDateFormat sdf = (SimpleDateFormat) DateFormat.getDateInstance();\n                sdf.applyPattern(formatString);\n                sdf.setLenient(false);\n                dateObj = sdf.parse(date);\n                System.out.println(dateObj);\n                if (date.equals(sdf.format(dateObj))) {\n                    isInvalidFormat = false;\n                    break;\n                }\n            } catch (ParseException e) {\n                isInvalidFormat = true;\n            }\n        }\n        return isInvalidFormat;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2305114,"reputation":8699,"user_id":2024527,"accept_rate":80,"display_name":"SANAT"},"score":0,"creation_date":1624282914,"post_id":17710658,"comment_id":120308907,"body_markdown":"I have added the answer with the method of GenericValidator: https://stackoverflow.com/a/68069005/2024527","body":"I have added the answer with the method of GenericValidator: <a href=\"https://stackoverflow.com/a/68069005/2024527\">stackoverflow.com/a/68069005/2024527</a>"}],"tags":[],"owner":{"account_id":1395473,"reputation":730,"user_id":1325331,"display_name":"Ziya"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1374096781,"creation_date":1374096781,"answer_id":17710658,"question_id":226910,"body_markdown":"I suggest you to use &lt;code&gt;org.apache.commons.validator.GenericValidator&lt;/code&gt; class from apache.\r\n\r\n&lt;code&gt;GenericValidator.isDate(String value, String datePattern, boolean strict);&lt;/code&gt;\r\n\r\nNote: strict - Whether or not to have an exact match of the datePattern.","title":"How to sanity check a date in Java","body":"<p>I suggest you to use <code>org.apache.commons.validator.GenericValidator</code> class from apache.</p>\n\n<p><code>GenericValidator.isDate(String value, String datePattern, boolean strict);</code></p>\n\n<p>Note: strict - Whether or not to have an exact match of the datePattern.</p>\n"},{"comments":[{"owner":{"account_id":2752548,"reputation":784,"user_id":2371601,"accept_rate":79,"display_name":"Susheel"},"score":2,"creation_date":1442959469,"post_id":18666219,"comment_id":53297772,"body_markdown":"can&#39;t recognize asDate. What is that?","body":"can&#39;t recognize asDate. What is that?"}],"tags":[],"owner":{"account_id":157581,"reputation":29,"user_id":2084112,"display_name":"Dresden Sparrow"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1378499888,"creation_date":1378499888,"answer_id":18666219,"question_id":226910,"body_markdown":"This is working great for me. Approach suggested above by Ben.    \r\n\r\n    private static boolean isDateValid(String s) {\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n        try {\r\n            Date d = asDate(s);\r\n            if (sdf.format(d).equals(s)) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        } catch (ParseException e) {\r\n            return false;\r\n        }\r\n    }","title":"How to sanity check a date in Java","body":"<p>This is working great for me. Approach suggested above by Ben.    </p>\n\n<pre><code>private static boolean isDateValid(String s) {\n    SimpleDateFormat sdf = new SimpleDateFormat(\"dd/MM/yyyy\");\n    try {\n        Date d = asDate(s);\n        if (sdf.format(d).equals(s)) {\n            return true;\n        } else {\n            return false;\n        }\n    } catch (ParseException e) {\n        return false;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1474583407,"post_id":23438158,"comment_id":66603058,"body_markdown":"By default, this code uses `ResolverStyle.SMART` which adjusts the resulting value to a valid date rather than throwing an exception. So this code will not accomplish the goal of the Question. See [my Answer](http://stackoverflow.com/a/39649815/642706) for example and for solution using `ResolverStyle.STRICT`.","body":"By default, this code uses <code>ResolverStyle.SMART</code> which adjusts the resulting value to a valid date rather than throwing an exception. So this code will not accomplish the goal of the Question. See <a href=\"http://stackoverflow.com/a/39649815/642706\">my Answer</a> for example and for solution using <code>ResolverStyle.STRICT</code>."},{"owner":{"account_id":2040128,"reputation":3660,"user_id":1821548,"accept_rate":91,"display_name":"Det"},"score":0,"creation_date":1643804096,"post_id":23438158,"comment_id":125435121,"body_markdown":"@BasilBourqueno no it doesn&#39;t. Just tested and `LocalDate.of()` works just like `DateTimeFormatter` with `.withResolverStyle(ResolverStyle.STRICT)`.","body":"@BasilBourqueno no it doesn&#39;t. Just tested and <code>LocalDate.of()</code> works just like <code>DateTimeFormatter</code> with <code>.withResolverStyle(ResolverStyle.STRICT)</code>."}],"tags":[],"owner":{"account_id":406441,"reputation":32619,"user_id":775954,"accept_rate":85,"display_name":"Matthias Braun"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1645357341,"creation_date":1399071328,"answer_id":23438158,"question_id":226910,"body_markdown":"# java.time\r\n\r\nWith the [Date and Time API][1] ([java.time][2] classes) built into Java 8 and later, you can use the [`LocalDate`][3] class.\r\n\r\n    public static boolean isDateValid(int year, int month, int day) {\r\n        try {\r\n            LocalDate.of(year, month, day);\r\n        } catch (DateTimeException e) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/datetime/\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n","title":"How to sanity check a date in Java","body":"<h1>java.time</h1>\n<p>With the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Date and Time API</a> (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes) built into Java 8 and later, you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> class.</p>\n<pre><code>public static boolean isDateValid(int year, int month, int day) {\n    try {\n        LocalDate.of(year, month, day);\n    } catch (DateTimeException e) {\n        return false;\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1333279,"reputation":6465,"user_id":1276636,"accept_rate":62,"display_name":"Sufian"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1565851786,"creation_date":1432900450,"answer_id":30528952,"question_id":226910,"body_markdown":"Building on [Aravind&#39;s answer][1] to fix the problem pointed out by [ceklock in his comment][2], I added a method to verify that the `dateString` doesn&#39;t contain any invalid character.\r\n\r\nHere is how I do:\r\n\r\n    private boolean isDateCorrect(String dateString) {\r\n\t\ttry {\r\n\t\t\tDate date = mDateFormatter.parse(dateString);\r\n\t\t\tCalendar calendar = Calendar.getInstance();\r\n\t\t\tcalendar.setTime(date);\r\n\t\t\treturn matchesOurDatePattern(dateString);    //added my method\r\n\t\t}\r\n\t\tcatch (ParseException e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * This will check if the provided string matches our date format\r\n\t * @param dateString\r\n\t * @return true if the passed string matches format 2014-1-15 (YYYY-MM-dd)\r\n\t */\r\n\tprivate boolean matchesDatePattern(String dateString) {\r\n\t\treturn dateString.matches(&quot;^\\\\d+\\\\-\\\\d+\\\\-\\\\d+&quot;);\r\n\t}\r\n\r\n  [1]: https://stackoverflow.com/questions/226910/how-to-sanity-check-a-date-in-java/4528094#4528094\r\n  [2]: https://stackoverflow.com/questions/226910/how-to-sanity-check-a-date-in-java/30528952#comment35086192_4528094","title":"How to sanity check a date in Java","body":"<p>Building on <a href=\"https://stackoverflow.com/questions/226910/how-to-sanity-check-a-date-in-java/4528094#4528094\">Aravind's answer</a> to fix the problem pointed out by <a href=\"https://stackoverflow.com/questions/226910/how-to-sanity-check-a-date-in-java/30528952#comment35086192_4528094\">ceklock in his comment</a>, I added a method to verify that the <code>dateString</code> doesn't contain any invalid character.</p>\n\n<p>Here is how I do:</p>\n\n<pre><code>private boolean isDateCorrect(String dateString) {\n    try {\n        Date date = mDateFormatter.parse(dateString);\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTime(date);\n        return matchesOurDatePattern(dateString);    //added my method\n    }\n    catch (ParseException e) {\n        return false;\n    }\n}\n\n/**\n * This will check if the provided string matches our date format\n * @param dateString\n * @return true if the passed string matches format 2014-1-15 (YYYY-MM-dd)\n */\nprivate boolean matchesDatePattern(String dateString) {\n    return dateString.matches(\"^\\\\d+\\\\-\\\\d+\\\\-\\\\d+\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7773637,"reputation":51,"user_id":5882412,"display_name":"mawa"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1454579360,"creation_date":1454579360,"answer_id":35197612,"question_id":226910,"body_markdown":"I think the simpliest is just to convert a string into a date object and convert it back to a string. The given date string is fine if both strings still match.\r\n\r\n    public boolean isDateValid(String dateString, String pattern)\r\n    {\t\r\n        try\r\n        {\r\n            SimpleDateFormat sdf = new SimpleDateFormat(pattern);\r\n            if (sdf.format(sdf.parse(dateString)).equals(dateString))\r\n                return true;\r\n        }\r\n        catch (ParseException pe) {}\r\n        \r\n        return false;\r\n    }\r\n","title":"How to sanity check a date in Java","body":"<p>I think the simpliest is just to convert a string into a date object and convert it back to a string. The given date string is fine if both strings still match.</p>\n\n<pre><code>public boolean isDateValid(String dateString, String pattern)\n{   \n    try\n    {\n        SimpleDateFormat sdf = new SimpleDateFormat(pattern);\n        if (sdf.format(sdf.parse(dateString)).equals(dateString))\n            return true;\n    }\n    catch (ParseException pe) {}\n\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5667532,"reputation":427,"user_id":4483303,"display_name":"TennisVisuals"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472748684,"creation_date":1472748684,"answer_id":39276958,"question_id":226910,"body_markdown":"Here&#39;s what I did for Node environment using no external libraries:\r\n\r\n    Date.prototype.yyyymmdd = function() {\r\n       var yyyy = this.getFullYear().toString();\r\n       var mm = (this.getMonth()+1).toString(); // getMonth() is zero-based\r\n       var dd  = this.getDate().toString();\r\n       return zeroPad([yyyy, mm, dd].join(&#39;-&#39;));  \r\n    };\r\n\r\n    function zeroPad(date_string) {\r\n       var dt = date_string.split(&#39;-&#39;);\r\n       return dt[0] + &#39;-&#39; + (dt[1][1]?dt[1]:&quot;0&quot;+dt[1][0]) + &#39;-&#39; + (dt[2][1]?dt[2]:&quot;0&quot;+dt[2][0]);\r\n    }\r\n\r\n    function isDateCorrect(in_string) {\r\n       if (!matchesDatePattern) return false;\r\n       in_string = zeroPad(in_string);\r\n       try {\r\n          var idate = new Date(in_string);\r\n          var out_string = idate.yyyymmdd();\r\n          return in_string == out_string;\r\n       } catch(err) {\r\n          return false;\r\n       }\r\n\r\n       function matchesDatePattern(date_string) {\r\n          var dateFormat = /[0-9]+-[0-9]+-[0-9]+/;\r\n          return dateFormat.test(date_string); \r\n       }\r\n    }\r\n\r\nAnd here is how to use it:\r\n\r\n    isDateCorrect(&#39;2014-02-23&#39;)\r\n    true\r\n\r\n","title":"How to sanity check a date in Java","body":"<p>Here's what I did for Node environment using no external libraries:</p>\n\n<pre><code>Date.prototype.yyyymmdd = function() {\n   var yyyy = this.getFullYear().toString();\n   var mm = (this.getMonth()+1).toString(); // getMonth() is zero-based\n   var dd  = this.getDate().toString();\n   return zeroPad([yyyy, mm, dd].join('-'));  \n};\n\nfunction zeroPad(date_string) {\n   var dt = date_string.split('-');\n   return dt[0] + '-' + (dt[1][1]?dt[1]:\"0\"+dt[1][0]) + '-' + (dt[2][1]?dt[2]:\"0\"+dt[2][0]);\n}\n\nfunction isDateCorrect(in_string) {\n   if (!matchesDatePattern) return false;\n   in_string = zeroPad(in_string);\n   try {\n      var idate = new Date(in_string);\n      var out_string = idate.yyyymmdd();\n      return in_string == out_string;\n   } catch(err) {\n      return false;\n   }\n\n   function matchesDatePattern(date_string) {\n      var dateFormat = /[0-9]+-[0-9]+-[0-9]+/;\n      return dateFormat.test(date_string); \n   }\n}\n</code></pre>\n\n<p>And here is how to use it:</p>\n\n<pre><code>isDateCorrect('2014-02-23')\ntrue\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2805582,"reputation":5186,"user_id":2412895,"accept_rate":47,"display_name":"KarelG"},"score":0,"creation_date":1492601835,"post_id":39649815,"comment_id":74043506,"body_markdown":"Well, assume that the project is being compiled with java 8+, then your answer is correct. I&#39;m using these classes too when the project is in java 8. But sometimes I have to touch those ugly ancient jsp scriptlets (that even doesn&#39;t support java 7). Validating dates there is a pain. Hence I&#39;m here. Yet your answer is the most correct approach... Conclusion: I am screwed.","body":"Well, assume that the project is being compiled with java 8+, then your answer is correct. I&#39;m using these classes too when the project is in java 8. But sometimes I have to touch those ugly ancient jsp scriptlets (that even doesn&#39;t support java 7). Validating dates there is a pain. Hence I&#39;m here. Yet your answer is the most correct approach... Conclusion: I am screwed."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1492602257,"post_id":39649815,"comment_id":74043791,"body_markdown":"@KarelG Re-read that second-to-last paragraph about [back-port to Java 6 &amp; Java 7](http://www.threeten.org/threetenbp/). I have not verified this behavior in the back-port but I suggest you give it a try.","body":"@KarelG Re-read that second-to-last paragraph about <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">back-port to Java 6 &amp; Java 7</a>. I have not verified this behavior in the back-port but I suggest you give it a try."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1570067686,"creation_date":1474583109,"answer_id":39649815,"question_id":226910,"body_markdown":"# tl;dr\r\n\r\nUse the [strict mode][1] on [`java.time.DateTimeFormatter`][2] to parse a [`LocalDate`][3]. Trap for the [`DateTimeParseException`][4].\r\n\r\n    LocalDate.parse(                   // Represent a date-only value, without time-of-day and without time zone.\r\n        &quot;31/02/2000&quot; ,                 // Input string.\r\n        DateTimeFormatter              // Define a formatting pattern to match your input string.\r\n        .ofPattern ( &quot;dd/MM/uuuu&quot; )\r\n        .withResolverStyle ( ResolverStyle.STRICT )  // Specify leniency in tolerating questionable inputs.\r\n    )\r\n\r\nAfter parsing, you might check for reasonable value. For example, a birth date within last one hundred years.\r\n\r\n    birthDate.isAfter( LocalDate.now().minusYears( 100 ) )\r\n\r\n# Avoid legacy date-time classes\r\n\r\nAvoid using the troublesome old date-time classes shipped with the earliest versions of Java. Now supplanted by the [java.time][5] classes.\r\n\r\n# `LocalDate` &amp; `DateTimeFormatter` &amp; `ResolverStyle`\r\n\r\nThe [`LocalDate`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html) class represents a date-only value without time-of-day and without time zone.\r\n\r\n    String input = &quot;31/02/2000&quot;;\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern ( &quot;dd/MM/uuuu&quot; );\r\n    try {\r\n        LocalDate ld = LocalDate.parse ( input , f );\r\n        System.out.println ( &quot;ld: &quot; + ld );\r\n    } catch ( DateTimeParseException e ) {\r\n        System.out.println ( &quot;ERROR: &quot; + e );\r\n    }\r\n\r\nThe [`java.time.DateTimeFormatter`][2] class can be set to parse strings with any of three leniency modes defined in the [`ResolverStyle`][6] enum. We insert a line into the above code to try each of the modes.\r\n\r\n    f = f.withResolverStyle ( ResolverStyle.LENIENT );\r\n\r\nThe results:\r\n\r\n - `ResolverStyle.LENIENT`&lt;br /&gt;ld: 2000-03-02\r\n - `ResolverStyle.SMART`&lt;br /&gt;ld: 2000-02-29\r\n - `ResolverStyle.STRICT`&lt;br /&gt;ERROR: java.time.format.DateTimeParseException: Text &#39;31/02/2000&#39; could not be parsed: Invalid date &#39;FEBRUARY 31&#39;\r\n\r\nWe can see that in [`ResolverStyle.LENIENT`][7] mode, the invalid date is moved forward an equivalent number of days. In [`ResolverStyle.SMART`][8] mode (the default), a logical decision is made to keep the date within the month and going with the last possible day of the month, Feb 29 in a leap year, as there is no 31st day in that month. The [`ResolverStyle.STRICT`][1] mode throws an exception complaining that there is no such date.\r\n\r\nAll three of these are reasonable depending on your business problem and policies. Sounds like in your case you want the strict mode to reject the invalid date rather than adjust it.\r\n\r\n\r\n----------\r\n\r\n\r\n[![Table of all date-time types in Java, both modern and legacy.][9]][9]\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n[![Table of which java.time library to use with which version of Java or Android][10]][10]\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/format/ResolverStyle.html#STRICT\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeParseException.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [6]: http://docs.oracle.com/javase/8/docs/api/java/time/format/ResolverStyle.html\r\n  [7]: http://docs.oracle.com/javase/8/docs/api/java/time/format/ResolverStyle.html#LENIENT\r\n  [8]: http://docs.oracle.com/javase/8/docs/api/java/time/format/ResolverStyle.html#SMART\r\n  [9]: https://i.stack.imgur.com/bDIIx.png\r\n  [10]: https://i.stack.imgur.com/JV8ms.png","title":"How to sanity check a date in Java","body":"<h1>tl;dr</h1>\n\n<p>Use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/ResolverStyle.html#STRICT\" rel=\"noreferrer\">strict mode</a> on <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>java.time.DateTimeFormatter</code></a> to parse a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a>. Trap for the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeParseException.html\" rel=\"noreferrer\"><code>DateTimeParseException</code></a>.</p>\n\n<pre><code>LocalDate.parse(                   // Represent a date-only value, without time-of-day and without time zone.\n    \"31/02/2000\" ,                 // Input string.\n    DateTimeFormatter              // Define a formatting pattern to match your input string.\n    .ofPattern ( \"dd/MM/uuuu\" )\n    .withResolverStyle ( ResolverStyle.STRICT )  // Specify leniency in tolerating questionable inputs.\n)\n</code></pre>\n\n<p>After parsing, you might check for reasonable value. For example, a birth date within last one hundred years.</p>\n\n<pre><code>birthDate.isAfter( LocalDate.now().minusYears( 100 ) )\n</code></pre>\n\n<h1>Avoid legacy date-time classes</h1>\n\n<p>Avoid using the troublesome old date-time classes shipped with the earliest versions of Java. Now supplanted by the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<h1><code>LocalDate</code> &amp; <code>DateTimeFormatter</code> &amp; <code>ResolverStyle</code></h1>\n\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> class represents a date-only value without time-of-day and without time zone.</p>\n\n<pre><code>String input = \"31/02/2000\";\nDateTimeFormatter f = DateTimeFormatter.ofPattern ( \"dd/MM/uuuu\" );\ntry {\n    LocalDate ld = LocalDate.parse ( input , f );\n    System.out.println ( \"ld: \" + ld );\n} catch ( DateTimeParseException e ) {\n    System.out.println ( \"ERROR: \" + e );\n}\n</code></pre>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>java.time.DateTimeFormatter</code></a> class can be set to parse strings with any of three leniency modes defined in the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/ResolverStyle.html\" rel=\"noreferrer\"><code>ResolverStyle</code></a> enum. We insert a line into the above code to try each of the modes.</p>\n\n<pre><code>f = f.withResolverStyle ( ResolverStyle.LENIENT );\n</code></pre>\n\n<p>The results:</p>\n\n<ul>\n<li><code>ResolverStyle.LENIENT</code><br />ld: 2000-03-02</li>\n<li><code>ResolverStyle.SMART</code><br />ld: 2000-02-29</li>\n<li><code>ResolverStyle.STRICT</code><br />ERROR: java.time.format.DateTimeParseException: Text '31/02/2000' could not be parsed: Invalid date 'FEBRUARY 31'</li>\n</ul>\n\n<p>We can see that in <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/ResolverStyle.html#LENIENT\" rel=\"noreferrer\"><code>ResolverStyle.LENIENT</code></a> mode, the invalid date is moved forward an equivalent number of days. In <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/ResolverStyle.html#SMART\" rel=\"noreferrer\"><code>ResolverStyle.SMART</code></a> mode (the default), a logical decision is made to keep the date within the month and going with the last possible day of the month, Feb 29 in a leap year, as there is no 31st day in that month. The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/ResolverStyle.html#STRICT\" rel=\"noreferrer\"><code>ResolverStyle.STRICT</code></a> mode throws an exception complaining that there is no such date.</p>\n\n<p>All three of these are reasonable depending on your business problem and policies. Sounds like in your case you want the strict mode to reject the invalid date rather than adjust it.</p>\n\n<hr>\n\n<p><a href=\"https://i.stack.imgur.com/bDIIx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bDIIx.png\" alt=\"Table of all date-time types in Java, both modern and legacy.\"></a></p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n\n<ul>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/JV8ms.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JV8ms.png\" alt=\"Table of which java.time library to use with which version of Java or Android\"></a></p>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":2662349,"reputation":807,"user_id":2301721,"accept_rate":0,"display_name":"ashishdhiman2007"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499231344,"creation_date":1499231344,"answer_id":44917419,"question_id":226910,"body_markdown":"    // to return valid days of month, according to month and year\r\n    int returnDaysofMonth(int month, int year) {\r\n        int daysInMonth;\r\n        boolean leapYear;\r\n        leapYear = checkLeap(year);\r\n        if (month == 4 || month == 6 || month == 9 || month == 11)\r\n            daysInMonth = 30;\r\n        else if (month == 2)\r\n            daysInMonth = (leapYear) ? 29 : 28;\r\n        else\r\n            daysInMonth = 31;\r\n        return daysInMonth;\r\n    }\r\n\r\n    // to check a year is leap or not\r\n    private boolean checkLeap(int year) {\r\n        Calendar cal = Calendar.getInstance();\r\n        cal.set(Calendar.YEAR, year);\r\n        return cal.getActualMaximum(Calendar.DAY_OF_YEAR) &gt; 365;\r\n    }","title":"How to sanity check a date in Java","body":"<pre><code>// to return valid days of month, according to month and year\nint returnDaysofMonth(int month, int year) {\n    int daysInMonth;\n    boolean leapYear;\n    leapYear = checkLeap(year);\n    if (month == 4 || month == 6 || month == 9 || month == 11)\n        daysInMonth = 30;\n    else if (month == 2)\n        daysInMonth = (leapYear) ? 29 : 28;\n    else\n        daysInMonth = 31;\n    return daysInMonth;\n}\n\n// to check a year is leap or not\nprivate boolean checkLeap(int year) {\n    Calendar cal = Calendar.getInstance();\n    cal.set(Calendar.YEAR, year);\n    return cal.getActualMaximum(Calendar.DAY_OF_YEAR) &gt; 365;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1541025827,"post_id":53091974,"comment_id":93082577,"body_markdown":"We have the modern [*java.time* classes](https://docs.oracle.com/javase/tutorial/datetime/TOC.html) for this work now. Writing complicated regex is not likely the best use of your time. See the one-liner in [my Answer](https://stackoverflow.com/a/39649815/642706).","body":"We have the modern <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>java.time</i> classes</a> for this work now. Writing complicated regex is not likely the best use of your time. See the one-liner in <a href=\"https://stackoverflow.com/a/39649815/642706\">my Answer</a>."}],"tags":[],"owner":{"account_id":12622250,"reputation":107,"user_id":9177302,"display_name":"db07"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541020033,"creation_date":1541020033,"answer_id":53091974,"question_id":226910,"body_markdown":"Here is I would check the date format:\r\n\r\n     public static boolean checkFormat(String dateTimeString) {\r\n        return dateTimeString.matches(&quot;^\\\\d{4}-\\\\d{2}-\\\\d{2}&quot;) || dateTimeString.matches(&quot;^\\\\d{4}-\\\\d{2}-\\\\d{2}\\\\s\\\\d{2}:\\\\d{2}:\\\\d{2}&quot;)\r\n                || dateTimeString.matches(&quot;^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}&quot;) || dateTimeString\r\n                .matches(&quot;^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}Z&quot;) ||\r\n                dateTimeString.matches(&quot;^\\\\d{4}-\\\\d{2}-\\\\d{2}\\\\s\\\\d{2}:\\\\d{2}:\\\\d{2}Z&quot;);\r\n    }","title":"How to sanity check a date in Java","body":"<p>Here is I would check the date format:</p>\n\n<pre><code> public static boolean checkFormat(String dateTimeString) {\n    return dateTimeString.matches(\"^\\\\d{4}-\\\\d{2}-\\\\d{2}\") || dateTimeString.matches(\"^\\\\d{4}-\\\\d{2}-\\\\d{2}\\\\s\\\\d{2}:\\\\d{2}:\\\\d{2}\")\n            || dateTimeString.matches(\"^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}\") || dateTimeString\n            .matches(\"^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}Z\") ||\n            dateTimeString.matches(\"^\\\\d{4}-\\\\d{2}-\\\\d{2}\\\\s\\\\d{2}:\\\\d{2}:\\\\d{2}Z\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10567145,"reputation":151,"user_id":7785060,"display_name":"Suheb Rafique"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562244743,"creation_date":1562244743,"answer_id":56888385,"question_id":226910,"body_markdown":"            public static String detectDateFormat(String inputDate, String requiredFormat) {\r\n            String tempDate = inputDate.replace(&quot;/&quot;, &quot;&quot;).replace(&quot;-&quot;, &quot;&quot;).replace(&quot; &quot;, &quot;&quot;);\r\n            String dateFormat;\r\n    \r\n            if (tempDate.matches(&quot;([0-12]{2})([0-31]{2})([0-9]{4})&quot;)) {\r\n                dateFormat = &quot;MMddyyyy&quot;;\r\n            } else if (tempDate.matches(&quot;([0-31]{2})([0-12]{2})([0-9]{4})&quot;)) {\r\n                dateFormat = &quot;ddMMyyyy&quot;;\r\n            } else if (tempDate.matches(&quot;([0-9]{4})([0-12]{2})([0-31]{2})&quot;)) {\r\n                dateFormat = &quot;yyyyMMdd&quot;;\r\n            } else if (tempDate.matches(&quot;([0-9]{4})([0-31]{2})([0-12]{2})&quot;)) {\r\n                dateFormat = &quot;yyyyddMM&quot;;\r\n            } else if (tempDate.matches(&quot;([0-31]{2})([a-z]{3})([0-9]{4})&quot;)) {\r\n                dateFormat = &quot;ddMMMyyyy&quot;;\r\n            } else if (tempDate.matches(&quot;([a-z]{3})([0-31]{2})([0-9]{4})&quot;)) {\r\n                dateFormat = &quot;MMMddyyyy&quot;;\r\n            } else if (tempDate.matches(&quot;([0-9]{4})([a-z]{3})([0-31]{2})&quot;)) {\r\n                dateFormat = &quot;yyyyMMMdd&quot;;\r\n            } else if (tempDate.matches(&quot;([0-9]{4})([0-31]{2})([a-z]{3})&quot;)) {\r\n                dateFormat = &quot;yyyyddMMM&quot;;\r\n            } else {\r\n                return &quot;Pattern Not Added&quot;;\r\n    //add your required regex\r\n            }\r\n            try {\r\n                String formattedDate = new SimpleDateFormat(requiredFormat, Locale.ENGLISH).format(new SimpleDateFormat(dateFormat).parse(tempDate));\r\n              \r\n                return formattedDate;\r\n            } catch (Exception e) {\r\n                //\r\n                return &quot;&quot;;\r\n            }\r\n    \r\n        }\r\n\r\n","title":"How to sanity check a date in Java","body":"<pre><code>        public static String detectDateFormat(String inputDate, String requiredFormat) {\n        String tempDate = inputDate.replace(\"/\", \"\").replace(\"-\", \"\").replace(\" \", \"\");\n        String dateFormat;\n\n        if (tempDate.matches(\"([0-12]{2})([0-31]{2})([0-9]{4})\")) {\n            dateFormat = \"MMddyyyy\";\n        } else if (tempDate.matches(\"([0-31]{2})([0-12]{2})([0-9]{4})\")) {\n            dateFormat = \"ddMMyyyy\";\n        } else if (tempDate.matches(\"([0-9]{4})([0-12]{2})([0-31]{2})\")) {\n            dateFormat = \"yyyyMMdd\";\n        } else if (tempDate.matches(\"([0-9]{4})([0-31]{2})([0-12]{2})\")) {\n            dateFormat = \"yyyyddMM\";\n        } else if (tempDate.matches(\"([0-31]{2})([a-z]{3})([0-9]{4})\")) {\n            dateFormat = \"ddMMMyyyy\";\n        } else if (tempDate.matches(\"([a-z]{3})([0-31]{2})([0-9]{4})\")) {\n            dateFormat = \"MMMddyyyy\";\n        } else if (tempDate.matches(\"([0-9]{4})([a-z]{3})([0-31]{2})\")) {\n            dateFormat = \"yyyyMMMdd\";\n        } else if (tempDate.matches(\"([0-9]{4})([0-31]{2})([a-z]{3})\")) {\n            dateFormat = \"yyyyddMMM\";\n        } else {\n            return \"Pattern Not Added\";\n//add your required regex\n        }\n        try {\n            String formattedDate = new SimpleDateFormat(requiredFormat, Locale.ENGLISH).format(new SimpleDateFormat(dateFormat).parse(tempDate));\n\n            return formattedDate;\n        } catch (Exception e) {\n            //\n            return \"\";\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8088812,"reputation":4423,"user_id":6095444,"display_name":"Pravin Bansal"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1562347700,"creation_date":1562347700,"answer_id":56907180,"question_id":226910,"body_markdown":"setLenient to false if you like a strict validation\r\n\r\n    public boolean isThisDateValid(String dateToValidate, String dateFromat){\r\n\t\t\r\n\t\tif(dateToValidate == null){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tSimpleDateFormat sdf = new SimpleDateFormat(dateFromat);\r\n\t\tsdf.setLenient(false);\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\t//if not valid, it will throw ParseException\r\n\t\t\tDate date = sdf.parse(dateToValidate);\r\n\t\t\tSystem.out.println(date);\r\n\t\t\r\n\t\t} catch (ParseException e) {\r\n\t\t\t\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\treturn true;\r\n\t}","title":"How to sanity check a date in Java","body":"<p>setLenient to false if you like a strict validation</p>\n\n<pre><code>public boolean isThisDateValid(String dateToValidate, String dateFromat){\n\n    if(dateToValidate == null){\n        return false;\n    }\n\n    SimpleDateFormat sdf = new SimpleDateFormat(dateFromat);\n    sdf.setLenient(false);\n\n    try {\n\n        //if not valid, it will throw ParseException\n        Date date = sdf.parse(dateToValidate);\n        System.out.println(date);\n\n    } catch (ParseException e) {\n\n        e.printStackTrace();\n        return false;\n    }\n\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10419412,"reputation":637,"user_id":7682476,"display_name":"vijay"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564477455,"creation_date":1564477455,"answer_id":57268013,"question_id":226910,"body_markdown":"looks like ***SimpleDateFormat*** is not checking the pattern strictly even after *setLenient(false);* method is applied on it, so i have used below method to validate if the date inputted is valid date or not as per supplied pattern.\r\n    \r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.DateTimeParseException;\r\n    public boolean isValidFormat(String dateString, String pattern) {\r\n\t\tboolean valid = true;\r\n\t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(pattern);\r\n\t\ttry {\r\n\t\t\tformatter.parse(dateString);\r\n\t\t} catch (DateTimeParseException e) {\r\n\t\t\tvalid = false;\r\n\t\t}\r\n\t\treturn valid;\r\n\t}","title":"How to sanity check a date in Java","body":"<p>looks like <strong><em>SimpleDateFormat</em></strong> is not checking the pattern strictly even after <em>setLenient(false);</em> method is applied on it, so i have used below method to validate if the date inputted is valid date or not as per supplied pattern.</p>\n\n<pre><code>import java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeParseException;\npublic boolean isValidFormat(String dateString, String pattern) {\n    boolean valid = true;\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(pattern);\n    try {\n        formatter.parse(dateString);\n    } catch (DateTimeParseException e) {\n        valid = false;\n    }\n    return valid;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":270457,"reputation":1691,"user_id":560410,"display_name":"skay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570051958,"creation_date":1570051958,"answer_id":58209655,"question_id":226910,"body_markdown":"With &#39;legacy&#39; date format, we can format the result and compare it back to the source.\r\n\r\n    \tpublic boolean isValidFormat(String source, String pattern) {\r\n\t\tSimpleDateFormat sd = new SimpleDateFormat(pattern);\r\n\t\tsd.setLenient(false);\r\n\t\ttry {\r\n\t\t\tDate date = sd.parse(source);\r\n\t\t\treturn date != null &amp;&amp; sd.format(date).equals(source);\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\nThis execerpt says &#39;false&#39; to source=01.01.04 with pattern &#39;01.01.2004&#39;","title":"How to sanity check a date in Java","body":"<p>With 'legacy' date format, we can format the result and compare it back to the source.</p>\n\n<pre><code>    public boolean isValidFormat(String source, String pattern) {\n    SimpleDateFormat sd = new SimpleDateFormat(pattern);\n    sd.setLenient(false);\n    try {\n        Date date = sd.parse(source);\n        return date != null &amp;&amp; sd.format(date).equals(source);\n    } catch (Exception e) {\n        return false;\n    }\n}\n</code></pre>\n\n<p>This execerpt says 'false' to source=01.01.04 with pattern '01.01.2004'</p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1624295772,"post_id":68069005,"comment_id":120314508,"body_markdown":"I recommend not. The `SimpleDateFormat` class used in that Apache code is notoriously troublesome and long outdated. Also the length check is not sound (though you can probably find corner cases where it gives the expected result).","body":"I recommend not. The <code>SimpleDateFormat</code> class used in that Apache code is notoriously troublesome and long outdated. Also the length check is not sound (though you can probably find corner cases where it gives the expected result)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1624296046,"post_id":68069005,"comment_id":120314594,"body_markdown":"`isValidDate(&quot;August 14, 2021&quot;, &quot;MMMM d, yyyy&quot;, true)`, which I believe to be 100 % valid, yields `false`. And `isValidDate(&quot;May 9, 2021?&quot;, &quot;MMMM d, yyyy&quot;, true)`, with the question mark that should not be allowed there, yields `true`.","body":"<code>isValidDate(&quot;August 14, 2021&quot;, &quot;MMMM d, yyyy&quot;, true)</code>, which I believe to be 100 % valid, yields <code>false</code>. And <code>isValidDate(&quot;May 9, 2021?&quot;, &quot;MMMM d, yyyy&quot;, true)</code>, with the question mark that should not be allowed there, yields <code>true</code>."}],"tags":[],"owner":{"account_id":2305114,"reputation":8699,"user_id":2024527,"accept_rate":80,"display_name":"SANAT"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624282824,"creation_date":1624282824,"answer_id":68069005,"question_id":226910,"body_markdown":"We can use the `org.apache.commons.validator.GenericValidator`&#39;s method directly without adding the whole library:\r\n\r\n\r\n    public static boolean isValidDate(String value, String datePattern, boolean strict) {\r\n\r\n        if (value == null\r\n                || datePattern == null\r\n                || datePattern.length() &lt;= 0) {\r\n\r\n            return false;\r\n        }\r\n\r\n        SimpleDateFormat formatter = new SimpleDateFormat(datePattern, Locale.ENGLISH);\r\n        formatter.setLenient(false);\r\n\r\n        try {\r\n            formatter.parse(value);\r\n        } catch(ParseException e) {\r\n            return false;\r\n        }\r\n\r\n        if (strict &amp;&amp; (datePattern.length() != value.length())) {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }","title":"How to sanity check a date in Java","body":"<p>We can use the <code>org.apache.commons.validator.GenericValidator</code>'s method directly without adding the whole library:</p>\n<pre><code>public static boolean isValidDate(String value, String datePattern, boolean strict) {\n\n    if (value == null\n            || datePattern == null\n            || datePattern.length() &lt;= 0) {\n\n        return false;\n    }\n\n    SimpleDateFormat formatter = new SimpleDateFormat(datePattern, Locale.ENGLISH);\n    formatter.setLenient(false);\n\n    try {\n        formatter.parse(value);\n    } catch(ParseException e) {\n        return false;\n    }\n\n    if (strict &amp;&amp; (datePattern.length() != value.length())) {\n        return false;\n    }\n\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651349,"reputation":4535,"user_id":7756492,"display_name":"ucMedia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657385475,"creation_date":1657203980,"answer_id":72899575,"question_id":226910,"body_markdown":"A simple and elegant way for **Android developers**  (Java 8 not required):\r\n\r\n    // month value is 1-based. e.g., 1 for January.\r\n    public static boolean isDateValid(int year, int month, int day) {\r\n        Calendar calendar = Calendar.getInstance();\r\n        try {\r\n            calendar.setLenient(false);\r\n            calendar.set(year, month-1, day);\r\n            calendar.getTime();\r\n            return true;\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n    }\r\n","title":"How to sanity check a date in Java","body":"<p>A simple and elegant way for <strong>Android developers</strong>  (Java 8 not required):</p>\n<pre><code>// month value is 1-based. e.g., 1 for January.\npublic static boolean isDateValid(int year, int month, int day) {\n    Calendar calendar = Calendar.getInstance();\n    try {\n        calendar.setLenient(false);\n        calendar.set(year, month-1, day);\n        calendar.getTime();\n        return true;\n    } catch (Exception e) {\n        return false;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":5,"creation_date":1661102489,"post_id":73434373,"comment_id":129686573,"body_markdown":"Thank you for wanting to contribute. Please don’t teach the young ones to use the long outdated and notoriously troublesome `SimpleDateFormat` class. At least not as the first option. And not without any reservation. We have so much better in [`java.time`, the modern Java date and time API,](https://docs.oracle.com/javase/tutorial/datetime/) and its `DateTimeFormatter`. Also are you contributing anything new? The checking for null and empty is already in the answer by SANAT.","body":"Thank you for wanting to contribute. Please don’t teach the young ones to use the long outdated and notoriously troublesome <code>SimpleDateFormat</code> class. At least not as the first option. And not without any reservation. We have so much better in <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\"><code>java.time</code>, the modern Java date and time API,</a> and its <code>DateTimeFormatter</code>. Also are you contributing anything new? The checking for null and empty is already in the answer by SANAT."}],"tags":[],"owner":{"account_id":26121378,"reputation":1,"user_id":19813614,"display_name":"Nagendra Rao"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661084750,"creation_date":1661084750,"answer_id":73434373,"question_id":226910,"body_markdown":"Below code works with dd/MM/yyyy format and can be used to check NotNull,NotEmpty as well.\r\n\r\npublic static boolean validateJavaDate(String strDate) {\r\n\r\n\t\tif (strDate != null &amp;&amp; !strDate.isEmpty() &amp;&amp; !strDate.equalsIgnoreCase(&quot; &quot;)) {\r\n\t\t\t{\r\n\r\n\t\t\t\tSimpleDateFormat date = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n\t\t\t\tdate.setLenient(false);\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tDate javaDate = date.parse(strDate);\r\n\t\t\t\t\tSystem.out.println(strDate + &quot; Valid Date format&quot;);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcatch (ParseException e) {\r\n\t\t\t\t\tSystem.out.println(strDate + &quot; Invalid Date format&quot;);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tSystem.out.println(strDate + &quot;----&gt; Date is Null/Empty&quot;);\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t}","title":"How to sanity check a date in Java","body":"<p>Below code works with dd/MM/yyyy format and can be used to check NotNull,NotEmpty as well.</p>\n<p>public static boolean validateJavaDate(String strDate) {</p>\n<pre><code>    if (strDate != null &amp;&amp; !strDate.isEmpty() &amp;&amp; !strDate.equalsIgnoreCase(&quot; &quot;)) {\n        {\n\n            SimpleDateFormat date = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n            date.setLenient(false);\n\n            try {\n                Date javaDate = date.parse(strDate);\n                System.out.println(strDate + &quot; Valid Date format&quot;);\n            }\n\n            catch (ParseException e) {\n                System.out.println(strDate + &quot; Invalid Date format&quot;);\n                return false;\n            }\n            return true;\n        }\n\n    } else {\n        System.out.println(strDate + &quot;----&gt; Date is Null/Empty&quot;);\n        return false;\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1680292653,"post_id":75902243,"comment_id":133879780,"body_markdown":"Strongly discouraged. The `Calendar` class was cumbersome to work with and for that reason was supplanted by java.time, the modern Java date and time API, nearly 10 years ago. Use java.time and your task will be an immense lot easier and simpler. It’s built-in since Java 8. Also no one should wnat an old-fashioned `Date` since that Java version. I agree not to use any external library.","body":"Strongly discouraged. The <code>Calendar</code> class was cumbersome to work with and for that reason was supplanted by java.time, the modern Java date and time API, nearly 10 years ago. Use java.time and your task will be an immense lot easier and simpler. It’s built-in since Java 8. Also no one should wnat an old-fashioned <code>Date</code> since that Java version. I agree not to use any external library."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680293032,"post_id":75902243,"comment_id":133879872,"body_markdown":"Compare your 60 lines, some of which I don’t understand readily, with the 6 lines solution in [the good answer by Basil Bourque](https://stackoverflow.com/a/39649815/5772882). How can you call your way simple? I can’t make any sense of that claim.","body":"Compare your 60 lines, some of which I don’t understand readily, with the 6 lines solution in <a href=\"https://stackoverflow.com/a/39649815/5772882\">the good answer by Basil Bourque</a>. How can you call your way simple? I can’t make any sense of that claim."}],"tags":[],"owner":{"account_id":1077744,"reputation":81,"user_id":1075520,"display_name":"mgo1977"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680291872,"creation_date":1680291872,"answer_id":75902243,"question_id":226910,"body_markdown":"A simple way without using any external library would be:\r\n\r\n    private static final Pattern p_DATE = Pattern.compile(&quot;^\\\\s*(\\\\d+)-(\\\\d+)-(\\\\d+)\\\\s*$&quot;);\r\n    \r\n    private static Date parseDate(String v) {\r\n    \t\r\n    \tif ( v==null || v.isBlank() ) {\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \t// 2023-03-02\r\n    \tMatcher m = p_DATE.matcher(v);\r\n    \t\r\n    \tif ( ! m.find() ) {\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \tint day = Integer.parseInt(m.group(3), 10);\r\n    \tint mon = Integer.parseInt(m.group(2), 10);\r\n    \tint year = Integer.parseInt(m.group(1), 10);\r\n    \t\r\n    \t// convert years prior to 99\r\n    \tif ( year&lt;99 ) {\r\n    \t\tyear += 2000;\r\n    \t}\r\n    \t\r\n    \tif ( \r\n    \t\t\t(day&lt;0 || day&gt;31) ||\r\n    \t\t\t(mon&lt;1 || mon&gt;12) \r\n\t\t) {\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \t// validate max day\r\n    \tint maxDayOfTheMonth = getMaxDayOfTheMonth(mon, year);\r\n\r\n    \tif ( day &gt; maxDayOfTheMonth ) {\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \tCalendar cal = Calendar.getInstance();\r\n    \tcal.set(Calendar.DAY_OF_MONTH, day);\r\n    \tcal.set(Calendar.MONTH, mon-1);\r\n    \tcal.set(Calendar.YEAR, year);\r\n    \t\r\n    \tcal.set(Calendar.HOUR_OF_DAY, 0);\r\n    \tcal.set(Calendar.MINUTE, 0);\r\n    \tcal.set(Calendar.SECOND, 0);\r\n    \tcal.set(Calendar.MILLISECOND, 0);\r\n    \t\r\n\t\treturn cal.getTime();\r\n\t}\r\n\r\n\tprivate static int getMaxDayOfTheMonth(int mon, int year) {\r\n\t\t\r\n\t\tCalendar cal = Calendar.getInstance();\r\n    \tcal.set(Calendar.DAY_OF_MONTH, 1);\r\n    \tcal.set(Calendar.MONTH, mon-1);\r\n    \tcal.set(Calendar.YEAR, year);\r\n    \t\r\n    \tcal.add(Calendar.MONTH, 1);\r\n    \tcal.add(Calendar.DAY_OF_YEAR, -1);\r\n    \t\r\n    \treturn cal.get(Calendar.DAY_OF_MONTH);\r\n\t}","title":"How to sanity check a date in Java","body":"<p>A simple way without using any external library would be:</p>\n<pre><code>private static final Pattern p_DATE = Pattern.compile(&quot;^\\\\s*(\\\\d+)-(\\\\d+)-(\\\\d+)\\\\s*$&quot;);\n\nprivate static Date parseDate(String v) {\n    \n    if ( v==null || v.isBlank() ) {\n        return null;\n    }\n    \n    // 2023-03-02\n    Matcher m = p_DATE.matcher(v);\n    \n    if ( ! m.find() ) {\n        return null;\n    }\n    \n    int day = Integer.parseInt(m.group(3), 10);\n    int mon = Integer.parseInt(m.group(2), 10);\n    int year = Integer.parseInt(m.group(1), 10);\n    \n    // convert years prior to 99\n    if ( year&lt;99 ) {\n        year += 2000;\n    }\n    \n    if ( \n            (day&lt;0 || day&gt;31) ||\n            (mon&lt;1 || mon&gt;12) \n    ) {\n        return null;\n    }\n    \n    // validate max day\n    int maxDayOfTheMonth = getMaxDayOfTheMonth(mon, year);\n\n    if ( day &gt; maxDayOfTheMonth ) {\n        return null;\n    }\n    \n    Calendar cal = Calendar.getInstance();\n    cal.set(Calendar.DAY_OF_MONTH, day);\n    cal.set(Calendar.MONTH, mon-1);\n    cal.set(Calendar.YEAR, year);\n    \n    cal.set(Calendar.HOUR_OF_DAY, 0);\n    cal.set(Calendar.MINUTE, 0);\n    cal.set(Calendar.SECOND, 0);\n    cal.set(Calendar.MILLISECOND, 0);\n    \n    return cal.getTime();\n}\n\nprivate static int getMaxDayOfTheMonth(int mon, int year) {\n    \n    Calendar cal = Calendar.getInstance();\n    cal.set(Calendar.DAY_OF_MONTH, 1);\n    cal.set(Calendar.MONTH, mon-1);\n    cal.set(Calendar.YEAR, year);\n    \n    cal.add(Calendar.MONTH, 1);\n    cal.add(Calendar.DAY_OF_YEAR, -1);\n    \n    return cal.get(Calendar.DAY_OF_MONTH);\n}\n</code></pre>\n"}],"owner":{"account_id":13290,"reputation":2082,"user_id":26595,"accept_rate":100,"display_name":"Bloodboiler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282477,"favorite_count":0,"down_vote_count":0,"up_vote_count":93,"accepted_answer_id":226920,"answer_count":25,"score":93,"last_activity_date":1680291872,"creation_date":1224698648,"question_id":226910,"body_markdown":"I find it curious that the most obvious way to create `Date` objects in Java has been deprecated and appears to have been &quot;substituted&quot; with a not so obvious to use lenient calendar.\r\n\r\nHow do you check that a date, given as a combination of day, month, and year, is a valid date?\r\n\r\nFor instance, 2008-02-31 (as in yyyy-mm-dd) would be an invalid date.\r\n","title":"How to sanity check a date in Java","body":"<p>I find it curious that the most obvious way to create <code>Date</code> objects in Java has been deprecated and appears to have been \"substituted\" with a not so obvious to use lenient calendar.</p>\n\n<p>How do you check that a date, given as a combination of day, month, and year, is a valid date?</p>\n\n<p>For instance, 2008-02-31 (as in yyyy-mm-dd) would be an invalid date.</p>\n"},{"tags":["java","json","spring-boot","swagger"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1663221229,"post_id":73725565,"comment_id":130188783,"body_markdown":"Maybe this [question](https://stackoverflow.com/questions/40274353/how-to-use-localdatetime-requestparam-in-spring-i-get-failed-to-convert-string) will help. Additionally how are getting the date? There is no annotation on it.","body":"Maybe this <a href=\"https://stackoverflow.com/questions/40274353/how-to-use-localdatetime-requestparam-in-spring-i-get-failed-to-convert-string\">question</a> will help. Additionally how are getting the date? There is no annotation on it."},{"owner":{"account_id":19020553,"reputation":675,"user_id":13884720,"display_name":"Abdalrhman Alkraien"},"score":0,"creation_date":1680291602,"post_id":73725565,"comment_id":133879538,"body_markdown":"add it inside your controller method `@RequestParam(&quot;date&quot;) @JsonFormat(&quot;dd/MM/yyyy&quot;) LocalDate date`","body":"add it inside your controller method <code>@RequestParam(&quot;date&quot;) @JsonFormat(&quot;dd&#47;MM&#47;yyyy&quot;) LocalDate date</code>"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663220148,"creation_date":1663220148,"answer_id":73726074,"question_id":73725565,"body_markdown":"Perhaps this will help. Convert String date to LocalDate:\r\n\r\n    String dateString = &quot;07/11/1957&quot;;  // dd/MM/yyyy\r\n\r\n    java.time.format.DateTimeFormatter formatter = \r\n                    java.time.format.DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\r\n\r\n    java.time.LocalDate date = java.time.LocalDate.parse(dateString, formatter);\r\n\r\n    System.out.println(date); // Display LocalDate in console Window","title":"Failed to convert String to LocalDate","body":"<p>Perhaps this will help. Convert String date to LocalDate:</p>\n<pre><code>String dateString = &quot;07/11/1957&quot;;  // dd/MM/yyyy\n\njava.time.format.DateTimeFormatter formatter = \n                java.time.format.DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\n\njava.time.LocalDate date = java.time.LocalDate.parse(dateString, formatter);\n\nSystem.out.println(date); // Display LocalDate in console Window\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18089135,"reputation":450,"user_id":13149219,"display_name":"Utsav10"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663226364,"creation_date":1663226364,"answer_id":73727025,"question_id":73725565,"body_markdown":"Assuming that you&#39;re using a request param to accept the data parameter\r\n```\r\n@GetMapping(&quot;/orders/date&quot;)\r\n@Operation(summary = &quot;Find all orders by date&quot;)\r\npublic List&lt;OrderInfo&gt; findAllOrderByDate(\r\n    @RequestParam(&quot;date&quot;) @JsonFormat(&quot;dd/MM/yyyy&quot;) LocalDate date\r\n){\r\n    return orderService.findAllOrdersByDate(date);\r\n}\r\n```\r\nPlease ensure that you have valid Jackson dependencies","title":"Failed to convert String to LocalDate","body":"<p>Assuming that you're using a request param to accept the data parameter</p>\n<pre><code>@GetMapping(&quot;/orders/date&quot;)\n@Operation(summary = &quot;Find all orders by date&quot;)\npublic List&lt;OrderInfo&gt; findAllOrderByDate(\n    @RequestParam(&quot;date&quot;) @JsonFormat(&quot;dd/MM/yyyy&quot;) LocalDate date\n){\n    return orderService.findAllOrdersByDate(date);\n}\n</code></pre>\n<p>Please ensure that you have valid Jackson dependencies</p>\n"},{"tags":[],"owner":{"account_id":26340864,"reputation":11,"user_id":19999972,"display_name":"Kilves"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663311602,"creation_date":1663311535,"answer_id":73741038,"question_id":73725565,"body_markdown":"Solution was to add @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) before Localdate date parameter in my Controller class method. Formatting tips also helped. Thanks to all!\r\n\r\n```\r\n@GetMapping(&quot;/orders/date&quot;)\r\n    @Operation(summary = &quot;Find all orders by date&quot;)\r\n    public List&lt;OrderInfo&gt; findAllOrderByDate(@DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate date){\r\n        return orderService.findAllOrdersByDate(date);\r\n    }\r\n```","title":"Failed to convert String to LocalDate","body":"<p>Solution was to add @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) before Localdate date parameter in my Controller class method. Formatting tips also helped. Thanks to all!</p>\n<pre><code>@GetMapping(&quot;/orders/date&quot;)\n    @Operation(summary = &quot;Find all orders by date&quot;)\n    public List&lt;OrderInfo&gt; findAllOrderByDate(@DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate date){\n        return orderService.findAllOrdersByDate(date);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19020553,"reputation":675,"user_id":13884720,"display_name":"Abdalrhman Alkraien"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680291511,"creation_date":1680291511,"answer_id":75902203,"question_id":73725565,"body_markdown":"the best way to control of date format is by the request param by your controller \r\n\r\nFor example, if I expected this format &quot;dd/MM/yyyy&quot; Just I need to add this annotation before Date param `@DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)` in your controller method.\r\n\r\nlook at the following example:\r\n```\r\n    @GetMapping\r\n    public ResponseEntity&lt;MyObject&gt; getSomeThing(\r\n        @RequestParam(name = &quot;fromDate&quot;, required = false)\r\n        @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\r\n        LocalDate fromDate,\r\n        @RequestParam(name = &quot;toDate&quot;, required = false)\r\n        @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\r\n        LocalDate toDate,\r\n        @RequestParam Long id,\r\n        @RequestParam String name\r\n    ) {\r\n\r\n        /// your business here\r\n    }\r\n```  \r\n\r\nIf I need to change the date format for example to **&quot;yyyy-MM-dd&quot;** Like the above way just need to add it on the controller method by `@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)`\r\n\r\n\r\nAnd if we have another type of date like `LocalDateTime` and we need to control the date and time format, for example we expected this format **&quot;yyyy-MM-dd HH:mm:ss&quot;** so we need to add this annotation before `LocalDateTime` parameter in the controller method `@DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)` Look at the following example:\r\n\r\n```\r\n    @GetMapping\r\n    public ResponseEntity&lt;MyObject&gt; getSomeThing(\r\n        @RequestParam(name = &quot;fromDate&quot;, required = false)\r\n        @DateTimeFormat(pattern = &quot;pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n        LocalDateTime fromDate,\r\n        @DateTimeFormat(pattern = &quot;pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n        LocalDateTime toDate,\r\n        @RequestParam Long id,\r\n        @RequestParam String name\r\n    ) {\r\n\r\n        /// your business here\r\n    }\r\n``` \r\n\r\nand that is it. :)","title":"Failed to convert String to LocalDate","body":"<p>the best way to control of date format is by the request param by your controller</p>\n<p>For example, if I expected this format &quot;dd/MM/yyyy&quot; Just I need to add this annotation before Date param <code>@DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)</code> in your controller method.</p>\n<p>look at the following example:</p>\n<pre><code>    @GetMapping\n    public ResponseEntity&lt;MyObject&gt; getSomeThing(\n        @RequestParam(name = &quot;fromDate&quot;, required = false)\n        @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\n        LocalDate fromDate,\n        @RequestParam(name = &quot;toDate&quot;, required = false)\n        @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\n        LocalDate toDate,\n        @RequestParam Long id,\n        @RequestParam String name\n    ) {\n\n        /// your business here\n    }\n</code></pre>\n<p>If I need to change the date format for example to <strong>&quot;yyyy-MM-dd&quot;</strong> Like the above way just need to add it on the controller method by <code>@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)</code></p>\n<p>And if we have another type of date like <code>LocalDateTime</code> and we need to control the date and time format, for example we expected this format <strong>&quot;yyyy-MM-dd HH:mm:ss&quot;</strong> so we need to add this annotation before <code>LocalDateTime</code> parameter in the controller method <code>@DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)</code> Look at the following example:</p>\n<pre><code>    @GetMapping\n    public ResponseEntity&lt;MyObject&gt; getSomeThing(\n        @RequestParam(name = &quot;fromDate&quot;, required = false)\n        @DateTimeFormat(pattern = &quot;pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\n        LocalDateTime fromDate,\n        @DateTimeFormat(pattern = &quot;pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\n        LocalDateTime toDate,\n        @RequestParam Long id,\n        @RequestParam String name\n    ) {\n\n        /// your business here\n    }\n</code></pre>\n<p>and that is it. :)</p>\n"}],"owner":{"account_id":26340864,"reputation":11,"user_id":19999972,"display_name":"Kilves"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2646,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1680291511,"creation_date":1663215296,"question_id":73725565,"body_markdown":"I have a method what should find object from database by inserted date. I used LocalDate class, but  if I try it in swagger I get a error message. I need only dates and format should be dd/MM/yyyy. Please help :)\r\n\r\n**Error message in swagger:**\r\n Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.time.LocalDate&#39;; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.time.LocalDate] for value &#39;15/04/2022&#39;; nested exception is java.lang.IllegalArgumentException: Parse attempt failed for value [15/04/2022]\r\n\r\n\r\nEntity: \r\n```@Data\r\n@Entity\r\n@Table(name = &quot;\\&quot;order\\&quot;&quot;)\r\npublic class Order {\r\n\r\n    @Column(name = &quot;delivery_date&quot;, nullable = false)\r\n    private LocalDate deliveryDate\r\n```\r\n\r\nDto:\r\n```\r\n@Data\r\npublic class OrderInfo implements Serializable {\r\n    private LocalDate deliveryDate;\r\n```\r\nMethod:\r\n``` \r\n@GetMapping(&quot;/orders/date&quot;)\r\n    @Operation(summary = &quot;Find all orders by date&quot;)\r\n    public List&lt;OrderInfo&gt; findAllOrderByDate(LocalDate date){\r\n        return orderService.findAllOrdersByDate(date);\r\n    }\r\n```\r\n\r\n\r\n\r\n","title":"Failed to convert String to LocalDate","body":"<p>I have a method what should find object from database by inserted date. I used LocalDate class, but  if I try it in swagger I get a error message. I need only dates and format should be dd/MM/yyyy. Please help :)</p>\n<p><strong>Error message in swagger:</strong>\nFailed to convert value of type 'java.lang.String' to required type 'java.time.LocalDate'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.time.LocalDate] for value '15/04/2022'; nested exception is java.lang.IllegalArgumentException: Parse attempt failed for value [15/04/2022]</p>\n<p>Entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;\\&quot;order\\&quot;&quot;)\npublic class Order {\n\n    @Column(name = &quot;delivery_date&quot;, nullable = false)\n    private LocalDate deliveryDate\n</code></pre>\n<p>Dto:</p>\n<pre><code>@Data\npublic class OrderInfo implements Serializable {\n    private LocalDate deliveryDate;\n</code></pre>\n<p>Method:</p>\n<pre><code>@GetMapping(&quot;/orders/date&quot;)\n    @Operation(summary = &quot;Find all orders by date&quot;)\n    public List&lt;OrderInfo&gt; findAllOrderByDate(LocalDate date){\n        return orderService.findAllOrdersByDate(date);\n    }\n</code></pre>\n"},{"tags":["java","sql-server","spring","jpa","jpql"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1607274758,"post_id":65124820,"comment_id":115215101,"body_markdown":"I don&#39;t think stored procedures are a good match for JPA.","body":"I don&#39;t think stored procedures are a good match for JPA."},{"owner":{"account_id":5066537,"reputation":710,"user_id":4066507,"accept_rate":23,"display_name":"Ace"},"score":0,"creation_date":1607274882,"post_id":65124820,"comment_id":115215138,"body_markdown":"@duffymo Isnt there any workaround that supports this?","body":"@duffymo Isnt there any workaround that supports this?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1607275840,"post_id":65124820,"comment_id":115215422,"body_markdown":"Not that I know of.  JPA is an layer on top of relational databases that allows to pretend that you&#39;re dealing only with objects.  Stored procedures are not a good fit in that model.  You&#39;re already using Spring.  Just use Spring JDBC template to manage it.","body":"Not that I know of.  JPA is an layer on top of relational databases that allows to pretend that you&#39;re dealing only with objects.  Stored procedures are not a good fit in that model.  You&#39;re already using Spring.  Just use Spring JDBC template to manage it."},{"owner":{"account_id":17804992,"reputation":307,"user_id":12930883,"display_name":"RED-ONE"},"score":0,"creation_date":1686005052,"post_id":65124820,"comment_id":134737410,"body_markdown":"You can have a look [here](https://stackoverflow.com/questions/3572626/how-to-call-a-stored-procedure-from-java-and-jpa/70788256#70788256), I hope it helps :\n[How to call a stored procedure from Java and JPA](https://stackoverflow.com/questions/3572626/how-to-call-a-stored-procedure-from-java-and-jpa/70788256#70788256)","body":"You can have a look <a href=\"https://stackoverflow.com/questions/3572626/how-to-call-a-stored-procedure-from-java-and-jpa/70788256#70788256\">here</a>, I hope it helps : <a href=\"https://stackoverflow.com/questions/3572626/how-to-call-a-stored-procedure-from-java-and-jpa/70788256#70788256\">How to call a stored procedure from Java and JPA</a>"}],"answers":[{"tags":[],"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607356733,"creation_date":1607356733,"answer_id":65185071,"question_id":65124820,"body_markdown":"Firstly, this is not really the use case for procedure. Procedure is meant to modify data on the database without any return value, then you could use:\r\n\r\n    @Procedure(procedureName = &quot;procedure_name&quot;)\r\n    void procedure(); // notice void\r\n\r\nYou should rather use a [function][1] using `create function` syntax. Function can modify data and return the result.\r\n\r\nSecondly if you want to map it to some class, I see two solutions (using `EntityManager`):\r\n\r\n 1. Using `ResultTransformer`:\r\n\r\n\t\tentityManager.createNativeQuery(\r\n\t\t\t&quot;select * from function_name(:parameter)&quot;\r\n\t\t)\r\n\t\t\t.setParameter(&quot;parameter&quot;, parameter)\r\n\t\t\t.unwrap(org.hibernate.query.NativeQuery.class)\r\n\t\t\t.setResultTransformer(new ResultTransformer() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic Object transformTuple(Object[] tuple, String[] aliases) {\r\n\t\t\t\t\treturn new Sp(tuple[0]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic List transformList(List collection) {\r\n\t\t\t\t\treturn collection;\r\n\t\t\t\t}\r\n\r\n\t\t\t})\r\n\t\t\t.getResultList();\r\n\r\n    Note that `ResultTransformer` is deprecated, but is so powerful, it will not be removed until there is a sensible replacement, see [the note][2] from hibernate developer.\r\n\r\n 2. Using `ResultSetMapping`. Place the proper annotation over an entity:\r\n\r\n        @SqlResultSetMapping(\r\n        \tname = &quot;sp_mapping&quot;,\r\n        \tclasses = @ConstructorResult(\r\n        \t\ttargetClass = Sp.class,\r\n        \t\tcolumns = {\r\n        \t\t\t@ColumnResult(name = &quot;attribute&quot;, type = Long.class)\r\n        \t\t})\r\n        )\r\n\r\n    And invoke the function using the mapping as parameter:\r\n\r\n\t\tentityManager.createNativeQuery(\r\n\t\t\t&quot;select * &quot; +\r\n\t\t\t&quot;from function_name(:parameter);&quot;,\r\n\t\t\t&quot;sp_mapping&quot;\r\n\t\t)\r\n\t\t\t.setParameter(&quot;parameter&quot;, parameter)\r\n\t\t\t.getResultList();\r\n    \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sql/t-sql/statements/create-function-transact-sql?view=sql-server-ver15\r\n  [2]: https://vladmihalcea.com/hibernate-resulttransformer/","title":"Stored procedure call with Spring JPA","body":"<p>Firstly, this is not really the use case for procedure. Procedure is meant to modify data on the database without any return value, then you could use:</p>\n<pre><code>@Procedure(procedureName = &quot;procedure_name&quot;)\nvoid procedure(); // notice void\n</code></pre>\n<p>You should rather use a <a href=\"https://learn.microsoft.com/en-us/sql/t-sql/statements/create-function-transact-sql?view=sql-server-ver15\" rel=\"nofollow noreferrer\">function</a> using <code>create function</code> syntax. Function can modify data and return the result.</p>\n<p>Secondly if you want to map it to some class, I see two solutions (using <code>EntityManager</code>):</p>\n<ol>\n<li><p>Using <code>ResultTransformer</code>:</p>\n<pre><code>entityManager.createNativeQuery(\n    &quot;select * from function_name(:parameter)&quot;\n)\n    .setParameter(&quot;parameter&quot;, parameter)\n    .unwrap(org.hibernate.query.NativeQuery.class)\n    .setResultTransformer(new ResultTransformer() {\n        @Override\n        public Object transformTuple(Object[] tuple, String[] aliases) {\n            return new Sp(tuple[0]);\n        }\n\n        @Override\n        public List transformList(List collection) {\n            return collection;\n        }\n\n    })\n    .getResultList();\n</code></pre>\n<p>Note that <code>ResultTransformer</code> is deprecated, but is so powerful, it will not be removed until there is a sensible replacement, see <a href=\"https://vladmihalcea.com/hibernate-resulttransformer/\" rel=\"nofollow noreferrer\">the note</a> from hibernate developer.</p>\n</li>\n<li><p>Using <code>ResultSetMapping</code>. Place the proper annotation over an entity:</p>\n<pre><code>@SqlResultSetMapping(\n    name = &quot;sp_mapping&quot;,\n    classes = @ConstructorResult(\n        targetClass = Sp.class,\n        columns = {\n            @ColumnResult(name = &quot;attribute&quot;, type = Long.class)\n        })\n)\n</code></pre>\n<p>And invoke the function using the mapping as parameter:</p>\n<pre><code>entityManager.createNativeQuery(\n    &quot;select * &quot; +\n    &quot;from function_name(:parameter);&quot;,\n    &quot;sp_mapping&quot;\n)\n    .setParameter(&quot;parameter&quot;, parameter)\n    .getResultList();\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1189940,"reputation":100,"user_id":1162991,"display_name":"codeimust"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680291121,"creation_date":1680291121,"answer_id":75902147,"question_id":65124820,"body_markdown":"In case someone else runs into this, according to baeldung document, it looks like you just need to replace `EXECUTE` with `CALL` like\r\n\r\n```\r\n@Query(value = &quot;CALL dbs.multitable_Test(:inputObj);&quot;, nativeQuery = true)\r\nList&lt;sp&gt; multitable_Test(@Param(&quot;inputObj&quot;)String inputObj);\r\n```\r\nSource:\r\nhttps://www.baeldung.com/spring-data-jpa-stored-procedures#query-annotation","title":"Stored procedure call with Spring JPA","body":"<p>In case someone else runs into this, according to baeldung document, it looks like you just need to replace <code>EXECUTE</code> with <code>CALL</code> like</p>\n<pre><code>@Query(value = &quot;CALL dbs.multitable_Test(:inputObj);&quot;, nativeQuery = true)\nList&lt;sp&gt; multitable_Test(@Param(&quot;inputObj&quot;)String inputObj);\n</code></pre>\n<p>Source:\n<a href=\"https://www.baeldung.com/spring-data-jpa-stored-procedures#query-annotation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-stored-procedures#query-annotation</a></p>\n"}],"owner":{"account_id":5066537,"reputation":710,"user_id":4066507,"accept_rate":23,"display_name":"Ace"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2723,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1680291121,"creation_date":1606993738,"question_id":65124820,"body_markdown":"I need to invoke a stored procedure using the JPA. The stored procedure operates on multiple tables and return some of the columns from these tables.\r\n\r\n\r\nTried with the @Procedure it doesn&#39;t seem to work, always the stored procedure is not found in this case.\r\n\r\nDirectly calling the procedure using native query was successful, but with this approach, I am need to map the result returned to List of an Object. \r\n\r\nMy implementation in the repository looks like below,\r\n\r\n```\r\n@Query(value = &quot;EXECUTE dbs.multitable_Test :inputObj&quot;, nativeQuery = true)\r\nList&lt;sp&gt; multitable_Test(@Param(&quot;inputObj&quot;)String inputObj);\r\n```\r\n\r\nThe result returned from the stored procedure needs to be mapped to the sp class.\r\n\r\n\r\nHow can this be achieved while we have multiple tables response in the single result set?\r\n\r\nAlready tried with the attributeConvert from \r\n[this link][1], still getting the below exception.\r\n\r\n`org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type`\r\n\r\n\r\nAny help with this is appreciated.\r\n\r\n  [1]: https://www.baeldung.com/jpa-attribute-converters","title":"Stored procedure call with Spring JPA","body":"<p>I need to invoke a stored procedure using the JPA. The stored procedure operates on multiple tables and return some of the columns from these tables.</p>\n<p>Tried with the @Procedure it doesn't seem to work, always the stored procedure is not found in this case.</p>\n<p>Directly calling the procedure using native query was successful, but with this approach, I am need to map the result returned to List of an Object.</p>\n<p>My implementation in the repository looks like below,</p>\n<pre><code>@Query(value = &quot;EXECUTE dbs.multitable_Test :inputObj&quot;, nativeQuery = true)\nList&lt;sp&gt; multitable_Test(@Param(&quot;inputObj&quot;)String inputObj);\n</code></pre>\n<p>The result returned from the stored procedure needs to be mapped to the sp class.</p>\n<p>How can this be achieved while we have multiple tables response in the single result set?</p>\n<p>Already tried with the attributeConvert from\n<a href=\"https://www.baeldung.com/jpa-attribute-converters\" rel=\"nofollow noreferrer\">this link</a>, still getting the below exception.</p>\n<p><code>org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type</code></p>\n<p>Any help with this is appreciated.</p>\n"},{"tags":["java","date","localization","timezone","gmt"],"comments":[{"owner":{"display_name":"user130532"},"score":0,"creation_date":1332776692,"post_id":308683,"comment_id":33754749,"body_markdown":"I know these types of topics are completely over discussed, but I found the commons-lang package really handles these common java issues well. http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/time/ Check out the various packages they have.","body":"I know these types of topics are completely over discussed, but I found the commons-lang package really handles these common java issues well. <a href=\"http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/time/\" rel=\"nofollow noreferrer\">commons.apache.org/lang/api-2.5/org/apache/commons/lang/time</a> Check out the various packages they have."},{"owner":{"account_id":1796004,"reputation":2709,"user_id":2109800,"display_name":"mc0e"},"score":0,"creation_date":1488170087,"post_id":308683,"comment_id":72096027,"body_markdown":"Which local time do you want, and to what precision.  Most timezones are defined relative to UTC with a fixed offset measured in [SI](https://en.wikipedia.org/wiki/SI_base_unit) seconds, but the relationship of GMT which is based on solar observation and a (slightly) variable length second is more complex.  The two differ by up to 0.9 seconds.","body":"Which local time do you want, and to what precision.  Most timezones are defined relative to UTC with a fixed offset measured in <a href=\"https://en.wikipedia.org/wiki/SI_base_unit\" rel=\"nofollow noreferrer\">SI</a> seconds, but the relationship of GMT which is based on solar observation and a (slightly) variable length second is more complex.  The two differ by up to 0.9 seconds."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":4,"creation_date":1530680766,"post_id":308683,"comment_id":89315309,"body_markdown":"A `Date` doesn’t hold a time zone, so &quot;but in the local timezone” is not correct (or inaccurate at best). See [All about java.util.Date](https://codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date/).","body":"A <code>Date</code> doesn’t hold a time zone, so &quot;but in the local timezone” is not correct (or inaccurate at best). See <a href=\"https://codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date/\" rel=\"nofollow noreferrer\">All about java.util.Date</a>."}],"answers":[{"comments":[{"owner":{"account_id":10506,"reputation":9869,"user_id":19888,"accept_rate":100,"display_name":"Behrang"},"score":2,"creation_date":1227275900,"post_id":308689,"comment_id":152036,"body_markdown":"I used a new Date() object and inserted into a DB table. DB is MySQL and when I use UTC_TIMESTAMP() function in MySQL, it works correctly, but when I insert the value of a new Date(), it is inserted in my local timezone.","body":"I used a new Date() object and inserted into a DB table. DB is MySQL and when I use UTC_TIMESTAMP() function in MySQL, it works correctly, but when I insert the value of a new Date(), it is inserted in my local timezone."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":6,"creation_date":1227276472,"post_id":308689,"comment_id":152058,"body_markdown":"Then that&#39;s probably a driver issue. You may need to set your connection to UTC, or something like that. I&#39;ve seen problems like this before, but the problem is not in java.util.Date.","body":"Then that&#39;s probably a driver issue. You may need to set your connection to UTC, or something like that. I&#39;ve seen problems like this before, but the problem is not in java.util.Date."},{"owner":{"account_id":10506,"reputation":9869,"user_id":19888,"accept_rate":100,"display_name":"Behrang"},"score":0,"creation_date":1227283579,"post_id":308689,"comment_id":152381,"body_markdown":"Thanks. You are right. I looked at connection properties of mysql but I couldn&#39;t find the correct configuration. I asked another question: How to store a java.util.Date into a MySQL timestamp field in the UTC/GMT timezone? If you can, please help me there.","body":"Thanks. You are right. I looked at connection properties of mysql but I couldn&#39;t find the correct configuration. I asked another question: How to store a java.util.Date into a MySQL timestamp field in the UTC/GMT timezone? If you can, please help me there."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1227283850,"post_id":308689,"comment_id":152396,"body_markdown":"Unfortunately I don&#39;t know - it&#39;s ages since I&#39;ve done *any* JDBC, and none on MySQL, ever...","body":"Unfortunately I don&#39;t know - it&#39;s ages since I&#39;ve done <i>any</i> JDBC, and none on MySQL, ever..."},{"owner":{"account_id":37484,"reputation":27768,"user_id":107158,"accept_rate":87,"display_name":"Derek Mahar"},"score":15,"creation_date":1291755749,"post_id":308689,"comment_id":4773025,"body_markdown":"Behrang, according to http://stackoverflow.com/questions/4123534/before-writing-a-java-date-to-an-sql-timestamp-column-does-jdbc-translate-the-da/4124620#4124620, the MySQL JDBC driver converts a given `java.util.Timestamp` (or `java.util.Date`) to the server time zone.","body":"Behrang, according to <a href=\"http://stackoverflow.com/questions/4123534/before-writing-a-java-date-to-an-sql-timestamp-column-does-jdbc-translate-the-da/4124620#4124620\" title=\"before writing a java date to an sql timestamp column does jdbc translate the da\">stackoverflow.com/questions/4123534/&hellip;</a>, the MySQL JDBC driver converts a given <code>java.util.Timestamp</code> (or <code>java.util.Date</code>) to the server time zone."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1315403945,"post_id":308689,"comment_id":8845679,"body_markdown":"@Mr. Cat: How are you determining that? Is it by writing `System.out.println(new Date())`? If so, you should be aware that it&#39;s the `toString()` method which is applying the time zone there... if that&#39;s not it, please give more details.","body":"@Mr. Cat: How are you determining that? Is it by writing <code>System.out.println(new Date())</code>? If so, you should be aware that it&#39;s the <code>toString()</code> method which is applying the time zone there... if that&#39;s not it, please give more details."},{"owner":{"account_id":259304,"reputation":71887,"user_id":542091,"accept_rate":92,"display_name":"Ovidiu Latcu"},"score":6,"creation_date":1337259855,"post_id":308689,"comment_id":13787687,"body_markdown":"The `Date` documentation states : &quot;Although the Date class is intended to reflect coordinated universal time (UTC), it may not do so exactly, depending on the host environment of the Java Virtual Machine.&quot;. For instance in my machine or my android phone, when I initialize a new Date object is set to GMT not UTC. No downvote from me, maybe I understood it wrong.","body":"The <code>Date</code> documentation states : &quot;Although the Date class is intended to reflect coordinated universal time (UTC), it may not do so exactly, depending on the host environment of the Java Virtual Machine.&quot;. For instance in my machine or my android phone, when I initialize a new Date object is set to GMT not UTC. No downvote from me, maybe I understood it wrong."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1338441071,"post_id":308689,"comment_id":14095749,"body_markdown":"@OvidiuLatcu: That&#39;s just talking about the fact that the accuracy of the system clock may be limited. I suspect you&#39;re referring to the results of `Date.toString()`, which again is just a display matter. But GMT and UTC are effectively the same time zone anyway. (There are some very subtle discrepancies, but nothing to concern ourselves with here.)","body":"@OvidiuLatcu: That&#39;s just talking about the fact that the accuracy of the system clock may be limited. I suspect you&#39;re referring to the results of <code>Date.toString()</code>, which again is just a display matter. But GMT and UTC are effectively the same time zone anyway. (There are some very subtle discrepancies, but nothing to concern ourselves with here.)"},{"owner":{"account_id":1658137,"reputation":26719,"user_id":1527084,"accept_rate":81,"display_name":"Geek"},"score":0,"creation_date":1352198070,"post_id":308689,"comment_id":18053004,"body_markdown":"@JonSkeet Can you please point me to some resource that helps to understand why Joda time is thought to give a much clearer api ?","body":"@JonSkeet Can you please point me to some resource that helps to understand why Joda time is thought to give a much clearer api ?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1352198208,"post_id":308689,"comment_id":18053074,"body_markdown":"@Geek: I don&#39;t have a resource to hand, but the fact that Joda Time supports immutable types and has a much broader *range* of types is a good start. The Date and Calendar APIs are simply *awful*.","body":"@Geek: I don&#39;t have a resource to hand, but the fact that Joda Time supports immutable types and has a much broader <i>range</i> of types is a good start. The Date and Calendar APIs are simply <i>awful</i>."},{"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"score":0,"creation_date":1356692440,"post_id":308689,"comment_id":19447148,"body_markdown":"@Jon Skeet So you mean to say new Date().getTime() will return UTC milliseconds irrespsctive of tz? What makes you think Date&#39;s in UTC?","body":"@Jon Skeet So you mean to say new Date().getTime() will return UTC milliseconds irrespsctive of tz? What makes you think Date&#39;s in UTC?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1356692920,"post_id":308689,"comment_id":19447300,"body_markdown":"@KanagaveluSugumar: Um, the documentation? The docs for `getTime()` state: &quot;Returns the number of milliseconds since January 1, 1970, 00:00:00 GMT represented by this Date object.&quot;","body":"@KanagaveluSugumar: Um, the documentation? The docs for <code>getTime()</code> state: &quot;Returns the number of milliseconds since January 1, 1970, 00:00:00 GMT represented by this Date object.&quot;"},{"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"score":0,"creation_date":1356697196,"post_id":308689,"comment_id":19448742,"body_markdown":"@JonSkeet Thanks Jon. If date.toString() prints &quot;Tue Dec 25 10:00:00 IST 2012&quot; date.getTime() prints 1356409800000; Then date.getime() is the same &quot;Tue Dec 25 10:00:00&quot; in milliseconds or &quot;Tue Dec 25 04:30:00&quot; (IST-5.30 = GMT) ? Please help me to understand.","body":"@JonSkeet Thanks Jon. If date.toString() prints &quot;Tue Dec 25 10:00:00 IST 2012&quot; date.getTime() prints 1356409800000; Then date.getime() is the same &quot;Tue Dec 25 10:00:00&quot; in milliseconds or &quot;Tue Dec 25 04:30:00&quot; (IST-5.30 = GMT) ? Please help me to understand."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":8,"creation_date":1356697985,"post_id":308689,"comment_id":19448969,"body_markdown":"@KanagaveluSugumar: `toString()` always uses the default time zone. `date.getTime()` definitely returns milliseconds since the Unix epoch, in UTC. It&#39;s most accurate to say that `Date` itself doesn&#39;t have a time zone at all - it&#39;s *just* an instant in time, which could be regarded in multiple time zones. But when you create an instance, it *doesn&#39;t* depend on your time zone.","body":"@KanagaveluSugumar: <code>toString()</code> always uses the default time zone. <code>date.getTime()</code> definitely returns milliseconds since the Unix epoch, in UTC. It&#39;s most accurate to say that <code>Date</code> itself doesn&#39;t have a time zone at all - it&#39;s <i>just</i> an instant in time, which could be regarded in multiple time zones. But when you create an instance, it <i>doesn&#39;t</i> depend on your time zone."},{"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"score":0,"creation_date":1356699756,"post_id":308689,"comment_id":19449588,"body_markdown":"@JonSkeet Thank you very much. Could you please tell me how java.sql.TimeStamp() will behave. This also don&#39;t have timezone in it? and  ts.toString will take localTimezone()? and ts.getTime() will be in UTC ?","body":"@JonSkeet Thank you very much. Could you please tell me how java.sql.TimeStamp() will behave. This also don&#39;t have timezone in it? and  ts.toString will take localTimezone()? and ts.getTime() will be in UTC ?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1356701208,"post_id":308689,"comment_id":19450090,"body_markdown":"@KanagaveluSugumar: We&#39;re well away from the original question now. Please ask a *new* question, following http://tinyurl.com/so-list","body":"@KanagaveluSugumar: We&#39;re well away from the original question now. Please ask a <i>new</i> question, following <a href=\"http://tinyurl.com/so-list\" rel=\"nofollow noreferrer\">tinyurl.com/so-list</a>"},{"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"score":0,"creation_date":1356702848,"post_id":308689,"comment_id":19450644,"body_markdown":"@JonSkeet http://stackoverflow.com/questions/14070572/does-java-sql-timestamp-is-timezone-specific","body":"@JonSkeet <a href=\"http://stackoverflow.com/questions/14070572/does-java-sql-timestamp-is-timezone-specific\" title=\"does java sql timestamp is timezone specific\">stackoverflow.com/questions/14070572/&hellip;</a>"},{"owner":{"account_id":98185,"reputation":2112,"user_id":265932,"accept_rate":71,"display_name":"Jemenake"},"score":1,"creation_date":1367420615,"post_id":308689,"comment_id":23370597,"body_markdown":"This is a little nit-picky, but time/date conversions are a never-ending source of confusion for people who are just getting a handle on them, so I wanted to point this out. JonSkeet sprach: &quot;date.getTime() definitely returns milliseconds since the Unix epoch, in UTC&quot;. The &quot;in UTC&quot; is redundant, here. The epoch happened when it was midnight in Greenwich (and elsewhere). At any given moment, &quot;new Date().getTime()&quot;, anywhere on earth, should give you the same number. It&#39;s one of those rare bits of solid ground you can stand in this strange universe of calendar conversions.","body":"This is a little nit-picky, but time/date conversions are a never-ending source of confusion for people who are just getting a handle on them, so I wanted to point this out. JonSkeet sprach: &quot;date.getTime() definitely returns milliseconds since the Unix epoch, in UTC&quot;. The &quot;in UTC&quot; is redundant, here. The epoch happened when it was midnight in Greenwich (and elsewhere). At any given moment, &quot;new Date().getTime()&quot;, anywhere on earth, should give you the same number. It&#39;s one of those rare bits of solid ground you can stand in this strange universe of calendar conversions."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":6,"creation_date":1367420745,"post_id":308689,"comment_id":23370655,"body_markdown":"@Jemenake: Actually it didn&#39;t happen when it was midnight in Greenwich, because the UK was on UTC+1 at the time. Just one of the odd bits of history. But I take your point - it&#39;s better to say &quot;new Date().getTime() returns the milliseconds since the Unix epoch, which was midnight at the start of January 1st 1970, UTC&quot;. So the UTC is part of pinning down the epoch to a particular instant in time, not part of the result.","body":"@Jemenake: Actually it didn&#39;t happen when it was midnight in Greenwich, because the UK was on UTC+1 at the time. Just one of the odd bits of history. But I take your point - it&#39;s better to say &quot;new Date().getTime() returns the milliseconds since the Unix epoch, which was midnight at the start of January 1st 1970, UTC&quot;. So the UTC is part of pinning down the epoch to a particular instant in time, not part of the result."},{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1408448624,"post_id":308689,"comment_id":39583916,"body_markdown":"Correct background but the code answer is here http://stackoverflow.com/a/5236123/1643558 Make an SDF - UTC timezone, format date using that. SDF patterns - http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html","body":"Correct background but the code answer is here <a href=\"http://stackoverflow.com/a/5236123/1643558\">stackoverflow.com/a/5236123/1643558</a> Make an SDF - UTC timezone, format date using that. SDF patterns - <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/text/&hellip;</a>"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1408448752,"post_id":308689,"comment_id":39583985,"body_markdown":"@tgkprog: You&#39;re assuming the OP wants a string. There&#39;s no indication that that&#39;s the case.","body":"@tgkprog: You&#39;re assuming the OP wants a string. There&#39;s no indication that that&#39;s the case."},{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1408452527,"post_id":308689,"comment_id":39586509,"body_markdown":"String or not - that answer says it more succinctly. Read your first, then that, then yours again, and it made more sense. some people can understand with code better.","body":"String or not - that answer says it more succinctly. Read your first, then that, then yours again, and it made more sense. some people can understand with code better."},{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1408453002,"post_id":308689,"comment_id":39586838,"body_markdown":"`Date dt2 = new Date();`\n\t\t`System.out.println(&quot; Hr &quot; + dt2.getHours() + &quot;, tz offset :&quot; + dt2.getTimezoneOffset());`\nRunnung this code shows me local hour(UTC hour +5.5 hour) and timezone offset sas -330 which is correct local time as I&#39;m in India. So apparently need to change the Date object&#39;s time to get UTC","body":"<code>Date dt2 = new Date();</code> \t\t<code>System.out.println(&quot; Hr &quot; + dt2.getHours() + &quot;, tz offset :&quot; + dt2.getTimezoneOffset());</code> Runnung this code shows me local hour(UTC hour +5.5 hour) and timezone offset sas -330 which is correct local time as I&#39;m in India. So apparently need to change the Date object&#39;s time to get UTC"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1408453354,"post_id":308689,"comment_id":39587089,"body_markdown":"@tgkprog: Did you read the documentation for the deprecated methods that you&#39;re calling there? (Note: &quot;as interpreted in the local time zone&quot;.) Your conclusion about needing to change the contents of the `Date` to get UTC is entirely incorrect.","body":"@tgkprog: Did you read the documentation for the deprecated methods that you&#39;re calling there? (Note: &quot;as interpreted in the local time zone&quot;.) Your conclusion about needing to change the contents of the <code>Date</code> to get UTC is entirely incorrect."},{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1408550200,"post_id":308689,"comment_id":39634489,"body_markdown":"Hmm well I need this. Don&#39;t want to use Joda. Don&#39;t need internationalization so thought can ignore Date classes depreciated note (it says deprecated due to not able to internationalize). Just need current GMT time. so use new GreogorianCalender() OR ? Something in Java 6. Thanks for your time BTW : )","body":"Hmm well I need this. Don&#39;t want to use Joda. Don&#39;t need internationalization so thought can ignore Date classes depreciated note (it says deprecated due to not able to internationalize). Just need current GMT time. so use new GreogorianCalender() OR ? Something in Java 6. Thanks for your time BTW : )"},{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1408568194,"post_id":308689,"comment_id":39644294,"body_markdown":"Needs this == needs UTC time","body":"Needs this == needs UTC time"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1408568986,"post_id":308689,"comment_id":39644671,"body_markdown":"@tgkprog: I suggest you ask a new question with your precise requirements, what you&#39;ve tried etc. At the moment we don&#39;t know whether you&#39;re really looking for a textual representation, integer values so that you can test things like &quot;Is it August?&quot; etc. And you absolutely *shouldn&#39;t* ignore the `Date` methods deprecation - internationalization is just part of what&#39;s wrong with them, although it&#39;s one symptom of the fact that it always uses the system default time zone. Poor documentation there :(","body":"@tgkprog: I suggest you ask a new question with your precise requirements, what you&#39;ve tried etc. At the moment we don&#39;t know whether you&#39;re really looking for a textual representation, integer values so that you can test things like &quot;Is it August?&quot; etc. And you absolutely <i>shouldn&#39;t</i> ignore the <code>Date</code> methods deprecation - internationalization is just part of what&#39;s wrong with them, although it&#39;s one symptom of the fact that it always uses the system default time zone. Poor documentation there :("},{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1408639718,"post_id":308689,"comment_id":39676132,"body_markdown":"Got answer from http://stackoverflow.com/questions/20482267/parsing-unix-time-to-java-on-android long to milli - set to Calendar. In the question  cal.setTimeInMillis(long);","body":"Got answer from <a href=\"http://stackoverflow.com/questions/20482267/parsing-unix-time-to-java-on-android\" title=\"parsing unix time to java on android\">stackoverflow.com/questions/20482267/&hellip;</a> long to milli - set to Calendar. In the question  cal.setTimeInMillis(long);"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1408639751,"post_id":308689,"comment_id":39676152,"body_markdown":"@tgkprog: Well I&#39;m glad it helped you, even if you never really explained your problem...","body":"@tgkprog: Well I&#39;m glad it helped you, even if you never really explained your problem..."},{"owner":{"account_id":1159707,"reputation":624,"user_id":1139489,"display_name":"Eurospoofer"},"score":0,"creation_date":1489640492,"post_id":308689,"comment_id":72762169,"body_markdown":"I understand what the OP was asking.\nTo say the JRE has no time zone I don&#39;t think is accurate. It has the TZ of the local machine it&#39;s running on.\nThe JRE sources its time from the underlying OS, which is usually set to a local TZ.  Although the JRE is aware of that TZ, it returns the local OS time to &#39;System.currentTimeMillis()&#39;\n\nhttp://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/time-zone001.html#CBBIEBDG\n\nThe OP was asking how they shift that local time back to UTC.\nThis Class might help for that\nhttps://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html","body":"I understand what the OP was asking. To say the JRE has no time zone I don&#39;t think is accurate. It has the TZ of the local machine it&#39;s running on. The JRE sources its time from the underlying OS, which is usually set to a local TZ.  Although the JRE is aware of that TZ, it returns the local OS time to &#39;System.currentTimeMillis()&#39;  <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/time-zone001.html#CBBIEBDG\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/&zwnj;&#8203;&hellip;</a>  The OP was asking how they shift that local time back to UTC. This Class might help for that <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html</a>"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1489656348,"post_id":308689,"comment_id":72769685,"body_markdown":"@Eurospoofer: Where did anyone say the JRE has no time zone? Your comment is the one place that &quot;JRE&quot; appeared in this question (when I&#39;m starting to add this comment). A `java.util.Date` value has no time zone, but that&#39;s entirely different. And no, `System.currentTimeMillis()` does *not* reflect the local time - it reflects the number of elapsed milliseconds since the Unix epoch, which does *not* depend on time zone. The docs you referred to are just saying that obtaining the value from the system clock is OS-specific.","body":"@Eurospoofer: Where did anyone say the JRE has no time zone? Your comment is the one place that &quot;JRE&quot; appeared in this question (when I&#39;m starting to add this comment). A <code>java.util.Date</code> value has no time zone, but that&#39;s entirely different. And no, <code>System.currentTimeMillis()</code> does <i>not</i> reflect the local time - it reflects the number of elapsed milliseconds since the Unix epoch, which does <i>not</i> depend on time zone. The docs you referred to are just saying that obtaining the value from the system clock is OS-specific."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":31,"down_vote_count":14,"up_vote_count":456,"is_accepted":true,"score":442,"last_activity_date":1420228821,"creation_date":1227272672,"answer_id":308689,"question_id":308683,"body_markdown":"`java.util.Date` has no specific time zone, although its value is most commonly thought of in relation to UTC. What makes you think it&#39;s in local time?\r\n\r\nTo be precise: the value within a `java.util.Date` is the number of milliseconds since the Unix epoch, which occurred at midnight January 1st 1970, UTC. The same epoch could also be described in other time zones, but the traditional description is in terms of UTC. As it&#39;s a number of milliseconds since a fixed epoch, the value within `java.util.Date` is the same around the world at any particular instant, regardless of local time zone.\r\n\r\nI suspect the problem is that you&#39;re displaying it via an instance of Calendar which uses the local timezone, or possibly using `Date.toString()` which also uses the local timezone, or a `SimpleDateFormat` instance, which, by default, also uses local timezone.\r\n\r\nIf this isn&#39;t the problem, please post some sample code.\r\n\r\nI would, however, recommend that you use [Joda-Time][1] anyway, which offers a much clearer API.\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p><code>java.util.Date</code> has no specific time zone, although its value is most commonly thought of in relation to UTC. What makes you think it's in local time?</p>\n\n<p>To be precise: the value within a <code>java.util.Date</code> is the number of milliseconds since the Unix epoch, which occurred at midnight January 1st 1970, UTC. The same epoch could also be described in other time zones, but the traditional description is in terms of UTC. As it's a number of milliseconds since a fixed epoch, the value within <code>java.util.Date</code> is the same around the world at any particular instant, regardless of local time zone.</p>\n\n<p>I suspect the problem is that you're displaying it via an instance of Calendar which uses the local timezone, or possibly using <code>Date.toString()</code> which also uses the local timezone, or a <code>SimpleDateFormat</code> instance, which, by default, also uses local timezone.</p>\n\n<p>If this isn't the problem, please post some sample code.</p>\n\n<p>I would, however, recommend that you use <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> anyway, which offers a much clearer API.</p>\n"},{"comments":[{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":6,"creation_date":1227273594,"post_id":308704,"comment_id":151934,"body_markdown":"Certain methods and constructors of Date and Timestamp are deprecated, but the classes themselves are not.","body":"Certain methods and constructors of Date and Timestamp are deprecated, but the classes themselves are not."}],"tags":[],"owner":{"account_id":15137,"reputation":7882,"user_id":1356709,"accept_rate":53,"display_name":"user2427"},"comment_count":1,"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1227273006,"creation_date":1227273006,"answer_id":308704,"question_id":308683,"body_markdown":"With:\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n\r\nThen `cal` have the current date and time.&lt;br&gt;\r\nYou also could get the current Date and Time for timezone with:\r\n\r\n    Calendar cal2 = Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT-2&quot;));\r\n\r\nYou could ask `cal.get(Calendar.DATE);` or other Calendar constant about others details.&lt;br&gt;\r\nDate and Timestamp are deprecated in Java. Calendar class it isn&#39;t.\r\n\r\n\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>With:</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\n</code></pre>\n\n<p>Then <code>cal</code> have the current date and time.<br>\nYou also could get the current Date and Time for timezone with:</p>\n\n<pre><code>Calendar cal2 = Calendar.getInstance(TimeZone.getTimeZone(\"GMT-2\"));\n</code></pre>\n\n<p>You could ask <code>cal.get(Calendar.DATE);</code> or other Calendar constant about others details.<br>\nDate and Timestamp are deprecated in Java. Calendar class it isn't.</p>\n"},{"tags":[],"owner":{"account_id":72367,"reputation":776,"user_id":208977,"accept_rate":60,"display_name":"mjh2007"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1264523520,"creation_date":1264523520,"answer_id":2140824,"question_id":308683,"body_markdown":"You can use:\r\n\r\n    Calendar aGMTCalendar = Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n\r\nThen all operations performed using the aGMTCalendar object will be done with the GMT time zone and will not have the daylight savings time or fixed offsets applied. I think the previous poster is correct that the Date() object always returns a GMT it&#39;s not until you go to do something with the date object that it gets converted to the local time zone.\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>You can use:</p>\n\n<pre><code>Calendar aGMTCalendar = Calendar.getInstance(TimeZone.getTimeZone(\"GMT\"));\n</code></pre>\n\n<p>Then all operations performed using the aGMTCalendar object will be done with the GMT time zone and will not have the daylight savings time or fixed offsets applied. I think the previous poster is correct that the Date() object always returns a GMT it's not until you go to do something with the date object that it gets converted to the local time zone.</p>\n"},{"tags":[],"owner":{"account_id":111574,"reputation":2086,"user_id":294674,"display_name":"Ahmad Nadeem"},"comment_count":0,"down_vote_count":0,"up_vote_count":68,"is_accepted":false,"score":68,"last_activity_date":1336627214,"creation_date":1268738040,"answer_id":2453820,"question_id":308683,"body_markdown":"\t\tCalendar c = Calendar.getInstance();\r\n\t\tSystem.out.println(&quot;current: &quot;+c.getTime());\r\n\r\n\t\tTimeZone z = c.getTimeZone();\r\n\t\tint offset = z.getRawOffset();\r\n\t\tif(z.inDaylightTime(new Date())){\r\n\t\t\toffset = offset + z.getDSTSavings();\r\n\t\t}\r\n\t\tint offsetHrs = offset / 1000 / 60 / 60;\r\n\t\tint offsetMins = offset / 1000 / 60 % 60;\r\n\r\n\t\tSystem.out.println(&quot;offset: &quot; + offsetHrs);\r\n\t\tSystem.out.println(&quot;offset: &quot; + offsetMins);\r\n\r\n\t\tc.add(Calendar.HOUR_OF_DAY, (-offsetHrs));\r\n\t\tc.add(Calendar.MINUTE, (-offsetMins));\r\n\r\n\t\tSystem.out.println(&quot;GMT Time: &quot;+c.getTime());\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<pre><code>    Calendar c = Calendar.getInstance();\n    System.out.println(\"current: \"+c.getTime());\n\n    TimeZone z = c.getTimeZone();\n    int offset = z.getRawOffset();\n    if(z.inDaylightTime(new Date())){\n        offset = offset + z.getDSTSavings();\n    }\n    int offsetHrs = offset / 1000 / 60 / 60;\n    int offsetMins = offset / 1000 / 60 % 60;\n\n    System.out.println(\"offset: \" + offsetHrs);\n    System.out.println(\"offset: \" + offsetMins);\n\n    c.add(Calendar.HOUR_OF_DAY, (-offsetHrs));\n    c.add(Calendar.MINUTE, (-offsetMins));\n\n    System.out.println(\"GMT Time: \"+c.getTime());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":249470,"reputation":3999,"user_id":525541,"accept_rate":80,"display_name":"MindWire"},"score":11,"creation_date":1339795237,"post_id":2528480,"comment_id":14468950,"body_markdown":"Why do you parse with dateFormatLocal after using dateFormatGmt format... does not make sense by reading it. I am sure it works, but just wondering?","body":"Why do you parse with dateFormatLocal after using dateFormatGmt format... does not make sense by reading it. I am sure it works, but just wondering?"},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":2,"creation_date":1360109158,"post_id":2528480,"comment_id":20590706,"body_markdown":"setTimeZone did it (I guess you can also use getTimeZone(&quot;UTC&quot;) same thing as GMT?)","body":"setTimeZone did it (I guess you can also use getTimeZone(&quot;UTC&quot;) same thing as GMT?)"},{"owner":{"account_id":1544489,"reputation":3905,"user_id":1506239,"accept_rate":69,"display_name":"Basavaraj Hampali"},"score":6,"creation_date":1377103702,"post_id":2528480,"comment_id":26960907,"body_markdown":"but the time is dependent on device set time. If user has set wrong time on his device then you will get wrong UTC .correct me if am wrong","body":"but the time is dependent on device set time. If user has set wrong time on his device then you will get wrong UTC .correct me if am wrong"},{"owner":{"account_id":3341345,"reputation":2837,"user_id":2807573,"accept_rate":97,"display_name":"Akshat Agarwal"},"score":0,"creation_date":1383146321,"post_id":2528480,"comment_id":29239909,"body_markdown":"@BasavarajHampali but in todays world most of the devices are connected to the internet which corrects incorrect time","body":"@BasavarajHampali but in todays world most of the devices are connected to the internet which corrects incorrect time"},{"owner":{"account_id":59422,"reputation":3286,"user_id":177790,"accept_rate":80,"display_name":"slott"},"score":3,"creation_date":1418724672,"post_id":2528480,"comment_id":43434443,"body_markdown":"There is no time difference between Coordinated Universal Time (UTC) and Greenwich Mean Time (GMT)","body":"There is no time difference between Coordinated Universal Time (UTC) and Greenwich Mean Time (GMT)"},{"owner":{"account_id":1159707,"reputation":624,"user_id":1139489,"display_name":"Eurospoofer"},"score":0,"creation_date":1489641026,"post_id":2528480,"comment_id":72762353,"body_markdown":"SimpleDateFormat is for formatting what a time looks like, it doesn&#39;t shift the time.  the code above simply formats the local time to the pattern in the SimpleDateFormat.\nThe time itself, from the new Date(), must be shifted to UTC first","body":"SimpleDateFormat is for formatting what a time looks like, it doesn&#39;t shift the time.  the code above simply formats the local time to the pattern in the SimpleDateFormat. The time itself, from the new Date(), must be shifted to UTC first"},{"owner":{"account_id":324286,"reputation":607,"user_id":644778,"display_name":"JN01"},"score":0,"creation_date":1494243340,"post_id":2528480,"comment_id":74728877,"body_markdown":"UTC and GMT may be interchangeable for now, but to put it in Java terms, GMT is &#39;deprecated&#39; and may go out of sync with UTC in the future.","body":"UTC and GMT may be interchangeable for now, but to put it in Java terms, GMT is &#39;deprecated&#39; and may go out of sync with UTC in the future."},{"owner":{"account_id":129591,"reputation":5002,"user_id":328275,"accept_rate":97,"display_name":"axiopisty"},"score":0,"creation_date":1539990005,"post_id":2528480,"comment_id":92713881,"body_markdown":"Greenwich Mean Time (GMT) is often interchanged or confused with Coordinated Universal Time (UTC). But GMT is a time zone and UTC is a time standard.\n\nhttps://www.timeanddate.com/time/gmt-utc-time.html","body":"Greenwich Mean Time (GMT) is often interchanged or confused with Coordinated Universal Time (UTC). But GMT is a time zone and UTC is a time standard.  <a href=\"https://www.timeanddate.com/time/gmt-utc-time.html\" rel=\"nofollow noreferrer\">timeanddate.com/time/gmt-utc-time.html</a>"}],"tags":[],"owner":{"account_id":600131,"reputation":2857,"user_id":303071,"display_name":"Dan"},"comment_count":8,"down_vote_count":2,"up_vote_count":286,"is_accepted":false,"score":284,"last_activity_date":1269673703,"creation_date":1269673703,"answer_id":2528480,"question_id":308683,"body_markdown":"    SimpleDateFormat dateFormatGmt = new SimpleDateFormat(&quot;yyyy-MMM-dd HH:mm:ss&quot;);\r\n    dateFormatGmt.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    \r\n    //Local time zone\t\r\n    SimpleDateFormat dateFormatLocal = new SimpleDateFormat(&quot;yyyy-MMM-dd HH:mm:ss&quot;);\r\n    \r\n    //Time in GMT\r\n    return dateFormatLocal.parse( dateFormatGmt.format(new Date()) );\r\n\r\n\t","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<pre><code>SimpleDateFormat dateFormatGmt = new SimpleDateFormat(\"yyyy-MMM-dd HH:mm:ss\");\ndateFormatGmt.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\n\n//Local time zone   \nSimpleDateFormat dateFormatLocal = new SimpleDateFormat(\"yyyy-MMM-dd HH:mm:ss\");\n\n//Time in GMT\nreturn dateFormatLocal.parse( dateFormatGmt.format(new Date()) );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114124,"reputation":10809,"user_id":300248,"accept_rate":74,"display_name":"simpatico"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1328865592,"creation_date":1270564114,"answer_id":2585570,"question_id":308683,"body_markdown":"&gt; Calendar aGMTCalendar = Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT&quot;));\r\nThen all operations performed using the aGMTCalendar object will be done with the GMT time zone and will not have the daylight savings time or fixed offsets applied\r\n\r\nWrong!\r\n\r\n    Calendar aGMTCalendar = Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    aGMTCalendar.getTime(); //or getTimeInMillis()\r\n    \r\nand \r\n\r\n    Calendar aNotGMTCalendar = Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT-2&quot;));aNotGMTCalendar.getTime();\r\n\r\nwill return the same time. Idem for \r\n\r\n    new Date(); //it&#39;s not GMT.\r\n\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<blockquote>\n  <p>Calendar aGMTCalendar = Calendar.getInstance(TimeZone.getTimeZone(\"GMT\"));\n  Then all operations performed using the aGMTCalendar object will be done with the GMT time zone and will not have the daylight savings time or fixed offsets applied</p>\n</blockquote>\n\n<p>Wrong!</p>\n\n<pre><code>Calendar aGMTCalendar = Calendar.getInstance(TimeZone.getTimeZone(\"GMT\"));\naGMTCalendar.getTime(); //or getTimeInMillis()\n</code></pre>\n\n<p>and </p>\n\n<pre><code>Calendar aNotGMTCalendar = Calendar.getInstance(TimeZone.getTimeZone(\"GMT-2\"));aNotGMTCalendar.getTime();\n</code></pre>\n\n<p>will return the same time. Idem for </p>\n\n<pre><code>new Date(); //it's not GMT.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2089270,"reputation":441,"user_id":1859462,"accept_rate":86,"display_name":"Beemo"},"score":0,"creation_date":1444143203,"post_id":4124699,"comment_id":53771159,"body_markdown":"Yep, nice and clean solution. It just worries me, if its ineffective to create a new Date object instead of just getting Calendar instance?","body":"Yep, nice and clean solution. It just worries me, if its ineffective to create a new Date object instead of just getting Calendar instance?"},{"owner":{"account_id":69926,"reputation":12519,"user_id":203204,"accept_rate":72,"display_name":"Anthony"},"score":0,"creation_date":1444193389,"post_id":4124699,"comment_id":53793105,"body_markdown":"It will be optimized by JVM and HotSpot will execute the most effective x86 code possible","body":"It will be optimized by JVM and HotSpot will execute the most effective x86 code possible"},{"owner":{"account_id":10786100,"reputation":2966,"user_id":7935057,"display_name":"Iceberg"},"score":0,"creation_date":1606760448,"post_id":4124699,"comment_id":115053465,"body_markdown":"Right, one time but many presentations, depends on location.","body":"Right, one time but many presentations, depends on location."},{"owner":{"account_id":2589411,"reputation":435,"user_id":2244431,"display_name":"phray2002"},"score":0,"creation_date":1631505136,"post_id":4124699,"comment_id":122230484,"body_markdown":"A bit clarification, `UTC` is a time **standard**,rather than a *timezone*. Actually &quot;GMT&quot; is the *timezone* which in same time as UTC practically.","body":"A bit clarification, <code>UTC</code> is a time <b>standard</b>,rather than a <i>timezone</i>. Actually &quot;GMT&quot; is the <i>timezone</i> which in same time as UTC practically."}],"tags":[],"owner":{"account_id":69926,"reputation":12519,"user_id":203204,"accept_rate":72,"display_name":"Anthony"},"comment_count":4,"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1398407588,"creation_date":1289226226,"answer_id":4124699,"question_id":308683,"body_markdown":"Actually not time, but it&#39;s representation could be changed.\r\n\r\n    SimpleDateFormat f = new SimpleDateFormat(&quot;yyyy-MMM-dd HH:mm:ss&quot;);\r\n    f.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n    System.out.println(f.format(new Date()));\r\n\r\nTime is the same in any point of the Earth, but our perception of time could be different depending on location.","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>Actually not time, but it's representation could be changed.</p>\n\n<pre><code>SimpleDateFormat f = new SimpleDateFormat(\"yyyy-MMM-dd HH:mm:ss\");\nf.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\nSystem.out.println(f.format(new Date()));\n</code></pre>\n\n<p>Time is the same in any point of the Earth, but our perception of time could be different depending on location.</p>\n"},{"comments":[{"owner":{"account_id":19377,"reputation":15484,"user_id":45382,"accept_rate":88,"display_name":"akjoshi"},"score":0,"creation_date":1354605538,"post_id":4498814,"comment_id":18809254,"body_markdown":"Please add some explanation to your answer, how is it different from so many other answers?","body":"Please add some explanation to your answer, how is it different from so many other answers?"},{"owner":{"account_id":4969898,"reputation":1350,"user_id":5049244,"accept_rate":25,"display_name":"Arnold Brown"},"score":0,"creation_date":1541737504,"post_id":4498814,"comment_id":93326892,"body_markdown":"does this method get time depend upon device calendar?","body":"does this method get time depend upon device calendar?"}],"tags":[],"owner":{"account_id":687526,"reputation":61,"user_id":549847,"display_name":"Justin"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1327060367,"creation_date":1292931374,"answer_id":4498814,"question_id":308683,"body_markdown":"    SimpleDateFormat dateFormatGmt = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    dateFormatGmt.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    System.out.println(dateFormatGmt.format(date));","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<pre><code>SimpleDateFormat dateFormatGmt = new SimpleDateFormat(\"yyyy-MM-dd\");\ndateFormatGmt.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\nSystem.out.println(dateFormatGmt.format(date));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":264294,"reputation":23543,"user_id":550471,"accept_rate":84,"display_name":"Someone Somewhere"},"score":0,"creation_date":1311709164,"post_id":6697884,"comment_id":8123840,"body_markdown":"In my answer I forgot to show how DATEFORMAT is defined:  `static final String DATEFORMAT = &quot;yyyy-MM-dd HH:mm:ss&quot;;`","body":"In my answer I forgot to show how DATEFORMAT is defined:  <code>static final String DATEFORMAT = &quot;yyyy-MM-dd HH:mm:ss&quot;;</code>"},{"owner":{"account_id":5673433,"reputation":183,"user_id":4487437,"display_name":"Florian Schrofner"},"score":21,"creation_date":1430577746,"post_id":6697884,"comment_id":48125584,"body_markdown":"Please avoid starting method names with uppercase in Java.\nSee the [Java coding conventions](http://www.oracle.com/technetwork/java/javase/documentation/codeconventions-135099.html#367) for method names.","body":"Please avoid starting method names with uppercase in Java. See the <a href=\"http://www.oracle.com/technetwork/java/javase/documentation/codeconventions-135099.html#367\" rel=\"nofollow noreferrer\">Java coding conventions</a> for method names."},{"owner":{"account_id":7552094,"reputation":3490,"user_id":5733111,"accept_rate":75,"display_name":"Sanoop Surendran"},"score":2,"creation_date":1488444920,"post_id":6697884,"comment_id":72236674,"body_markdown":"As am redirected to this answer, Calling `new Date()` will never return the correct UTC time, if the device time is wrong.","body":"As am redirected to this answer, Calling <code>new Date()</code> will never return the correct UTC time, if the device time is wrong."},{"owner":{"account_id":4969898,"reputation":1350,"user_id":5049244,"accept_rate":25,"display_name":"Arnold Brown"},"score":0,"creation_date":1541737495,"post_id":6697884,"comment_id":93326890,"body_markdown":"does this method get time depend upon device calendar?","body":"does this method get time depend upon device calendar?"},{"owner":{"account_id":9214543,"reputation":509,"user_id":6846268,"display_name":"Brian Begun"},"score":0,"creation_date":1551155296,"post_id":6697884,"comment_id":96526386,"body_markdown":"One thing to note.  Any solution that needs to get a Date or Timestamp in UTC, it looks like the key is to not re-use the SimpleDateFormat, but rather use one to get UTC into a string, then create another UTC when converting the string to either a Date or Timestamp Object.  I noticed that if you try to reuse the same SimpleDateFormat then the resulting Date/Timestamp Object will revert to the local timezone instead of UTC.","body":"One thing to note.  Any solution that needs to get a Date or Timestamp in UTC, it looks like the key is to not re-use the SimpleDateFormat, but rather use one to get UTC into a string, then create another UTC when converting the string to either a Date or Timestamp Object.  I noticed that if you try to reuse the same SimpleDateFormat then the resulting Date/Timestamp Object will revert to the local timezone instead of UTC."}],"tags":[],"owner":{"account_id":264294,"reputation":23543,"user_id":550471,"accept_rate":84,"display_name":"Someone Somewhere"},"comment_count":5,"down_vote_count":1,"up_vote_count":92,"is_accepted":false,"score":91,"last_activity_date":1550574625,"creation_date":1310666780,"answer_id":6697884,"question_id":308683,"body_markdown":"This definitely returns UTC time: as String and Date objects !\r\n\r\n    static final String DATE_FORMAT = &quot;yyyy-MM-dd HH:mm:ss&quot;;\r\n\r\n    public static Date getUTCdatetimeAsDate() {\r\n    \t// note: doesn&#39;t check for null\r\n    \treturn stringDateToDate(getUTCdatetimeAsString());\r\n    }\r\n\r\n    public static String getUTCdatetimeAsString() {\r\n\t\tfinal SimpleDateFormat sdf = new SimpleDateFormat(DATE_FORMAT);\r\n\t\tsdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\t\tfinal String utcTime = sdf.format(new Date());\r\n\t\t\r\n\t\treturn utcTime;\r\n\t}\r\n\r\n\tpublic static Date stringDateToDate(String StrDate) {\r\n\t\tDate dateToReturn = null;\r\n\t\tSimpleDateFormat dateFormat = new SimpleDateFormat(DATEFORMAT);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tdateToReturn = (Date)dateFormat.parse(StrDate);\r\n\t\t}\r\n\t\tcatch (ParseException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\treturn dateToReturn;\r\n\t}\r\n\r\n\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>This definitely returns UTC time: as String and Date objects !</p>\n\n<pre><code>static final String DATE_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\npublic static Date getUTCdatetimeAsDate() {\n    // note: doesn't check for null\n    return stringDateToDate(getUTCdatetimeAsString());\n}\n\npublic static String getUTCdatetimeAsString() {\n    final SimpleDateFormat sdf = new SimpleDateFormat(DATE_FORMAT);\n    sdf.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n    final String utcTime = sdf.format(new Date());\n\n    return utcTime;\n}\n\npublic static Date stringDateToDate(String StrDate) {\n    Date dateToReturn = null;\n    SimpleDateFormat dateFormat = new SimpleDateFormat(DATEFORMAT);\n\n    try {\n        dateToReturn = (Date)dateFormat.parse(StrDate);\n    }\n    catch (ParseException e) {\n        e.printStackTrace();\n    }\n\n    return dateToReturn;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63038,"reputation":3959,"user_id":186858,"accept_rate":59,"display_name":"so_mv"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1318126360,"creation_date":1318121490,"answer_id":7700729,"question_id":308683,"body_markdown":"Sample code to render system time in a specific time zone and a specific format.\r\n\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.util.TimeZone;\r\n    \r\n    public class TimZoneTest {\r\n        public static void main (String[] args){\r\n            //&lt;GMT&gt;&lt;+/-&gt;&lt;hour&gt;:&lt;minutes&gt;\r\n            // Any screw up in this format, timezone defaults to GMT QUIETLY. So test your format a few times.\r\n    \r\n            System.out.println(my_time_in(&quot;GMT-5:00&quot;, &quot;MM/dd/yyyy HH:mm:ss&quot;) );\r\n            System.out.println(my_time_in(&quot;GMT+5:30&quot;, &quot;&#39;at&#39; HH:mm a z &#39;on&#39; MM/dd/yyyy&quot;));\r\n            \r\n            System.out.println(&quot;---------------------------------------------&quot;);\r\n            // Alternate format \r\n            System.out.println(my_time_in(&quot;America/Los_Angeles&quot;, &quot;&#39;at&#39; HH:mm a z &#39;on&#39; MM/dd/yyyy&quot;) );\r\n            System.out.println(my_time_in(&quot;America/Buenos_Aires&quot;, &quot;&#39;at&#39; HH:mm a z &#39;on&#39; MM/dd/yyyy&quot;) );\r\n    \r\n    \r\n        }\r\n    \r\n        public static String my_time_in(String target_time_zone, String format){\r\n            TimeZone tz = TimeZone.getTimeZone(target_time_zone);\r\n            Date date = Calendar.getInstance().getTime();\r\n            SimpleDateFormat date_format_gmt = new SimpleDateFormat(format);\r\n            date_format_gmt.setTimeZone(tz);\r\n            return date_format_gmt.format(date);\r\n        }\r\n    \r\n    }\r\n\r\nOutput\r\n\r\n    10/08/2011 21:07:21\r\n    at 07:37 AM GMT+05:30 on 10/09/2011\r\n    at 19:07 PM PDT on 10/08/2011\r\n    at 23:07 PM ART on 10/08/2011\r\n\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>Sample code to render system time in a specific time zone and a specific format.</p>\n\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.TimeZone;\n\npublic class TimZoneTest {\n    public static void main (String[] args){\n        //&lt;GMT&gt;&lt;+/-&gt;&lt;hour&gt;:&lt;minutes&gt;\n        // Any screw up in this format, timezone defaults to GMT QUIETLY. So test your format a few times.\n\n        System.out.println(my_time_in(\"GMT-5:00\", \"MM/dd/yyyy HH:mm:ss\") );\n        System.out.println(my_time_in(\"GMT+5:30\", \"'at' HH:mm a z 'on' MM/dd/yyyy\"));\n\n        System.out.println(\"---------------------------------------------\");\n        // Alternate format \n        System.out.println(my_time_in(\"America/Los_Angeles\", \"'at' HH:mm a z 'on' MM/dd/yyyy\") );\n        System.out.println(my_time_in(\"America/Buenos_Aires\", \"'at' HH:mm a z 'on' MM/dd/yyyy\") );\n\n\n    }\n\n    public static String my_time_in(String target_time_zone, String format){\n        TimeZone tz = TimeZone.getTimeZone(target_time_zone);\n        Date date = Calendar.getInstance().getTime();\n        SimpleDateFormat date_format_gmt = new SimpleDateFormat(format);\n        date_format_gmt.setTimeZone(tz);\n        return date_format_gmt.format(date);\n    }\n\n}\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>10/08/2011 21:07:21\nat 07:37 AM GMT+05:30 on 10/09/2011\nat 19:07 PM PDT on 10/08/2011\nat 23:07 PM ART on 10/08/2011\n</code></pre>\n"},{"tags":[],"owner":{"account_id":284947,"reputation":6187,"user_id":583344,"accept_rate":46,"display_name":"nithinreddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1484631337,"creation_date":1334644767,"answer_id":10186364,"question_id":308683,"body_markdown":"You can directly use this\r\n\r\n    SimpleDateFormat dateFormatGmt = new SimpleDateFormat(&quot;dd:MM:yyyy HH:mm:ss&quot;);\r\n    dateFormatGmt.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    System.out.println(dateFormatGmt.format(new Date())+&quot;&quot;);","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>You can directly use this</p>\n\n<pre><code>SimpleDateFormat dateFormatGmt = new SimpleDateFormat(\"dd:MM:yyyy HH:mm:ss\");\ndateFormatGmt.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\nSystem.out.println(dateFormatGmt.format(new Date())+\"\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1383910006,"post_id":10447421,"comment_id":29534462,"body_markdown":"You are working too hard. [Joda-Time](http://www.joda.org/joda-time/) can do this in a single line of code. See [my own answer](http://stackoverflow.com/a/19632076/642706) on this question. Call the `.toDateTime` method and pass the constant for the UTC time zone.","body":"You are working too hard. <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> can do this in a single line of code. See <a href=\"http://stackoverflow.com/a/19632076/642706\">my own answer</a> on this question. Call the <code>.toDateTime</code> method and pass the constant for the UTC time zone."},{"owner":{"account_id":963409,"reputation":3315,"user_id":987262,"accept_rate":91,"display_name":"Maciej Miklas"},"score":1,"creation_date":1390463925,"post_id":10447421,"comment_id":32104738,"body_markdown":"DateTime utcDate = new DateTime().toDateTime(DateTimeZone.UTC)","body":"DateTime utcDate = new DateTime().toDateTime(DateTimeZone.UTC)"}],"tags":[],"owner":{"account_id":474453,"reputation":147,"user_id":884141,"display_name":"huljas"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1336128715,"creation_date":1336128715,"answer_id":10447421,"question_id":308683,"body_markdown":"If you want a Date object with fields adjusted for UTC you can do it like this with [Joda Time][1]:\r\n\r\n    import org.joda.time.DateTimeZone;\r\n    import java.util.Date;\r\n    \r\n    ...\r\n\r\n    Date local = new Date();\r\n    System.out.println(&quot;Local: &quot; + local);\r\n    DateTimeZone zone = DateTimeZone.getDefault();\r\n    long utc = zone.convertLocalToUTC(local.getTime(), false);\r\n    System.out.println(&quot;UTC: &quot; + new Date(utc));\r\n\r\n  [1]: http://joda-time.sourceforge.net/","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>If you want a Date object with fields adjusted for UTC you can do it like this with <a href=\"http://joda-time.sourceforge.net/\">Joda Time</a>:</p>\n\n<pre><code>import org.joda.time.DateTimeZone;\nimport java.util.Date;\n\n...\n\nDate local = new Date();\nSystem.out.println(\"Local: \" + local);\nDateTimeZone zone = DateTimeZone.getDefault();\nlong utc = zone.convertLocalToUTC(local.getTime(), false);\nSystem.out.println(\"UTC: \" + new Date(utc));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1473326,"reputation":59,"user_id":1384339,"display_name":"Rene"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1336559665,"creation_date":1336559665,"answer_id":10514345,"question_id":308683,"body_markdown":"Here an other suggestion to get a GMT Timestamp object:\r\n\r\n    import java.sql.Timestamp;\r\n    import java.util.Calendar;\r\n\r\n    ...\r\n\r\n    private static Timestamp getGMT() {\r\n       Calendar cal = Calendar.getInstance();\r\n       return new Timestamp(cal.getTimeInMillis()\r\n                           -cal.get(Calendar.ZONE_OFFSET)\r\n                           -cal.get(Calendar.DST_OFFSET));\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>Here an other suggestion to get a GMT Timestamp object:</p>\n\n<pre><code>import java.sql.Timestamp;\nimport java.util.Calendar;\n\n...\n\nprivate static Timestamp getGMT() {\n   Calendar cal = Calendar.getInstance();\n   return new Timestamp(cal.getTimeInMillis()\n                       -cal.get(Calendar.ZONE_OFFSET)\n                       -cal.get(Calendar.DST_OFFSET));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":896549,"reputation":3603,"user_id":933681,"accept_rate":68,"display_name":"RealCasually"},"score":7,"creation_date":1379553003,"post_id":10636276,"comment_id":27873055,"body_markdown":"Calling getTime() on this causes it to lose the time zone information and return local time.","body":"Calling getTime() on this causes it to lose the time zone information and return local time."}],"tags":[],"owner":{"account_id":259304,"reputation":71887,"user_id":542091,"accept_rate":92,"display_name":"Ovidiu Latcu"},"comment_count":1,"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1337259877,"creation_date":1337259877,"answer_id":10636276,"question_id":308683,"body_markdown":"Just to make this simpler, to create a `Date` in `UTC` you can use [`Calendar`](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Calendar.html) :\r\n\r\n    Calendar.getInstance(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\r\nWhich will construct a new instance for `Calendar` using the &quot;UTC&quot; `TimeZone`.\r\n\r\nIf you need a `Date` object from that calendar you could just use `getTime()`.","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>Just to make this simpler, to create a <code>Date</code> in <code>UTC</code> you can use <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Calendar.html\" rel=\"nofollow\"><code>Calendar</code></a> :</p>\n\n<pre><code>Calendar.getInstance(TimeZone.getTimeZone(\"UTC\"));\n</code></pre>\n\n<p>Which will construct a new instance for <code>Calendar</code> using the \"UTC\" <code>TimeZone</code>.</p>\n\n<p>If you need a <code>Date</code> object from that calendar you could just use <code>getTime()</code>.</p>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":9,"creation_date":1368280628,"post_id":10707492,"comment_id":23679963,"body_markdown":"I hadn&#39;t seen this answer before, but if you read the documentation for the deprecated `Date.getHours()` method, it makes it very clear: &quot;The returned value is a number (0 through 23) representing the hour within the day that contains or begins with the instant in time represented by this Date object, **as interpreted in the local time zone**.&quot; (Emphasis mine.) It&#39;s the `getHours()` method which interprets the value within the local time zone - it&#39;s not part of the state of the `Date` object itself.","body":"I hadn&#39;t seen this answer before, but if you read the documentation for the deprecated <code>Date.getHours()</code> method, it makes it very clear: &quot;The returned value is a number (0 through 23) representing the hour within the day that contains or begins with the instant in time represented by this Date object, <b>as interpreted in the local time zone</b>.&quot; (Emphasis mine.) It&#39;s the <code>getHours()</code> method which interprets the value within the local time zone - it&#39;s not part of the state of the <code>Date</code> object itself."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1390353287,"post_id":10707492,"comment_id":32052414,"body_markdown":"As Jon Skeet correctly stated, a java.util.Date object **has no time zone**. But confusingly, the methods `toString` and `getHours` apply the default time zone to their output. So, na&#239;ve programmers are easily fooled as it *seems* a Date has a time zone but in fact does not.","body":"As Jon Skeet correctly stated, a java.util.Date object <b>has no time zone</b>. But confusingly, the methods <code>toString</code> and <code>getHours</code> apply the default time zone to their output. So, na&#239;ve programmers are easily fooled as it <i>seems</i> a Date has a time zone but in fact does not."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1648297159,"post_id":10707492,"comment_id":126591519,"body_markdown":"The `getHours()` method has been deprecated for more than 25 years exactly because it works unreliably across time zones. So what you are showing is not that Jon Skeet was wrong (which he wasn’t), but that there was good reason for the deprecation.","body":"The <code>getHours()</code> method has been deprecated for more than 25 years exactly because it works unreliably across time zones. So what you are showing is not that Jon Skeet was wrong (which he wasn’t), but that there was good reason for the deprecation."}],"tags":[],"owner":{"account_id":1507985,"reputation":125,"user_id":1410897,"display_name":"Dana Wilson"},"comment_count":3,"down_vote_count":3,"up_vote_count":13,"is_accepted":false,"score":10,"last_activity_date":1551689296,"creation_date":1337709670,"answer_id":10707492,"question_id":308683,"body_markdown":"Here is what seems to be incorrect in [Jon Skeet&#39;s answer](https://stackoverflow.com/a/308689/366904). He said:\r\n\r\n&gt; `java.util.Date` is always in UTC. What makes you think it&#39;s in local\r\n&gt; time? I suspect the problem is that you&#39;re displaying it via an\r\n&gt; instance of Calendar which uses the local timezone, or possibly using\r\n&gt; `Date.toString()` which also uses the local timezone.\r\n\r\nHowever, the code:\r\n\r\n    System.out.println(new java.util.Date().getHours() + &quot; hours&quot;);\r\n\r\n\r\ngives the local hours, not GMT (UTC hours), using no `Calendar` and no `SimpleDateFormat` at all.\r\n\r\nThat is why is seems something is incorrect.\r\n\r\n\r\nPutting together the responses, the code: \r\n\r\n    System.out.println(Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT&quot;))\r\n                               .get(Calendar.HOUR_OF_DAY) + &quot; Hours&quot;);\r\n\r\nshows the GMT hours instead of the local hours -- note that `getTime.getHours()` is missing because that would create a `Date()` object, which theoretically stores the date in GMT, but gives back the hours in the local time zone.","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>Here is what seems to be incorrect in <a href=\"https://stackoverflow.com/a/308689/366904\">Jon Skeet's answer</a>. He said:</p>\n\n<blockquote>\n  <p><code>java.util.Date</code> is always in UTC. What makes you think it's in local\n  time? I suspect the problem is that you're displaying it via an\n  instance of Calendar which uses the local timezone, or possibly using\n  <code>Date.toString()</code> which also uses the local timezone.</p>\n</blockquote>\n\n<p>However, the code:</p>\n\n<pre><code>System.out.println(new java.util.Date().getHours() + \" hours\");\n</code></pre>\n\n<p>gives the local hours, not GMT (UTC hours), using no <code>Calendar</code> and no <code>SimpleDateFormat</code> at all.</p>\n\n<p>That is why is seems something is incorrect.</p>\n\n<p>Putting together the responses, the code: </p>\n\n<pre><code>System.out.println(Calendar.getInstance(TimeZone.getTimeZone(\"GMT\"))\n                           .get(Calendar.HOUR_OF_DAY) + \" Hours\");\n</code></pre>\n\n<p>shows the GMT hours instead of the local hours -- note that <code>getTime.getHours()</code> is missing because that would create a <code>Date()</code> object, which theoretically stores the date in GMT, but gives back the hours in the local time zone.</p>\n"},{"tags":[],"owner":{"account_id":1893257,"reputation":51,"user_id":1710772,"display_name":"shahtapa"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1349065796,"creation_date":1349063332,"answer_id":12667316,"question_id":308683,"body_markdown":"Here is another way to get GMT time in String format\r\n\r\n    String DATE_FORMAT = &quot;EEE, dd MMM yyyy HH:mm:ss z&quot; ;\r\n    final SimpleDateFormat sdf = new SimpleDateFormat(DATE_FORMAT);\r\n    sdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    String dateTimeString =  sdf.format(new Date());\r\n\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>Here is another way to get GMT time in String format</p>\n\n<pre><code>String DATE_FORMAT = \"EEE, dd MMM yyyy HH:mm:ss z\" ;\nfinal SimpleDateFormat sdf = new SimpleDateFormat(DATE_FORMAT);\nsdf.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\nString dateTimeString =  sdf.format(new Date());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2065755,"reputation":713,"user_id":1841293,"accept_rate":0,"display_name":"Hitesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354695698,"creation_date":1354695698,"answer_id":13718937,"question_id":308683,"body_markdown":"To put it simple. A calendar object stores information about time zone but when you perform cal.getTime() then the timezone information will be lost. So for Timezone conversions I will advice to use DateFormat classes...\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>To put it simple. A calendar object stores information about time zone but when you perform cal.getTime() then the timezone information will be lost. So for Timezone conversions I will advice to use DateFormat classes...</p>\n"},{"tags":[],"owner":{"account_id":2023955,"reputation":41,"user_id":1809496,"display_name":"Bogdan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1364215576,"creation_date":1364215576,"answer_id":15615331,"question_id":308683,"body_markdown":"This worked for me, returns the timestamp in GMT!\r\n\r\n        Date currDate;\r\n    \tSimpleDateFormat dateFormatGmt = new SimpleDateFormat(&quot;yyyy-MMM-dd HH:mm:ss&quot;);\r\n    \tdateFormatGmt.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    \tSimpleDateFormat dateFormatLocal = new SimpleDateFormat(&quot;yyyy-MMM-dd HH:mm:ss&quot;);\r\n    \t\r\n    \tlong currTime = 0;\r\n\t\ttry {\r\n\r\n\t\t\tcurrDate = dateFormatLocal.parse( dateFormatGmt.format(new Date()) );\r\n\t\t\tcurrTime = currDate.getTime();\r\n\t\t} catch (ParseException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>This worked for me, returns the timestamp in GMT!</p>\n\n<pre><code>    Date currDate;\n    SimpleDateFormat dateFormatGmt = new SimpleDateFormat(\"yyyy-MMM-dd HH:mm:ss\");\n    dateFormatGmt.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\n    SimpleDateFormat dateFormatLocal = new SimpleDateFormat(\"yyyy-MMM-dd HH:mm:ss\");\n\n    long currTime = 0;\n    try {\n\n        currDate = dateFormatLocal.parse( dateFormatGmt.format(new Date()) );\n        currTime = currDate.getTime();\n    } catch (ParseException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":31578,"reputation":625,"user_id":86841,"accept_rate":67,"display_name":"tevch"},"score":7,"creation_date":1374947394,"post_id":16595970,"comment_id":26146672,"body_markdown":"only you need to subtract the offset?","body":"only you need to subtract the offset?"},{"owner":{"account_id":5325730,"reputation":1591,"user_id":4247851,"accept_rate":40,"display_name":"Shanavas M"},"score":0,"creation_date":1447942731,"post_id":16595970,"comment_id":55378044,"body_markdown":"`c.add(Calendar.MILLISECOND, (-utcOffset))` to get Calendar with utc timezone","body":"<code>c.add(Calendar.MILLISECOND, (-utcOffset))</code> to get Calendar with utc timezone"},{"owner":{"account_id":1660096,"reputation":164,"user_id":1528548,"display_name":"Jovin"},"score":0,"creation_date":1667822325,"post_id":16595970,"comment_id":131251624,"body_markdown":"`Calendar.getInstance().apply {\ntimeInMillis -= get(Calendar.ZONE_OFFSET) + get(Calendar.DST_OFFSET)\n }`","body":"<code>Calendar.getInstance().apply { timeInMillis -= get(Calendar.ZONE_OFFSET) + get(Calendar.DST_OFFSET)  }</code>"}],"tags":[],"owner":{"account_id":485248,"reputation":669,"user_id":901442,"display_name":"moberme"},"comment_count":3,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1368732911,"creation_date":1368732911,"answer_id":16595970,"question_id":308683,"body_markdown":"This works for getting UTC milliseconds in Android.\r\n\r\n    Calendar c = Calendar.getInstance();\r\n    int utcOffset = c.get(Calendar.ZONE_OFFSET) + c.get(Calendar.DST_OFFSET);  \r\n    Long utcMilliseconds = c.getTimeInMillis() + utcOffset;","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>This works for getting UTC milliseconds in Android.</p>\n\n<pre><code>Calendar c = Calendar.getInstance();\nint utcOffset = c.get(Calendar.ZONE_OFFSET) + c.get(Calendar.DST_OFFSET);  \nLong utcMilliseconds = c.getTimeInMillis() + utcOffset;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":80013,"reputation":2646,"user_id":226513,"accept_rate":67,"display_name":"Adam"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1382798387,"creation_date":1382798387,"answer_id":19607953,"question_id":308683,"body_markdown":"This code prints the current time UTC.\r\n\r\n\timport java.text.ParseException;\r\n\timport java.text.SimpleDateFormat;\r\n\timport java.util.Date;\r\n\timport java.util.TimeZone;\r\n\t\r\n\t\r\n\tpublic class Test\r\n\t{\r\n\t\tpublic static void main(final String[] args) throws ParseException\r\n\t\t{\r\n\t\t\tfinal SimpleDateFormat f = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss z&quot;);\r\n\t\t\tf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\t\t\tSystem.out.println(f.format(new Date()));\r\n\t\t}\r\n\t}\r\n\r\n\r\nResult\r\n\r\n    2013-10-26 14:37:48 UTC\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>This code prints the current time UTC.</p>\n\n<pre><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.TimeZone;\n\n\npublic class Test\n{\n    public static void main(final String[] args) throws ParseException\n    {\n        final SimpleDateFormat f = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss z\");\n        f.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n        System.out.println(f.format(new Date()));\n    }\n}\n</code></pre>\n\n<p>Result</p>\n\n<pre><code>2013-10-26 14:37:48 UTC\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2278676,"reputation":1090,"user_id":2061551,"accept_rate":87,"display_name":"Managarm"},"score":4,"creation_date":1436349575,"post_id":19632076,"comment_id":50570174,"body_markdown":"`DateTime.now().toDateTime(DateTimeZone.UTC)` was what I was looking for! Thanks!","body":"<code>DateTime.now().toDateTime(DateTimeZone.UTC)</code> was what I was looking for! Thanks!"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1436372985,"post_id":19632076,"comment_id":50587396,"body_markdown":"@Managarm You can shorten that to:  `DateTime nowUtc = DateTime.now ( DateTimeZone.UTC ) ;`","body":"@Managarm You can shorten that to:  <code>DateTime nowUtc = DateTime.now ( DateTimeZone.UTC ) ;</code>"},{"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"score":0,"creation_date":1555935187,"post_id":19632076,"comment_id":98257309,"body_markdown":"How to get this with Pure Java 8 `2014-01-21T15:34:29.933-08:00` in the example you used `new org.joda.time.DateTime()`","body":"How to get this with Pure Java 8 <code>2014-01-21T15:34:29.933-08:00</code> in the example you used <code>new org.joda.time.DateTime()</code>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1556252116,"post_id":19632076,"comment_id":98381963,"body_markdown":"@GOXR3PLUS `ZonedDateTime.now( ZoneId.of( &quot;America/Los_Angeles&quot; ) ).truncatedTo( ChronoUnit.MILLIS ).toOffsetDateTime().toString()`  We get the current moment for a specified time zone. Next, lop off any micros/nanos. Then we convert to having only a mere offset-from-UTC (number of hours-minutes-seconds) rather than a full-blown time zone (a history of past, present, and future changes in the offset used by the people of a particular region). Lastly, we generate text representing the value in that `OffsetDateTime` per the standard ISO 8601 format used by default in its `toString` method.","body":"@GOXR3PLUS <code>ZonedDateTime.now( ZoneId.of( &quot;America&#47;Los_Angeles&quot; ) ).truncatedTo( ChronoUnit.MILLIS ).toOffsetDateTime().toString()</code>  We get the current moment for a specified time zone. Next, lop off any micros/nanos. Then we convert to having only a mere offset-from-UTC (number of hours-minutes-seconds) rather than a full-blown time zone (a history of past, present, and future changes in the offset used by the people of a particular region). Lastly, we generate text representing the value in that <code>OffsetDateTime</code> per the standard ISO 8601 format used by default in its <code>toString</code> method."},{"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"score":0,"creation_date":1632181840,"post_id":19632076,"comment_id":122418912,"body_markdown":"See also [this similar answer from the same user](https://stackoverflow.com/a/39379431/6243352)","body":"See also <a href=\"https://stackoverflow.com/a/39379431/6243352\">this similar answer from the same user</a>"},{"owner":{"account_id":12620744,"reputation":58,"user_id":9176339,"display_name":"Rudra Tiwari"},"score":0,"creation_date":1647845696,"post_id":19632076,"comment_id":126464244,"body_markdown":"Does the Java 8  java.time.* package returns time from the system clock or from any server? Like if I want to use it to get current time, without relying on system clock as it could be changed to something else, would it also give me the changed time from the system clock or would it return the correct time?","body":"Does the Java 8  java.time.* package returns time from the system clock or from any server? Like if I want to use it to get current time, without relying on system clock as it could be changed to something else, would it also give me the changed time from the system clock or would it return the correct time?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1647863724,"post_id":19632076,"comment_id":126470103,"body_markdown":"@RudraTiwari *java.time* uses the host OS’ to get the current time. If you cannot trust the local system’s clock, then make a network call to a [time server](https://en.wikipedia.org/wiki/Time_server). This topic has been addressed in several existing Questions and Answers on Stack Overflow, so search to learn more.","body":"@RudraTiwari <i>java.time</i> uses the host OS’ to get the current time. If you cannot trust the local system’s clock, then make a network call to a <a href=\"https://en.wikipedia.org/wiki/Time_server\" rel=\"nofollow noreferrer\">time server</a>. This topic has been addressed in several existing Questions and Answers on Stack Overflow, so search to learn more."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":7,"down_vote_count":0,"up_vote_count":510,"is_accepted":false,"score":510,"last_activity_date":1588777114,"creation_date":1382955286,"answer_id":19632076,"question_id":308683,"body_markdown":"# tl;dr\r\n\r\n    Instant.now()   // Capture the current moment in UTC. \r\n\r\nGenerate a String to represent that value:\r\n\r\n    Instant.now().toString()  \r\n\r\n&gt;2016-09-13T23:30:52.123Z\r\n\r\n# Details\r\n\r\nAs [the correct answer by Jon Skeet][1] stated, a java.util.Date object has **no time zone**&lt;sup&gt;†&lt;/sup&gt;. But its [`toString`][2] implementation applies the JVM’s default time zone when generating the String representation of that date-time value. Confusingly to the na&#239;ve programmer, a Date *seems* to have a time zone but does not.\r\n\r\nThe `java.util.Date`, `j.u.Calendar`, and `java.text.SimpleDateFormat` classes bundled with Java are notoriously troublesome. **Avoid them.** Instead, use either of these competent date-time libraries: \r\n\r\n - [java.time.*][3] package in Java 8\r\n - [Joda-Time][4]\r\n\r\njava.time (Java 8)\r\n==\r\n\r\n[Java 8][5] brings an excellent new [java.time.* package][6] to supplant the old java.util.Date/Calendar classes. \r\n\r\nGetting current time in UTC/GMT is a simple one-liner…\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    Instant instant = Instant.now();\r\n\r\nThat [`Instant`](http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) class is the basic building block in java.time, representing a moment on the timeline in [UTC](https://en.wikipedia.org/wiki/Coordinated_Universal_Time) with a resolution of [nanoseconds](https://en.wikipedia.org/wiki/Nanosecond). \r\n\r\nIn Java 8, the current moment is captured with only up to milliseconds resolution. [Java 9 brings a fresh implementation][7] of [`Clock`][8] captures the current moment in up to the full nanosecond capability of this class, depending on the ability of your host computer’s clock hardware.\r\n\r\nIt’s `toString` method generates a String representation of its value using [one specific ISO 8601 format][9]. That format outputs zero, three, six or nine digits digits ([milliseconds][10], [microseconds][11], or [nanoseconds][12]) as necessary to represent the fraction-of-second.\r\n\r\nIf you want more flexible formatting, or other additional features, then apply an offset-from-UTC of zero, for UTC itself ([`ZoneOffset.UTC` constant][13]) to get a [`OffsetDateTime`][14]. \r\n\r\n    OffsetDateTime now = OffsetDateTime.now( ZoneOffset.UTC );\r\n\r\nDump to console…\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    System.out.println( &quot;now.toString(): &quot; + now );\r\n\r\nWhen run…\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    now.toString(): 2014-01-21T23:42:03.522Z\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/MZe55.png&quot; alt=&quot;Table of date-time types in Java, both modern and legacy.&quot; /&gt;\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n[![Table of which java.time library to use with which version of Java or Android][16]][16]\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n\r\n----------\r\n\r\n\r\nJoda-Time\r\n==\r\n\r\nUPDATE: The [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes.\r\n\r\n\r\nUsing the [Joda-Time][4] 3rd-party open-source free-of-cost library, you can get the current date-time in just one line of code.\r\n\r\nJoda-Time inspired the new java.time.* classes in Java 8, but has a different architecture. You may use Joda-Time in older versions of Java. Joda-Time continues to work in Java 8 and continues to be actively maintained (as of 2014). However, the Joda-Time team does advise migration to java.time.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    System.out.println( &quot;UTC/GMT date-time in ISO 8601 format: &quot; + new org.joda.time.DateTime( org.joda.time.DateTimeZone.UTC ) );\r\n\r\nMore detailed example code (Joda-Time 2.3)…\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    org.joda.time.DateTime now = new org.joda.time.DateTime(); // Default time zone.\r\n    org.joda.time.DateTime zulu = now.toDateTime( org.joda.time.DateTimeZone.UTC );\r\n\r\nDump to console…\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    System.out.println( &quot;Local time in ISO 8601 format: &quot; + now );\r\n    System.out.println( &quot;Same moment in UTC (Zulu): &quot; + zulu );\r\n\r\nWhen run…\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    Local time in ISO 8601 format: 2014-01-21T15:34:29.933-08:00\r\n    Same moment in UTC (Zulu): 2014-01-21T23:34:29.933Z\r\n\r\nFor more example code doing time zone work, see [my answer](https://stackoverflow.com/a/19378311/642706) to a similar question.\r\n\r\n# Time Zone\r\n\r\nI recommend you always specify a time zone rather than relying implicitly on the JVM’s current default time zone (which can change at any moment!). Such reliance seems to be a common cause of confusion and bugs in date-time work.\r\n\r\nWhen calling `now()` pass the desired/expected time zone to be assigned. Use the [`DateTimeZone`][17] class.\r\n\r\n    DateTimeZone zoneMontr&#233;al = DateTimeZone.forID( &quot;America/Montreal&quot; );\r\n    DateTime now = DateTime.now( zoneMontr&#233;al );\r\n\r\nThat class holds a [constant for UTC][18] time zone.\r\n\r\n    DateTime now = DateTime.now( DateTimeZone.UTC );\r\n\r\nIf you truly want to use the JVM’s current default time zone, make an explicit call so your code is self-documenting.\r\n\r\n    DateTimeZone zoneDefault = DateTimeZone.getDefault();\r\n\r\n\r\n# ISO 8601\r\n\r\nRead about [ISO 8601][19] formats. Both java.time and Joda-Time use that standard’s sensible formats as their defaults for both parsing and generating strings.\r\n\r\n\r\n----------\r\n&lt;sup&gt;†&lt;/sup&gt; Actually, java.util.Date *does* have a time zone, buried deep under layers of source code. For most practical purposes, that time zone is ignored. So, as shorthand, we say java.util.Date has no time zone. Furthermore, that buried time zone is *not* the one used by Date’s `toString` method; that method uses the JVM’s current default time zone. All the more reason to avoid this confusing class and stick with Joda-Time and java.time.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/308689/642706\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/Date.html#toString%28%29\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [4]: http://www.joda.org/joda-time/\r\n  [5]: http://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\r\n  [6]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [7]: https://bugs.openjdk.java.net/browse/JDK-8068730\r\n  [8]: https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\r\n  [9]: http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_INSTANT\r\n  [10]: https://en.wikipedia.org/wiki/Millisecond\r\n  [11]: https://en.wikipedia.org/wiki/Microsecond\r\n  [12]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [13]: http://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html#UTC\r\n  [14]: https://docs.oracle.com/javase/10/docs/api/java/time/OffsetDateTime.html\r\n  [15]: https://i.stack.imgur.com/KLNm3.png\r\n  [16]: https://i.stack.imgur.com/eT2Oo.png\r\n  [17]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeZone.html\r\n  [18]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeZone.html#UTC\r\n  [19]: https://en.wikipedia.org/wiki/ISO_8601","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<h1>tl;dr</h1>\n\n<pre><code>Instant.now()   // Capture the current moment in UTC. \n</code></pre>\n\n<p>Generate a String to represent that value:</p>\n\n<pre><code>Instant.now().toString()  \n</code></pre>\n\n<blockquote>\n  <p>2016-09-13T23:30:52.123Z</p>\n</blockquote>\n\n<h1>Details</h1>\n\n<p>As <a href=\"https://stackoverflow.com/a/308689/642706\">the correct answer by Jon Skeet</a> stated, a java.util.Date object has <strong>no time zone</strong><sup>†</sup>. But its <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Date.html#toString%28%29\" rel=\"noreferrer\"><code>toString</code></a> implementation applies the JVM’s default time zone when generating the String representation of that date-time value. Confusingly to the naïve programmer, a Date <em>seems</em> to have a time zone but does not.</p>\n\n<p>The <code>java.util.Date</code>, <code>j.u.Calendar</code>, and <code>java.text.SimpleDateFormat</code> classes bundled with Java are notoriously troublesome. <strong>Avoid them.</strong> Instead, use either of these competent date-time libraries: </p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time.*</a> package in Java 8</li>\n<li><a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a></li>\n</ul>\n\n<h1>java.time (Java 8)</h1>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\">Java 8</a> brings an excellent new <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time.* package</a> to supplant the old java.util.Date/Calendar classes. </p>\n\n<p>Getting current time in UTC/GMT is a simple one-liner…</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Instant instant = Instant.now();\n</code></pre>\n\n<p>That <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> class is the basic building block in java.time, representing a moment on the timeline in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a> with a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a>. </p>\n\n<p>In Java 8, the current moment is captured with only up to milliseconds resolution. <a href=\"https://bugs.openjdk.java.net/browse/JDK-8068730\" rel=\"noreferrer\">Java 9 brings a fresh implementation</a> of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\" rel=\"noreferrer\"><code>Clock</code></a> captures the current moment in up to the full nanosecond capability of this class, depending on the ability of your host computer’s clock hardware.</p>\n\n<p>It’s <code>toString</code> method generates a String representation of its value using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_INSTANT\" rel=\"noreferrer\">one specific ISO 8601 format</a>. That format outputs zero, three, six or nine digits digits (<a href=\"https://en.wikipedia.org/wiki/Millisecond\" rel=\"noreferrer\">milliseconds</a>, <a href=\"https://en.wikipedia.org/wiki/Microsecond\" rel=\"noreferrer\">microseconds</a>, or <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a>) as necessary to represent the fraction-of-second.</p>\n\n<p>If you want more flexible formatting, or other additional features, then apply an offset-from-UTC of zero, for UTC itself (<a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html#UTC\" rel=\"noreferrer\"><code>ZoneOffset.UTC</code> constant</a>) to get a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/OffsetDateTime.html\" rel=\"noreferrer\"><code>OffsetDateTime</code></a>. </p>\n\n<pre><code>OffsetDateTime now = OffsetDateTime.now( ZoneOffset.UTC );\n</code></pre>\n\n<p>Dump to console…</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( \"now.toString(): \" + now );\n</code></pre>\n\n<p>When run…</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>now.toString(): 2014-01-21T23:42:03.522Z\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/MZe55.png\" alt=\"Table of date-time types in Java, both modern and legacy.\" /></p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n\n<ul>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/eT2Oo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/eT2Oo.png\" alt=\"Table of which java.time library to use with which version of Java or Android\"></a></p>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n\n<hr>\n\n<h1>Joda-Time</h1>\n\n<p>UPDATE: The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>Using the <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> 3rd-party open-source free-of-cost library, you can get the current date-time in just one line of code.</p>\n\n<p>Joda-Time inspired the new java.time.* classes in Java 8, but has a different architecture. You may use Joda-Time in older versions of Java. Joda-Time continues to work in Java 8 and continues to be actively maintained (as of 2014). However, the Joda-Time team does advise migration to java.time.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( \"UTC/GMT date-time in ISO 8601 format: \" + new org.joda.time.DateTime( org.joda.time.DateTimeZone.UTC ) );\n</code></pre>\n\n<p>More detailed example code (Joda-Time 2.3)…</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>org.joda.time.DateTime now = new org.joda.time.DateTime(); // Default time zone.\norg.joda.time.DateTime zulu = now.toDateTime( org.joda.time.DateTimeZone.UTC );\n</code></pre>\n\n<p>Dump to console…</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( \"Local time in ISO 8601 format: \" + now );\nSystem.out.println( \"Same moment in UTC (Zulu): \" + zulu );\n</code></pre>\n\n<p>When run…</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Local time in ISO 8601 format: 2014-01-21T15:34:29.933-08:00\nSame moment in UTC (Zulu): 2014-01-21T23:34:29.933Z\n</code></pre>\n\n<p>For more example code doing time zone work, see <a href=\"https://stackoverflow.com/a/19378311/642706\">my answer</a> to a similar question.</p>\n\n<h1>Time Zone</h1>\n\n<p>I recommend you always specify a time zone rather than relying implicitly on the JVM’s current default time zone (which can change at any moment!). Such reliance seems to be a common cause of confusion and bugs in date-time work.</p>\n\n<p>When calling <code>now()</code> pass the desired/expected time zone to be assigned. Use the <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeZone.html\" rel=\"noreferrer\"><code>DateTimeZone</code></a> class.</p>\n\n<pre><code>DateTimeZone zoneMontréal = DateTimeZone.forID( \"America/Montreal\" );\nDateTime now = DateTime.now( zoneMontréal );\n</code></pre>\n\n<p>That class holds a <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeZone.html#UTC\" rel=\"noreferrer\">constant for UTC</a> time zone.</p>\n\n<pre><code>DateTime now = DateTime.now( DateTimeZone.UTC );\n</code></pre>\n\n<p>If you truly want to use the JVM’s current default time zone, make an explicit call so your code is self-documenting.</p>\n\n<pre><code>DateTimeZone zoneDefault = DateTimeZone.getDefault();\n</code></pre>\n\n<h1>ISO 8601</h1>\n\n<p>Read about <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> formats. Both java.time and Joda-Time use that standard’s sensible formats as their defaults for both parsing and generating strings.</p>\n\n<hr>\n\n<p><sup>†</sup> Actually, java.util.Date <em>does</em> have a time zone, buried deep under layers of source code. For most practical purposes, that time zone is ignored. So, as shorthand, we say java.util.Date has no time zone. Furthermore, that buried time zone is <em>not</em> the one used by Date’s <code>toString</code> method; that method uses the JVM’s current default time zone. All the more reason to avoid this confusing class and stick with Joda-Time and java.time.</p>\n"},{"comments":[{"owner":{"account_id":897319,"reputation":669,"user_id":934297,"display_name":"Harun"},"score":0,"creation_date":1385630678,"post_id":19735955,"comment_id":30224261,"body_markdown":"In single line &lt;br/&gt;\n&lt;pre&gt; &lt;code&gt;Calendar utcTime = Calendar.getInstance().add(Calendar.MILLISECOND, -time.getTimeZone().getOffset(time.getTimeInMillis()));&lt;/pre&gt; &lt;/code&gt;","body":"In single line &lt;br/&gt; &lt;pre&gt; &lt;code&gt;Calendar utcTime = Calendar.getInstance().add(Calendar.MILLISECOND, -time.getTimeZone().getOffset(time.getTimeInMillis()));&lt;/pre&zwnj;&#8203;&gt; &lt;/code&gt;"},{"owner":{"account_id":2633295,"reputation":5279,"user_id":2278668,"accept_rate":100,"display_name":"Ingo"},"score":2,"creation_date":1386082789,"post_id":19735955,"comment_id":30384286,"body_markdown":"Yes, but this calls the local Device Time, which could changed manualy from the user to a false DateTime","body":"Yes, but this calls the local Device Time, which could changed manualy from the user to a false DateTime"}],"tags":[],"owner":{"account_id":2633295,"reputation":5279,"user_id":2278668,"accept_rate":100,"display_name":"Ingo"},"comment_count":2,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1406758440,"creation_date":1383342597,"answer_id":19735955,"question_id":308683,"body_markdown":"Use this Class to get ever the right UTC Time from a Online NTP Server: \r\n\r\n\r\n    import java.net.DatagramPacket;\r\n    import java.net.DatagramSocket;\r\n    import java.net.InetAddress;\r\n\r\n\r\n    class NTP_UTC_Time\r\n    {\r\n    private static final String TAG = &quot;SntpClient&quot;;\r\n\r\n    private static final int RECEIVE_TIME_OFFSET = 32;\r\n    private static final int TRANSMIT_TIME_OFFSET = 40;\r\n    private static final int NTP_PACKET_SIZE = 48;\r\n\r\n    private static final int NTP_PORT = 123;\r\n    private static final int NTP_MODE_CLIENT = 3;\r\n    private static final int NTP_VERSION = 3;\r\n\r\n    // Number of seconds between Jan 1, 1900 and Jan 1, 1970\r\n    // 70 years plus 17 leap days\r\n    private static final long OFFSET_1900_TO_1970 = ((365L * 70L) + 17L) * 24L * 60L * 60L;\r\n\r\n    private long mNtpTime;\r\n\r\n    public boolean requestTime(String host, int timeout) {\r\n        try {\r\n            DatagramSocket socket = new DatagramSocket();\r\n            socket.setSoTimeout(timeout);\r\n            InetAddress address = InetAddress.getByName(host);\r\n            byte[] buffer = new byte[NTP_PACKET_SIZE];\r\n            DatagramPacket request = new DatagramPacket(buffer, buffer.length, address, NTP_PORT);\r\n\r\n            buffer[0] = NTP_MODE_CLIENT | (NTP_VERSION &lt;&lt; 3);\r\n\r\n            writeTimeStamp(buffer, TRANSMIT_TIME_OFFSET);\r\n\r\n            socket.send(request);\r\n\r\n            // read the response\r\n            DatagramPacket response = new DatagramPacket(buffer, buffer.length);\r\n            socket.receive(response);          \r\n            socket.close();\r\n       \r\n            mNtpTime = readTimeStamp(buffer, RECEIVE_TIME_OFFSET);            \r\n        } catch (Exception e) {\r\n          //  if (Config.LOGD) Log.d(TAG, &quot;request time failed: &quot; + e);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n    \r\n\r\n    public long getNtpTime() {\r\n        return mNtpTime;\r\n    }\r\n\r\n\r\n    /**\r\n     * Reads an unsigned 32 bit big endian number from the given offset in the buffer.\r\n     */\r\n    private long read32(byte[] buffer, int offset) {\r\n        byte b0 = buffer[offset];\r\n        byte b1 = buffer[offset+1];\r\n        byte b2 = buffer[offset+2];\r\n        byte b3 = buffer[offset+3];\r\n\r\n        // convert signed bytes to unsigned values\r\n        int i0 = ((b0 &amp; 0x80) == 0x80 ? (b0 &amp; 0x7F) + 0x80 : b0);\r\n        int i1 = ((b1 &amp; 0x80) == 0x80 ? (b1 &amp; 0x7F) + 0x80 : b1);\r\n        int i2 = ((b2 &amp; 0x80) == 0x80 ? (b2 &amp; 0x7F) + 0x80 : b2);\r\n        int i3 = ((b3 &amp; 0x80) == 0x80 ? (b3 &amp; 0x7F) + 0x80 : b3);\r\n\r\n        return ((long)i0 &lt;&lt; 24) + ((long)i1 &lt;&lt; 16) + ((long)i2 &lt;&lt; 8) + (long)i3;\r\n    }\r\n\r\n    /**\r\n     * Reads the NTP time stamp at the given offset in the buffer and returns \r\n     * it as a system time (milliseconds since January 1, 1970).\r\n     */    \r\n    private long readTimeStamp(byte[] buffer, int offset) {\r\n        long seconds = read32(buffer, offset);\r\n        long fraction = read32(buffer, offset + 4);\r\n        return ((seconds - OFFSET_1900_TO_1970) * 1000) + ((fraction * 1000L) / 0x100000000L);        \r\n    }\r\n\r\n    /**\r\n     * Writes 0 as NTP starttime stamp in the buffer. --&gt; Then NTP returns Time OFFSET since 1900\r\n     */    \r\n    private void writeTimeStamp(byte[] buffer, int offset) {    \t\r\n    \tint ofs =  offset++;\r\n    \t\r\n    \tfor (int i=ofs;i&lt;(ofs+8);i++)\r\n    \t  buffer[i] = (byte)(0);             \r\n    }\r\n                  \r\n    }\r\n\r\n\r\n\r\nAnd use it with:\r\n\r\n            long now = 0;\r\n\r\n            NTP_UTC_Time client = new NTP_UTC_Time();\r\n\r\n            if (client.requestTime(&quot;pool.ntp.org&quot;, 2000)) {              \r\n              now = client.getNtpTime();\r\n            }\r\n\r\n\r\nIf you need UTC Time &quot;now&quot; as DateTimeString use function:\r\n\r\n\r\n    private String get_UTC_Datetime_from_timestamp(long timeStamp){\r\n\r\n\t\ttry{\r\n\t\t\t\r\n\t\t\tCalendar cal = Calendar.getInstance();\r\n\t  \t\tTimeZone tz = cal.getTimeZone();\r\n\t  \t\t\r\n\t  \t\tint tzt = tz.getOffset(System.currentTimeMillis());\r\n\t  \t\t\t  \t\t\t  \t\t\r\n\t  \t\ttimeStamp -= tzt;\r\n\t\t\t\r\n\t\t    // DateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;,Locale.getDefault());\r\n\t\t    DateFormat sdf = new SimpleDateFormat();\r\n\t\t    Date netDate = (new Date(timeStamp));\r\n\t\t    return sdf.format(netDate);\r\n\t\t}\r\n\t\tcatch(Exception ex){\r\n\t\t    return &quot;&quot;;\r\n\t\t }\r\n\t\t} \r\n\r\n\r\nand use it with:\r\n\r\n    String UTC_DateTime = get_UTC_Datetime_from_timestamp(now);","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>Use this Class to get ever the right UTC Time from a Online NTP Server: </p>\n\n<pre><code>import java.net.DatagramPacket;\nimport java.net.DatagramSocket;\nimport java.net.InetAddress;\n\n\nclass NTP_UTC_Time\n{\nprivate static final String TAG = \"SntpClient\";\n\nprivate static final int RECEIVE_TIME_OFFSET = 32;\nprivate static final int TRANSMIT_TIME_OFFSET = 40;\nprivate static final int NTP_PACKET_SIZE = 48;\n\nprivate static final int NTP_PORT = 123;\nprivate static final int NTP_MODE_CLIENT = 3;\nprivate static final int NTP_VERSION = 3;\n\n// Number of seconds between Jan 1, 1900 and Jan 1, 1970\n// 70 years plus 17 leap days\nprivate static final long OFFSET_1900_TO_1970 = ((365L * 70L) + 17L) * 24L * 60L * 60L;\n\nprivate long mNtpTime;\n\npublic boolean requestTime(String host, int timeout) {\n    try {\n        DatagramSocket socket = new DatagramSocket();\n        socket.setSoTimeout(timeout);\n        InetAddress address = InetAddress.getByName(host);\n        byte[] buffer = new byte[NTP_PACKET_SIZE];\n        DatagramPacket request = new DatagramPacket(buffer, buffer.length, address, NTP_PORT);\n\n        buffer[0] = NTP_MODE_CLIENT | (NTP_VERSION &lt;&lt; 3);\n\n        writeTimeStamp(buffer, TRANSMIT_TIME_OFFSET);\n\n        socket.send(request);\n\n        // read the response\n        DatagramPacket response = new DatagramPacket(buffer, buffer.length);\n        socket.receive(response);          \n        socket.close();\n\n        mNtpTime = readTimeStamp(buffer, RECEIVE_TIME_OFFSET);            \n    } catch (Exception e) {\n      //  if (Config.LOGD) Log.d(TAG, \"request time failed: \" + e);\n        return false;\n    }\n\n    return true;\n}\n\n\npublic long getNtpTime() {\n    return mNtpTime;\n}\n\n\n/**\n * Reads an unsigned 32 bit big endian number from the given offset in the buffer.\n */\nprivate long read32(byte[] buffer, int offset) {\n    byte b0 = buffer[offset];\n    byte b1 = buffer[offset+1];\n    byte b2 = buffer[offset+2];\n    byte b3 = buffer[offset+3];\n\n    // convert signed bytes to unsigned values\n    int i0 = ((b0 &amp; 0x80) == 0x80 ? (b0 &amp; 0x7F) + 0x80 : b0);\n    int i1 = ((b1 &amp; 0x80) == 0x80 ? (b1 &amp; 0x7F) + 0x80 : b1);\n    int i2 = ((b2 &amp; 0x80) == 0x80 ? (b2 &amp; 0x7F) + 0x80 : b2);\n    int i3 = ((b3 &amp; 0x80) == 0x80 ? (b3 &amp; 0x7F) + 0x80 : b3);\n\n    return ((long)i0 &lt;&lt; 24) + ((long)i1 &lt;&lt; 16) + ((long)i2 &lt;&lt; 8) + (long)i3;\n}\n\n/**\n * Reads the NTP time stamp at the given offset in the buffer and returns \n * it as a system time (milliseconds since January 1, 1970).\n */    \nprivate long readTimeStamp(byte[] buffer, int offset) {\n    long seconds = read32(buffer, offset);\n    long fraction = read32(buffer, offset + 4);\n    return ((seconds - OFFSET_1900_TO_1970) * 1000) + ((fraction * 1000L) / 0x100000000L);        \n}\n\n/**\n * Writes 0 as NTP starttime stamp in the buffer. --&gt; Then NTP returns Time OFFSET since 1900\n */    \nprivate void writeTimeStamp(byte[] buffer, int offset) {        \n    int ofs =  offset++;\n\n    for (int i=ofs;i&lt;(ofs+8);i++)\n      buffer[i] = (byte)(0);             \n}\n\n}\n</code></pre>\n\n<p>And use it with:</p>\n\n<pre><code>        long now = 0;\n\n        NTP_UTC_Time client = new NTP_UTC_Time();\n\n        if (client.requestTime(\"pool.ntp.org\", 2000)) {              \n          now = client.getNtpTime();\n        }\n</code></pre>\n\n<p>If you need UTC Time \"now\" as DateTimeString use function:</p>\n\n<pre><code>private String get_UTC_Datetime_from_timestamp(long timeStamp){\n\n    try{\n\n        Calendar cal = Calendar.getInstance();\n        TimeZone tz = cal.getTimeZone();\n\n        int tzt = tz.getOffset(System.currentTimeMillis());\n\n        timeStamp -= tzt;\n\n        // DateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\",Locale.getDefault());\n        DateFormat sdf = new SimpleDateFormat();\n        Date netDate = (new Date(timeStamp));\n        return sdf.format(netDate);\n    }\n    catch(Exception ex){\n        return \"\";\n     }\n    } \n</code></pre>\n\n<p>and use it with:</p>\n\n<pre><code>String UTC_DateTime = get_UTC_Datetime_from_timestamp(now);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1390513702,"post_id":20996588,"comment_id":32136330,"body_markdown":"You are doing too much work here. (a) The formatter patter you define is already built into a DateTime by default; just call `toString` on a DateTime to get that [ISO 8601](http://en.wikipedia.org/wiki/ISO_8601) string pattern. (b) Way too much code to convert between time zones. Simply call &quot;toDateTime&quot; and pass a time zone object. Like this: `myDateTime.toDateTime( DateTimeZone.UTC )`. For a specific time zone, instantiate and pass a time zone object based on a [proper name](http://joda-time.sourceforge.net/timezones.html), call `myDateTime.toDateTime( DateTimeZone.forID( &quot;Asia/Tehran&quot; ) )`.","body":"You are doing too much work here. (a) The formatter patter you define is already built into a DateTime by default; just call <code>toString</code> on a DateTime to get that <a href=\"http://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> string pattern. (b) Way too much code to convert between time zones. Simply call &quot;toDateTime&quot; and pass a time zone object. Like this: <code>myDateTime.toDateTime( DateTimeZone.UTC )</code>. For a specific time zone, instantiate and pass a time zone object based on a <a href=\"http://joda-time.sourceforge.net/timezones.html\" rel=\"nofollow noreferrer\">proper name</a>, call <code>myDateTime.toDateTime( DateTimeZone.forID( &quot;Asia&#47;Tehran&quot; ) )</code>."}],"tags":[],"owner":{"account_id":1672317,"reputation":23196,"user_id":1538553,"accept_rate":59,"display_name":"sjain"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1389186518,"creation_date":1389186518,"answer_id":20996588,"question_id":308683,"body_markdown":"**Converting Current DateTime in UTC:**\r\n\r\n    DateTimeFormatter formatter = DateTimeFormat.forPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\n    \r\n    DateTimeZone dateTimeZone = DateTimeZone.getDefault(); //Default Time Zone\r\n    \r\n    DateTime currDateTime = new DateTime(); //Current DateTime\r\n    \r\n    long utcTime = dateTimeZone.convertLocalToUTC(currDateTime .getMillis(), false);\r\n    \r\n    String currTime = formatter.print(utcTime); //UTC time converted to string from long in format of formatter\r\n    \r\n    currDateTime = formatter.parseDateTime(currTime); //Converted to DateTime in UTC\r\n\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p><strong>Converting Current DateTime in UTC:</strong></p>\n\n<pre><code>DateTimeFormatter formatter = DateTimeFormat.forPattern(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n\nDateTimeZone dateTimeZone = DateTimeZone.getDefault(); //Default Time Zone\n\nDateTime currDateTime = new DateTime(); //Current DateTime\n\nlong utcTime = dateTimeZone.convertLocalToUTC(currDateTime .getMillis(), false);\n\nString currTime = formatter.print(utcTime); //UTC time converted to string from long in format of formatter\n\ncurrDateTime = formatter.parseDateTime(currTime); //Converted to DateTime in UTC\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3718356,"reputation":6301,"user_id":3093939,"accept_rate":55,"display_name":"Gal Rom"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401169962,"creation_date":1401169962,"answer_id":23881937,"question_id":308683,"body_markdown":"this is my implementation:\r\n\r\n    public static String GetCurrentTimeStamp()\r\n\t{\r\n\t\tCalendar cal=Calendar.getInstance();\r\n\t\tlong offset = cal.getTimeZone().getOffset(System.currentTimeMillis());//if you want in UTC else remove it .\r\n\t\treturn new java.sql.Timestamp(System.currentTimeMillis()+offset).toString();\t\r\n\t}\r\n\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>this is my implementation:</p>\n\n<pre><code>public static String GetCurrentTimeStamp()\n{\n    Calendar cal=Calendar.getInstance();\n    long offset = cal.getTimeZone().getOffset(System.currentTimeMillis());//if you want in UTC else remove it .\n    return new java.sql.Timestamp(System.currentTimeMillis()+offset).toString();    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2278676,"reputation":1090,"user_id":2061551,"accept_rate":87,"display_name":"Managarm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436355504,"creation_date":1436350710,"answer_id":31289752,"question_id":308683,"body_markdown":"If you&#39;re using joda time and want the current time in milliseconds *without your local offset* you can use this:\r\n\r\n    long instant = DateTimeZone.UTC.getMillisKeepLocal(DateTimeZone.getDefault(), System.currentTimeMillis());","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>If you're using joda time and want the current time in milliseconds <em>without your local offset</em> you can use this:</p>\n\n<pre><code>long instant = DateTimeZone.UTC.getMillisKeepLocal(DateTimeZone.getDefault(), System.currentTimeMillis());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21931,"reputation":3864,"user_id":53702,"accept_rate":92,"display_name":"Matthias van der Vlies"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439276104,"creation_date":1439276104,"answer_id":31935095,"question_id":308683,"body_markdown":"If you want to avoid parsing the date and just want a timestamp in GMT, you could use:\r\n\r\n    final Date gmt = new Timestamp(System.currentTimeMillis()\r\n    \t\t\t- Calendar.getInstance().getTimeZone()\r\n    \t\t\t\t\t.getOffset(System.currentTimeMillis()));","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>If you want to avoid parsing the date and just want a timestamp in GMT, you could use:</p>\n\n<pre><code>final Date gmt = new Timestamp(System.currentTimeMillis()\n            - Calendar.getInstance().getTimeZone()\n                    .getOffset(System.currentTimeMillis()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7456466,"reputation":990,"user_id":5669587,"display_name":"Ashallar"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1472656216,"creation_date":1472656216,"answer_id":39253241,"question_id":308683,"body_markdown":"Here is my implementation of toUTC:\r\n\r\n        public static Date toUTC(Date date){\r\n        long datems = date.getTime();\r\n        long timezoneoffset = TimeZone.getDefault().getOffset(datems);\r\n        datems -= timezoneoffset;\r\n        return new Date(datems);\r\n    }\r\n\r\nThere&#39;s probably several ways to improve it, but it works for me.","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>Here is my implementation of toUTC:</p>\n\n<pre><code>    public static Date toUTC(Date date){\n    long datems = date.getTime();\n    long timezoneoffset = TimeZone.getDefault().getOffset(datems);\n    datems -= timezoneoffset;\n    return new Date(datems);\n}\n</code></pre>\n\n<p>There's probably several ways to improve it, but it works for me.</p>\n"},{"tags":[],"owner":{"account_id":9470730,"reputation":31,"user_id":7041660,"display_name":"Arjun Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1476876104,"creation_date":1476873102,"answer_id":40128836,"question_id":308683,"body_markdown":"    public static void main(String args[]){\r\n        LocalDate date=LocalDate.now();  \r\n        System.out.println(&quot;Current date = &quot;+date);\r\n    }","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<pre><code>public static void main(String args[]){\n    LocalDate date=LocalDate.now();  \n    System.out.println(\"Current date = \"+date);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1530681065,"post_id":51165321,"comment_id":89315384,"body_markdown":"Please don’t teach the young ones to use the long outdated and notoriously troublesome `SimpleDateFormat`. Today we have so much better in [`java.time`, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). Also what are you providing that isn’t already in the answers by Dan, Antonio and others?","body":"Please don’t teach the young ones to use the long outdated and notoriously troublesome <code>SimpleDateFormat</code>. Today we have so much better in <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\"><code>java.time</code>, the modern Java date and time API</a>. Also what are you providing that isn’t already in the answers by Dan, Antonio and others?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1530689254,"post_id":51165321,"comment_id":89319101,"body_markdown":"(a) How does this Answer add value over the dozens of existing Answers? (b) The troublesome classes used here were supplanted years ago by the modern *java.time* classes. Suggesting their use in 2018 is poor advice.","body":"(a) How does this Answer add value over the dozens of existing Answers? (b) The troublesome classes used here were supplanted years ago by the modern <i>java.time</i> classes. Suggesting their use in 2018 is poor advice."},{"owner":{"account_id":11833518,"reputation":41,"user_id":8659540,"display_name":"santoshlokhande"},"score":0,"creation_date":1622902599,"post_id":51165321,"comment_id":119927543,"body_markdown":"I am sorry, But that time I did&#39;t use time API. Anyway I agree with your point and will try my best to post latest better solutions.","body":"I am sorry, But that time I did&#39;t use time API. Anyway I agree with your point and will try my best to post latest better solutions."}],"tags":[],"owner":{"account_id":11833518,"reputation":41,"user_id":8659540,"display_name":"santoshlokhande"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530676266,"creation_date":1530674678,"answer_id":51165321,"question_id":308683,"body_markdown":"    public class CurrentUtcDate \r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDate date = new Date();\r\n    \t\tSimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;);\r\n    \t\tdateFormat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n    \t\tSystem.out.println(&quot;UTC Time is: &quot; + dateFormat.format(date));\r\n    \t}\r\n    }\r\n     \r\nOutput:\r\n\r\n    UTC Time is: 22-01-2018 13:14:35\r\n\r\nYou can change the date format as needed.\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<pre><code>public class CurrentUtcDate \n{\n    public static void main(String[] args) {\n        Date date = new Date();\n        SimpleDateFormat dateFormat = new SimpleDateFormat(\"dd-MM-yyyy HH:mm:ss\");\n        dateFormat.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n        System.out.println(\"UTC Time is: \" + dateFormat.format(date));\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>UTC Time is: 22-01-2018 13:14:35\n</code></pre>\n\n<p>You can change the date format as needed.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1541126046,"post_id":53110451,"comment_id":93118929,"body_markdown":"(A) If using an offset (`ZoneOffset`) rather than a time zone (`ZoneId`), the `OffsetDateTime` is more appropriate than `ZonedDateTime`. (B) `LocalDateTime` should not be used for capturing the current moment as it has no concept of time zone or offset-from-UTC. (C) Other pre-existing Answers have covered this material and done a better job. I don’t see how this Answer adds value.","body":"(A) If using an offset (<code>ZoneOffset</code>) rather than a time zone (<code>ZoneId</code>), the <code>OffsetDateTime</code> is more appropriate than <code>ZonedDateTime</code>. (B) <code>LocalDateTime</code> should not be used for capturing the current moment as it has no concept of time zone or offset-from-UTC. (C) Other pre-existing Answers have covered this material and done a better job. I don’t see how this Answer adds value."}],"tags":[],"owner":{"account_id":4685065,"reputation":485,"user_id":3792674,"display_name":"Asif"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1541112446,"creation_date":1541112446,"answer_id":53110451,"question_id":308683,"body_markdown":"Use java.time package and include below code-\r\n\r\n`ZonedDateTime now = ZonedDateTime.now( ZoneOffset.UTC );`\r\n\r\nor\r\n\r\n`LocalDateTime now2 = LocalDateTime.now( ZoneOffset.UTC );`\r\n\r\ndepending on your application need.","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>Use java.time package and include below code-</p>\n\n<p><code>ZonedDateTime now = ZonedDateTime.now( ZoneOffset.UTC );</code></p>\n\n<p>or</p>\n\n<p><code>LocalDateTime now2 = LocalDateTime.now( ZoneOffset.UTC );</code></p>\n\n<p>depending on your application need.</p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1648295034,"post_id":54978787,"comment_id":126591142,"body_markdown":"Or simpler IMHO: `LocalDate.now(ZoneOffset.UTC).toString()`.","body":"Or simpler IMHO: <code>LocalDate.now(ZoneOffset.UTC).toString()</code>."}],"tags":[],"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551685972,"creation_date":1551685972,"answer_id":54978787,"question_id":308683,"body_markdown":"Current date in the UTC\r\n\r\n    Instant.now().toString().replaceAll(&quot;T.*&quot;, &quot;&quot;);","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>Current date in the UTC</p>\n\n<pre><code>Instant.now().toString().replaceAll(\"T.*\", \"\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1642716762,"post_id":70783077,"comment_id":125153504,"body_markdown":"You are mixing the terrible legacy class `Date` with its replacements, the modern *java.time* classes defined in JSR 310. There is no no need to use either `java.util.Date` or `java.sql.Date` class ever again. The functionality is entirely replaced by the *java.time* classes (specifically `Instant`, not `ZonedDateTime`). `Instant.now()`","body":"You are mixing the terrible legacy class <code>Date</code> with its replacements, the modern <i>java.time</i> classes defined in JSR 310. There is no no need to use either <code>java.util.Date</code> or <code>java.sql.Date</code> class ever again. The functionality is entirely replaced by the <i>java.time</i> classes (specifically <code>Instant</code>, not <code>ZonedDateTime</code>). <code>Instant.now()</code>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1642716785,"post_id":70783077,"comment_id":125153511,"body_markdown":"Furthermore, if you really want a `java.util.Date` object, to interoperate with old code not yet updated to *java.time*, simply call the convenient **conversion methods added to the old classes**: `java.util.Date d = Date.fromInstant( myInstant );`. If you have a `ZonedDateTime`, you can extract an `Instant`: `java.util.Date.from( myZonedDateTime.toInstant() )`. No need for the calculations seen in this Answer.","body":"Furthermore, if you really want a <code>java.util.Date</code> object, to interoperate with old code not yet updated to <i>java.time</i>, simply call the convenient <b>conversion methods added to the old classes</b>: <code>java.util.Date d = Date.fromInstant( myInstant );</code>. If you have a <code>ZonedDateTime</code>, you can extract an <code>Instant</code>: <code>java.util.Date.from( myZonedDateTime.toInstant() )</code>. No need for the calculations seen in this Answer."}],"tags":[],"owner":{"account_id":2459173,"reputation":1210,"user_id":2149492,"display_name":"JohnPan"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644414647,"creation_date":1642668169,"answer_id":70783077,"question_id":308683,"body_markdown":"This is the way I do it when I need to **output a Date object**, which is usually the case when you need to save a Date in an SQL database and I want it to be in UTC. I just subtract the offset time of the local time zone.\r\n\r\n        ZonedDateTime now = ZonedDateTime.now();\r\n        Date nowUTC = new Date(1000 * (now.toEpochSecond() - now.getOffset().getTotalSeconds()));\r\n\r\n--UPDATE\r\nBasil&#39;s suggestion for a cleaner way to have the same result would be\r\n\r\n        Date nowUTC = Date.from(ZonedDateTime.now().toInstant());\r\n\r\nBUT after testing this in a non-UTC java system env, I saw that the results are not the same. With Basil&#39;s code, the Date is still on local zone\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>This is the way I do it when I need to <strong>output a Date object</strong>, which is usually the case when you need to save a Date in an SQL database and I want it to be in UTC. I just subtract the offset time of the local time zone.</p>\n<pre><code>    ZonedDateTime now = ZonedDateTime.now();\n    Date nowUTC = new Date(1000 * (now.toEpochSecond() - now.getOffset().getTotalSeconds()));\n</code></pre>\n<p>--UPDATE\nBasil's suggestion for a cleaner way to have the same result would be</p>\n<pre><code>    Date nowUTC = Date.from(ZonedDateTime.now().toInstant());\n</code></pre>\n<p>BUT after testing this in a non-UTC java system env, I saw that the results are not the same. With Basil's code, the Date is still on local zone</p>\n"},{"comments":[{"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"score":0,"creation_date":1648307456,"post_id":71626343,"comment_id":126593505,"body_markdown":"Thanks, @OleV.V. making it clear and more updated, for me and everyone.\nIn short your comment also teach me well. keep it up.","body":"Thanks, @OleV.V. making it clear and more updated, for me and everyone. In short your comment also teach me well. keep it up."}],"tags":[],"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648325470,"creation_date":1648282277,"answer_id":71626343,"question_id":308683,"body_markdown":"The Simple Function that you can use:\r\n\r\nEdit: this version uses the modern java.time classes.\r\n\r\n\tprivate static final DateTimeFormatter FORMATTER\r\n\t\t\t= DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu HH:mm:ss z&quot;);\r\n\t\r\n\tpublic static String getUtcDateTime() {\r\n\t    return ZonedDateTime.now(ZoneId.of(&quot;Etc/UTC&quot;)).format(FORMATTER);\r\n\t}\r\n\r\nReturn value from the method:\r\n\r\n    26-03-2022 17:38:55 UTC\r\n\r\nOriginal function:\r\n\r\n     public String getUTC_DateTime() {\r\n        SimpleDateFormat dateTimeFormat = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss z&quot;);\r\n        dateTimeFormat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));//gmt\r\n        return dateTimeFormat.format(new Date());\r\n\r\n    }\r\n\r\nreturn of above function:\r\n\r\n    26-03-2022 08:07:21 UTC ","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>The Simple Function that you can use:</p>\n<p>Edit: this version uses the modern java.time classes.</p>\n<pre><code>private static final DateTimeFormatter FORMATTER\n        = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu HH:mm:ss z&quot;);\n\npublic static String getUtcDateTime() {\n    return ZonedDateTime.now(ZoneId.of(&quot;Etc/UTC&quot;)).format(FORMATTER);\n}\n</code></pre>\n<p>Return value from the method:</p>\n<pre><code>26-03-2022 17:38:55 UTC\n</code></pre>\n<p>Original function:</p>\n<pre><code> public String getUTC_DateTime() {\n    SimpleDateFormat dateTimeFormat = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss z&quot;);\n    dateTimeFormat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));//gmt\n    return dateTimeFormat.format(new Date());\n\n}\n</code></pre>\n<p>return of above function:</p>\n<pre><code>26-03-2022 08:07:21 UTC \n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1680233775,"post_id":75892382,"comment_id":133867232,"body_markdown":"If you are familiar with `Calendar` in 2023, then you need to read up on what has happened with Java in the last 10 years. `Calendar` was poorly deisgned and cumbersome to work with. Nicely illustrated by the fact that what you are doing in your code is wrong. Instead use [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html) as illustrated in some of the other answers.","body":"If you are familiar with <code>Calendar</code> in 2023, then you need to read up on what has happened with Java in the last 10 years. <code>Calendar</code> was poorly deisgned and cumbersome to work with. Nicely illustrated by the fact that what you are doing in your code is wrong. Instead use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a> as illustrated in some of the other answers."},{"owner":{"account_id":1191980,"reputation":3020,"user_id":1164529,"accept_rate":80,"display_name":"Harpreet"},"score":0,"creation_date":1680270847,"post_id":75892382,"comment_id":133874628,"body_markdown":"Hello @OleV.V. Thanks for sharing that information. But sorry for us (Android Developers) the `Calendar` is the only option left by Java so far.  We don&#39;t have the updates of Java&#39;s new approaches. We still deal with J8 classes, that&#39;s the max support for us by Google/Android Environment as Java is almost obsolete by the Android platform.","body":"Hello @OleV.V. Thanks for sharing that information. But sorry for us (Android Developers) the <code>Calendar</code> is the only option left by Java so far.  We don&#39;t have the updates of Java&#39;s new approaches. We still deal with J8 classes, that&#39;s the max support for us by Google/Android Environment as Java is almost obsolete by the Android platform."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680290018,"post_id":75892382,"comment_id":133879229,"body_markdown":"Not so. java.time has been built in since API level 26 Oreo, that’s already a long time now. If you are still developing for older Android versions, you can have access to nearly all of java.time through [desugaring](https://developer.android.com/studio/write/java8-support).","body":"Not so. java.time has been built in since API level 26 Oreo, that’s already a long time now. If you are still developing for older Android versions, you can have access to nearly all of java.time through <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">desugaring</a>."}],"tags":[],"owner":{"account_id":1191980,"reputation":3020,"user_id":1164529,"accept_rate":80,"display_name":"Harpreet"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680290117,"creation_date":1680205560,"answer_id":75892382,"question_id":308683,"body_markdown":"If you are developing for Android and you are familiar with the `Calendar` class then here is a quick relevant code to convert your current time to UTC time. But remember it will not convert the timezone. *(Converting timezone is another different story)*\r\n\r\n \r\n\r\n    public Calendar getMyTimeInUTC(Calendar calendar) {\r\n        final int utcOffset = calendar.get(Calendar.ZONE_OFFSET) + calendar.get(Calendar.DST_OFFSET);\r\n        calendar.setTimeInMillis(calendar.getTimeInMillis() - utcOffset);\r\n        return calendar;\r\n    }","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>If you are developing for Android and you are familiar with the <code>Calendar</code> class then here is a quick relevant code to convert your current time to UTC time. But remember it will not convert the timezone. <em>(Converting timezone is another different story)</em></p>\n<pre><code>public Calendar getMyTimeInUTC(Calendar calendar) {\n    final int utcOffset = calendar.get(Calendar.ZONE_OFFSET) + calendar.get(Calendar.DST_OFFSET);\n    calendar.setTimeInMillis(calendar.getTimeInMillis() - utcOffset);\n    return calendar;\n}\n</code></pre>\n"}],"owner":{"account_id":10506,"reputation":9869,"user_id":19888,"accept_rate":100,"display_name":"Behrang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1212320,"favorite_count":0,"down_vote_count":2,"up_vote_count":585,"accepted_answer_id":308689,"answer_count":34,"score":583,"last_activity_date":1680290117,"creation_date":1227272536,"question_id":308683,"body_markdown":"When I create a new `Date` object, it is initialized to the current time but in the local timezone. How can I get the current date and time in GMT?","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>When I create a new <code>Date</code> object, it is initialized to the current time but in the local timezone. How can I get the current date and time in GMT?</p>\n"},{"tags":["java","android","crash"],"answers":[{"tags":[],"owner":{"account_id":9135654,"reputation":81,"user_id":6795426,"display_name":" Godrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680290065,"creation_date":1680243052,"answer_id":75895357,"question_id":75894976,"body_markdown":"You can register crash handler in app level\r\nI suggest use this code in your Application class\r\n\r\n```java\r\npublic class CrashHandler implements Thread.UncaughtExceptionHandler {\r\n\r\n    public static final String TAG = CrashHandler.class.getSimpleName();\r\n    private static CrashHandler instance = new CrashHandler();\r\n    private Context mContext;\r\n\r\n    private CrashHandler() {\r\n    }\r\n\r\n    public static CrashHandler getInstance() {\r\n        return instance;\r\n    }\r\n\r\n    public void init(Context context) {\r\n        mContext = context;\r\n        Thread.setDefaultUncaughtExceptionHandler(instance);\r\n    }\r\n\r\n    @Override\r\n    public void uncaughtException(Thread t, Throwable e) {\r\n        //crash info and exceptions here\r\n    }\r\n}\r\n```\r\n\r\nAnd in your Application class \r\n\r\n```java\r\npublic App  extends Application{\r\n\r\n     @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        CrashHandler.getInstance().init(this);\r\n    }\r\n   \r\n}\r\n```\r\n\r\nLast step, register your owner custom application class in your android manifest file\r\n\r\n\r\n\r\n\r\n","title":"How to catch the crash logs globally in Android Java?","body":"<p>You can register crash handler in app level\nI suggest use this code in your Application class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CrashHandler implements Thread.UncaughtExceptionHandler {\n\n    public static final String TAG = CrashHandler.class.getSimpleName();\n    private static CrashHandler instance = new CrashHandler();\n    private Context mContext;\n\n    private CrashHandler() {\n    }\n\n    public static CrashHandler getInstance() {\n        return instance;\n    }\n\n    public void init(Context context) {\n        mContext = context;\n        Thread.setDefaultUncaughtExceptionHandler(instance);\n    }\n\n    @Override\n    public void uncaughtException(Thread t, Throwable e) {\n        //crash info and exceptions here\n    }\n}\n</code></pre>\n<p>And in your Application class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public App  extends Application{\n\n     @Override\n    public void onCreate() {\n        super.onCreate();\n        CrashHandler.getInstance().init(this);\n    }\n   \n}\n</code></pre>\n<p>Last step, register your owner custom application class in your android manifest file</p>\n"}],"owner":{"account_id":2093373,"reputation":29,"user_id":1862673,"display_name":"Shawn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1680245012,"answer_count":1,"score":1,"last_activity_date":1680290065,"creation_date":1680238522,"question_id":75894976,"body_markdown":"I have created multiple Activities and Fragments along with different threads in my application. Its hard to predict the application crash at sometime.\r\nIs there anything will help me to catch all the crashes globally at Main Activity or Manifest level ?\r\n\r\nTried putting try catches in all the Activities so that it catches any crash occurs in its child Fragment. But unfortunately its not happening.","title":"How to catch the crash logs globally in Android Java?","body":"<p>I have created multiple Activities and Fragments along with different threads in my application. Its hard to predict the application crash at sometime.\nIs there anything will help me to catch all the crashes globally at Main Activity or Manifest level ?</p>\n<p>Tried putting try catches in all the Activities so that it catches any crash occurs in its child Fragment. But unfortunately its not happening.</p>\n"},{"tags":["java",".net","design-patterns","io","decorator"],"comments":[{"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"score":2,"creation_date":1308190231,"post_id":6366385,"comment_id":7454727,"body_markdown":"possible duplicate of [when do we need Decorator Pattern?](http://stackoverflow.com/questions/3477962/when-do-we-need-decorator-pattern)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3477962/when-do-we-need-decorator-pattern\">when do we need Decorator Pattern?</a>"},{"owner":{"account_id":3765239,"reputation":11306,"user_id":3128926,"accept_rate":76,"display_name":"Levent Divilioglu"},"score":3,"creation_date":1514042314,"post_id":6366385,"comment_id":82876477,"body_markdown":"It is not a duplicate because the question is about the specific use cases of io library.","body":"It is not a duplicate because the question is about the specific use cases of io library."}],"answers":[{"tags":[],"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308190107,"creation_date":1308190107,"answer_id":6366398,"question_id":6366385,"body_markdown":"One way you can decorate an input/output stream is to apply compression/decompression to it. See the classes in `java.util.zip`, for example. Such a decorated stream can be used exactly the same way as a &quot;regular&quot; input/output stream, with compression/decompression performed totally transparently.","title":"Use Cases and Examples of GoF Decorator Pattern for IO","body":"<p>One way you can decorate an input/output stream is to apply compression/decompression to it. See the classes in <code>java.util.zip</code>, for example. Such a decorated stream can be used exactly the same way as a \"regular\" input/output stream, with compression/decompression performed totally transparently.</p>\n"},{"tags":[],"owner":{"account_id":379520,"reputation":76919,"user_id":732945,"accept_rate":75,"display_name":"Alex Aza"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1308190279,"creation_date":1308190279,"answer_id":6366420,"question_id":6366385,"body_markdown":"In .NET, there are a bunch of stream decorators, like BufferedStream, CryptoStream, GzipStream, etc. All those decorate `Stream` class.","title":"Use Cases and Examples of GoF Decorator Pattern for IO","body":"<p>In .NET, there are a bunch of stream decorators, like BufferedStream, CryptoStream, GzipStream, etc. All those decorate <code>Stream</code> class.</p>\n"},{"tags":[],"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1582124473,"creation_date":1308190332,"answer_id":6366427,"question_id":6366385,"body_markdown":"The decorator pattern is used in java.io classes when you manipulated input/output streams (and the same applies for readers and writers).\r\n\r\ninputstream, bytearrayinputstream, stringbuilderinputstreams and so on are based elements. Filterinputstream is the base class for the decorator classes. Filter input streams (such as bufferedinput stream) can do additional things when they read streams or write to them. \r\n\r\nThey are built by encapsulating a stream, and are streams themselves. \r\n\r\n    new BufferedReader( new FileInputStream() ).readLine();\r\n\r\nI can&#39;t think of any class implementing this pattern in java.net, but I think your were told about this package as it is strongly tied to java.io (socket.getInputStream for instance).\r\n\r\nActually, here is a course from O&#39;Relly ([pdf on uwosh.edu | archive.org][uwosh.edu], [slides on slideshare.net][slideshare.net]) that explains how decorator is implemented in java.io.\r\n\r\n\r\n  [uwosh.edu]: https://web.archive.org/web/20160528132555/http://www.uwosh.edu/faculty_staff/huen/262/f09/slides/15_Decorator_Pattern.ppt\r\n  [slideshare.net]: https://www.slideshare.net/abhijitgaikwad/15-decorator-pattern-17658638","title":"Use Cases and Examples of GoF Decorator Pattern for IO","body":"<p>The decorator pattern is used in java.io classes when you manipulated input/output streams (and the same applies for readers and writers).</p>\n\n<p>inputstream, bytearrayinputstream, stringbuilderinputstreams and so on are based elements. Filterinputstream is the base class for the decorator classes. Filter input streams (such as bufferedinput stream) can do additional things when they read streams or write to them. </p>\n\n<p>They are built by encapsulating a stream, and are streams themselves. </p>\n\n<pre><code>new BufferedReader( new FileInputStream() ).readLine();\n</code></pre>\n\n<p>I can't think of any class implementing this pattern in java.net, but I think your were told about this package as it is strongly tied to java.io (socket.getInputStream for instance).</p>\n\n<p>Actually, here is a course from O'Relly (<a href=\"https://web.archive.org/web/20160528132555/http://www.uwosh.edu/faculty_staff/huen/262/f09/slides/15_Decorator_Pattern.ppt\" rel=\"nofollow noreferrer\">pdf on uwosh.edu | archive.org</a>, <a href=\"https://www.slideshare.net/abhijitgaikwad/15-decorator-pattern-17658638\" rel=\"nofollow noreferrer\">slides on slideshare.net</a>) that explains how decorator is implemented in java.io.</p>\n"},{"tags":[],"owner":{"account_id":420875,"reputation":225,"user_id":798793,"accept_rate":57,"display_name":"Will Johnson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308192379,"creation_date":1308191109,"answer_id":6366484,"question_id":6366385,"body_markdown":"The decorator pattern is used to add functionality to existing objects such as a class defined in a library. You can then &quot;decorate&quot; it to fit your needs. If you are interested in learning more about patterns I recommend &quot;Design Patterns&quot; by the Gang of Four. ","title":"Use Cases and Examples of GoF Decorator Pattern for IO","body":"<p>The decorator pattern is used to add functionality to existing objects such as a class defined in a library. You can then \"decorate\" it to fit your needs. If you are interested in learning more about patterns I recommend \"Design Patterns\" by the Gang of Four. </p>\n"},{"comments":[{"owner":{"account_id":3200622,"reputation":5051,"user_id":2702730,"accept_rate":81,"display_name":"senseiwu"},"score":2,"creation_date":1393322981,"post_id":6366543,"comment_id":33362417,"body_markdown":"`FileInputStream` doesn&#39;t have a constructor that takes an `InputStream`","body":"<code>FileInputStream</code> doesn&#39;t have a constructor that takes an <code>InputStream</code>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1404077302,"post_id":6366543,"comment_id":37891896,"body_markdown":"@BalusC What happens if I decorate ObjectInputStream by ObjectInputStream ?","body":"@BalusC What happens if I decorate ObjectInputStream by ObjectInputStream ?"},{"owner":{"account_id":1889592,"reputation":1805,"user_id":1708042,"display_name":"user1708042"},"score":0,"creation_date":1507887538,"post_id":6366543,"comment_id":80399755,"body_markdown":"in a line it is a bit odd: ObjectInputStream ois = new ObjectInputStream(new GzipInputStream(new BufferedInputStream(new FileInputStream(&quot;/objects.gz&quot;)))); let&#39;s go the Kotlin way and get rid of the &quot;new&quot;","body":"in a line it is a bit odd: ObjectInputStream ois = new ObjectInputStream(new GzipInputStream(new BufferedInputStream(new FileInputStream(&quot;/objects.gz&quot;)))); let&#39;s go the Kotlin way and get rid of the &quot;new&quot;"},{"owner":{"account_id":5351617,"reputation":1633,"user_id":4265610,"accept_rate":58,"display_name":"Luke"},"score":0,"creation_date":1530540466,"post_id":6366543,"comment_id":89260150,"body_markdown":"Could we swap second and third? Create ois from bis, bis from gis and gis from fis?","body":"Could we swap second and third? Create ois from bis, bis from gis and gis from fis?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1530553907,"post_id":6366543,"comment_id":89266866,"body_markdown":"@Luke: Of course, but gis step will obviously become slower as its source is not buffered in memory anymore.","body":"@Luke: Of course, but gis step will obviously become slower as its source is not buffered in memory anymore."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":5,"down_vote_count":1,"up_vote_count":163,"is_accepted":true,"score":162,"last_activity_date":1471915328,"creation_date":1308191851,"answer_id":6366543,"question_id":6366385,"body_markdown":"[`InputStream`][1] is an abstract class. Most concrete implementations like [`BufferedInputStream`][2], [`GzipInputStream`][3], [`ObjectInputStream`][4], etc. have a constructor that takes an instance of the **same** abstract class. That&#39;s the recognition key of the decorator pattern (this also applies to constructors taking an instance of the same interface).\r\n\r\nWhen such a constructor is used, all methods will delegate to the wrapped instance, with changes in the way the methods behave. For example, buffering the stream in memory beforehand, decompressing the stream beforehand or interpreting the stream differently. Some even have additional methods that finally also delegate further to the wrapped instance. Those methods decorate the wrapped instance with extra behaviour.\r\n\r\nLet&#39;s say that we have a bunch of serialized Java objects in a Gzipped file and that we want to read them quickly.\r\n\r\nFirst open an inputstream of it:\r\n\r\n    FileInputStream fis = new FileInputStream(&quot;/objects.gz&quot;);\r\n\r\nWe want speed, so let&#39;s buffer it in memory:\r\n\r\n    BufferedInputStream bis = new BufferedInputStream(fis);\r\n\r\nThe file is gzipped, so we need to ungzip it:\r\n\r\n    GzipInputStream gis = new GzipInputStream(bis);\r\n\r\nWe need to unserialize those Java objects:\r\n\r\n    ObjectInputStream ois = new ObjectInputStream(gis);\r\n\r\nNow we can finally use it:\r\n\r\n    SomeObject someObject = (SomeObject) ois.readObject();\r\n    // ...\r\n\r\nThe benefit is that you have a lot of freedom to decorate the stream using one or more various decorators to suit your needs. That&#39;s much better than having a single class for every possible combination like `ObjectGzipBufferedFileInputStream`, `ObjectBufferedFileInputStream`, `GzipBufferedFileInputStream`, `ObjectGzipFileInputStream`, `ObjectFileInputStream`, `GzipFileInputStream`, `BufferedFileInputStream`, etc.\r\n\r\nNote that when you&#39;re about to close the stream, just closing the *outermost* decorator is sufficient. It will delegate the close call all the way to the bottom.\r\n\r\n    ois.close();\r\n\r\n###See also:\r\n\r\n- https://stackoverflow.com/questions/1673841/examples-of-gof-design-patterns-in-javas-core-libraries/\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/io/BufferedInputStream.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/util/zip/GZIPInputStream.html\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/io/ObjectInputStream.html","title":"Use Cases and Examples of GoF Decorator Pattern for IO","body":"<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html\" rel=\"noreferrer\"><code>InputStream</code></a> is an abstract class. Most concrete implementations like <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/BufferedInputStream.html\" rel=\"noreferrer\"><code>BufferedInputStream</code></a>, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/zip/GZIPInputStream.html\" rel=\"noreferrer\"><code>GzipInputStream</code></a>, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/ObjectInputStream.html\" rel=\"noreferrer\"><code>ObjectInputStream</code></a>, etc. have a constructor that takes an instance of the <strong>same</strong> abstract class. That's the recognition key of the decorator pattern (this also applies to constructors taking an instance of the same interface).</p>\n\n<p>When such a constructor is used, all methods will delegate to the wrapped instance, with changes in the way the methods behave. For example, buffering the stream in memory beforehand, decompressing the stream beforehand or interpreting the stream differently. Some even have additional methods that finally also delegate further to the wrapped instance. Those methods decorate the wrapped instance with extra behaviour.</p>\n\n<p>Let's say that we have a bunch of serialized Java objects in a Gzipped file and that we want to read them quickly.</p>\n\n<p>First open an inputstream of it:</p>\n\n<pre><code>FileInputStream fis = new FileInputStream(\"/objects.gz\");\n</code></pre>\n\n<p>We want speed, so let's buffer it in memory:</p>\n\n<pre><code>BufferedInputStream bis = new BufferedInputStream(fis);\n</code></pre>\n\n<p>The file is gzipped, so we need to ungzip it:</p>\n\n<pre><code>GzipInputStream gis = new GzipInputStream(bis);\n</code></pre>\n\n<p>We need to unserialize those Java objects:</p>\n\n<pre><code>ObjectInputStream ois = new ObjectInputStream(gis);\n</code></pre>\n\n<p>Now we can finally use it:</p>\n\n<pre><code>SomeObject someObject = (SomeObject) ois.readObject();\n// ...\n</code></pre>\n\n<p>The benefit is that you have a lot of freedom to decorate the stream using one or more various decorators to suit your needs. That's much better than having a single class for every possible combination like <code>ObjectGzipBufferedFileInputStream</code>, <code>ObjectBufferedFileInputStream</code>, <code>GzipBufferedFileInputStream</code>, <code>ObjectGzipFileInputStream</code>, <code>ObjectFileInputStream</code>, <code>GzipFileInputStream</code>, <code>BufferedFileInputStream</code>, etc.</p>\n\n<p>Note that when you're about to close the stream, just closing the <em>outermost</em> decorator is sufficient. It will delegate the close call all the way to the bottom.</p>\n\n<pre><code>ois.close();\n</code></pre>\n\n<h3>See also:</h3>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1673841/examples-of-gof-design-patterns-in-javas-core-libraries/\">Examples of GoF Design Patterns in Java&#39;s core libraries</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":235800,"reputation":9123,"user_id":502867,"accept_rate":47,"display_name":"nikhil"},"score":0,"creation_date":1556364297,"post_id":37482635,"comment_id":98418815,"body_markdown":"How is `FileInputStream` considered as ConcreteComponent. Isn&#39;t this not a decorator as it takes an `InputStream`?","body":"How is <code>FileInputStream</code> considered as ConcreteComponent. Isn&#39;t this not a decorator as it takes an <code>InputStream</code>?"},{"owner":{"account_id":2337627,"reputation":803,"user_id":2049580,"display_name":"Bagesh Sharma"},"score":0,"creation_date":1577714761,"post_id":37482635,"comment_id":105233800,"body_markdown":"FileInputStream doesn&#39;t have any constructor with InputStream as its parameter. A FileInputStream obtains input bytes from a file in a file system that&#39;s why FileInputStream is ConcreteComponent but FilterInputStream takes InputStream as a constructor parameter to further work on it like FilterInputStream(InputStream in) that&#39;s why it is a decorator. A decorator will always take &quot;component (like InputStream)&quot; as it&#39;s constructor input to work on it as discussed above.","body":"FileInputStream doesn&#39;t have any constructor with InputStream as its parameter. A FileInputStream obtains input bytes from a file in a file system that&#39;s why FileInputStream is ConcreteComponent but FilterInputStream takes InputStream as a constructor parameter to further work on it like FilterInputStream(InputStream in) that&#39;s why it is a decorator. A decorator will always take &quot;component (like InputStream)&quot; as it&#39;s constructor input to work on it as discussed above."}],"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1680289618,"creation_date":1464349338,"answer_id":37482635,"question_id":6366385,"body_markdown":"Let&#39;s understand components of **Decorator** pattern before going through java IO classes.\r\n\r\n\r\n[Decorator][2] pattern has four components ( Wikipedia )\r\n\r\n&gt;1. *Component:*  The *Component* defines the interface for objects that can have responsibilties added dynamically\r\n&gt;2. *ConcreteComponent:* It is simply an implementation of *Component* interface\r\n&gt;3. *Decorator:* The *Decorator* has a reference to a *Component*, and also conforms to the  *Component* interface. Decorator is essentially wrapping the *Component*\r\n&gt;4. *ConcreteDecorator:* The *ConcreteDecorator* just adds responsibilities to the original *Component*.\r\n\r\n\r\nNow let&#39;s map these concepts to java.io pacakge classes.\r\n\r\n*Component:*\r\n\r\n[InputStream][3] : \r\n&gt; This abstract class is the superclass of all classes representing an input stream of bytes.\r\n&gt;\r\n&gt; Applications that need to define a subclass of InputStream must always provide a method that returns the next byte of input.\r\n\r\n`public abstract int read()` is an abstract method.\r\n\r\n*ConcreteComponent:*\r\n\r\n[FileInputStream][4]:\r\n\r\n&gt; A FileInputStream obtains input bytes from a file in a file system. What files are available depends on the host environment.\r\n&gt;\r\n&gt; FileInputStream is meant for reading streams of raw bytes such as image data. For reading streams of characters, consider using FileReader.\r\n\r\nExamples of all ConcreteComponents of InputStream:\r\n\r\n    AudioInputStream, ByteArrayInputStream, FileInputStream, FilterInputStream, \r\n    InputStream, ObjectInputStream, PipedInputStream, SequenceInputStream, \r\n    StringBufferInputStream\r\n\r\n\r\n*Decorator:*\r\n\r\n[FilterInputStream][5]:\r\n\r\n&gt; A FilterInputStream contains some other input stream, which it uses as its basic source of data, possibly transforming the data along the way or providing additional functionality. \r\n\r\nPlease note that `FilterInputStream` implements `InputStream` =&gt; *Decorator implements Component as shown in UML diagram*.\r\n\r\n    public class FilterInputStream\r\n    extends InputStream\r\n\r\n*ConcreteDecorator:*\r\n\r\n[BufferedInputStream][6]\r\n\r\n&gt; A BufferedInputStream adds functionality to another input stream-namely, the ability to buffer the input and to support the mark and reset methods.\r\n\r\nExamples of all *ConcreteDecorators*:\r\n\r\n    BufferedInputStream, CheckedInputStream, CipherInputStream, DataInputStream, \r\n    DeflaterInputStream, DigestInputStream, InflaterInputStream, \r\n    LineNumberInputStream, ProgressMonitorInputStream, PushbackInputStream\r\n\r\n***Working example code:***\r\n\r\nI have used `BufferedInputStream` to read each character of a word, which has been stored in a text file a.txt\r\n\r\n    BufferedInputStream bis = new BufferedInputStream(new FileInputStream(new File(&quot;ravindra.txt&quot;)));\r\n    while(bis.available()&gt;0)\r\n    {\r\n            char c = (char)bis.read();\r\n            System.out.println(&quot;Character = &quot;+c);\r\n    }\r\n\r\n***When to use this pattern:***\r\n\r\n1. Object responsibilities and behaviours should be dynamically added/removed\r\n2. Concrete implementations should be decoupled from responsibilities and behaviours\r\n3. When sub - classing is too costly to dynamically add/remove responsibilities \r\n\r\n  [1]: http://i.stack.imgur.com/doTDj.png\r\n  [2]: https://en.wikipedia.org/wiki/Decorator_pattern\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/io/FileInputStream.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/io/FilterInputStream.html\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/io/BufferedInputStream.html","title":"Use Cases and Examples of GoF Decorator Pattern for IO","body":"<p>Let's understand components of <strong>Decorator</strong> pattern before going through java IO classes.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"nofollow noreferrer\">Decorator</a> pattern has four components ( Wikipedia )</p>\n<blockquote>\n<ol>\n<li><em>Component:</em>  The <em>Component</em> defines the interface for objects that can have responsibilties added dynamically</li>\n<li><em>ConcreteComponent:</em> It is simply an implementation of <em>Component</em> interface</li>\n<li><em>Decorator:</em> The <em>Decorator</em> has a reference to a <em>Component</em>, and also conforms to the  <em>Component</em> interface. Decorator is essentially wrapping the <em>Component</em></li>\n<li><em>ConcreteDecorator:</em> The <em>ConcreteDecorator</em> just adds responsibilities to the original <em>Component</em>.</li>\n</ol>\n</blockquote>\n<p>Now let's map these concepts to java.io pacakge classes.</p>\n<p><em>Component:</em></p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html\" rel=\"nofollow noreferrer\">InputStream</a> :</p>\n<blockquote>\n<p>This abstract class is the superclass of all classes representing an input stream of bytes.</p>\n<p>Applications that need to define a subclass of InputStream must always provide a method that returns the next byte of input.</p>\n</blockquote>\n<p><code>public abstract int read()</code> is an abstract method.</p>\n<p><em>ConcreteComponent:</em></p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/FileInputStream.html\" rel=\"nofollow noreferrer\">FileInputStream</a>:</p>\n<blockquote>\n<p>A FileInputStream obtains input bytes from a file in a file system. What files are available depends on the host environment.</p>\n<p>FileInputStream is meant for reading streams of raw bytes such as image data. For reading streams of characters, consider using FileReader.</p>\n</blockquote>\n<p>Examples of all ConcreteComponents of InputStream:</p>\n<pre><code>AudioInputStream, ByteArrayInputStream, FileInputStream, FilterInputStream, \nInputStream, ObjectInputStream, PipedInputStream, SequenceInputStream, \nStringBufferInputStream\n</code></pre>\n<p><em>Decorator:</em></p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/FilterInputStream.html\" rel=\"nofollow noreferrer\">FilterInputStream</a>:</p>\n<blockquote>\n<p>A FilterInputStream contains some other input stream, which it uses as its basic source of data, possibly transforming the data along the way or providing additional functionality.</p>\n</blockquote>\n<p>Please note that <code>FilterInputStream</code> implements <code>InputStream</code> =&gt; <em>Decorator implements Component as shown in UML diagram</em>.</p>\n<pre><code>public class FilterInputStream\nextends InputStream\n</code></pre>\n<p><em>ConcreteDecorator:</em></p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedInputStream.html\" rel=\"nofollow noreferrer\">BufferedInputStream</a></p>\n<blockquote>\n<p>A BufferedInputStream adds functionality to another input stream-namely, the ability to buffer the input and to support the mark and reset methods.</p>\n</blockquote>\n<p>Examples of all <em>ConcreteDecorators</em>:</p>\n<pre><code>BufferedInputStream, CheckedInputStream, CipherInputStream, DataInputStream, \nDeflaterInputStream, DigestInputStream, InflaterInputStream, \nLineNumberInputStream, ProgressMonitorInputStream, PushbackInputStream\n</code></pre>\n<p><em><strong>Working example code:</strong></em></p>\n<p>I have used <code>BufferedInputStream</code> to read each character of a word, which has been stored in a text file a.txt</p>\n<pre><code>BufferedInputStream bis = new BufferedInputStream(new FileInputStream(new File(&quot;ravindra.txt&quot;)));\nwhile(bis.available()&gt;0)\n{\n        char c = (char)bis.read();\n        System.out.println(&quot;Character = &quot;+c);\n}\n</code></pre>\n<p><em><strong>When to use this pattern:</strong></em></p>\n<ol>\n<li>Object responsibilities and behaviours should be dynamically added/removed</li>\n<li>Concrete implementations should be decoupled from responsibilities and behaviours</li>\n<li>When sub - classing is too costly to dynamically add/remove responsibilities</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1803543,"reputation":21,"user_id":1641213,"display_name":"kosalgeek"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484047858,"creation_date":1484047858,"answer_id":41567777,"question_id":6366385,"body_markdown":"Well, I may be late to the party but this question never gets old. The key point to understand **Decorator** is that it gives you the ability to plug an object to an existing object to another existing object and so on. It is popular to implement this pattern in a constructor. For example,\r\n\r\n        Icecream ic = new RainbowTopUp(new ChocoTopUp(new Vanilla()));\r\n\r\nIf you look at the diagram in the wikipedia, you would see *ConcreteComponent* and *Decorator* inherit from the same superclass/interface, *Component*. That is, these two classes have the same implement method(s). \r\n\r\nHowever, in the *Decorator* class, you&#39;d see an arrow back to the *Component*, which means you use *Component* somewhere in the *Decorator* class. In this case, you use the *Component* as a datatype of a constructor in the *Decorator*. That is the big trick. Without this trick, you won&#39;t be able to plug a new object to an existing object.\r\n\r\nAfter that, you can create subclasses inheriting from the *Decorator* class. Because all classes have the same root, every single classes can freely plugin without any order.","title":"Use Cases and Examples of GoF Decorator Pattern for IO","body":"<p>Well, I may be late to the party but this question never gets old. The key point to understand <strong>Decorator</strong> is that it gives you the ability to plug an object to an existing object to another existing object and so on. It is popular to implement this pattern in a constructor. For example,</p>\n\n<pre><code>    Icecream ic = new RainbowTopUp(new ChocoTopUp(new Vanilla()));\n</code></pre>\n\n<p>If you look at the diagram in the wikipedia, you would see <em>ConcreteComponent</em> and <em>Decorator</em> inherit from the same superclass/interface, <em>Component</em>. That is, these two classes have the same implement method(s). </p>\n\n<p>However, in the <em>Decorator</em> class, you'd see an arrow back to the <em>Component</em>, which means you use <em>Component</em> somewhere in the <em>Decorator</em> class. In this case, you use the <em>Component</em> as a datatype of a constructor in the <em>Decorator</em>. That is the big trick. Without this trick, you won't be able to plug a new object to an existing object.</p>\n\n<p>After that, you can create subclasses inheriting from the <em>Decorator</em> class. Because all classes have the same root, every single classes can freely plugin without any order.</p>\n"},{"comments":[{"owner":{"account_id":2337627,"reputation":803,"user_id":2049580,"display_name":"Bagesh Sharma"},"score":0,"creation_date":1577716026,"post_id":47949162,"comment_id":105234332,"body_markdown":"js.close() should also automatically close oStream by calling close from overriding close inside JSONStream. so oStream.close() is not required.","body":"js.close() should also automatically close oStream by calling close from overriding close inside JSONStream. so oStream.close() is not required."}],"tags":[],"owner":{"account_id":3765239,"reputation":11306,"user_id":3128926,"accept_rate":76,"display_name":"Levent Divilioglu"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1514049514,"creation_date":1513994531,"answer_id":47949162,"question_id":6366385,"body_markdown":"&lt;h1&gt;A - Decorator Pattern&lt;/h1&gt;\r\n\r\n&lt;h3&gt;A.1 - Use Case of Decorator Pattern&lt;/h3&gt;\r\n\r\nDecorator pattern is used for extending a legacy functionality without changing the legacy class. Let&#39;s say, we have a concrete class that implements an interface. And we need to extend the functionality of the existing method however because that the existing class, and its methods are already used by other classes, thus we don&#39;t want to make a change in the existing classes. But we also need extended functionality on newer class, then how do we solve this problem?\r\n\r\n    1- We can&#39;t change the existing legacy code\r\n    2- We want to extend the functionality\r\n\r\nSo we use decorator pattern, wrap the existing class inside the decorators.\r\n\r\n&lt;h2&gt;B - Basic GoF Decorator Pattern Example&lt;/h2&gt;\r\n\r\nHere we have a simple interface and an implementation/concrete class. The interface has one simple method, which is `getMessageOfTheDay` and it returns a `String`. Assume that there are lots of other classes using this method. So if we want to make a change in the implementation/concrete class, it will affect the old legacy code. We want to change it for only the new classes so we use the decorator pattern.\r\n\r\nHere is a trivial example of Gang Of Four Decorator Design pattern;\r\n\r\n&lt;h3&gt;B.1 - Greeter.java&lt;/h3&gt;\r\n\r\n    public interface Greeter {\r\n    \tString getMessageOfTheDay();\r\n    }\r\n\r\n&lt;h3&gt;B.2 - BasicGreeter.java&lt;/h3&gt;\r\n\r\n    public class BasicGreeter implements Greeter {\r\n    \r\n    \t@Override\r\n    \tpublic String getMessageOfTheDay() {\r\n    \t\treturn &quot;Welcome to my server&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\n&lt;h3&gt;B.3 - Abstract Decorator Class: GreeterDecorator.java&lt;/h3&gt;\r\n\r\n    public abstract class GreeterDecorator implements Greeter {\r\n    \t\r\n    \tprotected Greeter greeter;\r\n    \t\r\n    \tpublic GreeterDecorator(Greeter greeter) {\r\n    \t\tthis.greeter = greeter;\r\n    \t}\r\n    \r\n    \tpublic String getMessageOfTheDay() {\r\n    \t\treturn greeter.getMessageOfTheDay();\r\n    \t}\r\n    \t\r\n    }\r\n\r\n&lt;h3&gt;B.4 - Concrete Decorator Class: StrangerDecorator.java&lt;/h3&gt;\r\n\r\n    public class StrangerDecorator extends GreeterDecorator {\r\n    \r\n    \tpublic StrangerDecorator(Greeter greeter) {\r\n    \t\tsuper(greeter);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String getMessageOfTheDay() {\r\n    \t\treturn &quot;Hello Stranger &quot; + super.getMessageOfTheDay();\r\n    \t}\r\n    \r\n    }\r\n\r\n&lt;h3&gt;B.5 - Demo Code: DecoratorDemo .java&lt;/h3&gt;\r\n\r\n    public class DecoratorDemo {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tGreeter greeter = new BasicGreeter();\r\n    \t\t\r\n    \t\tString motd = greeter.getMessageOfTheDay();\r\n    \t\t\r\n    \t\tSystem.out.println(motd);\r\n    \t\t\r\n    \t\tGreeter newGreeter = new StrangerDecorator(greeter);\r\n    \t\t\r\n    \t\tString newMotd = newGreeter.getMessageOfTheDay();\r\n    \t\t\r\n    \t\tSystem.out.println(newMotd);\r\n    \t\t\r\n    \t\tGreeter muchNewGreeter = new StrangerDecorator(new StrangerDecorator(greeter));\r\n    \t\t\r\n    \t\tString newestMotd = muchNewGreeter.getMessageOfTheDay();\r\n    \t\t\r\n    \t\tSystem.out.println(newestMotd);\r\n    \t}\r\n    \r\n    }\r\n\r\nTake a look at those examples. The abstract decorator class is needed to wrap the original contract and implementation. Using the abstract decorator, you can create newer multiple decorators but in this example, **BasicGreeter** is wrapped inside the abstract decorator and we have only created on new decorator class which is **StrangeGreeter**. Please notify that decorator classes can be used like a train, we can wrap a decorator inside another decorator or the same. The functionality is extendable but the original class is preserved without any modification.\r\n\r\n&lt;h2&gt;C - OutputStream Demo&lt;/h2&gt;\r\n\r\nLet&#39;s take a look at this example. We want to write a string to file with OutputStream. Here is the demo code;\r\n\r\n&lt;h3&gt;C.1 - Sample OutputStream Demo To Write A File&lt;/h3&gt;\r\n\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    \r\n    public class FileWriterDemo {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tFile file = new File(&quot;./normal.txt&quot;);\r\n    \t\tfile.createNewFile();\r\n    \t\t\r\n    \t\tOutputStream oStream = new FileOutputStream(file);\r\n    \t\t\r\n    \t\tString content = &quot;I love Commodore 64&quot;;\r\n    \t\t\r\n    \t\toStream.write(content.getBytes());\r\n    \t\t\r\n    \t\toStream.close();\r\n    \t}\r\n    \r\n    }\r\n\r\n&lt;H3&gt;C.2 - JSON Decorator Output: normal.txt&lt;/H3&gt;\r\n\r\nThere will be a new file with name &quot;normal.txt&quot; created under the project folder and the content will be;\r\n\r\n    I love Commodore 64\r\n\r\n&lt;h2&gt;D - JSON OutputStream Decorator Demo&lt;/h2&gt;\r\n\r\nNow, I want to create a JSON wrapper format, which is as follows; \r\n\r\n    {\r\n        data: &lt;data here&gt;\r\n    }\r\n\r\nWhat I want is to write the content inside a simple one field **JSON** format. How can we achieve this goal? There are many trivial ways. However, I will use the *GoF Decorator Pattern* by writing a **JSONDecorator** which extends the **OutputStream** class of Java;\r\n\r\n&lt;H3&gt;D.1 - JSON Decorator for OutputStream: JSONStream.java&lt;/H3&gt;\r\n\r\n    public class JSONStream extends OutputStream {\r\n    \t\r\n    \tprotected OutputStream outputStream;\r\n    \t\r\n    \tpublic JSONStream(OutputStream outputStream) {\r\n    \t\tthis.outputStream = outputStream;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void write(int b) throws IOException {\r\n    \t\toutputStream.write(b);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void write(byte[] b) throws IOException {\r\n    \t\tString content = new String(b);\r\n    \t\t\r\n    \t\tcontent = &quot;{\\r\\n\\tdata:\\&quot;&quot; + content + &quot;\\&quot;\\r\\n}&quot;;\r\n    \t\t\r\n    \t\toutputStream.write(content.getBytes());\r\n    \t}\r\n    \t\r\n    }\r\n\r\n&lt;H3&gt;D.2 - JSON Decorator Demo: JSONDecoratorDemo.java&lt;/H3&gt;\r\n\r\n    public class JSONDecoratorDemo {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tFile file = new File(&quot;./json.txt&quot;);\r\n    \t\tfile.createNewFile();\r\n    \t\t\r\n    \t\tOutputStream oStream = new FileOutputStream(file);\r\n    \t\t\r\n    \t\tJSONStream js = new JSONStream(oStream);\r\n    \t\t\r\n    \t\tString content = &quot;I love Commodore 64&quot;;\r\n    \t\t\r\n    \t\tjs.write(content.getBytes());\r\n    \t\t\r\n    \t\tjs.close();\r\n    \t\toStream.close();\r\n    \t}\r\n    \r\n    }\r\n\r\n&lt;H3&gt;D.3 - JSON Decorator Output: json.txt&lt;/H3&gt;\r\n\r\n    {\r\n    \tdata:&quot;I love Commodore 64&quot;\r\n    }\r\n\r\nActually, **OutputStream** itself a Decorator Pattern, it is the abstract decorator and concrete decorator in here is the **JSONStream** class. ","title":"Use Cases and Examples of GoF Decorator Pattern for IO","body":"<h1>A - Decorator Pattern</h1>\n\n<h3>A.1 - Use Case of Decorator Pattern</h3>\n\n<p>Decorator pattern is used for extending a legacy functionality without changing the legacy class. Let's say, we have a concrete class that implements an interface. And we need to extend the functionality of the existing method however because that the existing class, and its methods are already used by other classes, thus we don't want to make a change in the existing classes. But we also need extended functionality on newer class, then how do we solve this problem?</p>\n\n<pre><code>1- We can't change the existing legacy code\n2- We want to extend the functionality\n</code></pre>\n\n<p>So we use decorator pattern, wrap the existing class inside the decorators.</p>\n\n<h2>B - Basic GoF Decorator Pattern Example</h2>\n\n<p>Here we have a simple interface and an implementation/concrete class. The interface has one simple method, which is <code>getMessageOfTheDay</code> and it returns a <code>String</code>. Assume that there are lots of other classes using this method. So if we want to make a change in the implementation/concrete class, it will affect the old legacy code. We want to change it for only the new classes so we use the decorator pattern.</p>\n\n<p>Here is a trivial example of Gang Of Four Decorator Design pattern;</p>\n\n<h3>B.1 - Greeter.java</h3>\n\n<pre><code>public interface Greeter {\n    String getMessageOfTheDay();\n}\n</code></pre>\n\n<h3>B.2 - BasicGreeter.java</h3>\n\n<pre><code>public class BasicGreeter implements Greeter {\n\n    @Override\n    public String getMessageOfTheDay() {\n        return \"Welcome to my server\";\n    }\n\n}\n</code></pre>\n\n<h3>B.3 - Abstract Decorator Class: GreeterDecorator.java</h3>\n\n<pre><code>public abstract class GreeterDecorator implements Greeter {\n\n    protected Greeter greeter;\n\n    public GreeterDecorator(Greeter greeter) {\n        this.greeter = greeter;\n    }\n\n    public String getMessageOfTheDay() {\n        return greeter.getMessageOfTheDay();\n    }\n\n}\n</code></pre>\n\n<h3>B.4 - Concrete Decorator Class: StrangerDecorator.java</h3>\n\n<pre><code>public class StrangerDecorator extends GreeterDecorator {\n\n    public StrangerDecorator(Greeter greeter) {\n        super(greeter);\n    }\n\n    @Override\n    public String getMessageOfTheDay() {\n        return \"Hello Stranger \" + super.getMessageOfTheDay();\n    }\n\n}\n</code></pre>\n\n<h3>B.5 - Demo Code: DecoratorDemo .java</h3>\n\n<pre><code>public class DecoratorDemo {\n\n    public static void main(String[] args) {\n        Greeter greeter = new BasicGreeter();\n\n        String motd = greeter.getMessageOfTheDay();\n\n        System.out.println(motd);\n\n        Greeter newGreeter = new StrangerDecorator(greeter);\n\n        String newMotd = newGreeter.getMessageOfTheDay();\n\n        System.out.println(newMotd);\n\n        Greeter muchNewGreeter = new StrangerDecorator(new StrangerDecorator(greeter));\n\n        String newestMotd = muchNewGreeter.getMessageOfTheDay();\n\n        System.out.println(newestMotd);\n    }\n\n}\n</code></pre>\n\n<p>Take a look at those examples. The abstract decorator class is needed to wrap the original contract and implementation. Using the abstract decorator, you can create newer multiple decorators but in this example, <strong>BasicGreeter</strong> is wrapped inside the abstract decorator and we have only created on new decorator class which is <strong>StrangeGreeter</strong>. Please notify that decorator classes can be used like a train, we can wrap a decorator inside another decorator or the same. The functionality is extendable but the original class is preserved without any modification.</p>\n\n<h2>C - OutputStream Demo</h2>\n\n<p>Let's take a look at this example. We want to write a string to file with OutputStream. Here is the demo code;</p>\n\n<h3>C.1 - Sample OutputStream Demo To Write A File</h3>\n\n<pre><code>import java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\n\npublic class FileWriterDemo {\n\n    public static void main(String[] args) throws IOException {\n        File file = new File(\"./normal.txt\");\n        file.createNewFile();\n\n        OutputStream oStream = new FileOutputStream(file);\n\n        String content = \"I love Commodore 64\";\n\n        oStream.write(content.getBytes());\n\n        oStream.close();\n    }\n\n}\n</code></pre>\n\n<p><H3>C.2 - JSON Decorator Output: normal.txt</H3></p>\n\n<p>There will be a new file with name \"normal.txt\" created under the project folder and the content will be;</p>\n\n<pre><code>I love Commodore 64\n</code></pre>\n\n<h2>D - JSON OutputStream Decorator Demo</h2>\n\n<p>Now, I want to create a JSON wrapper format, which is as follows; </p>\n\n<pre><code>{\n    data: &lt;data here&gt;\n}\n</code></pre>\n\n<p>What I want is to write the content inside a simple one field <strong>JSON</strong> format. How can we achieve this goal? There are many trivial ways. However, I will use the <em>GoF Decorator Pattern</em> by writing a <strong>JSONDecorator</strong> which extends the <strong>OutputStream</strong> class of Java;</p>\n\n<p><H3>D.1 - JSON Decorator for OutputStream: JSONStream.java</H3></p>\n\n<pre><code>public class JSONStream extends OutputStream {\n\n    protected OutputStream outputStream;\n\n    public JSONStream(OutputStream outputStream) {\n        this.outputStream = outputStream;\n    }\n\n    @Override\n    public void write(int b) throws IOException {\n        outputStream.write(b);\n    }\n\n    @Override\n    public void write(byte[] b) throws IOException {\n        String content = new String(b);\n\n        content = \"{\\r\\n\\tdata:\\\"\" + content + \"\\\"\\r\\n}\";\n\n        outputStream.write(content.getBytes());\n    }\n\n}\n</code></pre>\n\n<p><H3>D.2 - JSON Decorator Demo: JSONDecoratorDemo.java</H3></p>\n\n<pre><code>public class JSONDecoratorDemo {\n\n    public static void main(String[] args) throws IOException {\n        File file = new File(\"./json.txt\");\n        file.createNewFile();\n\n        OutputStream oStream = new FileOutputStream(file);\n\n        JSONStream js = new JSONStream(oStream);\n\n        String content = \"I love Commodore 64\";\n\n        js.write(content.getBytes());\n\n        js.close();\n        oStream.close();\n    }\n\n}\n</code></pre>\n\n<p><H3>D.3 - JSON Decorator Output: json.txt</H3></p>\n\n<pre><code>{\n    data:\"I love Commodore 64\"\n}\n</code></pre>\n\n<p>Actually, <strong>OutputStream</strong> itself a Decorator Pattern, it is the abstract decorator and concrete decorator in here is the <strong>JSONStream</strong> class. </p>\n"}],"owner":{"account_id":59449,"reputation":53532,"user_id":177883,"accept_rate":96,"display_name":"DarthVader"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51367,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":6366543,"answer_count":8,"score":64,"last_activity_date":1680289618,"creation_date":1308189952,"question_id":6366385,"body_markdown":"I have read in [wikipedia][1] that *Decorator pattern* is used for *.Net* and *Java IO* classes.\r\n\r\nCan anybody explain how this is being used? And what is the benefit of it with a possible example?\r\n\r\nThere is an example of *Windows forms* on wikipedia but I want to know how it happens with *Java IO* classes.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Decorator_pattern","title":"Use Cases and Examples of GoF Decorator Pattern for IO","body":"<p>I have read in <a href=\"http://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"noreferrer\">wikipedia</a> that <em>Decorator pattern</em> is used for <em>.Net</em> and <em>Java IO</em> classes.</p>\n\n<p>Can anybody explain how this is being used? And what is the benefit of it with a possible example?</p>\n\n<p>There is an example of <em>Windows forms</em> on wikipedia but I want to know how it happens with <em>Java IO</em> classes.</p>\n"},{"tags":["java","spring","spring-boot","properties"],"answers":[{"tags":[],"owner":{"account_id":71185,"reputation":1110,"user_id":205839,"accept_rate":81,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680289152,"creation_date":1680289152,"answer_id":75901901,"question_id":75893043,"body_markdown":"After some digging we found out that a library, that the project was using, had a SpringConfig that required the application.properties file through a @PropertySource. Since this should not be required we added ignoreResourceNotFound. \r\n\r\nPrevious code\r\n\r\n    @PropertySource(value = &quot;classpath:application.properties&quot;)\r\n\r\nNew code\r\n\r\n    @PropertySource(value = &quot;classpath:application.properties&quot;, ignoreResourceNotFound = true)\r\n\r\nHope this will help anyone who has a similar problem. ","title":"How to prevent spring-boot from trying to load application.properties instead of our own defined properties?","body":"<p>After some digging we found out that a library, that the project was using, had a SpringConfig that required the application.properties file through a @PropertySource. Since this should not be required we added ignoreResourceNotFound.</p>\n<p>Previous code</p>\n<pre><code>@PropertySource(value = &quot;classpath:application.properties&quot;)\n</code></pre>\n<p>New code</p>\n<pre><code>@PropertySource(value = &quot;classpath:application.properties&quot;, ignoreResourceNotFound = true)\n</code></pre>\n<p>Hope this will help anyone who has a similar problem.</p>\n"}],"owner":{"account_id":71185,"reputation":1110,"user_id":205839,"accept_rate":81,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75901901,"answer_count":1,"score":0,"last_activity_date":1680289152,"creation_date":1680210743,"question_id":75893043,"body_markdown":"I&#39;m running into a strange problem while migrating a old spring-boot service to use externalized configuration. \r\nThe service in local and server side keep trying to load application.properties eventhough we provide the profile. \r\nI even tried to force &quot;spring.config.name&quot; to the value we need via System.setProperty(&quot;spring.config.name&quot;, getPropertiesPath()), but this still doesn&#39;t work and I would prefer not to do it that way. \r\n\r\nHere the short version of the exception:\r\n```\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.mydomain.Application]; nested exception is java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist\r\n```\r\n\r\nHere the modified Application.java\r\n```\r\n@SpringBootApplication\r\npublic class Application {\r\n\r\n\tprotected static final String CONTAINER_ENVIRONMENT_KEY = &quot;ENVIRONMENT&quot;;\r\n\tprivate static final String CDS_SERVICE_CHARTS_PROPERTIES_PATH  = &quot;server.properties&quot;;\r\n\tprivate static final String APPLICATION_LOCAL_PROPERTIES_PATH  = &quot;application-local.properties&quot;;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.setProperty(&quot;spring.config.name&quot;, getPropertiesPath());\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n\r\n\tprotected static String getPropertiesPath() {\r\n\t\treturn StringUtils.isBlank(System.getenv(CONTAINER_ENVIRONMENT_KEY)) ? APPLICATION_LOCAL_PROPERTIES_PATH : CDS_SERVICE_CHARTS_PROPERTIES_PATH;\r\n\t}\r\n}\r\n```\r\nI&#39;ve run through all the possible source following this properties order from springboot documentation: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\r\nand there no other config that we use except for testing. \r\nOn top of that there no reference of application.properties anywhere in the code, I assume there a lib that we used that might cause the problem. \r\nI can really see where the service try to get application.properties instead of what we provided. \r\n\r\nNote we did the same process of using a externalized configuration in other services and didn&#39;t have that problem. \r\n\r\n\r\nHere the Full trace of the exception on run time, note that there no reference to our app in it.\r\n```\r\n2023-03-30T17:02:23,073  INFO [main]   637:Application                              : The following 1 profile is active: &quot;local&quot; \r\n2023-03-30T17:02:26,586  WARN [main]   591:AnnotationConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.mydomain.Application]; nested exception is java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist \r\n2023-03-30T17:02:26,848 ERROR [main]   821:SpringApplication                        : Application run failed \r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.mydomain.Application]; nested exception is java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:188) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) [spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) [spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) [spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) [spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) [spring-boot-2.7.7.jar:2.7.7]\r\n\tat com.mydomain.Application.main(Application.java:22) [classes/:?]\r\nCaused by: java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist\r\n\tat org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:199) ~[spring-core-5.3.24.jar:5.3.24]\r\n\tat org.springframework.core.io.support.EncodedResource.getInputStream(EncodedResource.java:159) ~[spring-core-5.3.24.jar:5.3.24]\r\n\tat org.springframework.core.io.support.PropertiesLoaderUtils.fillProperties(PropertiesLoaderUtils.java:110) ~[spring-core-5.3.24.jar:5.3.24]\r\n\tat org.springframework.core.io.support.PropertiesLoaderUtils.fillProperties(PropertiesLoaderUtils.java:81) ~[spring-core-5.3.24.jar:5.3.24]\r\n\tat org.springframework.core.io.support.PropertiesLoaderUtils.loadProperties(PropertiesLoaderUtils.java:67) ~[spring-core-5.3.24.jar:5.3.24]\r\n\tat org.springframework.core.io.support.ResourcePropertySource.&lt;init&gt;(ResourcePropertySource.java:67) ~[spring-core-5.3.24.jar:5.3.24]\r\n\tat org.springframework.core.io.support.DefaultPropertySourceFactory.createPropertySource(DefaultPropertySourceFactory.java:37) ~[spring-core-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processPropertySource(ConfigurationClassParser.java:462) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:279) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:198) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:303) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:198) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:303) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:206) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:174) ~[spring-context-5.3.24.jar:5.3.24]\r\n\t... 13 more\r\nDisconnected from the target VM, address: &#39;127.0.0.1:59414&#39;, transport: &#39;socket&#39;\r\n```","title":"How to prevent spring-boot from trying to load application.properties instead of our own defined properties?","body":"<p>I'm running into a strange problem while migrating a old spring-boot service to use externalized configuration.\nThe service in local and server side keep trying to load application.properties eventhough we provide the profile.\nI even tried to force &quot;spring.config.name&quot; to the value we need via System.setProperty(&quot;spring.config.name&quot;, getPropertiesPath()), but this still doesn't work and I would prefer not to do it that way.</p>\n<p>Here the short version of the exception:</p>\n<pre><code>org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.mydomain.Application]; nested exception is java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist\n</code></pre>\n<p>Here the modified Application.java</p>\n<pre><code>@SpringBootApplication\npublic class Application {\n\n    protected static final String CONTAINER_ENVIRONMENT_KEY = &quot;ENVIRONMENT&quot;;\n    private static final String CDS_SERVICE_CHARTS_PROPERTIES_PATH  = &quot;server.properties&quot;;\n    private static final String APPLICATION_LOCAL_PROPERTIES_PATH  = &quot;application-local.properties&quot;;\n\n    public static void main(String[] args) {\n        System.setProperty(&quot;spring.config.name&quot;, getPropertiesPath());\n        SpringApplication.run(Application.class, args);\n    }\n\n    protected static String getPropertiesPath() {\n        return StringUtils.isBlank(System.getenv(CONTAINER_ENVIRONMENT_KEY)) ? APPLICATION_LOCAL_PROPERTIES_PATH : CDS_SERVICE_CHARTS_PROPERTIES_PATH;\n    }\n}\n</code></pre>\n<p>I've run through all the possible source following this properties order from springboot documentation: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config</a>\nand there no other config that we use except for testing.\nOn top of that there no reference of application.properties anywhere in the code, I assume there a lib that we used that might cause the problem.\nI can really see where the service try to get application.properties instead of what we provided.</p>\n<p>Note we did the same process of using a externalized configuration in other services and didn't have that problem.</p>\n<p>Here the Full trace of the exception on run time, note that there no reference to our app in it.</p>\n<pre><code>2023-03-30T17:02:23,073  INFO [main]   637:Application                              : The following 1 profile is active: &quot;local&quot; \n2023-03-30T17:02:26,586  WARN [main]   591:AnnotationConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.mydomain.Application]; nested exception is java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist \n2023-03-30T17:02:26,848 ERROR [main]   821:SpringApplication                        : Application run failed \norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.mydomain.Application]; nested exception is java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:188) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) [spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) [spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) [spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) [spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) [spring-boot-2.7.7.jar:2.7.7]\n    at com.mydomain.Application.main(Application.java:22) [classes/:?]\nCaused by: java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist\n    at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:199) ~[spring-core-5.3.24.jar:5.3.24]\n    at org.springframework.core.io.support.EncodedResource.getInputStream(EncodedResource.java:159) ~[spring-core-5.3.24.jar:5.3.24]\n    at org.springframework.core.io.support.PropertiesLoaderUtils.fillProperties(PropertiesLoaderUtils.java:110) ~[spring-core-5.3.24.jar:5.3.24]\n    at org.springframework.core.io.support.PropertiesLoaderUtils.fillProperties(PropertiesLoaderUtils.java:81) ~[spring-core-5.3.24.jar:5.3.24]\n    at org.springframework.core.io.support.PropertiesLoaderUtils.loadProperties(PropertiesLoaderUtils.java:67) ~[spring-core-5.3.24.jar:5.3.24]\n    at org.springframework.core.io.support.ResourcePropertySource.&lt;init&gt;(ResourcePropertySource.java:67) ~[spring-core-5.3.24.jar:5.3.24]\n    at org.springframework.core.io.support.DefaultPropertySourceFactory.createPropertySource(DefaultPropertySourceFactory.java:37) ~[spring-core-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassParser.processPropertySource(ConfigurationClassParser.java:462) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:279) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:198) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:303) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:198) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:303) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:206) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:174) ~[spring-context-5.3.24.jar:5.3.24]\n    ... 13 more\nDisconnected from the target VM, address: '127.0.0.1:59414', transport: 'socket'\n</code></pre>\n"},{"tags":["java","rest","get","jersey"],"answers":[{"tags":[],"owner":{"account_id":19867713,"reputation":1,"user_id":14554604,"display_name":"Pushpak Bhagat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646993218,"creation_date":1646992231,"answer_id":71436626,"question_id":68805623,"body_markdown":"The Jakarta EE Working Group has announced that javax is now officially and finally renamed as jakarta with the release of the Jakarta EE 9 Platform and Web Profile specifications and related TCKs.\r\n\r\nTo use that @XmlRootElement ,\r\nimport jakarta.xml.bind.annotation.XmlRootElement,\r\nafter adding following ,\r\n\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-media-jaxb&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.33&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-osgi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n","title":"@XmlRootElement not working in jersey rest","body":"<p>The Jakarta EE Working Group has announced that javax is now officially and finally renamed as jakarta with the release of the Jakarta EE 9 Platform and Web Profile specifications and related TCKs.</p>\n<p>To use that @XmlRootElement ,\nimport jakarta.xml.bind.annotation.XmlRootElement,\nafter adding following ,</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-media-jaxb&lt;/artifactId&gt;\n        &lt;version&gt;2.33&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-osgi&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25764457,"reputation":21,"user_id":19514762,"display_name":"Wanjalize"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680289145,"creation_date":1680289145,"answer_id":75901899,"question_id":68805623,"body_markdown":"For anyone facing this issue all you need to do is instead of returning an object return a string. Using an XmlMapper, which is a subclass of ObjectMapper, create a string and return it. However, the object which will be converted into a string needs to have the same configs as the employee object in the case above.\r\nHow to do it.\r\n\r\nstep 1: Get the required dependency for the XmlMapper class.\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    &lt;version&gt;2.11.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nstep 2: Inside the method that you intend to return xmls with create an XmlMapper object.\r\n```\r\nXmlMapper xmlMapper = new XmlMapper();\r\n```\r\nstep 3: Now convert the object that you intend to return as an xml into a string using the xmlMapper object created above. In the example provided above, the object to return was employee hence el has been used here.\r\n```\r\nString xml = xmlMapper.writeValueAsString(el);\r\n```\r\nStep 4: return the string\r\n```\r\nreturn xml;\r\n```\r\nNB: your method or controller will have to return a String and not an Employee object in this case. Additionally, use `@Produces(MediaType.APPLICATION_XML)` above your resource to signal to your consumer what to expect.\r\n\r\nAlso, in your consumers&#39; header, it is good but not necessary to show what you are expecting from the server by using a `Accept: Application/xml` in your headers. It is not necessary since most consumers by default accept all data formats.\r\n\r\n","title":"@XmlRootElement not working in jersey rest","body":"<p>For anyone facing this issue all you need to do is instead of returning an object return a string. Using an XmlMapper, which is a subclass of ObjectMapper, create a string and return it. However, the object which will be converted into a string needs to have the same configs as the employee object in the case above.\nHow to do it.</p>\n<p>step 1: Get the required dependency for the XmlMapper class.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;version&gt;2.11.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>step 2: Inside the method that you intend to return xmls with create an XmlMapper object.</p>\n<pre><code>XmlMapper xmlMapper = new XmlMapper();\n</code></pre>\n<p>step 3: Now convert the object that you intend to return as an xml into a string using the xmlMapper object created above. In the example provided above, the object to return was employee hence el has been used here.</p>\n<pre><code>String xml = xmlMapper.writeValueAsString(el);\n</code></pre>\n<p>Step 4: return the string</p>\n<pre><code>return xml;\n</code></pre>\n<p>NB: your method or controller will have to return a String and not an Employee object in this case. Additionally, use <code>@Produces(MediaType.APPLICATION_XML)</code> above your resource to signal to your consumer what to expect.</p>\n<p>Also, in your consumers' header, it is good but not necessary to show what you are expecting from the server by using a <code>Accept: Application/xml</code> in your headers. It is not necessary since most consumers by default accept all data formats.</p>\n"}],"owner":{"account_id":12798891,"reputation":21,"user_id":9260831,"display_name":"AATIF KHAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":838,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680289145,"creation_date":1629128255,"question_id":68805623,"body_markdown":"ERROR: \r\n\r\n&gt;MessageBodyWriter not found for media type=application/xml, type=class com.example.DemoRest2.Employee, genericType=class com.example.DemoRest2.Employee.\r\n\r\nI want to return the object of  Employee.class in xml format but getting above error.\r\nI am using @XmlRootElement annotation. However, it works fine when I return it in string format.\r\n\r\nEmployeeRsource.java\r\n\r\n    import jakarta.ws.rs.GET;\r\n    import jakarta.ws.rs.Path;\r\n    import jakarta.ws.rs.Produces;\r\n    import jakarta.ws.rs.core.MediaType;\r\n\r\n    @Path(&quot;employee&quot;)\r\n    public class EmployeeResource {\r\n\t\r\n\t@GET\r\n\t@Produces(MediaType.APPLICATION_XML)\r\n\tpublic Employee getEmp() {\r\n\t\t\r\n\t\tEmployee e1 = new Employee();\r\n\t\te1.setName(&quot;Tom&quot;);\r\n\t\te1.setAge(25);\r\n\t\tSystem.out.println(e1);\r\n\t\t\r\n\t\treturn e1;\r\n\t}\r\n    }\r\n\r\n  \r\n\r\nEmployee.java\r\n\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n\r\n    @XmlRootElement\r\n    public class Employee {\r\n\t\r\n\tprivate String name;\r\n\tprivate int age;\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic int getAge() {\r\n\t\treturn age;\r\n\t}\r\n\tpublic void setAge(int age) {\r\n\t\tthis.age = age;\r\n\t}\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Employee [name=&quot; + name + &quot;, age=&quot; + age + &quot;]&quot;;\r\n\t}\t\r\n\r\n    }\r\n\r\n\r\n\r\nGetting &quot;INTERNAL SERVER ERROR 500&quot; on user interface\r\n\r\nI am already having following dependencies:\r\njersey-media-jaxb - 3.0.2\r\njaxb-api - 2.3.1\r\njersey-container-servlet-core\r\njersey-hk2\r\njersey version - 3.0.2","title":"@XmlRootElement not working in jersey rest","body":"<p>ERROR:</p>\n<blockquote>\n<p>MessageBodyWriter not found for media type=application/xml, type=class com.example.DemoRest2.Employee, genericType=class com.example.DemoRest2.Employee.</p>\n</blockquote>\n<p>I want to return the object of  Employee.class in xml format but getting above error.\nI am using @XmlRootElement annotation. However, it works fine when I return it in string format.</p>\n<p>EmployeeRsource.java</p>\n<pre><code>import jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.Produces;\nimport jakarta.ws.rs.core.MediaType;\n\n@Path(&quot;employee&quot;)\npublic class EmployeeResource {\n\n@GET\n@Produces(MediaType.APPLICATION_XML)\npublic Employee getEmp() {\n    \n    Employee e1 = new Employee();\n    e1.setName(&quot;Tom&quot;);\n    e1.setAge(25);\n    System.out.println(e1);\n    \n    return e1;\n}\n}\n</code></pre>\n<p>Employee.java</p>\n<pre><code>import javax.xml.bind.annotation.XmlRootElement;\n\n@XmlRootElement\npublic class Employee {\n\nprivate String name;\nprivate int age;\npublic String getName() {\n    return name;\n}\npublic void setName(String name) {\n    this.name = name;\n}\npublic int getAge() {\n    return age;\n}\npublic void setAge(int age) {\n    this.age = age;\n}\n@Override\npublic String toString() {\n    return &quot;Employee [name=&quot; + name + &quot;, age=&quot; + age + &quot;]&quot;;\n}   \n\n}\n</code></pre>\n<p>Getting &quot;INTERNAL SERVER ERROR 500&quot; on user interface</p>\n<p>I am already having following dependencies:\njersey-media-jaxb - 3.0.2\njaxb-api - 2.3.1\njersey-container-servlet-core\njersey-hk2\njersey version - 3.0.2</p>\n"},{"tags":["java","junit","assertion","optional-parameters"],"comments":[{"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"score":1,"creation_date":1680369807,"post_id":75901700,"comment_id":133888494,"body_markdown":"Not sure if I correctly understand your question, but maybe [`hasValue`](https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractOptionalAssert.html#hasValue(VALUE)) is what you are looking for","body":"Not sure if I correctly understand your question, but maybe <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractOptionalAssert.html#hasValue(VALUE)\" rel=\"nofollow noreferrer\"><code>hasValue</code></a> is what you are looking for"},{"owner":{"account_id":10171374,"reputation":57,"user_id":7511565,"accept_rate":100,"display_name":"Wallace Soares"},"score":0,"creation_date":1681006368,"post_id":75901700,"comment_id":133989403,"body_markdown":"Not sure it solves the problem. Because when I didn&#39;t had the Optional value I could just use `contains` to assert all the properties in one line. Using the Optional value I&#39;m getting this difference on the object hash. Using `hasValue` the issue persists, I have to assert property by property. But thanks :D","body":"Not sure it solves the problem. Because when I didn&#39;t had the Optional value I could just use <code>contains</code> to assert all the properties in one line. Using the Optional value I&#39;m getting this difference on the object hash. Using <code>hasValue</code> the issue persists, I have to assert property by property. But thanks :D"}],"owner":{"account_id":10171374,"reputation":57,"user_id":7511565,"accept_rate":100,"display_name":"Wallace Soares"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680288009,"creation_date":1680287560,"question_id":75901700,"body_markdown":"Suppose you have this entity:\r\n\r\n```\r\npublic class Object {\r\n@Nullable byte[] prop1;\r\n\r\nbyte[] prop2;\r\n\r\npublic Optional&lt;byte[]&gt; getProp1(){\r\n    return Optional.ofNullable(prop1);\r\n}\r\n```\r\n\r\nWhile doing my test for integration with Scylla I&#39;m generating a fixture for the object and storing on Scylla. To assert that the fixture was properly stored I&#39;m getting it back using my repository function to assert that the data was stored. As described below.\r\n\r\n```\r\nassertThat(result).isPresent();\r\nassertThat(result).contains(expectedObject);\r\n```\r\n\r\nWhen no optional properties are present on the object entity, `contains` function works properly and assert that indeed we stored the data. However when involves `Optional` properties the `contains` function is unable to assert due the object hash difference.\r\n\r\n```\r\nobejctStored -&gt; Object@5dtsad\r\nobejctRetrived -&gt; Object@53kjlas\r\n```\r\n\r\nMy question is: is there a function for assertion that reads the content and assert the values, including Optional properties, similar what I did above?\r\n\r\n[EDIT] - And avoid asserting value by value explicitly?","title":"Is it possible to assert a query on scylla to match the content of a entity when there are Optional elements?","body":"<p>Suppose you have this entity:</p>\n<pre><code>public class Object {\n@Nullable byte[] prop1;\n\nbyte[] prop2;\n\npublic Optional&lt;byte[]&gt; getProp1(){\n    return Optional.ofNullable(prop1);\n}\n</code></pre>\n<p>While doing my test for integration with Scylla I'm generating a fixture for the object and storing on Scylla. To assert that the fixture was properly stored I'm getting it back using my repository function to assert that the data was stored. As described below.</p>\n<pre><code>assertThat(result).isPresent();\nassertThat(result).contains(expectedObject);\n</code></pre>\n<p>When no optional properties are present on the object entity, <code>contains</code> function works properly and assert that indeed we stored the data. However when involves <code>Optional</code> properties the <code>contains</code> function is unable to assert due the object hash difference.</p>\n<pre><code>obejctStored -&gt; Object@5dtsad\nobejctRetrived -&gt; Object@53kjlas\n</code></pre>\n<p>My question is: is there a function for assertion that reads the content and assert the values, including Optional properties, similar what I did above?</p>\n<p>[EDIT] - And avoid asserting value by value explicitly?</p>\n"},{"tags":["java","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680287636,"creation_date":1680287636,"answer_id":75901714,"question_id":75900962,"body_markdown":"Use `export TESTCONTAINERS_RYUK_CONTAINER_IMAGE=testcontainers/ryuk:0.4.0` as an environment variable. `-D` it allows to define a system property which is not taken into account.\r\n\r\nRead more [here][1].\r\n\r\n\r\n  [1]: https://www.testcontainers.org/features/configuration/#configuration-locations","title":"How to set up property for testcontainers","body":"<p>Use <code>export TESTCONTAINERS_RYUK_CONTAINER_IMAGE=testcontainers/ryuk:0.4.0</code> as an environment variable. <code>-D</code> it allows to define a system property which is not taken into account.</p>\n<p>Read more <a href=\"https://www.testcontainers.org/features/configuration/#configuration-locations\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":20547337,"reputation":273,"user_id":15080825,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":629,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75901714,"answer_count":1,"score":0,"last_activity_date":1680287636,"creation_date":1680281719,"question_id":75900962,"body_markdown":"I want to set up ryuk.container.image as a private registry image. What I tried:\r\n\r\n - -Dryuk.container.image\r\n -  -DRYUK_CONTAINER_IMAGE\r\n -  -DTESTCONTAINER_RYUK_CONTAINER_IMAGE\r\n\r\nWithout success. \r\n\r\nWhen I create custom testcontainers.properties and add: ryuk.container.image=ryuk.image:3.0.3 it being picked up, but when I inject maven property there It does not substitute it:\r\n\r\nryuk.container.image=${my.property} - not working\r\n\r\nHow I can specify ryuk.container.image as -D command or substitute it with maven property?","title":"How to set up property for testcontainers","body":"<p>I want to set up ryuk.container.image as a private registry image. What I tried:</p>\n<ul>\n<li>-Dryuk.container.image</li>\n<li>-DRYUK_CONTAINER_IMAGE</li>\n<li>-DTESTCONTAINER_RYUK_CONTAINER_IMAGE</li>\n</ul>\n<p>Without success.</p>\n<p>When I create custom testcontainers.properties and add: ryuk.container.image=ryuk.image:3.0.3 it being picked up, but when I inject maven property there It does not substitute it:</p>\n<p>ryuk.container.image=${my.property} - not working</p>\n<p>How I can specify ryuk.container.image as -D command or substitute it with maven property?</p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1680280339,"post_id":75900718,"comment_id":133877161,"body_markdown":"It looks like you&#39;re trying to create code by guessing, which will lead to frustration. If you&#39;re going to use the Swing GUI library, I know of no short-cuts to learning to use it well, and the best place to learn it is through the [Swing Tutorials](http://docs.oracle.com/javase/tutorial/uiswing/index.html).","body":"It looks like you&#39;re trying to create code by guessing, which will lead to frustration. If you&#39;re going to use the Swing GUI library, I know of no short-cuts to learning to use it well, and the best place to learn it is through the <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Swing Tutorials</a>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1680280445,"post_id":75900718,"comment_id":133877180,"body_markdown":"As for your code, my own recommendation is to scrap it and start over. Most of that code needs to be outside of the main method or any static method and into proper OOP-complaint classes with private instance and public methods, code that follows basic Java OOPs practices. The main method should only create your main objects and set them running, and that&#39;s it. If you&#39;re not yet familiar with these, then best to hold off on GUI coding and first learn these principles.","body":"As for your code, my own recommendation is to scrap it and start over. Most of that code needs to be outside of the main method or any static method and into proper OOP-complaint classes with private instance and public methods, code that follows basic Java OOPs practices. The main method should only create your main objects and set them running, and that&#39;s it. If you&#39;re not yet familiar with these, then best to hold off on GUI coding and first learn these principles."}],"answers":[{"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1680287380,"post_id":75901635,"comment_id":133878670,"body_markdown":"I see that we both created our answers at about the same time, both using key bindings. 1+","body":"I see that we both created our answers at about the same time, both using key bindings. 1+"}],"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680287487,"creation_date":1680287109,"answer_id":75901635,"question_id":75900718,"body_markdown":"Your code produced an interesting game field.  I&#39;m impressed that you&#39;re just learning.\r\n\r\nI took your idea and created the following GUI.\r\n\r\n[![Display Graphics][1]][1]\r\n\r\nI started the player in the center of the map.  I&#39;m representing the player as a blue circle.\r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) section.\r\n\r\nThe first thing I did was create a game model.  I made the map a `java.awt.Dimension` specifying the width and height of the map.  The drawing `JPanel` dimensions are based on the map dimensions.  I specified the player position with a `java.awt.Point`, which holds an X and Y `int`.\r\n\r\nYou can add one or more monsters or obstacles the same way, by defining them as a `Point`.\r\n\r\nNext, I created the `JFrame` and a drawing `JPanel`.  I used key bindings rather than a key listener.  Yes, the code looks more complicated.  The advantage is that key bindings continue to work when the drawing `JPanel` doesn&#39;t have focus.  I added the WASD keys as a bonus.\r\n\r\nDrawing the player is a rather simple math equation.  I draw the circle based on the center point, so I have to adjust the drawing coordinates in the `drawOval`.\r\n\r\nHere&#39;s the complete runnable code.  I made the additional classes inner classes so I could post the code as one block.  You should separate the classes into different files.  Good luck expanding your game.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.Point;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.KeyEvent;\r\n    \r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.KeyStroke;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class DisplayGraphics implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new DisplayGraphics());\r\n    \t}\r\n    \r\n    \tprivate final DisplayModel model;\r\n    \r\n    \tprivate final DrawingPanel drawingPanel;\r\n    \r\n    \tpublic DisplayGraphics() {\r\n    \t\tthis.model = new DisplayModel();\r\n    \t\tthis.drawingPanel = new DrawingPanel(model);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Display Graphics&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(drawingPanel, BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic class DrawingPanel extends JPanel {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\tprivate final int playerWidth, margin;\r\n    \r\n    \t\tprivate final DisplayModel model;\r\n    \r\n    \t\tpublic DrawingPanel(DisplayModel model) {\r\n    \t\t\tthis.model = model;\r\n    \t\t\tthis.margin = 10;\r\n    \t\t\tthis.playerWidth = 16;\r\n    \t\t\tint totalWidth = 2 * margin + (model.getMap().width + 1) * playerWidth;\r\n    \t\t\tint totalHeight = 2 * margin + (model.getMap().height + 1) * playerWidth;\r\n    \t\t\tthis.setPreferredSize(new Dimension(totalWidth, totalHeight));\r\n    \t\t\tsetKeyBindings();\r\n    \t\t}\r\n    \r\n    \t\tprivate void setKeyBindings() {\r\n    \t\t\tInputMap inputMap = getInputMap(JPanel.WHEN_IN_FOCUSED_WINDOW);\r\n    \t\t\tActionMap actionMap = getActionMap();\r\n    \r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), &quot;up&quot;);\r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), &quot;down&quot;);\r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0), &quot;left&quot;);\r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0), &quot;right&quot;);\r\n    \r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0), &quot;up&quot;);\r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_S, 0), &quot;down&quot;);\r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_A, 0), &quot;left&quot;);\r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_D, 0), &quot;right&quot;);\r\n    \r\n    \t\t\tactionMap.put(&quot;up&quot;, new AbstractAction() {\r\n    \t\t\t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\t\t\tmodel.incrementPlayerPositionY(-1);\r\n    \t\t\t\t\trepaint();\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \r\n    \t\t\tactionMap.put(&quot;down&quot;, new AbstractAction() {\r\n    \t\t\t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\t\t\tmodel.incrementPlayerPositionY(+1);\r\n    \t\t\t\t\trepaint();\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \r\n    \t\t\tactionMap.put(&quot;left&quot;, new AbstractAction() {\r\n    \t\t\t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\t\t\tmodel.incrementPlayerPositionX(-1);\r\n    \t\t\t\t\trepaint();\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \r\n    \t\t\tactionMap.put(&quot;right&quot;, new AbstractAction() {\r\n    \t\t\t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\t\t\tmodel.incrementPlayerPositionX(+1);\r\n    \t\t\t\t\trepaint();\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void paintComponent(Graphics g) {\r\n    \t\t\tsuper.paintComponent(g);\r\n    \r\n    \t\t\tPoint p = model.getPlayerPosition();\r\n    \t\t\tint halfWidth = playerWidth / 2;\r\n    \t\t\tint x = margin + halfWidth + p.x * playerWidth;\r\n    \t\t\tint y = margin + halfWidth + p.y * playerWidth;\r\n    \t\t\tg.setColor(Color.blue);\r\n    \t\t\tg.fillOval(x - halfWidth, y - halfWidth, playerWidth, playerWidth);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic class DisplayModel {\r\n    \r\n    \t\tprivate Point playerPosition;\r\n    \r\n    \t\tprivate final Dimension map;\r\n    \r\n    \t\tpublic DisplayModel() {\r\n    \t\t\tthis.map = new Dimension(40, 30);\r\n    \t\t\tthis.playerPosition = new Point(map.width / 2, map.height / 2);\r\n    \t\t}\r\n    \r\n    \t\tpublic void incrementPlayerPositionX(int increment) {\r\n    \t\t\tplayerPosition.x += increment;\r\n    \t\t\tif (playerPosition.x &lt; 0) {\r\n    \t\t\t\tplayerPosition.x = 0;\r\n    \t\t\t}\r\n    \t\t\tif (playerPosition.x &gt; map.width) {\r\n    \t\t\t\tplayerPosition.x = map.width;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tpublic void incrementPlayerPositionY(int increment) {\r\n    \t\t\tplayerPosition.y += increment;\r\n    \t\t\tif (playerPosition.y &lt; 0) {\r\n    \t\t\t\tplayerPosition.y = 0;\r\n    \t\t\t}\r\n    \t\t\tif (playerPosition.y &gt; map.height) {\r\n    \t\t\t\tplayerPosition.y = map.height;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tpublic Point getPlayerPosition() {\r\n    \t\t\treturn playerPosition;\r\n    \t\t}\r\n    \r\n    \t\tpublic Dimension getMap() {\r\n    \t\t\treturn map;\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JKQdo.png\r\n","title":"Is there a way to reload my JFrame game other than using setVisible() to true and false?","body":"<p>Your code produced an interesting game field.  I'm impressed that you're just learning.</p>\n<p>I took your idea and created the following GUI.</p>\n<p><a href=\"https://i.stack.imgur.com/JKQdo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JKQdo.png\" alt=\"Display Graphics\" /></a></p>\n<p>I started the player in the center of the map.  I'm representing the player as a blue circle.</p>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> section.</p>\n<p>The first thing I did was create a game model.  I made the map a <code>java.awt.Dimension</code> specifying the width and height of the map.  The drawing <code>JPanel</code> dimensions are based on the map dimensions.  I specified the player position with a <code>java.awt.Point</code>, which holds an X and Y <code>int</code>.</p>\n<p>You can add one or more monsters or obstacles the same way, by defining them as a <code>Point</code>.</p>\n<p>Next, I created the <code>JFrame</code> and a drawing <code>JPanel</code>.  I used key bindings rather than a key listener.  Yes, the code looks more complicated.  The advantage is that key bindings continue to work when the drawing <code>JPanel</code> doesn't have focus.  I added the WASD keys as a bonus.</p>\n<p>Drawing the player is a rather simple math equation.  I draw the circle based on the center point, so I have to adjust the drawing coordinates in the <code>drawOval</code>.</p>\n<p>Here's the complete runnable code.  I made the additional classes inner classes so I could post the code as one block.  You should separate the classes into different files.  Good luck expanding your game.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Point;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\n\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\nimport javax.swing.SwingUtilities;\n\npublic class DisplayGraphics implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new DisplayGraphics());\n    }\n\n    private final DisplayModel model;\n\n    private final DrawingPanel drawingPanel;\n\n    public DisplayGraphics() {\n        this.model = new DisplayModel();\n        this.drawingPanel = new DrawingPanel(model);\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Display Graphics&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(drawingPanel, BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    public class DrawingPanel extends JPanel {\n\n        private static final long serialVersionUID = 1L;\n\n        private final int playerWidth, margin;\n\n        private final DisplayModel model;\n\n        public DrawingPanel(DisplayModel model) {\n            this.model = model;\n            this.margin = 10;\n            this.playerWidth = 16;\n            int totalWidth = 2 * margin + (model.getMap().width + 1) * playerWidth;\n            int totalHeight = 2 * margin + (model.getMap().height + 1) * playerWidth;\n            this.setPreferredSize(new Dimension(totalWidth, totalHeight));\n            setKeyBindings();\n        }\n\n        private void setKeyBindings() {\n            InputMap inputMap = getInputMap(JPanel.WHEN_IN_FOCUSED_WINDOW);\n            ActionMap actionMap = getActionMap();\n\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), &quot;up&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), &quot;down&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0), &quot;left&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0), &quot;right&quot;);\n\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0), &quot;up&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_S, 0), &quot;down&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_A, 0), &quot;left&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_D, 0), &quot;right&quot;);\n\n            actionMap.put(&quot;up&quot;, new AbstractAction() {\n                private static final long serialVersionUID = 1L;\n\n                @Override\n                public void actionPerformed(ActionEvent event) {\n                    model.incrementPlayerPositionY(-1);\n                    repaint();\n                }\n            });\n\n            actionMap.put(&quot;down&quot;, new AbstractAction() {\n                private static final long serialVersionUID = 1L;\n\n                @Override\n                public void actionPerformed(ActionEvent event) {\n                    model.incrementPlayerPositionY(+1);\n                    repaint();\n                }\n            });\n\n            actionMap.put(&quot;left&quot;, new AbstractAction() {\n                private static final long serialVersionUID = 1L;\n\n                @Override\n                public void actionPerformed(ActionEvent event) {\n                    model.incrementPlayerPositionX(-1);\n                    repaint();\n                }\n            });\n\n            actionMap.put(&quot;right&quot;, new AbstractAction() {\n                private static final long serialVersionUID = 1L;\n\n                @Override\n                public void actionPerformed(ActionEvent event) {\n                    model.incrementPlayerPositionX(+1);\n                    repaint();\n                }\n            });\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n\n            Point p = model.getPlayerPosition();\n            int halfWidth = playerWidth / 2;\n            int x = margin + halfWidth + p.x * playerWidth;\n            int y = margin + halfWidth + p.y * playerWidth;\n            g.setColor(Color.blue);\n            g.fillOval(x - halfWidth, y - halfWidth, playerWidth, playerWidth);\n        }\n\n    }\n\n    public class DisplayModel {\n\n        private Point playerPosition;\n\n        private final Dimension map;\n\n        public DisplayModel() {\n            this.map = new Dimension(40, 30);\n            this.playerPosition = new Point(map.width / 2, map.height / 2);\n        }\n\n        public void incrementPlayerPositionX(int increment) {\n            playerPosition.x += increment;\n            if (playerPosition.x &lt; 0) {\n                playerPosition.x = 0;\n            }\n            if (playerPosition.x &gt; map.width) {\n                playerPosition.x = map.width;\n            }\n        }\n\n        public void incrementPlayerPositionY(int increment) {\n            playerPosition.y += increment;\n            if (playerPosition.y &lt; 0) {\n                playerPosition.y = 0;\n            }\n            if (playerPosition.y &gt; map.height) {\n                playerPosition.y = map.height;\n            }\n        }\n\n        public Point getPlayerPosition() {\n            return playerPosition;\n        }\n\n        public Dimension getMap() {\n            return map;\n        }\n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1680287725,"post_id":75901670,"comment_id":133878743,"body_markdown":"I was trying to teach game design in a short answer.  I hope I didn&#39;t overwhelm the OP with too much information.","body":"I was trying to teach game design in a short answer.  I hope I didn&#39;t overwhelm the OP with too much information."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1680289723,"post_id":75901670,"comment_id":133879166,"body_markdown":"@GilbertLeBlanc: yes, you probably did, but not through any fault of your own as I fear that everything will be overwhelming to the OP at this stage. I am hopeful though, that they will sort it all out given time and effort.","body":"@GilbertLeBlanc: yes, you probably did, but not through any fault of your own as I fear that everything will be overwhelming to the OP at this stage. I am hopeful though, that they will sort it all out given time and effort."}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680287318,"creation_date":1680287318,"answer_id":75901670,"question_id":75900718,"body_markdown":"For example, I would first start with OOP classes, here starting with a Player class, one that holds its own position, a symbol and its own health value, 0 to 100. A simple example could look like so:\r\n```\r\npublic class Player {\r\n    private int x;\r\n    private int y;\r\n    private int health;\r\n    private String symbol;\r\n\r\n\tpublic Player() {\r\n\t\t// no-arg constructor if needed\r\n\t}\r\n\t\r\n    public Player(int x, int y, int health, String symbol) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.health = health;\r\n        this.symbol = symbol;\r\n    }\r\n\r\n    public int getX() {\r\n        return x;\r\n    }\r\n\r\n    public void setX(int x) {\r\n        this.x = x;\r\n    }\r\n\r\n    public int getY() {\r\n        return y;\r\n    }\r\n\r\n    public void setY(int y) {\r\n        this.y = y;\r\n    }\r\n\r\n    public int getHealth() {\r\n        return health;\r\n    }\r\n\r\n    public void setHealth(int health) {\r\n        this.health = health;\r\n    }\r\n    \r\n    public void setSymbol(String symbol) {\r\n        this.symbol = symbol;\r\n    }\r\n    \r\n    public String getSymbol() {\r\n        return symbol;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is nothing more than a simple &quot;POJO&quot; or &quot;Plain Old Java Object, one with a few fields, constructors and some getters and setters. Nothing fancy.\r\n\r\nI&#39;d create other objects, such as an object to represent the map and any other entities that the map might hold or that the player might interact with. I will dispense with this for now for simplicity, but will show a sample Swing GUI for displaying and changing the location of a Player:\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.GridBagLayout;\r\nimport java.awt.GridLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.KeyEvent;\r\nimport javax.swing.*;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class DisplayGraphicsPanel extends JPanel {\r\n    public static final int MAX_X = 80;\r\n    public static final int MAX_Y = 36;\r\n    private static final Dimension CELL_SIZE = new Dimension(15, 17);\r\n\r\n    private Player player = new Player(0, 0, 100, &quot;@&quot;);\r\n    private JPanel gridHolderPanel = new JPanel(new GridLayout(MAX_Y, MAX_X, 1, 1));\r\n    private JPanel[][] panelGrid = new JPanel[MAX_Y][MAX_X];\r\n    private JLabel playerLabel;\r\n    private JLabel healthLabel = new JLabel(&quot;100%&quot;);\r\n\r\n    private int condition = WHEN_IN_FOCUSED_WINDOW;\r\n    private InputMap inputMap = getInputMap(condition);\r\n    private ActionMap actionMap = getActionMap();\r\n\r\n    public DisplayGraphicsPanel() {\r\n        playerLabel = new JLabel(player.getSymbol());\r\n        gridHolderPanel.setBackground(Color.BLACK);\r\n        gridHolderPanel.setBorder(BorderFactory.createLineBorder(Color.BLACK));\r\n        for (int y = 0; y &lt; MAX_Y; y++) {\r\n            for (int x = 0; x &lt; MAX_X; x++) {\r\n                JPanel panel = new JPanel();\r\n                panel.setBackground(Color.WHITE);\r\n                panel.setPreferredSize(CELL_SIZE);\r\n                panel.setLayout(new GridBagLayout());\r\n                panelGrid[y][x] = panel;\r\n                gridHolderPanel.add(panel);\r\n            }\r\n        }\r\n        panelGrid[0][0].add(playerLabel);\r\n\r\n        JPanel statusPanel = new JPanel();\r\n        statusPanel.add(new JLabel(&quot;Health:&quot;));\r\n        statusPanel.add(Box.createHorizontalStrut(5));\r\n        statusPanel.add(healthLabel);\r\n\r\n        setLayout(new BorderLayout());\r\n        add(gridHolderPanel);\r\n        add(statusPanel, BorderLayout.PAGE_END);\r\n\r\n        putIntoMaps(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), 0, 1);\r\n        putIntoMaps(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), 0, -1);\r\n        putIntoMaps(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0), -1, 0);\r\n        putIntoMaps(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0), 1, 0);\r\n    }\r\n\r\n    private void putIntoMaps(KeyStroke kStroke, int xDir, int yDir) {\r\n        inputMap.put(kStroke, kStroke.toString());\r\n        actionMap.put(kStroke.toString(), new MoveAction(xDir, yDir));\r\n    }\r\n\r\n    private class MoveAction extends AbstractAction {\r\n        private int xDir;\r\n        private int yDir;\r\n\r\n        public MoveAction(int xDir, int yDir) {\r\n            this.xDir = xDir;\r\n            this.yDir = yDir;\r\n        }\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            int playerX = player.getX();\r\n            playerX += xDir;\r\n\r\n            // make sure we don&#39;t go out of bounds\r\n            playerX = Math.max(0, playerX);\r\n            playerX = Math.min(playerX, MAX_X);\r\n            player.setX(playerX);\r\n            \r\n            int playerY = player.getY();\r\n            playerY += yDir;\r\n            \r\n            playerY = Math.max(0, playerY);\r\n            playerY = Math.min(playerY, MAX_Y);\r\n            player.setY(playerY);\r\n            \r\n            int health = player.getHealth();\r\n            health += Math.random() &gt; 0.5 ? 4 : -4;\r\n            health = Math.min(100, health);\r\n            player.setHealth(health);\r\n            \r\n            healthLabel.setText(String.format(&quot;%02d%%&quot;, player.getHealth()));\r\n\r\n            panelGrid[playerY][playerX].add(playerLabel);\r\n            gridHolderPanel.revalidate();\r\n            gridHolderPanel.repaint();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            DisplayGraphicsPanel mainPanel = new DisplayGraphicsPanel();\r\n\r\n            JFrame frame = new JFrame(&quot;GUI&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(mainPanel);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nThis class uses a JPanel that holds a grid of other JPanel cells in a 2D array, and uses [Key Bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) to capture arrow keystrokes and use them to move the player. Key Bindings are much better to use than a KeyListener, and the tutorial (in the link) will explain it well. Briefly, I have bound each of the arrow keys with an action, one that changes the x or y field of the player object, and then I use those values to move a JLabel that is displayed within the JPanel grid.","title":"Is there a way to reload my JFrame game other than using setVisible() to true and false?","body":"<p>For example, I would first start with OOP classes, here starting with a Player class, one that holds its own position, a symbol and its own health value, 0 to 100. A simple example could look like so:</p>\n<pre><code>public class Player {\n    private int x;\n    private int y;\n    private int health;\n    private String symbol;\n\n    public Player() {\n        // no-arg constructor if needed\n    }\n    \n    public Player(int x, int y, int health, String symbol) {\n        this.x = x;\n        this.y = y;\n        this.health = health;\n        this.symbol = symbol;\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public void setX(int x) {\n        this.x = x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public void setY(int y) {\n        this.y = y;\n    }\n\n    public int getHealth() {\n        return health;\n    }\n\n    public void setHealth(int health) {\n        this.health = health;\n    }\n    \n    public void setSymbol(String symbol) {\n        this.symbol = symbol;\n    }\n    \n    public String getSymbol() {\n        return symbol;\n    }\n\n}\n</code></pre>\n<p>This is nothing more than a simple &quot;POJO&quot; or &quot;Plain Old Java Object, one with a few fields, constructors and some getters and setters. Nothing fancy.</p>\n<p>I'd create other objects, such as an object to represent the map and any other entities that the map might hold or that the player might interact with. I will dispense with this for now for simplicity, but will show a sample Swing GUI for displaying and changing the location of a Player:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.GridBagLayout;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport javax.swing.*;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class DisplayGraphicsPanel extends JPanel {\n    public static final int MAX_X = 80;\n    public static final int MAX_Y = 36;\n    private static final Dimension CELL_SIZE = new Dimension(15, 17);\n\n    private Player player = new Player(0, 0, 100, &quot;@&quot;);\n    private JPanel gridHolderPanel = new JPanel(new GridLayout(MAX_Y, MAX_X, 1, 1));\n    private JPanel[][] panelGrid = new JPanel[MAX_Y][MAX_X];\n    private JLabel playerLabel;\n    private JLabel healthLabel = new JLabel(&quot;100%&quot;);\n\n    private int condition = WHEN_IN_FOCUSED_WINDOW;\n    private InputMap inputMap = getInputMap(condition);\n    private ActionMap actionMap = getActionMap();\n\n    public DisplayGraphicsPanel() {\n        playerLabel = new JLabel(player.getSymbol());\n        gridHolderPanel.setBackground(Color.BLACK);\n        gridHolderPanel.setBorder(BorderFactory.createLineBorder(Color.BLACK));\n        for (int y = 0; y &lt; MAX_Y; y++) {\n            for (int x = 0; x &lt; MAX_X; x++) {\n                JPanel panel = new JPanel();\n                panel.setBackground(Color.WHITE);\n                panel.setPreferredSize(CELL_SIZE);\n                panel.setLayout(new GridBagLayout());\n                panelGrid[y][x] = panel;\n                gridHolderPanel.add(panel);\n            }\n        }\n        panelGrid[0][0].add(playerLabel);\n\n        JPanel statusPanel = new JPanel();\n        statusPanel.add(new JLabel(&quot;Health:&quot;));\n        statusPanel.add(Box.createHorizontalStrut(5));\n        statusPanel.add(healthLabel);\n\n        setLayout(new BorderLayout());\n        add(gridHolderPanel);\n        add(statusPanel, BorderLayout.PAGE_END);\n\n        putIntoMaps(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), 0, 1);\n        putIntoMaps(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), 0, -1);\n        putIntoMaps(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0), -1, 0);\n        putIntoMaps(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0), 1, 0);\n    }\n\n    private void putIntoMaps(KeyStroke kStroke, int xDir, int yDir) {\n        inputMap.put(kStroke, kStroke.toString());\n        actionMap.put(kStroke.toString(), new MoveAction(xDir, yDir));\n    }\n\n    private class MoveAction extends AbstractAction {\n        private int xDir;\n        private int yDir;\n\n        public MoveAction(int xDir, int yDir) {\n            this.xDir = xDir;\n            this.yDir = yDir;\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            int playerX = player.getX();\n            playerX += xDir;\n\n            // make sure we don't go out of bounds\n            playerX = Math.max(0, playerX);\n            playerX = Math.min(playerX, MAX_X);\n            player.setX(playerX);\n            \n            int playerY = player.getY();\n            playerY += yDir;\n            \n            playerY = Math.max(0, playerY);\n            playerY = Math.min(playerY, MAX_Y);\n            player.setY(playerY);\n            \n            int health = player.getHealth();\n            health += Math.random() &gt; 0.5 ? 4 : -4;\n            health = Math.min(100, health);\n            player.setHealth(health);\n            \n            healthLabel.setText(String.format(&quot;%02d%%&quot;, player.getHealth()));\n\n            panelGrid[playerY][playerX].add(playerLabel);\n            gridHolderPanel.revalidate();\n            gridHolderPanel.repaint();\n        }\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            DisplayGraphicsPanel mainPanel = new DisplayGraphicsPanel();\n\n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(mainPanel);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n<p>This class uses a JPanel that holds a grid of other JPanel cells in a 2D array, and uses <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">Key Bindings</a> to capture arrow keystrokes and use them to move the player. Key Bindings are much better to use than a KeyListener, and the tutorial (in the link) will explain it well. Briefly, I have bound each of the arrow keys with an action, one that changes the x or y field of the player object, and then I use those values to move a JLabel that is displayed within the JPanel grid.</p>\n"}],"owner":{"account_id":28180552,"reputation":1,"user_id":21537648,"display_name":"Jacob Katz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1680287487,"creation_date":1680279591,"question_id":75900718,"body_markdown":"So the goal here is essentially to create a basic text-based roguelike game. I&#39;m fairly new to java, so I&#39;m sure you&#39;ll find tons of stuff to be improved with my program. The biggest thing I have is I don&#39;t know of a good way to update the screen so it accurately displays the player&#39;s position. What I am currently using is `setVisible(false)` and `setVisible(true)` to completely reload the program, which is fine for now for the purposes of development and at least ensuring things are working. However, the time has come for where that no longer does what I need it, so my question is essentially how do I reload it each time an arrow key is pressed (that&#39;s the input for moving the player). \r\n\r\n\r\nI have experimented with repaint() with nothing to show for it as I could not get it to do anything. Any help would be greatly appreciated!\r\n\r\nHere is the code as it is: \r\n\r\n```\r\nimport java.awt.*;\r\n\r\nimport javax.swing.JFrame;\r\nimport java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.*;\r\n\r\npublic class DisplayGraphics extends Canvas{  \r\n\t// Global game variables\r\n\tint screenW = 1024;\r\n\tint screenH = 768;\r\n\r\n\tstatic JFrame f = null;\r\n\tstatic int playerX = 0;\r\n\tstatic int playerY = 0;\r\n\tstatic String[][] map = new String[80][36];\r\n\r\n\r\n//\tpublic void makeMap(String[][] map) {\r\n//\t\t\r\n//\t}\r\n\r\n\t\r\n\tpublic void paint(Graphics g) {  \r\n\t\tfor (int x=0;x&lt;map.length;x++) {\r\n\t\t\tfor (int y=0;y&lt;map[x].length;y++) {\r\n\t\t\t\tif (x==playerX&amp;&amp; y==playerY) map[x][y] = &quot;@&quot;;\r\n\t\t\t\telse map[x][y] = &quot;.&quot;;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (int x=0;x&lt;map.length;x++) {\r\n\t\t\tfor (int y=0;y&lt;map[x].length;y++) {\r\n\t\t\t\tg.drawString(map[x][y], (11+(8*x)), (13*y)+14);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tg.drawString(&quot;HEALTH:&quot;, 10, 545);\r\n\t}  \r\n\t\r\n\r\n\tpublic static void main(String[] args) {  \r\n\r\n\t\t// DEFINE PLAYER VARIABLES \r\n\t\tDisplayGraphics m=new DisplayGraphics();  \r\n\t\tf=new JFrame();  \r\n\t\tf.add(m);  \r\n\t\tf.setSize(840,610);\r\n\r\n\t\t\r\n\t\t//we get the keyboard input\r\n\t\tf.addKeyListener(new KeyAdapter() {\r\n\t\t\tpublic void keyPressed(KeyEvent e) {\r\n\t\t\t\tint keyCode = e.getKeyCode();\r\n\t\t\t\tif (keyCode == KeyEvent.VK_UP) {\r\n\t\t\t\t\tSystem.out.println(&quot;Up Arrrow-Key is pressed!&quot;);\r\n\t\t\t\t\tplayerY--;\r\n\t\t\t\t\tSystem.out.println(playerY);\r\n\t\t\t\t\tf.setVisible(false);\r\n\t\t\t\t\tf.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t\telse if (keyCode == KeyEvent.VK_DOWN) {\r\n\t\t\t\t\tSystem.out.println(&quot;Down Arrrow-Key is pressed!&quot;);\r\n\t\t\t\t\tplayerY++;\r\n\t\t\t\t\tSystem.out.println(playerY);\r\n\t\t\t\t\tf.setVisible(false);\r\n\t\t\t\t\tf.setVisible(true);\t}\r\n\t\t\t\telse if (keyCode == KeyEvent.VK_LEFT) {\r\n\t\t\t\t\tSystem.out.println(&quot;Left Arrrow-Key is pressed!&quot;);\r\n\t\t\t\t\tplayerX--;\r\n\t\t\t\t\tSystem.out.println(playerX);\r\n\t\t\t\t\tf.setVisible(false);\r\n\t\t\t\t\tf.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t\telse if (keyCode == KeyEvent.VK_RIGHT) {\r\n\t\t\t\t\tSystem.out.println(&quot;Right Arrrow-Key is pressed!&quot;);\r\n\t\t\t\t\tplayerX++;\r\n\t\t\t\t\tSystem.out.println(playerX);\r\n\t\t\t\t\tf.setVisible(false);\r\n\t\t\t\t\tf.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tf.setVisible(true); \r\n\t}\r\n\t\r\n    public void actionPerformed(KeyEvent event) {\r\n        f.repaint();\r\n    }\r\n\r\n}  \r\n\r\n```\r\n","title":"Is there a way to reload my JFrame game other than using setVisible() to true and false?","body":"<p>So the goal here is essentially to create a basic text-based roguelike game. I'm fairly new to java, so I'm sure you'll find tons of stuff to be improved with my program. The biggest thing I have is I don't know of a good way to update the screen so it accurately displays the player's position. What I am currently using is <code>setVisible(false)</code> and <code>setVisible(true)</code> to completely reload the program, which is fine for now for the purposes of development and at least ensuring things are working. However, the time has come for where that no longer does what I need it, so my question is essentially how do I reload it each time an arrow key is pressed (that's the input for moving the player).</p>\n<p>I have experimented with repaint() with nothing to show for it as I could not get it to do anything. Any help would be greatly appreciated!</p>\n<p>Here is the code as it is:</p>\n<pre><code>import java.awt.*;\n\nimport javax.swing.JFrame;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.*;\n\npublic class DisplayGraphics extends Canvas{  \n    // Global game variables\n    int screenW = 1024;\n    int screenH = 768;\n\n    static JFrame f = null;\n    static int playerX = 0;\n    static int playerY = 0;\n    static String[][] map = new String[80][36];\n\n\n//  public void makeMap(String[][] map) {\n//      \n//  }\n\n    \n    public void paint(Graphics g) {  \n        for (int x=0;x&lt;map.length;x++) {\n            for (int y=0;y&lt;map[x].length;y++) {\n                if (x==playerX&amp;&amp; y==playerY) map[x][y] = &quot;@&quot;;\n                else map[x][y] = &quot;.&quot;;\n            }\n        }\n        for (int x=0;x&lt;map.length;x++) {\n            for (int y=0;y&lt;map[x].length;y++) {\n                g.drawString(map[x][y], (11+(8*x)), (13*y)+14);\n            }\n        }\n\n        g.drawString(&quot;HEALTH:&quot;, 10, 545);\n    }  \n    \n\n    public static void main(String[] args) {  \n\n        // DEFINE PLAYER VARIABLES \n        DisplayGraphics m=new DisplayGraphics();  \n        f=new JFrame();  \n        f.add(m);  \n        f.setSize(840,610);\n\n        \n        //we get the keyboard input\n        f.addKeyListener(new KeyAdapter() {\n            public void keyPressed(KeyEvent e) {\n                int keyCode = e.getKeyCode();\n                if (keyCode == KeyEvent.VK_UP) {\n                    System.out.println(&quot;Up Arrrow-Key is pressed!&quot;);\n                    playerY--;\n                    System.out.println(playerY);\n                    f.setVisible(false);\n                    f.setVisible(true);\n                }\n                else if (keyCode == KeyEvent.VK_DOWN) {\n                    System.out.println(&quot;Down Arrrow-Key is pressed!&quot;);\n                    playerY++;\n                    System.out.println(playerY);\n                    f.setVisible(false);\n                    f.setVisible(true); }\n                else if (keyCode == KeyEvent.VK_LEFT) {\n                    System.out.println(&quot;Left Arrrow-Key is pressed!&quot;);\n                    playerX--;\n                    System.out.println(playerX);\n                    f.setVisible(false);\n                    f.setVisible(true);\n                }\n                else if (keyCode == KeyEvent.VK_RIGHT) {\n                    System.out.println(&quot;Right Arrrow-Key is pressed!&quot;);\n                    playerX++;\n                    System.out.println(playerX);\n                    f.setVisible(false);\n                    f.setVisible(true);\n                }\n            }\n        });\n        f.setVisible(true); \n    }\n    \n    public void actionPerformed(KeyEvent event) {\n        f.repaint();\n    }\n\n}  \n\n</code></pre>\n"},{"tags":["java","sqlite","jdbc"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679938817,"post_id":75858709,"comment_id":133807414,"body_markdown":"Which SQLite JDBC jar are you using? Try taking out the Class.forName(&quot;org.sqlite.JDBC&quot;). From https://www.sqlitetutorial.net/sqlite-java/sqlite-jdbc-driver/","body":"Which SQLite JDBC jar are you using? Try taking out the Class.forName(&quot;org.sqlite.JDBC&quot;). From <a href=\"https://www.sqlitetutorial.net/sqlite-java/sqlite-jdbc-driver/\" rel=\"nofollow noreferrer\">sqlitetutorial.net/sqlite-java/sqlite-jdbc-driver</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1679942420,"post_id":75858709,"comment_id":133808239,"body_markdown":"The fact you get compilation errors for SQLite JDBC driver classes, suggests you copied the sources of the SQLite JDBC driver into your project instead of adding the JAR with compiled classes of the JDBC driver onto the classpath of your project.","body":"The fact you get compilation errors for SQLite JDBC driver classes, suggests you copied the sources of the SQLite JDBC driver into your project instead of adding the JAR with compiled classes of the JDBC driver onto the classpath of your project."}],"answers":[{"tags":[],"owner":{"account_id":27745867,"reputation":1,"user_id":21181392,"display_name":"adshdsa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680286712,"creation_date":1680286712,"answer_id":75901593,"question_id":75858709,"body_markdown":"The answer is simple: I forgot to add JDBC to project libraries. Thanks.","title":"Java JDBC: Driver can&#39;t get connection to database","body":"<p>The answer is simple: I forgot to add JDBC to project libraries. Thanks.</p>\n"}],"owner":{"account_id":27745867,"reputation":1,"user_id":21181392,"display_name":"adshdsa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680286712,"creation_date":1679938321,"question_id":75858709,"body_markdown":"I am getting this error and I don&#39;t know how to fix it.\r\n\r\nMy code:\r\n```\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\n\r\npublic class Main {\r\npublic static void main(String[] args) {\r\n        Connection c = null;\r\n\r\n        try {\r\n            Class.forName(&quot;org.sqlite.JDBC&quot;);\r\n            c = DriverManager.getConnection(&quot;jdbc:sqlite:test.db&quot;);\r\n        } catch ( Exception e ) {\r\n            System.err.println( e.getClass().getName() + &quot;: &quot; + e.getMessage() );\r\n            System.exit(0);\r\n        }\r\n        System.out.println(&quot;Opened database successfully&quot;);\r\n}\r\n```\r\n\r\nHere is list of all the errors appeared in the console:\r\n```\r\nError:(28, 1) java: org.sqlite.Stmt is not abstract and does not override abstract method isCloseOnCompletion() in java.sql.Statement\r\n\r\nError:(45, 21) java: incompatible types: org.sqlite.core.DB cannot be converted to org.sqlite.DB\r\n\r\nError:(158, 25) java: incompatible types: org.sqlite.DB cannot be converted to org.sqlite.core.DB\r\n\r\nError:(214, 25) java: incompatible types: org.sqlite.DB cannot be converted to org.sqlite.core.DB\r\n\r\nError:(42, 7) java: org.sqlite.RS is not abstract and does not override abstract method &lt;T&gt;getObject(java.lang.String,java.lang.Class&lt;T&gt;) in java.sql.ResultSet\r\n\r\nError:(34, 1) java: org.sqlite.MetaData is not abstract and does not override abstract method generatedKeyAlwaysReturned() in java.sql.DatabaseMetaData\r\n\r\nError:(35, 7) java: org.sqlite.PrepStmt is not abstract and does not override abstract method setNClob(int,java.io.Reader) in java.sql.PreparedStatement\r\n```\r\n\r\nAlso Stmt.java class is opening so I guess I get these errors because of it.\r\n\r\nI tried to add JDBC to project variables but it didn&#39;t work for me.","title":"Java JDBC: Driver can&#39;t get connection to database","body":"<p>I am getting this error and I don't know how to fix it.</p>\n<p>My code:</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\n\npublic class Main {\npublic static void main(String[] args) {\n        Connection c = null;\n\n        try {\n            Class.forName(&quot;org.sqlite.JDBC&quot;);\n            c = DriverManager.getConnection(&quot;jdbc:sqlite:test.db&quot;);\n        } catch ( Exception e ) {\n            System.err.println( e.getClass().getName() + &quot;: &quot; + e.getMessage() );\n            System.exit(0);\n        }\n        System.out.println(&quot;Opened database successfully&quot;);\n}\n</code></pre>\n<p>Here is list of all the errors appeared in the console:</p>\n<pre><code>Error:(28, 1) java: org.sqlite.Stmt is not abstract and does not override abstract method isCloseOnCompletion() in java.sql.Statement\n\nError:(45, 21) java: incompatible types: org.sqlite.core.DB cannot be converted to org.sqlite.DB\n\nError:(158, 25) java: incompatible types: org.sqlite.DB cannot be converted to org.sqlite.core.DB\n\nError:(214, 25) java: incompatible types: org.sqlite.DB cannot be converted to org.sqlite.core.DB\n\nError:(42, 7) java: org.sqlite.RS is not abstract and does not override abstract method &lt;T&gt;getObject(java.lang.String,java.lang.Class&lt;T&gt;) in java.sql.ResultSet\n\nError:(34, 1) java: org.sqlite.MetaData is not abstract and does not override abstract method generatedKeyAlwaysReturned() in java.sql.DatabaseMetaData\n\nError:(35, 7) java: org.sqlite.PrepStmt is not abstract and does not override abstract method setNClob(int,java.io.Reader) in java.sql.PreparedStatement\n</code></pre>\n<p>Also Stmt.java class is opening so I guess I get these errors because of it.</p>\n<p>I tried to add JDBC to project variables but it didn't work for me.</p>\n"},{"tags":["java","database","mapping","record","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1586178815,"post_id":61057659,"comment_id":108024301,"body_markdown":"1) I&#39;m not sure how MapStruct relates to your question here. 2) You&#39;ve already answered the part where you cannot cast. A `RecordMapperProvider` is a *generic, global* provider for *all* `RecordMapper` instances, not just the one you&#39;re interested in for a single query execution. The reason wyh you&#39;re getting the wrong data cannot be answered from the facts that you&#39;ve presented in your question so far. May I recommend to read this guide: https://stackoverflow.com/help/minimal-reproducible-example. It is difficult to see what you&#39;re trying to do and what exactly fails from your question so far","body":"1) I&#39;m not sure how MapStruct relates to your question here. 2) You&#39;ve already answered the part where you cannot cast. A <code>RecordMapperProvider</code> is a <i>generic, global</i> provider for <i>all</i> <code>RecordMapper</code> instances, not just the one you&#39;re interested in for a single query execution. The reason wyh you&#39;re getting the wrong data cannot be answered from the facts that you&#39;ve presented in your question so far. May I recommend to read this guide: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>. It is difficult to see what you&#39;re trying to do and what exactly fails from your question so far"},{"owner":{"account_id":3064089,"reputation":1969,"user_id":2596187,"display_name":"emazzotta"},"score":0,"creation_date":1586182701,"post_id":61057659,"comment_id":108026775,"body_markdown":"Sorry Lukas, I did some digging and it turns out in the end the issue I had was simply caused by performing a select with an asterisk instead of specifying the individual fields. Once I specified the fields, the POJO mapping works just fine. My problem is solved now.","body":"Sorry Lukas, I did some digging and it turns out in the end the issue I had was simply caused by performing a select with an asterisk instead of specifying the individual fields. Once I specified the fields, the POJO mapping works just fine. My problem is solved now."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1586247261,"post_id":61057659,"comment_id":108051030,"body_markdown":"Using an explicit asterisk will produce the columns in the order in which they&#39;re defined in the SQL table. If the generated code is not in sync with the SQL table, the generated order might not be correct, so jOOQ would be expecting a different order...","body":"Using an explicit asterisk will produce the columns in the order in which they&#39;re defined in the SQL table. If the generated code is not in sync with the SQL table, the generated order might not be correct, so jOOQ would be expecting a different order..."}],"answers":[{"tags":[],"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586170293,"creation_date":1586170293,"answer_id":61058106,"question_id":61057659,"body_markdown":"There is no support for Generics for mapping source and target as of now :\r\nhttps://github.com/mapstruct/mapstruct/issues/583\r\n\r\nExample wrokaround:\r\n\r\nhttps://github.com/mapstruct/mapstruct/issues/631\r\n\r\nYou need to use concrete classes when defining the mapper.","title":"Use Mapstruct as RecordMapper for JOOQ","body":"<p>There is no support for Generics for mapping source and target as of now :\n<a href=\"https://github.com/mapstruct/mapstruct/issues/583\" rel=\"nofollow noreferrer\">https://github.com/mapstruct/mapstruct/issues/583</a></p>\n\n<p>Example wrokaround:</p>\n\n<p><a href=\"https://github.com/mapstruct/mapstruct/issues/631\" rel=\"nofollow noreferrer\">https://github.com/mapstruct/mapstruct/issues/631</a></p>\n\n<p>You need to use concrete classes when defining the mapper.</p>\n"},{"tags":[],"owner":{"account_id":3064089,"reputation":1969,"user_id":2596187,"display_name":"emazzotta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1586421643,"creation_date":1586421643,"answer_id":61117162,"question_id":61057659,"body_markdown":"The question was a result of the problem described here: https://stackoverflow.com/questions/60926102/pojo-mapping-in-jooq-regardless-of-parameter-order\r\n\r\nBut it turns out that the problem can be solved without even needing any sort of mapper.\r\n\r\nProblem:\r\nIf JOOQ generates POJOs/Records/etc. based on a database which has the attributes of a table in a certain order, but the order of the attributes changes after JOOQ already generated the POJOs/Records/etc. it&#39;s possible that a `SELECT *` will not map the fields to the correct attributes in the POJOs \r\n\r\nE.g. The POJO `Language` has the attributes `country` and `language` and suddenly `Language` contains the table value of `country` in `Lanugage.getLanguage()` and the table value of `lanugage` in `Language.getCountry()`.\r\n\r\nThis issue can be solved by specifying an order (regardless what the actual order of the database fields are) in the `SELECT`-statement, like `SELECT language, country`.","title":"Use Mapstruct as RecordMapper for JOOQ","body":"<p>The question was a result of the problem described here: <a href=\"https://stackoverflow.com/questions/60926102/pojo-mapping-in-jooq-regardless-of-parameter-order\">POJO Mapping in JOOQ regardless of parameter order</a></p>\n\n<p>But it turns out that the problem can be solved without even needing any sort of mapper.</p>\n\n<p>Problem:\nIf JOOQ generates POJOs/Records/etc. based on a database which has the attributes of a table in a certain order, but the order of the attributes changes after JOOQ already generated the POJOs/Records/etc. it's possible that a <code>SELECT *</code> will not map the fields to the correct attributes in the POJOs </p>\n\n<p>E.g. The POJO <code>Language</code> has the attributes <code>country</code> and <code>language</code> and suddenly <code>Language</code> contains the table value of <code>country</code> in <code>Lanugage.getLanguage()</code> and the table value of <code>lanugage</code> in <code>Language.getCountry()</code>.</p>\n\n<p>This issue can be solved by specifying an order (regardless what the actual order of the database fields are) in the <code>SELECT</code>-statement, like <code>SELECT language, country</code>.</p>\n"},{"tags":[],"owner":{"account_id":1592881,"reputation":19,"user_id":3293405,"display_name":"Eric Riese"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680286577,"creation_date":1680286577,"answer_id":75901577,"question_id":61057659,"body_markdown":"I generated my Record classes and POJOs with jOOQ codegen and my minimal mapper just worked\r\n```java\r\n@Mapper\r\npublic interface FooMapper extends RecordMapper&lt;FooRecord, Foo&gt;, RecordUnmapper&lt;Foo, FooRecord&gt; {\r\n}\r\n```\r\nIt warns about unmapped fields, but you can suppress that with.\r\n```java\r\n@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\n```","title":"Use Mapstruct as RecordMapper for JOOQ","body":"<p>I generated my Record classes and POJOs with jOOQ codegen and my minimal mapper just worked</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface FooMapper extends RecordMapper&lt;FooRecord, Foo&gt;, RecordUnmapper&lt;Foo, FooRecord&gt; {\n}\n</code></pre>\n<p>It warns about unmapped fields, but you can suppress that with.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\n</code></pre>\n"}],"owner":{"account_id":3064089,"reputation":1969,"user_id":2596187,"display_name":"emazzotta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2060,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":61117162,"answer_count":3,"score":4,"last_activity_date":1680286577,"creation_date":1586168736,"question_id":61057659,"body_markdown":"I would like to implement my own `RecordMapper` and use Mapstruct to map the Record to the POJO. I don&#39;t quite understand how to accomplish this. I followed this part of the docs: https://www.jooq.org/doc/3.13/manual/sql-execution/fetching/pojos-with-recordmapper-provider/\r\n\r\nMy mapper looks like this:\r\n\r\n```\r\npublic class LanguageMapper&lt;R extends Record, E&gt; implements RecordMapper&lt;R, Language&gt; {\r\n\r\n  @Override\r\n  public Language map(R record) {\r\n    LanguageRecord languageRecord = (LanguageRecord) record;\r\n\r\n    // this is just an example, in the future this is the kind of mapping that would be performed automatically via mapstruct\r\n    return new Language(\r\n             languageRecord.getId(), \r\n             languageRecord.getNamespaceId(), \r\n             languageRecord.getLanguage(), \r\n             languageRecord.getCountryCode(), \r\n             languageRecord.getLanguageTag()\r\n    );\r\n  }\r\n}\r\n```\r\n\r\nThe issue is that as a `record` I&#39;m not actually getting a `LanguageRecord` but a `RecordImpl` of my language table and can thus not cast `record` to `LanguageRecord`. Any idea what I need to change?\r\n\r\nWhat&#39;s interesting when using the `RecordImpl` is, if I do something like this\r\n\r\n```\r\nrecord.get(LANGUAGE.LANGUAGE_TAG);\r\n```\r\n\r\nIt will already get the wrong information (it&#39;s getting the LANGUAGE.NAMESPACE_ID). Thus when getting it like this and then mapping it to the POJO it will be wrong as well.\r\n\r\n(Created this question based on this question https://stackoverflow.com/questions/60926102/pojo-mapping-in-jooq-regardless-of-parameter-order)","title":"Use Mapstruct as RecordMapper for JOOQ","body":"<p>I would like to implement my own <code>RecordMapper</code> and use Mapstruct to map the Record to the POJO. I don't quite understand how to accomplish this. I followed this part of the docs: <a href=\"https://www.jooq.org/doc/3.13/manual/sql-execution/fetching/pojos-with-recordmapper-provider/\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/3.13/manual/sql-execution/fetching/pojos-with-recordmapper-provider/</a></p>\n\n<p>My mapper looks like this:</p>\n\n<pre><code>public class LanguageMapper&lt;R extends Record, E&gt; implements RecordMapper&lt;R, Language&gt; {\n\n  @Override\n  public Language map(R record) {\n    LanguageRecord languageRecord = (LanguageRecord) record;\n\n    // this is just an example, in the future this is the kind of mapping that would be performed automatically via mapstruct\n    return new Language(\n             languageRecord.getId(), \n             languageRecord.getNamespaceId(), \n             languageRecord.getLanguage(), \n             languageRecord.getCountryCode(), \n             languageRecord.getLanguageTag()\n    );\n  }\n}\n</code></pre>\n\n<p>The issue is that as a <code>record</code> I'm not actually getting a <code>LanguageRecord</code> but a <code>RecordImpl</code> of my language table and can thus not cast <code>record</code> to <code>LanguageRecord</code>. Any idea what I need to change?</p>\n\n<p>What's interesting when using the <code>RecordImpl</code> is, if I do something like this</p>\n\n<pre><code>record.get(LANGUAGE.LANGUAGE_TAG);\n</code></pre>\n\n<p>It will already get the wrong information (it's getting the LANGUAGE.NAMESPACE_ID). Thus when getting it like this and then mapping it to the POJO it will be wrong as well.</p>\n\n<p>(Created this question based on this question <a href=\"https://stackoverflow.com/questions/60926102/pojo-mapping-in-jooq-regardless-of-parameter-order\">POJO Mapping in JOOQ regardless of parameter order</a>)</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1679432262,"post_id":75806145,"comment_id":133720881,"body_markdown":"I don&#39;t think you&#39;re setting the boolean values correctly. You have to use an if statement and inside the if statement you have to set the boolean values. If the cell is empty then you set the variable to true or false.","body":"I don&#39;t think you&#39;re setting the boolean values correctly. You have to use an if statement and inside the if statement you have to set the boolean values. If the cell is empty then you set the variable to true or false."},{"owner":{"account_id":19522308,"reputation":1725,"user_id":14283885,"display_name":"Chris G"},"score":0,"creation_date":1679483055,"post_id":75806145,"comment_id":133728897,"body_markdown":"@AliasCartellano they do print true or false tho","body":"@AliasCartellano they do print true or false tho"},{"owner":{"account_id":19522308,"reputation":1725,"user_id":14283885,"display_name":"Chris G"},"score":0,"creation_date":1679485912,"post_id":75806145,"comment_id":133729642,"body_markdown":"I just realized after making a few more test that my condition actually works and it reads the `continue;` line inside the if statement but the code inserts the null data inside my `arrayList` anyway which is why I&#39;m having issues","body":"I just realized after making a few more test that my condition actually works and it reads the <code>continue;</code> line inside the if statement but the code inserts the null data inside my <code>arrayList</code> anyway which is why I&#39;m having issues"}],"answers":[{"tags":[],"owner":{"account_id":19522308,"reputation":1725,"user_id":14283885,"display_name":"Chris G"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679493198,"creation_date":1679493198,"answer_id":75813157,"question_id":75806145,"body_markdown":"Fixed my issue, posting the answer in case it helps someone else. I noticed that my condition was ok and that it went inside my if statement but after the continue it kept saving null values in my `arrayList`\r\n\r\n    /*-------------IMPORT Rutas----------*/\r\n        public String processImportRutas(MultipartFile fileDocument, long loggedUserId) {\r\n            JSONObject jsonObject = new JSONObject();\r\n            jsonObject.put(&quot;error&quot;, &quot;&quot;);\r\n            ArrayList&lt;RutasImportDto&gt; arrayList = new ArrayList&lt;&gt;();\r\n            try {\r\n                XSSFWorkbook workbook = new XSSFWorkbook(fileDocument.getInputStream());\r\n                XSSFSheet sheet = workbook.getSheetAt(0);\r\n                DataFormatter formater = new DataFormatter();\r\n                int rowCount = 1;\r\n                RutasImportDto dto;\r\n    \r\n                for (Row row : sheet) {\r\n                    dto = new RutasImportDto();\r\n                    if (rowCount &lt; 4) {\r\n                        rowCount++;\r\n                        continue;\r\n                    }\r\n                    if (rowCount == 4) {\r\n                        Cell cell = row.getCell(0);\r\n                        if (cell == null) {\r\n                            continue;\r\n                        }\r\n                        if (formater.formatCellValue(cell).equalsIgnoreCase(&quot;N&#186; DE PLANTA&quot;)) {\r\n                            // si la el encabezado interpreta que est&#225; en la fila 4\r\n                            // aumentamos el rowCount para ajustar los n&#250;meros de filas\r\n                            rowCount++;\r\n                            continue;// for Row...\r\n                        }\r\n    \r\n                    }\r\n                    int nullCounter = 0;//se inicializa null counter\r\n                    for (int i = 0; i &lt; 4; i++) {\r\n                        //obtener valor de celda y variables para validar si vienen con datos vacios\r\n                        Cell cell = row.getCell(i, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\r\n                        boolean isBlankCell = CellType.BLANK == cell.getCellTypeEnum();\r\n                        boolean isEmptyStringCell = CellType.STRING == cell.getCellTypeEnum() &amp;&amp; cell.getStringCellValue().trim().isEmpty(); \r\n                        \r\n                        //si viene vacio, aumentar contador y pasar a sgte celda\r\n                        if (cell == null || isBlankCell || isEmptyStringCell) {\r\n                            nullCounter++;\r\n                            //si celda esta vacia, continuar con la iteracion\r\n                            continue;\r\n                        } \r\n                        //si no, guardar datos para luego almacenar en arraylist\r\n                        switch (i) {\r\n                            case 0:\r\n                                dto.setPlantNumber(formater.formatCellValue(cell));\r\n                            break;\r\n                            case 1:\r\n                                dto.setUserId(formater.formatCellValue(cell));\r\n                            break;\r\n                            case 2:\r\n                                dto.setStartDay(formater.formatCellValue(cell));\r\n                            break;\r\n                            case 3:\r\n                                dto.setHour(formater.formatCellValue(cell));\r\n                            break;\r\n                            default:\r\n                            break;\r\n                        }\r\n                        \r\n                    }\r\n                    //si las 4 columnas de la fila son null, no guardar datos en arraylist\r\n                    if(nullCounter==4){\r\n                        //log.info(&quot;fila completamente vacia no se agregan datos a arrayList en fila: {}&quot;, rowCount);\r\n                    } else {\r\n                        dto.setRow(rowCount);\r\n                        arrayList.add(dto);\r\n                    }\r\n                    rowCount++;\r\n                }\r\n                jsonObject = persistImportRutas(arrayList, loggedUserId);\r\n                // log.info(&quot;***** arrayList &quot;+ arrayList);\r\n            } catch (Throwable th) {\r\n                jsonObject.put(&quot;error&quot;, th.getMessage()).toString();\r\n                log.error(&quot;processImportRutas : &quot; + th.getMessage());\r\n                log.debug(&quot;processImportRutas : &quot; + th.getMessage(), th);\r\n            }\r\n            // log.info(&quot;***** jsonObject.toString &quot;+ jsonObject.toString());\r\n            return jsonObject.toString();\r\n        }\r\n\r\nSo I added this `int nullCounter = 0;` a null counter that resets every time it iterates thru my 4 columns and goes for the next row. Everytime my condition is true and the cell values are empty or null I increase that counter then `continue;`.\r\n\r\n    if (cell == null || isBlankCell || isEmptyStringCell) {\r\n        nullCounter++;\r\n        //si celda esta vacia, continuar con la iteracion\r\n        continue;\r\n    } \r\nThe max number that counter can reach before it resets its 4, if it reaches 4 then that means that all 4 columns in that row were null or empty so instead of just adding the data to my arrayList I make another condition and check if that counter equals 4. If the condition is true then ignores the data and continues iterating, else, add the data to my arrayList `arrayList.add(dto);`\r\n\r\n\r\n    if(nullCounter==4){\r\n         //log.info(&quot;fila completamente vacia no se agregan datos a arrayList en fila: {}&quot;, rowCount);\r\n    } else {\r\n         dto.setRow(rowCount);\r\n         arrayList.add(dto);\r\n    }\r\n    rowCount++;\r\n\r\nand That finally solved the problem","title":"Check if cell value is empty or null with Apache POI?","body":"<p>Fixed my issue, posting the answer in case it helps someone else. I noticed that my condition was ok and that it went inside my if statement but after the continue it kept saving null values in my <code>arrayList</code></p>\n<pre><code>/*-------------IMPORT Rutas----------*/\n    public String processImportRutas(MultipartFile fileDocument, long loggedUserId) {\n        JSONObject jsonObject = new JSONObject();\n        jsonObject.put(&quot;error&quot;, &quot;&quot;);\n        ArrayList&lt;RutasImportDto&gt; arrayList = new ArrayList&lt;&gt;();\n        try {\n            XSSFWorkbook workbook = new XSSFWorkbook(fileDocument.getInputStream());\n            XSSFSheet sheet = workbook.getSheetAt(0);\n            DataFormatter formater = new DataFormatter();\n            int rowCount = 1;\n            RutasImportDto dto;\n\n            for (Row row : sheet) {\n                dto = new RutasImportDto();\n                if (rowCount &lt; 4) {\n                    rowCount++;\n                    continue;\n                }\n                if (rowCount == 4) {\n                    Cell cell = row.getCell(0);\n                    if (cell == null) {\n                        continue;\n                    }\n                    if (formater.formatCellValue(cell).equalsIgnoreCase(&quot;Nº DE PLANTA&quot;)) {\n                        // si la el encabezado interpreta que está en la fila 4\n                        // aumentamos el rowCount para ajustar los números de filas\n                        rowCount++;\n                        continue;// for Row...\n                    }\n\n                }\n                int nullCounter = 0;//se inicializa null counter\n                for (int i = 0; i &lt; 4; i++) {\n                    //obtener valor de celda y variables para validar si vienen con datos vacios\n                    Cell cell = row.getCell(i, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\n                    boolean isBlankCell = CellType.BLANK == cell.getCellTypeEnum();\n                    boolean isEmptyStringCell = CellType.STRING == cell.getCellTypeEnum() &amp;&amp; cell.getStringCellValue().trim().isEmpty(); \n                    \n                    //si viene vacio, aumentar contador y pasar a sgte celda\n                    if (cell == null || isBlankCell || isEmptyStringCell) {\n                        nullCounter++;\n                        //si celda esta vacia, continuar con la iteracion\n                        continue;\n                    } \n                    //si no, guardar datos para luego almacenar en arraylist\n                    switch (i) {\n                        case 0:\n                            dto.setPlantNumber(formater.formatCellValue(cell));\n                        break;\n                        case 1:\n                            dto.setUserId(formater.formatCellValue(cell));\n                        break;\n                        case 2:\n                            dto.setStartDay(formater.formatCellValue(cell));\n                        break;\n                        case 3:\n                            dto.setHour(formater.formatCellValue(cell));\n                        break;\n                        default:\n                        break;\n                    }\n                    \n                }\n                //si las 4 columnas de la fila son null, no guardar datos en arraylist\n                if(nullCounter==4){\n                    //log.info(&quot;fila completamente vacia no se agregan datos a arrayList en fila: {}&quot;, rowCount);\n                } else {\n                    dto.setRow(rowCount);\n                    arrayList.add(dto);\n                }\n                rowCount++;\n            }\n            jsonObject = persistImportRutas(arrayList, loggedUserId);\n            // log.info(&quot;***** arrayList &quot;+ arrayList);\n        } catch (Throwable th) {\n            jsonObject.put(&quot;error&quot;, th.getMessage()).toString();\n            log.error(&quot;processImportRutas : &quot; + th.getMessage());\n            log.debug(&quot;processImportRutas : &quot; + th.getMessage(), th);\n        }\n        // log.info(&quot;***** jsonObject.toString &quot;+ jsonObject.toString());\n        return jsonObject.toString();\n    }\n</code></pre>\n<p>So I added this <code>int nullCounter = 0;</code> a null counter that resets every time it iterates thru my 4 columns and goes for the next row. Everytime my condition is true and the cell values are empty or null I increase that counter then <code>continue;</code>.</p>\n<pre><code>if (cell == null || isBlankCell || isEmptyStringCell) {\n    nullCounter++;\n    //si celda esta vacia, continuar con la iteracion\n    continue;\n} \n</code></pre>\n<p>The max number that counter can reach before it resets its 4, if it reaches 4 then that means that all 4 columns in that row were null or empty so instead of just adding the data to my arrayList I make another condition and check if that counter equals 4. If the condition is true then ignores the data and continues iterating, else, add the data to my arrayList <code>arrayList.add(dto);</code></p>\n<pre><code>if(nullCounter==4){\n     //log.info(&quot;fila completamente vacia no se agregan datos a arrayList en fila: {}&quot;, rowCount);\n} else {\n     dto.setRow(rowCount);\n     arrayList.add(dto);\n}\nrowCount++;\n</code></pre>\n<p>and That finally solved the problem</p>\n"},{"tags":[],"owner":{"display_name":"user21538194"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680285128,"creation_date":1680285128,"answer_id":75901387,"question_id":75806145,"body_markdown":"Make a counter, increase inside condition. Then if counter is 4 do nothing else save data in array\r\n```\r\nif(nullCounter==4){\r\n     //log.info(&quot;fila completamente vacia no se agregan datos a arrayList en fila: {}&quot;, rowCount);\r\n} else {\r\n     dto.setRow(rowCount);\r\n     arrayList.add(dto);\r\n}\r\nrowCount++;\r\n```\r\n\r\n","title":"Check if cell value is empty or null with Apache POI?","body":"<p>Make a counter, increase inside condition. Then if counter is 4 do nothing else save data in array</p>\n<pre><code>if(nullCounter==4){\n     //log.info(&quot;fila completamente vacia no se agregan datos a arrayList en fila: {}&quot;, rowCount);\n} else {\n     dto.setRow(rowCount);\n     arrayList.add(dto);\n}\nrowCount++;\n</code></pre>\n"}],"owner":{"account_id":19522308,"reputation":1725,"user_id":14283885,"display_name":"Chris G"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75901387,"answer_count":2,"score":0,"last_activity_date":1680285128,"creation_date":1679431140,"question_id":75806145,"body_markdown":"I have the following method in java\r\n\r\n    /*-------------IMPORT Rutas----------*/\r\n        public String processImportRutas(MultipartFile fileDocument, long loggedUserId) {\r\n            JSONObject jsonObject = new JSONObject();\r\n            jsonObject.put(&quot;error&quot;, &quot;&quot;);\r\n            ArrayList&lt;RutasImportDto&gt; arrayList = new ArrayList&lt;&gt;();\r\n            try {\r\n                XSSFWorkbook workbook = new XSSFWorkbook(fileDocument.getInputStream());\r\n                XSSFSheet sheet = workbook.getSheetAt(0);\r\n                DataFormatter formater = new DataFormatter();\r\n                int rowCount = 1;\r\n                RutasImportDto dto;\r\n    \r\n                for (Row row : sheet) {\r\n                    dto = new RutasImportDto();\r\n                    if (rowCount &lt; 4) {\r\n                        rowCount++;\r\n                        continue;\r\n                    }\r\n                    if (rowCount == 4) {\r\n                        Cell cell = row.getCell(0);\r\n                        if (cell == null) {\r\n                            continue;\r\n                        }\r\n                        if (formater.formatCellValue(cell).equalsIgnoreCase(&quot;N&#186; DE PLANTA&quot;)) {\r\n                            // si la el encabezado interpreta que est&#225; en la fila 4\r\n                            // aumentamos el rowCount para ajustar los n&#250;meros de filas\r\n                            rowCount++;\r\n                            continue;// for Row...\r\n                        }\r\n    \r\n                    }\r\n                    for (int i = 0; i &lt; 4; i++) {\r\n                        Cell cell = row.getCell(i, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\r\n                        boolean isBlankCell = CellType.BLANK == cell.getCellTypeEnum();\r\n                        boolean isEmptyStringCell = CellType.STRING == cell.getCellTypeEnum() &amp;&amp; cell.getStringCellValue().trim().isEmpty(); \r\n                        //condition is ignored\r\n                        if (cell == null || isBlankCell || isEmptyStringCell) {\r\n                            continue;\r\n                        }\r\n    \r\n                        //log.info(&quot;celda valor: {}&quot;,cell);\r\n                        // if (cell == null || cell.getCellTypeEnum() == CellType.BLANK) {\r\n                        //     continue;\r\n                        // }\r\n                        switch (i) {\r\n                            case 0:\r\n                                dto.setPlantNumber(formater.formatCellValue(cell));\r\n                                break;\r\n                            case 1:\r\n                                dto.setUserId(formater.formatCellValue(cell));\r\n                                break;\r\n                            case 2:\r\n                                dto.setStartDay(formater.formatCellValue(cell));\r\n                                break;\r\n                            case 3:\r\n                                dto.setHour(formater.formatCellValue(cell));\r\n                                break;\r\n                            default:\r\n                                break;\r\n                        }\r\n                    }\r\n                    dto.setRow(rowCount);\r\n                    arrayList.add(dto);\r\n                    rowCount++;\r\n                }\r\n                jsonObject = persistImportRutas(arrayList, loggedUserId);\r\n                // log.info(&quot;***** arrayList &quot;+ arrayList);\r\n            } catch (Throwable th) {\r\n                jsonObject.put(&quot;error&quot;, th.getMessage()).toString();\r\n                log.error(&quot;processImportRutas : &quot; + th.getMessage());\r\n                log.debug(&quot;processImportRutas : &quot; + th.getMessage(), th);\r\n            }\r\n            // log.info(&quot;***** jsonObject.toString &quot;+ jsonObject.toString());\r\n            return jsonObject.toString();\r\n        }\r\n\r\nMy code reads 4 columns \r\n\r\n`1-` plantnumber \r\n\r\n`2-` userId\r\n\r\n`3-` startDay\r\n\r\n`4-` Hour\r\n\r\nIf all 4 columns are empty the code should ignore the row and read the next one, if they have value then it should store values in an `ArrayList` for further validations/instructions.\r\n\r\nI&#39;m trying to make it so that when I upload my excel file, it ignores rows that are empty or null and continue with the loop but it completely ignores my condition and returns a bunch of errors messages\r\n\r\nI followed the answers from [this](https://stackoverflow.com/questions/15764417/how-to-check-if-an-excel-cell-is-empty-using-apache-poi) other question but nothing in there seems to work for me \r\n\r\n    Cell cell = row.getCell(i, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\r\n    boolean isBlankCell = CellType.BLANK == cell.getCellTypeEnum();\r\n    boolean isEmptyStringCell = CellType.STRING == cell.getCellTypeEnum() &amp;&amp; cell.getStringCellValue().trim().isEmpty(); \r\n    //condition is ignored\r\n    if (cell == null || isBlankCell || isEmptyStringCell) {\r\n       continue;\r\n    }\r\n\r\nIn this method `persistImportRutas` is where I make other validations with the data I got from the cells and return error msgs if data is null/empty or not valid and insert in my DB the ones that are valid but the problem is that my code is not ignoring the rows that are empty or null and it tries to validate the cell values and returns error cuz of it. My Apache POI version is `3.17`","title":"Check if cell value is empty or null with Apache POI?","body":"<p>I have the following method in java</p>\n<pre><code>/*-------------IMPORT Rutas----------*/\n    public String processImportRutas(MultipartFile fileDocument, long loggedUserId) {\n        JSONObject jsonObject = new JSONObject();\n        jsonObject.put(&quot;error&quot;, &quot;&quot;);\n        ArrayList&lt;RutasImportDto&gt; arrayList = new ArrayList&lt;&gt;();\n        try {\n            XSSFWorkbook workbook = new XSSFWorkbook(fileDocument.getInputStream());\n            XSSFSheet sheet = workbook.getSheetAt(0);\n            DataFormatter formater = new DataFormatter();\n            int rowCount = 1;\n            RutasImportDto dto;\n\n            for (Row row : sheet) {\n                dto = new RutasImportDto();\n                if (rowCount &lt; 4) {\n                    rowCount++;\n                    continue;\n                }\n                if (rowCount == 4) {\n                    Cell cell = row.getCell(0);\n                    if (cell == null) {\n                        continue;\n                    }\n                    if (formater.formatCellValue(cell).equalsIgnoreCase(&quot;Nº DE PLANTA&quot;)) {\n                        // si la el encabezado interpreta que está en la fila 4\n                        // aumentamos el rowCount para ajustar los números de filas\n                        rowCount++;\n                        continue;// for Row...\n                    }\n\n                }\n                for (int i = 0; i &lt; 4; i++) {\n                    Cell cell = row.getCell(i, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\n                    boolean isBlankCell = CellType.BLANK == cell.getCellTypeEnum();\n                    boolean isEmptyStringCell = CellType.STRING == cell.getCellTypeEnum() &amp;&amp; cell.getStringCellValue().trim().isEmpty(); \n                    //condition is ignored\n                    if (cell == null || isBlankCell || isEmptyStringCell) {\n                        continue;\n                    }\n\n                    //log.info(&quot;celda valor: {}&quot;,cell);\n                    // if (cell == null || cell.getCellTypeEnum() == CellType.BLANK) {\n                    //     continue;\n                    // }\n                    switch (i) {\n                        case 0:\n                            dto.setPlantNumber(formater.formatCellValue(cell));\n                            break;\n                        case 1:\n                            dto.setUserId(formater.formatCellValue(cell));\n                            break;\n                        case 2:\n                            dto.setStartDay(formater.formatCellValue(cell));\n                            break;\n                        case 3:\n                            dto.setHour(formater.formatCellValue(cell));\n                            break;\n                        default:\n                            break;\n                    }\n                }\n                dto.setRow(rowCount);\n                arrayList.add(dto);\n                rowCount++;\n            }\n            jsonObject = persistImportRutas(arrayList, loggedUserId);\n            // log.info(&quot;***** arrayList &quot;+ arrayList);\n        } catch (Throwable th) {\n            jsonObject.put(&quot;error&quot;, th.getMessage()).toString();\n            log.error(&quot;processImportRutas : &quot; + th.getMessage());\n            log.debug(&quot;processImportRutas : &quot; + th.getMessage(), th);\n        }\n        // log.info(&quot;***** jsonObject.toString &quot;+ jsonObject.toString());\n        return jsonObject.toString();\n    }\n</code></pre>\n<p>My code reads 4 columns</p>\n<p><code>1-</code> plantnumber</p>\n<p><code>2-</code> userId</p>\n<p><code>3-</code> startDay</p>\n<p><code>4-</code> Hour</p>\n<p>If all 4 columns are empty the code should ignore the row and read the next one, if they have value then it should store values in an <code>ArrayList</code> for further validations/instructions.</p>\n<p>I'm trying to make it so that when I upload my excel file, it ignores rows that are empty or null and continue with the loop but it completely ignores my condition and returns a bunch of errors messages</p>\n<p>I followed the answers from <a href=\"https://stackoverflow.com/questions/15764417/how-to-check-if-an-excel-cell-is-empty-using-apache-poi\">this</a> other question but nothing in there seems to work for me</p>\n<pre><code>Cell cell = row.getCell(i, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\nboolean isBlankCell = CellType.BLANK == cell.getCellTypeEnum();\nboolean isEmptyStringCell = CellType.STRING == cell.getCellTypeEnum() &amp;&amp; cell.getStringCellValue().trim().isEmpty(); \n//condition is ignored\nif (cell == null || isBlankCell || isEmptyStringCell) {\n   continue;\n}\n</code></pre>\n<p>In this method <code>persistImportRutas</code> is where I make other validations with the data I got from the cells and return error msgs if data is null/empty or not valid and insert in my DB the ones that are valid but the problem is that my code is not ignoring the rows that are empty or null and it tries to validate the cell values and returns error cuz of it. My Apache POI version is <code>3.17</code></p>\n"},{"tags":["java","discord-jda"],"comments":[{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1679746563,"post_id":75839515,"comment_id":133778137,"body_markdown":"&quot;because the boolean will always be true if the user is in the audio channel.&quot; isn&#39;t that exactly what you want?","body":"&quot;because the boolean will always be true if the user is in the audio channel.&quot; isn&#39;t that exactly what you want?"},{"owner":{"account_id":25110546,"reputation":25,"user_id":18960242,"display_name":"Yago Andrade"},"score":0,"creation_date":1679749753,"post_id":75839515,"comment_id":133778574,"body_markdown":"I wanted to get the voice state from the bot, if the bot is already in a channel, it must not join any other one. When i use if (voiceState.inAudioChannel()), the bot won&#39;t join because the boolean is related to the user, not the bot itself","body":"I wanted to get the voice state from the bot, if the bot is already in a channel, it must not join any other one. When i use if (voiceState.inAudioChannel()), the bot won&#39;t join because the boolean is related to the user, not the bot itself"},{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1679751642,"post_id":75839515,"comment_id":133778831,"body_markdown":"That&#39;s weird because it gets the voice state from the self `Member` which is guild scoped.","body":"That&#39;s weird because it gets the voice state from the self <code>Member</code> which is guild scoped."}],"answers":[{"tags":[],"owner":{"account_id":25110546,"reputation":25,"user_id":18960242,"display_name":"Yago Andrade"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680284694,"creation_date":1680284694,"answer_id":75901340,"question_id":75839515,"body_markdown":"I managed to do it by creating a flag &quot;joined&quot; and a counter.\r\n\r\n```\r\n    private static boolean joined;\r\n    private static int counter;\r\n\r\npublic static void joinVoiceChannel(TextChannel channel, GuildVoiceState voiceState, Guild guild) {\r\n if (voiceState.inAudioChannel()) {\r\n\r\n            net.dv8tion.jda.api.managers.AudioManager audioManager = guild.getAudioManager();\r\n            audioManager.openAudioConnection(audioChannel);\r\n            channel.sendMessage(&quot;Joining voice channel: &quot; + audioChannel.getName()).queue();\r\n            joined = true;\r\n            counter += 1 ;\r\n        }\r\n\r\n        if (joined &amp; counter == 2) {\r\n            channel.sendMessage(&quot;I&#39;m already in the voice channel&quot;).queue();\r\n            counter = 0;\r\n        }\r\n    }\r\n```\r\n\r\nBasically, when Join command is triggered, the flag turns true and counter receives 1. If triggered again, the counter will become 2, the bot won&#39;t join and then reset both the flag and the counter.","title":"Can&#39;t make my discord bot check if it&#39;s already in a voice channel","body":"<p>I managed to do it by creating a flag &quot;joined&quot; and a counter.</p>\n<pre><code>    private static boolean joined;\n    private static int counter;\n\npublic static void joinVoiceChannel(TextChannel channel, GuildVoiceState voiceState, Guild guild) {\n if (voiceState.inAudioChannel()) {\n\n            net.dv8tion.jda.api.managers.AudioManager audioManager = guild.getAudioManager();\n            audioManager.openAudioConnection(audioChannel);\n            channel.sendMessage(&quot;Joining voice channel: &quot; + audioChannel.getName()).queue();\n            joined = true;\n            counter += 1 ;\n        }\n\n        if (joined &amp; counter == 2) {\n            channel.sendMessage(&quot;I'm already in the voice channel&quot;).queue();\n            counter = 0;\n        }\n    }\n</code></pre>\n<p>Basically, when Join command is triggered, the flag turns true and counter receives 1. If triggered again, the counter will become 2, the bot won't join and then reset both the flag and the counter.</p>\n"}],"owner":{"account_id":25110546,"reputation":25,"user_id":18960242,"display_name":"Yago Andrade"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75901340,"answer_count":1,"score":0,"last_activity_date":1680284694,"creation_date":1679715018,"question_id":75839515,"body_markdown":"I&#39;m coding a Discord Bot using JDA and i&#39;m coding some audio stuff. I&#39;ve already written all necessary classes regarding audio setups and commands. I have a play, join, skip and leave commands that work just fine, but I can&#39;t seem to figure out a way to make the bot check if it&#39;s already connected to a voice channel in the join method, i.e. when i first use the join command, it joins, but in the second try (even if the bot has already joined) it will say the same thing.\r\n\r\n\r\n```\r\n public static void joinVoiceChannel(TextChannel channel, Guild guild) {\r\n        GuildVoiceState voiceState = guild.getSelfMember().getVoiceState();\r\n\r\n        if (!voiceState.inAudioChannel()) {\r\n            channel.sendMessage(&quot;You must be in a voice channel to use this command.&quot;).queue();\r\n            return;\r\n        }\r\n\r\n        AudioChannel audioChannel = voiceState.getChannel();\r\n\r\n        if (audioChannel == null) {\r\n            channel.sendMessage(&quot;Failed to join voice channel.&quot;).queue();\r\n            return;\r\n        }\r\n\r\n        net.dv8tion.jda.api.managers.AudioManager audioManager = guild.getAudioManager();\r\n        audioManager.openAudioConnection(audioChannel);\r\n        channel.sendMessage(&quot;Joined voice channel: &quot; + audioChannel.getName()).queue();\r\n    }\r\n```\r\n\r\n\r\n\r\nI&#39;ve elaborated my thoughts around something like:  \r\n```\r\nif (voiceState.inAudioChannel()) {\r\n        channel.sendMessage(&quot;I&#39;m already in a voice channel!&quot;).queue();\r\n        return;\r\n```\r\nbut it just doesn&#39;t make any sense, because the boolean will always be true if the user is in the audio channel.","title":"Can&#39;t make my discord bot check if it&#39;s already in a voice channel","body":"<p>I'm coding a Discord Bot using JDA and i'm coding some audio stuff. I've already written all necessary classes regarding audio setups and commands. I have a play, join, skip and leave commands that work just fine, but I can't seem to figure out a way to make the bot check if it's already connected to a voice channel in the join method, i.e. when i first use the join command, it joins, but in the second try (even if the bot has already joined) it will say the same thing.</p>\n<pre><code> public static void joinVoiceChannel(TextChannel channel, Guild guild) {\n        GuildVoiceState voiceState = guild.getSelfMember().getVoiceState();\n\n        if (!voiceState.inAudioChannel()) {\n            channel.sendMessage(&quot;You must be in a voice channel to use this command.&quot;).queue();\n            return;\n        }\n\n        AudioChannel audioChannel = voiceState.getChannel();\n\n        if (audioChannel == null) {\n            channel.sendMessage(&quot;Failed to join voice channel.&quot;).queue();\n            return;\n        }\n\n        net.dv8tion.jda.api.managers.AudioManager audioManager = guild.getAudioManager();\n        audioManager.openAudioConnection(audioChannel);\n        channel.sendMessage(&quot;Joined voice channel: &quot; + audioChannel.getName()).queue();\n    }\n</code></pre>\n<p>I've elaborated my thoughts around something like:</p>\n<pre><code>if (voiceState.inAudioChannel()) {\n        channel.sendMessage(&quot;I'm already in a voice channel!&quot;).queue();\n        return;\n</code></pre>\n<p>but it just doesn't make any sense, because the boolean will always be true if the user is in the audio channel.</p>\n"},{"tags":["java","github-actions"],"comments":[{"owner":{"account_id":3959308,"reputation":47390,"user_id":3266847,"accept_rate":100,"display_name":"Benjamin W."},"score":2,"creation_date":1680291484,"post_id":75901304,"comment_id":133879516,"body_markdown":"&quot;Environment secrets&quot; doesn&#39;t mean &quot;these secrets are set in the environment&quot;, it&#39;s &quot;[these secrets are only available in workflow jobs that reference this specific environment](https://docs.github.com/en/actions/deployment/targeting-different-environments/using-environments-for-deployment#environment-secrets)&quot;. You have to reference them in any case using the [`secrets` context](https://docs.github.com/en/actions/learn-github-actions/contexts#secrets-context), for example via `${{ secrets.TEST_PASSWORD }}`. For more specific advice, you have to show the relevant part of your workflow file.","body":"&quot;Environment secrets&quot; doesn&#39;t mean &quot;these secrets are set in the environment&quot;, it&#39;s &quot;<a href=\"https://docs.github.com/en/actions/deployment/targeting-different-environments/using-environments-for-deployment#environment-secrets\" rel=\"nofollow noreferrer\">these secrets are only available in workflow jobs that reference this specific environment</a>&quot;. You have to reference them in any case using the <a href=\"https://docs.github.com/en/actions/learn-github-actions/contexts#secrets-context\" rel=\"nofollow noreferrer\"><code>secrets</code> context</a>, for example via <code>${{ secrets.TEST_PASSWORD }}</code>. For more specific advice, you have to show the relevant part of your workflow file."},{"owner":{"account_id":4845455,"reputation":3888,"user_id":3909198,"accept_rate":86,"display_name":"inquisitive"},"score":0,"creation_date":1687789084,"post_id":75901304,"comment_id":134981861,"body_markdown":"If I want to access these values in code? eg - I want to access GITHUB_RUN_ATTEMPT and GITHUB_RUN_ID inside code where I use this to create a unique queue name along with uuid @BenjaminW.","body":"If I want to access these values in code? eg - I want to access GITHUB_RUN_ATTEMPT and GITHUB_RUN_ID inside code where I use this to create a unique queue name along with uuid @BenjaminW."},{"owner":{"account_id":3959308,"reputation":47390,"user_id":3266847,"accept_rate":100,"display_name":"Benjamin W."},"score":0,"creation_date":1687790114,"post_id":75901304,"comment_id":134982100,"body_markdown":"Those *are* environment variables, and they&#39;re accessible as `$GITHUB_RUN_ATTEMPT` and `$GITHUB_RUN_ID`, or in the `github` context as `${{ github.run_id }}` and `${{ github.run_attempt }}`. That&#39;s different from accessing secrets.","body":"Those <i>are</i> environment variables, and they&#39;re accessible as <code>$GITHUB_RUN_ATTEMPT</code> and <code>$GITHUB_RUN_ID</code>, or in the <code>github</code> context as <code>${{ github.run_id }}</code> and <code>${{ github.run_attempt }}</code>. That&#39;s different from accessing secrets."}],"owner":{"account_id":20683611,"reputation":1187,"user_id":15186569,"display_name":"ThrowsError"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680284400,"creation_date":1680284400,"question_id":75901304,"body_markdown":"## Introduction\r\n\r\nCurrently, I&#39;m trying to develop a project that connects to a website.\r\nThis project uses Java with Playwright.\r\n\r\nAnd I store the login and password in the environment variable.\r\n\r\nThese credentials are used to execute the tests of the project.\r\n\r\nTo store these variable to GitHub Action I used this:\r\n\r\n[![Environement variable of the GitHub repositry][1]][1]\r\n\r\n## Problem\r\n\r\nWhen I execute the tests locally I don&#39;t have any problem, but when I execute the tests in GitHub Actions they didn&#39;t have any variable environment.\r\n\r\n## Question\r\n\r\nDoes someone know how we can use [`System::getenv`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getenv(java.lang.String)) with GitHub Action ?\r\n\r\n  [1]: https://i.stack.imgur.com/qRCDq.png","title":"Access env variable with Java and Github Action","body":"<h2>Introduction</h2>\n<p>Currently, I'm trying to develop a project that connects to a website.\nThis project uses Java with Playwright.</p>\n<p>And I store the login and password in the environment variable.</p>\n<p>These credentials are used to execute the tests of the project.</p>\n<p>To store these variable to GitHub Action I used this:</p>\n<p><a href=\"https://i.stack.imgur.com/qRCDq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qRCDq.png\" alt=\"Environement variable of the GitHub repositry\" /></a></p>\n<h2>Problem</h2>\n<p>When I execute the tests locally I don't have any problem, but when I execute the tests in GitHub Actions they didn't have any variable environment.</p>\n<h2>Question</h2>\n<p>Does someone know how we can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getenv(java.lang.String)\" rel=\"nofollow noreferrer\"><code>System::getenv</code></a> with GitHub Action ?</p>\n"},{"tags":["java","log4j2"],"owner":{"account_id":27695027,"reputation":1,"user_id":21140936,"display_name":"Spring Boot Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680283667,"creation_date":1680283605,"question_id":75901208,"body_markdown":"I have two ear file and inside it we have multiple jars. Both ear contains utility.jar which have MyLogger1 class which have log4j2.properties file which writes to file logfile1\r\n\r\n- ear1 logging using MyLogger1, all logs printed in logfile1\r\n- for ear2 we are logging using MyLogger1 from utility.jar as well as own CustomLogger class which have properties file bikelog4j2 which writes to logfile2\r\n\r\nI want ear2 logs inside particular file specified in bikelog4j2.properties. Its working as expected when we have below configuration in normal method but not working when we have below configuration inside static block.\r\n\r\nwith static block some logs from ear2 printed inside logfile2 and some printed in logfile1\r\n\r\n\r\n```\r\n{\r\nProperties properties = new Properties();\r\nResourceBundle labels = ResourceBundle.getBundle(&quot;log4j2&quot;);//bikelog4j2 for CustomLogger class\r\nEnumeration keys = labels.getKeys();\r\nwhile (keys.hasMoreElements()) {\r\n\tString key = (String) keys.nextElement();\r\n\tString value = (String) labels.getObject(key);\r\n\tproperties.setProperty(key, value);\r\n}\r\n\r\ncontext = (LoggerContext) LogManager.getContext(false);\r\nconfig = new PropertiesConfigurationBuilder().setConfigurationSource(ConfigurationSource.NULL_SOURCE).setRootProperties(properties).setLoggerContext(context).build();\r\ncontext.setConfiguration(config);\r\nConfigurator.initialize(config);\r\n}\r\n```\r\n","title":"How to print logs in one file under log4j2 with static initialization block?","body":"<p>I have two ear file and inside it we have multiple jars. Both ear contains utility.jar which have MyLogger1 class which have log4j2.properties file which writes to file logfile1</p>\n<ul>\n<li>ear1 logging using MyLogger1, all logs printed in logfile1</li>\n<li>for ear2 we are logging using MyLogger1 from utility.jar as well as own CustomLogger class which have properties file bikelog4j2 which writes to logfile2</li>\n</ul>\n<p>I want ear2 logs inside particular file specified in bikelog4j2.properties. Its working as expected when we have below configuration in normal method but not working when we have below configuration inside static block.</p>\n<p>with static block some logs from ear2 printed inside logfile2 and some printed in logfile1</p>\n<pre><code>{\nProperties properties = new Properties();\nResourceBundle labels = ResourceBundle.getBundle(&quot;log4j2&quot;);//bikelog4j2 for CustomLogger class\nEnumeration keys = labels.getKeys();\nwhile (keys.hasMoreElements()) {\n    String key = (String) keys.nextElement();\n    String value = (String) labels.getObject(key);\n    properties.setProperty(key, value);\n}\n\ncontext = (LoggerContext) LogManager.getContext(false);\nconfig = new PropertiesConfigurationBuilder().setConfigurationSource(ConfigurationSource.NULL_SOURCE).setRootProperties(properties).setLoggerContext(context).build();\ncontext.setConfiguration(config);\nConfigurator.initialize(config);\n}\n</code></pre>\n"},{"tags":["java","mongodb","list","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7480007,"reputation":11,"user_id":5685043,"display_name":"Himanshu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680283565,"creation_date":1680283565,"answer_id":75901200,"question_id":75901103,"body_markdown":"It seems you are not saving player information like using playerRepository.save(). As you did for gameRepository.\r\n\r\n```\r\n@Override\r\n    public void saveGame(Game game, String playerId){\r\n        Optional&lt;Player&gt; player = playerRepository.findById(playerId);\r\n        player.get().getGames().add(game);\r\n        playerRepository.save(player); // saving player information with new game data\r\n    }\r\n```","title":"Can&#39;t add Object to the List. SpringBoot. MongoDB","body":"<p>It seems you are not saving player information like using playerRepository.save(). As you did for gameRepository.</p>\n<pre><code>@Override\n    public void saveGame(Game game, String playerId){\n        Optional&lt;Player&gt; player = playerRepository.findById(playerId);\n        player.get().getGames().add(game);\n        playerRepository.save(player); // saving player information with new game data\n    }\n</code></pre>\n"}],"owner":{"account_id":26273296,"reputation":1,"user_id":19942878,"display_name":"Anna kuzmina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680283565,"creation_date":1680282873,"question_id":75901103,"body_markdown":"I can&#39;t add anything to the list &#39;games&#39; and I don&#39;t understand why. Everything works well with MySQL but I can&#39;t save the object into List&lt;Game&gt; game with MongoDB. The &#39;game&#39; is successfully created and saved in the collection. Will appreciate any help. \r\nThank you!\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.annotation.Transient;\r\nimport org.springframework.data.mongodb.core.mapping.DBRef;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Builder\r\n@Document(collection = &quot;player&quot;)\r\npublic class Player {\r\n    @Id\r\n    private String playerId;\r\n    private String name;\r\n    private LocalDate registerDate;\r\n    @Transient\r\n    Double rate;\r\n\r\n    @JsonIgnore\r\n    @DBRef\r\n    private List&lt;Game&gt; games = new ArrayList&lt;&gt;();\r\n\r\n    //{games = new ArrayList&lt;&gt;();}\r\n\r\n    public Player(String name) {\r\n        this.name = name;\r\n        this.registerDate = LocalDate.now();\r\n    }\r\n```\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.mongodb.core.mapping.DBRef;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Builder\r\n@Document(collection = &quot;game&quot;)\r\npublic class Game {\r\n    @Id\r\n    private String gameId;\r\n    private int dice1;\r\n    private int dice2;\r\n    @JsonIgnore\r\n    @DBRef(lazy=true)\r\n    private Player player;\r\n    private boolean win;\r\n\r\n}\r\n```\r\n\r\n```\r\n\r\nimport cat.itacademy.barcelonactiva.kuzmina.ganna.s05.t02.n01.DiceGameS05T02N01MySQL.exceptions.HttpException;\r\nimport cat.itacademy.barcelonactiva.kuzmina.ganna.s05.t02.n01.DiceGameS05T02N01MySQL.model.domain.Game;\r\nimport cat.itacademy.barcelonactiva.kuzmina.ganna.s05.t02.n01.DiceGameS05T02N01MySQL.model.domain.Player;\r\nimport cat.itacademy.barcelonactiva.kuzmina.ganna.s05.t02.n01.DiceGameS05T02N01MySQL.model.repository.GameRepository;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.List;\r\n\r\n\r\n@Service\r\n@AllArgsConstructor\r\npublic class GameServiceImpl implements GameService{\r\n\r\n    private final GameRepository gameRepository;\r\n    private final PlayerService playerService;\r\n    private  final PlayGameServiceImpl playGameService;\r\n    @Override\r\n    public Game playGame(String playerId) {\r\n        if(playerService.getAllPlayers().isEmpty()){\r\n            throw new HttpException(HttpStatus.INSUFFICIENT_STORAGE,&quot;There is no registered player&quot;);\r\n        }\r\n        Player player = playerService.findPlayerById(playerId);\r\n        if(player==null){\r\n            throw new HttpException(HttpStatus.NOT_FOUND,&quot;Player with this id is not found&quot;);\r\n        }\r\n\r\n        Game gamePlayed = playGameService.play();\r\n        gamePlayed.setPlayer(player);\r\n        player.calculateRate();\r\n        playerService.saveGame(gamePlayed,playerId);\r\n        return gameRepository.save(gamePlayed);\r\n    }\r\n```\r\nImplementation of method play in playGameService:\r\n\r\n```\r\n@Override\r\n    public Game play() {\r\n        int dice1 = getRandomNum();\r\n        int  dice2 = getRandomNum();\r\n        return Game.builder().dice1(dice1).dice2(dice2).win(getWin(dice1,dice2)).build();\r\n    }\r\n```\r\n\r\nPlayerServiceImpl:\r\n```\r\n    @Override\r\n    public void saveGame(Game game, String playerId){\r\n        Optional&lt;Player&gt; player = playerRepository.findById(playerId);\r\n        player.get().getGames().add(game);\r\n    }\r\n```\r\nControllers:\r\n\r\n```\r\n    @PostMapping(&quot;/{id}/games&quot;)\r\n    public ResponseEntity&lt;?&gt; playGame(@PathVariable String id) {\r\n\r\n        Game gameToSave;\r\n        try {\r\n            gameToSave = gameService.playGame(id);\r\n        } catch (HttpException ex) {\r\n            return ResponseEntity.status(ex.getStatus()).body(ex.getMessage());\r\n        }\r\n            return ResponseEntity.status(HttpStatus.CREATED).body(gameToSave);\r\n\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\nThank you for your time","title":"Can&#39;t add Object to the List. SpringBoot. MongoDB","body":"<p>I can't add anything to the list 'games' and I don't understand why. Everything works well with MySQL but I can't save the object into List game with MongoDB. The 'game' is successfully created and saved in the collection. Will appreciate any help.\nThank you!</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnore;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.annotation.Transient;\nimport org.springframework.data.mongodb.core.mapping.DBRef;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\nimport java.time.LocalDate;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Builder\n@Document(collection = &quot;player&quot;)\npublic class Player {\n    @Id\n    private String playerId;\n    private String name;\n    private LocalDate registerDate;\n    @Transient\n    Double rate;\n\n    @JsonIgnore\n    @DBRef\n    private List&lt;Game&gt; games = new ArrayList&lt;&gt;();\n\n    //{games = new ArrayList&lt;&gt;();}\n\n    public Player(String name) {\n        this.name = name;\n        this.registerDate = LocalDate.now();\n    }\n</code></pre>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnore;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.DBRef;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Builder\n@Document(collection = &quot;game&quot;)\npublic class Game {\n    @Id\n    private String gameId;\n    private int dice1;\n    private int dice2;\n    @JsonIgnore\n    @DBRef(lazy=true)\n    private Player player;\n    private boolean win;\n\n}\n</code></pre>\n<pre><code>\nimport cat.itacademy.barcelonactiva.kuzmina.ganna.s05.t02.n01.DiceGameS05T02N01MySQL.exceptions.HttpException;\nimport cat.itacademy.barcelonactiva.kuzmina.ganna.s05.t02.n01.DiceGameS05T02N01MySQL.model.domain.Game;\nimport cat.itacademy.barcelonactiva.kuzmina.ganna.s05.t02.n01.DiceGameS05T02N01MySQL.model.domain.Player;\nimport cat.itacademy.barcelonactiva.kuzmina.ganna.s05.t02.n01.DiceGameS05T02N01MySQL.model.repository.GameRepository;\nimport lombok.AllArgsConstructor;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n\n@Service\n@AllArgsConstructor\npublic class GameServiceImpl implements GameService{\n\n    private final GameRepository gameRepository;\n    private final PlayerService playerService;\n    private  final PlayGameServiceImpl playGameService;\n    @Override\n    public Game playGame(String playerId) {\n        if(playerService.getAllPlayers().isEmpty()){\n            throw new HttpException(HttpStatus.INSUFFICIENT_STORAGE,&quot;There is no registered player&quot;);\n        }\n        Player player = playerService.findPlayerById(playerId);\n        if(player==null){\n            throw new HttpException(HttpStatus.NOT_FOUND,&quot;Player with this id is not found&quot;);\n        }\n\n        Game gamePlayed = playGameService.play();\n        gamePlayed.setPlayer(player);\n        player.calculateRate();\n        playerService.saveGame(gamePlayed,playerId);\n        return gameRepository.save(gamePlayed);\n    }\n</code></pre>\n<p>Implementation of method play in playGameService:</p>\n<pre><code>@Override\n    public Game play() {\n        int dice1 = getRandomNum();\n        int  dice2 = getRandomNum();\n        return Game.builder().dice1(dice1).dice2(dice2).win(getWin(dice1,dice2)).build();\n    }\n</code></pre>\n<p>PlayerServiceImpl:</p>\n<pre><code>    @Override\n    public void saveGame(Game game, String playerId){\n        Optional&lt;Player&gt; player = playerRepository.findById(playerId);\n        player.get().getGames().add(game);\n    }\n</code></pre>\n<p>Controllers:</p>\n<pre><code>    @PostMapping(&quot;/{id}/games&quot;)\n    public ResponseEntity&lt;?&gt; playGame(@PathVariable String id) {\n\n        Game gameToSave;\n        try {\n            gameToSave = gameService.playGame(id);\n        } catch (HttpException ex) {\n            return ResponseEntity.status(ex.getStatus()).body(ex.getMessage());\n        }\n            return ResponseEntity.status(HttpStatus.CREATED).body(gameToSave);\n\n    }\n</code></pre>\n<p>Thank you for your time</p>\n"},{"tags":["java","android","uri"],"comments":[{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1500457438,"post_id":45186747,"comment_id":77340917,"body_markdown":"what do you need real path for?","body":"what do you need real path for?"},{"owner":{"account_id":6686012,"reputation":722,"user_id":5994250,"accept_rate":50,"display_name":"proninyaroslav"},"score":0,"creation_date":1500457603,"post_id":45186747,"comment_id":77341036,"body_markdown":"Ability to copy to a new path or delete file.","body":"Ability to copy to a new path or delete file."},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1500457711,"post_id":45186747,"comment_id":77341119,"body_markdown":"then see `ContentResolver#openInputStream` and `ContentResolver#delete`","body":"then see <code>ContentResolver#openInputStream</code> and <code>ContentResolver#delete</code>"},{"owner":{"account_id":6686012,"reputation":722,"user_id":5994250,"accept_rate":50,"display_name":"proninyaroslav"},"score":0,"creation_date":1500458092,"post_id":45186747,"comment_id":77341393,"body_markdown":"Yes, it&#39;s possible, thanks.","body":"Yes, it&#39;s possible, thanks."},{"owner":{"account_id":6850340,"reputation":6801,"user_id":6021469,"accept_rate":29,"display_name":"Shweta Chauhan"},"score":0,"creation_date":1500458264,"post_id":45186747,"comment_id":77341531,"body_markdown":"Check this may help you: https://thenewboston.com/forum/topic.php?id=12045","body":"Check this may help you: <a href=\"https://thenewboston.com/forum/topic.php?id=12045\" rel=\"nofollow noreferrer\">thenewboston.com/forum/topic.php?id=12045</a>"},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1500458813,"post_id":45186747,"comment_id":77341924,"body_markdown":"no @shweta it will not help","body":"no @shweta it will not help"},{"owner":{"account_id":6686012,"reputation":722,"user_id":5994250,"accept_rate":50,"display_name":"proninyaroslav"},"score":0,"creation_date":1500923123,"post_id":45186747,"comment_id":77538771,"body_markdown":"@pskink Deleting doesn&#39;t work for Chrome URI: permission denied. MediaStore URI deleted without problems.","body":"@pskink Deleting doesn&#39;t work for Chrome URI: permission denied. MediaStore URI deleted without problems."},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1500923577,"post_id":45186747,"comment_id":77539002,"body_markdown":"what does it return?","body":"what does it return?"},{"owner":{"account_id":6686012,"reputation":722,"user_id":5994250,"accept_rate":50,"display_name":"proninyaroslav"},"score":0,"creation_date":1500970564,"post_id":45186747,"comment_id":77556734,"body_markdown":"@pskink Nothing, only `java.lang.SecurityException: Permission Denial: writing org.chromium.chrome.browser.util.ChromeFileProvider uri content://com.chrome.dev.FileProvider/downloads/%5BTorrent-Soft.Net%5D_KEYS.torrent from pid=2406, uid=10063 requires the provider be exported, or grantUriPermission()`. Even if I request rights with `grantUriPermission()` it gives an error that the rights cannot be granted.","body":"@pskink Nothing, only <code>java.lang.SecurityException: Permission Denial: writing org.chromium.chrome.browser.util.ChromeFileProvider uri content:&#47;&#47;com.chrome.dev.FileProvider&#47;downloads&#47;%5BTorrent-S&zwnj;&#8203;oft.Net%5D_KEYS.torr&zwnj;&#8203;ent from pid=2406, uid=10063 requires the provider be exported, or grantUriPermission()</code>. Even if I request rights with <code>grantUriPermission()</code> it gives an error that the rights cannot be granted."},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1500971675,"post_id":45186747,"comment_id":77557436,"body_markdown":"post your code then","body":"post your code then"},{"owner":{"account_id":6686012,"reputation":722,"user_id":5994250,"accept_rate":50,"display_name":"proninyaroslav"},"score":0,"creation_date":1500973708,"post_id":45186747,"comment_id":77558913,"body_markdown":"@pskink `activity.getContentResolver().delete(uri, null, null);`","body":"@pskink <code>activity.getContentResolver().delete(uri, null, null);</code>"},{"owner":{"account_id":6686012,"reputation":722,"user_id":5994250,"accept_rate":50,"display_name":"proninyaroslav"},"score":0,"creation_date":1500973739,"post_id":45186747,"comment_id":77558931,"body_markdown":"and permission request: `activity.grantUriPermission(activity.getPackageName(), uri, Intent.FLAG_GRANT_WRITE_URI_PERMISSION); int takeFlags = Intent.FLAG_GRANT_WRITE_URI_PERMISSION; activity.getContentResolver().takePersistableUriPermission(uri, takeFlags);`","body":"and permission request: <code>activity.grantUriPermission(activity.getPackageName(), uri, Intent.FLAG_GRANT_WRITE_URI_PERMISSION); int takeFlags = Intent.FLAG_GRANT_WRITE_URI_PERMISSION; activity.getContentResolver().takePersistableUriPermission(u&zwnj;&#8203;ri, takeFlags);</code>"},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1500974121,"post_id":45186747,"comment_id":77559219,"body_markdown":"you cannot `grantUriPermission` for yourself - it has to be done by a package that owns `com.chrome.dev.FileProvider` - imagine you have a folder with read only files and anybody can read it but only trusted people can change them - it is obvious that it is your responiblity to `grantChangePermission` for them","body":"you cannot <code>grantUriPermission</code> for yourself - it has to be done by a package that owns <code>com.chrome.dev.FileProvider</code> - imagine you have a folder with read only files and anybody can read it but only trusted people can change them - it is obvious that it is your responiblity to <code>grantChangePermission</code> for them"},{"owner":{"account_id":6686012,"reputation":722,"user_id":5994250,"accept_rate":50,"display_name":"proninyaroslav"},"score":0,"creation_date":1500974314,"post_id":45186747,"comment_id":77559373,"body_markdown":"I cannot delete file until the content provider allows it to be deleted?","body":"I cannot delete file until the content provider allows it to be deleted?"},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1500974560,"post_id":45186747,"comment_id":77559581,"body_markdown":"dont you think it makes sense? would it be better if anybody could delete anything? what would be any permissions for then?","body":"dont you think it makes sense? would it be better if anybody could delete anything? what would be any permissions for then?"},{"owner":{"account_id":6686012,"reputation":722,"user_id":5994250,"accept_rate":50,"display_name":"proninyaroslav"},"score":0,"creation_date":1500980683,"post_id":45186747,"comment_id":77564105,"body_markdown":"@pskink Yes, but situation arises that user of my app choose option to delete file after opening, but it can be deleted only if the path to the file is available, otherwise the file cannot be deleted. This behavior is very strange for user.","body":"@pskink Yes, but situation arises that user of my app choose option to delete file after opening, but it can be deleted only if the path to the file is available, otherwise the file cannot be deleted. This behavior is very strange for user."},{"owner":{"account_id":1744483,"reputation":876,"user_id":1594998,"accept_rate":43,"display_name":"Kostadin Georgiev"},"score":0,"creation_date":1603963919,"post_id":45186747,"comment_id":114203951,"body_markdown":"@proninyaroslav Did you find any solution to get the FilePath from Chrome URI, is it possible?","body":"@proninyaroslav Did you find any solution to get the FilePath from Chrome URI, is it possible?"}],"answers":[{"tags":[],"owner":{"account_id":5832041,"reputation":341,"user_id":4596212,"display_name":"Sonam Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500457552,"creation_date":1500457552,"answer_id":45186840,"question_id":45186747,"body_markdown":"Try this:\r\n\r\n    @TargetApi(19)\r\n     private static String generatePath(Uri uri,Context context){\r\n        String filePath = null;\r\n        if(DocumentsContract.isDocumentUri(context, uri)){\r\n            String wholeID = DocumentsContract.getDocumentId(uri);\r\n\r\n            String id = wholeID.split(&quot;:&quot;)[1];\r\n\r\n            String[] column = { MediaStore.Video.Media.DATA };\r\n            String sel = MediaStore.Video.Media._ID + &quot;=?&quot;;\r\n\r\n            Cursor cursor = context.getContentResolver().\r\n                    query(MediaStore.Video.Media.EXTERNAL_CONTENT_URI,\r\n                            column, sel, new String[]{ id }, null);\r\n\r\n\r\n\r\n            int columnIndex = cursor.getColumnIndex(column[0]);\r\n\r\n            if (cursor.moveToFirst()) {\r\n                filePath = cursor.getString(columnIndex);\r\n            }\r\n\r\n            cursor.close();\r\n        }\r\n        return filePath;\r\n    }","title":"How to get real path from FileProvider URI?","body":"<p>Try this:</p>\n\n<pre><code>@TargetApi(19)\n private static String generatePath(Uri uri,Context context){\n    String filePath = null;\n    if(DocumentsContract.isDocumentUri(context, uri)){\n        String wholeID = DocumentsContract.getDocumentId(uri);\n\n        String id = wholeID.split(\":\")[1];\n\n        String[] column = { MediaStore.Video.Media.DATA };\n        String sel = MediaStore.Video.Media._ID + \"=?\";\n\n        Cursor cursor = context.getContentResolver().\n                query(MediaStore.Video.Media.EXTERNAL_CONTENT_URI,\n                        column, sel, new String[]{ id }, null);\n\n\n\n        int columnIndex = cursor.getColumnIndex(column[0]);\n\n        if (cursor.moveToFirst()) {\n            filePath = cursor.getString(columnIndex);\n        }\n\n        cursor.close();\n    }\n    return filePath;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7362779,"reputation":1546,"user_id":5605517,"accept_rate":55,"display_name":"Esperanz0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500457700,"creation_date":1500457700,"answer_id":45186899,"question_id":45186747,"body_markdown":"I&#39;m using this for getting full path from selected file.\r\nMeybe it will help You\r\n\r\n        final Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n        intent.setType(&quot;application/zip&quot;);\r\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n\r\n        if (intent.resolveActivity(getPackageManager()) != null) {\r\n            // file browser has been found on the device\r\n            startActivityForResult(Intent.createChooser(intent, &quot;Select File Browser&quot;), SELECT_FILE_REQUEST_CODE);\r\n\r\n\r\n\r\n \r\n\r\n    @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n            if (resultCode == RESULT_OK) {\r\n                if (requestCode == SELECT_FILE_REQUEST_CODE) {\r\n      \r\n                    final Uri uri = data.getData();\r\n      \r\n                    if (uri.getScheme().equals(&quot;file&quot;)) {\r\n                        // the direct path to the file has been returned\r\n                        final String path = uri.getPath();\r\n                        final File file = new File(path);\r\n                        mFilePath = path;\r\n    \r\n                        updateFileInfo(file.getName(), file.length(), mFileType);\r\n                    } else if (uri.getScheme().equals(&quot;content&quot;)) {\r\n                        // an Uri has been returned\r\n                        mFileStreamUri = uri;\r\n    \r\n                        final Bundle extras = data.getExtras();\r\n                        if (extras != null &amp;&amp; extras.containsKey(Intent.EXTRA_STREAM))\r\n                            mFileStreamUri = extras.getParcelable(Intent.EXTRA_STREAM);\r\n    \r\n                        // file name and size must be obtained from Content Provider\r\n                        final Bundle bundle = new Bundle();\r\n                        bundle.putParcelable(EXTRA_URI, uri);\r\n                        getLoaderManager().restartLoader(SELECT_FILE_REQ, bundle, this);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n     @Override\r\n        public Loader&lt;Cursor&gt; onCreateLoader(int id, Bundle args) {\r\n            final Uri uri = args.getParcelable(EXTRA_URI);\r\n    \r\n            return new CursorLoader(this, uri, null, null, null, null);\r\n        }\r\n    \r\n        @Override\r\n        public void onLoadFinished(Loader&lt;Cursor&gt; loader, Cursor data) {\r\n            if (data != null &amp;&amp; data.moveToNext()) {\r\n                /*\r\n                 * Here we have to check the column indexes by name as we have requested for all. The order may be different.\r\n    \t\t\t */\r\n                final String fileName = data.getString(data.getColumnIndex(MediaStore.MediaColumns.DISPLAY_NAME)/* 0 DISPLAY_NAME */);\r\n                final int fileSize = data.getInt(data.getColumnIndex(MediaStore.MediaColumns.SIZE) /* 1 SIZE */);\r\n                String filePath = null;\r\n                final int dataIndex = data.getColumnIndex(MediaStore.MediaColumns.DATA);\r\n                if (dataIndex != -1)\r\n                    filePath = data.getString(dataIndex /* 2 DATA */);\r\n                if (!TextUtils.isEmpty(filePath))\r\n                    mFilePath = filePath;\r\n    \r\n                updateFileInfo(fileName, fileSize, mFileType);\r\n\r\n","title":"How to get real path from FileProvider URI?","body":"<p>I'm using this for getting full path from selected file.\nMeybe it will help You</p>\n\n<pre><code>    final Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n    intent.setType(\"application/zip\");\n    intent.addCategory(Intent.CATEGORY_OPENABLE);\n\n    if (intent.resolveActivity(getPackageManager()) != null) {\n        // file browser has been found on the device\n        startActivityForResult(Intent.createChooser(intent, \"Select File Browser\"), SELECT_FILE_REQUEST_CODE);\n\n\n\n\n\n@Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        if (resultCode == RESULT_OK) {\n            if (requestCode == SELECT_FILE_REQUEST_CODE) {\n\n                final Uri uri = data.getData();\n\n                if (uri.getScheme().equals(\"file\")) {\n                    // the direct path to the file has been returned\n                    final String path = uri.getPath();\n                    final File file = new File(path);\n                    mFilePath = path;\n\n                    updateFileInfo(file.getName(), file.length(), mFileType);\n                } else if (uri.getScheme().equals(\"content\")) {\n                    // an Uri has been returned\n                    mFileStreamUri = uri;\n\n                    final Bundle extras = data.getExtras();\n                    if (extras != null &amp;&amp; extras.containsKey(Intent.EXTRA_STREAM))\n                        mFileStreamUri = extras.getParcelable(Intent.EXTRA_STREAM);\n\n                    // file name and size must be obtained from Content Provider\n                    final Bundle bundle = new Bundle();\n                    bundle.putParcelable(EXTRA_URI, uri);\n                    getLoaderManager().restartLoader(SELECT_FILE_REQ, bundle, this);\n                }\n            }\n        }\n    }\n\n @Override\n    public Loader&lt;Cursor&gt; onCreateLoader(int id, Bundle args) {\n        final Uri uri = args.getParcelable(EXTRA_URI);\n\n        return new CursorLoader(this, uri, null, null, null, null);\n    }\n\n    @Override\n    public void onLoadFinished(Loader&lt;Cursor&gt; loader, Cursor data) {\n        if (data != null &amp;&amp; data.moveToNext()) {\n            /*\n             * Here we have to check the column indexes by name as we have requested for all. The order may be different.\n             */\n            final String fileName = data.getString(data.getColumnIndex(MediaStore.MediaColumns.DISPLAY_NAME)/* 0 DISPLAY_NAME */);\n            final int fileSize = data.getInt(data.getColumnIndex(MediaStore.MediaColumns.SIZE) /* 1 SIZE */);\n            String filePath = null;\n            final int dataIndex = data.getColumnIndex(MediaStore.MediaColumns.DATA);\n            if (dataIndex != -1)\n                filePath = data.getString(dataIndex /* 2 DATA */);\n            if (!TextUtils.isEmpty(filePath))\n                mFilePath = filePath;\n\n            updateFileInfo(fileName, fileSize, mFileType);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14201749,"reputation":2784,"user_id":10259491,"display_name":"Raj Narayanan"},"score":0,"creation_date":1657557129,"post_id":45187122,"comment_id":128833651,"body_markdown":"I&#39;m getting the following Error: `CursorIndexOutOfBoundsException: Requested column: -1, # of columns: 2`. At the line `result = cursor.getString(idx);`","body":"I&#39;m getting the following Error: <code>CursorIndexOutOfBoundsException: Requested column: -1, # of columns: 2</code>. At the line <code>result = cursor.getString(idx);</code>"}],"tags":[],"owner":{"account_id":4000262,"reputation":187,"user_id":3296468,"display_name":"Rai"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500458301,"creation_date":1500458301,"answer_id":45187122,"question_id":45186747,"body_markdown":"You can try this. getting real path from URI\r\n\r\n    File file = new File(getRealPathFromURI(selectedImageURI));\r\n\r\nmethod\r\n\r\n    private String getRealPathFromURI(Uri contentURI) {\r\n        String result;\r\n        Cursor cursor = getContentResolver().query(contentURI, null, null, null, null);\r\n        if (cursor == null) { //checking\r\n            result = contentURI.getPath();\r\n        } else { \r\n            cursor.moveToFirst(); \r\n            int idx = cursor.getColumnIndex(MediaStore.Files.FileColumns.DATA); \r\n            result = cursor.getString(idx);\r\n            cursor.close();\r\n        }\r\n        return result;\r\n    }","title":"How to get real path from FileProvider URI?","body":"<p>You can try this. getting real path from URI</p>\n\n<pre><code>File file = new File(getRealPathFromURI(selectedImageURI));\n</code></pre>\n\n<p>method</p>\n\n<pre><code>private String getRealPathFromURI(Uri contentURI) {\n    String result;\n    Cursor cursor = getContentResolver().query(contentURI, null, null, null, null);\n    if (cursor == null) { //checking\n        result = contentURI.getPath();\n    } else { \n        cursor.moveToFirst(); \n        int idx = cursor.getColumnIndex(MediaStore.Files.FileColumns.DATA); \n        result = cursor.getString(idx);\n        cursor.close();\n    }\n    return result;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7206748,"reputation":6346,"user_id":5502121,"display_name":"Kirill Karmazin"},"score":4,"creation_date":1539691134,"post_id":45373174,"comment_id":92585861,"body_markdown":"and where is your overloaded method `public String getRealPathFromURI(String contentUriPath)` ?","body":"and where is your overloaded method <code>public String getRealPathFromURI(String contentUriPath)</code> ?"},{"owner":{"account_id":787148,"reputation":1765,"user_id":860311,"accept_rate":47,"display_name":"Vito Valov"},"score":1,"creation_date":1560856858,"post_id":45373174,"comment_id":99865531,"body_markdown":"doing so I&#39;m getting idx = -1. The URI string in debugger looks good with provider virtual directory and all in place","body":"doing so I&#39;m getting idx = -1. The URI string in debugger looks good with provider virtual directory and all in place"},{"owner":{"account_id":14201749,"reputation":2784,"user_id":10259491,"display_name":"Raj Narayanan"},"score":0,"creation_date":1657557155,"post_id":45373174,"comment_id":128833664,"body_markdown":"I&#39;m getting the following Error: `CursorIndexOutOfBoundsException: Requested column: -1, # of columns: 2`. At the line `result = cursor.getString(idx);`","body":"I&#39;m getting the following Error: <code>CursorIndexOutOfBoundsException: Requested column: -1, # of columns: 2</code>. At the line <code>result = cursor.getString(idx);</code>"}],"tags":[],"owner":{"account_id":9142998,"reputation":240,"user_id":6800260,"display_name":"Akash Ratanpara"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1501244510,"creation_date":1501243791,"answer_id":45373174,"question_id":45186747,"body_markdown":"You can try this solution for get real path from file provider URI.\r\n\r\nFirst you need to define file provider path file as following.\r\n\r\n&gt; provider_paths.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;external-path name=&quot;/storage/emulated/0&quot; path=&quot;.&quot;/&gt;\r\n    &lt;/paths&gt;\r\n\r\n\r\nDeclare file provider in **AndroidMenifest.xml** as following.\r\n\r\n&gt; AndroidMenifest.xml\r\n\r\n    &lt;application&gt;\r\n        .\r\n        .\r\n        .\r\n        &lt;provider\r\n                android:name=&quot;android.support.v4.content.FileProvider&quot;\r\n                android:authorities=&quot;${applicationId}&quot;\r\n                android:exported=&quot;false&quot;\r\n                android:grantUriPermissions=&quot;true&quot;&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                    android:resource=&quot;@xml/provider_paths&quot;/&gt;\r\n        &lt;/provider&gt;\r\n     &lt;/application&gt;\r\n\r\n\r\nNow in activity side.\r\n\r\n&gt; MyActivity.java\r\n\r\n    private Uri picUri;\r\n    \r\n        private void takePhotoFromCamera() {\r\n            Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n            if (Utils.isNougat()) {\r\n                picUri = FileProvider.getUriForFile(this, getPackageName(), imageHelper\r\n                        .createImageFile());\r\n                intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                intent.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\n            }else {\r\n                picUri = Uri.fromFile(imageHelper.createImageFile());\r\n            }\r\n            intent.putExtra(MediaStore.EXTRA_OUTPUT, picUri);\r\n            startActivityForResult(intent, Const.ServiceCode.TAKE_PHOTO);\r\n        }\r\n    \r\n    \r\n        /**\r\n         * This method is used for handel result after captured image from camera .\r\n        */\r\n        private void onCaptureImageResult() {\r\n            if(Utils.isNougat()){\r\n                documentImage = imageHelper.getRealPathFromURI(picUri.getPath());\r\n            }else {\r\n                documentImage = imageHelper.getRealPathFromURI(picUri);\r\n            }\r\n        }\r\n\r\n\r\n\r\nFollowing my method for get real path.\r\n\r\n    public String getRealPathFromURI(Uri contentURI) {\r\n            String result;\r\n            Cursor cursor = context.getContentResolver().query(contentURI, null,\r\n                    null, null, null);\r\n    \r\n            if (cursor == null) { // Source is Dropbox or other similar local file\r\n                // path\r\n                result = contentURI.getPath();\r\n            } else {\r\n                cursor.moveToFirst();\r\n                try {\r\n                    int idx = cursor\r\n                            .getColumnIndex(MediaStore.Images.ImageColumns.DATA);\r\n                    result = cursor.getString(idx);\r\n                } catch (Exception e) {\r\n                    AppLog.handleException(ImageHelper.class.getName(), e);\r\n                    Toast.makeText(context, context.getResources().getString(\r\n                            R.string.error_get_image), Toast.LENGTH_SHORT).show();\r\n    \r\n                    result = &quot;&quot;;\r\n                }\r\n                cursor.close();\r\n            }\r\n            return result;\r\n        }\r\n\r\nHope you solve your problem.\r\n","title":"How to get real path from FileProvider URI?","body":"<p>You can try this solution for get real path from file provider URI.</p>\n\n<p>First you need to define file provider path file as following.</p>\n\n<blockquote>\n  <p>provider_paths.xml</p>\n</blockquote>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;paths xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;external-path name=\"/storage/emulated/0\" path=\".\"/&gt;\n&lt;/paths&gt;\n</code></pre>\n\n<p>Declare file provider in <strong>AndroidMenifest.xml</strong> as following.</p>\n\n<blockquote>\n  <p>AndroidMenifest.xml</p>\n</blockquote>\n\n<pre><code>&lt;application&gt;\n    .\n    .\n    .\n    &lt;provider\n            android:name=\"android.support.v4.content.FileProvider\"\n            android:authorities=\"${applicationId}\"\n            android:exported=\"false\"\n            android:grantUriPermissions=\"true\"&gt;\n            &lt;meta-data\n                android:name=\"android.support.FILE_PROVIDER_PATHS\"\n                android:resource=\"@xml/provider_paths\"/&gt;\n    &lt;/provider&gt;\n &lt;/application&gt;\n</code></pre>\n\n<p>Now in activity side.</p>\n\n<blockquote>\n  <p>MyActivity.java</p>\n</blockquote>\n\n<pre><code>private Uri picUri;\n\n    private void takePhotoFromCamera() {\n        Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n        if (Utils.isNougat()) {\n            picUri = FileProvider.getUriForFile(this, getPackageName(), imageHelper\n                    .createImageFile());\n            intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n            intent.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n        }else {\n            picUri = Uri.fromFile(imageHelper.createImageFile());\n        }\n        intent.putExtra(MediaStore.EXTRA_OUTPUT, picUri);\n        startActivityForResult(intent, Const.ServiceCode.TAKE_PHOTO);\n    }\n\n\n    /**\n     * This method is used for handel result after captured image from camera .\n    */\n    private void onCaptureImageResult() {\n        if(Utils.isNougat()){\n            documentImage = imageHelper.getRealPathFromURI(picUri.getPath());\n        }else {\n            documentImage = imageHelper.getRealPathFromURI(picUri);\n        }\n    }\n</code></pre>\n\n<p>Following my method for get real path.</p>\n\n<pre><code>public String getRealPathFromURI(Uri contentURI) {\n        String result;\n        Cursor cursor = context.getContentResolver().query(contentURI, null,\n                null, null, null);\n\n        if (cursor == null) { // Source is Dropbox or other similar local file\n            // path\n            result = contentURI.getPath();\n        } else {\n            cursor.moveToFirst();\n            try {\n                int idx = cursor\n                        .getColumnIndex(MediaStore.Images.ImageColumns.DATA);\n                result = cursor.getString(idx);\n            } catch (Exception e) {\n                AppLog.handleException(ImageHelper.class.getName(), e);\n                Toast.makeText(context, context.getResources().getString(\n                        R.string.error_get_image), Toast.LENGTH_SHORT).show();\n\n                result = \"\";\n            }\n            cursor.close();\n        }\n        return result;\n    }\n</code></pre>\n\n<p>Hope you solve your problem.</p>\n"}],"owner":{"account_id":6686012,"reputation":722,"user_id":5994250,"accept_rate":50,"display_name":"proninyaroslav"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15010,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1680283408,"creation_date":1500457344,"question_id":45186747,"body_markdown":"I have this code for decoding `content://` URI:\r\n\r\n    Cursor cursor = null;\r\n    try {\r\n        cursor = context.getContentResolver().query(contentUri,\r\n                         new String[] { MediaStore.Files.FileColumns.DATA },\r\n                         null, null, null);\r\n\r\n        int columnIndex = cursor.getColumnIndexOrThrow(MediaStore.Files.FileColumns.DATA);\r\n        cursor.moveToFirst();\r\n    \r\n        return cursor.getString(columnIndex);\r\n\r\n    } finally {\r\n        if (cursor != null) {cursor.close()};\r\n    }\r\n\r\nbut it doesn&#39;t work for `FileProvider` URI (e.g Chrome Dev URI of downloaded files: `content://com.chrome.dev.FileProvider/downloads/`). Is there a way to get a real path?","title":"How to get real path from FileProvider URI?","body":"<p>I have this code for decoding <code>content://</code> URI:</p>\n\n<pre><code>Cursor cursor = null;\ntry {\n    cursor = context.getContentResolver().query(contentUri,\n                     new String[] { MediaStore.Files.FileColumns.DATA },\n                     null, null, null);\n\n    int columnIndex = cursor.getColumnIndexOrThrow(MediaStore.Files.FileColumns.DATA);\n    cursor.moveToFirst();\n\n    return cursor.getString(columnIndex);\n\n} finally {\n    if (cursor != null) {cursor.close()};\n}\n</code></pre>\n\n<p>but it doesn't work for <code>FileProvider</code> URI (e.g Chrome Dev URI of downloaded files: <code>content://com.chrome.dev.FileProvider/downloads/</code>). Is there a way to get a real path?</p>\n"},{"tags":["java","intellij-idea","reflection"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1680282371,"post_id":75901034,"comment_id":133877615,"body_markdown":"No. Reflection is at runtime. Further, here you&#39;re looping over ***all*** methods in `Dog`.","body":"No. Reflection is at runtime. Further, here you&#39;re looping over <b><i>all</i></b> methods in <code>Dog</code>."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1680283042,"post_id":75901034,"comment_id":133877781,"body_markdown":"In all cases? No, because that would be roughly equivalent to solving the halting problem (maybe even equivalent, but I obviously don&#39;t have a formal proof for that). Trivial counterexample: `obj.getClass().getMethod(Math.random() &gt; 0.5 ? &quot;a&quot; : &quot;b&quot;).invoke(obj)`.","body":"In all cases? No, because that would be roughly equivalent to solving the halting problem (maybe even equivalent, but I obviously don&#39;t have a formal proof for that). Trivial counterexample: <code>obj.getClass().getMethod(Math.random() &gt; 0.5 ? &quot;a&quot; : &quot;b&quot;).invoke(obj)</code>."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1680298439,"post_id":75901034,"comment_id":133880810,"body_markdown":"It already fails at iterating over `getDeclaredMethods`, which does not impose any order guarantee on the returned array.","body":"It already fails at iterating over <code>getDeclaredMethods</code>, which does not impose any order guarantee on the returned array."}],"owner":{"account_id":5269607,"reputation":371,"user_id":4208324,"accept_rate":40,"display_name":"festiv"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680282407,"creation_date":1680282260,"question_id":75901034,"body_markdown":"Let&#39;s say I have the following ReflectionTest.java file:\r\n\r\n    import java.lang.Class;\r\n    import java.lang.reflect.*;\r\n\r\n    public class ReflectionTest {\r\n    public static void main(String[] args) {\r\n        try {\r\n\r\n            // create an object of Dog\r\n            Dog d1 = new Dog();\r\n\r\n            // create an object of Class\r\n            // using getClass()\r\n            Class obj = d1.getClass();\r\n\r\n            // using object of Class to\r\n            // get all the declared methods of Dog\r\n            Method[] methods = obj.getDeclaredMethods();\r\n\r\n            // create an object of the Method class\r\n            for (Method m : methods) {\r\n\r\n                // get names of methods\r\n                System.out.println(&quot;Method Name: &quot; + m.getName());\r\n\r\n                // get the access modifier of methods\r\n                int modifier = m.getModifiers();\r\n                System.out.println(&quot;Modifier: &quot; + Modifier.toString(modifier));\r\n\r\n                // get the return types of method\r\n                System.out.println(&quot;Return Types: &quot; + m.getReturnType());\r\n\r\n                // invoke the method\r\n                m.invoke(d1);\r\n                System.out.println(&quot; &quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n\r\nI am wondering, technically speaking, can a static analysis tool figure out, in 100% of the cases, which actual method of which specific class will be invoked by `m.invoke(d1);` and navigate me there? Kind of like the functionality IntelliJ already provides by holding the Cmd key and clicking with the left button of the mouse on a method - you get redirected to the actual method&#39;s implementation or get asked to choose one of all implementations in working with an interface, for example.\r\n\r\nI am mostly interested in actual theoretical language level explanation as to what is possible and what not and why.","title":"Is it technically possible for Intellij to statically know which exact class&#39; method will be invoked on java.lang.Method m.invoke(instance) call","body":"<p>Let's say I have the following ReflectionTest.java file:</p>\n<pre><code>import java.lang.Class;\nimport java.lang.reflect.*;\n\npublic class ReflectionTest {\npublic static void main(String[] args) {\n    try {\n\n        // create an object of Dog\n        Dog d1 = new Dog();\n\n        // create an object of Class\n        // using getClass()\n        Class obj = d1.getClass();\n\n        // using object of Class to\n        // get all the declared methods of Dog\n        Method[] methods = obj.getDeclaredMethods();\n\n        // create an object of the Method class\n        for (Method m : methods) {\n\n            // get names of methods\n            System.out.println(&quot;Method Name: &quot; + m.getName());\n\n            // get the access modifier of methods\n            int modifier = m.getModifiers();\n            System.out.println(&quot;Modifier: &quot; + Modifier.toString(modifier));\n\n            // get the return types of method\n            System.out.println(&quot;Return Types: &quot; + m.getReturnType());\n\n            // invoke the method\n            m.invoke(d1);\n            System.out.println(&quot; &quot;);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>I am wondering, technically speaking, can a static analysis tool figure out, in 100% of the cases, which actual method of which specific class will be invoked by <code>m.invoke(d1);</code> and navigate me there? Kind of like the functionality IntelliJ already provides by holding the Cmd key and clicking with the left button of the mouse on a method - you get redirected to the actual method's implementation or get asked to choose one of all implementations in working with an interface, for example.</p>\n<p>I am mostly interested in actual theoretical language level explanation as to what is possible and what not and why.</p>\n"},{"tags":["java","maven","pom.xml","parent-pom"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1680282796,"post_id":75901041,"comment_id":133877728,"body_markdown":"Though [&quot;pom properties documentation&quot;](https://maven.apache.org/pom.html#properties) states: &quot;...Their values are accessible anywhere within a POM &quot;...you cannot use a &quot;property from parent pom&quot; to &quot;identify your parent pom&quot; (hen-egg-problem;)","body":"Though <a href=\"https://maven.apache.org/pom.html#properties\" rel=\"nofollow noreferrer\">&quot;pom properties documentation&quot;</a> states: &quot;...Their values are accessible anywhere within a POM &quot;...you cannot use a &quot;property from parent pom&quot; to &quot;identify your parent pom&quot; (hen-egg-problem;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1680283818,"post_id":75901041,"comment_id":133877953,"body_markdown":"..also `relativePath` won&#39;t help (maven 3.9.1)... a child pom has to provide it&#39;s parent&#39;s &quot;full coordinates&quot; (at least once)","body":"..also <code>relativePath</code> won&#39;t help (maven 3.9.1)... a child pom has to provide it&#39;s parent&#39;s &quot;full coordinates&quot; (at least once)"}],"owner":{"account_id":121922,"reputation":1517,"user_id":315378,"accept_rate":48,"display_name":"zp26"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680282318,"creation_date":1680282318,"question_id":75901041,"body_markdown":"I have create a simple project with parent and child pom.xml files.\r\nThe parent pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.apache&lt;/groupId&gt;\r\n            &lt;artifactId&gt;apache&lt;/artifactId&gt;\r\n            &lt;version&gt;18&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;org.apache.maven.ci&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ci-parent&lt;/artifactId&gt;\r\n        &lt;name&gt;First CI Friendly&lt;/name&gt;\r\n        &lt;version&gt;${revision}&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;revision&gt;1.0.0-SNAPSHOT&lt;/revision&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;distributionManagement&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;central&lt;/id&gt;\r\n                &lt;name&gt;repo-releases&lt;/name&gt;\r\n                &lt;url&gt;https://repo.jfrog.io/artifactory/test&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n            &lt;snapshotRepository&gt;\r\n                &lt;id&gt;snapshots&lt;/id&gt;\r\n                &lt;name&gt;repo-artifactory-primary-1-snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://repo.jfrog.io/artifactory/test-snapshot&lt;/url&gt;\r\n            &lt;/snapshotRepository&gt;\r\n        &lt;/distributionManagement&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;flatten-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.1.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;updatePomFile&gt;true&lt;/updatePomFile&gt;\r\n                        &lt;flattenMode&gt;resolveCiFriendliesOnly&lt;/flattenMode&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;flatten&lt;/id&gt;\r\n                            &lt;phase&gt;process-resources&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;flatten&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;flatten.clean&lt;/id&gt;\r\n                            &lt;phase&gt;clean&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;clean&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nAnd the pom.xml is like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.apache.maven.ci&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ci-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;${revision}&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;org.apache.maven.ci&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ci-child&lt;/artifactId&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nThe parent deploy work fine, but I&#39;m not be able to import the parent pom.xml from remote repo.\r\nI have an error like this:\r\n\r\n    [FATAL] Non-resolvable parent POM for org.apache.maven.ci:ci-child:${revision}: Could not transfer artifact org.apache.maven.ci:ci-parent:pom:${revision} from/to central (...): Authorization failed for .../remote-repos/org/apache/maven/ci/ci-parent/$%257Brevision%257D/ci-parent-$%257Brevision%257D.pom 403 Forbidden and &#39;parent.relativePath&#39; points at wrong local POM @ line 6, column 13\r\n\r\nHow can set up my projects?\r\nThanks.\r\n\r\n\r\n","title":"Deploy parent pom with ${revision} version","body":"<p>I have create a simple project with parent and child pom.xml files.\nThe parent pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.apache&lt;/groupId&gt;\n        &lt;artifactId&gt;apache&lt;/artifactId&gt;\n        &lt;version&gt;18&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;org.apache.maven.ci&lt;/groupId&gt;\n    &lt;artifactId&gt;ci-parent&lt;/artifactId&gt;\n    &lt;name&gt;First CI Friendly&lt;/name&gt;\n    &lt;version&gt;${revision}&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;revision&gt;1.0.0-SNAPSHOT&lt;/revision&gt;\n    &lt;/properties&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;name&gt;repo-releases&lt;/name&gt;\n            &lt;url&gt;https://repo.jfrog.io/artifactory/test&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;snapshotRepository&gt;\n            &lt;id&gt;snapshots&lt;/id&gt;\n            &lt;name&gt;repo-artifactory-primary-1-snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.jfrog.io/artifactory/test-snapshot&lt;/url&gt;\n        &lt;/snapshotRepository&gt;\n    &lt;/distributionManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;flatten-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;updatePomFile&gt;true&lt;/updatePomFile&gt;\n                    &lt;flattenMode&gt;resolveCiFriendliesOnly&lt;/flattenMode&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;flatten&lt;/id&gt;\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;flatten&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;flatten.clean&lt;/id&gt;\n                        &lt;phase&gt;clean&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;clean&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And the pom.xml is like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.apache.maven.ci&lt;/groupId&gt;\n        &lt;artifactId&gt;ci-parent&lt;/artifactId&gt;\n        &lt;version&gt;${revision}&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;org.apache.maven.ci&lt;/groupId&gt;\n    &lt;artifactId&gt;ci-child&lt;/artifactId&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The parent deploy work fine, but I'm not be able to import the parent pom.xml from remote repo.\nI have an error like this:</p>\n<pre><code>[FATAL] Non-resolvable parent POM for org.apache.maven.ci:ci-child:${revision}: Could not transfer artifact org.apache.maven.ci:ci-parent:pom:${revision} from/to central (...): Authorization failed for .../remote-repos/org/apache/maven/ci/ci-parent/$%257Brevision%257D/ci-parent-$%257Brevision%257D.pom 403 Forbidden and 'parent.relativePath' points at wrong local POM @ line 6, column 13\n</code></pre>\n<p>How can set up my projects?\nThanks.</p>\n"},{"tags":["java","maven","intellij-idea","javafx","jpackage"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1661977525,"post_id":73560693,"comment_id":129902648,"body_markdown":"I don&#39;t know the reason for this, [`-t exe` is a valid option](https://docs.oracle.com/en/java/javase/18/docs/specs/man/jpackage.html) that appears to be in the right location in the command line.  I just have a mac, so I can&#39;t verify your command on windows.  It probably doesn&#39;t make much difference, but does the same error occur when using the windows command prompt rather than IntelliJ terminal?  If you just run jpackage with the `--version` option, does it work?","body":"I don&#39;t know the reason for this, <a href=\"https://docs.oracle.com/en/java/javase/18/docs/specs/man/jpackage.html\" rel=\"nofollow noreferrer\"><code>-t exe</code> is a valid option</a> that appears to be in the right location in the command line.  I just have a mac, so I can&#39;t verify your command on windows.  It probably doesn&#39;t make much difference, but does the same error occur when using the windows command prompt rather than IntelliJ terminal?  If you just run jpackage with the <code>--version</code> option, does it work?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1661977593,"post_id":73560693,"comment_id":129902671,"body_markdown":"Maybe take a look at [JPackageScriptFX](https://github.com/dlemmermann/JPackageScriptFX) and try using their scripts for packaging your JavaFX app using jpackage.","body":"Maybe take a look at <a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">JPackageScriptFX</a> and try using their scripts for packaging your JavaFX app using jpackage."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1661978560,"post_id":73560693,"comment_id":129902959,"body_markdown":"The jpackage-maven-plugin should not be a dependency in your app in the current section, instead, it should be in the [build section](https://maven.apache.org/pom.html#Plugins) (or not there if not used at all).  I haven&#39;t used the `panteleyev` plugin, but I have used the [akman](https://github.com/Akman/jpackage-maven-plugin) plugin with JavaFX, and that works fine as an alternative to using the command line for packaging.","body":"The jpackage-maven-plugin should not be a dependency in your app in the current section, instead, it should be in the <a href=\"https://maven.apache.org/pom.html#Plugins\" rel=\"nofollow noreferrer\">build section</a> (or not there if not used at all).  I haven&#39;t used the <code>panteleyev</code> plugin, but I have used the <a href=\"https://github.com/Akman/jpackage-maven-plugin\" rel=\"nofollow noreferrer\">akman</a> plugin with JavaFX, and that works fine as an alternative to using the command line for packaging."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1661982126,"post_id":73560693,"comment_id":129903830,"body_markdown":"For building the jar file, use maven not the Idea artifact mechanism.  Run`mvn package` on your project, you can do that by double-clicking LifeCycle | Package in the maven window in Idea.  The output jar will be located in the `target` directory, not the `out` directory, and it is the jar from the target which should be used as input to jpackage.","body":"For building the jar file, use maven not the Idea artifact mechanism.  Run<code>mvn package</code> on your project, you can do that by double-clicking LifeCycle | Package in the maven window in Idea.  The output jar will be located in the <code>target</code> directory, not the <code>out</code> directory, and it is the jar from the target which should be used as input to jpackage."},{"owner":{"display_name":"user18773012"},"score":0,"creation_date":1662034699,"post_id":73560693,"comment_id":129915904,"body_markdown":"1) jpackage --version doesn&#39;t work. I did the envoirenment variable to jpackage: &quot;C:\\Program Files\\Java\\jdk-18.0.2.1\\bin\\jpackage.exe&quot; | 2) JPackageScriptFX I can not follow the step because I don&#39;t understand it. | 3) I wrote the mvn package on the Terminal and get an error that said that they not know what mvn is. | I have just edited my pom.xml","body":"1) jpackage --version doesn&#39;t work. I did the envoirenment variable to jpackage: &quot;C:\\Program Files\\Java\\jdk-18.0.2.1\\bin\\jpackage.exe&quot; | 2) JPackageScriptFX I can not follow the step because I don&#39;t understand it. | 3) I wrote the mvn package on the Terminal and get an error that said that they not know what mvn is. | I have just edited my pom.xml"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1662054527,"post_id":73560693,"comment_id":129923730,"body_markdown":"&quot;on the Terminal and get an error that said that they not know what mvn is&quot; -&gt; Here is a guide for [Windows setup for maven environment variables](https://stackoverflow.com/questions/45119595/how-to-add-maven-to-the-path-variable) which allows you to use maven on your path from the command line without needing to specify the full path to the mvn executable each time you run it.  Setting the path to maven isn&#39;t necessary for invoking maven from your IDE as the IDE will be preconfigured to access and use a version of maven it ships with.","body":"&quot;on the Terminal and get an error that said that they not know what mvn is&quot; -&gt; Here is a guide for <a href=\"https://stackoverflow.com/questions/45119595/how-to-add-maven-to-the-path-variable\">Windows setup for maven environment variables</a> which allows you to use maven on your path from the command line without needing to specify the full path to the mvn executable each time you run it.  Setting the path to maven isn&#39;t necessary for invoking maven from your IDE as the IDE will be preconfigured to access and use a version of maven it ships with."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1662054777,"post_id":73560693,"comment_id":129923794,"body_markdown":"&quot;`jpackage --version` doesn&#39;t work.&quot; -&gt; it should work.  On my setup it outputs `17.0.2`, which is the version being used.  Likely your environment settings (path variable) is wrong.  I don&#39;t know the specifics of what you have wrong, but you could do some research on how to set environment path variables on windows.","body":"&quot;<code>jpackage --version</code> doesn&#39;t work.&quot; -&gt; it should work.  On my setup it outputs <code>17.0.2</code>, which is the version being used.  Likely your environment settings (path variable) is wrong.  I don&#39;t know the specifics of what you have wrong, but you could do some research on how to set environment path variables on windows."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1662076691,"post_id":73560693,"comment_id":129928694,"body_markdown":"You don&#39;t need the `maven-jar-plugin` section in your pom.xml. Maven knows how to package jar files by default and I think the custom configuration with a `test` classifier is wrong.","body":"You don&#39;t need the <code>maven-jar-plugin</code> section in your pom.xml. Maven knows how to package jar files by default and I think the custom configuration with a <code>test</code> classifier is wrong."},{"owner":{"display_name":"user18773012"},"score":0,"creation_date":1662124179,"post_id":73560693,"comment_id":129939685,"body_markdown":"I can see on the terminal the versions of java, jpackage and maven. But when I use this input on the intellij terminal `jpackage --type exe --input out/artifacts/DemoFxApp_jar --dest &quot;C:\\Users\\user\\Documents&quot; --main-jar .\\DemoFxApp.jar --main-class main.java.Launcher --module-path &quot;C:\\Program Files\\Java\\javafx-sdk-18.0.2\\lib&quot; --add-modules javafx.controls,javafx.fxml,javafx.base,javafx.graphics`. I get an **installer** and when I run it nothing happens. No **exe** file to see but I want make an **exe** and not an **installer**.","body":"I can see on the terminal the versions of java, jpackage and maven. But when I use this input on the intellij terminal <code>jpackage --type exe --input out&#47;artifacts&#47;DemoFxApp_jar --dest &quot;C:\\Users\\user\\Documents&quot; --main-jar .\\DemoFxApp.jar --main-class main.java.Launcher --module-path &quot;C:\\Program Files\\Java\\javafx-sdk-18.0.2\\lib&quot; --add-modules javafx.controls,javafx.fxml,javafx.base,javafx.graphics</code>. I get an <b>installer</b> and when I run it nothing happens. No <b>exe</b> file to see but I want make an <b>exe</b> and not an <b>installer</b>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1662144607,"post_id":73560693,"comment_id":129946584,"body_markdown":"There is a guide to making an exe without an installer in the [tag info](https://stackoverflow.com/tags/javafx/info).   To add additional info, you can edit the question, it can be more readable than comments to do that sometimes.","body":"There is a guide to making an exe without an installer in the <a href=\"https://stackoverflow.com/tags/javafx/info\">tag info</a>.   To add additional info, you can edit the question, it can be more readable than comments to do that sometimes."},{"owner":{"display_name":"user18773012"},"score":0,"creation_date":1662226106,"post_id":73560693,"comment_id":129959316,"body_markdown":"Thanks for the help, but somehow I feel like it&#39;s not working for me. I give up with jpackage.","body":"Thanks for the help, but somehow I feel like it&#39;s not working for me. I give up with jpackage."}],"owner":{"display_name":"user18773012"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680281407,"creation_date":1661972221,"question_id":73560693,"body_markdown":"I have read like every jpackage question on overflow, but nothing helps me. When I have a .jar of the FX project, I can&#39;t even run the .jar file even though I have the JRE.\r\n\r\nMy input on IntelliJ Terminal:\r\n\r\n\r\n**&quot;C:\\Program Files\\Java\\jdk-18.0.2.1\\bin\\jpackage.exe&quot; -t exe --name DemoFxApp --app-version 1.0 --input out/artifacts/DemoFxApp_jar/DemoFxApp.jar --dest &quot;C:\\Users\\user\\Desktop&quot; --main-jar DemoFxApp.jar --module-path &quot;C:\\Program Files\\Java\\javafx-sdk-18.0.2\\lib&quot; --add-modules javafx.controls,javafx.fxml,javafx.base,javafx.graphics**\r\n\r\n\r\nThe output is a unexpected Token **-t** and **exe**\r\n\r\nI installed this package:\r\n\r\n\r\n**OpenJDK: 18.0.2.1 | JavaFX-SDK: 18.0.2 | JRE: 1.8.0_341**\r\n\r\n\r\nMy project structur:\r\n```\r\nDemoFxApp\r\n|-out\r\n|  |- artifacts\r\n|     |- DemoFxApp_jar\r\n|        |- DemoFxApp.jar\r\n|\r\n|-src\r\n|  |-main\r\n|    |-java\r\n|    | |-app\r\n|    | | |- SceneSwitch.java\r\n|    | |\r\n|    | |-controller\r\n|    | | |-ControllerFirstScreen.java\r\n|    | | |-ControllerSecondScreen.java\r\n|    | |\r\n|    | |-Launcher.java\r\n|    |\r\n|    |-resources\r\n|      |-FirstScreen.fxml\r\n|      |-SecondScreen.fxml\r\n|\r\n|-pom.xml  \r\n```\r\n\r\npom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;DemoFxApp&lt;/groupId&gt;\r\n    &lt;artifactId&gt;DemoFxApp&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.release&gt;18&lt;/maven.compiler.release&gt;\r\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n        &lt;javaFxVersion&gt;18.0.2&lt;/javaFxVersion&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-base&lt;/artifactId&gt;\r\n            &lt;version&gt;${javaFxVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;${javaFxVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n            &lt;version&gt;${javaFxVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;${javaFxVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```","title":"How to make an Application on JavaFX with jpackage?","body":"<p>I have read like every jpackage question on overflow, but nothing helps me. When I have a .jar of the FX project, I can't even run the .jar file even though I have the JRE.</p>\n<p>My input on IntelliJ Terminal:</p>\n<p><strong>&quot;C:\\Program Files\\Java\\jdk-18.0.2.1\\bin\\jpackage.exe&quot; -t exe --name DemoFxApp --app-version 1.0 --input out/artifacts/DemoFxApp_jar/DemoFxApp.jar --dest &quot;C:\\Users\\user\\Desktop&quot; --main-jar DemoFxApp.jar --module-path &quot;C:\\Program Files\\Java\\javafx-sdk-18.0.2\\lib&quot; --add-modules javafx.controls,javafx.fxml,javafx.base,javafx.graphics</strong></p>\n<p>The output is a unexpected Token <strong>-t</strong> and <strong>exe</strong></p>\n<p>I installed this package:</p>\n<p><strong>OpenJDK: 18.0.2.1 | JavaFX-SDK: 18.0.2 | JRE: 1.8.0_341</strong></p>\n<p>My project structur:</p>\n<pre><code>DemoFxApp\n|-out\n|  |- artifacts\n|     |- DemoFxApp_jar\n|        |- DemoFxApp.jar\n|\n|-src\n|  |-main\n|    |-java\n|    | |-app\n|    | | |- SceneSwitch.java\n|    | |\n|    | |-controller\n|    | | |-ControllerFirstScreen.java\n|    | | |-ControllerSecondScreen.java\n|    | |\n|    | |-Launcher.java\n|    |\n|    |-resources\n|      |-FirstScreen.fxml\n|      |-SecondScreen.fxml\n|\n|-pom.xml  \n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;DemoFxApp&lt;/groupId&gt;\n    &lt;artifactId&gt;DemoFxApp&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.release&gt;18&lt;/maven.compiler.release&gt;\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n        &lt;javaFxVersion&gt;18.0.2&lt;/javaFxVersion&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-base&lt;/artifactId&gt;\n            &lt;version&gt;${javaFxVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;${javaFxVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n            &lt;version&gt;${javaFxVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;${javaFxVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","jpa","uuid"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1680191032,"post_id":75890203,"comment_id":133859800,"body_markdown":"I think this might be triggering a weird bug, but because the annotation `@GeneratedValue` should only be used for the primary key column(s), but here is being used in a non pk column. In his case in particular, can you generate the UUID for `not_pk_uuid` in the code?","body":"I think this might be triggering a weird bug, but because the annotation <code>@GeneratedValue</code> should only be used for the primary key column(s), but here is being used in a non pk column. In his case in particular, can you generate the UUID for <code>not_pk_uuid</code> in the code?"},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1680191517,"post_id":75890203,"comment_id":133859960,"body_markdown":"I&#39;m totally good not using `@GeneratedValue` for the `not_pk_uuid` column. I just want the column to get the automatically generated value from Postgres. And given that column is defined as `NOT NULL` in Postgres, then I need an @NotNull annotation on the property in the Java entity, right? And that appears to be failing with a `must not be null` exception in JPA.","body":"I&#39;m totally good not using <code>@GeneratedValue</code> for the <code>not_pk_uuid</code> column. I just want the column to get the automatically generated value from Postgres. And given that column is defined as <code>NOT NULL</code> in Postgres, then I need an @NotNull annotation on the property in the Java entity, right? And that appears to be failing with a <code>must not be null</code> exception in JPA."},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1680193483,"post_id":75890203,"comment_id":133860498,"body_markdown":"@Augusto I must use the value generated by Postgres. IOW, I am not allowed to generate the UUID on the Java side.","body":"@Augusto I must use the value generated by Postgres. IOW, I am not allowed to generate the UUID on the Java side."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1680211323,"post_id":75890203,"comment_id":133864588,"body_markdown":"This isn&#39;t covered by JPA, but providers have provider specific options (see EclipseLink&#39;s https://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/a_returninsert.htm ) as various databases have DB specific support for returning generated data from identity and triggers. I don&#39;t know what if any support Hibernate has: the  JPA blessed way would be to mark the column as insertable=false and then read back the entity after flush/commit to get the value; a saveAndFetch approach.","body":"This isn&#39;t covered by JPA, but providers have provider specific options (see EclipseLink&#39;s <a href=\"https://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/a_returninsert.htm\" rel=\"nofollow noreferrer\">eclipse.org/eclipselink/documentation/2.4/jpa/extensions/&hellip;</a> ) as various databases have DB specific support for returning generated data from identity and triggers. I don&#39;t know what if any support Hibernate has: the  JPA blessed way would be to mark the column as insertable=false and then read back the entity after flush/commit to get the value; a saveAndFetch approach."},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":1,"creation_date":1680281195,"post_id":75890203,"comment_id":133877355,"body_markdown":"@Chris I did end up finding, what appears to be, a simpler pathway: https://stackoverflow.com/a/75900798/501113","body":"@Chris I did end up finding, what appears to be, a simpler pathway: <a href=\"https://stackoverflow.com/a/75900798/501113\">stackoverflow.com/a/75900798/501113</a>"}],"answers":[{"comments":[{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1680279254,"post_id":75899318,"comment_id":133876890,"body_markdown":"Tysvm for answering! This is a &quot;nearby&quot; answer as your suggestion didn&#39;t work as-is. However, it is what put me on the path to a precise answer that did work. I&#39;ll post the precise answer so others that follow can leap right to the exact solution (given this specific problem space).","body":"Tysvm for answering! This is a &quot;nearby&quot; answer as your suggestion didn&#39;t work as-is. However, it is what put me on the path to a precise answer that did work. I&#39;ll post the precise answer so others that follow can leap right to the exact solution (given this specific problem space)."}],"tags":[],"owner":{"account_id":7298128,"reputation":66,"user_id":5562053,"display_name":"Marco Belladelli"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680270662,"creation_date":1680270662,"answer_id":75899318,"question_id":75890203,"body_markdown":"You can use Hibernate&#39;s `@Generated` annotation, which indicates that the column you&#39;re annotating is generated on the database side and will need to be retrieved after inserting new records with a subsequent select statement.\r\n\r\nJPA&#39;s `@GeneratedValue` annotation is used to define primary key generation, as others have pointed out, and should not be used here.","title":"Non-PK automatic UUID (generated on INSERT by Postgres) is failing a JPA Repository.save() for the matching Entity","body":"<p>You can use Hibernate's <code>@Generated</code> annotation, which indicates that the column you're annotating is generated on the database side and will need to be retrieved after inserting new records with a subsequent select statement.</p>\n<p>JPA's <code>@GeneratedValue</code> annotation is used to define primary key generation, as others have pointed out, and should not be used here.</p>\n"},{"comments":[{"owner":{"account_id":10572552,"reputation":123,"user_id":7788806,"display_name":"Kim Somers"},"score":1,"creation_date":1690990329,"post_id":75900798,"comment_id":135430719,"body_markdown":"We&#39;ve been using this approach on Spring boot 2.7 but moving to Spring Boot 3 which uses Hibernate 6, `GenerationTime.INSERT` has been deprecated and one issue I&#39;ve encountered is since Hibernate 6, updates don&#39;t seem to apply on columns annotated with `@Generated(GenerationTime.INSERT)`  anymore. You would be fine here as you&#39;re not intending to update the column but in my scenario we have a default value in the DB schema which can be updated to a different value after the initial insert.","body":"We&#39;ve been using this approach on Spring boot 2.7 but moving to Spring Boot 3 which uses Hibernate 6, <code>GenerationTime.INSERT</code> has been deprecated and one issue I&#39;ve encountered is since Hibernate 6, updates don&#39;t seem to apply on columns annotated with <code>@Generated(GenerationTime.INSERT)</code>  anymore. You would be fine here as you&#39;re not intending to update the column but in my scenario we have a default value in the DB schema which can be updated to a different value after the initial insert."}],"tags":[],"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680281062,"creation_date":1680280253,"answer_id":75900798,"question_id":75890203,"body_markdown":"Thanks to [@Marco Belladielli][1]&#39;s [answer][2], I was FINALLY put on the right track to solve this.\r\n\r\n**tl;dr:**\r\nSpecifically...\r\n - **DO NOT** use the annotation...\r\n   - `@GeneratedValue` - With or without parameters, as it is used exclusive for the PK (Primary Key) generation\r\n   - `@NotNull` - Even though the Postgres DDL explicitly shows the column as `NOT NULL`\r\n - Use the annotation...\r\n   - `@Generated(...)` - With specifically precise parameters\r\n   - `@Column(...)` - Again, with specifically precise parameters\r\n\r\n\r\n----------\r\n\r\n\r\n**Details:**\r\n\r\nThe only code changes is to the Entity&#39;s batchUuid property. This is what ended up working:\r\n\r\n```java\r\nimport org.hibernate.annotations.Generated;\r\nimport org.hibernate.annotations.GenerationTime;\r\n\r\n...\r\n\r\n  @Column(insertable = false, updatable = false, nullable = false)\r\n  @Generated(GenerationTime.INSERT)\r\n  private UUID notPkUuid;\r\n```\r\n\r\n  [1]: https://stackoverflow.com/users/5562053/marco-belladelli\r\n  [2]: https://stackoverflow.com/a/75899318/501113","title":"Non-PK automatic UUID (generated on INSERT by Postgres) is failing a JPA Repository.save() for the matching Entity","body":"<p>Thanks to <a href=\"https://stackoverflow.com/users/5562053/marco-belladelli\">@Marco Belladielli</a>'s <a href=\"https://stackoverflow.com/a/75899318/501113\">answer</a>, I was FINALLY put on the right track to solve this.</p>\n<p><strong>tl;dr:</strong>\nSpecifically...</p>\n<ul>\n<li><strong>DO NOT</strong> use the annotation...\n<ul>\n<li><code>@GeneratedValue</code> - With or without parameters, as it is used exclusive for the PK (Primary Key) generation</li>\n<li><code>@NotNull</code> - Even though the Postgres DDL explicitly shows the column as <code>NOT NULL</code></li>\n</ul>\n</li>\n<li>Use the annotation...\n<ul>\n<li><code>@Generated(...)</code> - With specifically precise parameters</li>\n<li><code>@Column(...)</code> - Again, with specifically precise parameters</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p><strong>Details:</strong></p>\n<p>The only code changes is to the Entity's batchUuid property. This is what ended up working:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.hibernate.annotations.Generated;\nimport org.hibernate.annotations.GenerationTime;\n\n...\n\n  @Column(insertable = false, updatable = false, nullable = false)\n  @Generated(GenerationTime.INSERT)\n  private UUID notPkUuid;\n</code></pre>\n"}],"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":696,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75900798,"answer_count":2,"score":1,"last_activity_date":1680281062,"creation_date":1680190183,"question_id":75890203,"body_markdown":"I have a pre-existing Postgres table designed to automatically generate a DEFAULT value for a UUID typed column THAT IS NOT THE PRIMARY KEY.\r\n\r\nHere&#39;s the DDL:\r\n\r\n```sql\r\nCREATE SEQUENCE IF NOT EXISTS uuid_column_table_seq;\r\nCREATE TABLE IF NOT EXISTS uuid_column_table\r\n(\r\n    uuid_column_table_id     integer  DEFAULT nextval(&#39;uuid_column_table_seq&#39;) NOT NULL,\r\n    not_pk_uuid              uuid     DEFAULT uuid_generate_v4()               NOT NULL,\r\n    label                    text,\r\n    PRIMARY KEY (uuid_column_table_id)\r\n);\r\n```\r\n\r\nAnd I have a JPA entity (I&#39;m attempting) to match:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;uuid_column_table&quot;)\r\npublic class UuidColumnTableEntity {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Integer uuidColumnTableId;\r\n\r\n  @Column\r\n  @GeneratedValue\r\n  private UUID notPkUuid;\r\n\r\n  @Column\r\n  private String label;\r\n\r\n  public Integer getUuidColumnTableId() {\r\n    return this.uuidColumnTableId;\r\n  }\r\n\r\n  public void setUuidColumnTableId(Integer uuidColumnTableId) {\r\n    this.uuidColumnTableId = uuidColumnTableId;\r\n  }\r\n\r\n  public UUID getNotPkUuid() {\r\n    return this.notPkUuid;\r\n  }\r\n\r\n  public void setNotPkUuid(UUID notPkUuid) {\r\n    this.notPkUuid = notPkUuid;\r\n  }\r\n\r\n  public String getLabel() {\r\n    return this.label;\r\n  }\r\n\r\n  public void setLabel(String label) {\r\n    this.label = label;\r\n  }\r\n}\r\n```\r\n\r\nWhen I execute the following code...\r\n\r\n```java\r\nvar uuidColumnTableEntity = new UuidColumnTableEntity();\r\nuuidColumnTableEntity.setLabel(&quot;Test Label&quot;);\r\nvar uuidColumnTableEntityWithPk = UuidColumnTableEntityRepository.save(uuidColumnTableEntity);\r\n```\r\n\r\n\r\n...on the JPA repository of `UuidColumnTableEntityRepository.save()`, I am getting an JPA exception of:\r\n\r\n`could not execute statement; SQL [n/a]; constraint [not_pk_uuid\\&quot; of relation \\&quot;uuid_column_table]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement`\r\n\r\n\r\nGiven I am unable to change the Postgres DDL definition, what do I need to correct in defining my JPA entity?\r\n\r\nVersions:\r\n \r\n - Java 17\r\n - Spring Boot 2.5.6\r\n - Jakarta Persistence 2.2.3\r\n - Postgres 13.3\r\n\r\n\r\n----------\r\n\r\n\r\nNote: I searched for some time hoping someone had a nearby answer to this. However, I found scads of questions and answers that are years out of date. And those closer in time were about how to get JPA to generate the value as opposed to reading back the value generated by the Postgres `INSERT`.","title":"Non-PK automatic UUID (generated on INSERT by Postgres) is failing a JPA Repository.save() for the matching Entity","body":"<p>I have a pre-existing Postgres table designed to automatically generate a DEFAULT value for a UUID typed column THAT IS NOT THE PRIMARY KEY.</p>\n<p>Here's the DDL:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE SEQUENCE IF NOT EXISTS uuid_column_table_seq;\nCREATE TABLE IF NOT EXISTS uuid_column_table\n(\n    uuid_column_table_id     integer  DEFAULT nextval('uuid_column_table_seq') NOT NULL,\n    not_pk_uuid              uuid     DEFAULT uuid_generate_v4()               NOT NULL,\n    label                    text,\n    PRIMARY KEY (uuid_column_table_id)\n);\n</code></pre>\n<p>And I have a JPA entity (I'm attempting) to match:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;uuid_column_table&quot;)\npublic class UuidColumnTableEntity {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Integer uuidColumnTableId;\n\n  @Column\n  @GeneratedValue\n  private UUID notPkUuid;\n\n  @Column\n  private String label;\n\n  public Integer getUuidColumnTableId() {\n    return this.uuidColumnTableId;\n  }\n\n  public void setUuidColumnTableId(Integer uuidColumnTableId) {\n    this.uuidColumnTableId = uuidColumnTableId;\n  }\n\n  public UUID getNotPkUuid() {\n    return this.notPkUuid;\n  }\n\n  public void setNotPkUuid(UUID notPkUuid) {\n    this.notPkUuid = notPkUuid;\n  }\n\n  public String getLabel() {\n    return this.label;\n  }\n\n  public void setLabel(String label) {\n    this.label = label;\n  }\n}\n</code></pre>\n<p>When I execute the following code...</p>\n<pre class=\"lang-java prettyprint-override\"><code>var uuidColumnTableEntity = new UuidColumnTableEntity();\nuuidColumnTableEntity.setLabel(&quot;Test Label&quot;);\nvar uuidColumnTableEntityWithPk = UuidColumnTableEntityRepository.save(uuidColumnTableEntity);\n</code></pre>\n<p>...on the JPA repository of <code>UuidColumnTableEntityRepository.save()</code>, I am getting an JPA exception of:</p>\n<p><code>could not execute statement; SQL [n/a]; constraint [not_pk_uuid\\&quot; of relation \\&quot;uuid_column_table]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement</code></p>\n<p>Given I am unable to change the Postgres DDL definition, what do I need to correct in defining my JPA entity?</p>\n<p>Versions:</p>\n<ul>\n<li>Java 17</li>\n<li>Spring Boot 2.5.6</li>\n<li>Jakarta Persistence 2.2.3</li>\n<li>Postgres 13.3</li>\n</ul>\n<hr />\n<p>Note: I searched for some time hoping someone had a nearby answer to this. However, I found scads of questions and answers that are years out of date. And those closer in time were about how to get JPA to generate the value as opposed to reading back the value generated by the Postgres <code>INSERT</code>.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":1,"creation_date":1589103149,"post_id":61708282,"comment_id":109154613,"body_markdown":"please add the gist of the article to the answer, so the answer stays valid even when the link eventually goes 404.","body":"please add the gist of the article to the answer, so the answer stays valid even when the link eventually goes 404."},{"owner":{"account_id":7737093,"reputation":11,"user_id":5858327,"display_name":"Prakash Rawat"},"score":0,"creation_date":1589105702,"post_id":61708282,"comment_id":109155479,"body_markdown":"getting error with the above solution I have added the error in my question","body":"getting error with the above solution I have added the error in my question"},{"owner":{"account_id":10297479,"reputation":479,"user_id":7597158,"display_name":"Thirumaran"},"score":0,"creation_date":1589177867,"post_id":61708282,"comment_id":109178352,"body_markdown":"Can you add your schema to your Entity class and try. Use @Table(schema=&quot;&quot;)","body":"Can you add your schema to your Entity class and try. Use @Table(schema=&quot;&quot;)"},{"owner":{"account_id":7737093,"reputation":11,"user_id":5858327,"display_name":"Prakash Rawat"},"score":0,"creation_date":1589221826,"post_id":61708282,"comment_id":109202161,"body_markdown":"Getting Error Like Below                                                                                               1 . Caused by: org.hibernate.MappingException: Could not instantiate id generator [entity-name=aurozen.assign.aurozenassign.entity.Employee].                                  2. Caused by: org.hibernate.MappingException: Could not interpret id generator strategy [StringPrefixedSequenceIdGenerator]","body":"Getting Error Like Below                                                                                               1 . Caused by: org.hibernate.MappingException: Could not instantiate id generator [entity-name=aurozen.assign.aurozenassign.entity.Employee].                                  2. Caused by: org.hibernate.MappingException: Could not interpret id generator strategy [StringPrefixedSequenceIdGenerator]"}],"tags":[],"owner":{"account_id":10297479,"reputation":479,"user_id":7597158,"display_name":"Thirumaran"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656442951,"creation_date":1589093685,"answer_id":61708282,"question_id":61708101,"body_markdown":"Hi refer this link [custom-sequence-based-idgenerator][1]\r\n\r\n\r\n  [1]: https://thorben-janssen.com/custom-sequence-based-idgenerator/\r\n\r\ncreate custom generator by extending SequenceStyleGenerator and override configure and generate method\r\n\r\n    public class StringPrefixedSequenceIdGenerator extends \r\n    SequenceStyleGenerator {\r\n \r\n    public static final String VALUE_PREFIX_PARAMETER = &quot;valuePrefix&quot;;\r\n    public static final String VALUE_PREFIX_DEFAULT = &quot;&quot;;\r\n    private String valuePrefix;\r\n \r\n    public static final String NUMBER_FORMAT_PARAMETER = &quot;numberFormat&quot;;\r\n    public static final String NUMBER_FORMAT_DEFAULT = &quot;%d&quot;;\r\n    private String numberFormat;\r\n \r\n    @Override\r\n    public Serializable generate(SharedSessionContractImplementor session,\r\n            Object object) throws HibernateException {\r\n        return valuePrefix + String.format(numberFormat, \r\n        super.generate(session, object));\r\n    }\r\n \r\n    @Override\r\n    public void configure(Type type, Properties params,\r\n            ServiceRegistry serviceRegistry) throws MappingException {\r\n        super.configure(LongType.INSTANCE, params, serviceRegistry);\r\n        valuePrefix = \r\n    ConfigurationHelper.getString(VALUE_PREFIX_PARAMETER,\r\n                params, VALUE_PREFIX_DEFAULT);\r\n        numberFormat = \r\n    ConfigurationHelper.getString(NUMBER_FORMAT_PARAMETER,\r\n                params, NUMBER_FORMAT_DEFAULT);\r\n    }\r\n \r\n    }\r\n\r\nand in your entity \r\n\r\n    @Entity\r\n    public class Book {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \r\n    &quot;book_seq&quot;)\r\n    @GenericGenerator(\r\n        name = &quot;book_seq&quot;, \r\n        strategy = \r\n    &quot;org.thoughts.on.java.generators.StringPrefixedSequenceIdGenerator&quot;, \r\n        parameters = {\r\n            @Parameter(name = \r\n    StringPrefixedSequenceIdGenerator.INCREMENT_PARAM, value = &quot;50&quot;),\r\n            @Parameter(name = \r\n    StringPrefixedSequenceIdGenerator.VALUE_PREFIX_PARAMETER, value = \r\n    &quot;B_&quot;),\r\n            @Parameter(name = \r\n    StringPrefixedSequenceIdGenerator.NUMBER_FORMAT_PARAMETER, value = \r\n    &quot;%05d&quot;) })\r\n    private String id;\r\n \r\n    ...\r\n    }","title":"Custom Sequence Generator in Spring Boot JPA","body":"<p>Hi refer this link <a href=\"https://thorben-janssen.com/custom-sequence-based-idgenerator/\" rel=\"nofollow noreferrer\">custom-sequence-based-idgenerator</a></p>\n<p>create custom generator by extending SequenceStyleGenerator and override configure and generate method</p>\n<pre><code>public class StringPrefixedSequenceIdGenerator extends \nSequenceStyleGenerator {\n\npublic static final String VALUE_PREFIX_PARAMETER = &quot;valuePrefix&quot;;\npublic static final String VALUE_PREFIX_DEFAULT = &quot;&quot;;\nprivate String valuePrefix;\n\npublic static final String NUMBER_FORMAT_PARAMETER = &quot;numberFormat&quot;;\npublic static final String NUMBER_FORMAT_DEFAULT = &quot;%d&quot;;\nprivate String numberFormat;\n\n@Override\npublic Serializable generate(SharedSessionContractImplementor session,\n        Object object) throws HibernateException {\n    return valuePrefix + String.format(numberFormat, \n    super.generate(session, object));\n}\n\n@Override\npublic void configure(Type type, Properties params,\n        ServiceRegistry serviceRegistry) throws MappingException {\n    super.configure(LongType.INSTANCE, params, serviceRegistry);\n    valuePrefix = \nConfigurationHelper.getString(VALUE_PREFIX_PARAMETER,\n            params, VALUE_PREFIX_DEFAULT);\n    numberFormat = \nConfigurationHelper.getString(NUMBER_FORMAT_PARAMETER,\n            params, NUMBER_FORMAT_DEFAULT);\n}\n\n}\n</code></pre>\n<p>and in your entity</p>\n<pre><code>@Entity\npublic class Book {\n@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \n&quot;book_seq&quot;)\n@GenericGenerator(\n    name = &quot;book_seq&quot;, \n    strategy = \n&quot;org.thoughts.on.java.generators.StringPrefixedSequenceIdGenerator&quot;, \n    parameters = {\n        @Parameter(name = \nStringPrefixedSequenceIdGenerator.INCREMENT_PARAM, value = &quot;50&quot;),\n        @Parameter(name = \nStringPrefixedSequenceIdGenerator.VALUE_PREFIX_PARAMETER, value = \n&quot;B_&quot;),\n        @Parameter(name = \nStringPrefixedSequenceIdGenerator.NUMBER_FORMAT_PARAMETER, value = \n&quot;%05d&quot;) })\nprivate String id;\n\n...\n}\n</code></pre>\n"}],"owner":{"account_id":7737093,"reputation":11,"user_id":5858327,"display_name":"Prakash Rawat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17067,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680281058,"creation_date":1589092541,"question_id":61708101,"body_markdown":"I want the **empid** to be generated in sequence like EMP_01,EMP_02.....\r\n\r\n\r\n***Employee.classs***\r\n    \r\n    import aurozen.assign.aurozenassign.StringPrefixedSequenceIdGenerator;\r\n    import lombok.ToString;\r\n    import org.hibernate.annotations.GenericGenerator;\r\n    import org.hibernate.annotations.Parameter;\r\n    import javax.persistence.*;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    @ToString\r\n    @Entity\r\n    public class Employee {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;emp_seq&quot;)\r\n        @GenericGenerator(name = &quot;emp_seq&quot;, strategy = &quot;aurozen.assign.aurozenassign.StringPrefixedSequenceIdGenerator&quot;,\r\n                parameters = {\r\n                @Parameter(name = StringPrefixedSequenceIdGenerator.INCREMENT_PARAM, value = &quot;50&quot;),\r\n                @Parameter(name = StringPrefixedSequenceIdGenerator.VALUE_PREFIX_PARAMETER, value = &quot;B_&quot;),\r\n                @Parameter(name = StringPrefixedSequenceIdGenerator.NUMBER_FORMAT_PARAMETER, value = &quot;%05d&quot;) })\r\n        private String empid;\r\n    \r\n        private String empname;\r\n        private String empcontact;\r\n        private String empemail;\r\n        private String empphoto;\r\n    \r\n        @OneToMany(mappedBy = &quot;employee&quot;, cascade = CascadeType.ALL)\r\n        private List&lt;Skillset&gt; skillset;\r\n    \r\n        public String getEmpid() {\r\n            return empid;\r\n        }\r\n    \r\n        public void setEmpid(String empid) {\r\n            this.empid = empid;\r\n        }\r\n    \r\n        public String getEmpname() {\r\n            return empname;\r\n        }\r\n    \r\n        public void setEmpname(String empname) {\r\n            this.empname = empname;\r\n        }\r\n    \r\n        public String getEmpcontact() {\r\n            return empcontact;\r\n        }\r\n    \r\n        public void setEmpcontact(String empcontact) {\r\n            this.empcontact = empcontact;\r\n        }\r\n    \r\n        public String getEmpemail() {\r\n            return empemail;\r\n        }\r\n    \r\n        public void setEmpemail(String empemail) {\r\n            this.empemail = empemail;\r\n        }\r\n    \r\n        public String getEmpphoto() {\r\n            return empphoto;\r\n        }\r\n    \r\n        public void setEmpphoto(String empphoto) {\r\n            this.empphoto = empphoto;\r\n        }\r\n    \r\n        public List&lt;Skillset&gt; getSkillset() {\r\n            return skillset;\r\n        }\r\n    \r\n        public void setSkillset(List&lt;Skillset&gt; skillset) {\r\n            this.skillset = skillset;\r\n            skillset.forEach(s -&gt; s.setEmployee(this));\r\n        }\r\n    }\r\n\r\n***StringPrefixedSequenceIdGenerator***\r\n\r\n\r\n    import org.hibernate.HibernateException;\r\n    import org.hibernate.MappingException;\r\n    import org.hibernate.engine.spi.SharedSessionContractImplementor;\r\n    import org.hibernate.id.enhanced.SequenceStyleGenerator;\r\n    import org.hibernate.internal.util.config.ConfigurationHelper;\r\n    import org.hibernate.service.ServiceRegistry;\r\n    import org.hibernate.type.LongType;\r\n    import org.hibernate.type.Type;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.Properties;\r\n    \r\n    public class StringPrefixedSequenceIdGenerator extends SequenceStyleGenerator {\r\n    \r\n        public static final String VALUE_PREFIX_PARAMETER = &quot;valuePrefix&quot;;\r\n        public static final String VALUE_PREFIX_DEFAULT = &quot;&quot;;\r\n        private String valuePrefix;\r\n    \r\n        public static final String NUMBER_FORMAT_PARAMETER = &quot;numberFormat&quot;;\r\n        public static final String NUMBER_FORMAT_DEFAULT = &quot;%d&quot;;\r\n        private String numberFormat;\r\n    \r\n        @Override\r\n        public Serializable generate(SharedSessionContractImplementor session,\r\n                                     Object object) throws HibernateException {\r\n            return valuePrefix + String.format(numberFormat, super.generate(session, object));\r\n        }\r\n    \r\n        @Override\r\n        public void configure(Type type, Properties params,\r\n                              ServiceRegistry serviceRegistry) throws MappingException {\r\n            super.configure(LongType.INSTANCE, params, serviceRegistry);\r\n            valuePrefix = ConfigurationHelper.getString(VALUE_PREFIX_PARAMETER,\r\n                    params, VALUE_PREFIX_DEFAULT);\r\n            numberFormat = ConfigurationHelper.getString(NUMBER_FORMAT_PARAMETER,\r\n                    params, NUMBER_FORMAT_DEFAULT);\r\n        }\r\n    \r\n    }\r\n\r\nhow can generate the sequence with some prefix.\r\nI tried so many solution on net but nothing worked.\r\nPlease help me to find what can I do to generate the sequence with some prefix.\r\n\r\nPlease help me to find what can I do to generate the sequence with some prefix.\r\nPlease help me to find what can I do to generate the sequence with some prefix.\r\nPlease help me to find what can I do to generate the sequence with some prefix.\r\nPlease help me to find what can I do to generate the sequence with some prefix.\r\n\r\n\r\n\r\nImplemented the Solution Provide by Thirumaran But getting Error \r\n\r\n    \r\n\r\n\r\n    java.sql.SQLSyntaxErrorException: Table &#39;purozon.emp_seq&#39; doesn&#39;t exist\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.19.jar:8.0.19]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.19.jar:8.0.19]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.19.jar:8.0.19]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.19.jar:8.0.19]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1003) ~[mysql-connector-java-8.0.19.jar:8.0.19]\r\n    \tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-3.4.2.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-3.4.2.jar:na]\r\n    \tat org.hibernate.id.enhanced.TableStructure.executeQuery(TableStructure.java:216) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.id.enhanced.TableStructure.access$300(TableStructure.java:46) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.id.enhanced.TableStructure$1$1.execute(TableStructure.java:138) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.id.enhanced.TableStructure$1$1.execute(TableStructure.java:126) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.jdbc.WorkExecutor.executeReturningWork(WorkExecutor.java:55) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.jdbc.AbstractReturningWork.accept(AbstractReturningWork.java:34) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:57) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.id.enhanced.TableStructure$1.getNextValue(TableStructure.java:125) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.id.enhanced.PooledOptimizer.generate(PooledOptimizer.java:73) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.id.enhanced.SequenceStyleGenerator.generate(SequenceStyleGenerator.java:523) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat aurozen.assign.aurozenassign.StringPrefixedSequenceIdGenerator.generate(StringPrefixedSequenceIdGenerator.java:28) ~[classes/:na]\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:115) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:102) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:710) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:696) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:366) ~[spring-orm-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat com.sun.proxy.$Proxy101.persist(Unknown Source) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:314) ~[spring-orm-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat com.sun.proxy.$Proxy101.persist(Unknown Source) ~[na:na]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:554) ~[spring-data-jpa-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:371) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:204) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:657) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:621) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:605) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366) ~[spring-tx-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:178) ~[spring-data-jpa-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat com.sun.proxy.$Proxy112.save(Unknown Source) ~[na:na]\r\n    \tat aurozen.assign.aurozenassign.controller.EmployeeController.addEmployee(EmployeeController.java:41) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat aurozen.assign.aurozenassign.filter.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:56) ~[classes/:na]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n\r\n\r\n\r\n***Schema Name is purozon*** \r\n\r\n","title":"Custom Sequence Generator in Spring Boot JPA","body":"<p>I want the <strong>empid</strong> to be generated in sequence like EMP_01,EMP_02.....</p>\n\n<p><strong><em>Employee.classs</em></strong></p>\n\n<pre><code>import aurozen.assign.aurozenassign.StringPrefixedSequenceIdGenerator;\nimport lombok.ToString;\nimport org.hibernate.annotations.GenericGenerator;\nimport org.hibernate.annotations.Parameter;\nimport javax.persistence.*;\nimport java.util.ArrayList;\nimport java.util.List;\n@ToString\n@Entity\npublic class Employee {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"emp_seq\")\n    @GenericGenerator(name = \"emp_seq\", strategy = \"aurozen.assign.aurozenassign.StringPrefixedSequenceIdGenerator\",\n            parameters = {\n            @Parameter(name = StringPrefixedSequenceIdGenerator.INCREMENT_PARAM, value = \"50\"),\n            @Parameter(name = StringPrefixedSequenceIdGenerator.VALUE_PREFIX_PARAMETER, value = \"B_\"),\n            @Parameter(name = StringPrefixedSequenceIdGenerator.NUMBER_FORMAT_PARAMETER, value = \"%05d\") })\n    private String empid;\n\n    private String empname;\n    private String empcontact;\n    private String empemail;\n    private String empphoto;\n\n    @OneToMany(mappedBy = \"employee\", cascade = CascadeType.ALL)\n    private List&lt;Skillset&gt; skillset;\n\n    public String getEmpid() {\n        return empid;\n    }\n\n    public void setEmpid(String empid) {\n        this.empid = empid;\n    }\n\n    public String getEmpname() {\n        return empname;\n    }\n\n    public void setEmpname(String empname) {\n        this.empname = empname;\n    }\n\n    public String getEmpcontact() {\n        return empcontact;\n    }\n\n    public void setEmpcontact(String empcontact) {\n        this.empcontact = empcontact;\n    }\n\n    public String getEmpemail() {\n        return empemail;\n    }\n\n    public void setEmpemail(String empemail) {\n        this.empemail = empemail;\n    }\n\n    public String getEmpphoto() {\n        return empphoto;\n    }\n\n    public void setEmpphoto(String empphoto) {\n        this.empphoto = empphoto;\n    }\n\n    public List&lt;Skillset&gt; getSkillset() {\n        return skillset;\n    }\n\n    public void setSkillset(List&lt;Skillset&gt; skillset) {\n        this.skillset = skillset;\n        skillset.forEach(s -&gt; s.setEmployee(this));\n    }\n}\n</code></pre>\n\n<p><strong><em>StringPrefixedSequenceIdGenerator</em></strong></p>\n\n<pre><code>import org.hibernate.HibernateException;\nimport org.hibernate.MappingException;\nimport org.hibernate.engine.spi.SharedSessionContractImplementor;\nimport org.hibernate.id.enhanced.SequenceStyleGenerator;\nimport org.hibernate.internal.util.config.ConfigurationHelper;\nimport org.hibernate.service.ServiceRegistry;\nimport org.hibernate.type.LongType;\nimport org.hibernate.type.Type;\n\nimport java.io.Serializable;\nimport java.util.Properties;\n\npublic class StringPrefixedSequenceIdGenerator extends SequenceStyleGenerator {\n\n    public static final String VALUE_PREFIX_PARAMETER = \"valuePrefix\";\n    public static final String VALUE_PREFIX_DEFAULT = \"\";\n    private String valuePrefix;\n\n    public static final String NUMBER_FORMAT_PARAMETER = \"numberFormat\";\n    public static final String NUMBER_FORMAT_DEFAULT = \"%d\";\n    private String numberFormat;\n\n    @Override\n    public Serializable generate(SharedSessionContractImplementor session,\n                                 Object object) throws HibernateException {\n        return valuePrefix + String.format(numberFormat, super.generate(session, object));\n    }\n\n    @Override\n    public void configure(Type type, Properties params,\n                          ServiceRegistry serviceRegistry) throws MappingException {\n        super.configure(LongType.INSTANCE, params, serviceRegistry);\n        valuePrefix = ConfigurationHelper.getString(VALUE_PREFIX_PARAMETER,\n                params, VALUE_PREFIX_DEFAULT);\n        numberFormat = ConfigurationHelper.getString(NUMBER_FORMAT_PARAMETER,\n                params, NUMBER_FORMAT_DEFAULT);\n    }\n\n}\n</code></pre>\n\n<p>how can generate the sequence with some prefix.\nI tried so many solution on net but nothing worked.\nPlease help me to find what can I do to generate the sequence with some prefix.</p>\n\n<p>Please help me to find what can I do to generate the sequence with some prefix.\nPlease help me to find what can I do to generate the sequence with some prefix.\nPlease help me to find what can I do to generate the sequence with some prefix.\nPlease help me to find what can I do to generate the sequence with some prefix.</p>\n\n<p>Implemented the Solution Provide by Thirumaran But getting Error </p>\n\n<pre><code>java.sql.SQLSyntaxErrorException: Table 'purozon.emp_seq' doesn't exist\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.19.jar:8.0.19]\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.19.jar:8.0.19]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.19.jar:8.0.19]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.19.jar:8.0.19]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1003) ~[mysql-connector-java-8.0.19.jar:8.0.19]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-3.4.2.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-3.4.2.jar:na]\n    at org.hibernate.id.enhanced.TableStructure.executeQuery(TableStructure.java:216) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.id.enhanced.TableStructure.access$300(TableStructure.java:46) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.id.enhanced.TableStructure$1$1.execute(TableStructure.java:138) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.id.enhanced.TableStructure$1$1.execute(TableStructure.java:126) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.jdbc.WorkExecutor.executeReturningWork(WorkExecutor.java:55) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.jdbc.AbstractReturningWork.accept(AbstractReturningWork.java:34) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:57) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.id.enhanced.TableStructure$1.getNextValue(TableStructure.java:125) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.id.enhanced.PooledOptimizer.generate(PooledOptimizer.java:73) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.id.enhanced.SequenceStyleGenerator.generate(SequenceStyleGenerator.java:523) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at aurozen.assign.aurozenassign.StringPrefixedSequenceIdGenerator.generate(StringPrefixedSequenceIdGenerator.java:28) ~[classes/:na]\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:115) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:102) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:710) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:696) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:366) ~[spring-orm-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at com.sun.proxy.$Proxy101.persist(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:314) ~[spring-orm-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at com.sun.proxy.$Proxy101.persist(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:554) ~[spring-data-jpa-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:371) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:204) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:657) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:621) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:605) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366) ~[spring-tx-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:178) ~[spring-data-jpa-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at com.sun.proxy.$Proxy112.save(Unknown Source) ~[na:na]\n    at aurozen.assign.aurozenassign.controller.EmployeeController.addEmployee(EmployeeController.java:41) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at aurozen.assign.aurozenassign.filter.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:56) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n\n<p><strong><em>Schema Name is purozon</em></strong> </p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-thymeleaf"],"owner":{"account_id":28180698,"reputation":1,"user_id":21537760,"display_name":"Michael Nunziata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680280960,"creation_date":1680280586,"question_id":75900849,"body_markdown":"im  spring boot jpa and thymelead which get data from excel file. up to insert works fine but after if i import another file i want to check if data exist in db update its value and if not just insert a new one.\r\n\r\nhere my code..serviceClass\r\n```\r\nString filePathExcel=GetPath.GetPathDesktop()+&quot;\\\\Iniziale.xlsx&quot;;\r\n\t\t\t FileInputStream inputStream;\r\n\t\t\t \r\n\t\t\t inputStream = new FileInputStream(filePathExcel);\r\n\t\t\t\tWorkbook workbook = new XSSFWorkbook(inputStream);\r\n\t\t\t\tSheet  firstSheet = workbook.getSheetAt(0);\r\n\t\t\t\tIterator&lt;Row&gt; rowIterator= firstSheet.iterator();\r\n\t\t\t\trowIterator.next();\r\n\t\t\t\tint riga =0;\r\n\t\t\t\tint  count=0;\r\n\t\t\t\twhile(rowIterator.hasNext()) {\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t\tSystem.out.println(&quot;NUMERO ROW :&quot;+count);\r\n\t\t\t\t\tRow nextRow = rowIterator.next();\r\n\t\t\t\t\tIterator&lt;Cell&gt; cellIterator = nextRow.cellIterator();\r\n\t\t\t\t\twhile(cellIterator.hasNext()) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tCell nextCell = cellIterator.next();\r\n\t\t\t\t\t\tint colIndex = nextCell.getColumnIndex();\r\n\t\t\t\t\t\tswitch(colIndex) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tcase 1:\t\r\n\t\t\t\t\t\t\triga++;\r\n                            //HERE I FIND ALL THE DATA IN DB\r\n\t\t\t\t\t\t\tList&lt;CodiceQuotazioni&gt;list = codiceQuotazioniService.findAll();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tfor(CodiceQuotazioni cod:list) {\r\n\t\t\t\t\t\t\t//HERE I LOOP THROUGH THE RES AND I FIND SINGLE ONE\r\n\t\t\t\t\t\t\t\tOptional&lt;CodiceQuotazioni&gt; vekkio= codiceQuotazioniRepo.findByCodice(cod.getCodice().toString());\r\n                                 //CONTROL IF THE CODICE IS NEW ONE\r\n\t\t\t\t\t\t\t\tif (codice != null ) {\r\n\t\t\t\t\t\t\t\tcodice= nextCell.getStringCellValue();\t\r\n\t\t\t\t\t\t\t\tSystem.out.println(codice+&quot; codice alla riga&quot;+riga);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}else \r\n//HERE I CONTROL IF ITS ALREADY IN DB \r\nif(codice.equals(vekkio.toString())){\r\n\t\t\t\t\t\t\t\t\tvekkio.get().setCodice(cod.getCodice());\r\n\t\t\t\t\t\t\t\t}break;\r\n\t\t\t\t\t\t}break;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\trrp = (int) nextCell.getNumericCellValue();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tdefault:break;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcodiceQuotazioniRepo.save(new CodiceQuotazioni(codice,rrp));\r\n\t\t\t}\r\n\t\t\tworkbook.close();\r\n\t\t\t\r\n\t\t\treturn codiceLista;\t\t\r\n           }\r\n```\r\n","title":"spring boot insert o update or any other solution","body":"<p>im  spring boot jpa and thymelead which get data from excel file. up to insert works fine but after if i import another file i want to check if data exist in db update its value and if not just insert a new one.</p>\n<p>here my code..serviceClass</p>\n<pre><code>String filePathExcel=GetPath.GetPathDesktop()+&quot;\\\\Iniziale.xlsx&quot;;\n             FileInputStream inputStream;\n             \n             inputStream = new FileInputStream(filePathExcel);\n                Workbook workbook = new XSSFWorkbook(inputStream);\n                Sheet  firstSheet = workbook.getSheetAt(0);\n                Iterator&lt;Row&gt; rowIterator= firstSheet.iterator();\n                rowIterator.next();\n                int riga =0;\n                int  count=0;\n                while(rowIterator.hasNext()) {\n                    count++;\n                    System.out.println(&quot;NUMERO ROW :&quot;+count);\n                    Row nextRow = rowIterator.next();\n                    Iterator&lt;Cell&gt; cellIterator = nextRow.cellIterator();\n                    while(cellIterator.hasNext()) {\n                        \n                        Cell nextCell = cellIterator.next();\n                        int colIndex = nextCell.getColumnIndex();\n                        switch(colIndex) {\n                        \n                        case 1: \n                            riga++;\n                            //HERE I FIND ALL THE DATA IN DB\n                            List&lt;CodiceQuotazioni&gt;list = codiceQuotazioniService.findAll();\n                            \n                            for(CodiceQuotazioni cod:list) {\n                            //HERE I LOOP THROUGH THE RES AND I FIND SINGLE ONE\n                                Optional&lt;CodiceQuotazioni&gt; vekkio= codiceQuotazioniRepo.findByCodice(cod.getCodice().toString());\n                                 //CONTROL IF THE CODICE IS NEW ONE\n                                if (codice != null ) {\n                                codice= nextCell.getStringCellValue();  \n                                System.out.println(codice+&quot; codice alla riga&quot;+riga);\n                                break;\n                                }else \n//HERE I CONTROL IF ITS ALREADY IN DB \nif(codice.equals(vekkio.toString())){\n                                    vekkio.get().setCodice(cod.getCodice());\n                                }break;\n                        }break;\n                            \n                        case 2:\n                            \n                        rrp = (int) nextCell.getNumericCellValue();\n                        \n                            break;\n                            \n                            default:break;\n                            \n                        }\n                }\n                codiceQuotazioniRepo.save(new CodiceQuotazioni(codice,rrp));\n            }\n            workbook.close();\n            \n            return codiceLista;     \n           }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","pom.xml"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1680247573,"post_id":75895828,"comment_id":133869064,"body_markdown":"Use spring-boot 3.x","body":"Use spring-boot 3.x"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1680255110,"post_id":75895828,"comment_id":133870725,"body_markdown":"With spring boot 2.x,  `servlet` package is `javax` not `jakarta`","body":"With spring boot 2.x,  <code>servlet</code> package is <code>javax</code> not <code>jakarta</code>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680279725,"creation_date":1680276649,"answer_id":75900273,"question_id":75895828,"body_markdown":"*Java EE* became *Jakarta EE* when Oracle Corp donated the technologies to the Eclipse Foundation. \r\n\r\nDuring this transition, the package naming of the various APIs changed from `javax.*` to `jakarta.*`. \r\n\r\n - Spring Boot 2 supports the old naming: `javax.*`\r\n - Spring Boot 3 supports the new naming: `jakarta.*`\r\n\r\nI would recommend going with Spring Boot 3 and [Jakarta EE][1]. Be sure to study the release notes as many changes happened in this major new version. \r\n\r\nIf you use any libraries that rely on the old naming, you’ll have to stick with Spring Boot 2 and the older Java EE APIs and naming. \r\n\r\n\r\n----------\r\n\r\n\r\nThis Jakarta transition has been covered thoroughly by the industry press. You might want to occasionally read that press to keep yourself abreast of such changes. \r\n\r\n\r\n  [1]: https://jakarta.ee/","title":"Unable to start web server; nested exception is java.lang.NoClassDefFoundError: jakarta/servlet/jsp/JspFactory","body":"<p><em>Java EE</em> became <em>Jakarta EE</em> when Oracle Corp donated the technologies to the Eclipse Foundation.</p>\n<p>During this transition, the package naming of the various APIs changed from <code>javax.*</code> to <code>jakarta.*</code>.</p>\n<ul>\n<li>Spring Boot 2 supports the old naming: <code>javax.*</code></li>\n<li>Spring Boot 3 supports the new naming: <code>jakarta.*</code></li>\n</ul>\n<p>I would recommend going with Spring Boot 3 and <a href=\"https://jakarta.ee/\" rel=\"nofollow noreferrer\">Jakarta EE</a>. Be sure to study the release notes as many changes happened in this major new version.</p>\n<p>If you use any libraries that rely on the old naming, you’ll have to stick with Spring Boot 2 and the older Java EE APIs and naming.</p>\n<hr />\n<p>This Jakarta transition has been covered thoroughly by the industry press. You might want to occasionally read that press to keep yourself abreast of such changes.</p>\n"}],"owner":{"account_id":28176035,"reputation":1,"user_id":21533805,"display_name":"ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1680279725,"creation_date":1680247052,"question_id":75895828,"body_markdown":"    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.4.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.jpa&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;SpringBootJpa1&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;SpringBootJpa1&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t &lt;dependency&gt;\r\n          &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat/tomcat-jasper --&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.secure&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;SecurityDemo&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nSeeing this error ! \r\n","title":"Unable to start web server; nested exception is java.lang.NoClassDefFoundError: jakarta/servlet/jsp/JspFactory","body":"<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.jpa&lt;/groupId&gt;\n    &lt;artifactId&gt;SpringBootJpa1&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SpringBootJpa1&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n         &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat/tomcat-jasper --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.secure&lt;/groupId&gt;\n            &lt;artifactId&gt;SecurityDemo&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Seeing this error !</p>\n"},{"tags":["java","spring-boot","rest"],"owner":{"account_id":22560169,"reputation":11,"user_id":16747918,"display_name":"Шатов Данил"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680278888,"creation_date":1680278888,"question_id":75900628,"body_markdown":"i try to response this object:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    public class DeviceSummaryResponse {\r\n    \r\n        @ApiModelProperty(value = &quot;Конфигурация устройства&quot;, required = true)\r\n        private ConfigResponse config;\r\n    \r\n        @ApiModelProperty(value = &quot;GPX файл с маршрутом устройства&quot;, required = true)\r\n        private Resource route;\r\n    }\r\n\r\n\r\nbut how can i do it?\r\n\r\ni try like this:\r\n\r\n    @GetMapping(DEVICE_ID_PATH)\r\n        public ResponseEntity&lt;DeviceSummaryResponse&gt; getDeviceSummary(@PathVariable(name = &quot;id&quot;) Long id) {\r\n    \r\n            log.debug(&quot;REST request to get summary for complex with id = {}&quot;, id);\r\n    \r\n            var deviceSummary = mobileComplexService.getSummary(id);\r\n    \r\n            return ResponseEntity.ok().body(deviceSummaryMapper.toResponse(deviceSummary));\r\n        }\r\n\r\nbut it gets me:\r\n\r\n&gt; org.springframework.http.converter.HttpMessageConversionException:\r\n&gt; Type definition error: [simple type, class\r\n&gt; java.io.BufferedInputStream]; nested exception is\r\n&gt; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No\r\n&gt; serializer found for class java.io.BufferedInputStream and no\r\n&gt; properties discovered to create BeanSerializer (to avoid exception,\r\n&gt; disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference\r\n&gt; chain:\r\n&gt; ru.fabit.visor.ui.web.http.model.response.complexes.mobilecomplex.DeviceSummaryResponse[&quot;route&quot;]-&gt;org.springframework.core.io.InputStreamResource[&quot;inputStream&quot;])\r\n\r\n","title":"how to resnopjnse file and json in one object Spring boot","body":"<p>i try to response this object:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class DeviceSummaryResponse {\n\n    @ApiModelProperty(value = &quot;Конфигурация устройства&quot;, required = true)\n    private ConfigResponse config;\n\n    @ApiModelProperty(value = &quot;GPX файл с маршрутом устройства&quot;, required = true)\n    private Resource route;\n}\n</code></pre>\n<p>but how can i do it?</p>\n<p>i try like this:</p>\n<pre><code>@GetMapping(DEVICE_ID_PATH)\n    public ResponseEntity&lt;DeviceSummaryResponse&gt; getDeviceSummary(@PathVariable(name = &quot;id&quot;) Long id) {\n\n        log.debug(&quot;REST request to get summary for complex with id = {}&quot;, id);\n\n        var deviceSummary = mobileComplexService.getSummary(id);\n\n        return ResponseEntity.ok().body(deviceSummaryMapper.toResponse(deviceSummary));\n    }\n</code></pre>\n<p>but it gets me:</p>\n<blockquote>\n<p>org.springframework.http.converter.HttpMessageConversionException:\nType definition error: [simple type, class\njava.io.BufferedInputStream]; nested exception is\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No\nserializer found for class java.io.BufferedInputStream and no\nproperties discovered to create BeanSerializer (to avoid exception,\ndisable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference\nchain:\nru.fabit.visor.ui.web.http.model.response.complexes.mobilecomplex.DeviceSummaryResponse[&quot;route&quot;]-&gt;org.springframework.core.io.InputStreamResource[&quot;inputStream&quot;])</p>\n</blockquote>\n"},{"tags":["java","android","pdf-generation","itext7"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1680278897,"post_id":75900558,"comment_id":133876812,"body_markdown":"The file exists bur does not belong to your app.","body":"The file exists bur does not belong to your app."},{"owner":{"account_id":25880957,"reputation":1,"user_id":19610022,"display_name":"Mohd Ashfaq"},"score":0,"creation_date":1680328592,"post_id":75900558,"comment_id":133883486,"body_markdown":"What does that mean?","body":"What does that mean?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1680328694,"post_id":75900558,"comment_id":133883491,"body_markdown":"Well is it true or not?","body":"Well is it true or not?"},{"owner":{"account_id":5909013,"reputation":1410,"user_id":4649860,"display_name":"Chirag Thummar"},"score":0,"creation_date":1689151494,"post_id":75900558,"comment_id":135171277,"body_markdown":"There is file permission issue","body":"There is file permission issue"}],"owner":{"account_id":25880957,"reputation":1,"user_id":19610022,"display_name":"Mohd Ashfaq"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680278578,"creation_date":1680278380,"question_id":75900558,"body_markdown":"The app is generating the pdf in AVD but when I am running it in my android device it is not generating the pdf.\r\n\r\nAndroid device OS - 11\r\n\r\nAVD 1 - 11 API 30\r\n\r\nAVD 2 - Tiramisu API 33\r\n\r\nApp is working fine in both AVDs\r\n\r\nI tried adding \r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n```\r\n\r\nand this is my build.gradle\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.invoicemaker&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.invoicemaker&quot;\r\n        minSdk 26\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    packagingOptions {\r\n        exclude(&quot;com/itextpdf/io/font/cmap_info.txt&quot;)\r\n        exclude(&quot;com/itextpdf/io/font/cmap/MSungStd-Light.properties&quot;)\r\n        exclude(&quot;com/itextpdf/io/font/cmap/MSung-Light.properties&quot;)\r\n        exclude(&quot;com/itextpdf/io/font/cmap/STSong-Light.properties&quot;)\r\n        exclude(&quot;com/itextpdf/io/font/cmap/STSongStd-Light.properties&quot;)\r\n        exclude(&quot;com/itextpdf/io/font/cmap/HYSMyeongJoStd-Medium.properties&quot;)\r\n        exclude(&quot;com/itextpdf/io/font/cmap/HYGoThic-Medium.properties&quot;)\r\n        exclude(&quot;com/itextpdf/io/font/cmap/HYSMyeongJo-Medium.properties&quot;)\r\n        exclude(&quot;com/itextpdf/io/font/cmap/KozMinPro-Regular.properties&quot;)\r\n        exclude(&quot;com/itextpdf/io/font/cmap/MHei-Medium.properties&quot;)\r\n        exclude(&quot;com/itextpdf/io/font/cmap/HeiseiMin-W3.properties&quot;)\r\n        exclude(&quot;com/itextpdf/io/font/cmap/cjk_registry.properties&quot;)\r\n        exclude(&quot;com/itextpdf/io/font/cmap/HeiseiKakuGo-W5.properties&quot;)\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    implementation &#39;com.itextpdf:itext7-core:7.1.3&#39;\r\n}\r\n```\r\n\r\nThis is my code :\r\n\r\n```\r\npackage com.example.invoicemaker;\r\n\r\nimport static android.Manifest.permission.READ_EXTERNAL_STORAGE;\r\nimport static android.Manifest.permission.WRITE_EXTERNAL_STORAGE;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.OutputStream;\r\n\r\n\r\nimport android.annotation.TargetApi;\r\nimport android.content.DialogInterface;\r\nimport android.content.RestrictionEntry;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.drawable.BitmapDrawable;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.util.Log;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport com.itextpdf.io.image.ImageData;\r\nimport com.itextpdf.io.image.ImageDataFactory;\r\nimport com.itextpdf.kernel.pdf.PdfDocument;\r\nimport com.itextpdf.kernel.pdf.PdfWriter;\r\nimport com.itextpdf.layout.Document;\r\nimport com.itextpdf.layout.borders.Border;\r\nimport com.itextpdf.layout.element.Cell;\r\nimport com.itextpdf.layout.element.Image;\r\nimport com.itextpdf.layout.element.Paragraph;\r\nimport com.itextpdf.layout.element.Table;\r\nimport com.itextpdf.layout.property.TextAlignment;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private EditText nameEditText, numberEditText, addressEditText, dateEditText, priceEditText;\r\n    private String name, phone, address, date, price;\r\n    private Button button;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        nameEditText= findViewById(R.id.nameEditText);\r\n        numberEditText= findViewById(R.id.phoneEditText);\r\n        addressEditText= findViewById(R.id.addressEditText);\r\n        dateEditText= findViewById(R.id.invoiceDateEditText);\r\n        priceEditText= findViewById(R.id.priceEditText);\r\n        button = findViewById(R.id.button);\r\n\r\n        name = nameEditText.toString();\r\n        phone = numberEditText.toString();\r\n        address = addressEditText.toString();\r\n        date = dateEditText.toString();\r\n        price = priceEditText.toString();\r\n\r\n        if (!checkPermission()) {\r\n            try {\r\n                openActivity();\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n        } else {\r\n            if (checkPermission()) {\r\n                requestPermissionAndContinue();\r\n            } else {\r\n                try {\r\n                    openActivity();\r\n                } catch (FileNotFoundException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n    private static final int PERMISSION_REQUEST_CODE = 200;\r\n    private boolean checkPermission() {\r\n\r\n        return ContextCompat.checkSelfPermission(this, WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED\r\n                &amp;&amp; ContextCompat.checkSelfPermission(this, READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED\r\n                ;\r\n    }\r\n\r\n    private void requestPermissionAndContinue() {\r\n        if (ContextCompat.checkSelfPermission(this, WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED\r\n                &amp;&amp; ContextCompat.checkSelfPermission(this, READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this, WRITE_EXTERNAL_STORAGE)\r\n                    &amp;&amp; ActivityCompat.shouldShowRequestPermissionRationale(this, READ_EXTERNAL_STORAGE)) {\r\n                AlertDialog.Builder alertBuilder = new AlertDialog.Builder(this);\r\n                alertBuilder.setCancelable(true);\r\n                alertBuilder.setTitle(getString(R.string.permission_necessary));\r\n                alertBuilder.setMessage(R.string.storage_permission_is_encessary_to_wrote_event);\r\n                alertBuilder.setPositiveButton(android.R.string.yes, new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        ActivityCompat.requestPermissions(MainActivity.this, new String[]{WRITE_EXTERNAL_STORAGE\r\n                                , READ_EXTERNAL_STORAGE}, PERMISSION_REQUEST_CODE);\r\n                    }\r\n                });\r\n                AlertDialog alert = alertBuilder.create();\r\n                alert.show();\r\n                Log.e(&quot;&quot;, &quot;permission denied, show dialog&quot;);\r\n            } else {\r\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{WRITE_EXTERNAL_STORAGE,\r\n                        READ_EXTERNAL_STORAGE}, PERMISSION_REQUEST_CODE);\r\n            }\r\n        } else {\r\n        try {\r\n            openActivity():\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n\r\n        if (requestCode == PERMISSION_REQUEST_CODE) {\r\n            if (permissions.length &gt; 0 &amp;&amp; grantResults.length &gt; 0) {\r\n\r\n                boolean flag = true;\r\n                for (int i = 0; i &lt; grantResults.length; i++) {\r\n                    if (grantResults[i] != PackageManager.PERMISSION_GRANTED) {\r\n                        flag = false;\r\n                    }\r\n                }\r\n                if (flag) {\r\n                    try {\r\n                        openActivity();\r\n                    } catch (FileNotFoundException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                } else {\r\n                    finish();\r\n                }\r\n\r\n            } else {\r\n                finish();\r\n            }\r\n        } else {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        }\r\n    }\r\n\r\n    private void openActivity() throws FileNotFoundException {\r\n        String path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString();\r\n        File file = new File(path, &quot;myPDF.pdf&quot;);\r\n        OutputStream outputStream = new FileOutputStream(file);\r\n\r\n        PdfWriter writer = new PdfWriter(String.valueOf(file));\r\n        PdfDocument pdfDocument = new PdfDocument(writer);\r\n        Document document = new Document(pdfDocument);\r\n\r\n        //        TABLE 1\r\n\r\n        float[] columnWidth1 = {280, 280};\r\n        Table table1 = new Table(columnWidth1);\r\n\r\n        Drawable d1 = getDrawable(R.drawable.logo);\r\n        Bitmap bmp1 = ((BitmapDrawable)d1).getBitmap();\r\n        ByteArrayOutputStream stream1 = new ByteArrayOutputStream();\r\n        bmp1.compress(Bitmap.CompressFormat.JPEG, 100, stream1);\r\n        byte[] bitmapData1 = stream1.toByteArray();\r\n\r\n        ImageData imageData1 = ImageDataFactory.create(bitmapData1);\r\n        Image image1 = new Image(imageData1);\r\n        image1.setWidth(100f);\r\n\r\n        //  ROW 01\r\n        table1.addCell(new Cell(3, 1).add(image1).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.CENTER).setMarginTop(50f));\r\n        table1.addCell(new Cell(3, 1).add(new Paragraph(&quot;KALAM PUBLIC\\nSCHOOL&quot;).setFontSize(20f)).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.CENTER).setMarginTop(90f).setMarginLeft(100f));\r\n        //  ROW 02\r\n        table1.addCell(new Cell(3, 1).add(new Paragraph(&quot;MANAGED BY\\nTAMEER-E-NAU\\nWELFARE TRUST&quot;)).setBorder(Border.NO_BORDER).setMarginTop(20f));\r\n        table1.addCell(new Cell(3,1).add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        //  ROW 03\r\n        table1.addCell(new Cell().add(new Paragraph(&quot;\\n&quot;)).setBorder(Border.NO_BORDER));\r\n        table1.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        //  ROW 04\r\n        table1.addCell(new Cell().add(new Paragraph(&quot;Invoice Date:&quot;).setBold()).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.LEFT));\r\n        table1.addCell(new Cell().add(new Paragraph(&quot;Invoice To:&quot;).setBold()).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.RIGHT));\r\n        //  ROW 05\r\n        table1.addCell(new Cell().add(new Paragraph(&quot;3/10/2023&quot;)).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.LEFT));\r\n        table1.addCell(new Cell().add(new Paragraph(&quot;Mohd Ashfaq&quot;)).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.RIGHT));\r\n\r\n\r\n\r\n        //        TABLE 2\r\n\r\n        float[] columnWidth2 = {280, 280};\r\n        Table table2 = new Table(columnWidth2);\r\n\r\n        //  ROW 01\r\n        table2.addCell(new Cell().add(new Paragraph(&quot;DESCRIPTION&quot;)));\r\n        table2.addCell(new Cell().add(new Paragraph(&quot;PRICE&quot;)));\r\n        //  ROW 02\r\n        table2.addCell(new Cell().add(new Paragraph(&quot;Donate&quot;)));\r\n        table2.addCell(new Cell().add(new Paragraph(&quot;10,000 INR&quot;)));\r\n        //  ROW 03\r\n        table2.addCell(new Cell(2, 1).add(new Paragraph(&quot;\\n&quot;)));\r\n        table2.addCell(new Cell(2, 1).add(new Paragraph(&quot;&quot;)));\r\n        //  ROW 04\r\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;\\n&quot;)));\r\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;&quot;)));\r\n        //  ROW 05\r\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;\\n&quot;)));\r\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        //  ROW 06\r\n        table2.addCell(new Cell().add(new Paragraph(&quot;SUB TOTAL :&quot;).setBold()));\r\n        table2.addCell(new Cell().add(new Paragraph(&quot;10,000 INR&quot;).setBold()));\r\n\r\n        //        TABLE 3\r\n\r\n        float[] columnWidth3 = {280, 280};\r\n        Table table3 = new Table(columnWidth3);\r\n\r\n        //  ROW 01\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;PAYMENT MODE - CASH&quot;).setBold()).setBorder(Border.NO_BORDER));\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;CONTACT&quot;).setBold()).setBorder(Border.NO_BORDER));\r\n        //  ROW 02\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;contact@tameerenautrust.com&quot;)).setBorder(Border.NO_BORDER));\r\n        //  ROW 03\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;+91 9198809256&quot;)).setBorder(Border.NO_BORDER));\r\n        //  ROW 04\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;Lucknow Uttar Pradesh&quot;)).setBorder(Border.NO_BORDER));\r\n        //  ROW 05\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;Pin Code 226020&quot;)).setBorder(Border.NO_BORDER));\r\n\r\n        document.add(table1);\r\n        document.add(new Paragraph(&quot;\\n&quot;));\r\n        document.add(table2);\r\n        document.add(new Paragraph(&quot;\\n&quot;));\r\n        document.add(table3);\r\n        Toast.makeText(this, &quot;Done!&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        document.close();\r\n    }\r\n}\r\n```\r\nBefore trying the code above, I was using this code :\r\n\r\n```\r\npackage com.example.invoicemaker;\r\n\r\nimport static android.Manifest.permission.READ_EXTERNAL_STORAGE;\r\nimport static android.Manifest.permission.WRITE_EXTERNAL_STORAGE;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.OutputStream;\r\n\r\n\r\nimport android.annotation.TargetApi;\r\nimport android.content.DialogInterface;\r\nimport android.content.RestrictionEntry;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.drawable.BitmapDrawable;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.util.Log;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport com.itextpdf.io.image.ImageData;\r\nimport com.itextpdf.io.image.ImageDataFactory;\r\nimport com.itextpdf.kernel.pdf.PdfDocument;\r\nimport com.itextpdf.kernel.pdf.PdfWriter;\r\nimport com.itextpdf.layout.Document;\r\nimport com.itextpdf.layout.borders.Border;\r\nimport com.itextpdf.layout.element.Cell;\r\nimport com.itextpdf.layout.element.Image;\r\nimport com.itextpdf.layout.element.Paragraph;\r\nimport com.itextpdf.layout.element.Table;\r\nimport com.itextpdf.layout.property.TextAlignment;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private EditText nameEditText, numberEditText, addressEditText, dateEditText, priceEditText;\r\n    private String name, phone, address, date, price;\r\n    private Button button;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        nameEditText= findViewById(R.id.nameEditText);\r\n        numberEditText= findViewById(R.id.phoneEditText);\r\n        addressEditText= findViewById(R.id.addressEditText);\r\n        dateEditText= findViewById(R.id.invoiceDateEditText);\r\n        priceEditText= findViewById(R.id.priceEditText);\r\n        button = findViewById(R.id.button);\r\n\r\n        name = nameEditText.toString();\r\n        phone = numberEditText.toString();\r\n        address = addressEditText.toString();\r\n        date = dateEditText.toString();\r\n        price = priceEditText.toString();\r\n\r\n        try {\r\n            createPDF();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void createPDF() throws FileNotFoundException {\r\n        String path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString();\r\n        File file = new File(path, &quot;myPDF.pdf&quot;);\r\n        OutputStream outputStream = new FileOutputStream(file);\r\n\r\n        PdfWriter writer = new PdfWriter(String.valueOf(file));\r\n        PdfDocument pdfDocument = new PdfDocument(writer);\r\n        Document document = new Document(pdfDocument);\r\n\r\n        //        TABLE 1\r\n\r\n        float[] columnWidth1 = {280, 280};\r\n        Table table1 = new Table(columnWidth1);\r\n\r\n        Drawable d1 = getDrawable(R.drawable.logo);\r\n        Bitmap bmp1 = ((BitmapDrawable)d1).getBitmap();\r\n        ByteArrayOutputStream stream1 = new ByteArrayOutputStream();\r\n        bmp1.compress(Bitmap.CompressFormat.JPEG, 100, stream1);\r\n        byte[] bitmapData1 = stream1.toByteArray();\r\n\r\n        ImageData imageData1 = ImageDataFactory.create(bitmapData1);\r\n        Image image1 = new Image(imageData1);\r\n        image1.setWidth(100f);\r\n\r\n        //  ROW 01\r\n        table1.addCell(new Cell(3, 1).add(image1).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.CENTER).setMarginTop(50f));\r\n        table1.addCell(new Cell(3, 1).add(new Paragraph(&quot;KALAM PUBLIC\\nSCHOOL&quot;).setFontSize(20f)).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.CENTER).setMarginTop(90f).setMarginLeft(100f));\r\n        //  ROW 02\r\n        table1.addCell(new Cell(3, 1).add(new Paragraph(&quot;MANAGED BY\\nTAMEER-E-NAU\\nWELFARE TRUST&quot;)).setBorder(Border.NO_BORDER).setMarginTop(20f));\r\n        table1.addCell(new Cell(3,1).add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        //  ROW 03\r\n        table1.addCell(new Cell().add(new Paragraph(&quot;\\n&quot;)).setBorder(Border.NO_BORDER));\r\n        table1.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        //  ROW 04\r\n        table1.addCell(new Cell().add(new Paragraph(&quot;Invoice Date:&quot;).setBold()).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.LEFT));\r\n        table1.addCell(new Cell().add(new Paragraph(&quot;Invoice To:&quot;).setBold()).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.RIGHT));\r\n        //  ROW 05\r\n        table1.addCell(new Cell().add(new Paragraph(&quot;3/10/2023&quot;)).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.LEFT));\r\n        table1.addCell(new Cell().add(new Paragraph(&quot;Mohd Ashfaq&quot;)).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.RIGHT));\r\n\r\n        //        TABLE 2\r\n\r\n        float[] columnWidth2 = {280, 280};\r\n        Table table2 = new Table(columnWidth2);\r\n\r\n        //  ROW 01\r\n        table2.addCell(new Cell().add(new Paragraph(&quot;DESCRIPTION&quot;)));\r\n        table2.addCell(new Cell().add(new Paragraph(&quot;PRICE&quot;)));\r\n        //  ROW 02\r\n        table2.addCell(new Cell().add(new Paragraph(&quot;Donate&quot;)));\r\n        table2.addCell(new Cell().add(new Paragraph(&quot;10,000 INR&quot;)));\r\n        //  ROW 03\r\n        table2.addCell(new Cell(2, 1).add(new Paragraph(&quot;\\n&quot;)));\r\n        table2.addCell(new Cell(2, 1).add(new Paragraph(&quot;&quot;)));\r\n        //  ROW 04\r\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;\\n&quot;)));\r\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;&quot;)));\r\n        //  ROW 05\r\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;\\n&quot;)));\r\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        //  ROW 06\r\n        table2.addCell(new Cell().add(new Paragraph(&quot;SUB TOTAL :&quot;).setBold()));\r\n        table2.addCell(new Cell().add(new Paragraph(&quot;10,000 INR&quot;).setBold()));\r\n\r\n        //        TABLE 3\r\n\r\n        float[] columnWidth3 = {280, 280};\r\n        Table table3 = new Table(columnWidth3);\r\n\r\n        //  ROW 01\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;PAYMENT MODE - CASH&quot;).setBold()).setBorder(Border.NO_BORDER));\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;CONTACT&quot;).setBold()).setBorder(Border.NO_BORDER));\r\n        //  ROW 02\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;contact@XXXXXXXX.com&quot;)).setBorder(Border.NO_BORDER));\r\n        //  ROW 03\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;XXXXXXXXXX&quot;)).setBorder(Border.NO_BORDER));\r\n        //  ROW 04\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;XXXXXXX&quot;)).setBorder(Border.NO_BORDER));\r\n        //  ROW 05\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;Pin Code 226020&quot;)).setBorder(Border.NO_BORDER));\r\n\r\n        document.add(table1);\r\n        document.add(new Paragraph(&quot;\\n&quot;));\r\n        document.add(table2);\r\n        document.add(new Paragraph(&quot;\\n&quot;));\r\n        document.add(table3);\r\n\r\n        Toast.makeText(this, &quot;Done!&quot;, Toast.LENGTH_SHORT).show();\r\n        document.close();\r\n    }\r\n}\r\n```\r\n\r\nERROR SHOWN IN LOG CAT :\r\n\r\n```\r\njava.io.FileNotFoundException: /storage/emulated/0/Download/myPDF.pdf: open failed: EEXIST (File exists)\r\nat libcore.io.IoBridge.open(IoBridge.java:492)\r\nat java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:236)\r\nat java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:186)\r\nat com.example.invoicemaker.MainActivity.createPDF(MainActivity.java:77)\r\nat com.example.invoicemaker.MainActivity.onCreate(MainActivity.java:68)\r\nat android.app.Activity.performCreate(Activity.java:8119)\r\nat android.app.Activity.performCreate(Activity.java:8103)\r\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1359)\r\n```\r\nAND MORE...","title":"Making a pdf generator using iText7 library for android. Problem is that the app is generating pdf in android studio but not in my android phone","body":"<p>The app is generating the pdf in AVD but when I am running it in my android device it is not generating the pdf.</p>\n<p>Android device OS - 11</p>\n<p>AVD 1 - 11 API 30</p>\n<p>AVD 2 - Tiramisu API 33</p>\n<p>App is working fine in both AVDs</p>\n<p>I tried adding</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n</code></pre>\n<p>and this is my build.gradle</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.invoicemaker'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.invoicemaker&quot;\n        minSdk 26\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    packagingOptions {\n        exclude(&quot;com/itextpdf/io/font/cmap_info.txt&quot;)\n        exclude(&quot;com/itextpdf/io/font/cmap/MSungStd-Light.properties&quot;)\n        exclude(&quot;com/itextpdf/io/font/cmap/MSung-Light.properties&quot;)\n        exclude(&quot;com/itextpdf/io/font/cmap/STSong-Light.properties&quot;)\n        exclude(&quot;com/itextpdf/io/font/cmap/STSongStd-Light.properties&quot;)\n        exclude(&quot;com/itextpdf/io/font/cmap/HYSMyeongJoStd-Medium.properties&quot;)\n        exclude(&quot;com/itextpdf/io/font/cmap/HYGoThic-Medium.properties&quot;)\n        exclude(&quot;com/itextpdf/io/font/cmap/HYSMyeongJo-Medium.properties&quot;)\n        exclude(&quot;com/itextpdf/io/font/cmap/KozMinPro-Regular.properties&quot;)\n        exclude(&quot;com/itextpdf/io/font/cmap/MHei-Medium.properties&quot;)\n        exclude(&quot;com/itextpdf/io/font/cmap/HeiseiMin-W3.properties&quot;)\n        exclude(&quot;com/itextpdf/io/font/cmap/cjk_registry.properties&quot;)\n        exclude(&quot;com/itextpdf/io/font/cmap/HeiseiKakuGo-W5.properties&quot;)\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    implementation 'com.itextpdf:itext7-core:7.1.3'\n}\n</code></pre>\n<p>This is my code :</p>\n<pre><code>package com.example.invoicemaker;\n\nimport static android.Manifest.permission.READ_EXTERNAL_STORAGE;\nimport static android.Manifest.permission.WRITE_EXTERNAL_STORAGE;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.OutputStream;\n\n\nimport android.annotation.TargetApi;\nimport android.content.DialogInterface;\nimport android.content.RestrictionEntry;\nimport android.content.pm.PackageManager;\nimport android.graphics.Bitmap;\nimport android.graphics.drawable.BitmapDrawable;\nimport android.graphics.drawable.Drawable;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.util.Log;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport com.itextpdf.io.image.ImageData;\nimport com.itextpdf.io.image.ImageDataFactory;\nimport com.itextpdf.kernel.pdf.PdfDocument;\nimport com.itextpdf.kernel.pdf.PdfWriter;\nimport com.itextpdf.layout.Document;\nimport com.itextpdf.layout.borders.Border;\nimport com.itextpdf.layout.element.Cell;\nimport com.itextpdf.layout.element.Image;\nimport com.itextpdf.layout.element.Paragraph;\nimport com.itextpdf.layout.element.Table;\nimport com.itextpdf.layout.property.TextAlignment;\n\npublic class MainActivity extends AppCompatActivity {\n    private EditText nameEditText, numberEditText, addressEditText, dateEditText, priceEditText;\n    private String name, phone, address, date, price;\n    private Button button;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        nameEditText= findViewById(R.id.nameEditText);\n        numberEditText= findViewById(R.id.phoneEditText);\n        addressEditText= findViewById(R.id.addressEditText);\n        dateEditText= findViewById(R.id.invoiceDateEditText);\n        priceEditText= findViewById(R.id.priceEditText);\n        button = findViewById(R.id.button);\n\n        name = nameEditText.toString();\n        phone = numberEditText.toString();\n        address = addressEditText.toString();\n        date = dateEditText.toString();\n        price = priceEditText.toString();\n\n        if (!checkPermission()) {\n            try {\n                openActivity();\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            }\n        } else {\n            if (checkPermission()) {\n                requestPermissionAndContinue();\n            } else {\n                try {\n                    openActivity();\n                } catch (FileNotFoundException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n\n    private static final int PERMISSION_REQUEST_CODE = 200;\n    private boolean checkPermission() {\n\n        return ContextCompat.checkSelfPermission(this, WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED\n                &amp;&amp; ContextCompat.checkSelfPermission(this, READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED\n                ;\n    }\n\n    private void requestPermissionAndContinue() {\n        if (ContextCompat.checkSelfPermission(this, WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED\n                &amp;&amp; ContextCompat.checkSelfPermission(this, READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this, WRITE_EXTERNAL_STORAGE)\n                    &amp;&amp; ActivityCompat.shouldShowRequestPermissionRationale(this, READ_EXTERNAL_STORAGE)) {\n                AlertDialog.Builder alertBuilder = new AlertDialog.Builder(this);\n                alertBuilder.setCancelable(true);\n                alertBuilder.setTitle(getString(R.string.permission_necessary));\n                alertBuilder.setMessage(R.string.storage_permission_is_encessary_to_wrote_event);\n                alertBuilder.setPositiveButton(android.R.string.yes, new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int which) {\n                        ActivityCompat.requestPermissions(MainActivity.this, new String[]{WRITE_EXTERNAL_STORAGE\n                                , READ_EXTERNAL_STORAGE}, PERMISSION_REQUEST_CODE);\n                    }\n                });\n                AlertDialog alert = alertBuilder.create();\n                alert.show();\n                Log.e(&quot;&quot;, &quot;permission denied, show dialog&quot;);\n            } else {\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{WRITE_EXTERNAL_STORAGE,\n                        READ_EXTERNAL_STORAGE}, PERMISSION_REQUEST_CODE);\n            }\n        } else {\n        try {\n            openActivity():\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n\n        if (requestCode == PERMISSION_REQUEST_CODE) {\n            if (permissions.length &gt; 0 &amp;&amp; grantResults.length &gt; 0) {\n\n                boolean flag = true;\n                for (int i = 0; i &lt; grantResults.length; i++) {\n                    if (grantResults[i] != PackageManager.PERMISSION_GRANTED) {\n                        flag = false;\n                    }\n                }\n                if (flag) {\n                    try {\n                        openActivity();\n                    } catch (FileNotFoundException e) {\n                        e.printStackTrace();\n                    }\n                } else {\n                    finish();\n                }\n\n            } else {\n                finish();\n            }\n        } else {\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        }\n    }\n\n    private void openActivity() throws FileNotFoundException {\n        String path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString();\n        File file = new File(path, &quot;myPDF.pdf&quot;);\n        OutputStream outputStream = new FileOutputStream(file);\n\n        PdfWriter writer = new PdfWriter(String.valueOf(file));\n        PdfDocument pdfDocument = new PdfDocument(writer);\n        Document document = new Document(pdfDocument);\n\n        //        TABLE 1\n\n        float[] columnWidth1 = {280, 280};\n        Table table1 = new Table(columnWidth1);\n\n        Drawable d1 = getDrawable(R.drawable.logo);\n        Bitmap bmp1 = ((BitmapDrawable)d1).getBitmap();\n        ByteArrayOutputStream stream1 = new ByteArrayOutputStream();\n        bmp1.compress(Bitmap.CompressFormat.JPEG, 100, stream1);\n        byte[] bitmapData1 = stream1.toByteArray();\n\n        ImageData imageData1 = ImageDataFactory.create(bitmapData1);\n        Image image1 = new Image(imageData1);\n        image1.setWidth(100f);\n\n        //  ROW 01\n        table1.addCell(new Cell(3, 1).add(image1).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.CENTER).setMarginTop(50f));\n        table1.addCell(new Cell(3, 1).add(new Paragraph(&quot;KALAM PUBLIC\\nSCHOOL&quot;).setFontSize(20f)).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.CENTER).setMarginTop(90f).setMarginLeft(100f));\n        //  ROW 02\n        table1.addCell(new Cell(3, 1).add(new Paragraph(&quot;MANAGED BY\\nTAMEER-E-NAU\\nWELFARE TRUST&quot;)).setBorder(Border.NO_BORDER).setMarginTop(20f));\n        table1.addCell(new Cell(3,1).add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        //  ROW 03\n        table1.addCell(new Cell().add(new Paragraph(&quot;\\n&quot;)).setBorder(Border.NO_BORDER));\n        table1.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        //  ROW 04\n        table1.addCell(new Cell().add(new Paragraph(&quot;Invoice Date:&quot;).setBold()).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.LEFT));\n        table1.addCell(new Cell().add(new Paragraph(&quot;Invoice To:&quot;).setBold()).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.RIGHT));\n        //  ROW 05\n        table1.addCell(new Cell().add(new Paragraph(&quot;3/10/2023&quot;)).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.LEFT));\n        table1.addCell(new Cell().add(new Paragraph(&quot;Mohd Ashfaq&quot;)).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.RIGHT));\n\n\n\n        //        TABLE 2\n\n        float[] columnWidth2 = {280, 280};\n        Table table2 = new Table(columnWidth2);\n\n        //  ROW 01\n        table2.addCell(new Cell().add(new Paragraph(&quot;DESCRIPTION&quot;)));\n        table2.addCell(new Cell().add(new Paragraph(&quot;PRICE&quot;)));\n        //  ROW 02\n        table2.addCell(new Cell().add(new Paragraph(&quot;Donate&quot;)));\n        table2.addCell(new Cell().add(new Paragraph(&quot;10,000 INR&quot;)));\n        //  ROW 03\n        table2.addCell(new Cell(2, 1).add(new Paragraph(&quot;\\n&quot;)));\n        table2.addCell(new Cell(2, 1).add(new Paragraph(&quot;&quot;)));\n        //  ROW 04\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;\\n&quot;)));\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;&quot;)));\n        //  ROW 05\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;\\n&quot;)));\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        //  ROW 06\n        table2.addCell(new Cell().add(new Paragraph(&quot;SUB TOTAL :&quot;).setBold()));\n        table2.addCell(new Cell().add(new Paragraph(&quot;10,000 INR&quot;).setBold()));\n\n        //        TABLE 3\n\n        float[] columnWidth3 = {280, 280};\n        Table table3 = new Table(columnWidth3);\n\n        //  ROW 01\n        table3.addCell(new Cell().add(new Paragraph(&quot;PAYMENT MODE - CASH&quot;).setBold()).setBorder(Border.NO_BORDER));\n        table3.addCell(new Cell().add(new Paragraph(&quot;CONTACT&quot;).setBold()).setBorder(Border.NO_BORDER));\n        //  ROW 02\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        table3.addCell(new Cell().add(new Paragraph(&quot;contact@tameerenautrust.com&quot;)).setBorder(Border.NO_BORDER));\n        //  ROW 03\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        table3.addCell(new Cell().add(new Paragraph(&quot;+91 9198809256&quot;)).setBorder(Border.NO_BORDER));\n        //  ROW 04\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        table3.addCell(new Cell().add(new Paragraph(&quot;Lucknow Uttar Pradesh&quot;)).setBorder(Border.NO_BORDER));\n        //  ROW 05\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        table3.addCell(new Cell().add(new Paragraph(&quot;Pin Code 226020&quot;)).setBorder(Border.NO_BORDER));\n\n        document.add(table1);\n        document.add(new Paragraph(&quot;\\n&quot;));\n        document.add(table2);\n        document.add(new Paragraph(&quot;\\n&quot;));\n        document.add(table3);\n        Toast.makeText(this, &quot;Done!&quot;, Toast.LENGTH_SHORT).show();\n\n        document.close();\n    }\n}\n</code></pre>\n<p>Before trying the code above, I was using this code :</p>\n<pre><code>package com.example.invoicemaker;\n\nimport static android.Manifest.permission.READ_EXTERNAL_STORAGE;\nimport static android.Manifest.permission.WRITE_EXTERNAL_STORAGE;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.OutputStream;\n\n\nimport android.annotation.TargetApi;\nimport android.content.DialogInterface;\nimport android.content.RestrictionEntry;\nimport android.content.pm.PackageManager;\nimport android.graphics.Bitmap;\nimport android.graphics.drawable.BitmapDrawable;\nimport android.graphics.drawable.Drawable;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.util.Log;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport com.itextpdf.io.image.ImageData;\nimport com.itextpdf.io.image.ImageDataFactory;\nimport com.itextpdf.kernel.pdf.PdfDocument;\nimport com.itextpdf.kernel.pdf.PdfWriter;\nimport com.itextpdf.layout.Document;\nimport com.itextpdf.layout.borders.Border;\nimport com.itextpdf.layout.element.Cell;\nimport com.itextpdf.layout.element.Image;\nimport com.itextpdf.layout.element.Paragraph;\nimport com.itextpdf.layout.element.Table;\nimport com.itextpdf.layout.property.TextAlignment;\n\npublic class MainActivity extends AppCompatActivity {\n    private EditText nameEditText, numberEditText, addressEditText, dateEditText, priceEditText;\n    private String name, phone, address, date, price;\n    private Button button;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        nameEditText= findViewById(R.id.nameEditText);\n        numberEditText= findViewById(R.id.phoneEditText);\n        addressEditText= findViewById(R.id.addressEditText);\n        dateEditText= findViewById(R.id.invoiceDateEditText);\n        priceEditText= findViewById(R.id.priceEditText);\n        button = findViewById(R.id.button);\n\n        name = nameEditText.toString();\n        phone = numberEditText.toString();\n        address = addressEditText.toString();\n        date = dateEditText.toString();\n        price = priceEditText.toString();\n\n        try {\n            createPDF();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void createPDF() throws FileNotFoundException {\n        String path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString();\n        File file = new File(path, &quot;myPDF.pdf&quot;);\n        OutputStream outputStream = new FileOutputStream(file);\n\n        PdfWriter writer = new PdfWriter(String.valueOf(file));\n        PdfDocument pdfDocument = new PdfDocument(writer);\n        Document document = new Document(pdfDocument);\n\n        //        TABLE 1\n\n        float[] columnWidth1 = {280, 280};\n        Table table1 = new Table(columnWidth1);\n\n        Drawable d1 = getDrawable(R.drawable.logo);\n        Bitmap bmp1 = ((BitmapDrawable)d1).getBitmap();\n        ByteArrayOutputStream stream1 = new ByteArrayOutputStream();\n        bmp1.compress(Bitmap.CompressFormat.JPEG, 100, stream1);\n        byte[] bitmapData1 = stream1.toByteArray();\n\n        ImageData imageData1 = ImageDataFactory.create(bitmapData1);\n        Image image1 = new Image(imageData1);\n        image1.setWidth(100f);\n\n        //  ROW 01\n        table1.addCell(new Cell(3, 1).add(image1).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.CENTER).setMarginTop(50f));\n        table1.addCell(new Cell(3, 1).add(new Paragraph(&quot;KALAM PUBLIC\\nSCHOOL&quot;).setFontSize(20f)).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.CENTER).setMarginTop(90f).setMarginLeft(100f));\n        //  ROW 02\n        table1.addCell(new Cell(3, 1).add(new Paragraph(&quot;MANAGED BY\\nTAMEER-E-NAU\\nWELFARE TRUST&quot;)).setBorder(Border.NO_BORDER).setMarginTop(20f));\n        table1.addCell(new Cell(3,1).add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        //  ROW 03\n        table1.addCell(new Cell().add(new Paragraph(&quot;\\n&quot;)).setBorder(Border.NO_BORDER));\n        table1.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        //  ROW 04\n        table1.addCell(new Cell().add(new Paragraph(&quot;Invoice Date:&quot;).setBold()).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.LEFT));\n        table1.addCell(new Cell().add(new Paragraph(&quot;Invoice To:&quot;).setBold()).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.RIGHT));\n        //  ROW 05\n        table1.addCell(new Cell().add(new Paragraph(&quot;3/10/2023&quot;)).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.LEFT));\n        table1.addCell(new Cell().add(new Paragraph(&quot;Mohd Ashfaq&quot;)).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.RIGHT));\n\n        //        TABLE 2\n\n        float[] columnWidth2 = {280, 280};\n        Table table2 = new Table(columnWidth2);\n\n        //  ROW 01\n        table2.addCell(new Cell().add(new Paragraph(&quot;DESCRIPTION&quot;)));\n        table2.addCell(new Cell().add(new Paragraph(&quot;PRICE&quot;)));\n        //  ROW 02\n        table2.addCell(new Cell().add(new Paragraph(&quot;Donate&quot;)));\n        table2.addCell(new Cell().add(new Paragraph(&quot;10,000 INR&quot;)));\n        //  ROW 03\n        table2.addCell(new Cell(2, 1).add(new Paragraph(&quot;\\n&quot;)));\n        table2.addCell(new Cell(2, 1).add(new Paragraph(&quot;&quot;)));\n        //  ROW 04\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;\\n&quot;)));\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;&quot;)));\n        //  ROW 05\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;\\n&quot;)));\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        //  ROW 06\n        table2.addCell(new Cell().add(new Paragraph(&quot;SUB TOTAL :&quot;).setBold()));\n        table2.addCell(new Cell().add(new Paragraph(&quot;10,000 INR&quot;).setBold()));\n\n        //        TABLE 3\n\n        float[] columnWidth3 = {280, 280};\n        Table table3 = new Table(columnWidth3);\n\n        //  ROW 01\n        table3.addCell(new Cell().add(new Paragraph(&quot;PAYMENT MODE - CASH&quot;).setBold()).setBorder(Border.NO_BORDER));\n        table3.addCell(new Cell().add(new Paragraph(&quot;CONTACT&quot;).setBold()).setBorder(Border.NO_BORDER));\n        //  ROW 02\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        table3.addCell(new Cell().add(new Paragraph(&quot;contact@XXXXXXXX.com&quot;)).setBorder(Border.NO_BORDER));\n        //  ROW 03\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        table3.addCell(new Cell().add(new Paragraph(&quot;XXXXXXXXXX&quot;)).setBorder(Border.NO_BORDER));\n        //  ROW 04\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        table3.addCell(new Cell().add(new Paragraph(&quot;XXXXXXX&quot;)).setBorder(Border.NO_BORDER));\n        //  ROW 05\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        table3.addCell(new Cell().add(new Paragraph(&quot;Pin Code 226020&quot;)).setBorder(Border.NO_BORDER));\n\n        document.add(table1);\n        document.add(new Paragraph(&quot;\\n&quot;));\n        document.add(table2);\n        document.add(new Paragraph(&quot;\\n&quot;));\n        document.add(table3);\n\n        Toast.makeText(this, &quot;Done!&quot;, Toast.LENGTH_SHORT).show();\n        document.close();\n    }\n}\n</code></pre>\n<p>ERROR SHOWN IN LOG CAT :</p>\n<pre><code>java.io.FileNotFoundException: /storage/emulated/0/Download/myPDF.pdf: open failed: EEXIST (File exists)\nat libcore.io.IoBridge.open(IoBridge.java:492)\nat java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:236)\nat java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:186)\nat com.example.invoicemaker.MainActivity.createPDF(MainActivity.java:77)\nat com.example.invoicemaker.MainActivity.onCreate(MainActivity.java:68)\nat android.app.Activity.performCreate(Activity.java:8119)\nat android.app.Activity.performCreate(Activity.java:8103)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1359)\n</code></pre>\n<p>AND MORE...</p>\n"},{"tags":["java","java-stream","tostring"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1680212251,"post_id":75892955,"comment_id":133864749,"body_markdown":"StringBuilder is declared but not used in the replacement.  But anyway, what is the expected output and what is `getCell()`?  Showing some sample data with any classes, if they exist, would help.","body":"StringBuilder is declared but not used in the replacement.  But anyway, what is the expected output and what is <code>getCell()</code>?  Showing some sample data with any classes, if they exist, would help."},{"owner":{"account_id":1615458,"reputation":7096,"user_id":1493294,"accept_rate":60,"display_name":"candied_orange"},"score":0,"creation_date":1680212299,"post_id":75892955,"comment_id":133864758,"body_markdown":"@WJS better now?","body":"@WJS better now?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1680212568,"post_id":75892955,"comment_id":133864791,"body_markdown":"`flatMap()` expects a stream. You&#39;re returning a single string. Maybe just try `map()`?","body":"<code>flatMap()</code> expects a stream. You&#39;re returning a single string. Maybe just try <code>map()</code>?"},{"owner":{"account_id":1615458,"reputation":7096,"user_id":1493294,"accept_rate":60,"display_name":"candied_orange"},"score":0,"creation_date":1680213291,"post_id":75892955,"comment_id":133864919,"body_markdown":"@shmosel blindly turning flatMap into map does not banish the rats.  Any other thoughts?","body":"@shmosel blindly turning flatMap into map does not banish the rats.  Any other thoughts?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1680214006,"post_id":75892955,"comment_id":133865030,"body_markdown":"Well, I didn&#39;t say blindly. Looks like you actually need `mapToObj()`.","body":"Well, I didn&#39;t say blindly. Looks like you actually need <code>mapToObj()</code>."},{"owner":{"account_id":1615458,"reputation":7096,"user_id":1493294,"accept_rate":60,"display_name":"candied_orange"},"score":0,"creation_date":1680239266,"post_id":75892955,"comment_id":133867747,"body_markdown":"@shmosel Hey, whada know. Blindly turning `flatMap` into `mapToObj` banished the rats. Thanks. Consider writing it up as an answer so I can give you credit for it.","body":"@shmosel Hey, whada know. Blindly turning <code>flatMap</code> into <code>mapToObj</code> banished the rats. Thanks. Consider writing it up as an answer so I can give you credit for it."}],"answers":[{"comments":[{"owner":{"account_id":1615458,"reputation":7096,"user_id":1493294,"accept_rate":60,"display_name":"candied_orange"},"score":0,"creation_date":1680465955,"post_id":75895096,"comment_id":133899306,"body_markdown":"Incorporated your answer into [this code review question](https://codereview.stackexchange.com/q/284284/40367)","body":"Incorporated your answer into <a href=\"https://codereview.stackexchange.com/q/284284/40367\">this code review question</a>"}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680240030,"creation_date":1680240030,"answer_id":75895096,"question_id":75892955,"body_markdown":"Your outer stream calls `flatMap()` which is supposed to expand each element into a stream (in this case, `IntStream`) and flatten the results back into one stream. It&#39;s failing because the provided fuction returns a single string instead of a stream. Since the result is one-for-one, you just need an ordinary map operation to transform each row into a string:\r\n\r\n    return IntStream\r\n        .range(0, rows)\r\n        .mapToObj(row -&gt; columns\r\n            .stream()\r\n            .map( col -&gt; col.getCell(row) )\r\n            .collect( Collectors.joining(columnSeparator) )\r\n        )\r\n        .collect( Collectors.joining( System.lineSeparator() ) )\r\n    ;","title":"How to do a row first traversal of a list of lists of the same length using IntStream","body":"<p>Your outer stream calls <code>flatMap()</code> which is supposed to expand each element into a stream (in this case, <code>IntStream</code>) and flatten the results back into one stream. It's failing because the provided fuction returns a single string instead of a stream. Since the result is one-for-one, you just need an ordinary map operation to transform each row into a string:</p>\n<pre><code>return IntStream\n    .range(0, rows)\n    .mapToObj(row -&gt; columns\n        .stream()\n        .map( col -&gt; col.getCell(row) )\n        .collect( Collectors.joining(columnSeparator) )\n    )\n    .collect( Collectors.joining( System.lineSeparator() ) )\n;\n</code></pre>\n"}],"owner":{"account_id":1615458,"reputation":7096,"user_id":1493294,"accept_rate":60,"display_name":"candied_orange"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75895096,"answer_count":1,"score":0,"last_activity_date":1680278515,"creation_date":1680210099,"question_id":75892955,"body_markdown":"I have some [working code](https://stackoverflow.com/a/26674200/1493294) that turns this:\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n    new Columns()\r\n        .addLine(&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;, &quot;Four&quot;)\r\n        .addLine(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;)\r\n        .print()\r\n    ;\r\n}\r\n```\r\n\r\ninto this:\r\n\r\n```none\r\nOne Two Three Four \r\n1   2   3     4    \r\n```\r\n\r\nbut while trying to improve it with [this also working code](https://codereview.stackexchange.com/q/284061/40367), and follow the advice given about it [here](https://codereview.stackexchange.com/a/284234/40367), I tried to replace this working `toString()` code:\r\n\r\n```Java\r\npublic String toString(){\r\n    \r\n    final StringBuilder result = new StringBuilder();\r\n    final int rows = columns.get(0).size();\r\n\r\n    IntStream\r\n        .range(0, rows)\r\n        .forEach( \r\n            row -&gt; {\r\n                result\r\n                    .append( \r\n                        columns\r\n                        .stream()\r\n                        .map(col -&gt; col.getCell(row))\r\n                        .collect( Collectors.joining(columnSeparator) )\r\n                    )\r\n                ;\r\n                result.append( System.lineSeparator() );\r\n            }\r\n        )\r\n    ;\r\n\r\n    return result.toString();\r\n}\r\n```\r\n\r\nwith this broken `toString()` code:  &lt;sup&gt;[was following this](https://stackoverflow.com/a/32296261/1493294)&lt;/sup&gt;\r\n\r\n```Java\r\npublic String toString(){\r\n    \r\n    final int rows = columns.get(0).size();\r\n    \r\n    return IntStream\r\n        .range(0, rows)\r\n        .flatMap(row -&gt; columns\r\n            .stream()\r\n            .map( col -&gt; col.getCell(row) )\r\n            .collect( Collectors.joining(columnSeparator) )\r\n        )\r\n        .collect( Collectors.joining( System.lineSeparator() ) )\r\n    ;\r\n}\r\n```\r\nonly to see this:\r\n\r\n```none\r\nColumns.java:81: error: incompatible types: bad return type in lambda expression\r\n                .collect( Collectors.joining(columnSeparator) )\r\n                        ^\r\n    inference variable R has incompatible bounds\r\n      equality constraints: String\r\n      lower bounds: IntStream,Object\r\n  where R,A,T are type-variables:\r\n    R extends Object declared in method &lt;R,A&gt;collect(Collector&lt;? super T,A,R&gt;)\r\n    A extends Object declared in method &lt;R,A&gt;collect(Collector&lt;? super T,A,R&gt;)\r\n    T extends Object declared in interface Stream\r\nNote: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\r\n1 error\r\n```\r\n\r\nto which I can only say, rats.\r\n\r\n----\r\n\r\nIf you&#39;re the kind that hates clicking links here&#39;s the highlights of what you&#39;re missing:\r\n\r\n    private final List&lt;Column&gt; columns = new ArrayList&lt;&gt;();\r\n\r\nAnd down in the `Column` class we find\r\n\r\n    public String getCell(int row){\r\n        return padCell( words.get(row), maxLength );\r\n    }\r\n\r\nThe advise I was given: &quot;replace the `StringBuilder` in toString with another joining `Collector`.&quot;\r\n\r\nThe `toString` is trying to traverse these columns row by row concatenating the padded cells of strings it finds in each. Completing a row of cells from all columns before going to the next row.\r\n\r\nYes I know a simple double for loop can do this but where&#39;s the fun in that? \r\n\r\n&lt;sup&gt;Honestly it works but leaves unneeded column separators hanging on the side which bugs me&lt;/sup&gt;\r\n","title":"How to do a row first traversal of a list of lists of the same length using IntStream","body":"<p>I have some <a href=\"https://stackoverflow.com/a/26674200/1493294\">working code</a> that turns this:</p>\n<pre><code>public static void main(String[] args) {\n    new Columns()\n        .addLine(&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;, &quot;Four&quot;)\n        .addLine(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;)\n        .print()\n    ;\n}\n</code></pre>\n<p>into this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>One Two Three Four \n1   2   3     4    \n</code></pre>\n<p>but while trying to improve it with <a href=\"https://codereview.stackexchange.com/q/284061/40367\">this also working code</a>, and follow the advice given about it <a href=\"https://codereview.stackexchange.com/a/284234/40367\">here</a>, I tried to replace this working <code>toString()</code> code:</p>\n<pre><code>public String toString(){\n    \n    final StringBuilder result = new StringBuilder();\n    final int rows = columns.get(0).size();\n\n    IntStream\n        .range(0, rows)\n        .forEach( \n            row -&gt; {\n                result\n                    .append( \n                        columns\n                        .stream()\n                        .map(col -&gt; col.getCell(row))\n                        .collect( Collectors.joining(columnSeparator) )\n                    )\n                ;\n                result.append( System.lineSeparator() );\n            }\n        )\n    ;\n\n    return result.toString();\n}\n</code></pre>\n<p>with this broken <code>toString()</code> code:  <sup><a href=\"https://stackoverflow.com/a/32296261/1493294\">was following this</a></sup></p>\n<pre><code>public String toString(){\n    \n    final int rows = columns.get(0).size();\n    \n    return IntStream\n        .range(0, rows)\n        .flatMap(row -&gt; columns\n            .stream()\n            .map( col -&gt; col.getCell(row) )\n            .collect( Collectors.joining(columnSeparator) )\n        )\n        .collect( Collectors.joining( System.lineSeparator() ) )\n    ;\n}\n</code></pre>\n<p>only to see this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Columns.java:81: error: incompatible types: bad return type in lambda expression\n                .collect( Collectors.joining(columnSeparator) )\n                        ^\n    inference variable R has incompatible bounds\n      equality constraints: String\n      lower bounds: IntStream,Object\n  where R,A,T are type-variables:\n    R extends Object declared in method &lt;R,A&gt;collect(Collector&lt;? super T,A,R&gt;)\n    A extends Object declared in method &lt;R,A&gt;collect(Collector&lt;? super T,A,R&gt;)\n    T extends Object declared in interface Stream\nNote: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\n1 error\n</code></pre>\n<p>to which I can only say, rats.</p>\n<hr />\n<p>If you're the kind that hates clicking links here's the highlights of what you're missing:</p>\n<pre><code>private final List&lt;Column&gt; columns = new ArrayList&lt;&gt;();\n</code></pre>\n<p>And down in the <code>Column</code> class we find</p>\n<pre><code>public String getCell(int row){\n    return padCell( words.get(row), maxLength );\n}\n</code></pre>\n<p>The advise I was given: &quot;replace the <code>StringBuilder</code> in toString with another joining <code>Collector</code>.&quot;</p>\n<p>The <code>toString</code> is trying to traverse these columns row by row concatenating the padded cells of strings it finds in each. Completing a row of cells from all columns before going to the next row.</p>\n<p>Yes I know a simple double for loop can do this but where's the fun in that?</p>\n<p><sup>Honestly it works but leaves unneeded column separators hanging on the side which bugs me</sup></p>\n"},{"tags":["java","pdfbox","boxable"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1680262459,"post_id":75897623,"comment_id":133872461,"body_markdown":"A PDF may not be the right format for 200,000(?) rows.","body":"A PDF may not be the right format for 200,000(?) rows."}],"owner":{"account_id":14043952,"reputation":53,"user_id":10144712,"display_name":"Shahzad Hussain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680277803,"creation_date":1680259445,"question_id":75897623,"body_markdown":"I am trying to generate the pdf using pdfbox/boxable with 200000 rows, But it is taking around 2 hours to generate the pdf. Data is in arraylist format.\r\n\r\n    BaseTable baseTable = new BaseTable(yStart, yStartNewPage, bottomMargin,\r\n              tableWidth, margin, doc, page, true, true);\r\n    DataTable dataTable = new DataTable(baseTable, page);\r\n    \r\n    dataTable.addListToTable(data, hasHeader); //This part is taking a lot of time\r\n    baseTable.draw();\r\n    File result = new File(destination);\r\n    \r\n    contentStream.close();\r\n    doc.save(result);\r\n\r\nPlease help me to fix this issue.","title":"PDFBOX or Boxable is taking some time to generate a PDF for excessively large data of two hundred thousand rows","body":"<p>I am trying to generate the pdf using pdfbox/boxable with 200000 rows, But it is taking around 2 hours to generate the pdf. Data is in arraylist format.</p>\n<pre><code>BaseTable baseTable = new BaseTable(yStart, yStartNewPage, bottomMargin,\n          tableWidth, margin, doc, page, true, true);\nDataTable dataTable = new DataTable(baseTable, page);\n\ndataTable.addListToTable(data, hasHeader); //This part is taking a lot of time\nbaseTable.draw();\nFile result = new File(destination);\n\ncontentStream.close();\ndoc.save(result);\n</code></pre>\n<p>Please help me to fix this issue.</p>\n"},{"tags":["java","android","database","gradle","kotlin"],"answers":[{"tags":[],"owner":{"account_id":295108,"reputation":72056,"user_id":599346,"accept_rate":85,"display_name":"tyczj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584623318,"creation_date":1584623318,"answer_id":60757911,"question_id":60757876,"body_markdown":"You cannot copy something into the assets folder at runtime if that is what you are asking. You will need to download the file then store it in the file system at runtime","title":"Is there any way that I can read database file from local computer (local server) and copy to assets folder in android?","body":"<p>You cannot copy something into the assets folder at runtime if that is what you are asking. You will need to download the file then store it in the file system at runtime</p>\n"}],"owner":{"account_id":7328545,"reputation":19,"user_id":5582230,"display_name":"Satinder Gill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680277705,"creation_date":1584623166,"question_id":60757876,"body_markdown":"    @Singleton\r\n    @Provides\r\n    fun provideDB(applicationContext: Context): myDB{\r\n        return Room.databaseBuilder(applicationContext, myDB::class.java, DatabaseConstants.DATABASE)\r\n                .createFromAsset(&quot;sample2.db&quot;)\r\n                .fallbackToDestructiveMigration()\r\n                .build()\r\n    }\r\n\r\n\r\nThis is my code in which I am reading sample2.db from the assets folder. \r\nI want to read it from the local server and paste it to the assets folder so that I can use it the way I am using it during runtime.\r\nThe app should read the file from the local server and paste to the assets folder or update the file if already present.\r\n\r\n","title":"Is there any way that I can read database file from local computer (local server) and copy to assets folder in android?","body":"<pre><code>@Singleton\n@Provides\nfun provideDB(applicationContext: Context): myDB{\n    return Room.databaseBuilder(applicationContext, myDB::class.java, DatabaseConstants.DATABASE)\n            .createFromAsset(\"sample2.db\")\n            .fallbackToDestructiveMigration()\n            .build()\n}\n</code></pre>\n\n<p>This is my code in which I am reading sample2.db from the assets folder. \nI want to read it from the local server and paste it to the assets folder so that I can use it the way I am using it during runtime.\nThe app should read the file from the local server and paste to the assets folder or update the file if already present.</p>\n"},{"tags":["java","spring","apache-camel","amazon-sqs","aws-sdk-java-2.0"],"owner":{"account_id":9229113,"reputation":1100,"user_id":6855849,"accept_rate":75,"display_name":"Samet Baskıcı"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680277326,"creation_date":1680277326,"question_id":75900396,"body_markdown":"\r\nI would like to set an interceptor to intercept all SQS messages coming through my app in one place regardless of how many queues I have.\r\n\r\nI am using Spring Boot.\r\n\r\nvia ***spring-cloud-aws-messaging*** I am able to do it by extending QueueMessageHandler and passing it to the listener as a handler factory like the following.\r\n\r\n    public class AwsSQSMessageHandler extends QueueMessageHandler {\r\n    \r\n        public AwsSQSMessageHandler(List&lt;MessageConverter&gt; messageConverters) {\r\n            super(messageConverters);\r\n        }\r\n    \r\n        @Override\r\n        public void handleMessage(Message&lt;?&gt; message) throws MessagingException {\r\n            try {\r\n                MDC.put(&quot;requestId&quot;, &quot;RequestId=&quot; + UUID.randomUUID());\r\n                super.handleMessage(message);\r\n            } finally {\r\n                MDC.clear();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    public SimpleMessageListenerContainerFactory simpleMessageListenerContainerFactory(AmazonSQSAsync amazonSqs) {\r\n        SimpleMessageListenerContainerFactory factory = new SimpleMessageListenerContainerFactory();\r\n        factory.setAmazonSqs(amazonSqs);\r\n        factory.setQueueMessageHandler(new AwsSQSMessageHandler(getConverters()));\r\n        return factory;\r\n    }\r\n\r\nHow can I do it by apache camel on my spring boot project?\r\n\r\nHere is my camel config for 2 queue:\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class MessageRoute1 extends RouteBuilder {\r\n    \r\n        private final MessageProcessor1 messageProcessor1;\r\n        private final SqsClient sqsClient;\r\n    \r\n        @Override\r\n        public void configure() throws Exception {\r\n            from(aws2Sqs(&quot;queue1&quot;).amazonSQSClient(sqsClient)\r\n            ).process(messageProcessor1);\r\n        }\r\n    }\r\n    \r\n    \r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class MessageRoute2 extends RouteBuilder {\r\n    \r\n        private final MessageProcessor2 messageProcessor2;\r\n        private final SqsClient sqsClient;\r\n    \r\n        @Override\r\n        public void configure() throws Exception {\r\n            from(aws2Sqs(&quot;queue2&quot;).amazonSQSClient(sqsClient)\r\n            ).process(messageProcessor2);\r\n        }\r\n    }\r\n\r\nDo you have any idea How to do the same thing here?","title":"How to set an interceptor for all sqs routes in apache Camel","body":"<p>I would like to set an interceptor to intercept all SQS messages coming through my app in one place regardless of how many queues I have.</p>\n<p>I am using Spring Boot.</p>\n<p>via <em><strong>spring-cloud-aws-messaging</strong></em> I am able to do it by extending QueueMessageHandler and passing it to the listener as a handler factory like the following.</p>\n<pre><code>public class AwsSQSMessageHandler extends QueueMessageHandler {\n\n    public AwsSQSMessageHandler(List&lt;MessageConverter&gt; messageConverters) {\n        super(messageConverters);\n    }\n\n    @Override\n    public void handleMessage(Message&lt;?&gt; message) throws MessagingException {\n        try {\n            MDC.put(&quot;requestId&quot;, &quot;RequestId=&quot; + UUID.randomUUID());\n            super.handleMessage(message);\n        } finally {\n            MDC.clear();\n        }\n    }\n}\n\n@Bean\n@Primary\npublic SimpleMessageListenerContainerFactory simpleMessageListenerContainerFactory(AmazonSQSAsync amazonSqs) {\n    SimpleMessageListenerContainerFactory factory = new SimpleMessageListenerContainerFactory();\n    factory.setAmazonSqs(amazonSqs);\n    factory.setQueueMessageHandler(new AwsSQSMessageHandler(getConverters()));\n    return factory;\n}\n</code></pre>\n<p>How can I do it by apache camel on my spring boot project?</p>\n<p>Here is my camel config for 2 queue:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class MessageRoute1 extends RouteBuilder {\n\n    private final MessageProcessor1 messageProcessor1;\n    private final SqsClient sqsClient;\n\n    @Override\n    public void configure() throws Exception {\n        from(aws2Sqs(&quot;queue1&quot;).amazonSQSClient(sqsClient)\n        ).process(messageProcessor1);\n    }\n}\n\n\n@Component\n@RequiredArgsConstructor\npublic class MessageRoute2 extends RouteBuilder {\n\n    private final MessageProcessor2 messageProcessor2;\n    private final SqsClient sqsClient;\n\n    @Override\n    public void configure() throws Exception {\n        from(aws2Sqs(&quot;queue2&quot;).amazonSQSClient(sqsClient)\n        ).process(messageProcessor2);\n    }\n}\n</code></pre>\n<p>Do you have any idea How to do the same thing here?</p>\n"},{"tags":["java","swt","narrator"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1680254150,"post_id":75896492,"comment_id":133870522,"body_markdown":"SWT has quite a lot of accessibility support that might help - see for example the SWT snippets https://www.eclipse.org/swt/snippets/#accessibility","body":"SWT has quite a lot of accessibility support that might help - see for example the SWT snippets <a href=\"https://www.eclipse.org/swt/snippets/#accessibility\" rel=\"nofollow noreferrer\">eclipse.org/swt/snippets/#accessibility</a>"}],"owner":{"account_id":27891215,"reputation":13,"user_id":21297550,"display_name":"Peter Orgovan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680276737,"creation_date":1680252007,"question_id":75896492,"body_markdown":"I have SWT tree viewer and I have issue with narrator support. Currently narrator is reacting only when I go from row to another row and reading content of hole row. If I move with keyboard in one row from column to column narrator is not reading anything. It seems like it doesn&#39;t send any event to narrator when this movement from column to column is done. I found out that I can catch this event with TraverseListener, but I don&#39;t know how I could notify narrator to catch this event and read content of new cell where I move to.\r\n[![enter image description here](https://i.stack.imgur.com/64F2I.png)](https://i.stack.imgur.com/64F2I.png)\r\n\r\n```\r\npackage test.test;\r\nimport java.lang.reflect.InvocationTargetException;\r\nimport java.lang.reflect.Method;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.eclipse.jdt.annotation.Nullable;\r\nimport org.eclipse.jface.viewers.CellEditor;\r\nimport org.eclipse.jface.viewers.CheckboxCellEditor;\r\nimport org.eclipse.jface.viewers.ColumnLabelProvider;\r\nimport org.eclipse.jface.viewers.ColumnViewerEditor;\r\nimport org.eclipse.jface.viewers.ColumnViewerEditorActivationEvent;\r\nimport org.eclipse.jface.viewers.ColumnViewerEditorActivationStrategy;\r\nimport org.eclipse.jface.viewers.EditingSupport;\r\nimport org.eclipse.jface.viewers.FocusCellOwnerDrawHighlighter;\r\nimport org.eclipse.jface.viewers.ITreeContentProvider;\r\nimport org.eclipse.jface.viewers.TextCellEditor;\r\nimport org.eclipse.jface.viewers.TreeViewer;\r\nimport org.eclipse.jface.viewers.TreeViewerColumn;\r\nimport org.eclipse.jface.viewers.TreeViewerEditor;\r\nimport org.eclipse.jface.viewers.TreeViewerFocusCellManager;\r\nimport org.eclipse.jface.viewers.Viewer;\r\nimport org.eclipse.jface.viewers.ViewerCell;\r\nimport org.eclipse.jface.viewers.ViewerRow;\r\nimport org.eclipse.swt.SWT;\r\nimport org.eclipse.swt.events.TraverseEvent;\r\nimport org.eclipse.swt.events.TraverseListener;\r\nimport org.eclipse.swt.layout.FillLayout;\r\nimport org.eclipse.swt.widgets.Display;\r\nimport org.eclipse.swt.widgets.Shell;\r\nimport org.eclipse.swt.widgets.Widget;\r\n\r\nclass TestTreeViewer {\r\n    public TestTreeViewer(final Shell shell) {\r\n        final TreeViewer v = new TreeViewer(shell, SWT.BORDER | SWT.FULL_SELECTION);\r\n        v.getTree().setLinesVisible(true);\r\n        v.getTree().setHeaderVisible(true);\r\n\r\n        v.getTree().addTraverseListener(new TraverseListener() {\r\n\r\n            @Override\r\n            public void keyTraversed(TraverseEvent e) {\r\n                System.out.print(&quot;TraverseEvent&quot;);\r\n                Widget widget = e.widget;\r\n            }\r\n        });\r\n\r\n        final TreeViewerFocusCellManager mgr = new TreeViewerFocusCellManager(v, new FocusCellOwnerDrawHighlighter(v));\r\n        ColumnViewerEditorActivationStrategy actSupport = new ColumnViewerEditorActivationStrategy(v) {\r\n            @Override\r\n            protected boolean isEditorActivationEvent(ColumnViewerEditorActivationEvent event) {\r\n                return (event.eventType == ColumnViewerEditorActivationEvent.TRAVERSAL) || (event.eventType == ColumnViewerEditorActivationEvent.MOUSE_DOUBLE_CLICK_SELECTION) || ((event.eventType == ColumnViewerEditorActivationEvent.KEY_PRESSED) &amp;&amp; ((event.keyCode == SWT.CR) || (event.character == &#39; &#39;))) || (event.eventType == ColumnViewerEditorActivationEvent.PROGRAMMATIC);\r\n            }\r\n        };\r\n\r\n        TreeViewerEditor.create(v, mgr, actSupport, ColumnViewerEditor.TABBING_HORIZONTAL | ColumnViewerEditor.TABBING_MOVE_TO_ROW_NEIGHBOR | ColumnViewerEditor.TABBING_VERTICAL | ColumnViewerEditor.KEYBOARD_ACTIVATION);\r\n\r\n        final TextCellEditor textCellEditor = new TextCellEditor(v.getTree());\r\n        final CheckboxCellEditor checkboxCellEditor = new CheckboxCellEditor(v.getTree());\r\n\r\n        TreeViewerColumn column = new TreeViewerColumn(v, SWT.NONE);\r\n        column.getColumn().setWidth(200);\r\n        column.getColumn().setMoveable(true);\r\n        column.getColumn().setText(&quot;Column 1&quot;);\r\n        column.setLabelProvider(new ColumnLabelProvider() {\r\n\r\n            @Override\r\n            public String getText(Object element) {\r\n                return &quot;Column 1 =&gt; &quot; + element;\r\n            }\r\n\r\n        });\r\n        column.setEditingSupport(new EditingSupport(v) {\r\n            @Override\r\n            protected boolean canEdit(Object element) {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            protected CellEditor getCellEditor(Object element) {\r\n                return textCellEditor;\r\n            }\r\n\r\n            @Override\r\n            protected Object getValue(Object element) {\r\n                return ((MyModel) element).counter + &quot;&quot;;\r\n            }\r\n\r\n            @Override\r\n            protected void setValue(Object element, Object value) {\r\n                ((MyModel) element).counter = Integer.parseInt(value.toString());\r\n                v.update(element, null);\r\n            }\r\n        });\r\n\r\n        column = new TreeViewerColumn(v, SWT.NONE);\r\n        column.getColumn().setWidth(200);\r\n        column.getColumn().setMoveable(true);\r\n        column.getColumn().setText(&quot;Column 2&quot;);\r\n        column.setLabelProvider(new ColumnLabelProvider() {\r\n\r\n            @Override\r\n            public String getText(Object element) {\r\n                return &quot;Column 2 =&gt; &quot; + element;\r\n            }\r\n\r\n        });\r\n        column.setEditingSupport(new EditingSupport(v) {\r\n            @Override\r\n            protected boolean canEdit(Object element) {\r\n                return true;\r\n            }\r\n\r\n            @Override\r\n            protected CellEditor getCellEditor(Object element) {\r\n                return textCellEditor;\r\n            }\r\n\r\n            @Override\r\n            protected Object getValue(Object element) {\r\n                return ((MyModel) element).counter + &quot;&quot;;\r\n            }\r\n\r\n            @Override\r\n            protected void setValue(Object element, Object value) {\r\n                ((MyModel) element).counter = Integer.parseInt(value.toString());\r\n                v.update(element, null);\r\n            }\r\n        });\r\n\r\n        column = new TreeViewerColumn(v, SWT.NONE);\r\n        column.getColumn().setWidth(200);\r\n        column.getColumn().setMoveable(true);\r\n        column.getColumn().setText(&quot;Column 3&quot;);\r\n        column.setLabelProvider(new ColumnLabelProvider() {\r\n\r\n            @Override\r\n            public String getText(Object element) {\r\n                if (element == null) {\r\n                    return &quot;&quot;;\r\n                }\r\n                return ((MyModel) element).bool + &quot;&quot;;\r\n            }\r\n\r\n        });\r\n        column.setEditingSupport(new EditingSupport(v) {\r\n            @Override\r\n            protected boolean canEdit(Object element) {\r\n                return true;\r\n            }\r\n\r\n            @Override\r\n            protected CellEditor getCellEditor(Object element) {\r\n                return checkboxCellEditor;\r\n            }\r\n\r\n            @Override\r\n            protected Object getValue(Object element) {\r\n                return Boolean.valueOf(((MyModel) element).bool);\r\n            }\r\n\r\n            @Override\r\n            protected void setValue(Object element, Object value) {\r\n                ((MyModel) element).bool = ((Boolean) value).booleanValue();\r\n                v.update(element, null);\r\n            }\r\n        });\r\n\r\n        v.setContentProvider(new MyContentProvider());\r\n        v.setInput(createModel());\r\n        v.getControl().addTraverseListener(e -&gt; {\r\n            if (((e.detail == SWT.TRAVERSE_TAB_NEXT) || (e.detail == SWT.TRAVERSE_TAB_PREVIOUS)) &amp;&amp; (mgr.getFocusCell().getColumnIndex() == 2)) {\r\n                ColumnViewerEditor editor = v.getColumnViewerEditor();\r\n                ViewerCell cell = mgr.getFocusCell();\r\n\r\n                try {\r\n                    Method m = ColumnViewerEditor.class.getDeclaredMethod(&quot;processTraverseEvent&quot;, new Class[] { int.class, ViewerRow.class, TraverseEvent.class });\r\n                    m.setAccessible(true);\r\n                    m.invoke(editor, Integer.valueOf(cell.getColumnIndex()), cell.getViewerRow(), e);\r\n                } catch (SecurityException | NoSuchMethodException | IllegalArgumentException | IllegalAccessException | InvocationTargetException e1) {\r\n                    // TODO Auto-generated catch block\r\n                    e1.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private MyModel createModel() {\r\n\r\n        MyModel root = new MyModel(0, null);\r\n        root.counter = 0;\r\n\r\n        MyModel tmp;\r\n        MyModel subItem;\r\n        for (int i = 1; i &lt; 10; i++) {\r\n            tmp = new MyModel(i, root);\r\n            root.child.add(tmp);\r\n            for (int j = 1; j &lt; i; j++) {\r\n                subItem = new MyModel(j, tmp);\r\n                subItem.child.add(new MyModel(j * 100, subItem));\r\n                tmp.child.add(subItem);\r\n            }\r\n        }\r\n\r\n        return root;\r\n    }\r\n\r\n    public static void init() {\r\n        Display display = new Display();\r\n        Shell shell = new Shell(display);\r\n        shell.setLayout(new FillLayout());\r\n        TestTreeViewer snip = new TestTreeViewer(shell);\r\n        snip.toString();\r\n        shell.open();\r\n\r\n        while (!shell.isDisposed()) {\r\n            if (!display.readAndDispatch()) {\r\n                display.sleep();\r\n            }\r\n        }\r\n\r\n        display.dispose();\r\n    }\r\n\r\n    private static class MyContentProvider implements ITreeContentProvider {\r\n\r\n        @Override\r\n        public Object[] getElements(Object inputElement) {\r\n            return ((MyModel) inputElement).child.toArray();\r\n        }\r\n\r\n        @Override\r\n        public void dispose() {\r\n            //\r\n        }\r\n\r\n        @Override\r\n        public void inputChanged(Viewer viewer, Object oldInput, Object newInput) {\r\n            //\r\n        }\r\n\r\n        @Override\r\n        public Object[] getChildren(Object parentElement) {\r\n            return getElements(parentElement);\r\n        }\r\n\r\n        @Override\r\n        public Object getParent(@Nullable Object element) {\r\n            if (element == null) {\r\n                return null;\r\n            }\r\n            return ((MyModel) element).parent;\r\n        }\r\n\r\n        @Override\r\n        public boolean hasChildren(Object element) {\r\n            return ((MyModel) element).child.size() &gt; 0;\r\n        }\r\n\r\n    }\r\n\r\n    public static class MyModel {\r\n\r\n        @Nullable\r\n        public MyModel parent;\r\n        public List&lt;MyModel&gt; child = new ArrayList&lt;&gt;();\r\n        public int counter;\r\n        public boolean bool;\r\n\r\n        public MyModel(int counter, MyModel parent) {\r\n            this.parent = parent;\r\n            this.counter = counter;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            String rv = &quot;Item &quot;;\r\n            if (parent != null) {\r\n                rv = parent + &quot;.&quot;;\r\n            }\r\n            rv += counter;\r\n\r\n            return rv;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n \r\n\r\nI am able to catch event when I move from column to column with Traverse Listener but I don&#39;t know how to notify Narrator that this change happened. Also how to specify cell where is currently my position.\r\n\r\nThere is also some weird behavior of narrator that for some reason it seems as it can catch selection of just elements in first column. I don&#39;t know why is this behavior as every column I create in the same. way. [![enter image description here][1]][1]\r\n\r\nThank you for you ideas!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GIYoL.png","title":"How to invoke narrator to read content of cell","body":"<p>I have SWT tree viewer and I have issue with narrator support. Currently narrator is reacting only when I go from row to another row and reading content of hole row. If I move with keyboard in one row from column to column narrator is not reading anything. It seems like it doesn't send any event to narrator when this movement from column to column is done. I found out that I can catch this event with TraverseListener, but I don't know how I could notify narrator to catch this event and read content of new cell where I move to.\n<a href=\"https://i.stack.imgur.com/64F2I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/64F2I.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>package test.test;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.eclipse.jdt.annotation.Nullable;\nimport org.eclipse.jface.viewers.CellEditor;\nimport org.eclipse.jface.viewers.CheckboxCellEditor;\nimport org.eclipse.jface.viewers.ColumnLabelProvider;\nimport org.eclipse.jface.viewers.ColumnViewerEditor;\nimport org.eclipse.jface.viewers.ColumnViewerEditorActivationEvent;\nimport org.eclipse.jface.viewers.ColumnViewerEditorActivationStrategy;\nimport org.eclipse.jface.viewers.EditingSupport;\nimport org.eclipse.jface.viewers.FocusCellOwnerDrawHighlighter;\nimport org.eclipse.jface.viewers.ITreeContentProvider;\nimport org.eclipse.jface.viewers.TextCellEditor;\nimport org.eclipse.jface.viewers.TreeViewer;\nimport org.eclipse.jface.viewers.TreeViewerColumn;\nimport org.eclipse.jface.viewers.TreeViewerEditor;\nimport org.eclipse.jface.viewers.TreeViewerFocusCellManager;\nimport org.eclipse.jface.viewers.Viewer;\nimport org.eclipse.jface.viewers.ViewerCell;\nimport org.eclipse.jface.viewers.ViewerRow;\nimport org.eclipse.swt.SWT;\nimport org.eclipse.swt.events.TraverseEvent;\nimport org.eclipse.swt.events.TraverseListener;\nimport org.eclipse.swt.layout.FillLayout;\nimport org.eclipse.swt.widgets.Display;\nimport org.eclipse.swt.widgets.Shell;\nimport org.eclipse.swt.widgets.Widget;\n\nclass TestTreeViewer {\n    public TestTreeViewer(final Shell shell) {\n        final TreeViewer v = new TreeViewer(shell, SWT.BORDER | SWT.FULL_SELECTION);\n        v.getTree().setLinesVisible(true);\n        v.getTree().setHeaderVisible(true);\n\n        v.getTree().addTraverseListener(new TraverseListener() {\n\n            @Override\n            public void keyTraversed(TraverseEvent e) {\n                System.out.print(&quot;TraverseEvent&quot;);\n                Widget widget = e.widget;\n            }\n        });\n\n        final TreeViewerFocusCellManager mgr = new TreeViewerFocusCellManager(v, new FocusCellOwnerDrawHighlighter(v));\n        ColumnViewerEditorActivationStrategy actSupport = new ColumnViewerEditorActivationStrategy(v) {\n            @Override\n            protected boolean isEditorActivationEvent(ColumnViewerEditorActivationEvent event) {\n                return (event.eventType == ColumnViewerEditorActivationEvent.TRAVERSAL) || (event.eventType == ColumnViewerEditorActivationEvent.MOUSE_DOUBLE_CLICK_SELECTION) || ((event.eventType == ColumnViewerEditorActivationEvent.KEY_PRESSED) &amp;&amp; ((event.keyCode == SWT.CR) || (event.character == ' '))) || (event.eventType == ColumnViewerEditorActivationEvent.PROGRAMMATIC);\n            }\n        };\n\n        TreeViewerEditor.create(v, mgr, actSupport, ColumnViewerEditor.TABBING_HORIZONTAL | ColumnViewerEditor.TABBING_MOVE_TO_ROW_NEIGHBOR | ColumnViewerEditor.TABBING_VERTICAL | ColumnViewerEditor.KEYBOARD_ACTIVATION);\n\n        final TextCellEditor textCellEditor = new TextCellEditor(v.getTree());\n        final CheckboxCellEditor checkboxCellEditor = new CheckboxCellEditor(v.getTree());\n\n        TreeViewerColumn column = new TreeViewerColumn(v, SWT.NONE);\n        column.getColumn().setWidth(200);\n        column.getColumn().setMoveable(true);\n        column.getColumn().setText(&quot;Column 1&quot;);\n        column.setLabelProvider(new ColumnLabelProvider() {\n\n            @Override\n            public String getText(Object element) {\n                return &quot;Column 1 =&gt; &quot; + element;\n            }\n\n        });\n        column.setEditingSupport(new EditingSupport(v) {\n            @Override\n            protected boolean canEdit(Object element) {\n                return false;\n            }\n\n            @Override\n            protected CellEditor getCellEditor(Object element) {\n                return textCellEditor;\n            }\n\n            @Override\n            protected Object getValue(Object element) {\n                return ((MyModel) element).counter + &quot;&quot;;\n            }\n\n            @Override\n            protected void setValue(Object element, Object value) {\n                ((MyModel) element).counter = Integer.parseInt(value.toString());\n                v.update(element, null);\n            }\n        });\n\n        column = new TreeViewerColumn(v, SWT.NONE);\n        column.getColumn().setWidth(200);\n        column.getColumn().setMoveable(true);\n        column.getColumn().setText(&quot;Column 2&quot;);\n        column.setLabelProvider(new ColumnLabelProvider() {\n\n            @Override\n            public String getText(Object element) {\n                return &quot;Column 2 =&gt; &quot; + element;\n            }\n\n        });\n        column.setEditingSupport(new EditingSupport(v) {\n            @Override\n            protected boolean canEdit(Object element) {\n                return true;\n            }\n\n            @Override\n            protected CellEditor getCellEditor(Object element) {\n                return textCellEditor;\n            }\n\n            @Override\n            protected Object getValue(Object element) {\n                return ((MyModel) element).counter + &quot;&quot;;\n            }\n\n            @Override\n            protected void setValue(Object element, Object value) {\n                ((MyModel) element).counter = Integer.parseInt(value.toString());\n                v.update(element, null);\n            }\n        });\n\n        column = new TreeViewerColumn(v, SWT.NONE);\n        column.getColumn().setWidth(200);\n        column.getColumn().setMoveable(true);\n        column.getColumn().setText(&quot;Column 3&quot;);\n        column.setLabelProvider(new ColumnLabelProvider() {\n\n            @Override\n            public String getText(Object element) {\n                if (element == null) {\n                    return &quot;&quot;;\n                }\n                return ((MyModel) element).bool + &quot;&quot;;\n            }\n\n        });\n        column.setEditingSupport(new EditingSupport(v) {\n            @Override\n            protected boolean canEdit(Object element) {\n                return true;\n            }\n\n            @Override\n            protected CellEditor getCellEditor(Object element) {\n                return checkboxCellEditor;\n            }\n\n            @Override\n            protected Object getValue(Object element) {\n                return Boolean.valueOf(((MyModel) element).bool);\n            }\n\n            @Override\n            protected void setValue(Object element, Object value) {\n                ((MyModel) element).bool = ((Boolean) value).booleanValue();\n                v.update(element, null);\n            }\n        });\n\n        v.setContentProvider(new MyContentProvider());\n        v.setInput(createModel());\n        v.getControl().addTraverseListener(e -&gt; {\n            if (((e.detail == SWT.TRAVERSE_TAB_NEXT) || (e.detail == SWT.TRAVERSE_TAB_PREVIOUS)) &amp;&amp; (mgr.getFocusCell().getColumnIndex() == 2)) {\n                ColumnViewerEditor editor = v.getColumnViewerEditor();\n                ViewerCell cell = mgr.getFocusCell();\n\n                try {\n                    Method m = ColumnViewerEditor.class.getDeclaredMethod(&quot;processTraverseEvent&quot;, new Class[] { int.class, ViewerRow.class, TraverseEvent.class });\n                    m.setAccessible(true);\n                    m.invoke(editor, Integer.valueOf(cell.getColumnIndex()), cell.getViewerRow(), e);\n                } catch (SecurityException | NoSuchMethodException | IllegalArgumentException | IllegalAccessException | InvocationTargetException e1) {\n                    // TODO Auto-generated catch block\n                    e1.printStackTrace();\n                }\n            }\n        });\n    }\n\n    private MyModel createModel() {\n\n        MyModel root = new MyModel(0, null);\n        root.counter = 0;\n\n        MyModel tmp;\n        MyModel subItem;\n        for (int i = 1; i &lt; 10; i++) {\n            tmp = new MyModel(i, root);\n            root.child.add(tmp);\n            for (int j = 1; j &lt; i; j++) {\n                subItem = new MyModel(j, tmp);\n                subItem.child.add(new MyModel(j * 100, subItem));\n                tmp.child.add(subItem);\n            }\n        }\n\n        return root;\n    }\n\n    public static void init() {\n        Display display = new Display();\n        Shell shell = new Shell(display);\n        shell.setLayout(new FillLayout());\n        TestTreeViewer snip = new TestTreeViewer(shell);\n        snip.toString();\n        shell.open();\n\n        while (!shell.isDisposed()) {\n            if (!display.readAndDispatch()) {\n                display.sleep();\n            }\n        }\n\n        display.dispose();\n    }\n\n    private static class MyContentProvider implements ITreeContentProvider {\n\n        @Override\n        public Object[] getElements(Object inputElement) {\n            return ((MyModel) inputElement).child.toArray();\n        }\n\n        @Override\n        public void dispose() {\n            //\n        }\n\n        @Override\n        public void inputChanged(Viewer viewer, Object oldInput, Object newInput) {\n            //\n        }\n\n        @Override\n        public Object[] getChildren(Object parentElement) {\n            return getElements(parentElement);\n        }\n\n        @Override\n        public Object getParent(@Nullable Object element) {\n            if (element == null) {\n                return null;\n            }\n            return ((MyModel) element).parent;\n        }\n\n        @Override\n        public boolean hasChildren(Object element) {\n            return ((MyModel) element).child.size() &gt; 0;\n        }\n\n    }\n\n    public static class MyModel {\n\n        @Nullable\n        public MyModel parent;\n        public List&lt;MyModel&gt; child = new ArrayList&lt;&gt;();\n        public int counter;\n        public boolean bool;\n\n        public MyModel(int counter, MyModel parent) {\n            this.parent = parent;\n            this.counter = counter;\n        }\n\n        @Override\n        public String toString() {\n            String rv = &quot;Item &quot;;\n            if (parent != null) {\n                rv = parent + &quot;.&quot;;\n            }\n            rv += counter;\n\n            return rv;\n        }\n    }\n\n}\n</code></pre>\n<p>I am able to catch event when I move from column to column with Traverse Listener but I don't know how to notify Narrator that this change happened. Also how to specify cell where is currently my position.</p>\n<p>There is also some weird behavior of narrator that for some reason it seems as it can catch selection of just elements in first column. I don't know why is this behavior as every column I create in the same. way. <a href=\"https://i.stack.imgur.com/GIYoL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GIYoL.png\" alt=\"enter image description here\" /></a></p>\n<p>Thank you for you ideas!</p>\n"},{"tags":["java","rabbitmq","queue","microservices"],"comments":[{"owner":{"account_id":22650505,"reputation":31,"user_id":16825231,"display_name":"Tomer_Harari"},"score":0,"creation_date":1680277911,"post_id":75900252,"comment_id":133876549,"body_markdown":"One more thing I&#39;d like to ask is if it is possible to add to queue straight from Spring Cloud Gateway. With Spring Cloud Gateway I want to set it up so that user makes a POST request to /shipments and this will place their request straight onto my queue. I couldn&#39;t find anything online about doing this and would appreciate some help there.","body":"One more thing I&#39;d like to ask is if it is possible to add to queue straight from Spring Cloud Gateway. With Spring Cloud Gateway I want to set it up so that user makes a POST request to /shipments and this will place their request straight onto my queue. I couldn&#39;t find anything online about doing this and would appreciate some help there."}],"owner":{"account_id":22650505,"reputation":31,"user_id":16825231,"display_name":"Tomer_Harari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680276518,"creation_date":1680276518,"question_id":75900252,"body_markdown":"I want to build a microservice application for a company. Initially I took a monolithic approach to this application but I want to learn more about microservices so I&#39;m refactoring everything. The application takes a list of purchase order numbers (unique identifier of an order) from the user and generates FedEx shipping labels for each order. The monolithic application currently does this synchroneously by first scraping the web for each customer&#39;s information (name, address, phone number...) and then once each customer has all the information needed it reaches out to FedEx API and sends a request to create a shipment.\r\n\r\nI used Excalidraw to come up with a diagram of how this app would work and would appreciate any feedback on whether or not this approach would work / is the best practice in terms of a microservice Architecture. Also I&#39;d be using RabbitMQ queues for each queue. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y3hlv.png\r\n\r\n\r\nHere is a run through of the diagram:\r\nClient reaches hits API Gateway (Spring CLoud Gateway) with a Bulk Shipment Request (Essentially a list of purchase order numbers) and then each shipment request is added to the shipment-request-queue. The customer service consumes this queue and does web scraping for each purchase order number to get customer details. Once a customer information has been gathered, the customer object is placed on customer-queue. Shipment service then consumes customer object and builds a request to send to FedEx servers and create shipping label for the customer. The FedEx response will then go to the FedEx-queue and a Notification service will then take the response off the FedEx-queue and send an email to the client about the details.\r\n\r\n","title":"Microservice Design for a Java Spring Application","body":"<p>I want to build a microservice application for a company. Initially I took a monolithic approach to this application but I want to learn more about microservices so I'm refactoring everything. The application takes a list of purchase order numbers (unique identifier of an order) from the user and generates FedEx shipping labels for each order. The monolithic application currently does this synchroneously by first scraping the web for each customer's information (name, address, phone number...) and then once each customer has all the information needed it reaches out to FedEx API and sends a request to create a shipment.</p>\n<p>I used Excalidraw to come up with a diagram of how this app would work and would appreciate any feedback on whether or not this approach would work / is the best practice in terms of a microservice Architecture. Also I'd be using RabbitMQ queues for each queue.</p>\n<p><a href=\"https://i.stack.imgur.com/Y3hlv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y3hlv.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is a run through of the diagram:\nClient reaches hits API Gateway (Spring CLoud Gateway) with a Bulk Shipment Request (Essentially a list of purchase order numbers) and then each shipment request is added to the shipment-request-queue. The customer service consumes this queue and does web scraping for each purchase order number to get customer details. Once a customer information has been gathered, the customer object is placed on customer-queue. Shipment service then consumes customer object and builds a request to send to FedEx servers and create shipping label for the customer. The FedEx response will then go to the FedEx-queue and a Notification service will then take the response off the FedEx-queue and send an email to the client about the details.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9692,"page":533,"page_size":100}
