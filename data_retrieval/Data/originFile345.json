{"items":[{"tags":["java","hibernate","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1687883897,"post_id":76563006,"comment_id":134998205,"body_markdown":"Hi, The code I&#39;m working with is not using annotations so I&#39;m trying to not use it. But I have a bean defined (I&#39;ve updated my code) in servlet.xml which refers to `setCompanyManager` method. I&#39;ve corrected the name of the method as well. The save() works perfectly fine but I&#39;m only having issues with saveOrUpdate() when I&#39;m trying to create a new record. It should work like save() in this case.","body":"Hi, The code I&#39;m working with is not using annotations so I&#39;m trying to not use it. But I have a bean defined (I&#39;ve updated my code) in servlet.xml which refers to <code>setCompanyManager</code> method. I&#39;ve corrected the name of the method as well. The save() works perfectly fine but I&#39;m only having issues with saveOrUpdate() when I&#39;m trying to create a new record. It should work like save() in this case."}],"tags":[],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687854553,"creation_date":1687854553,"answer_id":76563006,"question_id":76561116,"body_markdown":"Hi in your RestController you have this code:\r\n\r\n    private CompanyManager mgr;\r\n    \r\n        public void setUserManager(CompanyManager companyManager) {\r\n            this.mgr = companyManager;\r\n        }\r\n\r\nBUT CompanyManager mgr are not decalred in this way!\r\n\r\nyou must set `@Autowired`\r\n\r\n    private CompanyManager mgr;\r\n\r\n        @Autowired\r\n        public void setUserManager(CompanyManager companyManager) {\r\n            this.mgr = companyManager;\r\n        }\r\n\r\n\r\nAnd your CompanyManager must be Tagged with @Service\r\n\r\n**Be carefull, if it is possible you can also solve this problem with JPA / JPQL.** it will be much easer for you - you dont need to write to much code.","title":"Getting NullPointerException only after using saveOrUpdate method of Hibernate","body":"<p>Hi in your RestController you have this code:</p>\n<pre><code>private CompanyManager mgr;\n\n    public void setUserManager(CompanyManager companyManager) {\n        this.mgr = companyManager;\n    }\n</code></pre>\n<p>BUT CompanyManager mgr are not decalred in this way!</p>\n<p>you must set <code>@Autowired</code></p>\n<pre><code>private CompanyManager mgr;\n\n    @Autowired\n    public void setUserManager(CompanyManager companyManager) {\n        this.mgr = companyManager;\n    }\n</code></pre>\n<p>And your CompanyManager must be Tagged with @Service</p>\n<p><strong>Be carefull, if it is possible you can also solve this problem with JPA / JPQL.</strong> it will be much easer for you - you dont need to write to much code.</p>\n"}],"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687883603,"creation_date":1687829693,"question_id":76561116,"body_markdown":"I have a controller defined like this and getting a NullPointerException Cannot invoke &quot;java.lang.Integer.intValue()&quot; because &quot;this.id&quot; is null (full stack trace shown in the end) \r\nonly when I&#39;m using `saveOrUpdate` method of Hibernate in `CompanyDAOHibernate`. It works fine when I just use `save()` method of hibernate. What might be the reason? \r\n\r\n*Here&#39;s the error in short:*\r\n\r\n    org.springframework.orm.hibernate5.HibernateSystemException: Exception occurred inside getter of com.pending.model.Company.id; nested exception is org.hibernate.PropertyAccessException: Exception occurred inside getter of com.pending.model.Company.id\r\n    Caused by: org.hibernate.PropertyAccessException: Exception occurred inside getter of com.pending.model.Company.id\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because &quot;this.id&quot; is null\r\n\r\n**Controller Code** below:\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/companyNewRecord&quot;)\r\n    public class CompanyNewRecordController {\r\n    \r\n    \tprivate CompanyManager mgr;\r\n    \r\n    \tpublic void setCompanyManager(CompanyManager companyManager) {\r\n    \t\tthis.mgr = companyManager;\r\n    \t}\r\n    \r\n    \t// display the form\r\n    \t@RequestMapping(method = RequestMethod.GET)\r\n    \tpublic ModelAndView edit(ModelAndView mav) {\r\n    \r\n    \t\tmav.setViewName(&quot;companyNewRecord&quot;);\r\n    \t\tmav.addObject(&quot;CompanyNewRecordForm&quot;, new CompanyNewRecordForm());\r\n    \t\treturn mav;\r\n    \t}\r\n    \r\n    \t// process the form\r\n    \t@RequestMapping(method = RequestMethod.POST)\r\n    \tpublic ModelAndView process(ModelAndView mav,\r\n    \t\t\t@ModelAttribute(&quot;CompanyNewRecordForm&quot;) CompanyNewRecordForm CompanyNewRecordForm, BindingResult result)\r\n    \t\t\tthrows Exception {\r\n    \r\n    \t\tCompany addNewCompany = new Company();\r\n            addNewCompany.setName(CompanyNewRecordForm.getCompanyName());\r\n    \t\taddNewCompany.setComment(CompanyNewRecordForm.getComment());\r\n    \t\tmgr.saveCompany(addNewCompany);\r\n    \t\treturn mav;\r\n    \t}\r\n    \r\n    }\r\n\r\nHere&#39;s my `Company` class inside `com.pending.model`:\r\n\r\n    public class Company implements Serializable{\r\n    \t\r\n    \t\t\r\n    \t\tprivate Integer id;\r\n            private String name;\r\n            private String comment;\r\n    \t\tpublic Integer getId() {\r\n    \t\t\treturn id;\r\n    \t\t}\r\n    \t\tpublic void setId(Integer id) {\r\n    \t\t\tthis.id = id;\r\n    \t\t}\r\n    \t\tpublic String getName() {\r\n    \t\t\treturn name;\r\n    \t\t}\r\n    \t\tpublic void setName(String name) {\r\n    \t\t\tthis.name = name;\r\n    \t\t}\r\n    \t\tpublic String getComment() {\r\n    \t\t\treturn comment;\r\n    \t\t}\r\n    \t\tpublic void setComment(String comment) {\r\n    \t\t\tthis.comment = comment;\r\n    \t\t}\r\n    \r\n    \t\t\r\n    }\r\n\r\nMy `Company.hbm.xml` file is also inside `com.pending.model`\r\n\r\n`CompanyManager` interface inside `com.pending.service` is as follows:\r\n\r\n    public interface CompanyManager {\r\n    \tpublic void setCompanyDAO(CompanyDAO dao);\r\n    \tpublic Company getCompany(Integer id);\t\r\n    \tpublic void saveCompany(Company company);\r\n    }\r\n\r\n\r\n`CompanyDAO` inside `com.pending.dao`\r\n\r\n    public interface CompanyDAO {\r\n    \r\n    \tpublic Company getCompany(Integer id);\r\n    \tpublic Company saveCompany(Company company);\r\n    \r\n    }\r\n\r\n\r\n`CompanyDaoHibernate` in `com.pending.dao.hibernate`\r\n\r\npublic class CompanyDAOHibernate extends HibernateDaoSupport implements CompanyDAO {\r\n\r\n\t@Override\r\n\tpublic Company saveCompany(Company company) {\r\n\t\tgetHibernateTemplate().saveOrUpdate(company);\r\n\r\n\t\tif (logger.isDebugEnabled()) {\r\n\t\t\tlogger.debug(&quot;Company id is: &quot; + company.getId());\r\n\t\t}\r\n\t\treturn company;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Company getCompany(Integer id) {\r\n\t\tCompany company = (Company) getHibernateTemplate().get(Company.class, id);\r\n\t\tif (company == null) {\r\n\t\t\tthrow new ObjectRetrievalFailureException(Company.class, id);\r\n\t\t}\r\n\t\treturn company;\r\n\t}\r\n\r\n`CompanyManagerImpl` in `com.pending.service.impl` \r\n\r\n\r\n     public class CompanyManagerImpl implements CompanyManager {\r\n    \tprivate CompanyDAO dao;\r\n    \r\n    \tpublic void setCompanyDAO(CompanyDAO dao) {\r\n    \t\tthis.dao = dao;\r\n    \r\n    \t}\r\n    \r\n    \tpublic void saveCompany(Company company) {\r\n    \t\tdao.saveCompany(company);\r\n    \r\n    \t}\r\n    \r\n    \tpublic Company getCompany(Integer id) {\r\n    \r\n    \t\treturn dao.getCompany(id);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nThe XML file is defined inside applicationContext-hibernate.xml as follows along with other xml files (not shown below)\r\n\r\n\r\n    &lt;bean id=&quot;sessionFactoryCOMPANYDB&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot;&gt;\r\n    \t\t\t&lt;ref bean=&quot;dataSourceCOMPANYDB&quot; /&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;mappingResources&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t\r\n    \t\t\t\t&lt;value&gt;com/pending/model/Company.hbm.xml&lt;/value&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n    \t\t\t&lt;props&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;\r\n    \t\t\t\t\torg.hibernate.dialect.SQLServer2012Dialect\r\n    \t\t\t\t&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.cache.region.factory_class&quot;&gt;org.hibernate.cache.ehcache.SingletonEhCacheRegionFactory\r\n    \t\t\t\t&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.cache.use_second_level_cache&quot;&gt;true&lt;/prop&gt;\r\n    \t\t\t&lt;/props&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n\r\nAnd applicationContex.xml contains the following bean :\r\n\r\n    &lt;bean id=&quot;companyManager&quot; parent=&quot;txProxyTemplateCOMPANYDB&quot;&gt;\r\n    \t\t&lt;property name=&quot;target&quot;&gt;\r\n    \t\t\t&lt;bean class=&quot;com.pending.service.impl.CompanyManagerImpl&quot;&gt;\r\n    \t\t\t\t&lt;property name=&quot;companyDAO&quot;&gt;\r\n    \t\t\t\t\t&lt;ref bean=&quot;companyDAO&quot; /&gt;\r\n    \t\t\t\t&lt;/property&gt;\r\n    \t\t\t&lt;/bean&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n\r\n\t\r\n\r\nMy SQLServer database table design is as follows:\r\n\r\n    Column Name    Data type   Allow Nuls\r\n    id              int        \r\n    name            varchar(30)\r\n    comment         varchar(250)    checkmarked\r\n    \t\r\n\r\nWhere, id is set to primary key\tand is autoincremented when an insertion happens.\r\n\r\nHere&#39;s `Company.hbm.xml`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-mapping PUBLIC\r\n    &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n    &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-mapping&gt;\r\n    &lt;class name=&quot;com.pending.model.Company&quot; table=&quot;company&quot;&gt;\r\n    &lt;id name=&quot;id&quot; column=&quot;id&quot; unsaved-value=&quot;null&quot;&gt;\r\n    &lt;generator class=&quot;native&quot; /&gt;\r\n    &lt;/id&gt;\r\n    &lt;property name=&quot;name&quot; /&gt;\r\n    &lt;property name=&quot;comment&quot; /&gt;\r\n    &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\nMy `servlet.xml` has this defined:\r\n\r\n    &lt;bean id=&quot;companyNewRecordController&quot;\r\n    class=&quot;com.pending.controller.CompanyNewRecordController&quot;&gt;\r\n        &lt;property name=&quot;companyManager&quot;&gt;\r\n             &lt;ref bean=&quot;companyManager&quot; /&gt;\r\n         &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \t\r\n\r\nHere is the stacktrace:\r\n\r\n        \r\n    [INFO] [talledLocalContainer] org.springframework.orm.hibernate5.HibernateSystemException: Exception occurred inside getter of com.pending.model.Company.id; nested exception is org.hibernate.PropertyAccessException: Exception occurred inside getter of com.pending.model.Company.id\r\n    [INFO] [talledLocalContainer]   at org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:267)\r\n    [INFO] [talledLocalContainer]   at org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:370)\r\n    [INFO] [talledLocalContainer]   at org.springframework.orm.hibernate5.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:334)\r\n    [INFO] [talledLocalContainer]   at org.springframework.orm.hibernate5.HibernateTemplate.saveOrUpdate(HibernateTemplate.java:665)\r\n    [INFO] [talledLocalContainer]   at com.pending.dao.hibernate.CompanyDAOHibernate.saveCompany(CompanyDAOHibernate.java:13)\r\n    [INFO] [talledLocalContainer]   at com.pending.service.impl.CompanyManagerImpl.saveCompany(CompanyManagerImpl.java:16)\r\n    [INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    [INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    [INFO] [talledLocalContainer]   at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    [INFO] [talledLocalContainer]   at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n    [INFO] [talledLocalContainer]   at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n    [INFO] [talledLocalContainer]   at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    [INFO] [talledLocalContainer]   at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n    [INFO] [talledLocalContainer]   at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n    [INFO] [talledLocalContainer]   at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    [INFO] [talledLocalContainer]   at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    [INFO] [talledLocalContainer]   at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n    [INFO] [talledLocalContainer]   at jdk.proxy3/jdk.proxy3.$Proxy64.saveCompany(Unknown Source)\r\n    [INFO] [talledLocalContainer]   at com.pending.web.controller.SampleNewCompanyController.process(SampleNewCompanyController.java:59)\r\n    [INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    [INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    [INFO] [talledLocalContainer]   at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    [INFO] [talledLocalContainer]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    [INFO] [talledLocalContainer]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    [INFO] [talledLocalContainer]   at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    [INFO] [talledLocalContainer]   at com.security.PasswordExpirationFilter.doFilter(PasswordExpirationFilter.java:201)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    [INFO] [talledLocalContainer]   at org.sitemesh.webapp.contentfilter.ContentBufferingFilter.bufferAndPostProcess(ContentBufferingFilter.java:169)\r\n    [INFO] [talledLocalContainer]   at org.sitemesh.webapp.contentfilter.ContentBufferingFilter.doFilter(ContentBufferingFilter.java:126)\r\n    [INFO] [talledLocalContainer]   at org.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:120)\r\n    [INFO] [talledLocalContainer]   at org.sitemesh.config.ConfigurableSiteMeshFilter.doFilter(ConfigurableSiteMeshFilter.java:163)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:106)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:97)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    [INFO] [talledLocalContainer]   at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    [INFO] [talledLocalContainer]   at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    [INFO] [talledLocalContainer]   at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n    [INFO] [talledLocalContainer]   at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n    [INFO] [talledLocalContainer]   at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    [INFO] [talledLocalContainer]   at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    [INFO] [talledLocalContainer]   at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    [INFO] [talledLocalContainer]   at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    [INFO] [talledLocalContainer]   at java.base/java.lang.Thread.run(Thread.java:833)\r\n    [INFO] [talledLocalContainer] Caused by: org.hibernate.PropertyAccessException: Exception occurred inside getter of com.pending.model.Company.id\r\n    [INFO] [talledLocalContainer]   at org.hibernate.property.access.spi.GetterMethodImpl.get(GetterMethodImpl.java:45)\r\n    [INFO] [talledLocalContainer]   at org.hibernate.tuple.entity.AbstractEntityTuplizer.getIdentifier(AbstractEntityTuplizer.java:230)\r\n    [INFO] [talledLocalContainer]   at org.hibernate.persister.entity.AbstractEntityPersister.getIdentifier(AbstractEntityPersister.java:5280)\r\n    [INFO] [talledLocalContainer]   at org.hibernate.persister.entity.AbstractEntityPersister.isTransient(AbstractEntityPersister.java:4972)\r\n    [INFO] [talledLocalContainer]   at org.hibernate.engine.internal.ForeignKeys.isTransient(ForeignKeys.java:294)\r\n    [INFO] [talledLocalContainer]   at org.hibernate.event.internal.EntityState.getEntityState(EntityState.java:59)\r\n    [INFO] [talledLocalContainer]   at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.performSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:85)\r\n    [INFO] [talledLocalContainer]   at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:75)\r\n    [INFO] [talledLocalContainer]   at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n    [INFO] [talledLocalContainer]   at org.hibernate.internal.SessionImpl.fireSaveOrUpdate(SessionImpl.java:656)\r\n    [INFO] [talledLocalContainer]   at org.hibernate.internal.SessionImpl.saveOrUpdate(SessionImpl.java:649)\r\n    [INFO] [talledLocalContainer]   at org.hibernate.internal.SessionImpl.saveOrUpdate(SessionImpl.java:644)\r\n    [INFO] [talledLocalContainer]   at org.springframework.orm.hibernate5.HibernateTemplate.lambda$saveOrUpdate$15(HibernateTemplate.java:667)\r\n    [INFO] [talledLocalContainer]   at org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:367)\r\n    [INFO] [talledLocalContainer]   ... 117 more\r\n    [INFO] [talledLocalContainer] Caused by: java.lang.reflect.InvocationTargetException\r\n    [INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    [INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    [INFO] [talledLocalContainer]   at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    [INFO] [talledLocalContainer]   at org.hibernate.property.access.spi.GetterMethodImpl.get(GetterMethodImpl.java:42)\r\n    [INFO] [talledLocalContainer]   ... 130 more\r\n    [INFO] [talledLocalContainer] Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because &quot;this.id&quot; is null\r\n    [INFO] [talledLocalContainer]   at com.pending.model.Company.getId(Company.java:14)\r\n    [INFO] [talledLocalContainer]   ... 135 more\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Getting NullPointerException only after using saveOrUpdate method of Hibernate","body":"<p>I have a controller defined like this and getting a NullPointerException Cannot invoke &quot;java.lang.Integer.intValue()&quot; because &quot;this.id&quot; is null (full stack trace shown in the end)\nonly when I'm using <code>saveOrUpdate</code> method of Hibernate in <code>CompanyDAOHibernate</code>. It works fine when I just use <code>save()</code> method of hibernate. What might be the reason?</p>\n<p><em>Here's the error in short:</em></p>\n<pre><code>org.springframework.orm.hibernate5.HibernateSystemException: Exception occurred inside getter of com.pending.model.Company.id; nested exception is org.hibernate.PropertyAccessException: Exception occurred inside getter of com.pending.model.Company.id\nCaused by: org.hibernate.PropertyAccessException: Exception occurred inside getter of com.pending.model.Company.id\nCaused by: java.lang.reflect.InvocationTargetException\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because &quot;this.id&quot; is null\n</code></pre>\n<p><strong>Controller Code</strong> below:</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/companyNewRecord&quot;)\npublic class CompanyNewRecordController {\n\n    private CompanyManager mgr;\n\n    public void setCompanyManager(CompanyManager companyManager) {\n        this.mgr = companyManager;\n    }\n\n    // display the form\n    @RequestMapping(method = RequestMethod.GET)\n    public ModelAndView edit(ModelAndView mav) {\n\n        mav.setViewName(&quot;companyNewRecord&quot;);\n        mav.addObject(&quot;CompanyNewRecordForm&quot;, new CompanyNewRecordForm());\n        return mav;\n    }\n\n    // process the form\n    @RequestMapping(method = RequestMethod.POST)\n    public ModelAndView process(ModelAndView mav,\n            @ModelAttribute(&quot;CompanyNewRecordForm&quot;) CompanyNewRecordForm CompanyNewRecordForm, BindingResult result)\n            throws Exception {\n\n        Company addNewCompany = new Company();\n        addNewCompany.setName(CompanyNewRecordForm.getCompanyName());\n        addNewCompany.setComment(CompanyNewRecordForm.getComment());\n        mgr.saveCompany(addNewCompany);\n        return mav;\n    }\n\n}\n</code></pre>\n<p>Here's my <code>Company</code> class inside <code>com.pending.model</code>:</p>\n<pre><code>public class Company implements Serializable{\n    \n        \n        private Integer id;\n        private String name;\n        private String comment;\n        public Integer getId() {\n            return id;\n        }\n        public void setId(Integer id) {\n            this.id = id;\n        }\n        public String getName() {\n            return name;\n        }\n        public void setName(String name) {\n            this.name = name;\n        }\n        public String getComment() {\n            return comment;\n        }\n        public void setComment(String comment) {\n            this.comment = comment;\n        }\n\n        \n}\n</code></pre>\n<p>My <code>Company.hbm.xml</code> file is also inside <code>com.pending.model</code></p>\n<p><code>CompanyManager</code> interface inside <code>com.pending.service</code> is as follows:</p>\n<pre><code>public interface CompanyManager {\n    public void setCompanyDAO(CompanyDAO dao);\n    public Company getCompany(Integer id);  \n    public void saveCompany(Company company);\n}\n</code></pre>\n<p><code>CompanyDAO</code> inside <code>com.pending.dao</code></p>\n<pre><code>public interface CompanyDAO {\n\n    public Company getCompany(Integer id);\n    public Company saveCompany(Company company);\n\n}\n</code></pre>\n<p><code>CompanyDaoHibernate</code> in <code>com.pending.dao.hibernate</code></p>\n<p>public class CompanyDAOHibernate extends HibernateDaoSupport implements CompanyDAO {</p>\n<pre><code>@Override\npublic Company saveCompany(Company company) {\n    getHibernateTemplate().saveOrUpdate(company);\n\n    if (logger.isDebugEnabled()) {\n        logger.debug(&quot;Company id is: &quot; + company.getId());\n    }\n    return company;\n}\n\n@Override\npublic Company getCompany(Integer id) {\n    Company company = (Company) getHibernateTemplate().get(Company.class, id);\n    if (company == null) {\n        throw new ObjectRetrievalFailureException(Company.class, id);\n    }\n    return company;\n}\n</code></pre>\n<p><code>CompanyManagerImpl</code> in <code>com.pending.service.impl</code></p>\n<pre><code> public class CompanyManagerImpl implements CompanyManager {\n    private CompanyDAO dao;\n\n    public void setCompanyDAO(CompanyDAO dao) {\n        this.dao = dao;\n\n    }\n\n    public void saveCompany(Company company) {\n        dao.saveCompany(company);\n\n    }\n\n    public Company getCompany(Integer id) {\n\n        return dao.getCompany(id);\n    }\n\n}\n</code></pre>\n<p>The XML file is defined inside applicationContext-hibernate.xml as follows along with other xml files (not shown below)</p>\n<pre><code>&lt;bean id=&quot;sessionFactoryCOMPANYDB&quot;\n        class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;\n            &lt;ref bean=&quot;dataSourceCOMPANYDB&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;mappingResources&quot;&gt;\n            &lt;list&gt;\n                \n                &lt;value&gt;com/pending/model/Company.hbm.xml&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;\n                    org.hibernate.dialect.SQLServer2012Dialect\n                &lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.cache.region.factory_class&quot;&gt;org.hibernate.cache.ehcache.SingletonEhCacheRegionFactory\n                &lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.cache.use_second_level_cache&quot;&gt;true&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>And applicationContex.xml contains the following bean :</p>\n<pre><code>&lt;bean id=&quot;companyManager&quot; parent=&quot;txProxyTemplateCOMPANYDB&quot;&gt;\n        &lt;property name=&quot;target&quot;&gt;\n            &lt;bean class=&quot;com.pending.service.impl.CompanyManagerImpl&quot;&gt;\n                &lt;property name=&quot;companyDAO&quot;&gt;\n                    &lt;ref bean=&quot;companyDAO&quot; /&gt;\n                &lt;/property&gt;\n            &lt;/bean&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>My SQLServer database table design is as follows:</p>\n<pre><code>Column Name    Data type   Allow Nuls\nid              int        \nname            varchar(30)\ncomment         varchar(250)    checkmarked\n    \n</code></pre>\n<p>Where, id is set to primary key and is autoincremented when an insertion happens.</p>\n<p>Here's <code>Company.hbm.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC\n&quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\n&quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\n&lt;hibernate-mapping&gt;\n&lt;class name=&quot;com.pending.model.Company&quot; table=&quot;company&quot;&gt;\n&lt;id name=&quot;id&quot; column=&quot;id&quot; unsaved-value=&quot;null&quot;&gt;\n&lt;generator class=&quot;native&quot; /&gt;\n&lt;/id&gt;\n&lt;property name=&quot;name&quot; /&gt;\n&lt;property name=&quot;comment&quot; /&gt;\n&lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p>My <code>servlet.xml</code> has this defined:</p>\n<pre><code>&lt;bean id=&quot;companyNewRecordController&quot;\nclass=&quot;com.pending.controller.CompanyNewRecordController&quot;&gt;\n    &lt;property name=&quot;companyManager&quot;&gt;\n         &lt;ref bean=&quot;companyManager&quot; /&gt;\n     &lt;/property&gt;\n&lt;/bean&gt;\n    \n</code></pre>\n<p>Here is the stacktrace:</p>\n<pre><code>[INFO] [talledLocalContainer] org.springframework.orm.hibernate5.HibernateSystemException: Exception occurred inside getter of com.pending.model.Company.id; nested exception is org.hibernate.PropertyAccessException: Exception occurred inside getter of com.pending.model.Company.id\n[INFO] [talledLocalContainer]   at org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:267)\n[INFO] [talledLocalContainer]   at org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:370)\n[INFO] [talledLocalContainer]   at org.springframework.orm.hibernate5.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:334)\n[INFO] [talledLocalContainer]   at org.springframework.orm.hibernate5.HibernateTemplate.saveOrUpdate(HibernateTemplate.java:665)\n[INFO] [talledLocalContainer]   at com.pending.dao.hibernate.CompanyDAOHibernate.saveCompany(CompanyDAOHibernate.java:13)\n[INFO] [talledLocalContainer]   at com.pending.service.impl.CompanyManagerImpl.saveCompany(CompanyManagerImpl.java:16)\n[INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n[INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[INFO] [talledLocalContainer]   at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n[INFO] [talledLocalContainer]   at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n[INFO] [talledLocalContainer]   at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n[INFO] [talledLocalContainer]   at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n[INFO] [talledLocalContainer]   at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n[INFO] [talledLocalContainer]   at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n[INFO] [talledLocalContainer]   at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n[INFO] [talledLocalContainer]   at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n[INFO] [talledLocalContainer]   at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n[INFO] [talledLocalContainer]   at jdk.proxy3/jdk.proxy3.$Proxy64.saveCompany(Unknown Source)\n[INFO] [talledLocalContainer]   at com.pending.web.controller.SampleNewCompanyController.process(SampleNewCompanyController.java:59)\n[INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n[INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[INFO] [talledLocalContainer]   at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n[INFO] [talledLocalContainer]   at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n[INFO] [talledLocalContainer]   at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n[INFO] [talledLocalContainer]   at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n[INFO] [talledLocalContainer]   at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n[INFO] [talledLocalContainer]   at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n[INFO] [talledLocalContainer]   at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n[INFO] [talledLocalContainer]   at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n[INFO] [talledLocalContainer]   at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n[INFO] [talledLocalContainer]   at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n[INFO] [talledLocalContainer]   at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n[INFO] [talledLocalContainer]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n[INFO] [talledLocalContainer]   at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n[INFO] [talledLocalContainer]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n[INFO] [talledLocalContainer]   at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n[INFO] [talledLocalContainer]   at com.security.PasswordExpirationFilter.doFilter(PasswordExpirationFilter.java:201)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n[INFO] [talledLocalContainer]   at org.sitemesh.webapp.contentfilter.ContentBufferingFilter.bufferAndPostProcess(ContentBufferingFilter.java:169)\n[INFO] [talledLocalContainer]   at org.sitemesh.webapp.contentfilter.ContentBufferingFilter.doFilter(ContentBufferingFilter.java:126)\n[INFO] [talledLocalContainer]   at org.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:120)\n[INFO] [talledLocalContainer]   at org.sitemesh.config.ConfigurableSiteMeshFilter.doFilter(ConfigurableSiteMeshFilter.java:163)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:106)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:97)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166)\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n[INFO] [talledLocalContainer]   at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n[INFO] [talledLocalContainer]   at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n[INFO] [talledLocalContainer]   at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n[INFO] [talledLocalContainer]   at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n[INFO] [talledLocalContainer]   at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n[INFO] [talledLocalContainer]   at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n[INFO] [talledLocalContainer]   at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n[INFO] [talledLocalContainer]   at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n[INFO] [talledLocalContainer]   at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n[INFO] [talledLocalContainer]   at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n[INFO] [talledLocalContainer]   at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n[INFO] [talledLocalContainer]   at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n[INFO] [talledLocalContainer]   at java.base/java.lang.Thread.run(Thread.java:833)\n[INFO] [talledLocalContainer] Caused by: org.hibernate.PropertyAccessException: Exception occurred inside getter of com.pending.model.Company.id\n[INFO] [talledLocalContainer]   at org.hibernate.property.access.spi.GetterMethodImpl.get(GetterMethodImpl.java:45)\n[INFO] [talledLocalContainer]   at org.hibernate.tuple.entity.AbstractEntityTuplizer.getIdentifier(AbstractEntityTuplizer.java:230)\n[INFO] [talledLocalContainer]   at org.hibernate.persister.entity.AbstractEntityPersister.getIdentifier(AbstractEntityPersister.java:5280)\n[INFO] [talledLocalContainer]   at org.hibernate.persister.entity.AbstractEntityPersister.isTransient(AbstractEntityPersister.java:4972)\n[INFO] [talledLocalContainer]   at org.hibernate.engine.internal.ForeignKeys.isTransient(ForeignKeys.java:294)\n[INFO] [talledLocalContainer]   at org.hibernate.event.internal.EntityState.getEntityState(EntityState.java:59)\n[INFO] [talledLocalContainer]   at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.performSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:85)\n[INFO] [talledLocalContainer]   at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:75)\n[INFO] [talledLocalContainer]   at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n[INFO] [talledLocalContainer]   at org.hibernate.internal.SessionImpl.fireSaveOrUpdate(SessionImpl.java:656)\n[INFO] [talledLocalContainer]   at org.hibernate.internal.SessionImpl.saveOrUpdate(SessionImpl.java:649)\n[INFO] [talledLocalContainer]   at org.hibernate.internal.SessionImpl.saveOrUpdate(SessionImpl.java:644)\n[INFO] [talledLocalContainer]   at org.springframework.orm.hibernate5.HibernateTemplate.lambda$saveOrUpdate$15(HibernateTemplate.java:667)\n[INFO] [talledLocalContainer]   at org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:367)\n[INFO] [talledLocalContainer]   ... 117 more\n[INFO] [talledLocalContainer] Caused by: java.lang.reflect.InvocationTargetException\n[INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n[INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[INFO] [talledLocalContainer]   at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n[INFO] [talledLocalContainer]   at org.hibernate.property.access.spi.GetterMethodImpl.get(GetterMethodImpl.java:42)\n[INFO] [talledLocalContainer]   ... 130 more\n[INFO] [talledLocalContainer] Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because &quot;this.id&quot; is null\n[INFO] [talledLocalContainer]   at com.pending.model.Company.getId(Company.java:14)\n[INFO] [talledLocalContainer]   ... 135 more\n</code></pre>\n"},{"tags":["java","tomcat","jasper-reports"],"comments":[{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":2,"creation_date":1687882542,"post_id":76565044,"comment_id":134997874,"body_markdown":"Try to remove the old version of `org.eclipse.jdt.core.compiler`","body":"Try to remove the old version of <code>org.eclipse.jdt.core.compiler</code>"}],"owner":{"account_id":15231305,"reputation":126,"user_id":10990361,"display_name":"Marc06210"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687882565,"creation_date":1687870230,"question_id":76565044,"body_markdown":"I am migrating from spring 4 to 5, and I had to upgrade JasperReport to 6.20.5.\r\n\r\nReports are ok on my local machine but when deployed as a war file on the real tomcat instance I am facing this issue\r\n\r\n     ProgrammeSubreport.jrxml: Errors were encountered when compiling report expressions class file:\r\n    1. Syntax error, static imports are only available if source level is 1.5 or greater\r\n    import static net.sf.jasperreports.functions.standard.LogicalFunctions.EQUALS;\r\n\r\nit seems that the level of my JVM is not correctly identified.\r\nIs there any way to configure tomcat with the correct settings?\r\n\r\nThanks for any help\r\n","title":"jasperreport in tomcat 9 and jdk 8","body":"<p>I am migrating from spring 4 to 5, and I had to upgrade JasperReport to 6.20.5.</p>\n<p>Reports are ok on my local machine but when deployed as a war file on the real tomcat instance I am facing this issue</p>\n<pre><code> ProgrammeSubreport.jrxml: Errors were encountered when compiling report expressions class file:\n1. Syntax error, static imports are only available if source level is 1.5 or greater\nimport static net.sf.jasperreports.functions.standard.LogicalFunctions.EQUALS;\n</code></pre>\n<p>it seems that the level of my JVM is not correctly identified.\nIs there any way to configure tomcat with the correct settings?</p>\n<p>Thanks for any help</p>\n"},{"tags":["java","inheritance","reference","polymorphism","superclass"],"comments":[{"owner":{"account_id":6379952,"reputation":3111,"user_id":4949750,"display_name":"Amongalen"},"score":1,"creation_date":1607009280,"post_id":65128923,"comment_id":115142519,"body_markdown":"When you have a variable of type `Object` you can only perform methods of `Object` on it.","body":"When you have a variable of type <code>Object</code> you can only perform methods of <code>Object</code> on it."},{"owner":{"account_id":9127082,"reputation":2954,"user_id":6790326,"display_name":"Dorian Gray"},"score":0,"creation_date":1607009604,"post_id":65128923,"comment_id":115142699,"body_markdown":"Also, you should never use `new String` here. Just use ``String myString = &quot;hello&quot;;``","body":"Also, you should never use <code>new String</code> here. Just use <code>String myString = &quot;hello&quot;;</code>"}],"answers":[{"tags":[],"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687882004,"creation_date":1687882004,"answer_id":76566764,"question_id":65128923,"body_markdown":"The object you create is the object you create. How you reference it is separate but related.\r\n\r\nIn the code below, `string2` and `string3` are both `String` objects, created the same way.\r\n\r\nSo `string2` is a `String` reference. This allows you to access everything &quot;String-ish&quot; about the object. You can also reference everything &quot;Object-ish&quot; because all `String`s are `Object`s; that is, because `Object` is a superclass (parent) of `String`\r\n\r\nBut `string3` is an `Object` reference, and &quot;does not know&quot; that the object is a `String`. It only knows it is an `Object`. You can only access &quot;Object-ish&quot; fields and methods, not &quot;String-ish&quot; methods. To access &quot;String-ish&quot; methods, you would need to cast the reference to the true class it is. That is what `string4` is.\r\n\r\n----\r\n\r\nAdditionally, `String` has special behaviour within Java. Possibly you should use a different class to clarify the reference concept. (Experiment with your own class heirarchy.)\r\n\r\nYou can create a `String` without using the `new` keyword, but instead using `&quot;string constant&quot;` syntax. This creates the `String` in a special place in memory known as &quot;interned&quot;. All interned `String`s with identical text are the *exact same object* in memory. They are not just equal, they are identical. \r\n\r\nIn the code below, `string1` and `string5` are interned `String`s. The others are not.\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String string1 = &quot;hello&quot;;\r\n        String string2 = new String(&quot;hello&quot;);\r\n        Object string3 = new String(&quot;hello&quot;);\r\n        String string4 = (String) string3;\r\n        String string5 = new String(&quot;hello&quot;).intern();\r\n        \r\n        System.out.println(string1 == string2); // false\r\n        System.out.println(string1 == string5); // true\r\n        System.out.println(string4 == string3); // true\r\n        \r\n        System.out.println(string1.getClass().equals(string2.getClass())); // true\r\n        System.out.println(string1.getClass().equals(string3.getClass())); // true\r\n        System.out.println(string1.getClass().equals(string5.getClass())); // true\r\n        \r\n        \r\n        System.out.println(string1.equals(string2)); // true\r\n        System.out.println(string1.equals(string3)); // true\r\n        System.out.println(string1.equals(string5)); // true\r\n    }","title":"What the difference between using the class reference type Object and the class reference type String when creating a new string?","body":"<p>The object you create is the object you create. How you reference it is separate but related.</p>\n<p>In the code below, <code>string2</code> and <code>string3</code> are both <code>String</code> objects, created the same way.</p>\n<p>So <code>string2</code> is a <code>String</code> reference. This allows you to access everything &quot;String-ish&quot; about the object. You can also reference everything &quot;Object-ish&quot; because all <code>String</code>s are <code>Object</code>s; that is, because <code>Object</code> is a superclass (parent) of <code>String</code></p>\n<p>But <code>string3</code> is an <code>Object</code> reference, and &quot;does not know&quot; that the object is a <code>String</code>. It only knows it is an <code>Object</code>. You can only access &quot;Object-ish&quot; fields and methods, not &quot;String-ish&quot; methods. To access &quot;String-ish&quot; methods, you would need to cast the reference to the true class it is. That is what <code>string4</code> is.</p>\n<hr />\n<p>Additionally, <code>String</code> has special behaviour within Java. Possibly you should use a different class to clarify the reference concept. (Experiment with your own class heirarchy.)</p>\n<p>You can create a <code>String</code> without using the <code>new</code> keyword, but instead using <code>&quot;string constant&quot;</code> syntax. This creates the <code>String</code> in a special place in memory known as &quot;interned&quot;. All interned <code>String</code>s with identical text are the <em>exact same object</em> in memory. They are not just equal, they are identical.</p>\n<p>In the code below, <code>string1</code> and <code>string5</code> are interned <code>String</code>s. The others are not.</p>\n<pre><code>public static void main(String[] args) {\n\n    String string1 = &quot;hello&quot;;\n    String string2 = new String(&quot;hello&quot;);\n    Object string3 = new String(&quot;hello&quot;);\n    String string4 = (String) string3;\n    String string5 = new String(&quot;hello&quot;).intern();\n    \n    System.out.println(string1 == string2); // false\n    System.out.println(string1 == string5); // true\n    System.out.println(string4 == string3); // true\n    \n    System.out.println(string1.getClass().equals(string2.getClass())); // true\n    System.out.println(string1.getClass().equals(string3.getClass())); // true\n    System.out.println(string1.getClass().equals(string5.getClass())); // true\n    \n    \n    System.out.println(string1.equals(string2)); // true\n    System.out.println(string1.equals(string3)); // true\n    System.out.println(string1.equals(string5)); // true\n}\n</code></pre>\n"}],"owner":{"account_id":18377337,"reputation":21,"user_id":13386149,"display_name":"yusufa22"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687882196,"creation_date":1607009167,"question_id":65128923,"body_markdown":"I have learned that Java string variables are objects and that you can create them by instantiating the `String` class in the `java.lang` package like this:\r\n\r\n    String myString = new String(&quot;hello&quot;);\r\n\r\nWhat is the difference between:\r\n\r\n - Creating a string by instantiating the `String` class using the `String` reference type as above\r\n - And creating a `String` by instantiating the `String` class using an `Object` reference type such as:\r\n\r\n       Object myString = new String(&quot;hello&quot;);\r\n\r\n?","title":"What the difference between using the class reference type Object and the class reference type String when creating a new string?","body":"<p>I have learned that Java string variables are objects and that you can create them by instantiating the <code>String</code> class in the <code>java.lang</code> package like this:</p>\n<pre><code>String myString = new String(&quot;hello&quot;);\n</code></pre>\n<p>What is the difference between:</p>\n<ul>\n<li><p>Creating a string by instantiating the <code>String</code> class using the <code>String</code> reference type as above</p>\n</li>\n<li><p>And creating a <code>String</code> by instantiating the <code>String</code> class using an <code>Object</code> reference type such as:</p>\n<pre><code>Object myString = new String(&quot;hello&quot;);\n</code></pre>\n</li>\n</ul>\n<p>?</p>\n"},{"tags":["java","json","rest","jersey","http-post"],"comments":[{"owner":{"account_id":6349322,"reputation":734,"user_id":4928897,"display_name":"ipper"},"score":1,"creation_date":1502444949,"post_id":45631964,"comment_id":78223092,"body_markdown":"Where is userFile set?","body":"Where is userFile set?"},{"owner":{"account_id":7477099,"reputation":53,"user_id":5683196,"display_name":"Ćepa"},"score":0,"creation_date":1502475157,"post_id":45631964,"comment_id":78242343,"body_markdown":"Sorry, forgot to add that, in the UserService.class constructor","body":"Sorry, forgot to add that, in the UserService.class constructor"},{"owner":{"account_id":7815129,"reputation":3299,"user_id":5910091,"display_name":"ujulu"},"score":0,"creation_date":1502533176,"post_id":45631964,"comment_id":78256807,"body_markdown":"Show us the value of `userFile`; otherwise, we cannot see where you&#39;re trying to write.","body":"Show us the value of <code>userFile</code>; otherwise, we cannot see where you&#39;re trying to write."}],"owner":{"account_id":7477099,"reputation":53,"user_id":5683196,"display_name":"Ćepa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1034,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687882045,"creation_date":1502444634,"question_id":45631964,"body_markdown":"I have a problem while trying to write a String in .txt file (located in resources) by sending a POST request (Maven Project).\r\n\r\nI have a class called **UserResource.java** in which I wrote a method triggered by request such as: `http://localhost:8080/WebProjekat/users/register`, `/users` is @Path annotation on class level.\r\n   \r\n    @Path(&quot;/register&quot;)\r\n    @POST\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    public Response registerUser(User user) {\r\n    \tString username;\r\n    \tif(userService.addUser(user)!=null) {\r\n            username = user.getUsername();\r\n    \t\treturn Response.status(Status.CREATED)\r\n    \t\t               .entity(user)\r\n    \t\t\t\t\t   .build();\r\n    \t} else\r\n   \t\t\treturn Response.status(Status.NOT_ACCEPTABLE)\r\n                           .entity(user)\r\n    \t\t\t\t\t   .build();\r\n    }\r\n\r\nIn this method there is a call to another method `userService.addUser(user)` which parses a user object into a String and writes it into a file.\r\n\r\n    public User write(User user) {\r\n    \tSystem.out.println(user);\r\n    \tStringBuilder result = new StringBuilder(&quot;&quot;);\r\n    \tSimpleDateFormat sdfr = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    \tString commentIds = &quot;&quot;;\r\n    \tString themeIds = &quot;&quot;;\r\n    \tString sectionIds = &quot;&quot;;\r\n    \t\t\r\n    \tfor(int i=0; i &lt; user.getComments().size();i++) {\r\n    \t\tif(i != user.getComments().size()-1)\r\n    \t\t\tcommentIds+=user.getComments().get(i)+&quot;,&quot;;\r\n    \t\telse\r\n    \t\t\tcommentIds+=user.getComments().get(i);\r\n    \t}\r\n    \t\t\r\n    \tfor(int i=0; i &lt; user.getSavedThemes().size();i++) {\r\n    \t\tif(i != user.getSavedThemes().size()-1)\r\n    \t\t\tthemeIds+=user.getSavedThemes().get(i)+&quot;,&quot;;\r\n    \t\telse\r\n    \t\t\tthemeIds+=user.getSavedThemes().get(i);\r\n    \t}\r\n    \t\t\r\n    \tfor(int i=0; i &lt; user.getListOfSections().size();i++) {\r\n    \t\tif(i != user.getListOfSections().size()-1)\r\n    \t\t\tsectionIds+=user.getListOfSections().get(i)+&quot;,&quot;;\r\n    \t\telse\r\n    \t\t\tsectionIds+=user.getListOfSections().get(i);\r\n    \t}\r\n    \t\t\t\r\n    \tresult.append(user.getUsername())\r\n    \t\t  .append(&quot;|&quot;)\r\n    \t\t  .append(user.getPassword())\r\n    \t\t  .append(&quot;|&quot;)\r\n    \t\t  .append(user.getFirstName())\r\n    \t\t  .append(&quot;|&quot;)\r\n    \t\t  .append(user.getLastName())\r\n    \t      .append(&quot;|&quot;)\r\n    \t\t  .append(user.getPhoneNumber())\r\n    \t\t  .append(&quot;|&quot;)\r\n    \t\t  .append(sdfr.format(user.getRegistrationDate()))\r\n    \t\t  .append(&quot;|&quot;)\r\n    \t\t  .append(commentIds)\r\n    \t\t  .append(&quot;|&quot;)\r\n    \t      .append(themeIds)\r\n    \t      .append(&quot;|&quot;)\r\n    \t      .append(sectionIds);\r\n    \t   \r\n    \ttry {\r\n    \t\tSystem.out.println(result);\r\n    \t    FileWriter outputFileReader = new FileWriter(userFile,true);\r\n    \t\tPrintWriter outputStream = new PrintWriter(outputFileReader);\r\n    \t\toutputStream.println(result);\r\n    \t\t\r\n    \t    outputStream.close();\r\n    \t\t\t\r\n    \t\treturn user;\r\n    \t} catch(IOException ex) {\r\n    \t\tex.printStackTrace();\r\n    \t}\r\n    \t\t\r\n    \treturn null;\r\n    }\r\n\r\nThis is the JSON object that I wrote in Request Body in Postman:\r\n\r\n    {\r\n        &quot;comments&quot;: [\r\n            &quot;16&quot;,\r\n            &quot;18&quot;,\r\n            &quot;222&quot;\r\n        ],\r\n        &quot;firstName&quot;: &quot;Milos&quot;,\r\n        &quot;lastName&quot;: &quot;Ribar&quot;,\r\n        &quot;listOfSections&quot;: [\r\n            &quot;Section6&quot;\r\n        ],\r\n        &quot;password&quot;: &quot;riki995&quot;,\r\n        &quot;phoneNumber&quot;: &quot;0651941929&quot;,\r\n        &quot;registrationDate&quot;: &quot;2017-08-10T00:00:00&quot;,\r\n        &quot;savedThemes&quot;: [],\r\n        &quot;username&quot;: &quot;Riki&quot;\r\n    }\r\n\r\nNOTE: I also added a key-value pair : `Content-Type - application/json` in Header section of Postman.\r\n\r\nAfter I send this request, JERSEY successfully finds the class and the method it needs to call, it makes contact with the Server and the Server sends me a response with `Status code : 201 Created` and like I asked a JSON object in a Response Body. \r\nDespite all of that the changes are not made in the file which is located:\r\n\r\n    -WebProjekat\r\n        -src\r\n           -main\r\n              -resources\r\n                 -files\r\n                    -users.txt\r\n\r\nI printed out the String right before I tried to write it into a file to check if it reaches the `outStream.println(result)` line and it does.","title":"Sending POST request to write in .txt file, response is 201 CREATED but file remains unmodified","body":"<p>I have a problem while trying to write a String in .txt file (located in resources) by sending a POST request (Maven Project).</p>\n<p>I have a class called <strong>UserResource.java</strong> in which I wrote a method triggered by request such as: <code>http://localhost:8080/WebProjekat/users/register</code>, <code>/users</code> is @Path annotation on class level.</p>\n<pre><code>@Path(&quot;/register&quot;)\n@POST\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\npublic Response registerUser(User user) {\n    String username;\n    if(userService.addUser(user)!=null) {\n        username = user.getUsername();\n        return Response.status(Status.CREATED)\n                       .entity(user)\n                       .build();\n    } else\n        return Response.status(Status.NOT_ACCEPTABLE)\n                       .entity(user)\n                       .build();\n}\n</code></pre>\n<p>In this method there is a call to another method <code>userService.addUser(user)</code> which parses a user object into a String and writes it into a file.</p>\n<pre><code>public User write(User user) {\n    System.out.println(user);\n    StringBuilder result = new StringBuilder(&quot;&quot;);\n    SimpleDateFormat sdfr = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n    String commentIds = &quot;&quot;;\n    String themeIds = &quot;&quot;;\n    String sectionIds = &quot;&quot;;\n        \n    for(int i=0; i &lt; user.getComments().size();i++) {\n        if(i != user.getComments().size()-1)\n            commentIds+=user.getComments().get(i)+&quot;,&quot;;\n        else\n            commentIds+=user.getComments().get(i);\n    }\n        \n    for(int i=0; i &lt; user.getSavedThemes().size();i++) {\n        if(i != user.getSavedThemes().size()-1)\n            themeIds+=user.getSavedThemes().get(i)+&quot;,&quot;;\n        else\n            themeIds+=user.getSavedThemes().get(i);\n    }\n        \n    for(int i=0; i &lt; user.getListOfSections().size();i++) {\n        if(i != user.getListOfSections().size()-1)\n            sectionIds+=user.getListOfSections().get(i)+&quot;,&quot;;\n        else\n            sectionIds+=user.getListOfSections().get(i);\n    }\n            \n    result.append(user.getUsername())\n          .append(&quot;|&quot;)\n          .append(user.getPassword())\n          .append(&quot;|&quot;)\n          .append(user.getFirstName())\n          .append(&quot;|&quot;)\n          .append(user.getLastName())\n          .append(&quot;|&quot;)\n          .append(user.getPhoneNumber())\n          .append(&quot;|&quot;)\n          .append(sdfr.format(user.getRegistrationDate()))\n          .append(&quot;|&quot;)\n          .append(commentIds)\n          .append(&quot;|&quot;)\n          .append(themeIds)\n          .append(&quot;|&quot;)\n          .append(sectionIds);\n       \n    try {\n        System.out.println(result);\n        FileWriter outputFileReader = new FileWriter(userFile,true);\n        PrintWriter outputStream = new PrintWriter(outputFileReader);\n        outputStream.println(result);\n        \n        outputStream.close();\n            \n        return user;\n    } catch(IOException ex) {\n        ex.printStackTrace();\n    }\n        \n    return null;\n}\n</code></pre>\n<p>This is the JSON object that I wrote in Request Body in Postman:</p>\n<pre><code>{\n    &quot;comments&quot;: [\n        &quot;16&quot;,\n        &quot;18&quot;,\n        &quot;222&quot;\n    ],\n    &quot;firstName&quot;: &quot;Milos&quot;,\n    &quot;lastName&quot;: &quot;Ribar&quot;,\n    &quot;listOfSections&quot;: [\n        &quot;Section6&quot;\n    ],\n    &quot;password&quot;: &quot;riki995&quot;,\n    &quot;phoneNumber&quot;: &quot;0651941929&quot;,\n    &quot;registrationDate&quot;: &quot;2017-08-10T00:00:00&quot;,\n    &quot;savedThemes&quot;: [],\n    &quot;username&quot;: &quot;Riki&quot;\n}\n</code></pre>\n<p>NOTE: I also added a key-value pair : <code>Content-Type - application/json</code> in Header section of Postman.</p>\n<p>After I send this request, JERSEY successfully finds the class and the method it needs to call, it makes contact with the Server and the Server sends me a response with <code>Status code : 201 Created</code> and like I asked a JSON object in a Response Body.\nDespite all of that the changes are not made in the file which is located:</p>\n<pre><code>-WebProjekat\n    -src\n       -main\n          -resources\n             -files\n                -users.txt\n</code></pre>\n<p>I printed out the String right before I tried to write it into a file to check if it reaches the <code>outStream.println(result)</code> line and it does.</p>\n"},{"tags":["python","java","arrays","numpy","numerical-methods"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1687838228,"post_id":76561486,"comment_id":134988777,"body_markdown":"Please show a [mcve], including but not limited to, what are the contents of the byte array you are trying to unpack? What are the expected results? What is the actual result? Please show a *minimal* example that reproduces the problem, and not the thousands of bytes that you are actually using.","body":"Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, including but not limited to, what are the contents of the byte array you are trying to unpack? What are the expected results? What is the actual result? Please show a <i>minimal</i> example that reproduces the problem, and not the thousands of bytes that you are actually using."},{"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"score":0,"creation_date":1687838441,"post_id":76561486,"comment_id":134988796,"body_markdown":"thanks @ Sweeper but how can I submit the byte array here?","body":"thanks @ Sweeper but how can I submit the byte array here?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1687838896,"post_id":76561486,"comment_id":134988842,"body_markdown":"Actually never mind. 3221234265 is the unsigned value of -1073733031. There are no unsigned integers in Java, but you can use `Integer.toUnsignedLong` to convert it to a `long`. See [this](https://stackoverflow.com/questions/9854166/declaring-an-unsigned-int-in-java) for more info.","body":"Actually never mind. 3221234265 is the unsigned value of -1073733031. There are no unsigned integers in Java, but you can use <code>Integer.toUnsignedLong</code> to convert it to a <code>long</code>. See <a href=\"https://stackoverflow.com/questions/9854166/declaring-an-unsigned-int-in-java\">this</a> for more info."},{"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"score":0,"creation_date":1687839206,"post_id":76561486,"comment_id":134988868,"body_markdown":"@ Sweeper. Do you mean converting negative integers to Integer.toUnsignedLong?","body":"@ Sweeper. Do you mean converting negative integers to Integer.toUnsignedLong?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1687839337,"post_id":76561486,"comment_id":134988879,"body_markdown":"You can use that with all integers, not just negative ones. It converts all `int`s to non-negative `long`s.","body":"You can use that with all integers, not just negative ones. It converts all <code>int</code>s to non-negative <code>long</code>s."},{"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"score":0,"creation_date":1687839492,"post_id":76561486,"comment_id":134988891,"body_markdown":"@Sweeper. Thanks, it worked! Is there any way to convert all integers without a for-loop iteration?","body":"@Sweeper. Thanks, it worked! Is there any way to convert all integers without a for-loop iteration?"},{"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"score":0,"creation_date":1687839572,"post_id":76561486,"comment_id":134988903,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254260/discussion-between-newbie5050-and-sweeper).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254260/discussion-between-newbie5050-and-sweeper\">continue this discussion in chat</a>."}],"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687838924,"answer_count":0,"score":0,"last_activity_date":1687881811,"creation_date":1687837684,"question_id":76561486,"body_markdown":"Following [the similar question][1], I am trying to implement the unpack method in Java for Integer:\r\n\r\nSample byte array input: chunkByte[1219:1240] = [64, 30, 31, 0, 64, 118, 31, 0, 64, -22, 29, 0, 64, 4, 30, 0, 64, 26, 36, 0, 64] where \r\n\r\nCode in Python:\r\n``` \r\n    fid = open(raw_file, &#39;rb&#39;)\r\n    fid.seek(0, os.SEEK_END)\r\n    nFileLen = fid.tell()\r\n    fid.seek(0, 0)\r\n    \r\n    chunk_size = 2 ** 19\r\n    n = int(nFileLen / chunk_size)\r\n\r\n    for i in range(0, n):\r\n        nLenVals = round(chunk_size / 4)\r\n        vals = struct.unpack(&#39;I&#39; * nLenVals, fid.read(chunk_size))\r\n```  \r\nIn Java:\r\n``` \r\nvals = (int[]) unpack(&#39;I&#39;, chunk_size / 4, chunkByte);\r\n``` \r\nwhere\r\n``` \r\n    private Object unpack(char type, int dim, byte[] chunkByte) {\r\n        if (type == &#39;f&#39;) {\r\n            var floats = ByteBuffer.wrap(chunkByte).order(ByteOrder.LITTLE_ENDIAN).asFloatBuffer();\r\n            var floatArray = new float[dim];\r\n            floats.get(floatArray);\r\n            return floatArray;\r\n        } else if (type == &#39;I&#39;) {\r\n            var ints = ByteBuffer.wrap(chunkByte).order(ByteOrder.nativeOrder()).asIntBuffer();\r\n            var intArray = new int[dim];\r\n            ints.get(intArray);\r\n            return intArray;\r\n        }\r\n        return null;\r\n    }\r\n``` \r\nI get negative results for the same byte arrays (byte[] chunkByte).\r\n\r\nFor example, in Python, I get this value: vals[1220]=**3221234265**. But I get the wrong value for the similar index: vals[1220]=**-1073733031**.\r\n\r\nI tried changing ***nativeOrder()*** to ***LITTLE_ENDIAN*** but it didn&#39;t help.\r\n\r\n  [1]: https://stackoverflow.com/questions/75944653/how-to-implement-struct-unpack-in-java-with-float-type","title":"How to implement struct.unpack in Java with Integer type?","body":"<p>Following <a href=\"https://stackoverflow.com/questions/75944653/how-to-implement-struct-unpack-in-java-with-float-type\">the similar question</a>, I am trying to implement the unpack method in Java for Integer:</p>\n<p>Sample byte array input: chunkByte[1219:1240] = [64, 30, 31, 0, 64, 118, 31, 0, 64, -22, 29, 0, 64, 4, 30, 0, 64, 26, 36, 0, 64] where</p>\n<p>Code in Python:</p>\n<pre><code>    fid = open(raw_file, 'rb')\n    fid.seek(0, os.SEEK_END)\n    nFileLen = fid.tell()\n    fid.seek(0, 0)\n    \n    chunk_size = 2 ** 19\n    n = int(nFileLen / chunk_size)\n\n    for i in range(0, n):\n        nLenVals = round(chunk_size / 4)\n        vals = struct.unpack('I' * nLenVals, fid.read(chunk_size))\n</code></pre>\n<p>In Java:</p>\n<pre><code>vals = (int[]) unpack('I', chunk_size / 4, chunkByte);\n</code></pre>\n<p>where</p>\n<pre><code>    private Object unpack(char type, int dim, byte[] chunkByte) {\n        if (type == 'f') {\n            var floats = ByteBuffer.wrap(chunkByte).order(ByteOrder.LITTLE_ENDIAN).asFloatBuffer();\n            var floatArray = new float[dim];\n            floats.get(floatArray);\n            return floatArray;\n        } else if (type == 'I') {\n            var ints = ByteBuffer.wrap(chunkByte).order(ByteOrder.nativeOrder()).asIntBuffer();\n            var intArray = new int[dim];\n            ints.get(intArray);\n            return intArray;\n        }\n        return null;\n    }\n</code></pre>\n<p>I get negative results for the same byte arrays (byte[] chunkByte).</p>\n<p>For example, in Python, I get this value: vals[1220]=<strong>3221234265</strong>. But I get the wrong value for the similar index: vals[1220]=<strong>-1073733031</strong>.</p>\n<p>I tried changing <em><strong>nativeOrder()</strong></em> to <em><strong>LITTLE_ENDIAN</strong></em> but it didn't help.</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687883800,"post_id":76566723,"comment_id":134998179,"body_markdown":"*InputStream inputStream = getClass().getResourceAsStream(&quot;/sounds/music/MainThemes&quot;);* is not going to work. That, by definition of your code which follows, is a resource *folder*. What I *think* your purpose is can be fulfilled by making that something like `InputStream inputStream = getClass().getResourceAsStream(&quot;/sounds/music/MainThemes/index.txt&quot;);` and reading your real resource paths out of *that*","body":"<i>InputStream inputStream = getClass().getResourceAsStream(&quot;/sounds/music/MainThemes&quot;);</i> is not going to work. That, by definition of your code which follows, is a resource <i>folder</i>. What I <i>think</i> your purpose is can be fulfilled by making that something like <code>InputStream inputStream = getClass().getResourceAsStream(&quot;&#47;sounds&#47;music&#47;MainThemes&#47;ind&zwnj;&#8203;ex.txt&quot;);</code> and reading your real resource paths out of <i>that</i>"},{"owner":{"account_id":25660848,"reputation":5,"user_id":19426609,"display_name":"Shodan4004"},"score":0,"creation_date":1687906051,"post_id":76566723,"comment_id":135002015,"body_markdown":"g00se response fixed it thanks","body":"g00se response fixed it thanks"}],"owner":{"account_id":25660848,"reputation":5,"user_id":19426609,"display_name":"Shodan4004"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687881665,"creation_date":1687881665,"question_id":76566723,"body_markdown":"When i run the app in VSC it all works fine but when i generate the jar and execute it, doesnt seem to read the file as it supposed to be. I read lot of questions similar but i still cant find the solution.\r\n\r\nBasically I have to read all the .mp3 files from the folder &quot;/sounds/music/MainThemes&quot;, and add them to the list: &quot;mainThemeMediaList&quot;.\r\nThe prints ( --- number --) i&#39;m using as logging and when I run the Jar it prints me up to --- 2 --- and does not enter the while loop.\r\nIt seems that the buff read does not read the stream and thus results in null, and the list does not fill.\r\nI am new to java so any help is appreciated.\r\n\r\n``` \r\n    private void loadMainThemes() throws AudioLoadingException {\r\n        try {\r\n            System.out.println(&quot;--- 1 ---&quot;);\r\n            InputStream inputStream = getClass().getResourceAsStream(&quot;/sounds/music/MainThemes&quot;);\r\n            System.out.println(inputStream);\r\n            if (inputStream != null) {\r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\r\n                System.out.println(reader);\r\n                String line;\r\n                System.out.println(&quot;--- 2 ---&quot;);\r\n                while ((line = reader.readLine()) != null) {\r\n                    System.out.println(&quot;--- 3 ---&quot;);\r\n                    if (line.endsWith(&quot;.mp3&quot;)) {\r\n                        System.out.println(&quot;--- 4 ---&quot;);\r\n                        Media media = new Media(getClass().getResource(&quot;/sounds/music/MainThemes/&quot; + line).toString());\r\n                        System.out.println(&quot;--- 5 ---&quot;);\r\n                        mainThemeMediaList.add(media);\r\n                    }\r\n                }\r\n            } else {\r\n                throw new AudioLoadingException(&quot;MainThemes resource not found.&quot;);\r\n            }\r\n        } catch (IOException e) {\r\n            throw new AudioLoadingException(&quot;Failed to load MainThemes. &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n``` ","title":"Executable java jar can&#39;t find resources path","body":"<p>When i run the app in VSC it all works fine but when i generate the jar and execute it, doesnt seem to read the file as it supposed to be. I read lot of questions similar but i still cant find the solution.</p>\n<p>Basically I have to read all the .mp3 files from the folder &quot;/sounds/music/MainThemes&quot;, and add them to the list: &quot;mainThemeMediaList&quot;.\nThe prints ( --- number --) i'm using as logging and when I run the Jar it prints me up to --- 2 --- and does not enter the while loop.\nIt seems that the buff read does not read the stream and thus results in null, and the list does not fill.\nI am new to java so any help is appreciated.</p>\n<pre><code>    private void loadMainThemes() throws AudioLoadingException {\n        try {\n            System.out.println(&quot;--- 1 ---&quot;);\n            InputStream inputStream = getClass().getResourceAsStream(&quot;/sounds/music/MainThemes&quot;);\n            System.out.println(inputStream);\n            if (inputStream != null) {\n                BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\n                System.out.println(reader);\n                String line;\n                System.out.println(&quot;--- 2 ---&quot;);\n                while ((line = reader.readLine()) != null) {\n                    System.out.println(&quot;--- 3 ---&quot;);\n                    if (line.endsWith(&quot;.mp3&quot;)) {\n                        System.out.println(&quot;--- 4 ---&quot;);\n                        Media media = new Media(getClass().getResource(&quot;/sounds/music/MainThemes/&quot; + line).toString());\n                        System.out.println(&quot;--- 5 ---&quot;);\n                        mainThemeMediaList.add(media);\n                    }\n                }\n            } else {\n                throw new AudioLoadingException(&quot;MainThemes resource not found.&quot;);\n            }\n        } catch (IOException e) {\n            throw new AudioLoadingException(&quot;Failed to load MainThemes. &quot; + e.getMessage());\n        }\n    }\n\n</code></pre>\n"},{"tags":["java","xml","spring"],"answers":[{"tags":[],"owner":{"account_id":12007582,"reputation":101,"user_id":8785434,"display_name":"Nguyen Tung"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1687881347,"creation_date":1687881347,"answer_id":76566680,"question_id":76566559,"body_markdown":"To fix this issue, you could add the method ```setter``` for &quot;city&quot; field in the &quot;Address&quot;:\r\n```java\r\npublic void setCity(String city) {\r\n    this.city = city;\r\n}\r\n```\r\nOr you could create a constructor of class Address:\r\n```java\r\npublic Address(String city) {\r\n    this.city = city;\r\n}\r\n\r\n\r\n```\r\nYou got this issue because Spring tries to create an instance of the &quot;Address&quot; object for the &quot;add&quot; bean, but the &quot;Address&quot; class does not have a constructor or setter method for the &quot;city&quot; property.\r\nI hope this help!","title":"In my application one class cannot be found whose reference I have added in another class","body":"<p>To fix this issue, you could add the method <code>setter</code> for &quot;city&quot; field in the &quot;Address&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setCity(String city) {\n    this.city = city;\n}\n</code></pre>\n<p>Or you could create a constructor of class Address:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Address(String city) {\n    this.city = city;\n}\n\n\n</code></pre>\n<p>You got this issue because Spring tries to create an instance of the &quot;Address&quot; object for the &quot;add&quot; bean, but the &quot;Address&quot; class does not have a constructor or setter method for the &quot;city&quot; property.\nI hope this help!</p>\n"}],"owner":{"display_name":"user17788823"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76566680,"answer_count":1,"score":0,"last_activity_date":1687881347,"creation_date":1687880513,"question_id":76566559,"body_markdown":"Error creating bean with name &#39;person&#39; defined in class path resource [config.xml]: Cannot resolve reference to bean &#39;add&#39; while setting bean property &#39;address&#39;\r\n\r\n\r\n\r\nI am getting the above error but cannot understand why it is hapenning.\r\nAll of my classes are in the same package.\r\n\r\nBelow is my config file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot; http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n\r\n&lt;bean class=&quot;com.lcwd.withoutboot.Person&quot; id=&quot;person&quot;&gt;\r\n    &lt;property name=&quot;name&quot; value=&quot;Sourabh&quot;/&gt;\r\n    &lt;property name=&quot;address&quot; ref=&quot;add&quot;/&gt;\r\n&lt;/bean&gt;\r\n\r\n&lt;bean class=&quot;com.lcwd.withoutboot.Address&quot; id=&quot;add&quot;&gt;\r\n    &lt;property name=&quot;city&quot; value=&quot;Mumbai&quot;/&gt;\r\n&lt;/bean&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nApp.java\r\n```\r\npublic class App \r\n{ \r\npublic static void main( String[] args ) { \r\nApplicationContext context=new ClassPathXmlApplicationContext(&quot;config.xml&quot;); System.out.println( &quot;Hello World!&quot; ); \r\nPerson person=context.getBean(&quot;person&quot;, Person.class);\r\n System.out.println(person.getName());\r\n System.out.println(person.getAddress()); \r\n} \r\n}\r\n```\r\n\r\nPerson.java\r\n```\r\npackage com.lcwd.withoutboot;\r\npublic class Person { Address address;\r\n\r\npublic Address getAddress() {\r\n    return address;\r\n}\r\n\r\npublic void setAddress(Address address) {\r\n    this.address = address;\r\n}\r\n\r\nString name;\r\n\r\npublic String getName() {\r\n    return name;\r\n}\r\n\r\npublic void setName(String name) {\r\n    this.name = name;\r\n}\r\n}\r\n```\r\n\r\nAddress.java\r\n```\r\npackage com.lcwd.withoutboot;\r\npublic class Address { String city;\r\n\r\n@Override\r\npublic String toString() {\r\n    return &quot;Address{&quot; +\r\n            &quot;city=&#39;&quot; + city + &#39;\\&#39;&#39; +\r\n            &#39;}&#39;;\r\n}\r\n}\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.lcwd.withoutboot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;SpringWithoutBoot&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;SpringWithoutBoot&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n      &lt;version&gt;6.0.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n      &lt;version&gt;6.0.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```","title":"In my application one class cannot be found whose reference I have added in another class","body":"<p>Error creating bean with name 'person' defined in class path resource [config.xml]: Cannot resolve reference to bean 'add' while setting bean property 'address'</p>\n<p>I am getting the above error but cannot understand why it is hapenning.\nAll of my classes are in the same package.</p>\n<p>Below is my config file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot; http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n\n&lt;bean class=&quot;com.lcwd.withoutboot.Person&quot; id=&quot;person&quot;&gt;\n    &lt;property name=&quot;name&quot; value=&quot;Sourabh&quot;/&gt;\n    &lt;property name=&quot;address&quot; ref=&quot;add&quot;/&gt;\n&lt;/bean&gt;\n\n&lt;bean class=&quot;com.lcwd.withoutboot.Address&quot; id=&quot;add&quot;&gt;\n    &lt;property name=&quot;city&quot; value=&quot;Mumbai&quot;/&gt;\n&lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>App.java</p>\n<pre><code>public class App \n{ \npublic static void main( String[] args ) { \nApplicationContext context=new ClassPathXmlApplicationContext(&quot;config.xml&quot;); System.out.println( &quot;Hello World!&quot; ); \nPerson person=context.getBean(&quot;person&quot;, Person.class);\n System.out.println(person.getName());\n System.out.println(person.getAddress()); \n} \n}\n</code></pre>\n<p>Person.java</p>\n<pre><code>package com.lcwd.withoutboot;\npublic class Person { Address address;\n\npublic Address getAddress() {\n    return address;\n}\n\npublic void setAddress(Address address) {\n    this.address = address;\n}\n\nString name;\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n}\n</code></pre>\n<p>Address.java</p>\n<pre><code>package com.lcwd.withoutboot;\npublic class Address { String city;\n\n@Override\npublic String toString() {\n    return &quot;Address{&quot; +\n            &quot;city='&quot; + city + '\\'' +\n            '}';\n}\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.lcwd.withoutboot&lt;/groupId&gt;\n  &lt;artifactId&gt;SpringWithoutBoot&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;SpringWithoutBoot&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n      &lt;version&gt;6.0.9&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n      &lt;version&gt;6.0.9&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-cloudwatchlogs"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":3,"creation_date":1687881222,"post_id":76566632,"comment_id":134997568,"body_markdown":"Cloudwatch logs is slow to query. And you query twice, once to get the number of logs and then to iterate over them, certainly not a good idea.","body":"Cloudwatch logs is slow to query. And you query twice, once to get the number of logs and then to iterate over them, certainly not a good idea."}],"owner":{"account_id":3483162,"reputation":456,"user_id":2914693,"accept_rate":48,"display_name":"j8d"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687881006,"creation_date":1687881006,"question_id":76566632,"body_markdown":"The following code is taking 60 seconds or more to retrieve no more than a dozen short log events. \r\n\r\nAny implicit inefficiencies in my code?\r\n\r\n    public List&lt;String&gt; getCWLogEvents(String logGroupName, String logStreamNamePrefix, Long startTime, Long endTime) {\r\n    \r\n        List&lt;String&gt; logMessages = new LinkedList&lt;String&gt;();\r\n    \r\n        try {\r\n            FilterLogEventsRequest filterLogEventsRequest = FilterLogEventsRequest.builder()\r\n                    .logGroupName(logGroupName)\r\n                    .logStreamNamePrefix(logStreamNamePrefix)\r\n                    .startTime(startTime)\r\n                    .endTime(endTime)\r\n                    .build();\r\n    \r\n            int logLimit = this.cloudWatchLogsClient.filterLogEvents(filterLogEventsRequest).events().size();\r\n    \r\n            for (int c = 0; c &lt; logLimit; c++) {\r\n                logMessages.add(\r\n                        this.cloudWatchLogsClient.filterLogEvents(filterLogEventsRequest).events().get(c).message());\r\n            }\r\n    \r\n            return logMessages;\r\n    \r\n        } catch (CloudWatchException e) {\r\n            log.error(e.awsErrorDetails().errorMessage());\r\n        }\r\n    \r\n        return Collections.emptyList();\r\n    }","title":"Make FilterLogEventsRequest more efficient","body":"<p>The following code is taking 60 seconds or more to retrieve no more than a dozen short log events.</p>\n<p>Any implicit inefficiencies in my code?</p>\n<pre><code>public List&lt;String&gt; getCWLogEvents(String logGroupName, String logStreamNamePrefix, Long startTime, Long endTime) {\n\n    List&lt;String&gt; logMessages = new LinkedList&lt;String&gt;();\n\n    try {\n        FilterLogEventsRequest filterLogEventsRequest = FilterLogEventsRequest.builder()\n                .logGroupName(logGroupName)\n                .logStreamNamePrefix(logStreamNamePrefix)\n                .startTime(startTime)\n                .endTime(endTime)\n                .build();\n\n        int logLimit = this.cloudWatchLogsClient.filterLogEvents(filterLogEventsRequest).events().size();\n\n        for (int c = 0; c &lt; logLimit; c++) {\n            logMessages.add(\n                    this.cloudWatchLogsClient.filterLogEvents(filterLogEventsRequest).events().get(c).message());\n        }\n\n        return logMessages;\n\n    } catch (CloudWatchException e) {\n        log.error(e.awsErrorDetails().errorMessage());\n    }\n\n    return Collections.emptyList();\n}\n</code></pre>\n"},{"tags":["java","android","permissions"],"owner":{"account_id":27262600,"reputation":1,"user_id":20785220,"display_name":"thunderkat211"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687880803,"creation_date":1687880803,"question_id":76566601,"body_markdown":"Hoping someone can help me with an ongoing frustrating issue with trying to publish one of my Android Apps written in Java to the Google Playstore. Everytime I try to publish it to the Google Playstore, I receive a rejection letter (from what feels like an automated rejection letter from their compliancy department.)\r\n\r\nBelow is the letter from Google, my code in question, and my Android Manifest listing the permissions. I have tried at least 20 attempts to modify the code to be compliant and each time no matter what I changed, it has failed to get past their filters. Anyone know anything about how to implement code on making your phone a default phone handler or can anyone se what is wrong with my default handler situation?\r\n\r\n&quot;Letter from Playstore&quot;\r\n\r\n**Issue with your app\r\n\r\n**After reviewing your app, we found that it doesn’t comply with the Permissions and APIs that Access Sensitive Information policy. An app can use Call Log or SMS permissions only when it is acting as a designated default handler or its core functionality falls within a permitted use case.\r\nApps must be actively registered as the default SMS, Phone, or Assistant handler before prompting users to accept any SMS or Call Log permissions. Those apps must immediately stop using the permission when they’re no longer the default handler.\r\nYou declared default Phone handling in your declaration form, but your app isn’t the registered default handler for phone or its other core functionality.\r\n\r\nI have tried to change the order in which the permission request present themselves. As of now I have the default handler prompt showing up first and if the user opts NO, the app doesnt work. I cannot understand what can be more compliant than that.\r\n\r\n```\r\n\r\n//my code\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\nimport android.Manifest;\r\nimport android.app.AlertDialog;\r\nimport android.app.NotificationManager;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Color;\r\nimport android.media.AudioManager;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.provider.Settings;\r\nimport android.telecom.TelecomManager;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private TextView currentStateTV;\r\n    private ImageButton ringtoneIB;\r\n\r\n    private AudioManager audioManager;\r\n    private int currentMode;\r\n    private static final int PERMISSION_REQUEST_CODE = 1;\r\n    private static final String SHARED_PREFS_NAME = &quot;MyPrefs&quot;;\r\n    private static final String KEY_SHARED_SETTING_EXECUTED = &quot;sharedSettingExecuted&quot;;\r\n\r\n    private boolean isSharedSettingExecuted = false;\r\n    private TelecomManager telecomManager;\r\n    private SharedPreferences sharedPreferences;\r\n    private boolean isPermissionGranted = false; // Added flag to track permission status\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n\r\n    currentStateTV = findViewById(R.id.currentStateTV);\r\n    ringtoneIB = findViewById(R.id.ringer);\r\n    audioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\r\n\r\n    sharedPreferences = getSharedPreferences(SHARED_PREFS_NAME, MODE_PRIVATE);\r\n    isSharedSettingExecuted = sharedPreferences.getBoolean(KEY_SHARED_SETTING_EXECUTED, false);\r\n\r\n    telecomManager = (TelecomManager) getSystemService(Context.TELECOM_SERVICE);\r\n    boolean isDefaultDialer = getPackageName().equals(telecomManager.getDefaultDialerPackage());\r\n\r\n   ** if (!isDefaultDialer &amp;&amp; !isSharedSettingExecuted) {\r\n    AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n    builder.setTitle(&quot;Set as Default Phone App&quot;);\r\n    builder.setMessage(&quot;Would you like to set this app as your default phone app?&quot;);\r\n    builder.setPositiveButton(&quot;Yes&quot;, (dialog, which) -&gt; {\r\n    Intent intent = new Intent(TelecomManager.ACTION_CHANGE_DEFAULT_DIALER);\r\n    intent.putExtra(TelecomManager.EXTRA_CHANGE_DEFAULT_DIALER_PACKAGE_NAME, getPackageName());\r\n    startActivity(intent);\r\n    performCodeBlock2();});\r\n\r\n    builder.setNegativeButton(&quot;No&quot;, (dialog, which) -&gt; {\r\n    Toast.makeText(MainActivity.this, &quot;App is not set as the default phone handler&quot;,  \r\n\r\n    Toast.LENGTH_SHORT).show();});\r\n    builder.show();} else {\r\n    performCodeBlock2();}**\r\n\r\n    // Set up OnClickListener for ringtoneIB\r\n    ringtoneIB.setOnClickListener(v -&gt; {\r\n    audioManager.setRingerMode(AudioManager.RINGER_MODE_NORMAL);\r\n    Toast.makeText(MainActivity.this, &quot;Ringtone Mode Activated..&quot;, Toast.LENGTH_SHORT).show();\r\n    currentStateTV.setText(&quot;Ringtone Mode Activated..&quot;);});\r\n\r\n    // Set up OnClickListener for button\r\n    Button button = findViewById(R.id.button);\r\n    button.setOnClickListener(v -&gt; {\r\n\r\n\r\n    Intent intentLoadNewActivity = new Intent(MainActivity.this, NewActivity.class);\r\n    startActivity(intentLoadNewActivity);\r\n    });\r\n\r\n    // Set up OnClickListener for hideButton\r\n    ImageButton hideButton = findViewById(R.id.hideme);\r\n    hideButton.setOnClickListener(view -&gt; {\r\n    audioManager.setRingerMode(AudioManager.RINGER_MODE_SILENT);\r\n    currentStateTV.setText(&quot;Ringtone Mode Silent (APP RUNNING)&quot;);\r\n    currentStateTV.setTextColor(Color.parseColor(&quot;#FFFFFF&quot;));\r\n\r\n    if (ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CALL_LOG) != \r\n\r\n    PackageManager.PERMISSION_GRANTED) {\r\n    Toast.makeText(this, &quot;App disabled until permissions accepted. Close &amp; Restart App&quot;, \r\n\r\n    Toast.LENGTH_SHORT).show();} \r\n    else {\r\n    Toast.makeText(this, &quot;Good to Go! Hiding App&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    view.postDelayed(() -&gt; moveTaskToBack(true), 2000);\r\n    });\r\n    }\r\n\r\n    private void performCodeBlock2() {\r\n    if (!isSharedSettingExecuted) {\r\n    isSharedSettingExecuted = true;\r\n    sharedPreferences.edit().putBoolean(KEY_SHARED_SETTING_EXECUTED,\r\n    isSharedSettingExecuted).apply();\r\n    } else {\r\n    return; // Skip code block 2 if already executed\r\n    }\r\n\r\n    currentMode = audioManager.getRingerMode();\r\n\r\n    switch (currentMode) {\r\n    case AudioManager.RINGER_MODE_NORMAL:\r\n    currentStateTV.setText(&quot;Ringer Mode&quot;);\r\n    break;\r\n    case AudioManager.RINGER_MODE_SILENT:\r\n    currentStateTV.setText(&quot;Ringer Mode Silent&quot;);\r\n    break;\r\n    default:\r\n    currentStateTV.setText(&quot;Fail to get mode&quot;);\r\n        }\r\n\r\n    NotificationManager notificationManager = (NotificationManager)  \r\n    getSystemService(Context.NOTIFICATION_SERVICE);\r\n\r\n    **if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp;   \r\n    !notificationManager.isNotificationPolicyAccessGranted()) {\r\n    Intent intent = new Intent(Settings.ACTION_NOTIFICATION_POLICY_ACCESS_SETTINGS);\r\n    startActivity(intent);\r\n    }\r\n\r\n    if (ContextCompat.checkSelfPermission(MainActivity.this,  \r\n    Manifest.permission.READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED) {\r\n    if (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, \r\n    Manifest.permission.READ_PHONE_STATE)) {\r\n    ActivityCompat.requestPermissions(MainActivity.this, new String[] \r\n    {Manifest.permission.READ_PHONE_STATE}, PERMISSION_REQUEST_CODE);\r\n    } else {\r\n    ActivityCompat.requestPermissions(MainActivity.this, new String[].   \r\n    {Manifest.permission.READ_PHONE_STATE}, PERMISSION_REQUEST_CODE);\r\n    }\r\n    } else {\r\n    isPermissionGranted = true; // Permission is already granted\r\n    }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] \r\n    grantResults) {\r\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    switch (requestCode) {\r\n    case PERMISSION_REQUEST_CODE: {\r\n    if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n    if (ContextCompat.checkSelfPermission(MainActivity.this, \r\n    Manifest.permission.READ_PHONE_STATE) == PackageManager.PERMISSION_GRANTED) {\r\n    if (!isPermissionGranted) { // Check if permission was not already granted\r\n    if (permissions[0].equals(Manifest.permission.READ_PHONE_STATE)) {\r\n    Toast.makeText(this, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\r\n    isPermissionGranted = true;\r\n    }\r\n    }\r\n\r\n    if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_CALL_LOG)\r\n    != PackageManager.PERMISSION_GRANTED) {\r\n    if   (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, \r\n    Manifest.permission.READ_CALL_LOG)) {\r\n    ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_CALL_LOG}, 11);\r\n                            } else {\r\n                                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_CALL_LOG}, 11);\r\n                            }\r\n                        }\r\n                    }\r\n                } else {\r\n                    Toast.makeText(this, &quot;Permission Denied&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                break;\r\n            }\r\n            case 11: {\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_CALL_LOG) == PackageManager.PERMISSION_GRANTED) {\r\n                        Toast.makeText(this, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                } else {\r\n                    Toast.makeText(this, &quot;Permission Denied&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                break;\r\n            }\r\n        }**\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n\r\n        telecomManager = (TelecomManager) getSystemService(Context.TELECOM_SERVICE);\r\n        boolean isDefaultDialer = getPackageName().equals(telecomManager.getDefaultDialerPackage());\r\n\r\n        if (!isDefaultDialer) {\r\n            if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_CALL_LOG) == PackageManager.PERMISSION_GRANTED) {\r\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_CALL_LOG}, PERMISSION_REQUEST_CODE);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onSaveInstanceState(Bundle outState) {\r\n        super.onSaveInstanceState(outState);\r\n        outState.putBoolean(&quot;isPermissionGranted&quot;, isPermissionGranted);\r\n    }\r\n\r\n    @Override\r\n    protected void onRestoreInstanceState(Bundle savedInstanceState) {\r\n        super.onRestoreInstanceState(savedInstanceState);\r\n        isPermissionGranted = savedInstanceState.getBoolean(&quot;isPermissionGranted&quot;, false);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n//my manifest\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_DEFAULT_DIALER&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NOTIFICATION_POLICY&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MyApplication123&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.NewActivity&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.DIAL&quot;/&gt;\r\n                &lt;action android:name=&quot;android.intent.action.CALL&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.ASSIST&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.DIAL&quot;/&gt;\r\n\r\n            &lt;/intent-filter&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;receiver\r\n            android:name=&quot;.CallReceiver&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.PHONE_STATE&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```","title":"Default Phone Handler Google Playstore Policy. My app constantly rejected","body":"<p>Hoping someone can help me with an ongoing frustrating issue with trying to publish one of my Android Apps written in Java to the Google Playstore. Everytime I try to publish it to the Google Playstore, I receive a rejection letter (from what feels like an automated rejection letter from their compliancy department.)</p>\n<p>Below is the letter from Google, my code in question, and my Android Manifest listing the permissions. I have tried at least 20 attempts to modify the code to be compliant and each time no matter what I changed, it has failed to get past their filters. Anyone know anything about how to implement code on making your phone a default phone handler or can anyone se what is wrong with my default handler situation?</p>\n<p>&quot;Letter from Playstore&quot;</p>\n<p>**Issue with your app</p>\n<p>**After reviewing your app, we found that it doesn’t comply with the Permissions and APIs that Access Sensitive Information policy. An app can use Call Log or SMS permissions only when it is acting as a designated default handler or its core functionality falls within a permitted use case.\nApps must be actively registered as the default SMS, Phone, or Assistant handler before prompting users to accept any SMS or Call Log permissions. Those apps must immediately stop using the permission when they’re no longer the default handler.\nYou declared default Phone handling in your declaration form, but your app isn’t the registered default handler for phone or its other core functionality.</p>\n<p>I have tried to change the order in which the permission request present themselves. As of now I have the default handler prompt showing up first and if the user opts NO, the app doesnt work. I cannot understand what can be more compliant than that.</p>\n<pre><code>\n//my code\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\nimport android.Manifest;\nimport android.app.AlertDialog;\nimport android.app.NotificationManager;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.content.pm.PackageManager;\nimport android.graphics.Color;\nimport android.media.AudioManager;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.provider.Settings;\nimport android.telecom.TelecomManager;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageButton;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n    private TextView currentStateTV;\n    private ImageButton ringtoneIB;\n\n    private AudioManager audioManager;\n    private int currentMode;\n    private static final int PERMISSION_REQUEST_CODE = 1;\n    private static final String SHARED_PREFS_NAME = &quot;MyPrefs&quot;;\n    private static final String KEY_SHARED_SETTING_EXECUTED = &quot;sharedSettingExecuted&quot;;\n\n    private boolean isSharedSettingExecuted = false;\n    private TelecomManager telecomManager;\n    private SharedPreferences sharedPreferences;\n    private boolean isPermissionGranted = false; // Added flag to track permission status\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    currentStateTV = findViewById(R.id.currentStateTV);\n    ringtoneIB = findViewById(R.id.ringer);\n    audioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\n\n    sharedPreferences = getSharedPreferences(SHARED_PREFS_NAME, MODE_PRIVATE);\n    isSharedSettingExecuted = sharedPreferences.getBoolean(KEY_SHARED_SETTING_EXECUTED, false);\n\n    telecomManager = (TelecomManager) getSystemService(Context.TELECOM_SERVICE);\n    boolean isDefaultDialer = getPackageName().equals(telecomManager.getDefaultDialerPackage());\n\n   ** if (!isDefaultDialer &amp;&amp; !isSharedSettingExecuted) {\n    AlertDialog.Builder builder = new AlertDialog.Builder(this);\n    builder.setTitle(&quot;Set as Default Phone App&quot;);\n    builder.setMessage(&quot;Would you like to set this app as your default phone app?&quot;);\n    builder.setPositiveButton(&quot;Yes&quot;, (dialog, which) -&gt; {\n    Intent intent = new Intent(TelecomManager.ACTION_CHANGE_DEFAULT_DIALER);\n    intent.putExtra(TelecomManager.EXTRA_CHANGE_DEFAULT_DIALER_PACKAGE_NAME, getPackageName());\n    startActivity(intent);\n    performCodeBlock2();});\n\n    builder.setNegativeButton(&quot;No&quot;, (dialog, which) -&gt; {\n    Toast.makeText(MainActivity.this, &quot;App is not set as the default phone handler&quot;,  \n\n    Toast.LENGTH_SHORT).show();});\n    builder.show();} else {\n    performCodeBlock2();}**\n\n    // Set up OnClickListener for ringtoneIB\n    ringtoneIB.setOnClickListener(v -&gt; {\n    audioManager.setRingerMode(AudioManager.RINGER_MODE_NORMAL);\n    Toast.makeText(MainActivity.this, &quot;Ringtone Mode Activated..&quot;, Toast.LENGTH_SHORT).show();\n    currentStateTV.setText(&quot;Ringtone Mode Activated..&quot;);});\n\n    // Set up OnClickListener for button\n    Button button = findViewById(R.id.button);\n    button.setOnClickListener(v -&gt; {\n\n\n    Intent intentLoadNewActivity = new Intent(MainActivity.this, NewActivity.class);\n    startActivity(intentLoadNewActivity);\n    });\n\n    // Set up OnClickListener for hideButton\n    ImageButton hideButton = findViewById(R.id.hideme);\n    hideButton.setOnClickListener(view -&gt; {\n    audioManager.setRingerMode(AudioManager.RINGER_MODE_SILENT);\n    currentStateTV.setText(&quot;Ringtone Mode Silent (APP RUNNING)&quot;);\n    currentStateTV.setTextColor(Color.parseColor(&quot;#FFFFFF&quot;));\n\n    if (ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CALL_LOG) != \n\n    PackageManager.PERMISSION_GRANTED) {\n    Toast.makeText(this, &quot;App disabled until permissions accepted. Close &amp; Restart App&quot;, \n\n    Toast.LENGTH_SHORT).show();} \n    else {\n    Toast.makeText(this, &quot;Good to Go! Hiding App&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    view.postDelayed(() -&gt; moveTaskToBack(true), 2000);\n    });\n    }\n\n    private void performCodeBlock2() {\n    if (!isSharedSettingExecuted) {\n    isSharedSettingExecuted = true;\n    sharedPreferences.edit().putBoolean(KEY_SHARED_SETTING_EXECUTED,\n    isSharedSettingExecuted).apply();\n    } else {\n    return; // Skip code block 2 if already executed\n    }\n\n    currentMode = audioManager.getRingerMode();\n\n    switch (currentMode) {\n    case AudioManager.RINGER_MODE_NORMAL:\n    currentStateTV.setText(&quot;Ringer Mode&quot;);\n    break;\n    case AudioManager.RINGER_MODE_SILENT:\n    currentStateTV.setText(&quot;Ringer Mode Silent&quot;);\n    break;\n    default:\n    currentStateTV.setText(&quot;Fail to get mode&quot;);\n        }\n\n    NotificationManager notificationManager = (NotificationManager)  \n    getSystemService(Context.NOTIFICATION_SERVICE);\n\n    **if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp;   \n    !notificationManager.isNotificationPolicyAccessGranted()) {\n    Intent intent = new Intent(Settings.ACTION_NOTIFICATION_POLICY_ACCESS_SETTINGS);\n    startActivity(intent);\n    }\n\n    if (ContextCompat.checkSelfPermission(MainActivity.this,  \n    Manifest.permission.READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED) {\n    if (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, \n    Manifest.permission.READ_PHONE_STATE)) {\n    ActivityCompat.requestPermissions(MainActivity.this, new String[] \n    {Manifest.permission.READ_PHONE_STATE}, PERMISSION_REQUEST_CODE);\n    } else {\n    ActivityCompat.requestPermissions(MainActivity.this, new String[].   \n    {Manifest.permission.READ_PHONE_STATE}, PERMISSION_REQUEST_CODE);\n    }\n    } else {\n    isPermissionGranted = true; // Permission is already granted\n    }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] \n    grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    switch (requestCode) {\n    case PERMISSION_REQUEST_CODE: {\n    if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n    if (ContextCompat.checkSelfPermission(MainActivity.this, \n    Manifest.permission.READ_PHONE_STATE) == PackageManager.PERMISSION_GRANTED) {\n    if (!isPermissionGranted) { // Check if permission was not already granted\n    if (permissions[0].equals(Manifest.permission.READ_PHONE_STATE)) {\n    Toast.makeText(this, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\n    isPermissionGranted = true;\n    }\n    }\n\n    if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_CALL_LOG)\n    != PackageManager.PERMISSION_GRANTED) {\n    if   (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, \n    Manifest.permission.READ_CALL_LOG)) {\n    ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_CALL_LOG}, 11);\n                            } else {\n                                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_CALL_LOG}, 11);\n                            }\n                        }\n                    }\n                } else {\n                    Toast.makeText(this, &quot;Permission Denied&quot;, Toast.LENGTH_SHORT).show();\n                }\n                break;\n            }\n            case 11: {\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_CALL_LOG) == PackageManager.PERMISSION_GRANTED) {\n                        Toast.makeText(this, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                } else {\n                    Toast.makeText(this, &quot;Permission Denied&quot;, Toast.LENGTH_SHORT).show();\n                }\n                break;\n            }\n        }**\n    }\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n\n        telecomManager = (TelecomManager) getSystemService(Context.TELECOM_SERVICE);\n        boolean isDefaultDialer = getPackageName().equals(telecomManager.getDefaultDialerPackage());\n\n        if (!isDefaultDialer) {\n            if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_CALL_LOG) == PackageManager.PERMISSION_GRANTED) {\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_CALL_LOG}, PERMISSION_REQUEST_CODE);\n            }\n        }\n    }\n\n    @Override\n    protected void onSaveInstanceState(Bundle outState) {\n        super.onSaveInstanceState(outState);\n        outState.putBoolean(&quot;isPermissionGranted&quot;, isPermissionGranted);\n    }\n\n    @Override\n    protected void onRestoreInstanceState(Bundle savedInstanceState) {\n        super.onRestoreInstanceState(savedInstanceState);\n        isPermissionGranted = savedInstanceState.getBoolean(&quot;isPermissionGranted&quot;, false);\n    }\n}\n\n\n</code></pre>\n<p>//my manifest</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_DEFAULT_DIALER&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NOTIFICATION_POLICY&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MyApplication123&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.NewActivity&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.DIAL&quot;/&gt;\n                &lt;action android:name=&quot;android.intent.action.CALL&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.ASSIST&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.DIAL&quot;/&gt;\n\n            &lt;/intent-filter&gt;\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n\n        &lt;receiver\n            android:name=&quot;.CallReceiver&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.PHONE_STATE&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea","java-20"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1687897048,"post_id":76566590,"comment_id":135000813,"body_markdown":"That looks like very incomplete information. The error is just vaguely telling you it didn&#39;t compile properly. What makes you think it&#39;s to do with that tz data? You should probably be giving the result of your build attempt, not an attempt to run it","body":"That looks like very incomplete information. The error is just vaguely telling you it didn&#39;t compile properly. What makes you think it&#39;s to do with that tz data? You should probably be giving the result of your build attempt, not an attempt to run it"},{"owner":{"account_id":16912818,"reputation":1,"user_id":12231492,"display_name":"Joey Tat&#250;"},"score":0,"creation_date":1687903195,"post_id":76566590,"comment_id":135001701,"body_markdown":"@g00se When I run the application this line is red `java: C:\\Program Files\\Java\\jdk-20\\lib\\tzdb.dat`.\n\nThe above is the output it provides when I try running it.","body":"@g00se When I run the application this line is red <code>java: C:\\Program Files\\Java\\jdk-20\\lib\\tzdb.dat</code>.  The above is the output it provides when I try running it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687903380,"post_id":76566590,"comment_id":135001719,"body_markdown":"*Compilation failed: errors: 1; warnings: 0* Why would you try to *run* something you are told doesn&#39;t compile? You need to make it compile first","body":"<i>Compilation failed: errors: 1; warnings: 0</i> Why would you try to <i>run</i> something you are told doesn&#39;t compile? You need to make it compile first"},{"owner":{"account_id":16912818,"reputation":1,"user_id":12231492,"display_name":"Joey Tat&#250;"},"score":0,"creation_date":1687904233,"post_id":76566590,"comment_id":135001814,"body_markdown":"@g00se There&#39;s no difference between Compile and Build in IntelliJ. I don&#39;t think I fully understand how I can fix it. Can you advise how I could fix it? Like, what would you do? Thanks.","body":"@g00se There&#39;s no difference between Compile and Build in IntelliJ. I don&#39;t think I fully understand how I can fix it. Can you advise how I could fix it? Like, what would you do? Thanks."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687907853,"post_id":76566590,"comment_id":135002197,"body_markdown":"That might be the case, but there&#39;s certainly a difference between build and run. I can&#39;t say exactly what I&#39;d do as I don&#39;t use IDEA","body":"That might be the case, but there&#39;s certainly a difference between build and run. I can&#39;t say exactly what I&#39;d do as I don&#39;t use IDEA"},{"owner":{"account_id":16912818,"reputation":1,"user_id":12231492,"display_name":"Joey Tat&#250;"},"score":0,"creation_date":1687910853,"post_id":76566590,"comment_id":135002452,"body_markdown":"@g00se Thanks, I&#39;m going to try Eclipse and see tomorrow. Thanks for your help.","body":"@g00se Thanks, I&#39;m going to try Eclipse and see tomorrow. Thanks for your help."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687934241,"post_id":76566590,"comment_id":135004580,"body_markdown":"If you&#39;re not an advanced developer I would recommend you don&#39;t use *any* IDE. You will learn more quickly about how Java works internally and you won&#39;t be forced to learn simultaneously about how to use your IDE. Later on you can add Maven/Gradle.","body":"If you&#39;re not an advanced developer I would recommend you don&#39;t use <i>any</i> IDE. You will learn more quickly about how Java works internally and you won&#39;t be forced to learn simultaneously about how to use your IDE. Later on you can add Maven/Gradle."},{"owner":{"account_id":16912818,"reputation":1,"user_id":12231492,"display_name":"Joey Tat&#250;"},"score":0,"creation_date":1687950998,"post_id":76566590,"comment_id":135007878,"body_markdown":"@g00se I actually have a degree in Computing. It&#39;s just I haven&#39;t used Java in about 7/8 years. That is a very good point though, I might do a refresher course on Java internals. I tried running the application in Eclipse and it works fine. Maybe it&#39;s just IntelliJ being weird.","body":"@g00se I actually have a degree in Computing. It&#39;s just I haven&#39;t used Java in about 7/8 years. That is a very good point though, I might do a refresher course on Java internals. I tried running the application in Eclipse and it works fine. Maybe it&#39;s just IntelliJ being weird."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687953186,"post_id":76566590,"comment_id":135008276,"body_markdown":"I would particularly recommend getting to grips at the command line with Java modules","body":"I would particularly recommend getting to grips at the command line with Java modules"}],"owner":{"account_id":16912818,"reputation":1,"user_id":12231492,"display_name":"Joey Tat&#250;"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687880778,"creation_date":1687880743,"question_id":76566590,"body_markdown":"I am using Java JDK 20.0.1 on IntelliJ 2023-1. \r\n\r\nI am trying to run a Java application.\r\n\r\nI get a very generic error about the tzdb.dat file.\r\n\r\nThe error is:\r\n```\r\nExecuting pre-compile tasks...\r\nRunning &#39;before&#39; tasks\r\nChecking sources\r\nCopying resources... [JavaDesktopSudokuDemo]\r\nParsing java… [JavaDesktopSudokuDemo]\r\njava: C:\\Program Files\\Java\\jdk-20\\lib\\tzdb.dat &lt;&lt;&lt;------\r\nChecking dependencies… [JavaDesktopSudokuDemo]\r\nDependency analysis found 0 affected files\r\nErrors occurred while compiling module &#39;JavaDesktopSudokuDemo&#39;\r\njavac 20.0.1 was used to compile java sources\r\nFinished, saving caches…\r\nCompilation failed: errors: 1; warnings: 0\r\nExecuting post-compile tasks...\r\nCompilation failed: errors: 1; warnings: 0\r\nSynchronizing output directories...\r\n27 Jun 2023 16:38 - Build completed with 1 error and 0 warnings in 1 sec, 173 ms\r\n```\r\n\r\nI tried to update the tzdb.dat file by directly downloading it from Oracle and by using tzupdater.jar. I&#39;ve tried changing the file name to add .bak at the end, but that creates a file not found error.","title":"Having issues with running Java application with tzdb.dat file","body":"<p>I am using Java JDK 20.0.1 on IntelliJ 2023-1.</p>\n<p>I am trying to run a Java application.</p>\n<p>I get a very generic error about the tzdb.dat file.</p>\n<p>The error is:</p>\n<pre><code>Executing pre-compile tasks...\nRunning 'before' tasks\nChecking sources\nCopying resources... [JavaDesktopSudokuDemo]\nParsing java… [JavaDesktopSudokuDemo]\njava: C:\\Program Files\\Java\\jdk-20\\lib\\tzdb.dat &lt;&lt;&lt;------\nChecking dependencies… [JavaDesktopSudokuDemo]\nDependency analysis found 0 affected files\nErrors occurred while compiling module 'JavaDesktopSudokuDemo'\njavac 20.0.1 was used to compile java sources\nFinished, saving caches…\nCompilation failed: errors: 1; warnings: 0\nExecuting post-compile tasks...\nCompilation failed: errors: 1; warnings: 0\nSynchronizing output directories...\n27 Jun 2023 16:38 - Build completed with 1 error and 0 warnings in 1 sec, 173 ms\n</code></pre>\n<p>I tried to update the tzdb.dat file by directly downloading it from Oracle and by using tzupdater.jar. I've tried changing the file name to add .bak at the end, but that creates a file not found error.</p>\n"},{"tags":["java","spring-boot","openrewrite"],"comments":[{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1687881349,"post_id":76566522,"comment_id":134997593,"body_markdown":"Could you try again with rewrite-spring 5.0.2 released yesterday?\nhttps://github.com/openrewrite/rewrite-spring/releases/tag/v5.0.2","body":"Could you try again with rewrite-spring 5.0.2 released yesterday? <a href=\"https://github.com/openrewrite/rewrite-spring/releases/tag/v5.0.2\" rel=\"nofollow noreferrer\">github.com/openrewrite/rewrite-spring/releases/tag/v5.0.2</a>"},{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1687881431,"post_id":76566522,"comment_id":134997609,"body_markdown":"There was unfortunately an inadvertent change that made it in, which has since been reverted. We&#39;re flushing out all the cases where it&#39;s causing issues; and doing patch releases where necessary. Rewrite-spring already has such a patch release.","body":"There was unfortunately an inadvertent change that made it in, which has since been reverted. We&#39;re flushing out all the cases where it&#39;s causing issues; and doing patch releases where necessary. Rewrite-spring already has such a patch release."},{"owner":{"account_id":11696516,"reputation":21,"user_id":8563077,"display_name":"Niek7301"},"score":1,"creation_date":1687882717,"post_id":76566522,"comment_id":134997918,"body_markdown":"That works perfectly. Thanks!\n\nPs. I am upgrading after seeing your JFall talk on the subject so thanks for the inspiration as well ;)","body":"That works perfectly. Thanks!  Ps. I am upgrading after seeing your JFall talk on the subject so thanks for the inspiration as well ;)"},{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1687972928,"post_id":76566522,"comment_id":135012801,"body_markdown":"Glad to hear that works, and that I could help you twice! :)","body":"Glad to hear that works, and that I could help you twice! :)"}],"owner":{"account_id":11696516,"reputation":21,"user_id":8563077,"display_name":"Niek7301"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1687880273,"creation_date":1687880273,"question_id":76566522,"body_markdown":"Hopefully somebody can help me :)\r\n\r\nI am trying to update a project from spring boot 2.5 to spring boot 2.7 with the openrewrite recipe. After trying this several times I keep getting the same error message.\r\n\r\nI tried excluding the exact module this error happens, but it will just skip that and give the same error on the next module (I have 3 modules in total)\r\nAlso tried removing the .m2 folder but still the same error.\r\n\r\nThe following is my pom rewrite:\r\n```\r\n&lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openrewrite.maven&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;rewrite-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;5.2.4&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;activeRecipes&gt;\r\n                            &lt;recipe&gt;org.openrewrite.java.spring.boot2.UpgradeSpringBoot_2_7&lt;/recipe&gt;\r\n                        &lt;/activeRecipes&gt;\r\n                        &lt;exclusions&gt;\r\n                            &lt;exclude&gt;*/node/**&lt;/exclude&gt;\r\n                            &lt;exclude&gt;*/node_modules/**&lt;/exclude&gt;\r\n                            &lt;exclude&gt;*/target/**&lt;/exclude&gt;\r\n                        &lt;/exclusions&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;rewrite-spring&lt;/artifactId&gt;\r\n                            &lt;version&gt;5.0.1&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                &lt;/plugin&gt;\r\n```\r\n\r\nAfter mvn rewrite:run the error message is:\r\n\r\n```\r\n[ERROR] The recipe produced an error. Please report this to the recipe author.\r\n\r\n[ERROR] Failed to execute goal org.openrewrite.maven:rewrite-maven-plugin:5.2.4:run (default-cli) on project my-project: Execution default-cli of goal org.openrewrite.maven:rewrite-maven-plugin:5.2.4:run failed: Error while visiting my-module/src/main/java/nl/commons/util/someClass.java: java.lang.NoSuchMethodError: &#39;boolean org.openrewrite.java.MethodMatcher.matches(org.openrewrite.java.tree.J$MethodInvocation)&#39;\r\n[ERROR]   org.openrewrite.java.testing.mockito.PowerMockitoMockStaticToMockito$PowerMockitoToMockitoVisitor.visitMethodInvocation(PowerMockitoMockStaticToMockito.java:164)\r\n[ERROR]   org.openrewrite.java.testing.mockito.PowerMockitoMockStaticToMockito$PowerMockitoToMockitoVisitor.visitMethodInvocation(PowerMockitoMockStaticToMockito.java:48)\r\n[ERROR]   org.openrewrite.java.tree.J$MethodInvocation.acceptJava(J.java:3706)\r\n[ERROR]   org.openrewrite.java.tree.J.accept(J.java:59)\r\n[ERROR]   org.openrewrite.TreeVisitor.visit(TreeVisitor.java:278)\r\n[ERROR]   org.openrewrite.TreeVisitor.visitAndCast(TreeVisitor.java:361)\r\n[ERROR]   org.openrewrite.java.JavaVisitor.visitRightPadded(JavaVisitor.java:1284)\r\n[ERROR]   org.openrewrite.java.JavaVisitor.lambda$visitBlock$4(JavaVisitor.java:367)\r\n```\r\n\r\nThanks in advance!\r\n\r\nNiek","title":"When updating from spring boot 2.5 to 2.7 with openrewrite I get a NoSuchMethodError","body":"<p>Hopefully somebody can help me :)</p>\n<p>I am trying to update a project from spring boot 2.5 to spring boot 2.7 with the openrewrite recipe. After trying this several times I keep getting the same error message.</p>\n<p>I tried excluding the exact module this error happens, but it will just skip that and give the same error on the next module (I have 3 modules in total)\nAlso tried removing the .m2 folder but still the same error.</p>\n<p>The following is my pom rewrite:</p>\n<pre><code>&lt;plugin&gt;\n                    &lt;groupId&gt;org.openrewrite.maven&lt;/groupId&gt;\n                    &lt;artifactId&gt;rewrite-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;5.2.4&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;activeRecipes&gt;\n                            &lt;recipe&gt;org.openrewrite.java.spring.boot2.UpgradeSpringBoot_2_7&lt;/recipe&gt;\n                        &lt;/activeRecipes&gt;\n                        &lt;exclusions&gt;\n                            &lt;exclude&gt;*/node/**&lt;/exclude&gt;\n                            &lt;exclude&gt;*/node_modules/**&lt;/exclude&gt;\n                            &lt;exclude&gt;*/target/**&lt;/exclude&gt;\n                        &lt;/exclusions&gt;\n                    &lt;/configuration&gt;\n                    &lt;dependencies&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\n                            &lt;artifactId&gt;rewrite-spring&lt;/artifactId&gt;\n                            &lt;version&gt;5.0.1&lt;/version&gt;\n                        &lt;/dependency&gt;\n                    &lt;/dependencies&gt;\n                &lt;/plugin&gt;\n</code></pre>\n<p>After mvn rewrite:run the error message is:</p>\n<pre><code>[ERROR] The recipe produced an error. Please report this to the recipe author.\n\n[ERROR] Failed to execute goal org.openrewrite.maven:rewrite-maven-plugin:5.2.4:run (default-cli) on project my-project: Execution default-cli of goal org.openrewrite.maven:rewrite-maven-plugin:5.2.4:run failed: Error while visiting my-module/src/main/java/nl/commons/util/someClass.java: java.lang.NoSuchMethodError: 'boolean org.openrewrite.java.MethodMatcher.matches(org.openrewrite.java.tree.J$MethodInvocation)'\n[ERROR]   org.openrewrite.java.testing.mockito.PowerMockitoMockStaticToMockito$PowerMockitoToMockitoVisitor.visitMethodInvocation(PowerMockitoMockStaticToMockito.java:164)\n[ERROR]   org.openrewrite.java.testing.mockito.PowerMockitoMockStaticToMockito$PowerMockitoToMockitoVisitor.visitMethodInvocation(PowerMockitoMockStaticToMockito.java:48)\n[ERROR]   org.openrewrite.java.tree.J$MethodInvocation.acceptJava(J.java:3706)\n[ERROR]   org.openrewrite.java.tree.J.accept(J.java:59)\n[ERROR]   org.openrewrite.TreeVisitor.visit(TreeVisitor.java:278)\n[ERROR]   org.openrewrite.TreeVisitor.visitAndCast(TreeVisitor.java:361)\n[ERROR]   org.openrewrite.java.JavaVisitor.visitRightPadded(JavaVisitor.java:1284)\n[ERROR]   org.openrewrite.java.JavaVisitor.lambda$visitBlock$4(JavaVisitor.java:367)\n</code></pre>\n<p>Thanks in advance!</p>\n<p>Niek</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":1,"creation_date":1687880976,"post_id":76566520,"comment_id":134997507,"body_markdown":"Its perfectly fine for Java objects to point to each other, and hibernate uses that when reading the object from the database. An infinite recursion only occurs during serialization to JSON, and can be prevented by configuring your JSON library appropriately (since you haven&#39;t told us which library it&#39;s hard to be more specific than that ...)","body":"Its perfectly fine for Java objects to point to each other, and hibernate uses that when reading the object from the database. An infinite recursion only occurs during serialization to JSON, and can be prevented by configuring your JSON library appropriately (since you haven&#39;t told us which library it&#39;s hard to be more specific than that ...)"},{"owner":{"account_id":22965773,"reputation":31,"user_id":17221129,"display_name":"Владислав"},"score":0,"creation_date":1687881741,"post_id":76566520,"comment_id":134997671,"body_markdown":"@meriton Json Jackson.","body":"@meriton Json Jackson."},{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1687883692,"post_id":76566520,"comment_id":134998156,"body_markdown":"https://stackoverflow.com/questions/17393812/json-and-java-circular-reference","body":"<a href=\"https://stackoverflow.com/questions/17393812/json-and-java-circular-reference\" title=\"json and java circular reference\">stackoverflow.com/questions/17393812/&hellip;</a>"},{"owner":{"account_id":22965773,"reputation":31,"user_id":17221129,"display_name":"Владислав"},"score":0,"creation_date":1687918981,"post_id":76566520,"comment_id":135003065,"body_markdown":"@meriton thank&#39;s","body":"@meriton thank&#39;s"}],"owner":{"account_id":22965773,"reputation":31,"user_id":17221129,"display_name":"Владислав"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1687880246,"creation_date":1687880246,"question_id":76566520,"body_markdown":"[schema](https://i.stack.imgur.com/nwqqr.png)\r\ntable schemas\r\nThere are two tables, they can be seen in the diagram.\r\nThere is also a JPA-style description of these entities:\r\n\r\nEntity for Gift\r\n```\r\n@Entity\r\npublic class Gift {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @Column(name = &quot;title&quot;)\r\n    private String title;\r\n\r\n    // ... \r\n\r\n    @OneToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE},\r\n            orphanRemoval = true,\r\n            fetch = FetchType.LAZY,\r\n            mappedBy = &quot;gift&quot;)\r\n    private List&lt;Image&gt; images;\r\n}\r\n\r\n```\r\nEntity fot Image\r\n\r\n```\r\n@Entity\r\npublic class Image {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;gift_id&quot;)\r\n    private Gift gift;\r\n    \r\n    // ...\r\n\r\n}\r\n```\r\n\r\nWhen executing the following JPA Query:\r\n\r\n```\r\n@Override\r\npublic List&lt;Gift&gt; getByFilter(FilterSearch filter) {\r\n    String sql = &quot;&quot;&quot;\r\n            FROM Gift WHERE id = 2\r\n            &quot;&quot;&quot;;\r\n    return entityManager.createQuery(sql, Gift.class).getResultList();\r\n}\r\n```\r\n\r\nResult: \r\nIt turns out a cyclic dependency, if you can call it that: I get a list gift, in which image, in which the same gift has the same images, which in turn have the same gift&#39;s, and so on ad infinitum.\r\n\r\n```\r\n[\r\n    {\r\n        &quot;id&quot;: 2,\r\n        &quot;title&quot;: &quot;title for gift&quot;,\r\n        &quot;description&quot;: &quot;some simple description for gift&quot;,\r\n        &quot;shortDescription&quot;: &quot;short description&quot;,\r\n        &quot;category&quot;: {\r\n            &quot;id&quot;: 1,\r\n            &quot;name&quot;: &quot;first category&quot;,\r\n            &quot;parent&quot;: null\r\n        },\r\n        &quot;costPrice&quot;: 2.0,\r\n        &quot;price&quot;: 3.4,\r\n        &quot;dateAdded&quot;: &quot;2023-06-26T15:41:55.958+00:00&quot;,\r\n        &quot;isEnabled&quot;: false,\r\n        &quot;images&quot;: [\r\n            {\r\n                &quot;id&quot;: 6,\r\n                &quot;gift&quot;: {\r\n                    &quot;id&quot;: 2,\r\n                    &quot;title&quot;: &quot;title for gift&quot;,\r\n                    &quot;description&quot;: &quot;some simple description for gift&quot;,\r\n                    &quot;shortDescription&quot;: &quot;short description&quot;,\r\n                    &quot;category&quot;: {\r\n                        &quot;id&quot;: 1,\r\n                        &quot;name&quot;: &quot;first category&quot;,\r\n                        &quot;parent&quot;: null\r\n                    },\r\n                    &quot;costPrice&quot;: 2.0,\r\n                    &quot;price&quot;: 3.4,\r\n                    &quot;dateAdded&quot;: &quot;2023-06-26T15:41:55.958+00:00&quot;,\r\n                    &quot;isEnabled&quot;: false,\r\n                    &quot;images&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 6,\r\n                            &quot;gift&quot;: {\r\n                                &quot;id&quot;: 2,\r\n                                &quot;title&quot;: &quot;title for gift&quot;,\r\n                                &quot;description&quot;: &quot;some simple description for gift&quot;,\r\n                                &quot;shortDescription&quot;: &quot;short description&quot;,\r\n                                &quot;category&quot;: {\r\n                                    &quot;id&quot;: 1,\r\n                                    &quot;name&quot;: &quot;first category&quot;,\r\n                                    &quot;parent&quot;: null\r\n                                },\r\n                                &quot;costPrice&quot;: 2.0,\r\n                                &quot;price&quot;: 3.4,\r\n                                &quot;dateAdded&quot;: &quot;2023-06-26T15:41:55.958+00:00&quot;,\r\n                                &quot;isEnabled&quot;: false,\r\n                                &quot;images&quot;: [\r\n                \r\n```\r\n\r\nand so on ad infinitum.\r\n\r\n**Question. How to break this cycle?** ","title":"How to break a cyclic relationship?","body":"<p><a href=\"https://i.stack.imgur.com/nwqqr.png\" rel=\"nofollow noreferrer\">schema</a>\ntable schemas\nThere are two tables, they can be seen in the diagram.\nThere is also a JPA-style description of these entities:</p>\n<p>Entity for Gift</p>\n<pre><code>@Entity\npublic class Gift {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Column(name = &quot;title&quot;)\n    private String title;\n\n    // ... \n\n    @OneToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE},\n            orphanRemoval = true,\n            fetch = FetchType.LAZY,\n            mappedBy = &quot;gift&quot;)\n    private List&lt;Image&gt; images;\n}\n\n</code></pre>\n<p>Entity fot Image</p>\n<pre><code>@Entity\npublic class Image {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;gift_id&quot;)\n    private Gift gift;\n    \n    // ...\n\n}\n</code></pre>\n<p>When executing the following JPA Query:</p>\n<pre><code>@Override\npublic List&lt;Gift&gt; getByFilter(FilterSearch filter) {\n    String sql = &quot;&quot;&quot;\n            FROM Gift WHERE id = 2\n            &quot;&quot;&quot;;\n    return entityManager.createQuery(sql, Gift.class).getResultList();\n}\n</code></pre>\n<p>Result:\nIt turns out a cyclic dependency, if you can call it that: I get a list gift, in which image, in which the same gift has the same images, which in turn have the same gift's, and so on ad infinitum.</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 2,\n        &quot;title&quot;: &quot;title for gift&quot;,\n        &quot;description&quot;: &quot;some simple description for gift&quot;,\n        &quot;shortDescription&quot;: &quot;short description&quot;,\n        &quot;category&quot;: {\n            &quot;id&quot;: 1,\n            &quot;name&quot;: &quot;first category&quot;,\n            &quot;parent&quot;: null\n        },\n        &quot;costPrice&quot;: 2.0,\n        &quot;price&quot;: 3.4,\n        &quot;dateAdded&quot;: &quot;2023-06-26T15:41:55.958+00:00&quot;,\n        &quot;isEnabled&quot;: false,\n        &quot;images&quot;: [\n            {\n                &quot;id&quot;: 6,\n                &quot;gift&quot;: {\n                    &quot;id&quot;: 2,\n                    &quot;title&quot;: &quot;title for gift&quot;,\n                    &quot;description&quot;: &quot;some simple description for gift&quot;,\n                    &quot;shortDescription&quot;: &quot;short description&quot;,\n                    &quot;category&quot;: {\n                        &quot;id&quot;: 1,\n                        &quot;name&quot;: &quot;first category&quot;,\n                        &quot;parent&quot;: null\n                    },\n                    &quot;costPrice&quot;: 2.0,\n                    &quot;price&quot;: 3.4,\n                    &quot;dateAdded&quot;: &quot;2023-06-26T15:41:55.958+00:00&quot;,\n                    &quot;isEnabled&quot;: false,\n                    &quot;images&quot;: [\n                        {\n                            &quot;id&quot;: 6,\n                            &quot;gift&quot;: {\n                                &quot;id&quot;: 2,\n                                &quot;title&quot;: &quot;title for gift&quot;,\n                                &quot;description&quot;: &quot;some simple description for gift&quot;,\n                                &quot;shortDescription&quot;: &quot;short description&quot;,\n                                &quot;category&quot;: {\n                                    &quot;id&quot;: 1,\n                                    &quot;name&quot;: &quot;first category&quot;,\n                                    &quot;parent&quot;: null\n                                },\n                                &quot;costPrice&quot;: 2.0,\n                                &quot;price&quot;: 3.4,\n                                &quot;dateAdded&quot;: &quot;2023-06-26T15:41:55.958+00:00&quot;,\n                                &quot;isEnabled&quot;: false,\n                                &quot;images&quot;: [\n                \n</code></pre>\n<p>and so on ad infinitum.</p>\n<p><strong>Question. How to break this cycle?</strong></p>\n"},{"tags":["java","swagger","openapi","quarkus"],"answers":[{"comments":[{"owner":{"account_id":258666,"reputation":455,"user_id":3305708,"display_name":"Luisao"},"score":0,"creation_date":1647279044,"post_id":71465291,"comment_id":126326400,"body_markdown":"Thank you. I was looking for a property annotation instead on the Controller, but that’s fine. Thanks","body":"Thank you. I was looking for a property annotation instead on the Controller, but that’s fine. Thanks"}],"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647249405,"creation_date":1647249085,"answer_id":71465291,"question_id":71464876,"body_markdown":"For Quarkus you will need to use Microprofile Openapi Annotations:\r\n\r\nhttps://download.eclipse.org/microprofile/microprofile-open-api-1.0/microprofile-openapi-spec.html\r\n\r\nSpecifically: `@ExampleObject` which \r\n\r\n&gt; Illustrates an example of a particular content.\r\n&gt; \r\nhttps://github.com/eclipse/microprofile-open-api/blob/master/api/src/main/java/org/eclipse/microprofile/openapi/annotations/media/ExampleObject.java\r\n\r\n\r\n\r\nExample:\r\n\r\n\r\n     public interface ExamplePayloads {\r\n          String NEW_PLAYER = &quot;{\\&quot;age\\&quot;:12, \\&quot;username\\&quot;:\\&quot;username\\&quot;}&quot;;\r\n          String SAVED_PLAYER = &quot;{\\&quot;id\\&quot;:1234, \\&quot;age\\&quot;:12, \\&quot;username\\&quot;:\\&quot;username\\&quot;}&quot;;\r\n          \r\n    }\r\n\r\nThe `value` attribute of `ExampleObject` takes a String:\r\n\r\n       /**\r\n         * A string representation of the example.\r\n         * &lt;p&gt;\r\n         * This is mutually exclusive with the externalValue property, and ignored if the externalValue property is\r\n         * specified.\r\n         * &lt;/p&gt;\r\n         * If the media type associated with the example allows parsing into an object, it may be converted from a string.\r\n         * \r\n         * @return the value of the example\r\n         **/\r\n        String value() default &quot;&quot;;\r\n        \r\n      \r\n----------\r\n\r\n    import static yourpackage.ExamplePayloads.*;\r\n    \r\n    @Path(&quot;/players&quot;)\r\n    @Consumes(APPLICATION_JSON)\r\n    @Produces(APPLICATION_JSON)\r\n    public class PlayersResource {\r\n    \r\n    \r\n          @POST\r\n          @Operation(summary = &quot;save new player&quot;, description = &quot;Creates new player with given age and username.&quot;)\r\n          @RequestBody(\r\n            required = true,\r\n            content = @Content(\r\n              schema = @Schema(implementation = Player.class, required = true, requiredProperties = {&quot;username&quot;, &quot;age&quot;}),\r\n              examples = @ExampleObject(\r\n                name = &quot;new player&quot;,\r\n                description = &quot;saves new player with parameters username and age&quot;,\r\n                value = NEW_PLAYER\r\n              )\r\n            ))\r\n          @APIResponses(\r\n        \tvalue = {\r\n            @APIResponse(\r\n              name = &quot;success&quot;,\r\n              responseCode = &quot;200&quot;,\r\n              content = @Content(\r\n                schema = @Schema(implementation = Player.class, required = true, requiredProperties = {&quot;id&quot;, &quot;username&quot;, &quot;age&quot;}),\r\n                examples = @ExampleObject(\r\n                  name = &quot;saved player&quot;,\r\n                  description = &quot;new player with id assigned.&quot;,\r\n                  value = SAVED_PLAYER\r\n                )\r\n              ))\r\n            ,\r\n            @APIResponse(\r\n              name = &quot;bad request, no username&quot;,\r\n              responseCode = &quot;400&quot;,\r\n              description = &quot;missing username or age&quot;\r\n            ),\r\n        \t}\r\n        )\r\n          public Player savePlayer(Player player) {\r\n           \r\n            return playersService.savePlayer(player);\r\n          }\r\n    \r\n    \r\n    }\r\n\r\n","title":"How to generate a request example in Swagger with Quarkus","body":"<p>For Quarkus you will need to use Microprofile Openapi Annotations:</p>\n<p><a href=\"https://download.eclipse.org/microprofile/microprofile-open-api-1.0/microprofile-openapi-spec.html\" rel=\"nofollow noreferrer\">https://download.eclipse.org/microprofile/microprofile-open-api-1.0/microprofile-openapi-spec.html</a></p>\n<p>Specifically: <code>@ExampleObject</code> which</p>\n<blockquote>\n<p>Illustrates an example of a particular content.</p>\n</blockquote>\n<p><a href=\"https://github.com/eclipse/microprofile-open-api/blob/master/api/src/main/java/org/eclipse/microprofile/openapi/annotations/media/ExampleObject.java\" rel=\"nofollow noreferrer\">https://github.com/eclipse/microprofile-open-api/blob/master/api/src/main/java/org/eclipse/microprofile/openapi/annotations/media/ExampleObject.java</a></p>\n<p>Example:</p>\n<pre><code> public interface ExamplePayloads {\n      String NEW_PLAYER = &quot;{\\&quot;age\\&quot;:12, \\&quot;username\\&quot;:\\&quot;username\\&quot;}&quot;;\n      String SAVED_PLAYER = &quot;{\\&quot;id\\&quot;:1234, \\&quot;age\\&quot;:12, \\&quot;username\\&quot;:\\&quot;username\\&quot;}&quot;;\n      \n}\n</code></pre>\n<p>The <code>value</code> attribute of <code>ExampleObject</code> takes a String:</p>\n<pre><code>   /**\n     * A string representation of the example.\n     * &lt;p&gt;\n     * This is mutually exclusive with the externalValue property, and ignored if the externalValue property is\n     * specified.\n     * &lt;/p&gt;\n     * If the media type associated with the example allows parsing into an object, it may be converted from a string.\n     * \n     * @return the value of the example\n     **/\n    String value() default &quot;&quot;;\n    \n  \n</code></pre>\n<hr />\n<pre><code>import static yourpackage.ExamplePayloads.*;\n\n@Path(&quot;/players&quot;)\n@Consumes(APPLICATION_JSON)\n@Produces(APPLICATION_JSON)\npublic class PlayersResource {\n\n\n      @POST\n      @Operation(summary = &quot;save new player&quot;, description = &quot;Creates new player with given age and username.&quot;)\n      @RequestBody(\n        required = true,\n        content = @Content(\n          schema = @Schema(implementation = Player.class, required = true, requiredProperties = {&quot;username&quot;, &quot;age&quot;}),\n          examples = @ExampleObject(\n            name = &quot;new player&quot;,\n            description = &quot;saves new player with parameters username and age&quot;,\n            value = NEW_PLAYER\n          )\n        ))\n      @APIResponses(\n        value = {\n        @APIResponse(\n          name = &quot;success&quot;,\n          responseCode = &quot;200&quot;,\n          content = @Content(\n            schema = @Schema(implementation = Player.class, required = true, requiredProperties = {&quot;id&quot;, &quot;username&quot;, &quot;age&quot;}),\n            examples = @ExampleObject(\n              name = &quot;saved player&quot;,\n              description = &quot;new player with id assigned.&quot;,\n              value = SAVED_PLAYER\n            )\n          ))\n        ,\n        @APIResponse(\n          name = &quot;bad request, no username&quot;,\n          responseCode = &quot;400&quot;,\n          description = &quot;missing username or age&quot;\n        ),\n        }\n    )\n      public Player savePlayer(Player player) {\n       \n        return playersService.savePlayer(player);\n      }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9976375,"reputation":417,"user_id":7380828,"display_name":"Giacomo Venturini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687880127,"creation_date":1687879732,"answer_id":76566447,"question_id":71464876,"body_markdown":"You can use `@Schema` annotation over a field to define its openapi example.\r\n    \r\n```java\r\nimport org.eclipse.microprofile.openapi.annotations.media.Schema;\r\n\r\npublic class Fruit {\r\n\r\n    @Schema(example = &quot;apple&quot;)\r\n    public String name;\r\n\r\n    @Schema(example = &quot;the red fruit&quot;)\r\n    public String description;\r\n}\r\n```\r\n\r\nThis will produce the following swagger:\r\n\r\n[![swagger with example values][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DXh1G.png\r\n\r\nThe annotation can be found into `org.eclipse.microprofile.openapi:microprofile-openapi-api:X.X` dependency.","title":"How to generate a request example in Swagger with Quarkus","body":"<p>You can use <code>@Schema</code> annotation over a field to define its openapi example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.eclipse.microprofile.openapi.annotations.media.Schema;\n\npublic class Fruit {\n\n    @Schema(example = &quot;apple&quot;)\n    public String name;\n\n    @Schema(example = &quot;the red fruit&quot;)\n    public String description;\n}\n</code></pre>\n<p>This will produce the following swagger:</p>\n<p><a href=\"https://i.stack.imgur.com/DXh1G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DXh1G.png\" alt=\"swagger with example values\" /></a></p>\n<p>The annotation can be found into <code>org.eclipse.microprofile.openapi:microprofile-openapi-api:X.X</code> dependency.</p>\n"}],"owner":{"account_id":258666,"reputation":455,"user_id":3305708,"display_name":"Luisao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1467,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71465291,"answer_count":2,"score":2,"last_activity_date":1687880127,"creation_date":1647246644,"question_id":71464876,"body_markdown":"I want to generate an Example Value in the request with Quarkus and Swagger.\r\n\r\nIs there any annotation like @ApiModelProperty in Quarkus? Or is there any tag to set the example in the request?\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sexKr.png","title":"How to generate a request example in Swagger with Quarkus","body":"<p>I want to generate an Example Value in the request with Quarkus and Swagger.</p>\n<p>Is there any annotation like @ApiModelProperty in Quarkus? Or is there any tag to set the example in the request?</p>\n<p><a href=\"https://i.stack.imgur.com/sexKr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sexKr.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks</p>\n"},{"tags":["java","eclipse","unit-testing","junit","junit4"],"answers":[{"comments":[{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1274575686,"post_id":2890266,"comment_id":2938700,"body_markdown":"It will only fork one new JVM for the entire test suite, not one for each single test.","body":"It will only fork one new JVM for the entire test suite, not one for each single test."},{"owner":{"account_id":13744,"reputation":541,"user_id":27783,"display_name":"Reuben Peeris"},"score":2,"creation_date":1274623176,"post_id":2890266,"comment_id":2940740,"body_markdown":"@Michael - if the forkmode attribute is set to &quot;perTest&quot; then a new JVM should be created for each test - this is the default.","body":"@Michael - if the forkmode attribute is set to &quot;perTest&quot; then a new JVM should be created for each test - this is the default."},{"owner":{"account_id":22969,"reputation":25594,"user_id":57171,"accept_rate":80,"display_name":"Steve Powell"},"score":0,"creation_date":1283867726,"post_id":2890266,"comment_id":3849317,"body_markdown":"The link appears broken -- try this one: http://ant.apache.org/manual/Tasks/junit.html","body":"The link appears broken -- try this one: <a href=\"http://ant.apache.org/manual/Tasks/junit.html\" rel=\"nofollow noreferrer\">ant.apache.org/manual/Tasks/junit.html</a>"},{"owner":{"account_id":31682,"reputation":22471,"user_id":87197,"accept_rate":81,"display_name":"Chris Dennett"},"score":0,"creation_date":1283897974,"post_id":2890266,"comment_id":3854313,"body_markdown":"Ohh, it worked when I first answered this -- I&#39;ll edit my answer :)","body":"Ohh, it worked when I first answered this -- I&#39;ll edit my answer :)"}],"tags":[],"owner":{"account_id":31682,"reputation":22471,"user_id":87197,"accept_rate":81,"display_name":"Chris Dennett"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1283898019,"creation_date":1274574316,"answer_id":2890266,"question_id":2890259,"body_markdown":"If you use Ant in Eclipse, you can set the JUnit task to fork a new JVM process for each test, providing isolation.\r\n\r\nhttp://ant.apache.org/manual/Tasks/junit.html","title":"Running each JUnit test in a separate JVM in Eclipse?","body":"<p>If you use Ant in Eclipse, you can set the JUnit task to fork a new JVM process for each test, providing isolation.</p>\n\n<p><a href=\"http://ant.apache.org/manual/Tasks/junit.html\" rel=\"nofollow noreferrer\">http://ant.apache.org/manual/Tasks/junit.html</a></p>\n"},{"comments":[{"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"score":1,"creation_date":1454331131,"post_id":30287962,"comment_id":57981633,"body_markdown":"He wants to run them in eclipse. I presume like me he would like to see the unit tests results in the JUnit tab. He already stated that he&#39;s using Ant not Maven - Ant already lets you run tests in the way he wants.","body":"He wants to run them in eclipse. I presume like me he would like to see the unit tests results in the JUnit tab. He already stated that he&#39;s using Ant not Maven - Ant already lets you run tests in the way he wants."}],"tags":[],"owner":{"account_id":2015227,"reputation":833,"user_id":1802697,"display_name":"Igor Maznitsa"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1431873359,"creation_date":1431873359,"answer_id":30287962,"question_id":2890259,"body_markdown":"I also had similar needs and developed [small maven plugin Jute][1] which has been published in maven central. It starts external JVM process for each JUnit test method.\r\n\r\n\r\n  [1]: https://github.com/raydac/jute","title":"Running each JUnit test in a separate JVM in Eclipse?","body":"<p>I also had similar needs and developed <a href=\"https://github.com/raydac/jute\" rel=\"nofollow\">small maven plugin Jute</a> which has been published in maven central. It starts external JVM process for each JUnit test method.</p>\n"},{"tags":[],"owner":{"account_id":28764840,"reputation":11,"user_id":22034347,"display_name":"Paul Frischknecht"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687879811,"creation_date":1687879811,"answer_id":76566458,"question_id":2890259,"body_markdown":"Here&#39;s a solution I found to execute every test class in its own JVM:\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;forkCount&gt;1&lt;/forkCount&gt;\r\n\t\t\t\t\t&lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```\r\n\r\n&gt; forkCount=1/reuseForks=false executes each test class in its own JVM process, one after another. It creates the highest level of separation for the test execution, but it would probably also give you the longest execution time of all the available options. Consider it as a last resort. [[1](https://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html)]\r\n\r\nThis solves the problem for me when running the tests outside of intellij directly with `mvn test`, unfortunately IntelliJ doesn&#39;t respect this.","title":"Running each JUnit test in a separate JVM in Eclipse?","body":"<p>Here's a solution I found to execute every test class in its own JVM:</p>\n<pre><code>&lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;forkCount&gt;1&lt;/forkCount&gt;\n                    &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<blockquote>\n<p>forkCount=1/reuseForks=false executes each test class in its own JVM process, one after another. It creates the highest level of separation for the test execution, but it would probably also give you the longest execution time of all the available options. Consider it as a last resort. [<a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html\" rel=\"nofollow noreferrer\">1</a>]</p>\n</blockquote>\n<p>This solves the problem for me when running the tests outside of intellij directly with <code>mvn test</code>, unfortunately IntelliJ doesn't respect this.</p>\n"}],"owner":{"account_id":2052,"reputation":8269,"user_id":2827,"accept_rate":82,"display_name":"HenryR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12460,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":2890266,"answer_count":3,"score":14,"last_activity_date":1687879811,"creation_date":1274574022,"question_id":2890259,"body_markdown":"I have a project with nearly 500 individual tests in around 200 test classes. Some of these tests don&#39;t do a great job of tearing down their own state after they&#39;re finished, and in Eclipse this results in some tests failing. The tests all pass when running the test suite from the command line via Ant.\r\n\r\nCan I enable &#39;test isolation&#39; somehow in Eclipse? I don&#39;t mind if it takes longer to run.\r\n\r\nLong term, I will clean up the misbehaving tests, but in the short term I&#39;d like to get the tests working.","title":"Running each JUnit test in a separate JVM in Eclipse?","body":"<p>I have a project with nearly 500 individual tests in around 200 test classes. Some of these tests don't do a great job of tearing down their own state after they're finished, and in Eclipse this results in some tests failing. The tests all pass when running the test suite from the command line via Ant.</p>\n\n<p>Can I enable 'test isolation' somehow in Eclipse? I don't mind if it takes longer to run.</p>\n\n<p>Long term, I will clean up the misbehaving tests, but in the short term I'd like to get the tests working.</p>\n"},{"tags":["java","utf-8","sublimetext3","javac"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1687890665,"post_id":76566455,"comment_id":134999654,"body_markdown":"The issue is with the console in Sublime when executing the application, not building.","body":"The issue is with the console in Sublime when executing the application, not building."},{"owner":{"account_id":28906129,"reputation":1,"user_id":22140123,"display_name":"Tom Orrow"},"score":0,"creation_date":1687941871,"post_id":76566455,"comment_id":135005987,"body_markdown":"How do I fix this?","body":"How do I fix this?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1687951826,"post_id":76566455,"comment_id":135008008,"body_markdown":"I was merely clarifying your question, which incorrectly states that the problem is with &quot;building&quot;.","body":"I was merely clarifying your question, which incorrectly states that the problem is with &quot;building&quot;."},{"owner":{"account_id":28906129,"reputation":1,"user_id":22140123,"display_name":"Tom Orrow"},"score":0,"creation_date":1688019844,"post_id":76566455,"comment_id":135018014,"body_markdown":"I would like to add that it also works well with other programming languages such as Python, C++, etc. and with other IDEs (Visual Studio) or with the CMD. Only in Sublime Text in combination with Java","body":"I would like to add that it also works well with other programming languages such as Python, C++, etc. and with other IDEs (Visual Studio) or with the CMD. Only in Sublime Text in combination with Java"}],"owner":{"account_id":28906129,"reputation":1,"user_id":22140123,"display_name":"Tom Orrow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687879770,"creation_date":1687879770,"question_id":76566455,"body_markdown":"Sublimetext doesn&#39;t show me the German umlauts &#246;&#228;&#252;&#223; in Java when I build the program. In other program languages they work.\r\n\r\n[example](https://i.stack.imgur.com/YXHjV.png)\r\n\r\nI&#39;ve looked up just about every tutorial or post, but I can&#39;t get it to work.\r\nEverything I know is in UTF-8. It works with Python or even when I use the Termninus addon. \r\n\r\nI made a new build system extra Java:` {&quot;shell_cmd&quot;: &quot;javac -encoding utf-8 $file &amp;&amp; java $file_base_name&quot; }`\r\nAnd I must say I like Sublime Text, I use it all the time for Python, now I want to use it for Java. Any help would be greatly appreciated, thanks.","title":"Sublimetext 3 doesn&#39;t show german umlauts &#228;&#246;&#252;&#223;","body":"<p>Sublimetext doesn't show me the German umlauts öäüß in Java when I build the program. In other program languages they work.</p>\n<p><a href=\"https://i.stack.imgur.com/YXHjV.png\" rel=\"nofollow noreferrer\">example</a></p>\n<p>I've looked up just about every tutorial or post, but I can't get it to work.\nEverything I know is in UTF-8. It works with Python or even when I use the Termninus addon.</p>\n<p>I made a new build system extra Java:<code> {&quot;shell_cmd&quot;: &quot;javac -encoding utf-8 $file &amp;&amp; java $file_base_name&quot; }</code>\nAnd I must say I like Sublime Text, I use it all the time for Python, now I want to use it for Java. Any help would be greatly appreciated, thanks.</p>\n"},{"tags":["java","java-17","ws"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":2,"creation_date":1682253375,"post_id":76058993,"comment_id":134182862,"body_markdown":"Why do you want to migrate `javax.xml.datatype.XMLGregorianCalendar;`? It is part of the JRE since Java 5 and has not been removed. It is e.g. available in Java 11.","body":"Why do you want to migrate <code>javax.xml.datatype.XMLGregorianCalendar;</code>? It is part of the JRE since Java 5 and has not been removed. It is e.g. available in Java 11."},{"owner":{"account_id":11715131,"reputation":85,"user_id":8575889,"display_name":"Jose Guerra"},"score":0,"creation_date":1682256138,"post_id":76058993,"comment_id":134183189,"body_markdown":"Thanks Robert, yes I&#39;ll keep using that class","body":"Thanks Robert, yes I&#39;ll keep using that class"}],"answers":[{"tags":[],"owner":{"account_id":228743,"reputation":10672,"user_id":491245,"accept_rate":93,"display_name":"PhoneixS"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687879502,"creation_date":1687879502,"answer_id":76566419,"question_id":76058993,"body_markdown":"The `XMLGregorianCalendar` is in the &quot;javax.xml&quot; package as it still is part of the &quot;main&quot; java project so you can use it as is.\r\n\r\nYou can read its documentation of the last version (20 as of writing the answer) at https://docs.oracle.com/en/java/javase/20/docs/api/java.xml/javax/xml/datatype/XMLGregorianCalendar.html","title":"migrate import javax.xml.datatype.XMLGregorianCalendar; jdk11 to jakarta in jdk17","body":"<p>The <code>XMLGregorianCalendar</code> is in the &quot;javax.xml&quot; package as it still is part of the &quot;main&quot; java project so you can use it as is.</p>\n<p>You can read its documentation of the last version (20 as of writing the answer) at <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.xml/javax/xml/datatype/XMLGregorianCalendar.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/20/docs/api/java.xml/javax/xml/datatype/XMLGregorianCalendar.html</a></p>\n"}],"owner":{"account_id":11715131,"reputation":85,"user_id":8575889,"display_name":"Jose Guerra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3684,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1687879502,"creation_date":1681940292,"question_id":76058993,"body_markdown":"I have an application that I must migrate from jdk11 to jdk17 and when trying to generate my soap classes they are generated with the following import javax.xml.datatype.XMLGregorianCalendar; in jdk17 javax it becomes jakarta but I can&#39;t find the XMLGregorianCalendar counterpart, could someone guide me in which library applies in this case.\r\nI need change this:\r\n\r\n    import java.math.BigInteger;\r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    import javax.xml.bind.annotation.XmlSchemaType;\r\n    import javax.xml.bind.annotation.XmlType;\r\n    import javax.xml.datatype.XMLGregorianCalendar;\r\n\r\nto this, but the last import i don&#39;t know how do it this:\r\n\r\n        import java.math.BigInteger;\r\n        import jakarta.xml.bind.annotation.XmlAccessType;\r\n        import jakarta.xml.bind.annotation.XmlAccessorType;\r\n        import jakarta.xml.bind.annotation.XmlElement;\r\n        import jakarta.xml.bind.annotation.XmlRootElement;\r\n        import jakarta.xml.bind.annotation.XmlSchemaType;\r\n        import jakarta.xml.bind.annotation.XmlType;\r\n        import javax.xml.datatype.XMLGregorianCalendar;\r\n","title":"migrate import javax.xml.datatype.XMLGregorianCalendar; jdk11 to jakarta in jdk17","body":"<p>I have an application that I must migrate from jdk11 to jdk17 and when trying to generate my soap classes they are generated with the following import javax.xml.datatype.XMLGregorianCalendar; in jdk17 javax it becomes jakarta but I can't find the XMLGregorianCalendar counterpart, could someone guide me in which library applies in this case.\nI need change this:</p>\n<pre><code>import java.math.BigInteger;\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlSchemaType;\nimport javax.xml.bind.annotation.XmlType;\nimport javax.xml.datatype.XMLGregorianCalendar;\n</code></pre>\n<p>to this, but the last import i don't know how do it this:</p>\n<pre><code>    import java.math.BigInteger;\n    import jakarta.xml.bind.annotation.XmlAccessType;\n    import jakarta.xml.bind.annotation.XmlAccessorType;\n    import jakarta.xml.bind.annotation.XmlElement;\n    import jakarta.xml.bind.annotation.XmlRootElement;\n    import jakarta.xml.bind.annotation.XmlSchemaType;\n    import jakarta.xml.bind.annotation.XmlType;\n    import javax.xml.datatype.XMLGregorianCalendar;\n</code></pre>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1663656310,"post_id":73781390,"comment_id":130284795,"body_markdown":"Why shouldn&#39;t they be grayed out? What&#39;s your problem preventing you to do what?","body":"Why shouldn&#39;t they be grayed out? What&#39;s your problem preventing you to do what?"},{"owner":{"account_id":26386316,"reputation":11,"user_id":20038781,"display_name":"don gwon"},"score":1,"creation_date":1663660870,"post_id":73781390,"comment_id":130286239,"body_markdown":"Even if I right-click, the rebuild index does not appear. Build is possible normally, but the add dependency function is not available for repository","body":"Even if I right-click, the rebuild index does not appear. Build is possible normally, but the add dependency function is not available for repository"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1663661590,"post_id":73781390,"comment_id":130286479,"body_markdown":"See https://github.com/eclipse-m2e/m2e-core/issues/914","body":"See <a href=\"https://github.com/eclipse-m2e/m2e-core/issues/914\" rel=\"nofollow noreferrer\">github.com/eclipse-m2e/m2e-core/issues/914</a>"}],"answers":[{"tags":[],"owner":{"account_id":24121406,"reputation":1,"user_id":18090520,"display_name":"jorenriquez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687879495,"creation_date":1687879495,"answer_id":76566416,"question_id":73781390,"body_markdown":"Eclipse extracts this data directly from your **settings.xml** \r\n\r\n&lt; **localRepository** &gt;C:/Users/username/.m2/repository &lt; /**localRepository**&gt;\r\n\r\nYou will not be able to change this on the IDE.","title":"eclipse maven repositories are grayed out","body":"<p>Eclipse extracts this data directly from your <strong>settings.xml</strong></p>\n<p>&lt; <strong>localRepository</strong> &gt;C:/Users/username/.m2/repository &lt; /<strong>localRepository</strong>&gt;</p>\n<p>You will not be able to change this on the IDE.</p>\n"}],"owner":{"account_id":26386316,"reputation":11,"user_id":20038781,"display_name":"don gwon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687879495,"creation_date":1663645004,"question_id":73781390,"body_markdown":"I&#39;ve tried many ways in two days, but I can&#39;t solve this.Help me[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1YgOJ.png","title":"eclipse maven repositories are grayed out","body":"<p>I've tried many ways in two days, but I can't solve this.Help me<a href=\"https://i.stack.imgur.com/1YgOJ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","maven","versioning"],"answers":[{"comments":[{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1653830949,"post_id":72423038,"comment_id":127942269,"body_markdown":"&quot;You can provide your ruleset xml file also within a jar …&quot; **Follow-up Question 1:** But can this be in the same JAR as the parent POM? Or do I have to create yet another project with `jar` packaging instead of `pom` packaging to distribute the rules? **Follow-up Question 2:** And then wouldn&#39;t the rules XML suddenly be distributed with every child project, even though it&#39;s only needed at build time (and not even that — it&#39;s only need when I check the dependency versions)? Or can I somehow set the scope so it&#39;s not included in the build?","body":"&quot;You can provide your ruleset xml file also within a jar …&quot; <b>Follow-up Question 1:</b> But can this be in the same JAR as the parent POM? Or do I have to create yet another project with <code>jar</code> packaging instead of <code>pom</code> packaging to distribute the rules? <b>Follow-up Question 2:</b> And then wouldn&#39;t the rules XML suddenly be distributed with every child project, even though it&#39;s only needed at build time (and not even that — it&#39;s only need when I check the dependency versions)? Or can I somehow set the scope so it&#39;s not included in the build?"},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1653832915,"post_id":72423038,"comment_id":127942704,"body_markdown":"@GarretWilson can you elaborate on your parent-child structure? You’re talking about the parent jar, but distributing a project packaged as pom results only in a pom file, not a jar. If your child projects and parent are always checked out together (multi module pom?) you can perhaps use a relative path. If you get the parent from maven, you will indeed need to include the xml in a jar file. If you dont want to distribute this xml file with your final project build, then it needs to be a separate jar. Plugins and their dependencies are not included in the project build.","body":"@GarretWilson can you elaborate on your parent-child structure? You’re talking about the parent jar, but distributing a project packaged as pom results only in a pom file, not a jar. If your child projects and parent are always checked out together (multi module pom?) you can perhaps use a relative path. If you get the parent from maven, you will indeed need to include the xml in a jar file. If you dont want to distribute this xml file with your final project build, then it needs to be a separate jar. Plugins and their dependencies are not included in the project build."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1653833927,"post_id":72423038,"comment_id":127942895,"body_markdown":"&quot; You’re talking about the parent jar, but distributing a project packaged as pom results only in a pom file, not a jar.&quot; You&#39;re correct. The parent POM in question is e.g. `com.globalmentor:globalmentor-root:0.8.9`, and I just confirmed it is distributed as a POM; I was mistaken in thinking it was distributed in a JAR. So I will have to create a completely separate project to get the XML file in a JAR. It&#39;s good that plugin dependencies are not included in the project build, but seriously, what an outrageous amount of work for something that should have been in the POM plugin configuration.","body":"&quot; You’re talking about the parent jar, but distributing a project packaged as pom results only in a pom file, not a jar.&quot; You&#39;re correct. The parent POM in question is e.g. <code>com.globalmentor:globalmentor-root:0.8.9</code>, and I just confirmed it is distributed as a POM; I was mistaken in thinking it was distributed in a JAR. So I will have to create a completely separate project to get the XML file in a JAR. It&#39;s good that plugin dependencies are not included in the project build, but seriously, what an outrageous amount of work for something that should have been in the POM plugin configuration."},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1654531231,"post_id":72423038,"comment_id":128107121,"body_markdown":"@GarretWilson i see you’re not happy with the result. If this was a standard multi module [this](https://stackoverflow.com/questions/26120704/maven-versions-plugin-reference-a-rule-xml-from-a-maven-dependency) would be an option. Considering the rules xml was almost [removed](https://github.com/mojohaus/versions-maven-plugin/issues/157), it seems to be a low priority point. You could try to show your support [here](https://github.com/mojohaus/versions-maven-plugin/issues/258). If there is a hack around this, i’d be interested to see it in action as well.","body":"@GarretWilson i see you’re not happy with the result. If this was a standard multi module <a href=\"https://stackoverflow.com/questions/26120704/maven-versions-plugin-reference-a-rule-xml-from-a-maven-dependency\">this</a> would be an option. Considering the rules xml was almost <a href=\"https://github.com/mojohaus/versions-maven-plugin/issues/157\" rel=\"nofollow noreferrer\">removed</a>, it seems to be a low priority point. You could try to show your support <a href=\"https://github.com/mojohaus/versions-maven-plugin/issues/258\" rel=\"nofollow noreferrer\">here</a>. If there is a hack around this, i’d be interested to see it in action as well."},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1654531454,"post_id":72423038,"comment_id":128107202,"body_markdown":"Hosting it at some internal URL is also not an option for you?","body":"Hosting it at some internal URL is also not an option for you?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1654568113,"post_id":72423038,"comment_id":128115901,"body_markdown":"Hosting at an internal URL is not an option. This is a public parent POM that all our projects use not just internally, but possibly third-party public open-source projects as well. Why should I need to host a build configuration? If I want to check that the project has the latest versions, why should I be distracted that version 99.9-alpha-4 is available, if it&#39;s not _really_ a newer version that is released? Most plugins simply allow configuration in the POM. Why should this one be any different? Why must I jump through all these extra hoops just to configure a plugin?","body":"Hosting at an internal URL is not an option. This is a public parent POM that all our projects use not just internally, but possibly third-party public open-source projects as well. Why should I need to host a build configuration? If I want to check that the project has the latest versions, why should I be distracted that version 99.9-alpha-4 is available, if it&#39;s not <i>really</i> a newer version that is released? Most plugins simply allow configuration in the POM. Why should this one be any different? Why must I jump through all these extra hoops just to configure a plugin?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1654933487,"post_id":72423038,"comment_id":128214373,"body_markdown":"An alpha version **is** a new version. &quot;New version&quot; in this context means any non-snapshot version. I understand you do not want an alpha, but this answer shows you workarounds. I think the extra JAR is OK, just you also distribute your parent POM and maybe a BoM as separate artifacts. BTW, some projects like Maven Surefire distribute stable versions as milestones, but for some reason some uninformed people are afraid to use them, waiting for years for the next final major. It might be unfortunate naming, but you really need to check on a per-project basis, so the rules file is a good idea.","body":"An alpha version <b>is</b> a new version. &quot;New version&quot; in this context means any non-snapshot version. I understand you do not want an alpha, but this answer shows you workarounds. I think the extra JAR is OK, just you also distribute your parent POM and maybe a BoM as separate artifacts. BTW, some projects like Maven Surefire distribute stable versions as milestones, but for some reason some uninformed people are afraid to use them, waiting for years for the next final major. It might be unfortunate naming, but you really need to check on a per-project basis, so the rules file is a good idea."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1655078170,"post_id":72423038,"comment_id":128238178,"body_markdown":"&quot;An alpha version **is** a new version.&quot; But I want to restrict the check to new _release_ versions. See https://stackoverflow.com/a/53856626 . &quot;I think the extra JAR is OK.&quot; And I don&#39;t think it is OK. Imagine if every plugin required an extra JAR for its settings. &quot;[Y]ou really need to check on a per-project basis …&quot; That is completely your opinion. I vehemently disagree. It&#39;s OK that we disagree, but that&#39;s exactly what configurations are for --- to allow me to configure the behavior to my opinions, not yours. I want all our dozens of projects to be consistent without requiring another JAR.","body":"&quot;An alpha version <b>is</b> a new version.&quot; But I want to restrict the check to new <i>release</i> versions. See <a href=\"https://stackoverflow.com/a/53856626\">stackoverflow.com/a/53856626</a> . &quot;I think the extra JAR is OK.&quot; And I don&#39;t think it is OK. Imagine if every plugin required an extra JAR for its settings. &quot;[Y]ou really need to check on a per-project basis …&quot; That is completely your opinion. I vehemently disagree. It&#39;s OK that we disagree, but that&#39;s exactly what configurations are for --- to allow me to configure the behavior to my opinions, not yours. I want all our dozens of projects to be consistent without requiring another JAR."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1655078325,"post_id":72423038,"comment_id":128238201,"body_markdown":"slindenau, the bounty is about to expire and I haven&#39;t received a better answer (unfortunately probably because no better answer exists at the moment). I&#39;ll assign the bounty to you as appreciation for your time in providing at one workaround, even though it is far from ideal.","body":"slindenau, the bounty is about to expire and I haven&#39;t received a better answer (unfortunately probably because no better answer exists at the moment). I&#39;ll assign the bounty to you as appreciation for your time in providing at one workaround, even though it is far from ideal."},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1655104253,"post_id":72423038,"comment_id":128242046,"body_markdown":"@GarretWilson thanks. I see the ticket on github was assigned the `enhancement` label, so eventually the feature might make it into a next release.","body":"@GarretWilson thanks. I see the ticket on github was assigned the <code>enhancement</code> label, so eventually the feature might make it into a next release."}],"tags":[],"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"comment_count":10,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662447585,"creation_date":1653821948,"answer_id":72423038,"question_id":72416739,"body_markdown":"&gt; Or will the child projects look for a rules.xml file in the child project directory?\r\n\r\nYes, if you define the `rules.xml` file via `${project.basedir}` it will resolve to the current local base directory of the child project. I&#39;ve verified this with a simple parent-child pom setup. So that will not work, unless you duplicate the rules file in every project.\r\n\r\nIf you wish to include the plugin configuration *and* ruleset in the parent pom without duplicating the rules file, you have two options:\r\n\r\n&gt; If you have your ruleset xml file hosted at, for example, http://www.mycompany.com/maven-version-rules.xml then the following configuration in your corporate pom would ensure that all projects use this rule set.\r\n\r\n```\r\n&lt;configuration&gt;\r\n    &lt;rulesUri&gt;http://www.mycompany.com/maven-version-rules.xml&lt;/rulesUri&gt;\r\n&lt;/configuration&gt;\r\n```\r\nor\r\n\r\n&gt; You can provide your ruleset xml file also within a jar, if you want to distribute your ruleset xml as Maven artifact. Therefore you have to declare the containing jar as direct dependency of the versions-maven-plugin and to use classpath as protocol.\r\n\r\n```\r\n&lt;configuration&gt;\r\n  &lt;rulesUri&gt;classpath:///package/foo/bar/rules.xml&lt;/rulesUri&gt;\r\n&lt;/configuration&gt;\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;version-rules&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nSource:\r\n- https://www.mojohaus.org/versions-maven-plugin/version-rules.html\r\n\r\nThe configuration in the pom only has rudimentary `includes` and `excludes` filters. Those will allow you to exclude any dependency as a whole, but not specific update versions. As far as i can tell from the available documentation there is no way to define version rules in any other way.\r\n\r\nSee\r\n- https://www.mojohaus.org/versions-maven-plugin/examples/advancing-dependency-versions.html\r\n\r\n## Update 09-2022 ##\r\nIn the [github ticket](https://github.com/mojohaus/versions-maven-plugin/issues/258) we found in the comments we can see the following update:\r\n\r\n&gt; It looks like a feature like this has recently been implemented by [#369](https://github.com/mojohaus/versions-maven-plugin/pull/369). Please see [#318](https://github.com/mojohaus/versions-maven-plugin/issues/318) where it&#39;s possible to provide inclusion and exclusion filters for determining which dependency patterns will be considered. Thanks to that, you can rule out patterns such as `.*-beta.` or `.*_ALPHA`, albeit not using regexp, but simple asterisk wildcards.\r\n\r\n&gt; This will land in today&#39;s release (2.12.0).\r\n\r\nThis will add the following features:\r\n\r\n&gt; Version 2.12.0 will introduce new arguments: `dependencyIncluded`, `dependencyExcludes`, `dependencyManagementIncludes`, `dependencyManagementExcludes`.\r\n\r\nWith the following example configuration in `pom.xml` given:\r\n```lang-xml\r\n&lt;profile&gt;\r\n  &lt;id&gt;display-dependency-updates&lt;/id&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n        &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\r\n        &lt;version&gt;${project.version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;validate&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;display-dependency-updates&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;dependencyIncludes&gt;org.apache.maven.*:doxia*&lt;/dependencyIncludes&gt;\r\n              &lt;dependencyManagementIncludes&gt;com.puppy*:*&lt;/dependencyManagementIncludes&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/profile&gt;\r\n```\r\n\r\nThis will also be implemented for filtering `plugin` and `pluginManagement`, but that will probably be added in a later release:\r\n&gt; So, I&#39;ve just added the missing plugin- and plugin management filtering which works likewise. I really doubt it will land into today&#39;s release though.","title":"Versions Maven Plugin rules that are inheritable","body":"<blockquote>\n<p>Or will the child projects look for a rules.xml file in the child project directory?</p>\n</blockquote>\n<p>Yes, if you define the <code>rules.xml</code> file via <code>${project.basedir}</code> it will resolve to the current local base directory of the child project. I've verified this with a simple parent-child pom setup. So that will not work, unless you duplicate the rules file in every project.</p>\n<p>If you wish to include the plugin configuration <em>and</em> ruleset in the parent pom without duplicating the rules file, you have two options:</p>\n<blockquote>\n<p>If you have your ruleset xml file hosted at, for example, <a href=\"http://www.mycompany.com/maven-version-rules.xml\" rel=\"nofollow noreferrer\">http://www.mycompany.com/maven-version-rules.xml</a> then the following configuration in your corporate pom would ensure that all projects use this rule set.</p>\n</blockquote>\n<pre><code>&lt;configuration&gt;\n    &lt;rulesUri&gt;http://www.mycompany.com/maven-version-rules.xml&lt;/rulesUri&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>or</p>\n<blockquote>\n<p>You can provide your ruleset xml file also within a jar, if you want to distribute your ruleset xml as Maven artifact. Therefore you have to declare the containing jar as direct dependency of the versions-maven-plugin and to use classpath as protocol.</p>\n</blockquote>\n<pre><code>&lt;configuration&gt;\n  &lt;rulesUri&gt;classpath:///package/foo/bar/rules.xml&lt;/rulesUri&gt;\n&lt;/configuration&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n        &lt;artifactId&gt;version-rules&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Source:</p>\n<ul>\n<li><a href=\"https://www.mojohaus.org/versions-maven-plugin/version-rules.html\" rel=\"nofollow noreferrer\">https://www.mojohaus.org/versions-maven-plugin/version-rules.html</a></li>\n</ul>\n<p>The configuration in the pom only has rudimentary <code>includes</code> and <code>excludes</code> filters. Those will allow you to exclude any dependency as a whole, but not specific update versions. As far as i can tell from the available documentation there is no way to define version rules in any other way.</p>\n<p>See</p>\n<ul>\n<li><a href=\"https://www.mojohaus.org/versions-maven-plugin/examples/advancing-dependency-versions.html\" rel=\"nofollow noreferrer\">https://www.mojohaus.org/versions-maven-plugin/examples/advancing-dependency-versions.html</a></li>\n</ul>\n<h2>Update 09-2022</h2>\n<p>In the <a href=\"https://github.com/mojohaus/versions-maven-plugin/issues/258\" rel=\"nofollow noreferrer\">github ticket</a> we found in the comments we can see the following update:</p>\n<blockquote>\n<p>It looks like a feature like this has recently been implemented by <a href=\"https://github.com/mojohaus/versions-maven-plugin/pull/369\" rel=\"nofollow noreferrer\">#369</a>. Please see <a href=\"https://github.com/mojohaus/versions-maven-plugin/issues/318\" rel=\"nofollow noreferrer\">#318</a> where it's possible to provide inclusion and exclusion filters for determining which dependency patterns will be considered. Thanks to that, you can rule out patterns such as <code>.*-beta.</code> or <code>.*_ALPHA</code>, albeit not using regexp, but simple asterisk wildcards.</p>\n</blockquote>\n<blockquote>\n<p>This will land in today's release (2.12.0).</p>\n</blockquote>\n<p>This will add the following features:</p>\n<blockquote>\n<p>Version 2.12.0 will introduce new arguments: <code>dependencyIncluded</code>, <code>dependencyExcludes</code>, <code>dependencyManagementIncludes</code>, <code>dependencyManagementExcludes</code>.</p>\n</blockquote>\n<p>With the following example configuration in <code>pom.xml</code> given:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profile&gt;\n  &lt;id&gt;display-dependency-updates&lt;/id&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n        &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\n        &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;validate&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;display-dependency-updates&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;dependencyIncludes&gt;org.apache.maven.*:doxia*&lt;/dependencyIncludes&gt;\n              &lt;dependencyManagementIncludes&gt;com.puppy*:*&lt;/dependencyManagementIncludes&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/profile&gt;\n</code></pre>\n<p>This will also be implemented for filtering <code>plugin</code> and <code>pluginManagement</code>, but that will probably be added in a later release:</p>\n<blockquote>\n<p>So, I've just added the missing plugin- and plugin management filtering which works likewise. I really doubt it will land into today's release though.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2074809,"reputation":11,"user_id":1848484,"display_name":"Andrzej Jarmoniuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662786471,"creation_date":1662786372,"answer_id":73669416,"question_id":72416739,"body_markdown":"Pasting my answer here from Github, because I think it might benefit others.\r\n\r\nProvided you have a directory called `rules-test` in your project containing the rules template file:\r\n```xml\r\n&lt;ruleset comparisonMethod=&quot;maven&quot;\r\n         xmlns=&quot;http://mojo.codehaus.org/versions-maven-plugin/rule/2.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://mojo.codehaus.org/versions-maven-plugin/rule/2.0.0\r\n         https://www.mojohaus.org/versions-maven-plugin/xsd/rule-2.0.0.xsd&quot;&gt;\r\n    &lt;ignoreVersions&gt;\r\n        &lt;ignoreVersion type=&quot;regex&quot;&gt;${ignoredVersions}&lt;/ignoreVersion&gt;\r\n    &lt;/ignoreVersions&gt;\r\n&lt;/ruleset&gt;\r\n```\r\n\r\nThen, in your main project, create the following profile:\r\n\r\n```xml\r\n&lt;profile&gt;\r\n  &lt;id&gt;rules-test&lt;/id&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;validate&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;resources&gt;\r\n                &lt;resource&gt;\r\n                  &lt;directory&gt;rules-test&lt;/directory&gt;\r\n                  &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n              &lt;/resources&gt;\r\n              &lt;outputDirectory&gt;${project.basedir}&lt;/outputDirectory&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.12.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;validate&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;display-dependency-updates&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;rulesUri&gt;file://${project.basedir}/compiled-rules.xml&lt;/rulesUri&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/profile&gt;\r\n```\r\n\r\nIf you then execute the following Maven target:\r\n\r\n```sh\r\nmvn -P rules-test &quot;-DignoredVersions=.*-(M\\d*|.*-SNAPSHOT)&quot; clean validate\r\n```\r\n\r\nthen you will get a dependencies report using the filter in the `-DignoredVersions` argument (filtering out both `*-M*` and `*-SNAPSHOT`).\r\n\r\nAnd if you put your `ignoredVerions` property in your project instead of passing it as a -D argument, then it will be inheritable!","title":"Versions Maven Plugin rules that are inheritable","body":"<p>Pasting my answer here from Github, because I think it might benefit others.</p>\n<p>Provided you have a directory called <code>rules-test</code> in your project containing the rules template file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ruleset comparisonMethod=&quot;maven&quot;\n         xmlns=&quot;http://mojo.codehaus.org/versions-maven-plugin/rule/2.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://mojo.codehaus.org/versions-maven-plugin/rule/2.0.0\n         https://www.mojohaus.org/versions-maven-plugin/xsd/rule-2.0.0.xsd&quot;&gt;\n    &lt;ignoreVersions&gt;\n        &lt;ignoreVersion type=&quot;regex&quot;&gt;${ignoredVersions}&lt;/ignoreVersion&gt;\n    &lt;/ignoreVersions&gt;\n&lt;/ruleset&gt;\n</code></pre>\n<p>Then, in your main project, create the following profile:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profile&gt;\n  &lt;id&gt;rules-test&lt;/id&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;validate&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy-resources&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;resources&gt;\n                &lt;resource&gt;\n                  &lt;directory&gt;rules-test&lt;/directory&gt;\n                  &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;/resource&gt;\n              &lt;/resources&gt;\n              &lt;outputDirectory&gt;${project.basedir}&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.12.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;validate&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;display-dependency-updates&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;rulesUri&gt;file://${project.basedir}/compiled-rules.xml&lt;/rulesUri&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/profile&gt;\n</code></pre>\n<p>If you then execute the following Maven target:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn -P rules-test &quot;-DignoredVersions=.*-(M\\d*|.*-SNAPSHOT)&quot; clean validate\n</code></pre>\n<p>then you will get a dependencies report using the filter in the <code>-DignoredVersions</code> argument (filtering out both <code>*-M*</code> and <code>*-SNAPSHOT</code>).</p>\n<p>And if you put your <code>ignoredVerions</code> property in your project instead of passing it as a -D argument, then it will be inheritable!</p>\n"},{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687879206,"creation_date":1687879206,"answer_id":76566374,"question_id":72416739,"body_markdown":"Happy this is now available natively in the plugin; see [Issue #684][1]. I recommended using at least v2.16.0 because of [Issue #959][2].\r\n\r\n\r\n  [1]: https://github.com/mojohaus/versions/issues/684\r\n  [2]: https://github.com/mojohaus/versions/issues/959","title":"Versions Maven Plugin rules that are inheritable","body":"<p>Happy this is now available natively in the plugin; see <a href=\"https://github.com/mojohaus/versions/issues/684\" rel=\"nofollow noreferrer\">Issue #684</a>. I recommended using at least v2.16.0 because of <a href=\"https://github.com/mojohaus/versions/issues/959\" rel=\"nofollow noreferrer\">Issue #959</a>.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76566374,"answer_count":3,"score":4,"last_activity_date":1687879206,"creation_date":1653750191,"question_id":72416739,"body_markdown":"When running `mvn versions:display-dependency-updates` for the [Version Maven Plugin][1] I see lots of things like this:\r\n\r\n```\r\n[INFO]   org.slf4j:slf4j-api ........................... 1.7.36 -&gt; 2.0.0-alpha7\r\n```\r\n\r\nBut just because I&#39;m not using the alpha version of a later version doesn&#39;t mean I&#39;m not using the latest available release version. Another [Stack Overflow answer][2] indicated that I can set up a `rules.xml` file to ignore versions like `*.-alpha*`, putting something like this in my POM:\r\n\r\n```\r\n&lt;configuration&gt;\r\n  &lt;rulesUri&gt;file:///${project.basedir}/rules.xml&lt;/rulesUri&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nMy question: is this `rules.xml` file inheritable? If I put it in a separate project in a parent POM of `&lt;packaging&gt;pom&lt;/packaging&gt;`, published to Maven Central, will the child POMs pick it up? Or will the child projects look for a `rules.xml` file _in the child project directory_?\r\n\r\nI want to configure the `versions-maven-plugin` in the parent POM (as I do already) and run `mvn versions:display-dependency-updates` on any child POM or descendant POM. How can I set up the ignore rules in the parent POM so that these version ignore rules will be picked up when I check for dependency updates in a child POM? (Is there no way to include the rule within the POM itself?)\r\n\r\n\r\n  [1]: https://www.mojohaus.org/versions-maven-plugin/\r\n  [2]: https://stackoverflow.com/a/48715568/","title":"Versions Maven Plugin rules that are inheritable","body":"<p>When running <code>mvn versions:display-dependency-updates</code> for the <a href=\"https://www.mojohaus.org/versions-maven-plugin/\" rel=\"nofollow noreferrer\">Version Maven Plugin</a> I see lots of things like this:</p>\n<pre><code>[INFO]   org.slf4j:slf4j-api ........................... 1.7.36 -&gt; 2.0.0-alpha7\n</code></pre>\n<p>But just because I'm not using the alpha version of a later version doesn't mean I'm not using the latest available release version. Another <a href=\"https://stackoverflow.com/a/48715568/\">Stack Overflow answer</a> indicated that I can set up a <code>rules.xml</code> file to ignore versions like <code>*.-alpha*</code>, putting something like this in my POM:</p>\n<pre><code>&lt;configuration&gt;\n  &lt;rulesUri&gt;file:///${project.basedir}/rules.xml&lt;/rulesUri&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>My question: is this <code>rules.xml</code> file inheritable? If I put it in a separate project in a parent POM of <code>&lt;packaging&gt;pom&lt;/packaging&gt;</code>, published to Maven Central, will the child POMs pick it up? Or will the child projects look for a <code>rules.xml</code> file <em>in the child project directory</em>?</p>\n<p>I want to configure the <code>versions-maven-plugin</code> in the parent POM (as I do already) and run <code>mvn versions:display-dependency-updates</code> on any child POM or descendant POM. How can I set up the ignore rules in the parent POM so that these version ignore rules will be picked up when I check for dependency updates in a child POM? (Is there no way to include the rule within the POM itself?)</p>\n"},{"tags":["java","spring","mapping","mapstruct"],"comments":[{"owner":{"account_id":10478004,"reputation":116,"user_id":7723926,"display_name":"Hamed Heidarian"},"score":0,"creation_date":1674716407,"post_id":75221003,"comment_id":132774153,"body_markdown":"Can you add Mapstruct&#39;s implementation of your mapper to the question?","body":"Can you add Mapstruct&#39;s implementation of your mapper to the question?"}],"answers":[{"tags":[],"owner":{"account_id":10478004,"reputation":116,"user_id":7723926,"display_name":"Hamed Heidarian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687878953,"creation_date":1674716487,"answer_id":75242989,"question_id":75221003,"body_markdown":"Thats most probably because you didn&#39;t provide a method that maps `List&lt;UserEntity&gt;` to `List&lt;String&gt;`.\r\nJust add such a default method and test if it works.","title":"Mention field = null in child comments but works fine for root level comments","body":"<p>Thats most probably because you didn't provide a method that maps <code>List&lt;UserEntity&gt;</code> to <code>List&lt;String&gt;</code>.\nJust add such a default method and test if it works.</p>\n"}],"owner":{"account_id":17875756,"reputation":106,"user_id":12985876,"display_name":"Taras"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687878953,"creation_date":1674560672,"question_id":75221003,"body_markdown":"I want to make childComments nested in root comments. I did it. But the problem is that mention field = null in childComments but other fields are displayed correctly. However, for root comments, mention field works well. \r\n\r\nI also want to have only two levels of comments.\r\n\r\nRoot comments -&gt; child comments. And child comments shoul&#39;d have childComments.\r\nPerhaps I did not register the mapping correctly. I will be glad to hear your advice.\r\n\r\n        @Override\r\n          public CommentListResponse list(Specification&lt;CommentEntity&gt; spec, Pageable pageable, DeletedRecords deleted) {\r\n            pageable = DefaultSorting.apply(pageable, Sort.by(Sort.Order.desc(&quot;commentedAt&quot;)));\r\n            spec = SpecificationHelper.addDeletedFilter(spec, deleted);\r\n            Page&lt;CommentEntity&gt; page = commentRepository.findAll(spec, pageable);\r\n            List&lt;CommentListResponse.CommentItem&gt; comments = page.stream()\r\n                .filter(comment -&gt; comment.getParentCommentId() == null)\r\n                .map(comment -&gt; commentMapper.toListResponseItem(comment, deleted != null))\r\n                .toList();\r\n            return CommentListResponse.builder()\r\n                .data(comments)\r\n                .fromPage(page)\r\n                .build();\r\n          }\r\n        \r\n        \r\n        @Data\r\n        @SuperBuilder\r\n        @NoArgsConstructor\r\n        @AllArgsConstructor\r\n        @EqualsAndHashCode(callSuper = true)\r\n        public class CommentListResponse extends PagedResponse {\r\n          private List&lt;CommentItem&gt; data;\r\n        \r\n          @Data\r\n          @Builder\r\n          @NoArgsConstructor\r\n          @AllArgsConstructor\r\n          public static class CommentItem {\r\n            private long id;\r\n            private String body;\r\n            private List&lt;String&gt; mentions;\r\n            private Long parentCommentId;\r\n            private List&lt;CommentItem&gt; childComments;\r\n        \r\n            @JsonInclude(JsonInclude.Include.NON_NULL)\r\n            private Boolean deleted;\r\n        \r\n            @JsonIgnore\r\n            private boolean includeDeletedField;\r\n        \r\n            public Boolean getDeleted() {\r\n              return includeDeletedField ? deleted : null;\r\n            }\r\n          }\r\n        }\r\n        \r\n        @Mapper(componentModel = &quot;spring&quot;)\r\n        public interface CommentMapper {\r\n        \r\n          @Mapping(source = &quot;comment.mentionUsers&quot;, target = &quot;mentions&quot;)\r\n          CommentListResponse.CommentItem toListResponseItem(CommentEntity comment, boolean includeDeletedField);\r\n        }\r\n        \r\n        \r\n        @Entity\r\n        @Table(name = &quot;comment&quot;)\r\n        @Getter\r\n        @Setter\r\n        @Builder\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        @ToString(onlyExplicitlyIncluded = true)\r\n        public class CommentEntity {\r\n          @Id\r\n          @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n          @Column(name = &quot;id&quot;)\r\n          @ToString.Include\r\n          private Long id;\r\n        \r\n          @Column(name = &quot;body&quot;, nullable = false)\r\n          @ToString.Include\r\n          private String body;\r\n        \r\n          @ManyToMany(fetch = FetchType.EAGER)\r\n          @JoinTable(name = &quot;comment_user_mention&quot;,\r\n              joinColumns = @JoinColumn(name = &quot;comment_id&quot;),\r\n              inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;))\r\n          private List&lt;UserEntity&gt; mentionUsers;\r\n        \r\n          @Column(name = &quot;parent_comment_id&quot;)\r\n          @ToString.Include\r\n          private Long parentCommentId;\r\n        \r\n          @OneToMany(mappedBy = &quot;parentCommentId&quot;, fetch = FetchType.LAZY)\r\n          private List&lt;CommentEntity&gt; childComments;\r\n    }\r\n       \r\n    JSON output: {       &quot;id&quot;: 1,\r\n                        &quot;body&quot;: &quot;test root comment&quot;,\r\n                        &quot;mentions&quot;: [&quot;user-1&quot;],\r\n                        &quot;parentCommentId&quot;: null,\r\n                        &quot;childComments&quot;: [\r\n                            {\r\n                                &quot;id&quot;: 3,\r\n                                &quot;body&quot;: &quot;test child comment&quot;,\r\n                                &quot;mentions&quot;: null, - // in db i have mention for this child comment but it&#39;s null. \r\n                                &quot;parentCommentId&quot;: 1,\r\n                                   &quot;childComments&quot;: [] // i don&#39;t want to see this field in child comments.\r\n                            }\r\n            ]\r\n            }","title":"Mention field = null in child comments but works fine for root level comments","body":"<p>I want to make childComments nested in root comments. I did it. But the problem is that mention field = null in childComments but other fields are displayed correctly. However, for root comments, mention field works well.</p>\n<p>I also want to have only two levels of comments.</p>\n<p>Root comments -&gt; child comments. And child comments shoul'd have childComments.\nPerhaps I did not register the mapping correctly. I will be glad to hear your advice.</p>\n<pre><code>    @Override\n      public CommentListResponse list(Specification&lt;CommentEntity&gt; spec, Pageable pageable, DeletedRecords deleted) {\n        pageable = DefaultSorting.apply(pageable, Sort.by(Sort.Order.desc(&quot;commentedAt&quot;)));\n        spec = SpecificationHelper.addDeletedFilter(spec, deleted);\n        Page&lt;CommentEntity&gt; page = commentRepository.findAll(spec, pageable);\n        List&lt;CommentListResponse.CommentItem&gt; comments = page.stream()\n            .filter(comment -&gt; comment.getParentCommentId() == null)\n            .map(comment -&gt; commentMapper.toListResponseItem(comment, deleted != null))\n            .toList();\n        return CommentListResponse.builder()\n            .data(comments)\n            .fromPage(page)\n            .build();\n      }\n    \n    \n    @Data\n    @SuperBuilder\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @EqualsAndHashCode(callSuper = true)\n    public class CommentListResponse extends PagedResponse {\n      private List&lt;CommentItem&gt; data;\n    \n      @Data\n      @Builder\n      @NoArgsConstructor\n      @AllArgsConstructor\n      public static class CommentItem {\n        private long id;\n        private String body;\n        private List&lt;String&gt; mentions;\n        private Long parentCommentId;\n        private List&lt;CommentItem&gt; childComments;\n    \n        @JsonInclude(JsonInclude.Include.NON_NULL)\n        private Boolean deleted;\n    \n        @JsonIgnore\n        private boolean includeDeletedField;\n    \n        public Boolean getDeleted() {\n          return includeDeletedField ? deleted : null;\n        }\n      }\n    }\n    \n    @Mapper(componentModel = &quot;spring&quot;)\n    public interface CommentMapper {\n    \n      @Mapping(source = &quot;comment.mentionUsers&quot;, target = &quot;mentions&quot;)\n      CommentListResponse.CommentItem toListResponseItem(CommentEntity comment, boolean includeDeletedField);\n    }\n    \n    \n    @Entity\n    @Table(name = &quot;comment&quot;)\n    @Getter\n    @Setter\n    @Builder\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @ToString(onlyExplicitlyIncluded = true)\n    public class CommentEntity {\n      @Id\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\n      @Column(name = &quot;id&quot;)\n      @ToString.Include\n      private Long id;\n    \n      @Column(name = &quot;body&quot;, nullable = false)\n      @ToString.Include\n      private String body;\n    \n      @ManyToMany(fetch = FetchType.EAGER)\n      @JoinTable(name = &quot;comment_user_mention&quot;,\n          joinColumns = @JoinColumn(name = &quot;comment_id&quot;),\n          inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;))\n      private List&lt;UserEntity&gt; mentionUsers;\n    \n      @Column(name = &quot;parent_comment_id&quot;)\n      @ToString.Include\n      private Long parentCommentId;\n    \n      @OneToMany(mappedBy = &quot;parentCommentId&quot;, fetch = FetchType.LAZY)\n      private List&lt;CommentEntity&gt; childComments;\n}\n   \nJSON output: {       &quot;id&quot;: 1,\n                    &quot;body&quot;: &quot;test root comment&quot;,\n                    &quot;mentions&quot;: [&quot;user-1&quot;],\n                    &quot;parentCommentId&quot;: null,\n                    &quot;childComments&quot;: [\n                        {\n                            &quot;id&quot;: 3,\n                            &quot;body&quot;: &quot;test child comment&quot;,\n                            &quot;mentions&quot;: null, - // in db i have mention for this child comment but it's null. \n                            &quot;parentCommentId&quot;: 1,\n                               &quot;childComments&quot;: [] // i don't want to see this field in child comments.\n                        }\n        ]\n        }\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1687679696,"post_id":76549264,"comment_id":134968267,"body_markdown":"Most people won&#39;t look at your screenshots... Because if they try to solve your problem, they need to write a complete entity class by hand according to your screenshot.","body":"Most people won&#39;t look at your screenshots... Because if they try to solve your problem, they need to write a complete entity class by hand according to your screenshot."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687679822,"post_id":76549264,"comment_id":134968283,"body_markdown":"Hello Vlad, please don&#39;t share code as picture but paste it as formatted code. Please also tell us what kind of error are you getting.","body":"Hello Vlad, please don&#39;t share code as picture but paste it as formatted code. Please also tell us what kind of error are you getting."},{"owner":{"account_id":24661876,"reputation":3,"user_id":18558007,"display_name":"Vlad Skoromnyi"},"score":0,"creation_date":1687687651,"post_id":76549264,"comment_id":134968897,"body_markdown":"Thanks for your comment,I&#39;ve updated my question with code example","body":"Thanks for your comment,I&#39;ve updated my question with code example"},{"owner":{"account_id":15166774,"reputation":91,"user_id":10944077,"display_name":"Awais Latif"},"score":0,"creation_date":1687696720,"post_id":76549264,"comment_id":134969747,"body_markdown":"@Query(&quot;SELECT b.* FROM BookEntity b WHERE b.genre = :genre&quot;)\n        List&lt;BookEntity&gt; findAllByGenre(@Param(&quot;genre&quot;) String genre);","body":"@Query(&quot;SELECT b.* FROM BookEntity b WHERE b.genre = :genre&quot;)         List&lt;BookEntity&gt; findAllByGenre(@Param(&quot;genre&quot;) String genre);"}],"answers":[{"comments":[{"owner":{"account_id":28768367,"reputation":21,"user_id":22032734,"display_name":"lib"},"score":0,"creation_date":1687756269,"post_id":76549317,"comment_id":134975510,"body_markdown":"@Vlad Please care to upvote or accept if this answer helped.","body":"@Vlad Please care to upvote or accept if this answer helped."}],"tags":[],"owner":{"account_id":28768367,"reputation":21,"user_id":22032734,"display_name":"lib"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687677684,"creation_date":1687677684,"answer_id":76549317,"question_id":76549264,"body_markdown":"The beauty of JPA is it automatically generates queries internally. In your case, you already passing the necessary parameters as array of genre. This ideally will work and JPA will do the heavy lifting for you.\r\n\r\nIn case you want to define a custom SQL query by yourself do refer the following read:\r\n\r\nhttps://stackoverflow.com/questions/22935278/is-it-possible-to-use-an-array-object-as-a-parameter-in-spring-repository-query\r\n\r\nHope this helps.\r\n\r\n","title":"Java Spring Boot, Repository method for getting all entity by value from Array","body":"<p>The beauty of JPA is it automatically generates queries internally. In your case, you already passing the necessary parameters as array of genre. This ideally will work and JPA will do the heavy lifting for you.</p>\n<p>In case you want to define a custom SQL query by yourself do refer the following read:</p>\n<p><a href=\"https://stackoverflow.com/questions/22935278/is-it-possible-to-use-an-array-object-as-a-parameter-in-spring-repository-query\">Is it possible to use an Array object as a parameter in Spring Repository @Query annotation?</a></p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":13223229,"reputation":53,"user_id":9549261,"display_name":"Ali Booresh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687878948,"creation_date":1687689646,"answer_id":76549990,"question_id":76549264,"body_markdown":"It&#39;s better to be this way,\r\nfirst, create a Genre class:\r\n\r\n```java \r\npublic class Genre {\r\n    Long id;\r\n    String title;\r\n    String description;\r\n}\r\n```\r\nand Book class:\r\n\r\n```java \r\npublic class Book {\r\n    Long id;\r\n    String title;\r\n    String author;\r\n    .\r\n    .\r\n    .\r\n    @OneToMany\r\n    List&lt;Genre&gt; genres;\r\n}\r\n```\r\n\r\nnow you can get Book entities using a query;\r\nread this to create query:\r\nhttps://stackoverflow.com/questions/15251761/sql-query-one-to-many-relationship\r\n\r\n","title":"Java Spring Boot, Repository method for getting all entity by value from Array","body":"<p>It's better to be this way,\nfirst, create a Genre class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Genre {\n    Long id;\n    String title;\n    String description;\n}\n</code></pre>\n<p>and Book class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Book {\n    Long id;\n    String title;\n    String author;\n    .\n    .\n    .\n    @OneToMany\n    List&lt;Genre&gt; genres;\n}\n</code></pre>\n<p>now you can get Book entities using a query;\nread this to create query:\n<a href=\"https://stackoverflow.com/questions/15251761/sql-query-one-to-many-relationship\">SQL query one to many relationship</a></p>\n"},{"tags":[],"owner":{"account_id":24661876,"reputation":3,"user_id":18558007,"display_name":"Vlad Skoromnyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687690870,"creation_date":1687690870,"answer_id":76550074,"question_id":76549264,"body_markdown":"Thanks for you suggestions, I&#39;ve found solution with Native Query\r\nThat is working for me\r\nThis is code of BookRepository method for getting all books by genre\r\n   \r\n\r\n     @Query(value = &quot;SELECT * FROM book_entity WHERE genre LIKE %:genre%&quot;, nativeQuery = true)\r\n        List&lt;BookEntity&gt; findAllByGenre(@Param(&quot;genre&quot;) String genre);","title":"Java Spring Boot, Repository method for getting all entity by value from Array","body":"<p>Thanks for you suggestions, I've found solution with Native Query\nThat is working for me\nThis is code of BookRepository method for getting all books by genre</p>\n<pre><code> @Query(value = &quot;SELECT * FROM book_entity WHERE genre LIKE %:genre%&quot;, nativeQuery = true)\n    List&lt;BookEntity&gt; findAllByGenre(@Param(&quot;genre&quot;) String genre);\n</code></pre>\n"}],"owner":{"account_id":24661876,"reputation":3,"user_id":18558007,"display_name":"Vlad Skoromnyi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1687878948,"creation_date":1687676669,"question_id":76549264,"body_markdown":"I have Book entity and book repository. Book has string array with genres. I need to implement findAllByGenre method for searching all books which will be includes passed &quot;genre&quot; at their array. How it will be better to implements?\r\n[Book Entity](https://i.stack.imgur.com/Nj6G4.png)\r\n[Book Repository](https://i.stack.imgur.com/JcQhN.png)\r\n\r\nI tried to create method which will be returns List of books, but can&#39;t understood how should I pass params and do select with string\r\n\r\nUPDATED:\r\nI&#39;ve tried to implement Repository method like that\r\n\r\n    @Repository\r\n    public interface BookRepository extends CrudRepository&lt;BookEntity, Long&gt; {\r\n        \tBookEntity findOneBySlug(String slug);\r\n        \r\n        \t@Query(&quot;SELECT b FROM book_entity WHERE :genre in b.genre&quot;)\r\n        \tList&lt;BookEntity&gt; findAllByGenre(@Param(&quot;genre&quot;) String genre);\r\n    }\r\n\r\nAlso I&#39;m sharing BookEntity code\r\n\r\n    package com.uabookserver.uabookserver.entity;\r\n    \r\n    import jakarta.persistence.*;\r\n    import org.springframework.lang.NonNull;\r\n    \r\n        @Entity\r\n        public class BookEntity {\r\n          \t@Id\r\n          \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n          \tprivate Long id;\r\n        \t@NonNull\r\n        \tprivate String slug;\r\n        \tprivate String title;\r\n          \tprivate String author;\r\n          \tprivate String country;\r\n        \tprivate int year;\r\n        \tprivate String[] genre;\r\n        \tprivate int likes = 0;\r\n          \tprivate int bookmarks = 0;\r\n          \tprivate int downloads = 0;\r\n        \t@Lob\r\n        \tprivate String image;\r\n        \t@Lob\r\n        \tprivate String[] file;\r\n        \r\n          \tpublic BookEntity() {}\r\n        \r\n        \tpublic Long getId() {\r\n        \t  return id;\r\n        \t}\r\n        \r\n        \tpublic void setId(Long id) {\r\n        \t  this.id = id;\r\n        \t}\r\n        \r\n        \tpublic String getSlug() {\r\n        \t  return slug;\r\n        \t}\r\n        \r\n        \tpublic void setSlug(String slug) {\r\n        \t  this.slug = slug;\r\n        \t}\r\n        \r\n        \tpublic String getTitle() {\r\n        \t  return title;\r\n        \t}\r\n        \r\n        \tpublic void setTitle(String title) {\r\n        \t  this.title = title;\r\n        \t}\r\n        \r\n        \tpublic String getAuthor() {\r\n        \t  return author;\r\n        \t}\r\n        \r\n        \tpublic void setAuthor(String author) {\r\n        \t  this.author = author;\r\n        \t}\r\n        \r\n        \tpublic int getYear() {\r\n        \t  return year;\r\n        \t}\r\n        \r\n        \tpublic void setYear(int year) {\r\n        \t  this.year = year;\r\n        \t}\r\n        \r\n        \tpublic String[] getGenre() {\r\n        \t  return genre;\r\n        \t}\r\n        \r\n        \tpublic void setGenre(String[] genre) {\r\n        \t  this.genre = genre;\r\n        \t}\r\n        \r\n        \tpublic int getLikes() {\r\n        \t  return likes;\r\n        \t}\r\n        \r\n        \tpublic void setLikes(int likes) {\r\n        \t  this.likes = likes;\r\n        \t}\r\n        \r\n        \tpublic int getBookmarks() {\r\n        \t  return bookmarks;\r\n        \t}\r\n        \r\n        \tpublic void setBookmarks(int bookmarks) {\r\n        \t  this.bookmarks = bookmarks;\r\n        \t}\r\n        \r\n        \tpublic String getCountry() {\r\n        \t  return country;\r\n        \t}\r\n        \r\n        \tpublic void setCountry(String country) {\r\n        \t  this.country = country;\r\n        \t}\r\n        \r\n        \tpublic int getDownloads() {\r\n        \t  return downloads;\r\n        \t}\r\n        \r\n        \tpublic void setDownloads(int downloads) {\r\n        \t  this.downloads = downloads;\r\n        \t}\r\n        \r\n        \tpublic String getImage() {\r\n        \t  return image;\r\n        \t}\r\n        \r\n        \tpublic void setImage(String image) {\r\n        \t  this.image = image;\r\n        \t}\r\n        \r\n        \tpublic String[] getFile() {\r\n        \t  return file;\r\n        \t}\r\n        \r\n        \tpublic void setFile(String[] file) {\r\n        \t  this.file = file;\r\n        \t}\r\n        }\r\n\r\nAnd BokkService method for getting all books by genre\r\n\r\n    public List&lt;Book&gt; getAllByGenre(String genre) {\r\n    \t  \tList&lt;BookEntity&gt; books = bookRepository.findAllByGenre(genre);\r\n    \t\tList&lt;Book&gt; models = this.convertToModelsList(books);\r\n    \t\treturn models;\r\n    \t}\r\n\r\n","title":"Java Spring Boot, Repository method for getting all entity by value from Array","body":"<p>I have Book entity and book repository. Book has string array with genres. I need to implement findAllByGenre method for searching all books which will be includes passed &quot;genre&quot; at their array. How it will be better to implements?\n<a href=\"https://i.stack.imgur.com/Nj6G4.png\" rel=\"nofollow noreferrer\">Book Entity</a>\n<a href=\"https://i.stack.imgur.com/JcQhN.png\" rel=\"nofollow noreferrer\">Book Repository</a></p>\n<p>I tried to create method which will be returns List of books, but can't understood how should I pass params and do select with string</p>\n<p>UPDATED:\nI've tried to implement Repository method like that</p>\n<pre><code>@Repository\npublic interface BookRepository extends CrudRepository&lt;BookEntity, Long&gt; {\n        BookEntity findOneBySlug(String slug);\n    \n        @Query(&quot;SELECT b FROM book_entity WHERE :genre in b.genre&quot;)\n        List&lt;BookEntity&gt; findAllByGenre(@Param(&quot;genre&quot;) String genre);\n}\n</code></pre>\n<p>Also I'm sharing BookEntity code</p>\n<pre><code>package com.uabookserver.uabookserver.entity;\n\nimport jakarta.persistence.*;\nimport org.springframework.lang.NonNull;\n\n    @Entity\n    public class BookEntity {\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private Long id;\n        @NonNull\n        private String slug;\n        private String title;\n        private String author;\n        private String country;\n        private int year;\n        private String[] genre;\n        private int likes = 0;\n        private int bookmarks = 0;\n        private int downloads = 0;\n        @Lob\n        private String image;\n        @Lob\n        private String[] file;\n    \n        public BookEntity() {}\n    \n        public Long getId() {\n          return id;\n        }\n    \n        public void setId(Long id) {\n          this.id = id;\n        }\n    \n        public String getSlug() {\n          return slug;\n        }\n    \n        public void setSlug(String slug) {\n          this.slug = slug;\n        }\n    \n        public String getTitle() {\n          return title;\n        }\n    \n        public void setTitle(String title) {\n          this.title = title;\n        }\n    \n        public String getAuthor() {\n          return author;\n        }\n    \n        public void setAuthor(String author) {\n          this.author = author;\n        }\n    \n        public int getYear() {\n          return year;\n        }\n    \n        public void setYear(int year) {\n          this.year = year;\n        }\n    \n        public String[] getGenre() {\n          return genre;\n        }\n    \n        public void setGenre(String[] genre) {\n          this.genre = genre;\n        }\n    \n        public int getLikes() {\n          return likes;\n        }\n    \n        public void setLikes(int likes) {\n          this.likes = likes;\n        }\n    \n        public int getBookmarks() {\n          return bookmarks;\n        }\n    \n        public void setBookmarks(int bookmarks) {\n          this.bookmarks = bookmarks;\n        }\n    \n        public String getCountry() {\n          return country;\n        }\n    \n        public void setCountry(String country) {\n          this.country = country;\n        }\n    \n        public int getDownloads() {\n          return downloads;\n        }\n    \n        public void setDownloads(int downloads) {\n          this.downloads = downloads;\n        }\n    \n        public String getImage() {\n          return image;\n        }\n    \n        public void setImage(String image) {\n          this.image = image;\n        }\n    \n        public String[] getFile() {\n          return file;\n        }\n    \n        public void setFile(String[] file) {\n          this.file = file;\n        }\n    }\n</code></pre>\n<p>And BokkService method for getting all books by genre</p>\n<pre><code>public List&lt;Book&gt; getAllByGenre(String genre) {\n        List&lt;BookEntity&gt; books = bookRepository.findAllByGenre(genre);\n        List&lt;Book&gt; models = this.convertToModelsList(books);\n        return models;\n    }\n</code></pre>\n"},{"tags":["java","multithreading","user-interface","javafx","scene"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1687854223,"post_id":76562756,"comment_id":134991168,"body_markdown":"It sems really odd that you&#39;re starting a thread in the initialize method of your controller. I strongly suspect you&#39;ll need to create a complete working example that can reproduce the issue. Are you noticing any consequences of the bug, or just you get an error message?","body":"It sems really odd that you&#39;re starting a thread in the initialize method of your controller. I strongly suspect you&#39;ll need to create a complete working example that can reproduce the issue. Are you noticing any consequences of the bug, or just you get an error message?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1687854489,"post_id":76562756,"comment_id":134991221,"body_markdown":"You could probably get the error message to change if you switch from `new Runnable()...` to `()-&gt;{}` since the `new Runnable()` creates an anonymous inner class presumably ` GameViewController$8.class` is the class file not getting included on the classpath?","body":"You could probably get the error message to change if you switch from <code>new Runnable()...</code> to <code>()-&gt;{}</code> since the <code>new Runnable()</code> creates an anonymous inner class presumably ` GameViewController$8.class` is the class file not getting included on the classpath?"},{"owner":{"account_id":28475833,"reputation":1,"user_id":21790510,"display_name":"Ludovico Maltagliati"},"score":0,"creation_date":1687865683,"post_id":76562756,"comment_id":134993570,"body_markdown":"Thanks for you response. To answer: \n1) Due to its random nature, i have no way to reproduce the bug constantly. The bug actually had consequences, as it stopped the normal flow of the javafx thread and prevented the gui from updating with the information received from the server.\n2) I switched all the runlater in the project as suggested, now i&#39;m waiting to see if the bug occurs again.","body":"Thanks for you response. To answer:  1) Due to its random nature, i have no way to reproduce the bug constantly. The bug actually had consequences, as it stopped the normal flow of the javafx thread and prevented the gui from updating with the information received from the server. 2) I switched all the runlater in the project as suggested, now i&#39;m waiting to see if the bug occurs again."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1687903257,"post_id":76562756,"comment_id":135001705,"body_markdown":"Are you using a framework other than JavaFX (e.g., Spring, CDI, etc.)? Are there any custom class loaders/module layers being used? How is your application deployed/built? How are you running the application?","body":"Are you using a framework other than JavaFX (e.g., Spring, CDI, etc.)? Are there any custom class loaders/module layers being used? How is your application deployed/built? How are you running the application?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1687987705,"post_id":76562756,"comment_id":135015307,"body_markdown":"Just as a background FYI, review [java compiled classes contain dollar signs](https://stackoverflow.com/questions/11388840/java-compiled-classes-contain-dollar-signs), to understand what `view.gui.GameViewController$8` is.  It is almost as though you don&#39;t have the correct binary version of your compiled code available, leading to runtime incompatibilities in calls due to an expected binary interface (e.g. a lambda definition on anonymous inner class in GameViewController) being unavailable (why I don&#39;t know).","body":"Just as a background FYI, review <a href=\"https://stackoverflow.com/questions/11388840/java-compiled-classes-contain-dollar-signs\">java compiled classes contain dollar signs</a>, to understand what <code>view.gui.GameViewController$8</code> is.  It is almost as though you don&#39;t have the correct binary version of your compiled code available, leading to runtime incompatibilities in calls due to an expected binary interface (e.g. a lambda definition on anonymous inner class in GameViewController) being unavailable (why I don&#39;t know)."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1687988421,"post_id":76562756,"comment_id":135015415,"body_markdown":"Check your build target output (or contents of the jar file you are executing).  Is there a file there named `view/gui/GameViewController$8.class`?","body":"Check your build target output (or contents of the jar file you are executing).  Is there a file there named <code>view&#47;gui&#47;GameViewController$8.class</code>?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1687988641,"post_id":76562756,"comment_id":135015445,"body_markdown":"If you use lambda syntax rather than an anonymous inner class, a dollar class won&#39;t be generated.  It may not solve your underlying issue, but it should at least result in a different error message (if you can reproduce the exact conditions which lead to the error, which might be difficult or impossible to do).  e.g. try `Platform.runLater(() -&gt; { /** your code */ });`","body":"If you use lambda syntax rather than an anonymous inner class, a dollar class won&#39;t be generated.  It may not solve your underlying issue, but it should at least result in a different error message (if you can reproduce the exact conditions which lead to the error, which might be difficult or impossible to do).  e.g. try <code>Platform.runLater(() -&gt; { &#47;** your code *&#47; });</code>"}],"owner":{"account_id":28475833,"reputation":1,"user_id":21790510,"display_name":"Ludovico Maltagliati"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687878933,"creation_date":1687852632,"question_id":76562756,"body_markdown":"I&#39;m building a javafx application, but I stumbled upon an error I can&#39;t find the solution to due to its random nature. When using the app, I sometimes run into this error at random parts of my code:\r\n\r\n```\r\nException in thread &quot;Thread-20&quot; java.lang.NoClassDefFoundError: view/gui/GameViewController$8\r\n    at view.gui.GameViewController.handleEvent(GameViewController.java:876)\r\n    at view.gui.GameViewController.lambda$initialize$0(GameViewController.java:161)\r\n    at java.base/java.lang.Thread.run(Thread.java:1589)\r\nCaused by: java.lang.ClassNotFoundException: view.gui.GameViewController$8\r\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    at java.base/jdk.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    ... 3 more\r\n```\r\n\r\nImportant to say that the number of the affected thread seems to be completely random, I just put this error log in which the Thread is number 20, but that should not be relevant to the issue. The classes in which the error occurs are the javafx controllers I use to manage the scenes of my app with. In this case the issue came from handleEvent(), a method called from a thread created in the initialize method of the controller, which is used to receive events from the server during a game and update the GUI based on the information received.\r\n\r\nHere are the code snippets cited in the error, even though the random nature of the issue makes me think it might not be important:\r\n\r\n```\r\n        serverThread = new Thread(() -&gt; {  //thread in the initialize method of the controller  \r\n            while (state != ClientStatus.Disconnected) {\r\n                synchronized (networkManager) {\r\n                    try {\r\n                        while (!networkManager.hasEvent()) {\r\n                            networkManager.wait();\r\n                        }\r\n                    } catch (InterruptedException e) {\r\n                        break;\r\n                    }\r\n                }\r\n                handleEvent(); //This is line 161\r\n            }\r\n        });\r\n        serverThread.start();\r\n```\r\n\r\n```\r\n                Platform.runLater(new Runnable() { //line 876, snippet from handleEvent method\r\n                    @Override\r\n                    public void run() {\r\n                        fillScene(gameData.getTableTop()); //lines to update gui\r\n                        fillShelf(gameData.getMyShelf());\r\n                        selectedImages.clear();\r\n                    }\r\n                });\r\n```\r\n\r\nAlso important to say that in this instance, the bug apparently happened at the Platform.runLater, but other times happened at random lines.\r\n\r\nI tried to find what would cause the issue but it&#39;s really difficult. The problem is that it seems to be completely random and happened to other classes in the project, so I have no real way to reproduce it. I only once managed to reproduce the bug following a series of certain actions using the app, but a more recent instance of this bug in a completely unrelated part of the project makes me think it&#39;s just a sleeping issue that could be anywhere and said series of actions might just make it more likely to happen than others actions.  After managing to reproduce it, I tried many times to make it fire again, but with no success.","title":"Random NoClassDefFoundError in app threads in javafx application","body":"<p>I'm building a javafx application, but I stumbled upon an error I can't find the solution to due to its random nature. When using the app, I sometimes run into this error at random parts of my code:</p>\n<pre><code>Exception in thread &quot;Thread-20&quot; java.lang.NoClassDefFoundError: view/gui/GameViewController$8\n    at view.gui.GameViewController.handleEvent(GameViewController.java:876)\n    at view.gui.GameViewController.lambda$initialize$0(GameViewController.java:161)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: java.lang.ClassNotFoundException: view.gui.GameViewController$8\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/jdk.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 3 more\n</code></pre>\n<p>Important to say that the number of the affected thread seems to be completely random, I just put this error log in which the Thread is number 20, but that should not be relevant to the issue. The classes in which the error occurs are the javafx controllers I use to manage the scenes of my app with. In this case the issue came from handleEvent(), a method called from a thread created in the initialize method of the controller, which is used to receive events from the server during a game and update the GUI based on the information received.</p>\n<p>Here are the code snippets cited in the error, even though the random nature of the issue makes me think it might not be important:</p>\n<pre><code>        serverThread = new Thread(() -&gt; {  //thread in the initialize method of the controller  \n            while (state != ClientStatus.Disconnected) {\n                synchronized (networkManager) {\n                    try {\n                        while (!networkManager.hasEvent()) {\n                            networkManager.wait();\n                        }\n                    } catch (InterruptedException e) {\n                        break;\n                    }\n                }\n                handleEvent(); //This is line 161\n            }\n        });\n        serverThread.start();\n</code></pre>\n<pre><code>                Platform.runLater(new Runnable() { //line 876, snippet from handleEvent method\n                    @Override\n                    public void run() {\n                        fillScene(gameData.getTableTop()); //lines to update gui\n                        fillShelf(gameData.getMyShelf());\n                        selectedImages.clear();\n                    }\n                });\n</code></pre>\n<p>Also important to say that in this instance, the bug apparently happened at the Platform.runLater, but other times happened at random lines.</p>\n<p>I tried to find what would cause the issue but it's really difficult. The problem is that it seems to be completely random and happened to other classes in the project, so I have no real way to reproduce it. I only once managed to reproduce the bug following a series of certain actions using the app, but a more recent instance of this bug in a completely unrelated part of the project makes me think it's just a sleeping issue that could be anywhere and said series of actions might just make it more likely to happen than others actions.  After managing to reproduce it, I tried many times to make it fire again, but with no success.</p>\n"},{"tags":["java","spring","caching","spring-el"],"comments":[{"owner":{"account_id":304772,"reputation":11223,"user_id":614482,"accept_rate":80,"display_name":"Emerson Farrugia"},"score":0,"creation_date":1338658910,"post_id":10678524,"comment_id":14153952,"body_markdown":"In http://www.infoq.com/presentations/Spring-Security-3 (at 1:04:00), Wiesner uses filterObject as a handle to the return value, but that&#39;s probably only a Spring Security handle. Worth a shot I guess.","body":"In <a href=\"http://www.infoq.com/presentations/Spring-Security-3\" rel=\"nofollow noreferrer\">infoq.com/presentations/Spring-Security-3</a> (at 1:04:00), Wiesner uses filterObject as a handle to the return value, but that&#39;s probably only a Spring Security handle. Worth a shot I guess."},{"owner":{"account_id":160808,"reputation":2328,"user_id":381140,"display_name":"Stevo Slavić"},"score":1,"creation_date":1354576814,"post_id":10678524,"comment_id":18802101,"body_markdown":"You can&#39;t, yet, see [SPR-8871](https://jira.springsource.org/browse/SPR-8871) and get involved.","body":"You can&#39;t, yet, see <a href=\"https://jira.springsource.org/browse/SPR-8871\" rel=\"nofollow noreferrer\">SPR-8871</a> and get involved."}],"answers":[{"comments":[{"owner":{"account_id":60165,"reputation":372,"user_id":179838,"accept_rate":80,"display_name":"Francisco Lozano"},"score":0,"creation_date":1340186637,"post_id":10938115,"comment_id":14564723,"body_markdown":"The T-class object returned by &quot;delete&quot; is an object like this: \nclass User {\n  UserID userID;\n  LoginName loginName;\n  EmailAddress emailAddress;\n  ...\n}.\nI have more than one cache - one by userID, other by loginName, other by emailAddress. When I remove an entry by userID, I&#39;d like to expire also entries in the other two caches... and these keys are contained in the return value, so it&#39;d be great if I could do: @CacheEvict(key=&quot;#returnValue.loginName&quot;...), @CacheEvict(key=&quot;#returnValue.emailAddress&quot;...)","body":"The T-class object returned by &quot;delete&quot; is an object like this:  class User {   UserID userID;   LoginName loginName;   EmailAddress emailAddress;   ... }. I have more than one cache - one by userID, other by loginName, other by emailAddress. When I remove an entry by userID, I&#39;d like to expire also entries in the other two caches... and these keys are contained in the return value, so it&#39;d be great if I could do: @CacheEvict(key=&quot;#returnValue.loginName&quot;...), @CacheEvict(key=&quot;#returnValue.emailAddress&quot;...)"},{"owner":{"account_id":192575,"reputation":2350,"user_id":433789,"display_name":"sdouglass"},"score":1,"creation_date":1340407969,"post_id":10938115,"comment_id":14644665,"body_markdown":"You could do that if you passed in the User object as the argument, instead of the UserID, as you could then reference the different user properties in SpEL. You&#39;d have to combine that with the \\@Caching annotation if you need to do multiple differently configured \\@CacheEvict&#39;s: \n\nhttp://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/cache.html#cache-annotations-caching","body":"You could do that if you passed in the User object as the argument, instead of the UserID, as you could then reference the different user properties in SpEL. You&#39;d have to combine that with the \\@Caching annotation if you need to do multiple differently configured \\@CacheEvict&#39;s:   <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/cache.html#cache-annotations-caching\" rel=\"nofollow noreferrer\">static.springsource.org/spring/docs/3.1.x/&hellip;</a>"},{"owner":{"account_id":192575,"reputation":2350,"user_id":433789,"display_name":"sdouglass"},"score":0,"creation_date":1340412149,"post_id":10938115,"comment_id":14645316,"body_markdown":"I edited my answer with some more example code that may better fit your situation, based on your comment.","body":"I edited my answer with some more example code that may better fit your situation, based on your comment."},{"owner":{"account_id":60165,"reputation":372,"user_id":179838,"accept_rate":80,"display_name":"Francisco Lozano"},"score":0,"creation_date":1366188570,"post_id":10938115,"comment_id":22911442,"body_markdown":"passing the whole User is not a good solution for this kind of case - but the only one I can think of from older versions. I seem to recall however that it&#39;s going to be supported in newer versions, I saw a related JIRA in Spring...","body":"passing the whole User is not a good solution for this kind of case - but the only one I can think of from older versions. I seem to recall however that it&#39;s going to be supported in newer versions, I saw a related JIRA in Spring..."}],"tags":[],"owner":{"account_id":192575,"reputation":2350,"user_id":433789,"display_name":"sdouglass"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1340412122,"creation_date":1339095386,"answer_id":10938115,"question_id":10678524,"body_markdown":"It doesn&#39;t seem like there is any way to reference the returned object:\r\n\r\nhttp://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/cache.html#cache-spel-context\r\n\r\nBut why do you need to do that? You can refer to the arguments in the @CacheEvict &quot;key&quot; value, e.g.:\r\n\r\n    @CacheEvict(value = CACHE_BY_ID, key = &quot;#userID&quot;)\r\n    public T delete(AppID appID, UserID userID) throws UserNotFoundException {\r\n    ...\r\n    }\r\n\r\nMore example code in response to response below about having to evict from multiple caches using multiple properties of a User object:\r\n\r\n    @Caching(evict = {\r\n        @CacheEvict(value = CACHE_BY_ID, key = &quot;#user.userID&quot;),\r\n        @CacheEvict(value = CACHE_BY_LOGIN_NAME, key = &quot;#user.loginName&quot;)\r\n        // etc.\r\n    })\r\n    public T delete(AppID appID, User user) throws UserNotFoundException {\r\n    ...\r\n    }\r\n\r\n","title":"Spring 3.1 cache - how to use the returned value in the SpEL","body":"<p>It doesn't seem like there is any way to reference the returned object:</p>\n\n<p><a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/cache.html#cache-spel-context\" rel=\"nofollow\">http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/cache.html#cache-spel-context</a></p>\n\n<p>But why do you need to do that? You can refer to the arguments in the @CacheEvict \"key\" value, e.g.:</p>\n\n<pre><code>@CacheEvict(value = CACHE_BY_ID, key = \"#userID\")\npublic T delete(AppID appID, UserID userID) throws UserNotFoundException {\n...\n}\n</code></pre>\n\n<p>More example code in response to response below about having to evict from multiple caches using multiple properties of a User object:</p>\n\n<pre><code>@Caching(evict = {\n    @CacheEvict(value = CACHE_BY_ID, key = \"#user.userID\"),\n    @CacheEvict(value = CACHE_BY_LOGIN_NAME, key = \"#user.loginName\")\n    // etc.\n})\npublic T delete(AppID appID, User user) throws UserNotFoundException {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":179597,"reputation":2025,"user_id":412366,"accept_rate":59,"display_name":"Matt Broekhuis"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1551807972,"creation_date":1551807972,"answer_id":55008712,"question_id":10678524,"body_markdown":"try using #result in your SpEL","title":"Spring 3.1 cache - how to use the returned value in the SpEL","body":"<p>try using #result in your SpEL</p>\n"},{"tags":[],"owner":{"account_id":16157455,"reputation":11,"user_id":11664392,"display_name":"Max O"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687878899,"creation_date":1687524715,"answer_id":76540310,"question_id":10678524,"body_markdown":"As mentioned above and according to `Table 29.1 of the Cache SpEL available metadata at ` at\r\n https://docs.spring.io/spring-framework/docs/4.0.x/spring-framework-reference/html/cache.html\r\n\r\nit is possible to use #result in &#39;unless&#39; expressions and &#39;cache evict&#39; expressions only when beforeInvocation is false.\r\n\r\nTo confirm, I have recently used #result successfully in @CacheEvict.","title":"Spring 3.1 cache - how to use the returned value in the SpEL","body":"<p>As mentioned above and according to <code>Table 29.1 of the Cache SpEL available metadata at </code> at\n<a href=\"https://docs.spring.io/spring-framework/docs/4.0.x/spring-framework-reference/html/cache.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/4.0.x/spring-framework-reference/html/cache.html</a></p>\n<p>it is possible to use #result in 'unless' expressions and 'cache evict' expressions only when beforeInvocation is false.</p>\n<p>To confirm, I have recently used #result successfully in @CacheEvict.</p>\n"}],"owner":{"account_id":60165,"reputation":372,"user_id":179838,"accept_rate":80,"display_name":"Francisco Lozano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5431,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":10938115,"answer_count":3,"score":3,"last_activity_date":1687878899,"creation_date":1337562319,"question_id":10678524,"body_markdown":"I am trying to make an eviction of an entry in a Spring-managed cache (Spring 3.1 abstraction). \r\n\r\nI need to refer to the returned value of the method in the SpEL of the &quot;key&quot; property in the annotation:\r\n\r\n    \t/* (How to refer to the &#39;T&#39; returned value in the &quot;KEY_ID&quot;?) */\r\n\t@Caching(evict = { @CacheEvict(value = CACHE_BY_ID, key = KEY_ID) })\r\n\tpublic T delete(AppID appID, UserID userID) throws UserNotFoundException {\r\n\t\treturn inner.delete(appID, userID);\r\n\t}\r\n\r\nIs there any way to do this?","title":"Spring 3.1 cache - how to use the returned value in the SpEL","body":"<p>I am trying to make an eviction of an entry in a Spring-managed cache (Spring 3.1 abstraction). </p>\n\n<p>I need to refer to the returned value of the method in the SpEL of the \"key\" property in the annotation:</p>\n\n<pre><code>    /* (How to refer to the 'T' returned value in the \"KEY_ID\"?) */\n@Caching(evict = { @CacheEvict(value = CACHE_BY_ID, key = KEY_ID) })\npublic T delete(AppID appID, UserID userID) throws UserNotFoundException {\n    return inner.delete(appID, userID);\n}\n</code></pre>\n\n<p>Is there any way to do this?</p>\n"},{"tags":["java","constructor","multiple-instances"],"comments":[{"owner":{"account_id":5356655,"reputation":5914,"user_id":4269149,"display_name":"Sarthak Mittal"},"score":1,"creation_date":1687878210,"post_id":76566222,"comment_id":134996868,"body_markdown":"remove static keyword from your name field, and also from your getName function","body":"remove static keyword from your name field, and also from your getName function"}],"answers":[{"tags":[],"owner":{"account_id":8047538,"reputation":423,"user_id":6067302,"display_name":"TomekK"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687878234,"creation_date":1687878234,"answer_id":76566240,"question_id":76566222,"body_markdown":"Your field is static, meaning that all objects you create for this class share the same value.\r\n\r\n    private static String name -&gt; private String name\r\n\r\nFor non-static fields every object has it&#39;s own value.","title":"Creating multiple instances of a constructor with different values","body":"<p>Your field is static, meaning that all objects you create for this class share the same value.</p>\n<pre><code>private static String name -&gt; private String name\n</code></pre>\n<p>For non-static fields every object has it's own value.</p>\n"}],"owner":{"account_id":28905957,"reputation":1,"user_id":22139973,"display_name":"PeytonPlayz595"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1687878514,"answer_count":1,"score":-3,"last_activity_date":1687878234,"creation_date":1687878118,"question_id":76566222,"body_markdown":"I have a class with a constructor\r\n\r\n```java\r\npublic class Test {\r\n  private static String name;\r\n\r\n  public Test(String name) {\r\n    this.name = name;\r\n  }\r\n\r\n  public static String getName() {\r\n    return this.name;\r\n  }\r\n}\r\n```\r\n\r\nHere I&#39;ve created 2 instances of the constructor and used System.out.println() to output the &quot;getName()&quot; function from both instances in the terminal\r\n\r\n```java\r\nTest test = new Test(&quot;Tom&quot;);\r\nTest test1 = new Test(&quot;Kenny&quot;);\r\n\r\nSystem.out.println(test.getName());\r\nSystem.out.println(test2.getName());\r\n```\r\n\r\noutput:\r\n```\r\nTom\r\nTom\r\n```\r\nBoth of the outputs we&#39;re &quot;Tom&quot;, how would I make it to where test.getName() outputs &quot;Tom&quot; and test2.getName() outputs &quot;Kenny\r\n\r\nI&#39;ve looked for answers on StackOverFlow, google, etc and can&#39;t find anything so help would be very much appreciated","title":"Creating multiple instances of a constructor with different values","body":"<p>I have a class with a constructor</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n  private static String name;\n\n  public Test(String name) {\n    this.name = name;\n  }\n\n  public static String getName() {\n    return this.name;\n  }\n}\n</code></pre>\n<p>Here I've created 2 instances of the constructor and used System.out.println() to output the &quot;getName()&quot; function from both instances in the terminal</p>\n<pre class=\"lang-java prettyprint-override\"><code>Test test = new Test(&quot;Tom&quot;);\nTest test1 = new Test(&quot;Kenny&quot;);\n\nSystem.out.println(test.getName());\nSystem.out.println(test2.getName());\n</code></pre>\n<p>output:</p>\n<pre><code>Tom\nTom\n</code></pre>\n<p>Both of the outputs we're &quot;Tom&quot;, how would I make it to where test.getName() outputs &quot;Tom&quot; and test2.getName() outputs &quot;Kenny</p>\n<p>I've looked for answers on StackOverFlow, google, etc and can't find anything so help would be very much appreciated</p>\n"},{"tags":["java","spring","hibernate","spring-transactions"],"comments":[{"owner":{"account_id":8047538,"reputation":423,"user_id":6067302,"display_name":"TomekK"},"score":1,"creation_date":1687877825,"post_id":76566145,"comment_id":134996796,"body_markdown":"For @Transactional method to have an effect, it needs to be called from outside of the class where you declared it.","body":"For @Transactional method to have an effect, it needs to be called from outside of the class where you declared it."},{"owner":{"account_id":881430,"reputation":290,"user_id":263597,"display_name":"gbuys"},"score":0,"creation_date":1687878188,"post_id":76566145,"comment_id":134996864,"body_markdown":"You start your first transaction at getStudent with @Transactional.  You should return from that method and then start a new Transaction from outside where you call second an third change as TomekK states","body":"You start your first transaction at getStudent with @Transactional.  You should return from that method and then start a new Transaction from outside where you call second an third change as TomekK states"},{"owner":{"account_id":12219091,"reputation":141,"user_id":8918627,"display_name":"Amit Chaudhary"},"score":0,"creation_date":1687879231,"post_id":76566145,"comment_id":134997091,"body_markdown":"Thanks @TomekK, it worked when secondChange() is called from out side of class. One more thing, I was asked this question in interview that there are 3 methods  a(), b(), c(). a() calls b() then b() calls c() i.e. a()-&gt;b()-&gt;c(). Some exception happens in b() and I needed to figure out a way to rollback transaction in b() and c() but changes in a() should be persisted. Not sure how could I have answered that?","body":"Thanks @TomekK, it worked when secondChange() is called from out side of class. One more thing, I was asked this question in interview that there are 3 methods  a(), b(), c(). a() calls b() then b() calls c() i.e. a()-&gt;b()-&gt;c(). Some exception happens in b() and I needed to figure out a way to rollback transaction in b() and c() but changes in a() should be persisted. Not sure how could I have answered that?"},{"owner":{"account_id":8047538,"reputation":423,"user_id":6067302,"display_name":"TomekK"},"score":1,"creation_date":1687879790,"post_id":76566145,"comment_id":134997216,"body_markdown":"@AmitChaudhary It&#39;s hard to say without knowing full requirements. You could for example surround method calls in try...catch.","body":"@AmitChaudhary It&#39;s hard to say without knowing full requirements. You could for example surround method calls in try...catch."}],"owner":{"account_id":12219091,"reputation":141,"user_id":8918627,"display_name":"Amit Chaudhary"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687877662,"creation_date":1687877662,"question_id":76566145,"body_markdown":"I am trying to understand `@Transactional` annotation in spring. I have created following program for testing-\r\n```\r\nimport com.transactiondemo.transactiondemo.model.Student;\r\nimport com.transactiondemo.transactiondemo.repo.StudentRepo;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Propagation;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\n@Service\r\npublic class StudentService {\r\n\r\n    @Autowired\r\n    private StudentRepo studentRepo;\r\n\r\n    @Transactional\r\n    public Student getStudent(String name){\r\n        Student student = studentRepo.findByName(name);\r\n        student.setSubject(&quot;first change done&quot;);\r\n        studentRepo.save(student);\r\n        try{\r\n            secondChange(name);\r\n        }\r\n        catch (Exception e){\r\n            System.out.println(&quot;***********caught&quot;);\r\n        }\r\n        return student;\r\n    }\r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW, rollbackFor = Exception.class)\r\n    public void secondChange(String name) {\r\n        Student student = studentRepo.findByName(name);\r\n        student.setSubject(&quot;second change done&quot;);\r\n        thirdChange(name);\r\n        throw new RuntimeException();\r\n    }\r\n\r\n    private void thirdChange(String name) {\r\n        Student student = studentRepo.findByName(name);\r\n        student.setSubject(&quot;third change done&quot;);\r\n    }\r\n}\r\n\r\n```\r\n```\r\n@ResponseStatus\r\npublic interface StudentRepo extends JpaRepository&lt;Student,Integer&gt; {\r\n    Student findByName(String name);\r\n}\r\n```\r\nHere is how I am loading data in Student table at application startup-\r\n\r\n```\r\n@Bean\r\nCommandLineRunner loadData(StudentRepo studentRepo){\r\n\treturn args -&gt; {\r\n\t\tStudent s=new Student();\r\n\t\ts.setName(&quot;ram&quot;);\r\n\t\ts.setSubject(&quot;initial value&quot;);\r\n\t\tstudentRepo.save(s);\r\n\t};\r\n}\r\n```\r\n\r\nI am calling `studentService.getStudent(&quot;ram&quot;)` from my controller class. How do I make sure that database changes done in `studentService.getStudent()` method are persisted into database even if next called method i.e. `secondChange` from this method throws any exception? **Basically I want changes done in `secondChange()` and `thirdChange()` methods to be rolled-back but not for `getStudent()` method**. I have added `@Transactional(propagation = Propagation.REQUIRES_NEW, rollbackFor = Exception.class)` on top of `secondChange()` method but this does not work. When I check in database the value for `SUBJECT` column is equal to `third change done` but I want it to be `first change done` even in case of failures.\r\n","title":"Spring Transaction Propagation - Rollback for specific Transaction","body":"<p>I am trying to understand <code>@Transactional</code> annotation in spring. I have created following program for testing-</p>\n<pre><code>import com.transactiondemo.transactiondemo.model.Student;\nimport com.transactiondemo.transactiondemo.repo.StudentRepo;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Propagation;\nimport org.springframework.transaction.annotation.Transactional;\n\n@Service\npublic class StudentService {\n\n    @Autowired\n    private StudentRepo studentRepo;\n\n    @Transactional\n    public Student getStudent(String name){\n        Student student = studentRepo.findByName(name);\n        student.setSubject(&quot;first change done&quot;);\n        studentRepo.save(student);\n        try{\n            secondChange(name);\n        }\n        catch (Exception e){\n            System.out.println(&quot;***********caught&quot;);\n        }\n        return student;\n    }\n\n    @Transactional(propagation = Propagation.REQUIRES_NEW, rollbackFor = Exception.class)\n    public void secondChange(String name) {\n        Student student = studentRepo.findByName(name);\n        student.setSubject(&quot;second change done&quot;);\n        thirdChange(name);\n        throw new RuntimeException();\n    }\n\n    private void thirdChange(String name) {\n        Student student = studentRepo.findByName(name);\n        student.setSubject(&quot;third change done&quot;);\n    }\n}\n\n</code></pre>\n<pre><code>@ResponseStatus\npublic interface StudentRepo extends JpaRepository&lt;Student,Integer&gt; {\n    Student findByName(String name);\n}\n</code></pre>\n<p>Here is how I am loading data in Student table at application startup-</p>\n<pre><code>@Bean\nCommandLineRunner loadData(StudentRepo studentRepo){\n    return args -&gt; {\n        Student s=new Student();\n        s.setName(&quot;ram&quot;);\n        s.setSubject(&quot;initial value&quot;);\n        studentRepo.save(s);\n    };\n}\n</code></pre>\n<p>I am calling <code>studentService.getStudent(&quot;ram&quot;)</code> from my controller class. How do I make sure that database changes done in <code>studentService.getStudent()</code> method are persisted into database even if next called method i.e. <code>secondChange</code> from this method throws any exception? <strong>Basically I want changes done in <code>secondChange()</code> and <code>thirdChange()</code> methods to be rolled-back but not for <code>getStudent()</code> method</strong>. I have added <code>@Transactional(propagation = Propagation.REQUIRES_NEW, rollbackFor = Exception.class)</code> on top of <code>secondChange()</code> method but this does not work. When I check in database the value for <code>SUBJECT</code> column is equal to <code>third change done</code> but I want it to be <code>first change done</code> even in case of failures.</p>\n"},{"tags":["java","java-8","future"],"answers":[{"comments":[{"owner":{"account_id":41226,"reputation":18874,"user_id":119768,"accept_rate":83,"display_name":"Dan Midwood"},"score":1,"creation_date":1398457463,"post_id":23302308,"comment_id":35672818,"body_markdown":"Ha, that&#39;s exactly what I wrote before thinking that there must be a better way. But, I guess not","body":"Ha, that&#39;s exactly what I wrote before thinking that there must be a better way. But, I guess not"},{"owner":{"account_id":1831014,"reputation":1670,"user_id":1662412,"accept_rate":75,"display_name":"Peti"},"score":15,"creation_date":1449148581,"post_id":23302308,"comment_id":55886965,"body_markdown":"Hmmm... doesn&#39;t this solution eat one of the threads of the &quot;common pool&quot;, just for waiting? Those &quot;common pool&quot; threads should never block... hmmmm...","body":"Hmmm... doesn&#39;t this solution eat one of the threads of the &quot;common pool&quot;, just for waiting? Those &quot;common pool&quot; threads should never block... hmmmm..."},{"owner":{"account_id":1370027,"reputation":49130,"user_id":1305501,"accept_rate":77,"display_name":"nosid"},"score":1,"creation_date":1449188697,"post_id":23302308,"comment_id":55911018,"body_markdown":"@Peti: You are right. However, the point is, if you are most likely doing something wrong, regardless whether you are using the _common pool_ or an _unbounded thread pool_.","body":"@Peti: You are right. However, the point is, if you are most likely doing something wrong, regardless whether you are using the <i>common pool</i> or an <i>unbounded thread pool</i>."},{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":4,"creation_date":1485537726,"post_id":23302308,"comment_id":70981455,"body_markdown":"It might not be perfect, but using `CompletableFuture.supplyAsync(supplier, new SinglethreadExecutor())` would at least not block the common pool threads.","body":"It might not be perfect, but using <code>CompletableFuture.supplyAsync(supplier, new SinglethreadExecutor())</code> would at least not block the common pool threads."},{"owner":{"account_id":370181,"reputation":2276,"user_id":717968,"accept_rate":65,"display_name":"battmanz"},"score":0,"creation_date":1523394961,"post_id":23302308,"comment_id":86541496,"body_markdown":"Sorry for my ignorance, but I&#39;m not familiar with the &quot;common pool&quot;. Why is this approach bad? Are you saying that `future.get` should never be called?","body":"Sorry for my ignorance, but I&#39;m not familiar with the &quot;common pool&quot;. Why is this approach bad? Are you saying that <code>future.get</code> should never be called?"},{"owner":{"account_id":356654,"reputation":1469,"user_id":696291,"display_name":"Laymain"},"score":8,"creation_date":1533036472,"post_id":23302308,"comment_id":90189260,"body_markdown":"Please, just never do that","body":"Please, just never do that"},{"owner":{"account_id":1920098,"reputation":1544,"user_id":1731824,"display_name":"lucasls"},"score":0,"creation_date":1536190691,"post_id":23302308,"comment_id":91338933,"body_markdown":"The common pool is a thread pool with a small amount of threads (usually 1 per processor core) and it&#39;s one pool shared with the whole JVM, and it&#39;s meant for non-blocking operations. `CompletableFuture.supplyAsync()` runs in the common pool unless a different `ExecutorService` is passed as a parameter and `future.get()` is a blocking operation. So you should never do this.","body":"The common pool is a thread pool with a small amount of threads (usually 1 per processor core) and it&#39;s one pool shared with the whole JVM, and it&#39;s meant for non-blocking operations. <code>CompletableFuture.supplyAsync()</code> runs in the common pool unless a different <code>ExecutorService</code> is passed as a parameter and <code>future.get()</code> is a blocking operation. So you should never do this."},{"owner":{"account_id":326925,"reputation":14868,"user_id":648955,"accept_rate":62,"display_name":"leventov"},"score":2,"creation_date":1572428442,"post_id":23302308,"comment_id":103552891,"body_markdown":"@MikeFHay I think employing `FJP.ManagedBlocker` will result in better utilization than `CompletableFuture.supplyAsync(supplier, t -&gt; newSingleThreadExecutor())`. I&#39;ve updated the code in the answer to reflect that.","body":"@MikeFHay I think employing <code>FJP.ManagedBlocker</code> will result in better utilization than <code>CompletableFuture.supplyAsync(supplier, t -&gt; newSingleThreadExecutor())</code>. I&#39;ve updated the code in the answer to reflect that."}],"tags":[],"owner":{"account_id":1370027,"reputation":49130,"user_id":1305501,"accept_rate":77,"display_name":"nosid"},"comment_count":8,"down_vote_count":7,"up_vote_count":69,"is_accepted":true,"score":62,"last_activity_date":1572428283,"creation_date":1398457254,"answer_id":23302308,"question_id":23301598,"body_markdown":"There is a way, but you won&#39;t like it. The following method transforms a `Future&lt;T&gt;` into a `CompletableFuture&lt;T&gt;`:\r\n\r\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; makeCompletableFuture(Future&lt;T&gt; future) {\r\n      if (future.isDone())\r\n        return transformDoneFuture(future);\r\n      return CompletableFuture.supplyAsync(() -&gt; {\r\n        try {\r\n          if (!future.isDone())\r\n            awaitFutureIsDoneInForkJoinPool(future);\r\n          return future.get();\r\n        } catch (ExecutionException e) {\r\n          throw new RuntimeException(e);\r\n        } catch (InterruptedException e) {\r\n          // Normally, this should never happen inside ForkJoinPool\r\n          Thread.currentThread().interrupt();\r\n          // Add the following statement if the future doesn&#39;t have side effects\r\n          // future.cancel(true);\r\n          throw new RuntimeException(e);\r\n        }\r\n      });\r\n    }\r\n\r\n    private static &lt;T&gt; CompletableFuture&lt;T&gt; transformDoneFuture(Future&lt;T&gt; future) {\r\n      CompletableFuture&lt;T&gt; cf = new CompletableFuture&lt;&gt;();\r\n      T result;\r\n      try {\r\n        result = future.get();\r\n      } catch (Throwable ex) {\r\n        cf.completeExceptionally(ex);\r\n        return cf;\r\n      }\r\n      cf.complete(result);\r\n      return cf;\r\n    }\r\n    \r\n    private static void awaitFutureIsDoneInForkJoinPool(Future&lt;?&gt; future)\r\n        throws InterruptedException {\r\n      ForkJoinPool.managedBlock(new ForkJoinPool.ManagedBlocker() {\r\n        @Override public boolean block() throws InterruptedException {\r\n          try {\r\n            future.get();\r\n          } catch (ExecutionException e) {\r\n            throw new RuntimeException(e);\r\n          }\r\n          return true;\r\n        }\r\n        @Override public boolean isReleasable() {\r\n          return future.isDone();\r\n        }\r\n      });\r\n    }\r\n\r\nObviously, the problem with this approach is, that for each _Future_, a thread will be blocked to wait for the result of the _Future_--contradicting the idea of futures. In some cases, it might be possible to do better. However, in general, there is no solution without actively wait for the result of the _Future_.","title":"Transform Java Future into a CompletableFuture","body":"<p>There is a way, but you won't like it. The following method transforms a <code>Future&lt;T&gt;</code> into a <code>CompletableFuture&lt;T&gt;</code>:</p>\n\n<pre><code>public static &lt;T&gt; CompletableFuture&lt;T&gt; makeCompletableFuture(Future&lt;T&gt; future) {\n  if (future.isDone())\n    return transformDoneFuture(future);\n  return CompletableFuture.supplyAsync(() -&gt; {\n    try {\n      if (!future.isDone())\n        awaitFutureIsDoneInForkJoinPool(future);\n      return future.get();\n    } catch (ExecutionException e) {\n      throw new RuntimeException(e);\n    } catch (InterruptedException e) {\n      // Normally, this should never happen inside ForkJoinPool\n      Thread.currentThread().interrupt();\n      // Add the following statement if the future doesn't have side effects\n      // future.cancel(true);\n      throw new RuntimeException(e);\n    }\n  });\n}\n\nprivate static &lt;T&gt; CompletableFuture&lt;T&gt; transformDoneFuture(Future&lt;T&gt; future) {\n  CompletableFuture&lt;T&gt; cf = new CompletableFuture&lt;&gt;();\n  T result;\n  try {\n    result = future.get();\n  } catch (Throwable ex) {\n    cf.completeExceptionally(ex);\n    return cf;\n  }\n  cf.complete(result);\n  return cf;\n}\n\nprivate static void awaitFutureIsDoneInForkJoinPool(Future&lt;?&gt; future)\n    throws InterruptedException {\n  ForkJoinPool.managedBlock(new ForkJoinPool.ManagedBlocker() {\n    @Override public boolean block() throws InterruptedException {\n      try {\n        future.get();\n      } catch (ExecutionException e) {\n        throw new RuntimeException(e);\n      }\n      return true;\n    }\n    @Override public boolean isReleasable() {\n      return future.isDone();\n    }\n  });\n}\n</code></pre>\n\n<p>Obviously, the problem with this approach is, that for each <em>Future</em>, a thread will be blocked to wait for the result of the <em>Future</em>--contradicting the idea of futures. In some cases, it might be possible to do better. However, in general, there is no solution without actively wait for the result of the <em>Future</em>.</p>\n"},{"comments":[{"owner":{"account_id":385007,"reputation":572,"user_id":741882,"accept_rate":60,"display_name":"Abhishek Gayakwad"},"score":1,"creation_date":1503429013,"post_id":28454743,"comment_id":78608690,"body_markdown":"I am using Apache Http async library which accepts FutureCallback. It made my life easy :)","body":"I am using Apache Http async library which accepts FutureCallback. It made my life easy :)"}],"tags":[],"owner":{"account_id":183320,"reputation":1243,"user_id":418615,"accept_rate":20,"display_name":"Kafkaesque"},"comment_count":1,"down_vote_count":0,"up_vote_count":73,"is_accepted":false,"score":73,"last_activity_date":1423658768,"creation_date":1423658768,"answer_id":28454743,"question_id":23301598,"body_markdown":"If the library you want to use also offers a callback style method in addition to the Future style, you can provide it a handler that completes the CompletableFuture without any extra thread blocking. Like so:\r\n\r\n\t\tAsynchronousFileChannel open = AsynchronousFileChannel.open(Paths.get(&quot;/some/file&quot;));\r\n\t\t// ... \r\n\t\tCompletableFuture&lt;ByteBuffer&gt; completableFuture = new CompletableFuture&lt;ByteBuffer&gt;();\r\n\t\topen.read(buffer, position, null, new CompletionHandler&lt;Integer, Void&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic void completed(Integer result, Void attachment) {\r\n\t\t\t\tcompletableFuture.complete(buffer);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void failed(Throwable exc, Void attachment) {\r\n\t\t\t\tcompletableFuture.completeExceptionally(exc);\r\n\t\t\t}\r\n\t\t});\r\n\t\tcompletableFuture.thenApply(...)\r\n\r\nWithout the callback the only other way I see solving this is to use a polling loop that puts all your `Future.isDone()` checks on a single thread and then invoking complete whenever a Future is gettable.","title":"Transform Java Future into a CompletableFuture","body":"<p>If the library you want to use also offers a callback style method in addition to the Future style, you can provide it a handler that completes the CompletableFuture without any extra thread blocking. Like so:</p>\n\n<pre><code>    AsynchronousFileChannel open = AsynchronousFileChannel.open(Paths.get(\"/some/file\"));\n    // ... \n    CompletableFuture&lt;ByteBuffer&gt; completableFuture = new CompletableFuture&lt;ByteBuffer&gt;();\n    open.read(buffer, position, null, new CompletionHandler&lt;Integer, Void&gt;() {\n        @Override\n        public void completed(Integer result, Void attachment) {\n            completableFuture.complete(buffer);\n        }\n\n        @Override\n        public void failed(Throwable exc, Void attachment) {\n            completableFuture.completeExceptionally(exc);\n        }\n    });\n    completableFuture.thenApply(...)\n</code></pre>\n\n<p>Without the callback the only other way I see solving this is to use a polling loop that puts all your <code>Future.isDone()</code> checks on a single thread and then invoking complete whenever a Future is gettable.</p>\n"},{"comments":[{"owner":{"account_id":7334204,"reputation":199,"user_id":5586158,"display_name":"Valery Silaev"},"score":2,"creation_date":1500932307,"post_id":37324409,"comment_id":77543445,"body_markdown":"Small update: code is moved to separate project, https://github.com/vsilaev/tascalate-concurrent, and now it&#39;s possible to use out-of-the-way box Executor-s from java.util.concurrent.","body":"Small update: code is moved to separate project, <a href=\"https://github.com/vsilaev/tascalate-concurrent\" rel=\"nofollow noreferrer\">github.com/vsilaev/tascalate-concurrent</a>, and now it&#39;s possible to use out-of-the-way box Executor-s from java.util.concurrent."}],"tags":[],"owner":{"account_id":7334204,"reputation":199,"user_id":5586158,"display_name":"Valery Silaev"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1605138842,"creation_date":1463663886,"answer_id":37324409,"question_id":23301598,"body_markdown":"Let me suggest another (hopefully, better) option:\r\nhttps://github.com/vsilaev/java-async-await/tree/master/com.farata.lang.async.examples/src/main/java/com/farata/concurrent\r\n\r\nBriefly, the idea is the following:\r\n\r\n 1. Introduce `CompletableTask&lt;V&gt;` interface -- the union of the\r\n`CompletionStage&lt;V&gt;` + `RunnableFuture&lt;V&gt;`\r\n 2. Warp `ExecutorService` to return `CompletableTask` from `submit(...)` methods (instead of `Future&lt;V&gt;`)\r\n 3. Done, we have runnable AND composable Futures.\r\n\r\nImplementation uses an alternative CompletionStage implementation (pay attention, [CompletionStage](https://github.com/lukas-krecan/completion-stage) rather than CompletableFuture):\r\n\r\n\r\nUsage:\r\n\r\n    J8ExecutorService exec = J8Executors.newCachedThreadPool();\r\n    CompletionStage&lt;String&gt; = exec\r\n       .submit( someCallableA )\r\n       .thenCombineAsync( exec.submit(someCallableB), (a, b) -&gt; a + &quot; &quot; + b)\r\n       .thenCombine( exec.submit(someCallableC), (ab, b) -&gt; ab + &quot; &quot; + c); ","title":"Transform Java Future into a CompletableFuture","body":"<p>Let me suggest another (hopefully, better) option:\n<a href=\"https://github.com/vsilaev/java-async-await/tree/master/com.farata.lang.async.examples/src/main/java/com/farata/concurrent\" rel=\"nofollow noreferrer\">https://github.com/vsilaev/java-async-await/tree/master/com.farata.lang.async.examples/src/main/java/com/farata/concurrent</a></p>\n<p>Briefly, the idea is the following:</p>\n<ol>\n<li>Introduce <code>CompletableTask&lt;V&gt;</code> interface -- the union of the\n<code>CompletionStage&lt;V&gt;</code> + <code>RunnableFuture&lt;V&gt;</code></li>\n<li>Warp <code>ExecutorService</code> to return <code>CompletableTask</code> from <code>submit(...)</code> methods (instead of <code>Future&lt;V&gt;</code>)</li>\n<li>Done, we have runnable AND composable Futures.</li>\n</ol>\n<p>Implementation uses an alternative CompletionStage implementation (pay attention, <a href=\"https://github.com/lukas-krecan/completion-stage\" rel=\"nofollow noreferrer\">CompletionStage</a> rather than CompletableFuture):</p>\n<p>Usage:</p>\n<pre><code>J8ExecutorService exec = J8Executors.newCachedThreadPool();\nCompletionStage&lt;String&gt; = exec\n   .submit( someCallableA )\n   .thenCombineAsync( exec.submit(someCallableB), (a, b) -&gt; a + &quot; &quot; + b)\n   .thenCombine( exec.submit(someCallableC), (ab, b) -&gt; ab + &quot; &quot; + c); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":2374256,"reputation":423,"user_id":2557517,"display_name":"Kira"},"score":1,"creation_date":1521539363,"post_id":39239063,"comment_id":85762514,"body_markdown":"This looks interesting. Is it using a timer thread ? How come this is not the accepted answer ?","body":"This looks interesting. Is it using a timer thread ? How come this is not the accepted answer ?"},{"owner":{"account_id":249267,"reputation":5487,"user_id":525203,"accept_rate":86,"display_name":"Dmitry Spikhalskiy"},"score":1,"creation_date":1521583293,"post_id":39239063,"comment_id":85791314,"body_markdown":"@Kira Yeah, it basically uses one timer thread to wait on all submitted futures.","body":"@Kira Yeah, it basically uses one timer thread to wait on all submitted futures."}],"tags":[],"owner":{"account_id":249267,"reputation":5487,"user_id":525203,"accept_rate":86,"display_name":"Dmitry Spikhalskiy"},"comment_count":2,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1662578717,"creation_date":1472603967,"answer_id":39239063,"question_id":23301598,"body_markdown":"I published a little [futurity][1] project that tries to do better than [the straightforward way][2] in the answer.\r\n\r\nThe main idea is to use only one thread (and of course with not just a spin loop) to check all Futures states inside, which helps to avoid blocking a thread from a pool for each Future -&gt; CompletableFuture transformation.\r\n\r\nUsage example:\r\n\r\n    Future oldFuture = ...;\r\n    CompletableFuture profit = Futurity.shift(oldFuture);\r\n\r\n\r\n  [1]: https://github.com/Spikhalskiy/futurity\r\n  [2]: https://stackoverflow.com/a/23302308/525203","title":"Transform Java Future into a CompletableFuture","body":"<p>I published a little <a href=\"https://github.com/Spikhalskiy/futurity\" rel=\"nofollow noreferrer\">futurity</a> project that tries to do better than <a href=\"https://stackoverflow.com/a/23302308/525203\">the straightforward way</a> in the answer.</p>\n<p>The main idea is to use only one thread (and of course with not just a spin loop) to check all Futures states inside, which helps to avoid blocking a thread from a pool for each Future -&gt; CompletableFuture transformation.</p>\n<p>Usage example:</p>\n<pre><code>Future oldFuture = ...;\nCompletableFuture profit = Futurity.shift(oldFuture);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":556695,"reputation":3222,"user_id":918858,"accept_rate":86,"display_name":"Dexter Legaspi"},"score":1,"creation_date":1555156269,"post_id":50034584,"comment_id":98017004,"body_markdown":"this is quite simple to reason about &amp; elegant &amp; fits most use cases. I would make the `CompletablePromiseContext ` not-static and take param for the check interval (which is set to 1 ms here) then overload the `CompletablePromise&lt;V&gt;` constructor to be able to provide your own `CompletablePromiseContext` with a possibly different (longer) check interval for long-running `Future&lt;V&gt;` where you don&#39;t have to absolutely be able to run callback (or compose) immediately upon finishing, and you can also have an instance of `CompletablePromiseContext` to watch a set of `Future` (in case you have many)","body":"this is quite simple to reason about &amp; elegant &amp; fits most use cases. I would make the <code>CompletablePromiseContext </code> not-static and take param for the check interval (which is set to 1 ms here) then overload the <code>CompletablePromise&lt;V&gt;</code> constructor to be able to provide your own <code>CompletablePromiseContext</code> with a possibly different (longer) check interval for long-running <code>Future&lt;V&gt;</code> where you don&#39;t have to absolutely be able to run callback (or compose) immediately upon finishing, and you can also have an instance of <code>CompletablePromiseContext</code> to watch a set of <code>Future</code> (in case you have many)"}],"tags":[],"owner":{"account_id":2713039,"reputation":350,"user_id":2341005,"display_name":"Gabriel Francisco"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1687877570,"creation_date":1524714948,"answer_id":50034584,"question_id":23301598,"body_markdown":"Suggestion:\r\n\r\nhttps://gabfssilva.github.io/old-java-future-to-completable-future/\r\n\r\nBut, basically:\r\n\r\n    public class CompletablePromiseContext {\r\n        private static final ScheduledExecutorService SERVICE = Executors.newSingleThreadScheduledExecutor();\r\n    \r\n        public static void schedule(Runnable r) {\r\n            SERVICE.schedule(r, 1, TimeUnit.MILLISECONDS);\r\n        }\r\n    }\r\n\r\nAnd, the CompletablePromise:\r\n\r\n    public class CompletablePromise&lt;V&gt; extends CompletableFuture&lt;V&gt; {\r\n        private Future&lt;V&gt; future;\r\n    \r\n        public CompletablePromise(Future&lt;V&gt; future) {\r\n            this.future = future;\r\n            CompletablePromiseContext.schedule(this::tryToComplete);\r\n        }\r\n    \r\n        private void tryToComplete() {\r\n            if (future.isDone()) {\r\n                try {\r\n                    complete(future.get());\r\n                } catch (InterruptedException e) {\r\n                    completeExceptionally(e);\r\n                } catch (ExecutionException e) {\r\n                    completeExceptionally(e.getCause());\r\n                }\r\n                return;\r\n            }\r\n    \r\n            if (future.isCancelled()) {\r\n                cancel(true);\r\n                return;\r\n            }\r\n    \r\n            CompletablePromiseContext.schedule(this::tryToComplete);\r\n        }\r\n    }\r\n\r\nExample:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            final ExecutorService service = Executors.newSingleThreadExecutor();\r\n            final Future&lt;String&gt; stringFuture = service.submit(() -&gt; &quot;success&quot;);\r\n            final CompletableFuture&lt;String&gt; completableFuture = new CompletablePromise&lt;&gt;(stringFuture);\r\n    \r\n            completableFuture.whenComplete((result, failure) -&gt; {\r\n                System.out.println(result);\r\n            });\r\n        }\r\n    }","title":"Transform Java Future into a CompletableFuture","body":"<p>Suggestion:</p>\n<p><a href=\"https://gabfssilva.github.io/old-java-future-to-completable-future/\" rel=\"nofollow noreferrer\">https://gabfssilva.github.io/old-java-future-to-completable-future/</a></p>\n<p>But, basically:</p>\n<pre><code>public class CompletablePromiseContext {\n    private static final ScheduledExecutorService SERVICE = Executors.newSingleThreadScheduledExecutor();\n\n    public static void schedule(Runnable r) {\n        SERVICE.schedule(r, 1, TimeUnit.MILLISECONDS);\n    }\n}\n</code></pre>\n<p>And, the CompletablePromise:</p>\n<pre><code>public class CompletablePromise&lt;V&gt; extends CompletableFuture&lt;V&gt; {\n    private Future&lt;V&gt; future;\n\n    public CompletablePromise(Future&lt;V&gt; future) {\n        this.future = future;\n        CompletablePromiseContext.schedule(this::tryToComplete);\n    }\n\n    private void tryToComplete() {\n        if (future.isDone()) {\n            try {\n                complete(future.get());\n            } catch (InterruptedException e) {\n                completeExceptionally(e);\n            } catch (ExecutionException e) {\n                completeExceptionally(e.getCause());\n            }\n            return;\n        }\n\n        if (future.isCancelled()) {\n            cancel(true);\n            return;\n        }\n\n        CompletablePromiseContext.schedule(this::tryToComplete);\n    }\n}\n</code></pre>\n<p>Example:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        final ExecutorService service = Executors.newSingleThreadExecutor();\n        final Future&lt;String&gt; stringFuture = service.submit(() -&gt; &quot;success&quot;);\n        final CompletableFuture&lt;String&gt; completableFuture = new CompletablePromise&lt;&gt;(stringFuture);\n\n        completableFuture.whenComplete((result, failure) -&gt; {\n            System.out.println(result);\n        });\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4394697,"reputation":2475,"user_id":3582140,"display_name":"Sam Mefford"},"score":2,"creation_date":1588113513,"post_id":61117435,"comment_id":108775039,"body_markdown":"Or, if you&#39;re using Callable&lt;T&gt; rather than Runnable, instead try supplyAsync: ```CompletableFuture&lt;T&gt; future = CompletableFuture.supplyAsync(myCallable, myExecutor);```","body":"Or, if you&#39;re using Callable&lt;T&gt; rather than Runnable, instead try supplyAsync: <code>CompletableFuture&lt;T&gt; future = CompletableFuture.supplyAsync(myCallable, myExecutor);</code>"},{"owner":{"account_id":1322512,"reputation":18477,"user_id":1268003,"accept_rate":82,"display_name":"Martin Andersson"},"score":1,"creation_date":1596716819,"post_id":61117435,"comment_id":111904250,"body_markdown":"`supplyAsync` receives a `Supplier`. The code will not compile if you attempt to pass in a `Callable`.","body":"<code>supplyAsync</code> receives a <code>Supplier</code>. The code will not compile if you attempt to pass in a <code>Callable</code>."},{"owner":{"account_id":2513760,"reputation":840,"user_id":2185612,"accept_rate":33,"display_name":"WeGa"},"score":1,"creation_date":1619678016,"post_id":61117435,"comment_id":118978227,"body_markdown":"You can also implement exception handling with java.util.concurrent.CompletableFuture#handle, chained right after CompletableFuture: CompletableFuture.supplyAsync(...).handle((response, throwable) -&gt; ...)","body":"You can also implement exception handling with java.util.concurrent.CompletableFuture#handle, chained right after CompletableFuture: CompletableFuture.supplyAsync(...).handle((response, throwable) -&gt; ...)"}],"tags":[],"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"comment_count":3,"down_vote_count":1,"up_vote_count":70,"is_accepted":false,"score":69,"last_activity_date":1652863888,"creation_date":1586422668,"answer_id":61117435,"question_id":23301598,"body_markdown":"If your `Future` is the result of a call to an [`ExecutorService`][1] method (e.g. `submit()`), the easiest would be to use the [`CompletableFuture.runAsync(Runnable, Executor)`][2] method instead.\r\n\r\nFrom\r\n\r\n    Runnbale myTask = ... ;\r\n    Future&lt;?&gt; future = myExecutor.submit(myTask);\r\n\r\nto\r\n\r\n    Runnbale myTask = ... ;\r\n    CompletableFuture&lt;?&gt; future = CompletableFuture.runAsync(myTask, myExecutor);\r\n\r\nThe `CompletableFuture` is then created &quot;natively&quot;.\r\n\r\nEDIT: Pursuing comments by @SamMefford corrected by @MartinAndersson, if you want to pass a `Callable`, you need to call [`supplyAsync()`][3], converting the `Callable&lt;T&gt;` into a `Supplier&lt;T&gt;`, e.g. with:\r\n\r\n```\r\nCompletableFuture.supplyAsync(() -&gt; {\r\n    try { return myCallable.call(); }\r\n    catch (Exception ex) { throw new CompletionException(ex); } // Or return default value\r\n}, myExecutor);\r\n```\r\n\r\nBecause `T Callable.call() throws Exception;` throws an exception and `T Supplier.get();` doesn&#39;t, you have to catch the exception so prototypes are compatible.\r\n\r\nA note on exception handling\r\n---\r\n\r\nThe `get()` method doesn&#39;t specify a `throws`, which means it should not throw a *checked* exception. However, *unchecked* exception can be used. The code in `CompletableFuture` shows that `CompletionException` is used and is unchecked (i.e. is a `RuntimeException`), hence the catch/throw wrapping any exception into a `CompletionException`.\r\n\r\nAlso, as @WeGa indicated, you can use the [`handle()`][4] method to deal with exceptions potentially being thrown by the result:\r\n\r\n```\r\nCompletableFuture&lt;T&gt; future = CompletableFuture.supplyAsync(...);\r\nfuture.handle((ex,res) -&gt; {\r\n        if (ex != null) {\r\n            // An exception occurred ...\r\n        } else {\r\n            // No exception was thrown, &#39;res&#39; is valid and can be handled here\r\n        }\r\n    });\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#runAsync-java.lang.Runnable-java.util.concurrent.Executor-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#supplyAsync-java.util.function.Supplier-java.util.concurrent.Executor-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#handle-java.util.function.BiFunction-","title":"Transform Java Future into a CompletableFuture","body":"<p>If your <code>Future</code> is the result of a call to an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"noreferrer\"><code>ExecutorService</code></a> method (e.g. <code>submit()</code>), the easiest would be to use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#runAsync-java.lang.Runnable-java.util.concurrent.Executor-\" rel=\"noreferrer\"><code>CompletableFuture.runAsync(Runnable, Executor)</code></a> method instead.</p>\n<p>From</p>\n<pre><code>Runnbale myTask = ... ;\nFuture&lt;?&gt; future = myExecutor.submit(myTask);\n</code></pre>\n<p>to</p>\n<pre><code>Runnbale myTask = ... ;\nCompletableFuture&lt;?&gt; future = CompletableFuture.runAsync(myTask, myExecutor);\n</code></pre>\n<p>The <code>CompletableFuture</code> is then created &quot;natively&quot;.</p>\n<p>EDIT: Pursuing comments by @SamMefford corrected by @MartinAndersson, if you want to pass a <code>Callable</code>, you need to call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#supplyAsync-java.util.function.Supplier-java.util.concurrent.Executor-\" rel=\"noreferrer\"><code>supplyAsync()</code></a>, converting the <code>Callable&lt;T&gt;</code> into a <code>Supplier&lt;T&gt;</code>, e.g. with:</p>\n<pre><code>CompletableFuture.supplyAsync(() -&gt; {\n    try { return myCallable.call(); }\n    catch (Exception ex) { throw new CompletionException(ex); } // Or return default value\n}, myExecutor);\n</code></pre>\n<p>Because <code>T Callable.call() throws Exception;</code> throws an exception and <code>T Supplier.get();</code> doesn't, you have to catch the exception so prototypes are compatible.</p>\n<h2>A note on exception handling</h2>\n<p>The <code>get()</code> method doesn't specify a <code>throws</code>, which means it should not throw a <em>checked</em> exception. However, <em>unchecked</em> exception can be used. The code in <code>CompletableFuture</code> shows that <code>CompletionException</code> is used and is unchecked (i.e. is a <code>RuntimeException</code>), hence the catch/throw wrapping any exception into a <code>CompletionException</code>.</p>\n<p>Also, as @WeGa indicated, you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#handle-java.util.function.BiFunction-\" rel=\"noreferrer\"><code>handle()</code></a> method to deal with exceptions potentially being thrown by the result:</p>\n<pre><code>CompletableFuture&lt;T&gt; future = CompletableFuture.supplyAsync(...);\nfuture.handle((ex,res) -&gt; {\n        if (ex != null) {\n            // An exception occurred ...\n        } else {\n            // No exception was thrown, 'res' is valid and can be handled here\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8349587,"reputation":41,"user_id":6272218,"display_name":"eric goff"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1635117379,"creation_date":1635117379,"answer_id":69701439,"question_id":23301598,"body_markdown":"    public static &lt;T&gt; CompletableFuture&lt;T&gt; fromFuture(Future&lt;T&gt; f) {\r\n        return CompletableFuture.completedFuture(null).thenCompose(avoid -&gt; {\r\n            try {\r\n                return CompletableFuture.completedFuture(f.get());\r\n            } catch (InterruptedException e) {\r\n                return CompletableFuture.failedFuture(e);\r\n            } catch (ExecutionException e) {\r\n                return CompletableFuture.failedFuture(e.getCause());\r\n            }\r\n        });\r\n    }\r\n","title":"Transform Java Future into a CompletableFuture","body":"<pre><code>public static &lt;T&gt; CompletableFuture&lt;T&gt; fromFuture(Future&lt;T&gt; f) {\n    return CompletableFuture.completedFuture(null).thenCompose(avoid -&gt; {\n        try {\n            return CompletableFuture.completedFuture(f.get());\n        } catch (InterruptedException e) {\n            return CompletableFuture.failedFuture(e);\n        } catch (ExecutionException e) {\n            return CompletableFuture.failedFuture(e.getCause());\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2557108,"reputation":2556,"user_id":2218838,"accept_rate":58,"display_name":"Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659196357,"creation_date":1659195677,"answer_id":73176979,"question_id":23301598,"body_markdown":"The main idea goes like this:\r\n\r\n```\r\nFuture&lt;?&gt; future = null;\r\nreturn CompletableFuture.supplyAsync(future::get);\r\n```\r\n\r\nHowever, you will receive some warnings from your compiler.\r\n\r\nSo, here is the first option.\r\n\r\n```\r\nFuture&lt;?&gt; future = null;\r\nreturn CompletableFuture.supplyAsync(\r\n        ()-&gt;{\r\n            try {\r\n                return future.get();\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        });\r\n```\r\n\r\nSecond Option, hide the try...catch via casting the functional interface.\r\n\r\n```\r\n    @FunctionalInterface\r\n    public interface MySupplier&lt;T&gt; extends Supplier&lt;T&gt; {\r\n        @Override\r\n        default T get() {\r\n            try {\r\n                return getInternal();\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n\r\n        T getInternal() throws Exception;\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        Future&lt;?&gt; future = null;\r\n        return CompletableFuture.supplyAsync((MySupplier&lt;?&gt;) future::get);\r\n\r\n    }\r\n\r\n\r\n```\r\n\r\nThird Option, find out some 3rd party lib which has provided such a functional interface.\r\n\r\nSee Also: https://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception\r\n","title":"Transform Java Future into a CompletableFuture","body":"<p>The main idea goes like this:</p>\n<pre><code>Future&lt;?&gt; future = null;\nreturn CompletableFuture.supplyAsync(future::get);\n</code></pre>\n<p>However, you will receive some warnings from your compiler.</p>\n<p>So, here is the first option.</p>\n<pre><code>Future&lt;?&gt; future = null;\nreturn CompletableFuture.supplyAsync(\n        ()-&gt;{\n            try {\n                return future.get();\n            } catch (Exception e) {\n                throw new RuntimeException(e);\n            }\n        });\n</code></pre>\n<p>Second Option, hide the try...catch via casting the functional interface.</p>\n<pre><code>    @FunctionalInterface\n    public interface MySupplier&lt;T&gt; extends Supplier&lt;T&gt; {\n        @Override\n        default T get() {\n            try {\n                return getInternal();\n            } catch (Exception e) {\n                throw new RuntimeException(e);\n            }\n        }\n\n        T getInternal() throws Exception;\n    }\n\n\n    public static void main(String[] args) {\n        Future&lt;?&gt; future = null;\n        return CompletableFuture.supplyAsync((MySupplier&lt;?&gt;) future::get);\n\n    }\n\n\n</code></pre>\n<p>Third Option, find out some 3rd party lib which has provided such a functional interface.</p>\n<p>See Also: <a href=\"https://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception\">Java 8 Lambda function that throws exception?</a></p>\n"}],"owner":{"account_id":41226,"reputation":18874,"user_id":119768,"accept_rate":83,"display_name":"Dan Midwood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77679,"favorite_count":0,"down_vote_count":0,"up_vote_count":136,"accepted_answer_id":23302308,"answer_count":8,"score":136,"last_activity_date":1687877570,"creation_date":1398454708,"question_id":23301598,"body_markdown":"Java 8 introduces `CompletableFuture`, a new implementation of Future that is composable (includes a bunch of thenXxx methods). I&#39;d like to use this exclusively, but many of the libraries I want to use return only non-composable `Future` instances.\r\n\r\nIs there a way to wrap up a returned `Future` instances inside of a `CompleteableFuture` so that I can compose it?","title":"Transform Java Future into a CompletableFuture","body":"<p>Java 8 introduces <code>CompletableFuture</code>, a new implementation of Future that is composable (includes a bunch of thenXxx methods). I'd like to use this exclusively, but many of the libraries I want to use return only non-composable <code>Future</code> instances.</p>\n\n<p>Is there a way to wrap up a returned <code>Future</code> instances inside of a <code>CompleteableFuture</code> so that I can compose it?</p>\n"},{"tags":["java","android","android-architecture-navigation"],"owner":{"account_id":15890229,"reputation":13,"user_id":11465571,"display_name":"a.badawi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687877375,"creation_date":1687877375,"question_id":76566091,"body_markdown":"I&#39;m using navigation component.\r\n\r\nI don&#39;t want each fragment to have the next button.\r\nMy goal is putting that next button in activity, and each fragment implements its own destination and maybe doing some validation.\r\n \r\n\r\nWhat is the best way to achieve my goal?\r\n\r\n","title":"How to make each fragment make it&#39;s own implementation for parent activity button listener","body":"<p>I'm using navigation component.</p>\n<p>I don't want each fragment to have the next button.\nMy goal is putting that next button in activity, and each fragment implements its own destination and maybe doing some validation.</p>\n<p>What is the best way to achieve my goal?</p>\n"},{"tags":["java","macos","maven","gruntjs","apache-zeppelin"],"comments":[{"owner":{"account_id":5053865,"reputation":5343,"user_id":4057655,"accept_rate":85,"display_name":"sag"},"score":0,"creation_date":1453107143,"post_id":34802213,"comment_id":57440925,"body_markdown":"We had similar problems and it was solved by cleaning the artifacts in local maven repository. It may work for you as well.","body":"We had similar problems and it was solved by cleaning the artifacts in local maven repository. It may work for you as well."}],"answers":[{"tags":[],"owner":{"account_id":2334096,"reputation":312,"user_id":2046823,"display_name":"Ana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687876685,"creation_date":1687876685,"answer_id":76565997,"question_id":34802213,"body_markdown":"Check the logs before BUILD FAILURE, you might have a javascript error.","title":"Zeppelin build failure - Failed to run task: &#39;grunt --no-color&#39; failed","body":"<p>Check the logs before BUILD FAILURE, you might have a javascript error.</p>\n"}],"owner":{"account_id":6394599,"reputation":49,"user_id":4959438,"display_name":"Julien St-Pierre Fortin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1519,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1687876685,"creation_date":1452816828,"question_id":34802213,"body_markdown":"I want to install Apache Zeppelin on OSX 10.8, but build fails for some mysterious reasons. Specs: Java 1.7, Maven 3.3, node v0.12.4 and grunt v0.1.13.\r\n\r\nI&#39;m running the following command:\r\n\r\n    mvn clean package -DskipTests\r\n\r\nAnd I am getting the following output :\r\n\r\n  \r\n        [INFO] Zeppelin: web Application .......................... FAILURE [ 18.310 s]\r\n        [INFO] Zeppelin: Server ................................... SKIPPED\r\n        [INFO] Zeppelin: Packaging distribution ................... SKIPPED\r\n        [INFO] ------------------------------------------------------------------------\r\n        [INFO] BUILD FAILURE\r\n        [INFO] ------------------------------------------------------------------------\r\n        [INFO] Total time: 07:53 min\r\n        [INFO] Finished at: 2016-01-14T18:32:13-05:00\r\n        [INFO] Final Memory: 78M/387M\r\n        [INFO] ------------------------------------------------------------------------\r\n        [ERROR] Failed to execute goal com.github.eirslett:frontend-maven-plugin:0.0.23:grunt (grunt build) on project zeppelin-web: Failed to run task: &#39;grunt --no-color&#39; failed. (error code 3) -&gt; [Help 1]\r\n        [ERROR] \r\n        [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n        [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n        [ERROR] \r\n        [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n        [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n        [ERROR] \r\n        [ERROR] After correcting the problems, you can resume the build with the command\r\n        [ERROR]   mvn &lt;goals&gt; -rf :zeppelin-web\r\n\r\nIt seems to be some errors with grunt, but I&#39;m not sure.","title":"Zeppelin build failure - Failed to run task: &#39;grunt --no-color&#39; failed","body":"<p>I want to install Apache Zeppelin on OSX 10.8, but build fails for some mysterious reasons. Specs: Java 1.7, Maven 3.3, node v0.12.4 and grunt v0.1.13.</p>\n\n<p>I'm running the following command:</p>\n\n<pre><code>mvn clean package -DskipTests\n</code></pre>\n\n<p>And I am getting the following output :</p>\n\n<pre><code>    [INFO] Zeppelin: web Application .......................... FAILURE [ 18.310 s]\n    [INFO] Zeppelin: Server ................................... SKIPPED\n    [INFO] Zeppelin: Packaging distribution ................... SKIPPED\n    [INFO] ------------------------------------------------------------------------\n    [INFO] BUILD FAILURE\n    [INFO] ------------------------------------------------------------------------\n    [INFO] Total time: 07:53 min\n    [INFO] Finished at: 2016-01-14T18:32:13-05:00\n    [INFO] Final Memory: 78M/387M\n    [INFO] ------------------------------------------------------------------------\n    [ERROR] Failed to execute goal com.github.eirslett:frontend-maven-plugin:0.0.23:grunt (grunt build) on project zeppelin-web: Failed to run task: 'grunt --no-color' failed. (error code 3) -&gt; [Help 1]\n    [ERROR] \n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\n    [ERROR] \n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n    [ERROR] \n    [ERROR] After correcting the problems, you can resume the build with the command\n    [ERROR]   mvn &lt;goals&gt; -rf :zeppelin-web\n</code></pre>\n\n<p>It seems to be some errors with grunt, but I'm not sure.</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1356010315,"post_id":13973212,"comment_id":19278609,"body_markdown":"I&#39;m not sure you want to do this.","body":"I&#39;m not sure you want to do this."},{"owner":{"account_id":2118746,"reputation":111,"user_id":1882491,"accept_rate":83,"display_name":"user1882491"},"score":2,"creation_date":1356010461,"post_id":13973212,"comment_id":19278683,"body_markdown":"Why? I wish to avoid using a `String` as I understand there is a certain security risk having the password in one.","body":"Why? I wish to avoid using a <code>String</code> as I understand there is a certain security risk having the password in one."},{"owner":{"account_id":1044371,"reputation":10970,"user_id":1049678,"display_name":"Aviram Segal"},"score":0,"creation_date":1356010740,"post_id":13973212,"comment_id":19278812,"body_markdown":"In this case no problem, there is a problem if you do not use a preparedstatement (sql injection)","body":"In this case no problem, there is a problem if you do not use a preparedstatement (sql injection)"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":3,"creation_date":1356011002,"post_id":13973212,"comment_id":19278938,"body_markdown":"I think a salted and encrypted password would be a much better idea.","body":"I think a salted and encrypted password would be a much better idea."}],"answers":[{"comments":[{"owner":{"account_id":2118746,"reputation":111,"user_id":1882491,"accept_rate":83,"display_name":"user1882491"},"score":0,"creation_date":1356010327,"post_id":13973283,"comment_id":19278615,"body_markdown":"That uses a string and I wish to avoid using a string. Is it possible with an array of `char`?","body":"That uses a string and I wish to avoid using a string. Is it possible with an array of <code>char</code>?"}],"tags":[],"owner":{"account_id":972934,"reputation":20673,"user_id":1575570,"accept_rate":100,"display_name":"Nidhish Krishnan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1356010202,"creation_date":1356010202,"answer_id":13973283,"question_id":13973212,"body_markdown":"Have a look at this code\r\n\r\n    final PreparedStatement statement = connection.prepareStatement(\r\n            &quot;SELECT my_column FROM my_table &quot; + \r\n            &quot;where search_column IN (SELECT * FROM unnest(?))&quot;\r\n    );\r\n    final String[] values = getValues();\r\n    statement.setArray(1, connection.createArrayOf(&quot;text&quot;, values));\r\n    final ResultSet rs = statement.executeQuery();\r\n    try {\r\n        while(rs.next()) {\r\n            // do some...\r\n        }\r\n    } finally {\r\n        rs.close();\r\n    }\r\n\r\nalso please take a look at this article for reference [http://people.apache.org/~djd/derby/publishedapi/java/sql/PreparedStatement.html][1]\r\n\r\n\r\n  [1]: http://people.apache.org/~djd/derby/publishedapi/java/sql/PreparedStatement.html","title":"How to pass PreparedStatement setArray for character array","body":"<p>Have a look at this code</p>\n\n<pre><code>final PreparedStatement statement = connection.prepareStatement(\n        \"SELECT my_column FROM my_table \" + \n        \"where search_column IN (SELECT * FROM unnest(?))\"\n);\nfinal String[] values = getValues();\nstatement.setArray(1, connection.createArrayOf(\"text\", values));\nfinal ResultSet rs = statement.executeQuery();\ntry {\n    while(rs.next()) {\n        // do some...\n    }\n} finally {\n    rs.close();\n}\n</code></pre>\n\n<p>also please take a look at this article for reference <a href=\"http://people.apache.org/~djd/derby/publishedapi/java/sql/PreparedStatement.html\" rel=\"nofollow\">http://people.apache.org/~djd/derby/publishedapi/java/sql/PreparedStatement.html</a></p>\n"},{"comments":[{"owner":{"account_id":166521,"reputation":30443,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyński - Vash"},"score":1,"creation_date":1356010801,"post_id":13973293,"comment_id":19278848,"body_markdown":"First you should know that the type in db is an ARRAY","body":"First you should know that the type in db is an ARRAY"},{"owner":{"account_id":1044371,"reputation":10970,"user_id":1049678,"display_name":"Aviram Segal"},"score":0,"creation_date":1356010934,"post_id":13973293,"comment_id":19278907,"body_markdown":"You need to provide `the SQL name of the type the elements of the array map to` (i.e. the type of the elements not the array itself)","body":"You need to provide <code>the SQL name of the type the elements of the array map to</code> (i.e. the type of the elements not the array itself)"},{"owner":{"account_id":166521,"reputation":30443,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyński - Vash"},"score":0,"creation_date":1356012010,"post_id":13973293,"comment_id":19279499,"body_markdown":"You did not undestand. Then type of column in dabase should be [Array](http://hsqldb.org/doc/2.0/guide/sqlgeneral-chapt.html#sgc_array). Then you can use `java.sql.Array`. This type allow you to store multiple data in single row, without any additional relation. It was not designed in the way you are trying to imply.","body":"You did not undestand. Then type of column in dabase should be <a href=\"http://hsqldb.org/doc/2.0/guide/sqlgeneral-chapt.html#sgc_array\" rel=\"nofollow noreferrer\">Array</a>. Then you can use <code>java.sql.Array</code>. This type allow you to store multiple data in single row, without any additional relation. It was not designed in the way you are trying to imply."},{"owner":{"account_id":1044371,"reputation":10970,"user_id":1049678,"display_name":"Aviram Segal"},"score":0,"creation_date":1356012197,"post_id":13973293,"comment_id":19279584,"body_markdown":"Ah yes, the column type is ARRAY, what did I imply ?","body":"Ah yes, the column type is ARRAY, what did I imply ?"},{"owner":{"account_id":166521,"reputation":30443,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyński - Vash"},"score":0,"creation_date":1356012412,"post_id":13973293,"comment_id":19279713,"body_markdown":"It is not common to use this type for storing data as you have preseted as solution.","body":"It is not common to use this type for storing data as you have preseted as solution."},{"owner":{"account_id":1044371,"reputation":10970,"user_id":1049678,"display_name":"Aviram Segal"},"score":0,"creation_date":1356012534,"post_id":13973293,"comment_id":19279759,"body_markdown":"I didn&#39;t present anything, He asked how to use setArray and I answered","body":"I didn&#39;t present anything, He asked how to use setArray and I answered"}],"tags":[],"owner":{"account_id":1044371,"reputation":10970,"user_id":1049678,"display_name":"Aviram Segal"},"comment_count":6,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1687876683,"creation_date":1356010242,"answer_id":13973293,"question_id":13973212,"body_markdown":"[PreparedStatement#setArray][1] received a [java.sql.Array][2]\r\nFirst you should use the JDBC Connection&#39;s [createArrayOf][3] method to create the array, only then you can pass it to `setArray`.\r\n\r\nAs the method only accept `Object[]` you should create an array of `Character` instead of char.\r\n\r\nFor example:\r\n\r\n    Character[] passwordString = new Character[] { &#39;t&#39;, &#39;e&#39;, &#39;s&#39;, &#39;t&#39; };\r\n    Array sqlArray = con.createArrayOf(&quot;CHAR&quot;, passwordString);\r\n    preparedStatement.setArray(2, sqlArray);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#setArray%28int,%20java.sql.Array%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/sql/Array.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#createArrayOf%28java.lang.String,%20java.lang.Object%5B%5D%29","title":"How to pass PreparedStatement setArray for character array","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#setArray%28int,%20java.sql.Array%29\" rel=\"nofollow noreferrer\">PreparedStatement#setArray</a> received a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Array.html\" rel=\"nofollow noreferrer\">java.sql.Array</a>\nFirst you should use the JDBC Connection's <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#createArrayOf%28java.lang.String,%20java.lang.Object%5B%5D%29\" rel=\"nofollow noreferrer\">createArrayOf</a> method to create the array, only then you can pass it to <code>setArray</code>.</p>\n<p>As the method only accept <code>Object[]</code> you should create an array of <code>Character</code> instead of char.</p>\n<p>For example:</p>\n<pre><code>Character[] passwordString = new Character[] { 't', 'e', 's', 't' };\nArray sqlArray = con.createArrayOf(&quot;CHAR&quot;, passwordString);\npreparedStatement.setArray(2, sqlArray);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":166521,"reputation":30443,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyński - Vash"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1356011757,"creation_date":1356011757,"answer_id":13973735,"question_id":13973212,"body_markdown":"If you want to pass an array in prepared statement just call \r\n\r\n`preparedStatemtn.setArray(index,array);`\r\n\r\nBut what you must assure first is that in your DB the column is also a [ARRAY][1]. For more detail please see Aviram Sagal answer.\r\n\r\n--------\r\n\r\n\r\nBut your base idead it to protect the password. \r\n\r\nThis solution will protect only from reading the passoword from Java string pool. This is very ratre type of attact anyway. Ans passoword is transmited as plain text. \r\n\r\nMy sugestion is that instead of complicating the db schema, you should use some benefits of cryptography. Instaed of passing the password value, you should pass [password digest][2]. \r\n\r\nA simplyfied example of digest function. \r\n\r\n    public static String getDigest(byte[] password) {\r\n    \r\n      return new String(Hex.encodeHex(new MessageDigest.getInstance(&quot;SHA&quot;).digest(password)));\r\n    \r\n    }\r\n\r\n\r\nThen you store in db the digest with is safe and you use simple string in queries. \r\n\r\n\r\n[1]:http://hsqldb.org/doc/2.0/guide/sqlgeneral-chapt.html#sgc_array\r\n[2]:http://en.wikipedia.org/wiki/Hash_function","title":"How to pass PreparedStatement setArray for character array","body":"<p>If you want to pass an array in prepared statement just call </p>\n\n<p><code>preparedStatemtn.setArray(index,array);</code></p>\n\n<p>But what you must assure first is that in your DB the column is also a <a href=\"http://hsqldb.org/doc/2.0/guide/sqlgeneral-chapt.html#sgc_array\" rel=\"nofollow\">ARRAY</a>. For more detail please see Aviram Sagal answer.</p>\n\n<hr>\n\n<p>But your base idead it to protect the password. </p>\n\n<p>This solution will protect only from reading the passoword from Java string pool. This is very ratre type of attact anyway. Ans passoword is transmited as plain text. </p>\n\n<p>My sugestion is that instead of complicating the db schema, you should use some benefits of cryptography. Instaed of passing the password value, you should pass <a href=\"http://en.wikipedia.org/wiki/Hash_function\" rel=\"nofollow\">password digest</a>. </p>\n\n<p>A simplyfied example of digest function. </p>\n\n<pre><code>public static String getDigest(byte[] password) {\n\n  return new String(Hex.encodeHex(new MessageDigest.getInstance(\"SHA\").digest(password)));\n\n}\n</code></pre>\n\n<p>Then you store in db the digest with is safe and you use simple string in queries. </p>\n"},{"comments":[{"owner":{"account_id":3733756,"reputation":520,"user_id":3105277,"display_name":"jon5477"},"score":0,"creation_date":1513131180,"post_id":18253662,"comment_id":82530429,"body_markdown":"Would this method be suitable for inserting plaintext passwords?","body":"Would this method be suitable for inserting plaintext passwords?"},{"owner":{"account_id":64344,"reputation":8352,"user_id":189992,"accept_rate":95,"display_name":"ssedano"},"score":0,"creation_date":1513809377,"post_id":18253662,"comment_id":82798716,"body_markdown":"In theory yes. Just make sure to set to null the references to mark the object as candidate for collection","body":"In theory yes. Just make sure to set to null the references to mark the object as candidate for collection"}],"tags":[],"owner":{"account_id":64344,"reputation":8352,"user_id":189992,"accept_rate":95,"display_name":"ssedano"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376573211,"creation_date":1376573211,"answer_id":18253662,"question_id":13973212,"body_markdown":"Another alternative is to use a [`CharArrayReader`](http://docs.oracle.com/javase/7/docs/api/java/io/CharArrayReader.html) and call the [`statement.setCharacterStream`](http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html).\r\n\r\n    char[] passwordString = new char[] { &#39;t&#39;, &#39;e&#39;, &#39;s&#39;, &#39;t&#39; };\r\n    statement.setCharacterStream(1, new CharArrayReader(passwordString));","title":"How to pass PreparedStatement setArray for character array","body":"<p>Another alternative is to use a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/CharArrayReader.html\" rel=\"nofollow\"><code>CharArrayReader</code></a> and call the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html\" rel=\"nofollow\"><code>statement.setCharacterStream</code></a>.</p>\n\n<pre><code>char[] passwordString = new char[] { 't', 'e', 's', 't' };\nstatement.setCharacterStream(1, new CharArrayReader(passwordString));\n</code></pre>\n"}],"owner":{"account_id":2118746,"reputation":111,"user_id":1882491,"accept_rate":83,"display_name":"user1882491"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35292,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1687876683,"creation_date":1356009957,"question_id":13973212,"body_markdown":"I have some JDBC code as follows:\r\n\r\n    String selectSQL = &quot;SELECT * FROM DBUSER WHERE USER_ID = ? and PASSWORD = ?&quot;;\r\n    \r\n    Integer userId = 1000;\r\n    char[] passwordString = new char[] { &#39;t&#39;, &#39;e&#39;, &#39;s&#39;, &#39;t&#39; };\r\n    \r\n    PreparedStatement preparedStatement = dbConnection.prepareStatement(selectSQL);\r\n    preparedStatement.setInt(1, 1001);\r\n    preparedStatement.setArray(2,... ??? // how to do this part?\r\n    \r\n    // execute select SQL statement\r\n    ResultSet rs = preparedStatement.executeQuery();\r\n\r\nHow do I call `preparedStatement.setArray` to set the second parameter in the query? I don&#39;t want to use a string parameter here to protect the password.\r\n\r\nNote I am using Hypersonic DB but plan to move to MySql if this is useful.\r\n","title":"How to pass PreparedStatement setArray for character array","body":"<p>I have some JDBC code as follows:</p>\n\n<pre><code>String selectSQL = \"SELECT * FROM DBUSER WHERE USER_ID = ? and PASSWORD = ?\";\n\nInteger userId = 1000;\nchar[] passwordString = new char[] { 't', 'e', 's', 't' };\n\nPreparedStatement preparedStatement = dbConnection.prepareStatement(selectSQL);\npreparedStatement.setInt(1, 1001);\npreparedStatement.setArray(2,... ??? // how to do this part?\n\n// execute select SQL statement\nResultSet rs = preparedStatement.executeQuery();\n</code></pre>\n\n<p>How do I call <code>preparedStatement.setArray</code> to set the second parameter in the query? I don't want to use a string parameter here to protect the password.</p>\n\n<p>Note I am using Hypersonic DB but plan to move to MySql if this is useful.</p>\n"},{"tags":["java","openai-api","agi"],"comments":[{"owner":{"account_id":20593064,"reputation":1902,"user_id":15116207,"display_name":"Hritik Sharma"},"score":0,"creation_date":1687760175,"post_id":76553851,"comment_id":134975984,"body_markdown":"Prompt the gpt such that you get a json as result and parse it to get your desired output.","body":"Prompt the gpt such that you get a json as result and parse it to get your desired output."},{"owner":{"account_id":28894670,"reputation":1,"user_id":22130951,"display_name":"genechu"},"score":0,"creation_date":1688109936,"post_id":76553851,"comment_id":135032506,"body_markdown":"@HritikSharma thanks for the tip, i had tried this solution, but not so stable, some times i got answer like :    there result is :  { //json }","body":"@HritikSharma thanks for the tip, i had tried this solution, but not so stable, some times i got answer like :    there result is :  { //json }"},{"owner":{"account_id":28894670,"reputation":1,"user_id":22130951,"display_name":"genechu"},"score":1,"creation_date":1690356072,"post_id":76553851,"comment_id":135340218,"body_markdown":"TypeChat https://microsoft.github.io/TypeChat/blog/introducing-typechat/   may be a good choice","body":"TypeChat <a href=\"https://microsoft.github.io/TypeChat/blog/introducing-typechat/\" rel=\"nofollow noreferrer\">microsoft.github.io/TypeChat/blog/introducing-typechat</a>   may be a good choice"}],"answers":[{"comments":[{"owner":{"account_id":1335652,"reputation":957,"user_id":1278479,"accept_rate":73,"display_name":"gsouf"},"score":0,"creation_date":1691927503,"post_id":76560705,"comment_id":135554431,"body_markdown":"asserting that &quot;if you prompt properly, it will rarely happen&quot; does not make your code ready for it. The rare cases, as mentioned, in which it will break make the whole thing unreliable.","body":"asserting that &quot;if you prompt properly, it will rarely happen&quot; does not make your code ready for it. The rare cases, as mentioned, in which it will break make the whole thing unreliable."}],"tags":[],"owner":{"account_id":176801,"reputation":576,"user_id":407722,"accept_rate":75,"display_name":"h2stein"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687820363,"creation_date":1687820363,"answer_id":76560705,"question_id":76553851,"body_markdown":"Your code must always be prepared for the event that ChatGPT does not comply with your request. However, if you prompt properly, this will rarely happen.\r\n\r\nYou should consider abandoning the mix of text and JSON output. Have ChatGPT respond with JSON only and ask it to write the text to a string field in the JSON.\r\n\r\nTo have the model produce JSON, you should use one of the current models (gpt-4-0613 or gpt-3.5-turbo-0613) via the API. These models take the system message more seriously, so you can ask the model to respond only in JSON. See this example: \r\n\r\n```` lang-bash\r\ncurl https://api.openai.com/v1/chat/completions -u :$OPENAI_API_KEY -H &#39;Content-Type: application/json&#39; -d &#39;{\r\n   &quot;model&quot;: &quot;gpt-3.5-turbo-0613&quot;,\r\n   &quot;messages&quot;: [\r\n      {&quot;role&quot;: &quot;system&quot;, &quot;content&quot;: &quot;You are a friendly assistant. Your answers are JSON only.&quot;},\r\n      {&quot;role&quot;: &quot;assistant&quot;, &quot;content&quot;: &quot;{\\&quot;message\\&quot;: \\&quot;Understood. I will output my answers in JSON format.\\&quot; }&quot; },\r\n      {&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;List three attractions in London.&quot; }\r\n   ]\r\n}&#39;\r\n````\r\n\r\nChat GPT will reply with nice JSON:\r\n\r\n````lang-json\r\n{\r\n  &quot;attractions&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;The British Museum&quot;,\r\n      &quot;description&quot;: &quot;A world-famous museum containing a vast collection of art and artifacts from around the globe.&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;The Tower of London&quot;,\r\n      &quot;description&quot;: &quot;A historic castle that has served various purposes over the centuries, including a royal palace, prison, and treasury.&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;The London Eye&quot;,\r\n      &quot;description&quot;: &quot;A gigantic ferris wheel offering panoramic views of the city skyline.&quot;\r\n    }\r\n  ]\r\n}\r\n````\r\n\r\nHowever, the better approach is to use ChatGPT&#39;s newly introduced function call feature. This allows you to define functions and their parameters and ChatGPT will then provide JSON with the desired structure to call those functions. Please note that ChatGPT may deviate from your request even with this method, but this will be extremely rare.\r\n\r\n````lang-bash\r\ncurl https://api.openai.com/v1/chat/completions -u :$OPENAI_API_KEY -H &#39;Content-Type: application/json&#39; -d &#39;{\r\n  &quot;model&quot;: &quot;gpt-3.5-turbo-0613&quot;,\r\n  &quot;messages&quot;: [ \r\n    { &quot;role&quot;: &quot;system&quot;, &quot;content&quot;: &quot;You are a friendly assistant and you will always call one of the provided functions.&quot; },\r\n    { &quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;List three attractions in London.&quot; }\r\n  ],\r\n  &quot;functions&quot;: [{\r\n      &quot;name&quot;:&quot;presentAttractions&quot;,\r\n      &quot;description&quot;: &quot;Presents the attractions to the user.&quot;,\r\n      &quot;parameters&quot;: {\r\n        &quot;type&quot;: &quot;object&quot;,\r\n        &quot;properties&quot;: {\r\n          &quot;message&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;,\r\n            &quot;description&quot;: &quot;A message to display to the user.&quot;\r\n          },\r\n          &quot;attractions&quot;: {\r\n            &quot;type&quot;: &quot;array&quot;,\r\n            &quot;description&quot;: &quot;A list of attractions.&quot;,\r\n            &quot;items&quot;: {\r\n              &quot;type&quot;: &quot;string&quot;\r\n            }\r\n          }\r\n        },\r\n        &quot;required&quot;: [ &quot;message&quot;,&quot;attractions&quot; ]\r\n      }\r\n    }]\r\n}&#39;\r\n````\r\n\r\nThis results in this response:\r\n\r\n```` lang-json\r\n&quot;message&quot;: {\r\n        &quot;role&quot;: &quot;assistant&quot;,\r\n        &quot;content&quot;: null,\r\n        &quot;function_call&quot;: {\r\n          &quot;name&quot;: &quot;presentAttractions&quot;,\r\n          &quot;arguments&quot;: &quot;{\\n  \\&quot;message\\&quot;: \\&quot;Here are three attractions in London:\\&quot;,\\n  \\&quot;attractions\\&quot;: [\\&quot;Big Ben\\&quot;, \\&quot;Buckingham Palace\\&quot;, \\&quot;Tower Bridge\\&quot;]\\n}&quot;\r\n        }\r\n      },\r\n````\r\n\r\nThis way you get the JSON nicely prepared for further processing. Of course you can also specify several different functions and let ChatGPT decide which one to call. And you can restrict the allowed functions with the `function_call` property.\r\n\r\nFor a full description of the API, see the [OpenAI API documentation][1]. To learn more about function calls, read the [OpenAI blog][2] and [OpenAI Cookbook advanced examples][3].\r\n\r\n\r\n  [1]: https://platform.openai.com/docs/api-reference/completions/create\r\n  [2]: https://openai.com/blog/function-calling-and-other-api-updates\r\n  [3]: https://github.com/openai/openai-cookbook/blob/main/examples/How_to_call_functions_with_chat_models.ipynb","title":"extract json from a long text (gpt answer) according to a json-schema?","body":"<p>Your code must always be prepared for the event that ChatGPT does not comply with your request. However, if you prompt properly, this will rarely happen.</p>\n<p>You should consider abandoning the mix of text and JSON output. Have ChatGPT respond with JSON only and ask it to write the text to a string field in the JSON.</p>\n<p>To have the model produce JSON, you should use one of the current models (gpt-4-0613 or gpt-3.5-turbo-0613) via the API. These models take the system message more seriously, so you can ask the model to respond only in JSON. See this example:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>curl https://api.openai.com/v1/chat/completions -u :$OPENAI_API_KEY -H 'Content-Type: application/json' -d '{\n   &quot;model&quot;: &quot;gpt-3.5-turbo-0613&quot;,\n   &quot;messages&quot;: [\n      {&quot;role&quot;: &quot;system&quot;, &quot;content&quot;: &quot;You are a friendly assistant. Your answers are JSON only.&quot;},\n      {&quot;role&quot;: &quot;assistant&quot;, &quot;content&quot;: &quot;{\\&quot;message\\&quot;: \\&quot;Understood. I will output my answers in JSON format.\\&quot; }&quot; },\n      {&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;List three attractions in London.&quot; }\n   ]\n}'\n</code></pre>\n<p>Chat GPT will reply with nice JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;attractions&quot;: [\n    {\n      &quot;name&quot;: &quot;The British Museum&quot;,\n      &quot;description&quot;: &quot;A world-famous museum containing a vast collection of art and artifacts from around the globe.&quot;\n    },\n    {\n      &quot;name&quot;: &quot;The Tower of London&quot;,\n      &quot;description&quot;: &quot;A historic castle that has served various purposes over the centuries, including a royal palace, prison, and treasury.&quot;\n    },\n    {\n      &quot;name&quot;: &quot;The London Eye&quot;,\n      &quot;description&quot;: &quot;A gigantic ferris wheel offering panoramic views of the city skyline.&quot;\n    }\n  ]\n}\n</code></pre>\n<p>However, the better approach is to use ChatGPT's newly introduced function call feature. This allows you to define functions and their parameters and ChatGPT will then provide JSON with the desired structure to call those functions. Please note that ChatGPT may deviate from your request even with this method, but this will be extremely rare.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>curl https://api.openai.com/v1/chat/completions -u :$OPENAI_API_KEY -H 'Content-Type: application/json' -d '{\n  &quot;model&quot;: &quot;gpt-3.5-turbo-0613&quot;,\n  &quot;messages&quot;: [ \n    { &quot;role&quot;: &quot;system&quot;, &quot;content&quot;: &quot;You are a friendly assistant and you will always call one of the provided functions.&quot; },\n    { &quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;List three attractions in London.&quot; }\n  ],\n  &quot;functions&quot;: [{\n      &quot;name&quot;:&quot;presentAttractions&quot;,\n      &quot;description&quot;: &quot;Presents the attractions to the user.&quot;,\n      &quot;parameters&quot;: {\n        &quot;type&quot;: &quot;object&quot;,\n        &quot;properties&quot;: {\n          &quot;message&quot;: {\n            &quot;type&quot;: &quot;string&quot;,\n            &quot;description&quot;: &quot;A message to display to the user.&quot;\n          },\n          &quot;attractions&quot;: {\n            &quot;type&quot;: &quot;array&quot;,\n            &quot;description&quot;: &quot;A list of attractions.&quot;,\n            &quot;items&quot;: {\n              &quot;type&quot;: &quot;string&quot;\n            }\n          }\n        },\n        &quot;required&quot;: [ &quot;message&quot;,&quot;attractions&quot; ]\n      }\n    }]\n}'\n</code></pre>\n<p>This results in this response:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;message&quot;: {\n        &quot;role&quot;: &quot;assistant&quot;,\n        &quot;content&quot;: null,\n        &quot;function_call&quot;: {\n          &quot;name&quot;: &quot;presentAttractions&quot;,\n          &quot;arguments&quot;: &quot;{\\n  \\&quot;message\\&quot;: \\&quot;Here are three attractions in London:\\&quot;,\\n  \\&quot;attractions\\&quot;: [\\&quot;Big Ben\\&quot;, \\&quot;Buckingham Palace\\&quot;, \\&quot;Tower Bridge\\&quot;]\\n}&quot;\n        }\n      },\n</code></pre>\n<p>This way you get the JSON nicely prepared for further processing. Of course you can also specify several different functions and let ChatGPT decide which one to call. And you can restrict the allowed functions with the <code>function_call</code> property.</p>\n<p>For a full description of the API, see the <a href=\"https://platform.openai.com/docs/api-reference/completions/create\" rel=\"nofollow noreferrer\">OpenAI API documentation</a>. To learn more about function calls, read the <a href=\"https://openai.com/blog/function-calling-and-other-api-updates\" rel=\"nofollow noreferrer\">OpenAI blog</a> and <a href=\"https://github.com/openai/openai-cookbook/blob/main/examples/How_to_call_functions_with_chat_models.ipynb\" rel=\"nofollow noreferrer\">OpenAI Cookbook advanced examples</a>.</p>\n"}],"owner":{"account_id":28894670,"reputation":1,"user_id":22130951,"display_name":"genechu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1827,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687876625,"creation_date":1687758855,"question_id":76553851,"body_markdown":"There is some text contains a json result like (this line may change): \r\n\r\n```\r\n{\r\n  &quot;foo&quot;:{ &quot;bar&quot; : [&quot;1&quot;] }\r\n}\r\n```\r\n\r\n\r\nwhen i got the text, \r\ni need to extract the json from text, and make sure the json is exactly the format i instruct gpt to return in prompt via examples.\r\n\r\n\r\ncurrently my solution is to match json by regexp with greedy mode , then parse json and check if the json is valid by json-schema.\r\n\r\n\r\nIs there some better way?","title":"extract json from a long text (gpt answer) according to a json-schema?","body":"<p>There is some text contains a json result like (this line may change):</p>\n<pre><code>{\n  &quot;foo&quot;:{ &quot;bar&quot; : [&quot;1&quot;] }\n}\n</code></pre>\n<p>when i got the text,\ni need to extract the json from text, and make sure the json is exactly the format i instruct gpt to return in prompt via examples.</p>\n<p>currently my solution is to match json by regexp with greedy mode , then parse json and check if the json is valid by json-schema.</p>\n<p>Is there some better way?</p>\n"},{"tags":["java","java-time","duration"],"answers":[{"tags":[],"owner":{"account_id":1881735,"reputation":7688,"user_id":1701776,"accept_rate":71,"display_name":"BambooleanLogic"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687876466,"creation_date":1687856597,"answer_id":76563267,"question_id":76563152,"body_markdown":"Your problem stems from comparing apples and oranges. In this case, you are trying to compare a `LocalDateTime` and a `ZonedDateTime`. Those two are very different things and cannot be compared directly.\r\n\r\nA `ZonedDateTime` describes a specific point in time, expressed in the terms of a certain time zone. It is unambiguous what point in time such a value means.\r\n\r\nA `LocalDateTime` describes some date and some time, without any information about which time zone they&#39;re presented in. This value is **fundamentally ambiguous** and **open to interpretation**; two people in different time zones reading the same `LocalDateTime` value would disagree over when exactly that point in time occurs.\r\n\r\n(For instance, if someone in London sees &quot;1 PM on June 27, 2023&quot;, the exact point in time that it represents for them differs by five hours to how someone in New York would interpret the exact same value.)\r\n\r\nAs such, you cannot directly compare a `ZonedDateTime` (an unambiguous point in time that everyone agrees on) with a `LocalDateTime` (a point in time that&#39;s relative to whoever uses the value). You can compare two `ZonedDateTime` with each other, and two `LocalDateTime` with each other; but not one to the other.\r\n\r\nIf you nonetheless want to compare them, you need to decide how the two relate. For instance, you can use the `.atZone(...)` on `LocalDateTime` to add time zone information, converting it into a `ZonedDateTime`, which can then be compared with the other value.\r\n\r\nAs an additional note, `LocalDateTime` has other issues that one should be aware of. For instance, during DST transitions in the fall, the same `LocalDateTime` value may represent two different points in time (since the period 2:00:00 AM-2:59:59 AM occurs twice in the same night). For reasons like this, a general rule of thumb is to only use `LocalDateTime` for _presenting the value to the user_, not for doing calculations or similar.\r\n\r\nAnd as a final &quot;By the way, I technically lied to you&quot; note, one might read the documentation for `Duration.between` and notice that it mentions automatically converting one of the values if they&#39;re of different types. Why did it crash if it handles this automatically? In this case, pure luck (or bad luck, depending on your viewpoint).\r\n\r\nThe key here is that `Duration.between` will convert the _second_ value to be the same type as the _first_ value. Your first value is the `ZonedDateTime` and your second value is the `LocalDateTime`, meaning that the latter will be converted to the former. If you had reversed them, the conversation would succeed since it&#39;s trivial to convert a `ZonedDateTime` to a `LocalDateTime`; just delete the time zone information. (This is however potentially dangerous since it implicitly assumes that the time zone information was completely irrelevant in the first place.)\r\n\r\nThe opposite isn&#39;t possible though; how do you automatically _add_ the time zone information to convert a `LocalDateTime` to a `ZonedDateTime`? What value is the computer supposed to put there? Should it default to the UTC time zone? Should it default to the computer clock&#39;s time zone? Should it default to the time zone of the `ZonedDateTime` value? At best, the computer would have to _blindly guess and hope it does the right thing_, which is a very dangerous behavior for a method to have. In this case, it&#39;s much better that it crashes to notify you, the developer, that you have asked it a vague question and should be more specific.","title":"java.time Duration.between produces zonedatetime exception","body":"<p>Your problem stems from comparing apples and oranges. In this case, you are trying to compare a <code>LocalDateTime</code> and a <code>ZonedDateTime</code>. Those two are very different things and cannot be compared directly.</p>\n<p>A <code>ZonedDateTime</code> describes a specific point in time, expressed in the terms of a certain time zone. It is unambiguous what point in time such a value means.</p>\n<p>A <code>LocalDateTime</code> describes some date and some time, without any information about which time zone they're presented in. This value is <strong>fundamentally ambiguous</strong> and <strong>open to interpretation</strong>; two people in different time zones reading the same <code>LocalDateTime</code> value would disagree over when exactly that point in time occurs.</p>\n<p>(For instance, if someone in London sees &quot;1 PM on June 27, 2023&quot;, the exact point in time that it represents for them differs by five hours to how someone in New York would interpret the exact same value.)</p>\n<p>As such, you cannot directly compare a <code>ZonedDateTime</code> (an unambiguous point in time that everyone agrees on) with a <code>LocalDateTime</code> (a point in time that's relative to whoever uses the value). You can compare two <code>ZonedDateTime</code> with each other, and two <code>LocalDateTime</code> with each other; but not one to the other.</p>\n<p>If you nonetheless want to compare them, you need to decide how the two relate. For instance, you can use the <code>.atZone(...)</code> on <code>LocalDateTime</code> to add time zone information, converting it into a <code>ZonedDateTime</code>, which can then be compared with the other value.</p>\n<p>As an additional note, <code>LocalDateTime</code> has other issues that one should be aware of. For instance, during DST transitions in the fall, the same <code>LocalDateTime</code> value may represent two different points in time (since the period 2:00:00 AM-2:59:59 AM occurs twice in the same night). For reasons like this, a general rule of thumb is to only use <code>LocalDateTime</code> for <em>presenting the value to the user</em>, not for doing calculations or similar.</p>\n<p>And as a final &quot;By the way, I technically lied to you&quot; note, one might read the documentation for <code>Duration.between</code> and notice that it mentions automatically converting one of the values if they're of different types. Why did it crash if it handles this automatically? In this case, pure luck (or bad luck, depending on your viewpoint).</p>\n<p>The key here is that <code>Duration.between</code> will convert the <em>second</em> value to be the same type as the <em>first</em> value. Your first value is the <code>ZonedDateTime</code> and your second value is the <code>LocalDateTime</code>, meaning that the latter will be converted to the former. If you had reversed them, the conversation would succeed since it's trivial to convert a <code>ZonedDateTime</code> to a <code>LocalDateTime</code>; just delete the time zone information. (This is however potentially dangerous since it implicitly assumes that the time zone information was completely irrelevant in the first place.)</p>\n<p>The opposite isn't possible though; how do you automatically <em>add</em> the time zone information to convert a <code>LocalDateTime</code> to a <code>ZonedDateTime</code>? What value is the computer supposed to put there? Should it default to the UTC time zone? Should it default to the computer clock's time zone? Should it default to the time zone of the <code>ZonedDateTime</code> value? At best, the computer would have to <em>blindly guess and hope it does the right thing</em>, which is a very dangerous behavior for a method to have. In this case, it's much better that it crashes to notify you, the developer, that you have asked it a vague question and should be more specific.</p>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687859701,"creation_date":1687859701,"answer_id":76563676,"question_id":76563152,"body_markdown":"Further to BambooleanLogic&#39;s thorough explanation, if you want a simple solution, it&#39;s as simple as:\r\n\r\n    Duration.between(Instant.now(), Instant.toEpochMillis(epochinMillis)).toHours()\r\n\r\n","title":"java.time Duration.between produces zonedatetime exception","body":"<p>Further to BambooleanLogic's thorough explanation, if you want a simple solution, it's as simple as:</p>\n<pre><code>Duration.between(Instant.now(), Instant.toEpochMillis(epochinMillis)).toHours()\n</code></pre>\n"}],"owner":{"account_id":108612,"reputation":9808,"user_id":288190,"accept_rate":85,"display_name":"dr jerry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76563267,"answer_count":2,"score":0,"last_activity_date":1687876466,"creation_date":1687855694,"question_id":76563152,"body_markdown":"I&#39;m trying to calculate the difference between an epoch miliseconds and the currenttime on local machine. I was hoping to use idiomatic `java.time` api with:\r\n\r\n    val eventTime = LocalDateTime.ofInstant(Instant.ofEpochMilli(epochinMilis), ZoneId.systemDefault())\r\n    val now = LocalDateTime.now.atZone(ZoneId.systemDefault())\r\n    Duration.between(now, eventTime).toHours\r\n\r\nHowever it produces:\r\n\r\n    java.time.DateTimeException: Unable to obtain ZonedDateTime from TemporalAccessor: 2023-06-26T22:26:36.917 of type java.time.LocalDateTime\r\n\tat java.base/java.time.ZonedDateTime.from(ZonedDateTime.java:566)\r\n\tat java.base/java.time.ZonedDateTime.until(ZonedDateTime.java:2130)\r\n\tat java.base/java.time.Duration.between(Duration.java:490)\r\n\r\nWith\r\n\r\n    now = LocalDateTime.now.atZone(ZoneId.systemDefault())\r\n    (epochinMilis/1000 - now.toEpochSecond()) / 3600\r\n\r\nI&#39;m getting what i want, but I would like to know what goes wrong when using the designated(?) api?\r\n","title":"java.time Duration.between produces zonedatetime exception","body":"<p>I'm trying to calculate the difference between an epoch miliseconds and the currenttime on local machine. I was hoping to use idiomatic <code>java.time</code> api with:</p>\n<pre><code>val eventTime = LocalDateTime.ofInstant(Instant.ofEpochMilli(epochinMilis), ZoneId.systemDefault())\nval now = LocalDateTime.now.atZone(ZoneId.systemDefault())\nDuration.between(now, eventTime).toHours\n</code></pre>\n<p>However it produces:</p>\n<pre><code>java.time.DateTimeException: Unable to obtain ZonedDateTime from TemporalAccessor: 2023-06-26T22:26:36.917 of type java.time.LocalDateTime\nat java.base/java.time.ZonedDateTime.from(ZonedDateTime.java:566)\nat java.base/java.time.ZonedDateTime.until(ZonedDateTime.java:2130)\nat java.base/java.time.Duration.between(Duration.java:490)\n</code></pre>\n<p>With</p>\n<pre><code>now = LocalDateTime.now.atZone(ZoneId.systemDefault())\n(epochinMilis/1000 - now.toEpochSecond()) / 3600\n</code></pre>\n<p>I'm getting what i want, but I would like to know what goes wrong when using the designated(?) api?</p>\n"},{"tags":["java","logging","log4j2","rollingfileappender"],"owner":{"account_id":10959927,"reputation":11,"user_id":8053551,"display_name":"Nipun Garg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687876464,"creation_date":1687870830,"question_id":76565136,"body_markdown":"I have a log4j2 rollingFileAppender, its definition is as follows:\r\n\r\n```\r\n&lt;RollingFile name=&quot;safety&quot;\r\n                     fileName=&quot;${LOG_PATH}/server_${sys:id:-}.log&quot;\r\n                     filePattern=&quot;${LOG_PATH}/server_${sys:id:-}.log.gz&quot;\r\n                     ignoreExceptions=&quot;false&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;%d{yy-MM-dd HH:mm:ss.SSS} %-5p %t - %m%n&lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;50MB&quot; /&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;5&quot;&gt;\r\n                &lt;Delete basePath=&quot;${LOG_PATH}&quot; maxDepth=&quot;1&quot;&gt;\r\n                    &lt;IfFileName glob=&quot;*/app-*.log.gz&quot; /&gt;\r\n                    &lt;IfLastModified age=&quot;P30D&quot; /&gt;\r\n                &lt;/Delete&gt;\r\n            &lt;/DefaultRolloverStrategy&gt;\r\n        &lt;/RollingFile&gt;\r\n```\r\n\r\nI think due to the delete tag being dysfunctional, it&#39;s making the &lt;DefaultRolloverStrategy&gt; not work as expected.\r\n\r\n**What did i try :** There are other rollingFileAppnders as well that i have in the same file where we dont have the \\&lt;delete\\&gt; tag and it is working fine as expected\r\n\r\n**What was i expecting :** I understand that the developer has written a wrong condition in the \\&lt;IfFileName\\&gt; tag inside the \\&lt;delete\\&gt; tag. But regardless of that at least according to me the files would have still rolled over, only that they wouldn&#39;t have been deleted.\r\n\r\nPlease correct me if my understanding is not correct (P.S: i am referring to Apache log4j2 doc https://logging.apache.org/log4j/2.x/manual/appenders.html#rollingfileappender )","title":"Log4j2 rollingFileAppender does not rolls over log files due to the &lt;delete&gt; tag nested inside &lt;DefaultRolloverStrategy&gt; tag","body":"<p>I have a log4j2 rollingFileAppender, its definition is as follows:</p>\n<pre><code>&lt;RollingFile name=&quot;safety&quot;\n                     fileName=&quot;${LOG_PATH}/server_${sys:id:-}.log&quot;\n                     filePattern=&quot;${LOG_PATH}/server_${sys:id:-}.log.gz&quot;\n                     ignoreExceptions=&quot;false&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;%d{yy-MM-dd HH:mm:ss.SSS} %-5p %t - %m%n&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;50MB&quot; /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;5&quot;&gt;\n                &lt;Delete basePath=&quot;${LOG_PATH}&quot; maxDepth=&quot;1&quot;&gt;\n                    &lt;IfFileName glob=&quot;*/app-*.log.gz&quot; /&gt;\n                    &lt;IfLastModified age=&quot;P30D&quot; /&gt;\n                &lt;/Delete&gt;\n            &lt;/DefaultRolloverStrategy&gt;\n        &lt;/RollingFile&gt;\n</code></pre>\n<p>I think due to the delete tag being dysfunctional, it's making the  not work as expected.</p>\n<p><strong>What did i try :</strong> There are other rollingFileAppnders as well that i have in the same file where we dont have the &lt;delete&gt; tag and it is working fine as expected</p>\n<p><strong>What was i expecting :</strong> I understand that the developer has written a wrong condition in the &lt;IfFileName&gt; tag inside the &lt;delete&gt; tag. But regardless of that at least according to me the files would have still rolled over, only that they wouldn't have been deleted.</p>\n<p>Please correct me if my understanding is not correct (P.S: i am referring to Apache log4j2 doc <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html#rollingfileappender\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/appenders.html#rollingfileappender</a> )</p>\n"},{"tags":["java","sockets","tcp"],"comments":[{"owner":{"account_id":18682665,"reputation":1535,"user_id":13618871,"display_name":"AKSingh"},"score":0,"creation_date":1687806406,"post_id":76557421,"comment_id":134985459,"body_markdown":"Could you share the contents of the file `Question`?","body":"Could you share the contents of the file <code>Question</code>?"}],"answers":[{"comments":[{"owner":{"account_id":18682665,"reputation":1535,"user_id":13618871,"display_name":"AKSingh"},"score":0,"creation_date":1687977727,"post_id":76561865,"comment_id":135013627,"body_markdown":"@Broj1 If this solved your issue, kindly mark the answer as accepted. It not only helps me, but also helps the community understand that this issue is solved.","body":"@Broj1 If this solved your issue, kindly mark the answer as accepted. It not only helps me, but also helps the community understand that this issue is solved."}],"tags":[],"owner":{"account_id":18682665,"reputation":1535,"user_id":13618871,"display_name":"AKSingh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687876462,"creation_date":1687843947,"answer_id":76561865,"question_id":76557421,"body_markdown":"A **NullPointerException** occurs in your code at the line `m.getValue().add(name)`. The root cause of this exception is in your Server class. Observe the following code from your Server class:\r\n\r\n```\r\nfor (int i = 1; i &lt; l; i++) {\r\n    lista.put(i, null);\r\n}\r\n```\r\n\r\nYou associate each Integer to a null value. Now, whenever you will use `lista.get(1)` it returns null. What happens when you use `lista.get(1).add(name)`? It throws a NullPointerException. That is why `m.getValue().add(name)` throws **NullPointerException**, since `m.getValue()` is null.\r\n\r\n## Improvements\r\n\r\nYour code is filled with bad practices. You should avoid them as this makes code harder to debug, less readable and can even impact performance. Here are few things that I have observed:\r\n\r\n1. You **did not print the stack trace** in your UserThread class. You would have caught the problem by yourself if you would have done so. Currently, your catch block is just empty.\r\n\r\n2. `port` variable can be final and static. Server will work on a fixed port and it is associated to a server as a whole and not a particular instance of server object. Hence, it can be final and static.\r\n\r\n3. Returning from finally block. This is a very bad practice and for several reasons. You can search about it online to know more.\r\n\r\n4. While statement could not complete without throwing exception. Your loop is infinite and it can only end whenever an exception occurs. You can add graceful ending at the client. It can finish whenever it has answered all the questions.\r\n\r\nThere could be few other minor improvements but I will keep the list short.","title":"Why doesn&#39;t client get next question in this quiz implementation in Java?","body":"<p>A <strong>NullPointerException</strong> occurs in your code at the line <code>m.getValue().add(name)</code>. The root cause of this exception is in your Server class. Observe the following code from your Server class:</p>\n<pre><code>for (int i = 1; i &lt; l; i++) {\n    lista.put(i, null);\n}\n</code></pre>\n<p>You associate each Integer to a null value. Now, whenever you will use <code>lista.get(1)</code> it returns null. What happens when you use <code>lista.get(1).add(name)</code>? It throws a NullPointerException. That is why <code>m.getValue().add(name)</code> throws <strong>NullPointerException</strong>, since <code>m.getValue()</code> is null.</p>\n<h2>Improvements</h2>\n<p>Your code is filled with bad practices. You should avoid them as this makes code harder to debug, less readable and can even impact performance. Here are few things that I have observed:</p>\n<ol>\n<li><p>You <strong>did not print the stack trace</strong> in your UserThread class. You would have caught the problem by yourself if you would have done so. Currently, your catch block is just empty.</p>\n</li>\n<li><p><code>port</code> variable can be final and static. Server will work on a fixed port and it is associated to a server as a whole and not a particular instance of server object. Hence, it can be final and static.</p>\n</li>\n<li><p>Returning from finally block. This is a very bad practice and for several reasons. You can search about it online to know more.</p>\n</li>\n<li><p>While statement could not complete without throwing exception. Your loop is infinite and it can only end whenever an exception occurs. You can add graceful ending at the client. It can finish whenever it has answered all the questions.</p>\n</li>\n</ol>\n<p>There could be few other minor improvements but I will keep the list short.</p>\n"}],"owner":{"account_id":19572999,"reputation":17,"user_id":14323713,"display_name":"Broj 1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76561865,"answer_count":1,"score":0,"last_activity_date":1687876462,"creation_date":1687788198,"question_id":76557421,"body_markdown":"This code works, because while loop is working, but when I remove this comment in UserThread class\r\n```\t\r\n/*\tfor(Entry&lt;Integer,List&lt;String&gt;&gt; m: server.lista.entrySet()) {\r\n        \t\t\t\tif(c==m.getKey()) {\r\n    \t\t\t\t\tm.getValue().add(name);\r\n    \t\t\t\t\t//toUser.println(&quot;&quot;);\r\n    \t\t\t\t}\r\n        \t\t\t}\r\n        \t\t\tfor(Entry&lt;Integer,List&lt;String&gt;&gt; m: server.lista.entrySet()) {\r\n        \t\t\t\tSystem.out.println(m.getKey()+&quot; &quot;+m.getValue());\r\n        \t\t\t}*/\r\n```\r\nclient doesn&#39;t receive next question. While loop is stopping here. Can I get reason why this is happening?\r\nCodes are below. \r\n```\r\npackage quiz;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\n\r\npublic class Server {\r\npublic static int test_port=12321;\r\nprivate int port;\r\nprivate int counter=0;\r\nprivate int length;\r\nBufferedReader fromDocument;\r\npublic int numberOfClients=0;\r\npublic static HashMap&lt;Integer,List&lt;String&gt;&gt; lista=new HashMap&lt;Integer,List&lt;String&gt;&gt;();\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t//int l=lengthHashMap();\r\n\t\t\r\n\t\t// TODO Auto-generated method stub\r\nServer server=new Server(test_port);\r\nint l=server.lengthHashMap();\r\nfor(int i=1;i&lt;l;i++) {\r\n\tlista.put(i, null);\r\n}\r\nserver.execute();\r\n\t}\r\nprivate void execute() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\ttry(ServerSocket server=new ServerSocket(port)){\r\n\t\t\t\r\n\t\t\twhile(true) {\r\n\t\t\t\tSocket client=server.accept();\r\n\t\t\t\tSystem.out.println(&quot;Client connected&quot;);\r\n\t\t\t\tnumberOfClients++;\r\n\t\t\t\tUserThread user=new UserThread(client,this);\r\n\t\t\t\tuser.start();\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\npublic Server(int port) {\r\n\tthis.port=port;\r\n}\r\nprivate int lengthHashMap() {\r\n\ttry {\r\n\t\tfromDocument=new BufferedReader(new InputStreamReader(new FileInputStream(&quot;Questions.txt&quot;)));\r\n\t\tString line=fromDocument.readLine();\r\n\t\twhile(line!=null) {\r\n\t\t\tcounter++;\r\n\t\t\tline=fromDocument.readLine();\r\n\t\t}\r\n\t\tlength=counter/5;\r\n\t} catch (IOException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}finally {\r\n\t\treturn length;\r\n\t}\r\n\r\n}\r\n}\r\n```\r\n```\r\npackage quiz;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.FileInputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.io.PrintWriter;\r\nimport java.net.Socket;\r\nimport java.util.List;\r\nimport java.util.Map.Entry;\r\n\r\npublic class UserThread extends Thread{\r\n\tSocket client;\r\n\tServer server;\r\n\tBufferedReader fromDocument;\r\n\tprivate int counter=0;\r\n\tPrintWriter toUser;\r\n\tBufferedReader fromUser;\r\n\tString correctAnswer;\r\n\tString answer;\r\n\tString correctedLine;\r\n\tprivate int c=0;\r\n\tpublic UserThread(Socket client, Server server) {\r\n\t\t// TODO Auto-generated constructor stub\r\n\t\tthis.client=client;\r\n\t\tthis.server=server;\r\n\t}\r\npublic void run() {\r\n\ttry {\r\n\t\t\r\n\t\twhile(server.numberOfClients&lt;2) {\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\t\r\n\t\tfromDocument=new BufferedReader(new InputStreamReader(new FileInputStream(&quot;Questions.txt&quot;)));\r\n\t\tfromUser=new BufferedReader(new InputStreamReader(this.client.getInputStream()));\r\n\t\ttoUser=new PrintWriter(this.client.getOutputStream(),true);\r\n        String line=fromDocument.readLine();\r\n        String name=fromUser.readLine();\r\n\t\tSystem.out.println(name);\r\n        \t\twhile(!line.equalsIgnoreCase(&quot;&quot;)) {\r\n        \t\t\twhile(counter&lt;5) {\r\n        \t\t\tcounter++;\r\n        \t\t\tif(line.endsWith(&quot;*&quot;)){\r\n        \t\t\t\tcorrectAnswer=line.substring(0,1);\r\n        \t\t\t\tcorrectedLine=line.substring(0,line.length()-1);\r\n            \t\t\ttoUser.println(correctedLine);\r\n        \t\t\t}\r\n        \t\t\telse {\r\n        \t\t\t\ttoUser.println(line);\t\r\n        \t\t\t}\r\n        \t\t\tline=fromDocument.readLine();\r\n\r\n        \t\t}\r\n        \t\t\tc++;\r\n        \t\t\tcounter=0;\r\n        \t\t\tanswer=fromUser.readLine();\r\n \r\n        \t\t\t\t\r\n        \t\t\t\r\n        \t\t\tif(answer.equalsIgnoreCase(correctAnswer))\r\n        \t\t\t\ttoUser.println(&quot;Correct!&quot;);\r\n        \t\t\telse\r\n        \t\t\t\ttoUser.println(&quot;Incorrect!&quot;);\r\n        \t\t\t//line=fromUser.readLine();\r\n        \t\t\t//System.out.println(line);\r\n        \t\t/*\tfor(Entry&lt;Integer,List&lt;String&gt;&gt; m: server.lista.entrySet()) {\r\n        \t\t\t\tif(c==m.getKey()) {\r\n    \t\t\t\t\tm.getValue().add(name);\r\n    \t\t\t\t\t//toUser.println(&quot;&quot;);\r\n    \t\t\t\t}\r\n        \t\t\t}\r\n        \t\t\tfor(Entry&lt;Integer,List&lt;String&gt;&gt; m: server.lista.entrySet()) {\r\n        \t\t\t\tSystem.out.println(m.getKey()+&quot; &quot;+m.getValue());\r\n        \t\t\t}*/\r\n        \t\t\t\r\n        \t\t\t\r\n\t}\r\n\t} catch (Exception e) {\r\n\t\t// TODO: handle exception\r\n\t}\r\n\t\r\n}\r\n}\r\n```\r\n```\r\npackage quiz;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.PrintWriter;\r\nimport java.net.Socket;\r\nimport java.net.UnknownHostException;\r\nimport java.util.Scanner;\r\n\r\npublic class Client {\r\nprivate String name;\r\nprivate String hostname;\r\nprivate int port;\r\nString answer;\r\nBufferedReader fromServer;\r\nPrintWriter toServer;\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\nClient client=new Client(&quot;localhost&quot;,Server.test_port);\r\nclient.execute();\r\n\t}\r\nprivate void execute() {\r\n\ttry {\r\n\t\tthis.setName();\r\n\t} catch (IOException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n\t\t// TODO Auto-generated method stub\r\n\t\ttry(Socket client=new Socket(this.hostname,this.port)){\r\n\t\t\t\r\n\t\t\tfromServer=new BufferedReader(new InputStreamReader(client.getInputStream()));\r\n\t\t\ttoServer=new PrintWriter(client.getOutputStream(),true);\r\n\t\t\tSystem.out.println(&quot;Connected to server: &quot;+this.hostname);\r\n\t\t\ttoServer.println(this.name);\r\n\t\t\tString line;\r\n\t\t\twhile(true) {\r\n\t\t\t\tfor(int i=0;i&lt;5;i++) {\r\n\t\t\t\t\tline=fromServer.readLine();\r\n\t\t\t\t\tSystem.out.println(line);\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(&quot;Your answer is: &quot;);\r\n\t\t\t\tScanner sc=new Scanner(System.in);\r\n\t\t\t\tanswer=sc.nextLine();\r\n\t\t\t\ttoServer.println(answer);\r\n\t\t\t\tline=fromServer.readLine();\r\n\t\t\t\tSystem.out.println(line);\r\n\t\t\t\t//toServer.println(&quot;Next&quot;);\r\n\t\t\t\t//for(int j=0;j&lt;5;j++)\r\n\t\t\t\t//\tline=fromServer.readLine();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} catch (UnknownHostException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\npublic Client(String hostname,int port) {\r\n\tthis.hostname=hostname;\r\n\tthis.port=port;\r\n}\r\nprivate void setName() throws IOException {\r\n\t// TODO Auto-generated method stub\r\n\tSystem.out.println(&quot;Enter your name: &quot;);\r\n\tBufferedReader stdin=new BufferedReader(new InputStreamReader(System.in));\r\n\tthis.name=stdin.readLine();\r\n}\r\n}\r\n```\r\nContent of file Questions.txt:\r\n```\r\n1. Ko je režirao film Kad jaganjci utihnu?\r\nA) Robert Zemekis\r\nB) Frenk Darabont\r\nC) Džonatan Dem *\r\nD) Rob Rajner\r\n2. U kojoj državi se nalazi jezero Retba? \r\nA) U Senegalu * \r\nB) U Ugandi\r\nC) U Gani \r\nD) U Nigeriji \r\n3. Kako se zove drugi studijski album grupe Zabranjeno pušenje?\r\nA) Dok čekaš sabah sa šejtanom * \r\nB) Male priče o veliko ljubavi \r\nC) Pozdrav iz zemlje Safari \r\nD) Fildžan viška \r\n4. Pod kojom zastavom nastupa teniser Alehandro Davidovič Fokina? \r\nA) Pod zastavom Argentine \r\nB) Pod zastavom Rusije \r\nC) Pod zastavom Velike Britanije \r\nD) Pod zastavom Španije *\r\n```","title":"Why doesn&#39;t client get next question in this quiz implementation in Java?","body":"<p>This code works, because while loop is working, but when I remove this comment in UserThread class</p>\n<pre><code>/*  for(Entry&lt;Integer,List&lt;String&gt;&gt; m: server.lista.entrySet()) {\n                        if(c==m.getKey()) {\n                        m.getValue().add(name);\n                        //toUser.println(&quot;&quot;);\n                    }\n                    }\n                    for(Entry&lt;Integer,List&lt;String&gt;&gt; m: server.lista.entrySet()) {\n                        System.out.println(m.getKey()+&quot; &quot;+m.getValue());\n                    }*/\n</code></pre>\n<p>client doesn't receive next question. While loop is stopping here. Can I get reason why this is happening?\nCodes are below.</p>\n<pre><code>package quiz;\n\nimport java.io.BufferedReader;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.HashMap;\nimport java.util.List;\n\npublic class Server {\npublic static int test_port=12321;\nprivate int port;\nprivate int counter=0;\nprivate int length;\nBufferedReader fromDocument;\npublic int numberOfClients=0;\npublic static HashMap&lt;Integer,List&lt;String&gt;&gt; lista=new HashMap&lt;Integer,List&lt;String&gt;&gt;();\n\n\n    public static void main(String[] args) {\n        //int l=lengthHashMap();\n        \n        // TODO Auto-generated method stub\nServer server=new Server(test_port);\nint l=server.lengthHashMap();\nfor(int i=1;i&lt;l;i++) {\n    lista.put(i, null);\n}\nserver.execute();\n    }\nprivate void execute() {\n        // TODO Auto-generated method stub\n        try(ServerSocket server=new ServerSocket(port)){\n            \n            while(true) {\n                Socket client=server.accept();\n                System.out.println(&quot;Client connected&quot;);\n                numberOfClients++;\n                UserThread user=new UserThread(client,this);\n                user.start();\n            }\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\npublic Server(int port) {\n    this.port=port;\n}\nprivate int lengthHashMap() {\n    try {\n        fromDocument=new BufferedReader(new InputStreamReader(new FileInputStream(&quot;Questions.txt&quot;)));\n        String line=fromDocument.readLine();\n        while(line!=null) {\n            counter++;\n            line=fromDocument.readLine();\n        }\n        length=counter/5;\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }finally {\n        return length;\n    }\n\n}\n}\n</code></pre>\n<pre><code>package quiz;\n\nimport java.io.BufferedReader;\nimport java.io.FileInputStream;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.net.Socket;\nimport java.util.List;\nimport java.util.Map.Entry;\n\npublic class UserThread extends Thread{\n    Socket client;\n    Server server;\n    BufferedReader fromDocument;\n    private int counter=0;\n    PrintWriter toUser;\n    BufferedReader fromUser;\n    String correctAnswer;\n    String answer;\n    String correctedLine;\n    private int c=0;\n    public UserThread(Socket client, Server server) {\n        // TODO Auto-generated constructor stub\n        this.client=client;\n        this.server=server;\n    }\npublic void run() {\n    try {\n        \n        while(server.numberOfClients&lt;2) {\n            System.out.println();\n        }\n        \n        fromDocument=new BufferedReader(new InputStreamReader(new FileInputStream(&quot;Questions.txt&quot;)));\n        fromUser=new BufferedReader(new InputStreamReader(this.client.getInputStream()));\n        toUser=new PrintWriter(this.client.getOutputStream(),true);\n        String line=fromDocument.readLine();\n        String name=fromUser.readLine();\n        System.out.println(name);\n                while(!line.equalsIgnoreCase(&quot;&quot;)) {\n                    while(counter&lt;5) {\n                    counter++;\n                    if(line.endsWith(&quot;*&quot;)){\n                        correctAnswer=line.substring(0,1);\n                        correctedLine=line.substring(0,line.length()-1);\n                        toUser.println(correctedLine);\n                    }\n                    else {\n                        toUser.println(line);   \n                    }\n                    line=fromDocument.readLine();\n\n                }\n                    c++;\n                    counter=0;\n                    answer=fromUser.readLine();\n \n                        \n                    \n                    if(answer.equalsIgnoreCase(correctAnswer))\n                        toUser.println(&quot;Correct!&quot;);\n                    else\n                        toUser.println(&quot;Incorrect!&quot;);\n                    //line=fromUser.readLine();\n                    //System.out.println(line);\n                /*  for(Entry&lt;Integer,List&lt;String&gt;&gt; m: server.lista.entrySet()) {\n                        if(c==m.getKey()) {\n                        m.getValue().add(name);\n                        //toUser.println(&quot;&quot;);\n                    }\n                    }\n                    for(Entry&lt;Integer,List&lt;String&gt;&gt; m: server.lista.entrySet()) {\n                        System.out.println(m.getKey()+&quot; &quot;+m.getValue());\n                    }*/\n                    \n                    \n    }\n    } catch (Exception e) {\n        // TODO: handle exception\n    }\n    \n}\n}\n</code></pre>\n<pre><code>package quiz;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.net.Socket;\nimport java.net.UnknownHostException;\nimport java.util.Scanner;\n\npublic class Client {\nprivate String name;\nprivate String hostname;\nprivate int port;\nString answer;\nBufferedReader fromServer;\nPrintWriter toServer;\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\nClient client=new Client(&quot;localhost&quot;,Server.test_port);\nclient.execute();\n    }\nprivate void execute() {\n    try {\n        this.setName();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n        // TODO Auto-generated method stub\n        try(Socket client=new Socket(this.hostname,this.port)){\n            \n            fromServer=new BufferedReader(new InputStreamReader(client.getInputStream()));\n            toServer=new PrintWriter(client.getOutputStream(),true);\n            System.out.println(&quot;Connected to server: &quot;+this.hostname);\n            toServer.println(this.name);\n            String line;\n            while(true) {\n                for(int i=0;i&lt;5;i++) {\n                    line=fromServer.readLine();\n                    System.out.println(line);\n                }\n                System.out.println(&quot;Your answer is: &quot;);\n                Scanner sc=new Scanner(System.in);\n                answer=sc.nextLine();\n                toServer.println(answer);\n                line=fromServer.readLine();\n                System.out.println(line);\n                //toServer.println(&quot;Next&quot;);\n                //for(int j=0;j&lt;5;j++)\n                //  line=fromServer.readLine();\n            }\n            \n        } catch (UnknownHostException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\npublic Client(String hostname,int port) {\n    this.hostname=hostname;\n    this.port=port;\n}\nprivate void setName() throws IOException {\n    // TODO Auto-generated method stub\n    System.out.println(&quot;Enter your name: &quot;);\n    BufferedReader stdin=new BufferedReader(new InputStreamReader(System.in));\n    this.name=stdin.readLine();\n}\n}\n</code></pre>\n<p>Content of file Questions.txt:</p>\n<pre><code>1. Ko je režirao film Kad jaganjci utihnu?\nA) Robert Zemekis\nB) Frenk Darabont\nC) Džonatan Dem *\nD) Rob Rajner\n2. U kojoj državi se nalazi jezero Retba? \nA) U Senegalu * \nB) U Ugandi\nC) U Gani \nD) U Nigeriji \n3. Kako se zove drugi studijski album grupe Zabranjeno pušenje?\nA) Dok čekaš sabah sa šejtanom * \nB) Male priče o veliko ljubavi \nC) Pozdrav iz zemlje Safari \nD) Fildžan viška \n4. Pod kojom zastavom nastupa teniser Alehandro Davidovič Fokina? \nA) Pod zastavom Argentine \nB) Pod zastavom Rusije \nC) Pod zastavom Velike Britanije \nD) Pod zastavom Španije *\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":19936114,"reputation":562,"user_id":14608747,"display_name":"Paul Serre"},"score":1,"creation_date":1687374825,"post_id":76526424,"comment_id":134929542,"body_markdown":"You can achieve that using stream api:\n`String secondHighestSalaryEmployee = salaryMap.entrySet().stream().sorted(Map.Entry.&lt;String, Long&gt;comparingByValue().reversed()).skip(1).findFirst().map(Map.Entry::getKey).orElse(&quot;No employee found&quot;);`","body":"You can achieve that using stream api: <code>String secondHighestSalaryEmployee = salaryMap.entrySet().stream().sorted(Map.Entry.&lt;String, Long&gt;comparingByValue().reversed()).skip(1).findFirst().map(&zwnj;&#8203;Map.Entry::getKey).o&zwnj;&#8203;rElse(&quot;No employee found&quot;);</code>"},{"owner":{"account_id":9580750,"reputation":59,"user_id":7115339,"display_name":"Curious Coder"},"score":0,"creation_date":1687374966,"post_id":76526424,"comment_id":134929570,"body_markdown":"Thanks Paul. Appreciate your help.","body":"Thanks Paul. Appreciate your help."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1687375255,"post_id":76526424,"comment_id":134929636,"body_markdown":"@PaulSerre don’t do the homework of other people. They should atleast try it so they have the chance to learn something.","body":"@PaulSerre don’t do the homework of other people. They should atleast try it so they have the chance to learn something."}],"answers":[{"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1687376566,"post_id":76526502,"comment_id":134929843,"body_markdown":"Don’t do the homework of other user if they do not show any afford to solve it by themselves. They will not learn anything and  always ask here in the hope we do there work.","body":"Don’t do the homework of other user if they do not show any afford to solve it by themselves. They will not learn anything and  always ask here in the hope we do there work."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1687415149,"post_id":76526502,"comment_id":134934022,"body_markdown":"`.skip(1).findFirst().orElseThrow()` instead of `.toList().get(1)` will avoid the overhead of copying all the data to a new list that gets immediately thrown away.","body":"<code>.skip(1).findFirst().orElseThrow()</code> instead of <code>.toList().get(1)</code> will avoid the overhead of copying all the data to a new list that gets immediately thrown away."}],"tags":[],"owner":{"account_id":6254533,"reputation":29,"user_id":4863567,"display_name":"Angel C"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687375305,"creation_date":1687375305,"answer_id":76526502,"question_id":76526424,"body_markdown":"**Consider the following map as input**\r\n\r\n    Map&lt;String,Integer&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;anil&quot;,1000);\r\n        map.put(&quot;ankit&quot;,1200);\r\n        map.put(&quot;bhavna&quot;,1300);\r\n        map.put(&quot;james&quot;,1400);\r\n        map.put(&quot;micael&quot;,1500);\r\n        map.put(&quot;tom&quot;,1600);\r\n        map.put(&quot;daniel&quot;,1700);\r\n\r\n**We want to fetch second highest salary with employee name. This can be achieved by below code.**\r\n\r\n    Map.Entry&lt;String,Integer&gt; finalResult = map.entrySet()\r\n          .stream()\r\n          .sorted(Comparator.comparing(entry -&gt; -entry.getValue())) //desc order\r\n          .toList()\r\n          .get(1); // index start from 0\r\n\r\n","title":"How can we find the name of the employee having second highest salary in a Map(key -employee name, value-salary) using java 8 stream API?","body":"<p><strong>Consider the following map as input</strong></p>\n<pre><code>Map&lt;String,Integer&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;anil&quot;,1000);\n    map.put(&quot;ankit&quot;,1200);\n    map.put(&quot;bhavna&quot;,1300);\n    map.put(&quot;james&quot;,1400);\n    map.put(&quot;micael&quot;,1500);\n    map.put(&quot;tom&quot;,1600);\n    map.put(&quot;daniel&quot;,1700);\n</code></pre>\n<p><strong>We want to fetch second highest salary with employee name. This can be achieved by below code.</strong></p>\n<pre><code>Map.Entry&lt;String,Integer&gt; finalResult = map.entrySet()\n      .stream()\n      .sorted(Comparator.comparing(entry -&gt; -entry.getValue())) //desc order\n      .toList()\n      .get(1); // index start from 0\n</code></pre>\n"},{"comments":[{"owner":{"account_id":230362,"reputation":28330,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"score":0,"creation_date":1687377203,"post_id":76526660,"comment_id":134929941,"body_markdown":"The OP Is asking for the *second* highest value. Can still be done in one pass, though.","body":"The OP Is asking for the <i>second</i> highest value. Can still be done in one pass, though."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1687414688,"post_id":76526660,"comment_id":134933932,"body_markdown":"@khachik I read the question wrong. Thanks for pointing it out. I came up with a solution to find the 2nd largest one.","body":"@khachik I read the question wrong. Thanks for pointing it out. I came up with a solution to find the 2nd largest one."}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687414604,"creation_date":1687376773,"answer_id":76526660,"question_id":76526424,"body_markdown":"You can achieve it by collecting into `TreeSet` with a comparator by the `Entry::getValue()`. Poll last twice to get the 2nd largest result.\r\n\r\n```java\r\nMap&lt;String, Integer&gt; map = Map.of(\r\n\t\t&quot;Tom&quot;, 15,\r\n\t\t&quot;Jerry&quot;, 17,\r\n\t\t&quot;Silvester&quot;, 10,\r\n\t\t&quot;Tweety&quot;, 12\r\n);\r\n\r\nNavigableSet&lt;Map.Entry&lt;String,Integer&gt;&gt; set = map.entrySet()\r\n\t\t.stream()\r\n\t\t.collect(Collectors.toCollection(\r\n\t\t\t\t() -&gt; new TreeSet&lt;&gt;(Map.Entry.comparingByValue())));\r\n\r\nMap.Entry&lt;String,Integer&gt; last = set.pollLast();                // Jerry=17\r\n\t\tMap.Entry&lt;String,Integer&gt; secondLast = set.pollLast();  // Tom=15\r\n```","title":"How can we find the name of the employee having second highest salary in a Map(key -employee name, value-salary) using java 8 stream API?","body":"<p>You can achieve it by collecting into <code>TreeSet</code> with a comparator by the <code>Entry::getValue()</code>. Poll last twice to get the 2nd largest result.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; map = Map.of(\n        &quot;Tom&quot;, 15,\n        &quot;Jerry&quot;, 17,\n        &quot;Silvester&quot;, 10,\n        &quot;Tweety&quot;, 12\n);\n\nNavigableSet&lt;Map.Entry&lt;String,Integer&gt;&gt; set = map.entrySet()\n        .stream()\n        .collect(Collectors.toCollection(\n                () -&gt; new TreeSet&lt;&gt;(Map.Entry.comparingByValue())));\n\nMap.Entry&lt;String,Integer&gt; last = set.pollLast();                // Jerry=17\n        Map.Entry&lt;String,Integer&gt; secondLast = set.pollLast();  // Tom=15\n</code></pre>\n"},{"tags":[],"owner":{"account_id":230362,"reputation":28330,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687555199,"creation_date":1687555199,"answer_id":76543529,"question_id":76526424,"body_markdown":"I&#39;m surprised nobody has posted a simple `O(n)` solution:\r\n\r\n    import java.util.Map;\r\n    import java.util.HashMap;\r\n    import java.util.Map.Entry;\r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n            Map&lt;String,Integer&gt; map = new HashMap&lt;&gt;();\r\n            map.put(&quot;a&quot;,10);\r\n            map.put(&quot;b&quot;,12);\r\n            map.put(&quot;c&quot;,20);\r\n            map.put(&quot;d&quot;,18);\r\n            map.put(&quot;e&quot;,14);\r\n            map.put(&quot;f&quot;,16);\r\n        \r\n            Entry&lt;String, Integer&gt; highest = null;\r\n            Entry&lt;String, Integer&gt; secondHighest = null;\r\n            for(Entry&lt;String, Integer&gt; entry:map.entrySet()) {\r\n                if(highest == null) {\r\n                    highest = entry;\r\n                } else if(secondHighest == null) {\r\n                    secondHighest = entry;\r\n                } else if(highest.getValue() &lt;= entry.getValue()) {\r\n                    secondHighest = highest;\r\n                    highest = entry;\r\n                } else if(secondHighest.getValue() &lt;= entry.getValue()) {\r\n                    secondHighest = entry;\r\n                } else {\r\n                    // ignore\r\n                }\r\n            }\r\n            System.err.println(&quot;Highest: &quot; + highest.getKey() + &quot;: &quot; + highest.getValue());\r\n            System.err.println(&quot;Second highest: &quot; + secondHighest.getKey() + &quot;: &quot; + secondHighest.getValue());\r\n        }\r\n    }","title":"How can we find the name of the employee having second highest salary in a Map(key -employee name, value-salary) using java 8 stream API?","body":"<p>I'm surprised nobody has posted a simple <code>O(n)</code> solution:</p>\n<pre><code>import java.util.Map;\nimport java.util.HashMap;\nimport java.util.Map.Entry;\n\npublic class MyClass {\n    public static void main(String args[]) {\n        Map&lt;String,Integer&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;a&quot;,10);\n        map.put(&quot;b&quot;,12);\n        map.put(&quot;c&quot;,20);\n        map.put(&quot;d&quot;,18);\n        map.put(&quot;e&quot;,14);\n        map.put(&quot;f&quot;,16);\n    \n        Entry&lt;String, Integer&gt; highest = null;\n        Entry&lt;String, Integer&gt; secondHighest = null;\n        for(Entry&lt;String, Integer&gt; entry:map.entrySet()) {\n            if(highest == null) {\n                highest = entry;\n            } else if(secondHighest == null) {\n                secondHighest = entry;\n            } else if(highest.getValue() &lt;= entry.getValue()) {\n                secondHighest = highest;\n                highest = entry;\n            } else if(secondHighest.getValue() &lt;= entry.getValue()) {\n                secondHighest = entry;\n            } else {\n                // ignore\n            }\n        }\n        System.err.println(&quot;Highest: &quot; + highest.getKey() + &quot;: &quot; + highest.getValue());\n        System.err.println(&quot;Second highest: &quot; + secondHighest.getKey() + &quot;: &quot; + secondHighest.getValue());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28882671,"reputation":11,"user_id":22121817,"display_name":"Yellow Flash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687876389,"creation_date":1687557082,"answer_id":76543656,"question_id":76526424,"body_markdown":"If you use a TreeMap, which is an implementation of Map, you can provide a comparator at the time of its creation to sort the data which is entered into it, automatically. In this way, you can directly fetch your desired result.","title":"How can we find the name of the employee having second highest salary in a Map(key -employee name, value-salary) using java 8 stream API?","body":"<p>If you use a TreeMap, which is an implementation of Map, you can provide a comparator at the time of its creation to sort the data which is entered into it, automatically. In this way, you can directly fetch your desired result.</p>\n"}],"owner":{"account_id":9580750,"reputation":59,"user_id":7115339,"display_name":"Curious Coder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":4,"score":0,"last_activity_date":1687876389,"creation_date":1687374606,"question_id":76526424,"body_markdown":"We have a map Map&lt;String, Long&gt; which store employee name as string and employee salary as value. The task is to get the name with of the employee who has the second highest salary among the employees stores in this hashmap.","title":"How can we find the name of the employee having second highest salary in a Map(key -employee name, value-salary) using java 8 stream API?","body":"<p>We have a map Map&lt;String, Long&gt; which store employee name as string and employee salary as value. The task is to get the name with of the employee who has the second highest salary among the employees stores in this hashmap.</p>\n"},{"tags":["java","spring-boot","microservices","gateway","spring-cloud-gateway"],"owner":{"account_id":8903500,"reputation":1374,"user_id":6646188,"display_name":"Abhijit Mondal Abhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687876350,"creation_date":1687876350,"question_id":76565947,"body_markdown":"I need to send back the requestHeaders as a reponseBody from Spring Cloud Gateway, but I have to avoid to call the downstream service. I have already accomplished that I can send back the headers as responseBody. But, the problem is that I have to STOP the downstream service call. \r\n\r\nHow can I achieve this? As I checked the documentation, always call is passing to the downstream services. \r\n\r\nFollowing is my current code:\r\n\r\n    @Bean\r\n        public RouteLocator routes(RouteLocatorBuilder builder, CustomAuthPreFilter customAuthPreFilter) {\r\n            return builder.routes()\r\n                    .route(&quot;rewrite_response_upper&quot;, r -&gt; r.path(&quot;/request-headers/expose&quot;)\r\n                            .filters(f -&gt;\r\n                                f.rewritePath(&quot;/access-manager/(?&lt;segment&gt;.*)&quot;, &quot;/v1.0/access-manager/$\\\\{segment}&quot;)\r\n                                .modifyResponseBody(Object.class, Object.class, (exchange, s) -&gt; Mono.just(exchange.getRequest().getHeaders())))\r\n                                .uri(&quot;http://localhost:9125&quot;))\r\n                    .build();\r\n        }","title":"How to send back a response from Spring Cloud Gateway without calling the downstream service?","body":"<p>I need to send back the requestHeaders as a reponseBody from Spring Cloud Gateway, but I have to avoid to call the downstream service. I have already accomplished that I can send back the headers as responseBody. But, the problem is that I have to STOP the downstream service call.</p>\n<p>How can I achieve this? As I checked the documentation, always call is passing to the downstream services.</p>\n<p>Following is my current code:</p>\n<pre><code>@Bean\n    public RouteLocator routes(RouteLocatorBuilder builder, CustomAuthPreFilter customAuthPreFilter) {\n        return builder.routes()\n                .route(&quot;rewrite_response_upper&quot;, r -&gt; r.path(&quot;/request-headers/expose&quot;)\n                        .filters(f -&gt;\n                            f.rewritePath(&quot;/access-manager/(?&lt;segment&gt;.*)&quot;, &quot;/v1.0/access-manager/$\\\\{segment}&quot;)\n                            .modifyResponseBody(Object.class, Object.class, (exchange, s) -&gt; Mono.just(exchange.getRequest().getHeaders())))\n                            .uri(&quot;http://localhost:9125&quot;))\n                .build();\n    }\n</code></pre>\n"},{"tags":["java","gradlew","gradle-wrapper"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687876642,"post_id":76565941,"comment_id":134996459,"body_markdown":"Gradle 4? That&#39;s ancient. No idea if that&#39;s the problem, but I doubt it&#39;s compatible with Java 20.","body":"Gradle 4? That&#39;s ancient. No idea if that&#39;s the problem, but I doubt it&#39;s compatible with Java 20."},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1687876683,"post_id":76565941,"comment_id":134996470,"body_markdown":"I&#39;m not sure Gradle 4 can support Java 20 honestly, consider gradle upgrade first","body":"I&#39;m not sure Gradle 4 can support Java 20 honestly, consider gradle upgrade first"},{"owner":{"account_id":23791169,"reputation":1,"user_id":17802583,"display_name":"Beronicous"},"score":0,"creation_date":1687880422,"post_id":76565941,"comment_id":134997370,"body_markdown":"1.12.2 Forge, I believe, only allows Grade 4 but when I try to change my JAVA_HOME to an older version such as JDK11 It still show the same error.","body":"1.12.2 Forge, I believe, only allows Grade 4 but when I try to change my JAVA_HOME to an older version such as JDK11 It still show the same error."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1687890104,"post_id":76565941,"comment_id":134999548,"body_markdown":"You need to explicitly open the package to all unnamed modules, by providing `--add-opens java.base/java.lang=ALL-UNNAMED`. I have no idea how to do this in Gradle though.","body":"You need to explicitly open the package to all unnamed modules, by providing <code>--add-opens java.base&#47;java.lang=ALL-UNNAMED</code>. I have no idea how to do this in Gradle though."}],"owner":{"account_id":23791169,"reputation":1,"user_id":17802583,"display_name":"Beronicous"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687876309,"creation_date":1687876309,"question_id":76565941,"body_markdown":"I am trying to skid a minecraft client but I keep getting errors like this: \r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Unable to get mutable Windows environment variable map\r\n\r\n\r\nThe source code: https://github.com/IUDevman/gamesense-client\r\n\r\nWith --stacktrace:\r\n\r\n    * Exception is:\r\n    net.rubygrapefruit.platform.NativeException: Unable to get mutable Windows environment variable map\r\n            at net.rubygrapefruit.platform.internal.WrapperProcess.getWindowsEnv(WrapperProcess.java:127)\r\n            at net.rubygrapefruit.platform.internal.WrapperProcess.setEnvInternal(WrapperProcess.java:100)\r\n            at net.rubygrapefruit.platform.internal.WrapperProcess.setEnvironmentVariable(WrapperProcess.java:85)\r\n            at org.gradle.internal.nativeintegration.processenvironment.NativePlatformBackedProcessEnvironment.setNativeEnvironmentVariable(NativePlatformBackedProcessEnvironment.java:36)\r\n            at org.gradle.internal.nativeintegration.processenvironment.AbstractProcessEnvironment.setEnvironmentVariable(AbstractProcessEnvironment.java:67)\r\n            at org.gradle.internal.nativeintegration.processenvironment.AbstractProcessEnvironment.maybeSetEnvironment(AbstractProcessEnvironment.java:41)\r\n            at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:65)\r\n            at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n            at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n            at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\r\n            at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\r\n            at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n            at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n            at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n            at java.base/java.lang.Thread.run(Thread.java:1623)\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private static final java.util.Map java.lang.ProcessEnvironment.theCaseInsensitiveEnvironment accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @3f0ee7cb\r\n            at java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387)\r\n            at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363)\r\n            at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311)\r\n            at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:181)\r\n            at java.base/java.lang.reflect.Field.setAccessible(Field.java:175)\r\n            at net.rubygrapefruit.platform.internal.WrapperProcess.getWindowsEnv(WrapperProcess.java:124)\r\n            ... 16 more\r\n    \r\n    \r\n    * Get more help at https://help.gradle.org\r\n\r\n\r\nGradlew version:\r\n\r\n    ------------------------------------------------------------\r\n    Gradle 4.10.3\r\n    ------------------------------------------------------------\r\n    \r\n    Build time:   2018-12-05 00:50:54 UTC\r\n    Revision:     e76905e3a1034e6f724566aeb985621347ff43bc\r\n    \r\n    Kotlin DSL:   1.0-rc-6\r\n    Kotlin:       1.2.61\r\n    Groovy:       2.4.15\r\n    Ant:          Apache Ant(TM) version 1.9.11 compiled on March 23 2018\r\n    JVM:          20.0.1 (Oracle Corporation 20.0.1+9-29)\r\n    OS:           Windows 10 10.0 amd64\r\nJDK Version: 20.0\r\n\r\nYes, I did input the JDK in the JAVA_HOME and Path.","title":"Unable to get mutable Windows environment variable map Gradlew Error","body":"<p>I am trying to skid a minecraft client but I keep getting errors like this:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nUnable to get mutable Windows environment variable map\n</code></pre>\n<p>The source code: <a href=\"https://github.com/IUDevman/gamesense-client\" rel=\"nofollow noreferrer\">https://github.com/IUDevman/gamesense-client</a></p>\n<p>With --stacktrace:</p>\n<pre><code>* Exception is:\nnet.rubygrapefruit.platform.NativeException: Unable to get mutable Windows environment variable map\n        at net.rubygrapefruit.platform.internal.WrapperProcess.getWindowsEnv(WrapperProcess.java:127)\n        at net.rubygrapefruit.platform.internal.WrapperProcess.setEnvInternal(WrapperProcess.java:100)\n        at net.rubygrapefruit.platform.internal.WrapperProcess.setEnvironmentVariable(WrapperProcess.java:85)\n        at org.gradle.internal.nativeintegration.processenvironment.NativePlatformBackedProcessEnvironment.setNativeEnvironmentVariable(NativePlatformBackedProcessEnvironment.java:36)\n        at org.gradle.internal.nativeintegration.processenvironment.AbstractProcessEnvironment.setEnvironmentVariable(AbstractProcessEnvironment.java:67)\n        at org.gradle.internal.nativeintegration.processenvironment.AbstractProcessEnvironment.maybeSetEnvironment(AbstractProcessEnvironment.java:41)\n        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:65)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n        at java.base/java.lang.Thread.run(Thread.java:1623)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private static final java.util.Map java.lang.ProcessEnvironment.theCaseInsensitiveEnvironment accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @3f0ee7cb\n        at java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387)\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363)\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311)\n        at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:181)\n        at java.base/java.lang.reflect.Field.setAccessible(Field.java:175)\n        at net.rubygrapefruit.platform.internal.WrapperProcess.getWindowsEnv(WrapperProcess.java:124)\n        ... 16 more\n\n\n* Get more help at https://help.gradle.org\n</code></pre>\n<p>Gradlew version:</p>\n<pre><code>------------------------------------------------------------\nGradle 4.10.3\n------------------------------------------------------------\n\nBuild time:   2018-12-05 00:50:54 UTC\nRevision:     e76905e3a1034e6f724566aeb985621347ff43bc\n\nKotlin DSL:   1.0-rc-6\nKotlin:       1.2.61\nGroovy:       2.4.15\nAnt:          Apache Ant(TM) version 1.9.11 compiled on March 23 2018\nJVM:          20.0.1 (Oracle Corporation 20.0.1+9-29)\nOS:           Windows 10 10.0 amd64\n</code></pre>\n<p>JDK Version: 20.0</p>\n<p>Yes, I did input the JDK in the JAVA_HOME and Path.</p>\n"},{"tags":["java","jackson","jackson2","jackson-dataformat-xml"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1687873811,"post_id":76565410,"comment_id":134995676,"body_markdown":"The default implementation of `ToXmlGenerator` does not support changing the standalone attribute in the XML declaration unfortunately, because `XMLStreamWriter` which `ToXmlGenerator` is based on, does not support such an operation","body":"The default implementation of <code>ToXmlGenerator</code> does not support changing the standalone attribute in the XML declaration unfortunately, because <code>XMLStreamWriter</code> which <code>ToXmlGenerator</code> is based on, does not support such an operation"}],"answers":[{"comments":[{"owner":{"account_id":26669791,"reputation":41,"user_id":20281373,"display_name":"Reid2"},"score":0,"creation_date":1687875566,"post_id":76565718,"comment_id":134996163,"body_markdown":"I cant find `ToXmlGenerator.Feature.STANDALONE`.","body":"I cant find <code>ToXmlGenerator.Feature.STANDALONE</code>."},{"owner":{"account_id":8137250,"reputation":705,"user_id":6128516,"display_name":"Samir Lakhani"},"score":0,"creation_date":1687876239,"post_id":76565718,"comment_id":134996343,"body_markdown":"Apologies for the confusion. It appears that the ToXmlGenerator.Feature.STANDALONE feature does not exist in the ToXmlGenerator class in Jackson. I apologize for the incorrect information.\nTo include the standalone=&quot;yes&quot; attribute in the XML prolog, you can implement a custom XML writer using Jackson&#39;s XmlMapper and override the method responsible for writing the XML prolog. Here&#39;s an example:","body":"Apologies for the confusion. It appears that the ToXmlGenerator.Feature.STANDALONE feature does not exist in the ToXmlGenerator class in Jackson. I apologize for the incorrect information. To include the standalone=&quot;yes&quot; attribute in the XML prolog, you can implement a custom XML writer using Jackson&#39;s XmlMapper and override the method responsible for writing the XML prolog. Here&#39;s an example:"},{"owner":{"account_id":5919781,"reputation":29352,"user_id":4657412,"display_name":"DavidW"},"score":0,"creation_date":1687930604,"post_id":76565718,"comment_id":135004100,"body_markdown":"This answer also looks like ChatGPT","body":"This answer also looks like ChatGPT"},{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":0,"creation_date":1688993748,"post_id":76565718,"comment_id":135145791,"body_markdown":"This answer looks like it was generated by an AI (like ChatGPT), not by an actual human being. You should be aware that [posting AI-generated output is officially **BANNED** on Stack Overflow](https://meta.stackoverflow.com/q/421831). If this answer was indeed generated by an AI, then I strongly suggest you delete it before you get yourself into even bigger trouble: **WE TAKE PLAGIARISM SERIOUSLY HERE.** Please read: [Why posting GPT and ChatGPT generated answers is not currently allowed](https://stackoverflow.com/help/gpt-policy).","body":"This answer looks like it was generated by an AI (like ChatGPT), not by an actual human being. You should be aware that <a href=\"https://meta.stackoverflow.com/q/421831\">posting AI-generated output is officially <b>BANNED</b> on Stack Overflow</a>. If this answer was indeed generated by an AI, then I strongly suggest you delete it before you get yourself into even bigger trouble: <b>WE TAKE PLAGIARISM SERIOUSLY HERE.</b> Please read: <a href=\"https://stackoverflow.com/help/gpt-policy\">Why posting GPT and ChatGPT generated answers is not currently allowed</a>."}],"tags":[],"owner":{"account_id":8137250,"reputation":705,"user_id":6128516,"display_name":"Samir Lakhani"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687874818,"creation_date":1687874818,"answer_id":76565718,"question_id":76565410,"body_markdown":"To include the standalone=&quot;yes&quot; attribute in the XML prolog using Spring Boot and Jackson, you can customize the XmlMapper configuration by providing a custom Jackson2ObjectMapperBuilder instance. Here&#39;s an updated version of your code that includes the standalone attribute:\r\n\r\n    import com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\n    import com.fasterxml.jackson.dataformat.xml.ser.ToXmlGenerator;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.converter.xml.MappingJackson2XmlHttpMessageConverter;\r\n    import org.springframework.http.converter.xml.Jackson2ObjectMapperBuilder;\r\n    \r\n    @Configuration\r\n    public class JacksonXmlConfig {\r\n    \r\n        @Bean\r\n        public MappingJackson2XmlHttpMessageConverter mappingJackson2XmlHttpMessageConverter(Jackson2ObjectMapperBuilder builder) {\r\n            XmlMapper xmlMapper = builder.createXmlMapper(true).build();\r\n            xmlMapper.configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION, true);\r\n            xmlMapper.configure(ToXmlGenerator.Feature.WRITE_XML_1_0_BOM, false);\r\n            xmlMapper.configure(ToXmlGenerator.Feature.STANDALONE, &quot;yes&quot;); // Set the standalone attribute\r\n            \r\n            return new MappingJackson2XmlHttpMessageConverter(xmlMapper);\r\n        }\r\n\r\n    }\r\nIn this updated code, the xmlMapper.configure(ToXmlGenerator.Feature.STANDALONE, &quot;yes&quot;) line sets the standalone attribute in the XML prolog to &quot;yes&quot;. This will include the standalone=&quot;yes&quot; attribute in the generated XML responses.\r\n\r\nPlease note that the ToXmlGenerator.Feature.STANDALONE feature is available starting from Jackson version 2.13.0. Since you mentioned that your Jackson version is 2.14.2, it should work fine.\r\n\r\nMake sure to include this configuration class in your Spring Boot application or in the appropriate component scan location for it to take effect.\r\n    \r\n","title":"SpringBoot/Jackson how do I set standalone=&quot;yes&quot; in XML prolog","body":"<p>To include the standalone=&quot;yes&quot; attribute in the XML prolog using Spring Boot and Jackson, you can customize the XmlMapper configuration by providing a custom Jackson2ObjectMapperBuilder instance. Here's an updated version of your code that includes the standalone attribute:</p>\n<pre><code>import com.fasterxml.jackson.dataformat.xml.XmlMapper;\nimport com.fasterxml.jackson.dataformat.xml.ser.ToXmlGenerator;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.converter.xml.MappingJackson2XmlHttpMessageConverter;\nimport org.springframework.http.converter.xml.Jackson2ObjectMapperBuilder;\n\n@Configuration\npublic class JacksonXmlConfig {\n\n    @Bean\n    public MappingJackson2XmlHttpMessageConverter mappingJackson2XmlHttpMessageConverter(Jackson2ObjectMapperBuilder builder) {\n        XmlMapper xmlMapper = builder.createXmlMapper(true).build();\n        xmlMapper.configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION, true);\n        xmlMapper.configure(ToXmlGenerator.Feature.WRITE_XML_1_0_BOM, false);\n        xmlMapper.configure(ToXmlGenerator.Feature.STANDALONE, &quot;yes&quot;); // Set the standalone attribute\n        \n        return new MappingJackson2XmlHttpMessageConverter(xmlMapper);\n    }\n\n}\n</code></pre>\n<p>In this updated code, the xmlMapper.configure(ToXmlGenerator.Feature.STANDALONE, &quot;yes&quot;) line sets the standalone attribute in the XML prolog to &quot;yes&quot;. This will include the standalone=&quot;yes&quot; attribute in the generated XML responses.</p>\n<p>Please note that the ToXmlGenerator.Feature.STANDALONE feature is available starting from Jackson version 2.13.0. Since you mentioned that your Jackson version is 2.14.2, it should work fine.</p>\n<p>Make sure to include this configuration class in your Spring Boot application or in the appropriate component scan location for it to take effect.</p>\n"}],"owner":{"account_id":26669791,"reputation":41,"user_id":20281373,"display_name":"Reid2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687876308,"creation_date":1687872726,"question_id":76565410,"body_markdown":"I&#39;ve created a bean to include an XML prolog in my Jackson XML responses. \r\n\r\n```\r\n@Bean\r\n    public MappingJackson2XmlHttpMessageConverter mappingJackson2XmlHttpMessageConverter(Jackson2ObjectMapperBuilder builder) throws XMLStreamException {\r\n        XmlMapper xmlMapper = builder.createXmlMapper(true).build();\r\n        xmlMapper.configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION, true);\r\n        \r\n        return new MappingJackson2XmlHttpMessageConverter(xmlMapper);\r\n    }\r\n```\r\n\r\nBut, I need to include `standalone=&quot;yes&quot;` in the prolog. I&#39;m not sure how to add this additional attribute? My Spring Boot version is 3.0.6 and my Jackson version is 2.14.2","title":"SpringBoot/Jackson how do I set standalone=&quot;yes&quot; in XML prolog","body":"<p>I've created a bean to include an XML prolog in my Jackson XML responses.</p>\n<pre><code>@Bean\n    public MappingJackson2XmlHttpMessageConverter mappingJackson2XmlHttpMessageConverter(Jackson2ObjectMapperBuilder builder) throws XMLStreamException {\n        XmlMapper xmlMapper = builder.createXmlMapper(true).build();\n        xmlMapper.configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION, true);\n        \n        return new MappingJackson2XmlHttpMessageConverter(xmlMapper);\n    }\n</code></pre>\n<p>But, I need to include <code>standalone=&quot;yes&quot;</code> in the prolog. I'm not sure how to add this additional attribute? My Spring Boot version is 3.0.6 and my Jackson version is 2.14.2</p>\n"},{"tags":["java","junit","allure"],"comments":[{"owner":{"account_id":4853449,"reputation":2312,"user_id":3915166,"display_name":"Dmitry Baev"},"score":0,"creation_date":1631639177,"post_id":69131431,"comment_id":122275290,"body_markdown":"Allure has no such functionality","body":"Allure has no such functionality"},{"owner":{"account_id":9795917,"reputation":1,"user_id":10578655,"display_name":"Rea1"},"score":0,"creation_date":1632912192,"post_id":69131431,"comment_id":122619564,"body_markdown":"Thank you, Dmitry. Solved the task another way","body":"Thank you, Dmitry. Solved the task another way"}],"answers":[{"tags":[],"owner":{"account_id":7522930,"reputation":108,"user_id":6028588,"display_name":"Sabrina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687876187,"creation_date":1687876187,"answer_id":76565921,"question_id":69131431,"body_markdown":"It&#39;s been a while but for anyone wondering, the folder allure-report is generated by the [Allure reporting][1] tool. \r\nTo generate using maven, you can use command `mvn allure:serve`.\r\nIf you first install the [Allure commands][2], you can use command `allure generate`.\r\n\r\n\r\n  [1]: https://docs.qameta.io/allure/\r\n  [2]: https://docs.qameta.io/allure/#_installing_a_commandline","title":"How to get /allure-result (NOT allure-report) folder from junt report xml","body":"<p>It's been a while but for anyone wondering, the folder allure-report is generated by the <a href=\"https://docs.qameta.io/allure/\" rel=\"nofollow noreferrer\">Allure reporting</a> tool.\nTo generate using maven, you can use command <code>mvn allure:serve</code>.\nIf you first install the <a href=\"https://docs.qameta.io/allure/#_installing_a_commandline\" rel=\"nofollow noreferrer\">Allure commands</a>, you can use command <code>allure generate</code>.</p>\n"}],"owner":{"account_id":9795917,"reputation":1,"user_id":10578655,"display_name":"Rea1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687876187,"creation_date":1631272743,"question_id":69131431,"body_markdown":"GIVEN: Junit5 reports like:\r\n\r\n      ?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;testsuites&gt;\r\n       &lt;testsuite name=&quot;ru.vtb.octopus.test&quot; errors=&quot;0&quot; skipped=&quot;0&quot; tests=&quot;3&quot; failures=&quot;0&quot; time=&quot;0.10&quot; timestamp=&quot;2021-02-1T10:23:58&quot;&gt;\r\n          &lt;properties&gt;\r\n             &lt;property name=&quot;vendor&quot; value=&quot;Systems&quot; /&gt;\r\n             &lt;property name=&quot;type&quot; value=&quot;example&quot; /&gt;\r\n          &lt;/properties&gt;\r\n          &lt;testcase classname=&quot;ru.vtb.octopus.test&quot; name=&quot;Test1&quot; time=&quot;0.01&quot; /&gt;\r\n          &lt;testcase classname=&quot;ru.vtb.octopus.test&quot; name=&quot;Test2&quot; time=&quot;0.05&quot; /&gt;\r\n          &lt;testcase classname=&quot;ru.vtb.octopus.test&quot; name=&quot;Test&quot; time=&quot;0.04&quot; /&gt;\r\n       &lt;/testsuite&gt;\r\n    &lt;/testsuites&gt;\r\n\r\nCan I generate an /allure-result (NOT allure-report) folder.\r\n\r\nDetails:\r\nA vendor created pl/sql autotests (non-java framework), that generates JUnit reports as a result. I can get only a result - the JUnit report.\r\n\r\nI have to get /allure-result folder with appropriate data. This data is used as input data for another company&#39;s tool. It is possible?\r\n\r\nIt&#39;s a piece of cake to generate the final /allure-report (either using Allure CLI tool with  allure serve or allure -generate  or maven-allure plugin )\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to get /allure-result (NOT allure-report) folder from junt report xml","body":"<p>GIVEN: Junit5 reports like:</p>\n<pre><code>  ?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;testsuites&gt;\n   &lt;testsuite name=&quot;ru.vtb.octopus.test&quot; errors=&quot;0&quot; skipped=&quot;0&quot; tests=&quot;3&quot; failures=&quot;0&quot; time=&quot;0.10&quot; timestamp=&quot;2021-02-1T10:23:58&quot;&gt;\n      &lt;properties&gt;\n         &lt;property name=&quot;vendor&quot; value=&quot;Systems&quot; /&gt;\n         &lt;property name=&quot;type&quot; value=&quot;example&quot; /&gt;\n      &lt;/properties&gt;\n      &lt;testcase classname=&quot;ru.vtb.octopus.test&quot; name=&quot;Test1&quot; time=&quot;0.01&quot; /&gt;\n      &lt;testcase classname=&quot;ru.vtb.octopus.test&quot; name=&quot;Test2&quot; time=&quot;0.05&quot; /&gt;\n      &lt;testcase classname=&quot;ru.vtb.octopus.test&quot; name=&quot;Test&quot; time=&quot;0.04&quot; /&gt;\n   &lt;/testsuite&gt;\n&lt;/testsuites&gt;\n</code></pre>\n<p>Can I generate an /allure-result (NOT allure-report) folder.</p>\n<p>Details:\nA vendor created pl/sql autotests (non-java framework), that generates JUnit reports as a result. I can get only a result - the JUnit report.</p>\n<p>I have to get /allure-result folder with appropriate data. This data is used as input data for another company's tool. It is possible?</p>\n<p>It's a piece of cake to generate the final /allure-report (either using Allure CLI tool with  allure serve or allure -generate  or maven-allure plugin )</p>\n"},{"tags":["java","quarkus","open-telemetry","jaeger","telemetry"],"comments":[{"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"score":0,"creation_date":1687915415,"post_id":76565847,"comment_id":135002787,"body_markdown":"Turns out this was working in the demo application because it was using org.eclipse.microprofile.rest.client.RestClientBuilder. When i switched to it, i started seeing traceids getting propagated.  Also i noticed the trace id is not getting logged at all though the context has the trace and span ids. has anyone experienced this before?","body":"Turns out this was working in the demo application because it was using org.eclipse.microprofile.rest.client.RestClientBuilder. When i switched to it, i started seeing traceids getting propagated.  Also i noticed the trace id is not getting logged at all though the context has the trace and span ids. has anyone experienced this before?"},{"owner":{"account_id":1954609,"reputation":903,"user_id":1757919,"display_name":"Roberto Cortez"},"score":0,"creation_date":1688555971,"post_id":76565847,"comment_id":135088202,"body_markdown":"It should work out of the box, by just including the Quarkus OpenTelemetry Extension. Any chance you can provide us with a copy of your code so we can have a look? You can also open an issue in Quarkus: https://github.com/quarkusio/quarkus/issues","body":"It should work out of the box, by just including the Quarkus OpenTelemetry Extension. Any chance you can provide us with a copy of your code so we can have a look? You can also open an issue in Quarkus: <a href=\"https://github.com/quarkusio/quarkus/issues\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues</a>"}],"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687875973,"creation_date":1687875673,"question_id":76565847,"body_markdown":"I am using Quarkus 2.13.x and trying to get tracing work across multiple services. For individual services tracing works fine. The issue is with tracing requests across multiple services. The demo sample worked fine with automatic context propagation with no extra changes. \r\nHowever, when i try it in our app, the automatic propagation doesn&#39;t work. whereas the manual propagation works when explicitly done with \r\n\r\n```\r\nopenTelemetry\r\n  .getPropagators()\r\n  .getTextMapPropagator()\r\n  .inject(Context.current(), transportLayer, setter);\r\n```\r\n\r\nFor the automatic propagation, i am importing the gradle extension \r\n\r\n```\r\nio.opentelemetry:opentelemetry-extension-trace-propagators\r\n```\r\n\r\nand also set the propagators in the `application.properties` to \r\n\r\n```\r\nquarkus.opentelemetry.propagators=tracecontext,baggage,jaeger\r\n``` \r\n\r\nHowever the manual approach works and the automated one doesn&#39;t. \r\n\r\nDo i need to do anything else for the automatic propagation to work? Also we are using Jaeger collector for the traces\r\n","title":"Quarkus Opentelemetry - Automatic versus manual context propagation","body":"<p>I am using Quarkus 2.13.x and trying to get tracing work across multiple services. For individual services tracing works fine. The issue is with tracing requests across multiple services. The demo sample worked fine with automatic context propagation with no extra changes.\nHowever, when i try it in our app, the automatic propagation doesn't work. whereas the manual propagation works when explicitly done with</p>\n<pre><code>openTelemetry\n  .getPropagators()\n  .getTextMapPropagator()\n  .inject(Context.current(), transportLayer, setter);\n</code></pre>\n<p>For the automatic propagation, i am importing the gradle extension</p>\n<pre><code>io.opentelemetry:opentelemetry-extension-trace-propagators\n</code></pre>\n<p>and also set the propagators in the <code>application.properties</code> to</p>\n<pre><code>quarkus.opentelemetry.propagators=tracecontext,baggage,jaeger\n</code></pre>\n<p>However the manual approach works and the automated one doesn't.</p>\n<p>Do i need to do anything else for the automatic propagation to work? Also we are using Jaeger collector for the traces</p>\n"},{"tags":["java","multithreading","parallel-processing","interrupt"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1687860997,"post_id":76563820,"comment_id":134992612,"body_markdown":"You&#39;ve answered your own question. `this` refers to the anonymous inner class, not to the `Thread`, so notifying the thread has no effect on `this.wait()`; but interrupting the thread does, as documented.","body":"You&#39;ve answered your own question. <code>this</code> refers to the anonymous inner class, not to the <code>Thread</code>, so notifying the thread has no effect on <code>this.wait()</code>; but interrupting the thread does, as documented."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1687865031,"post_id":76563820,"comment_id":134993432,"body_markdown":"The anonymous inner class is the thread.","body":"The anonymous inner class is the thread."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1687866156,"post_id":76563820,"comment_id":134993678,"body_markdown":"I don&#39;t know what actually is happening, but you are not supposed to use `wait` and `notify` on `Thread` instances.","body":"I don&#39;t know what actually is happening, but you are not supposed to use <code>wait</code> and <code>notify</code> on <code>Thread</code> instances."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1687867068,"post_id":76563820,"comment_id":134993884,"body_markdown":"@SolomonSlow that&#39;s a good point, when you call `notify` only one waiting object might get notified. `notifyAll` might help, but it is better to use a tool from the concurrent package that will manage your flow.","body":"@SolomonSlow that&#39;s a good point, when you call <code>notify</code> only one waiting object might get notified. <code>notifyAll</code> might help, but it is better to use a tool from the concurrent package that will manage your flow."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1687867616,"post_id":76563820,"comment_id":134994016,"body_markdown":"You&#39;re locking (the `x` in `synchronized (x)`) on an instance of `Thread`. __never do this__. In fact, when using locks, they are very &#39;internal&#39; - you should never lock on anything kinda public (and threads are _very_ public, any code can get all threads trivially). locking on `this` is suspect, even (__if__ you lock on `this`, your javadoc MUST explain in detail how that lock works, and it is now part of your spec, i.e. if you change this behaviour, that&#39;s a major version upgrade).","body":"You&#39;re locking (the <code>x</code> in <code>synchronized (x)</code>) on an instance of <code>Thread</code>. <b>never do this</b>. In fact, when using locks, they are very &#39;internal&#39; - you should never lock on anything kinda public (and threads are <i>very</i> public, any code can get all threads trivially). locking on <code>this</code> is suspect, even (<b>if</b> you lock on <code>this</code>, your javadoc MUST explain in detail how that lock works, and it is now part of your spec, i.e. if you change this behaviour, that&#39;s a major version upgrade)."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1687867654,"post_id":76563820,"comment_id":134994030,"body_markdown":"Hence, by default, __always lock on a private final field instead__. `private final Object lock = new Object[0];` is the go-to thing, then `synchronized (lock) {}` for locking. (Array instead of object because it can be serialized, which is rarely relevant, if you find `new Object()` more readable, have at it).","body":"Hence, by default, <b>always lock on a private final field instead</b>. <code>private final Object lock = new Object[0];</code> is the go-to thing, then <code>synchronized (lock) {}</code> for locking. (Array instead of object because it can be serialized, which is rarely relevant, if you find <code>new Object()</code> more readable, have at it)."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687874130,"post_id":76563820,"comment_id":134995764,"body_markdown":"actually, thinking about it, code is calling `join()` which also calls `wait()` - the `notify()` is only waking up the `wait()` in `join()` which continues waiting if the Thread is still alive - [documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#notify()) of `notify()`:  &quot;*Wakes up a single thread that is waiting on this object&#39;s monitor. If any threads are waiting on this object, one of them is chosen to be awakened.*&quot;","body":"actually, thinking about it, code is calling <code>join()</code> which also calls <code>wait()</code> - the <code>notify()</code> is only waking up the <code>wait()</code> in <code>join()</code> which continues waiting if the Thread is still alive - <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#notify()\" rel=\"nofollow noreferrer\">documentation</a> of <code>notify()</code>:  &quot;<i>Wakes up a single thread that is waiting on this object&#39;s monitor. If any threads are waiting on this object, one of them is chosen to be awakened.</i>&quot;"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1687874582,"post_id":76563820,"comment_id":134995904,"body_markdown":"@user16320675, That probably is the answer. You should make it an &quot;_Answer._&quot;","body":"@user16320675, That probably is the answer. You should make it an &quot;<i>Answer.</i>&quot;"}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687875848,"creation_date":1687866136,"answer_id":76564499,"question_id":76563820,"body_markdown":"It works for me. You should remove the race condition. Plus you seem to be using quite a few objects so you very well could be waiting on a different object than you&#39;re notifying. If the only change is the interrupt for the wait it should work.\r\n\r\n```\r\npublic class Junk{\r\n\tThread t;\r\n\tvolatile boolean waiting = false;\r\n    public Junk(){\r\n\t\tt = new Thread(){\r\n\t\t    @Override\r\n\t\t    public void run(){\r\n\t\t\t\tsynchronized(this){\r\n\t\t\t\t\twaiting = true;\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t    wait();\r\n\t\t\t\t\t}catch(Exception e){\r\n\t\t\t\t\t    e.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tSystem.out.println(&quot;finished&quot;);\r\n\t\t\t\t}\r\n\t\t    }\r\n\t\t};\r\n\t\t}\r\n    public static void main(String[] args) throws Exception{\r\n\t\tJunk y = new Junk();\r\n\t\ty.t.start();\r\n\t\twhile( !y.waiting ){\r\n\t\t\tSystem.out.print(&quot;.&quot;);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;go&quot;);\r\n\t\tsynchronized(y.t){\r\n\t\t\ty.t.notify();\r\n\t\t}\r\n\t\ty.t.join();\r\n\t}\r\n}\r\n```\r\n\r\nAs pointed out in the comments, notify only awakens one waiting thread if I add another wait on the same object, then notify will not release one of the waiting threads.\r\n\r\n    Junk y = new Junk();\r\n    new Thread( ()-&gt;{\r\n\t\t\tsynchronized(y.t){ try{ y.t.wait();}catch(Exception e){} System.out.println(&quot;waited&quot;);}\r\n    }).start();\r\n    y.t.start();\r\n\r\nAll of the threads get released by switching `notify()` with `notifyAll();`\r\n\r\nThis is especially a problem with Thread because it is very public. At the very least you should use a different object that isn&#39;t globally used for synchronization.","title":"Why does interrupt() on waiting thread work but notify() does not?","body":"<p>It works for me. You should remove the race condition. Plus you seem to be using quite a few objects so you very well could be waiting on a different object than you're notifying. If the only change is the interrupt for the wait it should work.</p>\n<pre><code>public class Junk{\n    Thread t;\n    volatile boolean waiting = false;\n    public Junk(){\n        t = new Thread(){\n            @Override\n            public void run(){\n                synchronized(this){\n                    waiting = true;\n                    try{\n                        wait();\n                    }catch(Exception e){\n                        e.printStackTrace();\n                    }\n                    System.out.println(&quot;finished&quot;);\n                }\n            }\n        };\n        }\n    public static void main(String[] args) throws Exception{\n        Junk y = new Junk();\n        y.t.start();\n        while( !y.waiting ){\n            System.out.print(&quot;.&quot;);\n        }\n        System.out.println(&quot;go&quot;);\n        synchronized(y.t){\n            y.t.notify();\n        }\n        y.t.join();\n    }\n}\n</code></pre>\n<p>As pointed out in the comments, notify only awakens one waiting thread if I add another wait on the same object, then notify will not release one of the waiting threads.</p>\n<pre><code>Junk y = new Junk();\nnew Thread( ()-&gt;{\n        synchronized(y.t){ try{ y.t.wait();}catch(Exception e){} System.out.println(&quot;waited&quot;);}\n}).start();\ny.t.start();\n</code></pre>\n<p>All of the threads get released by switching <code>notify()</code> with <code>notifyAll();</code></p>\n<p>This is especially a problem with Thread because it is very public. At the very least you should use a different object that isn't globally used for synchronization.</p>\n"}],"owner":{"account_id":28903948,"reputation":1,"user_id":22138293,"display_name":"rzdrrw"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687875848,"creation_date":1687860705,"question_id":76563820,"body_markdown":"I have created two sample classes, please ignore the quirks like accessing the Map by get(1L). I recreated the data structures I have in my real project in a very simple way because I am struggling with waking the thread up.\r\n\r\n\r\nFirst is the MyThread class. All it does is creating a thread, creating an instance of Handler and passing the Handler the thread and then waiting for the thread via join(). All the thread does is wait. It is synchronized on &quot;this&quot; which I assume is the instance of the thread (anonymous inner class).\r\n\r\n```\r\npublic class MyThread {\r\n\r\n\r\n    public static void main(String[] args) {\r\n        MyThread t = new MyThread();\r\n    }\r\n\r\n    public MyThread() {\r\n        Thread t = new Thread() {\r\n            @Override\r\n            public void run() {\r\n                synchronized (this) {\r\n                    try {\r\n                        wait();\r\n                    } catch (InterruptedException e) {\r\n                        System.out.println(&quot;interrupted&quot;);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        Handler handler = new Handler(t);\r\n\r\n        System.out.println(&quot;starting thread&quot;);\r\n        t.start();\r\n\r\n        try {\r\n            t.join();\r\n            System.out.println(&quot;joined! (woke up)&quot;);\r\n        } catch (InterruptedException e) {\r\n            System.out.println(&quot;MyThread interrupted&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThe Handler class has a map. To each key there is a set with threads assigned. After 3 times the Handler is supposed to wake up the thread in MyThread via &quot;t.notify()&quot;. I synchronized on the same monitor &quot;t&quot; right? Yet after it notified the thread in MyThread nothing happens. But if I change the t.notify() to t.interrupt() it does interrupt the waiting thread and the thread is joined in MyThread. I have zero clue as to why that is and was hoping for some clarification.\r\n\r\n\r\n```\r\npublic class Handler {\r\n\r\n    NavigableMap&lt;Long, Set&lt;Thread&gt;&gt; map = new TreeMap&lt;&gt;();\r\n\r\n    public Handler(Thread t2) {\r\n        System.out.println(&quot;in Handler&quot;);\r\n        map.put(1L, new HashSet&lt;&gt;());\r\n        map.get(1L).add(t2);\r\n\r\n        Thread t = new Thread(new Runnable() {\r\n            int counter = 0;\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    while (true) {\r\n                        System.out.println(&quot;waiting: &quot; + counter);\r\n                        Thread.sleep(3000);\r\n                        if (++counter == 3) {\r\n                            for (Thread t : map.get(1L)) {\r\n                                synchronized (t) {\r\n                                    System.out.println(&quot;notifying!&quot;);\r\n                                    t.notify();\r\n                                    System.out.println(&quot;notified!&quot;);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        });\r\n\r\n        t.start();\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nI have seen multiple questions on here where it was just synchronized on a different monitor but here I am synchronizing on &quot;this&quot; and then the same instance so it should be the same no?\r\n\r\nPlease excuse all the simplifications (for example the infinity loop) I just wanted to create an easy executable example.\r\n\r\n\r\n\r\nCreated the test example. I was expecting that the notify() would wake up the waiting thread.","title":"Why does interrupt() on waiting thread work but notify() does not?","body":"<p>I have created two sample classes, please ignore the quirks like accessing the Map by get(1L). I recreated the data structures I have in my real project in a very simple way because I am struggling with waking the thread up.</p>\n<p>First is the MyThread class. All it does is creating a thread, creating an instance of Handler and passing the Handler the thread and then waiting for the thread via join(). All the thread does is wait. It is synchronized on &quot;this&quot; which I assume is the instance of the thread (anonymous inner class).</p>\n<pre><code>public class MyThread {\n\n\n    public static void main(String[] args) {\n        MyThread t = new MyThread();\n    }\n\n    public MyThread() {\n        Thread t = new Thread() {\n            @Override\n            public void run() {\n                synchronized (this) {\n                    try {\n                        wait();\n                    } catch (InterruptedException e) {\n                        System.out.println(&quot;interrupted&quot;);\n                    }\n                }\n            }\n        };\n\n        Handler handler = new Handler(t);\n\n        System.out.println(&quot;starting thread&quot;);\n        t.start();\n\n        try {\n            t.join();\n            System.out.println(&quot;joined! (woke up)&quot;);\n        } catch (InterruptedException e) {\n            System.out.println(&quot;MyThread interrupted&quot;);\n        }\n\n    }\n}\n\n</code></pre>\n<p>The Handler class has a map. To each key there is a set with threads assigned. After 3 times the Handler is supposed to wake up the thread in MyThread via &quot;t.notify()&quot;. I synchronized on the same monitor &quot;t&quot; right? Yet after it notified the thread in MyThread nothing happens. But if I change the t.notify() to t.interrupt() it does interrupt the waiting thread and the thread is joined in MyThread. I have zero clue as to why that is and was hoping for some clarification.</p>\n<pre><code>public class Handler {\n\n    NavigableMap&lt;Long, Set&lt;Thread&gt;&gt; map = new TreeMap&lt;&gt;();\n\n    public Handler(Thread t2) {\n        System.out.println(&quot;in Handler&quot;);\n        map.put(1L, new HashSet&lt;&gt;());\n        map.get(1L).add(t2);\n\n        Thread t = new Thread(new Runnable() {\n            int counter = 0;\n            @Override\n            public void run() {\n                try {\n                    while (true) {\n                        System.out.println(&quot;waiting: &quot; + counter);\n                        Thread.sleep(3000);\n                        if (++counter == 3) {\n                            for (Thread t : map.get(1L)) {\n                                synchronized (t) {\n                                    System.out.println(&quot;notifying!&quot;);\n                                    t.notify();\n                                    System.out.println(&quot;notified!&quot;);\n                                }\n                            }\n                        }\n                    }\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        });\n\n        t.start();\n    }\n\n\n}\n</code></pre>\n<p>I have seen multiple questions on here where it was just synchronized on a different monitor but here I am synchronizing on &quot;this&quot; and then the same instance so it should be the same no?</p>\n<p>Please excuse all the simplifications (for example the infinity loop) I just wanted to create an easy executable example.</p>\n<p>Created the test example. I was expecting that the notify() would wake up the waiting thread.</p>\n"},{"tags":["java","liquibase"],"comments":[{"owner":{"account_id":105487,"reputation":26137,"user_id":281469,"accept_rate":94,"display_name":"bcoughlan"},"score":0,"creation_date":1687813026,"post_id":76529968,"comment_id":134986435,"body_markdown":"None of the answers apply to SQL Format (linked in question). Am I missing something?","body":"None of the answers apply to SQL Format (linked in question). Am I missing something?"}],"answers":[{"comments":[{"owner":{"account_id":105487,"reputation":26137,"user_id":281469,"accept_rate":94,"display_name":"bcoughlan"},"score":0,"creation_date":1687784745,"post_id":76556817,"comment_id":134980823,"body_markdown":"This question is about the SQL Format, not XML format: https://docs.liquibase.com/concepts/changelogs/sql-format.html","body":"This question is about the SQL Format, not XML format: <a href=\"https://docs.liquibase.com/concepts/changelogs/sql-format.html\" rel=\"nofollow noreferrer\">docs.liquibase.com/concepts/changelogs/sql-format.html</a>"},{"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"score":0,"creation_date":1687785094,"post_id":76556817,"comment_id":134980894,"body_markdown":"@bcoughlan please check my answer again!","body":"@bcoughlan please check my answer again!"}],"tags":[],"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687785067,"creation_date":1687783472,"answer_id":76556817,"question_id":76529968,"body_markdown":"why you don&#39;t use `sqlFile` tag to execute custom SQL scripts?\r\nsomething like this :\r\n\r\n    &lt;changeSet author=&quot;me&quot; id=&quot;1&quot;&gt;\r\n        &lt;sqlFile path=&quot;my_script.sql&quot;/&gt;\r\n    &lt;/changeSet&gt;\r\nor even something like this :\r\n\r\n    &lt;changeSet author=&quot;me&quot; id=&quot;2&quot;&gt;\r\n        &lt;sql&gt;\r\n            INSERT INTO my_table (columnAA, columnBB) VALUES (&#39;valueAA&#39;, &#39;valueBB&#39;);\r\n        &lt;/sql&gt;\r\n    &lt;/changeSet&gt;\r\n\r\n**update:**&lt;br&gt;\r\nok sorry, I think you can use the `` tag and set the `customChangeClass` attribute to the fully qualified name of your custom Java class, and don&#39;t forget you will need to include the necessary Java classes and dependencies for your custom change in your `Liquibase` classpath!\r\n\r\n    &lt;changeSet author=&quot;yourname&quot; id=&quot;yourid&quot;&gt;\r\n        &lt;comment&gt;Custom change using SQL format&lt;/comment&gt;\r\n        &lt;change customChangeClass=&quot;com.example.MyCustomChange&quot;&gt;\r\n            &lt;param name=&quot;id&quot; value=&quot;2&quot;/&gt;\r\n        &lt;/change&gt;\r\n    &lt;/changeSet&gt;","title":"Liquibase - How to run a Java code changeset using SQL Format?","body":"<p>why you don't use <code>sqlFile</code> tag to execute custom SQL scripts?\nsomething like this :</p>\n<pre><code>&lt;changeSet author=&quot;me&quot; id=&quot;1&quot;&gt;\n    &lt;sqlFile path=&quot;my_script.sql&quot;/&gt;\n&lt;/changeSet&gt;\n</code></pre>\n<p>or even something like this :</p>\n<pre><code>&lt;changeSet author=&quot;me&quot; id=&quot;2&quot;&gt;\n    &lt;sql&gt;\n        INSERT INTO my_table (columnAA, columnBB) VALUES ('valueAA', 'valueBB');\n    &lt;/sql&gt;\n&lt;/changeSet&gt;\n</code></pre>\n<p><strong>update:</strong><br>\nok sorry, I think you can use the `` tag and set the <code>customChangeClass</code> attribute to the fully qualified name of your custom Java class, and don't forget you will need to include the necessary Java classes and dependencies for your custom change in your <code>Liquibase</code> classpath!</p>\n<pre><code>&lt;changeSet author=&quot;yourname&quot; id=&quot;yourid&quot;&gt;\n    &lt;comment&gt;Custom change using SQL format&lt;/comment&gt;\n    &lt;change customChangeClass=&quot;com.example.MyCustomChange&quot;&gt;\n        &lt;param name=&quot;id&quot; value=&quot;2&quot;/&gt;\n    &lt;/change&gt;\n&lt;/changeSet&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687785869,"creation_date":1687785544,"answer_id":76557082,"question_id":76529968,"body_markdown":"If you are seeking the SQL changset you can check following link https://docs.liquibase.com/change-types/sql-file.html\r\n\r\nChangset for xml format using SQL Fromat would as follows:\r\n\r\n    &lt;changeSet author=&quot;liquibase-docs&quot; id=&quot;sqlFile-example&quot;&gt;\r\n         &lt;sqlFile \r\n            path=&quot;my/path/file.sql&quot;\r\n            relativeToChangelogFile=&quot;true&quot;\r\n            splitStatements=&quot;true&quot;\r\n            stripComments=&quot;true&quot;/&gt;\r\n    &lt;/changeSet&gt;\r\n\r\nthe path satrts from the resources file so, that means that `my` in the top changset is a folder under resources folder\r\n\r\n-----------\r\n\r\n\r\nYou can also construct a `JDBCTemplate` object using the `database.getConnection()` in the Java custom change this is handy when you have dynamic data, you want to update DB with\r\n\r\n\r\n```\r\npublic class MyCustomDbChange implements CustomTaskChange {\r\n    @Override\r\n    public void execute(Database database) {\r\n        JdbcConnection jdbcConnection = (JdbcConnection) database.getConnection();\r\n        Connection connection = jdbcConnection.getWrappedConnection();\r\n        SingleConnectionDataSource dataSource = new SingleConnectionDataSource(connection, false);\r\n        JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\r\n        //Then you can use JDBCTemplate methods to execute queries\r\n       \r\n        // Example select\r\n        List&lt;Map&lt;String, Object&gt;&gt; map = jdbcTemplate.queryForList(&quot;select * from user&quot;);\r\n\r\n        // Example single update\r\n        jdbcTemplate.update(&quot;update user set name=&#39;Test&#39; where id=&#39;1&#39;&quot;);\r\n\r\n        // Example batch update using prepared stmt query\r\n        jdbcTemplate.batchUpdate(\r\n            &quot;INSERT INTO user (id, name) VALUES (?, ?)&quot;,\r\n            new BatchPreparedStatementSetter() {\r\n                @Override\r\n                public void setValues(PreparedStatement ps, int idx) throws SQLException {\r\n                    String id = UUID.randomUUID().toString();\r\n                  \r\n                    ps.setString(1, id);\r\n                    ps.setString(2, &quot;dummy name &quot; + id);\r\n                }\r\n\r\n                @Override\r\n                public int getBatchSize() {\r\n                    return 100;\r\n                }\r\n            }\r\n        );\r\n\r\n       // .... other overridden methods\r\n    }\r\n\r\n```","title":"Liquibase - How to run a Java code changeset using SQL Format?","body":"<p>If you are seeking the SQL changset you can check following link <a href=\"https://docs.liquibase.com/change-types/sql-file.html\" rel=\"nofollow noreferrer\">https://docs.liquibase.com/change-types/sql-file.html</a></p>\n<p>Changset for xml format using SQL Fromat would as follows:</p>\n<pre><code>&lt;changeSet author=&quot;liquibase-docs&quot; id=&quot;sqlFile-example&quot;&gt;\n     &lt;sqlFile \n        path=&quot;my/path/file.sql&quot;\n        relativeToChangelogFile=&quot;true&quot;\n        splitStatements=&quot;true&quot;\n        stripComments=&quot;true&quot;/&gt;\n&lt;/changeSet&gt;\n</code></pre>\n<p>the path satrts from the resources file so, that means that <code>my</code> in the top changset is a folder under resources folder</p>\n<hr />\n<p>You can also construct a <code>JDBCTemplate</code> object using the <code>database.getConnection()</code> in the Java custom change this is handy when you have dynamic data, you want to update DB with</p>\n<pre><code>public class MyCustomDbChange implements CustomTaskChange {\n    @Override\n    public void execute(Database database) {\n        JdbcConnection jdbcConnection = (JdbcConnection) database.getConnection();\n        Connection connection = jdbcConnection.getWrappedConnection();\n        SingleConnectionDataSource dataSource = new SingleConnectionDataSource(connection, false);\n        JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\n        //Then you can use JDBCTemplate methods to execute queries\n       \n        // Example select\n        List&lt;Map&lt;String, Object&gt;&gt; map = jdbcTemplate.queryForList(&quot;select * from user&quot;);\n\n        // Example single update\n        jdbcTemplate.update(&quot;update user set name='Test' where id='1'&quot;);\n\n        // Example batch update using prepared stmt query\n        jdbcTemplate.batchUpdate(\n            &quot;INSERT INTO user (id, name) VALUES (?, ?)&quot;,\n            new BatchPreparedStatementSetter() {\n                @Override\n                public void setValues(PreparedStatement ps, int idx) throws SQLException {\n                    String id = UUID.randomUUID().toString();\n                  \n                    ps.setString(1, id);\n                    ps.setString(2, &quot;dummy name &quot; + id);\n                }\n\n                @Override\n                public int getBatchSize() {\n                    return 100;\n                }\n            }\n        );\n\n       // .... other overridden methods\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687875662,"creation_date":1687875662,"answer_id":76565846,"question_id":76529968,"body_markdown":"**TL;DR** You can&#39;t.\r\n\r\nThe supported formats for defining a custom change set are:\r\n1. XML\r\n```\r\n&lt;changeSet id=&quot;21&quot; author=&quot;nvoxland&quot;&gt;\r\n  &lt;customChange class=&quot;liquibase.change.custom.ExampleCustomTaskChange&quot;&gt;\r\n    &lt;param name=&quot;helloTo&quot; value=&quot;world&quot;/&gt;\r\n  &lt;/customChange&gt;\r\n&lt;/changeSet&gt;\r\n```\r\n2. YAML\r\n```\r\n-  changeSet:\r\n     id:  21\r\n     author: nvoxland\r\n     changes:\r\n     -  customChange:  {\r\n&quot;class&quot;: &quot;liquibase.change.custom.ExampleCustomTaskChange&quot;,\r\n&quot;helloTo&quot;: &quot;world&quot; }\r\n```\r\n3. JSON\r\n```\r\n{\r\n  &quot;changeSet&quot;: {\r\n    &quot;id&quot;: &quot;21&quot;,\r\n    &quot;author&quot;: &quot;nvoxland&quot;,\r\n    &quot;changes&quot;: [\r\n      {\r\n        &quot;customChange&quot;: {\r\n          &quot;class&quot;: &quot;liquibase.change.custom.ExampleCustomTaskChange&quot;,\r\n          &quot;helloTo&quot;: &quot;world&quot;\r\n        }\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\nBased on [https://docs.liquibase.com/change-types/custom-change.html][1]\r\n\r\n\r\n  [1]: https://docs.liquibase.com/change-types/custom-change.html","title":"Liquibase - How to run a Java code changeset using SQL Format?","body":"<p><strong>TL;DR</strong> You can't.</p>\n<p>The supported formats for defining a custom change set are:</p>\n<ol>\n<li>XML</li>\n</ol>\n<pre><code>&lt;changeSet id=&quot;21&quot; author=&quot;nvoxland&quot;&gt;\n  &lt;customChange class=&quot;liquibase.change.custom.ExampleCustomTaskChange&quot;&gt;\n    &lt;param name=&quot;helloTo&quot; value=&quot;world&quot;/&gt;\n  &lt;/customChange&gt;\n&lt;/changeSet&gt;\n</code></pre>\n<ol start=\"2\">\n<li>YAML</li>\n</ol>\n<pre><code>-  changeSet:\n     id:  21\n     author: nvoxland\n     changes:\n     -  customChange:  {\n&quot;class&quot;: &quot;liquibase.change.custom.ExampleCustomTaskChange&quot;,\n&quot;helloTo&quot;: &quot;world&quot; }\n</code></pre>\n<ol start=\"3\">\n<li>JSON</li>\n</ol>\n<pre><code>{\n  &quot;changeSet&quot;: {\n    &quot;id&quot;: &quot;21&quot;,\n    &quot;author&quot;: &quot;nvoxland&quot;,\n    &quot;changes&quot;: [\n      {\n        &quot;customChange&quot;: {\n          &quot;class&quot;: &quot;liquibase.change.custom.ExampleCustomTaskChange&quot;,\n          &quot;helloTo&quot;: &quot;world&quot;\n        }\n      }\n    ]\n  }\n}\n</code></pre>\n<p>Based on <a href=\"https://docs.liquibase.com/change-types/custom-change.html\" rel=\"nofollow noreferrer\">https://docs.liquibase.com/change-types/custom-change.html</a></p>\n"}],"owner":{"account_id":105487,"reputation":26137,"user_id":281469,"accept_rate":94,"display_name":"bcoughlan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76565846,"answer_count":3,"score":0,"last_activity_date":1687875662,"creation_date":1687422703,"question_id":76529968,"body_markdown":"With Liquibase XML you can trigger Java code to execute for a change with:\r\n\r\n```\r\n    &lt;customChange class=&quot;my.java.Class&quot;&gt;\r\n        &lt;param name=&quot;id&quot; value=&quot;2&quot; /&gt;\r\n    &lt;/customChange&gt;\r\n```\r\n\r\nHow can you trigger a custom change with Liquibase [SQL Format](https://docs.liquibase.com/concepts/changelogs/sql-format.html)?","title":"Liquibase - How to run a Java code changeset using SQL Format?","body":"<p>With Liquibase XML you can trigger Java code to execute for a change with:</p>\n<pre><code>    &lt;customChange class=&quot;my.java.Class&quot;&gt;\n        &lt;param name=&quot;id&quot; value=&quot;2&quot; /&gt;\n    &lt;/customChange&gt;\n</code></pre>\n<p>How can you trigger a custom change with Liquibase <a href=\"https://docs.liquibase.com/concepts/changelogs/sql-format.html\" rel=\"nofollow noreferrer\">SQL Format</a>?</p>\n"},{"tags":["java","swagger"],"comments":[{"owner":{"account_id":7087876,"reputation":2294,"user_id":5424117,"accept_rate":56,"display_name":"jb62"},"score":0,"creation_date":1687818584,"post_id":76559550,"comment_id":134987162,"body_markdown":"Are there any behind-the-scenes code or yaml files that OpenAPI generates that I could look at to see what is &quot;really&quot; going on here?  Just curious - the magic must live somewhere...","body":"Are there any behind-the-scenes code or yaml files that OpenAPI generates that I could look at to see what is &quot;really&quot; going on here?  Just curious - the magic must live somewhere..."},{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1687851163,"post_id":76559550,"comment_id":134990567,"body_markdown":"You have `@RequestBody` both before `UserDTO dto` and inside `@Operation`. My guess is they are conflicting. Try using `@RequestBody(description=...)` only before `UserDTO dto` and remove it from `@Operation` and see if it helps.","body":"You have <code>@RequestBody</code> both before <code>UserDTO dto</code> and inside <code>@Operation</code>. My guess is they are conflicting. Try using <code>@RequestBody(description=...)</code> only before <code>UserDTO dto</code> and remove it from <code>@Operation</code> and see if it helps."},{"owner":{"account_id":7087876,"reputation":2294,"user_id":5424117,"accept_rate":56,"display_name":"jb62"},"score":0,"creation_date":1687875615,"post_id":76559550,"comment_id":134996183,"body_markdown":"Thanks @Helen.  I tried that (see my Update above) and still no joy.  It works both ways (inside the ```@Operation```, or next to the Spring RequestBody annotation) in another Java project...  Of course, I have to leave the Spring RequestBody in there or the endpoint won&#39;t work correctly...\n\nMaybe it&#39;s a weird library conflict.  This project is older and has older versions of the Swagger libraries imported...","body":"Thanks @Helen.  I tried that (see my Update above) and still no joy.  It works both ways (inside the <code>@Operation</code>, or next to the Spring RequestBody annotation) in another Java project...  Of course, I have to leave the Spring RequestBody in there or the endpoint won&#39;t work correctly...  Maybe it&#39;s a weird library conflict.  This project is older and has older versions of the Swagger libraries imported..."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1687875871,"post_id":76559550,"comment_id":134996253,"body_markdown":"&quot;[...] but this one has older versions of the Swagger libraries&quot; -- I&#39;d probably try updating to the version(s) that work.","body":"&quot;[...] but this one has older versions of the Swagger libraries&quot; -- I&#39;d probably try updating to the version(s) that work."},{"owner":{"account_id":7087876,"reputation":2294,"user_id":5424117,"accept_rate":56,"display_name":"jb62"},"score":0,"creation_date":1687876035,"post_id":76559550,"comment_id":134996295,"body_markdown":"@DaveNewton - understood.  For a number of reasons I&#39;m not willing to do the refactoring necessary to do that.  There are a LOT of endpoints and I&#39;ve got a ton of higher-priority tickets to work.  I&#39;ll just live with this for now unless Helen has any other ideas.  Thanks all!","body":"@DaveNewton - understood.  For a number of reasons I&#39;m not willing to do the refactoring necessary to do that.  There are a LOT of endpoints and I&#39;ve got a ton of higher-priority tickets to work.  I&#39;ll just live with this for now unless Helen has any other ideas.  Thanks all!"}],"owner":{"account_id":7087876,"reputation":2294,"user_id":5424117,"accept_rate":56,"display_name":"jb62"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1687875497,"creation_date":1687806206,"question_id":76559550,"body_markdown":"I have the following API endpoint code with Swagger annotations (specifically the @Operation annotation with the @RequestBody description string):\r\n\r\n \r\n\r\n    @io.swagger.v3.oas.annotations.parameters.RequestBody(\r\n              description = &quot;Test String for RequestBody Here&quot;))\r\n\r\nFull method code:\r\n\r\n    //@ApiOperation(value = CreateOrUpdate.shortDescription, notes = CreateOrUpdate.detail)\r\n      @NewSpan\r\n      @Operation(\r\n          summary = CreateOrUpdate.shortDescription,\r\n          description = CreateOrUpdate.detail,\r\n          requestBody =\r\n          @io.swagger.v3.oas.annotations.parameters.RequestBody(\r\n              description = &quot;Test String for RequestBody Here&quot;)) // Swagger\r\n      @PostMapping\r\n      public UserDTO createOrUpdate(@RequestBody UserDTO dto,\r\n                                    @ApiParam(value = CreateOrUpdate.apiParamString)\r\n                                    @RequestParam(required = false) boolean skipTrainingUser) {\r\n        Result result = userService.createOrUpdateCrmUserObject(dto, skipTrainingUser);\r\n        ...\r\n      }\r\n\r\nThat code results in the following Swagger UI:\r\n\r\n[![Swagger UI without RequestBody description line][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fWLsr.png\r\n\r\nNote that the expected RequestBody description of &quot;Test String for RequestBody Here&quot; is not displayed on the Swagger UI under the *Request body* label.\r\n\r\nI&#39;m at a loss to explain why this is happening as it worked just fine in another project.  Any thoughts or ideas will be appreciated.\r\n\r\n**Update:** Per Helen&#39;s suggestion below I tried putting the Swagger RequestBody annotation before the UserDTO dto in the method statement like this:\r\n\r\n    //@ApiOperation(value = CreateOrUpdate.shortDescription, notes = CreateOrUpdate.detail)\r\n      @NewSpan\r\n      @Operation(\r\n          summary = CreateOrUpdate.shortDescription,\r\n          description = CreateOrUpdate.detail\r\n          )\r\n      @PostMapping\r\n      public UserDTO createOrUpdate(@io.swagger.v3.oas.annotations.parameters.RequestBody(\r\n                                    description = &quot;Test String for RequestBody Here&quot;) \r\n                                      @RequestBody UserDTO dto,\r\n                                    @Parameter(description = CreateOrUpdate.apiParamString)\r\n    //                                @ApiParam(value = CreateOrUpdate.apiParamString)\r\n                                    @RequestParam(required = false) boolean skipTrainingUser) {\r\n        Result result = userService.createOrUpdateCrmUserObject(dto, skipTrainingUser);\r\n\r\nBut it still does not display the text on the Swagger UI where it would be expected (under Request body text).\r\n\r\nI&#39;m beginning to wonder if there&#39;s some strange library conflict going on here.  It works fine either way in a different project/service, but this one has older versions of the Swagger libraries in it...","title":"Swagger RequestBody annotation &quot;description&quot; not showing on Swagger UI","body":"<p>I have the following API endpoint code with Swagger annotations (specifically the @Operation annotation with the @RequestBody description string):</p>\n<pre><code>@io.swagger.v3.oas.annotations.parameters.RequestBody(\n          description = &quot;Test String for RequestBody Here&quot;))\n</code></pre>\n<p>Full method code:</p>\n<pre><code>//@ApiOperation(value = CreateOrUpdate.shortDescription, notes = CreateOrUpdate.detail)\n  @NewSpan\n  @Operation(\n      summary = CreateOrUpdate.shortDescription,\n      description = CreateOrUpdate.detail,\n      requestBody =\n      @io.swagger.v3.oas.annotations.parameters.RequestBody(\n          description = &quot;Test String for RequestBody Here&quot;)) // Swagger\n  @PostMapping\n  public UserDTO createOrUpdate(@RequestBody UserDTO dto,\n                                @ApiParam(value = CreateOrUpdate.apiParamString)\n                                @RequestParam(required = false) boolean skipTrainingUser) {\n    Result result = userService.createOrUpdateCrmUserObject(dto, skipTrainingUser);\n    ...\n  }\n</code></pre>\n<p>That code results in the following Swagger UI:</p>\n<p><a href=\"https://i.stack.imgur.com/fWLsr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fWLsr.png\" alt=\"Swagger UI without RequestBody description line\" /></a></p>\n<p>Note that the expected RequestBody description of &quot;Test String for RequestBody Here&quot; is not displayed on the Swagger UI under the <em>Request body</em> label.</p>\n<p>I'm at a loss to explain why this is happening as it worked just fine in another project.  Any thoughts or ideas will be appreciated.</p>\n<p><strong>Update:</strong> Per Helen's suggestion below I tried putting the Swagger RequestBody annotation before the UserDTO dto in the method statement like this:</p>\n<pre><code>//@ApiOperation(value = CreateOrUpdate.shortDescription, notes = CreateOrUpdate.detail)\n  @NewSpan\n  @Operation(\n      summary = CreateOrUpdate.shortDescription,\n      description = CreateOrUpdate.detail\n      )\n  @PostMapping\n  public UserDTO createOrUpdate(@io.swagger.v3.oas.annotations.parameters.RequestBody(\n                                description = &quot;Test String for RequestBody Here&quot;) \n                                  @RequestBody UserDTO dto,\n                                @Parameter(description = CreateOrUpdate.apiParamString)\n//                                @ApiParam(value = CreateOrUpdate.apiParamString)\n                                @RequestParam(required = false) boolean skipTrainingUser) {\n    Result result = userService.createOrUpdateCrmUserObject(dto, skipTrainingUser);\n</code></pre>\n<p>But it still does not display the text on the Swagger UI where it would be expected (under Request body text).</p>\n<p>I'm beginning to wonder if there's some strange library conflict going on here.  It works fine either way in a different project/service, but this one has older versions of the Swagger libraries in it...</p>\n"},{"tags":["java","spring-boot","google-oauth","microservices","access-token"],"owner":{"account_id":18048122,"reputation":57,"user_id":13118527,"display_name":"David Ogbodu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687874849,"creation_date":1687867456,"question_id":76564679,"body_markdown":"so I am in a bit of situation, I have a microservice system that contains an api gateway, and a user microservice, i initially had an open custom login endpoint in my user microservice that returns a jwt and an user object (id, email and roles), the request passes my api gateway and since its an open endpoint, it lets it go through and gets the jwt and sets the jwt in the headers against closed endpoints. Now i am implementing a google sign in mechanism, from postman, i am able to get an access token, but then i need to pass the token to the api gateway, the token would be sent to an open separate endpoint in the user microservice to validate the access token and get the user info eg name and email. Unfortunately when using the code from the documentation, it returns a Precondition error like this: ```com.google.common.base.Preconditions.checkArgument(Preconditions.java:131)```\r\nThis is the method for validating the access token:\r\n```\r\npublic UserDto validateOAuth2Token(String token) {\r\n        System.out.println(&quot;Comes to user controller with token&quot;+ token);\r\n        NetHttpTransport httpTransport = null;\r\n        try {\r\n            httpTransport = GoogleNetHttpTransport.newTrustedTransport();\r\n            GsonFactory jsonFactory = GsonFactory.getDefaultInstance();\r\n            GoogleIdTokenVerifier verifier = new GoogleIdTokenVerifier.Builder(httpTransport, jsonFactory)\r\n                    .setAudience(Collections.singletonList(&quot;MY_CLIENT_ID&quot;))\r\n                    .build();\r\n            GoogleIdToken idToken = verifier.verify(token);\r\n            if (idToken != null) {\r\n                GoogleIdToken.Payload payload = idToken.getPayload();\r\n                String email = payload.getEmail();\r\n                return userDtoMapper.apply(customOAuth2UserService.upsertUser(email));\r\n            } else {\r\n                System.out.println(&quot;Invalid ID token.&quot;);\r\n                throw new GeneralSecurityException(&quot;Invalid ID token.&quot;);\r\n            }\r\n        } catch (GeneralSecurityException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\nI have also added my AuthFilter class of my api gateway:\r\n```\r\n@Component\r\n@Slf4j\r\npublic class AuthFilter extends AbstractGatewayFilterFactory&lt;AuthFilter.Config&gt; {\r\n    private final WebClient.Builder webClientBuilder;\r\n    public AuthFilter(WebClient.Builder webClientBuilder) {\r\n        super(Config.class);\r\n        this.webClientBuilder = webClientBuilder;\r\n    }\r\n    @Override\r\n    public GatewayFilter apply(Config config) {\r\n        return (exchange, chain) -&gt; {\r\n            try {\r\n                if (!exchange.getRequest().getHeaders().containsKey(HttpHeaders.AUTHORIZATION)) {\r\n                    throw new GatewayException(&quot;Missing authorization information&quot;);\r\n                }\r\n                String authHeader = exchange.getRequest().getHeaders().getFirst(HttpHeaders.AUTHORIZATION);\r\n                String[] parts = authHeader.split(&quot; &quot;);\r\n                if (parts.length != 2 || !&quot;Bearer&quot;.equals(parts[0])) {\r\n                    throw new GatewayException(&quot;Incorrect authorization structure&quot;);\r\n                }\r\n                String token = parts[1];\r\n                String customValidationUri = &quot;http://gateway-service/api/uu/v1/users/token/validate?token=&quot; + token;\r\n                String socialValidationUri = &quot;http://user-service/api/uu/v1/users/oauth2/validate?token=&quot; + token;\r\n                Mono&lt;UserDto&gt; validationRequest;\r\n                log.info(token);\r\n                if (isSocialLogin(token)) {\r\n                    validationRequest = webClientBuilder.build()\r\n                            .post()\r\n                            .uri(socialValidationUri)\r\n                            .retrieve()\r\n                            .bodyToMono(UserDto.class);\r\n                } else {\r\n                    validationRequest = webClientBuilder.build()\r\n                            .post()\r\n                            .uri(customValidationUri)\r\n                            .retrieve()\r\n                            .bodyToMono(UserDto.class);\r\n                }\r\n                return validationRequest.flatMap(user -&gt; {\r\n                    exchange.getRequest()\r\n                            .mutate()\r\n                            .header(&quot;x-id&quot;, String.valueOf(user.getId()))\r\n                            .header(&quot;x-email&quot;, String.valueOf(user.getEmail()))\r\n                            .header(&quot;x-roles&quot;, user.getRoles().toString())\r\n                            .build();\r\n                    return chain.filter(exchange);\r\n                });\r\n            } catch (RuntimeException ex) {\r\n                return handleException(ex, exchange);\r\n            }\r\n        };\r\n    }\r\n\r\n    private boolean isSocialLogin(String token){\r\n        if (token.startsWith(&quot;ya29&quot;)) {\r\n            System.out.println(&quot;This is a google login&quot;);\r\n            return true;\r\n        } else {\r\n            System.out.println(&quot;This is not a google login&quot;);\r\n            return false;\r\n        }\r\n    }\r\n    private Mono&lt;Void&gt; handleException(Exception ex, ServerWebExchange exchange) {\r\n        log.error(&quot;Error validating authentication header&quot;, ex);\r\n        List&lt;String&gt; details = new ArrayList&lt;&gt;();\r\n        details.add(ex.getLocalizedMessage());\r\n        ErrorResponse error = new ErrorResponse(new Date(), HttpStatus.UNAUTHORIZED.value(),\r\n                HttpStatus.UNAUTHORIZED.name(), details, exchange.getRequest().getURI().toString());\r\n        ServerHttpResponse response = exchange.getResponse();\r\n        byte[] bytes = SerializationUtils.serialize(error);\r\n        DataBuffer buffer = exchange.getResponse().bufferFactory().wrap(bytes);\r\n        response.writeWith(Mono.just(buffer));\r\n        response.setStatusCode(HttpStatus.UNAUTHORIZED);\r\n        return response.setComplete();\r\n    }\r\n    public static class Config {\r\n    }\r\n}\r\n```\r\nI need the email of the signed in user to save in my database if the user does not exist already, Please help me out to solve this issue if you can, and i am open to advice, suggestions, opinions towards a better approach, industry standards, best practices etc.","title":"Verify Google Access Token in Spring Boot Microservices System","body":"<p>so I am in a bit of situation, I have a microservice system that contains an api gateway, and a user microservice, i initially had an open custom login endpoint in my user microservice that returns a jwt and an user object (id, email and roles), the request passes my api gateway and since its an open endpoint, it lets it go through and gets the jwt and sets the jwt in the headers against closed endpoints. Now i am implementing a google sign in mechanism, from postman, i am able to get an access token, but then i need to pass the token to the api gateway, the token would be sent to an open separate endpoint in the user microservice to validate the access token and get the user info eg name and email. Unfortunately when using the code from the documentation, it returns a Precondition error like this: <code>com.google.common.base.Preconditions.checkArgument(Preconditions.java:131)</code>\nThis is the method for validating the access token:</p>\n<pre><code>public UserDto validateOAuth2Token(String token) {\n        System.out.println(&quot;Comes to user controller with token&quot;+ token);\n        NetHttpTransport httpTransport = null;\n        try {\n            httpTransport = GoogleNetHttpTransport.newTrustedTransport();\n            GsonFactory jsonFactory = GsonFactory.getDefaultInstance();\n            GoogleIdTokenVerifier verifier = new GoogleIdTokenVerifier.Builder(httpTransport, jsonFactory)\n                    .setAudience(Collections.singletonList(&quot;MY_CLIENT_ID&quot;))\n                    .build();\n            GoogleIdToken idToken = verifier.verify(token);\n            if (idToken != null) {\n                GoogleIdToken.Payload payload = idToken.getPayload();\n                String email = payload.getEmail();\n                return userDtoMapper.apply(customOAuth2UserService.upsertUser(email));\n            } else {\n                System.out.println(&quot;Invalid ID token.&quot;);\n                throw new GeneralSecurityException(&quot;Invalid ID token.&quot;);\n            }\n        } catch (GeneralSecurityException e) {\n            throw new RuntimeException(e);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>I have also added my AuthFilter class of my api gateway:</p>\n<pre><code>@Component\n@Slf4j\npublic class AuthFilter extends AbstractGatewayFilterFactory&lt;AuthFilter.Config&gt; {\n    private final WebClient.Builder webClientBuilder;\n    public AuthFilter(WebClient.Builder webClientBuilder) {\n        super(Config.class);\n        this.webClientBuilder = webClientBuilder;\n    }\n    @Override\n    public GatewayFilter apply(Config config) {\n        return (exchange, chain) -&gt; {\n            try {\n                if (!exchange.getRequest().getHeaders().containsKey(HttpHeaders.AUTHORIZATION)) {\n                    throw new GatewayException(&quot;Missing authorization information&quot;);\n                }\n                String authHeader = exchange.getRequest().getHeaders().getFirst(HttpHeaders.AUTHORIZATION);\n                String[] parts = authHeader.split(&quot; &quot;);\n                if (parts.length != 2 || !&quot;Bearer&quot;.equals(parts[0])) {\n                    throw new GatewayException(&quot;Incorrect authorization structure&quot;);\n                }\n                String token = parts[1];\n                String customValidationUri = &quot;http://gateway-service/api/uu/v1/users/token/validate?token=&quot; + token;\n                String socialValidationUri = &quot;http://user-service/api/uu/v1/users/oauth2/validate?token=&quot; + token;\n                Mono&lt;UserDto&gt; validationRequest;\n                log.info(token);\n                if (isSocialLogin(token)) {\n                    validationRequest = webClientBuilder.build()\n                            .post()\n                            .uri(socialValidationUri)\n                            .retrieve()\n                            .bodyToMono(UserDto.class);\n                } else {\n                    validationRequest = webClientBuilder.build()\n                            .post()\n                            .uri(customValidationUri)\n                            .retrieve()\n                            .bodyToMono(UserDto.class);\n                }\n                return validationRequest.flatMap(user -&gt; {\n                    exchange.getRequest()\n                            .mutate()\n                            .header(&quot;x-id&quot;, String.valueOf(user.getId()))\n                            .header(&quot;x-email&quot;, String.valueOf(user.getEmail()))\n                            .header(&quot;x-roles&quot;, user.getRoles().toString())\n                            .build();\n                    return chain.filter(exchange);\n                });\n            } catch (RuntimeException ex) {\n                return handleException(ex, exchange);\n            }\n        };\n    }\n\n    private boolean isSocialLogin(String token){\n        if (token.startsWith(&quot;ya29&quot;)) {\n            System.out.println(&quot;This is a google login&quot;);\n            return true;\n        } else {\n            System.out.println(&quot;This is not a google login&quot;);\n            return false;\n        }\n    }\n    private Mono&lt;Void&gt; handleException(Exception ex, ServerWebExchange exchange) {\n        log.error(&quot;Error validating authentication header&quot;, ex);\n        List&lt;String&gt; details = new ArrayList&lt;&gt;();\n        details.add(ex.getLocalizedMessage());\n        ErrorResponse error = new ErrorResponse(new Date(), HttpStatus.UNAUTHORIZED.value(),\n                HttpStatus.UNAUTHORIZED.name(), details, exchange.getRequest().getURI().toString());\n        ServerHttpResponse response = exchange.getResponse();\n        byte[] bytes = SerializationUtils.serialize(error);\n        DataBuffer buffer = exchange.getResponse().bufferFactory().wrap(bytes);\n        response.writeWith(Mono.just(buffer));\n        response.setStatusCode(HttpStatus.UNAUTHORIZED);\n        return response.setComplete();\n    }\n    public static class Config {\n    }\n}\n</code></pre>\n<p>I need the email of the signed in user to save in my database if the user does not exist already, Please help me out to solve this issue if you can, and i am open to advice, suggestions, opinions towards a better approach, industry standards, best practices etc.</p>\n"},{"tags":["java","double","drools","mvel","epsilon"],"comments":[{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1687875629,"post_id":76565678,"comment_id":134996189,"body_markdown":"You&#39;d do it the same way you&#39;d do it in Java. If you&#39;re avoiding BigDecimal, that would be a custom function, wouldn&#39;t it?","body":"You&#39;d do it the same way you&#39;d do it in Java. If you&#39;re avoiding BigDecimal, that would be a custom function, wouldn&#39;t it?"},{"owner":{"account_id":13760128,"reputation":1,"user_id":9930077,"display_name":"Ramya Loganathan"},"score":0,"creation_date":1688620602,"post_id":76565678,"comment_id":135098537,"body_markdown":"Yes but mvel is designed to handle type conversion and to be elegant right, if I add a function call everywhere, it kinda removes the advantage of using mvel. Thats why I am checking if there is a way to enforce mvel to do it @RoddyoftheFrozenPeas","body":"Yes but mvel is designed to handle type conversion and to be elegant right, if I add a function call everywhere, it kinda removes the advantage of using mvel. Thats why I am checking if there is a way to enforce mvel to do it @RoddyoftheFrozenPeas"},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1688652608,"post_id":76565678,"comment_id":135105220,"body_markdown":"&#175;\\\\_(ツ)_/&#175; Maybe if you framed this as an mvel question instead of a drools question then...","body":"&#175;\\_(ツ)_/&#175; Maybe if you framed this as an mvel question instead of a drools question then..."}],"owner":{"account_id":13760128,"reputation":1,"user_id":9930077,"display_name":"Ramya Loganathan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687874651,"creation_date":1687874549,"question_id":76565678,"body_markdown":"I am using mvel dialect for defining rules for drools rule engine. It may comprise of arithmetic expressions like in the when part as shown below\r\n```\r\nrule &quot;Test rule&quot;\r\n    dialect &quot;mvel&quot;\r\nwhen\r\n    context : ActionContext( context.get(&quot;test&quot;) == 0.8 )\r\nthen\r\ncontext.add(&quot;Success&quot; , &quot;test&quot;);\r\n\r\nend\r\n```\r\n\r\nI want the execution of rules to consider an epsilon value whenever there is a double comparison. As far as i went through the mvel library and internet search space i couldnt find a straightforward solution. But this seems like a common problem. Does mvel support this feature in any way? \r\n\r\nNote : i don&#39;t want to use BigDecimal considering the performance implications.\r\n\r\nSomething i can do is write a custom function for every double comparison. But this seems like the last thing to do. Is there a better way?","title":"Is there an in-built support to add epsilon as an input parameter for double comparsions with mvel dialect?","body":"<p>I am using mvel dialect for defining rules for drools rule engine. It may comprise of arithmetic expressions like in the when part as shown below</p>\n<pre><code>rule &quot;Test rule&quot;\n    dialect &quot;mvel&quot;\nwhen\n    context : ActionContext( context.get(&quot;test&quot;) == 0.8 )\nthen\ncontext.add(&quot;Success&quot; , &quot;test&quot;);\n\nend\n</code></pre>\n<p>I want the execution of rules to consider an epsilon value whenever there is a double comparison. As far as i went through the mvel library and internet search space i couldnt find a straightforward solution. But this seems like a common problem. Does mvel support this feature in any way?</p>\n<p>Note : i don't want to use BigDecimal considering the performance implications.</p>\n<p>Something i can do is write a custom function for every double comparison. But this seems like the last thing to do. Is there a better way?</p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1687867014,"post_id":76564105,"comment_id":134993869,"body_markdown":"&quot;I use the idea of groovy code execution，why?&quot; this subject doesn&#39;t make sense. Please update it.","body":"&quot;I use the idea of groovy code execution，why?&quot; this subject doesn&#39;t make sense. Please update it."}],"answers":[{"comments":[{"owner":{"account_id":19474716,"reputation":11,"user_id":14246311,"display_name":"Daniel"},"score":0,"creation_date":1687865482,"post_id":76564232,"comment_id":134993527,"body_markdown":"It is highly likely that the issue is related to the Groovy version. My Groovy version is 2.4.5.","body":"It is highly likely that the issue is related to the Groovy version. My Groovy version is 2.4.5."},{"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"score":0,"creation_date":1687865634,"post_id":76564232,"comment_id":134993559,"body_markdown":"@Daniel then it&#39;s 100% it. Groovy 2 doesn&#39;t support it. Install Groovy 4 and check, it should work.","body":"@Daniel then it&#39;s 100% it. Groovy 2 doesn&#39;t support it. Install Groovy 4 and check, it should work."},{"owner":{"account_id":19474716,"reputation":11,"user_id":14246311,"display_name":"Daniel"},"score":1,"creation_date":1687867253,"post_id":76564232,"comment_id":134993920,"body_markdown":"I upgraded the groovy version to 4.0.7  it woks  now . I can&#39;t vote for i am  a novice, appreciate your reply @Andrej Istomin","body":"I upgraded the groovy version to 4.0.7  it woks  now . I can&#39;t vote for i am  a novice, appreciate your reply @Andrej Istomin"},{"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"score":0,"creation_date":1687867927,"post_id":76564232,"comment_id":134994094,"body_markdown":"@Daniel glad to help. You&#39;re welcome :) and welcome to Stackoverflow!","body":"@Daniel glad to help. You&#39;re welcome :) and welcome to Stackoverflow!"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1687869820,"post_id":76564232,"comment_id":134994606,"body_markdown":"@Daniel Even if you cannot vote, you can accept this answer by clicking the checkmark.","body":"@Daniel Even if you cannot vote, you can accept this answer by clicking the checkmark."},{"owner":{"account_id":19474716,"reputation":11,"user_id":14246311,"display_name":"Daniel"},"score":1,"creation_date":1687931293,"post_id":76564232,"comment_id":135004177,"body_markdown":"@AndrejIstomin  yes  i  accepted.","body":"@AndrejIstomin  yes  i  accepted."}],"tags":[],"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687863963,"creation_date":1687863963,"answer_id":76564232,"question_id":76564105,"body_markdown":"What version of Groovy do you use? At some point Groovy didn&#39;t support initialization of more than one variable in the first part of a `for` loop. See more: https://stackoverflow.com/a/27386418/1842599\r\n\r\nI&#39;ve checked with Groovy 4 (I have `4.0.8` installed), multiple initialization works like a charm.\r\n\r\nSo, you may consider upgrading your Groovy version or rewrite your code, if upgrade is not possible.","title":"Groovy. Multiple initialization in &quot;for&quot; loop doesn&#39;t compile","body":"<p>What version of Groovy do you use? At some point Groovy didn't support initialization of more than one variable in the first part of a <code>for</code> loop. See more: <a href=\"https://stackoverflow.com/a/27386418/1842599\">https://stackoverflow.com/a/27386418/1842599</a></p>\n<p>I've checked with Groovy 4 (I have <code>4.0.8</code> installed), multiple initialization works like a charm.</p>\n<p>So, you may consider upgrading your Groovy version or rewrite your code, if upgrade is not possible.</p>\n"}],"owner":{"account_id":19474716,"reputation":11,"user_id":14246311,"display_name":"Daniel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76564232,"answer_count":1,"score":-1,"last_activity_date":1687874616,"creation_date":1687863038,"question_id":76564105,"body_markdown":"When I executed the following code using the built-in Groovy tool in IntelliJ IDEA, an error occurred.\r\n\r\n```\r\nStringBuilder sb = new StringBuilder()\r\n\r\nString a = &quot;abc&quot;\r\n\r\nString b = &quot;123&quot;\r\n\r\n\r\nfor (int i = 0, j = 0; i &lt; a.length() || j &lt; b.length(); i++, j++) {\r\n\r\n\r\n    if (i &lt; a.size()) {\r\n        print(a[i])\r\n\r\n        sb.append(a[i])\r\n    }\r\n\r\n}\r\n\r\nprint(sb)\r\n```\r\n\r\nError is as follows\r\n```\r\norg.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:\r\nideaGroovyConsole.groovy: 8: unexpected token: = @ line 8, column 12.\r\n   for (int i = 0, j = 0; i &lt; a.length() || j &lt; b.length(); i++, j++) {\r\n              ^\r\n\r\n1 error\r\n\r\n\tat org.codehaus.groovy.control.ErrorCollector.failIfErrors(ErrorCollector.java:310)\r\n\tat org.codehaus.groovy.control.ErrorCollector.addFatalError(ErrorCollector.java:150)\r\n\tat org.codehaus.groovy.control.ErrorCollector.addError(ErrorCollector.java:120)\r\n```\r\n\r\n\r\n```\r\nfor (int i = 0, j = 0; i &lt; a.length() || j &lt; b.length(); i++, j++) {\r\n\r\n```\r\nMy guess is that the grammar problems, but didn&#39;t send any questions。","title":"Groovy. Multiple initialization in &quot;for&quot; loop doesn&#39;t compile","body":"<p>When I executed the following code using the built-in Groovy tool in IntelliJ IDEA, an error occurred.</p>\n<pre><code>StringBuilder sb = new StringBuilder()\n\nString a = &quot;abc&quot;\n\nString b = &quot;123&quot;\n\n\nfor (int i = 0, j = 0; i &lt; a.length() || j &lt; b.length(); i++, j++) {\n\n\n    if (i &lt; a.size()) {\n        print(a[i])\n\n        sb.append(a[i])\n    }\n\n}\n\nprint(sb)\n</code></pre>\n<p>Error is as follows</p>\n<pre><code>org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:\nideaGroovyConsole.groovy: 8: unexpected token: = @ line 8, column 12.\n   for (int i = 0, j = 0; i &lt; a.length() || j &lt; b.length(); i++, j++) {\n              ^\n\n1 error\n\n    at org.codehaus.groovy.control.ErrorCollector.failIfErrors(ErrorCollector.java:310)\n    at org.codehaus.groovy.control.ErrorCollector.addFatalError(ErrorCollector.java:150)\n    at org.codehaus.groovy.control.ErrorCollector.addError(ErrorCollector.java:120)\n</code></pre>\n<pre><code>for (int i = 0, j = 0; i &lt; a.length() || j &lt; b.length(); i++, j++) {\n\n</code></pre>\n<p>My guess is that the grammar problems, but didn't send any questions。</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":1,"creation_date":1687861313,"post_id":76563556,"comment_id":134992674,"body_markdown":"You could use `KafkaTemplate.send` which takes a topic name as its first parameter","body":"You could use <code>KafkaTemplate.send</code> which takes a topic name as its first parameter"}],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687861806,"creation_date":1687861806,"answer_id":76563943,"question_id":76563556,"body_markdown":"There is no need to create a new producer for every topic you want to publish to, you can simply use the `KafkaTemplate` and call `send(String topic, T data)` to specify the topic instead:\r\n```java\r\npublic void send(final String topic, final TaskEvent requestStub) throws ExecutionException, InterruptedException, TimeoutException {\r\n    logger.info(&quot;{}::send()&quot;, getClass().getCanonicalName());\r\n\r\n    final ProducerRecord&lt;String, TaskEvent&gt; record = new ProducerRecord&lt;&gt;(topic, requestStub);\r\n    ListenableFuture future = template.send((ProducerRecord&lt;String, Req&gt;) record);\r\n\r\n    future.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, Req&gt;&gt;() {\r\n\r\n        @Override\r\n        public void onSuccess(SendResult&lt;String, Req&gt; result) {\r\n            logger.info(&quot;Sent message=[&quot; + requestStub +\r\n                &quot;] with offset=[&quot; + result.getRecordMetadata().offset() + &quot;]&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(Throwable ex) {\r\n            logger.error(&quot;Unable to send message=[&quot;\r\n                + requestStub + &quot;] due to : &quot; + ex.getMessage());\r\n        }\r\n    });\r\n}\r\n```\r\n\r\n```java\r\npublic void enqueue(final TaskEvent event) {\r\n    try {\r\n        String topicName = &quot;section&quot; + event.getID();\r\n        taskProducer.send(topicName, event);\r\n    } catch (Exception e) {\r\n        log.error(String.format(&quot;enqueue method failed in TimeOnTaskService. %s&quot;,\r\n            e.getMessage()));\r\n        throw new RuntimeException(e.getMessage(), e);\r\n    }\r\n}\r\n\r\n```\r\nKafka will automatically create a new topic, (if `auto.create.topics.enable=true` is enabled, which is the default), but it&#39;s really recommended to create topics AOT, so you can control their configurations implicitly","title":"Kafka Springboot - send topicName to producer on the fly","body":"<p>There is no need to create a new producer for every topic you want to publish to, you can simply use the <code>KafkaTemplate</code> and call <code>send(String topic, T data)</code> to specify the topic instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void send(final String topic, final TaskEvent requestStub) throws ExecutionException, InterruptedException, TimeoutException {\n    logger.info(&quot;{}::send()&quot;, getClass().getCanonicalName());\n\n    final ProducerRecord&lt;String, TaskEvent&gt; record = new ProducerRecord&lt;&gt;(topic, requestStub);\n    ListenableFuture future = template.send((ProducerRecord&lt;String, Req&gt;) record);\n\n    future.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, Req&gt;&gt;() {\n\n        @Override\n        public void onSuccess(SendResult&lt;String, Req&gt; result) {\n            logger.info(&quot;Sent message=[&quot; + requestStub +\n                &quot;] with offset=[&quot; + result.getRecordMetadata().offset() + &quot;]&quot;);\n        }\n\n        @Override\n        public void onFailure(Throwable ex) {\n            logger.error(&quot;Unable to send message=[&quot;\n                + requestStub + &quot;] due to : &quot; + ex.getMessage());\n        }\n    });\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public void enqueue(final TaskEvent event) {\n    try {\n        String topicName = &quot;section&quot; + event.getID();\n        taskProducer.send(topicName, event);\n    } catch (Exception e) {\n        log.error(String.format(&quot;enqueue method failed in TimeOnTaskService. %s&quot;,\n            e.getMessage()));\n        throw new RuntimeException(e.getMessage(), e);\n    }\n}\n\n</code></pre>\n<p>Kafka will automatically create a new topic, (if <code>auto.create.topics.enable=true</code> is enabled, which is the default), but it's really recommended to create topics AOT, so you can control their configurations implicitly</p>\n"},{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687873991,"creation_date":1687873991,"answer_id":76565585,"question_id":76563556,"body_markdown":"`NewTopic` beans are only declared during context initialization. To create topics dynamically, you would need to configure and use an `AdminClient`.\r\n\r\nhttps://docs.spring.io/spring-kafka/docs/current/reference/html/#configuring-topics","title":"Kafka Springboot - send topicName to producer on the fly","body":"<p><code>NewTopic</code> beans are only declared during context initialization. To create topics dynamically, you would need to configure and use an <code>AdminClient</code>.</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#configuring-topics\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#configuring-topics</a></p>\n"}],"owner":{"account_id":16528073,"reputation":125,"user_id":11942178,"display_name":"sFishman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76563943,"answer_count":2,"score":1,"last_activity_date":1687873991,"creation_date":1687858841,"question_id":76563556,"body_markdown":"I&#39;m writing an application in which I want to send a message into a given topic if it exists and if not, create a new topic and then send my message.\r\n\r\nThe problem I&#39;m having is I want the new topic name to be based on the data I&#39;m sending into that topic. So I want to be able to pass the topicName to the producer from my service class (below) on the fly.\r\n\r\nMy config class looks like this:\r\n```\r\n@EnableKafka\r\n@Configuration\r\nclass TimeOnTaskConfig {\r\n\r\n    @Bean\r\n    public NewTopic TimeOnTaskQueue() {\r\n        return TopicBuilder.name(&quot;testing123&quot;)\r\n            .partitions(1)\r\n            .replicas(1)\r\n            .build();\r\n    }\r\n\r\n    @Bean\r\n    public Producer&lt;TaskEvent&gt; timeOnTaskProducer(final KafkaTemplate&lt;String, TaskEvent&gt; template) {\r\n        return new Producer&lt;&gt;(\r\n            Producer.Config.builder()\r\n                .topicName(&quot;testing123&quot;)\r\n                .build(),\r\n            template);\r\n    }\r\n\r\n   \r\n    @Bean\r\n    public KafkaTemplate&lt;String, TaskEvent&gt; kafkaTemplate(\r\n        final ProducerFactory&lt;String, TaskEvent&gt; pf) {\r\n        return new KafkaTemplate&lt;&gt;(pf);\r\n    }\r\n```\r\n\r\nbut instead of passing in &quot;testing123&quot;, I&#39;d like to be able to pass a topicName parameter. When I add in a string parameter though to the timeOnTaskProducer definition, it gives me a `Could not autowire. No beans of &#39;String&#39; type found.` error message.\r\n\r\nHow should I go about sending the topicName as a parameter from my service?\r\nMy service for reference:\r\n```\r\n@Service\r\n@Slf4j\r\npublic class TimeOnTaskService {\r\n\r\n    private final Producer&lt;TaskEvent&gt; taskProducer;\r\n\r\n    public TimeOnTaskService(final Producer&lt;TaskEvent&gt; taskProducer) {\r\n        this.taskProducer = taskProducer;\r\n    }\r\n\r\n    public void enqueue(final TaskEvent event) {\r\n        try {\r\n//I&#39;d like to be able to do something here like: taskProducer.setTopicName(&quot;section&quot; + event.getID());\r\n            taskProducer.send(event);\r\n        } catch (Exception e) {\r\n            log.error(String.format(&quot;enqueue method failed in TimeOnTaskService. %s&quot;,\r\n                e.getMessage()));\r\n            throw new RuntimeException(e.getMessage(), e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand my producer:\r\n```\r\npublic class Producer&lt;Req&gt; {\r\n    private final Logger logger = LoggerFactory.getLogger(getClass());\r\n    private final KafkaTemplate&lt;String, Req&gt; template;\r\n    private final Config config;\r\n\r\n    public Producer(Config config, KafkaTemplate&lt;String, Req&gt; template) {\r\n        this.config = config;\r\n        this.template = template;\r\n    }\r\n\r\n    public void send(final TaskEvent requestStub) throws ExecutionException, InterruptedException, TimeoutException {\r\n        logger.info(&quot;{}::send()&quot;, getClass().getCanonicalName());\r\n\r\n        final ProducerRecord&lt;String, TaskEvent&gt; record = new ProducerRecord&lt;&gt;(config.topicName, requestStub);\r\n        ListenableFuture future = template.send((ProducerRecord&lt;String, Req&gt;) record);\r\n\r\n        future.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, Req&gt;&gt;() {\r\n\r\n            @Override\r\n            public void onSuccess(SendResult&lt;String, Req&gt; result) {\r\n                logger.info(&quot;Sent message=[&quot; + requestStub +\r\n                    &quot;] with offset=[&quot; + result.getRecordMetadata().offset() + &quot;]&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Throwable ex) {\r\n                logger.error(&quot;Unable to send message=[&quot;\r\n                    + requestStub + &quot;] due to : &quot; + ex.getMessage());\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @Getter\r\n    @Builder\r\n    @ToString\r\n    public static class Config {\r\n        private final String topicName;\r\n        private final int sendTimeout;\r\n    }\r\n}\r\n```","title":"Kafka Springboot - send topicName to producer on the fly","body":"<p>I'm writing an application in which I want to send a message into a given topic if it exists and if not, create a new topic and then send my message.</p>\n<p>The problem I'm having is I want the new topic name to be based on the data I'm sending into that topic. So I want to be able to pass the topicName to the producer from my service class (below) on the fly.</p>\n<p>My config class looks like this:</p>\n<pre><code>@EnableKafka\n@Configuration\nclass TimeOnTaskConfig {\n\n    @Bean\n    public NewTopic TimeOnTaskQueue() {\n        return TopicBuilder.name(&quot;testing123&quot;)\n            .partitions(1)\n            .replicas(1)\n            .build();\n    }\n\n    @Bean\n    public Producer&lt;TaskEvent&gt; timeOnTaskProducer(final KafkaTemplate&lt;String, TaskEvent&gt; template) {\n        return new Producer&lt;&gt;(\n            Producer.Config.builder()\n                .topicName(&quot;testing123&quot;)\n                .build(),\n            template);\n    }\n\n   \n    @Bean\n    public KafkaTemplate&lt;String, TaskEvent&gt; kafkaTemplate(\n        final ProducerFactory&lt;String, TaskEvent&gt; pf) {\n        return new KafkaTemplate&lt;&gt;(pf);\n    }\n</code></pre>\n<p>but instead of passing in &quot;testing123&quot;, I'd like to be able to pass a topicName parameter. When I add in a string parameter though to the timeOnTaskProducer definition, it gives me a <code>Could not autowire. No beans of 'String' type found.</code> error message.</p>\n<p>How should I go about sending the topicName as a parameter from my service?\nMy service for reference:</p>\n<pre><code>@Service\n@Slf4j\npublic class TimeOnTaskService {\n\n    private final Producer&lt;TaskEvent&gt; taskProducer;\n\n    public TimeOnTaskService(final Producer&lt;TaskEvent&gt; taskProducer) {\n        this.taskProducer = taskProducer;\n    }\n\n    public void enqueue(final TaskEvent event) {\n        try {\n//I'd like to be able to do something here like: taskProducer.setTopicName(&quot;section&quot; + event.getID());\n            taskProducer.send(event);\n        } catch (Exception e) {\n            log.error(String.format(&quot;enqueue method failed in TimeOnTaskService. %s&quot;,\n                e.getMessage()));\n            throw new RuntimeException(e.getMessage(), e);\n        }\n    }\n}\n</code></pre>\n<p>and my producer:</p>\n<pre><code>public class Producer&lt;Req&gt; {\n    private final Logger logger = LoggerFactory.getLogger(getClass());\n    private final KafkaTemplate&lt;String, Req&gt; template;\n    private final Config config;\n\n    public Producer(Config config, KafkaTemplate&lt;String, Req&gt; template) {\n        this.config = config;\n        this.template = template;\n    }\n\n    public void send(final TaskEvent requestStub) throws ExecutionException, InterruptedException, TimeoutException {\n        logger.info(&quot;{}::send()&quot;, getClass().getCanonicalName());\n\n        final ProducerRecord&lt;String, TaskEvent&gt; record = new ProducerRecord&lt;&gt;(config.topicName, requestStub);\n        ListenableFuture future = template.send((ProducerRecord&lt;String, Req&gt;) record);\n\n        future.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, Req&gt;&gt;() {\n\n            @Override\n            public void onSuccess(SendResult&lt;String, Req&gt; result) {\n                logger.info(&quot;Sent message=[&quot; + requestStub +\n                    &quot;] with offset=[&quot; + result.getRecordMetadata().offset() + &quot;]&quot;);\n            }\n\n            @Override\n            public void onFailure(Throwable ex) {\n                logger.error(&quot;Unable to send message=[&quot;\n                    + requestStub + &quot;] due to : &quot; + ex.getMessage());\n            }\n        });\n    }\n\n\n    @Getter\n    @Builder\n    @ToString\n    public static class Config {\n        private final String topicName;\n        private final int sendTimeout;\n    }\n}\n</code></pre>\n"},{"tags":["java","json","jackson","jackson-databind"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":1,"creation_date":1687873901,"post_id":76565547,"comment_id":134995701,"body_markdown":"You might consider moving away from `enableDefaultTyping()` and instead specify the type handling on the class or property level using @JsonTypeInfo and @JsonSubTypes","body":"You might consider moving away from <code>enableDefaultTyping()</code> and instead specify the type handling on the class or property level using @JsonTypeInfo and @JsonSubTypes"},{"owner":{"account_id":10617601,"reputation":73,"user_id":7819585,"display_name":"Duega"},"score":0,"creation_date":1691060764,"post_id":76565547,"comment_id":135441957,"body_markdown":"Is this Issue resolved? As I am getting issue due to deprecation of method getGenericType() from AnnotatedParameter Class and In docs it says to use &quot;Annotated.getType() for replacement&quot;, But not working.BTW I am upgrading from 2.10.2 to 2.13.5 . https://javadoc.io/static/com.fasterxml.jackson.core/jackson-databind/2.10.2/com/fasterxml/jackson/databind/introspect/AnnotatedParameter.html#getGenericType--","body":"Is this Issue resolved? As I am getting issue due to deprecation of method getGenericType() from AnnotatedParameter Class and In docs it says to use &quot;Annotated.getType() for replacement&quot;, But not working.BTW I am upgrading from 2.10.2 to 2.13.5 . <a href=\"https://javadoc.io/static/com.fasterxml.jackson.core/jackson-databind/2.10.2/com/fasterxml/jackson/databind/introspect/AnnotatedParameter.html#getGenericType--\" rel=\"nofollow noreferrer\">javadoc.io/static/com.fasterxml.jackson.core/jackson-databin&zwnj;&#8203;d/&hellip;</a>"}],"owner":{"account_id":6189564,"reputation":127,"user_id":4822609,"accept_rate":0,"display_name":"martin samm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687873725,"creation_date":1687873725,"question_id":76565547,"body_markdown":"So, i have an issue i&#39;m struggling to resolve. I have a service making a REST call to another service. Using jackson 2.12.7 all&#39;s well. Upgrading to jackson 2.13.5 the same code, config etc i&#39;m getting this error:\r\n\r\n```Could not resolve subtype of [simple type, class com.rapid7.platform.ipims.domain.PlatformUser]: missing type id property &#39;@class&#39; ```\r\n\r\nThe PlatformUser class is a straight forward POJO (and again unchanged) with the following props:\r\n\r\n\r\n```    private String userId;\r\n    private Customer customer;\r\n    private String email;\r\n    private String oktaUserId;\r\n    private Long createdTime;\r\n    private Long lastLoginTime;\r\n    private boolean multiCustomer = false;\r\n    private boolean externalIdp;\r\n    private Map&lt;String, String&gt; userProperties = new HashMap&lt;&gt;();\r\n```\r\n\r\nWe&#39;re using a Mixin to avoid deserializing userProperties Map. \r\n\r\nOur objectMapper is setup like this: \r\n\r\n    private ObjectMapper objectMapper() {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.enableDefaultTyping(\r\n            ObjectMapper.DefaultTyping.NON_FINAL,\r\n            JsonTypeInfo.As.PROPERTY\r\n        );\r\n        mapper.registerModule(new CoreJackson2Module());\r\n        mapper.registerModule(new WebJackson2Module());\r\n        mapper.registerModule(new WebServletJackson2Module());\r\n        mapper.registerModule(new WebServerJackson2Module());\r\n        mapper.registerModule(new Saml2Jackson2Module());\r\n        mapper.registerModules(new Saml2Jackson2Module());\r\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        // handle Java 8 Datetime with JSR-310\r\n        mapper.registerModule(new JavaTimeModule());\r\n        mapper.addMixIn(PlatformUser.class, PlatformUserMixin.class);\r\n        mapper.addMixIn(MapSession.class, MapSessionMixin.class);\r\n        return mapper;\r\n    }\r\n\r\n\r\nDebugging through the code i can see the objectmapper is wired in fine and that the objectMapper is setting it&#39;s valueType to a SimpleType[simple type, class PlatformUser] so things seem setup correctly but at some point something odd is happening and an AsPropertyTypeDeserializer is used and triggers the above exception (seems to be expecting the JSON to contain an @class definition/declaration, which was unnecessary previously).\r\n\r\nSo, can anyone help point me in the right direction?\r\n\r\nThanks alot.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Jackson Databind 2.12.7 to 2.13.5 Deserialization Issue","body":"<p>So, i have an issue i'm struggling to resolve. I have a service making a REST call to another service. Using jackson 2.12.7 all's well. Upgrading to jackson 2.13.5 the same code, config etc i'm getting this error:</p>\n<p><code>Could not resolve subtype of [simple type, class com.rapid7.platform.ipims.domain.PlatformUser]: missing type id property '@class' </code></p>\n<p>The PlatformUser class is a straight forward POJO (and again unchanged) with the following props:</p>\n<pre><code>    private Customer customer;\n    private String email;\n    private String oktaUserId;\n    private Long createdTime;\n    private Long lastLoginTime;\n    private boolean multiCustomer = false;\n    private boolean externalIdp;\n    private Map&lt;String, String&gt; userProperties = new HashMap&lt;&gt;();\n</code></pre>\n<p>We're using a Mixin to avoid deserializing userProperties Map.</p>\n<p>Our objectMapper is setup like this:</p>\n<pre><code>private ObjectMapper objectMapper() {\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.enableDefaultTyping(\n        ObjectMapper.DefaultTyping.NON_FINAL,\n        JsonTypeInfo.As.PROPERTY\n    );\n    mapper.registerModule(new CoreJackson2Module());\n    mapper.registerModule(new WebJackson2Module());\n    mapper.registerModule(new WebServletJackson2Module());\n    mapper.registerModule(new WebServerJackson2Module());\n    mapper.registerModule(new Saml2Jackson2Module());\n    mapper.registerModules(new Saml2Jackson2Module());\n    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n    // handle Java 8 Datetime with JSR-310\n    mapper.registerModule(new JavaTimeModule());\n    mapper.addMixIn(PlatformUser.class, PlatformUserMixin.class);\n    mapper.addMixIn(MapSession.class, MapSessionMixin.class);\n    return mapper;\n}\n</code></pre>\n<p>Debugging through the code i can see the objectmapper is wired in fine and that the objectMapper is setting it's valueType to a SimpleType[simple type, class PlatformUser] so things seem setup correctly but at some point something odd is happening and an AsPropertyTypeDeserializer is used and triggers the above exception (seems to be expecting the JSON to contain an @class definition/declaration, which was unnecessary previously).</p>\n<p>So, can anyone help point me in the right direction?</p>\n<p>Thanks alot.</p>\n"},{"tags":["java","spring","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687873514,"creation_date":1687873514,"answer_id":76565521,"question_id":76562875,"body_markdown":"See `ByteArrayRawSerializer` JavaDocs:\r\n\r\n     * A byte array (de)serializer that does nothing with the payload; sends it raw.\r\n     * Message termination for assembly purposes is signaled by the client closing the\r\n     * connection. The serializer does not, itself, close the connection after\r\n     * writing the bytes.\r\n\r\nSo, with this deserializer the &quot;end of reply&quot; is only initiated when you close the connection.\r\n\r\nThe `TcpSendingMessageHandler` is one-way channel adapter and it doesn&#39;t not produce any replies. With a `TcpOutboundGateway` you need to look into some other strategy for messages demarcation: https://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#tcp-codecs.\r\n\r\nYou may also look into a collaborating channel adapters approach: https://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#ip-collaborating-adapters","title":"How to get reply from the remote source using Spring Integration?","body":"<p>See <code>ByteArrayRawSerializer</code> JavaDocs:</p>\n<pre><code> * A byte array (de)serializer that does nothing with the payload; sends it raw.\n * Message termination for assembly purposes is signaled by the client closing the\n * connection. The serializer does not, itself, close the connection after\n * writing the bytes.\n</code></pre>\n<p>So, with this deserializer the &quot;end of reply&quot; is only initiated when you close the connection.</p>\n<p>The <code>TcpSendingMessageHandler</code> is one-way channel adapter and it doesn't not produce any replies. With a <code>TcpOutboundGateway</code> you need to look into some other strategy for messages demarcation: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#tcp-codecs\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#tcp-codecs</a>.</p>\n<p>You may also look into a collaborating channel adapters approach: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#ip-collaborating-adapters\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#ip-collaborating-adapters</a></p>\n"},{"comments":[{"owner":{"account_id":13176203,"reputation":195,"user_id":9517076,"display_name":"I have 10 fingers"},"score":0,"creation_date":1687875613,"post_id":76565523,"comment_id":134996181,"body_markdown":"Thanks for your comment! I think i should use `Socket` instead since the server can&#39;t provide any delimiter soon. It is impossible to get reply if i close the connection after request to server isn&#39;t it?","body":"Thanks for your comment! I think i should use <code>Socket</code> instead since the server can&#39;t provide any delimiter soon. It is impossible to get reply if i close the connection after request to server isn&#39;t it?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1687880208,"post_id":76565523,"comment_id":134997322,"body_markdown":"You will have the same problem using a Socket - how will you know when all the data is received? Using the raw deserializer requires the server to close the socket after sending the reply, not the client.","body":"You will have the same problem using a Socket - how will you know when all the data is received? Using the raw deserializer requires the server to close the socket after sending the reply, not the client."},{"owner":{"account_id":13176203,"reputation":195,"user_id":9517076,"display_name":"I have 10 fingers"},"score":0,"creation_date":1687881786,"post_id":76565523,"comment_id":134997682,"body_markdown":"I have the spec of message that server produce so i may use static length of byte so that i can read the message at least. I will ask my client if they can add proper delimiter thanks!","body":"I have the spec of message that server produce so i may use static length of byte so that i can read the message at least. I will ask my client if they can add proper delimiter thanks!"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1687882503,"post_id":76565523,"comment_id":134997867,"body_markdown":"If you know the structure, you can write a custom deserializer to use in the gateway.","body":"If you know the structure, you can write a custom deserializer to use in the gateway."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687873526,"creation_date":1687873526,"answer_id":76565523,"question_id":76562875,"body_markdown":"TCP is a streaming protocol; you need some mechanism (e.g. CRLF, LF, etc) to delimit messages within the stream. The `ByteArrayRawSerializer` uses the socket close to determine when all the data has been received. It sounds like your server is not closing the socket.\r\n\r\nYou need to determine which mechanism the server is using the delimit messages within the stream and select an appropriate deserializer; either one of the standard ones, or a custom one.\r\n\r\nhttps://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#tcp-codecs","title":"How to get reply from the remote source using Spring Integration?","body":"<p>TCP is a streaming protocol; you need some mechanism (e.g. CRLF, LF, etc) to delimit messages within the stream. The <code>ByteArrayRawSerializer</code> uses the socket close to determine when all the data has been received. It sounds like your server is not closing the socket.</p>\n<p>You need to determine which mechanism the server is using the delimit messages within the stream and select an appropriate deserializer; either one of the standard ones, or a custom one.</p>\n<p><a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#tcp-codecs\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#tcp-codecs</a></p>\n"}],"owner":{"account_id":13176203,"reputation":195,"user_id":9517076,"display_name":"I have 10 fingers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76565523,"answer_count":2,"score":0,"last_activity_date":1687873526,"creation_date":1687853568,"question_id":76562875,"body_markdown":"I&#39;m implementing a simple request-reply pattern to communicate with remote source using Spring integration. i could see it can send request to the source and also the source send back the reply through Wireshark.\r\n\r\nBut i can&#39;t get reply message in my application. Once i configured my application using `outboundGateway` i could see the reply message has no EOF delimiter and since default `ouboundGateway` uses `ByteArrayCrLfSerializer` it throws `TimeoutEXception` So i re-configured my application to use `ChannelAdapter` setting `ByteArrayRawSerializer` so that client can get reply.\r\n\r\n```java\r\n@Bean\r\npublic AbstractClientConnectionFactory clientConnectionFactory() {\r\n    TcpNioClientConnectionFactory connectionFactory = new TcpNioClientConnectionFactory(host, port);\r\n    connectionFactory.setUsingDirectBuffers(true);\r\n    connectionFactory.setSerializer(new ByteArrayRawSerializer());\r\n    connectionFactory.setSerializer(new ByteArrayRawSerializer());\r\n    connectionFactory.setApplicationEventPublisher(eventPublisher);\r\n\r\n    return new CachingClientConnectionFactory(connectionFactory, poolSize);\r\n}\r\n\r\n@Bean\r\npublic MessageChannel requestChannel() {\r\n    return new DirectChannel();\r\n}\r\n\r\n@Bean\r\n@ServiceActivator(inputChannel = &quot;requestChannel&quot;, outputChannel = &quot;responseChannel&quot;, requiresReply = &quot;true&quot;)\r\npublic TcpSendingMessageHandler requestHandler() {\r\n    TcpSendingMessageHandler handler = new TcpSendingMessageHandler();\r\n    handler.setConnectionFactory(clientConnectionFactory());\r\n\r\n    return handler;\r\n}\r\n\r\n\r\n@Bean\r\npublic MessageChannel responseChannel() {\r\n    return new DirectChannel();\r\n}\r\n\r\n@Bean\r\npublic IntegrationFlow responseFlow() {\r\n    return IntegrationFlow.from(responseChannel())\r\n        .handle(message -&gt; {\r\n            log.info(&quot;Reply: {}&quot;, message.getPayload());\r\n        })\r\n        .get();\r\n}\r\n\r\n```\r\n\r\nThis is my setup i expected that if i specify the `outputChannel` on `@ServiceActivator` i can get the reply in that channel but i can&#39;t.\r\n\r\nThe examples out there shows the default client and server connection but since the reply come through the port that client opened and the server only reply when client request i don&#39;t think i need a server connection in this case.\r\n\r\nPlease let me know if i misunderstood or missed something. Thanks in advance&#128583;","title":"How to get reply from the remote source using Spring Integration?","body":"<p>I'm implementing a simple request-reply pattern to communicate with remote source using Spring integration. i could see it can send request to the source and also the source send back the reply through Wireshark.</p>\n<p>But i can't get reply message in my application. Once i configured my application using <code>outboundGateway</code> i could see the reply message has no EOF delimiter and since default <code>ouboundGateway</code> uses <code>ByteArrayCrLfSerializer</code> it throws <code>TimeoutEXception</code> So i re-configured my application to use <code>ChannelAdapter</code> setting <code>ByteArrayRawSerializer</code> so that client can get reply.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic AbstractClientConnectionFactory clientConnectionFactory() {\n    TcpNioClientConnectionFactory connectionFactory = new TcpNioClientConnectionFactory(host, port);\n    connectionFactory.setUsingDirectBuffers(true);\n    connectionFactory.setSerializer(new ByteArrayRawSerializer());\n    connectionFactory.setSerializer(new ByteArrayRawSerializer());\n    connectionFactory.setApplicationEventPublisher(eventPublisher);\n\n    return new CachingClientConnectionFactory(connectionFactory, poolSize);\n}\n\n@Bean\npublic MessageChannel requestChannel() {\n    return new DirectChannel();\n}\n\n@Bean\n@ServiceActivator(inputChannel = &quot;requestChannel&quot;, outputChannel = &quot;responseChannel&quot;, requiresReply = &quot;true&quot;)\npublic TcpSendingMessageHandler requestHandler() {\n    TcpSendingMessageHandler handler = new TcpSendingMessageHandler();\n    handler.setConnectionFactory(clientConnectionFactory());\n\n    return handler;\n}\n\n\n@Bean\npublic MessageChannel responseChannel() {\n    return new DirectChannel();\n}\n\n@Bean\npublic IntegrationFlow responseFlow() {\n    return IntegrationFlow.from(responseChannel())\n        .handle(message -&gt; {\n            log.info(&quot;Reply: {}&quot;, message.getPayload());\n        })\n        .get();\n}\n\n</code></pre>\n<p>This is my setup i expected that if i specify the <code>outputChannel</code> on <code>@ServiceActivator</code> i can get the reply in that channel but i can't.</p>\n<p>The examples out there shows the default client and server connection but since the reply come through the port that client opened and the server only reply when client request i don't think i need a server connection in this case.</p>\n<p>Please let me know if i misunderstood or missed something. Thanks in advance🙇</p>\n"},{"tags":["java","parsing","xml-parsing","sax","jco"],"comments":[{"owner":{"account_id":5539,"reputation":43971,"user_id":8969,"accept_rate":67,"display_name":"Tom"},"score":0,"creation_date":1268894080,"post_id":2467830,"comment_id":2457856,"body_markdown":"So is the data coming from JCO as XML and you&#39;re parsing it? Or are you getting a name or something and writing it into an XML document that you&#39;re then parsing?","body":"So is the data coming from JCO as XML and you&#39;re parsing it? Or are you getting a name or something and writing it into an XML document that you&#39;re then parsing?"},{"owner":{"account_id":52759,"reputation":21589,"user_id":157705,"accept_rate":74,"display_name":"jai"},"score":0,"creation_date":1268895348,"post_id":2467830,"comment_id":2457951,"body_markdown":"@Tom: JCO has Record.toXML() method that gives the data in XML format.","body":"@Tom: JCO has Record.toXML() method that gives the data in XML format."},{"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"score":0,"creation_date":1268939148,"post_id":2467830,"comment_id":2463166,"body_markdown":"Just out of curiosity - is there a special reason why you go through all the pain and CPU cycles of transforming the data into XML and then back again?","body":"Just out of curiosity - is there a special reason why you go through all the pain and CPU cycles of transforming the data into XML and then back again?"},{"owner":{"account_id":52759,"reputation":21589,"user_id":157705,"accept_rate":74,"display_name":"jai"},"score":0,"creation_date":1268996528,"post_id":2467830,"comment_id":2467756,"body_markdown":"@vwegert: Good Question. Let me admit that we don&#39;t know the JCO API to iterate over the JCO.Fields and thought that toXML() might simply our job.","body":"@vwegert: Good Question. Let me admit that we don&#39;t know the JCO API to iterate over the JCO.Fields and thought that toXML() might simply our job."},{"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"score":1,"creation_date":1269073393,"post_id":2467830,"comment_id":2474573,"body_markdown":"...okay. I really don&#39;t know what to say. Sorry, but the JCo comes with API docs, example programs and a PDF tutorial. Instead of reading it and understanding how to use it, someone thought &quot;let&#39;s just throw some XML into this&quot;. I honestly don&#39;t know whether to laugh or to cry...","body":"...okay. I really don&#39;t know what to say. Sorry, but the JCo comes with API docs, example programs and a PDF tutorial. Instead of reading it and understanding how to use it, someone thought &quot;let&#39;s just throw some XML into this&quot;. I honestly don&#39;t know whether to laugh or to cry..."}],"answers":[{"tags":[],"owner":{"account_id":6887,"reputation":36377,"user_id":11721,"accept_rate":60,"display_name":"Stephen Denne"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1268916471,"creation_date":1268916471,"answer_id":2469869,"question_id":2467830,"body_markdown":"I&#39;ve had a [related, but opposite problem][1], where I was trying to insert character 1 into the output of an XSLT transformation. I considered post-processing to replace a marker with the zero, but instead chose to use an xsl:param.\r\n\r\nIf I was in your situation, I&#39;d either come up with a bespoke encoding, replacing the characters which are invalid in XML, and handling them as special cases in your parsing, or if possible, replace them with whitespace.\r\n\r\nI don&#39;t have experience with JCO, so can&#39;t advise on how or where I&#39;d replace the invalid characters.\r\n\r\n  [1]: https://stackoverflow.com/questions/1103045/generate-low-order-non-printable-characters-from-xlst","title":"XML parsing with SAX | how to handle special characters?","body":"<p>I've had a <a href=\"https://stackoverflow.com/questions/1103045/generate-low-order-non-printable-characters-from-xlst\">related, but opposite problem</a>, where I was trying to insert character 1 into the output of an XSLT transformation. I considered post-processing to replace a marker with the zero, but instead chose to use an xsl:param.</p>\n\n<p>If I was in your situation, I'd either come up with a bespoke encoding, replacing the characters which are invalid in XML, and handling them as special cases in your parsing, or if possible, replace them with whitespace.</p>\n\n<p>I don't have experience with JCO, so can't advise on how or where I'd replace the invalid characters.</p>\n"},{"tags":[],"owner":{"account_id":20725,"reputation":4287,"user_id":49804,"display_name":"PATRY Guillaume"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1268922724,"creation_date":1268922724,"answer_id":2470582,"question_id":2467830,"body_markdown":"From my point of view, the source (SAP) should do the replacement. Otherwise, what it transmits to your programm may looks like XML, but is not.   \r\n\r\nWhile replacing the &#39;&amp;&#39; by &#39;&amp;amp;&#39; can be done by a simple String.replaceAll(...) to the string from to toXML() call, others characters can be harder to replace (the &#39;&lt;&#39; and &#39;&gt;&#39; for exemple).\r\n\r\nregards\r\nGuillaume","title":"XML parsing with SAX | how to handle special characters?","body":"<p>From my point of view, the source (SAP) should do the replacement. Otherwise, what it transmits to your programm may looks like XML, but is not.   </p>\n\n<p>While replacing the '&amp;' by '&amp;' can be done by a simple String.replaceAll(...) to the string from to toXML() call, others characters can be harder to replace (the '&lt;' and '>' for exemple).</p>\n\n<p>regards\nGuillaume</p>\n"},{"tags":[],"owner":{"account_id":5539,"reputation":43971,"user_id":8969,"accept_rate":67,"display_name":"Tom"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1268929222,"creation_date":1268927180,"answer_id":2471192,"question_id":2467830,"body_markdown":"It sounds like a bug in their escaping. Depending on context you might be best off just writing your own version of their XMLWriter class that uses a real XML library rather than trying to write your own XML utilities like the SAP developers did.\r\n\r\nAlternatively, looking at the character code, &amp;#00, you might be able to get away with a replace all on it with the empty string:\r\n\r\n    String goodXml = badXml.replaceAll(&quot;&amp;#00;&quot;, &quot;&quot;);","title":"XML parsing with SAX | how to handle special characters?","body":"<p>It sounds like a bug in their escaping. Depending on context you might be best off just writing your own version of their XMLWriter class that uses a real XML library rather than trying to write your own XML utilities like the SAP developers did.</p>\n\n<p>Alternatively, looking at the character code, &amp;#00, you might be able to get away with a replace all on it with the empty string:</p>\n\n<pre><code>String goodXml = badXml.replaceAll(\"&amp;#00;\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":235917,"reputation":1060,"user_id":503060,"accept_rate":82,"display_name":"Hedley"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1289385339,"creation_date":1289384845,"answer_id":4143442,"question_id":2467830,"body_markdown":"You can encode/decode non-ASCII characters in XML by using the Apache Commons Lang class StringEscapeUtils escapeXML method. See:\r\n\r\nhttp://commons.apache.org/lang/api-2.4/index.html\r\n\r\nTo read about how XML character references work, search for &quot;numeric character references&quot; on wikipedia.","title":"XML parsing with SAX | how to handle special characters?","body":"<p>You can encode/decode non-ASCII characters in XML by using the Apache Commons Lang class StringEscapeUtils escapeXML method. See:</p>\n\n<p><a href=\"http://commons.apache.org/lang/api-2.4/index.html\" rel=\"nofollow\">http://commons.apache.org/lang/api-2.4/index.html</a></p>\n\n<p>To read about how XML character references work, search for \"numeric character references\" on wikipedia.</p>\n"}],"owner":{"account_id":52759,"reputation":21589,"user_id":157705,"accept_rate":74,"display_name":"jai"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7486,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1687873268,"creation_date":1268892578,"question_id":2467830,"body_markdown":"We have a JAVA application that pulls the data from SAP system, parses it and renders to the users.\r\nThe data is pulled using SAP JCo connector.\r\n\r\nRecently we were thrown an exception:\r\n\r\n&gt; org.xml.sax.SAXParseException: Character reference &quot;&amp;#00&quot; is an invalid XML character.\r\n\r\nSo, we are planning to write a new level of indirection where ALL special/illegal characters are replaced BEFORE parsing the XML.\r\n\r\nMy questions here are :\r\n\r\n 1. Is there any existing (open source) utility that does this job of replacing illegal characters in XML?\r\n 2. Or if I had to write such utility, how should I handle them?\r\n 3. Why is the above exception thrown?\r\n\r\nThank You.\r\n","title":"XML parsing with SAX | how to handle special characters?","body":"<p>We have a JAVA application that pulls the data from SAP system, parses it and renders to the users.\nThe data is pulled using SAP JCo connector.</p>\n<p>Recently we were thrown an exception:</p>\n<blockquote>\n<p>org.xml.sax.SAXParseException: Character reference &quot;&amp;#00&quot; is an invalid XML character.</p>\n</blockquote>\n<p>So, we are planning to write a new level of indirection where ALL special/illegal characters are replaced BEFORE parsing the XML.</p>\n<p>My questions here are :</p>\n<ol>\n<li>Is there any existing (open source) utility that does this job of replacing illegal characters in XML?</li>\n<li>Or if I had to write such utility, how should I handle them?</li>\n<li>Why is the above exception thrown?</li>\n</ol>\n<p>Thank You.</p>\n"},{"tags":["java","maven","sapjco3"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1405448198,"post_id":24765243,"comment_id":38427154,"body_markdown":"Why is this check even in?  Do you violate the license?","body":"Why is this check even in?  Do you violate the license?"},{"owner":{"account_id":4752347,"reputation":91,"user_id":3842041,"display_name":"Alexander Pilch"},"score":0,"creation_date":1405448617,"post_id":24765243,"comment_id":38427390,"body_markdown":"I don&#39;t plan to violate the license. The resulting artifact should contain the file with the specified naming conventions. I&#39;d like to get all dependencies from the maven repository, but sap isn&#39;t offering a mavenized version of the connector. As a result we created our own maven artifact and uploaded it to our private repository. I thought this issue is affecting more developers, but haven&#39;t found a solution yet.","body":"I don&#39;t plan to violate the license. The resulting artifact should contain the file with the specified naming conventions. I&#39;d like to get all dependencies from the maven repository, but sap isn&#39;t offering a mavenized version of the connector. As a result we created our own maven artifact and uploaded it to our private repository. I thought this issue is affecting more developers, but haven&#39;t found a solution yet."},{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1405449238,"post_id":24765243,"comment_id":38427751,"body_markdown":"We have the same problem. At the moment, we only need standalone applications (which are in fact middleware clients between SAP and an enterprise application). So we are using the maven-assembly-plugin. With that we simply handle this JAR explicit with a renaming in the resulting artifact (a ZIP). Maybe there is also a similar configuration option in the maven-war-plugin?","body":"We have the same problem. At the moment, we only need standalone applications (which are in fact middleware clients between SAP and an enterprise application). So we are using the maven-assembly-plugin. With that we simply handle this JAR explicit with a renaming in the resulting artifact (a ZIP). Maybe there is also a similar configuration option in the maven-war-plugin?"},{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1405449388,"post_id":24765243,"comment_id":38427850,"body_markdown":"Additionally: We have this problem with version 3.0.11. Prior to that we used 3.0.6, with which we did not have that problem.","body":"Additionally: We have this problem with version 3.0.11. Prior to that we used 3.0.6, with which we did not have that problem."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1405450881,"post_id":24765243,"comment_id":38428580,"body_markdown":"Suggestions which I have no idea will work:  1) Having the jar file with the correct name in WEB-INF/lib  directly instead of having it added as a dependency.  2) Using the outputFilenameMapping feature of maven-war-plugin to rename the jar in the war.","body":"Suggestions which I have no idea will work:  1) Having the jar file with the correct name in WEB-INF/lib  directly instead of having it added as a dependency.  2) Using the outputFilenameMapping feature of maven-war-plugin to rename the jar in the war."},{"owner":{"account_id":4752347,"reputation":91,"user_id":3842041,"display_name":"Alexander Pilch"},"score":0,"creation_date":1405451141,"post_id":24765243,"comment_id":38428723,"body_markdown":"The web project also contains some integration tests, which require it to work within the standard execution (surefire, failsafe). \n\nThe current workaround for the war is more or less:\n- copy the sap dependency via the dependency plugin to web-inf/lib (as sapjco3.jar)\n- manually add the manifest entry to the manifest (via war plugin)\n\nThis will produce a working war, as it totally bypasses maven. I&#39;ll have a look at the outputFilenameMapping. Maybe this simplifies the creation of the war. Thanks.","body":"The web project also contains some integration tests, which require it to work within the standard execution (surefire, failsafe).   The current workaround for the war is more or less: - copy the sap dependency via the dependency plugin to web-inf/lib (as sapjco3.jar) - manually add the manifest entry to the manifest (via war plugin)  This will produce a working war, as it totally bypasses maven. I&#39;ll have a look at the outputFilenameMapping. Maybe this simplifies the creation of the war. Thanks."},{"owner":{"account_id":4752347,"reputation":91,"user_id":3842041,"display_name":"Alexander Pilch"},"score":0,"creation_date":1405451702,"post_id":24765243,"comment_id":38429050,"body_markdown":"Just some additions \n- the native library is also copied over (from target/natives) to web-inf/lib\n- the standard build uses https://code.google.com/p/mavennatives/ to unpack the native library\n- the native library path is set at runtime within a servlet context listener","body":"Just some additions  - the native library is also copied over (from target/natives) to web-inf/lib - the standard build uses <a href=\"https://code.google.com/p/mavennatives/\" rel=\"nofollow noreferrer\">code.google.com/p/mavennatives</a> to unpack the native library - the native library path is set at runtime within a servlet context listener"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1405453484,"post_id":24765243,"comment_id":38430085,"body_markdown":"&quot;Native library is copied over and path is set at runtime&quot;?  That sounds brittle (I have no idea whether this functionality is guaranteed to work in Java, or just  happens to work).  I would suggest moving the library and its native blob from your applications/webapps and into the surrounding environment, so you do not have to bend over backwards to make the SAP and Maven mindset work together.","body":"&quot;Native library is copied over and path is set at runtime&quot;?  That sounds brittle (I have no idea whether this functionality is guaranteed to work in Java, or just  happens to work).  I would suggest moving the library and its native blob from your applications/webapps and into the surrounding environment, so you do not have to bend over backwards to make the SAP and Maven mindset work together."},{"owner":{"account_id":4752347,"reputation":91,"user_id":3842041,"display_name":"Alexander Pilch"},"score":0,"creation_date":1405453497,"post_id":24765243,"comment_id":38430094,"body_markdown":"I haven&#39;t yet tried to manage the artifact manually within the whole build:\n- copy the depedency to a subfolder below target in each project, which requires it / copy it one time to a central location\n- adding the dependency manually to the surefire/failsafe classpath:\n&lt;configuration&gt;\n          &lt;additionalClasspathElements&gt;\n&lt;additionalClasspathElement&gt;liblocation&lt;/additionalClasspathElement&gt;\n          &lt;/additionalClasspathElements&gt;\n&lt;/configuration&gt;","body":"I haven&#39;t yet tried to manage the artifact manually within the whole build: - copy the depedency to a subfolder below target in each project, which requires it / copy it one time to a central location - adding the dependency manually to the surefire/failsafe classpath: &lt;configuration&gt;           &lt;additionalClasspathElements&gt; &lt;additionalClasspathElement&gt;liblocation&lt;/additionalClasspath&zwnj;&#8203;Element&gt;           &lt;/additionalClasspathElements&gt; &lt;/configuration&gt;"},{"owner":{"account_id":4752347,"reputation":91,"user_id":3842041,"display_name":"Alexander Pilch"},"score":0,"creation_date":1405453596,"post_id":24765243,"comment_id":38430145,"body_markdown":"The application is deployed in a clustered/shared hosting environment. We can only deploy the war and aren&#39;t allowed to change any infrastructure.","body":"The application is deployed in a clustered/shared hosting environment. We can only deploy the war and aren&#39;t allowed to change any infrastructure."},{"owner":{"account_id":4752347,"reputation":91,"user_id":3842041,"display_name":"Alexander Pilch"},"score":0,"creation_date":1405454060,"post_id":24765243,"comment_id":38430397,"body_markdown":"I&#39;d prefer a plain java connector and not one which forces us to create platform dependent artifacts by including some native libraries, especially if the performance of the connector is probably not a big issue. Even the jars are different in size, so I&#39;m not sure if it would be possible to include just one jar and deploy the native library on the target system.","body":"I&#39;d prefer a plain java connector and not one which forces us to create platform dependent artifacts by including some native libraries, especially if the performance of the connector is probably not a big issue. Even the jars are different in size, so I&#39;m not sure if it would be possible to include just one jar and deploy the native library on the target system."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1405455177,"post_id":24765243,"comment_id":38430960,"body_markdown":"You can bake in the appropriate files when you create the very last artifact, and have it &quot;outside&quot; while you develop.  You need something that works in your IDE to avoid slowing development to a crawl.","body":"You can bake in the appropriate files when you create the very last artifact, and have it &quot;outside&quot; while you develop.  You need something that works in your IDE to avoid slowing development to a crawl."},{"owner":{"account_id":4752347,"reputation":91,"user_id":3842041,"display_name":"Alexander Pilch"},"score":0,"creation_date":1405456490,"post_id":24765243,"comment_id":38431660,"body_markdown":"The build uses classifier/profiles to create platform dependent artifacts. There are only 2 modules affected atm: the sap module and the war.  We need those platform dependent builds, as maven drives our CI/deployment chain, which runs on linux. Baking in the dependency allows us to create a valid war, but the tests won&#39;t work during the build, as the artifact is missing. The current hacked state of the project works with all these constraints, but it is pretty ugly. The only clean solution I see would be SAP removing this check in the next version of their connector.","body":"The build uses classifier/profiles to create platform dependent artifacts. There are only 2 modules affected atm: the sap module and the war.  We need those platform dependent builds, as maven drives our CI/deployment chain, which runs on linux. Baking in the dependency allows us to create a valid war, but the tests won&#39;t work during the build, as the artifact is missing. The current hacked state of the project works with all these constraints, but it is pretty ugly. The only clean solution I see would be SAP removing this check in the next version of their connector."}],"answers":[{"comments":[{"owner":{"account_id":6840777,"reputation":473,"user_id":5261257,"accept_rate":12,"display_name":"stewchicken"},"score":0,"creation_date":1659338341,"post_id":57758811,"comment_id":129262178,"body_markdown":"Dear all, are we able to use provided scope for sap jco connector? if yes is there any example?\nThanks in advance","body":"Dear all, are we able to use provided scope for sap jco connector? if yes is there any example? Thanks in advance"}],"tags":[],"owner":{"account_id":16041999,"reputation":131,"user_id":11578204,"display_name":"Sambit Swain"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567435057,"creation_date":1567435057,"answer_id":57758811,"question_id":24765243,"body_markdown":"I had the same issue, and below is how I fixed it (in short work around it):\r\n1. Run the command in command prompt\r\n\r\n    mvn install:install-file \r\n    -Dfile=sapjco3.jar \r\n    -DgroupId=com.company.sap \r\n    -DartifactId=com.sap.conn.jco.sapjco \r\n    -Dversion=1.0 \r\n    -Dpackaging=jar\r\n\r\n2. This will create a local artifact, or you can also create it in remote repository\r\n3. Download this dependency from maven as shown below:\r\n\r\n    `&lt;dependency&gt;\r\n        &lt;groupId&gt;com.company.sap&lt;/groupId&gt;\r\n        &lt;artifactId&gt;com.sap.conn.jco.sapjco&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;`\r\n\r\n\r\nThis work around would avoid the sapjco3 error:\r\n\r\n    if (!jarname.equals(&quot;sapjco3.jar&quot;) \r\n    &amp;&amp; !jarname.startsWith(&quot;com.sap.conn.jco&quot;) \r\n    &amp;&amp; !jarname.equals(&quot;sapjco3_IDE.jar&quot;) \r\n    &amp;&amp; Package.getPackage(&quot;org.apache.maven.surefire.booter&quot;) == null \r\n    &amp;&amp; Package.getPackage(&quot;org.eclipse.jdt.internal.junit.runner&quot;) == null) {\r\n        throw new ExceptionInInitializerError(&quot;Illegal JCo archive \\&quot;&quot; + jarname + &quot;\\&quot;. It is not allowed to rename or repackage the original archive \\&quot;&quot; + &quot;sapjco3.jar&quot; + &quot;\\&quot;.&quot;);\r\n    }","title":"SapJco 3.0.11 with Maven: It is not allowed to rename or repackage the original archive &quot;sapjco3.jar&quot;","body":"<p>I had the same issue, and below is how I fixed it (in short work around it):\n1. Run the command in command prompt</p>\n\n<pre><code>mvn install:install-file \n-Dfile=sapjco3.jar \n-DgroupId=com.company.sap \n-DartifactId=com.sap.conn.jco.sapjco \n-Dversion=1.0 \n-Dpackaging=jar\n</code></pre>\n\n<ol start=\"2\">\n<li>This will create a local artifact, or you can also create it in remote repository</li>\n<li><p>Download this dependency from maven as shown below:</p>\n\n<p><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.company.sap&lt;/groupId&gt;\n    &lt;artifactId&gt;com.sap.conn.jco.sapjco&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/dependency&gt;</code></p></li>\n</ol>\n\n<p>This work around would avoid the sapjco3 error:</p>\n\n<pre><code>if (!jarname.equals(\"sapjco3.jar\") \n&amp;&amp; !jarname.startsWith(\"com.sap.conn.jco\") \n&amp;&amp; !jarname.equals(\"sapjco3_IDE.jar\") \n&amp;&amp; Package.getPackage(\"org.apache.maven.surefire.booter\") == null \n&amp;&amp; Package.getPackage(\"org.eclipse.jdt.internal.junit.runner\") == null) {\n    throw new ExceptionInInitializerError(\"Illegal JCo archive \\\"\" + jarname + \"\\\". It is not allowed to rename or repackage the original archive \\\"\" + \"sapjco3.jar\" + \"\\\".\");\n}\n</code></pre>\n"}],"owner":{"account_id":4752347,"reputation":91,"user_id":3842041,"display_name":"Alexander Pilch"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9487,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1687873154,"creation_date":1405447866,"question_id":24765243,"body_markdown":"The current version of the SAP JCo connector enforces the name of the containing jar at runtime. This will lead to exceptions, if it doesn&#39;t match the name (sapjco3.jar). \r\n\r\n&gt; JCo initialization fails with java.lang.ExceptionInInitializerError: Illegal JCo archive &quot;sap-jco-win-amd-64-3.0.11.jar&quot;. It is not allowed to rename or repackage the original archive &quot;sapjco3.jar&quot;\r\n\r\nWe wrapped these libraries and deployed them with a custom pom in our nexus repository. The standard maven build is unusable atm, as a result of this change/the standard maven way of naming artifacts.\r\n\r\nThe current workaround uses system scope for this dependency and copies the sapjco maven artifact to a specified folder within the project, as this is the only way to enforce the name of an jar file and also keep it in the build as a dependency. This works within the same module. One of the disadvantages of the system scope is the deactivated/failing resolution of transitive artifacts. We would need that, as the sap connector module is included in an application war module. As system scope dependencies aren&#39;t included in the packaged artifacts, we had to copy them to the web-inf/lib folder and add a classpath entry to the manifest.\r\n\r\nThe build works, when I start it from the parent/root module, but fails when it is started in submodules due to the system scope dependency. We could live with that solution for now, but I&#39;m definitely not happy with it.\r\n\r\nIs there a recommended way to use sapjco with maven or a simpler approach to produce platform dependent artifacts, which include the native library and the jar with a specified name? Is SAP reconsidering this check, as the previous versions did not include it?\r\n\r\n\r\nEdit:\r\n\r\n- Other developers seem to have the same issue: http://scn.sap.com/blogs/gushakov/2013/04/05/using-jco-without-nwds\r\n- System scope is deprecated and not a longterm solution\r\n\r\n","title":"SapJco 3.0.11 with Maven: It is not allowed to rename or repackage the original archive &quot;sapjco3.jar&quot;","body":"<p>The current version of the SAP JCo connector enforces the name of the containing jar at runtime. This will lead to exceptions, if it doesn't match the name (sapjco3.jar).</p>\n<blockquote>\n<p>JCo initialization fails with java.lang.ExceptionInInitializerError: Illegal JCo archive &quot;sap-jco-win-amd-64-3.0.11.jar&quot;. It is not allowed to rename or repackage the original archive &quot;sapjco3.jar&quot;</p>\n</blockquote>\n<p>We wrapped these libraries and deployed them with a custom pom in our nexus repository. The standard maven build is unusable atm, as a result of this change/the standard maven way of naming artifacts.</p>\n<p>The current workaround uses system scope for this dependency and copies the sapjco maven artifact to a specified folder within the project, as this is the only way to enforce the name of an jar file and also keep it in the build as a dependency. This works within the same module. One of the disadvantages of the system scope is the deactivated/failing resolution of transitive artifacts. We would need that, as the sap connector module is included in an application war module. As system scope dependencies aren't included in the packaged artifacts, we had to copy them to the web-inf/lib folder and add a classpath entry to the manifest.</p>\n<p>The build works, when I start it from the parent/root module, but fails when it is started in submodules due to the system scope dependency. We could live with that solution for now, but I'm definitely not happy with it.</p>\n<p>Is there a recommended way to use sapjco with maven or a simpler approach to produce platform dependent artifacts, which include the native library and the jar with a specified name? Is SAP reconsidering this check, as the previous versions did not include it?</p>\n<p>Edit:</p>\n<ul>\n<li>Other developers seem to have the same issue: <a href=\"http://scn.sap.com/blogs/gushakov/2013/04/05/using-jco-without-nwds\" rel=\"nofollow noreferrer\">http://scn.sap.com/blogs/gushakov/2013/04/05/using-jco-without-nwds</a></li>\n<li>System scope is deprecated and not a longterm solution</li>\n</ul>\n"},{"tags":["java","jakarta-ee","glassfish","sapjco3"],"answers":[{"comments":[{"owner":{"account_id":82096,"reputation":306,"user_id":231100,"display_name":"franblay"},"score":0,"creation_date":1261997814,"post_id":1942010,"comment_id":1883060,"body_markdown":"Yes, I&#39;ve fight first with this issue (included in .ear), now sapjco3.jar and sapjco3.dll are placed in &lt;glassfish&gt;domains/domain1/lib/ext and works fine, the only issue is in case of SAP connection changes, therefore they aren&#39;t common, it&#39;s only necessary to restart glassfish when SAP forces a password change in the user we are connecting with. I thought in classloader way but this is black magic to me.\nThanks a lot.","body":"Yes, I&#39;ve fight first with this issue (included in .ear), now sapjco3.jar and sapjco3.dll are placed in &lt;glassfish&gt;domains/domain1/lib/ext and works fine, the only issue is in case of SAP connection changes, therefore they aren&#39;t common, it&#39;s only necessary to restart glassfish when SAP forces a password change in the user we are connecting with. I thought in classloader way but this is black magic to me. Thanks a lot."},{"owner":{"account_id":67634,"reputation":424,"user_id":197817,"display_name":"Tom"},"score":0,"creation_date":1262046144,"post_id":1942010,"comment_id":1886816,"body_markdown":"Even after placing sapjco3.jar under the lib/ext path, you should still be able to create, delete, change your JCo destination and provider objects as part of your container. Therefore I don&#39;t see any reason why one should not be able to alter a JCo connection object by changing any of the connection properties like its password.","body":"Even after placing sapjco3.jar under the lib/ext path, you should still be able to create, delete, change your JCo destination and provider objects as part of your container. Therefore I don&#39;t see any reason why one should not be able to alter a JCo connection object by changing any of the connection properties like its password."},{"owner":{"account_id":82096,"reputation":306,"user_id":231100,"display_name":"franblay"},"score":0,"creation_date":1262853709,"post_id":1942010,"comment_id":1940863,"body_markdown":"Yes, yes, we can do a changePropertiesForABAP_AS whenever a change in the connection occurs... but as far as you have a &quot;fresh&quot; deployment of the app. If we do a redeploy, or deactivation/activation, the link between our app. and jco connection object gets broken. We can use the connection, as it is somehow alive but we can&#39;t change it. jcoDestination=JCoDestinationManager.getDestination();\n works always, but after an update of the app changePropertiesForABAP_AS fails, object eventListener=NULL. We need to restart the server. Maybe I missed some point in the internals of the jco connector....","body":"Yes, yes, we can do a changePropertiesForABAP_AS whenever a change in the connection occurs... but as far as you have a &quot;fresh&quot; deployment of the app. If we do a redeploy, or deactivation/activation, the link between our app. and jco connection object gets broken. We can use the connection, as it is somehow alive but we can&#39;t change it. jcoDestination=JCoDestinationManager.getDestination();  works always, but after an update of the app changePropertiesForABAP_AS fails, object eventListener=NULL. We need to restart the server. Maybe I missed some point in the internals of the jco connector...."}],"tags":[],"owner":{"account_id":67634,"reputation":424,"user_id":197817,"display_name":"Tom"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1261422909,"creation_date":1261422909,"answer_id":1942010,"question_id":1899888,"body_markdown":"Your problem is probably related to the fact that there is some native code involved here. This is even true for JCo 3. Whereas JCo 3 does not make usage of the native RFC library anymore, it still requires JNI to communicate with the CPIC layer.\r\n\r\nGetting a JVM to unload a native library is an exercise in utmost frustration. The JNI Specification states that a native library will be unloaded when the ClassLoader associated with the class it provides the implementation to is unloaded, but trying to force a ClassLoader to unload is virtually impossible within the JVM.\r\n\r\nIf your EAR file includes the sapjco3.jar it will be reloaded each time your code is reloaded. This very likely will causes exceptions as the native library can&#39;t be loaded more than once and there is practically no way to unload native code. So you might consider to place the sapjco3.jar outside of the J2EE container and let your J2EE engine load that library once at start time rather than putting it into the EAR that gets reloaded over and over.","title":"SAP JCo connector loaded forever in GlassFish v2.1 (can&#39;t unload)","body":"<p>Your problem is probably related to the fact that there is some native code involved here. This is even true for JCo 3. Whereas JCo 3 does not make usage of the native RFC library anymore, it still requires JNI to communicate with the CPIC layer.</p>\n\n<p>Getting a JVM to unload a native library is an exercise in utmost frustration. The JNI Specification states that a native library will be unloaded when the ClassLoader associated with the class it provides the implementation to is unloaded, but trying to force a ClassLoader to unload is virtually impossible within the JVM.</p>\n\n<p>If your EAR file includes the sapjco3.jar it will be reloaded each time your code is reloaded. This very likely will causes exceptions as the native library can't be loaded more than once and there is practically no way to unload native code. So you might consider to place the sapjco3.jar outside of the J2EE container and let your J2EE engine load that library once at start time rather than putting it into the EAR that gets reloaded over and over.</p>\n"},{"comments":[{"owner":{"account_id":82096,"reputation":306,"user_id":231100,"display_name":"franblay"},"score":0,"creation_date":1261998192,"post_id":1956016,"comment_id":1883084,"body_markdown":"The sap connector works very well, the only issue is what i asked for and we can live with it, it&#39;s a &quot;ugly&quot; solution but we can afford a restart unpon a single connection change (user password mostly)\nI thought about web services but this is a very intensive app. with sinchronizations and BAPI executions every 5 sec. or so and sometimes big amounts of data. WS are more &quot;asincronous&quot; and we needed this feeling of &quot;all under control&quot; with RFC. But it&#39;s a way to have in mind.\nThanks a lot.","body":"The sap connector works very well, the only issue is what i asked for and we can live with it, it&#39;s a &quot;ugly&quot; solution but we can afford a restart unpon a single connection change (user password mostly) I thought about web services but this is a very intensive app. with sinchronizations and BAPI executions every 5 sec. or so and sometimes big amounts of data. WS are more &quot;asincronous&quot; and we needed this feeling of &quot;all under control&quot; with RFC. But it&#39;s a way to have in mind. Thanks a lot."}],"tags":[],"owner":{"account_id":84786,"reputation":106,"user_id":236803,"display_name":"Matthias Kneissl"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1261612918,"creation_date":1261612918,"answer_id":1956016,"question_id":1899888,"body_markdown":"Which release of SAP are you intending to connect to? We had several problems with the Java Connector, it was not really threadsafe and could not be embedded into a EJB application properly. Same problems came with SAP&#39;s seculib for single sign on. It either didn&#39;t work. The only solution was to load it outside of the J2EE engine.\r\n\r\nHave you ever thought of replacing the JCO with webservices? Of course it&#39;s slightly slower as the data has to go through the ICF but it&#39;s more robust. We switched all our integrations to this solution.","title":"SAP JCo connector loaded forever in GlassFish v2.1 (can&#39;t unload)","body":"<p>Which release of SAP are you intending to connect to? We had several problems with the Java Connector, it was not really threadsafe and could not be embedded into a EJB application properly. Same problems came with SAP's seculib for single sign on. It either didn't work. The only solution was to load it outside of the J2EE engine.</p>\n\n<p>Have you ever thought of replacing the JCO with webservices? Of course it's slightly slower as the data has to go through the ICF but it's more robust. We switched all our integrations to this solution.</p>\n"}],"owner":{"account_id":82096,"reputation":306,"user_id":231100,"display_name":"franblay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4442,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":1942010,"answer_count":2,"score":4,"last_activity_date":1687873104,"creation_date":1260782875,"question_id":1899888,"body_markdown":"I&#39;ve a problem with GlassFish and SAP JCo connector (`sapjco3.jar`).\r\n\r\nI load it at start up of an J2EE application (`jwm.ear`) and initialize it wrapped in a singleton the first time a connection to SAP is needed.\r\n\r\nThe problem is that this jar remains always initialized in memory, I need to restart glassfish to unload the initialized connections if I need to change a single parameter. Stopping or undeploying the app doesn&#39;t unload sapjco.jar and furter redeployments of the app never get the new connection parameters, the first initialization remains until GlassFish restart.\r\n\r\nDoes anybody knows how to unload or reinitialize this library? preferably even without redeploying the app, first time the app is activated I have a reference to jcoProvider, next activations get a null reference to jcoProvider, but a jcoProvider continues instantiated in memory with initial values.\r\n\r\nRegards!\r\n\r\n&lt;i&gt;Notes:\r\nGlassFish is version 2.1 in Windows 2008 server, jdk is 1.6.0.14\r\nsapjco3.jar and sapjco3.dll are copied to &lt;glassfish dir&gt;\\domains\\domain1\\lib\\ext and are version 3 of SAP java connector.\r\n&lt;/i&gt;  \r\n\r\nSingleton to get SAP connections:\r\n\r\n&lt;pre&gt;\r\npackage es.grupotec.ejb.SAP;\r\n\r\nimport com.sap.conn.jco.JCoDestination;\r\nimport com.sap.conn.jco.JCoDestinationManager;\r\nimport com.sap.conn.jco.JCoException;\r\nimport com.sap.conn.jco.ext.DestinationDataProvider;\r\nimport com.sap.conn.jco.ext.Environment;\r\nimport es.grupotec.ejb.util.ConexionSAPException;\r\nimport java.util.Properties;\r\n\r\npublic final class SAP {\r\n\r\n    private static String SAP_SERVER = &quot;JWM&quot;;\r\n    private static SAP instance = null;\r\n    private static JCOProvider jcoProvider = null;\r\n\r\n    private SAP() {\r\n      // Exists only to defeat instantiation.\r\n    }\r\n\r\n    // Get SAP connection\r\n    public static synchronized JCoDestination getDestination() throws ConexionSAPException {\r\n\r\n        JCoDestination jcoDestination = null;\r\n\r\n            if (Environment.isDestinationDataProviderRegistered()) {\r\n                try {\r\n\r\n                    jcoDestination = JCoDestinationManager.getDestination(SAP_SERVER);\r\n                    return jcoDestination;\r\n\r\n                } catch (JCoException ex) {\r\n\r\n                    throw new ConexionSAPException(ex.getMessage());\r\n\r\n                }\r\n            }\r\n\r\n        // Create new connection\r\n        if(jcoProvider == null) init();\r\n\r\n        // Get connection\r\n        try {\r\n\r\n            jcoDestination = JCoDestinationManager.getDestination(SAP_SERVER);\r\n            return jcoDestination;\r\n            \r\n        } catch (JCoException ex) {\r\n        \r\n            throw new ConexionSAPException(ex.getMessage());\r\n\r\n        }\r\n\r\n    }\r\n\r\n    // Initialize connection to SAP\r\n    public static synchronized void init() throws ConexionSAPException {\r\n\r\n        SAPVO sap = new SAPVO();\r\n        Properties properties = new Properties();\r\n\r\n        if(jcoProvider == null) {\r\n\r\n\r\n            // Get SAP config from database\r\n            try {\r\n                sap = SAPDAO.getSAPConfig();\r\n            } catch (Exception ex) {\r\n                throw new ConexionSAPException(ex.getMessage());\r\n            }\r\n\r\n             // Create connection object\r\n            jcoProvider = new JCOProvider();\r\n\r\n        }\r\n\r\n        properties.setProperty(DestinationDataProvider.JCO_ASHOST,        sap.getJCO_ASHOST());\r\n        properties.setProperty(DestinationDataProvider.JCO_SYSNR,         sap.getJCO_SYSNR());\r\n        properties.setProperty(DestinationDataProvider.JCO_CLIENT,        sap.getJCO_CLIENT());\r\n        properties.setProperty(DestinationDataProvider.JCO_USER,          sap.getJCO_USER());\r\n        properties.setProperty(DestinationDataProvider.JCO_PASSWD,        sap.getJCO_PASSWD());\r\n        properties.setProperty(DestinationDataProvider.JCO_LANG,          sap.getJCO_LANG());\r\n\r\n        try {\r\n\r\n            jcoProvider.changePropertiesForABAP_AS(properties);\r\n\r\n        } catch (Exception e) {\r\n\r\n            throw new ConexionSAPException(e.getMessage());\r\n\r\n        }\r\n\r\n    }\r\n\r\n    public static synchronized void change(SAPVO sap) throws ConexionSAPException {\r\n\r\n        Properties properties = new Properties();\r\n\r\n        // If connection is null create a new one\r\n        if(jcoProvider == null) jcoProvider = new JCOProvider();\r\n\r\n        properties.setProperty(DestinationDataProvider.JCO_ASHOST,        sap.getJCO_ASHOST());\r\n        properties.setProperty(DestinationDataProvider.JCO_SYSNR,         sap.getJCO_SYSNR());\r\n        properties.setProperty(DestinationDataProvider.JCO_CLIENT,        sap.getJCO_CLIENT());\r\n        properties.setProperty(DestinationDataProvider.JCO_USER,          sap.getJCO_USER());\r\n        properties.setProperty(DestinationDataProvider.JCO_PASSWD,        sap.getJCO_PASSWD());\r\n        properties.setProperty(DestinationDataProvider.JCO_LANG,          sap.getJCO_LANG());\r\n\r\n        try {\r\n\r\n            jcoProvider.changePropertiesForABAP_AS(properties);\r\n\r\n        } catch (Exception e) {\r\n\r\n            throw new ConexionSAPException(e.getMessage());\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    // Prevent instantiation by clone\r\n    @Override\r\n    public Object clone() throws CloneNotSupportedException {\r\n        \r\n        throw new CloneNotSupportedException();\r\n\r\n    }\r\n\r\n}\r\n\r\n&lt;/pre&gt;\r\n\r\nJCo provider implementation:\r\n\r\n&lt;pre&gt;\r\npackage es.grupotec.ejb.SAP;\r\n\r\nimport com.sap.conn.jco.ext.DestinationDataEventListener;\r\nimport com.sap.conn.jco.ext.DestinationDataProvider;\r\nimport com.sap.conn.jco.ext.Environment;\r\nimport es.grupotec.ejb.util.ConexionSAPException;\r\nimport java.util.Properties;\r\n\r\npublic class JCOProvider implements DestinationDataProvider {\r\n\r\n    private String SAP_SERVER = &quot;JWM&quot;;\r\n    private DestinationDataEventListener eventListener;\r\n    private Properties ABAP_AS_properties;\r\n\r\n    public JCOProvider(){\r\n\r\n    }\r\n    \r\n    public JCOProvider(SAPVO sap){\r\n\r\n        ABAP_AS_properties = new Properties();\r\n        ABAP_AS_properties.setProperty(DestinationDataProvider.JCO_ASHOST,        sap.getJCO_ASHOST());\r\n        ABAP_AS_properties.setProperty(DestinationDataProvider.JCO_SYSNR,         sap.getJCO_SYSNR());\r\n        ABAP_AS_properties.setProperty(DestinationDataProvider.JCO_CLIENT,        sap.getJCO_CLIENT());\r\n        ABAP_AS_properties.setProperty(DestinationDataProvider.JCO_USER,          sap.getJCO_USER());\r\n        ABAP_AS_properties.setProperty(DestinationDataProvider.JCO_PASSWD,        sap.getJCO_PASSWD());\r\n        ABAP_AS_properties.setProperty(DestinationDataProvider.JCO_LANG,          sap.getJCO_LANG());\r\n        ABAP_AS_properties.setProperty(DestinationDataProvider.JCO_POOL_CAPACITY, sap.getJCO_POOL_CAPACITY());\r\n        ABAP_AS_properties.setProperty(DestinationDataProvider.JCO_PEAK_LIMIT,    sap.getJCO_PEAK_LIMIT());\r\n\r\n        try {\r\n            if (!Environment.isDestinationDataProviderRegistered())\r\n                Environment.registerDestinationDataProvider(this);\r\n            else changePropertiesForABAP_AS(ABAP_AS_properties);\r\n        } catch (Exception ex) {\r\n            String msg = ex.getMessage();\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public Properties getDestinationProperties(String name) {\r\n\r\n        if (name.equals(SAP_SERVER) &amp;&amp; ABAP_AS_properties!=null) return ABAP_AS_properties;\r\n        else return null;\r\n        \r\n    }\r\n\r\n    @Override\r\n    public boolean supportsEvents() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public void setDestinationDataEventListener(DestinationDataEventListener eventListener) {\r\n        this.eventListener = eventListener;\r\n    }\r\n\r\n public void changePropertiesForABAP_AS(Properties properties) throws ConexionSAPException {\r\n\r\n        try {\r\n            \r\n            if (!Environment.isDestinationDataProviderRegistered()) {\r\n\r\n                if (ABAP_AS_properties == null) ABAP_AS_properties = properties;\r\n                Environment.registerDestinationDataProvider(this);\r\n\r\n            }\r\n\r\n            if (properties == null) {\r\n\r\n                if (eventListener != null) eventListener.deleted(SAP_SERVER);\r\n                ABAP_AS_properties = null;\r\n\r\n            } else {\r\n\r\n                ABAP_AS_properties = properties;\r\n                if (eventListener != null) eventListener.updated(SAP_SERVER);\r\n\r\n            }\r\n\r\n        } catch (Exception ex) {\r\n\r\n            throw new ConexionSAPException(ex.getMessage());\r\n            \r\n        }\r\n\r\n }\r\n    \r\n}\r\n\r\n&lt;/pre&gt;\r\n","title":"SAP JCo connector loaded forever in GlassFish v2.1 (can&#39;t unload)","body":"<p>I've a problem with GlassFish and SAP JCo connector (<code>sapjco3.jar</code>).</p>\n<p>I load it at start up of an J2EE application (<code>jwm.ear</code>) and initialize it wrapped in a singleton the first time a connection to SAP is needed.</p>\n<p>The problem is that this jar remains always initialized in memory, I need to restart glassfish to unload the initialized connections if I need to change a single parameter. Stopping or undeploying the app doesn't unload sapjco.jar and furter redeployments of the app never get the new connection parameters, the first initialization remains until GlassFish restart.</p>\n<p>Does anybody knows how to unload or reinitialize this library? preferably even without redeploying the app, first time the app is activated I have a reference to jcoProvider, next activations get a null reference to jcoProvider, but a jcoProvider continues instantiated in memory with initial values.</p>\n<p>Regards!</p>\n<p><i>Notes:\nGlassFish is version 2.1 in Windows 2008 server, jdk is 1.6.0.14\nsapjco3.jar and sapjco3.dll are copied to \\domains\\domain1\\lib\\ext and are version 3 of SAP java connector.\n</i></p>\n<p>Singleton to get SAP connections:</p>\n<pre>\npackage es.grupotec.ejb.SAP;\n\nimport com.sap.conn.jco.JCoDestination;\nimport com.sap.conn.jco.JCoDestinationManager;\nimport com.sap.conn.jco.JCoException;\nimport com.sap.conn.jco.ext.DestinationDataProvider;\nimport com.sap.conn.jco.ext.Environment;\nimport es.grupotec.ejb.util.ConexionSAPException;\nimport java.util.Properties;\n\npublic final class SAP {\n\n    private static String SAP_SERVER = \"JWM\";\n    private static SAP instance = null;\n    private static JCOProvider jcoProvider = null;\n\n    private SAP() {\n      // Exists only to defeat instantiation.\n    }\n\n    // Get SAP connection\n    public static synchronized JCoDestination getDestination() throws ConexionSAPException {\n\n        JCoDestination jcoDestination = null;\n\n            if (Environment.isDestinationDataProviderRegistered()) {\n                try {\n\n                    jcoDestination = JCoDestinationManager.getDestination(SAP_SERVER);\n                    return jcoDestination;\n\n                } catch (JCoException ex) {\n\n                    throw new ConexionSAPException(ex.getMessage());\n\n                }\n            }\n\n        // Create new connection\n        if(jcoProvider == null) init();\n\n        // Get connection\n        try {\n\n            jcoDestination = JCoDestinationManager.getDestination(SAP_SERVER);\n            return jcoDestination;\n            \n        } catch (JCoException ex) {\n        \n            throw new ConexionSAPException(ex.getMessage());\n\n        }\n\n    }\n\n    // Initialize connection to SAP\n    public static synchronized void init() throws ConexionSAPException {\n\n        SAPVO sap = new SAPVO();\n        Properties properties = new Properties();\n\n        if(jcoProvider == null) {\n\n\n            // Get SAP config from database\n            try {\n                sap = SAPDAO.getSAPConfig();\n            } catch (Exception ex) {\n                throw new ConexionSAPException(ex.getMessage());\n            }\n\n             // Create connection object\n            jcoProvider = new JCOProvider();\n\n        }\n\n        properties.setProperty(DestinationDataProvider.JCO_ASHOST,        sap.getJCO_ASHOST());\n        properties.setProperty(DestinationDataProvider.JCO_SYSNR,         sap.getJCO_SYSNR());\n        properties.setProperty(DestinationDataProvider.JCO_CLIENT,        sap.getJCO_CLIENT());\n        properties.setProperty(DestinationDataProvider.JCO_USER,          sap.getJCO_USER());\n        properties.setProperty(DestinationDataProvider.JCO_PASSWD,        sap.getJCO_PASSWD());\n        properties.setProperty(DestinationDataProvider.JCO_LANG,          sap.getJCO_LANG());\n\n        try {\n\n            jcoProvider.changePropertiesForABAP_AS(properties);\n\n        } catch (Exception e) {\n\n            throw new ConexionSAPException(e.getMessage());\n\n        }\n\n    }\n\n    public static synchronized void change(SAPVO sap) throws ConexionSAPException {\n\n        Properties properties = new Properties();\n\n        // If connection is null create a new one\n        if(jcoProvider == null) jcoProvider = new JCOProvider();\n\n        properties.setProperty(DestinationDataProvider.JCO_ASHOST,        sap.getJCO_ASHOST());\n        properties.setProperty(DestinationDataProvider.JCO_SYSNR,         sap.getJCO_SYSNR());\n        properties.setProperty(DestinationDataProvider.JCO_CLIENT,        sap.getJCO_CLIENT());\n        properties.setProperty(DestinationDataProvider.JCO_USER,          sap.getJCO_USER());\n        properties.setProperty(DestinationDataProvider.JCO_PASSWD,        sap.getJCO_PASSWD());\n        properties.setProperty(DestinationDataProvider.JCO_LANG,          sap.getJCO_LANG());\n\n        try {\n\n            jcoProvider.changePropertiesForABAP_AS(properties);\n\n        } catch (Exception e) {\n\n            throw new ConexionSAPException(e.getMessage());\n\n        }\n\n\n    }\n\n    // Prevent instantiation by clone\n    @Override\n    public Object clone() throws CloneNotSupportedException {\n        \n        throw new CloneNotSupportedException();\n\n    }\n\n}\n\n</pre>\n<p>JCo provider implementation:</p>\n<pre>\npackage es.grupotec.ejb.SAP;\n\nimport com.sap.conn.jco.ext.DestinationDataEventListener;\nimport com.sap.conn.jco.ext.DestinationDataProvider;\nimport com.sap.conn.jco.ext.Environment;\nimport es.grupotec.ejb.util.ConexionSAPException;\nimport java.util.Properties;\n\npublic class JCOProvider implements DestinationDataProvider {\n\n    private String SAP_SERVER = \"JWM\";\n    private DestinationDataEventListener eventListener;\n    private Properties ABAP_AS_properties;\n\n    public JCOProvider(){\n\n    }\n    \n    public JCOProvider(SAPVO sap){\n\n        ABAP_AS_properties = new Properties();\n        ABAP_AS_properties.setProperty(DestinationDataProvider.JCO_ASHOST,        sap.getJCO_ASHOST());\n        ABAP_AS_properties.setProperty(DestinationDataProvider.JCO_SYSNR,         sap.getJCO_SYSNR());\n        ABAP_AS_properties.setProperty(DestinationDataProvider.JCO_CLIENT,        sap.getJCO_CLIENT());\n        ABAP_AS_properties.setProperty(DestinationDataProvider.JCO_USER,          sap.getJCO_USER());\n        ABAP_AS_properties.setProperty(DestinationDataProvider.JCO_PASSWD,        sap.getJCO_PASSWD());\n        ABAP_AS_properties.setProperty(DestinationDataProvider.JCO_LANG,          sap.getJCO_LANG());\n        ABAP_AS_properties.setProperty(DestinationDataProvider.JCO_POOL_CAPACITY, sap.getJCO_POOL_CAPACITY());\n        ABAP_AS_properties.setProperty(DestinationDataProvider.JCO_PEAK_LIMIT,    sap.getJCO_PEAK_LIMIT());\n\n        try {\n            if (!Environment.isDestinationDataProviderRegistered())\n                Environment.registerDestinationDataProvider(this);\n            else changePropertiesForABAP_AS(ABAP_AS_properties);\n        } catch (Exception ex) {\n            String msg = ex.getMessage();\n        }\n\n    }\n\n    @Override\n    public Properties getDestinationProperties(String name) {\n\n        if (name.equals(SAP_SERVER) && ABAP_AS_properties!=null) return ABAP_AS_properties;\n        else return null;\n        \n    }\n\n    @Override\n    public boolean supportsEvents() {\n        return true;\n    }\n\n    @Override\n    public void setDestinationDataEventListener(DestinationDataEventListener eventListener) {\n        this.eventListener = eventListener;\n    }\n\n public void changePropertiesForABAP_AS(Properties properties) throws ConexionSAPException {\n\n        try {\n            \n            if (!Environment.isDestinationDataProviderRegistered()) {\n\n                if (ABAP_AS_properties == null) ABAP_AS_properties = properties;\n                Environment.registerDestinationDataProvider(this);\n\n            }\n\n            if (properties == null) {\n\n                if (eventListener != null) eventListener.deleted(SAP_SERVER);\n                ABAP_AS_properties = null;\n\n            } else {\n\n                ABAP_AS_properties = properties;\n                if (eventListener != null) eventListener.updated(SAP_SERVER);\n\n            }\n\n        } catch (Exception ex) {\n\n            throw new ConexionSAPException(ex.getMessage());\n            \n        }\n\n }\n    \n}\n\n</pre>\n"},{"tags":["java","spring-boot","maven","spring-aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":2,"creation_date":1685599115,"post_id":76375639,"comment_id":134683081,"body_markdown":"If you could just embed an aspect in any package and force Spring to apply it without your library user&#39;s explicit consent, this would be a security problem. Aspects can significantly alter an application&#39;s behaviour. You better document your library and put the tiny burden of adding a single package to the component scan upon the customer, which would be done in a minute, than to somehow try to sneak in the aspect into her application.","body":"If you could just embed an aspect in any package and force Spring to apply it without your library user&#39;s explicit consent, this would be a security problem. Aspects can significantly alter an application&#39;s behaviour. You better document your library and put the tiny burden of adding a single package to the component scan upon the customer, which would be done in a minute, than to somehow try to sneak in the aspect into her application."}],"answers":[{"comments":[{"owner":{"account_id":8613217,"reputation":111,"user_id":6926804,"display_name":"HienaKill"},"score":0,"creation_date":1685561315,"post_id":76376172,"comment_id":134679180,"body_markdown":"So, I will update my question but my package structure is similar to the following:    \n\nLib Project.   \n```\ncom.acme\n        |------&gt; aspect\n        |------&gt; config\n        |------&gt; and so on...\n``` \n    \nMain Project    \n```\ncom.acme.app\n        |------&gt; service\n        |------&gt; config\n        |------&gt; and so on...\n```  \n\nMy aspect project works fines when I use the afore mentioned annotations but the otherwise is not true","body":"So, I will update my question but my package structure is similar to the following:      Lib Project.    ``` com.acme         |------&gt; aspect         |------&gt; config         |------&gt; and so on... ```       Main Project     ``` com.acme.app         |------&gt; service         |------&gt; config         |------&gt; and so on... ```    My aspect project works fines when I use the afore mentioned annotations but the otherwise is not true"}],"tags":[],"owner":{"account_id":11084453,"reputation":211,"user_id":8138689,"display_name":"Satyajit Bhatt"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685555861,"creation_date":1685555861,"answer_id":76376172,"question_id":76375639,"body_markdown":"As you are using `@ComponentScan(&quot;com.acme.aspect&quot;)` then your MyAspect class should be in com.acme.aspect package. Because base-package means it will scan all the base package classes. Base package means main package all the classes should be in that package. ","title":"Is it possible to auto-detect an aspect from a custom lib/dependency without @Import and/or @ComponentScan?","body":"<p>As you are using <code>@ComponentScan(&quot;com.acme.aspect&quot;)</code> then your MyAspect class should be in com.acme.aspect package. Because base-package means it will scan all the base package classes. Base package means main package all the classes should be in that package.</p>\n"}],"owner":{"account_id":8613217,"reputation":111,"user_id":6926804,"display_name":"HienaKill"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687873038,"creation_date":1685550907,"question_id":76375639,"body_markdown":"I have the following scenario:\r\n- A lib project made with Spring Boot and Spring AOP, aspect code goes here;\r\n- A main project that will import my lib as a dependency, it&#39;s also a Spring Boot project.\r\n\r\nI&#39;ll like to know if it&#39;s possible for my main project to auto-detect the aspect from lib without any further configuration besides dependency inclusion and custom annotation usage?    \r\nI&#39;ve already tested the lib and it was succesfull.   \r\nIt was imported without any error, the custom annotation I&#39;ve created was recognized **but it does not trigger my aspect** without **@ComponentScan** and/or **@Import** addition...    \r\nWhen I have them on my main project, it works as a charm\r\n\r\nIs there any way to make it recognize/auto-detect my aspect, without using those annotations?\r\n\r\nNow some code from lib project:\r\n\r\n*pom*\r\n\r\n```xml\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.8.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n*Aspect*\r\n```java\r\n@Component\r\n@Aspect\r\npublic class MyAspect {\r\n    @Pointcut(&quot;@within(org.springframework.stereotype.Service)&quot;)\r\n    public void serviceClass() {}\r\n\r\n    @Around(&quot;@annotation(mylog) &amp;&amp; serviceClass()&quot;)\r\n    public void aroundExecution(ProceedingJoinPoint proceedingJoinPoint,\r\n                                             MyLog mylog) {\r\n    // some code\r\n    }\r\n}\r\n```\r\n\r\n*Configuration*\r\n```java\r\n@Configuration\r\n@ComponentScan(&quot;com.acme.aspect&quot;)\r\n@EnableAspectJAutoProxy\r\npublic class AopConfig {\r\n} \r\n```\r\n\r\n*Annotation*\r\n\r\n```java\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface MyLog {}\r\n``` \r\n\r\n**EDIT**\r\n\r\n**Lib Project**\r\n\r\n```\r\ncom.acme\r\n        |------&gt; aspect\r\n        |------&gt; config\r\n        |------&gt; and so on...\r\n```\r\n\r\n**Main Project**\r\n\r\n```\r\ncom.acme.app\r\n        |------&gt; service\r\n        |------&gt; config\r\n        |------&gt; and so on...\r\n```\r\n\r\nThanks in advance!","title":"Is it possible to auto-detect an aspect from a custom lib/dependency without @Import and/or @ComponentScan?","body":"<p>I have the following scenario:</p>\n<ul>\n<li>A lib project made with Spring Boot and Spring AOP, aspect code goes here;</li>\n<li>A main project that will import my lib as a dependency, it's also a Spring Boot project.</li>\n</ul>\n<p>I'll like to know if it's possible for my main project to auto-detect the aspect from lib without any further configuration besides dependency inclusion and custom annotation usage?<br />\nI've already tested the lib and it was succesfull.<br />\nIt was imported without any error, the custom annotation I've created was recognized <strong>but it does not trigger my aspect</strong> without <strong>@ComponentScan</strong> and/or <strong>@Import</strong> addition...<br />\nWhen I have them on my main project, it works as a charm</p>\n<p>Is there any way to make it recognize/auto-detect my aspect, without using those annotations?</p>\n<p>Now some code from lib project:</p>\n<p><em>pom</em></p>\n<pre class=\"lang-xml prettyprint-override\"><code>         &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n            &lt;version&gt;2.2.8.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p><em>Aspect</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Aspect\npublic class MyAspect {\n    @Pointcut(&quot;@within(org.springframework.stereotype.Service)&quot;)\n    public void serviceClass() {}\n\n    @Around(&quot;@annotation(mylog) &amp;&amp; serviceClass()&quot;)\n    public void aroundExecution(ProceedingJoinPoint proceedingJoinPoint,\n                                             MyLog mylog) {\n    // some code\n    }\n}\n</code></pre>\n<p><em>Configuration</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ComponentScan(&quot;com.acme.aspect&quot;)\n@EnableAspectJAutoProxy\npublic class AopConfig {\n} \n</code></pre>\n<p><em>Annotation</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface MyLog {}\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p><strong>Lib Project</strong></p>\n<pre><code>com.acme\n        |------&gt; aspect\n        |------&gt; config\n        |------&gt; and so on...\n</code></pre>\n<p><strong>Main Project</strong></p>\n<pre><code>com.acme.app\n        |------&gt; service\n        |------&gt; config\n        |------&gt; and so on...\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","eclipse","tomcat"],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634819701,"creation_date":1634819701,"answer_id":69662084,"question_id":69656993,"body_markdown":"Don&#39;t use an installed copy of Tomcat. Your user does not have full ownership over its file tree, and the installation layout might have other unanticipated differences. Get a tar/zip file from Apache, or on more recent versions, let the wizard download Tomcat for you.","title":"tomcat eclipse error Could not load the Tomcat server configuration at ...The configuration may be corrupt or incomplete","body":"<p>Don't use an installed copy of Tomcat. Your user does not have full ownership over its file tree, and the installation layout might have other unanticipated differences. Get a tar/zip file from Apache, or on more recent versions, let the wizard download Tomcat for you.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1688079257,"post_id":76565456,"comment_id":135029592,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76565456/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23978721,"reputation":1,"user_id":17966486,"display_name":"Ike Kennedy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687873020,"creation_date":1687873020,"answer_id":76565456,"question_id":69656993,"body_markdown":"Tomcat must have gotten corrupted. You&#39;ll have to uninstall tomcat from your system and reinstall it using a tar version if you still want to stick with the same Tomcat version that got corrupted-or go for a higher version that has your patch fixed","title":"tomcat eclipse error Could not load the Tomcat server configuration at ...The configuration may be corrupt or incomplete","body":"<p>Tomcat must have gotten corrupted. You'll have to uninstall tomcat from your system and reinstall it using a tar version if you still want to stick with the same Tomcat version that got corrupted-or go for a higher version that has your patch fixed</p>\n"}],"owner":{"account_id":20977717,"reputation":19,"user_id":15413289,"display_name":"yonnpa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":512,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1687873020,"creation_date":1634798200,"question_id":69656993,"body_markdown":"Can anyone give me some advice on this error?\r\nWhenever I try to define a new server on eclipse by using tomcat, I get this error:\r\n\r\n    Could not load the Tomcat server configuration at C:\\gwl\\web\\apache\\conf. The configuration may be corrupt or incomplete.\r\n\r\n\r\n[![this is the pic of the error][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HVniX.png\r\n\r\n **My Tomcat version is 8.5** ","title":"tomcat eclipse error Could not load the Tomcat server configuration at ...The configuration may be corrupt or incomplete","body":"<p>Can anyone give me some advice on this error?\nWhenever I try to define a new server on eclipse by using tomcat, I get this error:</p>\n<pre><code>Could not load the Tomcat server configuration at C:\\gwl\\web\\apache\\conf. The configuration may be corrupt or incomplete.\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/HVniX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HVniX.png\" alt=\"this is the pic of the error\" /></a></p>\n<p><strong>My Tomcat version is 8.5</strong></p>\n"},{"tags":["java","sapjco3"],"answers":[{"tags":[],"owner":{"account_id":1513781,"reputation":151,"user_id":1415269,"display_name":"Carsten Erker"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1354968487,"creation_date":1354968487,"answer_id":13777308,"question_id":13643905,"body_markdown":"The SAP Java Connector internally uses a native library to connect to SAP. This native library is not the sapjco3.jar but the sapjco3.dll (on Windows systems). I.e. the dll file must be in a folder which is in your Java library path. \r\n\r\nThe latter is a Java system property, you can access it in your application by calling \r\n\r\n    System.getProperty(&quot;java.library.path&quot;)\r\n\r\nThen you can put the sapjco3.dll either into one of the folders which are already in your library path (on Windows e.g. something like C:\\WINNT\\system32) or the other way around set the library path to a specific folder by explicitly setting the library path:\r\n\r\n- in the application code by setting \r\n`System.setProperty(&quot;java.library.path&quot;, &quot;C:\\path\\to\\folder\\with\\dll\\&quot;)` \r\nbefore accessing the SAP JCo\r\n- or when starting Java with the command line argument \r\n`-Djava.library.path=C:\\path\\to\\folder\\with\\dll\\`\r\n\r\nSince putting the dll into a system specific folder like winnt\\system32 may have effects not only to your application but to others as well, it is recommended to add the folder containing the sapjco3.dll to your application&#39;s library path. The more flexible way is to specify it via the command line as shown above so you don&#39;t have it hard coded.","title":"Exception while connecting SAP through Java","body":"<p>The SAP Java Connector internally uses a native library to connect to SAP. This native library is not the sapjco3.jar but the sapjco3.dll (on Windows systems). I.e. the dll file must be in a folder which is in your Java library path. </p>\n\n<p>The latter is a Java system property, you can access it in your application by calling </p>\n\n<pre><code>System.getProperty(\"java.library.path\")\n</code></pre>\n\n<p>Then you can put the sapjco3.dll either into one of the folders which are already in your library path (on Windows e.g. something like C:\\WINNT\\system32) or the other way around set the library path to a specific folder by explicitly setting the library path:</p>\n\n<ul>\n<li>in the application code by setting \n<code>System.setProperty(\"java.library.path\", \"C:\\path\\to\\folder\\with\\dll\\\")</code> \nbefore accessing the SAP JCo</li>\n<li>or when starting Java with the command line argument \n<code>-Djava.library.path=C:\\path\\to\\folder\\with\\dll\\</code></li>\n</ul>\n\n<p>Since putting the dll into a system specific folder like winnt\\system32 may have effects not only to your application but to others as well, it is recommended to add the folder containing the sapjco3.dll to your application's library path. The more flexible way is to specify it via the command line as shown above so you don't have it hard coded.</p>\n"}],"owner":{"account_id":2097610,"reputation":31,"user_id":1866034,"display_name":"user1866034"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6132,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":1,"score":1,"last_activity_date":1687872937,"creation_date":1354273266,"question_id":13643905,"body_markdown":"Can you please tell me the solution to fix this below issue ---\r\n\r\nThis exception I am getting while trying to connect SAP related files through Java class even though `sapjco3.jar` is in my library path. I tried this in Windows XP &amp; Windows Server 98.\r\n\r\n&gt; ```\r\n&gt; java.lang.UnsatisfiedLinkError: no sapjco3 in java.library.path\r\n&gt;\tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1682)\r\n&gt;\tat java.lang.Runtime.loadLibrary0(Runtime.java:823)\r\n&gt;\tat java.lang.System.loadLibrary(System.java:1030)\r\n&gt;\tat com.sap.conn.jco.rt.DefaultJCoRuntime.loadLibrary(DefaultJCoRuntime.java:441)\r\n&gt;\tat com.sap.conn.jco.rt.DefaultJCoRuntime.registerNativeMethods(DefaultJCoRuntime.java:307)\r\n&gt;\tat com.sap.conn.jco.rt.JCoRuntime.registerNatives(JCoRuntime.java:987)\r\n&gt;\tat com.sap.conn.rfc.driver.CpicDriver.&lt;clinit&gt;(CpicDriver.java:948)\r\n&gt;\tat com.sap.conn.rfc.engine.DefaultRfcRuntime.getVersion(DefaultRfcRuntime.java:43)\r\n&gt;\tat com.sap.conn.rfc.api.RfcApi.RfcGetVersion(RfcApi.java:259)\r\n&gt;\tat com.sap.conn.jco.rt.MiddlewareJavaRfc.&lt;clinit&gt;(MiddlewareJavaRfc.java:200)\r\n&gt;\tat com.sap.conn.jco.rt.DefaultJCoRuntime.initialize(DefaultJCoRuntime.java:73)\r\n&gt;\tat com.sap.conn.jco.rt.JCoRuntimeFactory.&lt;clinit&gt;(JCoRuntimeFactory.java:23)\r\n&gt;\tat com.sap.conn.jco.rt.RuntimeEnvironment.&lt;init&gt;(RuntimeEnvironment.java:40)\r\n&gt;\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n&gt;\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\r\n&gt;\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\r\n&gt;\tat java.lang.reflect.Constructor.newInstance(Constructor.java:513)\r\n&gt;\tat java.lang.Class.newInstance0(Class.java:355)\r\n&gt;\tat java.lang.Class.newInstance(Class.java:308)\r\n&gt;\tat com.sap.conn.jco.ext.Environment.getInstance(Environment.java:121)\r\n&gt;\tat com.sap.conn.jco.ext.Environment.registerDestinationDataProvider(Environment.java:216)\r\n&gt;\tat de.vogella.sap.rfc.core.connection.Connection.&lt;init&gt;(Connection.java:37)\r\n&gt;\tat struct.actions.GestReservaSap.&lt;clinit&gt;(GestReservaSap.java:63)\r\n&gt;\tat eu.sony.com.moduloreservas.ReservasMainClass.main(ReservasMainClass.java:259)\r\n&gt; ```\r\n","title":"Exception while connecting SAP through Java","body":"<p>Can you please tell me the solution to fix this below issue ---</p>\n<p>This exception I am getting while trying to connect SAP related files through Java class even though <code>sapjco3.jar</code> is in my library path. I tried this in Windows XP &amp; Windows Server 98.</p>\n<blockquote>\n<pre><code>java.lang.UnsatisfiedLinkError: no sapjco3 in java.library.path\n  at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1682)\n  at java.lang.Runtime.loadLibrary0(Runtime.java:823)\n  at java.lang.System.loadLibrary(System.java:1030)\n  at com.sap.conn.jco.rt.DefaultJCoRuntime.loadLibrary(DefaultJCoRuntime.java:441)\n  at com.sap.conn.jco.rt.DefaultJCoRuntime.registerNativeMethods(DefaultJCoRuntime.java:307)\n  at com.sap.conn.jco.rt.JCoRuntime.registerNatives(JCoRuntime.java:987)\n  at com.sap.conn.rfc.driver.CpicDriver.&lt;clinit&gt;(CpicDriver.java:948)\n  at com.sap.conn.rfc.engine.DefaultRfcRuntime.getVersion(DefaultRfcRuntime.java:43)\n  at com.sap.conn.rfc.api.RfcApi.RfcGetVersion(RfcApi.java:259)\n  at com.sap.conn.jco.rt.MiddlewareJavaRfc.&lt;clinit&gt;(MiddlewareJavaRfc.java:200)\n  at com.sap.conn.jco.rt.DefaultJCoRuntime.initialize(DefaultJCoRuntime.java:73)\n  at com.sap.conn.jco.rt.JCoRuntimeFactory.&lt;clinit&gt;(JCoRuntimeFactory.java:23)\n  at com.sap.conn.jco.rt.RuntimeEnvironment.&lt;init&gt;(RuntimeEnvironment.java:40)\n  at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n  at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n  at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n  at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n  at java.lang.Class.newInstance0(Class.java:355)\n  at java.lang.Class.newInstance(Class.java:308)\n  at com.sap.conn.jco.ext.Environment.getInstance(Environment.java:121)\n  at com.sap.conn.jco.ext.Environment.registerDestinationDataProvider(Environment.java:216)\n  at de.vogella.sap.rfc.core.connection.Connection.&lt;init&gt;(Connection.java:37)\n  at struct.actions.GestReservaSap.&lt;clinit&gt;(GestReservaSap.java:63)\n  at eu.sony.com.moduloreservas.ReservasMainClass.main(ReservasMainClass.java:259)\n</code></pre>\n</blockquote>\n"},{"tags":["java","android","android-gradle-plugin","compiler-warnings"],"comments":[{"owner":{"account_id":5360271,"reputation":4735,"user_id":4271755,"accept_rate":100,"display_name":"Invisible Arrow"},"score":0,"creation_date":1421339765,"post_id":27968193,"comment_id":44329322,"body_markdown":"I can confirm that it is possible in Gradle as I use it. But maybe there&#39;s something different in the Android Gradle plugin.","body":"I can confirm that it is possible in Gradle as I use it. But maybe there&#39;s something different in the Android Gradle plugin."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1687874962,"post_id":27968193,"comment_id":134996018,"body_markdown":"Why not `options.compilerArgs.add(&quot;-Xlint:all -Werror&quot;)` and see where that gets you?","body":"Why not <code>options.compilerArgs.add(&quot;-Xlint:all -Werror&quot;)</code> and see where that gets you?"}],"answers":[{"comments":[{"owner":{"account_id":58244,"reputation":1134,"user_id":174433,"accept_rate":0,"display_name":"Mark"},"score":0,"creation_date":1421355449,"post_id":27972390,"comment_id":44338345,"body_markdown":"Hi Gio,\n\nAs far as I know, what you have shown is for Android Lint rather than javac lint.\n\nMark","body":"Hi Gio,  As far as I know, what you have shown is for Android Lint rather than javac lint.  Mark"},{"owner":{"account_id":58244,"reputation":1134,"user_id":174433,"accept_rate":0,"display_name":"Mark"},"score":0,"creation_date":1421779767,"post_id":27972390,"comment_id":44487746,"body_markdown":"Hi Gio,\n\nI tried what you suggested, and it turns out that it does work in a brand new project, just not the one I am actually working on.  So there must be something about the one that I am working on that prevents it from working.  Very strange.  Thank you for your help!","body":"Hi Gio,  I tried what you suggested, and it turns out that it does work in a brand new project, just not the one I am actually working on.  So there must be something about the one that I am working on that prevents it from working.  Very strange.  Thank you for your help!"},{"owner":{"account_id":3872366,"reputation":1214,"user_id":3207339,"display_name":"Juan Labrador"},"score":0,"creation_date":1444931441,"post_id":27972390,"comment_id":54119520,"body_markdown":"Thanks buddy! It helps me very much!","body":"Thanks buddy! It helps me very much!"}],"tags":[],"owner":{"account_id":905775,"reputation":4960,"user_id":940720,"accept_rate":100,"display_name":"gio"},"comment_count":3,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1421392955,"creation_date":1421353663,"answer_id":27972390,"question_id":27968193,"body_markdown":"**javac lint**\r\n\r\n\t// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\n\tbuildscript {\r\n\t\trepositories {\r\n\t\t\tjcenter()\r\n\t\t}\r\n\t\tdependencies {\r\n\t\t\tclasspath &#39;com.android.tools.build:gradle:1.0.0&#39;\r\n\r\n\t\t\t// NOTE: Do not place your application dependencies here; they belong\r\n\t\t\t// in the individual module build.gradle files\r\n\t\t}\r\n\t}\r\n\r\n\tallprojects {\r\n\t\trepositories {\r\n\t\t\tjcenter()\r\n\t\t}\r\n\t\tgradle.projectsEvaluated {\r\n\t\t\ttasks.withType(JavaCompile) {\r\n\t\t\t\toptions.compilerArgs &lt;&lt; &quot;-Xlint:all&quot; &lt;&lt; &quot;-Werror&quot;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nresult would be next\r\n\r\n    ....\r\n\t:app:compileDebugJava                 \r\n\tD:\\Android\\stack-overflow\\ui\\app\\src\\main\\java\\com\\tivogi\\ui\\activity\\MainActivity.java:22: warning: [deprecation] getLastNonConfigurationInstance() in Activity has been deprecated\r\n\t\t\tgetLastNonConfigurationInstance();\r\n\t\t\t^                             \r\n\terror: warnings found and -Werror specified\r\n\t1 error                               \r\n\t1 warning                             \r\n\t:app:compileDebugJava FAILED          \r\n\t\t\t\t  \r\n\tFAILURE: Build failed with an exception.\r\n\t\t\t\t  \r\n\t* What went wrong:\r\n\tExecution failed for task &#39;:app:compileDebugJava&#39;.\r\n\t&gt; Compilation failed; see the compiler error output for details.\r\n\t\t\t\t  \r\n\t* Try:        \r\n\tRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n\t\t\t\t  \r\n\tBUILD FAILED  \r\n\t\t\t\t  \r\n\tTotal time: 2.421 secs\r\n\r\n**Android Lint**\r\n\r\nFrom Android [Lint support][1] at Gradle Plugin User Guide\r\n\r\n    android {\r\n        lintOptions {\r\n            ...\r\n            // if true, treat all warnings as errors\r\n            warningsAsErrors true\r\n            ...\r\n        }\r\n    }\r\n\r\n  [1]: http://tools.android.com/tech-docs/new-build-system/user-guide#TOC-Lint-support","title":"Is it possible to enable -Werror for JavaCompile in gradle?","body":"<p><strong>javac lint</strong></p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:1.0.0'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n    gradle.projectsEvaluated {\n        tasks.withType(JavaCompile) {\n            options.compilerArgs &lt;&lt; \"-Xlint:all\" &lt;&lt; \"-Werror\"\n        }\n    }\n}\n</code></pre>\n\n<p>result would be next</p>\n\n<pre><code>....\n:app:compileDebugJava                 \nD:\\Android\\stack-overflow\\ui\\app\\src\\main\\java\\com\\tivogi\\ui\\activity\\MainActivity.java:22: warning: [deprecation] getLastNonConfigurationInstance() in Activity has been deprecated\n        getLastNonConfigurationInstance();\n        ^                             \nerror: warnings found and -Werror specified\n1 error                               \n1 warning                             \n:app:compileDebugJava FAILED          \n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugJava'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:        \nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\nBUILD FAILED  \n\nTotal time: 2.421 secs\n</code></pre>\n\n<p><strong>Android Lint</strong></p>\n\n<p>From Android <a href=\"http://tools.android.com/tech-docs/new-build-system/user-guide#TOC-Lint-support\" rel=\"noreferrer\">Lint support</a> at Gradle Plugin User Guide</p>\n\n<pre><code>android {\n    lintOptions {\n        ...\n        // if true, treat all warnings as errors\n        warningsAsErrors true\n        ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9725840,"reputation":1489,"user_id":7212836,"display_name":"Evgenii Vorobei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661085157,"creation_date":1661085157,"answer_id":73434429,"question_id":27968193,"body_markdown":"For googlers:\r\n\r\nIf you want fail on kotlin warnings, add to the root `build.gradle.kts`:\r\n\r\n```kotlin\r\nallprojects {\r\n    project.tasks.withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompile&gt; {\r\n        kotlinOptions {\r\n            jvmTarget = JavaVersion.VERSION_11.toString()\r\n            allWarningsAsErrors = true\r\n        }\r\n    }\r\n}\r\n```","title":"Is it possible to enable -Werror for JavaCompile in gradle?","body":"<p>For googlers:</p>\n<p>If you want fail on kotlin warnings, add to the root <code>build.gradle.kts</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>allprojects {\n    project.tasks.withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompile&gt; {\n        kotlinOptions {\n            jvmTarget = JavaVersion.VERSION_11.toString()\n            allWarningsAsErrors = true\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":58244,"reputation":1134,"user_id":174433,"accept_rate":0,"display_name":"Mark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12668,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1687872860,"creation_date":1421339304,"question_id":27968193,"body_markdown":"\r\nI have an Android project set up in Gradle using the `com.android.application` plugin. \r\nI want javac lint warnings to trigger errors instead of just warnings.\r\n\r\nThe following works just fine for warnings:\r\n\r\n```lang-groovy\r\ntasks.withType(JavaCompile).all {\r\n    options.compilerArgs.add(&quot;-Xlint:all&quot;)\r\n}\r\n```\r\nHowever, adding `-Werror` to it:\r\n\r\n```lang-groovy\r\ntasks.withType(JavaCompile).all {\r\n    options.compilerArgs.add(&quot;-Xlint:all&quot;)\r\n    options.compilerArgs.add(&quot;-Werror&quot;)\r\n}\r\n```\r\n\r\ncauses the build to completely fail (not in the right way):\r\n\r\n```stacktrace\r\nFAILURE: Build failed with an exception.\r\n\r\nWhat went wrong: Execution failed for task &#39;:app:compileDebugJava&#39;.\r\njava.lang.NullPointerException\r\n\r\nTry: Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n\r\nBUILD FAILED\r\n\r\nCalling gradle with --stacktrace shows:\r\n\r\nException is: org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:compileDebugJava&#39;.\r\n  at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:69)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)\r\n\tat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\r\n\tat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\r\n\tat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:42)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n\tat org.gradle.api.internal.AbstractTask.executeWithoutThrowingTaskFailure(AbstractTask.java:305)\r\n\tat org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.executeTask(AbstractTaskPlanExecutor.java:79)\r\n\tat org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:63)\r\n\tat org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:51)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:23)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:88)\r\n\tat org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:29)\r\n\tat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:62)\r\n\tat org.gradle.execution.DefaultBuildExecuter.access$200(DefaultBuildExecuter.java:23)\r\n\tat org.gradle.execution.DefaultBuildExecuter$2.proceed(DefaultBuildExecuter.java:68)\r\n\tat org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\r\n\tat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:62)\r\n\tat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:55)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:149)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:106)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:86)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:80)\r\n\tat org.gradle.launcher.cli.ExecuteBuildAction.run(ExecuteBuildAction.java:33)\r\n\tat org.gradle.launcher.cli.ExecuteBuildAction.run(ExecuteBuildAction.java:24)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:36)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:26)\r\n\tat org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:51)\r\n\tat org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:171)\r\n\tat org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:237)\r\n\tat org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:210)\r\n\tat org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:35)\r\n\tat org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:24)\r\n\tat org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:206)\r\n\tat org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:169)\r\n\tat org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:33)\r\n\tat org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:22)\r\n\tat org.gradle.launcher.Main.doAction(Main.java:33)\r\n\tat org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:45)\r\n\tat org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:54)\r\n\tat org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:35)\r\n\tat org.gradle.launcher.GradleMain.main(GradleMain.java:23) \r\n\tCaused by: java.lang.RuntimeException: java.lang.NullPointerException\r\n    at com.sun.tools.javac.main.Main.compile(Main.java:469)\r\n    at com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:132)\r\n    at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:42)\r\n    at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:35)\r\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.delegateAndHandleErrors(NormalizingJavaCompiler.java:97)\r\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:50)\r\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:36)\r\n    at org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:34)\r\n    at org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:25)\r\n    at org.gradle.api.tasks.compile.JavaCompile.performCompilation(JavaCompile.java:158)\r\n    at org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:138)\r\n    at org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:92)\r\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:63)\r\n    at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.doExecute(AnnotationProcessingTaskFactory.java:235)\r\n    at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:211)\r\n    at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.execute(AnnotationProcessingTaskFactory.java:222)\r\n    at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:200)\r\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:80)\r\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:61)\r\n    ... 44 more\r\n\tCaused by: java.lang.NullPointerException\r\n    at dagger.internal.codegen.Util.getAnnotation(Util.java:192)\r\n    at dagger.internal.codegen.GraphAnalysisProcessor.process(GraphAnalysisProcessor.java:105)\r\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:793)\r\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.access$200(JavacProcessingEnvironment.java:97)\r\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$DiscoveredProcessors$ProcessorStateIterator.runContributingProcs(JavacProcessingEnvironment.java:644)\r\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1027)\r\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1185)\r\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1108)\r\n    at com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:824)\r\n    at com.sun.tools.javac.main.Main.compile(Main.java:439) \t... 62 more\r\n```\r\n\r\nIs adding `-Werror` not supported?\r\n","title":"Is it possible to enable -Werror for JavaCompile in gradle?","body":"<p>I have an Android project set up in Gradle using the <code>com.android.application</code> plugin.\nI want javac lint warnings to trigger errors instead of just warnings.</p>\n<p>The following works just fine for warnings:</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>tasks.withType(JavaCompile).all {\n    options.compilerArgs.add(&quot;-Xlint:all&quot;)\n}\n</code></pre>\n<p>However, adding <code>-Werror</code> to it:</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>tasks.withType(JavaCompile).all {\n    options.compilerArgs.add(&quot;-Xlint:all&quot;)\n    options.compilerArgs.add(&quot;-Werror&quot;)\n}\n</code></pre>\n<p>causes the build to completely fail (not in the right way):</p>\n<pre><code>FAILURE: Build failed with an exception.\n\nWhat went wrong: Execution failed for task ':app:compileDebugJava'.\njava.lang.NullPointerException\n\nTry: Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\nBUILD FAILED\n\nCalling gradle with --stacktrace shows:\n\nException is: org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:compileDebugJava'.\n  at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:69)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:42)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.AbstractTask.executeWithoutThrowingTaskFailure(AbstractTask.java:305)\n    at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.executeTask(AbstractTaskPlanExecutor.java:79)\n    at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:63)\n    at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:51)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:23)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:88)\n    at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:29)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:62)\n    at org.gradle.execution.DefaultBuildExecuter.access$200(DefaultBuildExecuter.java:23)\n    at org.gradle.execution.DefaultBuildExecuter$2.proceed(DefaultBuildExecuter.java:68)\n    at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:62)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:55)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:149)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:106)\n    at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:86)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:80)\n    at org.gradle.launcher.cli.ExecuteBuildAction.run(ExecuteBuildAction.java:33)\n    at org.gradle.launcher.cli.ExecuteBuildAction.run(ExecuteBuildAction.java:24)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:36)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:26)\n    at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:51)\n    at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:171)\n    at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:237)\n    at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:210)\n    at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:35)\n    at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:24)\n    at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:206)\n    at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:169)\n    at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:33)\n    at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:22)\n    at org.gradle.launcher.Main.doAction(Main.java:33)\n    at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:45)\n    at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:54)\n    at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:35)\n    at org.gradle.launcher.GradleMain.main(GradleMain.java:23) \n    Caused by: java.lang.RuntimeException: java.lang.NullPointerException\n    at com.sun.tools.javac.main.Main.compile(Main.java:469)\n    at com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:132)\n    at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:42)\n    at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:35)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.delegateAndHandleErrors(NormalizingJavaCompiler.java:97)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:50)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:36)\n    at org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:34)\n    at org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:25)\n    at org.gradle.api.tasks.compile.JavaCompile.performCompilation(JavaCompile.java:158)\n    at org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:138)\n    at org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:92)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:63)\n    at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.doExecute(AnnotationProcessingTaskFactory.java:235)\n    at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:211)\n    at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.execute(AnnotationProcessingTaskFactory.java:222)\n    at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:200)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:80)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:61)\n    ... 44 more\n    Caused by: java.lang.NullPointerException\n    at dagger.internal.codegen.Util.getAnnotation(Util.java:192)\n    at dagger.internal.codegen.GraphAnalysisProcessor.process(GraphAnalysisProcessor.java:105)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:793)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.access$200(JavacProcessingEnvironment.java:97)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$DiscoveredProcessors$ProcessorStateIterator.runContributingProcs(JavacProcessingEnvironment.java:644)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1027)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1185)\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1108)\n    at com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:824)\n    at com.sun.tools.javac.main.Main.compile(Main.java:439)     ... 62 more\n</code></pre>\n<p>Is adding <code>-Werror</code> not supported?</p>\n"},{"tags":["java","while-loop","do-while"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1687865791,"post_id":76564434,"comment_id":134993597,"body_markdown":"Once your program leaves the do/while loop, it will never return to it. You want that loop to encompass your whole program.","body":"Once your program leaves the do/while loop, it will never return to it. You want that loop to encompass your whole program."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1687865834,"post_id":76564434,"comment_id":134993600,"body_markdown":"Stepping through your program with the debugger will help you understand what&#39;s happening.","body":"Stepping through your program with the debugger will help you understand what&#39;s happening."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1687870890,"post_id":76564434,"comment_id":134994879,"body_markdown":"why have four choices that just all do nextInt() ?","body":"why have four choices that just all do nextInt() ?"}],"answers":[{"comments":[{"owner":{"account_id":28521719,"reputation":1,"user_id":21830337,"display_name":"Dimitar Todorov"},"score":0,"creation_date":1687873483,"post_id":76565411,"comment_id":134995573,"body_markdown":"Thanks so much man, you are a lifesaver! Looks like I need to redo the while loop course :D","body":"Thanks so much man, you are a lifesaver! Looks like I need to redo the while loop course :D"}],"tags":[],"owner":{"account_id":23832769,"reputation":84,"user_id":17838848,"display_name":"Zero"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687872752,"creation_date":1687872752,"answer_id":76565411,"question_id":76564434,"body_markdown":"You have a loop which keeps asking for an input as long as the input is 0, but you don&#39;t have any if condition that will run the loop again when you&#39;re typing 0 later. Like this, you cannot run the loop again by typing 0. Typing 0 after doing one of the calculation will have the same effect as typing any other number greater than 5 or less than 1.\r\nIf you want to run the main menu loop when typing 0, you should add an if-condition for this, for example:\r\n\r\n    if (pick == 0) {\r\n        //the main menu loop\r\n    }\r\n\r\nAlso, since there comes nothing after the if-else-block, the program will end after you do the next input. You have to loop the program if you want it to run more than once. I suggest turning the do-while-loop into a while-loop and then running the whole code inside a while (true) - loop:\r\n\r\n    public class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        String pick_String;\r\n        int pick = 0;\r\n    \r\n        while (true) {\r\n     \r\n            if (pick == 0) {\r\n                while (pick==0) {\r\n                    pick_String = JOptionPane.showInputDialog(&quot;Which tool would you like to use? (Type just the number) &quot; +\r\n                    &quot;\\n1.Basic Calculator&quot; +\r\n                    &quot;\\n2.Solve a quadratic equation&quot; +\r\n                    &quot;\\n3.Find a side in a right triangle&quot; +\r\n                    &quot;\\n4.Find the distance between two points in a coordinate system&quot; +\r\n                    &quot;\\n5.Exit&quot;);\r\n                    pick = Integer.parseInt(pick_String);\r\n                }\r\n            }\r\n\r\n            if (pick == 1) {\r\n                //code for the basic calculator\r\n                System.out.println(&quot;If you want to get back to the menu type 0&quot;);\r\n                pick = scanner.nextInt();\r\n            } else if (pick == 2) {\r\n                //code for solving a the quadratic equation\r\n                System.out.println(&quot;If you want to get back to the menu type 0&quot;);\r\n                pick = scanner.nextInt();\r\n            } else if (pick == 3) {\r\n                //code for finding a side in a right triangle\r\n                System.out.println(&quot;If you want to get back to the menu type 0&quot;);\r\n                pick = scanner.nextInt();\r\n            } else if (pick == 4) {\r\n                //code for finding the distance between two points in a coordinate system\r\n                System.out.println(&quot;If you want to get back to the menu type 0&quot;);\r\n                pick = scanner.nextInt();\r\n            } else if (pick == 5) {\r\n                System.exit(0); // this will exit while(true) along with the program\r\n            }\r\n        \r\n        \r\n        }\r\n    \r\n    }\r\n\r\n","title":"Looping back to the start of a java program after executing a block of code","body":"<p>You have a loop which keeps asking for an input as long as the input is 0, but you don't have any if condition that will run the loop again when you're typing 0 later. Like this, you cannot run the loop again by typing 0. Typing 0 after doing one of the calculation will have the same effect as typing any other number greater than 5 or less than 1.\nIf you want to run the main menu loop when typing 0, you should add an if-condition for this, for example:</p>\n<pre><code>if (pick == 0) {\n    //the main menu loop\n}\n</code></pre>\n<p>Also, since there comes nothing after the if-else-block, the program will end after you do the next input. You have to loop the program if you want it to run more than once. I suggest turning the do-while-loop into a while-loop and then running the whole code inside a while (true) - loop:</p>\n<pre><code>public class Main {\n\npublic static void main(String[] args) {\n\n    Scanner scanner = new Scanner(System.in);\n\n    String pick_String;\n    int pick = 0;\n\n    while (true) {\n \n        if (pick == 0) {\n            while (pick==0) {\n                pick_String = JOptionPane.showInputDialog(&quot;Which tool would you like to use? (Type just the number) &quot; +\n                &quot;\\n1.Basic Calculator&quot; +\n                &quot;\\n2.Solve a quadratic equation&quot; +\n                &quot;\\n3.Find a side in a right triangle&quot; +\n                &quot;\\n4.Find the distance between two points in a coordinate system&quot; +\n                &quot;\\n5.Exit&quot;);\n                pick = Integer.parseInt(pick_String);\n            }\n        }\n\n        if (pick == 1) {\n            //code for the basic calculator\n            System.out.println(&quot;If you want to get back to the menu type 0&quot;);\n            pick = scanner.nextInt();\n        } else if (pick == 2) {\n            //code for solving a the quadratic equation\n            System.out.println(&quot;If you want to get back to the menu type 0&quot;);\n            pick = scanner.nextInt();\n        } else if (pick == 3) {\n            //code for finding a side in a right triangle\n            System.out.println(&quot;If you want to get back to the menu type 0&quot;);\n            pick = scanner.nextInt();\n        } else if (pick == 4) {\n            //code for finding the distance between two points in a coordinate system\n            System.out.println(&quot;If you want to get back to the menu type 0&quot;);\n            pick = scanner.nextInt();\n        } else if (pick == 5) {\n            System.exit(0); // this will exit while(true) along with the program\n        }\n    \n    \n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":28521719,"reputation":1,"user_id":21830337,"display_name":"Dimitar Todorov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687872752,"creation_date":1687865626,"question_id":76564434,"body_markdown":"I wrote a Java program, more specifically a basic calculator. I want to return to the &quot;main menu&quot;, by asking the user to type &quot;0&quot; after solving the math problem. The solution with which I came up with seems to not be working how I want it to be. The concept of the returning is there is a variable &quot;pick&quot; which is at the start of the program and it is not assigned anything yet. The program asks the user what operation he would like to perform, each operation is assigned a number this whole thing is executed with the help of a while/do loop. The loop asks the user what operation they would like to perform while &quot;pick&quot; is 0. If for example, the user picks operation number 2 which is solving a quadratic equation, the value of the variable &quot;pick&quot; changes to 2 and there is an if which is activated if the variable pick is equal to 2 and the block of code which solves the quadratic equation starts executing. After the quadratic equation is solved the program asks the user if they want to get back to the &quot;main menu&quot; by pressing 0 I thought that if the value of the variable &quot;pick&quot; is again 0 the program would start all over again but it doesn&#39;t seem to which is the reason I&#39;m writing this.\r\n\r\nThis is the code: \r\n```\r\nimport java.util.Objects;\r\nimport java.util.Scanner;\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        String pick_String;\r\n        int pick;\r\n        do {\r\n            pick_String = JOptionPane.showInputDialog(&quot;Which tool would you like to use? (Type just the number) &quot; +\r\n                    &quot;\\n1.Basic Calculator&quot; +\r\n                    &quot;\\n2.Solve a quadratic equation&quot; +\r\n                    &quot;\\n3.Find a side in a right triangle&quot; +\r\n                    &quot;\\n4.Find the distance between two points in a coordinate system&quot; +\r\n                    &quot;\\n5.Exit&quot;\r\n            );\r\n            pick = Integer.parseInt(pick_String);\r\n        } while (pick == 0);\r\n\r\n\r\n        if (pick == 1) {\r\n            //code for the basic calculator\r\n                System.out.println(&quot;If you want to get back to the menu type 0&quot;);\r\n                pick = scanner.nextInt();\r\n        } else if (pick == 2) {\r\n            //code for solving a the quadratic equation\r\n                System.out.println(&quot;If you want to get back to the menu type 0&quot;);\r\n                pick = scanner.nextInt();\r\n        } else if (pick == 3) {\r\n            //code for finding a side in a right triangle\r\n                System.out.println(&quot;If you want to get back to the menu type 0&quot;);\r\n                pick = scanner.nextInt();\r\n        } else if (pick == 4) {\r\n            //code for finding the distance between two points in a coordinate system\r\n                System.out.println(&quot;If you want to get back to the menu type 0&quot;);\r\n                pick = scanner.nextInt();\r\n        } else if (pick == 5) {\r\n            System.exit(0);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI thought that it might not work because the program is executed from the top making its way to the bottom and after the &quot;main menu&quot; is executed it can&#39;t be done again but I&#39;m not sure.","title":"Looping back to the start of a java program after executing a block of code","body":"<p>I wrote a Java program, more specifically a basic calculator. I want to return to the &quot;main menu&quot;, by asking the user to type &quot;0&quot; after solving the math problem. The solution with which I came up with seems to not be working how I want it to be. The concept of the returning is there is a variable &quot;pick&quot; which is at the start of the program and it is not assigned anything yet. The program asks the user what operation he would like to perform, each operation is assigned a number this whole thing is executed with the help of a while/do loop. The loop asks the user what operation they would like to perform while &quot;pick&quot; is 0. If for example, the user picks operation number 2 which is solving a quadratic equation, the value of the variable &quot;pick&quot; changes to 2 and there is an if which is activated if the variable pick is equal to 2 and the block of code which solves the quadratic equation starts executing. After the quadratic equation is solved the program asks the user if they want to get back to the &quot;main menu&quot; by pressing 0 I thought that if the value of the variable &quot;pick&quot; is again 0 the program would start all over again but it doesn't seem to which is the reason I'm writing this.</p>\n<p>This is the code:</p>\n<pre><code>import java.util.Objects;\nimport java.util.Scanner;\nimport javax.swing.JOptionPane;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        Scanner scanner = new Scanner(System.in);\n\n        String pick_String;\n        int pick;\n        do {\n            pick_String = JOptionPane.showInputDialog(&quot;Which tool would you like to use? (Type just the number) &quot; +\n                    &quot;\\n1.Basic Calculator&quot; +\n                    &quot;\\n2.Solve a quadratic equation&quot; +\n                    &quot;\\n3.Find a side in a right triangle&quot; +\n                    &quot;\\n4.Find the distance between two points in a coordinate system&quot; +\n                    &quot;\\n5.Exit&quot;\n            );\n            pick = Integer.parseInt(pick_String);\n        } while (pick == 0);\n\n\n        if (pick == 1) {\n            //code for the basic calculator\n                System.out.println(&quot;If you want to get back to the menu type 0&quot;);\n                pick = scanner.nextInt();\n        } else if (pick == 2) {\n            //code for solving a the quadratic equation\n                System.out.println(&quot;If you want to get back to the menu type 0&quot;);\n                pick = scanner.nextInt();\n        } else if (pick == 3) {\n            //code for finding a side in a right triangle\n                System.out.println(&quot;If you want to get back to the menu type 0&quot;);\n                pick = scanner.nextInt();\n        } else if (pick == 4) {\n            //code for finding the distance between two points in a coordinate system\n                System.out.println(&quot;If you want to get back to the menu type 0&quot;);\n                pick = scanner.nextInt();\n        } else if (pick == 5) {\n            System.exit(0);\n        }\n    }\n\n}\n</code></pre>\n<p>I thought that it might not work because the program is executed from the top making its way to the bottom and after the &quot;main menu&quot; is executed it can't be done again but I'm not sure.</p>\n"},{"tags":["java","android","dependency-injection","android-context"],"comments":[{"owner":{"account_id":3971184,"reputation":2473,"user_id":3275754,"display_name":"0xDEADC0DE"},"score":0,"creation_date":1505713751,"post_id":46272326,"comment_id":79507079,"body_markdown":"`I don&#39;t think I can have the ship extend an Activity class because thats for creating windows right`: That&#39;s correct. Your current implementation is not wrong and as far as I know there&#39;s no other way to do it. Remember that if you&#39;re passing `Context` to other objects that you do not end up with circular references","body":"<code>I don&#39;t think I can have the ship extend an Activity class because thats for creating windows right</code>: That&#39;s correct. Your current implementation is not wrong and as far as I know there&#39;s no other way to do it. Remember that if you&#39;re passing <code>Context</code> to other objects that you do not end up with circular references"}],"answers":[{"comments":[{"owner":{"account_id":5647516,"reputation":3092,"user_id":4469112,"display_name":"Alessio"},"score":0,"creation_date":1505713979,"post_id":46272368,"comment_id":79507153,"body_markdown":"Also, get used to retrieve the application context from the passed context, don&#39;t use the context directly. It&#39;s fine as long as your class doesn&#39;t keep a reference to the passed context; you can keep a reference to the application context instead. Like this:\n\n`public Ship(@NonNull Context context) {\n      Context appCtx = context.getApplicationContext();`","body":"Also, get used to retrieve the application context from the passed context, don&#39;t use the context directly. It&#39;s fine as long as your class doesn&#39;t keep a reference to the passed context; you can keep a reference to the application context instead. Like this:  <code>public Ship(@NonNull Context context) {       Context appCtx = context.getApplicationContext();</code>"}],"tags":[],"owner":{"account_id":5647516,"reputation":3092,"user_id":4469112,"display_name":"Alessio"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505713813,"creation_date":1505713813,"answer_id":46272368,"question_id":46272326,"body_markdown":"I wrote a [blog entry](https://www.fwd.cloud/commit/post/android-context-on-demand/) about why the context should be used _on demand_, so that&#39;s the way to go, you need to pass the context either in the constructor or in the method. Don&#39;t retrieve the context statically, because one day your app will crash and then you&#39;ll have to refactor all the code to retrieve it _on demand_ instead. Hope it helps :)","title":"Is there a lightweight way to get a handle to the context to get a resource?","body":"<p>I wrote a <a href=\"https://www.fwd.cloud/commit/post/android-context-on-demand/\" rel=\"nofollow noreferrer\">blog entry</a> about why the context should be used <em>on demand</em>, so that's the way to go, you need to pass the context either in the constructor or in the method. Don't retrieve the context statically, because one day your app will crash and then you'll have to refactor all the code to retrieve it <em>on demand</em> instead. Hope it helps :)</p>\n"}],"owner":{"account_id":1016892,"reputation":28609,"user_id":1028270,"accept_rate":90,"display_name":"red888"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687872316,"creation_date":1505713578,"question_id":46272326,"body_markdown":"My ship class needs to get a bitmap from the resources folder so I pass that into the constructor like this:\r\n\r\n    public Ship(Context context) {\r\n        bitmap = BitmapFactory.decodeResource(context.getResources(), R.drawable.myShipPic);\r\n        ...\r\n\r\nI&#39;d like to not have to pass in a context object and have the ship class more self contained, how is this possible? I don&#39;t think I can have the ship extend an Activity class because that&#39;s for creating windows, right?\r\n","title":"Is there a lightweight way to get a handle to the context to get a resource?","body":"<p>My ship class needs to get a bitmap from the resources folder so I pass that into the constructor like this:</p>\n<pre><code>public Ship(Context context) {\n    bitmap = BitmapFactory.decodeResource(context.getResources(), R.drawable.myShipPic);\n    ...\n</code></pre>\n<p>I'd like to not have to pass in a context object and have the ship class more self contained, how is this possible? I don't think I can have the ship extend an Activity class because that's for creating windows, right?</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687832630,"post_id":76561194,"comment_id":134988337,"body_markdown":"You&#39;re not including the cause when you throw the BadCredentialsException. Add that, and then add the full stack trace to your question, if you still don&#39;t see the answer.","body":"You&#39;re not including the cause when you throw the BadCredentialsException. Add that, and then add the full stack trace to your question, if you still don&#39;t see the answer."},{"owner":{"account_id":28723288,"reputation":1,"user_id":21996637,"display_name":"gzhe1056"},"score":0,"creation_date":1687871838,"post_id":76561194,"comment_id":134995115,"body_markdown":"I&#39;ve added the message and the full stack for the error.","body":"I&#39;ve added the message and the full stack for the error."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687904456,"post_id":76561194,"comment_id":135001832,"body_markdown":"You still haven&#39;t added the cause to the BadCredentialsException, so you can&#39;t see which exception is triggering your BadCredentialsException.","body":"You still haven&#39;t added the cause to the BadCredentialsException, so you can&#39;t see which exception is triggering your BadCredentialsException."},{"owner":{"account_id":28723288,"reputation":1,"user_id":21996637,"display_name":"gzhe1056"},"score":0,"creation_date":1687912566,"post_id":76561194,"comment_id":135002591,"body_markdown":"It&#39;s in the JwtTokenValidationFilter class throwing a BadCredentialsException. It&#39;s also in the stack trace in the first line","body":"It&#39;s in the JwtTokenValidationFilter class throwing a BadCredentialsException. It&#39;s also in the stack trace in the first line"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687917745,"post_id":76561194,"comment_id":135002993,"body_markdown":"In `JwtTokenValidationFilter` you catch an exception, and then throw a `BadCredentialsException`. Because you don&#39;t use the original exception as the cause of the `BadCredentialsException`, it isn&#39;t possible to see what is actually causing your problem. Please set the original exception as the cause of the `BadCredentialsException`, reproduce the error and post the complete stack trace.","body":"In <code>JwtTokenValidationFilter</code> you catch an exception, and then throw a <code>BadCredentialsException</code>. Because you don&#39;t use the original exception as the cause of the <code>BadCredentialsException</code>, it isn&#39;t possible to see what is actually causing your problem. Please set the original exception as the cause of the <code>BadCredentialsException</code>, reproduce the error and post the complete stack trace."},{"owner":{"account_id":28723288,"reputation":1,"user_id":21996637,"display_name":"gzhe1056"},"score":0,"creation_date":1687959895,"post_id":76561194,"comment_id":135009901,"body_markdown":"Okay I ran the code with the original error: JWT strings must contain exactly 2 period characters. Found: 0.","body":"Okay I ran the code with the original error: JWT strings must contain exactly 2 period characters. Found: 0."},{"owner":{"account_id":28723288,"reputation":1,"user_id":21996637,"display_name":"gzhe1056"},"score":0,"creation_date":1687960813,"post_id":76561194,"comment_id":135010165,"body_markdown":"The issue seems to stem from the fact that I can’t seem to generate a bearer token after sign in. It was working a week ago but suddenly stopped","body":"The issue seems to stem from the fact that I can’t seem to generate a bearer token after sign in. It was working a week ago but suddenly stopped"}],"owner":{"account_id":28723288,"reputation":1,"user_id":21996637,"display_name":"gzhe1056"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687871799,"creation_date":1687831556,"question_id":76561194,"body_markdown":"````\r\npackage com.instacloneapi_v3.instaclone.config;\r\n\r\npublic class SecurityContext {\r\n//    Using generated security password: 7c926493-15b1-45b1-b293-831b4f606328\r\n//    This generated password is for development use only. Your security configuration must be updated before running your application in production.\r\n    public static final String JWT_KEY = &quot;2646294A404E635266556A586E327235753878214125442A472D4B6150645367&quot;;\r\n    public static final String HEADER = &quot;Authorization&quot;;\r\n}\r\n````\r\n````\r\npackage com.instacloneapi_v3.instaclone.config;\r\n\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.security.Keys;\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.springframework.security.authentication.BadCredentialsException;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.AuthorityUtils;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport javax.crypto.SecretKey;\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n\r\npublic class JwtTokenValidationFilter extends OncePerRequestFilter {\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        String jwt = request.getHeader(SecurityContext.HEADER);\r\n\r\n        if (jwt != null) {\r\n            try {\r\n                jwt = jwt.substring(7);\r\n                SecretKey key = Keys.hmacShaKeyFor(SecurityContext.JWT_KEY.getBytes());\r\n                Claims claims = Jwts.parserBuilder().setSigningKey(key).build().parseClaimsJws(jwt).getBody();\r\n                String username = String.valueOf(claims.get(&quot;username&quot;));\r\n                String authorities = (String)claims.get(&quot;authorities&quot;);\r\n                List&lt;GrantedAuthority&gt; auths = AuthorityUtils.commaSeparatedStringToAuthorityList(authorities);\r\n                Authentication auth = new UsernamePasswordAuthenticationToken(username, null, auths);\r\n                SecurityContextHolder.getContext().setAuthentication(auth);\r\n            } catch (Exception e) {\r\n                throw new BadCredentialsException(&quot;Invalid token&quot;);\r\n            }\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n    protected boolean shouldNotFilter(HttpServletRequest req) throws ServletException {\r\n        return req.getServletPath().equals(&quot;signin&quot;);\r\n    }\r\n}\r\n````\r\n````\r\npackage com.instacloneapi_v3.instaclone.config;\r\n\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.security.Keys;\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport javax.crypto.SecretKey;\r\nimport java.io.IOException;\r\nimport java.util.Collection;\r\nimport java.util.Date;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\npublic class JwtTokenGeneratorFilter extends OncePerRequestFilter {\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n\r\n        if (authentication!=null) {\r\n            SecretKey key = Keys.hmacShaKeyFor(SecurityContext.JWT_KEY.getBytes());\r\n\r\n            String jwt = Jwts.builder()\r\n                    .setIssuer(&quot;instagram&quot;)\r\n                    .setIssuedAt(new Date())\r\n                    .claim(&quot;authorities&quot;, populateAuthorities(authentication.getAuthorities()))\r\n                    .claim(&quot;username&quot;, authentication.getName())\r\n                    .setExpiration(new Date(new Date().getTime()+300000000))\r\n                    .signWith(key).compact();\r\n            response.setHeader(SecurityContext.HEADER, jwt);\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n    public String populateAuthorities(Collection&lt;? extends GrantedAuthority&gt; collection) {\r\n        Set&lt;String&gt; authorities = new HashSet&lt;&gt;();\r\n\r\n        for (GrantedAuthority authority: collection) {\r\n            authorities.add(authority.getAuthority());\r\n        }\r\n        return String.join(&quot;,&quot;,authorities);\r\n    }\r\n\r\n    protected boolean shouldNotFilter(HttpServletRequest req) throws ServletException {\r\n        return !req.getServletPath().equals(&quot;/signin&quot;);\r\n    }\r\n}\r\n````\r\n````\r\npackage com.instacloneapi_v3.instaclone.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.www.BasicAuthenticationFilter;\r\n\r\n@Configuration\r\npublic class AppConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityConfiguration(HttpSecurity http) throws Exception {\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authorizeHttpRequests().requestMatchers(HttpMethod.POST, &quot;/signup&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .addFilterAfter(new JwtTokenGeneratorFilter(), BasicAuthenticationFilter.class)\r\n                .addFilterBefore(new JwtTokenValidationFilter(), BasicAuthenticationFilter.class)\r\n                .csrf().disable()\r\n                .formLogin().and().httpBasic();\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n````\r\n````\r\norg.springframework.security.authentication.BadCredentialsException: Invalid token\r\n\tat com.instacloneapi_v3.instaclone.config.JwtTokenValidationFilter.doFilterInternal(JwtTokenValidationFilter.java:39) ~[classes/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\r\n````\r\nI&#39;m trying to understand why the Bearer token wouldn&#39;t generate when I use the sign in api. It was working a few days ago but now it suddenly stopped generating bearer tokens on the end point. The exception was thrown at JwtTokenValidationFilter class. I put up the code snippet that I think was what surrounded the problem but feel free to ask about any other code snippets.","title":"org.springframework.security.authentication.BadCredentialsException","body":"<pre><code>package com.instacloneapi_v3.instaclone.config;\n\npublic class SecurityContext {\n//    Using generated security password: 7c926493-15b1-45b1-b293-831b4f606328\n//    This generated password is for development use only. Your security configuration must be updated before running your application in production.\n    public static final String JWT_KEY = &quot;2646294A404E635266556A586E327235753878214125442A472D4B6150645367&quot;;\n    public static final String HEADER = &quot;Authorization&quot;;\n}\n</code></pre>\n<pre><code>package com.instacloneapi_v3.instaclone.config;\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.security.Keys;\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.springframework.security.authentication.BadCredentialsException;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.AuthorityUtils;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport javax.crypto.SecretKey;\nimport java.io.IOException;\nimport java.util.List;\n\npublic class JwtTokenValidationFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        String jwt = request.getHeader(SecurityContext.HEADER);\n\n        if (jwt != null) {\n            try {\n                jwt = jwt.substring(7);\n                SecretKey key = Keys.hmacShaKeyFor(SecurityContext.JWT_KEY.getBytes());\n                Claims claims = Jwts.parserBuilder().setSigningKey(key).build().parseClaimsJws(jwt).getBody();\n                String username = String.valueOf(claims.get(&quot;username&quot;));\n                String authorities = (String)claims.get(&quot;authorities&quot;);\n                List&lt;GrantedAuthority&gt; auths = AuthorityUtils.commaSeparatedStringToAuthorityList(authorities);\n                Authentication auth = new UsernamePasswordAuthenticationToken(username, null, auths);\n                SecurityContextHolder.getContext().setAuthentication(auth);\n            } catch (Exception e) {\n                throw new BadCredentialsException(&quot;Invalid token&quot;);\n            }\n        }\n        filterChain.doFilter(request, response);\n    }\n\n    protected boolean shouldNotFilter(HttpServletRequest req) throws ServletException {\n        return req.getServletPath().equals(&quot;signin&quot;);\n    }\n}\n</code></pre>\n<pre><code>package com.instacloneapi_v3.instaclone.config;\n\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.security.Keys;\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport javax.crypto.SecretKey;\nimport java.io.IOException;\nimport java.util.Collection;\nimport java.util.Date;\nimport java.util.HashSet;\nimport java.util.Set;\n\npublic class JwtTokenGeneratorFilter extends OncePerRequestFilter {\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n\n        if (authentication!=null) {\n            SecretKey key = Keys.hmacShaKeyFor(SecurityContext.JWT_KEY.getBytes());\n\n            String jwt = Jwts.builder()\n                    .setIssuer(&quot;instagram&quot;)\n                    .setIssuedAt(new Date())\n                    .claim(&quot;authorities&quot;, populateAuthorities(authentication.getAuthorities()))\n                    .claim(&quot;username&quot;, authentication.getName())\n                    .setExpiration(new Date(new Date().getTime()+300000000))\n                    .signWith(key).compact();\n            response.setHeader(SecurityContext.HEADER, jwt);\n        }\n        filterChain.doFilter(request, response);\n    }\n\n    public String populateAuthorities(Collection&lt;? extends GrantedAuthority&gt; collection) {\n        Set&lt;String&gt; authorities = new HashSet&lt;&gt;();\n\n        for (GrantedAuthority authority: collection) {\n            authorities.add(authority.getAuthority());\n        }\n        return String.join(&quot;,&quot;,authorities);\n    }\n\n    protected boolean shouldNotFilter(HttpServletRequest req) throws ServletException {\n        return !req.getServletPath().equals(&quot;/signin&quot;);\n    }\n}\n</code></pre>\n<pre><code>package com.instacloneapi_v3.instaclone.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.www.BasicAuthenticationFilter;\n\n@Configuration\npublic class AppConfig {\n\n    @Bean\n    public SecurityFilterChain securityConfiguration(HttpSecurity http) throws Exception {\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authorizeHttpRequests().requestMatchers(HttpMethod.POST, &quot;/signup&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .addFilterAfter(new JwtTokenGeneratorFilter(), BasicAuthenticationFilter.class)\n                .addFilterBefore(new JwtTokenValidationFilter(), BasicAuthenticationFilter.class)\n                .csrf().disable()\n                .formLogin().and().httpBasic();\n        return http.build();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<pre><code>org.springframework.security.authentication.BadCredentialsException: Invalid token\n    at com.instacloneapi_v3.instaclone.config.JwtTokenValidationFilter.doFilterInternal(JwtTokenValidationFilter.java:39) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\n</code></pre>\n<p>I'm trying to understand why the Bearer token wouldn't generate when I use the sign in api. It was working a few days ago but now it suddenly stopped generating bearer tokens on the end point. The exception was thrown at JwtTokenValidationFilter class. I put up the code snippet that I think was what surrounded the problem but feel free to ask about any other code snippets.</p>\n"},{"tags":["java","xml","spring-boot","jaxb","unmarshalling"],"answers":[{"comments":[{"owner":{"account_id":28644032,"reputation":23,"user_id":21932511,"display_name":"rekki"},"score":0,"creation_date":1687957534,"post_id":76565293,"comment_id":135009313,"body_markdown":"I&#39;ll try follow your advice. Thanks a lot.","body":"I&#39;ll try follow your advice. Thanks a lot."}],"tags":[],"owner":{"account_id":28904959,"reputation":16,"user_id":22139139,"display_name":"Aidar Khusainov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687871792,"creation_date":1687871792,"answer_id":76565293,"question_id":76564480,"body_markdown":"It seems like not good idea to mix dto and entity classes. In my opinion, the better solution is to create two separate classes: dto class with xml annotations and entity class with jpa annotations and convert them into another through separate converter class which will be a spring component and  autowired countryRepository to find necessary value","title":"JAXB: get Object from DB by one of it field from xml","body":"<p>It seems like not good idea to mix dto and entity classes. In my opinion, the better solution is to create two separate classes: dto class with xml annotations and entity class with jpa annotations and convert them into another through separate converter class which will be a spring component and  autowired countryRepository to find necessary value</p>\n"}],"owner":{"account_id":28644032,"reputation":23,"user_id":21932511,"display_name":"rekki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76565293,"answer_count":1,"score":1,"last_activity_date":1687871792,"creation_date":1687866018,"question_id":76564480,"body_markdown":"I think that I have a trivial problem but cant find solution.\r\nI have Class with some fields of another Classes. In XML I have one of fields from &quot;Another Class&quot;. How can I get Another Class object by this field? \r\nI Using SpringBoot.\r\n\r\n\r\nShort example (Main class - Profile, Another class - Country):\r\n\r\nXML\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;profiles&gt;\r\n    &lt;profile id=&quot;1001&quot;&gt;\r\n        ...\r\n        &lt;nationality&gt;US&lt;/nationality&gt;\r\n        ...\r\n    &lt;/profile&gt;\r\n&lt;/profiles&gt;\r\n```\r\n\r\nMain class\r\n```\r\n@Entity\r\n@Table\r\n@XmlRootElement(name = &quot;profile&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class Profile {\r\n...\r\n@ManyToOne\r\n@JoinColumn(referencedColumnName = &quot;numericISOCode&quot;)\r\n@XmlElement(name = &quot;nationality&quot;)\r\n@XmlJavaTypeAdapter(CountryISO2Adapter.class)\r\nprivate Country nationality;\r\n...\r\n```\r\nCountry class\r\n\r\n```\r\n@Entity\r\n@Table(uniqueConstraints = {\r\n        @UniqueConstraint(name = &quot;alpha2ISO&quot;, columnNames = {&quot;alpha2ISO&quot;}),\r\n        @UniqueConstraint(name = &quot;alpha3ISO&quot;, columnNames = {&quot;alpha3ISO&quot;})})\r\npublic class Country {\r\n    private String nameENG;\r\n    @Column(unique = true, nullable = false, length = 2)\r\n    private String alpha2ISO;\r\n    @Column(unique = true, nullable = false, length = 3)\r\n    private String alpha3ISO;\r\n    @Id\r\n    @Column(unique = true, nullable = false, length = 3)\r\n    private int numericISOCode;\r\n...\r\n```\r\n\r\nAdapter\r\n```\r\n@Component\r\npublic class CountryISO2Adapter extends XmlAdapter&lt;String, Country&gt; {\r\n    @Autowired\r\n    private Service service;\r\n    @Override\r\n    public Country unmarshal(String v) throws Exception {\r\n        return service.getCountryByISO2(v).orElse(null);\r\n    }\r\n....\r\n```\r\nService\r\n\r\n```\r\n@Service\r\npublic final class Service {\r\n...\r\n    private final CountryRepository countryRepository;\r\n...\r\npublic Optional&lt;Country&gt; getCountryByISO2 (String iso2){\r\n        return countryRepository.findByAlpha2ISO(iso2);\r\n}\r\n```\r\n\r\nI tried get it from Adapter.class where I want looking it by means of methods @Service class and @Repository, but in Adapter class than I need link of bean @Servise class but @Autowired not worked in this case (may be @XmlJavaTypeAdapter get &quot;new CountryISO2Adapter()&quot; and it can&#39;t using bean) - I have null in my Service field in Adapter class;\r\n\r\nMay be that&#39;s wrong way? How make this correctly?\r\n \r\nGlobal target - create object Profile.class with field Country.class, however Country.class object I must get from DB (but not create).\r\n\r\nI&#39;m sure it&#39;s a often task.\r\n\r\nThanks a lot for your advises.","title":"JAXB: get Object from DB by one of it field from xml","body":"<p>I think that I have a trivial problem but cant find solution.\nI have Class with some fields of another Classes. In XML I have one of fields from &quot;Another Class&quot;. How can I get Another Class object by this field?\nI Using SpringBoot.</p>\n<p>Short example (Main class - Profile, Another class - Country):</p>\n<p>XML</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;profiles&gt;\n    &lt;profile id=&quot;1001&quot;&gt;\n        ...\n        &lt;nationality&gt;US&lt;/nationality&gt;\n        ...\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<p>Main class</p>\n<pre><code>@Entity\n@Table\n@XmlRootElement(name = &quot;profile&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Profile {\n...\n@ManyToOne\n@JoinColumn(referencedColumnName = &quot;numericISOCode&quot;)\n@XmlElement(name = &quot;nationality&quot;)\n@XmlJavaTypeAdapter(CountryISO2Adapter.class)\nprivate Country nationality;\n...\n</code></pre>\n<p>Country class</p>\n<pre><code>@Entity\n@Table(uniqueConstraints = {\n        @UniqueConstraint(name = &quot;alpha2ISO&quot;, columnNames = {&quot;alpha2ISO&quot;}),\n        @UniqueConstraint(name = &quot;alpha3ISO&quot;, columnNames = {&quot;alpha3ISO&quot;})})\npublic class Country {\n    private String nameENG;\n    @Column(unique = true, nullable = false, length = 2)\n    private String alpha2ISO;\n    @Column(unique = true, nullable = false, length = 3)\n    private String alpha3ISO;\n    @Id\n    @Column(unique = true, nullable = false, length = 3)\n    private int numericISOCode;\n...\n</code></pre>\n<p>Adapter</p>\n<pre><code>@Component\npublic class CountryISO2Adapter extends XmlAdapter&lt;String, Country&gt; {\n    @Autowired\n    private Service service;\n    @Override\n    public Country unmarshal(String v) throws Exception {\n        return service.getCountryByISO2(v).orElse(null);\n    }\n....\n</code></pre>\n<p>Service</p>\n<pre><code>@Service\npublic final class Service {\n...\n    private final CountryRepository countryRepository;\n...\npublic Optional&lt;Country&gt; getCountryByISO2 (String iso2){\n        return countryRepository.findByAlpha2ISO(iso2);\n}\n</code></pre>\n<p>I tried get it from Adapter.class where I want looking it by means of methods @Service class and @Repository, but in Adapter class than I need link of bean @Servise class but @Autowired not worked in this case (may be @XmlJavaTypeAdapter get &quot;new CountryISO2Adapter()&quot; and it can't using bean) - I have null in my Service field in Adapter class;</p>\n<p>May be that's wrong way? How make this correctly?</p>\n<p>Global target - create object Profile.class with field Country.class, however Country.class object I must get from DB (but not create).</p>\n<p>I'm sure it's a often task.</p>\n<p>Thanks a lot for your advises.</p>\n"},{"tags":["java","spring-boot","azure","azure-blob-storage","azure-spring-cloud"],"owner":{"account_id":4457428,"reputation":981,"user_id":3627233,"accept_rate":18,"display_name":"nanpakal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687870857,"creation_date":1687870335,"question_id":76565060,"body_markdown":"I wanted read a xml file from azure blob storage and write to another xml file to azure blob storage. I am using spring cloud to integrate with azure blob storage. I tried writing with JAXB as follows which works well\r\n```\r\nprivate void launchJaxb() {\r\n        AtomicInteger counter = new AtomicInteger(0);\r\n        List&lt;Verify&gt; verifications = new ArrayList&lt;&gt;();\r\n        Resource readResource = resourceLoader.getResource(String.format(BLOB_RESOURCE_PATTERN, containerName, &quot;9898.xml&quot;));\r\n        Resource writeResource = resourceLoader.getResource(String.format(BLOB_RESOURCE_PATTERN, containerName, &quot;9898-out.xml&quot;));\r\n\r\n        try {\r\n            XMLInputFactory xmlInputFactory = XMLInputFactory.newFactory();\r\n            XMLEventReader xmlEventReader = xmlInputFactory.createXMLEventReader(readResource.getInputStream());\r\n            JAXBContext readJc = JAXBContext.newInstance(Verify.class);\r\n            Unmarshaller unmarshaller = readJc.createUnmarshaller();\r\n\r\n            BufferedOutputStream bos = new BufferedOutputStream(((WritableResource) writeResource).getOutputStream());\r\n            JAXBContext writeJc = JAXBContext.newInstance(Verify.class);\r\n            Marshaller marshaller = writeJc.createMarshaller();\r\n            marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n            marshaller.setProperty(Marshaller.JAXB_FRAGMENT, true);\r\n\r\n            var rootElements = createRootElements();\r\n\r\n            while (xmlEventReader.hasNext()) {\r\n                if (xmlEventReader.peek().isStartElement() &amp;&amp; xmlEventReader.peek().asStartElement().getName().getLocalPart().equals(&quot;account&quot;)) {\r\n                    Verification verification = (Verification) unmarshaller.unmarshal(xmlEventReader);\r\n                    counter.incrementAndGet();\r\n                    verifications.add(verification);\r\n                    if (verifications.size() == 100) {\r\n                        var accountValidationResponses = process.verify(verifications);\r\n                        for (Report report : accountValidationResponses) {\r\n                            rootElements.getReport().add(report);\r\n                        }\r\n                        verifications = new ArrayList&lt;&gt;();\r\n                    }\r\n\r\n                }\r\n                xmlEventReader.nextEvent();\r\n            }\r\n            rootElements.setNumberOfEvents(BigInteger.valueOf(counter.get()));\r\n            marshaller.marshal(rootElements, bos);\r\n            bos.close();\r\n            log.info(&quot;Total processed verifications {}&quot;, counter.get());\r\n        } catch (IOException | XMLStreamException | JAXBException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n```\r\nUsing above code i was able to write xml file blob storage.\r\nBut i wanted to use Stax as i file i writing might end up being very huge. I tried the following.\r\n\r\n```\r\nprivate void launchXmlStreamWriter() {\r\n        AtomicInteger counter = new AtomicInteger(0);\r\n        List&lt; Verify &gt; verifications = new ArrayList&lt;&gt;();\r\n        Resource readResource = resourceLoader.getResource(String.format(BLOB_RESOURCE_PATTERN, containerName, &quot;9898.xml&quot;));\r\n        Resource writeResource = resourceLoader.getResource(String.format(BLOB_RESOURCE_PATTERN, containerName, &quot;9898-out.xml&quot;));\r\n\r\n        try {\r\n            XMLInputFactory xmlInputFactory = XMLInputFactory.newFactory();\r\n            XMLEventReader xmlEventReader = xmlInputFactory.createXMLEventReader(readResource.getInputStream());\r\n            JAXBContext readJc = JAXBContext.newInstance(Verify.class);\r\n            Unmarshaller unmarshaller = readJc.createUnmarshaller();\r\n\r\n            OutputStream outputStream = ((WritableResource) writeResource).getOutputStream();\r\n            XMLStreamWriter xmlOut = XMLOutputFactory.newFactory().createXMLStreamWriter(outputStream);\r\n            xmlOut.writeStartDocument();\r\n            xmlOut.writeStartElement(&quot;rootElement&quot;);\r\n\r\n            JAXBContext context = JAXBContext.newInstance(Verify.class);\r\n            Marshaller marshaller = context.createMarshaller();\r\n            marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\r\n            marshaller.setProperty(Marshaller.JAXB_FRAGMENT, Boolean.TRUE);\r\n\r\n            while (xmlEventReader.hasNext()) {\r\n                if (xmlEventReader.peek().isStartElement() &amp;&amp; xmlEventReader.peek().asStartElement().getName().getLocalPart().equals(&quot;verify&quot;)) {\r\n                    Verification verification = (Verification) unmarshaller.unmarshal(xmlEventReader);\r\n                    counter.incrementAndGet();\r\n                    verifications.add(verification);\r\n                    if (verifications.size() == 100) {\r\n                        var accountValidationResponses = process.verify(verifications);\r\n                        for (Report report : accountValidationResponses) {\r\n                            JAXBElement&lt;Report&gt; element = new JAXBElement&lt;&gt;(QName.valueOf(&quot;&quot;), Report.class, report);\r\n                            marshaller.marshal(element, xmlOut);\r\n                        }\r\n                        verifications = new ArrayList&lt;&gt;();\r\n                    }\r\n\r\n                }\r\n                xmlEventReader.nextEvent();\r\n            }\r\n            xmlOut.close();\r\n            log.info(&quot;Total processed verifications {}&quot;, counter.get());\r\n        } catch (IOException | XMLStreamException | JAXBException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\nAbove code runs through all the elements in xml file but doesnt create any output file.If i change the writeResource to FileSystemResource then a file is created. What am i missing to generate file on azure storage account using Stax?","title":"Writing xml to Azure blob storage from spring boot app using Stax writer","body":"<p>I wanted read a xml file from azure blob storage and write to another xml file to azure blob storage. I am using spring cloud to integrate with azure blob storage. I tried writing with JAXB as follows which works well</p>\n<pre><code>private void launchJaxb() {\n        AtomicInteger counter = new AtomicInteger(0);\n        List&lt;Verify&gt; verifications = new ArrayList&lt;&gt;();\n        Resource readResource = resourceLoader.getResource(String.format(BLOB_RESOURCE_PATTERN, containerName, &quot;9898.xml&quot;));\n        Resource writeResource = resourceLoader.getResource(String.format(BLOB_RESOURCE_PATTERN, containerName, &quot;9898-out.xml&quot;));\n\n        try {\n            XMLInputFactory xmlInputFactory = XMLInputFactory.newFactory();\n            XMLEventReader xmlEventReader = xmlInputFactory.createXMLEventReader(readResource.getInputStream());\n            JAXBContext readJc = JAXBContext.newInstance(Verify.class);\n            Unmarshaller unmarshaller = readJc.createUnmarshaller();\n\n            BufferedOutputStream bos = new BufferedOutputStream(((WritableResource) writeResource).getOutputStream());\n            JAXBContext writeJc = JAXBContext.newInstance(Verify.class);\n            Marshaller marshaller = writeJc.createMarshaller();\n            marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n            marshaller.setProperty(Marshaller.JAXB_FRAGMENT, true);\n\n            var rootElements = createRootElements();\n\n            while (xmlEventReader.hasNext()) {\n                if (xmlEventReader.peek().isStartElement() &amp;&amp; xmlEventReader.peek().asStartElement().getName().getLocalPart().equals(&quot;account&quot;)) {\n                    Verification verification = (Verification) unmarshaller.unmarshal(xmlEventReader);\n                    counter.incrementAndGet();\n                    verifications.add(verification);\n                    if (verifications.size() == 100) {\n                        var accountValidationResponses = process.verify(verifications);\n                        for (Report report : accountValidationResponses) {\n                            rootElements.getReport().add(report);\n                        }\n                        verifications = new ArrayList&lt;&gt;();\n                    }\n\n                }\n                xmlEventReader.nextEvent();\n            }\n            rootElements.setNumberOfEvents(BigInteger.valueOf(counter.get()));\n            marshaller.marshal(rootElements, bos);\n            bos.close();\n            log.info(&quot;Total processed verifications {}&quot;, counter.get());\n        } catch (IOException | XMLStreamException | JAXBException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n</code></pre>\n<p>Using above code i was able to write xml file blob storage.\nBut i wanted to use Stax as i file i writing might end up being very huge. I tried the following.</p>\n<pre><code>private void launchXmlStreamWriter() {\n        AtomicInteger counter = new AtomicInteger(0);\n        List&lt; Verify &gt; verifications = new ArrayList&lt;&gt;();\n        Resource readResource = resourceLoader.getResource(String.format(BLOB_RESOURCE_PATTERN, containerName, &quot;9898.xml&quot;));\n        Resource writeResource = resourceLoader.getResource(String.format(BLOB_RESOURCE_PATTERN, containerName, &quot;9898-out.xml&quot;));\n\n        try {\n            XMLInputFactory xmlInputFactory = XMLInputFactory.newFactory();\n            XMLEventReader xmlEventReader = xmlInputFactory.createXMLEventReader(readResource.getInputStream());\n            JAXBContext readJc = JAXBContext.newInstance(Verify.class);\n            Unmarshaller unmarshaller = readJc.createUnmarshaller();\n\n            OutputStream outputStream = ((WritableResource) writeResource).getOutputStream();\n            XMLStreamWriter xmlOut = XMLOutputFactory.newFactory().createXMLStreamWriter(outputStream);\n            xmlOut.writeStartDocument();\n            xmlOut.writeStartElement(&quot;rootElement&quot;);\n\n            JAXBContext context = JAXBContext.newInstance(Verify.class);\n            Marshaller marshaller = context.createMarshaller();\n            marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\n            marshaller.setProperty(Marshaller.JAXB_FRAGMENT, Boolean.TRUE);\n\n            while (xmlEventReader.hasNext()) {\n                if (xmlEventReader.peek().isStartElement() &amp;&amp; xmlEventReader.peek().asStartElement().getName().getLocalPart().equals(&quot;verify&quot;)) {\n                    Verification verification = (Verification) unmarshaller.unmarshal(xmlEventReader);\n                    counter.incrementAndGet();\n                    verifications.add(verification);\n                    if (verifications.size() == 100) {\n                        var accountValidationResponses = process.verify(verifications);\n                        for (Report report : accountValidationResponses) {\n                            JAXBElement&lt;Report&gt; element = new JAXBElement&lt;&gt;(QName.valueOf(&quot;&quot;), Report.class, report);\n                            marshaller.marshal(element, xmlOut);\n                        }\n                        verifications = new ArrayList&lt;&gt;();\n                    }\n\n                }\n                xmlEventReader.nextEvent();\n            }\n            xmlOut.close();\n            log.info(&quot;Total processed verifications {}&quot;, counter.get());\n        } catch (IOException | XMLStreamException | JAXBException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>Above code runs through all the elements in xml file but doesnt create any output file.If i change the writeResource to FileSystemResource then a file is created. What am i missing to generate file on azure storage account using Stax?</p>\n"},{"tags":["java","hibernate","jpa","hibernate-criteria"],"comments":[{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1512668975,"post_id":47163052,"comment_id":82361735,"body_markdown":"Have you tried to extract variable as `root.alias(&quot;id&quot;)` and fetch on it? `Selection&lt;Registered&gt; id = root.alias(&quot;id&quot;); id.fetch(&quot;user&quot;, JoinType.LEFT);`?","body":"Have you tried to extract variable as <code>root.alias(&quot;id&quot;)</code> and fetch on it? <code>Selection&lt;Registered&gt; id = root.alias(&quot;id&quot;); id.fetch(&quot;user&quot;, JoinType.LEFT);</code>?"}],"answers":[{"tags":[],"owner":{"account_id":4156632,"reputation":800,"user_id":3410935,"display_name":"Glapa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533066341,"creation_date":1533063621,"answer_id":51620309,"question_id":47163052,"body_markdown":"Try with\r\n\r\n    @Embeddable\r\n    public class RegisteredId implements Serializable {\r\n        public Long userId;\r\n        public Long tournamentId;\r\n    }\r\n\r\nand\r\n\r\n    @Entity\r\n    public class Registered implements Serializable {\r\n\r\n        @EmbeddedId\r\n        public RegisteredId id;\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;userId&quot;, updatable = false, insertable = false)\r\n        public User user;\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;tournamentId&quot;, updatable = false, insertable = false)\r\n        public Tournament tournament;\r\n    }\r\n\r\nand then\r\n\r\n    CriteriaBuilder builder = em.getCriteriaBuilder();\r\n    CriteriaQuery&lt;Registered&gt; criteria = builder.createQuery(Registered.class);\r\n    Root&lt;Registered&gt; root = criteria.from(Registered.class);\r\n    root.fetch(&quot;user&quot;, JoinType.LEFT);\r\n    root.fetch(&quot;tournament&quot;, JoinType.LEFT);\r\n    criteria.where(builder.equal(root.get(&quot;id.tournamentId&quot;), idTournament));\r\n    List&lt;Registered&gt; registereds = em.createQuery(criteria).getResultList();","title":"Hibernate criteria query fetch with embedded id","body":"<p>Try with</p>\n\n<pre><code>@Embeddable\npublic class RegisteredId implements Serializable {\n    public Long userId;\n    public Long tournamentId;\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Entity\npublic class Registered implements Serializable {\n\n    @EmbeddedId\n    public RegisteredId id;\n\n    @ManyToOne\n    @JoinColumn(name = \"userId\", updatable = false, insertable = false)\n    public User user;\n    @ManyToOne\n    @JoinColumn(name = \"tournamentId\", updatable = false, insertable = false)\n    public Tournament tournament;\n}\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>CriteriaBuilder builder = em.getCriteriaBuilder();\nCriteriaQuery&lt;Registered&gt; criteria = builder.createQuery(Registered.class);\nRoot&lt;Registered&gt; root = criteria.from(Registered.class);\nroot.fetch(\"user\", JoinType.LEFT);\nroot.fetch(\"tournament\", JoinType.LEFT);\ncriteria.where(builder.equal(root.get(\"id.tournamentId\"), idTournament));\nList&lt;Registered&gt; registereds = em.createQuery(criteria).getResultList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2681853,"reputation":148,"user_id":2317065,"display_name":"Italo Brenner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687870827,"creation_date":1687870827,"answer_id":76565135,"question_id":47163052,"body_markdown":"```\r\nroot.fetch(&quot;id&quot;, JoinType.LEFT).fetch(&quot;user&quot;, JoinType.LEFT);\r\nroot.fetch(&quot;id&quot;, JoinType.LEFT).fetch(&quot;tournament&quot;, JoinType.LEFT);\r\n```","title":"Hibernate criteria query fetch with embedded id","body":"<pre><code>root.fetch(&quot;id&quot;, JoinType.LEFT).fetch(&quot;user&quot;, JoinType.LEFT);\nroot.fetch(&quot;id&quot;, JoinType.LEFT).fetch(&quot;tournament&quot;, JoinType.LEFT);\n</code></pre>\n"}],"owner":{"account_id":1587881,"reputation":12271,"user_id":1471829,"accept_rate":92,"display_name":"Atropo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1321,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1687870827,"creation_date":1510072636,"question_id":47163052,"body_markdown":"I have this `Entity` class:\r\n\r\n\r\n    @Entity\r\n    public class Registered implements Serializable {\r\n    \r\n        @Id\r\n        public RegisteredId id;\r\n    }\r\n\r\nWith this `EmbeddedId`:\r\n\r\n    @Embeddable\r\n    public class RegisteredId implements Serializable {\r\n        @ManyToOne\r\n        public User user;\r\n        @ManyToOne\r\n        public Tournament tournament;\r\n      \r\n    }\r\n\r\nI&#39;m trying to make this `Criteria query` fetching the `User` and the `Tournament` because I need to read some of their attributes:\r\n\r\n    CriteriaBuilder builder = em.getCriteriaBuilder();\r\n    CriteriaQuery&lt;Registered&gt; criteria = builder.createQuery(Registered.class);\r\n    Root&lt;Registered&gt; root = criteria.from(Registered.class);\r\n    root.fetch(&quot;id.user&quot;, JoinType.LEFT);\r\n    root.fetch(&quot;id.tournament&quot;, JoinType.LEFT);\r\n    criteria.where(builder.equal(root.get(&quot;id.tournament.id&quot;), idTournament));\r\n    List&lt;Registered&gt; registereds = em.createQuery(criteria).getResultList();\r\n\r\nBut I&#39;m getting an error:\r\n\r\n    Execution exception[[CompletionException: java.lang.IllegalArgumentException: Unable to locate Attribute  with the the given name [id.user] on this ManagedType\r\n\r\nWhat I&#39;m doing wrong?\r\nHow can I fetch the relations on an `EmbeddedId` to access them?","title":"Hibernate criteria query fetch with embedded id","body":"<p>I have this <code>Entity</code> class:</p>\n\n<pre><code>@Entity\npublic class Registered implements Serializable {\n\n    @Id\n    public RegisteredId id;\n}\n</code></pre>\n\n<p>With this <code>EmbeddedId</code>:</p>\n\n<pre><code>@Embeddable\npublic class RegisteredId implements Serializable {\n    @ManyToOne\n    public User user;\n    @ManyToOne\n    public Tournament tournament;\n\n}\n</code></pre>\n\n<p>I'm trying to make this <code>Criteria query</code> fetching the <code>User</code> and the <code>Tournament</code> because I need to read some of their attributes:</p>\n\n<pre><code>CriteriaBuilder builder = em.getCriteriaBuilder();\nCriteriaQuery&lt;Registered&gt; criteria = builder.createQuery(Registered.class);\nRoot&lt;Registered&gt; root = criteria.from(Registered.class);\nroot.fetch(\"id.user\", JoinType.LEFT);\nroot.fetch(\"id.tournament\", JoinType.LEFT);\ncriteria.where(builder.equal(root.get(\"id.tournament.id\"), idTournament));\nList&lt;Registered&gt; registereds = em.createQuery(criteria).getResultList();\n</code></pre>\n\n<p>But I'm getting an error:</p>\n\n<pre><code>Execution exception[[CompletionException: java.lang.IllegalArgumentException: Unable to locate Attribute  with the the given name [id.user] on this ManagedType\n</code></pre>\n\n<p>What I'm doing wrong?\nHow can I fetch the relations on an <code>EmbeddedId</code> to access them?</p>\n"},{"tags":["java","maven-3","maven-plugin","exec-maven-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1688070759,"post_id":76565098,"comment_id":135028443,"body_markdown":"Can you explain why you are trying to replace `${revision}` with `1.0` ? Is there a reason for that?","body":"Can you explain why you are trying to replace <code>${revision}</code> with <code>1.0</code> ? Is there a reason for that?"},{"owner":{"account_id":26004423,"reputation":65,"user_id":19714358,"display_name":"Ramesh Thiyagarajan"},"score":0,"creation_date":1688100977,"post_id":76565098,"comment_id":135031310,"body_markdown":"we have tried implementing Maven Friendly version using ${revision}, it is working properly when we run the build from main pom. but if we run the build from any grand child pom then build is failing due to transitive dependencies. this we have noticed only on our own dependencies which has trasitive dependency on other pom.while gathering transitive dependency pom is looking for ${reivision} instead of   1.0.so we are trying to change the version using exec plugin.this issue presists only when we refer our own dependency in other pom&#39;s. pls advise if there is any better way to implement this.","body":"we have tried implementing Maven Friendly version using ${revision}, it is working properly when we run the build from main pom. but if we run the build from any grand child pom then build is failing due to transitive dependencies. this we have noticed only on our own dependencies which has trasitive dependency on other pom.while gathering transitive dependency pom is looking for ${reivision} instead of   1.0.so we are trying to change the version using exec plugin.this issue presists only when we refer our own dependency in other pom&#39;s. pls advise if there is any better way to implement this."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1688126348,"post_id":76565098,"comment_id":135035600,"body_markdown":"`but if we run the build from any grand child pom then build is failing due to transitive dependencies. ` that&#39;s correct because a multi module build has a foundation using the same version. If you use a child instead of starting from the root that might cause a lot of issues. Apart from that If you really need to change the version via command line you could use https://www.mojohaus.org/build-helper-maven-plugin/parse-version-mojo.html in combination with verisons-maven-plugin makes it easier...","body":"<code>but if we run the build from any grand child pom then build is failing due to transitive dependencies. </code> that&#39;s correct because a multi module build has a foundation using the same version. If you use a child instead of starting from the root that might cause a lot of issues. Apart from that If you really need to change the version via command line you could use <a href=\"https://www.mojohaus.org/build-helper-maven-plugin/parse-version-mojo.html\" rel=\"nofollow noreferrer\">mojohaus.org/build-helper-maven-plugin/parse-version-mojo.ht&zwnj;&#8203;ml</a> in combination with verisons-maven-plugin makes it easier..."}],"owner":{"account_id":26004423,"reputation":65,"user_id":19714358,"display_name":"Ramesh Thiyagarajan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687870583,"creation_date":1687870583,"question_id":76565098,"body_markdown":"Am trying to execute below command using maven-exec plugin, but it is not recognizing the executables properly.\r\n\r\ncommand am trying to execute\r\n```\r\nfind . -name &quot;pom.xml&quot; -exec sed -i s/1.0/\\$\\{revision\\}/g {} +\r\n```\r\nbelow is my plugin configuration in main pom.xml\r\n```\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n  &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.0&lt;/version&gt;\r\n  &lt;executions&gt;\r\n    &lt;execution&gt;\r\n      &lt;id&gt;Execute Find and Sed&lt;/id&gt;\r\n      &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n      &lt;goals&gt;\r\n        &lt;goal&gt;exec&lt;/goal&gt;\r\n      &lt;/goals&gt;\r\n      &lt;configuration&gt;\r\n        &lt;executable&gt;find&lt;/executable&gt;\r\n        &lt;arguments&gt;\r\n          &lt;argument&gt;.&lt;/argument&gt;\r\n          &lt;argument&gt;-name&lt;/argument&gt;\r\n          &lt;argument&gt;pom.xml&lt;/argument&gt;\r\n          &lt;argument&gt;-exec&lt;/argument&gt;\r\n          &lt;argument&gt;sed&lt;/argument&gt;\r\n          &lt;argument&gt;-i&lt;/argument&gt;\r\n          &lt;argument&gt;s/1.0/${revision}/g&lt;/argument&gt;\r\n          &lt;argument&gt;{}&lt;/argument&gt;\r\n          &lt;argument&gt;+&lt;/argument&gt;\r\n        &lt;/arguments&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/execution&gt;\r\n  &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\ngetting below error\r\n```\r\nERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.0.0:exec (Execute-Find-Sed) on project core: The parameter &#39;executable&#39; is missing or invalid -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n```","title":"exec-maven-plugin is not recognizing executables","body":"<p>Am trying to execute below command using maven-exec plugin, but it is not recognizing the executables properly.</p>\n<p>command am trying to execute</p>\n<pre><code>find . -name &quot;pom.xml&quot; -exec sed -i s/1.0/\\$\\{revision\\}/g {} +\n</code></pre>\n<p>below is my plugin configuration in main pom.xml</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n  &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;Execute Find and Sed&lt;/id&gt;\n      &lt;phase&gt;generate-sources&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;exec&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;executable&gt;find&lt;/executable&gt;\n        &lt;arguments&gt;\n          &lt;argument&gt;.&lt;/argument&gt;\n          &lt;argument&gt;-name&lt;/argument&gt;\n          &lt;argument&gt;pom.xml&lt;/argument&gt;\n          &lt;argument&gt;-exec&lt;/argument&gt;\n          &lt;argument&gt;sed&lt;/argument&gt;\n          &lt;argument&gt;-i&lt;/argument&gt;\n          &lt;argument&gt;s/1.0/${revision}/g&lt;/argument&gt;\n          &lt;argument&gt;{}&lt;/argument&gt;\n          &lt;argument&gt;+&lt;/argument&gt;\n        &lt;/arguments&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>getting below error</p>\n<pre><code>ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.0.0:exec (Execute-Find-Sed) on project core: The parameter 'executable' is missing or invalid -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-redis","lettuce"],"answers":[{"comments":[{"owner":{"account_id":14492613,"reputation":23,"user_id":10468313,"display_name":"Masoud Niki"},"score":0,"creation_date":1687946231,"post_id":76565059,"comment_id":135006911,"body_markdown":"I&#39;m already using **@Qualifier** annotation on my properties in different class controllers or service classes in order for the function to catch the appropriate class but the problem still exists, I suppose the issue comes up with `eactiveRedisTemplate` function `(org.springframework.boot.autoconfigure.data.redis.RedisReactiveAutoConfiguration)`, it sounds as if Spring is running this function but it doesn&#39;t know which class should be fired, I&#39;d appreciate any insight on this.","body":"I&#39;m already using <b>@Qualifier</b> annotation on my properties in different class controllers or service classes in order for the function to catch the appropriate class but the problem still exists, I suppose the issue comes up with <code>eactiveRedisTemplate</code> function <code>(org.springframework.boot.autoconfigure.data.redis.RedisReac&zwnj;&#8203;tiveAutoConfiguratio&zwnj;&#8203;n)</code>, it sounds as if Spring is running this function but it doesn&#39;t know which class should be fired, I&#39;d appreciate any insight on this."},{"owner":{"display_name":"user19682350"},"score":0,"creation_date":1688038625,"post_id":76565059,"comment_id":135021668,"body_markdown":"To resolve this, you can exclude the RedisReactiveAutoConfiguration class from the auto-configuration process by adding it to the @EnableAutoConfiguration annotation in your main application class.\n\n`@SpringBootApplication\n@EnableAutoConfiguration(exclude = { RedisReactiveAutoConfiguration.class })\npublic class YourApplication {\n    // Your main application code\n}`","body":"To resolve this, you can exclude the RedisReactiveAutoConfiguration class from the auto-configuration process by adding it to the @EnableAutoConfiguration annotation in your main application class.  <code>@SpringBootApplication @EnableAutoConfiguration(exclude = { RedisReactiveAutoConfiguration.class }) public class YourApplication {     &#47;&#47; Your main application code }</code>"},{"owner":{"display_name":"user19682350"},"score":0,"creation_date":1688038648,"post_id":76565059,"comment_id":135021673,"body_markdown":"By excluding the RedisReactiveAutoConfiguration, you prevent Spring Boot from automatically configuring the reactive Redis template and avoid the conflict between your two Redis configurations.","body":"By excluding the RedisReactiveAutoConfiguration, you prevent Spring Boot from automatically configuring the reactive Redis template and avoid the conflict between your two Redis configurations."},{"owner":{"display_name":"user19682350"},"score":0,"creation_date":1688038672,"post_id":76565059,"comment_id":135021679,"body_markdown":"Alternatively, if you are using Spring WebFlux and require a reactive Redis template, you can consider using ReactiveRedisTemplate instead of RedisTemplate and modify your configuration classes accordingly. This way, you can have separate reactive Redis configurations for tokens and invoices without conflicts.","body":"Alternatively, if you are using Spring WebFlux and require a reactive Redis template, you can consider using ReactiveRedisTemplate instead of RedisTemplate and modify your configuration classes accordingly. This way, you can have separate reactive Redis configurations for tokens and invoices without conflicts."},{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1688556489,"post_id":76565059,"comment_id":135088307,"body_markdown":"All three of your recent answers here (and even these comments) appear likely to have been entirely or partially written by AI (e.g., ChatGPT).  Please be aware that [posting AI-generated content is not allowed here](//meta.stackoverflow.com/q/421831). If you used an AI tool to assist with any answer, I would encourage you to delete it.","body":"All three of your recent answers here (and even these comments) appear likely to have been entirely or partially written by AI (e.g., ChatGPT).  Please be aware that <a href=\"//meta.stackoverflow.com/q/421831\">posting AI-generated content is not allowed here</a>. If you used an AI tool to assist with any answer, I would encourage you to delete it."},{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1688556494,"post_id":76565059,"comment_id":135088309,"body_markdown":"**Readers should review this answer carefully and critically, as AI-generated information often contains fundamental errors and misinformation.** If you observe quality issues and/or have reason to believe that this answer was generated by AI, please leave feedback accordingly. The moderation team can use your help to identify quality issues.","body":"<b>Readers should review this answer carefully and critically, as AI-generated information often contains fundamental errors and misinformation.</b> If you observe quality issues and/or have reason to believe that this answer was generated by AI, please leave feedback accordingly. The moderation team can use your help to identify quality issues."}],"tags":[],"owner":{"display_name":"user19682350"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687870332,"creation_date":1687870332,"answer_id":76565059,"question_id":76562651,"body_markdown":"To resolve the issue of having multiple Redis configurations and injecting the corresponding Redis templates, you can use the **@Qualifier** annotation to specify which Redis template should be injected in each case. Here&#39;s how you can modify your code to achieve this:\r\n\r\nUpdate the TokenRedisConfiguration class:\r\n\r\n\r\n    @Configuration\r\n    public class TokenRedisConfiguration {\r\n    \r\n        // ...\r\n    \r\n        @Bean\r\n        @Qualifier(&quot;tokenRedisTemplate&quot;)\r\n        public RedisTemplate&lt;String, Token&gt; tokenRedisTemplate(\r\n                @Qualifier(&quot;tokenRedisFactory&quot;) LettuceConnectionFactory tokenRedisFactory\r\n        ) {\r\n            RedisTemplate&lt;String, Token&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n            redisTemplate.setConnectionFactory(tokenRedisFactory);\r\n            // Configure RedisTemplate\r\n            // ...\r\n            return redisTemplate;\r\n        }\r\n    \r\n    }\r\n\r\nUpdate the InvoiceRedisConfiguration class:\r\n\r\n\r\n    @Configuration\r\n    public class InvoiceRedisConfiguration {\r\n    \r\n        // ...\r\n    \r\n        @Bean\r\n        @Qualifier(&quot;invoiceRedisTemplate&quot;)\r\n        public RedisTemplate&lt;String, Invoice&gt; invoiceRedisTemplate(\r\n                @Qualifier(&quot;invoiceRedisFactory&quot;) LettuceConnectionFactory invoiceRedisFactory\r\n        ) {\r\n            RedisTemplate&lt;String, Invoice&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n            redisTemplate.setConnectionFactory(invoiceRedisFactory);\r\n            // Configure RedisTemplate\r\n            // ...\r\n            return redisTemplate;\r\n        }\r\n    \r\n    }\r\n\r\nIn your controller or middleware classes, inject the Redis templates using the @Qualifier annotation:\r\n\r\n\r\n    @RestController\r\n    public class MyController {\r\n    \r\n        private final RedisTemplate&lt;String, Token&gt; tokenRedisTemplate;\r\n        private final RedisTemplate&lt;String, Invoice&gt; invoiceRedisTemplate;\r\n    \r\n        public MyController(\r\n                @Qualifier(&quot;tokenRedisTemplate&quot;) RedisTemplate&lt;String, Token&gt; tokenRedisTemplate,\r\n                @Qualifier(&quot;invoiceRedisTemplate&quot;) RedisTemplate&lt;String, Invoice&gt; invoiceRedisTemplate\r\n        ) {\r\n            this.tokenRedisTemplate = tokenRedisTemplate;\r\n            this.invoiceRedisTemplate = invoiceRedisTemplate;\r\n        }\r\n    \r\n        // Use tokenRedisTemplate and invoiceRedisTemplate in your methods\r\n    \r\n    }\r\n\r\nBy using the **@Qualifier** annotation along with the respective qualifier names (**tokenRedisTemplate** and **invoiceRedisTemplate**), you can specify which Redis template should be injected in each case. This way, both configurations will coexist, and you&#39;ll be able to use the Redis templates without exceptions.\r\n\r\n","title":"use multiple redis configuration spring boot","body":"<p>To resolve the issue of having multiple Redis configurations and injecting the corresponding Redis templates, you can use the <strong>@Qualifier</strong> annotation to specify which Redis template should be injected in each case. Here's how you can modify your code to achieve this:</p>\n<p>Update the TokenRedisConfiguration class:</p>\n<pre><code>@Configuration\npublic class TokenRedisConfiguration {\n\n    // ...\n\n    @Bean\n    @Qualifier(&quot;tokenRedisTemplate&quot;)\n    public RedisTemplate&lt;String, Token&gt; tokenRedisTemplate(\n            @Qualifier(&quot;tokenRedisFactory&quot;) LettuceConnectionFactory tokenRedisFactory\n    ) {\n        RedisTemplate&lt;String, Token&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n        redisTemplate.setConnectionFactory(tokenRedisFactory);\n        // Configure RedisTemplate\n        // ...\n        return redisTemplate;\n    }\n\n}\n</code></pre>\n<p>Update the InvoiceRedisConfiguration class:</p>\n<pre><code>@Configuration\npublic class InvoiceRedisConfiguration {\n\n    // ...\n\n    @Bean\n    @Qualifier(&quot;invoiceRedisTemplate&quot;)\n    public RedisTemplate&lt;String, Invoice&gt; invoiceRedisTemplate(\n            @Qualifier(&quot;invoiceRedisFactory&quot;) LettuceConnectionFactory invoiceRedisFactory\n    ) {\n        RedisTemplate&lt;String, Invoice&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n        redisTemplate.setConnectionFactory(invoiceRedisFactory);\n        // Configure RedisTemplate\n        // ...\n        return redisTemplate;\n    }\n\n}\n</code></pre>\n<p>In your controller or middleware classes, inject the Redis templates using the @Qualifier annotation:</p>\n<pre><code>@RestController\npublic class MyController {\n\n    private final RedisTemplate&lt;String, Token&gt; tokenRedisTemplate;\n    private final RedisTemplate&lt;String, Invoice&gt; invoiceRedisTemplate;\n\n    public MyController(\n            @Qualifier(&quot;tokenRedisTemplate&quot;) RedisTemplate&lt;String, Token&gt; tokenRedisTemplate,\n            @Qualifier(&quot;invoiceRedisTemplate&quot;) RedisTemplate&lt;String, Invoice&gt; invoiceRedisTemplate\n    ) {\n        this.tokenRedisTemplate = tokenRedisTemplate;\n        this.invoiceRedisTemplate = invoiceRedisTemplate;\n    }\n\n    // Use tokenRedisTemplate and invoiceRedisTemplate in your methods\n\n}\n</code></pre>\n<p>By using the <strong>@Qualifier</strong> annotation along with the respective qualifier names (<strong>tokenRedisTemplate</strong> and <strong>invoiceRedisTemplate</strong>), you can specify which Redis template should be injected in each case. This way, both configurations will coexist, and you'll be able to use the Redis templates without exceptions.</p>\n"}],"owner":{"account_id":14492613,"reputation":23,"user_id":10468313,"display_name":"Masoud Niki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687870332,"creation_date":1687851794,"question_id":76562651,"body_markdown":"i need two redis configuration one for my tokens and one for my invoices \r\nthen i need to use them in different middlewares or controllers\r\n\r\n\r\nhere its my InvoiceRedisConfiguration\r\n\r\n    @Configuration\r\n    public class InvoiceRedisConfiguration {\r\n        @Value(&quot;${spring.redis.invoice.host:localhost}&quot;)\r\n        private String redisHost;\r\n    \r\n        @Value(&quot;${spring.redis.invoice.port:6379}&quot;)\r\n        private int redisPort;\r\n    \r\n        @Bean()\r\n        @Qualifier(&quot;invoiceRedisFactory&quot;)\r\n        public LettuceConnectionFactory invoiceRedisFactory(){\r\n            return new LettuceConnectionFactory(\r\n                    new RedisStandaloneConfiguration(redisHost,redisPort)\r\n            );\r\n        }\r\n    \r\n        @Bean\r\n        @Qualifier(&quot;invoiceRedisTemplate&quot;)\r\n        public RedisTemplate&lt;String, Invoice&gt; invoiceRedisTemplate(@Qualifier(&quot;invoiceRedisFactory&quot;) LettuceConnectionFactory invoiceRedisFactory){\r\n            RedisTemplate&lt;String, Invoice&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n            redisTemplate.setConnectionFactory(invoiceRedisFactory);\r\n            redisTemplate.setKeySerializer(new StringRedisSerializer());\r\n            redisTemplate.setValueSerializer(new Jackson2JsonRedisSerializer&lt;&gt;(Object.class));\r\n            redisTemplate.setHashKeySerializer(new StringRedisSerializer());\r\n            redisTemplate.setHashValueSerializer(new Jackson2JsonRedisSerializer&lt;&gt;(Object.class));\r\n            redisTemplate.afterPropertiesSet();\r\n            return redisTemplate;\r\n        }\r\n    \r\n    }\r\n\r\nand tokenRedisConfiguration\r\n\r\n\r\n    @Configuration\r\n    public class TokenRedisConfiguration {\r\n    \r\n        @Value(&quot;${spring.redis.host:localhost}&quot;)\r\n        private String redisHost;\r\n    \r\n        @Value(&quot;${spring.redis.port:6379}&quot;)\r\n        private int redisPort;\r\n    \r\n        @Bean()\r\n        @Qualifier(&quot;tokenRedisFactory&quot;)\r\n        public LettuceConnectionFactory tokenRedisFactory(){\r\n            return new LettuceConnectionFactory(\r\n                    new RedisStandaloneConfiguration(redisHost,redisPort)\r\n            );\r\n        }\r\n    \r\n        @Bean()\r\n        @Qualifier(&quot;tokenRedisTemplate&quot;)\r\n        public RedisTemplate&lt;String,Token&gt; tokenRedisTemplate(@Qualifier(&quot;tokenRedisFactory&quot;) LettuceConnectionFactory tokenRedisFactory){\r\n            RedisTemplate&lt;String, Token&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n            redisTemplate.setConnectionFactory(tokenRedisFactory);\r\n            redisTemplate.setKeySerializer(new StringRedisSerializer());\r\n            redisTemplate.setValueSerializer(new Jackson2JsonRedisSerializer&lt;&gt;(Token.class));\r\n            redisTemplate.setHashKeySerializer(new StringRedisSerializer());\r\n            redisTemplate.setHashValueSerializer(new Jackson2JsonRedisSerializer&lt;&gt;(Token.class));\r\n            redisTemplate.afterPropertiesSet();\r\n            return redisTemplate;\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\nthe problem is when im going to start application it says\r\n\r\n```\r\nParameter 0 of method reactiveRedisTemplate in org.springframework.boot.autoconfigure.data.redis.RedisReactiveAutoConfiguration required a single bean, but 2 were found:\r\n\t- invoiceRedisFactory: defined by method &#39;invoiceRedisFactory&#39; in class path resource [tsp/third/party/api/tsp/api/database/connections/invoice/InvoiceRedisConfiguration.class]\r\n\t- tokenRedisFactory: defined by method &#39;tokenRedisFactory&#39; in class path resource [tsp/third/party/api/tsp/api/database/connections/token/TokenRedisConfiguration.class]\r\n\r\n```\r\n\r\ni don&#39;t want to make one of them as my primary i need both in the same time\r\n\r\n\r\nand i don&#39;t have any idea how can i use both \r\n\r\n\r\n\r\n\r\n\r\n\r\n i need to inject tokenRedisTemplate and invoiceRetokenRedisTemplate in my methods without exception\r\n","title":"use multiple redis configuration spring boot","body":"<p>i need two redis configuration one for my tokens and one for my invoices\nthen i need to use them in different middlewares or controllers</p>\n<p>here its my InvoiceRedisConfiguration</p>\n<pre><code>@Configuration\npublic class InvoiceRedisConfiguration {\n    @Value(&quot;${spring.redis.invoice.host:localhost}&quot;)\n    private String redisHost;\n\n    @Value(&quot;${spring.redis.invoice.port:6379}&quot;)\n    private int redisPort;\n\n    @Bean()\n    @Qualifier(&quot;invoiceRedisFactory&quot;)\n    public LettuceConnectionFactory invoiceRedisFactory(){\n        return new LettuceConnectionFactory(\n                new RedisStandaloneConfiguration(redisHost,redisPort)\n        );\n    }\n\n    @Bean\n    @Qualifier(&quot;invoiceRedisTemplate&quot;)\n    public RedisTemplate&lt;String, Invoice&gt; invoiceRedisTemplate(@Qualifier(&quot;invoiceRedisFactory&quot;) LettuceConnectionFactory invoiceRedisFactory){\n        RedisTemplate&lt;String, Invoice&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n        redisTemplate.setConnectionFactory(invoiceRedisFactory);\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\n        redisTemplate.setValueSerializer(new Jackson2JsonRedisSerializer&lt;&gt;(Object.class));\n        redisTemplate.setHashKeySerializer(new StringRedisSerializer());\n        redisTemplate.setHashValueSerializer(new Jackson2JsonRedisSerializer&lt;&gt;(Object.class));\n        redisTemplate.afterPropertiesSet();\n        return redisTemplate;\n    }\n\n}\n</code></pre>\n<p>and tokenRedisConfiguration</p>\n<pre><code>@Configuration\npublic class TokenRedisConfiguration {\n\n    @Value(&quot;${spring.redis.host:localhost}&quot;)\n    private String redisHost;\n\n    @Value(&quot;${spring.redis.port:6379}&quot;)\n    private int redisPort;\n\n    @Bean()\n    @Qualifier(&quot;tokenRedisFactory&quot;)\n    public LettuceConnectionFactory tokenRedisFactory(){\n        return new LettuceConnectionFactory(\n                new RedisStandaloneConfiguration(redisHost,redisPort)\n        );\n    }\n\n    @Bean()\n    @Qualifier(&quot;tokenRedisTemplate&quot;)\n    public RedisTemplate&lt;String,Token&gt; tokenRedisTemplate(@Qualifier(&quot;tokenRedisFactory&quot;) LettuceConnectionFactory tokenRedisFactory){\n        RedisTemplate&lt;String, Token&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n        redisTemplate.setConnectionFactory(tokenRedisFactory);\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\n        redisTemplate.setValueSerializer(new Jackson2JsonRedisSerializer&lt;&gt;(Token.class));\n        redisTemplate.setHashKeySerializer(new StringRedisSerializer());\n        redisTemplate.setHashValueSerializer(new Jackson2JsonRedisSerializer&lt;&gt;(Token.class));\n        redisTemplate.afterPropertiesSet();\n        return redisTemplate;\n    }\n\n\n\n\n}\n</code></pre>\n<p>the problem is when im going to start application it says</p>\n<pre><code>Parameter 0 of method reactiveRedisTemplate in org.springframework.boot.autoconfigure.data.redis.RedisReactiveAutoConfiguration required a single bean, but 2 were found:\n    - invoiceRedisFactory: defined by method 'invoiceRedisFactory' in class path resource [tsp/third/party/api/tsp/api/database/connections/invoice/InvoiceRedisConfiguration.class]\n    - tokenRedisFactory: defined by method 'tokenRedisFactory' in class path resource [tsp/third/party/api/tsp/api/database/connections/token/TokenRedisConfiguration.class]\n\n</code></pre>\n<p>i don't want to make one of them as my primary i need both in the same time</p>\n<p>and i don't have any idea how can i use both</p>\n<p>i need to inject tokenRedisTemplate and invoiceRetokenRedisTemplate in my methods without exception</p>\n"},{"tags":["java","spring-boot","multithreading"],"owner":{"account_id":2028428,"reputation":423,"user_id":1812810,"accept_rate":41,"display_name":"kakoli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687869760,"creation_date":1687505592,"question_id":76537970,"body_markdown":"I am using SpringBoot 2.7.2 with Tomcat embedded server.\r\nThe application does not have front-end. It is primarily controller-service-persistence with PostgreSQL as database, exposing the server as REST APIs.\r\nThe application can be accessed by upto 5000 concurrent users and the Response time &lt; 10msec.\r\n\r\nFor increasing max threads, there are options at Tomcat container level and then at Spring level : \r\n\r\n```\r\nserver.tomcat.threads.max (default 200)\r\nspring.task.execution.pool.max-size\r\n\r\n```\r\nMy questions :\r\n1)  When a client request comes, a Tomcat thread is taken from threadpool to service the request. What about the threads within Spring?\r\n2) For increasing application performance, which thread has a bigger role?\r\n3)  Tomcat embedded server has version 9.0.65. Does it have NIO enabled? If yes, how to confirm? If not, then is there a way to enable it for increasing performance?\r\n","title":"Increasing performance in Springboot application with Embedded tomcat server","body":"<p>I am using SpringBoot 2.7.2 with Tomcat embedded server.\nThe application does not have front-end. It is primarily controller-service-persistence with PostgreSQL as database, exposing the server as REST APIs.\nThe application can be accessed by upto 5000 concurrent users and the Response time &lt; 10msec.</p>\n<p>For increasing max threads, there are options at Tomcat container level and then at Spring level :</p>\n<pre><code>server.tomcat.threads.max (default 200)\nspring.task.execution.pool.max-size\n\n</code></pre>\n<p>My questions :</p>\n<ol>\n<li>When a client request comes, a Tomcat thread is taken from threadpool to service the request. What about the threads within Spring?</li>\n<li>For increasing application performance, which thread has a bigger role?</li>\n<li>Tomcat embedded server has version 9.0.65. Does it have NIO enabled? If yes, how to confirm? If not, then is there a way to enable it for increasing performance?</li>\n</ol>\n"},{"tags":["java","spring","thymeleaf","spring-thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":13238963,"reputation":49,"user_id":9560157,"display_name":"Frank Karlstr&#248;m"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687868737,"creation_date":1687867378,"answer_id":76564668,"question_id":76269473,"body_markdown":"# Introduction\r\n\r\nYou are definitly on the right track to do what you want. Do note that generally it is a bad idea to use raw, unescaped text in an XML document, especially if the content that is injected into the XML is user controlled. You may risk [Entity injection, XSS and other XML related vulnerabilities](https://cheatsheetseries.owasp.org/cheatsheets/XML_Security_Cheat_Sheet.html), in addition to a potential broken XML.\r\n\r\nWith that out of the way, let me try to give an answer on what your next steps could be, hopefully this is not too late. :)\r\n\r\n## Implementing and wiring up the post-processor\r\n\r\nAs you have figured out, Thymeleaf has support for post-processors. These are [visitors](https://sourcemaking.com/design_patterns/visitor) to an XML that you can implement.\r\n\r\n### Actual post-processor\r\nThis is implemented by creating an implementation of [ITemplateHandler](https://www.thymeleaf.org/apidocs/thymeleaf/3.1.1.RELEASE/org/thymeleaf/engine/ITemplateHandler.html), the easiest way is to extend [AbstractTemplateHandler](https://www.thymeleaf.org/apidocs/thymeleaf/3.1.1.RELEASE/org/thymeleaf/engine/AbstractTemplateHandler.html).\r\n\r\nThis is an example for my postprocessor that simply takes **all** text in **all** XML nodes, and unescapes. Should obviously be retrofitted to your needs, based on e.g. node name etc.\r\nThe TemplateHandler will be unique pr XML processing, so you can store instance variables to know where you are and to keep state.\r\nHere I have overriden the `handleText` method, retrieve the actual text, unescape it, then I create a new IText node (since the nodes coming in as parameters are immutable) with the aid of the modelfactory that is configured for thymeleaf, and send the new node to the standard handler in AbstractTemplateHandler.\r\n\r\n```\r\nimport org.thymeleaf.engine.AbstractTemplateHandler;\r\nimport org.thymeleaf.engine.ITemplateHandler;\r\nimport org.thymeleaf.model.IText;\r\nimport org.unbescape.xml.XmlEscape;\r\n\r\npublic class XmlTemplateHandler extends AbstractTemplateHandler implements ITemplateHandler {\r\n    @Override\r\n    public void handleText(IText textNode) {\r\n        \r\nString text = textNode.getText();\r\n        String unescaped = XmlEscape.unescapeXml(text);\r\n        IText newNode = getContext().getModelFactory().createText(unescaped);\r\n        super.handleText(newNode);\r\n    }\r\n}\r\n```\r\n### Wiring up the post-processor\r\nTo make thymeleaf aware of the post-processor, you need to wire it up. This is done by implementing a [IPostProcessorDialect](https://www.thymeleaf.org/apidocs/thymeleaf/3.1.1.RELEASE/org/thymeleaf/dialect/IPostProcessorDialect.html), that will return a list of postprocessors that thymeleaf should apply for XML post-processing. Below is my crude example of such a postprocessordialect.\r\n```\r\nimport org.springframework.stereotype.Component;\r\nimport org.thymeleaf.dialect.AbstractDialect;\r\nimport org.thymeleaf.dialect.IPostProcessorDialect;\r\nimport org.thymeleaf.postprocessor.IPostProcessor;\r\nimport org.thymeleaf.postprocessor.PostProcessor;\r\nimport org.thymeleaf.templatemode.TemplateMode;\r\nimport java.util.Set;\r\n\r\n@Component\r\npublic class XmlPostProcessorDialect extends AbstractDialect implements IPostProcessorDialect {\r\n    protected XmlPostProcessorDialect() {\r\n        super(&quot;xmlPostProcessor&quot;);\r\n    }\r\n\r\n    @Override\r\n    public int getDialectPostProcessorPrecedence() {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;IPostProcessor&gt; getPostProcessors() {\r\n        return Set.of(new PostProcessor(TemplateMode.XML, XmlTemplateHandler.class, 0));\r\n    }\r\n}\r\n```\r\n\r\nNow, you need to make sure Thymeleaf is aware of this dialect. If you use spring boot with [spring-boot-starter-thymeleaf](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using.build-systems.starters) you will get this wiring done automatically by [spring boot autoconfiguration](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using.auto-configuration). You can see this in the sourcecode for org.springframework.boot.autoconfigure.thymeleaf.TemplateEngineConfigurations, the line actually wiring up all the dialects is `dialects.orderedStream().forEach(engine::addDialect);`\r\n\r\n```\r\n@Bean\r\n\t\t@ConditionalOnMissingBean(ISpringTemplateEngine.class)\r\n\t\tSpringTemplateEngine templateEngine(ThymeleafProperties properties,\r\n\t\t\t\tObjectProvider&lt;ITemplateResolver&gt; templateResolvers, ObjectProvider&lt;IDialect&gt; dialects) {\r\n\t\t\tSpringTemplateEngine engine = new SpringTemplateEngine();\r\n\t\t\tengine.setEnableSpringELCompiler(properties.isEnableSpringElCompiler());\r\n\t\t\tengine.setRenderHiddenMarkersBeforeCheckboxes(properties.isRenderHiddenMarkersBeforeCheckboxes());\r\n\t\t\ttemplateResolvers.orderedStream().forEach(engine::addTemplateResolver);\r\n\t\t\tdialects.orderedStream().forEach(engine::addDialect);\r\n\t\t\treturn engine;\r\n\t\t}\r\n```\r\n\r\n### Gotchas\r\nThis bean is only started up if you do not implement/defined your own [ISpringTemplateEngine](https://www.thymeleaf.org/apidocs/thymeleaf-spring6/3.1.1.RELEASE/org/thymeleaf/spring6/ISpringTemplateEngine.html) and that [ThymeleafAutoConfiguration](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/thymeleaf/ThymeleafAutoConfiguration.html) as been activated.\r\n\r\nIf you do not use Spring Boot Autoconfiguration, you need to wire up the dialects yourself in the place where you initiate the template engine, using the same pattern as ThymeleafAutoConfiguration with `dialects.orderedStream().forEach(engine::addDialect);`.\r\n\r\n\r\n### Code samples\r\nFor a gradle based Spring Boot application using thymeleaf starter, implementing your wanted functionality, take a look at https://github.com/fjank/thleaf\r\n\r\n### Final remarks\r\nOf course, if you have any questions regarding this, I will do my best to assist you figuring out the answers. Thymeleaf is a good framework, and fits quite nice together with Spring Boot, but they are enormous, complex beasts, and it can sometimes be quite confusing how things are hooked together.","title":"Spring Thymeleaf 3.1 post processor","body":"<h1>Introduction</h1>\n<p>You are definitly on the right track to do what you want. Do note that generally it is a bad idea to use raw, unescaped text in an XML document, especially if the content that is injected into the XML is user controlled. You may risk <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/XML_Security_Cheat_Sheet.html\" rel=\"nofollow noreferrer\">Entity injection, XSS and other XML related vulnerabilities</a>, in addition to a potential broken XML.</p>\n<p>With that out of the way, let me try to give an answer on what your next steps could be, hopefully this is not too late. :)</p>\n<h2>Implementing and wiring up the post-processor</h2>\n<p>As you have figured out, Thymeleaf has support for post-processors. These are <a href=\"https://sourcemaking.com/design_patterns/visitor\" rel=\"nofollow noreferrer\">visitors</a> to an XML that you can implement.</p>\n<h3>Actual post-processor</h3>\n<p>This is implemented by creating an implementation of <a href=\"https://www.thymeleaf.org/apidocs/thymeleaf/3.1.1.RELEASE/org/thymeleaf/engine/ITemplateHandler.html\" rel=\"nofollow noreferrer\">ITemplateHandler</a>, the easiest way is to extend <a href=\"https://www.thymeleaf.org/apidocs/thymeleaf/3.1.1.RELEASE/org/thymeleaf/engine/AbstractTemplateHandler.html\" rel=\"nofollow noreferrer\">AbstractTemplateHandler</a>.</p>\n<p>This is an example for my postprocessor that simply takes <strong>all</strong> text in <strong>all</strong> XML nodes, and unescapes. Should obviously be retrofitted to your needs, based on e.g. node name etc.\nThe TemplateHandler will be unique pr XML processing, so you can store instance variables to know where you are and to keep state.\nHere I have overriden the <code>handleText</code> method, retrieve the actual text, unescape it, then I create a new IText node (since the nodes coming in as parameters are immutable) with the aid of the modelfactory that is configured for thymeleaf, and send the new node to the standard handler in AbstractTemplateHandler.</p>\n<pre><code>import org.thymeleaf.engine.AbstractTemplateHandler;\nimport org.thymeleaf.engine.ITemplateHandler;\nimport org.thymeleaf.model.IText;\nimport org.unbescape.xml.XmlEscape;\n\npublic class XmlTemplateHandler extends AbstractTemplateHandler implements ITemplateHandler {\n    @Override\n    public void handleText(IText textNode) {\n        \nString text = textNode.getText();\n        String unescaped = XmlEscape.unescapeXml(text);\n        IText newNode = getContext().getModelFactory().createText(unescaped);\n        super.handleText(newNode);\n    }\n}\n</code></pre>\n<h3>Wiring up the post-processor</h3>\n<p>To make thymeleaf aware of the post-processor, you need to wire it up. This is done by implementing a <a href=\"https://www.thymeleaf.org/apidocs/thymeleaf/3.1.1.RELEASE/org/thymeleaf/dialect/IPostProcessorDialect.html\" rel=\"nofollow noreferrer\">IPostProcessorDialect</a>, that will return a list of postprocessors that thymeleaf should apply for XML post-processing. Below is my crude example of such a postprocessordialect.</p>\n<pre><code>import org.springframework.stereotype.Component;\nimport org.thymeleaf.dialect.AbstractDialect;\nimport org.thymeleaf.dialect.IPostProcessorDialect;\nimport org.thymeleaf.postprocessor.IPostProcessor;\nimport org.thymeleaf.postprocessor.PostProcessor;\nimport org.thymeleaf.templatemode.TemplateMode;\nimport java.util.Set;\n\n@Component\npublic class XmlPostProcessorDialect extends AbstractDialect implements IPostProcessorDialect {\n    protected XmlPostProcessorDialect() {\n        super(&quot;xmlPostProcessor&quot;);\n    }\n\n    @Override\n    public int getDialectPostProcessorPrecedence() {\n        return 0;\n    }\n\n    @Override\n    public Set&lt;IPostProcessor&gt; getPostProcessors() {\n        return Set.of(new PostProcessor(TemplateMode.XML, XmlTemplateHandler.class, 0));\n    }\n}\n</code></pre>\n<p>Now, you need to make sure Thymeleaf is aware of this dialect. If you use spring boot with <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using.build-systems.starters\" rel=\"nofollow noreferrer\">spring-boot-starter-thymeleaf</a> you will get this wiring done automatically by <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using.auto-configuration\" rel=\"nofollow noreferrer\">spring boot autoconfiguration</a>. You can see this in the sourcecode for org.springframework.boot.autoconfigure.thymeleaf.TemplateEngineConfigurations, the line actually wiring up all the dialects is <code>dialects.orderedStream().forEach(engine::addDialect);</code></p>\n<pre><code>@Bean\n        @ConditionalOnMissingBean(ISpringTemplateEngine.class)\n        SpringTemplateEngine templateEngine(ThymeleafProperties properties,\n                ObjectProvider&lt;ITemplateResolver&gt; templateResolvers, ObjectProvider&lt;IDialect&gt; dialects) {\n            SpringTemplateEngine engine = new SpringTemplateEngine();\n            engine.setEnableSpringELCompiler(properties.isEnableSpringElCompiler());\n            engine.setRenderHiddenMarkersBeforeCheckboxes(properties.isRenderHiddenMarkersBeforeCheckboxes());\n            templateResolvers.orderedStream().forEach(engine::addTemplateResolver);\n            dialects.orderedStream().forEach(engine::addDialect);\n            return engine;\n        }\n</code></pre>\n<h3>Gotchas</h3>\n<p>This bean is only started up if you do not implement/defined your own <a href=\"https://www.thymeleaf.org/apidocs/thymeleaf-spring6/3.1.1.RELEASE/org/thymeleaf/spring6/ISpringTemplateEngine.html\" rel=\"nofollow noreferrer\">ISpringTemplateEngine</a> and that <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/thymeleaf/ThymeleafAutoConfiguration.html\" rel=\"nofollow noreferrer\">ThymeleafAutoConfiguration</a> as been activated.</p>\n<p>If you do not use Spring Boot Autoconfiguration, you need to wire up the dialects yourself in the place where you initiate the template engine, using the same pattern as ThymeleafAutoConfiguration with <code>dialects.orderedStream().forEach(engine::addDialect);</code>.</p>\n<h3>Code samples</h3>\n<p>For a gradle based Spring Boot application using thymeleaf starter, implementing your wanted functionality, take a look at <a href=\"https://github.com/fjank/thleaf\" rel=\"nofollow noreferrer\">https://github.com/fjank/thleaf</a></p>\n<h3>Final remarks</h3>\n<p>Of course, if you have any questions regarding this, I will do my best to assist you figuring out the answers. Thymeleaf is a good framework, and fits quite nice together with Spring Boot, but they are enormous, complex beasts, and it can sometimes be quite confusing how things are hooked together.</p>\n"}],"owner":{"account_id":7003534,"reputation":61,"user_id":5368761,"display_name":"Sagar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687868737,"creation_date":1684308036,"question_id":76269473,"body_markdown":"I have an issue related to Thymeleaf 3.1, \r\n```org.thymeleaf.standard.processor.StandardTextTagProcessor#produceEscapedOutput``` method performs ```XmlEscape.escapeXml10``` on ```th:text``` in case of XML template. \r\nI do not want it to be escaped, I know there is an option to use ```th:utext``` for unescaped text but I have too many templates scattered over places to find and fix them all.\r\nMy idea was to use the ```IPostProcessorDialect``` to unescape the text after the processor has performed the escape, but I can not find a good example of how to achieve this.\r\nSo far this is what I have done.\r\nImplemented ```IPostProcessorDialect```, implemented a custom ```IPostProcessor``` to be returned by ```IPostProcessorDialect,getPostProcessors()``` extended ```AbstractTemplateHandler``` and overridden the ```handleText``` method, this is the dead end for me. Can you suggest how to handle this.","title":"Spring Thymeleaf 3.1 post processor","body":"<p>I have an issue related to Thymeleaf 3.1,\n<code>org.thymeleaf.standard.processor.StandardTextTagProcessor#produceEscapedOutput</code> method performs <code>XmlEscape.escapeXml10</code> on <code>th:text</code> in case of XML template.\nI do not want it to be escaped, I know there is an option to use <code>th:utext</code> for unescaped text but I have too many templates scattered over places to find and fix them all.\nMy idea was to use the <code>IPostProcessorDialect</code> to unescape the text after the processor has performed the escape, but I can not find a good example of how to achieve this.\nSo far this is what I have done.\nImplemented <code>IPostProcessorDialect</code>, implemented a custom <code>IPostProcessor</code> to be returned by <code>IPostProcessorDialect,getPostProcessors()</code> extended <code>AbstractTemplateHandler</code> and overridden the <code>handleText</code> method, this is the dead end for me. Can you suggest how to handle this.</p>\n"},{"tags":["java","android","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":18301803,"reputation":159,"user_id":13326424,"display_name":"Prasanth John"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687640523,"creation_date":1687640523,"answer_id":76547983,"question_id":76547691,"body_markdown":"you assigned 2 getParcelableExtra values to one variable. \r\n\r\nSee what you mistakes \r\n\r\n    if (data != null) {\r\n                    // Обновляем значение resume\r\n                    resume = data.getParcelableExtra(&quot;resume&quot;);\r\n                }\r\n\r\nAnd \r\n\r\n    if (data != null) {\r\n                    // Обновляем значение resume\r\n                    resume = data.getParcelableExtra(&quot;vacancy&quot;);\r\n                }\r\n\r\n","title":"AlertDialog doesn&#39;t disappear after validation","body":"<p>you assigned 2 getParcelableExtra values to one variable.</p>\n<p>See what you mistakes</p>\n<pre><code>if (data != null) {\n                // Обновляем значение resume\n                resume = data.getParcelableExtra(&quot;resume&quot;);\n            }\n</code></pre>\n<p>And</p>\n<pre><code>if (data != null) {\n                // Обновляем значение resume\n                resume = data.getParcelableExtra(&quot;vacancy&quot;);\n            }\n</code></pre>\n"}],"owner":{"account_id":28659831,"reputation":1,"user_id":21944989,"display_name":"tkvst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687868622,"creation_date":1687634845,"question_id":76547691,"body_markdown":"I have a fragment where an alert dialog is displayed so that the user can choose to create a resume or a job. \r\n\r\nBut after the registered user creates a resume or vacancy, I want the alert dialog to be dismissed, but it continues to appear. And how to make if the alert dialog appears, nothing can be seen behind it and is it possible to change the design of the alert dialog buttons\r\n\r\n```\r\npackage com.example.finder;\r\n\r\nimport android.app.Activity;\r\nimport android.app.AlertDialog;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.graphics.Color;\r\nimport android.os.Bundle;\r\nimport androidx.activity.result.ActivityResult;\r\nimport androidx.activity.result.ActivityResultCallback;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.fragment.app.Fragment;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\n\r\npublic class Fragment_Finder extends Fragment {\r\n\r\n     MyResume resume;\r\n     MyVacancy vacancy;\r\n     private static final int CREATE_RESUME_REQUEST = 1;\r\n     private static final int CREATE_VACANCY_REQUEST = 2;\r\n\r\n\r\n     @Override\r\n     public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        CreateApp();\r\n        return inflater.inflate(R.layout.fragment__finder, container, false);\r\n\r\n    }\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; createResumeLauncher = registerForActivityResult(\r\n        new ActivityResultContracts.StartActivityForResult(),\r\n        new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n            @Override\r\n            public void onActivityResult(ActivityResult result) {\r\n                if (result.getResultCode() == Activity.RESULT_OK) {\r\n                    // Получаем данные из Intent\r\n                    Intent data = result.getData();\r\n                    if (data != null) {\r\n                        // Обновляем значение resume\r\n                        resume = data.getParcelableExtra(&quot;resume&quot;);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n      \r\n     registerForActivityResult(\r\n     \r\n     ActivityResultLauncher&lt;Intent&gt; createVacancyLauncher = registerForActivityResult(\r\n        new ActivityResultContracts.StartActivityForResult(),\r\n        new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n            @Override\r\n            public void onActivityResult(ActivityResult result) {\r\n                if (result.getResultCode() == Activity.RESULT_OK) {\r\n                    // Получаем данные из Intent\r\n                    Intent data = result.getData();\r\n                    if (data != null) {\r\n                        // Обновляем значение resume\r\n                        resume = data.getParcelableExtra(&quot;vacancy&quot;);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n      public void CreateApp(){\r\n\r\n        if (resume == null &amp;&amp; vacancy == null) {\r\n            // Создаем диалоговое окно\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n      \r\n            builder.setTitle(&quot;Что вы желаете?&quot;)\r\n                    .setItems(new String[]{&quot;Создать резюме&quot;, &quot;Создать вакансию&quot;}, new \r\n    DialogInterface.OnClickListener() {\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            if (which == 0) {\r\n                                Intent intent = new Intent(getActivity(), \r\n     Create_ResumeActivity.class);\r\n                                createResumeLauncher.launch(intent);\r\n                            } else {\r\n                                Intent intent = new Intent(getActivity(), \r\n     Create_VacancyActivity.class);\r\n                                createVacancyLauncher.launch(intent);\r\n                            }\r\n                        }\r\n                    });\r\n            builder.create().show();\r\n        } else {\r\n            // Отображаем данные о резюме или вакансии\r\n        }\r\n\r\n     }\r\n}","title":"AlertDialog doesn&#39;t disappear after validation","body":"<p>I have a fragment where an alert dialog is displayed so that the user can choose to create a resume or a job.</p>\n<p>But after the registered user creates a resume or vacancy, I want the alert dialog to be dismissed, but it continues to appear. And how to make if the alert dialog appears, nothing can be seen behind it and is it possible to change the design of the alert dialog buttons</p>\n<pre><code>package com.example.finder;\n\nimport android.app.Activity;\nimport android.app.AlertDialog;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.graphics.Color;\nimport android.os.Bundle;\nimport androidx.activity.result.ActivityResult;\nimport androidx.activity.result.ActivityResultCallback;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.fragment.app.Fragment;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\n\npublic class Fragment_Finder extends Fragment {\n\n     MyResume resume;\n     MyVacancy vacancy;\n     private static final int CREATE_RESUME_REQUEST = 1;\n     private static final int CREATE_VACANCY_REQUEST = 2;\n\n\n     @Override\n     public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        CreateApp();\n        return inflater.inflate(R.layout.fragment__finder, container, false);\n\n    }\n\n    ActivityResultLauncher&lt;Intent&gt; createResumeLauncher = registerForActivityResult(\n        new ActivityResultContracts.StartActivityForResult(),\n        new ActivityResultCallback&lt;ActivityResult&gt;() {\n            @Override\n            public void onActivityResult(ActivityResult result) {\n                if (result.getResultCode() == Activity.RESULT_OK) {\n                    // Получаем данные из Intent\n                    Intent data = result.getData();\n                    if (data != null) {\n                        // Обновляем значение resume\n                        resume = data.getParcelableExtra(&quot;resume&quot;);\n                    }\n                }\n            }\n        });\n      \n     registerForActivityResult(\n     \n     ActivityResultLauncher&lt;Intent&gt; createVacancyLauncher = registerForActivityResult(\n        new ActivityResultContracts.StartActivityForResult(),\n        new ActivityResultCallback&lt;ActivityResult&gt;() {\n            @Override\n            public void onActivityResult(ActivityResult result) {\n                if (result.getResultCode() == Activity.RESULT_OK) {\n                    // Получаем данные из Intent\n                    Intent data = result.getData();\n                    if (data != null) {\n                        // Обновляем значение resume\n                        resume = data.getParcelableExtra(&quot;vacancy&quot;);\n                    }\n                }\n            }\n        });\n      public void CreateApp(){\n\n        if (resume == null &amp;&amp; vacancy == null) {\n            // Создаем диалоговое окно\n            AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n      \n            builder.setTitle(&quot;Что вы желаете?&quot;)\n                    .setItems(new String[]{&quot;Создать резюме&quot;, &quot;Создать вакансию&quot;}, new \n    DialogInterface.OnClickListener() {\n                        public void onClick(DialogInterface dialog, int which) {\n                            if (which == 0) {\n                                Intent intent = new Intent(getActivity(), \n     Create_ResumeActivity.class);\n                                createResumeLauncher.launch(intent);\n                            } else {\n                                Intent intent = new Intent(getActivity(), \n     Create_VacancyActivity.class);\n                                createVacancyLauncher.launch(intent);\n                            }\n                        }\n                    });\n            builder.create().show();\n        } else {\n            // Отображаем данные о резюме или вакансии\n        }\n\n     }\n}\n</code></pre>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1624688028,"post_id":68138359,"comment_id":120431024,"body_markdown":"It&#39;s a little hard to tell. Perhaps you should start with a different tutorial: https://howtodoinjava.com/spring-boot/spring-boot-jersey-example/ .","body":"It&#39;s a little hard to tell. Perhaps you should start with a different tutorial: <a href=\"https://howtodoinjava.com/spring-boot/spring-boot-jersey-example/\" rel=\"nofollow noreferrer\">howtodoinjava.com/spring-boot/spring-boot-jersey-example</a> ."},{"owner":{"account_id":18475895,"reputation":63,"user_id":13991294,"display_name":"Dicky"},"score":0,"creation_date":1624918437,"post_id":68138359,"comment_id":120483738,"body_markdown":"Thanks David for recommending another tutorial. But I wanted to complete my tutorials as I had watched a few videos of the same guy covering theory and I liked his series. But it has been frustrating to see this error. Could you please suggest a few things that I can try, or someone on the board who could be of help?","body":"Thanks David for recommending another tutorial. But I wanted to complete my tutorials as I had watched a few videos of the same guy covering theory and I liked his series. But it has been frustrating to see this error. Could you please suggest a few things that I can try, or someone on the board who could be of help?"}],"answers":[{"tags":[],"owner":{"account_id":4421250,"reputation":1,"user_id":3601135,"display_name":"ashutosharma24"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625472168,"creation_date":1625472168,"answer_id":68252596,"question_id":68138359,"body_markdown":"For 1/ index.jsp \r\nadd the following dependency in pom.xml\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t&lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nfor 2/ pom.xml\r\nadd the following property at the end of eclipse.ini and restart eclipse\r\n```\r\n--illegal-access=permit\r\n```\r\n","title":"&quot;Could not initialize class...&quot; error in pom.xml with a new Maven project","body":"<p>For 1/ index.jsp\nadd the following dependency in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>for 2/ pom.xml\nadd the following property at the end of eclipse.ini and restart eclipse</p>\n<pre><code>--illegal-access=permit\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15935421,"reputation":75,"user_id":11498722,"display_name":"Mohibur_Cou"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632006337,"creation_date":1631985414,"answer_id":69236875,"question_id":68138359,"body_markdown":"for first problem:\r\n\r\n1. right click on your project\r\n2. click Properties\r\n3. click Targeted Runtimes\r\n4. tick mark Apache Tomcat v10.0\r\n5. click Apply and Close\r\n\r\nfor second problem:\r\nadd the following plugin inside the pom.xml file inside build -&gt; plugins\r\n```\r\n&lt;plugin&gt;\r\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.2.2&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n```\r\nyour pom.xml file should be like this:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.xyz.rest&lt;/groupId&gt;\r\n    &lt;artifactId&gt;onlineshopping&lt;/artifactId&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;onlineshopping&lt;/name&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;onlineshopping&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;inherited&gt;true&lt;/inherited&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n            &lt;!-- use the following artifactId if you don&#39;t need servlet 2.x compatibility --&gt;\r\n            &lt;!-- artifactId&gt;jersey-container-servlet&lt;/artifactId --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- uncomment this to get JSON support\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-binding&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        --&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;properties&gt;\r\n        &lt;jersey.version&gt;3.0.2&lt;/jersey.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n```\r\nHope this will solve your problems.","title":"&quot;Could not initialize class...&quot; error in pom.xml with a new Maven project","body":"<p>for first problem:</p>\n<ol>\n<li>right click on your project</li>\n<li>click Properties</li>\n<li>click Targeted Runtimes</li>\n<li>tick mark Apache Tomcat v10.0</li>\n<li>click Apply and Close</li>\n</ol>\n<p>for second problem:\nadd the following plugin inside the pom.xml file inside build -&gt; plugins</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.2&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>your pom.xml file should be like this:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.xyz.rest&lt;/groupId&gt;\n    &lt;artifactId&gt;onlineshopping&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;onlineshopping&lt;/name&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;onlineshopping&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;inherited&gt;true&lt;/inherited&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n            &lt;!-- use the following artifactId if you don't need servlet 2.x compatibility --&gt;\n            &lt;!-- artifactId&gt;jersey-container-servlet&lt;/artifactId --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- uncomment this to get JSON support\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-binding&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        --&gt;\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;jersey.version&gt;3.0.2&lt;/jersey.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Hope this will solve your problems.</p>\n"},{"tags":[],"owner":{"account_id":28895729,"reputation":1,"user_id":22131763,"display_name":"Satyprakash Sahu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687868474,"creation_date":1687763979,"answer_id":76554366,"question_id":68138359,"body_markdown":"1. Could not initialize class `org.apache.maven.plugin.war.util.WebappStructureSerializer`\r\n\r\n   This message is not an error it is a bug of eclipse new version so you need to take older version or need to wait for fixing this bug.\r\n\r\n2. For fixing this you can use below code in pom.XML file try this it will fix error message -: \r\n\r\n       &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.3.1&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n       &lt;/plugins&gt;","title":"&quot;Could not initialize class...&quot; error in pom.xml with a new Maven project","body":"<ol>\n<li><p>Could not initialize class <code>org.apache.maven.plugin.war.util.WebappStructureSerializer</code></p>\n<p>This message is not an error it is a bug of eclipse new version so you need to take older version or need to wait for fixing this bug.</p>\n</li>\n<li><p>For fixing this you can use below code in pom.XML file try this it will fix error message -:</p>\n<pre><code>&lt;plugins&gt;\n   &lt;plugin&gt;\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n       &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n       &lt;version&gt;3.3.1&lt;/version&gt;\n   &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":18475895,"reputation":63,"user_id":13991294,"display_name":"Dicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1687868474,"creation_date":1624669229,"question_id":68138359,"body_markdown":"I wanted to learn how to develop RESTful APIs with JAX-RS and so started with an example covered in one of the YouTube videos. The video was created 5 -6 years ago and used Tomcat 7 and an older version of Eclipse. But I installed the recent versions of Tomcat (10.0.6) and Eclipse (jee-2021-03) and followed the tutorial.\r\n\r\nI created a new maven project with the following archetype:\r\n**Group Id**: org.glassfish.jersey.archetypes \r\n**Artifact Id**: jersey-quickstart-webapp \r\n**Version**: 3.0.2\r\n\r\nI provided Group Id and Artifact Id for my project with default version 0.0.1-SNAPSHOT and clicked Finish.\r\n\r\nEclipse created the project with the following 2 errors:\r\n1) **index.jsp**: &quot;The superclass &quot;javax.servlet.http.HttpServlet&quot; was not found on the Java Build Path&quot;\r\n2) **pom.xml**: &quot;Could not initialize class org.apache.maven.plugin.war.util.WebappStructureSerializer&quot; on the very first line.\r\n\r\nI&#39;d appreciate if someone can help me understand why I&#39;m getting these errors and how to resolve them.\r\n\r\nHere is my pom.xml.\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.xyz.rest&lt;/groupId&gt;\r\n    &lt;artifactId&gt;onlineshopping&lt;/artifactId&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;onlineshopping&lt;/name&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;onlineshopping&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;inherited&gt;true&lt;/inherited&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n            &lt;!-- use the following artifactId if you don&#39;t need servlet 2.x compatibility --&gt;\r\n            &lt;!-- artifactId&gt;jersey-container-servlet&lt;/artifactId --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- uncomment this to get JSON support\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-binding&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        --&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;properties&gt;\r\n        &lt;jersey.version&gt;3.0.2&lt;/jersey.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n```","title":"&quot;Could not initialize class...&quot; error in pom.xml with a new Maven project","body":"<p>I wanted to learn how to develop RESTful APIs with JAX-RS and so started with an example covered in one of the YouTube videos. The video was created 5 -6 years ago and used Tomcat 7 and an older version of Eclipse. But I installed the recent versions of Tomcat (10.0.6) and Eclipse (jee-2021-03) and followed the tutorial.</p>\n<p>I created a new maven project with the following archetype:\n<strong>Group Id</strong>: org.glassfish.jersey.archetypes\n<strong>Artifact Id</strong>: jersey-quickstart-webapp\n<strong>Version</strong>: 3.0.2</p>\n<p>I provided Group Id and Artifact Id for my project with default version 0.0.1-SNAPSHOT and clicked Finish.</p>\n<p>Eclipse created the project with the following 2 errors:</p>\n<ol>\n<li><strong>index.jsp</strong>: &quot;The superclass &quot;javax.servlet.http.HttpServlet&quot; was not found on the Java Build Path&quot;</li>\n<li><strong>pom.xml</strong>: &quot;Could not initialize class org.apache.maven.plugin.war.util.WebappStructureSerializer&quot; on the very first line.</li>\n</ol>\n<p>I'd appreciate if someone can help me understand why I'm getting these errors and how to resolve them.</p>\n<p>Here is my pom.xml.</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.xyz.rest&lt;/groupId&gt;\n    &lt;artifactId&gt;onlineshopping&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;onlineshopping&lt;/name&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;onlineshopping&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;inherited&gt;true&lt;/inherited&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n            &lt;!-- use the following artifactId if you don't need servlet 2.x compatibility --&gt;\n            &lt;!-- artifactId&gt;jersey-container-servlet&lt;/artifactId --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- uncomment this to get JSON support\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-binding&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        --&gt;\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;jersey.version&gt;3.0.2&lt;/jersey.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","jboss","jmx"],"answers":[{"comments":[{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":3,"creation_date":1604562291,"post_id":57233876,"comment_id":114385582,"body_markdown":"This doesn&#39;t work anymore with Java 11. &quot;-Xbootclasspath/p&quot; isn&#39;t a supported option anymore.","body":"This doesn&#39;t work anymore with Java 11. &quot;-Xbootclasspath/p&quot; isn&#39;t a supported option anymore."},{"owner":{"account_id":5998889,"reputation":151,"user_id":4712790,"display_name":"Emerson Pardo"},"score":0,"creation_date":1649335918,"post_id":57233876,"comment_id":126853197,"body_markdown":"In Java 11 you can use &quot;-Xbootclasspath/a&quot;. Just checkt it with &#39;java -X&#39; to see the X options for your plataform.","body":"In Java 11 you can use &quot;-Xbootclasspath/a&quot;. Just checkt it with &#39;java -X&#39; to see the X options for your plataform."}],"tags":[],"owner":{"account_id":2844059,"reputation":685,"user_id":2442960,"accept_rate":57,"display_name":"geri-m"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1564243781,"creation_date":1564243781,"answer_id":57233876,"question_id":47093456,"body_markdown":"For Wildly 14 you have to add Wildfly Commons and the Logmanager to the class path, hence the ```JAVA_OPTS``` looks like the following\r\n\r\n```\r\n-Djboss.modules.system.pkgs=org.jboss.byteman,org.jboss.logmanager \r\n-Djava.util.logging.manager=org.jboss.logmanager.LogManager \r\n-Xbootclasspath/p:/opt/jboss/wildfly/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.1.4.Final.jar \r\n-Xbootclasspath/p:/opt/jboss/wildfly/modules/system/layers/base/org/wildfly/common/main/wildfly-common-1.4.0.Final.jar \r\n-Dcom.sun.management.jmxremote\r\n-Djava.rmi.server.hostname=127.0.0.1 \r\n-Dcom.sun.management.jmxremote.port=10001 \r\n-Dcom.sun.management.jmxremote.local.only=false \r\n-Dcom.sun.management.jmxremote.authenticate=false \r\n-Dcom.sun.management.jmxremote.ssl=false -Xms2g -Xmx2g -Xss512k \r\n-XX:SurvivorRatio=2 -Dsun.net.inetaddr.ttl=300 -Djava.net.preferIPv4Stack=true \r\n-agentlib:jdwp=transport=dt_socket,address=8787,server=y,suspend=n\r\n```        ","title":"jboss could not load logmanager","body":"<p>For Wildly 14 you have to add Wildfly Commons and the Logmanager to the class path, hence the <code>JAVA_OPTS</code> looks like the following</p>\n\n<pre><code>-Djboss.modules.system.pkgs=org.jboss.byteman,org.jboss.logmanager \n-Djava.util.logging.manager=org.jboss.logmanager.LogManager \n-Xbootclasspath/p:/opt/jboss/wildfly/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.1.4.Final.jar \n-Xbootclasspath/p:/opt/jboss/wildfly/modules/system/layers/base/org/wildfly/common/main/wildfly-common-1.4.0.Final.jar \n-Dcom.sun.management.jmxremote\n-Djava.rmi.server.hostname=127.0.0.1 \n-Dcom.sun.management.jmxremote.port=10001 \n-Dcom.sun.management.jmxremote.local.only=false \n-Dcom.sun.management.jmxremote.authenticate=false \n-Dcom.sun.management.jmxremote.ssl=false -Xms2g -Xmx2g -Xss512k \n-XX:SurvivorRatio=2 -Dsun.net.inetaddr.ttl=300 -Djava.net.preferIPv4Stack=true \n-agentlib:jdwp=transport=dt_socket,address=8787,server=y,suspend=n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4684234,"reputation":2137,"user_id":3792095,"display_name":"simo.3792"},"score":0,"creation_date":1630293398,"post_id":68958069,"comment_id":121908038,"body_markdown":"Please don&#39;t add &quot;thank you&quot; as an answer. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation), you will be able to [vote up questions and answers](https://stackoverflow.com/help/privileges/vote-up) that you found helpful.","body":"Please don&#39;t add &quot;thank you&quot; as an answer. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a>, you will be able to <a href=\"https://stackoverflow.com/help/privileges/vote-up\">vote up questions and answers</a> that you found helpful."}],"tags":[],"owner":{"account_id":12280191,"reputation":164,"user_id":13554176,"display_name":"psadi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630097284,"creation_date":1630089767,"answer_id":68958069,"question_id":47093456,"body_markdown":"Thank you for this it got me to a point where I got my application to startup properly\r\n\r\nmy config:\r\n\r\n```\r\nJAVA_OPTS=&quot;$JAVA_OPTS -Djboss.modules.system.pkgs=org.jboss.byteman,org.jboss.logmanager -Djava.util.logging.manager=org.jboss.logmanager.LogManager -Dorg.jboss.logging.Logger.pluginClass=org.jboss.logging.logmanager.LoggerPluginImpl&quot;\r\nJAVA_OPTS=&quot;$JAVA_OPTS -Xbootclasspath/p:$JBOSS_HOME/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.0.3.Final-redhat-1.jar&quot;\r\n```","title":"jboss could not load logmanager","body":"<p>Thank you for this it got me to a point where I got my application to startup properly</p>\n<p>my config:</p>\n<pre><code>JAVA_OPTS=&quot;$JAVA_OPTS -Djboss.modules.system.pkgs=org.jboss.byteman,org.jboss.logmanager -Djava.util.logging.manager=org.jboss.logmanager.LogManager -Dorg.jboss.logging.Logger.pluginClass=org.jboss.logging.logmanager.LoggerPluginImpl&quot;\nJAVA_OPTS=&quot;$JAVA_OPTS -Xbootclasspath/p:$JBOSS_HOME/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.0.3.Final-redhat-1.jar&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27664339,"reputation":1,"user_id":21116479,"display_name":"Nazneen Inamdar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675154357,"creation_date":1675154357,"answer_id":75294537,"question_id":47093456,"body_markdown":"This error generally occurs when your wildfly server user does not have enough permissions to create the logManager file. You just need to give full access permission to your wildfly directory user. This will resolve your issue.","title":"jboss could not load logmanager","body":"<p>This error generally occurs when your wildfly server user does not have enough permissions to create the logManager file. You just need to give full access permission to your wildfly directory user. This will resolve your issue.</p>\n"},{"tags":[],"owner":{"account_id":28886536,"reputation":1,"user_id":22124757,"display_name":"john kash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687868387,"creation_date":1687612042,"answer_id":76546206,"question_id":47093456,"body_markdown":"**for jboss eap7.2**, add these in the `standalone.conf.bat`. \r\nThis should expose your jmx metrics at http://127.0.0.1:9184/metric.\r\n\r\n```\r\nset &quot;JAVA_OPTS=%JAVA_OPTS% -Dcom.sun.jersey.server.impl.cdi.lookupExtensionInBeanManager=true&quot;\r\nrem # Use jmx_prometheus_javaagents-0\r\nset &quot;JAVA_OPTS=%JAVA_OPTS% -javaagent:path_to_your_jmx_exporter\\jmx_prometheus_javaagent-0.18.0.jar=0.0.0.0:9184:path_to_your_jmx_configuration\\config.yaml&quot;\r\nset &quot;JAVA_OPTS=%JAVA_OPTS% -Djava.util.logging.manager=org.jboss.logmanager.LogManager&quot;\r\nset &quot;JAVA_OPTS=%JAVA_OPTS% -Xbootclasspath/p:%JBOSS_HOME%\\modules\\system\\layers\\base\\org\\wildfly\\common\\main\\wildfly-common-1.4.0.Final-redhat-1.jar&quot;\r\nset &quot;JAVA_OPTS=%JAVA_OPTS% -Djboss.modules.system.pkgs=org.jboss.byteman,org.jboss.logmanager&quot;\r\nset &quot;JAVA_OPTS=%JAVA_OPTS% -Xbootclasspath/p:%JBOSS_HOME%\\modules\\system\\layers\\base\\org\\jboss\\logmanager\\main\\jboss-logmanager-2.1.5.Final-redhat-00001.jar&quot;\r\n```","title":"jboss could not load logmanager","body":"<p><strong>for jboss eap7.2</strong>, add these in the <code>standalone.conf.bat</code>.\nThis should expose your jmx metrics at <a href=\"http://127.0.0.1:9184/metric\" rel=\"nofollow noreferrer\">http://127.0.0.1:9184/metric</a>.</p>\n<pre><code>set &quot;JAVA_OPTS=%JAVA_OPTS% -Dcom.sun.jersey.server.impl.cdi.lookupExtensionInBeanManager=true&quot;\nrem # Use jmx_prometheus_javaagents-0\nset &quot;JAVA_OPTS=%JAVA_OPTS% -javaagent:path_to_your_jmx_exporter\\jmx_prometheus_javaagent-0.18.0.jar=0.0.0.0:9184:path_to_your_jmx_configuration\\config.yaml&quot;\nset &quot;JAVA_OPTS=%JAVA_OPTS% -Djava.util.logging.manager=org.jboss.logmanager.LogManager&quot;\nset &quot;JAVA_OPTS=%JAVA_OPTS% -Xbootclasspath/p:%JBOSS_HOME%\\modules\\system\\layers\\base\\org\\wildfly\\common\\main\\wildfly-common-1.4.0.Final-redhat-1.jar&quot;\nset &quot;JAVA_OPTS=%JAVA_OPTS% -Djboss.modules.system.pkgs=org.jboss.byteman,org.jboss.logmanager&quot;\nset &quot;JAVA_OPTS=%JAVA_OPTS% -Xbootclasspath/p:%JBOSS_HOME%\\modules\\system\\layers\\base\\org\\jboss\\logmanager\\main\\jboss-logmanager-2.1.5.Final-redhat-00001.jar&quot;\n</code></pre>\n"}],"owner":{"account_id":12162595,"reputation":31,"user_id":8879730,"display_name":"Valentin Skwirblies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17912,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1687868387,"creation_date":1509704740,"question_id":47093456,"body_markdown":"I&#39;m trying to enable JMX on a JBoss AS 7.1.1 Final &quot;Brontes&quot;.\r\nSofar I edited the startup.conf in jboss/bin to hold these following lines:\r\n\r\n    # Enable JMX Remote\r\n    JAVA_OPTS=&quot;$JAVA_OPTS -Dcom.sun.management.jmxremote.port=9999&quot;\r\n    JAVA_OPTS=&quot;$JAVA_OPTS -Dcom.sun.management.jmxremote.authenticate=false&quot;\r\n    JAVA_OPTS=&quot;$JAVA_OPTS -Dcom.sun.management.jmxremote.ssl=false&quot;\r\n\r\nthen on starting the jboss I got following error message:\r\n\r\n    &gt; WARNING: Failed to load the specified log manager class\r\n    &gt; org.jboss.logmanager.LogManager Exception in thread &quot;main&quot;\r\n    &gt; java.lang.NoClassDefFoundError: org/jboss/logmanager/Level\r\n    &gt;         at java.lang.Class.forName0(Native Method)\r\n    &gt;         at java.lang.Class.forName(Class.java:278)\r\n    &gt;         at org.jboss.modules.Module.run(Module.java:247)\r\n    &gt;         at org.jboss.modules.Main.main(Main.java:291) Caused by: java.lang.ClassNotFoundException: org.jboss.logmanager.Level\r\n    &gt;         at java.net.URLClassLoader$1.run(URLClassLoader.java:359)\r\n    &gt;         at java.net.URLClassLoader$1.run(URLClassLoader.java:348)\r\n    &gt;         at java.security.AccessController.doPrivileged(Native Method)\r\n    &gt;         at java.net.URLClassLoader.findClass(URLClassLoader.java:347)\r\n    &gt;         at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n    &gt;         at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:312)\r\n    &gt;         at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n    &gt;         at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:395)\r\n    &gt;         at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:120)\r\n    &gt;         ... 4 more\r\n\r\nThen I added following lines to the standalone.conf \r\n\r\n    JBOSS_MODULES_SYSTEM_PKGS=&quot;org.jboss.logmanager&quot;\r\nand\r\n\r\n    JAVA_OPTS=&quot;$JAVA_OPTS -Djava.util.logging.manager=org.jboss.logmanager.LogManager&quot;\r\n        JAVA_OPTS=&quot;$JAVA_OPTS -Xbootclasspath/p:$JBOSS_HOME/modules/org/jboss/logmanager/main/jboss-logmanager-1.2.2.GA.jar&quot;\r\n\r\nbut still I&#39;m getting the error\r\n\r\n    Could not load Logmanager &quot;org.jboss.logmanager.LogManager&quot;\r\n    java.lang.ClassNotFoundException: org.jboss.logmanager.LogManager\r\n            at java.net.URLClassLoader$1.run(URLClassLoader.java:359)\r\n            at java.net.URLClassLoader$1.run(URLClassLoader.java:348)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at java.net.URLClassLoader.findClass(URLClassLoader.java:347)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:312)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n            at java.util.logging.LogManager$1.run(LogManager.java:191)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at java.util.logging.LogManager.&lt;clinit&gt;(LogManager.java:181)\r\n            at java.util.logging.Logger.demandLogger(Logger.java:339)\r\n            at java.util.logging.Logger.getLogger(Logger.java:393)\r\n            at com.sun.jmx.remote.util.ClassLogger.&lt;init&gt;(ClassLogger.java:55)\r\n            at sun.management.jmxremote.ConnectorBootstrap.&lt;clinit&gt;(ConnectorBootstrap.java:846)\r\n            at sun.management.Agent.startAgent(Agent.java:260)\r\n            at sun.management.Agent.startAgent(Agent.java:450)\r\n    WARNING: Failed to load the specified log manager class org.jboss.logmanager.LogManager\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n            at org.jboss.as.server.Main.main(Main.java:73)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:606)\r\n            at org.jboss.modules.Module.run(Module.java:260)\r\n            at org.jboss.modules.Main.main(Main.java:291)\r\n    Caused by: java.lang.IllegalStateException: The LogManager was not properly installed (you must set the &quot;java.util.logging.manager&quot; system property to &quot;org.jboss.logmanager.LogManager&quot;)\r\n            at org.jboss.logmanager.Logger.getLogger(Logger.java:60)\r\n            at org.jboss.logmanager.log4j.BridgeRepositorySelector.&lt;clinit&gt;(BridgeRepositorySelector.java:42)\r\n            ... 7 more\r\n\r\nNow I&#39;m out of ideas what to do next. I haven&#39;t found anything on google either. Can someone help me please?\r\n","title":"jboss could not load logmanager","body":"<p>I'm trying to enable JMX on a JBoss AS 7.1.1 Final \"Brontes\".\nSofar I edited the startup.conf in jboss/bin to hold these following lines:</p>\n\n<pre><code># Enable JMX Remote\nJAVA_OPTS=\"$JAVA_OPTS -Dcom.sun.management.jmxremote.port=9999\"\nJAVA_OPTS=\"$JAVA_OPTS -Dcom.sun.management.jmxremote.authenticate=false\"\nJAVA_OPTS=\"$JAVA_OPTS -Dcom.sun.management.jmxremote.ssl=false\"\n</code></pre>\n\n<p>then on starting the jboss I got following error message:</p>\n\n<pre><code>&gt; WARNING: Failed to load the specified log manager class\n&gt; org.jboss.logmanager.LogManager Exception in thread \"main\"\n&gt; java.lang.NoClassDefFoundError: org/jboss/logmanager/Level\n&gt;         at java.lang.Class.forName0(Native Method)\n&gt;         at java.lang.Class.forName(Class.java:278)\n&gt;         at org.jboss.modules.Module.run(Module.java:247)\n&gt;         at org.jboss.modules.Main.main(Main.java:291) Caused by: java.lang.ClassNotFoundException: org.jboss.logmanager.Level\n&gt;         at java.net.URLClassLoader$1.run(URLClassLoader.java:359)\n&gt;         at java.net.URLClassLoader$1.run(URLClassLoader.java:348)\n&gt;         at java.security.AccessController.doPrivileged(Native Method)\n&gt;         at java.net.URLClassLoader.findClass(URLClassLoader.java:347)\n&gt;         at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n&gt;         at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:312)\n&gt;         at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n&gt;         at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:395)\n&gt;         at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:120)\n&gt;         ... 4 more\n</code></pre>\n\n<p>Then I added following lines to the standalone.conf </p>\n\n<pre><code>JBOSS_MODULES_SYSTEM_PKGS=\"org.jboss.logmanager\"\n</code></pre>\n\n<p>and</p>\n\n<pre><code>JAVA_OPTS=\"$JAVA_OPTS -Djava.util.logging.manager=org.jboss.logmanager.LogManager\"\n    JAVA_OPTS=\"$JAVA_OPTS -Xbootclasspath/p:$JBOSS_HOME/modules/org/jboss/logmanager/main/jboss-logmanager-1.2.2.GA.jar\"\n</code></pre>\n\n<p>but still I'm getting the error</p>\n\n<pre><code>Could not load Logmanager \"org.jboss.logmanager.LogManager\"\njava.lang.ClassNotFoundException: org.jboss.logmanager.LogManager\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:359)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:348)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:347)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:312)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n        at java.util.logging.LogManager$1.run(LogManager.java:191)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.util.logging.LogManager.&lt;clinit&gt;(LogManager.java:181)\n        at java.util.logging.Logger.demandLogger(Logger.java:339)\n        at java.util.logging.Logger.getLogger(Logger.java:393)\n        at com.sun.jmx.remote.util.ClassLogger.&lt;init&gt;(ClassLogger.java:55)\n        at sun.management.jmxremote.ConnectorBootstrap.&lt;clinit&gt;(ConnectorBootstrap.java:846)\n        at sun.management.Agent.startAgent(Agent.java:260)\n        at sun.management.Agent.startAgent(Agent.java:450)\nWARNING: Failed to load the specified log manager class org.jboss.logmanager.LogManager\nException in thread \"main\" java.lang.ExceptionInInitializerError\n        at org.jboss.as.server.Main.main(Main.java:73)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.jboss.modules.Module.run(Module.java:260)\n        at org.jboss.modules.Main.main(Main.java:291)\nCaused by: java.lang.IllegalStateException: The LogManager was not properly installed (you must set the \"java.util.logging.manager\" system property to \"org.jboss.logmanager.LogManager\")\n        at org.jboss.logmanager.Logger.getLogger(Logger.java:60)\n        at org.jboss.logmanager.log4j.BridgeRepositorySelector.&lt;clinit&gt;(BridgeRepositorySelector.java:42)\n        ... 7 more\n</code></pre>\n\n<p>Now I'm out of ideas what to do next. I haven't found anything on google either. Can someone help me please?</p>\n"},{"tags":["java","multithreading","casting"],"comments":[{"owner":{"account_id":212518,"reputation":43399,"user_id":465378,"accept_rate":85,"display_name":"Alexis King"},"score":3,"creation_date":1360735772,"post_id":14847480,"comment_id":20808380,"body_markdown":"You&#39;re creating an array of `ArrayList` objects here. Are you sure that&#39;s really what you want?","body":"You&#39;re creating an array of <code>ArrayList</code> objects here. Are you sure that&#39;s really what you want?"},{"owner":{"account_id":434144,"reputation":19198,"user_id":819916,"accept_rate":81,"display_name":"AKIWEB"},"score":0,"creation_date":1360736111,"post_id":14847480,"comment_id":20808478,"body_markdown":"@Jake, yeah I needed that. See my updated question with the updated code. Is there anything wrong with that? Or any better approach?","body":"@Jake, yeah I needed that. See my updated question with the updated code. Is there anything wrong with that? Or any better approach?"},{"owner":{"account_id":42792,"reputation":3995,"user_id":124797,"accept_rate":89,"display_name":"Jagannath"},"score":0,"creation_date":1360736386,"post_id":14847480,"comment_id":20808555,"body_markdown":"Not familiar with Java but, don&#39;t you need to specify the type in the ArrayList there ? methods = new ArrayList&lt;Method&gt;[tableLists.size()];","body":"Not familiar with Java but, don&#39;t you need to specify the type in the ArrayList there ? methods = new ArrayList&lt;Method&gt;[tableLists.size()];"}],"answers":[{"comments":[{"owner":{"account_id":434144,"reputation":19198,"user_id":819916,"accept_rate":81,"display_name":"AKIWEB"},"score":0,"creation_date":1360736593,"post_id":14847622,"comment_id":20808626,"body_markdown":"Yeah I can do that but for zero index there will be different methods and for 1 index, there will be different methods. So that is the reason I am doing it like this so that I can differentiate what to call basis on the index.","body":"Yeah I can do that but for zero index there will be different methods and for 1 index, there will be different methods. So that is the reason I am doing it like this so that I can differentiate what to call basis on the index."},{"owner":{"account_id":434144,"reputation":19198,"user_id":819916,"accept_rate":81,"display_name":"AKIWEB"},"score":0,"creation_date":1360736792,"post_id":14847622,"comment_id":20808701,"body_markdown":"If I am using your first option, then I cannot do like this `methods[j] ` to store the corresponding methods on a particular index, see my updated code second last line. So suppose if I am going with your first option then how can I make this thing to work? And with your second option that I already know and I wanted to avoid.","body":"If I am using your first option, then I cannot do like this <code>methods[j] </code> to store the corresponding methods on a particular index, see my updated code second last line. So suppose if I am going with your first option then how can I make this thing to work? And with your second option that I already know and I wanted to avoid."},{"owner":{"account_id":212518,"reputation":43399,"user_id":465378,"accept_rate":85,"display_name":"Alexis King"},"score":0,"creation_date":1360736896,"post_id":14847622,"comment_id":20808740,"body_markdown":"@Nevzz03 `List` provides random access for both getting and setting. Instead of `method[j] = x`, you would use `method.add(j, x)`.","body":"@Nevzz03 <code>List</code> provides random access for both getting and setting. Instead of <code>method[j] = x</code>, you would use <code>method.add(j, x)</code>."}],"tags":[],"owner":{"account_id":212518,"reputation":43399,"user_id":465378,"accept_rate":85,"display_name":"Alexis King"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1360736321,"creation_date":1360736321,"answer_id":14847622,"question_id":14847480,"body_markdown":"Since the methods themselves don&#39;t seem to be separated in any particular way, why not just store them all in the same `ArrayList`, bypassing the problem entirely?\r\n\r\n    ArrayList&lt;Method&gt; methods;\r\n    \r\n    /* ... */\r\n    \r\n    methods.addAll(getRequiredMethods(map.get(&quot;SUFFIX&quot;)));\r\n\r\nArrays and generics tend not to play very nice with each other. If you *really* need the separation, you have to primary options:\r\n\r\n1. Use an `ArrayList&lt;ArrayList&lt;Method&gt;&gt;` instead of an array. This will let you handle everything nicely without mucking with plain arrays. You can then efficiently initialize the `methods` object with a size just like with a regular array.\r\n\r\n        methods = new ArrayList&lt;ArrayList&lt;Method&gt;&gt;(tableLists.size());\r\n2. If you *really* need to use an array, you&#39;ll probably have to suppress the warning using the `@SuppressWarnings(&quot;unchecked&quot;)` annotation. This is ugly and annoying, so I&#39;d avoid it if you can.","title":"Type safety: The expression of type ArrayList[] needs unchecked conversion","body":"<p>Since the methods themselves don't seem to be separated in any particular way, why not just store them all in the same <code>ArrayList</code>, bypassing the problem entirely?</p>\n\n<pre><code>ArrayList&lt;Method&gt; methods;\n\n/* ... */\n\nmethods.addAll(getRequiredMethods(map.get(\"SUFFIX\")));\n</code></pre>\n\n<p>Arrays and generics tend not to play very nice with each other. If you <em>really</em> need the separation, you have to primary options:</p>\n\n<ol>\n<li><p>Use an <code>ArrayList&lt;ArrayList&lt;Method&gt;&gt;</code> instead of an array. This will let you handle everything nicely without mucking with plain arrays. You can then efficiently initialize the <code>methods</code> object with a size just like with a regular array.</p>\n\n<pre><code>methods = new ArrayList&lt;ArrayList&lt;Method&gt;&gt;(tableLists.size());\n</code></pre></li>\n<li>If you <em>really</em> need to use an array, you'll probably have to suppress the warning using the <code>@SuppressWarnings(\"unchecked\")</code> annotation. This is ugly and annoying, so I'd avoid it if you can.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":28893620,"reputation":1,"user_id":22130163,"display_name":"Johnny Blakeney"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687868327,"creation_date":1687728605,"answer_id":76552484,"question_id":14847480,"body_markdown":"Try the following way to create an array list,\r\n\r\n    private ArrayList&lt;Method&gt; methods[] = new ArrayList&lt;&gt;();","title":"Type safety: The expression of type ArrayList[] needs unchecked conversion","body":"<p>Try the following way to create an array list,</p>\n<pre><code>private ArrayList&lt;Method&gt; methods[] = new ArrayList&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":434144,"reputation":19198,"user_id":819916,"accept_rate":81,"display_name":"AKIWEB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":14847622,"answer_count":2,"score":1,"last_activity_date":1687868327,"creation_date":1360735718,"question_id":14847480,"body_markdown":"I am working on a project in which I am getting TypeSafety issues on initializing one method with a particular size. In my run method, I have yellow line on the `new ArrayList[tableLists.size()]` and complaining about-\r\n\r\n`Type safety: The expression of type ArrayList[] needs unchecked conversion to conform to ArrayList&lt;Method&gt;[]`\r\n\r\nBelow is the code.\r\n\r\n    private ArrayList&lt;Method&gt; methods[] = null;\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \r\n    \t\tmethods = new ArrayList[tableLists.size()];\r\n    \r\n    \r\n    \t}\r\n\r\nHow can I fix this `TypeSafety` issue here?\r\n\r\n\r\n**Updated:-**\r\n\r\n\t\tint j = 0;\r\n\t\tdbConnection = new Connection[tableLists.size()];\r\n\t\tcallableStatement = new CallableStatement[tableLists.size()];\r\n\t\tmethods = new ArrayList[tableLists.size()];\r\n\r\n\t\t//loop around the map values and make the connection list\r\n\t\tfor (Map&lt;String, String&gt; map : tableLists.values()) {\r\n\r\n\t\t\tdbConnection[j] = getDBConnection(map.get(&quot;URL&quot;), map.get(&quot;USER&quot;), map.get(&quot;PASSWORD&quot;),\tmap.get(&quot;DRIVER&quot;));\r\n\t\t\tcallableStatement[j] = dbConnection[j].prepareCall(map.get(&quot;SQL&quot;));\r\n\r\n\t\t\tmethods[j] = getRequiredMethods(map.get(&quot;SUFFIX&quot;));\r\n\t\t\tj++;\r\n\t\t}","title":"Type safety: The expression of type ArrayList[] needs unchecked conversion","body":"<p>I am working on a project in which I am getting TypeSafety issues on initializing one method with a particular size. In my run method, I have yellow line on the <code>new ArrayList[tableLists.size()]</code> and complaining about-</p>\n\n<p><code>Type safety: The expression of type ArrayList[] needs unchecked conversion to conform to ArrayList&lt;Method&gt;[]</code></p>\n\n<p>Below is the code.</p>\n\n<pre><code>private ArrayList&lt;Method&gt; methods[] = null;\n\n\n    @Override\n    public void run() {\n\n        methods = new ArrayList[tableLists.size()];\n\n\n    }\n</code></pre>\n\n<p>How can I fix this <code>TypeSafety</code> issue here?</p>\n\n<p><strong>Updated:-</strong></p>\n\n<pre><code>    int j = 0;\n    dbConnection = new Connection[tableLists.size()];\n    callableStatement = new CallableStatement[tableLists.size()];\n    methods = new ArrayList[tableLists.size()];\n\n    //loop around the map values and make the connection list\n    for (Map&lt;String, String&gt; map : tableLists.values()) {\n\n        dbConnection[j] = getDBConnection(map.get(\"URL\"), map.get(\"USER\"), map.get(\"PASSWORD\"), map.get(\"DRIVER\"));\n        callableStatement[j] = dbConnection[j].prepareCall(map.get(\"SQL\"));\n\n        methods[j] = getRequiredMethods(map.get(\"SUFFIX\"));\n        j++;\n    }\n</code></pre>\n"},{"tags":["java","cdi"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1687868582,"post_id":76564482,"comment_id":134994259,"body_markdown":"Consider injecting a `Map&lt;String, A&gt;` into `TempVacA` which contains all available implementations, with the key related to `value`.  Then use the `value` to determine which implementation should be used.","body":"Consider injecting a <code>Map&lt;String, A&gt;</code> into <code>TempVacA</code> which contains all available implementations, with the key related to <code>value</code>.  Then use the <code>value</code> to determine which implementation should be used."}],"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687868167,"creation_date":1687866034,"question_id":76564482,"body_markdown":"I had the following interface\r\n```\r\npublic interface A {\r\n    InputStream getPdf(String value);\r\n}\r\n```\r\nwith several implementations, each of them marked by a qualifier. For example:\r\n```\r\n@Dependent\r\n@Vac\r\npublic class VacA implements A {\r\n   @Override public getPdf(String value) {...}\r\n}\r\n```\r\n\r\nNow, I had to add an alternative implementation for each of the qualified beans. Easy enough:\r\n```\r\n@Dependent\r\n@Vac\r\n@Alternative\r\npublic class AltVacA implements A {\r\n   @Override public InputStream getPdf(String value) {...}\r\n}\r\n```\r\nand of course I reflected that at *beans.xml*.\r\n\r\nBut later I was told that the logic used would be decided at runtime. Instead of a @Provider, I opted for creating a third implementation that works as a facade&lt;sup&gt;1&lt;/sup&gt;:\r\n```\r\n@Dependent\r\n@Vac\r\n@Alternative\r\npublic class TempVacA implements A {\r\n   @Override public InputStream getPdf(String value) {\r\n       if (useVacA()) {\r\n          return this.getPdfVacA(value);\r\n       }\r\n       return this.getPdfAltVacA(value);\r\n   }\r\n   ...\r\n}\r\n```\r\nThen it comes the issue: in *getPdfVacA* I can programmatically get a *VacA* instance with the following code:\r\n\r\n```\r\nInstance&lt;VacA&gt; instance = CDI.current().select(VacA.class, new AnnotationLiteral&lt;Vac&gt;() {});\r\nVacA provider = instance.get();\r\nreturn provider.getPdf(value);\r\n```\r\nbut if I try to do the same with *AltVacA*,\r\n```\r\nInstance&lt;VacA&gt; instance = CDI.current().select(AltVacA.class, new AnnotationLiteral&lt;Vac&gt;() {});\r\nAltVacAprovider = instance.get();\r\nreturn provider.getPdf(value);\r\n```\r\nI get a message that no matching class with the proper qualifiers has been found.\r\n\r\nI did find that Alternatives must be activated in order to be retrieved, and sure enough, I did remove the *@Alternative* from *AltVacA* and the code does work.\r\n\r\nBut I do not like that now I have two &quot;default&quot; implementations of *A* with the *@Vac* qualifier; if I were ever to delete *TempVacA* I would have issues due to it and I would have to work one of those as alternative.\r\n\r\nIt would be nice to find a way to programmatically retrieve alternatives, but I cannot find any way to do this. Otherwise, there is any be a better approach for this task than the one I have used?\r\n\r\nI am using wildfly 14 on JDK 8.\r\n\r\n&lt;sup&gt;1&lt;/sup&gt;Maybe a little weird, but as long as I know this design decission does not affect the issue stated in the question.\r\n\r\n","title":"Obtaining CDI Alternatives programatically","body":"<p>I had the following interface</p>\n<pre><code>public interface A {\n    InputStream getPdf(String value);\n}\n</code></pre>\n<p>with several implementations, each of them marked by a qualifier. For example:</p>\n<pre><code>@Dependent\n@Vac\npublic class VacA implements A {\n   @Override public getPdf(String value) {...}\n}\n</code></pre>\n<p>Now, I had to add an alternative implementation for each of the qualified beans. Easy enough:</p>\n<pre><code>@Dependent\n@Vac\n@Alternative\npublic class AltVacA implements A {\n   @Override public InputStream getPdf(String value) {...}\n}\n</code></pre>\n<p>and of course I reflected that at <em>beans.xml</em>.</p>\n<p>But later I was told that the logic used would be decided at runtime. Instead of a @Provider, I opted for creating a third implementation that works as a facade<sup>1</sup>:</p>\n<pre><code>@Dependent\n@Vac\n@Alternative\npublic class TempVacA implements A {\n   @Override public InputStream getPdf(String value) {\n       if (useVacA()) {\n          return this.getPdfVacA(value);\n       }\n       return this.getPdfAltVacA(value);\n   }\n   ...\n}\n</code></pre>\n<p>Then it comes the issue: in <em>getPdfVacA</em> I can programmatically get a <em>VacA</em> instance with the following code:</p>\n<pre><code>Instance&lt;VacA&gt; instance = CDI.current().select(VacA.class, new AnnotationLiteral&lt;Vac&gt;() {});\nVacA provider = instance.get();\nreturn provider.getPdf(value);\n</code></pre>\n<p>but if I try to do the same with <em>AltVacA</em>,</p>\n<pre><code>Instance&lt;VacA&gt; instance = CDI.current().select(AltVacA.class, new AnnotationLiteral&lt;Vac&gt;() {});\nAltVacAprovider = instance.get();\nreturn provider.getPdf(value);\n</code></pre>\n<p>I get a message that no matching class with the proper qualifiers has been found.</p>\n<p>I did find that Alternatives must be activated in order to be retrieved, and sure enough, I did remove the <em>@Alternative</em> from <em>AltVacA</em> and the code does work.</p>\n<p>But I do not like that now I have two &quot;default&quot; implementations of <em>A</em> with the <em>@Vac</em> qualifier; if I were ever to delete <em>TempVacA</em> I would have issues due to it and I would have to work one of those as alternative.</p>\n<p>It would be nice to find a way to programmatically retrieve alternatives, but I cannot find any way to do this. Otherwise, there is any be a better approach for this task than the one I have used?</p>\n<p>I am using wildfly 14 on JDK 8.</p>\n<p><sup>1</sup>Maybe a little weird, but as long as I know this design decission does not affect the issue stated in the question.</p>\n"},{"tags":["java","selenium-webdriver","jenkins","cucumber","testng"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687859500,"creation_date":1687859500,"answer_id":76563650,"question_id":76562033,"body_markdown":"The only way to properly preserve data from one run to another (apart from source control) is to use archived artifacts. You&#39;ll need to do this in two stages.\r\n\r\nStage 1:\r\n* run the job like it&#39;s the first time; you will have no Excel file present\r\n* at the end of the job, archive the Excel file as an artifact\r\n\r\nStage 2:\r\n* update the job to download the same artifact from the job itself; the Excel file will be present in your job now\r\n* at the end of the job, archive the now updated Excel file (you shouldn&#39;t have to make any changes to your job)","title":"How to have an excel file that gets updated for every jenkins run and use the updated excel file for next jenkins run?","body":"<p>The only way to properly preserve data from one run to another (apart from source control) is to use archived artifacts. You'll need to do this in two stages.</p>\n<p>Stage 1:</p>\n<ul>\n<li>run the job like it's the first time; you will have no Excel file present</li>\n<li>at the end of the job, archive the Excel file as an artifact</li>\n</ul>\n<p>Stage 2:</p>\n<ul>\n<li>update the job to download the same artifact from the job itself; the Excel file will be present in your job now</li>\n<li>at the end of the job, archive the now updated Excel file (you shouldn't have to make any changes to your job)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17770522,"reputation":89,"user_id":12904248,"display_name":"NoNoNo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687868057,"creation_date":1687868057,"answer_id":76564751,"question_id":76562033,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rFQCn.png\r\n\r\nI had to exclude .git folder as well to exclude my excel file. Now Jenkins clone all other files except my excel file. Thanks for the support.","title":"How to have an excel file that gets updated for every jenkins run and use the updated excel file for next jenkins run?","body":"<p><a href=\"https://i.stack.imgur.com/rFQCn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rFQCn.png\" alt=\"enter image description here\" /></a></p>\n<p>I had to exclude .git folder as well to exclude my excel file. Now Jenkins clone all other files except my excel file. Thanks for the support.</p>\n"}],"owner":{"account_id":17770522,"reputation":89,"user_id":12904248,"display_name":"NoNoNo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687868057,"creation_date":1687846053,"question_id":76562033,"body_markdown":"I have a selenium cucumber framework repo that resides in git. I have an excel file that store the data (ex. customerIds) and I will have to use that data in subsequent run. Now I have added the excel sheet in git repo. Now when I rerun the build, jenkins pulls the data which is there in the git repo but not from the previous run&#39;s excel sheet. \r\n\r\nNote:- I am deleting the workspace before the build starts. I have tried to exclude the file using the pattern \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ITbwc.png","title":"How to have an excel file that gets updated for every jenkins run and use the updated excel file for next jenkins run?","body":"<p>I have a selenium cucumber framework repo that resides in git. I have an excel file that store the data (ex. customerIds) and I will have to use that data in subsequent run. Now I have added the excel sheet in git repo. Now when I rerun the build, jenkins pulls the data which is there in the git repo but not from the previous run's excel sheet.</p>\n<p>Note:- I am deleting the workspace before the build starts. I have tried to exclude the file using the pattern\n<a href=\"https://i.stack.imgur.com/ITbwc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ITbwc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":2068268,"reputation":42279,"user_id":1843331,"accept_rate":100,"display_name":"Tim"},"score":1,"creation_date":1644318888,"post_id":71032860,"comment_id":125569362,"body_markdown":"*In Java, we only need 1 field* and a function","body":"<i>In Java, we only need 1 field</i> and a function"},{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1644319070,"post_id":71032860,"comment_id":125569428,"body_markdown":"My guess would be that the former compiles to a private field and a getter method, while the latter compiles to a public or package-private field. Perhaps the more important difference is that the backing property can be lazily initialised, though.","body":"My guess would be that the former compiles to a private field and a getter method, while the latter compiles to a public or package-private field. Perhaps the more important difference is that the backing property can be lazily initialised, though."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1644319297,"post_id":71032860,"comment_id":125569511,"body_markdown":"@Tim – If you want to nitpick, in Java we need a field and a *method*. Although for my understanding, the sample that the thread owner is wondering about defines a function (or method), too – in addition to the two fields (or properties …)","body":"@Tim – If you want to nitpick, in Java we need a field and a <i>method</i>. Although for my understanding, the sample that the thread owner is wondering about defines a function (or method), too – in addition to the two fields (or properties …)"},{"owner":{"account_id":12411897,"reputation":8867,"user_id":12191177,"display_name":"IR42"},"score":4,"creation_date":1644319689,"post_id":71032860,"comment_id":125569663,"body_markdown":"backing property is used for cases when you need some mutable object (e.g. `MutableList`) inside the class, but you expose some narrower type or immutable interface (`List`) outside","body":"backing property is used for cases when you need some mutable object (e.g. <code>MutableList</code>) inside the class, but you expose some narrower type or immutable interface (<code>List</code>) outside"},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":1,"creation_date":1644320748,"post_id":71032860,"comment_id":125570082,"body_markdown":"Adding to what @IR42 said. Note that in the example from the official docs (https://kotlinlang.org/docs/properties.html#backing-properties) both properties have different types. Kotlin doesn&#39;t provide a way to expose narrower type publicly and wider type internally and this is one of reasons to use a backing prop. Another is property delegates.","body":"Adding to what @IR42 said. Note that in the example from the official docs (<a href=\"https://kotlinlang.org/docs/properties.html#backing-properties\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/properties.html#backing-properties</a>) both properties have different types. Kotlin doesn&#39;t provide a way to expose narrower type publicly and wider type internally and this is one of reasons to use a backing prop. Another is property delegates."}],"answers":[{"comments":[{"owner":{"account_id":1054291,"reputation":141,"user_id":1057348,"accept_rate":0,"display_name":"diskostu"},"score":1,"creation_date":1644332364,"post_id":71033952,"comment_id":125575104,"body_markdown":"Thanks for the detailed explanations. Made some things clearer, especially the motivation of the Kotlin devs for using the concept of a property.\n\nAnd yes, I understand that there is a big difference in the terms *backing field* and *backing property*. Before posting my question, the concept of the *backing field* was quite clear to me, but not the concept of the *backing property*.","body":"Thanks for the detailed explanations. Made some things clearer, especially the motivation of the Kotlin devs for using the concept of a property.  And yes, I understand that there is a big difference in the terms <i>backing field</i> and <i>backing property</i>. Before posting my question, the concept of the <i>backing field</i> was quite clear to me, but not the concept of the <i>backing property</i>."},{"owner":{"account_id":13722742,"reputation":16988,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1644344433,"post_id":71033952,"comment_id":125580527,"body_markdown":"I don&#39;t think ‘backing property’ is a commonly-used term in Kotlin — probably because they&#39;re rarely needed — and so people might use it in slightly different ways. (I didn&#39;t fully realise you were drawing that specific distinction in the question!)","body":"I don&#39;t think ‘backing property’ is a commonly-used term in Kotlin — probably because they&#39;re rarely needed — and so people might use it in slightly different ways. (I didn&#39;t fully realise you were drawing that specific distinction in the question!)"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1644346130,"post_id":71033952,"comment_id":125581206,"body_markdown":"@gidds &quot;backing property&quot; is how the docs refer to it: https://kotlinlang.org/docs/properties.html#backing-properties","body":"@gidds &quot;backing property&quot; is how the docs refer to it: <a href=\"https://kotlinlang.org/docs/properties.html#backing-properties\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/properties.html#backing-properties</a>"},{"owner":{"account_id":13722742,"reputation":16988,"user_id":10134209,"display_name":"gidds"},"score":1,"creation_date":1644346651,"post_id":71033952,"comment_id":125581401,"body_markdown":"@cactustictacs Ah, well spotted! I didn&#39;t realise there was an official definition. (Though I still suspect most developers aren&#39;t aware of it…) I&#39;ll update my answer with that, thanks.","body":"@cactustictacs Ah, well spotted! I didn&#39;t realise there was an official definition. (Though I still suspect most developers aren&#39;t aware of it…) I&#39;ll update my answer with that, thanks."}],"tags":[],"owner":{"account_id":13722742,"reputation":16988,"user_id":10134209,"display_name":"gidds"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1644347618,"creation_date":1644323433,"answer_id":71033952,"question_id":71032860,"body_markdown":"_(This answer starts with some general info about Kotlin properties, as there seems to be general confusion about them.)_\r\n\r\nThe main conceptual difference between Kotlin and Java is that **in Java, the fundamental thing is the field, while in Kotlin the fundamental thing is the accessor method(s)**.\r\n\r\nSo in Java, you define a field. You can then define explicit getter and/or setter methods for it, if needed. The language doesn&#39;t have a concept of ‘property’, nor does it define any explicit connection between the accessors and the field; but there&#39;s a long-standing convention in the accessor method names (deriving originally from [JavaBeans](https://en.wikipedia.org/wiki/JavaBeans)) that almost everyone follows.\r\n\r\nThis is clear, but long-winded. And because it&#39;s only a convention, the language doesn&#39;t force you to match fields with accessors: you can have accessors with different types, setters without getters and vice versa, or even accessors with no field. (Some of those things are desirable, but others are more likely to cause bugs and confusion!)\r\n\r\nKotlin, however, takes the view that the accessors are the important thing. (This is an example of the general principle that you should program to the interface, not caring about how it may be implemented.) In effect, a [property](https://kotlinlang.org/docs/properties.html) _is_ its accessor(s). As long as you have a getter method, then you can get the property&#39;s value; and as long as you have a setter method, then you can set it too.\r\n\r\nBecause getters and setters are usually trivial, Kotlin defines them implicitly unless you tell it otherwise. So when you write:\r\n\r\n    val myProperty = 1\r\n\r\nthen Kotlin creates:\r\n* A private field called `myProperty`, with the type inferred as `Int`, and initialised to the value 1.\r\n* A getter method called `getMyProperty()`, with public scope (as that&#39;s the default), returning an `Int`.\r\n\r\nThat&#39;s just what you&#39;d do in Java, only more concise.\r\n\r\nWhat&#39;s different is that **whenever you refer to the property, you&#39;re calling the accessor method, _not_ accessing the field directly**. (That&#39;s why it&#39;s called a [backing field](https://kotlinlang.org/docs/properties.html#backing-fields) — its only purpose is for the accessor(s) to use.)\r\n\r\nOf course, the effect is identical unless you override the accessor. For example:\r\n\r\n    val myProperty = 1\r\n        get() {\r\n            LOG.info(&quot;Getting value of myProperty = $field&quot;)\r\n            return field\r\n        }\r\n\r\n(`field` is a special keyword within getters and setters, referring to their backing field.)\r\n\r\nAs before, this generates a field and a getter method; but the getter method is specified in the code and not autogenerated.\r\n\r\n(I haven&#39;t referred to mutable properties or setters, but the principle there is the same: if the property is a `var`, then you get an autogenerated or explicit setter method too. One Java possibility that Kotlin _doesn&#39;t_ support is write-only properties, where some scope can see a setter but no getter. But those are rarely used; you can always use a normal method to set them, which is probably clearer.)\r\n\r\nThere&#39;s one more case to consider. In Java, a getter method can exist on its own, without a corresponding field. (It must then get its value from some other source — maybe by performing a calculation on other fields, or getting it from another object, or even using a hard-coded value.)\r\n\r\nYou can do the same in Kotlin, by overriding the getter (and setter, if mutable) and _not_ referring to the `field`, e.g.:\r\n\r\n    val myProperty: Int\r\n        get() = someOtherObject.someOtherProperty\r\n\r\nIn this case, there would be no point in generating a field, because it would never be used! So Kotlin recognises this and generates _only_ the accessor method(s).\r\n\r\nIt&#39;s still a property, because it still has accessor method(s), and the rest of the code can&#39;t see any difference. Whether it has a backing field or not is purely an implementation detail.\r\n\r\n---\r\n\r\nThis question is asking about a ‘backing _property_’. The [official docs](https://kotlinlang.org/docs/properties.html#backing-properties) use that term for a separate, private property which ‘shadows’ an existing one, as shown in this question. (Thanks to cactustictacs for the reference.)\r\n\r\nThere are specific situations where a backing property can be useful. For example, suppose you need to refer to a specific type within the class, but expose only a supertype publicly; the private property could be of the specific type, and then the public one could be of the supertype.\r\n\r\nHowever, that&#39;s _not_ needed simply to restrict the visibility of a setter method: as the question demonstrates, that can be done explicitly (e.g. by adding `private set` to the property definition).\r\n\r\n(In my experience, backing properties are needed very rarely.)","title":"I have a hard time understanding the purpose of a &quot;backing property&quot;","body":"<p><em>(This answer starts with some general info about Kotlin properties, as there seems to be general confusion about them.)</em></p>\n<p>The main conceptual difference between Kotlin and Java is that <strong>in Java, the fundamental thing is the field, while in Kotlin the fundamental thing is the accessor method(s)</strong>.</p>\n<p>So in Java, you define a field. You can then define explicit getter and/or setter methods for it, if needed. The language doesn't have a concept of ‘property’, nor does it define any explicit connection between the accessors and the field; but there's a long-standing convention in the accessor method names (deriving originally from <a href=\"https://en.wikipedia.org/wiki/JavaBeans\" rel=\"nofollow noreferrer\">JavaBeans</a>) that almost everyone follows.</p>\n<p>This is clear, but long-winded. And because it's only a convention, the language doesn't force you to match fields with accessors: you can have accessors with different types, setters without getters and vice versa, or even accessors with no field. (Some of those things are desirable, but others are more likely to cause bugs and confusion!)</p>\n<p>Kotlin, however, takes the view that the accessors are the important thing. (This is an example of the general principle that you should program to the interface, not caring about how it may be implemented.) In effect, a <a href=\"https://kotlinlang.org/docs/properties.html\" rel=\"nofollow noreferrer\">property</a> <em>is</em> its accessor(s). As long as you have a getter method, then you can get the property's value; and as long as you have a setter method, then you can set it too.</p>\n<p>Because getters and setters are usually trivial, Kotlin defines them implicitly unless you tell it otherwise. So when you write:</p>\n<pre><code>val myProperty = 1\n</code></pre>\n<p>then Kotlin creates:</p>\n<ul>\n<li>A private field called <code>myProperty</code>, with the type inferred as <code>Int</code>, and initialised to the value 1.</li>\n<li>A getter method called <code>getMyProperty()</code>, with public scope (as that's the default), returning an <code>Int</code>.</li>\n</ul>\n<p>That's just what you'd do in Java, only more concise.</p>\n<p>What's different is that <strong>whenever you refer to the property, you're calling the accessor method, <em>not</em> accessing the field directly</strong>. (That's why it's called a <a href=\"https://kotlinlang.org/docs/properties.html#backing-fields\" rel=\"nofollow noreferrer\">backing field</a> — its only purpose is for the accessor(s) to use.)</p>\n<p>Of course, the effect is identical unless you override the accessor. For example:</p>\n<pre><code>val myProperty = 1\n    get() {\n        LOG.info(&quot;Getting value of myProperty = $field&quot;)\n        return field\n    }\n</code></pre>\n<p>(<code>field</code> is a special keyword within getters and setters, referring to their backing field.)</p>\n<p>As before, this generates a field and a getter method; but the getter method is specified in the code and not autogenerated.</p>\n<p>(I haven't referred to mutable properties or setters, but the principle there is the same: if the property is a <code>var</code>, then you get an autogenerated or explicit setter method too. One Java possibility that Kotlin <em>doesn't</em> support is write-only properties, where some scope can see a setter but no getter. But those are rarely used; you can always use a normal method to set them, which is probably clearer.)</p>\n<p>There's one more case to consider. In Java, a getter method can exist on its own, without a corresponding field. (It must then get its value from some other source — maybe by performing a calculation on other fields, or getting it from another object, or even using a hard-coded value.)</p>\n<p>You can do the same in Kotlin, by overriding the getter (and setter, if mutable) and <em>not</em> referring to the <code>field</code>, e.g.:</p>\n<pre><code>val myProperty: Int\n    get() = someOtherObject.someOtherProperty\n</code></pre>\n<p>In this case, there would be no point in generating a field, because it would never be used! So Kotlin recognises this and generates <em>only</em> the accessor method(s).</p>\n<p>It's still a property, because it still has accessor method(s), and the rest of the code can't see any difference. Whether it has a backing field or not is purely an implementation detail.</p>\n<hr />\n<p>This question is asking about a ‘backing <em>property</em>’. The <a href=\"https://kotlinlang.org/docs/properties.html#backing-properties\" rel=\"nofollow noreferrer\">official docs</a> use that term for a separate, private property which ‘shadows’ an existing one, as shown in this question. (Thanks to cactustictacs for the reference.)</p>\n<p>There are specific situations where a backing property can be useful. For example, suppose you need to refer to a specific type within the class, but expose only a supertype publicly; the private property could be of the specific type, and then the public one could be of the supertype.</p>\n<p>However, that's <em>not</em> needed simply to restrict the visibility of a setter method: as the question demonstrates, that can be done explicitly (e.g. by adding <code>private set</code> to the property definition).</p>\n<p>(In my experience, backing properties are needed very rarely.)</p>\n"},{"comments":[{"owner":{"account_id":1054291,"reputation":141,"user_id":1057348,"accept_rate":0,"display_name":"diskostu"},"score":0,"creation_date":1644332521,"post_id":71035232,"comment_id":125575161,"body_markdown":"Thanks for the many details. I now understand the use case for a backing property: returning a less specific type. That makes sense. &#128076;","body":"Thanks for the many details. I now understand the use case for a backing property: returning a less specific type. That makes sense. 👌"}],"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687867943,"creation_date":1644329020,"answer_id":71035232,"question_id":71032860,"body_markdown":"You&#39;re right, there&#39;s no reason to do this:\r\n```kotlin\r\nprivate var _word = &quot;test&quot;\r\nval word: String\r\n   get() = _word\r\n```\r\nBecause you can just do this:\r\n```kotlin\r\nvar word = &quot;test&quot;\r\n    private set\r\n```\r\n\r\nJust like in Java with a private field and a getter method, you can choose later to change getter logic without breaking external code. In Java you could choose to do something more complicated than use a single private backing field. Maybe calculate something involving multiple backing fields, etc. In Kotlin, you can come back later and change it to use other backing properties later if it gets more complicated, and change only the getter implementation.\r\n\r\n1. The most common reason I&#39;ve seen to use a backing property is so you can return a less specific type in your public property:\r\n\r\n```kotlin\r\nprivate val _myList: MutableList&lt;String&gt; = mutableListOf()\r\nval myList: List&lt;String&gt; get() = _myList\r\n```\r\nThis code helps prevent outside classes from mutating the returned list. \r\n\r\nThere is an experimental feature that will eventually be available that will likely eliminate this use case for backing properties. The feature is called *explicit backing fields*. You can declare that the backing field of a property to be a more specific type, and then within the class the more specific type is known and usable, for example:\r\n\r\n```kotlin\r\n// Only available as an experimental feature when enabling \r\n// K2 compiler as of Kotlin 1.8.20:\r\nval myList: List&lt;String&gt;\r\n    field = mutableListOf()\r\n```\r\n\r\n2. Another reason to have a backing property is simply when there isn&#39;t a one-to-one correspondence between what you&#39;re returning and how it is stored or generated. For example:\r\n\r\n```kotlin\r\nprivate val myRandom = Random(1234)\r\nval aNumber: Int get() = myRandom.nextInt(100)\r\n```\r\n\r\n 3. You might want to compute a property each time it’s accessed instead of storing it and trying to keep it in sync with what it’s dependent on. \r\n\r\n```\r\ndata class SomeClass(\r\n    var temperatureC: Double\r\n) {\r\n    val temperatureK: Double\r\n        get() = temperatureC + 273.15\r\n}\r\n\r\n","title":"I have a hard time understanding the purpose of a &quot;backing property&quot;","body":"<p>You're right, there's no reason to do this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private var _word = &quot;test&quot;\nval word: String\n   get() = _word\n</code></pre>\n<p>Because you can just do this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var word = &quot;test&quot;\n    private set\n</code></pre>\n<p>Just like in Java with a private field and a getter method, you can choose later to change getter logic without breaking external code. In Java you could choose to do something more complicated than use a single private backing field. Maybe calculate something involving multiple backing fields, etc. In Kotlin, you can come back later and change it to use other backing properties later if it gets more complicated, and change only the getter implementation.</p>\n<ol>\n<li>The most common reason I've seen to use a backing property is so you can return a less specific type in your public property:</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private val _myList: MutableList&lt;String&gt; = mutableListOf()\nval myList: List&lt;String&gt; get() = _myList\n</code></pre>\n<p>This code helps prevent outside classes from mutating the returned list.</p>\n<p>There is an experimental feature that will eventually be available that will likely eliminate this use case for backing properties. The feature is called <em>explicit backing fields</em>. You can declare that the backing field of a property to be a more specific type, and then within the class the more specific type is known and usable, for example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Only available as an experimental feature when enabling \n// K2 compiler as of Kotlin 1.8.20:\nval myList: List&lt;String&gt;\n    field = mutableListOf()\n</code></pre>\n<ol start=\"2\">\n<li>Another reason to have a backing property is simply when there isn't a one-to-one correspondence between what you're returning and how it is stored or generated. For example:</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private val myRandom = Random(1234)\nval aNumber: Int get() = myRandom.nextInt(100)\n</code></pre>\n<ol start=\"3\">\n<li>You might want to compute a property each time it’s accessed instead of storing it and trying to keep it in sync with what it’s dependent on.</li>\n</ol>\n<pre><code>data class SomeClass(\n    var temperatureC: Double\n) {\n    val temperatureK: Double\n        get() = temperatureC + 273.15\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644348701,"creation_date":1644348701,"answer_id":71039834,"question_id":71032860,"body_markdown":"One other use for backing properties is to allow you to store a `null` value internally, but expose a non-null type, and provide some fallback value (which you might not want to store, if null has a specific meaning).\r\n\r\nHere&#39;s the example from [the docs][1]:\r\n\r\n````\r\nprivate var _table: Map&lt;String, Int&gt;? = null\r\npublic val table: Map&lt;String, Int&gt;\r\n    get() {\r\n        if (_table == null) {\r\n            _table = HashMap() // Type parameters are inferred\r\n        }\r\n        return _table ?: throw AssertionError(&quot;Set to null by another thread&quot;)\r\n    }\r\n````\r\nWhat&#39;s happening here is your typical singleton ``getInstance()``-style accessor, where if the object isn&#39;t instantiated yet, you create and store it before returning it. Unlike a ``lazy`` delegate, it&#39;s internally a ``var`` meaning it can be replaced with a new ``Map``, or ``null`` in this example (with some handler code anticipating a potential concurrency issue)\r\n\r\nThe caller sees none of this though - outwardly it&#39;s just a plain ``val`` that returns a non-null ``Map``, accessed like any other property, with no need to handle a potential null. All that nullability is abstracted away, it&#39;s an internal detail.\r\n\r\nYou&#39;d have to do the same thing in Java (let&#39;s say if you wanted to use the ``@NonNull`` annotation on your getter), creating an internal variable and wrangling its state. It&#39;s just that in Kotlin, you get a basic backing field &quot;for free&quot; (if you even need one) and it&#39;s only if that isn&#39;t adequately needs-suiting that you need to start creating and poking at properties yourself\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/properties.html#backing-properties","title":"I have a hard time understanding the purpose of a &quot;backing property&quot;","body":"<p>One other use for backing properties is to allow you to store a <code>null</code> value internally, but expose a non-null type, and provide some fallback value (which you might not want to store, if null has a specific meaning).</p>\n<p>Here's the example from <a href=\"https://kotlinlang.org/docs/properties.html#backing-properties\" rel=\"nofollow noreferrer\">the docs</a>:</p>\n<pre><code>private var _table: Map&lt;String, Int&gt;? = null\npublic val table: Map&lt;String, Int&gt;\n    get() {\n        if (_table == null) {\n            _table = HashMap() // Type parameters are inferred\n        }\n        return _table ?: throw AssertionError(&quot;Set to null by another thread&quot;)\n    }\n</code></pre>\n<p>What's happening here is your typical singleton <code>getInstance()</code>-style accessor, where if the object isn't instantiated yet, you create and store it before returning it. Unlike a <code>lazy</code> delegate, it's internally a <code>var</code> meaning it can be replaced with a new <code>Map</code>, or <code>null</code> in this example (with some handler code anticipating a potential concurrency issue)</p>\n<p>The caller sees none of this though - outwardly it's just a plain <code>val</code> that returns a non-null <code>Map</code>, accessed like any other property, with no need to handle a potential null. All that nullability is abstracted away, it's an internal detail.</p>\n<p>You'd have to do the same thing in Java (let's say if you wanted to use the <code>@NonNull</code> annotation on your getter), creating an internal variable and wrangling its state. It's just that in Kotlin, you get a basic backing field &quot;for free&quot; (if you even need one) and it's only if that isn't adequately needs-suiting that you need to start creating and poking at properties yourself</p>\n"}],"owner":{"account_id":1054291,"reputation":141,"user_id":1057348,"accept_rate":0,"display_name":"diskostu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1729,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1687867943,"creation_date":1644318524,"question_id":71032860,"body_markdown":"I am learning Kotlin right now. For context, I am a Java developer for +10 years.\r\n\r\nI stumbled upon the concept of *backing properties*. As I understand it, the problem to be solved is this: I have a property in a class. I want this property to be mutable and visible only in the containing class, so I declare it as `private var`. The property should only be modified in the containing class, but it should be readable outside the class. So, the Kotlin docs propose something like this:\r\n```kotlin\r\nprivate var _word = &quot;test&quot;\r\nval word: String\r\n   get() = _word\r\n```\r\n\r\nThis works and fulfills the above requirements, but this looks a bit odd, for a Java developer. In Java, we only need 1 field (there is no such thing as a property in Java):\r\n```Java\r\nprivate String word = &quot;test&quot;;\r\n\r\npublic String getWord() {\r\n   return word;\r\n}\r\n```\r\nAFAIK, same result.\r\n\r\nToday I learned that in Kotlin, I simply can make a setter private. So what about this Kotlin code:\r\n```Kotlin\r\nvar word = &quot;test&quot;\r\n     private set\r\n```\r\nAll requirements fulfilled, much more concise code.\r\n\r\nIm I missing something? **Why do I need a backing property?**","title":"I have a hard time understanding the purpose of a &quot;backing property&quot;","body":"<p>I am learning Kotlin right now. For context, I am a Java developer for +10 years.</p>\n<p>I stumbled upon the concept of <em>backing properties</em>. As I understand it, the problem to be solved is this: I have a property in a class. I want this property to be mutable and visible only in the containing class, so I declare it as <code>private var</code>. The property should only be modified in the containing class, but it should be readable outside the class. So, the Kotlin docs propose something like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private var _word = &quot;test&quot;\nval word: String\n   get() = _word\n</code></pre>\n<p>This works and fulfills the above requirements, but this looks a bit odd, for a Java developer. In Java, we only need 1 field (there is no such thing as a property in Java):</p>\n<pre><code>private String word = &quot;test&quot;;\n\npublic String getWord() {\n   return word;\n}\n</code></pre>\n<p>AFAIK, same result.</p>\n<p>Today I learned that in Kotlin, I simply can make a setter private. So what about this Kotlin code:</p>\n<pre><code>var word = &quot;test&quot;\n     private set\n</code></pre>\n<p>All requirements fulfilled, much more concise code.</p>\n<p>Im I missing something? <strong>Why do I need a backing property?</strong></p>\n"},{"tags":["java","javafx","linechart"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1687761661,"post_id":76554029,"comment_id":134976226,"body_markdown":"Yes, I&#39;ve done that before with line charts to make [spark lines](https://en.wikipedia.org/wiki/Sparkline).  I don&#39;t recall what I did though and no longer have the code.  I think it required some code or custom CSS or both to remove axes and change styling.","body":"Yes, I&#39;ve done that before with line charts to make <a href=\"https://en.wikipedia.org/wiki/Sparkline\" rel=\"nofollow noreferrer\">spark lines</a>.  I don&#39;t recall what I did though and no longer have the code.  I think it required some code or custom CSS or both to remove axes and change styling."},{"owner":{"account_id":26015587,"reputation":31,"user_id":19723949,"display_name":"Jaka Kovše"},"score":2,"creation_date":1687780704,"post_id":76554029,"comment_id":134979923,"body_markdown":"Thank you, you&#39;ve gave me just enough info to do it. I just had to remove padding from the charts using css.","body":"Thank you, you&#39;ve gave me just enough info to do it. I just had to remove padding from the charts using css."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1687782725,"post_id":76554029,"comment_id":134980379,"body_markdown":"As you have working code at hand, please consider an [answer to your own question](http://meta.stackoverflow.com/q/17463/163188). Also consider [tag:jfreechart-fx] for thumbnails, examined [here](https://stackoverflow.com/q/40441186/230513).","body":"As you have working code at hand, please consider an <a href=\"http://meta.stackoverflow.com/q/17463/163188\">answer to your own question</a>. Also consider <a href=\"https://stackoverflow.com/questions/tagged/jfreechart-fx\">jfreechart-fx</a> for thumbnails, examined <a href=\"https://stackoverflow.com/q/40441186/230513\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":26015587,"reputation":31,"user_id":19723949,"display_name":"Jaka Kovše"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687867748,"creation_date":1687867748,"answer_id":76564715,"question_id":76554029,"body_markdown":"After a bit of searching, I found the solution to be quite simple.\r\n\r\nYou need to overwrite the maxSize and minSize properties of the lineChart with the same size:\r\n\r\n    lineChart.setMaxSize(double, double);\r\n    lineChart.setMinSize(double, double);\r\n\r\nIf the minimum size is bigger than the maximum size, the minimum size will overrule. \r\n\r\nYou can also adjust padding of a chart using a css file, which can be imported like this:\r\n\r\n    lineChart.getStylesheet().add(&quot;path/to/stylesheet.css&quot;);\r\n\r\nReference for [fx-css.][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javafx/2/api/javafx/scene/doc-files/cssref.html#charts","title":"Is there a way to set minimum size of a LineChart in javafx to less than 200x150 pixels?","body":"<p>After a bit of searching, I found the solution to be quite simple.</p>\n<p>You need to overwrite the maxSize and minSize properties of the lineChart with the same size:</p>\n<pre><code>lineChart.setMaxSize(double, double);\nlineChart.setMinSize(double, double);\n</code></pre>\n<p>If the minimum size is bigger than the maximum size, the minimum size will overrule.</p>\n<p>You can also adjust padding of a chart using a css file, which can be imported like this:</p>\n<pre><code>lineChart.getStylesheet().add(&quot;path/to/stylesheet.css&quot;);\n</code></pre>\n<p>Reference for <a href=\"https://docs.oracle.com/javafx/2/api/javafx/scene/doc-files/cssref.html#charts\" rel=\"nofollow noreferrer\">fx-css.</a></p>\n"}],"owner":{"account_id":26015587,"reputation":31,"user_id":19723949,"display_name":"Jaka Kovše"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687867748,"creation_date":1687760868,"question_id":76554029,"body_markdown":"I am trying to display 24 LineCharts on a window [4 rows and 6 columns as shown in the picture. The window size is 1368x912 px](https://i.stack.imgur.com/nV1YP.png).\r\n\r\nThe problem I am facing is that I need to show 24 LineCharts on a smaller window than shown on the upper image, but the smallest size of a LineChart is 200x150 px (at least I can&#39;t make it smaller).\r\n\r\nIs there any way to overwrite the LineChart class to enable it to make it smaller?","title":"Is there a way to set minimum size of a LineChart in javafx to less than 200x150 pixels?","body":"<p>I am trying to display 24 LineCharts on a window <a href=\"https://i.stack.imgur.com/nV1YP.png\" rel=\"nofollow noreferrer\">4 rows and 6 columns as shown in the picture. The window size is 1368x912 px</a>.</p>\n<p>The problem I am facing is that I need to show 24 LineCharts on a smaller window than shown on the upper image, but the smallest size of a LineChart is 200x150 px (at least I can't make it smaller).</p>\n<p>Is there any way to overwrite the LineChart class to enable it to make it smaller?</p>\n"},{"tags":["java","spring-boot","graphql"],"owner":{"account_id":6325177,"reputation":1443,"user_id":4911868,"accept_rate":100,"display_name":"javaDeveloper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687867514,"creation_date":1687867514,"question_id":76564686,"body_markdown":"I have a graphql implementation using SpringBoot\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.netflix.graphql.dgs&lt;/groupId&gt;\r\n       &lt;artifactId&gt;graphql-dgs&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI have some queries like this\r\n\r\n    @DgsQuery\r\n    @CustomAnnotation\r\n    public Output getOutput(@InputArgument Long input) {\r\n            return new Output(input, &lt;someOtherInput&gt;);\r\n    }\r\n\r\nMy use case is for all DgsQuery annotated using CustomAnnotation I need to pass an extra argument `someOtherInput` This argument is not passed from the client but calculated on server side on each request. \r\n\r\nI have done something similar in Spring Rest using `WebMvcConfigurer` `addArgumentResolvers&#39;\r\n\r\nIs there something similar for `graphql-dgs`\r\n\r\nI am expecting something like this\r\n\r\n    @DgsQuery\r\n    @CustomAnnotation\r\n    public Output getOutput(@InputArgument Long input, @CustomArgument String someOtherInput) {\r\n            return new Output(input, someOtherInput);\r\n    }\r\n\r\n","title":"Custom arguments in DgsQuery - GraphQl Spring Boot","body":"<p>I have a graphql implementation using SpringBoot</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.netflix.graphql.dgs&lt;/groupId&gt;\n   &lt;artifactId&gt;graphql-dgs&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have some queries like this</p>\n<pre><code>@DgsQuery\n@CustomAnnotation\npublic Output getOutput(@InputArgument Long input) {\n        return new Output(input, &lt;someOtherInput&gt;);\n}\n</code></pre>\n<p>My use case is for all DgsQuery annotated using CustomAnnotation I need to pass an extra argument <code>someOtherInput</code> This argument is not passed from the client but calculated on server side on each request.</p>\n<p>I have done something similar in Spring Rest using <code>WebMvcConfigurer</code> `addArgumentResolvers'</p>\n<p>Is there something similar for <code>graphql-dgs</code></p>\n<p>I am expecting something like this</p>\n<pre><code>@DgsQuery\n@CustomAnnotation\npublic Output getOutput(@InputArgument Long input, @CustomArgument String someOtherInput) {\n        return new Output(input, someOtherInput);\n}\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":28849062,"reputation":1,"user_id":22095348,"display_name":"waqar khalid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687867471,"creation_date":1687862342,"question_id":76564022,"body_markdown":"I had use the material widget in my fragment xml but got a error on inflating that xml. I stuck about last 4 hours in there. here is my xml\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/education_inputtxt_field&quot;\r\n        style=&quot;@style/ShapeAppearanceOverlay.MyApp.TextInputLayout.Rounded&quot;\r\n       ......\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/edu_level_txt&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@id/looking_for_inputtextfield&quot;\r\n        &gt;\r\n    \r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/edu_selection&quot;\r\n            ........\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:drawableEnd=&quot;@drawable/down_arrow&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@id/edu_level_txt&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@id/edu_level_txt&quot; &gt;\r\n    \r\n        &lt;/com.google.android.material.textfield.TextInputEditText&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    \r\n`&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;` In theme \r\n[App:theme](https://i.stack.imgur.com/imXXS.png)\r\nThere is a error i facing on inflating that xml[ Process: Myapp.example.metrimonialapp, PID: 27774\r\nandroid.view.InflateException:](https://i.stack.imgur.com/b3rZB.jpg)\r\n\r\nI want to customize the design of material widgets text input layout but it tackle an error on inflate the xml.","title":"Facing android.view.InflateException: in my xml","body":"<p>I had use the material widget in my fragment xml but got a error on inflating that xml. I stuck about last 4 hours in there. here is my xml</p>\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/education_inputtxt_field&quot;\n    style=&quot;@style/ShapeAppearanceOverlay.MyApp.TextInputLayout.Rounded&quot;\n   ......\n    app:layout_constraintTop_toBottomOf=&quot;@id/edu_level_txt&quot;\n    app:layout_constraintEnd_toStartOf=&quot;@id/looking_for_inputtextfield&quot;\n    &gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:id=&quot;@+id/edu_selection&quot;\n        ........\n        android:textColor=&quot;@color/black&quot;\n        android:drawableEnd=&quot;@drawable/down_arrow&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@id/edu_level_txt&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@id/edu_level_txt&quot; &gt;\n\n    &lt;/com.google.android.material.textfield.TextInputEditText&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p><code>&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</code> In theme\n<a href=\"https://i.stack.imgur.com/imXXS.png\" rel=\"nofollow noreferrer\">App:theme</a>\nThere is a error i facing on inflating that xml<a href=\"https://i.stack.imgur.com/b3rZB.jpg\" rel=\"nofollow noreferrer\"> Process: Myapp.example.metrimonialapp, PID: 27774\nandroid.view.InflateException:</a></p>\n<p>I want to customize the design of material widgets text input layout but it tackle an error on inflate the xml.</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1474189668,"post_id":39555878,"comment_id":66422902,"body_markdown":"I will note in passing that this is very poor code for a wide variety of reasons. Ideally, use Spring Data JPA (and use constructor injection).","body":"I will note in passing that this is very poor code for a wide variety of reasons. Ideally, use Spring Data JPA (and use constructor injection)."},{"owner":{"account_id":9556421,"reputation":313,"user_id":7098738,"accept_rate":40,"display_name":"shanika yrs"},"score":1,"creation_date":1526467775,"post_id":39555878,"comment_id":87753712,"body_markdown":"You can&#39;t persist with out a transaction. Please look up to your hibernate conf file. It should have provide the transaction through interceptors","body":"You can&#39;t persist with out a transaction. Please look up to your hibernate conf file. It should have provide the transaction through interceptors"}],"answers":[{"tags":[],"owner":{"account_id":4348406,"reputation":1885,"user_id":3549662,"display_name":"GAURAV ROY"},"comment_count":0,"down_vote_count":2,"up_vote_count":8,"is_accepted":true,"score":6,"last_activity_date":1474190903,"creation_date":1474190903,"answer_id":39556103,"question_id":39555878,"body_markdown":"you cant save or persist object without transaction you have to commit the transaction after saving the object otherwise it won&#39;t save in database.\r\n***Without transaction you can only retrieve object from database*** \r\n\r\n ","title":"Hibernate persist without transaction","body":"<p>you cant save or persist object without transaction you have to commit the transaction after saving the object otherwise it won't save in database.\n<strong><em>Without transaction you can only retrieve object from database</em></strong> </p>\n"},{"tags":[],"owner":{"account_id":9219005,"reputation":364,"user_id":6849141,"display_name":"Bruno Manzo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474381642,"creation_date":1474381642,"answer_id":39596754,"question_id":39555878,"body_markdown":"As said you CAN&#39;T save anything in the database without a active transaction.\r\nIt seens that you are using a container, in this case Spring. \r\nSpring can control transactions by interceptos like JavaEE.\r\nYou can read more here: http://docs.jboss.org/weld/reference/2.4.0.Final/en-US/html/interceptors.html\r\n\r\nAlso this looks like a really poor example to demonstrate:\r\n\r\n    public class TransactionalInterceptor {\r\n    \r\n        @Inject\r\n        private Session session;\r\n    \r\n        @AroundInvoke\r\n        public Object logMethodEntry(InvocationContext ctx) throws Exception {\r\n            Object result = null;\r\n            boolean openTransaction = !session.getTransaction().isActive();\r\n            if(openTransaction)\r\n                session.getTransaction().begin();\r\n            try {\r\n                result = ctx.proceed();\r\n                if(openTransaction)\r\n                    session.getTransaction().commit();\r\n            } catch (Exception e) {\r\n                session.getTransaction().rollback();\r\n                throw new TransactionException(e);\r\n            }\r\n            return result;\r\n        }\r\n    \r\n    }","title":"Hibernate persist without transaction","body":"<p>As said you CAN'T save anything in the database without a active transaction.\nIt seens that you are using a container, in this case Spring. \nSpring can control transactions by interceptos like JavaEE.\nYou can read more here: <a href=\"http://docs.jboss.org/weld/reference/2.4.0.Final/en-US/html/interceptors.html\" rel=\"nofollow\">http://docs.jboss.org/weld/reference/2.4.0.Final/en-US/html/interceptors.html</a></p>\n\n<p>Also this looks like a really poor example to demonstrate:</p>\n\n<pre><code>public class TransactionalInterceptor {\n\n    @Inject\n    private Session session;\n\n    @AroundInvoke\n    public Object logMethodEntry(InvocationContext ctx) throws Exception {\n        Object result = null;\n        boolean openTransaction = !session.getTransaction().isActive();\n        if(openTransaction)\n            session.getTransaction().begin();\n        try {\n            result = ctx.proceed();\n            if(openTransaction)\n                session.getTransaction().commit();\n        } catch (Exception e) {\n            session.getTransaction().rollback();\n            throw new TransactionException(e);\n        }\n        return result;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10807011,"reputation":2216,"user_id":15016163,"display_name":"Maicon Mauricio"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687867378,"creation_date":1663257808,"answer_id":73734277,"question_id":39555878,"body_markdown":"Actually, **IT IS POSSIBLE** to persist without a transaction with Hibernate but it&#39;s **STRONGLY DISCOURAGED** because of performance and data consistency issues.\r\n\r\n### `application.properties`:\r\n\r\n    hibernate.allow_update_outside_transaction=true\r\n\r\n### Spring `application.properties`:\r\n\r\n    spring.jpa.properties.hibernate.allow_update_outside_transaction=true\r\n\r\n\r\n&lt;sub&gt;As I had to use this setting for a very specific reason. I think it might be of use to some people, even though it&#39;s not recommended to be used in production code.&lt;/sub&gt;\r\n","title":"Hibernate persist without transaction","body":"<p>Actually, <strong>IT IS POSSIBLE</strong> to persist without a transaction with Hibernate but it's <strong>STRONGLY DISCOURAGED</strong> because of performance and data consistency issues.</p>\n<h3><code>application.properties</code>:</h3>\n<pre><code>hibernate.allow_update_outside_transaction=true\n</code></pre>\n<h3>Spring <code>application.properties</code>:</h3>\n<pre><code>spring.jpa.properties.hibernate.allow_update_outside_transaction=true\n</code></pre>\n<p><sub>As I had to use this setting for a very specific reason. I think it might be of use to some people, even though it's not recommended to be used in production code.</sub></p>\n"}],"owner":{"account_id":3985953,"reputation":1186,"user_id":5007499,"accept_rate":59,"display_name":"Liumx31"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8077,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":39556103,"answer_count":3,"score":6,"last_activity_date":1687867378,"creation_date":1474189316,"question_id":39555878,"body_markdown":"I was following a tutorial on Hibernate and saw the following code:\r\n\r\n&lt;!-- lang: java --&gt;\r\n\r\n    package com.websystique.spring.dao;\r\n     \r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n     \r\n    public abstract class AbstractDao {\r\n     \r\n        @Autowired\r\n        private SessionFactory sessionFactory;\r\n     \r\n        protected Session getSession() {\r\n            return sessionFactory.getCurrentSession();\r\n        }\r\n     \r\n        public void persist(Object entity) {\r\n            getSession().persist(entity);\r\n        }\r\n     \r\n        public void delete(Object entity) {\r\n            getSession().delete(entity);\r\n        }\r\n    }\r\n\r\nI was wondering if `persist()` (or `save()` or `delete()`) can be used without a transaction? As it seems to be the case here.","title":"Hibernate persist without transaction","body":"<p>I was following a tutorial on Hibernate and saw the following code:</p>\n\n\n\n<pre><code>package com.websystique.spring.dao;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\n\npublic abstract class AbstractDao {\n\n    @Autowired\n    private SessionFactory sessionFactory;\n\n    protected Session getSession() {\n        return sessionFactory.getCurrentSession();\n    }\n\n    public void persist(Object entity) {\n        getSession().persist(entity);\n    }\n\n    public void delete(Object entity) {\n        getSession().delete(entity);\n    }\n}\n</code></pre>\n\n<p>I was wondering if <code>persist()</code> (or <code>save()</code> or <code>delete()</code>) can be used without a transaction? As it seems to be the case here.</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":5952031,"reputation":1986,"user_id":4679727,"accept_rate":88,"display_name":"Gab是好人"},"score":51,"creation_date":1485856019,"post_id":21204085,"comment_id":71087567,"body_markdown":"_&quot;won&#39;t be visible to the outside transactions until the commit in this transaction&quot;_  It depends on the isolation level of the other transactions. If a transaction&#39;s isolation level is READ_UNCOMMITTED，then it will see what has been flushed but not yet committed by other transactions.","body":"<i>&quot;won&#39;t be visible to the outside transactions until the commit in this transaction&quot;</i>  It depends on the isolation level of the other transactions. If a transaction&#39;s isolation level is READ_UNCOMMITTED，then it will see what has been flushed but not yet committed by other transactions."},{"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"score":1,"creation_date":1573010372,"post_id":21204085,"comment_id":103737485,"body_markdown":"but, in my project, I use save(), saveAll() &amp; it persists in DB without commit or flush calling explicitly. Then why should I prefer saveAndFlush? FLush mode all those things are in default mode","body":"but, in my project, I use save(), saveAll() &amp; it persists in DB without commit or flush calling explicitly. Then why should I prefer saveAndFlush? FLush mode all those things are in default mode"},{"owner":{"account_id":9141148,"reputation":111,"user_id":6798943,"display_name":"apr"},"score":1,"creation_date":1597822639,"post_id":21204085,"comment_id":112255431,"body_markdown":"P Satish Patro, saveAndFlush() is used for immediate flush. If you use save(), the flush action will be handled by JPA later.","body":"P Satish Patro, saveAndFlush() is used for immediate flush. If you use save(), the flush action will be handled by JPA later."}],"tags":[],"owner":{"account_id":2165008,"reputation":2150,"user_id":1918305,"display_name":"user1918305"},"comment_count":3,"down_vote_count":0,"up_vote_count":180,"is_accepted":false,"score":180,"last_activity_date":1543996988,"creation_date":1390048058,"answer_id":21204085,"question_id":21203875,"body_markdown":"On `saveAndFlush`, changes will be flushed to DB immediately in this command. With `save`, this is not necessarily true, and might stay just in memory, until `flush` or `commit` commands are issued. \r\n\r\nBut be aware, that even if you flush the changes in transaction and do not commit them, the changes still **won&#39;t** be visible to the outside transactions until the commit in this transaction.\r\n\r\nIn your case, you probably use some sort of transactions mechanism, which issues `commit` command for you if everything works out fine.","title":"Difference between save and saveAndFlush in Spring data jpa","body":"<p>On <code>saveAndFlush</code>, changes will be flushed to DB immediately in this command. With <code>save</code>, this is not necessarily true, and might stay just in memory, until <code>flush</code> or <code>commit</code> commands are issued. </p>\n\n<p>But be aware, that even if you flush the changes in transaction and do not commit them, the changes still <strong>won't</strong> be visible to the outside transactions until the commit in this transaction.</p>\n\n<p>In your case, you probably use some sort of transactions mechanism, which issues <code>commit</code> command for you if everything works out fine.</p>\n"},{"comments":[{"owner":{"account_id":3809070,"reputation":18333,"user_id":3160597,"accept_rate":47,"display_name":"azerafati"},"score":0,"creation_date":1404563026,"post_id":21204100,"comment_id":38088242,"body_markdown":"sorry but if I `save` an entity and again the same one, you mean with `save` the second command won&#39;t throw an exception for duplication for example??","body":"sorry but if I <code>save</code> an entity and again the same one, you mean with <code>save</code> the second command won&#39;t throw an exception for duplication for example??"},{"owner":{"account_id":1051678,"reputation":6775,"user_id":3063077,"accept_rate":33,"display_name":"Ralf"},"score":3,"creation_date":1404631836,"post_id":21204100,"comment_id":38102356,"body_markdown":"@Bludream Yes, it is my understanding that calls to `save` are idempotent. See this [thread](http://stackoverflow.com/questions/161224/what-are-the-differences-between-the-different-saving-methods-in-hibernate) for more details.","body":"@Bludream Yes, it is my understanding that calls to <code>save</code> are idempotent. See this <a href=\"http://stackoverflow.com/questions/161224/what-are-the-differences-between-the-different-saving-methods-in-hibernate\">thread</a> for more details."}],"tags":[],"owner":{"account_id":1051678,"reputation":6775,"user_id":3063077,"accept_rate":33,"display_name":"Ralf"},"comment_count":2,"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1543997051,"creation_date":1390048127,"answer_id":21204100,"question_id":21203875,"body_markdown":"Depending on the hibernate flush mode that you are using (`AUTO` is the default) `save` may or may not write your changes to the DB straight away. When you call `saveAndFlush` you are enforcing the synchronization of your model state with the DB.\r\n\r\nIf you use flush mode AUTO and you are using your application to first save and then select the data again, you will not see a difference in bahvior between `save()` and `saveAndFlush()` because the select triggers a flush first. See the [documention][1].\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/4.3/manual/en-US/html/ch11.html#objectstate-flushing","title":"Difference between save and saveAndFlush in Spring data jpa","body":"<p>Depending on the hibernate flush mode that you are using (<code>AUTO</code> is the default) <code>save</code> may or may not write your changes to the DB straight away. When you call <code>saveAndFlush</code> you are enforcing the synchronization of your model state with the DB.</p>\n\n<p>If you use flush mode AUTO and you are using your application to first save and then select the data again, you will not see a difference in bahvior between <code>save()</code> and <code>saveAndFlush()</code> because the select triggers a flush first. See the <a href=\"http://docs.jboss.org/hibernate/core/4.3/manual/en-US/html/ch11.html#objectstate-flushing\" rel=\"noreferrer\">documention</a>.</p>\n"},{"tags":[],"owner":{"account_id":13678477,"reputation":299,"user_id":9869394,"display_name":"Dinushika Rathnayake"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1650538914,"creation_date":1650538914,"answer_id":71953357,"question_id":21203875,"body_markdown":"Both methods are used to save entities to the database. Flushing is the process of synchronizing the state of the persistence context with the underlying database. \r\n\r\nWhen using **saveAndFlush** method, data immediately flush to the database and to do it with the **save** method we need to call **flush**() method explicitly.\r\nUsing flush can read saved changes at a later step during the same transaction but before the commit. So still can **rollback** if no need to **commit**.","title":"Difference between save and saveAndFlush in Spring data jpa","body":"<p>Both methods are used to save entities to the database. Flushing is the process of synchronizing the state of the persistence context with the underlying database.</p>\n<p>When using <strong>saveAndFlush</strong> method, data immediately flush to the database and to do it with the <strong>save</strong> method we need to call <strong>flush</strong>() method explicitly.\nUsing flush can read saved changes at a later step during the same transaction but before the commit. So still can <strong>rollback</strong> if no need to <strong>commit</strong>.</p>\n"},{"tags":[],"owner":{"account_id":17820696,"reputation":86,"user_id":12943132,"display_name":"mahdi rahmani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687867009,"creation_date":1687867009,"answer_id":76564606,"question_id":21203875,"body_markdown":"The &quot;save&quot; method is used to save an entity to the database. When you call the &quot;save&quot; method, the entity is first persisted to the database&#39;s transactional buffer, and then, when the transaction is committed, the entity is saved to the database. The &quot;save&quot; method returns the saved entity.\r\n\r\nThe &quot;save and flush&quot; method, on the other hand, does the same thing as &quot;save&quot;, but additionally forces the database to immediately write the pending changes to disk. This can be useful in cases where you need to ensure that the data is immediately persisted to the database, rather than waiting for the transaction to commit.\r\n\r\nIn summary, the main difference between &quot;save&quot; and &quot;save and flush&quot; in Spring Data is that the latter immediately writes the pending changes to the database, while the former waits until the transaction is committed to do so.\r\n\r\nIf you want to save a new entity and use its ID within the same transaction, you should use the &quot;save&quot; method followed by a call to the &quot;flush&quot; method.\r\n\r\nWhen you call the &quot;save&quot; method, the entity is persisted to the transactional buffer, and a temporary ID is assigned to the entity. This ID is generated by the underlying persistence framework and is not the final ID that will be assigned to the entity when it is saved to the database.\r\n\r\nBy calling the &quot;flush&quot; method, you force the underlying persistence framework to immediately write the pending changes to the database. This causes the temporary ID assigned to the entity to be replaced with the final ID assigned by the database.\r\n\r\nOnce the &quot;flush&quot; method has been called, you can safely use the ID of the newly saved entity within the same transaction.","title":"Difference between save and saveAndFlush in Spring data jpa","body":"<p>The &quot;save&quot; method is used to save an entity to the database. When you call the &quot;save&quot; method, the entity is first persisted to the database's transactional buffer, and then, when the transaction is committed, the entity is saved to the database. The &quot;save&quot; method returns the saved entity.</p>\n<p>The &quot;save and flush&quot; method, on the other hand, does the same thing as &quot;save&quot;, but additionally forces the database to immediately write the pending changes to disk. This can be useful in cases where you need to ensure that the data is immediately persisted to the database, rather than waiting for the transaction to commit.</p>\n<p>In summary, the main difference between &quot;save&quot; and &quot;save and flush&quot; in Spring Data is that the latter immediately writes the pending changes to the database, while the former waits until the transaction is committed to do so.</p>\n<p>If you want to save a new entity and use its ID within the same transaction, you should use the &quot;save&quot; method followed by a call to the &quot;flush&quot; method.</p>\n<p>When you call the &quot;save&quot; method, the entity is persisted to the transactional buffer, and a temporary ID is assigned to the entity. This ID is generated by the underlying persistence framework and is not the final ID that will be assigned to the entity when it is saved to the database.</p>\n<p>By calling the &quot;flush&quot; method, you force the underlying persistence framework to immediately write the pending changes to the database. This causes the temporary ID assigned to the entity to be replaced with the final ID assigned by the database.</p>\n<p>Once the &quot;flush&quot; method has been called, you can safely use the ID of the newly saved entity within the same transaction.</p>\n"}],"owner":{"account_id":1176664,"reputation":20820,"user_id":1152500,"accept_rate":47,"display_name":"Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196059,"favorite_count":0,"down_vote_count":0,"up_vote_count":167,"answer_count":4,"score":167,"last_activity_date":1687867009,"creation_date":1390046871,"question_id":21203875,"body_markdown":"I am trying to learn spring data JPA by testing some CRUD operation via `JpaRepository`.\r\n\r\nI came across two methods `save` and `saveAndFlush`.\r\nI don&#39;t get the difference between these two. On calling `save` also my changes are getting saved into database so what is the use of `saveAndFlush`.","title":"Difference between save and saveAndFlush in Spring data jpa","body":"<p>I am trying to learn spring data JPA by testing some CRUD operation via <code>JpaRepository</code>.</p>\n\n<p>I came across two methods <code>save</code> and <code>saveAndFlush</code>.\nI don't get the difference between these two. On calling <code>save</code> also my changes are getting saved into database so what is the use of <code>saveAndFlush</code>.</p>\n"},{"tags":["java","arrays","csv"],"comments":[{"owner":{"account_id":10528,"reputation":18513,"user_id":19937,"display_name":"Walter Mitty"},"score":0,"creation_date":1687851671,"post_id":76562139,"comment_id":134990662,"body_markdown":"I don&#39;t know how to do this in Java.  But I do know how to read every line, and every column of a csv file in powershell, and stuff the value into a variable with the same name as the column header, except with a dollar sign prefix.  You might be able to use a similar technique.  I wrote a simple csv template engine in powershell.  You can see it at www.github.com/dcressey/expand-csv","body":"I don&#39;t know how to do this in Java.  But I do know how to read every line, and every column of a csv file in powershell, and stuff the value into a variable with the same name as the column header, except with a dollar sign prefix.  You might be able to use a similar technique.  I wrote a simple csv template engine in powershell.  You can see it at www.github.com/dcressey/expand-csv"},{"owner":{"account_id":18459594,"reputation":7,"user_id":13447453,"display_name":"Programmer1988"},"score":0,"creation_date":1687851939,"post_id":76562139,"comment_id":134990727,"body_markdown":"Thanks, @WalterMitty for you support, but I write on Java. And going to get the solution on this programming language","body":"Thanks, @WalterMitty for you support, but I write on Java. And going to get the solution on this programming language"},{"owner":{"account_id":10528,"reputation":18513,"user_id":19937,"display_name":"Walter Mitty"},"score":0,"creation_date":1687852093,"post_id":76562139,"comment_id":134990757,"body_markdown":"Sure thing.  I don&#39;t know how easily the technique ports from powershell to java.  Sorry.","body":"Sure thing.  I don&#39;t know how easily the technique ports from powershell to java.  Sorry."},{"owner":{"account_id":18459594,"reputation":7,"user_id":13447453,"display_name":"Programmer1988"},"score":0,"creation_date":1687852311,"post_id":76562139,"comment_id":134990801,"body_markdown":"@WalterMitty I&#39;ll analyse your github solution , may be will understand the technique which will be useful in my task. Anyway, I appreciate your help","body":"@WalterMitty I&#39;ll analyse your github solution , may be will understand the technique which will be useful in my task. Anyway, I appreciate your help"},{"owner":{"account_id":10528,"reputation":18513,"user_id":19937,"display_name":"Walter Mitty"},"score":0,"creation_date":1687854523,"post_id":76562139,"comment_id":134991231,"body_markdown":"I think you&#39;ll find that my solution is heavily dependent on tools made available in the powershell environment.  I have no ide of the extent to which parallel tools exist in Java libraries.","body":"I think you&#39;ll find that my solution is heavily dependent on tools made available in the powershell environment.  I have no ide of the extent to which parallel tools exist in Java libraries."}],"answers":[{"comments":[{"owner":{"account_id":9527087,"reputation":324,"user_id":7080004,"display_name":"azer-p"},"score":0,"creation_date":1687866389,"post_id":76564502,"comment_id":134993725,"body_markdown":"I used &#39;java.nio&#39;, a standard java package","body":"I used &#39;java.nio&#39;, a standard java package"},{"owner":{"account_id":18459594,"reputation":7,"user_id":13447453,"display_name":"Programmer1988"},"score":0,"creation_date":1687873984,"post_id":76564502,"comment_id":134995720,"body_markdown":"your solution has too many errors and doesn&#39;t compile","body":"your solution has too many errors and doesn&#39;t compile"},{"owner":{"account_id":9527087,"reputation":324,"user_id":7080004,"display_name":"azer-p"},"score":0,"creation_date":1687884854,"post_id":76564502,"comment_id":134998452,"body_markdown":"@Programmer1988 it works on my end. I used java 8. Just import the stuffs needed","body":"@Programmer1988 it works on my end. I used java 8. Just import the stuffs needed"},{"owner":{"account_id":18459594,"reputation":7,"user_id":13447453,"display_name":"Programmer1988"},"score":0,"creation_date":1687943359,"post_id":76564502,"comment_id":135006289,"body_markdown":"you gave non-working solution and it is against the platform rules. you must correct it fist","body":"you gave non-working solution and it is against the platform rules. you must correct it fist"}],"tags":[],"owner":{"account_id":9527087,"reputation":324,"user_id":7080004,"display_name":"azer-p"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687866677,"creation_date":1687866163,"answer_id":76564502,"question_id":76562139,"body_markdown":"Pseudo code:\r\n1. set targetRoNumber and targetColNumber\r\n2. Create 2 for-loops to track the indexes. The first loop is for the row, second loop is for the column.\r\n3. Create if condition to match the target row and column number\r\n\r\n\r\n```\r\n\t\tString csvFilePath = &quot;D:\\\\Project\\\\sample.csv&quot;;\r\n\r\n\t\ttry {\r\n\t\t\tPath path = Paths.get(csvFilePath);\r\n\t\t\tList&lt;String&gt; lines = Files.readAllLines(path);\r\n\t\t\tint targetRowNumber=5;\r\n\t\t\tint targetColNumber=3;\r\n\t\t\t//Integer extractedNumber=null;\r\n\t\t\tfor(int row=0;row&lt;lines.size();row++) {\r\n\t\t\t\tString line = lines.get(row);\r\n\t\t\t\tString[] fields = line.split(&quot;,&quot;);\r\n\t\t\t\t\r\n\t\t\t\tfor(int col=0;col&lt;fields.length;col++) {\r\n\t\t\t\t\tif(row==targetRowNumber &amp;&amp; col==targetColNumber) {\r\n\t\t\t\t\t\tint extractedNumber = Integer.parseInt(fields[col]);\r\n\t\t\t\t\t\tSystem.out.println(extractedNumber);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}catch (NumberFormatException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n```\r\n\r\nor if you dont want loops, just go directly to the index\r\n```\r\n String csvFilePath = &quot;D:\\\\Project\\\\sample.csv&quot;;\r\n        int targetRowNumber = 5;\r\n        int targetColNumber = 3;\r\n\r\n        try {\r\n            List&lt;String&gt; lines = Files.readAllLines(Paths.get(csvFilePath));\r\n\r\n            if (targetRowNumber &lt; lines.size()) {\r\n                String[] fields = lines.get(targetRowNumber).split(&quot;,&quot;);\r\n\r\n                if (targetColNumber &lt; fields.length) {\r\n                    int extractedNumber = Integer.parseInt(fields[targetColNumber]);\r\n                    System.out.println(extractedNumber);\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (NumberFormatException e) {\r\n            e.printStackTrace();\r\n        }\r\n```","title":"How can I put the desired data from csv right into the variable?","body":"<p>Pseudo code:</p>\n<ol>\n<li>set targetRoNumber and targetColNumber</li>\n<li>Create 2 for-loops to track the indexes. The first loop is for the row, second loop is for the column.</li>\n<li>Create if condition to match the target row and column number</li>\n</ol>\n<pre><code>        String csvFilePath = &quot;D:\\\\Project\\\\sample.csv&quot;;\n\n        try {\n            Path path = Paths.get(csvFilePath);\n            List&lt;String&gt; lines = Files.readAllLines(path);\n            int targetRowNumber=5;\n            int targetColNumber=3;\n            //Integer extractedNumber=null;\n            for(int row=0;row&lt;lines.size();row++) {\n                String line = lines.get(row);\n                String[] fields = line.split(&quot;,&quot;);\n                \n                for(int col=0;col&lt;fields.length;col++) {\n                    if(row==targetRowNumber &amp;&amp; col==targetColNumber) {\n                        int extractedNumber = Integer.parseInt(fields[col]);\n                        System.out.println(extractedNumber);\n                    }\n                }   \n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }catch (NumberFormatException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>or if you dont want loops, just go directly to the index</p>\n<pre><code> String csvFilePath = &quot;D:\\\\Project\\\\sample.csv&quot;;\n        int targetRowNumber = 5;\n        int targetColNumber = 3;\n\n        try {\n            List&lt;String&gt; lines = Files.readAllLines(Paths.get(csvFilePath));\n\n            if (targetRowNumber &lt; lines.size()) {\n                String[] fields = lines.get(targetRowNumber).split(&quot;,&quot;);\n\n                if (targetColNumber &lt; fields.length) {\n                    int extractedNumber = Integer.parseInt(fields[targetColNumber]);\n                    System.out.println(extractedNumber);\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (NumberFormatException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n"}],"owner":{"account_id":18459594,"reputation":7,"user_id":13447453,"display_name":"Programmer1988"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687866677,"creation_date":1687847396,"question_id":76562139,"body_markdown":"I have the .csv data file to parse and using java language for this purpose.\r\nTherefore, I understand how can I use data and put it to the variable working, for example, with two dimensional arrays:\r\n\r\n\r\n    //working with 2-dimensial Arrays\r\n    int[][] values = { {1, 2, 3, 4, 5}, \r\n                       {6, 7, 8, 9, 10}, \r\n                       {11, 12, 13, 14, 15}, \r\n                       {16, 17, 18, 19, 20}, \r\n                       {21, 22, 23, 24, 25} };\r\n                      \r\n    //output of the 1st column, 1st line array value \r\n    System.out.println(values[0][0]);\r\n\r\n    \tArrayList&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&quot;alex&quot;, &quot;brian&quot;, &quot;charles&quot;, &quot;dough&quot;));\r\n    \r\n        String firstName = list.get(0);         \r\n        String secondName = list.get(1); \r\n        \r\n        System.out.println(firstName);\r\n    \r\nBut I need to read the .csv file first and then make the multidimensional array. After this I need to pick up some data and put it into the variables.\r\n    I read csv without any specifical libraries, only standard like this:\r\n\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n    \r\n    \r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tString fileName= &quot;datatry.csv&quot;;\r\n            File file= new File(fileName);\r\n    \r\n          \r\n            List&lt;List&lt;String&gt;&gt; lines = new ArrayList&lt;&gt;();\r\n       \r\n            Scanner inputStream;\r\n    //this scanner of csv doesn&#39;t work without try-catch pair\r\n            try{\r\n                //read the csv file \r\n                inputStream = new Scanner(file);\r\n    \r\n                while(inputStream.hasNext()){\r\n                    String line= inputStream.next();\r\n                    String[] values = line.split(&quot;;&quot;);\r\n                    // this adds the currently parsed line to the 2-dimensional string array\r\n                    lines.add(Arrays.asList(values));\r\n                }\r\n    //System.out.println(value);\r\n    \r\n                inputStream.close();\r\n            }\r\n            \r\n            catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n          //  String newst = lines.get(1);\r\n    //System.out.println(newst);\r\n            // the following code lets you iterate through the 2-dimensional array\r\n            int lineNo = 1;\r\n            for(List&lt;String&gt; line: lines) {\r\n                int columnNo = 1;\r\n                for (String value: line) {\r\n                    System.out.println(&quot;Line &quot; + lineNo + &quot; Column &quot; + columnNo + &quot;: &quot; + value);\r\n                    columnNo++;\r\n                }\r\n                lineNo++;\r\n            }\r\n            }}\r\nI guess I need to use Object ?\r\n\r\nHow can I put the value of third column and fifth line of the .csv file into the integer variable?\r\n","title":"How can I put the desired data from csv right into the variable?","body":"<p>I have the .csv data file to parse and using java language for this purpose.\nTherefore, I understand how can I use data and put it to the variable working, for example, with two dimensional arrays:</p>\n<pre><code>//working with 2-dimensial Arrays\nint[][] values = { {1, 2, 3, 4, 5}, \n                   {6, 7, 8, 9, 10}, \n                   {11, 12, 13, 14, 15}, \n                   {16, 17, 18, 19, 20}, \n                   {21, 22, 23, 24, 25} };\n                  \n//output of the 1st column, 1st line array value \nSystem.out.println(values[0][0]);\n\n    ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&quot;alex&quot;, &quot;brian&quot;, &quot;charles&quot;, &quot;dough&quot;));\n\n    String firstName = list.get(0);         \n    String secondName = list.get(1); \n    \n    System.out.println(firstName);\n</code></pre>\n<p>But I need to read the .csv file first and then make the multidimensional array. After this I need to pick up some data and put it into the variables.\nI read csv without any specifical libraries, only standard like this:</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Scanner;\n\n\npublic class Main\n{\n    public static void main(String[] args) {\n\n        String fileName= &quot;datatry.csv&quot;;\n        File file= new File(fileName);\n\n      \n        List&lt;List&lt;String&gt;&gt; lines = new ArrayList&lt;&gt;();\n   \n        Scanner inputStream;\n//this scanner of csv doesn't work without try-catch pair\n        try{\n            //read the csv file \n            inputStream = new Scanner(file);\n\n            while(inputStream.hasNext()){\n                String line= inputStream.next();\n                String[] values = line.split(&quot;;&quot;);\n                // this adds the currently parsed line to the 2-dimensional string array\n                lines.add(Arrays.asList(values));\n            }\n//System.out.println(value);\n\n            inputStream.close();\n        }\n        \n        catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n      //  String newst = lines.get(1);\n//System.out.println(newst);\n        // the following code lets you iterate through the 2-dimensional array\n        int lineNo = 1;\n        for(List&lt;String&gt; line: lines) {\n            int columnNo = 1;\n            for (String value: line) {\n                System.out.println(&quot;Line &quot; + lineNo + &quot; Column &quot; + columnNo + &quot;: &quot; + value);\n                columnNo++;\n            }\n            lineNo++;\n        }\n        }}\n</code></pre>\n<p>I guess I need to use Object ?</p>\n<p>How can I put the value of third column and fifth line of the .csv file into the integer variable?</p>\n"},{"tags":["java","sql","parsing","apache-calcite"],"answers":[{"tags":[],"owner":{"account_id":53933,"reputation":5581,"user_id":161289,"accept_rate":86,"display_name":"zinking"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464001793,"creation_date":1464001793,"answer_id":37389413,"question_id":37288184,"body_markdown":"I happen to have used `calcite` `sqlParser` a bit. some of the snippet posted below. \r\n\r\n      public void convertSelect(SqlSelect root) {\r\n        convertFrom(root.getFrom());\r\n        convertWhere(root.getWhere());\r\n      }\r\n\r\n      public void convertFrom(SqlNode from) {\r\n        if (from instanceof SqlJoin) {\r\n          convertFromOfJoinExpression((SqlJoin)from);\r\n        }\r\n      }\r\n\r\n      public String extractTableFromJoinNode(SqlNode jnn) {\r\n        if (jnn instanceof SqlBasicCall) {\r\n          SqlBasicCall asExp = (SqlBasicCall)jnn;\r\n          if (asExp.getKind().equals(SqlKind.AS)) {\r\n            extractTableFromJoinNodeAsExpression(asExp);\r\n          }\r\n        }\r\n        return &quot;SomeTableAlias&quot;;\r\n      }\r\n\r\ngenerally, you will get `table` in the `from` statement. and you will get `columns` in `select` statement. \r\n\r\nand last but not least, `calcite` specialises in optimise the query by applying a whole lot of optimising rules.  Depend on what you need (transforming column/table names), `calcite` might not be the best fit. ","title":"apache calcite distinguish column names from table name","body":"<p>I happen to have used <code>calcite</code> <code>sqlParser</code> a bit. some of the snippet posted below. </p>\n\n<pre><code>  public void convertSelect(SqlSelect root) {\n    convertFrom(root.getFrom());\n    convertWhere(root.getWhere());\n  }\n\n  public void convertFrom(SqlNode from) {\n    if (from instanceof SqlJoin) {\n      convertFromOfJoinExpression((SqlJoin)from);\n    }\n  }\n\n  public String extractTableFromJoinNode(SqlNode jnn) {\n    if (jnn instanceof SqlBasicCall) {\n      SqlBasicCall asExp = (SqlBasicCall)jnn;\n      if (asExp.getKind().equals(SqlKind.AS)) {\n        extractTableFromJoinNodeAsExpression(asExp);\n      }\n    }\n    return \"SomeTableAlias\";\n  }\n</code></pre>\n\n<p>generally, you will get <code>table</code> in the <code>from</code> statement. and you will get <code>columns</code> in <code>select</code> statement. </p>\n\n<p>and last but not least, <code>calcite</code> specialises in optimise the query by applying a whole lot of optimising rules.  Depend on what you need (transforming column/table names), <code>calcite</code> might not be the best fit. </p>\n"},{"comments":[{"owner":{"account_id":6023032,"reputation":433,"user_id":4729589,"accept_rate":75,"display_name":"Piotr Śmietana"},"score":0,"creation_date":1465570468,"post_id":37554628,"comment_id":62972151,"body_markdown":"what about SqlScopedShuttle ?","body":"what about SqlScopedShuttle ?"},{"owner":{"account_id":57693,"reputation":1274,"user_id":172836,"display_name":"Julian Hyde"},"score":0,"creation_date":1465690907,"post_id":37554628,"comment_id":63007780,"body_markdown":"SqlScopedShuttle sounds like it would be useful, but it doesn&#39;t do as much as you want. It just keeps a stack of AST nodes (SqlNode) as you recurse into the tree. It doesn&#39;t know anything about SQL scoping rules.","body":"SqlScopedShuttle sounds like it would be useful, but it doesn&#39;t do as much as you want. It just keeps a stack of AST nodes (SqlNode) as you recurse into the tree. It doesn&#39;t know anything about SQL scoping rules."},{"owner":{"account_id":1068527,"reputation":1621,"user_id":1068385,"display_name":"juhoautio"},"score":0,"creation_date":1543515876,"post_id":37554628,"comment_id":93957291,"body_markdown":"@PiotrŚmietana if you ended up with some working code, could you share it, please?","body":"@PiotrŚmietana if you ended up with some working code, could you share it, please?"},{"owner":{"account_id":6023032,"reputation":433,"user_id":4729589,"accept_rate":75,"display_name":"Piotr Śmietana"},"score":0,"creation_date":1551349393,"post_id":37554628,"comment_id":96611545,"body_markdown":"@Arvidaa I think I&#39;ve used some choppy workaround. I don&#39;t remember what exactly it was and don&#39;t have access to this code anymore, so I can&#39;t provide any details.","body":"@Arvidaa I think I&#39;ve used some choppy workaround. I don&#39;t remember what exactly it was and don&#39;t have access to this code anymore, so I can&#39;t provide any details."}],"tags":[],"owner":{"account_id":57693,"reputation":1274,"user_id":172836,"display_name":"Julian Hyde"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1464724755,"creation_date":1464724755,"answer_id":37554628,"question_id":37288184,"body_markdown":"To resolve identifiers to tables and columns, and figure out their types, you will need to use Calcite&#39;s validator (`SqlValidator`). The validator understands SQL name resolution rules (e.g. whether an aliases in a FROM clause can be seen in a sub-query) whereas we intentionally did not make the parser, and the `SqlNode` data structure it produces, aware of such things.\r\n\r\nThe two key concepts in the validator are scopes (`SqlValidatorScope`) and namespaces (`SqlValidatorNamespace`).\r\n\r\nA *scope* is where you are standing and trying to resolve an identifier. For example, you might be in the SELECT clause of a query. Or in the WHERE clause of a particular sub-query. You will be able to see different collections of tables and columns in different scopes. Even a GROUP BY clause and ORDER BY clause have different scopes.\r\n\r\nA *namespace* is something that looks like a table, and has a list of columns. It might be a table or, say, a sub-query in the FROM clause. If you are in a scope, you can look up a table alias, get a namespace, then look at what columns it has.\r\n\r\nFor your purposes, it would be useful if there was a variant of `SqlShuttle` that knew exactly which scope you are in, and where you could ask identifiers to be expanded into table and column references. Unfortunately no one has build such a thing yet.","title":"apache calcite distinguish column names from table name","body":"<p>To resolve identifiers to tables and columns, and figure out their types, you will need to use Calcite's validator (<code>SqlValidator</code>). The validator understands SQL name resolution rules (e.g. whether an aliases in a FROM clause can be seen in a sub-query) whereas we intentionally did not make the parser, and the <code>SqlNode</code> data structure it produces, aware of such things.</p>\n\n<p>The two key concepts in the validator are scopes (<code>SqlValidatorScope</code>) and namespaces (<code>SqlValidatorNamespace</code>).</p>\n\n<p>A <em>scope</em> is where you are standing and trying to resolve an identifier. For example, you might be in the SELECT clause of a query. Or in the WHERE clause of a particular sub-query. You will be able to see different collections of tables and columns in different scopes. Even a GROUP BY clause and ORDER BY clause have different scopes.</p>\n\n<p>A <em>namespace</em> is something that looks like a table, and has a list of columns. It might be a table or, say, a sub-query in the FROM clause. If you are in a scope, you can look up a table alias, get a namespace, then look at what columns it has.</p>\n\n<p>For your purposes, it would be useful if there was a variant of <code>SqlShuttle</code> that knew exactly which scope you are in, and where you could ask identifiers to be expanded into table and column references. Unfortunately no one has build such a thing yet.</p>\n"},{"tags":[],"owner":{"account_id":6740250,"reputation":378,"user_id":5193723,"display_name":"Craynic Cai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687866654,"creation_date":1687864458,"answer_id":76564287,"question_id":37288184,"body_markdown":"I&#39;m now using a boolean `isInFrom` in the traveling of my visitor to tell me if this node is in clause `from [xxxx]`.\r\n\r\nHere is a simplified sample of my Visitor implementation.\r\n\r\n    class Visitor extends SqlBasicVisitor&lt;Void&gt; {\r\n        boolean isInFrom = false;\r\n        \r\n        @Override\r\n        Void visit(SqlCall call) {\r\n            switch (call.getKind()) {\r\n                case SELECT:\r\n                    return visit((SqlSelect) call);\r\n                case JOIN:\r\n                    return visit((SqlJoin) call);\r\n                default:\r\n                    return super.visit(call);\r\n            }\r\n        }\r\n\r\n        Void visit(SqlSelect select) {\r\n            boolean isInFromBackup = isInFrom;\r\n            for (SqlNode child : select.getOperandList()) {\r\n                if (child == null) continue;\r\n                isInFrom = select.getFrom() == child;\r\n                child.accept(this);\r\n            }\r\n            isInFrom = isInFromBackup;\r\n            \r\n        }\r\n        \r\n        Void visit(SqlJoin join) {\r\n            boolean isInFromBackup = isInFrom;\r\n            for (SqlNode child : join.getOperandList()) {\r\n                if (child == null) continue;\r\n                if (child == join.getCondition()) {\r\n                    isInFrom = false;\r\n                }\r\n                child.accept(this);\r\n                if (child == join.getCondition()) {\r\n                    isInFrom = isInFromBackup;\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public Void visit(SqlIdentifier id) {\r\n            if (isInFrom) {\r\n                // it&#39;s table name\r\n            } else {\r\n                // it&#39;s field name\r\n            }\r\n        }\r\n    }\r\n\r\nP.S. `isInFrom` is not accurately named, but I haven&#39;t got a better one.","title":"apache calcite distinguish column names from table name","body":"<p>I'm now using a boolean <code>isInFrom</code> in the traveling of my visitor to tell me if this node is in clause <code>from [xxxx]</code>.</p>\n<p>Here is a simplified sample of my Visitor implementation.</p>\n<pre><code>class Visitor extends SqlBasicVisitor&lt;Void&gt; {\n    boolean isInFrom = false;\n    \n    @Override\n    Void visit(SqlCall call) {\n        switch (call.getKind()) {\n            case SELECT:\n                return visit((SqlSelect) call);\n            case JOIN:\n                return visit((SqlJoin) call);\n            default:\n                return super.visit(call);\n        }\n    }\n\n    Void visit(SqlSelect select) {\n        boolean isInFromBackup = isInFrom;\n        for (SqlNode child : select.getOperandList()) {\n            if (child == null) continue;\n            isInFrom = select.getFrom() == child;\n            child.accept(this);\n        }\n        isInFrom = isInFromBackup;\n        \n    }\n    \n    Void visit(SqlJoin join) {\n        boolean isInFromBackup = isInFrom;\n        for (SqlNode child : join.getOperandList()) {\n            if (child == null) continue;\n            if (child == join.getCondition()) {\n                isInFrom = false;\n            }\n            child.accept(this);\n            if (child == join.getCondition()) {\n                isInFrom = isInFromBackup;\n            }\n        }\n    }\n\n    @Override\n    public Void visit(SqlIdentifier id) {\n        if (isInFrom) {\n            // it's table name\n        } else {\n            // it's field name\n        }\n    }\n}\n</code></pre>\n<p>P.S. <code>isInFrom</code> is not accurately named, but I haven't got a better one.</p>\n"}],"owner":{"account_id":6023032,"reputation":433,"user_id":4729589,"accept_rate":75,"display_name":"Piotr Śmietana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3453,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":37554628,"answer_count":3,"score":5,"last_activity_date":1687866654,"creation_date":1463530349,"question_id":37288184,"body_markdown":"I&#39;m implementing a simple app that changes column names (and leaves table names alone) in SQL statements. The statement is passed as a `String`, and modified one is also returned as a `String`, there&#39;s no database connection involved.\r\n\r\nTo achieve this, I&#39;m using Apache Calcite&#39;s SQL parser. I parse the SQL string to the `SqlNode`, accept a `SqlVisitor` that creates renamed `SqlNode`, and then write everything back to `String` (using `SqlNode.toSqlString()`).\r\n\r\nThe problem is that I don&#39;t know how to tell the difference between columns and tables in parsed `SqlNode` object while accepting a `SqlVisitor`. Both are represented as `SqlIdentifier`, having the same `SqlKind`. Hence, when `SqlVisitor` is visiting the `SqlIdentifier`, it will rename it whether it&#39;s a column or a table.\r\n\r\n    private String changeNames(String str) throws SqlParseException {\r\n        SqlShuttle visitor = new SqlShuttle() {\r\n            private String rename(String str) {\r\n                return str + &quot;-test&quot;;\r\n            }\r\n\r\n            @Override\r\n            public SqlNode visit(SqlIdentifier identifier) {\r\n                SqlIdentifier output = new SqlIdentifier(rename(identifier.getSimple()), identifier.getCollation(), identifier.getParserPosition());\r\n                return output;\r\n            }\r\n        };\r\n\r\n        SqlParser.ConfigBuilder configBuilder =  SqlParser.configBuilder();\r\n        configBuilder.setLex(Lex.MYSQL);\r\n        SqlParser.Config config = configBuilder.build();\r\n\r\n        SqlParser parser = SqlParser.create(str, config);\r\n        SqlNode parsedStatement = parser.parseQuery(str);\r\n        SqlNode outputNode = parsedStatement.accept(visitor);\r\n\r\n        return outputNode.toSqlString(SqlDialect.DUMMY).getSql();\r\n    }\r\n\r\nfor example\r\n\r\n    SELECT name, address, age FROM mytablename WHERE age = 23 AND name = &#39;John&#39;\r\n\r\nwill be modified into\r\n\r\n    SELECT `name-test`, `address-test`, `age-test` FROM `mytablename-test` WHERE `age-test` = 23 AND `name-test` = &#39;John&#39;\r\n\r\nHow could I tell if given `SqlIdentifier` is a column or a table ?","title":"apache calcite distinguish column names from table name","body":"<p>I'm implementing a simple app that changes column names (and leaves table names alone) in SQL statements. The statement is passed as a <code>String</code>, and modified one is also returned as a <code>String</code>, there's no database connection involved.</p>\n\n<p>To achieve this, I'm using Apache Calcite's SQL parser. I parse the SQL string to the <code>SqlNode</code>, accept a <code>SqlVisitor</code> that creates renamed <code>SqlNode</code>, and then write everything back to <code>String</code> (using <code>SqlNode.toSqlString()</code>).</p>\n\n<p>The problem is that I don't know how to tell the difference between columns and tables in parsed <code>SqlNode</code> object while accepting a <code>SqlVisitor</code>. Both are represented as <code>SqlIdentifier</code>, having the same <code>SqlKind</code>. Hence, when <code>SqlVisitor</code> is visiting the <code>SqlIdentifier</code>, it will rename it whether it's a column or a table.</p>\n\n<pre><code>private String changeNames(String str) throws SqlParseException {\n    SqlShuttle visitor = new SqlShuttle() {\n        private String rename(String str) {\n            return str + \"-test\";\n        }\n\n        @Override\n        public SqlNode visit(SqlIdentifier identifier) {\n            SqlIdentifier output = new SqlIdentifier(rename(identifier.getSimple()), identifier.getCollation(), identifier.getParserPosition());\n            return output;\n        }\n    };\n\n    SqlParser.ConfigBuilder configBuilder =  SqlParser.configBuilder();\n    configBuilder.setLex(Lex.MYSQL);\n    SqlParser.Config config = configBuilder.build();\n\n    SqlParser parser = SqlParser.create(str, config);\n    SqlNode parsedStatement = parser.parseQuery(str);\n    SqlNode outputNode = parsedStatement.accept(visitor);\n\n    return outputNode.toSqlString(SqlDialect.DUMMY).getSql();\n}\n</code></pre>\n\n<p>for example</p>\n\n<pre><code>SELECT name, address, age FROM mytablename WHERE age = 23 AND name = 'John'\n</code></pre>\n\n<p>will be modified into</p>\n\n<pre><code>SELECT `name-test`, `address-test`, `age-test` FROM `mytablename-test` WHERE `age-test` = 23 AND `name-test` = 'John'\n</code></pre>\n\n<p>How could I tell if given <code>SqlIdentifier</code> is a column or a table ?</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":2062486,"reputation":6486,"user_id":1838726,"accept_rate":63,"display_name":"Daniel S."},"score":3,"creation_date":1421418598,"post_id":27986122,"comment_id":44363108,"body_markdown":"Valid, understandable question. How easy and simple it might be, it deserves an answer and no close votes.","body":"Valid, understandable question. How easy and simple it might be, it deserves an answer and no close votes."},{"owner":{"account_id":2201295,"reputation":19001,"user_id":1945631,"display_name":"Andy Brown"},"score":5,"creation_date":1421418703,"post_id":27986122,"comment_id":44363178,"body_markdown":"I think this would be a valid question if it showed (a) example input strings (b) expected output (c) how the OP has tried to attempt the problem and (d) what the issue with the OP&#39;s attempted solution is.","body":"I think this would be a valid question if it showed (a) example input strings (b) expected output (c) how the OP has tried to attempt the problem and (d) what the issue with the OP&#39;s attempted solution is."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1421418865,"post_id":27986122,"comment_id":44363280,"body_markdown":"@DanielS. - Nothing stops **you** from providing such answer, especially since you see the question as both valid and understandable.","body":"@DanielS. - Nothing stops <b>you</b> from providing such answer, especially since you see the question as both valid and understandable."},{"owner":{"account_id":3395647,"reputation":8928,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"score":1,"creation_date":1421419142,"post_id":27986122,"comment_id":44363451,"body_markdown":"I doubt that @Panos knows about using regular expressions in a helpful way given his level of skills. Most obviously, most programmers would use regular expression, but this does not help the guy who asked that question!","body":"I doubt that @Panos knows about using regular expressions in a helpful way given his level of skills. Most obviously, most programmers would use regular expression, but this does not help the guy who asked that question!"},{"owner":{"account_id":2525773,"reputation":188,"user_id":2195203,"display_name":"Bryan Devaney"},"score":1,"creation_date":1421419335,"post_id":27986122,"comment_id":44363561,"body_markdown":"OK, While I&#39;m pretty sure this has been answered multiple times before i&#39;ll take a crack.\n\nString.isEmpty() will tell you if there is anything in the string at all.\nAssuming there is,\nyou could use String.indexOf(int ch) where ch is a-z,A-Z,0-9 to check for at least 1 number and letter.\nBut a better Solution is to use String.matches(String regex) with something like [a-zA-Z0-9 _]","body":"OK, While I&#39;m pretty sure this has been answered multiple times before i&#39;ll take a crack.  String.isEmpty() will tell you if there is anything in the string at all. Assuming there is, you could use String.indexOf(int ch) where ch is a-z,A-Z,0-9 to check for at least 1 number and letter. But a better Solution is to use String.matches(String regex) with something like [a-zA-Z0-9 _]"},{"owner":{"display_name":"user2983190"},"score":0,"creation_date":1421656291,"post_id":27986122,"comment_id":44427343,"body_markdown":"By the way i figured out the solution. In case anybody enters this he can see how i solved it in the following code:\n if (Pattern.compile(&quot;[0-9]&quot;).matcher(password).find() &amp;&amp;(Pattern.compile(&quot;[a-zA-Z]&quot;).matcher(password).find()))","body":"By the way i figured out the solution. In case anybody enters this he can see how i solved it in the following code:  if (Pattern.compile(&quot;[0-9]&quot;).matcher(password).find() &amp;&amp;(Pattern.compile(&quot;[a-zA-Z]&quot;).matcher(password).find()))"}],"owner":{"display_name":"user2983190"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":0,"score":0,"last_activity_date":1687866527,"creation_date":1421418473,"question_id":27986122,"body_markdown":"I wanted to ask if anybody knows how I can check in a string if there is at least a character (either small or big) and if there is at least a number in Java.\r\n\r\nAny ideas? Thanks!","title":"How can I check if a string has characters and numbers Java","body":"<p>I wanted to ask if anybody knows how I can check in a string if there is at least a character (either small or big) and if there is at least a number in Java.</p>\n\n<p>Any ideas? Thanks!</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1435161373,"post_id":31031320,"comment_id":50087195,"body_markdown":"What do you think the pattern literal `^[\\\\ \\\\&#39;\\\\-]` represents? Why do you think so?","body":"What do you think the pattern literal <code>^[\\\\ \\\\&#39;\\\\-]</code> represents? Why do you think so?"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1435161436,"post_id":31031320,"comment_id":50087237,"body_markdown":"Also why aren&#39;t you using `String#startsWith`?","body":"Also why aren&#39;t you using <code>String#startsWith</code>?"},{"owner":{"account_id":1739731,"reputation":169,"user_id":1591474,"accept_rate":40,"display_name":"Happy"},"score":0,"creation_date":1435161530,"post_id":31031320,"comment_id":50087317,"body_markdown":"I am using     public static final Pattern VALID_NAMEFIELD_CHARACTERS = Pattern\n\t\t\t.compile(&quot;([a-zA-Z &#224;&#226;&#228;&#232;&#233;&#234;&#235;&#238;&#239;&#244;œ&#249;&#251;&#252;&#255;&#231;&#192;&#194;&#196;&#200;&#201;&#202;&#203;&#206;&#207;&#212;Œ&#217;&#219;&#220;Ÿ&#199;\\\\ \\\\&#39;\\\\-])*&quot;);\n\nand it is working fine \njust not able check the first character","body":"I am using     public static final Pattern VALID_NAMEFIELD_CHARACTERS = Pattern \t\t\t.compile(&quot;([a-zA-Z &#224;&#226;&#228;&#232;&#233;&#234;&#235;&#238;&#239;&#244;œ&#249;&#251;&#252;&#255;&#231;&#192;&#194;&#196;&#200;&#201;&#202;&#203;&#206;&#207;&#212;Œ&#217;&#219;&#220;Ÿ&#199;\\\\ \\\\&#39;\\\\-])*&quot;);  and it is working fine  just not able check the first character"},{"owner":{"account_id":1739731,"reputation":169,"user_id":1591474,"accept_rate":40,"display_name":"Happy"},"score":0,"creation_date":1435161700,"post_id":31031320,"comment_id":50087427,"body_markdown":"@SotiriosDelimanolis I need to do all 3 validation at one time \nif I use string start with I have to use 3 time","body":"@SotiriosDelimanolis I need to do all 3 validation at one time  if I use string start with I have to use 3 time"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1435161750,"post_id":31031320,"comment_id":50087469,"body_markdown":"Why do you _have to_? Do you think it&#39;s faster, more efficient? Why do you think so?","body":"Why do you <i>have to</i>? Do you think it&#39;s faster, more efficient? Why do you think so?"},{"owner":{"account_id":1739731,"reputation":169,"user_id":1591474,"accept_rate":40,"display_name":"Happy"},"score":0,"creation_date":1435162246,"post_id":31031320,"comment_id":50087817,"body_markdown":"@SotiriosDelimanolis because I need it","body":"@SotiriosDelimanolis because I need it"},{"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"score":0,"creation_date":1435162329,"post_id":31031320,"comment_id":50087874,"body_markdown":"@SotiriosDelimanolis he doesn&#39;t `&quot;Why do you have to?&quot;` have to use regex but the code is cleaner if he does...I don&#39;t think it has anything to do with being faster or more efficient just cleaner looking code. Better readability...","body":"@SotiriosDelimanolis he doesn&#39;t <code>&quot;Why do you have to?&quot;</code> have to use regex but the code is cleaner if he does...I don&#39;t think it has anything to do with being faster or more efficient just cleaner looking code. Better readability..."}],"answers":[{"comments":[{"owner":{"account_id":1739731,"reputation":169,"user_id":1591474,"accept_rate":40,"display_name":"Happy"},"score":0,"creation_date":1435162093,"post_id":31031468,"comment_id":50087697,"body_markdown":"thanks for your reply \nits working\nI just needed hyphens (-), apostrophes (‘), and spaces ( ) to be matched \nso I changed it to \n    public static final Pattern VALID_FIRST_CHARACTERS = Pattern\n\t\t\t.compile(&quot;^[&#39; -].*&quot;);\nworking fine now \nthanks \n@brso05","body":"thanks for your reply  its working I just needed hyphens (-), apostrophes (‘), and spaces ( ) to be matched  so I changed it to      public static final Pattern VALID_FIRST_CHARACTERS = Pattern \t\t\t.compile(&quot;^[&#39; -].*&quot;); working fine now  thanks  @brso05"}],"tags":[],"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1435161758,"creation_date":1435161758,"answer_id":31031468,"question_id":31031320,"body_markdown":"You can change yours like this and it will work:\r\n\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n\t\tSystem.out.println(isValidFirstChar(&quot;-test&quot;));\r\n\t\tSystem.out.println(isValidFirstChar(&quot;\\\\test&quot;));\r\n\t\tSystem.out.println(isValidFirstChar(&quot;\\&#39;test&quot;));\r\n\t\tSystem.out.println(isValidFirstChar(&quot;test&quot;));\r\n\t}\r\n\tpublic static final Pattern VALID_FIRST_CHARACTERS = Pattern.compile(&quot;^[\\\\\\\\ \\\\&#39; \\\\-].*&quot;);\r\n\r\n\tpublic static boolean isValidFirstChar(String name) {\r\n\t    if (VALID_FIRST_CHARACTERS.matcher(name).matches()) {\r\n\t        return true;\r\n\t    }\r\n\t    return false;\r\n\t}\r\n\r\nThe result of this is:\r\n\r\n    true\r\n    true\r\n    true\r\n    false\r\n\r\nYou must escape the `\\\\` for java but also for regex that is why you need `\\\\\\\\` this will become `\\\\` when translated for the regex...\r\n\r\nThe `.*` on the end means match anything after...So it starts with `\\ or &#39; or -` and is followed by anything.","title":"Java pattern first letter should not be hyphens (-), apostrophes (‘), and spaces ( )","body":"<p>You can change yours like this and it will work:</p>\n\n<pre><code>public static void main(String[] args) throws FileNotFoundException {\n    System.out.println(isValidFirstChar(\"-test\"));\n    System.out.println(isValidFirstChar(\"\\\\test\"));\n    System.out.println(isValidFirstChar(\"\\'test\"));\n    System.out.println(isValidFirstChar(\"test\"));\n}\npublic static final Pattern VALID_FIRST_CHARACTERS = Pattern.compile(\"^[\\\\\\\\ \\\\' \\\\-].*\");\n\npublic static boolean isValidFirstChar(String name) {\n    if (VALID_FIRST_CHARACTERS.matcher(name).matches()) {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>The result of this is:</p>\n\n<pre><code>true\ntrue\ntrue\nfalse\n</code></pre>\n\n<p>You must escape the <code>\\\\</code> for java but also for regex that is why you need <code>\\\\\\\\</code> this will become <code>\\\\</code> when translated for the regex...</p>\n\n<p>The <code>.*</code> on the end means match anything after...So it starts with <code>\\ or ' or -</code> and is followed by anything.</p>\n"}],"owner":{"account_id":1739731,"reputation":169,"user_id":1591474,"accept_rate":40,"display_name":"Happy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":31031468,"answer_count":1,"score":-2,"last_activity_date":1687866402,"creation_date":1435161311,"question_id":31031320,"body_markdown":"I am using this pattern to check \r\n    \r\n    public static final Pattern VALID_FIRST_CHARACTERS = Pattern.compile(&quot;^[\\\\ \\\\&#39;\\\\-]&quot;);\r\n    \r\n    public boolean isValidFirstChar(String name) {\r\n\t\tif (VALID_FIRST_CHARACTERS.matcher(name).matches()) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\nno luck, can somebody help me please ?","title":"Java pattern first letter should not be hyphens (-), apostrophes (‘), and spaces ( )","body":"<p>I am using this pattern to check </p>\n\n<pre><code>public static final Pattern VALID_FIRST_CHARACTERS = Pattern.compile(\"^[\\\\ \\\\'\\\\-]\");\n\npublic boolean isValidFirstChar(String name) {\n    if (VALID_FIRST_CHARACTERS.matcher(name).matches()) {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>no luck, can somebody help me please ?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":3438751,"reputation":172981,"user_id":3297613,"accept_rate":74,"display_name":"Avinash Raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1435407351,"creation_date":1435407351,"answer_id":31088649,"question_id":31088597,"body_markdown":"Seems like you want to allow, spaces, alphabets, digits, dot, plus, minus.\r\n\r\n    Pattern p = Pattern.compile(&quot;^[A-Za-z,.+\\\\s\\\\d-]+$&quot;);","title":"Java regex: select from a set of characters","body":"<p>Seems like you want to allow, spaces, alphabets, digits, dot, plus, minus.</p>\n\n<pre><code>Pattern p = Pattern.compile(\"^[A-Za-z,.+\\\\s\\\\d-]+$\");\n</code></pre>\n"}],"owner":{"account_id":3306342,"reputation":651,"user_id":2781042,"accept_rate":57,"display_name":"cadebe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":777,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":31088649,"answer_count":1,"score":1,"last_activity_date":1687866364,"creation_date":1435407032,"question_id":31088597,"body_markdown":"I am parsing text and need to detect if any string contains any character NOT including A-Z, 0-9, full stop, comma, plus, minus, or any number of spaces.\r\n\r\nI tried the regex expression: &quot;[^A-Z0-9][^.][^,][^-][^+][\\\\S+]&quot;\r\n\r\nas well as variations on this, which does not work correctly.\r\n\r\nExamples of permissible strings:\r\n\r\n    1 23842U 96021A   15170.20596865  .00000124  00000-0  00000+0 0  9998\r\n    2 23842   0.0589 306.1344 0002868 147.0577 292.5546  1.00269795 70198\r\n\r\nInvalid string:\r\n\r\n    1 2%8!2U 96021A   15170.20596865  .00000124  ^00000-0  00000+0 0  9998\r\n\r\n","title":"Java regex: select from a set of characters","body":"<p>I am parsing text and need to detect if any string contains any character NOT including A-Z, 0-9, full stop, comma, plus, minus, or any number of spaces.</p>\n\n<p>I tried the regex expression: \"[^A-Z0-9][^.][^,][^-][^+][\\S+]\"</p>\n\n<p>as well as variations on this, which does not work correctly.</p>\n\n<p>Examples of permissible strings:</p>\n\n<pre><code>1 23842U 96021A   15170.20596865  .00000124  00000-0  00000+0 0  9998\n2 23842   0.0589 306.1344 0002868 147.0577 292.5546  1.00269795 70198\n</code></pre>\n\n<p>Invalid string:</p>\n\n<pre><code>1 2%8!2U 96021A   15170.20596865  .00000124  ^00000-0  00000+0 0  9998\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":2,"creation_date":1435696779,"post_id":31148073,"comment_id":50306439,"body_markdown":"Did you make any attempt to do this yourself? The java.util.regex.Pattern javadoc seems to be pretty clear on how to use the metacharacters.","body":"Did you make any attempt to do this yourself? The java.util.regex.Pattern javadoc seems to be pretty clear on how to use the metacharacters."},{"owner":{"account_id":333028,"reputation":5096,"user_id":658663,"accept_rate":80,"display_name":"beresfordt"},"score":1,"creation_date":1435696780,"post_id":31148073,"comment_id":50306441,"body_markdown":"You should get some pointers from https://docs.oracle.com/javase/tutorial/essential/regex/char_classes.html","body":"You should get some pointers from <a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/char_classes.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/regex/&hellip;</a>"},{"owner":{"display_name":"user557597"},"score":0,"creation_date":1435697254,"post_id":31148073,"comment_id":50306664,"body_markdown":"`(?:[all special characters](?&lt;![\\d()| -]))+` is one way. The ways this can be expressed is endless..","body":"<code>(?:[all special characters](?&lt;![\\d()| -]))+</code> is one way. The ways this can be expressed is endless.."},{"owner":{"account_id":4363480,"reputation":1648,"user_id":3559908,"display_name":"Vall0n"},"score":0,"creation_date":1435697457,"post_id":31148073,"comment_id":50306769,"body_markdown":"Try [^()|\\- a-zA-Z0-9]","body":"Try [^()|\\- a-zA-Z0-9]"},{"owner":{"account_id":6553465,"reputation":11,"user_id":5067010,"display_name":"Jacky"},"score":0,"creation_date":1435697767,"post_id":31148073,"comment_id":50306953,"body_markdown":"Thanks... But I have got another combination [^0-9\\\\s\\\\|\\\\(\\\\)\\\\-]","body":"Thanks... But I have got another combination [^0-9\\\\s\\\\|\\&#40;\\&#41;\\\\-]"},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1435716645,"post_id":31148073,"comment_id":50312842,"body_markdown":"@ShellFish: **Every** regex question is a possible duplicate of that one; that&#39;s why they closed it. ;)","body":"@ShellFish: <b>Every</b> regex question is a possible duplicate of that one; that&#39;s why they closed it. ;)"},{"owner":{"account_id":1892463,"reputation":4381,"user_id":1775715,"accept_rate":100,"display_name":"ShellFish"},"score":0,"creation_date":1435732743,"post_id":31148073,"comment_id":50317607,"body_markdown":"No, only incredibly basic ones are. Posts that don&#39;t show effort and are solvable with minimal effort and a single read through that guide are dupes.","body":"No, only incredibly basic ones are. Posts that don&#39;t show effort and are solvable with minimal effort and a single read through that guide are dupes."}],"answers":[{"comments":[{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1435717657,"post_id":31148431,"comment_id":50313087,"body_markdown":"You need to escape that hyphen (`\\-`) or move it to the last position: `[^0123456789()| -]`.  Both Java and RegExr will treat `[|- ]` as a range, and throw an exception because the end points are listed in the wrong order.  But I don&#39;t think we have enough information to answer this question yet.  For example, what does the author mean by &quot;special characters&quot;?","body":"You need to escape that hyphen (<code>\\-</code>) or move it to the last position: <code>[^0123456789()| -]</code>.  Both Java and RegExr will treat <code>[|- ]</code> as a range, and throw an exception because the end points are listed in the wrong order.  But I don&#39;t think we have enough information to answer this question yet.  For example, what does the author mean by &quot;special characters&quot;?"}],"tags":[],"owner":{"account_id":1729031,"reputation":7249,"user_id":1583052,"accept_rate":86,"display_name":"Dipu"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1435719744,"creation_date":1435698094,"answer_id":31148431,"question_id":31148073,"body_markdown":"If you want to find all characters separately you can use this pattern-\r\n\r\n    /[^ 0123456789()|\\-]/g\r\n\r\nOr if you want to find blocks of consecutive characters, you should use this-\r\n    \r\n    /[^ 0123456789()|\\-]+/g\r\n\r\nThis will identify all characters except those inside `[^(*this part*)]`\r\n\r\nBy the way, if you want to research further about regex pattern [http://regexr.com/](http://regexr.com/) will be very helpful. There are quick references and tutorials to help you learn the basics of regex quickly.\r\n","title":"java regex Pattern.compile multiple characters","body":"<p>If you want to find all characters separately you can use this pattern-</p>\n\n<pre><code>/[^ 0123456789()|\\-]/g\n</code></pre>\n\n<p>Or if you want to find blocks of consecutive characters, you should use this-</p>\n\n<pre><code>/[^ 0123456789()|\\-]+/g\n</code></pre>\n\n<p>This will identify all characters except those inside <code>[^(*this part*)]</code></p>\n\n<p>By the way, if you want to research further about regex pattern <a href=\"http://regexr.com/\" rel=\"nofollow\">http://regexr.com/</a> will be very helpful. There are quick references and tutorials to help you learn the basics of regex quickly.</p>\n"}],"owner":{"account_id":6553465,"reputation":11,"user_id":5067010,"display_name":"Jacky"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3486,"favorite_count":0,"down_vote_count":7,"up_vote_count":1,"answer_count":1,"score":-6,"last_activity_date":1687866345,"creation_date":1435696642,"question_id":31148073,"body_markdown":"I need to write a java pattern to identify all special characters except `&quot;0123456789&quot;` or `&quot;(&quot;` or `&quot;)&quot;` or `&quot;|&quot;` or `&quot;-&quot;` or `&quot; &quot;`.\r\n\r\nCan somebody help me to get an answer?\r\n\r\nI wanted to use `Pattern.compile` and `pattern.matcher` to find out this.","title":"java regex Pattern.compile multiple characters","body":"<p>I need to write a java pattern to identify all special characters except <code>\"0123456789\"</code> or <code>\"(\"</code> or <code>\")\"</code> or <code>\"|\"</code> or <code>\"-\"</code> or <code>\" \"</code>.</p>\n\n<p>Can somebody help me to get an answer?</p>\n\n<p>I wanted to use <code>Pattern.compile</code> and <code>pattern.matcher</code> to find out this.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1445346179,"post_id":33237389,"comment_id":54277567,"body_markdown":"What are you working on? What is the issue?","body":"What are you working on? What is the issue?"},{"owner":{"account_id":3296070,"reputation":4445,"user_id":2773311,"accept_rate":73,"display_name":"Arc676"},"score":0,"creation_date":1445346575,"post_id":33237389,"comment_id":54277853,"body_markdown":"Why do you need the leading `0`, the `;`, the parens, and the `&quot;`? According to your question, you are simply trying to match numeric strings. You can just use `^[0-9 ]+$`. It matches any string composed of _only_ and _at least one_ number or whitespace character. You didn&#39;t specify capturing text `(...)` in your question.","body":"Why do you need the leading <code>0</code>, the <code>;</code>, the parens, and the <code>&quot;</code>? According to your question, you are simply trying to match numeric strings. You can just use <code>^[0-9 ]+$</code>. It matches any string composed of <i>only</i> and <i>at least one</i> number or whitespace character. You didn&#39;t specify capturing text <code>(...)</code> in your question."},{"owner":{"account_id":6760063,"reputation":3,"user_id":5207240,"display_name":"Umut Mert"},"score":0,"creation_date":1445346873,"post_id":33237389,"comment_id":54278080,"body_markdown":"thanks!! thats what i mean (sorry for not being clear its little hard for me to explain myself in english)","body":"thanks!! thats what i mean (sorry for not being clear its little hard for me to explain myself in english)"}],"answers":[{"tags":[],"owner":{"account_id":3796857,"reputation":89,"user_id":3151648,"display_name":"Belhe001"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445348595,"creation_date":1445348595,"answer_id":33238347,"question_id":33237389,"body_markdown":"looks you are checking phone number,\r\n\r\nthis RE works well with given data.\r\n\r\n    private static void myregex(String txt) {\r\n    \t\tPattern myREphone = Pattern.compile(&quot;0[\\\\s]?\\\\d{3}[\\\\s]?\\\\d{3}[\\\\s]?\\\\d{2}[\\\\s]?\\\\d{2}&quot;);\r\n    \t\tMatcher mymatchsphone = myREphone.matcher(txt);\t\r\n    \t\tif (mymatchsphone.find()) System.out.println(txt.substring( mymatchsphone.start(), mymatchsphone.end()));\r\n    \t}","title":"Regex Numeric Things In Java","body":"<p>looks you are checking phone number,</p>\n\n<p>this RE works well with given data.</p>\n\n<pre><code>private static void myregex(String txt) {\n        Pattern myREphone = Pattern.compile(\"0[\\\\s]?\\\\d{3}[\\\\s]?\\\\d{3}[\\\\s]?\\\\d{2}[\\\\s]?\\\\d{2}\");\n        Matcher mymatchsphone = myREphone.matcher(txt); \n        if (mymatchsphone.find()) System.out.println(txt.substring( mymatchsphone.start(), mymatchsphone.end()));\n    }\n</code></pre>\n"}],"owner":{"account_id":6760063,"reputation":3,"user_id":5207240,"display_name":"Umut Mert"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":1,"score":-5,"last_activity_date":1687866240,"creation_date":1445346121,"question_id":33237389,"body_markdown":"3 days im working on regular expressions and something got stuck in my head here is the thing;\r\ni want my regex to accept like this one\r\n\r\n0 123 456 78 90\r\n\r\n0355 369 5878\r\n\r\n01234567890\r\n\r\nlast one is easy to do, like \r\n\r\n    &quot;(0[0-9]);\r\nbut i dont know the rest on java ","title":"Regex Numeric Things In Java","body":"<p>3 days im working on regular expressions and something got stuck in my head here is the thing;\ni want my regex to accept like this one</p>\n\n<p>0 123 456 78 90</p>\n\n<p>0355 369 5878</p>\n\n<p>01234567890</p>\n\n<p>last one is easy to do, like </p>\n\n<pre><code>\"(0[0-9]);\n</code></pre>\n\n<p>but i dont know the rest on java </p>\n"},{"tags":["java","regex","qregularexpression"],"answers":[{"comments":[{"owner":{"account_id":7178858,"reputation":1,"user_id":5483665,"display_name":"JGomez"},"score":0,"creation_date":1445710916,"post_id":33321023,"comment_id":54441175,"body_markdown":"Why &#39;This answer is not useful&#39;? It&#39;s the only that finds &#39;values&#39;.","body":"Why &#39;This answer is not useful&#39;? It&#39;s the only that finds &#39;values&#39;."}],"tags":[],"owner":{"account_id":7178858,"reputation":1,"user_id":5483665,"display_name":"JGomez"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1445707193,"creation_date":1445706833,"answer_id":33321023,"question_id":33319836,"body_markdown":"To find only the values (without the asterisks). (Not find values completely blank):\r\n\r\n    (?&lt;=\\*)(\\s*[^*\\s]+\\s*)","title":"Regular Expressions find all values inside asterisk","body":"<p>To find only the values (without the asterisks). (Not find values completely blank):</p>\n\n<pre><code>(?&lt;=\\*)(\\s*[^*\\s]+\\s*)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5024546,"reputation":134,"user_id":4036967,"display_name":"sarath kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445707541,"creation_date":1445707541,"answer_id":33321133,"question_id":33319836,"body_markdown":"this works fine...    \r\n\r\n    String pattern = &quot;\\*([^*^\\s*$]+)\\*&quot;;\r\n    Pattern pt = Pattern.compile(pattern);\r\n    Matcher mat = pt.matcher(data);","title":"Regular Expressions find all values inside asterisk","body":"<p>this works fine...    </p>\n\n<pre><code>String pattern = \"\\*([^*^\\s*$]+)\\*\";\nPattern pt = Pattern.compile(pattern);\nMatcher mat = pt.matcher(data);\n</code></pre>\n"}],"owner":{"account_id":5024546,"reputation":134,"user_id":4036967,"display_name":"sarath kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1687866230,"creation_date":1445700478,"question_id":33319836,"body_markdown":"i need to find all values that resides between two asterisk symbol `*data1* *data2* *data3* *data4* *data5*`how do i set Regular Expression in java for this particular string. \r\ni tried indexof ..but it ain&#39;t  work","title":"Regular Expressions find all values inside asterisk","body":"<p>i need to find all values that resides between two asterisk symbol <code>*data1* *data2* *data3* *data4* *data5*</code>how do i set Regular Expression in java for this particular string. \ni tried indexof ..but it ain't  work</p>\n"},{"tags":["java","linux","smb"],"comments":[{"owner":{"account_id":5373910,"reputation":709,"user_id":4281516,"display_name":"Bal&#225;zs Nemes"},"score":0,"creation_date":1498651238,"post_id":44799583,"comment_id":76583459,"body_markdown":"When reading the directory you use that `SmbFile` class and provide authentication credentials for it, so it works. When trying to copy you use that `sftChannel` which is a completely different class. How should it know the authentication credentials? I&#39;m not familiar with these classes, but you probably have to read the content of your file via the `SmbFile` class and store it in memory or in a local file, and then sftp copy it to the destination from your memory array or local file.","body":"When reading the directory you use that <code>SmbFile</code> class and provide authentication credentials for it, so it works. When trying to copy you use that <code>sftChannel</code> which is a completely different class. How should it know the authentication credentials? I&#39;m not familiar with these classes, but you probably have to read the content of your file via the <code>SmbFile</code> class and store it in memory or in a local file, and then sftp copy it to the destination from your memory array or local file."},{"owner":{"account_id":5373910,"reputation":709,"user_id":4281516,"display_name":"Bal&#225;zs Nemes"},"score":0,"creation_date":1498652188,"post_id":44799583,"comment_id":76584241,"body_markdown":"As I see the `SmbFile` class has a `getInputStream()` method so its InputStream can be used to read the file. I can not see in your example what is the type of this `sftChannel` variable","body":"As I see the <code>SmbFile</code> class has a <code>getInputStream()</code> method so its InputStream can be used to read the file. I can not see in your example what is the type of this <code>sftChannel</code> variable"},{"owner":{"account_id":3399781,"reputation":173,"user_id":2852305,"accept_rate":20,"display_name":"user2852305"},"score":0,"creation_date":1498709633,"post_id":44799583,"comment_id":76612611,"body_markdown":"@Bal&#225;zsNemes Sorry I have not provided the complete code. I just provided the code that resulted in exception.","body":"@Bal&#225;zsNemes Sorry I have not provided the complete code. I just provided the code that resulted in exception."},{"owner":{"account_id":3399781,"reputation":173,"user_id":2852305,"accept_rate":20,"display_name":"user2852305"},"score":0,"creation_date":1498710201,"post_id":44799583,"comment_id":76612756,"body_markdown":"@Bal&#225;zsNemes  I have added some more information in the note section. Hope that gives you a better understanding of what I am trying to achieve.","body":"@Bal&#225;zsNemes  I have added some more information in the note section. Hope that gives you a better understanding of what I am trying to achieve."}],"answers":[{"tags":[],"owner":{"account_id":5373910,"reputation":709,"user_id":4281516,"display_name":"Bal&#225;zs Nemes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1504733756,"creation_date":1498717584,"answer_id":44817786,"question_id":44799583,"body_markdown":"I guess the type of `sftpChannel` is `com.jcraft.jsch.ChannelSftp`. Then the following method will do the copy for you. Of course you have to pass properly initialized `SmbFile` and `ChannelSftp` objects as parameters. \r\n\r\n    public void copyFromSmbToSftp(SmbFile smbFile, ChannelSftp channelSftp, String destPath) throws IOException, SftpException {\r\n        try(BufferedInputStream inputStream = new BufferedInputStream(smbFile.getInputStream());\r\n            BufferedOutputStream outputStream = new BufferedOutputStream(channelSftp.put(destPath))){\r\n          byte[] buffer = new byte[64*1024];\r\n          int bytesRead;\r\n          while((bytesRead=inputStream.read(buffer, 0, buffer.length))!=-1){\r\n            outputStream.write(buffer, 0, bytesRead);\r\n          }\r\n        }\r\n      }","title":"How to copy/transfer a file from windows server path to linux server path?","body":"<p>I guess the type of <code>sftpChannel</code> is <code>com.jcraft.jsch.ChannelSftp</code>. Then the following method will do the copy for you. Of course you have to pass properly initialized <code>SmbFile</code> and <code>ChannelSftp</code> objects as parameters. </p>\n\n<pre><code>public void copyFromSmbToSftp(SmbFile smbFile, ChannelSftp channelSftp, String destPath) throws IOException, SftpException {\n    try(BufferedInputStream inputStream = new BufferedInputStream(smbFile.getInputStream());\n        BufferedOutputStream outputStream = new BufferedOutputStream(channelSftp.put(destPath))){\n      byte[] buffer = new byte[64*1024];\n      int bytesRead;\n      while((bytesRead=inputStream.read(buffer, 0, buffer.length))!=-1){\n        outputStream.write(buffer, 0, bytesRead);\n      }\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":3399781,"reputation":173,"user_id":2852305,"accept_rate":20,"display_name":"user2852305"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1139,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44817786,"answer_count":1,"score":2,"last_activity_date":1687866120,"creation_date":1498644672,"question_id":44799583,"body_markdown":"I have tried the below code:\r\n\r\n    String url = &quot;smb://remotehost/SharedPath/Comp/NG/&quot;;\r\n    NtlmPasswordAuthentication auth2 = new \r\n    NtlmPasswordAuthentication(null,&quot;user&quot;, &quot;password&quot;);\r\n    SmbFile dir = new SmbFile(url, auth);\r\n    for (SmbFile f : dir.listFiles())\r\n    {\r\n      if(f.getName().contains(&quot;Test&quot;)) //successfully reads the file\r\n      {\r\n        System.out.println(&quot;test....&quot;+f);\r\n        filename= f.getUncPath();\r\n        System.out.println(&quot;filename....&quot;+filename);\r\n        sftpChannel.put(filename, remoteDirectory); // throws exception\r\n      }  \r\n    }\r\n\r\nAbove code results in exception as follows:\r\n`java.io.FileNotFoundException: \\\\remotehost\\SharedPath\\comp\\NG\\Test.txt (Logon failure: unknown user name or bad password)`\r\n\r\n\r\nPlease note:\r\n\r\n- I am able to read the files present in the remote server using the above code but not able to copy or transfer the file from remote server path to Linux server path.\r\n\r\n- As the connection to remote server and linux server was successful, I tried to directly copy the file from remote path to linux server path using `sftpchannel.put()` but it throws exception.\r\n\r\n- Once connected using smb, will we not be able to connect directly to shared path using below url? `String url = &quot;//remotehost/SharedPath/Comp/NG/&quot;;`\r\n\r\nPlease note: I am connecting to Linux server using jsch library and I am able to successfully connect to Linux server using sftpChannel.connect(); and also able to put the file from my local machine to Linux server using sftpChannel.put(localpath, linuxpath);  and To connect to windows server I am using smbFile. I am able to connect but not able to copy the file from windows to Linux server path.  I tried using sftpChannel.put(filename, remoteDirectory);  for the same but it resulted in exception. At this particular step I assumed that as the connection to windows server is successful I will be able to copy the files as well. I am able to read the file but not copy. Not sure why this is happening.\r\n\r\nCan anyone provide me the proper steps to do this?","title":"How to copy/transfer a file from windows server path to linux server path?","body":"<p>I have tried the below code:</p>\n\n<pre><code>String url = \"smb://remotehost/SharedPath/Comp/NG/\";\nNtlmPasswordAuthentication auth2 = new \nNtlmPasswordAuthentication(null,\"user\", \"password\");\nSmbFile dir = new SmbFile(url, auth);\nfor (SmbFile f : dir.listFiles())\n{\n  if(f.getName().contains(\"Test\")) //successfully reads the file\n  {\n    System.out.println(\"test....\"+f);\n    filename= f.getUncPath();\n    System.out.println(\"filename....\"+filename);\n    sftpChannel.put(filename, remoteDirectory); // throws exception\n  }  \n}\n</code></pre>\n\n<p>Above code results in exception as follows:\n<code>java.io.FileNotFoundException: \\\\remotehost\\SharedPath\\comp\\NG\\Test.txt (Logon failure: unknown user name or bad password)</code></p>\n\n<p>Please note:</p>\n\n<ul>\n<li><p>I am able to read the files present in the remote server using the above code but not able to copy or transfer the file from remote server path to Linux server path.</p></li>\n<li><p>As the connection to remote server and linux server was successful, I tried to directly copy the file from remote path to linux server path using <code>sftpchannel.put()</code> but it throws exception.</p></li>\n<li><p>Once connected using smb, will we not be able to connect directly to shared path using below url? <code>String url = \"//remotehost/SharedPath/Comp/NG/\";</code></p></li>\n</ul>\n\n<p>Please note: I am connecting to Linux server using jsch library and I am able to successfully connect to Linux server using sftpChannel.connect(); and also able to put the file from my local machine to Linux server using sftpChannel.put(localpath, linuxpath);  and To connect to windows server I am using smbFile. I am able to connect but not able to copy the file from windows to Linux server path.  I tried using sftpChannel.put(filename, remoteDirectory);  for the same but it resulted in exception. At this particular step I assumed that as the connection to windows server is successful I will be able to copy the files as well. I am able to read the file but not copy. Not sure why this is happening.</p>\n\n<p>Can anyone provide me the proper steps to do this?</p>\n"},{"tags":["java","android","datetime","jodatime"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1687866039,"post_id":76564460,"comment_id":134993654,"body_markdown":"Please don&#39;t use code font for things that really aren&#39;t code.","body":"Please don&#39;t use code font for things that really aren&#39;t code."}],"owner":{"account_id":1931992,"reputation":4921,"user_id":1741203,"accept_rate":57,"display_name":"Rajeev Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687866064,"creation_date":1687865815,"question_id":76564460,"body_markdown":"I have been trying writing a logic for getting peak hour duration between two dates. \r\n\r\ne.g if for certain service peak hour time is between 2000 hrs to  2200hrs (HHmm format).\r\nIf start date is 26 Jun 2023 19:00:00 and end date is 26 Jun 2023 22:30:00\r\n\r\nHow can I get the duration of peak hours and normal hours usage between start and end date?\r\n\r\nIn the above example, the peak hours should be 2 hrs and normal hours should be 1.30 hrs.","title":"Get peak hour duration between start and end date","body":"<p>I have been trying writing a logic for getting peak hour duration between two dates.</p>\n<p>e.g if for certain service peak hour time is between 2000 hrs to  2200hrs (HHmm format).\nIf start date is 26 Jun 2023 19:00:00 and end date is 26 Jun 2023 22:30:00</p>\n<p>How can I get the duration of peak hours and normal hours usage between start and end date?</p>\n<p>In the above example, the peak hours should be 2 hrs and normal hours should be 1.30 hrs.</p>\n"},{"tags":["java","jsp","filesystems","samba","jcifs"],"answers":[{"tags":[],"owner":{"account_id":479485,"reputation":506,"user_id":892174,"display_name":"paulscott56"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469109985,"creation_date":1469109985,"answer_id":38506484,"question_id":38506054,"body_markdown":"You need the proper auth mechanisms. See for example:\r\n\r\n    private static void GetFiles() throws IOException {\r\n        jcifs.Config.registerSmbURLHandler();\r\n \r\n        NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(\r\n                prop.getProperty(&quot;smbDomain&quot;), prop.getProperty(&quot;smbUser&quot;),\r\n                prop.getProperty(&quot;smbPass&quot;));\r\n \r\n         \r\n        StaticUserAuthenticator authS = new StaticUserAuthenticator(\r\n                prop.getProperty(&quot;smbDomain&quot;), prop.getProperty(&quot;smbUser&quot;),\r\n                prop.getProperty(&quot;smbPass&quot;));\r\n \r\n        FileSystemOptions opts = new FileSystemOptions();\r\n         \r\n        DefaultFileSystemConfigBuilder.getInstance().setUserAuthenticator(opts,\r\n                authS);\r\n         \r\n        SmbFile smbFile = new SmbFile(prop.getProperty(&quot;smbURL&quot;),auth);\r\n        FileSystemManager fs = VFS.getManager();\r\n        String[] files = smbFile.list();\r\n         \r\n        for(String file:files) {\r\n            SmbFile remFile = new SmbFile(prop.getProperty(&quot;smbURL&quot;) + file, auth);\r\n            SmbFileInputStream smbfos = new SmbFileInputStream(remFile);\r\n            OutputStream out = new FileOutputStream(file);\r\n            byte[] b = new byte[8192];  \r\n            int n;  \r\n            while ((n = smbfos.read(b)) &gt; 0) {  \r\n                out.write(b, 0, n);  \r\n            }  \r\n            smbfos.close();\r\n            out.close(); \r\n        }\r\n         \r\n    }\r\n","title":"Java JCIFS how right to copy file from Samba to Windows local?","body":"<p>You need the proper auth mechanisms. See for example:</p>\n\n<pre><code>private static void GetFiles() throws IOException {\n    jcifs.Config.registerSmbURLHandler();\n\n    NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(\n            prop.getProperty(\"smbDomain\"), prop.getProperty(\"smbUser\"),\n            prop.getProperty(\"smbPass\"));\n\n\n    StaticUserAuthenticator authS = new StaticUserAuthenticator(\n            prop.getProperty(\"smbDomain\"), prop.getProperty(\"smbUser\"),\n            prop.getProperty(\"smbPass\"));\n\n    FileSystemOptions opts = new FileSystemOptions();\n\n    DefaultFileSystemConfigBuilder.getInstance().setUserAuthenticator(opts,\n            authS);\n\n    SmbFile smbFile = new SmbFile(prop.getProperty(\"smbURL\"),auth);\n    FileSystemManager fs = VFS.getManager();\n    String[] files = smbFile.list();\n\n    for(String file:files) {\n        SmbFile remFile = new SmbFile(prop.getProperty(\"smbURL\") + file, auth);\n        SmbFileInputStream smbfos = new SmbFileInputStream(remFile);\n        OutputStream out = new FileOutputStream(file);\n        byte[] b = new byte[8192];  \n        int n;  \n        while ((n = smbfos.read(b)) &gt; 0) {  \n            out.write(b, 0, n);  \n        }  \n        smbfos.close();\n        out.close(); \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6695972,"reputation":1584,"user_id":5163984,"accept_rate":93,"display_name":"Nikolay Baranenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1469125091,"creation_date":1469125091,"answer_id":38511616,"question_id":38506054,"body_markdown":"option resolve to the problem\r\n\r\n&lt;pre&gt;\r\n\r\n    InputStream in = null;\r\n               OutputStream out = null;\r\n               try{\r\n    \r\n                   String SambaURL= &quot;smb://usersamba:1234@192.168.1.110/data/1b.csv&quot;;\r\n                   File destinationFolder = new File(&quot;C:\\\\Temp\\\\IN\\\\&quot;);\r\n                   SimpleDateFormat fmt = new SimpleDateFormat(&quot;yyyyMMddHHmmssSSS_&quot;);\r\n                   File child = new File (destinationFolder+ &quot;/&quot; + fmt.format(new Date()) +&quot;1b.csv&quot;);\r\n                   SmbFile dir = new SmbFile(SambaURL);\r\n                   SmbFile fileToGet=new SmbFile(SambaURL);\r\n                   fileToGet.connect();\r\n    \r\n                   in = new BufferedInputStream(new SmbFileInputStream(fileToGet));\r\n                   out = new BufferedOutputStream(new FileOutputStream(child));\r\n    \r\n                   byte[] buffer = new byte[4096];\r\n                   int len = 0; //Read length\r\n                   while ((len = in.read(buffer, 0, buffer.length)) != -1) {\r\n                             out.write(buffer, 0, len);\r\n                   }\r\n                   out.flush(); //The refresh buffer output stream\r\n               }\r\n               catch (Exception e) {\r\n                   String msg = &quot;The error occurred: &quot; + e.getLocalizedMessage();\r\n                   System.out.println(msg);\r\n               }\r\n               finally {\r\n                   try {\r\n                       if(out != null) {\r\n                           out.close();\r\n                       }\r\n                       if(in != null) {\r\n                           in.close();\r\n                       }\r\n                   }\r\n                   catch (Exception e) {}\r\n               }\r\n\r\n&lt;/pre&gt;\r\n\r\n[source here][1]\r\n\r\n\r\n  [1]: http://www.programering.com/a/MTO2YTNwATM.html","title":"Java JCIFS how right to copy file from Samba to Windows local?","body":"<p>option resolve to the problem</p>\n\n<pre>\n\n    InputStream in = null;\n               OutputStream out = null;\n               try{\n\n                   String SambaURL= \"smb://usersamba:1234@192.168.1.110/data/1b.csv\";\n                   File destinationFolder = new File(\"C:\\\\Temp\\\\IN\\\\\");\n                   SimpleDateFormat fmt = new SimpleDateFormat(\"yyyyMMddHHmmssSSS_\");\n                   File child = new File (destinationFolder+ \"/\" + fmt.format(new Date()) +\"1b.csv\");\n                   SmbFile dir = new SmbFile(SambaURL);\n                   SmbFile fileToGet=new SmbFile(SambaURL);\n                   fileToGet.connect();\n\n                   in = new BufferedInputStream(new SmbFileInputStream(fileToGet));\n                   out = new BufferedOutputStream(new FileOutputStream(child));\n\n                   byte[] buffer = new byte[4096];\n                   int len = 0; //Read length\n                   while ((len = in.read(buffer, 0, buffer.length)) != -1) {\n                             out.write(buffer, 0, len);\n                   }\n                   out.flush(); //The refresh buffer output stream\n               }\n               catch (Exception e) {\n                   String msg = \"The error occurred: \" + e.getLocalizedMessage();\n                   System.out.println(msg);\n               }\n               finally {\n                   try {\n                       if(out != null) {\n                           out.close();\n                       }\n                       if(in != null) {\n                           in.close();\n                       }\n                   }\n                   catch (Exception e) {}\n               }\n\n</pre>\n\n<p><a href=\"http://www.programering.com/a/MTO2YTNwATM.html\" rel=\"nofollow\">source here</a></p>\n"}],"owner":{"account_id":6695972,"reputation":1584,"user_id":5163984,"accept_rate":93,"display_name":"Nikolay Baranenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4528,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":38511616,"answer_count":2,"score":0,"last_activity_date":1687866017,"creation_date":1469108826,"question_id":38506054,"body_markdown":"I&#39;m trying to create a Java application which can copy files from a Unix Samba share to a Windows folder. In order to achieve that, I&#39;m using the  JCIFS library.\r\n\r\nI have the following code:\r\n\r\n    SmbFile smbFromFile = new SmbFile(&quot;smb:////192.168.10.1//data&quot;, auth);\r\n    smbFromFile.copyTo(destinationFolder);\r\n\r\nI&#39;m modifying it to:\r\n\r\n    SmbFile smbFromFile = new SmbFile(&quot;smb:////192.168.10.1//data&quot;, auth);\r\n    SmbFile destinationFolder = new SmbFile(&quot;C:\\\\Temp\\\\IN\\\\&quot;);\r\n    smbFromFile.copyTo(destinationFolder);\r\n\r\nBut it gives me the following error:\r\n\r\n    Exception in thread &quot;main&quot; jcifs.smb.SmbAuthException: Logon failure: unknown user name or bad password.\r\n    \tat jcifs.smb.SmbTransport.checkStatus(SmbTransport.java:546)\r\n    \tat jcifs.smb.SmbTransport.send(SmbTransport.java:663)\r\n    \tat jcifs.smb.SmbSession.sessionSetup(SmbSession.java:390)\r\n    \tat jcifs.smb.SmbSession.send(SmbSession.java:218)\r\n    \tat jcifs.smb.SmbTree.treeConnect(SmbTree.java:176)\r\n    \tat jcifs.smb.SmbFile.doConnect(SmbFile.java:911)\r\n    \tat jcifs.smb.SmbFile.connect(SmbFile.java:957)\r\n    \tat jcifs.smb.SmbFile.connect0(SmbFile.java:880)\r\n    \tat jcifs.smb.SmbFile.copyTo(SmbFile.java:2303)\r\n    \tat RU.Tasks.Task3_Load_MedioSCP_Tekelek_file_To_DB_Oracle_BMCDB.main(Task3.java:203)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)\r\n\r\nIf I try to create a new file on the Samba share, it works as expected:\r\n\r\n    String user = &quot;usersamba&quot;;\r\n    String pass =&quot;1234&quot;;\r\n    String hostname = &quot;192.168.10.1&quot;;\r\n    String sharedFolder = &quot;data/new&quot;;\r\n    String path = &quot;smb://&quot;+hostname+&quot;/&quot;+sharedFolder+&quot;/test.txt&quot;;\r\n    NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(&quot;&quot;,user, pass);\r\n    SmbFile smbFile = new SmbFile(path,auth);\r\n    SmbFileOutputStream smbfos = new SmbFileOutputStream(smbFile);\r\n    smbfos.write(&quot;testing....and writing to a file&quot;.getBytes());\r\n    System.out.println(&quot;completed ...nice !&quot;);\r\n\r\nPlease help to resolve this problem.","title":"Java JCIFS how right to copy file from Samba to Windows local?","body":"<p>I'm trying to create a Java application which can copy files from a Unix Samba share to a Windows folder. In order to achieve that, I'm using the  JCIFS library.</p>\n\n<p>I have the following code:</p>\n\n<pre><code>SmbFile smbFromFile = new SmbFile(\"smb:////192.168.10.1//data\", auth);\nsmbFromFile.copyTo(destinationFolder);\n</code></pre>\n\n<p>I'm modifying it to:</p>\n\n<pre><code>SmbFile smbFromFile = new SmbFile(\"smb:////192.168.10.1//data\", auth);\nSmbFile destinationFolder = new SmbFile(\"C:\\\\Temp\\\\IN\\\\\");\nsmbFromFile.copyTo(destinationFolder);\n</code></pre>\n\n<p>But it gives me the following error:</p>\n\n<pre><code>Exception in thread \"main\" jcifs.smb.SmbAuthException: Logon failure: unknown user name or bad password.\n    at jcifs.smb.SmbTransport.checkStatus(SmbTransport.java:546)\n    at jcifs.smb.SmbTransport.send(SmbTransport.java:663)\n    at jcifs.smb.SmbSession.sessionSetup(SmbSession.java:390)\n    at jcifs.smb.SmbSession.send(SmbSession.java:218)\n    at jcifs.smb.SmbTree.treeConnect(SmbTree.java:176)\n    at jcifs.smb.SmbFile.doConnect(SmbFile.java:911)\n    at jcifs.smb.SmbFile.connect(SmbFile.java:957)\n    at jcifs.smb.SmbFile.connect0(SmbFile.java:880)\n    at jcifs.smb.SmbFile.copyTo(SmbFile.java:2303)\n    at RU.Tasks.Task3_Load_MedioSCP_Tekelek_file_To_DB_Oracle_BMCDB.main(Task3.java:203)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)\n</code></pre>\n\n<p>If I try to create a new file on the Samba share, it works as expected:</p>\n\n<pre><code>String user = \"usersamba\";\nString pass =\"1234\";\nString hostname = \"192.168.10.1\";\nString sharedFolder = \"data/new\";\nString path = \"smb://\"+hostname+\"/\"+sharedFolder+\"/test.txt\";\nNtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(\"\",user, pass);\nSmbFile smbFile = new SmbFile(path,auth);\nSmbFileOutputStream smbfos = new SmbFileOutputStream(smbFile);\nsmbfos.write(\"testing....and writing to a file\".getBytes());\nSystem.out.println(\"completed ...nice !\");\n</code></pre>\n\n<p>Please help to resolve this problem.</p>\n"},{"tags":["java","sql-server","spring-boot","java-stored-procedures"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1573952078,"post_id":58896357,"comment_id":104057840,"body_markdown":"Are you sure you want to use the type `Array.class` for your `result` parameter?","body":"Are you sure you want to use the type <code>Array.class</code> for your <code>result</code> parameter?"},{"owner":{"account_id":12580272,"reputation":1,"user_id":9151229,"display_name":"Dikshit"},"score":0,"creation_date":1574028131,"post_id":58896357,"comment_id":104074021,"body_markdown":"I will be getting list of data as a result from procedure thats why I have used this.Let me know if this is wrong and what should I give here","body":"I will be getting list of data as a result from procedure thats why I have used this.Let me know if this is wrong and what should I give here"}],"answers":[{"tags":[],"owner":{"account_id":15369314,"reputation":384,"user_id":11087815,"display_name":"S B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574058128,"creation_date":1574058128,"answer_id":58908966,"question_id":58896357,"body_markdown":"Use @Procedure on find method in ArticleRepository. Also ensure that name attribute in @Procedure matches the name attribute value given in @NamedStoredProcedureQuery in entity.","title":"Procedure or function &#39;search_words1&#39; expects parameter &#39;@result&#39;, which was not supplied","body":"<p>Use @Procedure on find method in ArticleRepository. Also ensure that name attribute in @Procedure matches the name attribute value given in @NamedStoredProcedureQuery in entity.</p>\n"},{"tags":[],"owner":{"account_id":19872745,"reputation":26,"user_id":14558489,"display_name":"Esin Akdoğan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687865977,"creation_date":1687865977,"answer_id":76564476,"question_id":58896357,"body_markdown":"Even if it is an old question, i hope my answer helps someone. You can follow this guide: [Calling Stored Procedures JPA][1]\r\n### You can reference your prodecures in 3 ways: ### \r\n### 1. By its name ###\r\nIn your dao define procedure like this: \r\n```\r\n@Procedure(&quot;PROCEDURE_NAME&quot;)\r\nList&lt;String[]/Object/outtype&gt; functionNameCanBeAnything(@Param(&quot;paramNameInSP&quot;) String inputParam);\r\n```\r\ncall the function in your service. In your case:\r\nStored Procedure might not understand what Article is, your output parameter is \r\ndefined as varchar so i suggest you that you should use String instead of Article.\r\nIf there are multiple columns as result you can use String[] then process your output. \r\n```\r\n@Procedure(&quot;search_words1&quot;)\r\nList&lt;String&gt; search(@Param(&quot;word_list&quot;) String inputParam);\r\n```\r\n### 2. In Entity ###\r\n```\r\n//In your dao \r\n@Procedure(name = &quot;EntityName.functionName&quot;)\r\n    List&lt;String[]&gt; functionName(@Param(&quot;inputName&quot;) String inputName);\r\n//In your entity define your procedure like this: \r\n@NamedStoredProcedureQuery(name = &quot;EntityName.functionName&quot;,\r\n        procedureName = &quot;ProcedureName&quot;, parameters = {\r\n        @StoredProcedureParameter(mode = ParameterMode.IN, name = &quot;inputName&quot;, type = String.class),\r\n        @StoredProcedureParameter(mode = ParameterMode.OUT, name = &quot;outParam&quot;, type = Integer.class)})\r\n```\r\nYou can also apply this into your case by calling the fınction in your service.\r\n\r\n### 3. With @Query annotation ###\r\nIt might be different for Databases but you can see an example in the guide  \r\n\r\n  [1]: https://www.baeldung.com/spring-data-jpa-stored-procedures","title":"Procedure or function &#39;search_words1&#39; expects parameter &#39;@result&#39;, which was not supplied","body":"<p>Even if it is an old question, i hope my answer helps someone. You can follow this guide: <a href=\"https://www.baeldung.com/spring-data-jpa-stored-procedures\" rel=\"nofollow noreferrer\">Calling Stored Procedures JPA</a></p>\n<h3>You can reference your prodecures in 3 ways:</h3>\n<h3>1. By its name</h3>\n<p>In your dao define procedure like this:</p>\n<pre><code>@Procedure(&quot;PROCEDURE_NAME&quot;)\nList&lt;String[]/Object/outtype&gt; functionNameCanBeAnything(@Param(&quot;paramNameInSP&quot;) String inputParam);\n</code></pre>\n<p>call the function in your service. In your case:\nStored Procedure might not understand what Article is, your output parameter is\ndefined as varchar so i suggest you that you should use String instead of Article.\nIf there are multiple columns as result you can use String[] then process your output.</p>\n<pre><code>@Procedure(&quot;search_words1&quot;)\nList&lt;String&gt; search(@Param(&quot;word_list&quot;) String inputParam);\n</code></pre>\n<h3>2. In Entity</h3>\n<pre><code>//In your dao \n@Procedure(name = &quot;EntityName.functionName&quot;)\n    List&lt;String[]&gt; functionName(@Param(&quot;inputName&quot;) String inputName);\n//In your entity define your procedure like this: \n@NamedStoredProcedureQuery(name = &quot;EntityName.functionName&quot;,\n        procedureName = &quot;ProcedureName&quot;, parameters = {\n        @StoredProcedureParameter(mode = ParameterMode.IN, name = &quot;inputName&quot;, type = String.class),\n        @StoredProcedureParameter(mode = ParameterMode.OUT, name = &quot;outParam&quot;, type = Integer.class)})\n</code></pre>\n<p>You can also apply this into your case by calling the fınction in your service.</p>\n<h3>3. With @Query annotation</h3>\n<p>It might be different for Databases but you can see an example in the guide</p>\n"}],"owner":{"account_id":12580272,"reputation":1,"user_id":9151229,"display_name":"Dikshit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687865977,"creation_date":1573948922,"question_id":58896357,"body_markdown":"I am trying to call procedure from java spring boot. I am passing array as a parameter to procedure and from the procedure I want to return the list back to java as a resultset. Please let me know what I doing wrong here.\r\nBelow is the code: \r\n\r\nThis is the entity class where I have provided details of the procedure\r\n```\r\n@Entity\r\n@Table(name=&quot;article&quot;)\r\n@NamedStoredProcedureQuery(\r\n        name = &quot;search_words&quot;, \r\n        procedureName = &quot;dbo.search_words1&quot;, \r\n        parameters = { \r\n            @StoredProcedureParameter(\r\n                mode = ParameterMode.IN, \r\n                name = &quot;list&quot;, \r\n                type = Array.class),\r\n            @StoredProcedureParameter(\r\n                mode = ParameterMode.OUT, \r\n                name = &quot;result&quot;, \r\n                type = Array.class) \r\n            }\r\n)\r\npublic class Article {\r\n//entity class\r\n}\r\n```\r\n\r\nThis is the repository class from where I am trying to call perocedure\r\n```\r\n//Repository class\r\n@Repository\r\npublic interface ArticleRepository extends JpaRepository&lt;Article, Long&gt; {\r\n\t\r\n\tpublic List&lt;Article&gt; findAllByOrderByArticleIdDesc();\r\n\t\r\n\tpublic List&lt;Article&gt; findAllByNavigationOrderByArticleIdDesc(Navigation navigation);\r\n\t\r\n\t@Query(nativeQuery = true, value = &quot;exec search_words1&quot;)\r\n\tpublic List&lt;Article&gt; find(@Param(&quot;list&quot;) String[] list);\r\n}\r\n```\r\n\r\nThis is the actual procedure created in sql server\r\n```\r\n    CREATE or ALTER PROCEDURE search_words1 \r\n\t@list word_list READONLY,\r\n\t@result varchar OUTPUT\r\nAS\r\nBEGIN\r\nSET NOCOUNT ON\r\n\t--DECLARE @list as word_list\r\nDECLARE @list_count int;\r\nDECLARE @_count int;\r\nDECLARE @qry varchar(1000);\r\nDECLARE @wording varchar(1000);\r\nset @_count = 0;\r\n--print @list;\r\n--insert into @list values (1,&#39;java&#39;);\r\n--insert into @list values (2,&#39;aws&#39;);\r\n--insert into @list values (3,&#39;avl&#39;);\r\nset @list_count =  (select count(*) from @list)\r\nset @qry = &#39;&#39;\r\nWHILE ( @_count &lt; @list_count )\r\n\tBEGIN\r\n\tset @_count = @_count + 1;\r\n\tset @wording = (select word from @list where id = @_count);\r\n\tset @qry = @qry + &#39; SELECT * FROM article a WHERE LOWER(a.description) like &#39; + &#39;&#39;&#39;%&#39;+@wording+&#39;%&#39;&#39;&#39;\r\n\tif (@_count &lt;&gt; @list_count)\r\n\t\tset @qry = @qry + &#39; UNION &#39;\r\n\tEND;\r\n\tEXEC (@qry)\r\n\tset @result = @qry\r\n--EXEC dbo.search @list\r\nRETURN @result\r\nEND\r\nGO\r\n```\r\nGetting below error while executing code:\r\n\r\n    com.microsoft.sqlserver.jdbc.SQLServerException: Procedure or function &#39;search_words1&#39; expects parameter &#39;@result&#39;, which was not supplied.\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:232) ~[mssql-jdbc-6.1.0.jre8.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1672) ~[mssql-jdbc-6.1.0.jre8.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:460) ~[mssql-jdbc-6.1.0.jre8.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:405) ~[mssql-jdbc-6.1.0.jre8.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7535) ~[mssql-jdbc-6.1.0.jre8.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2438) ~[mssql-jdbc-6.1.0.jre8.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:208) ~[mssql-jdbc-6.1.0.jre8.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:183) ~[mssql-jdbc-6.1.0.jre8.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:317) ~[mssql-jdbc-6.1.0.jre8.jar:na]\r\n    \tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-3.2.0.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-3.2.0.jar:na]\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:60) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.loader.Loader.getResultSet(Loader.java:2265) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2028) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1990) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.loader.Loader.doQuery(Loader.java:949) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:351) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2787) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2770) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2604) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.loader.Loader.list(Loader.java:2599) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2254) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1069) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:170) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1506) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.query.Query.getResultList(Query.java:132) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129) ~[spring-data-jpa-2.1.10.RELEASE.jar:2.1.10.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:91) ~[spring-data-jpa-2.1.10.RELEASE.jar:2.1.10.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:136) ~[spring-data-jpa-2.1.10.RELEASE.jar:2.1.10.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:125) ~[spring-data-jpa-2.1.10.RELEASE.jar:2.1.10.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:605) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$invoke$3(RepositoryFactorySupport.java:595) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:595) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295) ~[spring-tx-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:144) ~[spring-data-jpa-2.1.10.RELEASE.jar:2.1.10.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$ExposeRepositoryInvocationInterceptor.invoke(CrudMethodMetadataPostProcessor.java:364) ~[spring-data-jpa-2.1.10.RELEASE.jar:2.1.10.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat com.sun.proxy.$Proxy117.find(Unknown Source) ~[na:na]\r\n    \tat com.nishant.codecruze.service.ArticleService.getSearchResults(ArticleService.java:64) ~[classes/:na]\r\n    \tat com.nishant.codecruze.controller.ArticleController.getSearchResults(ArticleController.java:40) ~[classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_181]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_181]","title":"Procedure or function &#39;search_words1&#39; expects parameter &#39;@result&#39;, which was not supplied","body":"<p>I am trying to call procedure from java spring boot. I am passing array as a parameter to procedure and from the procedure I want to return the list back to java as a resultset. Please let me know what I doing wrong here.\nBelow is the code: </p>\n\n<p>This is the entity class where I have provided details of the procedure</p>\n\n<pre><code>@Entity\n@Table(name=\"article\")\n@NamedStoredProcedureQuery(\n        name = \"search_words\", \n        procedureName = \"dbo.search_words1\", \n        parameters = { \n            @StoredProcedureParameter(\n                mode = ParameterMode.IN, \n                name = \"list\", \n                type = Array.class),\n            @StoredProcedureParameter(\n                mode = ParameterMode.OUT, \n                name = \"result\", \n                type = Array.class) \n            }\n)\npublic class Article {\n//entity class\n}\n</code></pre>\n\n<p>This is the repository class from where I am trying to call perocedure</p>\n\n<pre><code>//Repository class\n@Repository\npublic interface ArticleRepository extends JpaRepository&lt;Article, Long&gt; {\n\n    public List&lt;Article&gt; findAllByOrderByArticleIdDesc();\n\n    public List&lt;Article&gt; findAllByNavigationOrderByArticleIdDesc(Navigation navigation);\n\n    @Query(nativeQuery = true, value = \"exec search_words1\")\n    public List&lt;Article&gt; find(@Param(\"list\") String[] list);\n}\n</code></pre>\n\n<p>This is the actual procedure created in sql server</p>\n\n<pre><code>    CREATE or ALTER PROCEDURE search_words1 \n    @list word_list READONLY,\n    @result varchar OUTPUT\nAS\nBEGIN\nSET NOCOUNT ON\n    --DECLARE @list as word_list\nDECLARE @list_count int;\nDECLARE @_count int;\nDECLARE @qry varchar(1000);\nDECLARE @wording varchar(1000);\nset @_count = 0;\n--print @list;\n--insert into @list values (1,'java');\n--insert into @list values (2,'aws');\n--insert into @list values (3,'avl');\nset @list_count =  (select count(*) from @list)\nset @qry = ''\nWHILE ( @_count &lt; @list_count )\n    BEGIN\n    set @_count = @_count + 1;\n    set @wording = (select word from @list where id = @_count);\n    set @qry = @qry + ' SELECT * FROM article a WHERE LOWER(a.description) like ' + '''%'+@wording+'%'''\n    if (@_count &lt;&gt; @list_count)\n        set @qry = @qry + ' UNION '\n    END;\n    EXEC (@qry)\n    set @result = @qry\n--EXEC dbo.search @list\nRETURN @result\nEND\nGO\n</code></pre>\n\n<p>Getting below error while executing code:</p>\n\n<pre><code>com.microsoft.sqlserver.jdbc.SQLServerException: Procedure or function 'search_words1' expects parameter '@result', which was not supplied.\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:232) ~[mssql-jdbc-6.1.0.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1672) ~[mssql-jdbc-6.1.0.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:460) ~[mssql-jdbc-6.1.0.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:405) ~[mssql-jdbc-6.1.0.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7535) ~[mssql-jdbc-6.1.0.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2438) ~[mssql-jdbc-6.1.0.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:208) ~[mssql-jdbc-6.1.0.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:183) ~[mssql-jdbc-6.1.0.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:317) ~[mssql-jdbc-6.1.0.jre8.jar:na]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-3.2.0.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-3.2.0.jar:na]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:60) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.loader.Loader.getResultSet(Loader.java:2265) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2028) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1990) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.loader.Loader.doQuery(Loader.java:949) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:351) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2787) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2770) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2604) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.loader.Loader.list(Loader.java:2599) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2254) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1069) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:170) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1506) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.query.Query.getResultList(Query.java:132) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129) ~[spring-data-jpa-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:91) ~[spring-data-jpa-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:136) ~[spring-data-jpa-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:125) ~[spring-data-jpa-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:605) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$invoke$3(RepositoryFactorySupport.java:595) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:595) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295) ~[spring-tx-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:144) ~[spring-data-jpa-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$ExposeRepositoryInvocationInterceptor.invoke(CrudMethodMetadataPostProcessor.java:364) ~[spring-data-jpa-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at com.sun.proxy.$Proxy117.find(Unknown Source) ~[na:na]\n    at com.nishant.codecruze.service.ArticleService.getSearchResults(ArticleService.java:64) ~[classes/:na]\n    at com.nishant.codecruze.controller.ArticleController.getSearchResults(ArticleController.java:40) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_181]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_181]\n</code></pre>\n"},{"tags":["java","samba","jcifs"],"answers":[{"tags":[],"owner":{"account_id":4136270,"reputation":459,"user_id":3392874,"display_name":"TomasZ."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396962095,"creation_date":1396962095,"answer_id":22937908,"question_id":22934918,"body_markdown":"It was some time ago I worked with jcifs.\r\nCould you try `newFile.createNewFile();` and then use the `copyTo`.\r\nIf that doesn&#39;t work, than try `newFile.getOutputStream()` and write the data to this stream instead of using `copyTo`.","title":"How to copy file from local to share with JCifs?","body":"<p>It was some time ago I worked with jcifs.\nCould you try <code>newFile.createNewFile();</code> and then use the <code>copyTo</code>.\nIf that doesn't work, than try <code>newFile.getOutputStream()</code> and write the data to this stream instead of using <code>copyTo</code>.</p>\n"},{"comments":[{"owner":{"account_id":5000161,"reputation":313,"user_id":4019434,"display_name":"Eduardo Javier Huerta Yero"},"score":3,"creation_date":1461346884,"post_id":36737231,"comment_id":61174366,"body_markdown":"You are loading the whole file on memory. What happens when this is not possible?","body":"You are loading the whole file on memory. What happens when this is not possible?"}],"tags":[],"owner":{"account_id":4527986,"reputation":377,"user_id":3679274,"accept_rate":100,"display_name":"javi_swift"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461138703,"creation_date":1461138703,"answer_id":36737231,"question_id":22934918,"body_markdown":"I&#180;m a bit late to the party but this could be useful for other persons coming to this question.\r\n\r\nI upload files from local to share using streams and it&#180;s working without any problem. My code is:\r\n\t\r\n\tSmbFile remoteFile =  new SmbFile(remotePath, auth);\r\n\tSmbFileOutputStream out = new SmbFileOutputStream(remoteFile);\r\n\tFileInputStream fis = new FileInputStream(localFile);\r\n\tout.write(IOUtils.toByteArray(fis));\r\n\tout.close();","title":"How to copy file from local to share with JCifs?","body":"<p>I´m a bit late to the party but this could be useful for other persons coming to this question.</p>\n\n<p>I upload files from local to share using streams and it´s working without any problem. My code is:</p>\n\n<pre><code>SmbFile remoteFile =  new SmbFile(remotePath, auth);\nSmbFileOutputStream out = new SmbFileOutputStream(remoteFile);\nFileInputStream fis = new FileInputStream(localFile);\nout.write(IOUtils.toByteArray(fis));\nout.close();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3600716,"reputation":573,"user_id":3004081,"accept_rate":70,"display_name":"Michal"},"score":0,"creation_date":1568280660,"post_id":37303213,"comment_id":102227488,"body_markdown":"jcifs.smb.SmbException: Access is denied.\n\tat jcifs.smb.SmbTransport.checkStatus(SmbTransport.java:542)\n\tat jcifs.smb.SmbTransport.send(SmbTransport.java:644)\n\tat jcifs.smb.SmbSession.send(SmbSession.java:242)\n\tat jcifs.smb.SmbTree.send(SmbTree.java:111)\n\tat jcifs.smb.SmbFile.send(SmbFile.java:729)\n\tat jcifs.smb.SmbFile.open0(SmbFile.java:934)\n\nWere you able to solve this ?","body":"jcifs.smb.SmbException: Access is denied. \tat jcifs.smb.SmbTransport.checkStatus(SmbTransport.java:542) \tat jcifs.smb.SmbTransport.send(SmbTransport.java:644) \tat jcifs.smb.SmbSession.send(SmbSession.java:242) \tat jcifs.smb.SmbTree.send(SmbTree.java:111) \tat jcifs.smb.SmbFile.send(SmbFile.java:729) \tat jcifs.smb.SmbFile.open0(SmbFile.java:934)  Were you able to solve this ?"},{"owner":{"account_id":4414009,"reputation":393,"user_id":3596127,"accept_rate":25,"display_name":"Radek"},"score":0,"creation_date":1579094819,"post_id":37303213,"comment_id":105651065,"body_markdown":"@Michal Yes, I hadn&#39;t this problem (Access is denied). It seems you have not the rights to Smb directory. Can you check your NtlmPasswordAuthentication (for jcifs version 1.x) or your CIFSContext (for jcifs version 2.x)?","body":"@Michal Yes, I hadn&#39;t this problem (Access is denied). It seems you have not the rights to Smb directory. Can you check your NtlmPasswordAuthentication (for jcifs version 1.x) or your CIFSContext (for jcifs version 2.x)?"}],"tags":[],"owner":{"account_id":4414009,"reputation":393,"user_id":3596127,"accept_rate":25,"display_name":"Radek"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1463584192,"creation_date":1463583221,"answer_id":37303213,"question_id":22934918,"body_markdown":"Complete solution for copying file from local to shared disk over SMB protocol using streams like [Javi_Swift](https://stackoverflow.com/a/36737231/3596127) (writing in parts - solution for large files where it&#39;s not possible to load whole file into memory):\r\n\r\n    // local source file and target smb file\r\n    File fileSource = new File(&quot;C:/example.jpg&quot;);\r\n    SmbFile smbFileTarget = new SmbFile(smbFileContext, &quot;example.jpg&quot;);\r\n    // input and output stream\r\n\tFileInputStream fis\t= new FileInputStream(fileSource);\r\n    SmbFileOutputStream smbfos = new SmbFileOutputStream(smbFileTarget);\r\n    // writing data\r\n    try {\r\n\t    // 16 kb\r\n\t    final byte[] b\t= new byte[16*1024];\r\n\t\tint read = 0;\r\n\t    while ((read=fis.read(b, 0, b.length)) &gt; 0) {\r\n\t\t\tsmbfos.write(b, 0, read);\r\n\t\t}\r\n\t}\r\n\tfinally {\r\n\t\tfis.close();\r\n\t\tsmbfos.close();\r\n\t}\r\n\r\n\r\n\r\n","title":"How to copy file from local to share with JCifs?","body":"<p>Complete solution for copying file from local to shared disk over SMB protocol using streams like <a href=\"https://stackoverflow.com/a/36737231/3596127\">Javi_Swift</a> (writing in parts - solution for large files where it's not possible to load whole file into memory):</p>\n\n<pre><code>// local source file and target smb file\nFile fileSource = new File(\"C:/example.jpg\");\nSmbFile smbFileTarget = new SmbFile(smbFileContext, \"example.jpg\");\n// input and output stream\nFileInputStream fis = new FileInputStream(fileSource);\nSmbFileOutputStream smbfos = new SmbFileOutputStream(smbFileTarget);\n// writing data\ntry {\n    // 16 kb\n    final byte[] b  = new byte[16*1024];\n    int read = 0;\n    while ((read=fis.read(b, 0, b.length)) &gt; 0) {\n        smbfos.write(b, 0, read);\n    }\n}\nfinally {\n    fis.close();\n    smbfos.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1577409,"reputation":16015,"user_id":1463522,"accept_rate":64,"display_name":"holmis83"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486047280,"creation_date":1486047280,"answer_id":42005355,"question_id":22934918,"body_markdown":"An example using Java 1.7&#39;s [Files][1] class:\r\n\r\n    Path source = Paths.get(&quot;c:/tmp/test.xml&quot;);\r\n    SmbFile newFile = new SmbFile(&quot;smb://someone_pc/tmp/test.xml&quot;, new NtlmPasswordAuthentication(&quot;&quot;, username, password));\r\n    try (OutputStream out = newFile.getOutputStream())\r\n    {\r\n        Files.copy(source, out);\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html","title":"How to copy file from local to share with JCifs?","body":"<p>An example using Java 1.7's <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html\" rel=\"nofollow noreferrer\">Files</a> class:</p>\n\n<pre><code>Path source = Paths.get(\"c:/tmp/test.xml\");\nSmbFile newFile = new SmbFile(\"smb://someone_pc/tmp/test.xml\", new NtlmPasswordAuthentication(\"\", username, password));\ntry (OutputStream out = newFile.getOutputStream())\n{\n    Files.copy(source, out);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8697038,"reputation":444,"user_id":6508097,"accept_rate":20,"display_name":"balu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507626457,"creation_date":1507626457,"answer_id":46662761,"question_id":22934918,"body_markdown":"    public void uploadToSmb(String destinationPath,File localFile){\r\n\t\tpublic final static byte[] BUFFER = new byte[10 * 8024];\r\n\t\t\tByteArrayInputStream inputStream = null;\r\n            SmbFileOutputStream sfos = null;\r\n            try {\r\n                String user = username + &quot;:&quot; + password;\r\n                int lenghtOfFile = (int) localFile.length();\r\n                byte[] data = FileUtils.readFileToByteArray(localFile);\r\n                inputStream = new ByteArrayInputStream(data);\r\n                String path = destinationPath + localFile.getName();\r\n                NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(user);\r\n                remoteFile = new SmbFile(path, auth);\r\n                sfos = new SmbFileOutputStream(remoteFile);\r\n                long total = 0;\r\n                while ((count = inputStream.read(BUFFER)) &gt; 0) {\r\n                    total += count;\r\n                    // publishing the progress....\r\n                    // After this onProgressUpdate will be called\r\n                    int percentage = (int) ((total / (float) lenghtOfFile) * 100);\r\n                    publishProgress(percentage);\r\n                    //  publishProgress((int) ((total * 100) / lenghtOfFile));\r\n                    // writing data to file\r\n                        sfos.write(BUFFER,0,count);\r\n\r\n                }\r\n\t\t\t\t\tsfos.flush();\r\n\t\t\t\t\tinputStream.close();\r\n                    sfos.close();\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } \r\n          }  \r\n\r\n\r\nthis code is working Great...\r\n\r\n   \r\n","title":"How to copy file from local to share with JCifs?","body":"<pre><code>public void uploadToSmb(String destinationPath,File localFile){\n    public final static byte[] BUFFER = new byte[10 * 8024];\n        ByteArrayInputStream inputStream = null;\n        SmbFileOutputStream sfos = null;\n        try {\n            String user = username + \":\" + password;\n            int lenghtOfFile = (int) localFile.length();\n            byte[] data = FileUtils.readFileToByteArray(localFile);\n            inputStream = new ByteArrayInputStream(data);\n            String path = destinationPath + localFile.getName();\n            NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(user);\n            remoteFile = new SmbFile(path, auth);\n            sfos = new SmbFileOutputStream(remoteFile);\n            long total = 0;\n            while ((count = inputStream.read(BUFFER)) &gt; 0) {\n                total += count;\n                // publishing the progress....\n                // After this onProgressUpdate will be called\n                int percentage = (int) ((total / (float) lenghtOfFile) * 100);\n                publishProgress(percentage);\n                //  publishProgress((int) ((total * 100) / lenghtOfFile));\n                // writing data to file\n                    sfos.write(BUFFER,0,count);\n\n            }\n                sfos.flush();\n                inputStream.close();\n                sfos.close();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        } \n      }  \n</code></pre>\n\n<p>this code is working Great...</p>\n"}],"owner":{"account_id":324230,"reputation":6336,"user_id":644686,"accept_rate":60,"display_name":"victorio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23000,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":5,"score":1,"last_activity_date":1687865804,"creation_date":1396954673,"question_id":22934918,"body_markdown":"I can copy file from share to local. But I want to switch, and copy a file from local to share.\r\n\r\n    I am trying this code:\r\n    SmbFile oldFile = new SmbFile(&quot;c:/tmp/test.xml&quot;);\r\n    SmbFile newFile = new SmbFile(&quot;smb://someone_pc/tmp/test.xml&quot;, new NtlmPasswordAuthentication(&quot;&quot;, username, password));\r\n    oldFile.copyTo(newFile);\r\n\r\nBut I am getting an exception on `copyTo` method:\r\n\r\n    Invalid operation for workgroups or servers\r\n\r\nHow should I copy file from local to share?","title":"How to copy file from local to share with JCifs?","body":"<p>I can copy file from share to local. But I want to switch, and copy a file from local to share.</p>\n\n<pre><code>I am trying this code:\nSmbFile oldFile = new SmbFile(\"c:/tmp/test.xml\");\nSmbFile newFile = new SmbFile(\"smb://someone_pc/tmp/test.xml\", new NtlmPasswordAuthentication(\"\", username, password));\noldFile.copyTo(newFile);\n</code></pre>\n\n<p>But I am getting an exception on <code>copyTo</code> method:</p>\n\n<pre><code>Invalid operation for workgroups or servers\n</code></pre>\n\n<p>How should I copy file from local to share?</p>\n"},{"tags":["java","database-connection","wildfly","rollback"],"answers":[{"tags":[],"owner":{"account_id":3811602,"reputation":567,"user_id":3162265,"display_name":"Erhard Siegl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569657997,"creation_date":1569657997,"answer_id":58144497,"question_id":58077957,"body_markdown":"When you want such behavior you should set `check-valid-connection-sql` and `background-validation` to true. See also https://stackoverflow.com/questions/28707650/wildfly-and-auto-reconnect-to-the-database and \r\n\r\nhttps://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/6.4/html/administration_and_configuration_guide/sect-database_connection_validation \r\n\r\nfor documentation.","title":"DB Connection is not getting removed from pool when transaction is rolled back during database fail over in Wildfly-17","body":"<p>When you want such behavior you should set <code>check-valid-connection-sql</code> and <code>background-validation</code> to true. See also <a href=\"https://stackoverflow.com/questions/28707650/wildfly-and-auto-reconnect-to-the-database\">Wildfly and auto reconnect to the database</a> and </p>\n\n<p><a href=\"https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/6.4/html/administration_and_configuration_guide/sect-database_connection_validation\" rel=\"nofollow noreferrer\">https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/6.4/html/administration_and_configuration_guide/sect-database_connection_validation</a> </p>\n\n<p>for documentation.</p>\n"}],"owner":{"account_id":16756574,"reputation":1,"user_id":12112393,"display_name":"Anish Parekh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1129,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687865755,"creation_date":1569319899,"question_id":58077957,"body_markdown":"I am using `Wildfly-17` server. I am testing the failover scenario on the Oracle database during ongoing API traffic in Wildfly. \r\nThe steps I performed:\r\n\r\n- Oracle RAC DB setup is done and scans IP (Virtual IP) is configured in domain.xml. Also, created 2 database services (named as &quot;pri&quot; and &quot;sec&quot;) in the database with preferred service configuration.\r\n\r\n- Wildfly server is up and running with my project binaries,\r\nwhere DS configuration is:\r\n```XML\r\n&lt;datasource jta=&quot;true&quot; jndi-name=&quot;java:jboss/datasources/jdbc/InventoryDS&quot; pool-name=&quot;jdbc/InventoryDS&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; spy=&quot;false&quot; use-ccm=&quot;true&quot; statistics-enabled=&quot;true&quot;&gt;\r\n\t&lt;connection-url&gt;jdbc:oracle:thin:@10.151.5.16:1521/pri&lt;/connection-url&gt;\r\n\t&lt;connection-property name=&quot;AutoCommit&quot;&gt;false&lt;/connection-property&gt;\r\n\t&lt;driver&gt;ojdbc8&lt;/driver&gt;\r\n\t&lt;pool&gt;\r\n\t\t&lt;min-pool-size&gt;1&lt;/min-pool-size&gt;\r\n\t\t&lt;initial-pool-size&gt;1&lt;/initial-pool-size&gt;\r\n\t\t&lt;max-pool-size&gt;10&lt;/max-pool-size&gt;\r\n\t\t&lt;prefill&gt;false&lt;/prefill&gt;\r\n\t\t&lt;fair&gt;false&lt;/fair&gt;\r\n\t\t&lt;use-strict-min&gt;false&lt;/use-strict-min&gt;\r\n\t\t&lt;flush-strategy&gt;FailingConnectionOnly&lt;/flush-strategy&gt;\r\n\t&lt;/pool&gt;\r\n\t&lt;security&gt;\r\n\t\t&lt;security-domain&gt;InventoryDS&lt;/security-domain&gt;\r\n\t&lt;/security&gt;\r\n\t&lt;validation&gt;\r\n\t\t&lt;validate-on-match&gt;false&lt;/validate-on-match&gt;\r\n\t\t&lt;background-validation&gt;false&lt;/background-validation&gt;\r\n\t\t&lt;use-fast-fail&gt;false&lt;/use-fast-fail&gt;\r\n\t\t&lt;exception-sorter class-name=&quot;org.jboss.resource.adapter.jdbc.vendor.OracleExceptionSorter&quot;/&gt;\r\n\t&lt;/validation&gt;\r\n\t&lt;statement&gt;\r\n\t\t&lt;track-statements&gt;false&lt;/track-statements&gt;\r\n\t&lt;/statement&gt;\r\n&lt;/datasource&gt;\r\n```\r\n- Started load (REST API) using JMeter. All current Db connection is pointing to &quot;pri&quot; service.\r\n- During ongoing traffic, I rebooted one DB node (having &quot;pri&quot; service)\r\n\r\n**Expectation:**\r\nThe existing DB connections will be removed from the pool and a new connection will be pointing to &quot;sec&quot; service. Hence, minimal impact on ongoing API traffic\r\n\r\n**Actual result:** \r\nIt is not removing DB connection from the pool. Next time the same connection is getting used. Due to which the API is getting failed.\r\n\r\n**Observation:**\r\nThe code is written in such a way that for any exception occurs during API execution, the code set to call setRollbackOnly() method for the transaction (it is a container-managed transaction in EJB).\r\n\r\nDue to the transaction rollback, the server is not able to remove the connection from the pool. \r\n\r\nWhen I removed `setRollbackOnly()` from code, then it is able to remove connection from pool and next request will get new connection from &quot;sec&quot; DB service.\r\n\t\r\nLogs for the reference:\r\n=======================\r\n**Logs with setRollbackOnly() called from API:**\r\n--------------------------------------------\r\n~~~\r\n2019-09-13 11:01:44,464 TRACE (default task-15) IJTRACER-jdbc/InventoryDS-4467852c-1046-93-2069714450032188-105a159d-73db02c0-org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor$CachedConnectionManagerSetupAction@75128fe0\r\n2019-09-13 11:01:44,464 TRACE (default task-15) IJTRACER-jdbc/InventoryDS-4467852c-1046-41-2069714450059032-105a159d-73db02c0-\r\n2019-09-13 11:01:44,464 TRACE (default task-15) [TxConnectionListener@105a159d] unregisterConnection: 0 handles left ([])\r\n2019-09-13 11:01:44,464 TRACE (default task-15) isManagedConnectionFree=false mc=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@33bd6c05\r\n2019-09-13 11:01:44,465 TRACE (default task-15) popped object: org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor$CachedConnectionManagerSetupAction@75128fe0\r\n2019-09-13 11:01:44,465 TRACE (default task-15) IJTRACER-CachedConnectionManager-NONE-1046-91-2069714451688504-NONE-org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor$CachedConnectionManagerSetupAction@75128fe0-java.lang.Throwable:_CALLSTACK|\\at_org.jboss.jca.core.connectionmanager.ccm.CachedConnectionManagerImpl.popMetaAwareObject(CachedConnectionManagerImpl.java:283)|\\at_org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor$CachedConnectionManagerSetupAction.teardown(CachedConnectionManagerSetupProcessor.java:107)|\\at_org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:60)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)|\\at_org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)|\\at_org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)|\\at_org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)|\\at_org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)|\\at_org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:185)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)|\\at_org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:73)|\\at_com.demo.inventory.ejb3.inventorymgmt.interfaces.IInventoryDetailSessionLocal$$$view355.searchInventory(Unknown_Source)|\\at_com.demo.inventory.ejb3.inventorymgmt.sessionfacadeintapi.InventoryOperations.searchInventory(InventoryOperations.java:529)|\\at_sun.reflect.GeneratedMethodAccessor1021.invoke(Unknown_Source)|\\at_sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)|\\at_java.lang.reflect.Method.invoke(Method.java:497)|\\at_org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)|\\at_org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:70)|\\at_org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:80)|\\at_org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:93)|\\at_org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)|\\at_com.demo.inventory.aspect.PrePostPlugin.processPrePostEvent(PrePostPlugin.java:125)|\\at_sun.reflect.GeneratedMethodAccessor1020.invoke(Unknown_Source)|\\at_sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)|\\at_java.lang.reflect.Method.invoke(Method.java:497)|\\at_org.jboss.as.ee.component.ManagedReferenceLifecycleMethodInterceptor.processInvocation(ManagedReferenceLifecycleMethodInterceptor.java:89)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)|\\at_org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:73)|\\at_org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:83)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)|\\at_org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:275)|\\at_org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:327)|\\at_org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:79)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:44)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)|\\at_org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)|\\at_org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)|\\at_org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)|\\at_org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)|\\at_org.jboss.as.ejb3.remote.LocalEjbReceiver.processInvocation(LocalEjbReceiver.java:266)|\\at_org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:184)|\\at_org.jboss.ejb.client.EJBObjectInterceptor.handleInvocation(EJBObjectInterceptor.java:58)|\\at_org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)|\\at_org.jboss.ejb.client.EJBHomeInterceptor.handleInvocation(EJBHomeInterceptor.java:83)|\\at_org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)|\\at_org.jboss.ejb.client.TransactionInterceptor.handleInvocation(TransactionInterceptor.java:42)|\\at_org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)|\\at_org.jboss.ejb.client.ReceiverInterceptor.handleInvocation(ReceiverInterceptor.java:138)|\\at_org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)|\\at_org.jboss.ejb.client.EJBInvocationHandler.sendRequestWithPossibleRetries(EJBInvocationHandler.java:255)|\\at_org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:200)|\\at_org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:183)|\\at_org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:146)|\\at_com.sun.proxy.$Proxy250.searchInventory(Unknown_Source)|\\at_com.demo.rest.inventory.delegator.InventoryOperationsDelegator.searchInventory(InventoryOperationsDelegator.java:70)|\\at_com.demo.rest.inventory.service.InventoryOperationsService.searchInventory(InventoryOperationsService.java:61)|\\at_com.demo.rest.inventory.resource.InventoryOperationsResource.searchInventory(InventoryOperationsResource.java:69)|\\at_sun.reflect.GeneratedMethodAccessor1019.invoke(Unknown_Source)|\\at_sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)|\\at_java.lang.reflect.Method.invoke(Method.java:497)|\\at_org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:139)|\\at_org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:295)|\\at_org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:249)|\\at_org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:236)|\\at_org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:402)|\\at_org.jboss.resteasy.core.SynchronousDispatcher.invokePropagateNotFound(SynchronousDispatcher.java:247)|\\at_org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:225)|\\at_org.jboss.resteasy.plugins.server.servlet.FilterDispatcher.doFilter(FilterDispatcher.java:62)|\\at_io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)|\\at_io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)|\\at_com.demo.rest.core.filter.CORSFilter.doFilter(CORSFilter.java:51)|\\at_io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)|\\at_io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)|\\at_io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)|\\at_io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)|\\at_io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)|\\at_org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)|\\at_io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)|\\at_io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)|\\at_io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)|\\at_io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)|\\at_io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)|\\at_io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)|\\at_io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)|\\at_io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)|\\at_io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)|\\at_io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)|\\at_io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)|\\at_org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)|\\at_io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)|\\at_io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)|\\at_io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)|\\at_io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)|\\at_io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)|\\at_io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)|\\at_io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)|\\at_io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)|\\at_io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)|\\at_io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)|\\at_io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)|\\at_io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)|\\at_io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)|\\at_io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)|\\at_io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)|\\at_io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)|\\at_io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)|\\at_io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:805)|\\at_java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)|\\at_java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)|\\at_java.lang.Thread.run(Thread.java:745)|\r\n2019-09-13 11:01:44,466 TRACE (default task-15) BaseTransaction.setRollbackOnly\r\n2019-09-13 11:01:44,466 TRACE (default task-15) TransactionImple.setRollbackOnly\r\n2019-09-13 11:01:44,466 TRACE (default task-15) TransactionImple.getStatus: javax.transaction.Status.STATUS_MARKED_ROLLBACK\r\n2019-09-13 11:01:44,466 TRACE (default task-15) BaseTransaction.rollback\r\n2019-09-13 11:01:44,466 TRACE (default task-15) TransactionImple.rollbackAndDisassociate\r\n2019-09-13 11:01:44,468 TRACE (default task-15) Unlock: HeldByCurrentThread: Yes, Locked: Yes, HoldCount: 1, QueueLength: 0\r\n2019-09-13 11:01:44,468 TRACE (default task-15) Owner: Thread[default task-15,5,main]\r\n2019-09-13 11:01:44,476 TRACE (default task-15) SynchronizationImple.afterCompletion - Class: class org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList HashCode: 40330594 toString: org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList@2676562\r\n2019-09-13 11:01:44,476 TRACE (default task-15) afterCompletion(4) isTrackByTx=true for org.jboss.jca.core.connectionmanager.listener.TxConnectionListener@105a159d[state=NORMAL managed connection=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@33bd6c05 connection handles=0 lastReturned=1568352703782 lastValidated=1568350845750 lastCheckedOut=1568352703818 trackByTx=true pool=org.jboss.jca.core.connectionmanager.pool.strategy.PoolBySubject@20796ab0 mcp=SemaphoreConcurrentLinkedQueueManagedConnectionPool@4467852c[pool=jdbc/InventoryDS] xaResource=LocalXAResourceImpl@1263d5dd[connectionListener=105a159d connectionManager=630b92ae warned=false currentXid=null productName=Oracle productVersion=Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production jndiName=java:jboss/datasources/jdbc/InventoryDS] txSync=null]\r\n2019-09-13 11:01:44,476 TRACE (default task-15) [TxConnectionListener@105a159d] isManagedConnectionFree: true\r\n2019-09-13 11:01:44,476 TRACE (default task-15) IJTRACER-jdbc/InventoryDS-4467852c-1046-34-2069714462871419-105a159d--\r\n~~~\r\n**Logs without setRollbackOnly() from API:**\r\n-----------------------------------------\r\n~~~\r\n2019-09-13 11:01:44,479 TRACE (default task-17) IJTRACER-jdbc/InventoryDS-588c2c98-1051-93-2069714465486053-3c9e3b2f-23a7ccff-org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor$CachedConnectionManagerSetupAction@751461b5\r\n2019-09-13 11:01:44,479 TRACE (default task-17) IJTRACER-jdbc/InventoryDS-588c2c98-1051-41-2069714465507047-3c9e3b2f-23a7ccff-\r\n2019-09-13 11:01:44,479 TRACE (default task-17) [TxConnectionListener@3c9e3b2f] unregisterConnection: 0 handles left ([])\r\n2019-09-13 11:01:44,479 TRACE (default task-17) isManagedConnectionFree=false mc=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@110a223f\r\n2019-09-13 11:01:44,479 TRACE (default task-17) TransactionImple.getStatus: javax.transaction.Status.STATUS_ACTIVE\r\n2019-09-13 11:01:44,479 TRACE (default task-17) BaseTransaction.commit\r\n2019-09-13 11:01:44,479 TRACE (default task-17) TransactionImple.commitAndDisassociate\r\n2019-09-13 11:01:44,479 TRACE (default task-17) SynchronizationImple.beforeCompletion - Class: class org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList HashCode: 101703171 toString: org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList@60fde03\r\n2019-09-13 11:01:44,479 TRACE (default task-17) TransactionImple.getStatus: javax.transaction.Status.STATUS_ACTIVE\r\n2019-09-13 11:01:44,479 TRACE (default task-17) TransactionImple.getStatus: javax.transaction.Status.STATUS_ACTIVE\r\n2019-09-13 11:01:44,479 TRACE (default task-17) delistResource(LocalXAResourceImpl@332d0f3[connectionListener=3c9e3b2f connectionManager=3081dd0c warned=false currentXid=&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffff0a278003:-28cc616e:5d7b227a:c51, node_name=1, branch_uid=0:ffff0a278003:-28cc616e:5d7b227a:c53, subordinatenodename=null, eis_name=java:jboss/datasources/jdbc/InventoryDS &gt; productName=Oracle productVersion=Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production jndiName=java:jboss/datasources/jdbc/InventoryDS], TMSUCCESS)\r\n2019-09-13 11:01:44,479 TRACE (default task-17) TransactionImple.delistResource ( LocalXAResourceImpl@332d0f3[connectionListener=3c9e3b2f connectionManager=3081dd0c warned=false currentXid=&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffff0a278003:-28cc616e:5d7b227a:c51, node_name=1, branch_uid=0:ffff0a278003:-28cc616e:5d7b227a:c53, subordinatenodename=null, eis_name=java:jboss/datasources/jdbc/InventoryDS &gt; productName=Oracle productVersion=Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production jndiName=java:jboss/datasources/jdbc/InventoryDS], 67108864 )\r\n2019-09-13 11:01:44,479 TRACE (default task-17) TransactionImple.getStatus: javax.transaction.Status.STATUS_ACTIVE\r\n2019-09-13 11:01:44,479 TRACE (default task-17) end(&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffff0a278003:-28cc616e:5d7b227a:c51, node_name=1, branch_uid=0:ffff0a278003:-28cc616e:5d7b227a:c53, subordinatenodename=null, eis_name=java:jboss/datasources/jdbc/InventoryDS &gt;,67108864)\r\n2019-09-13 11:01:44,479 TRACE (default task-17) IJTRACER-jdbc/InventoryDS-588c2c98-1051-30-2069714465761476-3c9e3b2f-TransactionImple &lt; ac, BasicAction: 0:ffff0a278003:_28cc616e:5d7b227a:c51 status: ActionStatus.RUNNING &gt;-\r\n2019-09-13 11:01:44,480 TRACE (default task-17) Unlock: HeldByCurrentThread: Yes, Locked: Yes, HoldCount: 1, QueueLength: 0\r\n2019-09-13 11:01:44,480 TRACE (default task-17) Owner: Thread[default task-17,5,main]\r\n2019-09-13 11:01:44,480 TRACE (default task-17) IJTRACER-jdbc/InventoryDS-588c2c98-1051-11-2069714466239757-3c9e3b2f--\r\n2019-09-13 11:01:44,480 TRACE (default task-17) returnConnection(3c9e3b2f, true)\r\n2019-09-13 11:01:44,480 TRACE (default task-17) Destroying returned connection org.jboss.jca.core.connectionmanager.listener.TxConnectionListener@3c9e3b2f[state=NORMAL managed connection=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@110a223f connection handles=0 lastReturned=1568352703828 lastValidated=1568350873622 lastCheckedOut=1568352703856 trackByTx=false pool=org.jboss.jca.core.connectionmanager.pool.strategy.PoolBySubject@7b955f13 mcp=SemaphoreConcurrentLinkedQueueManagedConnectionPool@588c2c98[pool=jdbc/InventoryDS] xaResource=LocalXAResourceImpl@332d0f3[connectionListener=3c9e3b2f connectionManager=3081dd0c warned=false currentXid=null productName=Oracle productVersion=Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production jndiName=java:jboss/datasources/jdbc/InventoryDS] txSync=TransactionSynchronization@384438466{tx=TransactionImple &lt; ac, BasicAction: 0:ffff0a278003:-28cc616e:5d7b227a:c51 status: ActionStatus.COMMITTING &gt; wasTrackByTx=true enlisted=true cancel=false}]\r\n2019-09-13 11:01:44,480 TRACE (default task-17) IJTRACER-jdbc/InventoryDS-588c2c98-1051-70-2069714466500063-3c9e3b2f--\r\n~~~\r\n\r\nAny help is appreciated.","title":"DB Connection is not getting removed from pool when transaction is rolled back during database fail over in Wildfly-17","body":"<p>I am using <code>Wildfly-17</code> server. I am testing the failover scenario on the Oracle database during ongoing API traffic in Wildfly. \nThe steps I performed:</p>\n\n<ul>\n<li><p>Oracle RAC DB setup is done and scans IP (Virtual IP) is configured in domain.xml. Also, created 2 database services (named as \"pri\" and \"sec\") in the database with preferred service configuration.</p></li>\n<li><p>Wildfly server is up and running with my project binaries,\nwhere DS configuration is:</p></li>\n</ul>\n\n<pre><code>&lt;datasource jta=\"true\" jndi-name=\"java:jboss/datasources/jdbc/InventoryDS\" pool-name=\"jdbc/InventoryDS\" enabled=\"true\" use-java-context=\"true\" spy=\"false\" use-ccm=\"true\" statistics-enabled=\"true\"&gt;\n    &lt;connection-url&gt;jdbc:oracle:thin:@10.151.5.16:1521/pri&lt;/connection-url&gt;\n    &lt;connection-property name=\"AutoCommit\"&gt;false&lt;/connection-property&gt;\n    &lt;driver&gt;ojdbc8&lt;/driver&gt;\n    &lt;pool&gt;\n        &lt;min-pool-size&gt;1&lt;/min-pool-size&gt;\n        &lt;initial-pool-size&gt;1&lt;/initial-pool-size&gt;\n        &lt;max-pool-size&gt;10&lt;/max-pool-size&gt;\n        &lt;prefill&gt;false&lt;/prefill&gt;\n        &lt;fair&gt;false&lt;/fair&gt;\n        &lt;use-strict-min&gt;false&lt;/use-strict-min&gt;\n        &lt;flush-strategy&gt;FailingConnectionOnly&lt;/flush-strategy&gt;\n    &lt;/pool&gt;\n    &lt;security&gt;\n        &lt;security-domain&gt;InventoryDS&lt;/security-domain&gt;\n    &lt;/security&gt;\n    &lt;validation&gt;\n        &lt;validate-on-match&gt;false&lt;/validate-on-match&gt;\n        &lt;background-validation&gt;false&lt;/background-validation&gt;\n        &lt;use-fast-fail&gt;false&lt;/use-fast-fail&gt;\n        &lt;exception-sorter class-name=\"org.jboss.resource.adapter.jdbc.vendor.OracleExceptionSorter\"/&gt;\n    &lt;/validation&gt;\n    &lt;statement&gt;\n        &lt;track-statements&gt;false&lt;/track-statements&gt;\n    &lt;/statement&gt;\n&lt;/datasource&gt;\n</code></pre>\n\n<ul>\n<li>Started load (REST API) using JMeter. All current Db connection is pointing to \"pri\" service.</li>\n<li>During ongoing traffic, I rebooted one DB node (having \"pri\" service)</li>\n</ul>\n\n<p><strong>Expectation:</strong>\nThe existing DB connections will be removed from the pool and a new connection will be pointing to \"sec\" service. Hence, minimal impact on ongoing API traffic</p>\n\n<p><strong>Actual result:</strong> \nIt is not removing DB connection from the pool. Next time the same connection is getting used. Due to which the API is getting failed.</p>\n\n<p><strong>Observation:</strong>\nThe code is written in such a way that for any exception occurs during API execution, the code set to call setRollbackOnly() method for the transaction (it is a container-managed transaction in EJB).</p>\n\n<p>Due to the transaction rollback, the server is not able to remove the connection from the pool. </p>\n\n<p>When I removed <code>setRollbackOnly()</code> from code, then it is able to remove connection from pool and next request will get new connection from \"sec\" DB service.</p>\n\n<h1>Logs for the reference:</h1>\n\n<h2><strong>Logs with setRollbackOnly() called from API:</strong></h2>\n\n<pre><code>2019-09-13 11:01:44,464 TRACE (default task-15) IJTRACER-jdbc/InventoryDS-4467852c-1046-93-2069714450032188-105a159d-73db02c0-org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor$CachedConnectionManagerSetupAction@75128fe0\n2019-09-13 11:01:44,464 TRACE (default task-15) IJTRACER-jdbc/InventoryDS-4467852c-1046-41-2069714450059032-105a159d-73db02c0-\n2019-09-13 11:01:44,464 TRACE (default task-15) [TxConnectionListener@105a159d] unregisterConnection: 0 handles left ([])\n2019-09-13 11:01:44,464 TRACE (default task-15) isManagedConnectionFree=false mc=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@33bd6c05\n2019-09-13 11:01:44,465 TRACE (default task-15) popped object: org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor$CachedConnectionManagerSetupAction@75128fe0\n2019-09-13 11:01:44,465 TRACE (default task-15) IJTRACER-CachedConnectionManager-NONE-1046-91-2069714451688504-NONE-org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor$CachedConnectionManagerSetupAction@75128fe0-java.lang.Throwable:_CALLSTACK|\\at_org.jboss.jca.core.connectionmanager.ccm.CachedConnectionManagerImpl.popMetaAwareObject(CachedConnectionManagerImpl.java:283)|\\at_org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor$CachedConnectionManagerSetupAction.teardown(CachedConnectionManagerSetupProcessor.java:107)|\\at_org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:60)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)|\\at_org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)|\\at_org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)|\\at_org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)|\\at_org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)|\\at_org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:185)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)|\\at_org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:73)|\\at_com.demo.inventory.ejb3.inventorymgmt.interfaces.IInventoryDetailSessionLocal$$$view355.searchInventory(Unknown_Source)|\\at_com.demo.inventory.ejb3.inventorymgmt.sessionfacadeintapi.InventoryOperations.searchInventory(InventoryOperations.java:529)|\\at_sun.reflect.GeneratedMethodAccessor1021.invoke(Unknown_Source)|\\at_sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)|\\at_java.lang.reflect.Method.invoke(Method.java:497)|\\at_org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)|\\at_org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:70)|\\at_org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:80)|\\at_org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:93)|\\at_org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)|\\at_com.demo.inventory.aspect.PrePostPlugin.processPrePostEvent(PrePostPlugin.java:125)|\\at_sun.reflect.GeneratedMethodAccessor1020.invoke(Unknown_Source)|\\at_sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)|\\at_java.lang.reflect.Method.invoke(Method.java:497)|\\at_org.jboss.as.ee.component.ManagedReferenceLifecycleMethodInterceptor.processInvocation(ManagedReferenceLifecycleMethodInterceptor.java:89)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)|\\at_org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:73)|\\at_org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:83)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)|\\at_org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:275)|\\at_org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:327)|\\at_org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:79)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:44)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)|\\at_org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)|\\at_org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)|\\at_org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)|\\at_org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)|\\at_org.jboss.as.ejb3.remote.LocalEjbReceiver.processInvocation(LocalEjbReceiver.java:266)|\\at_org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:184)|\\at_org.jboss.ejb.client.EJBObjectInterceptor.handleInvocation(EJBObjectInterceptor.java:58)|\\at_org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)|\\at_org.jboss.ejb.client.EJBHomeInterceptor.handleInvocation(EJBHomeInterceptor.java:83)|\\at_org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)|\\at_org.jboss.ejb.client.TransactionInterceptor.handleInvocation(TransactionInterceptor.java:42)|\\at_org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)|\\at_org.jboss.ejb.client.ReceiverInterceptor.handleInvocation(ReceiverInterceptor.java:138)|\\at_org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)|\\at_org.jboss.ejb.client.EJBInvocationHandler.sendRequestWithPossibleRetries(EJBInvocationHandler.java:255)|\\at_org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:200)|\\at_org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:183)|\\at_org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:146)|\\at_com.sun.proxy.$Proxy250.searchInventory(Unknown_Source)|\\at_com.demo.rest.inventory.delegator.InventoryOperationsDelegator.searchInventory(InventoryOperationsDelegator.java:70)|\\at_com.demo.rest.inventory.service.InventoryOperationsService.searchInventory(InventoryOperationsService.java:61)|\\at_com.demo.rest.inventory.resource.InventoryOperationsResource.searchInventory(InventoryOperationsResource.java:69)|\\at_sun.reflect.GeneratedMethodAccessor1019.invoke(Unknown_Source)|\\at_sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)|\\at_java.lang.reflect.Method.invoke(Method.java:497)|\\at_org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:139)|\\at_org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:295)|\\at_org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:249)|\\at_org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:236)|\\at_org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:402)|\\at_org.jboss.resteasy.core.SynchronousDispatcher.invokePropagateNotFound(SynchronousDispatcher.java:247)|\\at_org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:225)|\\at_org.jboss.resteasy.plugins.server.servlet.FilterDispatcher.doFilter(FilterDispatcher.java:62)|\\at_io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)|\\at_io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)|\\at_com.demo.rest.core.filter.CORSFilter.doFilter(CORSFilter.java:51)|\\at_io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)|\\at_io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)|\\at_io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)|\\at_io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)|\\at_io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)|\\at_org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)|\\at_io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)|\\at_io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)|\\at_io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)|\\at_io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)|\\at_io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)|\\at_io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)|\\at_io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)|\\at_io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)|\\at_io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)|\\at_io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)|\\at_io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)|\\at_org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)|\\at_io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)|\\at_io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)|\\at_io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)|\\at_io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)|\\at_io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)|\\at_io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)|\\at_io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)|\\at_io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)|\\at_io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)|\\at_io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)|\\at_io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)|\\at_io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)|\\at_io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)|\\at_io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)|\\at_io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)|\\at_io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)|\\at_io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)|\\at_io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:805)|\\at_java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)|\\at_java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)|\\at_java.lang.Thread.run(Thread.java:745)|\n2019-09-13 11:01:44,466 TRACE (default task-15) BaseTransaction.setRollbackOnly\n2019-09-13 11:01:44,466 TRACE (default task-15) TransactionImple.setRollbackOnly\n2019-09-13 11:01:44,466 TRACE (default task-15) TransactionImple.getStatus: javax.transaction.Status.STATUS_MARKED_ROLLBACK\n2019-09-13 11:01:44,466 TRACE (default task-15) BaseTransaction.rollback\n2019-09-13 11:01:44,466 TRACE (default task-15) TransactionImple.rollbackAndDisassociate\n2019-09-13 11:01:44,468 TRACE (default task-15) Unlock: HeldByCurrentThread: Yes, Locked: Yes, HoldCount: 1, QueueLength: 0\n2019-09-13 11:01:44,468 TRACE (default task-15) Owner: Thread[default task-15,5,main]\n2019-09-13 11:01:44,476 TRACE (default task-15) SynchronizationImple.afterCompletion - Class: class org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList HashCode: 40330594 toString: org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList@2676562\n2019-09-13 11:01:44,476 TRACE (default task-15) afterCompletion(4) isTrackByTx=true for org.jboss.jca.core.connectionmanager.listener.TxConnectionListener@105a159d[state=NORMAL managed connection=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@33bd6c05 connection handles=0 lastReturned=1568352703782 lastValidated=1568350845750 lastCheckedOut=1568352703818 trackByTx=true pool=org.jboss.jca.core.connectionmanager.pool.strategy.PoolBySubject@20796ab0 mcp=SemaphoreConcurrentLinkedQueueManagedConnectionPool@4467852c[pool=jdbc/InventoryDS] xaResource=LocalXAResourceImpl@1263d5dd[connectionListener=105a159d connectionManager=630b92ae warned=false currentXid=null productName=Oracle productVersion=Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production jndiName=java:jboss/datasources/jdbc/InventoryDS] txSync=null]\n2019-09-13 11:01:44,476 TRACE (default task-15) [TxConnectionListener@105a159d] isManagedConnectionFree: true\n2019-09-13 11:01:44,476 TRACE (default task-15) IJTRACER-jdbc/InventoryDS-4467852c-1046-34-2069714462871419-105a159d--\n</code></pre>\n\n<h2><strong>Logs without setRollbackOnly() from API:</strong></h2>\n\n<pre><code>2019-09-13 11:01:44,479 TRACE (default task-17) IJTRACER-jdbc/InventoryDS-588c2c98-1051-93-2069714465486053-3c9e3b2f-23a7ccff-org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor$CachedConnectionManagerSetupAction@751461b5\n2019-09-13 11:01:44,479 TRACE (default task-17) IJTRACER-jdbc/InventoryDS-588c2c98-1051-41-2069714465507047-3c9e3b2f-23a7ccff-\n2019-09-13 11:01:44,479 TRACE (default task-17) [TxConnectionListener@3c9e3b2f] unregisterConnection: 0 handles left ([])\n2019-09-13 11:01:44,479 TRACE (default task-17) isManagedConnectionFree=false mc=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@110a223f\n2019-09-13 11:01:44,479 TRACE (default task-17) TransactionImple.getStatus: javax.transaction.Status.STATUS_ACTIVE\n2019-09-13 11:01:44,479 TRACE (default task-17) BaseTransaction.commit\n2019-09-13 11:01:44,479 TRACE (default task-17) TransactionImple.commitAndDisassociate\n2019-09-13 11:01:44,479 TRACE (default task-17) SynchronizationImple.beforeCompletion - Class: class org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList HashCode: 101703171 toString: org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList@60fde03\n2019-09-13 11:01:44,479 TRACE (default task-17) TransactionImple.getStatus: javax.transaction.Status.STATUS_ACTIVE\n2019-09-13 11:01:44,479 TRACE (default task-17) TransactionImple.getStatus: javax.transaction.Status.STATUS_ACTIVE\n2019-09-13 11:01:44,479 TRACE (default task-17) delistResource(LocalXAResourceImpl@332d0f3[connectionListener=3c9e3b2f connectionManager=3081dd0c warned=false currentXid=&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffff0a278003:-28cc616e:5d7b227a:c51, node_name=1, branch_uid=0:ffff0a278003:-28cc616e:5d7b227a:c53, subordinatenodename=null, eis_name=java:jboss/datasources/jdbc/InventoryDS &gt; productName=Oracle productVersion=Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production jndiName=java:jboss/datasources/jdbc/InventoryDS], TMSUCCESS)\n2019-09-13 11:01:44,479 TRACE (default task-17) TransactionImple.delistResource ( LocalXAResourceImpl@332d0f3[connectionListener=3c9e3b2f connectionManager=3081dd0c warned=false currentXid=&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffff0a278003:-28cc616e:5d7b227a:c51, node_name=1, branch_uid=0:ffff0a278003:-28cc616e:5d7b227a:c53, subordinatenodename=null, eis_name=java:jboss/datasources/jdbc/InventoryDS &gt; productName=Oracle productVersion=Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production jndiName=java:jboss/datasources/jdbc/InventoryDS], 67108864 )\n2019-09-13 11:01:44,479 TRACE (default task-17) TransactionImple.getStatus: javax.transaction.Status.STATUS_ACTIVE\n2019-09-13 11:01:44,479 TRACE (default task-17) end(&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffff0a278003:-28cc616e:5d7b227a:c51, node_name=1, branch_uid=0:ffff0a278003:-28cc616e:5d7b227a:c53, subordinatenodename=null, eis_name=java:jboss/datasources/jdbc/InventoryDS &gt;,67108864)\n2019-09-13 11:01:44,479 TRACE (default task-17) IJTRACER-jdbc/InventoryDS-588c2c98-1051-30-2069714465761476-3c9e3b2f-TransactionImple &lt; ac, BasicAction: 0:ffff0a278003:_28cc616e:5d7b227a:c51 status: ActionStatus.RUNNING &gt;-\n2019-09-13 11:01:44,480 TRACE (default task-17) Unlock: HeldByCurrentThread: Yes, Locked: Yes, HoldCount: 1, QueueLength: 0\n2019-09-13 11:01:44,480 TRACE (default task-17) Owner: Thread[default task-17,5,main]\n2019-09-13 11:01:44,480 TRACE (default task-17) IJTRACER-jdbc/InventoryDS-588c2c98-1051-11-2069714466239757-3c9e3b2f--\n2019-09-13 11:01:44,480 TRACE (default task-17) returnConnection(3c9e3b2f, true)\n2019-09-13 11:01:44,480 TRACE (default task-17) Destroying returned connection org.jboss.jca.core.connectionmanager.listener.TxConnectionListener@3c9e3b2f[state=NORMAL managed connection=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@110a223f connection handles=0 lastReturned=1568352703828 lastValidated=1568350873622 lastCheckedOut=1568352703856 trackByTx=false pool=org.jboss.jca.core.connectionmanager.pool.strategy.PoolBySubject@7b955f13 mcp=SemaphoreConcurrentLinkedQueueManagedConnectionPool@588c2c98[pool=jdbc/InventoryDS] xaResource=LocalXAResourceImpl@332d0f3[connectionListener=3c9e3b2f connectionManager=3081dd0c warned=false currentXid=null productName=Oracle productVersion=Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production jndiName=java:jboss/datasources/jdbc/InventoryDS] txSync=TransactionSynchronization@384438466{tx=TransactionImple &lt; ac, BasicAction: 0:ffff0a278003:-28cc616e:5d7b227a:c51 status: ActionStatus.COMMITTING &gt; wasTrackByTx=true enlisted=true cancel=false}]\n2019-09-13 11:01:44,480 TRACE (default task-17) IJTRACER-jdbc/InventoryDS-588c2c98-1051-70-2069714466500063-3c9e3b2f--\n</code></pre>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-data-jpa"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1663612551,"post_id":73773609,"comment_id":130276448,"body_markdown":"have you tried to change artifactId from /// to a word, also name has /// these may generate errors.","body":"have you tried to change artifactId from /// to a word, also name has /// these may generate errors."},{"owner":{"account_id":23989711,"reputation":21,"user_id":17976040,"display_name":"Antoine_m"},"score":0,"creation_date":1663836153,"post_id":73773609,"comment_id":130334200,"body_markdown":"@ozkanpakdil I changed it for privacy. In my real pom.xml it is not ///. Thanks for your answer","body":"@ozkanpakdil I changed it for privacy. In my real pom.xml it is not ///. Thanks for your answer"}],"answers":[{"comments":[{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1663657044,"post_id":73778551,"comment_id":130285050,"body_markdown":"If the error is in the project files of the library it&#39;s best to also report that on Github so they can fix that.","body":"If the error is in the project files of the library it&#39;s best to also report that on Github so they can fix that."},{"owner":{"account_id":23989711,"reputation":21,"user_id":17976040,"display_name":"Antoine_m"},"score":0,"creation_date":1663833722,"post_id":73778551,"comment_id":130333366,"body_markdown":"Hi, thanks for your answer! I&#39;ll try your method to go around. Did you do it to run maven site on one of your project without the error ?","body":"Hi, thanks for your answer! I&#39;ll try your method to go around. Did you do it to run maven site on one of your project without the error ?"},{"owner":{"account_id":2558120,"reputation":1,"user_id":2219694,"display_name":"sab_mon"},"score":0,"creation_date":1663924270,"post_id":73778551,"comment_id":130358482,"body_markdown":"Yes it helped me to fix my problem.","body":"Yes it helped me to fix my problem."}],"tags":[],"owner":{"account_id":2558120,"reputation":1,"user_id":2219694,"display_name":"sab_mon"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663616794,"creation_date":1663616794,"answer_id":73778551,"question_id":73773609,"body_markdown":"I have the same issue. I downloaded the project https://github.com/querydsl/querydsl/tree/QUERYDSL_5_0_0 and after running maven clean install of the project querydsl-codegen-utils it provided the following output: \r\n\r\n    [INFO] Installing ${HOME}/querydsl-QUERYDSL_5_0_0/querydsl-codegen-utils/target/codegen-utils-5.0.0.jar to ${HOME}/.m2/repository/com/querydsl/codegen-utils/5.0.0/codegen-utils-5.0.0.jar\r\n\r\nSo there is no artifact that matches querydsl-codegen-utils. I think the problem comes from the pom file of the module querydsl-bom. The artifact name  must be codegen-utils unstead of querydsl-codegen-utils. \r\n\r\nA dirty workaround is to download or clone this project and change the artifactId of the module querydsl-codegen-utils &lt;artifactId&gt;querydsl-codegen-utils&lt;/artifactId&gt; then mvn clean install or deploy to a local/remote repository ","title":"Maven site - querydsl-codegen-utils:pom:5.0.0 not found","body":"<p>I have the same issue. I downloaded the project <a href=\"https://github.com/querydsl/querydsl/tree/QUERYDSL_5_0_0\" rel=\"nofollow noreferrer\">https://github.com/querydsl/querydsl/tree/QUERYDSL_5_0_0</a> and after running maven clean install of the project querydsl-codegen-utils it provided the following output:</p>\n<pre><code>[INFO] Installing ${HOME}/querydsl-QUERYDSL_5_0_0/querydsl-codegen-utils/target/codegen-utils-5.0.0.jar to ${HOME}/.m2/repository/com/querydsl/codegen-utils/5.0.0/codegen-utils-5.0.0.jar\n</code></pre>\n<p>So there is no artifact that matches querydsl-codegen-utils. I think the problem comes from the pom file of the module querydsl-bom. The artifact name  must be codegen-utils unstead of querydsl-codegen-utils.</p>\n<p>A dirty workaround is to download or clone this project and change the artifactId of the module querydsl-codegen-utils querydsl-codegen-utils then mvn clean install or deploy to a local/remote repository</p>\n"},{"tags":[],"owner":{"account_id":7129149,"reputation":978,"user_id":5451049,"accept_rate":62,"display_name":"sunder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687865661,"creation_date":1687865117,"answer_id":76564377,"question_id":73773609,"body_markdown":"The reason for this is that spring boot is using `querydsl-bom` which has defined the wrong library artifact id. It has defined the id as \r\n\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n          &lt;artifactId&gt;querydsl-codegen-utils&lt;/artifactId&gt;\r\n          &lt;version&gt;5.0.0&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\nwhereas the exact library that has to be present is \r\n\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n          &lt;artifactId&gt;codegen-utils&lt;/artifactId&gt;\r\n          &lt;version&gt;5.0.0&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\nReference:- https://mvnrepository.com/artifact/com.querydsl/querydsl-bom/5.0.0\r\n\r\nIssue is fixed in querydsl-bom but never released a new version for it https://github.com/querydsl/querydsl/commit/c589757291d4f53e6148dae3227bed111c2f740f\r\n","title":"Maven site - querydsl-codegen-utils:pom:5.0.0 not found","body":"<p>The reason for this is that spring boot is using <code>querydsl-bom</code> which has defined the wrong library artifact id. It has defined the id as</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n      &lt;artifactId&gt;querydsl-codegen-utils&lt;/artifactId&gt;\n      &lt;version&gt;5.0.0&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>whereas the exact library that has to be present is</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n      &lt;artifactId&gt;codegen-utils&lt;/artifactId&gt;\n      &lt;version&gt;5.0.0&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>Reference:- <a href=\"https://mvnrepository.com/artifact/com.querydsl/querydsl-bom/5.0.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.querydsl/querydsl-bom/5.0.0</a></p>\n<p>Issue is fixed in querydsl-bom but never released a new version for it <a href=\"https://github.com/querydsl/querydsl/commit/c589757291d4f53e6148dae3227bed111c2f740f\" rel=\"nofollow noreferrer\">https://github.com/querydsl/querydsl/commit/c589757291d4f53e6148dae3227bed111c2f740f</a></p>\n"}],"owner":{"account_id":23989711,"reputation":21,"user_id":17976040,"display_name":"Antoine_m"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":773,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1687865661,"creation_date":1663591775,"question_id":73773609,"body_markdown":"When using maven site I get this error : \r\n\r\n&gt; com.querydsl:querydsl-codegen-utils:pom:5.0.0 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced\r\n\r\nLooking more into the error I find : \r\n&gt; Caused by: org.eclipse.aether.transfer.ArtifactTransferException: com.querydsl:querydsl-codegen-utils:pom:5.0.0 failed to transfer from https://spring-roo-repository.springsource.org/release during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of spring roo repository has elapsed or updates are forced. Original error: Could not transfer artifact com.querydsl:querydsl-codegen-utils:pom:5.0.0 from/to spring roo repository (https://spring-roo-repository.springsource.org/release): Access denied to: https://spring-roo-repository.springsource.org/release/com/querydsl/querydsl-codegen-utils/5.0.0/querydsl-codegen-utils-5.0.0.pom\r\n\r\n\r\nHere my pom.xml \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;///&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;///&lt;/name&gt;\r\n    &lt;description&gt;///&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.5.0&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.22&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;0.8.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;4.8.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.214&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.23.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;31.1-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf.tool&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xmlworker&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdfbox-tools&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.26&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sourceforge.htmlunit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;htmlunit&lt;/artifactId&gt;\r\n            &lt;version&gt;2.64.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0-M3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;process&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\r\n                            &lt;processor&gt;com.mysema.query.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;report&lt;/id&gt;\r\n                        &lt;phase&gt;test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n                &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n                &lt;!-- Use the latest released version:\r\n                          https://repo1.maven.org/maven2/com/github/eirslett/frontend-maven-plugin/ --&gt;\r\n                &lt;version&gt;1.11.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;nodeVersion&gt;v4.6.0&lt;/nodeVersion&gt;\r\n                    &lt;workingDirectory&gt;src/frontend&lt;/workingDirectory&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;install node and npm&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;install&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;nodeVersion&gt;v15.4.0&lt;/nodeVersion&gt;\r\n                            &lt;npmVersion&gt;7.3.0&lt;/npmVersion&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;npm install&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;npm&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;install&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;arguments&gt;install&lt;/arguments&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;npm run build&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;npm&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;arguments&gt;run build&lt;/arguments&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-build-folder&lt;/id&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;resources&gt;\r\n                                &lt;resource&gt;\r\n                                    &lt;directory&gt;src/frontend/build&lt;/directory&gt;\r\n                                &lt;/resource&gt;\r\n                            &lt;/resources&gt;\r\n                            &lt;outputDirectory&gt;target/classes/static&lt;/outputDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI&#39;ve tried to go around the error, but found nothing. Hope someone can help, \r\nthanks!","title":"Maven site - querydsl-codegen-utils:pom:5.0.0 not found","body":"<p>When using maven site I get this error :</p>\n<blockquote>\n<p>com.querydsl:querydsl-codegen-utils:pom:5.0.0 was not found in <a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a> during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced</p>\n</blockquote>\n<p>Looking more into the error I find :</p>\n<blockquote>\n<p>Caused by: org.eclipse.aether.transfer.ArtifactTransferException: com.querydsl:querydsl-codegen-utils:pom:5.0.0 failed to transfer from <a href=\"https://spring-roo-repository.springsource.org/release\" rel=\"nofollow noreferrer\">https://spring-roo-repository.springsource.org/release</a> during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of spring roo repository has elapsed or updates are forced. Original error: Could not transfer artifact com.querydsl:querydsl-codegen-utils:pom:5.0.0 from/to spring roo repository (<a href=\"https://spring-roo-repository.springsource.org/release\" rel=\"nofollow noreferrer\">https://spring-roo-repository.springsource.org/release</a>): Access denied to: <a href=\"https://spring-roo-repository.springsource.org/release/com/querydsl/querydsl-codegen-utils/5.0.0/querydsl-codegen-utils-5.0.0.pom\" rel=\"nofollow noreferrer\">https://spring-roo-repository.springsource.org/release/com/querydsl/querydsl-codegen-utils/5.0.0/querydsl-codegen-utils-5.0.0.pom</a></p>\n</blockquote>\n<p>Here my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;///&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;///&lt;/name&gt;\n    &lt;description&gt;///&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.5.0&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;2.7.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;version&gt;5.7.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n            &lt;version&gt;5.5.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n            &lt;version&gt;5.3.22&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n            &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.8.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.9.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.9.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;4.8.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;2.1.214&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;version&gt;3.23.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;31.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf.tool&lt;/groupId&gt;\n            &lt;artifactId&gt;xmlworker&lt;/artifactId&gt;\n            &lt;version&gt;5.5.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;pdfbox-tools&lt;/artifactId&gt;\n            &lt;version&gt;2.0.26&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.htmlunit&lt;/groupId&gt;\n            &lt;artifactId&gt;htmlunit&lt;/artifactId&gt;\n            &lt;version&gt;2.64.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0-M3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.1.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\n                            &lt;processor&gt;com.mysema.query.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.0&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.7.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                &lt;!-- Use the latest released version:\n                          https://repo1.maven.org/maven2/com/github/eirslett/frontend-maven-plugin/ --&gt;\n                &lt;version&gt;1.11.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;nodeVersion&gt;v4.6.0&lt;/nodeVersion&gt;\n                    &lt;workingDirectory&gt;src/frontend&lt;/workingDirectory&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;install node and npm&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;install&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;nodeVersion&gt;v15.4.0&lt;/nodeVersion&gt;\n                            &lt;npmVersion&gt;7.3.0&lt;/npmVersion&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;npm install&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;install&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;install&lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;npm run build&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;run build&lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-build-folder&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;src/frontend/build&lt;/directory&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                            &lt;outputDirectory&gt;target/classes/static&lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I've tried to go around the error, but found nothing. Hope someone can help,\nthanks!</p>\n"},{"tags":["java","memory","smartcard","javacard"],"comments":[{"owner":{"account_id":2116673,"reputation":678,"user_id":1880811,"display_name":"Asthor"},"score":0,"creation_date":1688475214,"post_id":76564360,"comment_id":135076839,"body_markdown":"Which version of GlobalPlatformPro are you using? Are you deleting the package ID or the applet ID?","body":"Which version of GlobalPlatformPro are you using? Are you deleting the package ID or the applet ID?"},{"owner":{"account_id":20800286,"reputation":119,"user_id":15276480,"display_name":"LozCodes"},"score":0,"creation_date":1688576914,"post_id":76564360,"comment_id":135093347,"body_markdown":"I&#39;m using gpp version 325fe84. I&#39;m trying to delete first the applet, then the package ID. The &#39;Could not delete&#39; message comes when I try and delete the applet. If I try to delete the package first I get the &#39;some app still active?&#39; message","body":"I&#39;m using gpp version 325fe84. I&#39;m trying to delete first the applet, then the package ID. The &#39;Could not delete&#39; message comes when I try and delete the applet. If I try to delete the package first I get the &#39;some app still active?&#39; message"},{"owner":{"account_id":2116673,"reputation":678,"user_id":1880811,"display_name":"Asthor"},"score":1,"creation_date":1688635838,"post_id":76564360,"comment_id":135101387,"body_markdown":"20.08.12 (325fe84) is a pre-release. Latest release is 20.1.23 (5ad373b) as there might be issue in the pre-release.  Other than that, not all cards are fully tested and supported and if the latest release wont work, making a ticket to on the github repository for GlobalPlatformPro is probably required.","body":"20.08.12 (325fe84) is a pre-release. Latest release is 20.1.23 (5ad373b) as there might be issue in the pre-release.  Other than that, not all cards are fully tested and supported and if the latest release wont work, making a ticket to on the github repository for GlobalPlatformPro is probably required."}],"owner":{"account_id":20800286,"reputation":119,"user_id":15276480,"display_name":"LozCodes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687865029,"creation_date":1687865029,"question_id":76564360,"body_markdown":"I&#39;m unable to delete an app off of my ACOSJ card. It was working okay until today when I started to get the 6F00 response to every command. I tried to delete the app with global platform pro and got the message &#39;Could not delete AID: xxxxxxxxxx&#39;.\r\n\r\nWhy is it that I can&#39;t delete the app? Is it related to the fact that after using the app fine for a while I start getting a 6F00 response?","title":"Unable to delete apps off ACOSJ Card","body":"<p>I'm unable to delete an app off of my ACOSJ card. It was working okay until today when I started to get the 6F00 response to every command. I tried to delete the app with global platform pro and got the message 'Could not delete AID: xxxxxxxxxx'.</p>\n<p>Why is it that I can't delete the app? Is it related to the fact that after using the app fine for a while I start getting a 6F00 response?</p>\n"},{"tags":["java","spring","cxf"],"answers":[{"tags":[],"owner":{"account_id":16450528,"reputation":1,"user_id":11884065,"display_name":"Pratap"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687864335,"creation_date":1687864335,"answer_id":76564272,"question_id":52873898,"body_markdown":"**I managed it with below**\r\n\r\n    @Bean(name = &quot;mltfClient&quot;)\r\n      public Mltf mltf(MltfInMessageInterceptor in,MltfInMessageInterceptor out) {\r\n        JaxWsProxyFactoryBean factoryBean = new JaxWsProxyFactoryBean();\r\n        factoryBean.setServiceClass(Mltf.class);\r\n        factoryBean.setAddress(address);      \r\n        factoryBean.getOutInterceptors().add(out);\r\n        factoryBean.getInInterceptors().add(in); \r\n        \r\n        return (Mltf) factoryBean.create();  \r\n    \r\n      }\r\n      @Bean HTTPConduit conduit(Mltf mtlf)\r\n      {\r\n        Client client = ClientProxy.getClient(mtlf);\r\n        HTTPClientPolicy policy = new HTTPClientPolicy();\r\n        policy.setReceiveTimeout(30000);\r\n        policy.setConnectionTimeout(10000);\r\n        policy.setConnection(ConnectionType.CLOSE);\r\n        policy.setAllowChunking(false);\r\n        HTTPConduit conduit=(HTTPConduit) client.getConduit();\r\n        conduit.setClient(policy);\r\n        return conduit;\r\n      }","title":"CXF Bus - Add HttpConduitFeature with custom timeouts","body":"<p><strong>I managed it with below</strong></p>\n<pre><code>@Bean(name = &quot;mltfClient&quot;)\n  public Mltf mltf(MltfInMessageInterceptor in,MltfInMessageInterceptor out) {\n    JaxWsProxyFactoryBean factoryBean = new JaxWsProxyFactoryBean();\n    factoryBean.setServiceClass(Mltf.class);\n    factoryBean.setAddress(address);      \n    factoryBean.getOutInterceptors().add(out);\n    factoryBean.getInInterceptors().add(in); \n    \n    return (Mltf) factoryBean.create();  \n\n  }\n  @Bean HTTPConduit conduit(Mltf mtlf)\n  {\n    Client client = ClientProxy.getClient(mtlf);\n    HTTPClientPolicy policy = new HTTPClientPolicy();\n    policy.setReceiveTimeout(30000);\n    policy.setConnectionTimeout(10000);\n    policy.setConnection(ConnectionType.CLOSE);\n    policy.setAllowChunking(false);\n    HTTPConduit conduit=(HTTPConduit) client.getConduit();\n    conduit.setClient(policy);\n    return conduit;\n  }\n</code></pre>\n"}],"owner":{"account_id":1178419,"reputation":140,"user_id":1153864,"display_name":"Ametzaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687864335,"creation_date":1539865261,"question_id":52873898,"body_markdown":"I am trying to configure the CXF Bus, with common timeouts for all clients. For that, I am using HttpConduitFeature and adding it to the Bus during the initial configuration as below:\r\n\r\n    @Configuration\r\n    public class CxfContext {\r\n    \r\n    \t@Autowired\r\n    \tprivate SoapConfigurations soapConfigurations;\r\n    \r\n    \t@Bean\r\n    \tpublic Bus bus() {\r\n    \r\n    \t\tSpringBus b = new SpringBus();\r\n    \r\n    \t\tList&lt;Feature&gt; features = ImmutableList.&lt;Feature&gt; builder() //\r\n    \t\t\t.add(loggingFeature()) //\r\n    \t\t\t.add(conduitFeature()) //\r\n    \t\t\t.build();\r\n    \r\n    \t\tb.setFeatures(features);\r\n    \t\treturn b;\r\n    \t}\r\n    \r\n    \tprivate LoggingFeature loggingFeature() {\r\n    \t\tLoggingFeature f = new LoggingFeature();\r\n    \t\tf.setPrettyLogging(true);\r\n    \t\tf.setVerbose(true);\r\n    \t\tf.setLimit(-1);\r\n    \t\treturn f;\r\n    \t}\r\n    \r\n    \tprivate HttpConduitFeature conduitFeature() {\r\n    \r\n    \t\tHttpConduitFeature feature = new HttpConduitFeature();\r\n    \r\n    \t\tHttpConduitConfig conduitConfig = new HttpConduitConfig();\r\n    \r\n    \t\tHTTPClientPolicy clientPolicy = new HTTPClientPolicy();\r\n    \t\tclientPolicy.setConnectionTimeout(10000);\r\n    \t\tclientPolicy.setReceiveTimeout(10000);\r\n \r\n    \t\tconduitConfig.setClientPolicy(clientPolicy);\r\n    \r\n    \t\tfeature.setConduitConfig(conduitConfig);\r\n    \r\n    \t\treturn feature;\r\n    \t}\r\n    \r\n    }\r\n\r\nAfter, when generating the Soap client, I am using JaxWsProxyFactoryBean and setting the Bus to it:\r\n\r\n    @Configuration\r\n    public class SoapClientContext {\r\n    \r\n    \t@Autowired\r\n    \tprivate Bus bus;\r\n    \r\n    \t@Bean\r\n    \tpublic IService myService(SoapConfigurations soapConfigurations) {\r\n    \r\n    \t\tJaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();\r\n    \r\n    \t\tfactory.setAddress(soapConfigurations.getUrl());\r\n    \t\tfactory.setBus(bus);\r\n    \r\n    \t\treturn factory.create(IService.class);\r\n    \t}\r\n    \r\n    }\r\n\r\nThe client is using correctly the logging feature configured in the Bus, but the HttpConduitFeature is not being taken into account. So the timeout is the one by default of 1 minute, instead of the configured 10 seconds.\r\n\r\nThe only solution I see right now, is setting the HttpConduitFeature directly in the factory:\r\n\r\n    JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();\r\n    \r\n    factory.setAddress(soapConfigurations.getUrl());\r\n    factory.setBus(bus);\r\n\tfactory.getFeatures().add(conduitFeature());\r\n\r\nDo I need some additional configuration, so the generated clients use the HttpConduitFeature defined in the Bus directly?\r\n","title":"CXF Bus - Add HttpConduitFeature with custom timeouts","body":"<p>I am trying to configure the CXF Bus, with common timeouts for all clients. For that, I am using HttpConduitFeature and adding it to the Bus during the initial configuration as below:</p>\n\n<pre><code>@Configuration\npublic class CxfContext {\n\n    @Autowired\n    private SoapConfigurations soapConfigurations;\n\n    @Bean\n    public Bus bus() {\n\n        SpringBus b = new SpringBus();\n\n        List&lt;Feature&gt; features = ImmutableList.&lt;Feature&gt; builder() //\n            .add(loggingFeature()) //\n            .add(conduitFeature()) //\n            .build();\n\n        b.setFeatures(features);\n        return b;\n    }\n\n    private LoggingFeature loggingFeature() {\n        LoggingFeature f = new LoggingFeature();\n        f.setPrettyLogging(true);\n        f.setVerbose(true);\n        f.setLimit(-1);\n        return f;\n    }\n\n    private HttpConduitFeature conduitFeature() {\n\n        HttpConduitFeature feature = new HttpConduitFeature();\n\n        HttpConduitConfig conduitConfig = new HttpConduitConfig();\n\n        HTTPClientPolicy clientPolicy = new HTTPClientPolicy();\n        clientPolicy.setConnectionTimeout(10000);\n        clientPolicy.setReceiveTimeout(10000);\n\n        conduitConfig.setClientPolicy(clientPolicy);\n\n        feature.setConduitConfig(conduitConfig);\n\n        return feature;\n    }\n\n}\n</code></pre>\n\n<p>After, when generating the Soap client, I am using JaxWsProxyFactoryBean and setting the Bus to it:</p>\n\n<pre><code>@Configuration\npublic class SoapClientContext {\n\n    @Autowired\n    private Bus bus;\n\n    @Bean\n    public IService myService(SoapConfigurations soapConfigurations) {\n\n        JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();\n\n        factory.setAddress(soapConfigurations.getUrl());\n        factory.setBus(bus);\n\n        return factory.create(IService.class);\n    }\n\n}\n</code></pre>\n\n<p>The client is using correctly the logging feature configured in the Bus, but the HttpConduitFeature is not being taken into account. So the timeout is the one by default of 1 minute, instead of the configured 10 seconds.</p>\n\n<p>The only solution I see right now, is setting the HttpConduitFeature directly in the factory:</p>\n\n<pre><code>JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();\n\nfactory.setAddress(soapConfigurations.getUrl());\nfactory.setBus(bus);\nfactory.getFeatures().add(conduitFeature());\n</code></pre>\n\n<p>Do I need some additional configuration, so the generated clients use the HttpConduitFeature defined in the Bus directly?</p>\n"},{"tags":["java","apache-calcite","sql-parser"],"answers":[{"comments":[{"owner":{"account_id":1353175,"reputation":3781,"user_id":1292104,"accept_rate":53,"display_name":"nir"},"score":0,"creation_date":1516299009,"post_id":44526378,"comment_id":83640915,"body_markdown":"Can you just parse part of the sql expression? e.g. parsing `SUM(amount)/Count(id)`  . I can make dummy sql but it&#39;d be nice just to be able to parse a valid sql expression made out of sql functions.","body":"Can you just parse part of the sql expression? e.g. parsing <code>SUM(amount)&#47;Count(id)</code>  . I can make dummy sql but it&#39;d be nice just to be able to parse a valid sql expression made out of sql functions."},{"owner":{"account_id":42463,"reputation":28235,"user_id":123695,"accept_rate":89,"display_name":"Michael Mior"},"score":2,"creation_date":1516373505,"post_id":44526378,"comment_id":83672935,"body_markdown":"You should be able to use the `parseExpression` method of `SqlParser` for cases like this.","body":"You should be able to use the <code>parseExpression</code> method of <code>SqlParser</code> for cases like this."}],"tags":[],"owner":{"account_id":42463,"reputation":28235,"user_id":123695,"accept_rate":89,"display_name":"Michael Mior"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1497369481,"creation_date":1497369481,"answer_id":44526378,"question_id":44508240,"body_markdown":"This is definitely doable with Calcite. You&#39;ll want to start by creating an instance of `SqlParser` and parsing the query:\r\n\r\n    SqlParser parser = SqlParser.create(query)\r\n    SqlNode parsed = parser.parseQuery()\r\n\r\nFrom there, you&#39;ll probably have the most success implementing the [`SqlVisitor`](https://calcite.apache.org/apidocs/org/apache/calcite/sql/util/SqlVisitor.html) interface. You&#39;ll want to first find a `SqlSelect` instance and then visit each expression being selected by calling visit on each element of [`getSelectList`](https://calcite.apache.org/apidocs/org/apache/calcite/sql/SqlSelect.html#getSelectList--).\r\n\r\nFrom there, how you proceed will depend on the complexity of expressions you want to support. However, it&#39;s probably sufficient to recursively visit all `SqlCall` nodes and their operands and then collect any `SqlIdentifier` values that you see.","title":"Apache Calcite to Find Selected Columns in an SQL String","body":"<p>This is definitely doable with Calcite. You'll want to start by creating an instance of <code>SqlParser</code> and parsing the query:</p>\n\n<pre><code>SqlParser parser = SqlParser.create(query)\nSqlNode parsed = parser.parseQuery()\n</code></pre>\n\n<p>From there, you'll probably have the most success implementing the <a href=\"https://calcite.apache.org/apidocs/org/apache/calcite/sql/util/SqlVisitor.html\" rel=\"noreferrer\"><code>SqlVisitor</code></a> interface. You'll want to first find a <code>SqlSelect</code> instance and then visit each expression being selected by calling visit on each element of <a href=\"https://calcite.apache.org/apidocs/org/apache/calcite/sql/SqlSelect.html#getSelectList--\" rel=\"noreferrer\"><code>getSelectList</code></a>.</p>\n\n<p>From there, how you proceed will depend on the complexity of expressions you want to support. However, it's probably sufficient to recursively visit all <code>SqlCall</code> nodes and their operands and then collect any <code>SqlIdentifier</code> values that you see.</p>\n"},{"tags":[],"owner":{"account_id":1205529,"reputation":3100,"user_id":1175279,"accept_rate":88,"display_name":"Dilip Raj Baral"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544948789,"creation_date":1544948789,"answer_id":53800602,"question_id":44508240,"body_markdown":"It can be as simple as:\r\n\r\n&lt;!-- lang:java --&gt;\r\n\r\n    SqlParser parser = SqlParser.create(yourQuery);\r\n    SqlSelect selectNode = (SqlSelect) parser.parseQuery();\r\n    SqlNodeList list = selectNode.getList();\r\n\r\n    for (int i = 0; i &lt; list.size(); i++) {\r\n        System.out.println(&quot;Column &quot; + (i + 1) + &quot;: &quot; + list.get(i).toString());\r\n    }\r\n","title":"Apache Calcite to Find Selected Columns in an SQL String","body":"<p>It can be as simple as:</p>\n\n\n\n<pre><code>SqlParser parser = SqlParser.create(yourQuery);\nSqlSelect selectNode = (SqlSelect) parser.parseQuery();\nSqlNodeList list = selectNode.getList();\n\nfor (int i = 0; i &lt; list.size(); i++) {\n    System.out.println(\"Column \" + (i + 1) + \": \" + list.get(i).toString());\n}\n</code></pre>\n"}],"owner":{"account_id":5981948,"reputation":139,"user_id":4700686,"accept_rate":50,"display_name":"Saurabh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4593,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1687864060,"creation_date":1497299517,"question_id":44508240,"body_markdown":"I have a use case where I want to know the columns which have been selected in an SQL string.For instance, if the SQL is like this:  \r\n`SELECT name, age*5 as intelligence FROM bla WHERE bla=bla`  \r\nThen, after parsing the above String, I just want the output to be: `name, intelligence`.  \r\nFirstly, is it possible through Calcite?  \r\nAny other option is also welcome.  \r\n  \r\nPS: I want to know this before actually running the query on database.\r\n","title":"Apache Calcite to Find Selected Columns in an SQL String","body":"<p>I have a use case where I want to know the columns which have been selected in an SQL string.For instance, if the SQL is like this:<br>\n<code>SELECT name, age*5 as intelligence FROM bla WHERE bla=bla</code><br>\nThen, after parsing the above String, I just want the output to be: <code>name, intelligence</code>.<br>\nFirstly, is it possible through Calcite?<br>\nAny other option is also welcome.  </p>\n\n<p>PS: I want to know this before actually running the query on database.</p>\n"},{"tags":["java","web-applications","authorization","keycloak","openid-connect"],"comments":[{"owner":{"account_id":13886999,"reputation":1120,"user_id":10025913,"display_name":"NumeroUno"},"score":0,"creation_date":1541397841,"post_id":53118828,"comment_id":93188700,"body_markdown":"Any pointer here please?","body":"Any pointer here please?"},{"owner":{"account_id":11225699,"reputation":1271,"user_id":8235367,"display_name":"RrR-"},"score":0,"creation_date":1542617399,"post_id":53118828,"comment_id":93618052,"body_markdown":"Which OAuth flow were you using? Was it auth code grant, implicit grant, or something else?","body":"Which OAuth flow were you using? Was it auth code grant, implicit grant, or something else?"},{"owner":{"account_id":13886999,"reputation":1120,"user_id":10025913,"display_name":"NumeroUno"},"score":0,"creation_date":1542640352,"post_id":53118828,"comment_id":93630608,"body_markdown":"It is normal grant flow based on username/password and jwt token.","body":"It is normal grant flow based on username/password and jwt token."},{"owner":{"account_id":11225699,"reputation":1271,"user_id":8235367,"display_name":"RrR-"},"score":0,"creation_date":1542701569,"post_id":53118828,"comment_id":93652807,"body_markdown":"Both auth code and implicit flow are based on that concept, but created for different purposes.","body":"Both auth code and implicit flow are based on that concept, but created for different purposes."},{"owner":{"account_id":302253,"reputation":1164,"user_id":1203192,"accept_rate":90,"display_name":"Thomas Lann"},"score":0,"creation_date":1547083798,"post_id":53118828,"comment_id":95073754,"body_markdown":"I believe the jetty app that is a resource server should be private.  Your front end client should be public because someone can just use the client and see the client secret in the developer console.  \nI think your question needs more information about the architecture and problem at hand before anyone can help you.","body":"I believe the jetty app that is a resource server should be private.  Your front end client should be public because someone can just use the client and see the client secret in the developer console.   I think your question needs more information about the architecture and problem at hand before anyone can help you."}],"answers":[{"comments":[{"owner":{"account_id":1725711,"reputation":711,"user_id":1580437,"accept_rate":67,"display_name":"Hector"},"score":0,"creation_date":1597859947,"post_id":56824022,"comment_id":112273680,"body_markdown":"Is it correct that my backend rest api still to work when I have logged out (from my front app or close session with keycloak admin console) before expiration time? I&#39;ve a public client in keycloak and my backend app is setup with bearer only.","body":"Is it correct that my backend rest api still to work when I have logged out (from my front app or close session with keycloak admin console) before expiration time? I&#39;ve a public client in keycloak and my backend app is setup with bearer only."},{"owner":{"account_id":1710515,"reputation":5238,"user_id":1568684,"accept_rate":100,"display_name":"lordvlad"},"score":3,"creation_date":1613682017,"post_id":56824022,"comment_id":117158601,"body_markdown":"Can you go into detail how the authorization is supposed to be configured then? If the REST API uses the JWT token passed from the client to evaluate resource access with keycloak, I&#39;m getting `Client application [public-client] is not registered as a resource server.` since keycloak evaluates the `azp` (issued-for) field of the JWT https://github.com/keycloak/keycloak/blob/11.0.3/services/src/main/java/org/keycloak/authorization/protection/ProtectionService.java#L133.","body":"Can you go into detail how the authorization is supposed to be configured then? If the REST API uses the JWT token passed from the client to evaluate resource access with keycloak, I&#39;m getting <code>Client application [public-client] is not registered as a resource server.</code> since keycloak evaluates the <code>azp</code> (issued-for) field of the JWT <a href=\"https://github.com/keycloak/keycloak/blob/11.0.3/services/src/main/java/org/keycloak/authorization/protection/ProtectionService.java#L133\" rel=\"nofollow noreferrer\">github.com/keycloak/keycloak/blob/11.0.3/services/src/main/j&zwnj;&#8203;ava/&hellip;</a>."}],"tags":[],"owner":{"account_id":3590738,"reputation":2981,"user_id":2996867,"accept_rate":86,"display_name":"maslick"},"comment_count":2,"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1561899931,"creation_date":1561889620,"answer_id":56824022,"question_id":53118828,"body_markdown":"As far as I understood, you have your frontend and backend applications separated. If your frontend is a static web-app and not being served by the same backend application (server), and your backend is a simple REST API - then you would have two Keycloak clients configured:\r\n\r\n* ``public`` client for the frontend app. It would be responsible for acquiring JWT tokens. \r\n* ``bearer-only`` client, which would be attached to your backend application.\r\n\r\nTo enable authorization you would create roles (either realm or client scoped, start on the realm level as it&#39;s easier to comprehend). Every user would then be assigned a role/s in the Keycloak admin UI. Based on this you should configure your keycloak adapter configuration (on the backend).\r\n\r\nAll things considered, in order to talk to your REST API, you would attach a JWT token to each HTTP request in the Authorization header. Depending on your frontend framework, you can use either of these:\r\n\r\n* [Keycloak js adapter][1]\r\n* Other bindings ([angular][2], [react][3])\r\n\r\n&gt; P.S. For debugging I have just written a CLI tool called [brauzie][4]\r\n&gt; that would help you fetch and analyse your JWT tokens (scopes, roles, etc.). It could be used for both public and confidential clients. You\r\n&gt; could as well use [Postman][5] and https://jwt.io\r\n\r\nHTH :)\r\n\r\n  [1]: https://www.keycloak.org/docs/latest/securing_apps/index.html#_javascript_adapter\r\n  [2]: https://www.npmjs.com/package/keycloak-angular\r\n  [3]: https://www.npmjs.com/package/react-keycloak\r\n  [4]: https://github.com/maslick/brauzie\r\n  [5]: https://www.getpostman.com/","title":"Keycloak public client and authorization","body":"<p>As far as I understood, you have your frontend and backend applications separated. If your frontend is a static web-app and not being served by the same backend application (server), and your backend is a simple REST API - then you would have two Keycloak clients configured:</p>\n\n<ul>\n<li><code>public</code> client for the frontend app. It would be responsible for acquiring JWT tokens. </li>\n<li><code>bearer-only</code> client, which would be attached to your backend application.</li>\n</ul>\n\n<p>To enable authorization you would create roles (either realm or client scoped, start on the realm level as it's easier to comprehend). Every user would then be assigned a role/s in the Keycloak admin UI. Based on this you should configure your keycloak adapter configuration (on the backend).</p>\n\n<p>All things considered, in order to talk to your REST API, you would attach a JWT token to each HTTP request in the Authorization header. Depending on your frontend framework, you can use either of these:</p>\n\n<ul>\n<li><a href=\"https://www.keycloak.org/docs/latest/securing_apps/index.html#_javascript_adapter\" rel=\"noreferrer\">Keycloak js adapter</a></li>\n<li>Other bindings (<a href=\"https://www.npmjs.com/package/keycloak-angular\" rel=\"noreferrer\">angular</a>, <a href=\"https://www.npmjs.com/package/react-keycloak\" rel=\"noreferrer\">react</a>)</li>\n</ul>\n\n<blockquote>\n  <p>P.S. For debugging I have just written a CLI tool called <a href=\"https://github.com/maslick/brauzie\" rel=\"noreferrer\">brauzie</a>\n  that would help you fetch and analyse your JWT tokens (scopes, roles, etc.). It could be used for both public and confidential clients. You\n  could as well use <a href=\"https://www.getpostman.com/\" rel=\"noreferrer\">Postman</a> and <a href=\"https://jwt.io\" rel=\"noreferrer\">https://jwt.io</a></p>\n</blockquote>\n\n<p>HTH :)</p>\n"},{"comments":[{"owner":{"account_id":463609,"reputation":3155,"user_id":866613,"accept_rate":71,"display_name":"hirikarate"},"score":1,"creation_date":1577158739,"post_id":56932139,"comment_id":105107665,"body_markdown":"Yes, I need this. I need Keycloak to authorize the requests from my SPA (public client) so that I don&#39;t need to repeatedly implement the logic in all of my resource server. I don&#39;t understand why they don&#39;t enable Authorization for public client.","body":"Yes, I need this. I need Keycloak to authorize the requests from my SPA (public client) so that I don&#39;t need to repeatedly implement the logic in all of my resource server. I don&#39;t understand why they don&#39;t enable Authorization for public client."}],"tags":[],"owner":{"account_id":15381547,"reputation":126,"user_id":11096828,"display_name":"Arnold Obdeijn"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1562579189,"creation_date":1562578715,"answer_id":56932139,"question_id":53118828,"body_markdown":"I think you are referring to the &quot;Authorization Enabled&quot; switch in the admin console of Keycloak, when creating a client. If you go over the question mark next to the label, you&#39;ll see the hint &quot;Enable/Disable fine grained authorization support for a client.\r\n\r\n[Create client in Keycloak admin console (v 6.0.1)][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a8qDl.png\r\n\r\nThis is meant for when you create a client for a backend application that serves as a resource server. In that case, the client will be confidential.\r\n\r\nIf you want to create a client for a frontend app, to authenticate a user and obtain an JWT, then you don&#39;t need this.\r\n\r\nSee also: https://www.keycloak.org/docs/latest/authorization_services/index.html\r\n","title":"Keycloak public client and authorization","body":"<p>I think you are referring to the \"Authorization Enabled\" switch in the admin console of Keycloak, when creating a client. If you go over the question mark next to the label, you'll see the hint \"Enable/Disable fine grained authorization support for a client.</p>\n\n<p><a href=\"https://i.stack.imgur.com/a8qDl.png\" rel=\"nofollow noreferrer\">Create client in Keycloak admin console (v 6.0.1)</a></p>\n\n<p>This is meant for when you create a client for a backend application that serves as a resource server. In that case, the client will be confidential.</p>\n\n<p>If you want to create a client for a frontend app, to authenticate a user and obtain an JWT, then you don't need this.</p>\n\n<p>See also: <a href=\"https://www.keycloak.org/docs/latest/authorization_services/index.html\" rel=\"nofollow noreferrer\">https://www.keycloak.org/docs/latest/authorization_services/index.html</a></p>\n"},{"comments":[{"owner":{"account_id":41200,"reputation":3669,"user_id":119693,"accept_rate":50,"display_name":"monzonj"},"score":4,"creation_date":1601805171,"post_id":59124021,"comment_id":113514379,"body_markdown":"I still don&#39;t get it. Confidential clients still require authentication. If you do the authentication only on the Public client, how do you &quot;pass&quot; the token to the confidential client? or you authenticate again?","body":"I still don&#39;t get it. Confidential clients still require authentication. If you do the authentication only on the Public client, how do you &quot;pass&quot; the token to the confidential client? or you authenticate again?"},{"owner":{"account_id":13886999,"reputation":1120,"user_id":10025913,"display_name":"NumeroUno"},"score":0,"creation_date":1601805783,"post_id":59124021,"comment_id":113514522,"body_markdown":"In keycloak, you can connect public client to confidential client. This way, public client token will work with confidential client.","body":"In keycloak, you can connect public client to confidential client. This way, public client token will work with confidential client."},{"owner":{"account_id":2089613,"reputation":274,"user_id":1859742,"display_name":"Amit Dugar"},"score":1,"creation_date":1606976562,"post_id":59124021,"comment_id":115127975,"body_markdown":"@NumeroUno can you please provide more detail, as to how can they be connected?","body":"@NumeroUno can you please provide more detail, as to how can they be connected?"},{"owner":{"account_id":13886999,"reputation":1120,"user_id":10025913,"display_name":"NumeroUno"},"score":0,"creation_date":1606979898,"post_id":59124021,"comment_id":115129032,"body_markdown":"By connect, I mean to say that if both public and confidential clients are part of same realm, same token will work across them. It is so because token is realm specific, not client.","body":"By connect, I mean to say that if both public and confidential clients are part of same realm, same token will work across them. It is so because token is realm specific, not client."},{"owner":{"account_id":1710515,"reputation":5238,"user_id":1568684,"accept_rate":100,"display_name":"lordvlad"},"score":2,"creation_date":1613681674,"post_id":59124021,"comment_id":117158470,"body_markdown":"@NumeroUno any chance you could go a bit into detail? I tried to pass the access token that the public client received to get access to a resource, but since the protection service evaluates the `azp` (issue-for) field of the JWT token, It tries to look up resources on the public client, which has no resources defined: `Client application [public-client] is not registered as a resource server.`","body":"@NumeroUno any chance you could go a bit into detail? I tried to pass the access token that the public client received to get access to a resource, but since the protection service evaluates the <code>azp</code> (issue-for) field of the JWT token, It tries to look up resources on the public client, which has no resources defined: <code>Client application [public-client] is not registered as a resource server.</code>"},{"owner":{"account_id":13886999,"reputation":1120,"user_id":10025913,"display_name":"NumeroUno"},"score":0,"creation_date":1613709256,"post_id":59124021,"comment_id":117165261,"body_markdown":"Hi @lordvlad, I did not get what is protection service. But, for authorization, your server should be connecting to confidential client. Only confidential client support authz.","body":"Hi @lordvlad, I did not get what is protection service. But, for authorization, your server should be connecting to confidential client. Only confidential client support authz."},{"owner":{"account_id":1710515,"reputation":5238,"user_id":1568684,"accept_rate":100,"display_name":"lordvlad"},"score":0,"creation_date":1613722118,"post_id":59124021,"comment_id":117168493,"body_markdown":"I use `AuthzClient.create(new Configuration(keycloakUrl, realm, CLIENT_ID_AUTHZ,         Map.of(&quot;secret&quot;, getClientSecret(realm, CLIENT_ID_AUTHZ)), null)).protection(userJwt).premission().find(...)` to check if the logged in user is allowed to access a resource. This sends off a permission request to keycloak using `userJwt`.","body":"I use <code>AuthzClient.create(new Configuration(keycloakUrl, realm, CLIENT_ID_AUTHZ,         Map.of(&quot;secret&quot;, getClientSecret(realm, CLIENT_ID_AUTHZ)), null)).protection(userJwt).premission().find(...)</code> to check if the logged in user is allowed to access a resource. This sends off a permission request to keycloak using <code>userJwt</code>."},{"owner":{"account_id":13886999,"reputation":1120,"user_id":10025913,"display_name":"NumeroUno"},"score":0,"creation_date":1613722289,"post_id":59124021,"comment_id":117168556,"body_markdown":"Actually we are using keycloak adapter for Jetty and we have configured it with confidential client. If you are using confidential client in same realm as of public client, it should work","body":"Actually we are using keycloak adapter for Jetty and we have configured it with confidential client. If you are using confidential client in same realm as of public client, it should work"},{"owner":{"account_id":1710515,"reputation":5238,"user_id":1568684,"accept_rate":100,"display_name":"lordvlad"},"score":0,"creation_date":1613724327,"post_id":59124021,"comment_id":117169338,"body_markdown":"How are you using authorization? Jetty config or programatically?","body":"How are you using authorization? Jetty config or programatically?"},{"owner":{"account_id":13886999,"reputation":1120,"user_id":10025913,"display_name":"NumeroUno"},"score":0,"creation_date":1613724777,"post_id":59124021,"comment_id":117169558,"body_markdown":"We are using jetty for all * authorization and the having custom logic for resources permission evaluation with the help of RPT token.","body":"We are using jetty for all * authorization and the having custom logic for resources permission evaluation with the help of RPT token."},{"owner":{"account_id":1710515,"reputation":5238,"user_id":1568684,"accept_rate":100,"display_name":"lordvlad"},"score":0,"creation_date":1613989741,"post_id":59124021,"comment_id":117237295,"body_markdown":"when getting RPT token, do you authenticate at the protection endpoint using the user JWT or client credentials? i.e. do you `authzClient.protection(userJwt)` or `authzClient.protection()`?","body":"when getting RPT token, do you authenticate at the protection endpoint using the user JWT or client credentials? i.e. do you <code>authzClient.protection(userJwt)</code> or <code>authzClient.protection()</code>?"},{"owner":{"account_id":13886999,"reputation":1120,"user_id":10025913,"display_name":"NumeroUno"},"score":0,"creation_date":1613990989,"post_id":59124021,"comment_id":117237843,"body_markdown":"We call /token endpoint with grant_type=urn:ietf:params:oauth:grant-type:uma-ticket using user jwt token.","body":"We call /token endpoint with grant_type=urn:ietf:params:oauth:grant-type:uma-ticket using user jwt token."},{"owner":{"account_id":1710515,"reputation":5238,"user_id":1568684,"accept_rate":100,"display_name":"lordvlad"},"score":2,"creation_date":1614000365,"post_id":59124021,"comment_id":117242060,"body_markdown":"okay, that is equivalent with `authzClient.protection(userJwt)`. Now if you authorize with the public client, the `azp` claim in userJwt will point to the public client. If I pass that userJwt from the public client to the confidential client, and let the confidential client ask keycloak for an uma token, it fails, since the token is issued for the public client, and the public client has no authorization configured. How to you switch the context from public to confidential client in your case?","body":"okay, that is equivalent with <code>authzClient.protection(userJwt)</code>. Now if you authorize with the public client, the <code>azp</code> claim in userJwt will point to the public client. If I pass that userJwt from the public client to the confidential client, and let the confidential client ask keycloak for an uma token, it fails, since the token is issued for the public client, and the public client has no authorization configured. How to you switch the context from public to confidential client in your case?"},{"owner":{"account_id":13886999,"reputation":1120,"user_id":10025913,"display_name":"NumeroUno"},"score":0,"creation_date":1614001365,"post_id":59124021,"comment_id":117242529,"body_markdown":"We pass the jwt to confidential client and it works perfectly. We did not se any issue here and AFAIK, we have not done any extra settings in keycloak","body":"We pass the jwt to confidential client and it works perfectly. We did not se any issue here and AFAIK, we have not done any extra settings in keycloak"},{"owner":{"account_id":6520239,"reputation":172,"user_id":5138797,"display_name":"Harvey"},"score":0,"creation_date":1627026712,"post_id":59124021,"comment_id":121052600,"body_markdown":"@lordvlad Hi! Did you solve this problem somehow?","body":"@lordvlad Hi! Did you solve this problem somehow?"},{"owner":{"account_id":13886999,"reputation":1120,"user_id":10025913,"display_name":"NumeroUno"},"score":0,"creation_date":1627027056,"post_id":59124021,"comment_id":121052718,"body_markdown":"Might be that our both public and confidential clients are under same realm, it does work correctly.","body":"Might be that our both public and confidential clients are under same realm, it does work correctly."},{"owner":{"account_id":1710515,"reputation":5238,"user_id":1568684,"accept_rate":100,"display_name":"lordvlad"},"score":1,"creation_date":1627127709,"post_id":59124021,"comment_id":121076742,"body_markdown":"@Harvey I experimented with [token exchange](https://www.keycloak.org/docs/latest/securing_apps/#_token-exchange) and had it working. Backend exchanges the public client token for a private client token, and performs authz lookup using the new private client token. In the end, I chose to do authorization within our app as the additional roundtrips to keycloak had a really bad impact on our app&#39;s response times.","body":"@Harvey I experimented with <a href=\"https://www.keycloak.org/docs/latest/securing_apps/#_token-exchange\" rel=\"nofollow noreferrer\">token exchange</a> and had it working. Backend exchanges the public client token for a private client token, and performs authz lookup using the new private client token. In the end, I chose to do authorization within our app as the additional roundtrips to keycloak had a really bad impact on our app&#39;s response times."},{"owner":{"account_id":2931953,"reputation":2924,"user_id":2988776,"accept_rate":52,"display_name":"Ravinder Payal"},"score":0,"creation_date":1652215694,"post_id":59124021,"comment_id":127552023,"body_markdown":"@lordvlad you rock!!\n\nBut did you notice the token exchange functionality is still in preview, at least as per documentation?\n\nAlso, you rightly mentioned a roundtrip on every request is not desirable and kind of defeats the purpose of having keycloak in certain scenarios.\n\nBy &quot;chose to do authorization within the app,&quot; did you mean to say that you send credentials(username, password) from the web app to resource-server(having private client), which in return exchanges credentials +  client_id/secret with a token(azp: resource server)?","body":"@lordvlad you rock!!  But did you notice the token exchange functionality is still in preview, at least as per documentation?  Also, you rightly mentioned a roundtrip on every request is not desirable and kind of defeats the purpose of having keycloak in certain scenarios.  By &quot;chose to do authorization within the app,&quot; did you mean to say that you send credentials(username, password) from the web app to resource-server(having private client), which in return exchanges credentials +  client_id/secret with a token(azp: resource server)?"},{"owner":{"account_id":1710515,"reputation":5238,"user_id":1568684,"accept_rate":100,"display_name":"lordvlad"},"score":0,"creation_date":1652298649,"post_id":59124021,"comment_id":127575799,"body_markdown":"No I mean we chose to have user roles in the token and have those roles quite fine grained. App then checks these roles to determine access privileges. We&#39;re planning on extending that further with a custom encoded fine grained grant scheme to reduce token size and add flexibility, as we frequently now have tokens with more than 20 or 30 roles.","body":"No I mean we chose to have user roles in the token and have those roles quite fine grained. App then checks these roles to determine access privileges. We&#39;re planning on extending that further with a custom encoded fine grained grant scheme to reduce token size and add flexibility, as we frequently now have tokens with more than 20 or 30 roles."}],"tags":[],"owner":{"account_id":13886999,"reputation":1120,"user_id":10025913,"display_name":"NumeroUno"},"comment_count":19,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1575190445,"creation_date":1575190445,"answer_id":59124021,"question_id":53118828,"body_markdown":"After much deliberation, we found that authorisation is not required to be enabled on public client really when you connect to it. When any request come to public client, it only does the authentication part. Authorization part is done when actual request lands on the resource server (in our case, Jetty) using the confidential client (as Jetty has knowledge of confidential client configured in it). ","title":"Keycloak public client and authorization","body":"<p>After much deliberation, we found that authorisation is not required to be enabled on public client really when you connect to it. When any request come to public client, it only does the authentication part. Authorization part is done when actual request lands on the resource server (in our case, Jetty) using the confidential client (as Jetty has knowledge of confidential client configured in it). </p>\n"},{"comments":[{"owner":{"account_id":2533997,"reputation":88,"user_id":2201595,"display_name":"Tomas Svarovsky"},"score":1,"creation_date":1699661494,"post_id":76564214,"comment_id":136564083,"body_markdown":"This is the correct answer. Keycloak is many things and the fine grained protection does not fit into the common understanding of auth I had. I highly recommend to read the whole document https://www.keycloak.org/docs/latest/authorization_services/index.html#_overview that clarifies some of the details.","body":"This is the correct answer. Keycloak is many things and the fine grained protection does not fit into the common understanding of auth I had. I highly recommend to read the whole document <a href=\"https://www.keycloak.org/docs/latest/authorization_services/index.html#_overview\" rel=\"nofollow noreferrer\">keycloak.org/docs/latest/authorization_services/&hellip;</a> that clarifies some of the details."}],"tags":[],"owner":{"account_id":2734022,"reputation":1689,"user_id":2357085,"display_name":"w08r"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687863834,"creation_date":1687863834,"answer_id":76564214,"question_id":53118828,"body_markdown":"&gt; Any idea why client needs to be confidential for authorization\r\n\r\nThe client needs to authenticate with keycloak in order to make full use of the protection api, to manage resources, and to create pat tokens.\r\n\r\nWeb applications should have their own client, with authentication disabled, which use the correct auth flow for SPAs ([Auth code flow with PKCE](https://www.ietf.org/archive/id/draft-ietf-oauth-browser-based-apps-10.html)).\r\n\r\nThe access token issued to the front end client can in fact be used with a different backend client representing the auth server.  An example request is documented in the (albeit terse) keycloak documentation [here](https://www.keycloak.org/docs/latest/authorization_services/index.html#_service_obtaining_permissions).\r\n\r\n```\r\ncurl -X POST \\\r\n  http://${host}:${port}/realms/${realm}/protocol/openid-connect/token \\\r\n  -H &quot;Authorization: Bearer ${access_token}&quot; \\\r\n  --data &quot;grant_type=urn:ietf:params:oauth:grant-type:uma-ticket&quot; \\\r\n  --data &quot;audience={resource_server_client_id}&quot; \\\r\n  --data &quot;permission=Resource A#Scope A&quot; \\\r\n  --data &quot;permission=Resource B#Scope B&quot;\r\n```\r\n\r\nThe above example shows use of the access token (which may have the frontend client for `azp`) and the backend client id passed as the audience.  This gets around the error mentioned above in the comments following [@NumeroUno&#39;s answer](https://stackoverflow.com/a/59124021/2357085):\r\n\r\n```\r\nClient application [public-client] is not registered as a resource server. \r\n```","title":"Keycloak public client and authorization","body":"<blockquote>\n<p>Any idea why client needs to be confidential for authorization</p>\n</blockquote>\n<p>The client needs to authenticate with keycloak in order to make full use of the protection api, to manage resources, and to create pat tokens.</p>\n<p>Web applications should have their own client, with authentication disabled, which use the correct auth flow for SPAs (<a href=\"https://www.ietf.org/archive/id/draft-ietf-oauth-browser-based-apps-10.html\" rel=\"nofollow noreferrer\">Auth code flow with PKCE</a>).</p>\n<p>The access token issued to the front end client can in fact be used with a different backend client representing the auth server.  An example request is documented in the (albeit terse) keycloak documentation <a href=\"https://www.keycloak.org/docs/latest/authorization_services/index.html#_service_obtaining_permissions\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre><code>curl -X POST \\\n  http://${host}:${port}/realms/${realm}/protocol/openid-connect/token \\\n  -H &quot;Authorization: Bearer ${access_token}&quot; \\\n  --data &quot;grant_type=urn:ietf:params:oauth:grant-type:uma-ticket&quot; \\\n  --data &quot;audience={resource_server_client_id}&quot; \\\n  --data &quot;permission=Resource A#Scope A&quot; \\\n  --data &quot;permission=Resource B#Scope B&quot;\n</code></pre>\n<p>The above example shows use of the access token (which may have the frontend client for <code>azp</code>) and the backend client id passed as the audience.  This gets around the error mentioned above in the comments following <a href=\"https://stackoverflow.com/a/59124021/2357085\">@NumeroUno's answer</a>:</p>\n<pre><code>Client application [public-client] is not registered as a resource server. \n</code></pre>\n"}],"owner":{"account_id":13886999,"reputation":1120,"user_id":10025913,"display_name":"NumeroUno"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30421,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":56824022,"answer_count":4,"score":30,"last_activity_date":1687863834,"creation_date":1541162576,"question_id":53118828,"body_markdown":"We are using keycloak-adapter with Jetty for authentication and authorization using Keycloak.\r\nAs per [Keycloak doc for OIDC Auth flow][1]:\r\n\r\n&gt; **Another important** aspect of this flow is the concept of a **public vs. a confidential** client.   Confidential clients are required to\r\n&gt; provide a client secret when they exchange the temporary codes for\r\n&gt; tokens. Public clients are not required to provide this client secret.\r\n&gt; Public clients are perfectly fine so long as HTTPS is strictly\r\n&gt; enforced and you are very strict about what redirect URIs are\r\n&gt; registered for the client.\r\n&gt; \r\n&gt; HTML5/JavaScript clients always have to be public clients because\r\n&gt; there is no way to transmit the client secret to them in a secure\r\n&gt; manner.\r\n\r\nWe have webapps which connect to Jetty and use auth. So, we have created a public client and it works awesome for webapp/REST authentication.  \r\nThe problem is as soon as we enable authorization, client type gets converted to Confidential from Public and it does not allow the reset it as Public. Now, we are in soup. We cannot have public clients due to authorization and we cannot connect webapps to confidential client.  \r\nThis seems to be contradictory to us. Any idea why client needs to be confidential for authorization? Any help on this how can we overcome this issue?  \r\nThanks.\r\n\r\n\r\n  [1]: https://www.keycloak.org/docs/latest/server_admin/index.html#_oidc-auth-flows","title":"Keycloak public client and authorization","body":"<p>We are using keycloak-adapter with Jetty for authentication and authorization using Keycloak.\nAs per <a href=\"https://www.keycloak.org/docs/latest/server_admin/index.html#_oidc-auth-flows\" rel=\"noreferrer\">Keycloak doc for OIDC Auth flow</a>:</p>\n\n<blockquote>\n  <p><strong>Another important</strong> aspect of this flow is the concept of a <strong>public vs. a confidential</strong> client.   Confidential clients are required to\n  provide a client secret when they exchange the temporary codes for\n  tokens. Public clients are not required to provide this client secret.\n  Public clients are perfectly fine so long as HTTPS is strictly\n  enforced and you are very strict about what redirect URIs are\n  registered for the client.</p>\n  \n  <p>HTML5/JavaScript clients always have to be public clients because\n  there is no way to transmit the client secret to them in a secure\n  manner.</p>\n</blockquote>\n\n<p>We have webapps which connect to Jetty and use auth. So, we have created a public client and it works awesome for webapp/REST authentication.<br>\nThe problem is as soon as we enable authorization, client type gets converted to Confidential from Public and it does not allow the reset it as Public. Now, we are in soup. We cannot have public clients due to authorization and we cannot connect webapps to confidential client.<br>\nThis seems to be contradictory to us. Any idea why client needs to be confidential for authorization? Any help on this how can we overcome this issue?<br>\nThanks.</p>\n"},{"tags":["java","spring","spring-boot","gradle","java-8"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687865686,"post_id":76564189,"comment_id":134993571,"body_markdown":"That class doesn&#39;t exist in 2.7.13. Remove whatever reference you have to it.","body":"That class doesn&#39;t exist in 2.7.13. Remove whatever reference you have to it."},{"owner":{"account_id":3051388,"reputation":119,"user_id":2585846,"accept_rate":17,"display_name":"Ravi sinha"},"score":0,"creation_date":1687866803,"post_id":76564189,"comment_id":134993822,"body_markdown":"Not able to find the reference. Any steps to check ?","body":"Not able to find the reference. Any steps to check ?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687866808,"post_id":76564189,"comment_id":134993826,"body_markdown":"Show your dependencies in your post.","body":"Show your dependencies in your post."},{"owner":{"account_id":3051388,"reputation":119,"user_id":2585846,"accept_rate":17,"display_name":"Ravi sinha"},"score":0,"creation_date":1687867933,"post_id":76564189,"comment_id":134994095,"body_markdown":"What dependency you are looking for . I can&#39;t post whole file as that is in my work laptop","body":"What dependency you are looking for . I can&#39;t post whole file as that is in my work laptop"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687868057,"post_id":76564189,"comment_id":134994126,"body_markdown":"Post the entire stack trace.","body":"Post the entire stack trace."},{"owner":{"account_id":3051388,"reputation":119,"user_id":2585846,"accept_rate":17,"display_name":"Ravi sinha"},"score":0,"creation_date":1687873973,"post_id":76564189,"comment_id":134995716,"body_markdown":"I found the solution need to update resilenc4j version from 1.4.0 to 1.6.0.  Thanks","body":"I found the solution need to update resilenc4j version from 1.4.0 to 1.6.0.  Thanks"}],"owner":{"account_id":3051388,"reputation":119,"user_id":2585846,"accept_rate":17,"display_name":"Ravi sinha"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687863696,"creation_date":1687863696,"question_id":76564189,"body_markdown":"We are upgrading Springboot from 2.33.RELEASE to 2.7.13 and  while starting server we are getting \r\n\r\n **Class Not Found Org.springframework.boot.actuate.autoconfigure.health.HealthIndicatorAutoConfiguration**  \r\n\r\nTried multiple options none of them is working.\r\n\r\n","title":"Org.springframework.boot.actuate.autoconfigure.health.HealthIndicatorAutoConfiguration Class Not Found","body":"<p>We are upgrading Springboot from 2.33.RELEASE to 2.7.13 and  while starting server we are getting</p>\n<p><strong>Class Not Found Org.springframework.boot.actuate.autoconfigure.health.HealthIndicatorAutoConfiguration</strong></p>\n<p>Tried multiple options none of them is working.</p>\n"},{"tags":["java","caching","servlets","akamai","purge"],"comments":[{"owner":{"account_id":4726205,"reputation":12248,"user_id":4420967,"display_name":"James Z"},"score":0,"creation_date":1687863501,"post_id":76563955,"comment_id":134993131,"body_markdown":"Next time look at your question before you post it. That was a complete unreadable mess.","body":"Next time look at your question before you post it. That was a complete unreadable mess."},{"owner":{"account_id":28903773,"reputation":1,"user_id":22138142,"display_name":"SKola"},"score":0,"creation_date":1687863781,"post_id":76563955,"comment_id":134993187,"body_markdown":"Hi @JamesZ, please check now corrected the indentation. Basically am not getting any error and am getting 200 status code but the url&#39;s are not purging. Please let me know for any issue in the code. Thank you.","body":"Hi @JamesZ, please check now corrected the indentation. Basically am not getting any error and am getting 200 status code but the url&#39;s are not purging. Please let me know for any issue in the code. Thank you."},{"owner":{"account_id":4726205,"reputation":12248,"user_id":4420967,"display_name":"James Z"},"score":0,"creation_date":1687869594,"post_id":76563955,"comment_id":134994544,"body_markdown":"Yes, I know it&#39;s correct now because I&#39;m the one who fixed it.","body":"Yes, I know it&#39;s correct now because I&#39;m the one who fixed it."}],"owner":{"account_id":28903773,"reputation":1,"user_id":22138142,"display_name":"SKola"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687863473,"creation_date":1687861898,"question_id":76563955,"body_markdown":"I&#39;m using java code to purge the cached url&#39;s in Akamai. I&#39;m getting 200 response but it&#39;s actually not purging the cached url&#39;s. where am I going wrong?\r\n\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.net.URI;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport javax.servlet.RequestDispatcher;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport com.akamai.edgegrid.signer.ClientCredential;\r\nimport com.akamai.edgegrid.signer.exceptions.RequestSigningException;\r\nimport com.akamai.edgegrid.signer.googlehttpclient.GoogleHttpClientEdgeGridRequestSigner;\r\nimport com.google.api.client.googleapis.util.Utils;\r\nimport com.google.api.client.http.ByteArrayContent;\r\nimport com.google.api.client.http.GenericUrl;\r\nimport com.google.api.client.http.HttpHeaders;\r\nimport com.google.api.client.http.HttpRequest;\r\nimport com.google.api.client.http.HttpRequestFactory;\r\nimport com.google.api.client.http.HttpResponse;\r\nimport com.google.api.client.http.HttpTransport;\r\nimport com.google.gson.Gson;\r\n\r\npublic class MyServlet extends HttpServlet {\r\n\r\n  private static final String HTTPS = &quot;https://&quot;;\r\n  private static final String HOST = &quot;**********akamaiapis.net&quot;;\r\n\r\n  protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n  throws ServletException, IOException {\r\n   // TODO Auto-generated method stub\r\n   int status = 0;\r\n    ClientCredential credential = ClientCredential.builder()\r\n      .accessToken(&quot;akab*********************&quot;)\r\n      .clientToken(&quot;akab-*************************&quot;)\r\n      .clientSecret(&quot;**************&quot;)\r\n      .host(HOST).build();\r\n    String urlId = &quot;https:://img.com&quot;; //the url to purge\r\n    StringBuffer jsonBuff = new StringBuffer();\r\n\r\n    jsonBuff.append(&quot;{\\&quot;objects\\&quot;:[&quot;);\r\n\r\n    jsonBuff.append(urlId);\r\n\r\n    jsonBuff.append(&quot;]}&quot;);\r\n\r\n    String json = jsonBuff.toString();\r\n    HttpTransport httpTransport = Utils.getDefaultTransport();\r\n    HttpRequestFactory requestFactory = httpTransport.createRequestFactory();\r\n    HttpRequest httprequest = null;\r\n    try {\r\n\r\n      URI uri = new URI(HTTPS, HOST, &quot;/ccu/v3/invalidate/url/production&quot; + , null, null);\r\n      String requestBody = json;\r\n      httprequest = requestFactory.buildPostRequest(new GenericUrl(uri),\r\n        ByteArrayContent.fromString(&quot;application/json&quot;, requestBody));\r\n      HttpHeaders headers = httprequest.getHeaders();\r\n      headers.set(&quot;Host&quot;, HOST);\r\n      GoogleHttpClientEdgeGridRequestSigner requestSigner = new GoogleHttpClientEdgeGridRequestSigner(credential);\r\n      requestSigner.sign(httprequest);\r\n      HttpResponse httpresponse = httprequest.execute();\r\n      status = httpresponse.getStatusCode();\r\n\r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n    }\r\n    if (status == 201) {\r\n      String nextJSP = &quot;/PurgeSuccess.jsp&quot;;\r\n      RequestDispatcher dispatcher = getServletContext().getRequestDispatcher(nextJSP);\r\n      try {\r\n        dispatcher.forward(request, response);\r\n      } catch (IOException e) {\r\n\r\n        e.printStackTrace();\r\n      }\r\n    } else {\r\n      RequestDispatcher dispatcher = getServletContext().getRequestDispatcher(&quot;/ProductPurge.jsp&quot;);\r\n      try {\r\n        dispatcher.forward(request, response);\r\n      } catch (IOException e) {\r\n\r\n        e.printStackTrace();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse\r\n   *      response)\r\n   */\r\n  protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n  throws ServletException, IOException {\r\n    // TODO Auto-generated method stub\r\n  }\r\n} \r\n```","title":"Issue in java code while purging cached url&#39;s in Akamai","body":"<p>I'm using java code to purge the cached url's in Akamai. I'm getting 200 response but it's actually not purging the cached url's. where am I going wrong?</p>\n<pre><code>import java.io.IOException;\nimport java.net.URI;\nimport java.util.List;\nimport java.util.Map;\nimport javax.servlet.RequestDispatcher;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport com.akamai.edgegrid.signer.ClientCredential;\nimport com.akamai.edgegrid.signer.exceptions.RequestSigningException;\nimport com.akamai.edgegrid.signer.googlehttpclient.GoogleHttpClientEdgeGridRequestSigner;\nimport com.google.api.client.googleapis.util.Utils;\nimport com.google.api.client.http.ByteArrayContent;\nimport com.google.api.client.http.GenericUrl;\nimport com.google.api.client.http.HttpHeaders;\nimport com.google.api.client.http.HttpRequest;\nimport com.google.api.client.http.HttpRequestFactory;\nimport com.google.api.client.http.HttpResponse;\nimport com.google.api.client.http.HttpTransport;\nimport com.google.gson.Gson;\n\npublic class MyServlet extends HttpServlet {\n\n  private static final String HTTPS = &quot;https://&quot;;\n  private static final String HOST = &quot;**********akamaiapis.net&quot;;\n\n  protected void doPost(HttpServletRequest request, HttpServletResponse response)\n  throws ServletException, IOException {\n   // TODO Auto-generated method stub\n   int status = 0;\n    ClientCredential credential = ClientCredential.builder()\n      .accessToken(&quot;akab*********************&quot;)\n      .clientToken(&quot;akab-*************************&quot;)\n      .clientSecret(&quot;**************&quot;)\n      .host(HOST).build();\n    String urlId = &quot;https:://img.com&quot;; //the url to purge\n    StringBuffer jsonBuff = new StringBuffer();\n\n    jsonBuff.append(&quot;{\\&quot;objects\\&quot;:[&quot;);\n\n    jsonBuff.append(urlId);\n\n    jsonBuff.append(&quot;]}&quot;);\n\n    String json = jsonBuff.toString();\n    HttpTransport httpTransport = Utils.getDefaultTransport();\n    HttpRequestFactory requestFactory = httpTransport.createRequestFactory();\n    HttpRequest httprequest = null;\n    try {\n\n      URI uri = new URI(HTTPS, HOST, &quot;/ccu/v3/invalidate/url/production&quot; + , null, null);\n      String requestBody = json;\n      httprequest = requestFactory.buildPostRequest(new GenericUrl(uri),\n        ByteArrayContent.fromString(&quot;application/json&quot;, requestBody));\n      HttpHeaders headers = httprequest.getHeaders();\n      headers.set(&quot;Host&quot;, HOST);\n      GoogleHttpClientEdgeGridRequestSigner requestSigner = new GoogleHttpClientEdgeGridRequestSigner(credential);\n      requestSigner.sign(httprequest);\n      HttpResponse httpresponse = httprequest.execute();\n      status = httpresponse.getStatusCode();\n\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n    if (status == 201) {\n      String nextJSP = &quot;/PurgeSuccess.jsp&quot;;\n      RequestDispatcher dispatcher = getServletContext().getRequestDispatcher(nextJSP);\n      try {\n        dispatcher.forward(request, response);\n      } catch (IOException e) {\n\n        e.printStackTrace();\n      }\n    } else {\n      RequestDispatcher dispatcher = getServletContext().getRequestDispatcher(&quot;/ProductPurge.jsp&quot;);\n      try {\n        dispatcher.forward(request, response);\n      } catch (IOException e) {\n\n        e.printStackTrace();\n      }\n    }\n  }\n\n  /**\n   * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse\n   *      response)\n   */\n  protected void doGet(HttpServletRequest request, HttpServletResponse response)\n  throws ServletException, IOException {\n    // TODO Auto-generated method stub\n  }\n} \n</code></pre>\n"},{"tags":["java","spring"],"owner":{"account_id":28755058,"reputation":1,"user_id":22022260,"display_name":"lambda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687862933,"creation_date":1687862657,"question_id":76564062,"body_markdown":"I don&#39;t know what the difference is between these two paths, why I&#39;m getting two almost identical paths. It works fine when I use it in IntelliJ IDEA.\r\n\r\nResource-----------------\\&gt;: jar:file:/Users/wanggang/Documents/jar中转站/cmcc-cloud-devops-1.0.0.jar!/BOOT-INF/classes!/com/cmcc/cloud/devops/facade/HuaWeiApi.class   \r\nResource-----------------\\&gt;: jar:file:/Users/wanggang/Documents/jar中转站/cmcc-cloud-devops-1.0.0.jar!/BOOT-INF/classes/com/cmcc/cloud/devops/facade/HuaWeiApi.class\r\n\r\n```\r\n@Component\r\npublic class RpcPostProcessor implements ResourceLoaderAware,BeanFactoryPostProcessor  {\r\n    private ResourceLoader resourceLoader;\r\n    @Override\r\n    public void setResourceLoader(ResourceLoader resourceLoader) {\r\n        this.resourceLoader = resourceLoader;\r\n    }\r\n\r\n    @Override\r\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\r\n        try {\r\n            //获取指定目录下的class文件\r\n            org.springframework.core.io.Resource[] resources = ResourcePatternUtils.getResourcePatternResolver(resourceLoader)\r\n                    .getResources(&quot;classpath*:/**/facade/**/*.class&quot;);\r\n            //根据resources创建数据读取工厂\r\n            MetadataReaderFactory metaReader = new CachingMetadataReaderFactory(resourceLoader);\r\n            for (org.springframework.core.io.Resource resource : resources) {\r\n                //获取元数据\r\n                MetadataReader metadataReader = metaReader.getMetadataReader(resource);\r\n                //判断是否存在HttpExchange注解(是否为http interface的接口调用)\r\n                if (metadataReader.getAnnotationMetadata().hasAnnotation(HttpExchange.class.getName())) {\r\n                    //构建一个web客户端\r\n                    WebClient webClient = WebClient.builder().build();\r\n                    //根据web客户端去构建服http服务的代理工厂\r\n                    HttpServiceProxyFactory factory = HttpServiceProxyFactory.builder(WebClientAdapter.forClient(webClient)).build();\r\n                    //利用类的全限定名通过Class.forName获取class对象并利用http服务的代理工厂创建出代理对象\r\n                    Object client = factory.createClient(Class.forName(metadataReader.getClassMetadata().getClassName()));\r\n                    //将创建出来的代理对象放到io容器当中\r\n                    String className = metadataReader.getClassMetadata().getClassName();\r\n                    beanFactory.registerSingleton(className, client);\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            throw new EventException(ES_RPC_000);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nbut in Mac OS or linux is not working","title":"ResourcePatternUtils.getResourcePatternResolver(resourceLoader) get two resource","body":"<p>I don't know what the difference is between these two paths, why I'm getting two almost identical paths. It works fine when I use it in IntelliJ IDEA.</p>\n<p>Resource-----------------&gt;: jar:file:/Users/wanggang/Documents/jar中转站/cmcc-cloud-devops-1.0.0.jar!/BOOT-INF/classes!/com/cmcc/cloud/devops/facade/HuaWeiApi.class<br />\nResource-----------------&gt;: jar:file:/Users/wanggang/Documents/jar中转站/cmcc-cloud-devops-1.0.0.jar!/BOOT-INF/classes/com/cmcc/cloud/devops/facade/HuaWeiApi.class</p>\n<pre><code>@Component\npublic class RpcPostProcessor implements ResourceLoaderAware,BeanFactoryPostProcessor  {\n    private ResourceLoader resourceLoader;\n    @Override\n    public void setResourceLoader(ResourceLoader resourceLoader) {\n        this.resourceLoader = resourceLoader;\n    }\n\n    @Override\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n        try {\n            //获取指定目录下的class文件\n            org.springframework.core.io.Resource[] resources = ResourcePatternUtils.getResourcePatternResolver(resourceLoader)\n                    .getResources(&quot;classpath*:/**/facade/**/*.class&quot;);\n            //根据resources创建数据读取工厂\n            MetadataReaderFactory metaReader = new CachingMetadataReaderFactory(resourceLoader);\n            for (org.springframework.core.io.Resource resource : resources) {\n                //获取元数据\n                MetadataReader metadataReader = metaReader.getMetadataReader(resource);\n                //判断是否存在HttpExchange注解(是否为http interface的接口调用)\n                if (metadataReader.getAnnotationMetadata().hasAnnotation(HttpExchange.class.getName())) {\n                    //构建一个web客户端\n                    WebClient webClient = WebClient.builder().build();\n                    //根据web客户端去构建服http服务的代理工厂\n                    HttpServiceProxyFactory factory = HttpServiceProxyFactory.builder(WebClientAdapter.forClient(webClient)).build();\n                    //利用类的全限定名通过Class.forName获取class对象并利用http服务的代理工厂创建出代理对象\n                    Object client = factory.createClient(Class.forName(metadataReader.getClassMetadata().getClassName()));\n                    //将创建出来的代理对象放到io容器当中\n                    String className = metadataReader.getClassMetadata().getClassName();\n                    beanFactory.registerSingleton(className, client);\n                }\n            }\n        } catch (Exception e) {\n            throw new EventException(ES_RPC_000);\n        }\n    }\n}\n</code></pre>\n<p>but in Mac OS or linux is not working</p>\n"},{"tags":["java","spring-boot","google-api"],"comments":[{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":0,"creation_date":1687856360,"post_id":76563201,"comment_id":134991606,"body_markdown":"The issue is with the code where you are reading the resource , when you package a file inside a jar it is not directly accessible as file path. Please read it as resource, there are multiple links to do that if you google it.","body":"The issue is with the code where you are reading the resource , when you package a file inside a jar it is not directly accessible as file path. Please read it as resource, there are multiple links to do that if you google it."},{"owner":{"account_id":18169219,"reputation":117,"user_id":13219187,"display_name":"Minh Sự"},"score":0,"creation_date":1687857536,"post_id":76563201,"comment_id":134991874,"body_markdown":"@Rishal After your comment, I have change pom.xml file to add resources but still have same error","body":"@Rishal After your comment, I have change pom.xml file to add resources but still have same error"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1687858530,"post_id":76563201,"comment_id":134992053,"body_markdown":"Read @Rishal&#39;s comment again. &quot;Please read it as resource&quot;. Is `GoogleDocService` your code?","body":"Read @Rishal&#39;s comment again. &quot;Please read it as resource&quot;. Is <code>GoogleDocService</code> your code?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687861524,"post_id":76563201,"comment_id":134992715,"body_markdown":"Please format the stacktrace as code not as a quote as that makes it unreadable. Your file location is wrong prefix it with `classpath:`.","body":"Please format the stacktrace as code not as a quote as that makes it unreadable. Your file location is wrong prefix it with <code>classpath:</code>."},{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":0,"creation_date":1688037319,"post_id":76563201,"comment_id":135021396,"body_markdown":"Provide the code where you are reading the resource file `app.credentials-oauth2-file-path=/credentials-oauth2.json`. Also, It will be easier for us to help you if you provide some code details or minimum reproducible example.","body":"Provide the code where you are reading the resource file <code>app.credentials-oauth2-file-path=&#47;credentials-oauth2.json</code>. Also, It will be easier for us to help you if you provide some code details or minimum reproducible example."}],"owner":{"account_id":18169219,"reputation":117,"user_id":13219187,"display_name":"Minh Sự"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687862889,"creation_date":1687856099,"question_id":76563201,"body_markdown":"I have a JSON file in src/resources/ folder, which is google-api token file, in debug mode, my app works perfectly, but when I package the app and run it with java -jar myapp.jar then a have an error as below. Are we missing configuration the path to load JSON file?\r\n\r\n``` \r\nInstant nation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [google.service.GoogleDocService]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: no JSON input found\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar!/:2.7.5]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar!/:2.7.5]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar!/:2.7.5]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar!/:2.7.5]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar!/:2.7.5]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar!/:2.7.5]\r\n        at palexy.deployment.DeploymentApplication.main(DeploymentApplication.java:13) ~[classes!/:0.0.1-SNAPSHOT]\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[deployment-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[deployment-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[deployment-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[deployment-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [google.service.GoogleDocService]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: no JSON input found\r\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        ... 23 common frames omitted\r\n```\r\n\r\nThis is my pom.xml file\r\n\r\n```\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;*****&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;deployment&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;*****&lt;/name&gt;\r\n\t&lt;description&gt;Deployment Utility&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.drewnoakes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;metadata-extractor&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.18.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.31.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-http-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.42.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-http-client-jackson2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.23.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-http-client-gson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.23.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.23.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-oauth-client-java6&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.23.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-api-services-sheets&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;v4-rev612-1.25.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.34.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.auth&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.12.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-api-services-docs&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;v1-rev61-1.25.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-api-services-drive&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;v3-rev197-1.25.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.16.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;31.1-jre&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\napplication.properties\r\n\r\n```\r\napp.credentials-oauth2-file-path=/credentials-oauth2.json \r\n```\r\n\r\nUPDATE\r\n\r\nI add have modify pom.xml file as the below, but still has same error\r\n\r\n```\r\n&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*.properties&lt;/include&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*.json&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\t&lt;/build&gt;\r\n```\r\n","title":"Java Spring Boot, can&#39;t load resources file when run as realse mode","body":"<p>I have a JSON file in src/resources/ folder, which is google-api token file, in debug mode, my app works perfectly, but when I package the app and run it with java -jar myapp.jar then a have an error as below. Are we missing configuration the path to load JSON file?</p>\n<pre><code>Instant nation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [google.service.GoogleDocService]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: no JSON input found\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar!/:5.3.23]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar!/:5.3.23]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar!/:2.7.5]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar!/:2.7.5]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar!/:2.7.5]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar!/:2.7.5]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar!/:2.7.5]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar!/:2.7.5]\n        at palexy.deployment.DeploymentApplication.main(DeploymentApplication.java:13) ~[classes!/:0.0.1-SNAPSHOT]\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[deployment-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[deployment-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[deployment-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[deployment-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [google.service.GoogleDocService]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: no JSON input found\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        ... 23 common frames omitted\n</code></pre>\n<p>This is my pom.xml file</p>\n<pre><code>\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;*****&lt;/groupId&gt;\n    &lt;artifactId&gt;deployment&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;*****&lt;/name&gt;\n    &lt;description&gt;Deployment Utility&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.drewnoakes&lt;/groupId&gt;\n            &lt;artifactId&gt;metadata-extractor&lt;/artifactId&gt;\n            &lt;version&gt;2.18.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n            &lt;version&gt;1.31.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-http-client&lt;/artifactId&gt;\n            &lt;version&gt;1.42.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-http-client-jackson2&lt;/artifactId&gt;\n            &lt;version&gt;1.23.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-http-client-gson&lt;/artifactId&gt;\n            &lt;version&gt;1.23.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\n            &lt;version&gt;1.23.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-oauth-client-java6&lt;/artifactId&gt;\n            &lt;version&gt;1.23.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-sheets&lt;/artifactId&gt;\n            &lt;version&gt;v4-rev612-1.25.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\n            &lt;version&gt;1.34.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\n            &lt;version&gt;1.12.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-docs&lt;/artifactId&gt;\n            &lt;version&gt;v1-rev61-1.25.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-drive&lt;/artifactId&gt;\n            &lt;version&gt;v3-rev197-1.25.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\n            &lt;version&gt;2.16.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;31.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application.properties</p>\n<pre><code>app.credentials-oauth2-file-path=/credentials-oauth2.json \n</code></pre>\n<p>UPDATE</p>\n<p>I add have modify pom.xml file as the below, but still has same error</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*.properties&lt;/include&gt;\n                    &lt;include&gt;**/*.json&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":["java","import"],"comments":[{"owner":{"account_id":210406,"reputation":10453,"user_id":462006,"display_name":"scrappedcola"},"score":0,"creation_date":1335466751,"post_id":10339637,"comment_id":13316847,"body_markdown":"try javac *.java do you get the same result?","body":"try javac *.java do you get the same result?"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1335466692,"creation_date":1335466692,"answer_id":10339669,"question_id":10339637,"body_markdown":"For one thing, `bar` should be called `Bar` to be idiomatic...\r\n\r\nIdeally, you should compile from the directory *above* Main.java, like this:\r\n\r\n    javac -d out foo/Main.java foo/Bar.java\r\n\r\nThat will create a directory called &quot;out&quot; containing another directory &quot;foo&quot;, which will contain Main.class and Bar.class. So from the parent directory again, you could run:\r\n\r\n    java -cp out foo.Main\r\n\r\nThe source locations don&#39;t *have* to match the package structure. You *could* just call javac from the directory containing `Main.java` and `Bar.java` like this:\r\n\r\n    javac -cp out Main.java Bar.java\r\n\r\n(And then run it in the same way as before) However, it&#39;s generally a much better idea to structure your source code according to packages.\r\n\r\nYou may well find it easier to use an IDE (Eclipse or NetBeans, for example) which will handle all the compilation etc for you. If you *do* want to build a real project from the command line, you should probably look into using a full build system such as Ant or Maven.\r\n\r\n(Note that you&#39;d get the same error on Linux as on Windows, if you tried to compile in the same way.)","title":"java import &quot;cannot find symbol&quot;","body":"<p>For one thing, <code>bar</code> should be called <code>Bar</code> to be idiomatic...</p>\n\n<p>Ideally, you should compile from the directory <em>above</em> Main.java, like this:</p>\n\n<pre><code>javac -d out foo/Main.java foo/Bar.java\n</code></pre>\n\n<p>That will create a directory called \"out\" containing another directory \"foo\", which will contain Main.class and Bar.class. So from the parent directory again, you could run:</p>\n\n<pre><code>java -cp out foo.Main\n</code></pre>\n\n<p>The source locations don't <em>have</em> to match the package structure. You <em>could</em> just call javac from the directory containing <code>Main.java</code> and <code>Bar.java</code> like this:</p>\n\n<pre><code>javac -cp out Main.java Bar.java\n</code></pre>\n\n<p>(And then run it in the same way as before) However, it's generally a much better idea to structure your source code according to packages.</p>\n\n<p>You may well find it easier to use an IDE (Eclipse or NetBeans, for example) which will handle all the compilation etc for you. If you <em>do</em> want to build a real project from the command line, you should probably look into using a full build system such as Ant or Maven.</p>\n\n<p>(Note that you'd get the same error on Linux as on Windows, if you tried to compile in the same way.)</p>\n"},{"tags":[],"owner":{"account_id":1191502,"reputation":4664,"user_id":1164169,"accept_rate":100,"display_name":"Juan Alberto L&#243;pez Cavallotti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335466694,"creation_date":1335466694,"answer_id":10339670,"question_id":10339637,"body_markdown":"I think you need to compile properly the class bar before attempting to compile foo, this is, generate the class file in the proper package structure.","title":"java import &quot;cannot find symbol&quot;","body":"<p>I think you need to compile properly the class bar before attempting to compile foo, this is, generate the class file in the proper package structure.</p>\n"},{"tags":[],"owner":{"account_id":20159165,"reputation":2445,"user_id":14784590,"display_name":"Reejesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687862803,"creation_date":1627556684,"answer_id":68574792,"question_id":10339637,"body_markdown":"If any of you have worked on a kotlin project and then **working on a complete Java project without the support of kotlin** in gradle, and you put a class in kotlin into the Java project and try to import that Kotlin class, you will get this import issue. Not with reference to the exact question, but someone may find it helpful.\r\n\r\nExample : trying to import SomeClass.kt in MainActivity.java will throw this error.\r\n\r\nSolution : Android Studio Tools Menu -&gt; Kotlin -&gt; Configure Kotlin in Project.","title":"java import &quot;cannot find symbol&quot;","body":"<p>If any of you have worked on a kotlin project and then <strong>working on a complete Java project without the support of kotlin</strong> in gradle, and you put a class in kotlin into the Java project and try to import that Kotlin class, you will get this import issue. Not with reference to the exact question, but someone may find it helpful.</p>\n<p>Example : trying to import SomeClass.kt in MainActivity.java will throw this error.</p>\n<p>Solution : Android Studio Tools Menu -&gt; Kotlin -&gt; Configure Kotlin in Project.</p>\n"}],"owner":{"account_id":1284253,"reputation":271,"user_id":1237666,"accept_rate":100,"display_name":"MindlessMaik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33774,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":10339669,"answer_count":3,"score":2,"last_activity_date":1687862803,"creation_date":1335466547,"question_id":10339637,"body_markdown":"I&#39;m about porting a linux tool to windows. The tool works fine on linux system, but now on windows I get this &quot;cannot find symbol&quot; error. \r\n\r\nI have this little main class:\r\n\r\n    package foo;\r\n    \r\n    import foo.bar;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws Exception {\r\n        \tbar.getInstance();\r\n        }\r\n    }\r\n\r\nand the error appears now, while doing javac Main.java:\r\n\r\nimport foo.bar: cannot find symbol\r\n        ^\r\nsymbol: class bar\r\nlocation: package foo\r\n\r\nMain.java and bar.java are in the same directory.\r\nwhat am I missing?","title":"java import &quot;cannot find symbol&quot;","body":"<p>I'm about porting a linux tool to windows. The tool works fine on linux system, but now on windows I get this \"cannot find symbol\" error. </p>\n\n<p>I have this little main class:</p>\n\n<pre><code>package foo;\n\nimport foo.bar;\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        bar.getInstance();\n    }\n}\n</code></pre>\n\n<p>and the error appears now, while doing javac Main.java:</p>\n\n<p>import foo.bar: cannot find symbol\n        ^\nsymbol: class bar\nlocation: package foo</p>\n\n<p>Main.java and bar.java are in the same directory.\nwhat am I missing?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7818,"page":345,"page_size":100}
