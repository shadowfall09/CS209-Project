{"items":[{"tags":["java","unity-game-engine","gradle","android-gradle-plugin","gvr-android-sdk"],"answers":[{"tags":[],"owner":{"account_id":8238102,"reputation":20380,"user_id":6196568,"display_name":"shingo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682144917,"creation_date":1682144917,"answer_id":76078318,"question_id":76078271,"body_markdown":"You confused the gradle and the android gradle plugin, check this link: https://docs.unity3d.com/2023.2/Documentation/Manual/android-gradle-overview.html\r\n\r\nIn the build.gradle file, the thing you need to configure is the android gradle plugin, the corresponding version is 4.0.1.\r\n\r\n    classpath &#39;com.android.tools.build:gradle:4.0.1&#39;\r\n\r\nBy the way the gradle path is set in the preferences in Unity.","title":"Unity Gradle Build Failed: :launcher","body":"<p>You confused the gradle and the android gradle plugin, check this link: <a href=\"https://docs.unity3d.com/2023.2/Documentation/Manual/android-gradle-overview.html\" rel=\"nofollow noreferrer\">https://docs.unity3d.com/2023.2/Documentation/Manual/android-gradle-overview.html</a></p>\n<p>In the build.gradle file, the thing you need to configure is the android gradle plugin, the corresponding version is 4.0.1.</p>\n<pre><code>classpath 'com.android.tools.build:gradle:4.0.1'\n</code></pre>\n<p>By the way the gradle path is set in the preferences in Unity.</p>\n"},{"tags":[],"owner":{"account_id":25309519,"reputation":11,"user_id":19132447,"display_name":"DUKE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683027535,"creation_date":1683027535,"answer_id":76154469,"question_id":76078271,"body_markdown":" I follow through the tutorials on official google vr website and everything is working fine now","title":"Unity Gradle Build Failed: :launcher","body":"<p>I follow through the tutorials on official google vr website and everything is working fine now</p>\n"},{"tags":[],"owner":{"account_id":3371983,"reputation":607,"user_id":2831015,"display_name":"Dover8"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687854702,"creation_date":1687854702,"answer_id":76563027,"question_id":76078271,"body_markdown":"Are you running this locally, or on a jenkins build machine? I had a similar issue and found that ensuring the jenkins agent service was running on an admin account, rather than the &quot;LocalSystem&quot; account fixed the issue. See https://stackoverflow.com/a/63048521/2831015","title":"Unity Gradle Build Failed: :launcher","body":"<p>Are you running this locally, or on a jenkins build machine? I had a similar issue and found that ensuring the jenkins agent service was running on an admin account, rather than the &quot;LocalSystem&quot; account fixed the issue. See <a href=\"https://stackoverflow.com/a/63048521/2831015\">https://stackoverflow.com/a/63048521/2831015</a></p>\n"}],"owner":{"account_id":25309519,"reputation":11,"user_id":19132447,"display_name":"DUKE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1687854702,"creation_date":1682144355,"question_id":76078271,"body_markdown":"```\r\nCommandInvokationFailure: Gradle build failed. \r\nC:\\Program Files\\Unity\\Hub\\Editor\\2021.3.20f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\OpenJDK\\bin\\java.exe -classpath &quot;C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.20f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\Tools\\gradle\\lib\\gradle-launcher-6.1.1.jar&quot; org.gradle.launcher.GradleMain &quot;-Dorg.gradle.jvmargs=-Xmx4096m&quot; &quot;assembleRelease&quot;\r\n\r\nEnvironment Variables:\r\nKMP_DUPLICATE_LIB_OK = TRUE\r\nCUDA_CACHE_MAXSIZE = 268435456\r\nProgramFiles = C:\\Program Files\r\nTMP = C:\\Users\\devau\\AppData\\Local\\Temp\r\nNVVFX_MODEL_DIR = C:\\Program Files\\NVIDIA Corporation\\NVIDIA Video Effects\\models\r\nPROCESSOR_ARCHITECTURE = AMD64\r\nBAZEL_SH = c:\\msys64\\usr\\bin\\bash.exe\r\nPATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC\r\nORIGINAL_XDG_CURRENT_DESKTOP = undefined\r\nOS = Windows_NT\r\nCHROME_CRASHPAD_PIPE_NAME = \\\\.\\pipe\\crashpad_12536_WDEHADUWIWVDKREW\r\nPROCESSOR_IDENTIFIER = Intel64 Family 6 Model 141 Stepping 1, GenuineIntel\r\nVRAY_MDL_PATH_3DSMAX2023 = C:\\Program Files\\Chaos Group\\V-Ray\\3ds Max 2023\\mdl\r\nProgramW6432 = C:\\Program Files\r\nPROCESSOR_REVISION = 8d01\r\nUSERPROFILE = C:\\Users\\devau\r\nJAVA_HOME = C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.20f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\OpenJDK\r\nCommonProgramFiles = C:\\Program Files\\Common Files\r\nDriverData = C:\\Windows\\System32\\Drivers\\DriverData\r\nComSpec = C:\\Windows\\system32\\cmd.exe\r\nINTEL_DEV_REDIST = C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\\r\nUSERDOMAIN = LAPTOP-9HLG01UH\r\nPUBLIC = C:\\Users\\Public\r\nSystemRoot = C:\\Windows\r\nPSModulePath = C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules\r\nNUMBER_OF_PROCESSORS = 16\r\nZES_ENABLE_SYSMAN = 1\r\nMIC_LD_LIBRARY_PATH = C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\compiler\\lib\\mic\r\nJAVA_TOOL_OPTIONS = -Dfile.encoding=UTF-8\r\nADSK_3DSMAX_x64_2023 = C:\\Program Files\\Autodesk\\3ds Max 2023\\\r\nADSK_3DSMAX_x64_2020 = C:\\Program Files\\Autodesk\\3ds Max 2020\\\r\nTEMP = C:\\Users\\devau\\AppData\\Local\\Temp\r\nPath = C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\redist\\intel64\\compiler;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\nodejs\\;C:\\Program Files\\Git\\cmd;C:\\Program Files (x86)\\QuickTime\\QTSystem\\;C:\\Program Files (x86)\\Common Files\\Autodesk Shared\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\Microsoft SQL Server\\120\\Tools\\Binn\\;C:\\Users\\devau\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\devau\\AppData\\Roaming\\npm;C:\\Users\\devau\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\adb;C:\\Program Files\\Common Files\\Autodesk Shared\\;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\Python27;C:\\Users\\devau\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\devau\\AppData\\Roaming\\npm;C:\\Users\\devau\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\devau\\AppData\\Local\\Programs\\Python\\Python310\\Scripts;C:\\tmp;C:\\msys64\\usr\\bin;C:\\nuget;C:\\Users\\devau\\AppData\\Roaming\\Python\\Python310\\site-packages\\virtualenv;C:\\Users\\devau\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\\r\nVRAY_FOR_3DSMAX2023_MAIN = C:\\ProgramData\\Autodesk\\ApplicationPlugins\\VRay3dsMax2023/bin\r\nUSERNAME = devau\r\nCOMPUTERNAME = LAPTOP-9HLG01UH\r\nVRAY_FOR_3DSMAX2023_PLUGINS = C:\\ProgramData\\Autodesk\\ApplicationPlugins\\VRay3dsMax2023/bin/plugins\r\nVRAY_OSL_PATH_3DSMAX2023 = C:\\ProgramData\\Autodesk\\ApplicationPlugins\\VRay3dsMax2023\\opensl\r\nALLUSERSPROFILE = C:\\ProgramData\r\nSystemDrive = C:\r\nwindir = C:\\Windows\r\nHOMEDRIVE = C:\r\nVRAY_SEND_FEEDBACK = 0\r\nHOMEPATH = \\Users\\devau\r\nCommonProgramFiles(x86) = C:\\Program Files (x86)\\Common Files\r\nAPPDATA = C:\\Users\\devau\\AppData\\Roaming\r\nOneDrive = C:\\Users\\devau\\OneDrive\r\nPROCESSOR_LEVEL = 6\r\nCommonProgramW6432 = C:\\Program Files\\Common Files\r\nProgramFiles(x86) = C:\\Program Files (x86)\r\nNVIDIAWHITELISTED = 0x01\r\nSESSIONNAME = Console\r\nLOGONSERVER = \\\\LAPTOP-9HLG01UH\r\nLOCALAPPDATA = C:\\Users\\devau\\AppData\\Local\r\nPT8HOME = C:\\Program Files\\Cisco Packet Tracer 8.1.1\r\nSHIM_MCCOMPAT = 0x810000001\r\nUSERDOMAIN_ROAMINGPROFILE = LAPTOP-9HLG01UH\r\nProgramData = C:\\ProgramData\r\n\r\n\r\nstderr[\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring project &#39;:launcher&#39;.\r\n&gt; Could not resolve all artifacts for configuration &#39;:launcher:classpath&#39;.\r\n   &gt; Could not find com.android.tools.build:gradle:6.1.1.\r\n     Searched in the following locations:\r\n       - https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/6.1.1/gradle-6.1.1.pom\r\n       - https://jcenter.bintray.com/com/android/tools/build/gradle/6.1.1/gradle-6.1.1.pom\r\n     Required by:\r\n         project :launcher\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 1s\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\r\n]\r\nstdout[\r\n\r\n]\r\nexit code: 1\r\nUnityEditor.Android.Command.WaitForProgramToRun (UnityEditor.Utils.Program p, UnityEditor.Android.Command+WaitingForProcessToExit waitingForProcessToExit, System.String errorMsg) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\r\nUnityEditor.Android.Command.Run (System.Diagnostics.ProcessStartInfo psi, UnityEditor.Android.Command+WaitingForProcessToExit waitingForProcessToExit, System.String errorMsg) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\r\nUnityEditor.Android.Command.Run (System.String command, System.String args, System.String workingdir, UnityEditor.Android.Command+WaitingForProcessToExit waitingForProcessToExit, System.String errorMsg) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\r\nUnityEditor.Android.AndroidJavaTools.RunJava (System.String args, System.String workingdir, System.Action`1[T] progress, System.String error) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\r\nUnityEditor.Android.GradleWrapper.Run (UnityEditor.Android.AndroidJavaTools javaTools, Unity.Android.Gradle.AndroidGradle androidGradle, System.String workingdir, System.String task, System.Action`1[T] progress) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\r\nRethrow as GradleInvokationException: Gradle build failed\r\nUnityEditor.Android.GradleWrapper.Run (UnityEditor.Android.AndroidJavaTools javaTools, Unity.Android.Gradle.AndroidGradle androidGradle, System.String workingdir, System.String task, System.Action`1[T] progress) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\r\nUnityEditor.Android.PostProcessor.Tasks.BuildGradleProject.Execute (UnityEditor.Android.PostProcessor.PostProcessorContext context) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\r\nUnityEditor.Android.PostProcessor.PostProcessRunner.RunAllTasks (UnityEditor.Android.PostProcessor.PostProcessorContext context) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\r\nRethrow as BuildFailedException: Exception of type &#39;UnityEditor.Build.BuildFailedException&#39; was thrown.\r\nUnityEditor.Android.PostProcessor.CancelPostProcess.AbortBuild (System.String title, System.String message, System.Exception ex) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\r\nUnityEditor.Android.PostProcessor.PostProcessRunner.RunAllTasks (UnityEditor.Android.PostProcessor.PostProcessorContext context) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\r\nUnityEditor.Android.PostProcessAndroidPlayer.PostProcess (UnityEditor.Modules.BuildPostProcessArgs args, AndroidPlayerBuildProgram.Data.AndroidPlayerBuildProgramOutput buildProgramOutput) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\r\nUnityEditor.Android.AndroidBuildPostprocessor.PostProcess (UnityEditor.Modules.BuildPostProcessArgs args, UnityEditor.BuildProperties&amp; outProperties) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\r\nUnityEditor.PostprocessBuildPlayer.Postprocess (UnityEditor.BuildTargetGroup targetGroup, UnityEditor.BuildTarget target, System.Int32 subtarget, System.String installPath, System.String companyName, System.String productName, System.Int32 width, System.Int32 height, UnityEditor.BuildOptions options, UnityEditor.RuntimeClassRegistry usedClassRegistry, UnityEditor.Build.Reporting.BuildReport report) (at &lt;6e08e61cfda04255b3972ba7f0515fae&gt;:0)\r\nUnityEngine.GUIUtility:ProcessEvent(Int32, IntPtr, Boolean&amp;)\r\n\r\n```\r\nSpecifications:\r\n- Unity 2021.3.20f1\r\n\r\n\r\n\r\nI tried various fixes\r\n- Downloaded Gradle 6.1.1 as recommended by Unity and set it in preferences\r\n- Downloaded JDK 8 and set it in preferences\r\n- tried exporting to Android Studio and building but it shows following error \r\n&quot;Unsupported Java. \r\nYour build is currently configured to use Java 17.0.6 and Gradle 6.1.1.\r\n\r\nPossible solution:\r\n - Upgrade Gradle wrapper to 7.2 version and re-import the project&quot;\r\n\r\nNothing is working and all Gradle Build fails are either of not this type or not answered. Please Help I had been trying to solve it from morning since 5 hours Haven&#39;t even had my breakfast !","title":"Unity Gradle Build Failed: :launcher","body":"<pre><code>CommandInvokationFailure: Gradle build failed. \nC:\\Program Files\\Unity\\Hub\\Editor\\2021.3.20f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\OpenJDK\\bin\\java.exe -classpath &quot;C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.20f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\Tools\\gradle\\lib\\gradle-launcher-6.1.1.jar&quot; org.gradle.launcher.GradleMain &quot;-Dorg.gradle.jvmargs=-Xmx4096m&quot; &quot;assembleRelease&quot;\n\nEnvironment Variables:\nKMP_DUPLICATE_LIB_OK = TRUE\nCUDA_CACHE_MAXSIZE = 268435456\nProgramFiles = C:\\Program Files\nTMP = C:\\Users\\devau\\AppData\\Local\\Temp\nNVVFX_MODEL_DIR = C:\\Program Files\\NVIDIA Corporation\\NVIDIA Video Effects\\models\nPROCESSOR_ARCHITECTURE = AMD64\nBAZEL_SH = c:\\msys64\\usr\\bin\\bash.exe\nPATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC\nORIGINAL_XDG_CURRENT_DESKTOP = undefined\nOS = Windows_NT\nCHROME_CRASHPAD_PIPE_NAME = \\\\.\\pipe\\crashpad_12536_WDEHADUWIWVDKREW\nPROCESSOR_IDENTIFIER = Intel64 Family 6 Model 141 Stepping 1, GenuineIntel\nVRAY_MDL_PATH_3DSMAX2023 = C:\\Program Files\\Chaos Group\\V-Ray\\3ds Max 2023\\mdl\nProgramW6432 = C:\\Program Files\nPROCESSOR_REVISION = 8d01\nUSERPROFILE = C:\\Users\\devau\nJAVA_HOME = C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.20f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\OpenJDK\nCommonProgramFiles = C:\\Program Files\\Common Files\nDriverData = C:\\Windows\\System32\\Drivers\\DriverData\nComSpec = C:\\Windows\\system32\\cmd.exe\nINTEL_DEV_REDIST = C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\\nUSERDOMAIN = LAPTOP-9HLG01UH\nPUBLIC = C:\\Users\\Public\nSystemRoot = C:\\Windows\nPSModulePath = C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules\nNUMBER_OF_PROCESSORS = 16\nZES_ENABLE_SYSMAN = 1\nMIC_LD_LIBRARY_PATH = C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\compiler\\lib\\mic\nJAVA_TOOL_OPTIONS = -Dfile.encoding=UTF-8\nADSK_3DSMAX_x64_2023 = C:\\Program Files\\Autodesk\\3ds Max 2023\\\nADSK_3DSMAX_x64_2020 = C:\\Program Files\\Autodesk\\3ds Max 2020\\\nTEMP = C:\\Users\\devau\\AppData\\Local\\Temp\nPath = C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\redist\\intel64\\compiler;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\nodejs\\;C:\\Program Files\\Git\\cmd;C:\\Program Files (x86)\\QuickTime\\QTSystem\\;C:\\Program Files (x86)\\Common Files\\Autodesk Shared\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\Microsoft SQL Server\\120\\Tools\\Binn\\;C:\\Users\\devau\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\devau\\AppData\\Roaming\\npm;C:\\Users\\devau\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\adb;C:\\Program Files\\Common Files\\Autodesk Shared\\;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\Python27;C:\\Users\\devau\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\devau\\AppData\\Roaming\\npm;C:\\Users\\devau\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\devau\\AppData\\Local\\Programs\\Python\\Python310\\Scripts;C:\\tmp;C:\\msys64\\usr\\bin;C:\\nuget;C:\\Users\\devau\\AppData\\Roaming\\Python\\Python310\\site-packages\\virtualenv;C:\\Users\\devau\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\\nVRAY_FOR_3DSMAX2023_MAIN = C:\\ProgramData\\Autodesk\\ApplicationPlugins\\VRay3dsMax2023/bin\nUSERNAME = devau\nCOMPUTERNAME = LAPTOP-9HLG01UH\nVRAY_FOR_3DSMAX2023_PLUGINS = C:\\ProgramData\\Autodesk\\ApplicationPlugins\\VRay3dsMax2023/bin/plugins\nVRAY_OSL_PATH_3DSMAX2023 = C:\\ProgramData\\Autodesk\\ApplicationPlugins\\VRay3dsMax2023\\opensl\nALLUSERSPROFILE = C:\\ProgramData\nSystemDrive = C:\nwindir = C:\\Windows\nHOMEDRIVE = C:\nVRAY_SEND_FEEDBACK = 0\nHOMEPATH = \\Users\\devau\nCommonProgramFiles(x86) = C:\\Program Files (x86)\\Common Files\nAPPDATA = C:\\Users\\devau\\AppData\\Roaming\nOneDrive = C:\\Users\\devau\\OneDrive\nPROCESSOR_LEVEL = 6\nCommonProgramW6432 = C:\\Program Files\\Common Files\nProgramFiles(x86) = C:\\Program Files (x86)\nNVIDIAWHITELISTED = 0x01\nSESSIONNAME = Console\nLOGONSERVER = \\\\LAPTOP-9HLG01UH\nLOCALAPPDATA = C:\\Users\\devau\\AppData\\Local\nPT8HOME = C:\\Program Files\\Cisco Packet Tracer 8.1.1\nSHIM_MCCOMPAT = 0x810000001\nUSERDOMAIN_ROAMINGPROFILE = LAPTOP-9HLG01UH\nProgramData = C:\\ProgramData\n\n\nstderr[\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring project ':launcher'.\n&gt; Could not resolve all artifacts for configuration ':launcher:classpath'.\n   &gt; Could not find com.android.tools.build:gradle:6.1.1.\n     Searched in the following locations:\n       - https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/6.1.1/gradle-6.1.1.pom\n       - https://jcenter.bintray.com/com/android/tools/build/gradle/6.1.1/gradle-6.1.1.pom\n     Required by:\n         project :launcher\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\n]\nstdout[\n\n]\nexit code: 1\nUnityEditor.Android.Command.WaitForProgramToRun (UnityEditor.Utils.Program p, UnityEditor.Android.Command+WaitingForProcessToExit waitingForProcessToExit, System.String errorMsg) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\nUnityEditor.Android.Command.Run (System.Diagnostics.ProcessStartInfo psi, UnityEditor.Android.Command+WaitingForProcessToExit waitingForProcessToExit, System.String errorMsg) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\nUnityEditor.Android.Command.Run (System.String command, System.String args, System.String workingdir, UnityEditor.Android.Command+WaitingForProcessToExit waitingForProcessToExit, System.String errorMsg) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\nUnityEditor.Android.AndroidJavaTools.RunJava (System.String args, System.String workingdir, System.Action`1[T] progress, System.String error) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\nUnityEditor.Android.GradleWrapper.Run (UnityEditor.Android.AndroidJavaTools javaTools, Unity.Android.Gradle.AndroidGradle androidGradle, System.String workingdir, System.String task, System.Action`1[T] progress) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\nRethrow as GradleInvokationException: Gradle build failed\nUnityEditor.Android.GradleWrapper.Run (UnityEditor.Android.AndroidJavaTools javaTools, Unity.Android.Gradle.AndroidGradle androidGradle, System.String workingdir, System.String task, System.Action`1[T] progress) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\nUnityEditor.Android.PostProcessor.Tasks.BuildGradleProject.Execute (UnityEditor.Android.PostProcessor.PostProcessorContext context) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\nUnityEditor.Android.PostProcessor.PostProcessRunner.RunAllTasks (UnityEditor.Android.PostProcessor.PostProcessorContext context) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\nRethrow as BuildFailedException: Exception of type 'UnityEditor.Build.BuildFailedException' was thrown.\nUnityEditor.Android.PostProcessor.CancelPostProcess.AbortBuild (System.String title, System.String message, System.Exception ex) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\nUnityEditor.Android.PostProcessor.PostProcessRunner.RunAllTasks (UnityEditor.Android.PostProcessor.PostProcessorContext context) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\nUnityEditor.Android.PostProcessAndroidPlayer.PostProcess (UnityEditor.Modules.BuildPostProcessArgs args, AndroidPlayerBuildProgram.Data.AndroidPlayerBuildProgramOutput buildProgramOutput) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\nUnityEditor.Android.AndroidBuildPostprocessor.PostProcess (UnityEditor.Modules.BuildPostProcessArgs args, UnityEditor.BuildProperties&amp; outProperties) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\nUnityEditor.PostprocessBuildPlayer.Postprocess (UnityEditor.BuildTargetGroup targetGroup, UnityEditor.BuildTarget target, System.Int32 subtarget, System.String installPath, System.String companyName, System.String productName, System.Int32 width, System.Int32 height, UnityEditor.BuildOptions options, UnityEditor.RuntimeClassRegistry usedClassRegistry, UnityEditor.Build.Reporting.BuildReport report) (at &lt;6e08e61cfda04255b3972ba7f0515fae&gt;:0)\nUnityEngine.GUIUtility:ProcessEvent(Int32, IntPtr, Boolean&amp;)\n\n</code></pre>\n<p>Specifications:</p>\n<ul>\n<li>Unity 2021.3.20f1</li>\n</ul>\n<p>I tried various fixes</p>\n<ul>\n<li>Downloaded Gradle 6.1.1 as recommended by Unity and set it in preferences</li>\n<li>Downloaded JDK 8 and set it in preferences</li>\n<li>tried exporting to Android Studio and building but it shows following error\n&quot;Unsupported Java.\nYour build is currently configured to use Java 17.0.6 and Gradle 6.1.1.</li>\n</ul>\n<p>Possible solution:</p>\n<ul>\n<li>Upgrade Gradle wrapper to 7.2 version and re-import the project&quot;</li>\n</ul>\n<p>Nothing is working and all Gradle Build fails are either of not this type or not answered. Please Help I had been trying to solve it from morning since 5 hours Haven't even had my breakfast !</p>\n"},{"tags":["java","micronaut","distributed-tracing"],"answers":[{"tags":[],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687854656,"creation_date":1687854656,"answer_id":76563021,"question_id":76562660,"body_markdown":"In order to have an effect when using `@NewSpan` and `@ContinueSpan` Micronaut requires Micronaut beans. Therefore the answer to your question is no, that does not work that way.\r\n\r\nThe reason is that for example `@NewSpan` used Micronaut AOP. Micronaut AOP only works with Micronaut beans. For example the `@NewSpan` annotation indicates that a call to a method annotated with `@NewSpan` should be intercepted. ","title":"Do micronaut tracing annotations work on classes that are not beans?","body":"<p>In order to have an effect when using <code>@NewSpan</code> and <code>@ContinueSpan</code> Micronaut requires Micronaut beans. Therefore the answer to your question is no, that does not work that way.</p>\n<p>The reason is that for example <code>@NewSpan</code> used Micronaut AOP. Micronaut AOP only works with Micronaut beans. For example the <code>@NewSpan</code> annotation indicates that a call to a method annotated with <code>@NewSpan</code> should be intercepted.</p>\n"}],"owner":{"account_id":223471,"reputation":1312,"user_id":2185719,"display_name":"Miguel Ferreira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76563021,"answer_count":1,"score":1,"last_activity_date":1687854656,"creation_date":1687851914,"question_id":76562660,"body_markdown":"I&#39;m using micronaut tracing library to instrument an application. I want to use the tracing annotations (`@NewSpan` and `@ContinueSpan`) in classes that are not beans registered in the application context. I&#39;m not getting spans for the methods in those classes, and I&#39;m wondering if for the tracing annotations to work the classes need to be beans.","title":"Do micronaut tracing annotations work on classes that are not beans?","body":"<p>I'm using micronaut tracing library to instrument an application. I want to use the tracing annotations (<code>@NewSpan</code> and <code>@ContinueSpan</code>) in classes that are not beans registered in the application context. I'm not getting spans for the methods in those classes, and I'm wondering if for the tracing annotations to work the classes need to be beans.</p>\n"},{"tags":["java","sql","spring-boot","liquibase"],"owner":{"account_id":27453794,"reputation":3,"user_id":20945572,"display_name":"Hugo MERLE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1078,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687854412,"creation_date":1687853628,"question_id":76562890,"body_markdown":"I am running unit tests on IntelliJ IDEA, using liquibase and h2. The database is entirely created using a SQL script.\r\n\r\nThe SQL file I&#39;m using looks like this :\r\n\r\n```\r\n-- db.table1 definition\r\n\r\nCREATE TABLE table1\r\n(\r\n    id   bigint PRIMARY KEY NOT NULL AUTO_INCREMENT,\r\n    name varchar(255) DEFAULT NULL\r\n);\r\n\r\n\r\n-- db.table2 definition\r\n\r\nCREATE TABLE table2\r\n(\r\n    id          bigint NOT NULL AUTO_INCREMENT,\r\n    name        varchar(255) DEFAULT NULL,\r\n    description varchar(255) DEFAULT NULL,\r\n    heading     varchar(255) DEFAULT NULL,\r\n    PRIMARY KEY (id)\r\n);\r\n\r\n\r\n-- db.table3 definition\r\n\r\nCREATE TABLE table3\r\n(\r\n    id   bigint       NOT NULL AUTO_INCREMENT,\r\n    name varchar(255) NOT NULL,\r\n    PRIMARY KEY (id)\r\n);\r\n```\r\n\r\nSame thing for all of the 77 other tables. The types used are always bigint, varchar, int, date, double, bit, smallint, timestamp. There is nothing else than tables definition and some constraints in the end in this file.\r\n\r\nWhen I start any test, I got the following error :\r\n\r\n```\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;liquibase&#39; defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.MigrationFailedException: Migration failed for change set classpath:config/liquibase-test/changelog/00000000000000_initial_schema.sql::raw::includeAll:\r\n     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;CREATE TABLE table2\r\n    (\r\n    id          bigint NOT NULL AUTO_INCREMENT,\r\n    n&#39; at line 12 [Failed SQL:-- db.table1 definition\r\n\r\n```\r\n\r\nI verified, the entire SQL file is valid. One of my coworkers have the same file and he does not have a SQL error when starting a test.\r\n\r\nIf you have any idea or solutions, please share them. (For all the others, have a nice day)","title":"&quot;liquibase.exception.DatabaseException: You have an error in your SQL syntax&quot; when there is no error in the SQL","body":"<p>I am running unit tests on IntelliJ IDEA, using liquibase and h2. The database is entirely created using a SQL script.</p>\n<p>The SQL file I'm using looks like this :</p>\n<pre><code>-- db.table1 definition\n\nCREATE TABLE table1\n(\n    id   bigint PRIMARY KEY NOT NULL AUTO_INCREMENT,\n    name varchar(255) DEFAULT NULL\n);\n\n\n-- db.table2 definition\n\nCREATE TABLE table2\n(\n    id          bigint NOT NULL AUTO_INCREMENT,\n    name        varchar(255) DEFAULT NULL,\n    description varchar(255) DEFAULT NULL,\n    heading     varchar(255) DEFAULT NULL,\n    PRIMARY KEY (id)\n);\n\n\n-- db.table3 definition\n\nCREATE TABLE table3\n(\n    id   bigint       NOT NULL AUTO_INCREMENT,\n    name varchar(255) NOT NULL,\n    PRIMARY KEY (id)\n);\n</code></pre>\n<p>Same thing for all of the 77 other tables. The types used are always bigint, varchar, int, date, double, bit, smallint, timestamp. There is nothing else than tables definition and some constraints in the end in this file.</p>\n<p>When I start any test, I got the following error :</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\n\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189)\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.MigrationFailedException: Migration failed for change set classpath:config/liquibase-test/changelog/00000000000000_initial_schema.sql::raw::includeAll:\n     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE TABLE table2\n    (\n    id          bigint NOT NULL AUTO_INCREMENT,\n    n' at line 12 [Failed SQL:-- db.table1 definition\n\n</code></pre>\n<p>I verified, the entire SQL file is valid. One of my coworkers have the same file and he does not have a SQL error when starting a test.</p>\n<p>If you have any idea or solutions, please share them. (For all the others, have a nice day)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1288816,"reputation":4033,"user_id":1241334,"accept_rate":100,"display_name":"Jonny Henly"},"score":0,"creation_date":1479604567,"post_id":40699646,"comment_id":68628293,"body_markdown":"You&#39;re comparing `Strings` against single character `Strings`, which would work if your punctuation was separated from words with spaces, but I gather they&#39;re not (for instance `&quot;The end.&quot;` would need to be `&quot;The end .&quot;`). `input.next()` parses out a `String` separated by one or more spacing characters (`\\s`, `\\t`, ...). If you want to step through every character then you should change `input`&#39;s delimiter to `.` using `input.useDelimiter(&quot;.&quot;)`.","body":"You&#39;re comparing <code>Strings</code> against single character <code>Strings</code>, which would work if your punctuation was separated from words with spaces, but I gather they&#39;re not (for instance <code>&quot;The end.&quot;</code> would need to be <code>&quot;The end .&quot;</code>). <code>input.next()</code> parses out a <code>String</code> separated by one or more spacing characters (<code>\\s</code>, <code>\\t</code>, ...). If you want to step through every character then you should change <code>input</code>&#39;s delimiter to <code>.</code> using <code>input.useDelimiter(&quot;.&quot;)</code>."}],"answers":[{"tags":[],"owner":{"account_id":5937539,"reputation":3116,"user_id":4669984,"accept_rate":86,"display_name":"Tarun Maganti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479626014,"creation_date":1479609312,"answer_id":40700103,"question_id":40699646,"body_markdown":"If you could use `Pattern` Class, you can do this.\r\n\r\n    import java.util.regex.*;\r\n    import java.util.*;\r\n    import java.util.stream.*;\r\n    \r\n    class PunctuationMatch\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tfinal Pattern p = Pattern.compile(&quot;^[,|.|?|!|:|;]&quot;);\r\n    \t\tSystem.out.println(p.splitAsStream(&quot;Hello, World! How are you?&quot;).count());\r\n    \t}\r\n    }\r\n\r\nWhile passing string in `compile` method pass all the puctuation you want to identify.\r\n\r\nPassing into `splitAsStream` method your entire data string or a line by line of a file and add every thing up.\r\n\r\nHere is the [Java Docs Ref][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html","title":"Checking for and counting punctuation in a file","body":"<p>If you could use <code>Pattern</code> Class, you can do this.</p>\n\n<pre><code>import java.util.regex.*;\nimport java.util.*;\nimport java.util.stream.*;\n\nclass PunctuationMatch\n{\n    public static void main(String[] args) {\n        final Pattern p = Pattern.compile(\"^[,|.|?|!|:|;]\");\n        System.out.println(p.splitAsStream(\"Hello, World! How are you?\").count());\n    }\n}\n</code></pre>\n\n<p>While passing string in <code>compile</code> method pass all the puctuation you want to identify.</p>\n\n<p>Passing into <code>splitAsStream</code> method your entire data string or a line by line of a file and add every thing up.</p>\n\n<p>Here is the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Java Docs Ref</a></p>\n"}],"owner":{"account_id":9683068,"reputation":1,"user_id":7183950,"display_name":"greg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":865,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687854058,"creation_date":1479604332,"question_id":40699646,"body_markdown":"I&#39;m currently doing an assignment which requires the program to count words and punctuation from a text file. The word counting program is done and working but my professor provided an additional method to be combined with it to count punctuation that I cannot seem to get to work. Here is the working program:\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n\r\n    public class SnippetWeek11 {\r\n    public static void main(String[] args) throws Exception {\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.print(&quot;Enter a filename of a text file to process: &quot;);\r\n    String filename = input.nextLine();\r\n    File file = new File(filename);\r\n    if (file.exists()) {\r\n    processFile(file);\r\n     }\r\n    else {\r\n    System.out.println(&quot;File &quot; + filename + &quot; does not exist&quot;);\r\n      }\r\n     }\r\n   \r\n    private static void processFile(File theFile) throws Exception {\r\n    int wordIndex;\r\n    // Create a TreeMap to hold words as key and count as value\r\n    Map&lt;String, Integer&gt; map = new TreeMap&lt;&gt;();\r\n    Scanner input = new Scanner(theFile);\r\n    String line, keyText;\r\n    String[] words;\r\n    while (input.hasNextLine()) {\r\n    line = input.nextLine();\r\n    words = line.split(&quot;[\\\\s+\\\\p{P}]&quot;);\r\n    for (wordIndex = 0; wordIndex &lt; words.length; wordIndex++) {\r\n    keyText = words[wordIndex].toLowerCase();\r\n    updateMap(map, keyText);\r\n     }\r\n    }\r\n\r\n    // Display key and value for each entry\r\n    map.forEach((key, value) -&gt; System.out.println(key + &quot;\\t&quot; + value));\r\n    }\r\n \r\n        private static void updateMap(Map&lt;String, Integer&gt; theMap,\r\n        String theText) {\r\n        int value;\r\n        String key = theText.toLowerCase();\r\n\r\n        if (key.length() &gt; 0) {\r\n        if (!theMap.containsKey(key)) {\r\n        // The key does not exist in the Map object (theMap), so add key and\r\n        // the value (which is a count in this case) to a new theMap element.\r\n        theMap.put(key, 1);\r\n        }\r\n        else {\r\n        // The key already exists, so obtain the value (count in this case)\r\n        // from theMap element that contains the key and update the element\r\n        // with an increased count.\r\n        value = theMap.get(key);\r\n        value++;\r\n        theMap.put(key, value);\r\n        }\r\n        }\r\n        }\r\n\r\nAnd here is the method that must be combined with the word count program. I would appreciate any help you could give. Thanks.\r\n\r\n        public static int countPunctuation(File theFile) throws Exception {\r\n        String[] punctuationString = {&quot;[&quot;,&quot;]&quot;,&quot;.&quot;,&quot;;&quot;,&quot;,&quot;,&quot;:&quot;,&quot;!&quot;,&quot;?&quot;,&quot;(&quot;,&quot;)&quot;,&quot;{&quot;,&quot;}&quot;,&quot;&#39;&quot;};\r\n\r\n        Set&lt;String&gt; punctuationSet =\r\n        new HashSet&lt;&gt;(Arrays.asList(punctuationString));\r\n        int count = 0;\r\n\r\n        Scanner input = new Scanner(theFile);\r\n\r\n        while (input.hasNext()) {\r\n        String character = input.next();\r\n        if (punctuationSet.contains(character))\r\n        count++;\r\n        }\r\n        return count;\r\n        }\r\n       }","title":"Checking for and counting punctuation in a file","body":"<p>I'm currently doing an assignment which requires the program to count words and punctuation from a text file. The word counting program is done and working but my professor provided an additional method to be combined with it to count punctuation that I cannot seem to get to work. Here is the working program:</p>\n\n<pre><code>import java.util.*;\nimport java.io.*;\n\npublic class SnippetWeek11 {\npublic static void main(String[] args) throws Exception {\nScanner input = new Scanner(System.in);\nSystem.out.print(\"Enter a filename of a text file to process: \");\nString filename = input.nextLine();\nFile file = new File(filename);\nif (file.exists()) {\nprocessFile(file);\n }\nelse {\nSystem.out.println(\"File \" + filename + \" does not exist\");\n  }\n }\n\nprivate static void processFile(File theFile) throws Exception {\nint wordIndex;\n// Create a TreeMap to hold words as key and count as value\nMap&lt;String, Integer&gt; map = new TreeMap&lt;&gt;();\nScanner input = new Scanner(theFile);\nString line, keyText;\nString[] words;\nwhile (input.hasNextLine()) {\nline = input.nextLine();\nwords = line.split(\"[\\\\s+\\\\p{P}]\");\nfor (wordIndex = 0; wordIndex &lt; words.length; wordIndex++) {\nkeyText = words[wordIndex].toLowerCase();\nupdateMap(map, keyText);\n }\n}\n\n// Display key and value for each entry\nmap.forEach((key, value) -&gt; System.out.println(key + \"\\t\" + value));\n}\n\n    private static void updateMap(Map&lt;String, Integer&gt; theMap,\n    String theText) {\n    int value;\n    String key = theText.toLowerCase();\n\n    if (key.length() &gt; 0) {\n    if (!theMap.containsKey(key)) {\n    // The key does not exist in the Map object (theMap), so add key and\n    // the value (which is a count in this case) to a new theMap element.\n    theMap.put(key, 1);\n    }\n    else {\n    // The key already exists, so obtain the value (count in this case)\n    // from theMap element that contains the key and update the element\n    // with an increased count.\n    value = theMap.get(key);\n    value++;\n    theMap.put(key, value);\n    }\n    }\n    }\n</code></pre>\n\n<p>And here is the method that must be combined with the word count program. I would appreciate any help you could give. Thanks.</p>\n\n<pre><code>    public static int countPunctuation(File theFile) throws Exception {\n    String[] punctuationString = {\"[\",\"]\",\".\",\";\",\",\",\":\",\"!\",\"?\",\"(\",\")\",\"{\",\"}\",\"'\"};\n\n    Set&lt;String&gt; punctuationSet =\n    new HashSet&lt;&gt;(Arrays.asList(punctuationString));\n    int count = 0;\n\n    Scanner input = new Scanner(theFile);\n\n    while (input.hasNext()) {\n    String character = input.next();\n    if (punctuationSet.contains(character))\n    count++;\n    }\n    return count;\n    }\n   }\n</code></pre>\n"},{"tags":["java","spring","minio"],"answers":[{"tags":[],"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687854000,"creation_date":1687854000,"answer_id":76562930,"question_id":76562712,"body_markdown":"If you are using minioClient you can try something like this:\r\n\r\n    List&lt;DeleteObject&gt; objects = new LinkedList&lt;&gt;();\r\n     objects.add(new DeleteObject(&quot;my-objectname1&quot;));\r\n     objects.add(new DeleteObject(&quot;my-objectname2&quot;));\r\n     objects.add(new DeleteObject(&quot;my-objectname3&quot;));\r\n     Iterable&lt;Result&lt;DeleteError&gt;&gt; results =\r\n         minioClient.removeObjects(\r\n             RemoveObjectsArgs.builder().bucket(&quot;my-bucketname&quot;).objects(objects).build());\r\n     for (Result&lt;DeleteError&gt; result : results) {\r\n       DeleteError error = errorResult.get();\r\n       System.out.println(\r\n           &quot;Error in deleting object &quot; + error.objectName() + &quot;; &quot; + error.message());\r\n     }\r\n\r\n ","title":"How to delete multiple files in MinIO in Spring Boot app?","body":"<p>If you are using minioClient you can try something like this:</p>\n<pre><code>List&lt;DeleteObject&gt; objects = new LinkedList&lt;&gt;();\n objects.add(new DeleteObject(&quot;my-objectname1&quot;));\n objects.add(new DeleteObject(&quot;my-objectname2&quot;));\n objects.add(new DeleteObject(&quot;my-objectname3&quot;));\n Iterable&lt;Result&lt;DeleteError&gt;&gt; results =\n     minioClient.removeObjects(\n         RemoveObjectsArgs.builder().bucket(&quot;my-bucketname&quot;).objects(objects).build());\n for (Result&lt;DeleteError&gt; result : results) {\n   DeleteError error = errorResult.get();\n   System.out.println(\n       &quot;Error in deleting object &quot; + error.objectName() + &quot;; &quot; + error.message());\n }\n</code></pre>\n"}],"owner":{"account_id":26038502,"reputation":95,"user_id":19743660,"display_name":"programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76562930,"answer_count":1,"score":0,"last_activity_date":1687854000,"creation_date":1687852381,"question_id":76562712,"body_markdown":"I have an DB entity, that is connected with many files storing in MinIO. How can I delete many files in one operation?","title":"How to delete multiple files in MinIO in Spring Boot app?","body":"<p>I have an DB entity, that is connected with many files storing in MinIO. How can I delete many files in one operation?</p>\n"},{"tags":["java","hibernate","jpa","guice","optimistic-locking"],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673522833,"creation_date":1515181133,"answer_id":48120221,"question_id":43776096,"body_markdown":"You need to add the [`RetryAspect`](https://github.com/vladmihalcea/hypersistence-utils/blob/a31d72f2895e68e5fc87618a1026797d142cddfd/hypersistence-utils-hibernate-55/src/main/java/io/hypersistence/utils/spring/aop/RetryAspect.java) to your Spring configuration.\r\n\r\nIf you are using Guice, you have to create a similar Aspect because the one coming with Hypersistence Utils is only working with Spring.\r\n\r\nIn Spring, the configuration is very easy; you can do it like this:\r\n\r\n    @Configuration\r\n    @EnableAspectJAutoProxy\r\n    @ComponentScan(\r\n        basePackages = {\r\n            &quot;io.hypersistence.utils.spring.aop&quot;\r\n        }\r\n    )\r\n    public class RetryAspectConfiguration {\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://vladmihalcea.com/optimistic-locking-retry-with-jpa/","title":"Retry OpmisticLockException with Hypersistence Utils library does not work","body":"<p>You need to add the <a href=\"https://github.com/vladmihalcea/hypersistence-utils/blob/a31d72f2895e68e5fc87618a1026797d142cddfd/hypersistence-utils-hibernate-55/src/main/java/io/hypersistence/utils/spring/aop/RetryAspect.java\" rel=\"nofollow noreferrer\"><code>RetryAspect</code></a> to your Spring configuration.</p>\n<p>If you are using Guice, you have to create a similar Aspect because the one coming with Hypersistence Utils is only working with Spring.</p>\n<p>In Spring, the configuration is very easy; you can do it like this:</p>\n<pre><code>@Configuration\n@EnableAspectJAutoProxy\n@ComponentScan(\n    basePackages = {\n        &quot;io.hypersistence.utils.spring.aop&quot;\n    }\n)\npublic class RetryAspectConfiguration {\n\n}\n</code></pre>\n"}],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687853681,"creation_date":1493881574,"question_id":43776096,"body_markdown":"I have used this example to implement `OptimisticLockException` handling:\r\n[How to retry JPA transactions after an OptimisticLockException][1]\r\n\r\n\r\n  [1]: https://vladmihalcea.com/optimistic-locking-retry-with-jpa/\r\n\r\nDependency in pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.hypersistence&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hypersistence-utils-hibernate-55&lt;/artifactId&gt;\r\n        &lt;version&gt;${hypersistence-utils.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI have annotated the method which may receive OptimisticLockException:\r\n\r\n    @Retry(times = 10, on = OptimisticLockException.class)\r\n    public void modifySomething(){...}\r\n\r\nHowever, when RollbackException/OptimisticLockException/StaleStateException occurs, I get a stack trace, but the method is not retried. \r\n\r\nI use it with Guice 4.1.0. Should I bind it somewhere or write the method interceptor? \r\n\r\nHow to add AOP aspect?\r\n\r\n","title":"Retry OpmisticLockException with Hypersistence Utils library does not work","body":"<p>I have used this example to implement <code>OptimisticLockException</code> handling:\n<a href=\"https://vladmihalcea.com/optimistic-locking-retry-with-jpa/\" rel=\"nofollow noreferrer\">How to retry JPA transactions after an OptimisticLockException</a></p>\n<p>Dependency in pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.hypersistence&lt;/groupId&gt;\n    &lt;artifactId&gt;hypersistence-utils-hibernate-55&lt;/artifactId&gt;\n    &lt;version&gt;${hypersistence-utils.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have annotated the method which may receive OptimisticLockException:</p>\n<pre><code>@Retry(times = 10, on = OptimisticLockException.class)\npublic void modifySomething(){...}\n</code></pre>\n<p>However, when RollbackException/OptimisticLockException/StaleStateException occurs, I get a stack trace, but the method is not retried.</p>\n<p>I use it with Guice 4.1.0. Should I bind it somewhere or write the method interceptor?</p>\n<p>How to add AOP aspect?</p>\n"},{"tags":["java","spring-boot","spring-mvc","springdoc"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1687848633,"post_id":76562226,"comment_id":134990086,"body_markdown":"Can you share the input and describe what *It does not work.* means?","body":"Can you share the input and describe what <i>It does not work.</i> means?"},{"owner":{"display_name":"user21137123"},"score":0,"creation_date":1687849279,"post_id":76562226,"comment_id":134990184,"body_markdown":"@Jens I add some information of the error.","body":"@Jens I add some information of the error."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687849821,"post_id":76562226,"comment_id":134990307,"body_markdown":"What is `@ParameterObject`? That isn&#39;t a Spring annotaiton.","body":"What is <code>@ParameterObject</code>? That isn&#39;t a Spring annotaiton."},{"owner":{"display_name":"user21137123"},"score":0,"creation_date":1687850367,"post_id":76562226,"comment_id":134990398,"body_markdown":"@M.Deinum It&#39;s a springdoc-openapi annotation, from springdoc-openapi-common-1.6.15.jar","body":"@M.Deinum It&#39;s a springdoc-openapi annotation, from springdoc-openapi-common-1.6.15.jar"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687851631,"post_id":76562226,"comment_id":134990656,"body_markdown":"Try with `yyyy-MM-dd&#39; &#39;HH:mm:ss` as a pattern, although it might not be used for binding and only for printing (it is a formatter in that regard). Please add the full stacktrace as well.","body":"Try with <code>yyyy-MM-dd&#39; &#39;HH:mm:ss</code> as a pattern, although it might not be used for binding and only for printing (it is a formatter in that regard). Please add the full stacktrace as well."},{"owner":{"display_name":"user21137123"},"score":0,"creation_date":1687853605,"post_id":76562226,"comment_id":134991048,"body_markdown":"@M.Deinum Really thank you to point out that&#39;s not a spring thing. I&#39;m feeling like I&#39;m to stupid to learn programming.","body":"@M.Deinum Really thank you to point out that&#39;s not a spring thing. I&#39;m feeling like I&#39;m to stupid to learn programming."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687853704,"post_id":76562226,"comment_id":134991066,"body_markdown":"I was just wondering if you implemented something yourself, which is possible and could break things with Spring. This annotation won&#39;t as it is just used for metadata generation. So it was more to rule some things out then to point fingers, just needed the clarification.","body":"I was just wondering if you implemented something yourself, which is possible and could break things with Spring. This annotation won&#39;t as it is just used for metadata generation. So it was more to rule some things out then to point fingers, just needed the clarification."}],"answers":[{"tags":[],"owner":{"account_id":25860373,"reputation":138,"user_id":19592947,"display_name":"traizooo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687852749,"creation_date":1687848505,"answer_id":76562250,"question_id":76562226,"body_markdown":"The `@DateTimeFormat` annotation is typically used for formatting and parsing date-time values when binding request parameters in `Spring MVC` controllers. However, it does not support custom patterns with spacs directly.\r\n\r\n**To achieve specified pattern, you can use the `@DateTimeFormat` annotation with the pattern and also aply the `@InitBinder`.**\r\n\r\n    @GetMapping(&quot;/page&quot;)\r\n    public Response page(@ParameterObject Page page, @ParameterObject QueryDTO param) {\r\n        // Your code\r\n    }\r\n    \r\n    @ControllerAdvice\r\n    public class DateTimeFormatConfiguration extends WebMvcConfigurerAdapter {\r\n    \r\n        @Override\r\n        public void initBinder(WebDataBinder binder) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n            binder.addCustomFormatter(new LocalDateTimeFormatter(formatter));\r\n        }\r\n    \r\n        private static class LocalDateTimeFormatter implements Formatter&lt;LocalDateTime&gt; {\r\n    \r\n            private final DateTimeFormatter formatter;\r\n    \r\n            public LocalDateTimeFormatter(DateTimeFormatter formatter) {\r\n                this.formatter = formatter;\r\n            }\r\n    \r\n            @Override\r\n            public LocalDateTime parse(String text, Locale locale) throws ParseException {\r\n                return LocalDateTime.parse(text, formatter);\r\n            }\r\n    \r\n            @Override\r\n            public String print(LocalDateTime object, Locale locale) {\r\n                return formatter.format(object);\r\n            }\r\n        }\r\n    }\r\n\r\n* By applying this configuartion, you should be able to use the pattern **&quot;yyyy-MM-dd HH:mm:ss&quot;** with the `@DateTimeFormat` annotation in your **QueryDTO class**.\r\n\r\n**If you want to apply a pattern directly in the annotation without a global configuration, you can use a different method:**\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n    public @interface CustomDateTimeFormat {\r\n    }\r\n    \r\n    public class QueryDTO {\r\n        // Your code\r\n    \r\n        @CustomDateTimeFormat\r\n        private LocalDateTime startTime;\r\n    \r\n        @CustomDateTimeFormat\r\n        private LocalDateTime endTime;\r\n    \r\n        // Getters and setters\r\n    }\r\n    \r\n    @Controller\r\n    public class YourController {\r\n    \r\n        @GetMapping(&quot;/page&quot;)\r\n        public Response page(@ParameterObject Page page, @ParameterObject QueryDTO param) {\r\n            // Your code\r\n        }\r\n    \r\n        @InitBinder\r\n        public void initBinder(WebDataBinder binder) {\r\n            binder.addCustomFormatter(new LocalDateTimeFormatter());\r\n        }\r\n    \r\n        private static class LocalDateTimeFormatter implements Converter&lt;String, LocalDateTime&gt; {\r\n    \r\n            @Override\r\n            public LocalDateTime convert(String source) {\r\n                DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n                return LocalDateTime.parse(source, formatter);\r\n            }\r\n        }\r\n    }\r\n\r\n* I&#39;ve added a custom annotation that encapsulates the desired pattern and use it in your **`QueryDTO` class**. Then, you can write a custom `Converter` **to convert the annotated string** to a **`LocalDateTime` object** using the **specified pattern**.\r\n\r\nPlease let me know if it soled your problem, and if so, then please **leave your opinions**. ^^\r\n","title":"How to convert to a LocalDateTime field in an @ParameterObject with @DateTimeFormat pattern instead of iso?","body":"<p>The <code>@DateTimeFormat</code> annotation is typically used for formatting and parsing date-time values when binding request parameters in <code>Spring MVC</code> controllers. However, it does not support custom patterns with spacs directly.</p>\n<p><strong>To achieve specified pattern, you can use the <code>@DateTimeFormat</code> annotation with the pattern and also aply the <code>@InitBinder</code>.</strong></p>\n<pre><code>@GetMapping(&quot;/page&quot;)\npublic Response page(@ParameterObject Page page, @ParameterObject QueryDTO param) {\n    // Your code\n}\n\n@ControllerAdvice\npublic class DateTimeFormatConfiguration extends WebMvcConfigurerAdapter {\n\n    @Override\n    public void initBinder(WebDataBinder binder) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n        binder.addCustomFormatter(new LocalDateTimeFormatter(formatter));\n    }\n\n    private static class LocalDateTimeFormatter implements Formatter&lt;LocalDateTime&gt; {\n\n        private final DateTimeFormatter formatter;\n\n        public LocalDateTimeFormatter(DateTimeFormatter formatter) {\n            this.formatter = formatter;\n        }\n\n        @Override\n        public LocalDateTime parse(String text, Locale locale) throws ParseException {\n            return LocalDateTime.parse(text, formatter);\n        }\n\n        @Override\n        public String print(LocalDateTime object, Locale locale) {\n            return formatter.format(object);\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>By applying this configuartion, you should be able to use the pattern <strong>&quot;yyyy-MM-dd HH:mm:ss&quot;</strong> with the <code>@DateTimeFormat</code> annotation in your <strong>QueryDTO class</strong>.</li>\n</ul>\n<p><strong>If you want to apply a pattern directly in the annotation without a global configuration, you can use a different method:</strong></p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\npublic @interface CustomDateTimeFormat {\n}\n\npublic class QueryDTO {\n    // Your code\n\n    @CustomDateTimeFormat\n    private LocalDateTime startTime;\n\n    @CustomDateTimeFormat\n    private LocalDateTime endTime;\n\n    // Getters and setters\n}\n\n@Controller\npublic class YourController {\n\n    @GetMapping(&quot;/page&quot;)\n    public Response page(@ParameterObject Page page, @ParameterObject QueryDTO param) {\n        // Your code\n    }\n\n    @InitBinder\n    public void initBinder(WebDataBinder binder) {\n        binder.addCustomFormatter(new LocalDateTimeFormatter());\n    }\n\n    private static class LocalDateTimeFormatter implements Converter&lt;String, LocalDateTime&gt; {\n\n        @Override\n        public LocalDateTime convert(String source) {\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n            return LocalDateTime.parse(source, formatter);\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>I've added a custom annotation that encapsulates the desired pattern and use it in your <strong><code>QueryDTO</code> class</strong>. Then, you can write a custom <code>Converter</code> <strong>to convert the annotated string</strong> to a <strong><code>LocalDateTime</code> object</strong> using the <strong>specified pattern</strong>.</li>\n</ul>\n<p>Please let me know if it soled your problem, and if so, then please <strong>leave your opinions</strong>. ^^</p>\n"}],"owner":{"display_name":"user21137123"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687853413,"creation_date":1687848239,"question_id":76562226,"body_markdown":"**Update: It&#39;s not even a question, it&#39;s completely my DUMB. Plz down vote this question.**\r\n\r\nthanks to @M. Deinum points out that&#39;s not a spring thing.\r\n\r\nmy IDEA&#39;s settings messed up in a crash this morning and not auto-compile before re-running.\r\n\r\n=========================\r\n\r\nThe Controller\r\n```java\r\n@GetMapping(&quot;/page&quot;)\r\npublic Response Page(@ParameterObject Page page, @ParameterObject QueryDTO param) {\r\n    /*\r\n     * irrelevant parts omitted\r\n     */\r\n}\r\n```\r\nWhen I use this in DTO, it works well with `yyyy-MM-dd&#39;T&#39;HH:mm:ss` pattern passed-in.\r\n```java\r\n@Data\r\npublic class QueryDTO {\r\n    /*\r\n     * irrelevant parts omitted\r\n     */\r\n\t@DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n\tprivate LocalDateTime startTime;\r\n\r\n\t@DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n\tprivate LocalDateTime endTime;\r\n}\r\n```\r\nBut when I want to use a &#39; &#39; instead of the &#39;T&#39;, I tried:\r\n```java\r\n@DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n```\r\nand change the input param from &quot;1999-02-11T00:00:00&quot; to &quot;1999-02-11 00:00:00&quot;, I got\r\n\r\n`\r\nendTime Failed to convert property value of type &#39;java.lang.String&#39; to required type &#39;java.time.LocalDateTime&#39; for property &#39;endTime&#39;; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@org.springframework.format.annotation.DateTimeFormat java.time.LocalDateTime] for value [1999-02-11 00:00:00]; nested exception is java.lang.IllegalArgumentException: Parse attempt failed for value [1999-02-11 00:00:00]\r\n`\r\n\r\nIs there any solution to use an annotation rather than writing a converter manually?\r\n\r\nMany thanks.\r\n\r\nI tried google with keywords &quot;LocalDateTime @ParameterObject @DateTimeFormat pattern&quot;, not getting much help.","title":"How to convert to a LocalDateTime field in an @ParameterObject with @DateTimeFormat pattern instead of iso?","body":"<p><strong>Update: It's not even a question, it's completely my DUMB. Plz down vote this question.</strong></p>\n<p>thanks to @M. Deinum points out that's not a spring thing.</p>\n<p>my IDEA's settings messed up in a crash this morning and not auto-compile before re-running.</p>\n<p>=========================</p>\n<p>The Controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/page&quot;)\npublic Response Page(@ParameterObject Page page, @ParameterObject QueryDTO param) {\n    /*\n     * irrelevant parts omitted\n     */\n}\n</code></pre>\n<p>When I use this in DTO, it works well with <code>yyyy-MM-dd'T'HH:mm:ss</code> pattern passed-in.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class QueryDTO {\n    /*\n     * irrelevant parts omitted\n     */\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n    private LocalDateTime startTime;\n\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n    private LocalDateTime endTime;\n}\n</code></pre>\n<p>But when I want to use a ' ' instead of the 'T', I tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\n</code></pre>\n<p>and change the input param from &quot;1999-02-11T00:00:00&quot; to &quot;1999-02-11 00:00:00&quot;, I got</p>\n<p><code>endTime Failed to convert property value of type 'java.lang.String' to required type 'java.time.LocalDateTime' for property 'endTime'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@org.springframework.format.annotation.DateTimeFormat java.time.LocalDateTime] for value [1999-02-11 00:00:00]; nested exception is java.lang.IllegalArgumentException: Parse attempt failed for value [1999-02-11 00:00:00]</code></p>\n<p>Is there any solution to use an annotation rather than writing a converter manually?</p>\n<p>Many thanks.</p>\n<p>I tried google with keywords &quot;LocalDateTime @ParameterObject @DateTimeFormat pattern&quot;, not getting much help.</p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1687854578,"post_id":76562674,"comment_id":134991250,"body_markdown":"Please show a complete example. As each of the elements in your list is the *same object* it isn&#39;t possible for the first to have three strings, and the next two to be empty.","body":"Please show a complete example. As each of the elements in your list is the <i>same object</i> it isn&#39;t possible for the first to have three strings, and the next two to be empty."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687857981,"post_id":76562674,"comment_id":134991953,"body_markdown":"How you know that &quot;next two are empty.&quot; ? (For example, is the output of printing `list.get(1).str1`?)","body":"How you know that &quot;next two are empty.&quot; ? (For example, is the output of printing <code>list.get(1).str1</code>?)"}],"owner":{"account_id":28903035,"reputation":3,"user_id":22137551,"display_name":"user22137551"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687853024,"creation_date":1687852016,"question_id":76562674,"body_markdown":"I&#39;m trying to create a LinkedList of a custom class.\r\n\r\nI&#39;ve stripped my code back and followed the suggestion here:\r\n\r\nhttps://stackoverflow.com/questions/7607899/arraylist-with-custom-objects\r\n\r\nWhen I run the code and debug it, I can see that the LinkedList number of elements is increasing with each add, but all the data is &#39;sitting&#39; in the first index, with the later elements all empty.\r\n\r\n```\r\npublic class editTextString {\r\n\t\tprivate String  str1;\r\n\t\tprivate String  str2;\r\n\t\tprivate String  str3;\r\n\r\n\t\tpublic editTextString(String data1,String data2,String data3){\r\n\r\n\t\tstr1 = data1;\r\n\t\tstr2 = data2;\r\n\t\tstr3 = data3;\r\n}\r\n\r\n\r\npublic static void main(String[] args) {\r\n\tArrayList&lt;editTextString&gt; list = new ArrayList&lt;editTextString&gt;();\r\n\teditTextString data = new editTextString(&quot;edit1&quot;,&quot;edit2&quot;,&quot;edit3&quot;);\r\n\tlist.add(data);\r\n\tlist.add(data);\r\n\tlist.add(data);\r\n}\r\n```\r\n\r\nExpected output:\r\nList to have 3 elements each with three substrings within.\r\nActual output:\r\nList with 3 elements, first contains three substrings, next two are empty.","title":"Using Custom Classes With LinkedList - Java","body":"<p>I'm trying to create a LinkedList of a custom class.</p>\n<p>I've stripped my code back and followed the suggestion here:</p>\n<p><a href=\"https://stackoverflow.com/questions/7607899/arraylist-with-custom-objects\">arraylist with custom objects</a></p>\n<p>When I run the code and debug it, I can see that the LinkedList number of elements is increasing with each add, but all the data is 'sitting' in the first index, with the later elements all empty.</p>\n<pre><code>public class editTextString {\n        private String  str1;\n        private String  str2;\n        private String  str3;\n\n        public editTextString(String data1,String data2,String data3){\n\n        str1 = data1;\n        str2 = data2;\n        str3 = data3;\n}\n\n\npublic static void main(String[] args) {\n    ArrayList&lt;editTextString&gt; list = new ArrayList&lt;editTextString&gt;();\n    editTextString data = new editTextString(&quot;edit1&quot;,&quot;edit2&quot;,&quot;edit3&quot;);\n    list.add(data);\n    list.add(data);\n    list.add(data);\n}\n</code></pre>\n<p>Expected output:\nList to have 3 elements each with three substrings within.\nActual output:\nList with 3 elements, first contains three substrings, next two are empty.</p>\n"},{"tags":["java","xml","validation","xsd"],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687852514,"creation_date":1687852514,"answer_id":76562738,"question_id":76561686,"body_markdown":"See https://issues.apache.org/jira/browse/XERCESJ-1130 which is labelled as &quot;unresolved&quot;.\r\n\r\nI believe this will work as expected with the Saxon schema validator, at least if you set the appropriate options.","title":"Validate XML file using Java with an XSD having an include","body":"<p>See <a href=\"https://issues.apache.org/jira/browse/XERCESJ-1130\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/XERCESJ-1130</a> which is labelled as &quot;unresolved&quot;.</p>\n<p>I believe this will work as expected with the Saxon schema validator, at least if you set the appropriate options.</p>\n"}],"owner":{"account_id":28901892,"reputation":11,"user_id":22136642,"display_name":"Dangel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687852514,"creation_date":1687841164,"question_id":76561686,"body_markdown":"I need to perform xml validation on the xsd schema. xsd schemas are stored in a DB table. Many schemes are interconnected via import and include. I pass an array of schemas to the validation function. If only &quot;import&quot; is found in the xsd schema, everything works. If &quot;include&quot; - I get the error: &quot;org.xml.sax.SAXParseException; cvc-elt.1.a: Cannot find the declaration of element&quot;.\r\n\r\n```\r\n// p_schemasArr[] - xsd array. It has all the schemes that are connected via include and import. The array is sorted. The last one in array b includes all the previous ones.\r\n// e - Total xsd schema. There can be many schemes (up to 130).\r\nSchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\nSource[] sources = new Source[e];\r\nfor (int i = 0; i &lt; e; i++) {\r\n  sources[i] = new StreamSource(new StringReader(p_schemasArr[i]), &quot;xsd_&quot; + i);\r\n}\r\nSchema schema = schemaFactory.newSchema(sources);\r\nValidator validator = schema.newValidator();\r\nvalidator.validate(new StreamSource(new StringReader(xmlFileSource.getValue())));\r\n```","title":"Validate XML file using Java with an XSD having an include","body":"<p>I need to perform xml validation on the xsd schema. xsd schemas are stored in a DB table. Many schemes are interconnected via import and include. I pass an array of schemas to the validation function. If only &quot;import&quot; is found in the xsd schema, everything works. If &quot;include&quot; - I get the error: &quot;org.xml.sax.SAXParseException; cvc-elt.1.a: Cannot find the declaration of element&quot;.</p>\n<pre><code>// p_schemasArr[] - xsd array. It has all the schemes that are connected via include and import. The array is sorted. The last one in array b includes all the previous ones.\n// e - Total xsd schema. There can be many schemes (up to 130).\nSchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\nSource[] sources = new Source[e];\nfor (int i = 0; i &lt; e; i++) {\n  sources[i] = new StreamSource(new StringReader(p_schemasArr[i]), &quot;xsd_&quot; + i);\n}\nSchema schema = schemaFactory.newSchema(sources);\nValidator validator = schema.newValidator();\nvalidator.validate(new StreamSource(new StringReader(xmlFileSource.getValue())));\n</code></pre>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":4008086,"reputation":2250,"user_id":3302263,"display_name":"Pavel Bely"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687852034,"creation_date":1687604416,"answer_id":76545738,"question_id":76542723,"body_markdown":"If you&#39;re using Mongo Atlas you can try [`$unionWith` query with `$search`][1]\r\n```\r\ndb.chats.aggregate([\r\n{\r\n  &quot;$search&quot;: {\r\n    &quot;text&quot;: {\r\n      &quot;query&quot;: &quot;foobar&quot;,\r\n      &quot;path&quot;: &quot;name&quot;\r\n    }\r\n  }\r\n}, {\r\n  &quot;$project&quot;: {\r\n    &quot;score&quot;: {\r\n      &quot;$meta&quot;: &quot;searchScore&quot;\r\n    },\r\n    &quot;_id&quot;: 0,\r\n    &quot;docType&quot;: {$literal: &quot;chat&quot;},\r\n    &quot;name&quot;: 1\r\n  }\r\n},\r\n{\r\n  &quot;$unionWith&quot;: {\r\n    &quot;coll&quot;: &quot;events&quot;,\r\n    &quot;pipeline&quot;: [\r\n      {\r\n        &quot;$search&quot;: {\r\n          &quot;text&quot;: {\r\n            &quot;query&quot;: &quot;foobar&quot;,\r\n            &quot;path&quot;: &quot;message&quot;\r\n          }\r\n        }\r\n      }, {\r\n        &quot;$project&quot;: {\r\n          &quot;score&quot;: {\r\n            &quot;$meta&quot;: &quot;searchScore&quot;\r\n          },\r\n          &quot;docType&quot;: {$literal: &quot;event&quot;},\r\n          &quot;message&quot;: 1\r\n        }\r\n      }\r\n    ]\r\n  }\r\n}\r\n])\r\n```\r\n\r\n----\r\n\r\nAlternatively if you&#39;re not using Atlas you can reverse your lookup and first filter all the documents in `events` collections.   \r\nAnd then lookup with the other collection, let&#39;s call it `chats`.   \r\nAfter that you can transfrom the data to what you&#39;d like to get:\r\n\r\n    db.events.aggregate([\r\n    { $match: { $text: { $search: &quot;two&quot;} } },\r\n    { $match: { event_type: &quot;etype1&quot; } },\r\n    { $lookup: {\r\n       from: &#39;chats&#39;,\r\n       localField : &#39;chat_id&#39;,\r\n       foreignField : &#39;chat_id&#39;,\r\n       as: &#39;chat&#39;\r\n    }},\r\n    { $unwind: &#39;$chat&#39; },\r\n    { $groupBy: {\r\n      _id: { chat_id: &#39;$chat_id&#39; },\r\n      chat: { $first: &#39;$chat&#39; },\r\n      chat_begin_ts: { $first: &#39;$chat_begin_ts&#39; },\r\n    },\r\n    { &#39;$sort&#39;: { &#39;chat_begin_ts&#39;:1}\r\n    ]);\r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/atlas/atlas-search/tutorial/search-with-unionwith/#std-label-search-with-unionwith-tutorial","title":"How do I do full text search in a mongo join?","body":"<p>If you're using Mongo Atlas you can try <a href=\"https://www.mongodb.com/docs/atlas/atlas-search/tutorial/search-with-unionwith/#std-label-search-with-unionwith-tutorial\" rel=\"nofollow noreferrer\"><code>$unionWith</code> query with <code>$search</code></a></p>\n<pre><code>db.chats.aggregate([\n{\n  &quot;$search&quot;: {\n    &quot;text&quot;: {\n      &quot;query&quot;: &quot;foobar&quot;,\n      &quot;path&quot;: &quot;name&quot;\n    }\n  }\n}, {\n  &quot;$project&quot;: {\n    &quot;score&quot;: {\n      &quot;$meta&quot;: &quot;searchScore&quot;\n    },\n    &quot;_id&quot;: 0,\n    &quot;docType&quot;: {$literal: &quot;chat&quot;},\n    &quot;name&quot;: 1\n  }\n},\n{\n  &quot;$unionWith&quot;: {\n    &quot;coll&quot;: &quot;events&quot;,\n    &quot;pipeline&quot;: [\n      {\n        &quot;$search&quot;: {\n          &quot;text&quot;: {\n            &quot;query&quot;: &quot;foobar&quot;,\n            &quot;path&quot;: &quot;message&quot;\n          }\n        }\n      }, {\n        &quot;$project&quot;: {\n          &quot;score&quot;: {\n            &quot;$meta&quot;: &quot;searchScore&quot;\n          },\n          &quot;docType&quot;: {$literal: &quot;event&quot;},\n          &quot;message&quot;: 1\n        }\n      }\n    ]\n  }\n}\n])\n</code></pre>\n<hr />\n<p>Alternatively if you're not using Atlas you can reverse your lookup and first filter all the documents in <code>events</code> collections.<br />\nAnd then lookup with the other collection, let's call it <code>chats</code>.<br />\nAfter that you can transfrom the data to what you'd like to get:</p>\n<pre><code>db.events.aggregate([\n{ $match: { $text: { $search: &quot;two&quot;} } },\n{ $match: { event_type: &quot;etype1&quot; } },\n{ $lookup: {\n   from: 'chats',\n   localField : 'chat_id',\n   foreignField : 'chat_id',\n   as: 'chat'\n}},\n{ $unwind: '$chat' },\n{ $groupBy: {\n  _id: { chat_id: '$chat_id' },\n  chat: { $first: '$chat' },\n  chat_begin_ts: { $first: '$chat_begin_ts' },\n},\n{ '$sort': { 'chat_begin_ts':1}\n]);\n</code></pre>\n"}],"owner":{"account_id":413997,"reputation":434,"user_id":787971,"accept_rate":12,"display_name":"David Wood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687852034,"creation_date":1687545400,"question_id":76542723,"body_markdown":"I would like to perform a join between two collections using a $match that includes a $text on the joined table.  Here is the pipeline expression passed to aggregate()\r\n\r\n```json\r\n[\r\n{ $lookup : {\r\n   from: &#39;events&#39;,\r\n   localField : &#39;chat_id&#39;,\r\n   foreignField : &#39;chat_id&#39;,\r\n   pipeline: [{ $match : { $text: { $search: &quot;two&quot;} } }],\r\n   as: &#39;events&#39;\r\n}}, \r\n{ $match: { $expr : {$gt : [ { $size : &#39;$events&#39;} , 0 ]} }}, \r\n{$project: { annotations: 0, events: 0}}, { &#39;$sort&#39;: { &#39;chat_begin_ts&#39;:1} }\r\n]\r\n```\r\nBut when I do this, I get the following\r\n\r\n&gt; mongodb.MongoCommandException: Command failed with error 17313\r\n&gt; (Location17313): &#39;$match with $text is only allowed as the first\r\n&gt; pipeline stage&#39; on server localhost:27017. The full response is {&quot;ok&quot;:\r\n&gt; 0.0, &quot;errmsg&quot;: &quot;$match with $text is only allowed as the first pipeline stage&quot;, &quot;code&quot;: 17313, &quot;codeName&quot;: &quot;Location17313&quot;}\r\n\r\nBut of course, the $match/$text IS in the first stage of the $lookup. Other joins not using $text seem to work, as with the following pipeline definition\r\n\r\n```json\r\n[{ $lookup : {\r\n   from: &#39;events&#39;,\r\n   localField : &#39;chat_id&#39;,\r\n   foreignField : &#39;chat_id&#39;,\r\n   pipeline: [{ $match: { $expr : { $eq : [ &quot;$event_type&quot;, &quot;etype1&quot;]}}}],\r\n   as: &#39;events&#39;\r\n} \r\n...\r\n```\r\n I am using mongo 3.12.14 Java driver and 5.0.7 server. ","title":"How do I do full text search in a mongo join?","body":"<p>I would like to perform a join between two collections using a $match that includes a $text on the joined table.  Here is the pipeline expression passed to aggregate()</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n{ $lookup : {\n   from: 'events',\n   localField : 'chat_id',\n   foreignField : 'chat_id',\n   pipeline: [{ $match : { $text: { $search: &quot;two&quot;} } }],\n   as: 'events'\n}}, \n{ $match: { $expr : {$gt : [ { $size : '$events'} , 0 ]} }}, \n{$project: { annotations: 0, events: 0}}, { '$sort': { 'chat_begin_ts':1} }\n]\n</code></pre>\n<p>But when I do this, I get the following</p>\n<blockquote>\n<p>mongodb.MongoCommandException: Command failed with error 17313\n(Location17313): '$match with $text is only allowed as the first\npipeline stage' on server localhost:27017. The full response is {&quot;ok&quot;:\n0.0, &quot;errmsg&quot;: &quot;$match with $text is only allowed as the first pipeline stage&quot;, &quot;code&quot;: 17313, &quot;codeName&quot;: &quot;Location17313&quot;}</p>\n</blockquote>\n<p>But of course, the $match/$text IS in the first stage of the $lookup. Other joins not using $text seem to work, as with the following pipeline definition</p>\n<pre class=\"lang-json prettyprint-override\"><code>[{ $lookup : {\n   from: 'events',\n   localField : 'chat_id',\n   foreignField : 'chat_id',\n   pipeline: [{ $match: { $expr : { $eq : [ &quot;$event_type&quot;, &quot;etype1&quot;]}}}],\n   as: 'events'\n} \n...\n</code></pre>\n<p>I am using mongo 3.12.14 Java driver and 5.0.7 server.</p>\n"},{"tags":["java","testing","junit","karate","web-api-testing"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1653553414,"post_id":72388746,"comment_id":127881386,"body_markdown":"my advise is don&#39;t try to create a project by hand unless you read the documentation. just use the quickstart: https://github.com/karatelabs/karate#quickstart - and re-use the structure if needed - if still stuck, follow this process: https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue","body":"my advise is don&#39;t try to create a project by hand unless you read the documentation. just use the quickstart: <a href=\"https://github.com/karatelabs/karate#quickstart\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate#quickstart</a> - and re-use the structure if needed - if still stuck, follow this process: <a href=\"https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue</a>"},{"owner":{"account_id":24572375,"reputation":83,"user_id":18478604,"display_name":"DucanoidYoung"},"score":0,"creation_date":1653554793,"post_id":72388746,"comment_id":127881808,"body_markdown":"I&#39;m in a corporate environment and maybe inappropriate to fetch archetype. I&#39;ve read the documentation and examples, but still got stuck with the simple structure above.","body":"I&#39;m in a corporate environment and maybe inappropriate to fetch archetype. I&#39;ve read the documentation and examples, but still got stuck with the simple structure above."},{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1653555264,"post_id":72388746,"comment_id":127881951,"body_markdown":"cool. the only other suggestion is, use the ZIP release: https://github.com/karatelabs/karate/wiki/ZIP-Release - and also note that the JUnit support is optional, just use the `Runner` API directly and you should be up and runniing: https://stackoverflow.com/a/65578167/143475","body":"cool. the only other suggestion is, use the ZIP release: <a href=\"https://github.com/karatelabs/karate/wiki/ZIP-Release\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/wiki/ZIP-Release</a> - and also note that the JUnit support is optional, just use the <code>Runner</code> API directly and you should be up and runniing: <a href=\"https://stackoverflow.com/a/65578167/143475\">stackoverflow.com/a/65578167/143475</a>"},{"owner":{"account_id":24572375,"reputation":83,"user_id":18478604,"display_name":"DucanoidYoung"},"score":2,"creation_date":1653631528,"post_id":72388746,"comment_id":127902023,"body_markdown":"Thanks for helping, I managed to use the archetype and found I missed to config my testResources in pom.xml.","body":"Thanks for helping, I managed to use the archetype and found I missed to config my testResources in pom.xml."}],"answers":[{"tags":[],"owner":{"account_id":5368229,"reputation":11,"user_id":4277467,"display_name":"BigApp7e"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687852008,"creation_date":1687440614,"answer_id":76532450,"question_id":72388746,"body_markdown":"In your pom.xml file you should add testResources in build section as an example below:\r\n\r\n    \t&lt;build&gt;\r\n\t\t&lt;testResources&gt;\r\n\t\t\t&lt;testResource&gt;\r\n\t\t\t\t&lt;directory&gt;src/test/java&lt;/directory&gt;\r\n\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t&lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t&lt;/testResource&gt;\r\n\t\t&lt;/testResources&gt;","title":"Karate junit5 runner can&#39;t find feature file","body":"<p>In your pom.xml file you should add testResources in build section as an example below:</p>\n<pre><code>    &lt;build&gt;\n    &lt;testResources&gt;\n        &lt;testResource&gt;\n            &lt;directory&gt;src/test/java&lt;/directory&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/testResource&gt;\n    &lt;/testResources&gt;\n</code></pre>\n"}],"owner":{"account_id":24572375,"reputation":83,"user_id":18478604,"display_name":"DucanoidYoung"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687852008,"creation_date":1653552719,"question_id":72388746,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PfASs.png\r\n\r\nI&#39;ve built a simple project structure following the documentation https://github.com/karatelabs/karate#folder-structure\r\n\r\nrunner class:\r\n```\r\npublic class HealthCheckRunner {\r\n    @Karate.Test\r\n    Karate healthCheck(){\r\n        return Karate.run(&quot;healthCheck&quot;).relativeTo(getClass());\r\n    }\r\n}\r\n```\r\n\r\noutput:\r\n```\r\njava.lang.RuntimeException: not found: steps/healthcheck/healthCheck.feature\r\n```\r\n\r\nApproaches I&#39;ve tried:\r\n```\r\nreturn Karate.run().relativeTo(getClass()); -&gt; org.opentest4j.AssertionFailedError: no features or scenarios found: [classpath:steps/healthcheck]\r\nreturn Karate.run(&quot;healthCheck&quot;); -&gt; org.opentest4j.AssertionFailedError: no features or scenarios found: [healthCheck]\r\nreturn Karate.run(&quot;classpath:steps/healthcheck/healthCheck.feature&quot;); -&gt; java.lang.RuntimeException: not found: steps/healthcheck/healthCheck.feature\r\n```\r\n\r\nI&#39;ve tried run from Run_Api_Test which is a runner **above** feature file, got the same results\r\n\r\nI **can run the feature file directly** with intellij cucumber plugin. But not working with junit runner.\r\n\r\nmy POM:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.0-M1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;karate-junit5&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Karate junit5 runner can&#39;t find feature file","body":"<p><a href=\"https://i.stack.imgur.com/PfASs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PfASs.png\" alt=\"enter image description here\" /></a></p>\n<p>I've built a simple project structure following the documentation <a href=\"https://github.com/karatelabs/karate#folder-structure\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate#folder-structure</a></p>\n<p>runner class:</p>\n<pre><code>public class HealthCheckRunner {\n    @Karate.Test\n    Karate healthCheck(){\n        return Karate.run(&quot;healthCheck&quot;).relativeTo(getClass());\n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>java.lang.RuntimeException: not found: steps/healthcheck/healthCheck.feature\n</code></pre>\n<p>Approaches I've tried:</p>\n<pre><code>return Karate.run().relativeTo(getClass()); -&gt; org.opentest4j.AssertionFailedError: no features or scenarios found: [classpath:steps/healthcheck]\nreturn Karate.run(&quot;healthCheck&quot;); -&gt; org.opentest4j.AssertionFailedError: no features or scenarios found: [healthCheck]\nreturn Karate.run(&quot;classpath:steps/healthcheck/healthCheck.feature&quot;); -&gt; java.lang.RuntimeException: not found: steps/healthcheck/healthCheck.feature\n</code></pre>\n<p>I've tried run from Run_Api_Test which is a runner <strong>above</strong> feature file, got the same results</p>\n<p>I <strong>can run the feature file directly</strong> with intellij cucumber plugin. But not working with junit runner.</p>\n<p>my POM:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.9.0-M1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\n            &lt;artifactId&gt;karate-junit5&lt;/artifactId&gt;\n            &lt;version&gt;1.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","security","lazy-evaluation"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680122473,"post_id":75881476,"comment_id":133846159,"body_markdown":"Error clearly says: no Hibernate Session. You should open one before accessing the lazy loaded proxy. For example: sessionFactory.openSession();","body":"Error clearly says: no Hibernate Session. You should open one before accessing the lazy loaded proxy. For example: sessionFactory.openSession();"},{"owner":{"account_id":24278761,"reputation":41,"user_id":18225658,"display_name":"StonedCodingTom"},"score":0,"creation_date":1680265309,"post_id":75881476,"comment_id":133873131,"body_markdown":"That makes sense, I used entityManager, thx","body":"That makes sense, I used entityManager, thx"}],"answers":[{"tags":[],"owner":{"account_id":24278761,"reputation":41,"user_id":18225658,"display_name":"StonedCodingTom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680266947,"creation_date":1680266947,"answer_id":75898737,"question_id":75881476,"body_markdown":"I probably found the solution.\r\nI used EntityManager in UserDetailsService implementation class.\r\n\r\n**UserService implements UserDetailsService:**\r\n\r\n    @Service\r\n    @AllArgsConstructor\r\n    public class UserService implements UserDetailsService  {\r\n\r\n    @Autowired\r\n    private final UserRepository userRepository;\r\n\r\n    @PersistenceContext\r\n    private final EntityManager entityManager;\r\n    private List&lt;GrantedAuthority&gt; authorities;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws \r\n        UsernameNotFoundException{\r\n\r\n        User user = userRepository.findByUsername(username);\r\n        if(user == null){\r\n            throw new UsernameNotFoundException(username);\r\n        }\r\n        TypedQuery&lt;Role&gt; query = entityManager.createQuery(&quot;SELECT r FROM Role r \r\n        JOIN r.users u WHERE u.id = :userId &quot;, Role.class);\r\n        query.setParameter(&quot;userId&quot;, user.getId());\r\n        authorities = query.getResultList().stream().map(r -&gt; new \r\n        SimpleGrantedAuthority(r.getName())).collect(Collectors.toList());\r\n        return new MyUserPrincipal(user, authorities);\r\n    }\r\n\r\n    public void save(User user){\r\n        userRepository.save(user);\r\n    }\r\n\r\n    }\r\n\r\n**MyUserPrincipal implements UserDetails**\r\n\r\n    public class MyUserPrincipal implements UserDetails {\r\n\r\n    private final User user;\r\n    private final List&lt;GrantedAuthority&gt; authorities;\r\n\r\n    public MyUserPrincipal(User user, List&lt;GrantedAuthority&gt; authorities) {\r\n        this.user = user;\r\n\r\n        this.authorities = authorities;\r\n    }\r\n\r\n        @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n\r\n        return authorities;\r\n    }\r\n\r\n","title":"Lazy Exception problem in UserDetails when getting roles","body":"<p>I probably found the solution.\nI used EntityManager in UserDetailsService implementation class.</p>\n<p><strong>UserService implements UserDetailsService:</strong></p>\n<pre><code>@Service\n@AllArgsConstructor\npublic class UserService implements UserDetailsService  {\n\n@Autowired\nprivate final UserRepository userRepository;\n\n@PersistenceContext\nprivate final EntityManager entityManager;\nprivate List&lt;GrantedAuthority&gt; authorities;\n\n@Override\npublic UserDetails loadUserByUsername(String username) throws \n    UsernameNotFoundException{\n\n    User user = userRepository.findByUsername(username);\n    if(user == null){\n        throw new UsernameNotFoundException(username);\n    }\n    TypedQuery&lt;Role&gt; query = entityManager.createQuery(&quot;SELECT r FROM Role r \n    JOIN r.users u WHERE u.id = :userId &quot;, Role.class);\n    query.setParameter(&quot;userId&quot;, user.getId());\n    authorities = query.getResultList().stream().map(r -&gt; new \n    SimpleGrantedAuthority(r.getName())).collect(Collectors.toList());\n    return new MyUserPrincipal(user, authorities);\n}\n\npublic void save(User user){\n    userRepository.save(user);\n}\n\n}\n</code></pre>\n<p><strong>MyUserPrincipal implements UserDetails</strong></p>\n<pre><code>public class MyUserPrincipal implements UserDetails {\n\nprivate final User user;\nprivate final List&lt;GrantedAuthority&gt; authorities;\n\npublic MyUserPrincipal(User user, List&lt;GrantedAuthority&gt; authorities) {\n    this.user = user;\n\n    this.authorities = authorities;\n}\n\n    @Override\npublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n\n    return authorities;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687851890,"creation_date":1687851890,"answer_id":76562658,"question_id":75881476,"body_markdown":"i faced the same problem but this solution are not correct.\r\n\r\n**First:**\r\nThe Problem occur because Hibernate sends two Selects statements to the SQL Server. The First statement selects the User `&quot;Select * from User ...&quot;` and then the Second Statement `&quot;Select * from ROLES where username=&#39;username&#39;&quot;` ... And this is the Problem -&gt; For the second Select-Statement Hibernate needs a Transaction -&gt; **So the Solution is, you have to get hibernate to do a JOIN (because you need ONE Query)!** This happens because you have LAZY decalred.\r\n\r\n**Second:**\r\nNow you must enter your Repository and make a **LEFT JOIN FETCH** Statement -&gt; In this case Hibernate will execute one Query with join!\r\n\r\nFor Example your Repository Class have the Method:\r\n\r\n    @Query(&quot;SELECT u FROM APPUser u LEFT JOIN FETCH u.appuserroles WHERE u.username= :username&quot;)\r\n    Optional&lt;APPUser&gt; findUserWithRolesByUsername(@Param(&quot;username&quot;) String username);\r\n\r\nIf you use LEFT JOIN without FETCH then Hibernate will again execute two querys!\r\n\r\nAnd be carreful, import the right package to overwritte the Querys:\r\n\r\n    import org.springframework.data.jpa.repository.Query;\r\n\r\n","title":"Lazy Exception problem in UserDetails when getting roles","body":"<p>i faced the same problem but this solution are not correct.</p>\n<p><strong>First:</strong>\nThe Problem occur because Hibernate sends two Selects statements to the SQL Server. The First statement selects the User <code>&quot;Select * from User ...&quot;</code> and then the Second Statement <code>&quot;Select * from ROLES where username='username'&quot;</code> ... And this is the Problem -&gt; For the second Select-Statement Hibernate needs a Transaction -&gt; <strong>So the Solution is, you have to get hibernate to do a JOIN (because you need ONE Query)!</strong> This happens because you have LAZY decalred.</p>\n<p><strong>Second:</strong>\nNow you must enter your Repository and make a <strong>LEFT JOIN FETCH</strong> Statement -&gt; In this case Hibernate will execute one Query with join!</p>\n<p>For Example your Repository Class have the Method:</p>\n<pre><code>@Query(&quot;SELECT u FROM APPUser u LEFT JOIN FETCH u.appuserroles WHERE u.username= :username&quot;)\nOptional&lt;APPUser&gt; findUserWithRolesByUsername(@Param(&quot;username&quot;) String username);\n</code></pre>\n<p>If you use LEFT JOIN without FETCH then Hibernate will again execute two querys!</p>\n<p>And be carreful, import the right package to overwritte the Querys:</p>\n<pre><code>import org.springframework.data.jpa.repository.Query;\n</code></pre>\n"}],"owner":{"account_id":24278761,"reputation":41,"user_id":18225658,"display_name":"StonedCodingTom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76562658,"answer_count":2,"score":0,"last_activity_date":1687851890,"creation_date":1680118514,"question_id":75881476,"body_markdown":"When logging in I am getting this error:\r\n```java\r\norg.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: io.exping.rpgtodoapp.user.User.roles, could not initialize proxy - no Session\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:614) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:591) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:149) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n\tat org.hibernate.collection.internal.PersistentSet.iterator(PersistentSet.java:188) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.estimateSize(Spliterators.java:1865) ~[na:na]\r\n\tat java.base/java.util.Spliterator.getExactSizeIfKnown(Spliterator.java:414) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:508) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\r\n\tat io.exping.rpgtodoapp.user.MyUserPrincipal.getAuthorities(MyUserPrincipal.java:28) ~[classes/:na] \r\n```\r\n\r\n**MyUserPrincipal class:**\r\n\r\n```java\r\n@Transactional\r\npublic class MyUserPrincipal implements UserDetails {\r\n\r\n    private final User user;\r\n\r\n    public MyUserPrincipal(User user){\r\n        this.user = user;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return user.getRoles().stream()\r\n                .map(r -&gt; new SimpleGrantedAuthority(r.getName()))\r\n                .collect(Collectors.toList());\r\n    }\r\n```\r\n\r\n**Relation in User class:**\r\n\r\n```java\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(\r\n            name = &quot;users_role&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;)\r\n    )\r\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n```\r\n\r\n**Relation in role class:**\r\n\r\n```java    \r\n    @ManyToMany(mappedBy = &quot;roles&quot;)\r\n    private Set&lt;User&gt; users = new HashSet&lt;&gt;();\r\n```\r\n\r\nWhen changing fetching to eager I am getting weird loop. I double checked my database correctness (but I am beginner so maybe there is the problem idk). @Transactional annotation don t work too.\r\n\r\nI tried to fix this for hours. Should I show more code for solution?\r\nThank you for responses!","title":"Lazy Exception problem in UserDetails when getting roles","body":"<p>When logging in I am getting this error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: io.exping.rpgtodoapp.user.User.roles, could not initialize proxy - no Session\n    at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:614) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:591) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:149) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.collection.internal.PersistentSet.iterator(PersistentSet.java:188) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at java.base/java.util.Spliterators$IteratorSpliterator.estimateSize(Spliterators.java:1865) ~[na:na]\n    at java.base/java.util.Spliterator.getExactSizeIfKnown(Spliterator.java:414) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:508) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\n    at io.exping.rpgtodoapp.user.MyUserPrincipal.getAuthorities(MyUserPrincipal.java:28) ~[classes/:na] \n</code></pre>\n<p><strong>MyUserPrincipal class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\npublic class MyUserPrincipal implements UserDetails {\n\n    private final User user;\n\n    public MyUserPrincipal(User user){\n        this.user = user;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return user.getRoles().stream()\n                .map(r -&gt; new SimpleGrantedAuthority(r.getName()))\n                .collect(Collectors.toList());\n    }\n</code></pre>\n<p><strong>Relation in User class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = &quot;users_role&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;)\n    )\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n</code></pre>\n<p><strong>Relation in role class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @ManyToMany(mappedBy = &quot;roles&quot;)\n    private Set&lt;User&gt; users = new HashSet&lt;&gt;();\n</code></pre>\n<p>When changing fetching to eager I am getting weird loop. I double checked my database correctness (but I am beginner so maybe there is the problem idk). @Transactional annotation don t work too.</p>\n<p>I tried to fix this for hours. Should I show more code for solution?\nThank you for responses!</p>\n"},{"tags":["java","xml","jaxb"],"owner":{"account_id":4994733,"reputation":1207,"user_id":4015729,"accept_rate":44,"display_name":"Hai Hoang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687851594,"creation_date":1687851594,"question_id":76562624,"body_markdown":"I have an application that handles message in xml format, the message is like this:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;cmn:command xmlns:cmn=&quot;https://www.example.com/uri/xmlns/common/1/4&quot;&gt;\r\n    &lt;cmn:context&gt;\r\n        &lt;cmn:id&gt;2a14598b-23d8-402f-8c18-fa450152f8aa&lt;/cmn:id&gt;\r\n    &lt;/cmn:context&gt;\r\n    &lt;cmn:body&gt;\r\n        &lt;not:notifyUser xmlns:not=&quot;https://www.example.com/uri/xmlns/notification/1/3&quot; version=&quot;1.3.0&quot;&gt;\r\n            &lt;not:userId&gt;0114598b-23d8-402f-8c18-de450152f8aa&lt;/not:userId&gt;\r\n        &lt;/not:notifyUser&gt;\r\n    &lt;/cmn:body&gt;\r\n&lt;/cmn:command&gt;\r\n```\r\n\r\nThe application is changed frequently, hence the namespaces that are loaded into it usually have greater &quot;version&quot; than the incoming message. In this case, the application may have these namespaces which are different than the example message:\r\n```\r\nxmlns:cmn=&quot;https://www.services.zh.ch/uri/xmlns/zhs-common/1/5&quot;\r\nxmlns:not=&quot;https://www.example.com/uri/xmlns/notification/1/4&quot; \r\n```\r\n\r\nThe messages come from external systems and the requirement is avoid making them to update  their namespaces as much as possible. So the application must be able to:\r\n\r\n 1. Deserialize the message even if the namespaces are different, it still throws error if the message is not align with the namespaces in the application. (containing removed fields, missing required fields etc...). In short, treat the incoming message&#39;s namespaces as they are the same as the current ones in the application and try to validate and deserialize it.\r\n\r\n2. Serialize the result to the same namespace as the incoming message. E,g: if the message has namespace &quot;np-v1/0&quot;, the application has &quot;np-v1/1&quot;, the output message must have namespace &quot;np-v1/0&quot;\r\n\r\nCurrently, we are patching the messages using regex and string replacement to the desired namespaces before serializing/deserializing which is turning in to problem now because we are having more namespaces to work on.\r\n\r\nIs there a better way to do it?","title":"Jaxb - Allow serialize/deserialize for messages containing deifferent namespace","body":"<p>I have an application that handles message in xml format, the message is like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;cmn:command xmlns:cmn=&quot;https://www.example.com/uri/xmlns/common/1/4&quot;&gt;\n    &lt;cmn:context&gt;\n        &lt;cmn:id&gt;2a14598b-23d8-402f-8c18-fa450152f8aa&lt;/cmn:id&gt;\n    &lt;/cmn:context&gt;\n    &lt;cmn:body&gt;\n        &lt;not:notifyUser xmlns:not=&quot;https://www.example.com/uri/xmlns/notification/1/3&quot; version=&quot;1.3.0&quot;&gt;\n            &lt;not:userId&gt;0114598b-23d8-402f-8c18-de450152f8aa&lt;/not:userId&gt;\n        &lt;/not:notifyUser&gt;\n    &lt;/cmn:body&gt;\n&lt;/cmn:command&gt;\n</code></pre>\n<p>The application is changed frequently, hence the namespaces that are loaded into it usually have greater &quot;version&quot; than the incoming message. In this case, the application may have these namespaces which are different than the example message:</p>\n<pre><code>xmlns:cmn=&quot;https://www.services.zh.ch/uri/xmlns/zhs-common/1/5&quot;\nxmlns:not=&quot;https://www.example.com/uri/xmlns/notification/1/4&quot; \n</code></pre>\n<p>The messages come from external systems and the requirement is avoid making them to update  their namespaces as much as possible. So the application must be able to:</p>\n<ol>\n<li><p>Deserialize the message even if the namespaces are different, it still throws error if the message is not align with the namespaces in the application. (containing removed fields, missing required fields etc...). In short, treat the incoming message's namespaces as they are the same as the current ones in the application and try to validate and deserialize it.</p>\n</li>\n<li><p>Serialize the result to the same namespace as the incoming message. E,g: if the message has namespace &quot;np-v1/0&quot;, the application has &quot;np-v1/1&quot;, the output message must have namespace &quot;np-v1/0&quot;</p>\n</li>\n</ol>\n<p>Currently, we are patching the messages using regex and string replacement to the desired namespaces before serializing/deserializing which is turning in to problem now because we are having more namespaces to work on.</p>\n<p>Is there a better way to do it?</p>\n"},{"tags":["java","android","android-layout","android-relativelayout","android-displaymanager"],"comments":[{"owner":{"account_id":14349390,"reputation":659,"user_id":10365380,"display_name":"Rohaitas Tanoli"},"score":0,"creation_date":1686829941,"post_id":76480901,"comment_id":134854893,"body_markdown":"int width = Math.max(getMeasuredWidth(), getMeasuredHeight());\nint height = Math.min(getMeasuredWidth(), getMeasuredHeight());\nRelativeLayout.LayoutParams[] array = new RelativeLayout.LayoutParams[size];\n  for (int i = 0; i &lt; size; i++) {\n          array[i] = new RelativeLayout.LayoutParams(0, height);\n          array[i].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n            if (i &gt; 0) {\n                array[i].addRule(RelativeLayout.RIGHT_OF, mUserViewList.get(mUidList.get(i - 1)).getId());\n        }\n       array[i].width = width / size;\n     }\n return array; }","body":"int width = Math.max(getMeasuredWidth(), getMeasuredHeight()); int height = Math.min(getMeasuredWidth(), getMeasuredHeight()); RelativeLayout.LayoutParams[] array = new RelativeLayout.LayoutParams[size];   for (int i = 0; i &lt; size; i++) {           array[i] = new RelativeLayout.LayoutParams(0, height);           array[i].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);             if (i &gt; 0) {                 array[i].addRule(RelativeLayout.RIGHT_OF, mUserViewList.get(mUidList.get(i - 1)).getId());         }        array[i].width = width / size;      }  return array; }"},{"owner":{"account_id":11650441,"reputation":201,"user_id":12527104,"display_name":"IRON MAN"},"score":0,"creation_date":1686830095,"post_id":76480901,"comment_id":134854942,"body_markdown":"@RohaitasTanoli this is for which case ?? user with 3 or 4 ? did u see my six screenshot that is my target","body":"@RohaitasTanoli this is for which case ?? user with 3 or 4 ? did u see my six screenshot that is my target"},{"owner":{"account_id":14349390,"reputation":659,"user_id":10365380,"display_name":"Rohaitas Tanoli"},"score":0,"creation_date":1686830220,"post_id":76480901,"comment_id":134854970,"body_markdown":"for all case try this and check if it is working correctly?","body":"for all case try this and check if it is working correctly?"},{"owner":{"account_id":14349390,"reputation":659,"user_id":10365380,"display_name":"Rohaitas Tanoli"},"score":0,"creation_date":1686830286,"post_id":76480901,"comment_id":134854981,"body_markdown":"I don&#39;t have getMeasuredWidth() to test this..","body":"I don&#39;t have getMeasuredWidth() to test this.."},{"owner":{"account_id":11650441,"reputation":201,"user_id":12527104,"display_name":"IRON MAN"},"score":0,"creation_date":1686830358,"post_id":76480901,"comment_id":134854993,"body_markdown":"@RohaitasTanoli i tried this ...every user is getting added one after another..\nthats not what i want","body":"@RohaitasTanoli i tried this ...every user is getting added one after another.. thats not what i want"},{"owner":{"account_id":11650441,"reputation":201,"user_id":12527104,"display_name":"IRON MAN"},"score":0,"creation_date":1686830462,"post_id":76480901,"comment_id":134855014,"body_markdown":"that is also not equally aligned please refer issue screenshot","body":"that is also not equally aligned please refer issue screenshot"},{"owner":{"account_id":11650441,"reputation":201,"user_id":12527104,"display_name":"IRON MAN"},"score":0,"creation_date":1686834481,"post_id":76480901,"comment_id":134855987,"body_markdown":"@RohaitasTanoli can suggest some more solution for above issue","body":"@RohaitasTanoli can suggest some more solution for above issue"},{"owner":{"account_id":14218047,"reputation":11740,"user_id":10271334,"display_name":"Jeel Vankhede"},"score":0,"creation_date":1687275458,"post_id":76480901,"comment_id":134912408,"body_markdown":"@IRONMAN Do we have max limit to add child views? It feels like ordinary grid/staggering arrangements wont work dynamically. Just wanted to understand about the max limit so that I can provide some suggestions.","body":"@IRONMAN Do we have max limit to add child views? It feels like ordinary grid/staggering arrangements wont work dynamically. Just wanted to understand about the max limit so that I can provide some suggestions."},{"owner":{"account_id":11650441,"reputation":201,"user_id":12527104,"display_name":"IRON MAN"},"score":0,"creation_date":1687282342,"post_id":76480901,"comment_id":134913866,"body_markdown":"max limit is 6 @JeelVankhede...i need to use relative layout only for dynamic cells","body":"max limit is 6 @JeelVankhede...i need to use relative layout only for dynamic cells"}],"answers":[{"tags":[],"owner":{"account_id":18672550,"reputation":199,"user_id":13610941,"display_name":"Ravikant sahu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687851330,"creation_date":1687850186,"answer_id":76562452,"question_id":76480901,"body_markdown":"[![enter image description here][1]][1]To make Dynamic view as you see it, I wrote the following code:\r\n\r\nNote: There is an exception for the 5 view because it needs to be wrapped inside another view (in my case, the linear layout).\r\n\r\n\r\nCurrently, the width and height of the relative layout are fixed as follows: \r\n\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;200dp&quot;\r\n\r\nwhole activity code:\r\n\r\n        public class MainActivity2 extends AppCompatActivity {\r\n        RelativeLayout relativeLayout;\r\n        List&lt;UserView&gt; mUserViewList;\r\n        List&lt;Integer&gt; mUidList;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main2);\r\n    \r\n             relativeLayout = findViewById(R.id.relativeLayout);\r\n    \r\n    \r\n    \r\n            mUserViewList = new ArrayList&lt;&gt;();\r\n            mUidList = new ArrayList&lt;&gt;();\r\n            int size = 5;\r\n    \r\n    \r\n            RelativeLayout.LayoutParams[] array = getgrid2(size);\r\n    \r\n            for (int i = 0; i &lt; size; i++) {\r\n                //createing user view and addding in view list\r\n                UserView userView = new UserView(this);\r\n                mUserViewList.add(userView);\r\n    \r\n                //setting id and addint to id list\r\n                userView.setId(i);\r\n                mUidList.add(i);\r\n    \r\n                //settting text to user view\r\n                userView.setTextView(&quot;User &quot; + (i+1));\r\n    \r\n                if (array[i]==null)\r\n                    continue;\r\n                //setting layout\r\n                mUserViewList.get(i).setLayoutParams(array[i]);\r\n                //adding to views\r\n                if (i==4){\r\n    \r\n                    relativeLayout.addView(exptionalMethodFor5view());\r\n                }\r\n                relativeLayout.addView(mUserViewList.get(i));\r\n            }\r\n        }\r\n    \r\n    \r\n        private RelativeLayout.LayoutParams[] getgrid2(int size) {\r\n    \r\n    //        int width = Math.max(relativeLayout.getMeasuredWidth(),relativeLayout.getMeasuredHeight());\r\n    //        int height = Math.min(relativeLayout.getMeasuredWidth(),relativeLayout.getMeasuredHeight());\r\n    \r\n             int width = Resources.getSystem().getDisplayMetrics().widthPixels;\r\n             int height =dpToPx(200);\r\n    \r\n            RelativeLayout.LayoutParams[] array =\r\n                    new RelativeLayout.LayoutParams[size];\r\n            switch (size){\r\n                case 1: {\r\n                    array[0] = new RelativeLayout.LayoutParams(\r\n                            RelativeLayout.LayoutParams.MATCH_PARENT,\r\n                            RelativeLayout.LayoutParams.MATCH_PARENT);\r\n                    array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n                    break;\r\n                }\r\n                case 2:{\r\n                    array[0] = new RelativeLayout.LayoutParams(\r\n                            width/2,\r\n                            RelativeLayout.LayoutParams.MATCH_PARENT );\r\n                    array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n                    array[0].addRule(RelativeLayout.ALIGN_PARENT_START, RelativeLayout.TRUE);\r\n    \r\n                    array[1] = new RelativeLayout.LayoutParams(\r\n                            width/2,\r\n                            ViewGroup.LayoutParams.MATCH_PARENT);\r\n                    array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n                    array[1].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\r\n                    break;\r\n    \r\n                }\r\n                case 3: {\r\n                    array[0] = new RelativeLayout.LayoutParams(\r\n                            width/3,\r\n                            RelativeLayout.LayoutParams.MATCH_PARENT );\r\n                    array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n                    array[0].addRule(RelativeLayout.ALIGN_PARENT_START, RelativeLayout.TRUE);\r\n    \r\n                    array[1] = new RelativeLayout.LayoutParams(\r\n                            width/3,\r\n                            ViewGroup.LayoutParams.MATCH_PARENT);\r\n                    array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n                    array[1].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\r\n    \r\n                    array[2] = new RelativeLayout.LayoutParams(\r\n                            width/3,\r\n                            ViewGroup.LayoutParams.MATCH_PARENT);\r\n                    array[2].addRule(RelativeLayout.CENTER_IN_PARENT, RelativeLayout.TRUE);\r\n                    break;\r\n                }\r\n                case 4: {\r\n                    array[0] = new RelativeLayout.LayoutParams(\r\n                            width/2,\r\n                            height/2 );\r\n                    array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n                    array[0].addRule(RelativeLayout.ALIGN_PARENT_START, RelativeLayout.TRUE);\r\n    \r\n                    array[1] = new RelativeLayout.LayoutParams(\r\n                            width/2,\r\n                            height/2);\r\n                    array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n                    array[1].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\r\n    \r\n                    array[2] = new RelativeLayout.LayoutParams(\r\n                            width/2,\r\n                            height/2);\r\n                    array[2].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\r\n    \r\n                    array[3] = new RelativeLayout.LayoutParams(\r\n                            width/2,\r\n                            height/2);\r\n                    array[3].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\r\n                    array[3].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\r\n                    break;\r\n                }\r\n                case 5: {\r\n    //                array[0] = new RelativeLayout.LayoutParams(\r\n    //                        width/3,\r\n    //                        height/2 );\r\n    //                array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n    //                array[0].addRule(RelativeLayout.ALIGN_PARENT_START, RelativeLayout.TRUE);\r\n    \r\n    //                array[1] = new RelativeLayout.LayoutParams(\r\n    //                        width/3,\r\n    //                        height/2);\r\n                    //top right\r\n    //                array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n    //                array[1].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\r\n    \r\n                    array[2] = new RelativeLayout.LayoutParams(\r\n                            width/3,\r\n                            height/2);\r\n                    array[2].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\r\n    \r\n                    array[3] = new RelativeLayout.LayoutParams(\r\n                            width/3,\r\n                            height/2);\r\n                    array[3].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\r\n                    array[3].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\r\n    \r\n    \r\n                    array[4] = new RelativeLayout.LayoutParams(\r\n                            width/3,\r\n                            height/2);\r\n                    array[4].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\r\n                    array[4].addRule(RelativeLayout.CENTER_HORIZONTAL, RelativeLayout.TRUE);\r\n                    break;\r\n                }\r\n                case 6: {\r\n                    array[0] = new RelativeLayout.LayoutParams(\r\n                            width/3,\r\n                            height/2 );\r\n                    array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n                    array[0].addRule(RelativeLayout.ALIGN_PARENT_START, RelativeLayout.TRUE);\r\n    \r\n                    array[1] = new RelativeLayout.LayoutParams(\r\n                            width/3,\r\n                            height/2);\r\n                    array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n                    array[1].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\r\n    \r\n                    array[2] = new RelativeLayout.LayoutParams(\r\n                            width/3,\r\n                            height/2);\r\n                    array[2].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\r\n    \r\n                    array[3] = new RelativeLayout.LayoutParams(\r\n                            width/3,\r\n                            height/2);\r\n                    array[3].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\r\n                    array[3].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\r\n    \r\n                    array[4] = new RelativeLayout.LayoutParams(\r\n                            width/3,\r\n                            height/2);\r\n                    array[4].addRule(RelativeLayout.CENTER_HORIZONTAL, RelativeLayout.TRUE);\r\n    \r\n                    array[5] = new RelativeLayout.LayoutParams(\r\n                            width/3,\r\n                            height/2);\r\n                    array[5].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\r\n                    array[5].addRule(RelativeLayout.CENTER_HORIZONTAL, RelativeLayout.TRUE);\r\n                    break;\r\n                }\r\n    \r\n                default:{\r\n                    array[0] = new RelativeLayout.LayoutParams(\r\n                            width/2,\r\n                            ViewGroup.LayoutParams.MATCH_PARENT);\r\n                    array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n                    array[0].addRule(RelativeLayout.ALIGN_PARENT_START, RelativeLayout.TRUE);\r\n    \r\n                    array[1] = new RelativeLayout.LayoutParams(\r\n                            width/2,\r\n                            ViewGroup.LayoutParams.MATCH_PARENT);\r\n                    array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n                    array[1].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\r\n                    break;\r\n                }\r\n            }\r\n            return array;\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        private LinearLayout exptionalMethodFor5view(){\r\n            LinearLayout linearLayout = new LinearLayout(this);\r\n            LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(\r\n                    LinearLayout.LayoutParams.MATCH_PARENT,\r\n                    LinearLayout.LayoutParams.WRAP_CONTENT);\r\n    \r\n            linearLayout.setOrientation(LinearLayout.HORIZONTAL);\r\n            linearLayout.setGravity(Gravity.CENTER);\r\n    \r\n            linearLayout.setLayoutParams(layoutParams);\r\n    \r\n            UserView newUserview1 = new UserView(this);\r\n            newUserview1.setLayoutParams(new LinearLayout.LayoutParams(\r\n                    (Resources.getSystem().getDisplayMetrics().widthPixels)/3,\r\n                    dpToPx(200)/2));\r\n    \r\n            UserView newUserview2 = new UserView(this);\r\n            newUserview2.setLayoutParams(new LinearLayout.LayoutParams(\r\n                    (Resources.getSystem().getDisplayMetrics().widthPixels)/3,\r\n                    dpToPx(200)/2));\r\n    \r\n            linearLayout.addView(newUserview1);\r\n            linearLayout.addView(newUserview2);\r\n            return linearLayout;\r\n        }\r\n    \r\n    \r\n        public static int dpToPx(float dp) {\r\n            float density = Resources.getSystem().getDisplayMetrics().density;\r\n            return Math.round(dp * density);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nWv22.gif","title":"Facing issue While making dynamic views using Relative layout","body":"<p><a href=\"https://i.stack.imgur.com/nWv22.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nWv22.gif\" alt=\"enter image description here\" /></a>To make Dynamic view as you see it, I wrote the following code:</p>\n<p>Note: There is an exception for the 5 view because it needs to be wrapped inside another view (in my case, the linear layout).</p>\n<p>Currently, the width and height of the relative layout are fixed as follows:</p>\n<pre><code>    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;200dp&quot;\n</code></pre>\n<p>whole activity code:</p>\n<pre><code>    public class MainActivity2 extends AppCompatActivity {\n    RelativeLayout relativeLayout;\n    List&lt;UserView&gt; mUserViewList;\n    List&lt;Integer&gt; mUidList;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n\n         relativeLayout = findViewById(R.id.relativeLayout);\n\n\n\n        mUserViewList = new ArrayList&lt;&gt;();\n        mUidList = new ArrayList&lt;&gt;();\n        int size = 5;\n\n\n        RelativeLayout.LayoutParams[] array = getgrid2(size);\n\n        for (int i = 0; i &lt; size; i++) {\n            //createing user view and addding in view list\n            UserView userView = new UserView(this);\n            mUserViewList.add(userView);\n\n            //setting id and addint to id list\n            userView.setId(i);\n            mUidList.add(i);\n\n            //settting text to user view\n            userView.setTextView(&quot;User &quot; + (i+1));\n\n            if (array[i]==null)\n                continue;\n            //setting layout\n            mUserViewList.get(i).setLayoutParams(array[i]);\n            //adding to views\n            if (i==4){\n\n                relativeLayout.addView(exptionalMethodFor5view());\n            }\n            relativeLayout.addView(mUserViewList.get(i));\n        }\n    }\n\n\n    private RelativeLayout.LayoutParams[] getgrid2(int size) {\n\n//        int width = Math.max(relativeLayout.getMeasuredWidth(),relativeLayout.getMeasuredHeight());\n//        int height = Math.min(relativeLayout.getMeasuredWidth(),relativeLayout.getMeasuredHeight());\n\n         int width = Resources.getSystem().getDisplayMetrics().widthPixels;\n         int height =dpToPx(200);\n\n        RelativeLayout.LayoutParams[] array =\n                new RelativeLayout.LayoutParams[size];\n        switch (size){\n            case 1: {\n                array[0] = new RelativeLayout.LayoutParams(\n                        RelativeLayout.LayoutParams.MATCH_PARENT,\n                        RelativeLayout.LayoutParams.MATCH_PARENT);\n                array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n                break;\n            }\n            case 2:{\n                array[0] = new RelativeLayout.LayoutParams(\n                        width/2,\n                        RelativeLayout.LayoutParams.MATCH_PARENT );\n                array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n                array[0].addRule(RelativeLayout.ALIGN_PARENT_START, RelativeLayout.TRUE);\n\n                array[1] = new RelativeLayout.LayoutParams(\n                        width/2,\n                        ViewGroup.LayoutParams.MATCH_PARENT);\n                array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n                array[1].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\n                break;\n\n            }\n            case 3: {\n                array[0] = new RelativeLayout.LayoutParams(\n                        width/3,\n                        RelativeLayout.LayoutParams.MATCH_PARENT );\n                array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n                array[0].addRule(RelativeLayout.ALIGN_PARENT_START, RelativeLayout.TRUE);\n\n                array[1] = new RelativeLayout.LayoutParams(\n                        width/3,\n                        ViewGroup.LayoutParams.MATCH_PARENT);\n                array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n                array[1].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\n\n                array[2] = new RelativeLayout.LayoutParams(\n                        width/3,\n                        ViewGroup.LayoutParams.MATCH_PARENT);\n                array[2].addRule(RelativeLayout.CENTER_IN_PARENT, RelativeLayout.TRUE);\n                break;\n            }\n            case 4: {\n                array[0] = new RelativeLayout.LayoutParams(\n                        width/2,\n                        height/2 );\n                array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n                array[0].addRule(RelativeLayout.ALIGN_PARENT_START, RelativeLayout.TRUE);\n\n                array[1] = new RelativeLayout.LayoutParams(\n                        width/2,\n                        height/2);\n                array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n                array[1].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\n\n                array[2] = new RelativeLayout.LayoutParams(\n                        width/2,\n                        height/2);\n                array[2].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\n\n                array[3] = new RelativeLayout.LayoutParams(\n                        width/2,\n                        height/2);\n                array[3].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\n                array[3].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\n                break;\n            }\n            case 5: {\n//                array[0] = new RelativeLayout.LayoutParams(\n//                        width/3,\n//                        height/2 );\n//                array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n//                array[0].addRule(RelativeLayout.ALIGN_PARENT_START, RelativeLayout.TRUE);\n\n//                array[1] = new RelativeLayout.LayoutParams(\n//                        width/3,\n//                        height/2);\n                //top right\n//                array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n//                array[1].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\n\n                array[2] = new RelativeLayout.LayoutParams(\n                        width/3,\n                        height/2);\n                array[2].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\n\n                array[3] = new RelativeLayout.LayoutParams(\n                        width/3,\n                        height/2);\n                array[3].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\n                array[3].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\n\n\n                array[4] = new RelativeLayout.LayoutParams(\n                        width/3,\n                        height/2);\n                array[4].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\n                array[4].addRule(RelativeLayout.CENTER_HORIZONTAL, RelativeLayout.TRUE);\n                break;\n            }\n            case 6: {\n                array[0] = new RelativeLayout.LayoutParams(\n                        width/3,\n                        height/2 );\n                array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n                array[0].addRule(RelativeLayout.ALIGN_PARENT_START, RelativeLayout.TRUE);\n\n                array[1] = new RelativeLayout.LayoutParams(\n                        width/3,\n                        height/2);\n                array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n                array[1].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\n\n                array[2] = new RelativeLayout.LayoutParams(\n                        width/3,\n                        height/2);\n                array[2].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\n\n                array[3] = new RelativeLayout.LayoutParams(\n                        width/3,\n                        height/2);\n                array[3].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\n                array[3].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\n\n                array[4] = new RelativeLayout.LayoutParams(\n                        width/3,\n                        height/2);\n                array[4].addRule(RelativeLayout.CENTER_HORIZONTAL, RelativeLayout.TRUE);\n\n                array[5] = new RelativeLayout.LayoutParams(\n                        width/3,\n                        height/2);\n                array[5].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\n                array[5].addRule(RelativeLayout.CENTER_HORIZONTAL, RelativeLayout.TRUE);\n                break;\n            }\n\n            default:{\n                array[0] = new RelativeLayout.LayoutParams(\n                        width/2,\n                        ViewGroup.LayoutParams.MATCH_PARENT);\n                array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n                array[0].addRule(RelativeLayout.ALIGN_PARENT_START, RelativeLayout.TRUE);\n\n                array[1] = new RelativeLayout.LayoutParams(\n                        width/2,\n                        ViewGroup.LayoutParams.MATCH_PARENT);\n                array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n                array[1].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\n                break;\n            }\n        }\n        return array;\n\n\n\n    }\n\n    private LinearLayout exptionalMethodFor5view(){\n        LinearLayout linearLayout = new LinearLayout(this);\n        LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(\n                LinearLayout.LayoutParams.MATCH_PARENT,\n                LinearLayout.LayoutParams.WRAP_CONTENT);\n\n        linearLayout.setOrientation(LinearLayout.HORIZONTAL);\n        linearLayout.setGravity(Gravity.CENTER);\n\n        linearLayout.setLayoutParams(layoutParams);\n\n        UserView newUserview1 = new UserView(this);\n        newUserview1.setLayoutParams(new LinearLayout.LayoutParams(\n                (Resources.getSystem().getDisplayMetrics().widthPixels)/3,\n                dpToPx(200)/2));\n\n        UserView newUserview2 = new UserView(this);\n        newUserview2.setLayoutParams(new LinearLayout.LayoutParams(\n                (Resources.getSystem().getDisplayMetrics().widthPixels)/3,\n                dpToPx(200)/2));\n\n        linearLayout.addView(newUserview1);\n        linearLayout.addView(newUserview2);\n        return linearLayout;\n    }\n\n\n    public static int dpToPx(float dp) {\n        float density = Resources.getSystem().getDisplayMetrics().density;\n        return Math.round(dp * density);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11650441,"reputation":201,"user_id":12527104,"display_name":"IRON MAN"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687851330,"creation_date":1686820078,"question_id":76480901,"body_markdown":"I&#39;m using relative layout for building the views/grid dynamically...\r\n\r\nex: if there is 1 user then,\r\n\r\n[[grid with users 1][1]][1]\r\n\r\nif there is 2 user then ,\r\n\r\n[[grid with users 2][2]][2]\r\n\r\nif there is 3 user then,\r\n\r\n[[grid with user 3][3]][3]\r\n\r\nif there are 4 user then ,\r\n2 above and 2 below\r\n\r\nif there are 5 then,\r\n[[grid with user 5][4]][4]\r\n\r\nif there are 6 then.\r\n[[grid with user 6][5]][5]\r\n\r\n\r\nmy code is ,\r\n       \r\n     private RelativeLayout.LayoutParams[] getgrid(int size) {\r\n\r\n      int width = Math.max(getMeasuredWidth(),getMeasuredHeight());\r\n        int height = Math.min(getMeasuredWidth(),getMeasuredHeight());\r\n\r\n        RelativeLayout.LayoutParams[] array =\r\n                new RelativeLayout.LayoutParams[size];\r\n\r\n        for (int i = 0; i &lt; size; i++) {\r\n            if (i == 0) {\r\n                array[0] = new RelativeLayout.LayoutParams(\r\n                        LayoutParams.MATCH_PARENT,\r\n                        LayoutParams.MATCH_PARENT);\r\n                array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n            } else if (i == 1) {\r\n                array[1] = new RelativeLayout.LayoutParams(width / 2, height);\r\n                array[0].width = array[1].width;\r\n                array[1].addRule(RelativeLayout.RIGHT_OF, mUserViewList.get(mUidList.get(0)).getId());\r\n                array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n              //  array[1].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM,RelativeLayout.TRUE);\r\n            } else if (i == 2) {\r\n                array[i] = new RelativeLayout.LayoutParams(width / 3, height);\r\n                array[1].width = array[i].width;\r\n                array[0].width = array[i].width;\r\n                //array[i].addRule(RelativeLayout.ALIGN_PARENT_RIGHT, RelativeLayout.TRUE);\r\n                array[i].addRule(RelativeLayout.RIGHT_OF, mUserViewList.get(mUidList.get(1)).getId());\r\n            } else if (i == 3) {\r\n                array[i] = new RelativeLayout.LayoutParams(width / 2, height / 2);\r\n                array[0].width = array[i].width;\r\n                array[1].width = array[i].width;\r\n                array[i - 1].width = array[i].width;\r\n                array[0].height = array[i].height;\r\n                array[1].height = array[i].height;\r\n                array[i - 1].height = array[i].height;\r\n                array[i - 1].addRule(RelativeLayout.ALIGN_PARENT_LEFT, RelativeLayout.TRUE);\r\n                array[i].addRule(RelativeLayout.ALIGN_PARENT_RIGHT, 0);\r\n                array[i - 1].addRule(RelativeLayout.BELOW, mUserViewList.get(mUidList.get(0)).getId());\r\n                array[i].addRule(RelativeLayout.BELOW, mUserViewList.get(mUidList.get(1)).getId());\r\n                array[i].addRule(RelativeLayout.RIGHT_OF, mUserViewList.get(mUidList.get(i - 1)).getId());\r\n            } else if (i == 4) {\r\n                array[i] = new RelativeLayout.LayoutParams(width / 3, height / 2);\r\n                array[0].width = array[i].width;\r\n                array[1].width = array[i].width;\r\n                array[2].width = array[i].width;\r\n                array[3].width = array[i].width;\r\n                array[0].setMargins(width / 6, 0, 0, 0);\r\n                array[i].addRule(RelativeLayout.RIGHT_OF, mUserViewList.get(mUidList.get(i - 1)).getId());\r\n                array[i].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\r\n            } else if (i == 5) {\r\n                array[i] = new RelativeLayout.LayoutParams(width / 3, height / 2);\r\n                array[0].setMargins(0, 0, 0, 0);\r\n                array[i].addRule(RelativeLayout.RIGHT_OF, mUserViewList.get(mUidList.get(1)).getId());\r\n                array[i].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n\r\n            }\r\n        }\r\n\r\n         return array;\r\n    }\r\n\r\n\r\n\r\n\r\nthe issue is there is another view right besides the relative layout so basically its not getting equally divided and distorted as well (distorted means some grid is not covering the full height)\r\n\r\nplease refer this:--\r\n[[issue with 6][6]][6]\r\n\r\n[[issue with 3][7]][7]\r\nand so on\r\n\r\n\r\nplease help me out thanks in advance\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4Dqsr.png\r\n  [2]: https://i.stack.imgur.com/XzrNG.png\r\n  [3]: https://i.stack.imgur.com/FzD5L.png\r\n  [4]: https://i.stack.imgur.com/ESKsr.png\r\n  [5]: https://i.stack.imgur.com/PR7ko.png\r\n  [6]: https://i.stack.imgur.com/r3IFS.png\r\n  [7]: https://i.stack.imgur.com/zeUhq.png","title":"Facing issue While making dynamic views using Relative layout","body":"<p>I'm using relative layout for building the views/grid dynamically...</p>\n<p>ex: if there is 1 user then,</p>\n<p>[<a href=\"https://i.stack.imgur.com/4Dqsr.png\" rel=\"nofollow noreferrer\">grid with users 1</a>]<a href=\"https://i.stack.imgur.com/4Dqsr.png\" rel=\"nofollow noreferrer\">1</a></p>\n<p>if there is 2 user then ,</p>\n<p>[<a href=\"https://i.stack.imgur.com/XzrNG.png\" rel=\"nofollow noreferrer\">grid with users 2</a>]<a href=\"https://i.stack.imgur.com/XzrNG.png\" rel=\"nofollow noreferrer\">2</a></p>\n<p>if there is 3 user then,</p>\n<p>[<a href=\"https://i.stack.imgur.com/FzD5L.png\" rel=\"nofollow noreferrer\">grid with user 3</a>]<a href=\"https://i.stack.imgur.com/FzD5L.png\" rel=\"nofollow noreferrer\">3</a></p>\n<p>if there are 4 user then ,\n2 above and 2 below</p>\n<p>if there are 5 then,\n[<a href=\"https://i.stack.imgur.com/ESKsr.png\" rel=\"nofollow noreferrer\">grid with user 5</a>]<a href=\"https://i.stack.imgur.com/ESKsr.png\" rel=\"nofollow noreferrer\">4</a></p>\n<p>if there are 6 then.\n[<a href=\"https://i.stack.imgur.com/PR7ko.png\" rel=\"nofollow noreferrer\">grid with user 6</a>]<a href=\"https://i.stack.imgur.com/PR7ko.png\" rel=\"nofollow noreferrer\">5</a></p>\n<p>my code is ,</p>\n<pre><code> private RelativeLayout.LayoutParams[] getgrid(int size) {\n\n  int width = Math.max(getMeasuredWidth(),getMeasuredHeight());\n    int height = Math.min(getMeasuredWidth(),getMeasuredHeight());\n\n    RelativeLayout.LayoutParams[] array =\n            new RelativeLayout.LayoutParams[size];\n\n    for (int i = 0; i &lt; size; i++) {\n        if (i == 0) {\n            array[0] = new RelativeLayout.LayoutParams(\n                    LayoutParams.MATCH_PARENT,\n                    LayoutParams.MATCH_PARENT);\n            array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n        } else if (i == 1) {\n            array[1] = new RelativeLayout.LayoutParams(width / 2, height);\n            array[0].width = array[1].width;\n            array[1].addRule(RelativeLayout.RIGHT_OF, mUserViewList.get(mUidList.get(0)).getId());\n            array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n          //  array[1].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM,RelativeLayout.TRUE);\n        } else if (i == 2) {\n            array[i] = new RelativeLayout.LayoutParams(width / 3, height);\n            array[1].width = array[i].width;\n            array[0].width = array[i].width;\n            //array[i].addRule(RelativeLayout.ALIGN_PARENT_RIGHT, RelativeLayout.TRUE);\n            array[i].addRule(RelativeLayout.RIGHT_OF, mUserViewList.get(mUidList.get(1)).getId());\n        } else if (i == 3) {\n            array[i] = new RelativeLayout.LayoutParams(width / 2, height / 2);\n            array[0].width = array[i].width;\n            array[1].width = array[i].width;\n            array[i - 1].width = array[i].width;\n            array[0].height = array[i].height;\n            array[1].height = array[i].height;\n            array[i - 1].height = array[i].height;\n            array[i - 1].addRule(RelativeLayout.ALIGN_PARENT_LEFT, RelativeLayout.TRUE);\n            array[i].addRule(RelativeLayout.ALIGN_PARENT_RIGHT, 0);\n            array[i - 1].addRule(RelativeLayout.BELOW, mUserViewList.get(mUidList.get(0)).getId());\n            array[i].addRule(RelativeLayout.BELOW, mUserViewList.get(mUidList.get(1)).getId());\n            array[i].addRule(RelativeLayout.RIGHT_OF, mUserViewList.get(mUidList.get(i - 1)).getId());\n        } else if (i == 4) {\n            array[i] = new RelativeLayout.LayoutParams(width / 3, height / 2);\n            array[0].width = array[i].width;\n            array[1].width = array[i].width;\n            array[2].width = array[i].width;\n            array[3].width = array[i].width;\n            array[0].setMargins(width / 6, 0, 0, 0);\n            array[i].addRule(RelativeLayout.RIGHT_OF, mUserViewList.get(mUidList.get(i - 1)).getId());\n            array[i].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\n        } else if (i == 5) {\n            array[i] = new RelativeLayout.LayoutParams(width / 3, height / 2);\n            array[0].setMargins(0, 0, 0, 0);\n            array[i].addRule(RelativeLayout.RIGHT_OF, mUserViewList.get(mUidList.get(1)).getId());\n            array[i].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n\n        }\n    }\n\n     return array;\n}\n</code></pre>\n<p>the issue is there is another view right besides the relative layout so basically its not getting equally divided and distorted as well (distorted means some grid is not covering the full height)</p>\n<p>please refer this:--\n[<a href=\"https://i.stack.imgur.com/r3IFS.png\" rel=\"nofollow noreferrer\">issue with 6</a>]<a href=\"https://i.stack.imgur.com/r3IFS.png\" rel=\"nofollow noreferrer\">6</a></p>\n<p>[<a href=\"https://i.stack.imgur.com/zeUhq.png\" rel=\"nofollow noreferrer\">issue with 3</a>]<a href=\"https://i.stack.imgur.com/zeUhq.png\" rel=\"nofollow noreferrer\">7</a>\nand so on</p>\n<p>please help me out thanks in advance</p>\n"},{"tags":["java","spring-boot","tomcat","hosting"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1686634833,"post_id":76461552,"comment_id":134821946,"body_markdown":"Are you sure you are accessing the correct URL?","body":"Are you sure you are accessing the correct URL?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686637000,"post_id":76461552,"comment_id":134822206,"body_markdown":"For starters stop mixing modules from different version of Spring (Boot) you are mixing 2.2.2 and 2.4.2 which will lead to issues. You don&#39;t need `spring-orm` nor `hibernate-core` nor the thymeleaf dependencies all those are provided by the starter dependencies you already include. Also plugins as dependencies?! **How** are you creating the war? I do not hope you use some export function of your IDE but rather Gradle to generate the war file. Finally which tomcat version is on your server?","body":"For starters stop mixing modules from different version of Spring (Boot) you are mixing 2.2.2 and 2.4.2 which will lead to issues. You don&#39;t need <code>spring-orm</code> nor <code>hibernate-core</code> nor the thymeleaf dependencies all those are provided by the starter dependencies you already include. Also plugins as dependencies?! <b>How</b> are you creating the war? I do not hope you use some export function of your IDE but rather Gradle to generate the war file. Finally which tomcat version is on your server?"},{"owner":{"account_id":20209390,"reputation":5,"user_id":14822787,"display_name":"Abdullah Howard"},"score":0,"creation_date":1686642787,"post_id":76461552,"comment_id":134823267,"body_markdown":"Thank you for your reply. Excuse my obvious mistakes but I am fairly new to this. I shall remove the redundant dependencies and try again. I am generating the war file using the CMD and gradlew bootWar command.","body":"Thank you for your reply. Excuse my obvious mistakes but I am fairly new to this. I shall remove the redundant dependencies and try again. I am generating the war file using the CMD and gradlew bootWar command."},{"owner":{"account_id":20209390,"reputation":5,"user_id":14822787,"display_name":"Abdullah Howard"},"score":0,"creation_date":1686644016,"post_id":76461552,"comment_id":134823498,"body_markdown":"I have commented out the redundant code in the build file.","body":"I have commented out the redundant code in the build file."}],"answers":[{"tags":[],"owner":{"account_id":20209390,"reputation":5,"user_id":14822787,"display_name":"Abdullah Howard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687850741,"creation_date":1687434635,"answer_id":76531581,"question_id":76461552,"body_markdown":"Finally managed to solve that issue. Apparently the problem was that I was using `Tomcat 10`. According to some posts online, `Tomcat 10` does not support **Springboot**. Changing my `Tomcat` version from **10** to **8** solved the problem.","title":"My Springboot Application works fine on my Local Server but returns 404 when hosted to my DailyRazor Tomcat Server","body":"<p>Finally managed to solve that issue. Apparently the problem was that I was using <code>Tomcat 10</code>. According to some posts online, <code>Tomcat 10</code> does not support <strong>Springboot</strong>. Changing my <code>Tomcat</code> version from <strong>10</strong> to <strong>8</strong> solved the problem.</p>\n"}],"owner":{"account_id":20209390,"reputation":5,"user_id":14822787,"display_name":"Abdullah Howard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76531581,"answer_count":1,"score":0,"last_activity_date":1687850741,"creation_date":1686627492,"question_id":76461552,"body_markdown":"I am trying to host my springboot hibernate application to my tomcat server on DailyRazor but I am encountering an issue. After creating a deployable War file and dropping it in the webapps folder directly, I still receive a 404 page when when trying to access my website. All apis return this 404 page even the root api.\r\n\r\nI have been trying to solve this for a few weeks now and I have seen all the common mistakes and I believe that I have configured my springboot application correctly. I have overrided the configure method and I have made sure to extend the SpringBootServletInitializer, but the problem still persists. Since I am creating my project in Intellij, I am generating the war file by using the gradlew bootWar in the CMD.\r\n\r\n    @SpringBootApplication\r\n    @EnableCaching\r\n    public class Run extends SpringBootServletInitializer {\r\n       private static SessionFactory sessionFactory = SessionFactoryCreator.createSessionFactory();\r\n\r\n\r\n       public static Session getSession() {\r\n            return sessionFactory.openSession();\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n\r\n            SpringApplication.run(Run.class, args);\r\n\r\n        }\r\n\r\n        @Override\r\n        protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n            return application.sources(Run.class);\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\nHere is my build.gradle file:\r\n```\r\nbuildscript {\r\n    repositories {\r\n        maven {\r\n            url &quot;https://plugins.gradle.org/m2/&quot;\r\n        }\r\n    }\r\n    dependencies {\r\n        classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:2.2.2.RELEASE&quot;\r\n        classpath &quot;io.spring.gradle:dependency-management-plugin:1.0.8.RELEASE&quot;\r\n    }\r\n}\r\n\r\nplugins {\r\n    id &#39;war&#39;\r\n}\r\n\r\ngroup &#39;com.teamtreehouse&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\n\r\n\r\nallprojects  {\r\n    apply plugin: &#39;maven&#39;\r\n    apply plugin: &quot;io.spring.dependency-management&quot;\r\n    group = &#39;com.wnp&#39;\r\n    version = &#39;6.5.0-SNAPSHOT&#39;\r\n}\r\n\r\napply plugin: &#39;java&#39;\r\napply plugin: &quot;org.springframework.boot&quot;\r\n\r\nsourceCompatibility = 1.8\r\ntargetCompatibility = 1.8\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    // https://mvnrepository.com/artifact/io.spring.dependency-management/io.spring.dependency-management.gradle.plugin\r\n    implementation &#39;io.spring.dependency-management:io.spring.dependency-management.gradle.plugin:1.1.0&#39;\r\n\r\n//    &#39;io.spring.gradle:dependency-management-plugin:0.5.3.RELEASE&#39;\r\n    compile &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    compile &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    compile &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n    compile &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n// https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-mail:2.2.2.RELEASE&#39;\r\n\r\n    compile group: &#39;org.apache.maven.plugins&#39;, name: &#39;maven-surefire-plugin&#39;, version: &#39;2.22.2&#39;\r\n    implementation &#39;org.ocpsoft.prettytime:prettytime:3.2.7.Final&#39;\r\n\r\n//    compile &#39;org.springframework:spring-orm&#39;\r\n//    compile group: &#39;org.hibernate&#39;, name: &#39;hibernate-core&#39;\r\n    // https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-tomcat\r\n//    providedRuntime group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-tomcat&#39;, version: &#39;2.7.5&#39;\r\n\r\n//    compile &#39;org.apache.tomcat:tomcat-dbcp:8.0.32&#39;\r\n    compile &#39;com.h2database:h2:1.4.191&#39;\r\n    compile &#39;com.h2database:h2&#39;\r\n    compile &#39;org.eclipse.mylyn.github:org.eclipse.egit.github.core:2.1.5&#39;\r\n    testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.11&#39;\r\n    compile &#39;org.hashids:hashids:1.0.1&#39;\r\n//    compile group: &#39;org.thymeleaf&#39;, name: &#39;thymeleaf-spring4&#39;, version: &#39;3.0.12.RELEASE&#39;\r\n//    compile group: &#39;org.thymeleaf&#39;, name: &#39;thymeleaf&#39;, version: &#39;3.0.12.RELEASE&#39;\r\n    compile group: &#39;mysql&#39;, name: &#39;mysql-connector-java&#39;, version: &#39;8.0.22&#39;\r\n    testImplementation group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.11&#39;\r\n    implementation group: &#39;com.amazonaws&#39;, name: &#39;aws-java-sdk-s3&#39;, version: &#39;1.12.131&#39;\r\n// https://mvnrepository.com/artifact/software.amazon.awssdk/s3\r\n    testImplementation &#39;software.amazon.awssdk:s3:2.17.102&#39;\r\n\r\n// https://mvnrepository.com/artifact/software.amazon.awssdk/bom\r\n    runtimeOnly &#39;software.amazon.awssdk:bom:2.17.102&#39;\r\n\r\n    \r\n}\r\n\r\n```\r\n\r\nFurthermore, when I check I my tomcat 8 logs, this is the error message that I am seeing.\r\n\r\n```\r\njava.lang.NoClassDefFoundError: Could not initialize class org.apache.tomcat.util.buf.B2CConverter\r\n\tat org.apache.catalina.connector.CoyoteAdapter.parsePathParameters(CoyoteAdapter.java:1036)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.postParseRequest(CoyoteAdapter.java:786)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:529)\r\n\tat org.apache.coyote.ajp.AbstractAjpProcessor.process(AbstractAjpProcessor.java:827)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:658)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1566)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1523)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nERROR ajp-nio-0.0.0.0-9679-ClientPoller-1 org.apache.tomcat.util.net.NioEndpoint - \r\njava.lang.OutOfMemoryError: Java heap space\r\n```","title":"My Springboot Application works fine on my Local Server but returns 404 when hosted to my DailyRazor Tomcat Server","body":"<p>I am trying to host my springboot hibernate application to my tomcat server on DailyRazor but I am encountering an issue. After creating a deployable War file and dropping it in the webapps folder directly, I still receive a 404 page when when trying to access my website. All apis return this 404 page even the root api.</p>\n<p>I have been trying to solve this for a few weeks now and I have seen all the common mistakes and I believe that I have configured my springboot application correctly. I have overrided the configure method and I have made sure to extend the SpringBootServletInitializer, but the problem still persists. Since I am creating my project in Intellij, I am generating the war file by using the gradlew bootWar in the CMD.</p>\n<pre><code>@SpringBootApplication\n@EnableCaching\npublic class Run extends SpringBootServletInitializer {\n   private static SessionFactory sessionFactory = SessionFactoryCreator.createSessionFactory();\n\n\n   public static Session getSession() {\n        return sessionFactory.openSession();\n    }\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(Run.class, args);\n\n    }\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Run.class);\n    }\n\n\n}\n</code></pre>\n<p>Here is my build.gradle file:</p>\n<pre><code>buildscript {\n    repositories {\n        maven {\n            url &quot;https://plugins.gradle.org/m2/&quot;\n        }\n    }\n    dependencies {\n        classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:2.2.2.RELEASE&quot;\n        classpath &quot;io.spring.gradle:dependency-management-plugin:1.0.8.RELEASE&quot;\n    }\n}\n\nplugins {\n    id 'war'\n}\n\ngroup 'com.teamtreehouse'\nversion '1.0-SNAPSHOT'\n\n\n\nallprojects  {\n    apply plugin: 'maven'\n    apply plugin: &quot;io.spring.dependency-management&quot;\n    group = 'com.wnp'\n    version = '6.5.0-SNAPSHOT'\n}\n\napply plugin: 'java'\napply plugin: &quot;org.springframework.boot&quot;\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    // https://mvnrepository.com/artifact/io.spring.dependency-management/io.spring.dependency-management.gradle.plugin\n    implementation 'io.spring.dependency-management:io.spring.dependency-management.gradle.plugin:1.1.0'\n\n//    'io.spring.gradle:dependency-management-plugin:0.5.3.RELEASE'\n    compile 'org.springframework.boot:spring-boot-starter-web'\n    compile 'org.springframework.boot:spring-boot-starter-data-jpa'\n    compile 'org.springframework.boot:spring-boot-starter-thymeleaf'\n    compile 'org.springframework.boot:spring-boot-starter-security'\n// https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail\n    implementation 'org.springframework.boot:spring-boot-starter-mail:2.2.2.RELEASE'\n\n    compile group: 'org.apache.maven.plugins', name: 'maven-surefire-plugin', version: '2.22.2'\n    implementation 'org.ocpsoft.prettytime:prettytime:3.2.7.Final'\n\n//    compile 'org.springframework:spring-orm'\n//    compile group: 'org.hibernate', name: 'hibernate-core'\n    // https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-tomcat\n//    providedRuntime group: 'org.springframework.boot', name: 'spring-boot-starter-tomcat', version: '2.7.5'\n\n//    compile 'org.apache.tomcat:tomcat-dbcp:8.0.32'\n    compile 'com.h2database:h2:1.4.191'\n    compile 'com.h2database:h2'\n    compile 'org.eclipse.mylyn.github:org.eclipse.egit.github.core:2.1.5'\n    testCompile group: 'junit', name: 'junit', version: '4.11'\n    compile 'org.hashids:hashids:1.0.1'\n//    compile group: 'org.thymeleaf', name: 'thymeleaf-spring4', version: '3.0.12.RELEASE'\n//    compile group: 'org.thymeleaf', name: 'thymeleaf', version: '3.0.12.RELEASE'\n    compile group: 'mysql', name: 'mysql-connector-java', version: '8.0.22'\n    testImplementation group: 'junit', name: 'junit', version: '4.11'\n    implementation group: 'com.amazonaws', name: 'aws-java-sdk-s3', version: '1.12.131'\n// https://mvnrepository.com/artifact/software.amazon.awssdk/s3\n    testImplementation 'software.amazon.awssdk:s3:2.17.102'\n\n// https://mvnrepository.com/artifact/software.amazon.awssdk/bom\n    runtimeOnly 'software.amazon.awssdk:bom:2.17.102'\n\n    \n}\n\n</code></pre>\n<p>Furthermore, when I check I my tomcat 8 logs, this is the error message that I am seeing.</p>\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class org.apache.tomcat.util.buf.B2CConverter\n    at org.apache.catalina.connector.CoyoteAdapter.parsePathParameters(CoyoteAdapter.java:1036)\n    at org.apache.catalina.connector.CoyoteAdapter.postParseRequest(CoyoteAdapter.java:786)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:529)\n    at org.apache.coyote.ajp.AbstractAjpProcessor.process(AbstractAjpProcessor.java:827)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:658)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1566)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1523)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:745)\nERROR ajp-nio-0.0.0.0-9679-ClientPoller-1 org.apache.tomcat.util.net.NioEndpoint - \njava.lang.OutOfMemoryError: Java heap space\n</code></pre>\n"},{"tags":["java","spring-boot","docker"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1687849291,"post_id":76561185,"comment_id":134990188,"body_markdown":"https://stackoverflow.com/questions/54720878/where-is-libfreetype-so-6-in-openjdk-i-got-an-unsatisfiedlinkerror-when-using-a","body":"<a href=\"https://stackoverflow.com/questions/54720878/where-is-libfreetype-so-6-in-openjdk-i-got-an-unsatisfiedlinkerror-when-using-a\" title=\"where is libfreetype so 6 in openjdk i got an unsatisfiedlinkerror when using a\">stackoverflow.com/questions/54720878/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15151132,"reputation":97,"user_id":10933437,"display_name":"ilkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687850027,"creation_date":1687850027,"answer_id":76562429,"question_id":76561185,"body_markdown":"This error is related to missing font in your OS/ container image, in your case either try a different Java image or install the necessary Font to the Docker container host. \r\n\r\nJust instead of &quot;adoptopenjdk/openjdk11:alpine-jre&quot; try this &quot;openjdk:11&quot;.","title":"Unable to use SXSSFWorkbook - Apache POI inside docker","body":"<p>This error is related to missing font in your OS/ container image, in your case either try a different Java image or install the necessary Font to the Docker container host.</p>\n<p>Just instead of &quot;adoptopenjdk/openjdk11:alpine-jre&quot; try this &quot;openjdk:11&quot;.</p>\n"}],"owner":{"account_id":5144135,"reputation":2717,"user_id":4120583,"accept_rate":29,"display_name":"Hikaru Shindo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687850027,"creation_date":1687831357,"question_id":76561185,"body_markdown":"I&#39;m working on Spring Boot. I&#39;m try to write a huge excel file, so I need to use SXSSFWorkbook from Apache POI. I run the service via **&#39;mvn spring-boot:run&#39;** and everything is working normally. But when I run the service via docker. I got this error,\r\n\r\n    java.lang.UnsatisfiedLinkError: /opt/java/openjdk/lib/libfontmanager.so: libfreetype.so.6: cannot open shared object file: No such file or directory\r\n\r\nHere is my Dockerfile,\r\n\r\n    # For Java 11, try this\r\n    FROM adoptopenjdk/openjdk11:alpine-jre\r\n    \r\n    # Refer to Maven build -&gt; finalName\r\n    ARG JAR_FILE=target/customer-service-0.0.1-SNAPSHOT.jar\r\n\r\n    # cd /opt/app\r\n    WORKDIR /opt/app\r\n\r\n    COPY ${JAR_FILE} app.jar\r\n\r\n    # java -jar /opt/app/app.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-Djava.security.egd=file:/dev/./urandom -Dspring.profiles.active=prod -Xms512m -Xmx1024m -jar&quot;, &quot;-jar&quot;,&quot;app.jar&quot;]\r\n\r\n\r\nHow should I fix this. Please help. ","title":"Unable to use SXSSFWorkbook - Apache POI inside docker","body":"<p>I'm working on Spring Boot. I'm try to write a huge excel file, so I need to use SXSSFWorkbook from Apache POI. I run the service via <strong>'mvn spring-boot:run'</strong> and everything is working normally. But when I run the service via docker. I got this error,</p>\n<pre><code>java.lang.UnsatisfiedLinkError: /opt/java/openjdk/lib/libfontmanager.so: libfreetype.so.6: cannot open shared object file: No such file or directory\n</code></pre>\n<p>Here is my Dockerfile,</p>\n<pre><code># For Java 11, try this\nFROM adoptopenjdk/openjdk11:alpine-jre\n\n# Refer to Maven build -&gt; finalName\nARG JAR_FILE=target/customer-service-0.0.1-SNAPSHOT.jar\n\n# cd /opt/app\nWORKDIR /opt/app\n\nCOPY ${JAR_FILE} app.jar\n\n# java -jar /opt/app/app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-Djava.security.egd=file:/dev/./urandom -Dspring.profiles.active=prod -Xms512m -Xmx1024m -jar&quot;, &quot;-jar&quot;,&quot;app.jar&quot;]\n</code></pre>\n<p>How should I fix this. Please help.</p>\n"},{"tags":["java","solid-principles"],"comments":[{"owner":{"account_id":17293107,"reputation":55,"user_id":21057359,"display_name":"LightSouls"},"score":0,"creation_date":1687796353,"post_id":76558479,"comment_id":134983568,"body_markdown":"it&#39;s not a problem, i&#39;m just interested","body":"it&#39;s not a problem, i&#39;m just interested"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1687796890,"post_id":76558479,"comment_id":134983693,"body_markdown":"And an LSP violation","body":"And an LSP violation"},{"owner":{"account_id":17293107,"reputation":55,"user_id":21057359,"display_name":"LightSouls"},"score":0,"creation_date":1687799654,"post_id":76558479,"comment_id":134984236,"body_markdown":"I thought that the solid principles are followed in most cases","body":"I thought that the solid principles are followed in most cases"},{"owner":{"account_id":1455702,"reputation":15662,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1688150585,"post_id":76558479,"comment_id":135040398,"body_markdown":"related: [Violation of single responsibility principle in Iterator from Java core](https://stackoverflow.com/q/33160222/1371329)","body":"related: <a href=\"https://stackoverflow.com/q/33160222/1371329\">Violation of single responsibility principle in Iterator from Java core</a>"}],"answers":[{"tags":[],"owner":{"account_id":17503,"reputation":18878,"user_id":39242,"accept_rate":71,"display_name":"Joshua Fox"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687849934,"creation_date":1687796350,"answer_id":76558515,"question_id":76558479,"body_markdown":"Yes, it does violate the Interface Segregation Principle, like any Unmodifiable collection. The designers of the Collections API could have created separate interfaces for write and read actions but decided to keep them together. \r\n\r\nOne could argue that this list does confirm to the ISP -- it has the `add()` function -- but the thing that it does with that function is not what you expect. [EDIT, per @progman below: And the exception *can* be considered part of the interface, because it is documented.]\r\n\r\n[Here](https://softwareengineering.stackexchange.com/questions/440155/unsupportedoperationexception-vs-interface-segregation) is a related discussion on Software Engineering Stack Exchange.","title":"Arrays in java violates ISP?","body":"<p>Yes, it does violate the Interface Segregation Principle, like any Unmodifiable collection. The designers of the Collections API could have created separate interfaces for write and read actions but decided to keep them together.</p>\n<p>One could argue that this list does confirm to the ISP -- it has the <code>add()</code> function -- but the thing that it does with that function is not what you expect. [EDIT, per @progman below: And the exception <em>can</em> be considered part of the interface, because it is documented.]</p>\n<p><a href=\"https://softwareengineering.stackexchange.com/questions/440155/unsupportedoperationexception-vs-interface-segregation\">Here</a> is a related discussion on Software Engineering Stack Exchange.</p>\n"},{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687796462,"creation_date":1687796462,"answer_id":76558528,"question_id":76558479,"body_markdown":"The [`List.add()` method](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#add-E-) is defined as an optional operation:\r\n\r\n&gt; `boolean add(E e)`\r\n&gt;\r\n&gt; Appends the specified element to the end of this list (optional operation).\r\n\r\nAnd further down it defines when it throws an `UnsupportedOperationException`:\r\n\r\n&gt; Throws:\r\n&gt; \r\n&gt; `UnsupportedOperationException` - if the add operation is not supported by this list\r\n\r\nSo the implementation (returned by `Arrays.asList()`) is doing what is &quot;allowed&quot; to do based on the specification of the `java.util.List` interface.","title":"Arrays in java violates ISP?","body":"<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#add-E-\" rel=\"nofollow noreferrer\"><code>List.add()</code> method</a> is defined as an optional operation:</p>\n<blockquote>\n<p><code>boolean add(E e)</code></p>\n<p>Appends the specified element to the end of this list (optional operation).</p>\n</blockquote>\n<p>And further down it defines when it throws an <code>UnsupportedOperationException</code>:</p>\n<blockquote>\n<p>Throws:</p>\n<p><code>UnsupportedOperationException</code> - if the add operation is not supported by this list</p>\n</blockquote>\n<p>So the implementation (returned by <code>Arrays.asList()</code>) is doing what is &quot;allowed&quot; to do based on the specification of the <code>java.util.List</code> interface.</p>\n"}],"owner":{"account_id":17293107,"reputation":55,"user_id":21057359,"display_name":"LightSouls"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76558515,"answer_count":2,"score":2,"last_activity_date":1687849934,"creation_date":1687796032,"question_id":76558479,"body_markdown":"The code below will throw `UnsupportedOperationException` in java :\r\n\r\n    String[] arr = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\r\n    List&lt;String&gt; list = Arrays.asList(arr);\r\n    list.add(&quot;d&quot;);\r\n\r\nI&#39;m a little confused isn&#39;t this an ISP violation ? Here class implements the `List` interface but can&#39;t implement its method `add()`","title":"Arrays in java violates ISP?","body":"<p>The code below will throw <code>UnsupportedOperationException</code> in java :</p>\n<pre><code>String[] arr = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\nList&lt;String&gt; list = Arrays.asList(arr);\nlist.add(&quot;d&quot;);\n</code></pre>\n<p>I'm a little confused isn't this an ISP violation ? Here class implements the <code>List</code> interface but can't implement its method <code>add()</code></p>\n"},{"tags":["java","spring","spring-boot","kotlin","dependency-injection"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687849514,"post_id":76562327,"comment_id":134990246,"body_markdown":"Why? What is the benefit.","body":"Why? What is the benefit."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1687849970,"post_id":76562327,"comment_id":134990324,"body_markdown":"While loggers may *seem* a good candidate for being injected at first, they usually aren&#39;t. Loggers are such a core thing that you want them to work even if DI breaks for some reason. And you often want them available in places DI can&#39;t (easily) reach. And there&#39;s no real benefit: You don&#39;t care about them during testing, so it&#39;s not a real problem if they are statically initialized.","body":"While loggers may <i>seem</i> a good candidate for being injected at first, they usually aren&#39;t. Loggers are such a core thing that you want them to work even if DI breaks for some reason. And you often want them available in places DI can&#39;t (easily) reach. And there&#39;s no real benefit: You don&#39;t care about them during testing, so it&#39;s not a real problem if they are statically initialized."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687849758,"creation_date":1687849758,"answer_id":76562396,"question_id":76562327,"body_markdown":"I wouldn&#39;t recommend it, what is the gain over adding `@Autowired` to writing `Logger logger = LoggerFactory.getLogger(getClass());`. \r\n\r\nThat being said you can write an `@Bean` method for a prototype scoped bean and use the [`InjectionPoint`][1] to obtain the information about the class etc. and use that to create a `Logger`. \r\n\r\n```java\r\n@Bean\r\n@Scope(&quot;prototype&quot;)\r\npublic Logger logger(InjectionPoint ip) {\r\n  return LoggerFactory.getLogger(ip.getMember().getDeclaringClass());\r\n}\r\n```\r\n\r\nThis will allow a dynamic (sort of) bean to be created for each `Logger` that is `@Autowired`. \r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/InjectionPoint.html","title":"If I want to use the logger using dependency injection (no static), how do I register the bean on spring boot?","body":"<p>I wouldn't recommend it, what is the gain over adding <code>@Autowired</code> to writing <code>Logger logger = LoggerFactory.getLogger(getClass());</code>.</p>\n<p>That being said you can write an <code>@Bean</code> method for a prototype scoped bean and use the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/InjectionPoint.html\" rel=\"nofollow noreferrer\"><code>InjectionPoint</code></a> to obtain the information about the class etc. and use that to create a <code>Logger</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@Scope(&quot;prototype&quot;)\npublic Logger logger(InjectionPoint ip) {\n  return LoggerFactory.getLogger(ip.getMember().getDeclaringClass());\n}\n</code></pre>\n<p>This will allow a dynamic (sort of) bean to be created for each <code>Logger</code> that is <code>@Autowired</code>.</p>\n"}],"owner":{"account_id":7083053,"reputation":79,"user_id":9270204,"display_name":"hhkbbb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687849758,"creation_date":1687849229,"question_id":76562327,"body_markdown":"What would be a good way to create a bean to use the logger in a controller via dependency injection, like the code below?\r\n```\r\n@RestController\r\nclass SecondController(\r\n    private val logger: Logger,\r\n) {\r\n\r\n    @GetMapping(&quot;/logger&quot;)\r\n    fun logger() {\r\n        logger.info(&quot;id $id&quot;)\r\n    }\r\n}\r\n\r\n```","title":"If I want to use the logger using dependency injection (no static), how do I register the bean on spring boot?","body":"<p>What would be a good way to create a bean to use the logger in a controller via dependency injection, like the code below?</p>\n<pre><code>@RestController\nclass SecondController(\n    private val logger: Logger,\n) {\n\n    @GetMapping(&quot;/logger&quot;)\n    fun logger() {\n        logger.info(&quot;id $id&quot;)\n    }\n}\n\n</code></pre>\n"},{"tags":["java","jcifs"],"comments":[{"owner":{"account_id":926412,"reputation":3164,"user_id":957130,"accept_rate":78,"display_name":"Marcin Pietraszek"},"score":0,"creation_date":1492582200,"post_id":43487647,"comment_id":74030441,"body_markdown":"Couldn&#39;t you just use SmbFileInputStream in a simillar fashion?","body":"Couldn&#39;t you just use SmbFileInputStream in a simillar fashion?"},{"owner":{"account_id":3164626,"reputation":332,"user_id":4723012,"accept_rate":93,"display_name":"Blaine"},"score":0,"creation_date":1492582261,"post_id":43487647,"comment_id":74030466,"body_markdown":"@MarcinPietraszek Probably. How does one do so?","body":"@MarcinPietraszek Probably. How does one do so?"}],"answers":[{"tags":[],"owner":{"account_id":926412,"reputation":3164,"user_id":957130,"accept_rate":78,"display_name":"Marcin Pietraszek"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1492582818,"creation_date":1492582503,"answer_id":43487797,"question_id":43487647,"body_markdown":"    SmbFile file = null;\r\n    byte[] buffer = new byte[1024];\r\n    try {\r\n        String url = &quot;smb://&quot;+serverAddress+&quot;/&quot;+sharename+&quot;/TEST.txt&quot;;\r\n        NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(null, username, password);\r\n        file = new SmbFile(url, auth);\r\n        try (SmbFileInputStream in = new SmbFileInputStream(file)) {\r\n            int bytesRead = 0;\r\n            do {\r\n                bytesRead = in.read(buffer)\r\n                // here you have &quot;bytesRead&quot; in buffer array\r\n            } \r\n            while (bytesRead &gt; 0);\r\n        }\r\n    } catch(Exception e) {\r\n        JOptionPane.showMessageDialog(null, &quot;ERROR: &quot;+e);\r\n    }\r\n\r\nor even better, assuming that you&#39;re working with text files - using `BufferedReader` from Java SDK:\r\n\r\n    try (BufferedReader reader = new BufferedReader(new InputStreamReader(new SmbFileInputStream(file)))) {\r\n        String line = reader.readLine();\r\n        while (line != null) {\r\n            line = reader.readLine();\r\n        }\r\n    }\r\n\r\nAnd write with:\r\n\r\n    try (BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(new SmbFileOutputStream(file)))) {\r\n        String toWrite = &quot;xxxxx&quot;;\r\n        writer.write(toWrite, 0, toWrite.length());\r\n    }","title":"Simplest way to read a file using jcifs","body":"<pre><code>SmbFile file = null;\nbyte[] buffer = new byte[1024];\ntry {\n    String url = \"smb://\"+serverAddress+\"/\"+sharename+\"/TEST.txt\";\n    NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(null, username, password);\n    file = new SmbFile(url, auth);\n    try (SmbFileInputStream in = new SmbFileInputStream(file)) {\n        int bytesRead = 0;\n        do {\n            bytesRead = in.read(buffer)\n            // here you have \"bytesRead\" in buffer array\n        } \n        while (bytesRead &gt; 0);\n    }\n} catch(Exception e) {\n    JOptionPane.showMessageDialog(null, \"ERROR: \"+e);\n}\n</code></pre>\n\n<p>or even better, assuming that you're working with text files - using <code>BufferedReader</code> from Java SDK:</p>\n\n<pre><code>try (BufferedReader reader = new BufferedReader(new InputStreamReader(new SmbFileInputStream(file)))) {\n    String line = reader.readLine();\n    while (line != null) {\n        line = reader.readLine();\n    }\n}\n</code></pre>\n\n<p>And write with:</p>\n\n<pre><code>try (BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(new SmbFileOutputStream(file)))) {\n    String toWrite = \"xxxxx\";\n    writer.write(toWrite, 0, toWrite.length());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2434404,"reputation":93,"user_id":2124665,"display_name":"Andriy Fedotov"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1493580876,"creation_date":1493580876,"answer_id":43710523,"question_id":43487647,"body_markdown":"\t    try {\r\n\t\t\tString url = &quot;smb://&quot; + serverAddress + &quot;/&quot; + sharename + &quot;/test.txt&quot;;\r\n\t\t\tNtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(DOMAIN, USER_NAME, PASSWORD);\r\n\t\t\tString fileContent = IOUtils.toString(new SmbFileInputStream(new SmbFile(url, auth)), StandardCharsets.UTF_8.name());\r\n\t\t\tSystem.out.println(fileContent);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.err.println(&quot;ERROR: &quot; + e.getMessage());\r\n\t\t}","title":"Simplest way to read a file using jcifs","body":"<pre><code>    try {\n        String url = \"smb://\" + serverAddress + \"/\" + sharename + \"/test.txt\";\n        NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(DOMAIN, USER_NAME, PASSWORD);\n        String fileContent = IOUtils.toString(new SmbFileInputStream(new SmbFile(url, auth)), StandardCharsets.UTF_8.name());\n        System.out.println(fileContent);\n    } catch (Exception e) {\n        System.err.println(\"ERROR: \" + e.getMessage());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":543727,"reputation":349,"user_id":912952,"accept_rate":80,"display_name":"Filipe Roberto"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1599072765,"creation_date":1599072765,"answer_id":63711908,"question_id":43487647,"body_markdown":"I could read some pdf files using this:\r\n\r\n        private final Singleton&lt;CIFSContext&gt; contextoDdetran = new Singleton&lt;&gt;() {\r\n            @Override\r\n            public CIFSContext inicializar() {\r\n                NtlmPasswordAuthenticator autenticador = new NtlmPasswordAuthenticator(smbDomain, smbUser, smbPassword);\r\n                return SingletonContext.getInstance().withCredentials(autenticador);\r\n            }\r\n        };\r\n    \r\n        public byte[] readSmbFile(String fileName) {\r\n            try {\r\n                SmbFile file = new SmbFile(fileName, this.contextoDdetran.get());\r\n                return file.getInputStream().readAllBytes();\r\n            } catch(Exception e) {\r\n                final String msgErro = String.format(&quot;Error reading file &#39;%s&#39;: %s&quot;, fileName, e.getMessage());\r\n                logger.error(msgErro, e);\r\n                throw new IllegalStateException(msgErro);\r\n            }\r\n        }","title":"Simplest way to read a file using jcifs","body":"<p>I could read some pdf files using this:</p>\n<pre><code>    private final Singleton&lt;CIFSContext&gt; contextoDdetran = new Singleton&lt;&gt;() {\n        @Override\n        public CIFSContext inicializar() {\n            NtlmPasswordAuthenticator autenticador = new NtlmPasswordAuthenticator(smbDomain, smbUser, smbPassword);\n            return SingletonContext.getInstance().withCredentials(autenticador);\n        }\n    };\n\n    public byte[] readSmbFile(String fileName) {\n        try {\n            SmbFile file = new SmbFile(fileName, this.contextoDdetran.get());\n            return file.getInputStream().readAllBytes();\n        } catch(Exception e) {\n            final String msgErro = String.format(&quot;Error reading file '%s': %s&quot;, fileName, e.getMessage());\n            logger.error(msgErro, e);\n            throw new IllegalStateException(msgErro);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":3164626,"reputation":332,"user_id":4723012,"accept_rate":93,"display_name":"Blaine"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25172,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":43487797,"answer_count":3,"score":3,"last_activity_date":1687849738,"creation_date":1492581875,"question_id":43487647,"body_markdown":"I am trying to read a file from a network share using the external [jcifs library][1]. Most sample codes I can find for reading files are quite complex, potentially unnecessarily so. I have found a simple way to *write* to a file as seen below. Is there a way to read a file using similar syntax?\r\n\r\n    SmbFile file= null;\r\n    try {\r\n        String url = &quot;smb://&quot;+serverAddress+&quot;/&quot;+sharename+&quot;/TEST.txt&quot;;\r\n        NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(null, username, password);\r\n        file = new SmbFile(url, auth);\r\n        SmbFileOutputStream out= new SmbFileOutputStream(file);\r\n        out.write(&quot;test string&quot;.getBytes());\r\n        out.flush();\r\n        out.close();\r\n    } catch(Exception e) {\r\n        JOptionPane.showMessageDialog(null, &quot;ERROR: &quot;+e);\r\n    }\r\n\r\n  [1]: https://jcifs.samba.org/","title":"Simplest way to read a file using jcifs","body":"<p>I am trying to read a file from a network share using the external <a href=\"https://jcifs.samba.org/\" rel=\"nofollow noreferrer\">jcifs library</a>. Most sample codes I can find for reading files are quite complex, potentially unnecessarily so. I have found a simple way to <em>write</em> to a file as seen below. Is there a way to read a file using similar syntax?</p>\n\n<pre><code>SmbFile file= null;\ntry {\n    String url = \"smb://\"+serverAddress+\"/\"+sharename+\"/TEST.txt\";\n    NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(null, username, password);\n    file = new SmbFile(url, auth);\n    SmbFileOutputStream out= new SmbFileOutputStream(file);\n    out.write(\"test string\".getBytes());\n    out.flush();\n    out.close();\n} catch(Exception e) {\n    JOptionPane.showMessageDialog(null, \"ERROR: \"+e);\n}\n</code></pre>\n"},{"tags":["java","jcifs"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1461153528,"post_id":2171822,"comment_id":61067456,"body_markdown":"In Oracle Java 8 this works without problems.","body":"In Oracle Java 8 this works without problems."}],"answers":[{"tags":[],"owner":{"account_id":36493,"reputation":11667,"user_id":104117,"accept_rate":89,"display_name":"Valentin Rocher"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1265626685,"creation_date":1264947420,"answer_id":2171964,"question_id":2171822,"body_markdown":"You should use [SmbFile][1] and [NtlmPasswordAuthentication][2] from [JCIFS][3]. Here is a simple piece of code to show you how to do :\r\n\r\n    String url = &quot;smb://yourhost/yourpath/&quot;;\r\n    NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(null, &quot;user&quot;, &quot;password&quot;);\r\n    SmbFile dir = new SmbFile(url, auth);\r\n    for (SmbFile f : dir.listFiles())\r\n    {\r\n        System.out.println(f.getName());\r\n    }\r\n\r\n  [1]: http://jcifs.samba.org/src/docs/api/jcifs/smb/SmbFile.html\r\n  [2]: http://jcifs.samba.org/src/docs/api/jcifs/smb/NtlmPasswordAuthentication.html\r\n  [3]: http://jcifs.samba.org/","title":"connecting to shared folder in windows with java","body":"<p>You should use <a href=\"http://jcifs.samba.org/src/docs/api/jcifs/smb/SmbFile.html\" rel=\"noreferrer\">SmbFile</a> and <a href=\"http://jcifs.samba.org/src/docs/api/jcifs/smb/NtlmPasswordAuthentication.html\" rel=\"noreferrer\">NtlmPasswordAuthentication</a> from <a href=\"http://jcifs.samba.org/\" rel=\"noreferrer\">JCIFS</a>. Here is a simple piece of code to show you how to do :</p>\n\n<pre><code>String url = \"smb://yourhost/yourpath/\";\nNtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(null, \"user\", \"password\");\nSmbFile dir = new SmbFile(url, auth);\nfor (SmbFile f : dir.listFiles())\n{\n    System.out.println(f.getName());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6283320,"reputation":21,"user_id":4883529,"display_name":"avi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1435729908,"creation_date":1435729908,"answer_id":31153460,"question_id":2171822,"body_markdown":"If you are accessing open shared folders (i.e. username or password are not known or required),then you can follow the code below :\r\n\r\n    String path=&quot;smb://172.16.0.11/&quot;;\r\n    \r\n    SmbFile smbFile = new SmbFile(path);\r\n    String a[]=smbFile.list();\r\n    for(int i=0;i&lt;a.length;i++)\r\n    {\r\n        System.out.println(a[i]);\r\n    }","title":"connecting to shared folder in windows with java","body":"<p>If you are accessing open shared folders (i.e. username or password are not known or required),then you can follow the code below :</p>\n\n<pre><code>String path=\"smb://172.16.0.11/\";\n\nSmbFile smbFile = new SmbFile(path);\nString a[]=smbFile.list();\nfor(int i=0;i&lt;a.length;i++)\n{\n    System.out.println(a[i]);\n}\n</code></pre>\n"}],"owner":{"account_id":96797,"reputation":1039,"user_id":262910,"accept_rate":24,"display_name":"SShehab"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76541,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":2171964,"answer_count":2,"score":28,"last_activity_date":1687849439,"creation_date":1264944799,"question_id":2171822,"body_markdown":"I need to connect to a shared folder on a remote windows machine through java , where i put my domain authentication (username and password ) in the code , here is my code \r\n\r\n     File file = new File(&quot;\\\\\\\\theRemoteIP\\\\webapps&quot;);   \r\n        File[] files = file.listFiles();  \r\n        System.out.println(&quot;access done&quot;);  \r\n  \r\n        for (int i = 0; i &lt; files.length; i++)  \r\n        {  \r\n            String name = files[i].getName();  \r\n            System.out.println(name);  \r\n        }  \r\n\r\nThanks\r\n\r\n","title":"connecting to shared folder in windows with java","body":"<p>I need to connect to a shared folder on a remote windows machine through java , where i put my domain authentication (username and password ) in the code , here is my code</p>\n<pre><code> File file = new File(&quot;\\\\\\\\theRemoteIP\\\\webapps&quot;);   \n    File[] files = file.listFiles();  \n    System.out.println(&quot;access done&quot;);  \n\n    for (int i = 0; i &lt; files.length; i++)  \n    {  \n        String name = files[i].getName();  \n        System.out.println(name);  \n    }  \n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","cifs","jcifs"],"answers":[{"tags":[],"owner":{"account_id":8651915,"reputation":188,"user_id":6477292,"accept_rate":67,"display_name":"fudge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675971300,"creation_date":1675971300,"answer_id":75403592,"question_id":26791991,"body_markdown":"I fought with this for over an hour but was finally able to get it working using the full URL string as opposed to the NtlmPasswordAuthentication object. I can&#39;t say why this is the case, but potentially it&#39;s doing some weird stuff to the username and/or password before passing it into the connection string. \r\n\r\nIn case anyone needs it, here is the URL format I used, which included the domain:\r\n\r\n    smb://domain;username:password@server/share/path","title":"jCIFS can&#39;t seem to authenticate","body":"<p>I fought with this for over an hour but was finally able to get it working using the full URL string as opposed to the NtlmPasswordAuthentication object. I can't say why this is the case, but potentially it's doing some weird stuff to the username and/or password before passing it into the connection string.</p>\n<p>In case anyone needs it, here is the URL format I used, which included the domain:</p>\n<pre><code>smb://domain;username:password@server/share/path\n</code></pre>\n"}],"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3778,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1687849177,"creation_date":1415319961,"question_id":26791991,"body_markdown":"I was starting to benchmark how much performance we&#39;d lose by using jCIFS instead of requiring our users to map drives manually themselves, but then I found that I couldn&#39;t even pass the first basic test of reading data from a file using jCIFS.\r\n\r\nI boiled down my issue to a test problem:\r\n\r\n    import java.io.OutputStream;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    \r\n    import com.google.common.io.ByteStreams;\r\n    import jcifs.smb.NtlmPasswordAuthentication;\r\n    import jcifs.smb.SmbFile;\r\n    \r\n    public class TestCifs\r\n    {\r\n        public static void main(String[] args) throws Exception\r\n        {\r\n            OutputStream output = ByteStreams.nullOutputStream();\r\n    \r\n            String domain = &quot;&quot;; // have tried the actual name too\r\n            String user = &quot;&lt;your_user_here&gt;&quot;;\r\n            String pass = &quot;&lt;your_pass_here&gt;&quot;;\r\n    \r\n            String relativePath = &quot;path/to/100MiB&quot;;\r\n    \r\n            // Read via UNC path (Windows doing the SMB work.)\r\n            Path uncFile = Paths.get(&quot;\\\\\\\\192.168.1.66\\\\Shared&quot;, relativePath);\r\n            Files.copy(uncFile, output);\r\n    \r\n            // Read via jCIFS\r\n            //TODO: Figure out if this is a real URL in which case we&#39;d have to escape stuff.\r\n            SmbFile smbFile = new SmbFile(&quot;smb://192.168.1.66/Shared/&quot; + relativePath,\r\n                                          new NtlmPasswordAuthentication(domain, user, pass));\r\n            ByteStreams.copy(smbFile.getInputStream(), output);\r\n        }\r\n    }\r\n\r\nIf I run this, it runs past the direct copy and then the jCIFS copy fails with:\r\n\r\n    Exception in thread &quot;main&quot; jcifs.smb.SmbAuthException: Logon failure: unknown user name or bad password.\r\n    \tat jcifs.smb.SmbTransport.checkStatus(SmbTransport.java:546)\r\n    \tat jcifs.smb.SmbTransport.send(SmbTransport.java:663)\r\n    \tat jcifs.smb.SmbSession.sessionSetup(SmbSession.java:390)\r\n    \tat jcifs.smb.SmbSession.send(SmbSession.java:218)\r\n    \tat jcifs.smb.SmbTree.treeConnect(SmbTree.java:176)\r\n    \tat jcifs.smb.SmbFile.doConnect(SmbFile.java:911)\r\n    \tat jcifs.smb.SmbFile.connect(SmbFile.java:954)\r\n    \tat jcifs.smb.SmbFile.connect0(SmbFile.java:880)\r\n    \tat jcifs.smb.SmbFile.open0(SmbFile.java:972)\r\n    \tat jcifs.smb.SmbFile.open(SmbFile.java:1006)\r\n    \tat jcifs.smb.SmbFileInputStream.&lt;init&gt;(SmbFileInputStream.java:73)\r\n    \tat jcifs.smb.SmbFileInputStream.&lt;init&gt;(SmbFileInputStream.java:65)\r\n    \tat jcifs.smb.SmbFile.getInputStream(SmbFile.java:2844)\r\n    \tat TestCifs.main(TestCifs.java:33)\r\n\r\nThe username and password I provided in user/pass are the same ones I used when authenticating with the server to mount its directory via Windows. I also tried using the name of the server as the domain to no effect. I&#39;m really at a loss with this one and am about to look at something like Wireshark to figure out what is actually going wrong but maybe I&#39;m doing something obviously wrong and someone here can point that out.\r\n\r\nThis is probably the relevant bit from jCIFS&#39; own diagnostics for the failed login:\r\n\r\n    treeConnect: unc=\\\\192.168.1.66\\SHARED,service=?????\r\n    sessionSetup: accountName=TESTER,primaryDomain=\r\n    NtlmContext[auth=TESTER,ntlmsspFlags=0x20080004,workstation=JCIFS1_183_42,isEstablished=false,state=1,serverChallenge=null,signingKey=null]\r\n    Type1Message[suppliedDomain=,suppliedWorkstation=JCIFS1_183_42,flags=0x20080205]\r\n    00000: 4E 54 4C 4D 53 53 50 00 01 00 00 00 05 22 08 20  |NTLMSSP......&quot;. |\r\n    00010: 00 00 00 00 00 00 00 00 0D 00 0D 00 20 00 00 00  |............ ...|\r\n    00020: 4A 43 49 46 53 31 5F 31 38 33 5F 34 32           |JCIFS1_183_42   |\r\n    \r\n    SmbComSessionSetupAndX[command=SMB_COM_SESSION_SETUP_ANDX,received=false,errorCode=0,flags=0x0018,flags2=0xC803,signSeq=0,tid=0,pid=21886,uid=0,mid=2,wordCount=12,byteCount=77,andxCommand=0xFF,andxOffset=0,snd_buf_size=16644,maxMpxCount=10,VC_NUMBER=1,sessionKey=0,lmHash.length=0,ntHash.length=0,capabilities=-2147483564,accountName=null,primaryDomain=null,NATIVE_OS=Windows 8,NATIVE_LANMAN=jCIFS]\r\n    00000: FF 53 4D 42 73 00 00 00 00 18 03 C8 00 00 00 00  |&#255;SMBs......&#200;....|\r\n    00010: 00 00 00 00 00 00 00 00 00 00 7E 55 00 00 02 00  |..........~U....|\r\n    00020: 0C FF 00 DE DE 04 41 0A 00 01 00 00 00 00 00 2D  |.&#255;.&#222;&#222;.A........-|\r\n    00030: 00 00 00 00 00 54 00 00 80 4D 00 4E 54 4C 4D 53  |.....T...M.NTLMS|\r\n    00040: 53 50 00 01 00 00 00 05 22 08 20 00 00 00 00 00  |SP......&quot;. .....|\r\n    00050: 00 00 00 0D 00 0D 00 20 00 00 00 4A 43 49 46 53  |....... ...JCIFS|\r\n    00060: 31 5F 31 38 33 5F 34 32 57 00 69 00 6E 00 64 00  |1_183_42W.i.n.d.|\r\n    00070: 6F 00 77 00 73 00 20 00 38 00 00 00 6A 00 43 00  |o.w.s. .8...j.C.|\r\n    00080: 49 00 46 00 53 00 00 00                          |I.F.S...        |\r\n\r\n    New data read: Transport1[0.0.0.0&lt;00&gt;/192.168.1.66:445]\r\n    00000: FF 53 4D 42 73 6D 00 00 C0 80 41 C8 00 00 00 00  |&#255;SMBsm..&#192;.A&#200;....|\r\n    00010: 00 00 00 00 00 00 00 00 00 00 7E 55 00 00 02 00  |..........~U....|\r\n    \r\n    SmbComSessionSetupAndXResponse[command=SMB_COM_SESSION_SETUP_ANDX,received=false,errorCode=Logon failure: unknown user name or bad password.,flags=0x0080,flags2=0xC841,signSeq=0,tid=0,pid=21886,uid=0,mid=2,wordCount=0,byteCount=0,andxCommand=0xFF,andxOffset=0,isLoggedInAsGuest=false,nativeOs=,nativeLanMan=,primaryDomain=]\r\n    00000: FF 53 4D 42 73 6D 00 00 C0 80 41 C8 00 00 00 00  |&#255;SMBsm..&#192;.A&#200;....|\r\n    00010: 00 00 00 00 00 00 00 00 00 00 7E 55 00 00 02 00  |..........~U....|\r\n    00020: 00 00 00                                         |...             |\r\n\r\nIt seems like it isn&#39;t putting the username into the message at all, so maybe I&#39;m looking at a bug, but if it&#39;s really doing this, surely it would have been noticed by someone else before...\r\n\r\nWorkarounds already attempted:\r\n\r\n* Putting authentication info into the URL instead of the auth object.\r\n* Calling SmbSession.logon before trying to access the SmbFile. In this situation, you just get the error from logon instead.\r\n* Setting a default authenticator using NtlmAuthenticator.setDefault(). In this situation, you see it call the authenticator to get the auth details but then seemingly throw away the info and make the request with no username.\r\n","title":"jCIFS can&#39;t seem to authenticate","body":"<p>I was starting to benchmark how much performance we'd lose by using jCIFS instead of requiring our users to map drives manually themselves, but then I found that I couldn't even pass the first basic test of reading data from a file using jCIFS.</p>\n\n<p>I boiled down my issue to a test problem:</p>\n\n<pre><code>import java.io.OutputStream;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\nimport com.google.common.io.ByteStreams;\nimport jcifs.smb.NtlmPasswordAuthentication;\nimport jcifs.smb.SmbFile;\n\npublic class TestCifs\n{\n    public static void main(String[] args) throws Exception\n    {\n        OutputStream output = ByteStreams.nullOutputStream();\n\n        String domain = \"\"; // have tried the actual name too\n        String user = \"&lt;your_user_here&gt;\";\n        String pass = \"&lt;your_pass_here&gt;\";\n\n        String relativePath = \"path/to/100MiB\";\n\n        // Read via UNC path (Windows doing the SMB work.)\n        Path uncFile = Paths.get(\"\\\\\\\\192.168.1.66\\\\Shared\", relativePath);\n        Files.copy(uncFile, output);\n\n        // Read via jCIFS\n        //TODO: Figure out if this is a real URL in which case we'd have to escape stuff.\n        SmbFile smbFile = new SmbFile(\"smb://192.168.1.66/Shared/\" + relativePath,\n                                      new NtlmPasswordAuthentication(domain, user, pass));\n        ByteStreams.copy(smbFile.getInputStream(), output);\n    }\n}\n</code></pre>\n\n<p>If I run this, it runs past the direct copy and then the jCIFS copy fails with:</p>\n\n<pre><code>Exception in thread \"main\" jcifs.smb.SmbAuthException: Logon failure: unknown user name or bad password.\n    at jcifs.smb.SmbTransport.checkStatus(SmbTransport.java:546)\n    at jcifs.smb.SmbTransport.send(SmbTransport.java:663)\n    at jcifs.smb.SmbSession.sessionSetup(SmbSession.java:390)\n    at jcifs.smb.SmbSession.send(SmbSession.java:218)\n    at jcifs.smb.SmbTree.treeConnect(SmbTree.java:176)\n    at jcifs.smb.SmbFile.doConnect(SmbFile.java:911)\n    at jcifs.smb.SmbFile.connect(SmbFile.java:954)\n    at jcifs.smb.SmbFile.connect0(SmbFile.java:880)\n    at jcifs.smb.SmbFile.open0(SmbFile.java:972)\n    at jcifs.smb.SmbFile.open(SmbFile.java:1006)\n    at jcifs.smb.SmbFileInputStream.&lt;init&gt;(SmbFileInputStream.java:73)\n    at jcifs.smb.SmbFileInputStream.&lt;init&gt;(SmbFileInputStream.java:65)\n    at jcifs.smb.SmbFile.getInputStream(SmbFile.java:2844)\n    at TestCifs.main(TestCifs.java:33)\n</code></pre>\n\n<p>The username and password I provided in user/pass are the same ones I used when authenticating with the server to mount its directory via Windows. I also tried using the name of the server as the domain to no effect. I'm really at a loss with this one and am about to look at something like Wireshark to figure out what is actually going wrong but maybe I'm doing something obviously wrong and someone here can point that out.</p>\n\n<p>This is probably the relevant bit from jCIFS' own diagnostics for the failed login:</p>\n\n<pre><code>treeConnect: unc=\\\\192.168.1.66\\SHARED,service=?????\nsessionSetup: accountName=TESTER,primaryDomain=\nNtlmContext[auth=TESTER,ntlmsspFlags=0x20080004,workstation=JCIFS1_183_42,isEstablished=false,state=1,serverChallenge=null,signingKey=null]\nType1Message[suppliedDomain=,suppliedWorkstation=JCIFS1_183_42,flags=0x20080205]\n00000: 4E 54 4C 4D 53 53 50 00 01 00 00 00 05 22 08 20  |NTLMSSP......\". |\n00010: 00 00 00 00 00 00 00 00 0D 00 0D 00 20 00 00 00  |............ ...|\n00020: 4A 43 49 46 53 31 5F 31 38 33 5F 34 32           |JCIFS1_183_42   |\n\nSmbComSessionSetupAndX[command=SMB_COM_SESSION_SETUP_ANDX,received=false,errorCode=0,flags=0x0018,flags2=0xC803,signSeq=0,tid=0,pid=21886,uid=0,mid=2,wordCount=12,byteCount=77,andxCommand=0xFF,andxOffset=0,snd_buf_size=16644,maxMpxCount=10,VC_NUMBER=1,sessionKey=0,lmHash.length=0,ntHash.length=0,capabilities=-2147483564,accountName=null,primaryDomain=null,NATIVE_OS=Windows 8,NATIVE_LANMAN=jCIFS]\n00000: FF 53 4D 42 73 00 00 00 00 18 03 C8 00 00 00 00  |SMBs..........|\n00010: 00 00 00 00 00 00 00 00 00 00 7E 55 00 00 02 00  |..........~U....|\n00020: 0C FF 00 DE DE 04 41 0A 00 01 00 00 00 00 00 2D  |...A........-|\n00030: 00 00 00 00 00 54 00 00 80 4D 00 4E 54 4C 4D 53  |.....T...M.NTLMS|\n00040: 53 50 00 01 00 00 00 05 22 08 20 00 00 00 00 00  |SP......\". .....|\n00050: 00 00 00 0D 00 0D 00 20 00 00 00 4A 43 49 46 53  |....... ...JCIFS|\n00060: 31 5F 31 38 33 5F 34 32 57 00 69 00 6E 00 64 00  |1_183_42W.i.n.d.|\n00070: 6F 00 77 00 73 00 20 00 38 00 00 00 6A 00 43 00  |o.w.s. .8...j.C.|\n00080: 49 00 46 00 53 00 00 00                          |I.F.S...        |\n\nNew data read: Transport1[0.0.0.0&lt;00&gt;/192.168.1.66:445]\n00000: FF 53 4D 42 73 6D 00 00 C0 80 41 C8 00 00 00 00  |SMBsm...A....|\n00010: 00 00 00 00 00 00 00 00 00 00 7E 55 00 00 02 00  |..........~U....|\n\nSmbComSessionSetupAndXResponse[command=SMB_COM_SESSION_SETUP_ANDX,received=false,errorCode=Logon failure: unknown user name or bad password.,flags=0x0080,flags2=0xC841,signSeq=0,tid=0,pid=21886,uid=0,mid=2,wordCount=0,byteCount=0,andxCommand=0xFF,andxOffset=0,isLoggedInAsGuest=false,nativeOs=,nativeLanMan=,primaryDomain=]\n00000: FF 53 4D 42 73 6D 00 00 C0 80 41 C8 00 00 00 00  |SMBsm...A....|\n00010: 00 00 00 00 00 00 00 00 00 00 7E 55 00 00 02 00  |..........~U....|\n00020: 00 00 00                                         |...             |\n</code></pre>\n\n<p>It seems like it isn't putting the username into the message at all, so maybe I'm looking at a bug, but if it's really doing this, surely it would have been noticed by someone else before...</p>\n\n<p>Workarounds already attempted:</p>\n\n<ul>\n<li>Putting authentication info into the URL instead of the auth object.</li>\n<li>Calling SmbSession.logon before trying to access the SmbFile. In this situation, you just get the error from logon instead.</li>\n<li>Setting a default authenticator using NtlmAuthenticator.setDefault(). In this situation, you see it call the authenticator to get the auth details but then seemingly throw away the info and make the request with no username.</li>\n</ul>\n"},{"tags":["java","android-studio","jcifs"],"answers":[{"tags":[],"owner":{"account_id":1759832,"reputation":2022,"user_id":1607249,"accept_rate":10,"display_name":"Theo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1652279616,"creation_date":1652279616,"answer_id":72202913,"question_id":72068321,"body_markdown":"Now working with the following added into build.gradle:\r\n\r\n    implementation files(&#39;libs/jcifs-2.1.29.jar&#39;)\r\n    implementation files(&#39;libs/slf4j-api-1.7.30.jar&#39;) \r\n    implementation &#39;org.bouncycastle:bcprov-jdk15on:1.68&#39;","title":"Implementing latest version of JCIFS","body":"<p>Now working with the following added into build.gradle:</p>\n<pre><code>implementation files('libs/jcifs-2.1.29.jar')\nimplementation files('libs/slf4j-api-1.7.30.jar') \nimplementation 'org.bouncycastle:bcprov-jdk15on:1.68'\n</code></pre>\n"}],"owner":{"account_id":1759832,"reputation":2022,"user_id":1607249,"accept_rate":10,"display_name":"Theo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1332,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687848986,"creation_date":1651319895,"question_id":72068321,"body_markdown":"Trying to update my app from jcifs-1.3.19 to the latest jcifs-2.1.29\r\nI have changed the appropriate  code, adding the &quot;necessary&quot; jars to build.gradle\r\n\r\n    &lt;see answer below&gt;\r\n\r\n but keep getting the same error\r\n     Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Lorg/bouncycastle/asn1/ASN1ObjectIdentifier;\r\n\r\nFound a number of references, implemented  their suggested solutions to no avail.\r\n What is missing??\r\n\r\n\r\njava -version\r\njava version &quot;18.0.1&quot; 2022-04-19\r\nJava(TM) SE Runtime Environment (build 18.0.1+10-24)\r\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.1+10-24, mixed mode, sharing)\r\n\r\nJAVA_HOME=C:\\Program Files\\Common Files\\Oracle\\Java\\javapath\r\n\r\nAndroid Studio Gradle:\r\n\r\n      //  implementation files(&#39;libs/jcifs-1.3.19.jar&#39;) moving from V1 to V2\r\n        implementation files(&#39;libs/jcifs-2.1.29.jar&#39;)  \r\n        implementation files(&#39;libs/bcprov-jdk18on-171&#39;)\r\n        implementation files(&#39;libs/bcutil-jdk18on-171&#39;)\r\n        implementation files(&#39;libs/slf4j-api-1.7.30.jar&#39;)\r\n\r\n\r\n\r\n\r\n\tpublic CIFSContext getcredentials(String user, String password){\r\n\t\tNtlmPasswordAuthenticator sourceAuth = new NtlmPasswordAuthenticator(&quot;&quot;,\r\n\t\t\t\tuser, password);\r\n\t\tProperties properties = new Properties();\r\n\t\tproperties.setProperty(&quot;jcifs.smb.client.responseTimeout&quot;, &quot;5000&quot;);\r\n\t\tPropertyConfiguration configuration = null;\r\n\t\ttry {\r\n\t\t\tconfiguration = new PropertyConfiguration(properties);\r\n\t\t} catch (CIFSException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tCIFSContext cifsContext = new BaseContext(configuration).withCredentials(sourceAuth);\r\n\t\treturn cifsContext;\r\n\t}\r\n\r\n\r\n\r\nCode to connect to pc: \r\n\r\n        \r\n\r\n    String username = getusername();\r\n            String password= getpassword();\r\n    \r\n            CIFSContext cifsContext = general.getcredentials(username,password );\r\n            String[] shares;\r\n            sharelist.clear();\r\n            try {\r\n                SmbFile server = new SmbFile(&quot;smb://&quot; + ip, cifsContext);  // value for server: &quot;smb://192.168.0.38&quot;\r\n               if( server.exists()) {\t\t\t// yes as it continues\r\n                   try {\r\n                       shares = server.list();  // this is where it crashes      Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Lorg/bouncycastle/asn1/ASN1ObjectIdentifier;\r\n                       for (String s : shares) {\r\n                           if (!s.contains(&quot;$&quot;)) {\r\n                               sharelist.add(s);\r\n                               op.success = true;\r\n                           }\r\n                           //  System.out.println(s);\r\n                       }\r\n                   } catch (SmbException e) {\r\n                       e.printStackTrace();\r\n                   }\r\n               }\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n                op.an_error=e.getMessage().toString();\r\n    \r\n            } catch (SmbException e) {\r\n                e.printStackTrace();\r\n                op.an_error=e.getMessage().toString();\r\n            }\r\n\r\nAdditional:\r\n[https://www.baeldung.com/java-bouncy-castle][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-bouncy-castle","title":"Implementing latest version of JCIFS","body":"<p>Trying to update my app from jcifs-1.3.19 to the latest jcifs-2.1.29\nI have changed the appropriate  code, adding the &quot;necessary&quot; jars to build.gradle</p>\n<pre><code>&lt;see answer below&gt;\n</code></pre>\n<p>but keep getting the same error\nCaused by: java.lang.NoClassDefFoundError: Failed resolution of: Lorg/bouncycastle/asn1/ASN1ObjectIdentifier;</p>\n<p>Found a number of references, implemented  their suggested solutions to no avail.\nWhat is missing??</p>\n<p>java -version\njava version &quot;18.0.1&quot; 2022-04-19\nJava(TM) SE Runtime Environment (build 18.0.1+10-24)\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.1+10-24, mixed mode, sharing)</p>\n<p>JAVA_HOME=C:\\Program Files\\Common Files\\Oracle\\Java\\javapath</p>\n<p>Android Studio Gradle:</p>\n<pre><code>  //  implementation files('libs/jcifs-1.3.19.jar') moving from V1 to V2\n    implementation files('libs/jcifs-2.1.29.jar')  \n    implementation files('libs/bcprov-jdk18on-171')\n    implementation files('libs/bcutil-jdk18on-171')\n    implementation files('libs/slf4j-api-1.7.30.jar')\n\n\n\n\npublic CIFSContext getcredentials(String user, String password){\n    NtlmPasswordAuthenticator sourceAuth = new NtlmPasswordAuthenticator(&quot;&quot;,\n            user, password);\n    Properties properties = new Properties();\n    properties.setProperty(&quot;jcifs.smb.client.responseTimeout&quot;, &quot;5000&quot;);\n    PropertyConfiguration configuration = null;\n    try {\n        configuration = new PropertyConfiguration(properties);\n    } catch (CIFSException e) {\n        e.printStackTrace();\n    }\n    CIFSContext cifsContext = new BaseContext(configuration).withCredentials(sourceAuth);\n    return cifsContext;\n}\n</code></pre>\n<p>Code to connect to pc:</p>\n<pre><code>String username = getusername();\n        String password= getpassword();\n\n        CIFSContext cifsContext = general.getcredentials(username,password );\n        String[] shares;\n        sharelist.clear();\n        try {\n            SmbFile server = new SmbFile(&quot;smb://&quot; + ip, cifsContext);  // value for server: &quot;smb://192.168.0.38&quot;\n           if( server.exists()) {           // yes as it continues\n               try {\n                   shares = server.list();  // this is where it crashes      Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Lorg/bouncycastle/asn1/ASN1ObjectIdentifier;\n                   for (String s : shares) {\n                       if (!s.contains(&quot;$&quot;)) {\n                           sharelist.add(s);\n                           op.success = true;\n                       }\n                       //  System.out.println(s);\n                   }\n               } catch (SmbException e) {\n                   e.printStackTrace();\n               }\n           }\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n            op.an_error=e.getMessage().toString();\n\n        } catch (SmbException e) {\n            e.printStackTrace();\n            op.an_error=e.getMessage().toString();\n        }\n</code></pre>\n<p>Additional:\n<a href=\"https://www.baeldung.com/java-bouncy-castle\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-bouncy-castle</a></p>\n"},{"tags":["java","swing","popup","mouseover","joptionpane"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1373067070,"post_id":17498038,"comment_id":25435917,"body_markdown":"Have you taken a look at [How to use tool tips](http://docs.oracle.com/javase/tutorial/uiswing/components/tooltip.html)?","body":"Have you taken a look at <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/tooltip.html\" rel=\"nofollow noreferrer\">How to use tool tips</a>?"},{"owner":{"account_id":3011885,"reputation":1,"user_id":2555186,"display_name":"jFisky"},"score":0,"creation_date":1373068705,"post_id":17498038,"comment_id":25436231,"body_markdown":"@MadProgrammer Just checked it out, and since my objects aren&#39;t `JComponent`s, it&#39;s no dice.","body":"@MadProgrammer Just checked it out, and since my objects aren&#39;t <code>JComponent</code>s, it&#39;s no dice."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1373071719,"post_id":17498038,"comment_id":25436728,"body_markdown":"What are they.............?","body":"What are they.............?"},{"owner":{"account_id":3011885,"reputation":1,"user_id":2555186,"display_name":"jFisky"},"score":0,"creation_date":1373082934,"post_id":17498038,"comment_id":25438209,"body_markdown":"@MadProgrammer They were originally objects that extended `GRect` from the `acm` library, but then I changed them to extend `JComponent` to allow for the `setToolTipText` method to work. But now I can&#39;t figure out how to designate a certain area for the objects (i.e. an area which, if entered, will get the object&#39;s tool tip to display)","body":"@MadProgrammer They were originally objects that extended <code>GRect</code> from the <code>acm</code> library, but then I changed them to extend <code>JComponent</code> to allow for the <code>setToolTipText</code> method to work. But now I can&#39;t figure out how to designate a certain area for the objects (i.e. an area which, if entered, will get the object&#39;s tool tip to display)"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1373086135,"post_id":17498038,"comment_id":25438682,"body_markdown":"`JComponent` provides `getToolTipText(MouseEvent)` method, which should allow you to specify a custom tool tip for a given location. Try taking a look at [this example](http://stackoverflow.com/questions/17497757/java-how-to-set-settooltiptext-for-jframe/17497806#17497806)","body":"<code>JComponent</code> provides <code>getToolTipText(MouseEvent)</code> method, which should allow you to specify a custom tool tip for a given location. Try taking a look at <a href=\"http://stackoverflow.com/questions/17497757/java-how-to-set-settooltiptext-for-jframe/17497806#17497806\">this example</a>"}],"owner":{"account_id":3011885,"reputation":1,"user_id":2555186,"display_name":"jFisky"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1084,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687848918,"creation_date":1373066542,"question_id":17498038,"body_markdown":"For an application I&#39;m building in Java, I&#39;m trying to get my program to display a pop-up message when certain objects are hovered over with the mouse. I know how to use `mouseEntered()` and `mouseExited()` for knowing if the objects are being hovered over, but I don&#39;t know how to actually display the pop-up message itself.\r\n\r\nI was thinking of using a `JOptionPane`, but have no idea how to close the pop-up without the user having to manually close it. Any input would be greatly appreciated.\r\n\r\nThanks","title":"Mouse-over pop-up in Java","body":"<p>For an application I'm building in Java, I'm trying to get my program to display a pop-up message when certain objects are hovered over with the mouse. I know how to use <code>mouseEntered()</code> and <code>mouseExited()</code> for knowing if the objects are being hovered over, but I don't know how to actually display the pop-up message itself.</p>\n\n<p>I was thinking of using a <code>JOptionPane</code>, but have no idea how to close the pop-up without the user having to manually close it. Any input would be greatly appreciated.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","kotlin","log4j2","slf4j","ktor"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687851723,"post_id":76562293,"comment_id":134990680,"body_markdown":"What&#39;s an example of an unwanted message?","body":"What&#39;s an example of an unwanted message?"},{"owner":{"account_id":8682310,"reputation":25,"user_id":6497769,"display_name":"Vishal Jain"},"score":0,"creation_date":1688022472,"post_id":76562293,"comment_id":135018486,"body_markdown":"@tgdavies sharing an example\n```[MaintenanceTimer-4-thread-1] INFO org.mongodb.driver.connection - Opened connection [connectionId{localValue:25, serverValue:57547}]\n```","body":"@tgdavies sharing an example <code>[MaintenanceTimer-4-thread-1] INFO org.mongodb.driver.connection - Opened connection [connectionId{localValue:25, serverValue:57547}] </code>"}],"owner":{"account_id":8682310,"reputation":25,"user_id":6497769,"display_name":"Vishal Jain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687848886,"creation_date":1687848886,"question_id":76562293,"body_markdown":"I am trying to disable the mongodb connection logs on my application but not able to do it with the below configuration in log4j2.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;INFO&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;debug&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n        &lt;/Root&gt;\r\n        &lt;Logger name=&quot;org.mongodb.driver&quot; level=&quot;OFF&quot;/&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nApplication is ktor server application\r\nDependecies used for loggers are:\r\n```\r\ndependencies {\r\n    implementation &#39;org.slf4j:slf4j-simple:2.0.5&#39;\r\n    implementation &#39;org.slf4j:slf4j-api:2.0.5&#39;\r\n    implementation &#39;org.apache.logging.log4j:log4j-core:2.19.0&#39;\r\n}\r\n```\r\n\r\n","title":"Unable to silence mongoDB connection logs from log4j2 xml properties","body":"<p>I am trying to disable the mongodb connection logs on my application but not able to do it with the below configuration in log4j2.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;INFO&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;debug&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Root&gt;\n        &lt;Logger name=&quot;org.mongodb.driver&quot; level=&quot;OFF&quot;/&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>Application is ktor server application\nDependecies used for loggers are:</p>\n<pre><code>dependencies {\n    implementation 'org.slf4j:slf4j-simple:2.0.5'\n    implementation 'org.slf4j:slf4j-api:2.0.5'\n    implementation 'org.apache.logging.log4j:log4j-core:2.19.0'\n}\n</code></pre>\n"},{"tags":["java","spring-boot","intellij-idea","pact"],"answers":[{"tags":[],"owner":{"account_id":28881810,"reputation":41,"user_id":22121151,"display_name":"Subhojit-Dey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687848632,"creation_date":1687848632,"answer_id":76562262,"question_id":76541719,"body_markdown":"Problem is solved. Updating the gradle to 7.5+ solves the issue.","title":"Pact Testing in Spring Boot | Error in installing the au.com.dius.pact:consumer:4.6.1 in Intellij","body":"<p>Problem is solved. Updating the gradle to 7.5+ solves the issue.</p>\n"}],"owner":{"account_id":28881810,"reputation":41,"user_id":22121151,"display_name":"Subhojit-Dey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76562262,"answer_count":1,"score":2,"last_activity_date":1687848632,"creation_date":1687535703,"question_id":76541719,"body_markdown":"I am trying to learn `Pact Testing` but I am having issue in installing `au.com.dius.pact:consumer:4.6.1` in `Intellij`.\r\n\r\n\r\n I am using gradle for the build.\r\n\r\nI am using this thing in the `build.gradle` file\r\n\r\n    implementation &#39;au.com.dius.pact.consumer:junit5:4.6.1&#39;\r\n\r\n\r\nI have tried with different versions but no luck. I am having hard time. It will be helpful if anyone can help.\r\n\r\n","title":"Pact Testing in Spring Boot | Error in installing the au.com.dius.pact:consumer:4.6.1 in Intellij","body":"<p>I am trying to learn <code>Pact Testing</code> but I am having issue in installing <code>au.com.dius.pact:consumer:4.6.1</code> in <code>Intellij</code>.</p>\n<p>I am using gradle for the build.</p>\n<p>I am using this thing in the <code>build.gradle</code> file</p>\n<pre><code>implementation 'au.com.dius.pact.consumer:junit5:4.6.1'\n</code></pre>\n<p>I have tried with different versions but no luck. I am having hard time. It will be helpful if anyone can help.</p>\n"},{"tags":["java","python","smb"],"comments":[{"owner":{"account_id":11006477,"reputation":2761,"user_id":8085234,"display_name":"BoboDarph"},"score":0,"creation_date":1516100544,"post_id":48277886,"comment_id":83542873,"body_markdown":"Depending on which properties you need to read off a shared file, and if you only need to use it as a client, pysmb might be a good choice https://github.com/miketeo/pysmb The SharedFile class should give you found file properties: http://pysmb.readthedocs.io/en/latest/api/smb_SharedFile.html","body":"Depending on which properties you need to read off a shared file, and if you only need to use it as a client, pysmb might be a good choice <a href=\"https://github.com/miketeo/pysmb\" rel=\"nofollow noreferrer\">github.com/miketeo/pysmb</a> The SharedFile class should give you found file properties: <a href=\"http://pysmb.readthedocs.io/en/latest/api/smb_SharedFile.html\" rel=\"nofollow noreferrer\">pysmb.readthedocs.io/en/latest/api/smb_SharedFile.html</a>"},{"owner":{"account_id":1507086,"reputation":1685,"user_id":1410225,"accept_rate":69,"display_name":"zuckermanori"},"score":0,"creation_date":1516171876,"post_id":48277886,"comment_id":83574871,"body_markdown":"Thank you @BoboDarph but pysmb only support dialects 1 and 2 and i mentioned the requirement to support all SMB dialects.","body":"Thank you @BoboDarph but pysmb only support dialects 1 and 2 and i mentioned the requirement to support all SMB dialects."},{"owner":{"account_id":95872,"reputation":17489,"user_id":260885,"display_name":"Hiery Nomus"},"score":0,"creation_date":1519994741,"post_id":48277886,"comment_id":85143733,"body_markdown":"The SMB3 and 3.1.1 dialects don&#39;t improve on those APIs, so in effect, SMB2 support is enough. SMB2 is a rewrite of SMB1, but SMB2.002, SMB2.1, SMB3.0 and SMB3.1.1 are all dialects (with specific improvements) over SMB2, but all use the same packets. So smbj should just work for you. Unless the server you&#39;re connecting to has explicitly disabled SMB2 or SMB2.1 as a dialect.","body":"The SMB3 and 3.1.1 dialects don&#39;t improve on those APIs, so in effect, SMB2 support is enough. SMB2 is a rewrite of SMB1, but SMB2.002, SMB2.1, SMB3.0 and SMB3.1.1 are all dialects (with specific improvements) over SMB2, but all use the same packets. So smbj should just work for you. Unless the server you&#39;re connecting to has explicitly disabled SMB2 or SMB2.1 as a dialect."}],"answers":[{"tags":[],"owner":{"account_id":5032361,"reputation":66,"user_id":4042176,"display_name":"lechbrush"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516102005,"creation_date":1516102005,"answer_id":48280178,"question_id":48277886,"body_markdown":"If you are running Windows and the user running the program has access to the share, you could do it just by using java.nio. Java.nio allows you to access SMB shares.\r\n\r\n    Path path = Paths.get(&lt;SharedFile&gt;);\r\n    AclFileAttributeView aclAttribute = Files.getFileAttributeView(path, AclFileAttributeView.class);\r\n\r\n Then you can use `aclAttribute.getAcls();` to get the users and their permissions.","title":"Get SMB Shared Files Name and Permissions In Java","body":"<p>If you are running Windows and the user running the program has access to the share, you could do it just by using java.nio. Java.nio allows you to access SMB shares.</p>\n\n<pre><code>Path path = Paths.get(&lt;SharedFile&gt;);\nAclFileAttributeView aclAttribute = Files.getFileAttributeView(path, AclFileAttributeView.class);\n</code></pre>\n\n<p>Then you can use <code>aclAttribute.getAcls();</code> to get the users and their permissions.</p>\n"},{"tags":[],"owner":{"account_id":9566196,"reputation":368,"user_id":7105409,"display_name":"Eliad Cohen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516120459,"creation_date":1516120459,"answer_id":48285858,"question_id":48277886,"body_markdown":"I don&#39;t think that there is any open source  Java library that support all you need.\r\n\r\nThere is a non open source library called [jNQ](http://visualitynq.com/products/jnq-java-smb-client) by &quot;Visuality Systems&quot;\r\n\r\nThis library support all the SMB dialects (SMB1 to SMB3.1.1)\r\n\r\nIn the link there is a code example for browsing (and you can get the security descriptor for each file in the list):\r\n\r\n    PasswordCredentials cr = new PasswordCredentials(&quot;userName&quot;, &quot;password&quot;, &quot;domain&quot;);\r\n    Mount mt = new Mount(&quot;IpAddress&quot;,&quot;ShareName&quot;, cr);\r\n    Directory dir = new Directory(mt, &quot;dir1&quot;);\r\n    Directory.Entry entry;\r\n    System.out.println(DIR + &quot; scan:&quot;);\r\n    do {\r\n        entry = dir.next();\r\n        if (null != entry)\r\n            System.out.println(entry.name + &quot; : size = &quot; + entry.info.eof);\r\n    } while (entry != null);","title":"Get SMB Shared Files Name and Permissions In Java","body":"<p>I don't think that there is any open source  Java library that support all you need.</p>\n\n<p>There is a non open source library called <a href=\"http://visualitynq.com/products/jnq-java-smb-client\" rel=\"nofollow noreferrer\">jNQ</a> by \"Visuality Systems\"</p>\n\n<p>This library support all the SMB dialects (SMB1 to SMB3.1.1)</p>\n\n<p>In the link there is a code example for browsing (and you can get the security descriptor for each file in the list):</p>\n\n<pre><code>PasswordCredentials cr = new PasswordCredentials(\"userName\", \"password\", \"domain\");\nMount mt = new Mount(\"IpAddress\",\"ShareName\", cr);\nDirectory dir = new Directory(mt, \"dir1\");\nDirectory.Entry entry;\nSystem.out.println(DIR + \" scan:\");\ndo {\n    entry = dir.next();\n    if (null != entry)\n        System.out.println(entry.name + \" : size = \" + entry.info.eof);\n} while (entry != null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8307854,"reputation":11,"user_id":6244189,"display_name":"Norman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516695628,"creation_date":1516695628,"answer_id":48397051,"question_id":48277886,"body_markdown":"We had the same problem, and found [jcifs-ng][1] to best answer our requirements using java (We tested it only on v1 and v2 though, but the newest version has some support for v3 as well).\r\nYour code would look like:\r\n\r\n    \r\n\tConfiguration config = new PropertyConfiguration(new Properties());\r\n\tCIFSContext context = new BaseContext(config);\r\n    context = context.withCredentials(new NtlmPasswordAuthentication(null, domain, userName, password));\r\n    String share = &quot;smb://HOSTNAME/SHARENAME/&quot;;\r\n    try (SmbFile share = new SmbFile(url, context)) {\r\n        for (SmbFile file : share.listFiles()) {\r\n            ACE[] groups = file.getSecurity();\r\n            // Do something..\r\n        }\r\n    }\r\n\r\nWhere ACE is an Access Control Entry, which is an element that controls or monitors an access to an object (is short, a permission).\r\n\r\nNotice that the newest version might not be on Maven or Gradle yet, so you&#39;ll have to clone the repo and build it by yourself.\r\n\r\n  [1]: https://github.com/AgNO3/jcifs-ng &quot;jcifs-ng&quot;","title":"Get SMB Shared Files Name and Permissions In Java","body":"<p>We had the same problem, and found <a href=\"https://github.com/AgNO3/jcifs-ng\" rel=\"nofollow noreferrer\" title=\"jcifs-ng\">jcifs-ng</a> to best answer our requirements using java (We tested it only on v1 and v2 though, but the newest version has some support for v3 as well).\nYour code would look like:</p>\n\n<pre><code>Configuration config = new PropertyConfiguration(new Properties());\nCIFSContext context = new BaseContext(config);\ncontext = context.withCredentials(new NtlmPasswordAuthentication(null, domain, userName, password));\nString share = \"smb://HOSTNAME/SHARENAME/\";\ntry (SmbFile share = new SmbFile(url, context)) {\n    for (SmbFile file : share.listFiles()) {\n        ACE[] groups = file.getSecurity();\n        // Do something..\n    }\n}\n</code></pre>\n\n<p>Where ACE is an Access Control Entry, which is an element that controls or monitors an access to an object (is short, a permission).</p>\n\n<p>Notice that the newest version might not be on Maven or Gradle yet, so you'll have to clone the repo and build it by yourself.</p>\n"},{"tags":[],"owner":{"account_id":12817714,"reputation":41,"user_id":9273806,"display_name":"RonyTorrico"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1516991992,"creation_date":1516990084,"answer_id":48467145,"question_id":48277886,"body_markdown":"I guess it can help you to improve in jcifs-ng.\r\n\r\n    **// Option 1 - SMB2 and SMB3:**\r\n    Properties prop = new Properties();\r\n    prop.put( &quot;jcifs.smb.client.enableSMB2&quot;, &quot;true&quot;);\r\n    prop.put( &quot;jcifs.smb.client.disableSMB1&quot;, &quot;false&quot;);\r\n    prop.put( &quot;jcifs.traceResources&quot;, &quot;true&quot; );\r\n    Configuration config = new PropertyConfiguration(prop);\r\n    CIFSContext baseContext = new BaseContext(config);\r\n    CIFSContext contextWithCred = baseContext.withCredentials(new NtlmPasswordAuthentication(baseContext, domain, fileSystemInfo.getUsername(), fileSystemInfo.getPassword()));\r\n    SmbFile share = new SmbFile(fullPath.replace(&#39;\\&#39;, &#39;/&#39;), contextWithCred);\r\n    if (!share.exists())\r\n    {\r\n        share.mkdirs();\r\n    }\r\n    share.close();\r\n    \r\n**// Option 2 - SMB1 and CIFS:**\r\n\r\n    SingletonContext context = SingletonContext.getInstance();\r\n    CIFSContext testCtx = context.withCredentials(\r\n        new NtlmPasswordAuthentication(\r\n            context, domain, fileSystemInfo.getUsername(), fileSystemInfo.getPassword()\r\n        )\r\n    );\r\n    SmbFile smbFile = new SmbFile(fullPath.replace(&#39;\\&#39;, &#39;/&#39;), testCtx);\r\n    if (!smbFile.exists())\r\n    {\r\n        smbFile.mkdirs();\r\n    }\r\n    smbFile.close();\r\n\r\n","title":"Get SMB Shared Files Name and Permissions In Java","body":"<p>I guess it can help you to improve in jcifs-ng.</p>\n\n<pre><code>**// Option 1 - SMB2 and SMB3:**\nProperties prop = new Properties();\nprop.put( \"jcifs.smb.client.enableSMB2\", \"true\");\nprop.put( \"jcifs.smb.client.disableSMB1\", \"false\");\nprop.put( \"jcifs.traceResources\", \"true\" );\nConfiguration config = new PropertyConfiguration(prop);\nCIFSContext baseContext = new BaseContext(config);\nCIFSContext contextWithCred = baseContext.withCredentials(new NtlmPasswordAuthentication(baseContext, domain, fileSystemInfo.getUsername(), fileSystemInfo.getPassword()));\nSmbFile share = new SmbFile(fullPath.replace('\\', '/'), contextWithCred);\nif (!share.exists())\n{\n    share.mkdirs();\n}\nshare.close();\n</code></pre>\n\n<p><strong>// Option 2 - SMB1 and CIFS:</strong></p>\n\n<pre><code>SingletonContext context = SingletonContext.getInstance();\nCIFSContext testCtx = context.withCredentials(\n    new NtlmPasswordAuthentication(\n        context, domain, fileSystemInfo.getUsername(), fileSystemInfo.getPassword()\n    )\n);\nSmbFile smbFile = new SmbFile(fullPath.replace('\\', '/'), testCtx);\nif (!smbFile.exists())\n{\n    smbFile.mkdirs();\n}\nsmbFile.close();\n</code></pre>\n"}],"owner":{"account_id":1507086,"reputation":1685,"user_id":1410225,"accept_rate":69,"display_name":"zuckermanori"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12337,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1687848428,"creation_date":1516094767,"question_id":48277886,"body_markdown":"I want to connect to an SMB server and browse through its files, and for a given path, to be able to retrieve a list of files and folders, with the names and permissions.\r\n\r\nI need to support all SMB dialects, and to be able to do it from my code.\r\n\r\nThe code would like roughly as follows:\r\n\r\n    smbClient.connect(serverInfo);\r\n    info = smbClient.getShare(shareName);\r\n    for(File file : info.getFiles) {\r\n        List&lt;permission&gt; permissions = file.getPermissions();\r\n        //do something\r\n    }\r\n\r\nI&#39;ve tried a few options such as [smbj][1], [impacket][2], [nmap][3], [samba][4] but none of them seem to fill my requirements above.\r\n\r\nIs there any way to achieve the above, using Java, Python, or any linux CLI which i can call from my Java code?\r\n\r\n\r\n  [1]: https://github.com/hierynomus/smbj\r\n  [2]: https://github.com/CoreSecurity/impacket\r\n  [3]: https://nmap.org/\r\n  [4]: https://www.samba.org/samba/docs/current/man-html/smbclient.1.html","title":"Get SMB Shared Files Name and Permissions In Java","body":"<p>I want to connect to an SMB server and browse through its files, and for a given path, to be able to retrieve a list of files and folders, with the names and permissions.</p>\n\n<p>I need to support all SMB dialects, and to be able to do it from my code.</p>\n\n<p>The code would like roughly as follows:</p>\n\n<pre><code>smbClient.connect(serverInfo);\ninfo = smbClient.getShare(shareName);\nfor(File file : info.getFiles) {\n    List&lt;permission&gt; permissions = file.getPermissions();\n    //do something\n}\n</code></pre>\n\n<p>I've tried a few options such as <a href=\"https://github.com/hierynomus/smbj\" rel=\"nofollow noreferrer\">smbj</a>, <a href=\"https://github.com/CoreSecurity/impacket\" rel=\"nofollow noreferrer\">impacket</a>, <a href=\"https://nmap.org/\" rel=\"nofollow noreferrer\">nmap</a>, <a href=\"https://www.samba.org/samba/docs/current/man-html/smbclient.1.html\" rel=\"nofollow noreferrer\">samba</a> but none of them seem to fill my requirements above.</p>\n\n<p>Is there any way to achieve the above, using Java, Python, or any linux CLI which i can call from my Java code?</p>\n"},{"tags":["java","runtime","metrics","apm","skywalking"],"owner":{"account_id":23584563,"reputation":13,"user_id":17623161,"display_name":"NOknow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687848236,"creation_date":1687848236,"question_id":76562225,"body_markdown":"I can get the metrics (through the Skywalking UI) which configured in a yaml file (local at /xxxx/apache-skywalking-apm-bin/config/meter-analyzer-config/xxx.yaml) , like this:\r\n\r\n```yaml\r\nmetricsRules:\r\n  - name: tmTotalMemorySegments\r\n    exp: tmTotalMemorySegments\r\n```\r\n\r\nWe can see the &quot;name&quot; is fixed, my question is , is there a way to specific a name like &quot;tmTotal.*&quot; to expose the metrics which name starts with &quot;tmTotal&quot;? \r\n\r\nThat is, my metric name is unknown before my application is run (maybe I can know the prefix of metric name), but only at runtime.","title":"How to get the metrics generated at runtime (skywalking 9.2, Java)","body":"<p>I can get the metrics (through the Skywalking UI) which configured in a yaml file (local at /xxxx/apache-skywalking-apm-bin/config/meter-analyzer-config/xxx.yaml) , like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>metricsRules:\n  - name: tmTotalMemorySegments\n    exp: tmTotalMemorySegments\n</code></pre>\n<p>We can see the &quot;name&quot; is fixed, my question is , is there a way to specific a name like &quot;tmTotal.*&quot; to expose the metrics which name starts with &quot;tmTotal&quot;?</p>\n<p>That is, my metric name is unknown before my application is run (maybe I can know the prefix of metric name), but only at runtime.</p>\n"},{"tags":["java","protocols","smb","jcifs"],"comments":[{"owner":{"account_id":220283,"reputation":1220,"user_id":477606,"accept_rate":85,"display_name":"jmend"},"score":0,"creation_date":1334878062,"post_id":7771888,"comment_id":13156813,"body_markdown":"I would first test the code against a local file (or a share you just created) and then try with the remote server. This, so that you can make sure your code is OK, and is not something else (like permissions).","body":"I would first test the code against a local file (or a share you just created) and then try with the remote server. This, so that you can make sure your code is OK, and is not something else (like permissions)."}],"answers":[{"tags":[],"owner":{"account_id":369969,"reputation":21500,"user_id":717630,"display_name":"grepit"},"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1350676789,"creation_date":1350676789,"answer_id":12981622,"question_id":7771888,"body_markdown":"You are making this harder than it should be. Please follow the below steps and make sure the shared folder you are creating has write access for this user you are using.\r\n\r\n 1. download the jar file http://jcifs.samba.org/ (there is only one jar file)\r\n 2. copy and paste the below code with your information for user name, password and shared folder and that&#39;s all you need\r\n\r\nI was running this on Linux and wanted to write to a Windows box so you want to create a shared folder and put the shared folder name in the below variable\r\nif you don&#39;t know how to create shared folder on windows ...use google as always \r\n\r\n\t\tString user = &quot;your_user_name&quot;;\r\n\t\tString pass =&quot;your_pass_word&quot;;\r\n\r\n\t\tString sharedFolder=&quot;shared&quot;;\r\n\t\tString path=&quot;smb://ip_address/&quot;+sharedFolder+&quot;/test.txt&quot;;\r\n\t\tNtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(&quot;&quot;,user, pass);\r\n\t\tSmbFile smbFile = new SmbFile(path,auth);\r\n\t\tSmbFileOutputStream smbfos = new SmbFileOutputStream(smbFile);\r\n\t\tsmbfos.write(&quot;testing....and writing to a file&quot;.getBytes());\r\n\t\tSystem.out.println(&quot;completed ...nice !&quot;);","title":"Access to file using Java with Samba JCIFS","body":"<p>You are making this harder than it should be. Please follow the below steps and make sure the shared folder you are creating has write access for this user you are using.</p>\n\n<ol>\n<li>download the jar file <a href=\"http://jcifs.samba.org/\" rel=\"noreferrer\">http://jcifs.samba.org/</a> (there is only one jar file)</li>\n<li>copy and paste the below code with your information for user name, password and shared folder and that's all you need</li>\n</ol>\n\n<p>I was running this on Linux and wanted to write to a Windows box so you want to create a shared folder and put the shared folder name in the below variable\nif you don't know how to create shared folder on windows ...use google as always </p>\n\n<pre><code>    String user = \"your_user_name\";\n    String pass =\"your_pass_word\";\n\n    String sharedFolder=\"shared\";\n    String path=\"smb://ip_address/\"+sharedFolder+\"/test.txt\";\n    NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(\"\",user, pass);\n    SmbFile smbFile = new SmbFile(path,auth);\n    SmbFileOutputStream smbfos = new SmbFileOutputStream(smbFile);\n    smbfos.write(\"testing....and writing to a file\".getBytes());\n    System.out.println(\"completed ...nice !\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3750183,"reputation":121,"user_id":3117842,"display_name":"sanjeet"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1575568598,"creation_date":1565969871,"answer_id":57527443,"question_id":7771888,"body_markdown":"    /** You can simply use this util class for read write operations. **/\r\n\r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    import java.net.MalformedURLException;\r\n    import java.net.UnknownHostException;\r\n    import java.nio.charset.StandardCharsets;\r\n\r\n    import jcifs.smb.NtlmPasswordAuthentication;\r\n    import jcifs.smb.SmbException;\r\n    import jcifs.smb.SmbFile;\r\n    import jcifs.smb.SmbFileInputStream;\r\n    import jcifs.smb.SmbFileOutputStream;\r\n\r\n    public class NDMUtil {\r\n\r\n\tpublic static void writeToNDM(String userName, String password, String domain, String sharedPath,\r\n\t\t\tString textToWrite) throws MalformedURLException, SmbException, UnknownHostException, IOException {\r\n\t\tNtlmPasswordAuthentication authentication = new NtlmPasswordAuthentication(domain, userName, password);\r\n\t\ttry (OutputStream out = new SmbFileOutputStream(new SmbFile(sharedPath, authentication))) {\r\n\t\t\tbyte[] bytesToWrite = textToWrite.getBytes();\r\n\t\t\tif (out != null &amp;&amp; bytesToWrite != null &amp;&amp; bytesToWrite.length &gt; 0) {\r\n\t\t\t\tout.write(bytesToWrite);\r\n\t\t\t}\r\n\t\t}\r\n\t\t;\r\n\t}\r\n\r\n\tpublic static String readFromNDM(String userName, String password, String domain, String sharedPath)\r\n\t\t\tthrows MalformedURLException, SmbException, IOException {\r\n\t\tNtlmPasswordAuthentication authentication = new NtlmPasswordAuthentication(domain, userName, password);\r\n\t\tString fileContent = IOUtil.toString(new SmbFileInputStream(new SmbFile(sharedPath, authentication)),\r\n\t\t\t\tStandardCharsets.UTF_8.name());\r\n\t\tSystem.out.println(fileContent);\r\n\t\treturn fileContent;\r\n\t}\r\n\r\n}","title":"Access to file using Java with Samba JCIFS","body":"<pre><code>/** You can simply use this util class for read write operations. **/\n\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.net.MalformedURLException;\nimport java.net.UnknownHostException;\nimport java.nio.charset.StandardCharsets;\n\nimport jcifs.smb.NtlmPasswordAuthentication;\nimport jcifs.smb.SmbException;\nimport jcifs.smb.SmbFile;\nimport jcifs.smb.SmbFileInputStream;\nimport jcifs.smb.SmbFileOutputStream;\n\npublic class NDMUtil {\n\npublic static void writeToNDM(String userName, String password, String domain, String sharedPath,\n        String textToWrite) throws MalformedURLException, SmbException, UnknownHostException, IOException {\n    NtlmPasswordAuthentication authentication = new NtlmPasswordAuthentication(domain, userName, password);\n    try (OutputStream out = new SmbFileOutputStream(new SmbFile(sharedPath, authentication))) {\n        byte[] bytesToWrite = textToWrite.getBytes();\n        if (out != null &amp;&amp; bytesToWrite != null &amp;&amp; bytesToWrite.length &gt; 0) {\n            out.write(bytesToWrite);\n        }\n    }\n    ;\n}\n\npublic static String readFromNDM(String userName, String password, String domain, String sharedPath)\n        throws MalformedURLException, SmbException, IOException {\n    NtlmPasswordAuthentication authentication = new NtlmPasswordAuthentication(domain, userName, password);\n    String fileContent = IOUtil.toString(new SmbFileInputStream(new SmbFile(sharedPath, authentication)),\n            StandardCharsets.UTF_8.name());\n    System.out.println(fileContent);\n    return fileContent;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":11024588,"reputation":181,"user_id":8097865,"display_name":"Linkman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687848043,"creation_date":1687848043,"answer_id":76562204,"question_id":7771888,"body_markdown":"Since the accepted answer, NtlmPasswordAuthentication has been deprecated.\r\nTherefore, this is how I solved, for example, copying a file to a samba share:\r\n\r\n    String user=&quot;your_samba_username&quot;;\r\n    String pass=&quot;your_samba_password&quot;;\r\n    String path=&quot;smb://samba_ip_address/outputdir/outputfile.txt&quot;;\r\n    try {\r\n        InputStream  winfis = new FileInputStream(new File(&quot;c:/inputdir/inputfile.txt&quot;));\r\n        try {\r\n            SingletonContext baseContext = SingletonContext.getInstance(); \r\n            Credentials credentials=new NtlmPasswordAuthenticator(null,user,pass); \r\n            CIFSContext testCtx = baseContext.withCredentials(credentials);\r\n            try {             \r\n                SmbFile smbFile = new SmbFile(path, testCtx);\r\n                SmbFileOutputStream smbfos = new SmbFileOutputStream(smbFile);\r\n                try {\r\n                    IOUtils.copy(winfis, smbfos);\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                } finally {    \r\n                    try {\r\n                        smbfos.close();\r\n                    } catch (IOException ex) {\r\n                         ex.printStackTrace();\r\n                    }\r\n                }\r\n            } catch (MalformedURLException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        } catch (CIFSException ex) {\r\n            ex.printStackTrace();\r\n        } finally {\r\n            try {\r\n                winfis.close();\r\n            } catch (IOException ex) {\r\n                 ex.printStackTrace();\r\n            }\r\n        }\r\n    } catch (FileNotFoundException ex) {\r\n        ex.printStackTrace();\r\n    }\r\n\r\nRequired libraries (dependencies):\r\n- JCIFS Samba Protocol: [**jcifs-2.1.34.jar**][1] (SMB2 (2.02 protocol level) support, some SMB3 support)  \r\n- Bouncy Castle Provider 1.74: [**bcprov-jdk18on-1.74.jar**][2]\r\n\r\n\r\n  [1]: https://github.com/codelibs/jcifs\r\n  [2]: https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk18on/1.74","title":"Access to file using Java with Samba JCIFS","body":"<p>Since the accepted answer, NtlmPasswordAuthentication has been deprecated.\nTherefore, this is how I solved, for example, copying a file to a samba share:</p>\n<pre><code>String user=&quot;your_samba_username&quot;;\nString pass=&quot;your_samba_password&quot;;\nString path=&quot;smb://samba_ip_address/outputdir/outputfile.txt&quot;;\ntry {\n    InputStream  winfis = new FileInputStream(new File(&quot;c:/inputdir/inputfile.txt&quot;));\n    try {\n        SingletonContext baseContext = SingletonContext.getInstance(); \n        Credentials credentials=new NtlmPasswordAuthenticator(null,user,pass); \n        CIFSContext testCtx = baseContext.withCredentials(credentials);\n        try {             \n            SmbFile smbFile = new SmbFile(path, testCtx);\n            SmbFileOutputStream smbfos = new SmbFileOutputStream(smbFile);\n            try {\n                IOUtils.copy(winfis, smbfos);\n            } catch (IOException ex) {\n                ex.printStackTrace();\n            } finally {    \n                try {\n                    smbfos.close();\n                } catch (IOException ex) {\n                     ex.printStackTrace();\n                }\n            }\n        } catch (MalformedURLException ex) {\n            ex.printStackTrace();\n        }\n    } catch (CIFSException ex) {\n        ex.printStackTrace();\n    } finally {\n        try {\n            winfis.close();\n        } catch (IOException ex) {\n             ex.printStackTrace();\n        }\n    }\n} catch (FileNotFoundException ex) {\n    ex.printStackTrace();\n}\n</code></pre>\n<p>Required libraries (dependencies):</p>\n<ul>\n<li>JCIFS Samba Protocol: <a href=\"https://github.com/codelibs/jcifs\" rel=\"nofollow noreferrer\"><strong>jcifs-2.1.34.jar</strong></a> (SMB2 (2.02 protocol level) support, some SMB3 support)</li>\n<li>Bouncy Castle Provider 1.74: <a href=\"https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk18on/1.74\" rel=\"nofollow noreferrer\"><strong>bcprov-jdk18on-1.74.jar</strong></a></li>\n</ul>\n"}],"owner":{"account_id":467160,"reputation":11163,"user_id":872344,"accept_rate":72,"display_name":"Allan Jiang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113809,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":12981622,"answer_count":3,"score":27,"last_activity_date":1687848043,"creation_date":1318616575,"question_id":7771888,"body_markdown":"I have a question about accessing file with Samba JCIFS.\r\n\r\nSo there is a server I want to access, let&#39;s call it server.unv.edu and the workgroup is WKGRP.\r\n\r\nThere is a share in this server: \\\\\\server.unv.edu\\pcb$\r\n\r\nthe way I am trying to access to the server is:\r\n\r\n    public class SMBAuthenticator extends NtlmAuthenticator {\r\n\t\r\n\tprivate String username = &quot;username&quot;;\r\n\tprivate String password = &quot;password&quot;;\r\n\tprivate String domain = &quot;smb://server.unv.edu/WKGRP/&quot;;\r\n\t\r\n\tpublic SMBAuthenticator() {\r\n\t\tNtlmAuthenticator.setDefault(this);\r\n\t}\r\n\r\n\r\nand \r\n\r\n    public class SMBConnection {\r\n\t\r\n\tpublic String urlString = &quot;smb://server.unv.edu/pcb$/path/file.txt&quot;;\r\n\tNtlmPasswordAuthentication auth;\r\n\tSmbFile smbFile;\r\n\t\r\n\tpublic SMBConnection() throws MalformedURLException{;\r\n\t\t//url = new URL(urlString);\r\n\t\tSMBAuthenticator authenticator = new SMBAuthenticator();\r\n\t\tauth = authenticator.getNtlmPasswordAuthentication();\t\r\n\t\tsmbFile = new SmbFile(urlString, auth);\r\n\t}\r\n\t\r\n\tpublic InputStream getSMBInputStream() throws IOException{\r\n\t\treturn this.smbFile.getInputStream();\r\n\t}\r\n\t\r\n\tpublic InputStream getInputStream() throws IOException{\r\n\t\tInputStream is = this.getSMBInputStream();\r\n\t\treturn is;\r\n\t}\r\n\t}\r\n\r\nBut this doesn&#39;t work. I got an error of:\r\n\r\n    jcifs.smb.SmbAuthException: Logon failure: unknown user name or bad password.\r\n\tat jcifs.smb.SmbTransport.checkStatus(SmbTransport.java:544)\r\n\tat jcifs.smb.SmbTransport.send(SmbTransport.java:661)\r\n\tat jcifs.smb.SmbSession.sessionSetup(SmbSession.java:390)\r\n\tat jcifs.smb.SmbSession.send(SmbSession.java:218)\r\n\tat jcifs.smb.SmbTree.treeConnect(SmbTree.java:176)\r\n\tat jcifs.smb.SmbFile.doConnect(SmbFile.java:929)\r\n\tat jcifs.smb.SmbFile.connect(SmbFile.java:954)\r\n\tat jcifs.smb.SmbFile.connect0(SmbFile.java:880)\r\n\tat jcifs.smb.SmbFile.open0(SmbFile.java:972)\r\n\tat jcifs.smb.SmbFile.open(SmbFile.java:1006)\r\n\tat jcifs.smb.SmbFileInputStream.&lt;init&gt;(SmbFileInputStream.java:73)\r\n\tat jcifs.smb.SmbFileInputStream.&lt;init&gt;(SmbFileInputStream.java:65)\r\n\tat jcifs.smb.SmbFile.getInputStream(SmbFile.java:2844)\r\n\tat edu.umd.lib.sambaConnection.SMBConnection.getSMBInputStream(SMBConnection.java:33)\r\n\tat edu.umd.lib.sambaConnection.SMBConnection.getInputStream(SMBConnection.java:37)\r\n\tat edu.umd.lib.sambaConnection.SambaConnectionTest.test(SambaConnectionTest.java:21)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:601)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runNotIgnored(BlockJUnit4ClassRunner.java:79)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:71)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:236)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n\r\n\r\nCan anyone give me a suggestion or a correctness of my code, to help me access to the file?\r\n","title":"Access to file using Java with Samba JCIFS","body":"<p>I have a question about accessing file with Samba JCIFS.</p>\n<p>So there is a server I want to access, let's call it server.unv.edu and the workgroup is WKGRP.</p>\n<p>There is a share in this server: \\\\server.unv.edu\\pcb$</p>\n<p>the way I am trying to access to the server is:</p>\n<pre><code>public class SMBAuthenticator extends NtlmAuthenticator {\n\nprivate String username = &quot;username&quot;;\nprivate String password = &quot;password&quot;;\nprivate String domain = &quot;smb://server.unv.edu/WKGRP/&quot;;\n\npublic SMBAuthenticator() {\n    NtlmAuthenticator.setDefault(this);\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class SMBConnection {\n\npublic String urlString = &quot;smb://server.unv.edu/pcb$/path/file.txt&quot;;\nNtlmPasswordAuthentication auth;\nSmbFile smbFile;\n\npublic SMBConnection() throws MalformedURLException{;\n    //url = new URL(urlString);\n    SMBAuthenticator authenticator = new SMBAuthenticator();\n    auth = authenticator.getNtlmPasswordAuthentication();   \n    smbFile = new SmbFile(urlString, auth);\n}\n\npublic InputStream getSMBInputStream() throws IOException{\n    return this.smbFile.getInputStream();\n}\n\npublic InputStream getInputStream() throws IOException{\n    InputStream is = this.getSMBInputStream();\n    return is;\n}\n}\n</code></pre>\n<p>But this doesn't work. I got an error of:</p>\n<pre><code>jcifs.smb.SmbAuthException: Logon failure: unknown user name or bad password.\nat jcifs.smb.SmbTransport.checkStatus(SmbTransport.java:544)\nat jcifs.smb.SmbTransport.send(SmbTransport.java:661)\nat jcifs.smb.SmbSession.sessionSetup(SmbSession.java:390)\nat jcifs.smb.SmbSession.send(SmbSession.java:218)\nat jcifs.smb.SmbTree.treeConnect(SmbTree.java:176)\nat jcifs.smb.SmbFile.doConnect(SmbFile.java:929)\nat jcifs.smb.SmbFile.connect(SmbFile.java:954)\nat jcifs.smb.SmbFile.connect0(SmbFile.java:880)\nat jcifs.smb.SmbFile.open0(SmbFile.java:972)\nat jcifs.smb.SmbFile.open(SmbFile.java:1006)\nat jcifs.smb.SmbFileInputStream.&lt;init&gt;(SmbFileInputStream.java:73)\nat jcifs.smb.SmbFileInputStream.&lt;init&gt;(SmbFileInputStream.java:65)\nat jcifs.smb.SmbFile.getInputStream(SmbFile.java:2844)\nat edu.umd.lib.sambaConnection.SMBConnection.getSMBInputStream(SMBConnection.java:33)\nat edu.umd.lib.sambaConnection.SMBConnection.getInputStream(SMBConnection.java:37)\nat edu.umd.lib.sambaConnection.SambaConnectionTest.test(SambaConnectionTest.java:21)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:601)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\nat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\nat org.junit.runners.BlockJUnit4ClassRunner.runNotIgnored(BlockJUnit4ClassRunner.java:79)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:71)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:236)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\nat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n</code></pre>\n<p>Can anyone give me a suggestion or a correctness of my code, to help me access to the file?</p>\n"},{"tags":["java","jpa","stored-procedures","jpql","maxdb"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":1,"creation_date":1429203551,"post_id":29681023,"comment_id":47499812,"body_markdown":"Have you ever tried to use a JDBC CallableStatement with MaxDB? Just that not all RDBMS support &quot;stored procedures&quot; in the same way, and if a CallableStatement will work then this JPA 2.1 way should work since it is simply a wrapper around it. Try it?","body":"Have you ever tried to use a JDBC CallableStatement with MaxDB? Just that not all RDBMS support &quot;stored procedures&quot; in the same way, and if a CallableStatement will work then this JPA 2.1 way should work since it is simply a wrapper around it. Try it?"},{"owner":{"account_id":5497168,"reputation":831,"user_id":4406558,"display_name":"Eric Hughes"},"score":1,"creation_date":1429203905,"post_id":29681023,"comment_id":47500049,"body_markdown":"I notice that the DB call in your stack trace (`EXECUTE PROCEDURE TESTPROC(CAMPAIGNS = ?)`) is somewhat different from the one you&#39;re testing (`call TESTPROC(?)`).  Have you tried running the former to see if there are some strange results?  The -3005 error indicates that your command may be invalid for your current sql mode.","body":"I notice that the DB call in your stack trace (<code>EXECUTE PROCEDURE TESTPROC(CAMPAIGNS = ?)</code>) is somewhat different from the one you&#39;re testing (<code>call TESTPROC(?)</code>).  Have you tried running the former to see if there are some strange results?  The -3005 error indicates that your command may be invalid for your current sql mode."},{"owner":{"account_id":6153651,"reputation":1,"user_id":4797339,"display_name":"STR"},"score":0,"creation_date":1429264780,"post_id":29681023,"comment_id":47528177,"body_markdown":"Thanks Neil and Eric!\n\nEric, I&#39;ve also noticed. The correct calling of a DBProc in MaxDB is &quot;Call ST.TESTPROC(?)&quot;. \nI have no idea how and where I have to change SQL-Mode of EntityManager. \n\n@Neil: Yes, with a JDBC CallableStatement it works.\n\nString myCall = &quot;call ST.TESTPROC(?)&quot;;\nCallableStatement callStmt = conn.prepareCall(myCall);\ncallStmt.registerOutParameter(1, java.sql.Types.INTEGER);\nint changed = callStmt.executeUpdate();\nSystem.out.println(&quot;changed : &quot; + changed);\nObject obj = callStmt.getObject(1);\nSystem.out.println(&quot;result: &quot; + String.valueOf(obj));","body":"Thanks Neil and Eric!  Eric, I&#39;ve also noticed. The correct calling of a DBProc in MaxDB is &quot;Call ST.TESTPROC(?)&quot;.  I have no idea how and where I have to change SQL-Mode of EntityManager.   @Neil: Yes, with a JDBC CallableStatement it works.  String myCall = &quot;call ST.TESTPROC(?)&quot;; CallableStatement callStmt = conn.prepareCall(myCall); callStmt.registerOutParameter(1, java.sql.Types.INTEGER); int changed = callStmt.executeUpdate(); System.out.println(&quot;changed : &quot; + changed); Object obj = callStmt.getObject(1); System.out.println(&quot;result: &quot; + String.valueOf(obj));"},{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1429265209,"post_id":29681023,"comment_id":47528473,"body_markdown":"@STR, maybe EclipseLink is adding on the EXECUTE PROCEDURE? I know when I do JPA StoredProcedureQuery in DataNucleus JPA it simply adds on &quot;CALL &quot; before the procedure name so all works fine.","body":"@STR, maybe EclipseLink is adding on the EXECUTE PROCEDURE? I know when I do JPA StoredProcedureQuery in DataNucleus JPA it simply adds on &quot;CALL &quot; before the procedure name so all works fine."}],"owner":{"account_id":6153651,"reputation":1,"user_id":4797339,"display_name":"STR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687847556,"creation_date":1429202403,"question_id":29681023,"body_markdown":"I get an &quot;Invalid SQL statement&quot; Exception while I try to invoke an **MaxDB** DBPROC (stored procedure) with a *StoredProcedureQuery* (JPA/JPQL). Its that not the correct way to do this?\r\n\r\nJava Environment:\r\n\r\n    &gt; &lt;persistence-unit name=&quot;CAMPAIGN_AD_UNIT_Test&quot;\r\n    &gt; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n    &gt;     &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n    &gt;     &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n    &gt;     &lt;properties&gt;\r\n    &gt;       &lt;property name=&quot;javax.persistence.jdbc.driver&quot;   value=&quot;com.sap.dbtech.jdbc.DriverSapDB&quot; /&gt;\r\n    &gt;       &lt;property name=&quot;javax.persistence.jdbc.url&quot;      value=&quot;jdbc:sapdb://localhost/MAXDB&quot; /&gt;\r\n    &gt;       &lt;property name=&quot;javax.persistence.jdbc.user&quot;     value=&quot;ST&quot; /&gt;\r\n    &gt;       &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;*********&quot; /&gt;\r\n    &gt;       &lt;property name=&quot;eclipselink.target-database&quot; \t\t value=&quot;MaxDB&quot;/&gt; \r\n    &gt;       &lt;property name=&quot;eclipselink.ddl-generation&quot;      value=&quot;none&quot; /&gt;\r\n    &gt;     &lt;/properties&gt;   &lt;/persistence-unit&gt;\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    // StoredProcedureCall\r\n    StoredProcedureQuery spQuery = jem.createStoredProcedureQuery(&quot;ST.TESTPROC&quot;);\r\n    spQuery.registerStoredProcedureParameter(&quot;CAMPAIGNS&quot;, Integer.class, ParameterMode.OUT);    \r\n    try {\r\n      tx.begin();\r\n      boolean success = spQuery.execute();\r\n      System.out.println(&quot;execute : &quot; + success);\r\n      Object obj = spQuery.getOutputParameterValue(&quot;CAMPAIGNS&quot;);\r\n      tx.commit();\r\n      System.out.println(&quot;result: &quot; + String.valueOf(obj));\r\n    } catch (RuntimeException e) {\r\n      // roll back\r\n      if (tx != null &amp;&amp; tx.isActive())\r\n    \ttx.rollback();\r\n      throw e;\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    [EL Warning]: 2015-04-16 15:17:33.06--UnitOfWork(1891955695)--Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.6.0.v20150309-bf26070): org.eclipse.persistence.exceptions.DatabaseException\r\n    Internal Exception: com.sap.dbtech.jdbc.exceptions.jdbc40.SQLSyntaxErrorException: [-3005]: Invalid SQL statement\r\n    Error Code: -3005\r\n    Call: EXECUTE PROCEDURE TESTPROC(CAMPAIGNS = ?)\r\n    \tbind =&gt; [1 parameter bound]\r\n    Query: ResultSetMappingQuery()\r\n    Exception in thread &quot;main&quot; javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.6.0.v20150309-bf26070): org.eclipse.persistence.exceptions.DatabaseException\r\n    Internal Exception: com.sap.dbtech.jdbc.exceptions.jdbc40.SQLSyntaxErrorException: [-3005]: Invalid SQL statement\r\n    Error Code: -3005\r\n    Call: EXECUTE PROCEDURE TESTPROC(CAMPAIGNS = ?)\r\n    \tbind =&gt; [1 parameter bound]\r\n    Query: ResultSetMappingQuery()\r\n    \tat org.eclipse.persistence.internal.jpa.QueryImpl.getDetailedException(QueryImpl.java:382)\r\n    \tat org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:260)\r\n    \tat org.eclipse.persistence.internal.jpa.StoredProcedureQueryImpl.execute(StoredProcedureQueryImpl.java:316)\r\n    \tat de.homemade.education.jpa.Main.main(Main.java:80)\r\n    Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.6.0.v20150309-bf26070): org.eclipse.persistence.exceptions.DatabaseException\r\n    Internal Exception: com.sap.dbtech.jdbc.exceptions.jdbc40.SQLSyntaxErrorException: [-3005]: Invalid SQL statement\r\n    Error Code: -3005\r\n    Call: EXECUTE PROCEDURE TESTPROC(CAMPAIGNS = ?)\r\n    \tbind =&gt; [1 parameter bound]\r\n    ...\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nMaxDB DBPROC SQL\r\n\r\n    &gt; CREATE DBPROCEDURE ST.TESTPROC (OUT CAMPAIGNS INTEGER) AS \r\n    &gt; TRY \t\r\n    &gt; DECLARE MYCURSOR CURSOR FOR  \t\r\n    &gt;     SELECT COUNT(CAMPAIGN) FROM ST.CAMPAIGN_AD;\r\n    &gt;     FETCH MYCURSOR INTO :CAMPAIGNS; \r\n    &gt; CATCH \t\r\n    &gt; BEGIN \t\t\r\n    &gt;    STOP ($RC, &#39;unexpected error&#39;); \t\t\r\n    &gt;    CLOSE MYCURSOR; \t\r\n    &gt; END;\t\r\n    &gt; \r\n    &gt; Test in SQL Studio / SQL Dialog:\t\r\n    &gt; \r\n    &gt; call TESTPROC(?)\t\r\n    &gt; \r\n    &gt; result: \t| Out(1) 1\t| 1","title":"calling MaxDB stored procedure with JPA/JPQL/StoredProcedureQuery","body":"<p>I get an \"Invalid SQL statement\" Exception while I try to invoke an <strong>MaxDB</strong> DBPROC (stored procedure) with a <em>StoredProcedureQuery</em> (JPA/JPQL). Its that not the correct way to do this?</p>\n\n<p>Java Environment:</p>\n\n<pre><code>&gt; &lt;persistence-unit name=\"CAMPAIGN_AD_UNIT_Test\"\n&gt; transaction-type=\"RESOURCE_LOCAL\"&gt;\n&gt;     &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n&gt;     &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n&gt;     &lt;properties&gt;\n&gt;       &lt;property name=\"javax.persistence.jdbc.driver\"   value=\"com.sap.dbtech.jdbc.DriverSapDB\" /&gt;\n&gt;       &lt;property name=\"javax.persistence.jdbc.url\"      value=\"jdbc:sapdb://localhost/MAXDB\" /&gt;\n&gt;       &lt;property name=\"javax.persistence.jdbc.user\"     value=\"ST\" /&gt;\n&gt;       &lt;property name=\"javax.persistence.jdbc.password\" value=\"*********\" /&gt;\n&gt;       &lt;property name=\"eclipselink.target-database\"         value=\"MaxDB\"/&gt; \n&gt;       &lt;property name=\"eclipselink.ddl-generation\"      value=\"none\" /&gt;\n&gt;     &lt;/properties&gt;   &lt;/persistence-unit&gt;\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// StoredProcedureCall\r\nStoredProcedureQuery spQuery = jem.createStoredProcedureQuery(\"ST.TESTPROC\");\r\nspQuery.registerStoredProcedureParameter(\"CAMPAIGNS\", Integer.class, ParameterMode.OUT);    \r\ntry {\r\n  tx.begin();\r\n  boolean success = spQuery.execute();\r\n  System.out.println(\"execute : \" + success);\r\n  Object obj = spQuery.getOutputParameterValue(\"CAMPAIGNS\");\r\n  tx.commit();\r\n  System.out.println(\"result: \" + String.valueOf(obj));\r\n} catch (RuntimeException e) {\r\n  // roll back\r\n  if (tx != null &amp;&amp; tx.isActive())\r\n\ttx.rollback();\r\n  throw e;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>[EL Warning]: 2015-04-16 15:17:33.06--UnitOfWork(1891955695)--Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.6.0.v20150309-bf26070): org.eclipse.persistence.exceptions.DatabaseException\r\nInternal Exception: com.sap.dbtech.jdbc.exceptions.jdbc40.SQLSyntaxErrorException: [-3005]: Invalid SQL statement\r\nError Code: -3005\r\nCall: EXECUTE PROCEDURE TESTPROC(CAMPAIGNS = ?)\r\n\tbind =&gt; [1 parameter bound]\r\nQuery: ResultSetMappingQuery()\r\nException in thread \"main\" javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.6.0.v20150309-bf26070): org.eclipse.persistence.exceptions.DatabaseException\r\nInternal Exception: com.sap.dbtech.jdbc.exceptions.jdbc40.SQLSyntaxErrorException: [-3005]: Invalid SQL statement\r\nError Code: -3005\r\nCall: EXECUTE PROCEDURE TESTPROC(CAMPAIGNS = ?)\r\n\tbind =&gt; [1 parameter bound]\r\nQuery: ResultSetMappingQuery()\r\n\tat org.eclipse.persistence.internal.jpa.QueryImpl.getDetailedException(QueryImpl.java:382)\r\n\tat org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:260)\r\n\tat org.eclipse.persistence.internal.jpa.StoredProcedureQueryImpl.execute(StoredProcedureQueryImpl.java:316)\r\n\tat de.homemade.education.jpa.Main.main(Main.java:80)\r\nCaused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.6.0.v20150309-bf26070): org.eclipse.persistence.exceptions.DatabaseException\r\nInternal Exception: com.sap.dbtech.jdbc.exceptions.jdbc40.SQLSyntaxErrorException: [-3005]: Invalid SQL statement\r\nError Code: -3005\r\nCall: EXECUTE PROCEDURE TESTPROC(CAMPAIGNS = ?)\r\n\tbind =&gt; [1 parameter bound]\r\n...</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>MaxDB DBPROC SQL</p>\n\n<pre><code>&gt; CREATE DBPROCEDURE ST.TESTPROC (OUT CAMPAIGNS INTEGER) AS \n&gt; TRY   \n&gt; DECLARE MYCURSOR CURSOR FOR   \n&gt;     SELECT COUNT(CAMPAIGN) FROM ST.CAMPAIGN_AD;\n&gt;     FETCH MYCURSOR INTO :CAMPAIGNS; \n&gt; CATCH     \n&gt; BEGIN         \n&gt;    STOP ($RC, 'unexpected error');        \n&gt;    CLOSE MYCURSOR;    \n&gt; END;  \n&gt; \n&gt; Test in SQL Studio / SQL Dialog:  \n&gt; \n&gt; call TESTPROC(?)  \n&gt; \n&gt; result:   | Out(1) 1  | 1\n</code></pre>\n"},{"tags":["java","rtf"],"answers":[{"tags":[],"owner":{"account_id":116185,"reputation":7719,"user_id":304778,"accept_rate":74,"display_name":"secmask"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1282452277,"creation_date":1282452277,"answer_id":3540202,"question_id":3540043,"body_markdown":"[POI][1]\r\n\r\n\r\n  [1]: http://poi.apache.org/\r\n\r\nis an apache project that help works with MS Office format.","title":"How to convert UTF-8 string to RTF string in java?","body":"<p><a href=\"http://poi.apache.org/\" rel=\"nofollow noreferrer\">POI</a></p>\n\n<p>is an apache project that help works with MS Office format.</p>\n"},{"tags":[],"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687847458,"creation_date":1293100966,"answer_id":4517983,"question_id":3540043,"body_markdown":"Yes. &lt;br/&gt;\r\nYou can use RtfDocument from iText:&lt;br/&gt;\r\nnew RtfDocument().filterSpecialChar(baos, sentence, true, true);\r\n","title":"How to convert UTF-8 string to RTF string in java?","body":"<p>Yes. <br/>\nYou can use RtfDocument from iText:<br/>\nnew RtfDocument().filterSpecialChar(baos, sentence, true, true);</p>\n"}],"owner":{"account_id":72633,"reputation":361,"user_id":209636,"accept_rate":42,"display_name":"tandaica0612"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2834,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1687847458,"creation_date":1282448891,"question_id":3540043,"body_markdown":"Currently my project need export report to MS Word , and i choose using RTFTemplate engine to do it. But my problem is I need convert all character to RTF string first . Everyone have experiment with this problem can suggest me ?","title":"How to convert UTF-8 string to RTF string in java?","body":"<p>Currently my project need export report to MS Word , and i choose using RTFTemplate engine to do it. But my problem is I need convert all character to RTF string first . Everyone have experiment with this problem can suggest me ?</p>\n"},{"tags":["java","memory","jvm","heap-memory","metaspace"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1684147580,"post_id":76251895,"comment_id":134469260,"body_markdown":"None of those things are relevant to the Java Memory Model, as that describes the behaviour of visibility of data between threads, happens-before relationships, etc. What you&#39;re asking about is the memory **layout** of a specific JVM implementation, and some of the things you list (like generations/s0/s1/eden) are specific to the configured garbage collector, and not to Java itself.","body":"None of those things are relevant to the Java Memory Model, as that describes the behaviour of visibility of data between threads, happens-before relationships, etc. What you&#39;re asking about is the memory <b>layout</b> of a specific JVM implementation, and some of the things you list (like generations/s0/s1/eden) are specific to the configured garbage collector, and not to Java itself."},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1684148769,"post_id":76251895,"comment_id":134469477,"body_markdown":"@Mark I will rename the title and the conent of the question. Are the differences between the most popular JVM implementations so significant that they have to be taken into account? I have included the specific GC spaces because they were mentioned in so many documents and images that I thought it would be also good to put this section somehow in the picture.","body":"@Mark I will rename the title and the conent of the question. Are the differences between the most popular JVM implementations so significant that they have to be taken into account? I have included the specific GC spaces because they were mentioned in so many documents and images that I thought it would be also good to put this section somehow in the picture."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1684149065,"post_id":76251895,"comment_id":134469531,"body_markdown":"Almost all widely used JVMs these days are based on OpenJDK (usually with no or very little modifications). OpenJ9 and GraalVM are the two exceptions to this that I can think of. Within OpenJDK you&#39;ll have to consider a specific GC implementation, as that quite significantly impacts the memory layout that&#39;s used.","body":"Almost all widely used JVMs these days are based on OpenJDK (usually with no or very little modifications). OpenJ9 and GraalVM are the two exceptions to this that I can think of. Within OpenJDK you&#39;ll have to consider a specific GC implementation, as that quite significantly impacts the memory layout that&#39;s used."},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1684151749,"post_id":76251895,"comment_id":134470165,"body_markdown":"@Joachim does the GC implementation impact also the non-heap elements? or the String Pool etc? I thougt the GC  would impact only distribution of objects eligible for garbage collection. Do you think it is better to remove  those elements(s0,s1,eden) from my qestion in order to have more clarity?","body":"@Joachim does the GC implementation impact also the non-heap elements? or the String Pool etc? I thougt the GC  would impact only distribution of objects eligible for garbage collection. Do you think it is better to remove  those elements(s0,s1,eden) from my qestion in order to have more clarity?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1684151857,"post_id":76251895,"comment_id":134470191,"body_markdown":"It certainly doesn&#39;t impact *all* parts of the memory layout, but things like which generations exist and how they are managed is certainly impacted by (I&#39;d even say &quot;defined by&quot;) the GC. So in a sense I&#39;d say you can&#39;t find a single, up-to-date, unified view of the layout because many possible layouts can exist.","body":"It certainly doesn&#39;t impact <i>all</i> parts of the memory layout, but things like which generations exist and how they are managed is certainly impacted by (I&#39;d even say &quot;defined by&quot;) the GC. So in a sense I&#39;d say you can&#39;t find a single, up-to-date, unified view of the layout because many possible layouts can exist."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1684193412,"post_id":76251895,"comment_id":134478693,"body_markdown":"I think the definitive reference youre looking for is https://docs.oracle.com/en/java/javase/17/gctuning/index.html (for whatever Java version youre using).","body":"I think the definitive reference youre looking for is <a href=\"https://docs.oracle.com/en/java/javase/17/gctuning/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/gctuning/index.html</a> (for whatever Java version youre using)."}],"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687847058,"creation_date":1684136794,"question_id":76251895,"body_markdown":"This question might seem like a duplicate or like a too much open question, but after long research I decided to ask it anyway.\r\n\r\nI am looking for an updated (2023) overview of OpenJDK JVM Memory Layout, containing all important elements of the memory. I would like to be 100% sure how is the memory organized and where is the place of elements like\r\n- Metaspace\r\n- String Pool\r\n- Constants pool\r\n- Code Cache\r\n- Thread stack\r\n- Method area\r\n- heap vs non-heap area\r\n- and other elements which I am not aware of\r\n\r\nWhen I try to search on stack overflow the answers are either old (still mentioning PermGen) or confusing, (saying some elements might be on heap and later answers say the opposite), referencing links which do not exist any longer. Same goes with google image search. I see so many images which are all different and never contain all elements, or show them in different places:\r\n\r\n [![enter image description here][1]][1]\r\n\r\nIs there one comprehensive image/diagram which will show how all memory elements are nested together in the memory? \r\nI would like to eventually endup with something like this:\r\n [![enter image description here][2]][2]\r\n\r\n I wish to see the elements nicely presented. ( I can create the diagram myself of course with appropriate source of information)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rNUlY.png\r\n  [2]: https://i.stack.imgur.com/LEY2C.png","title":"OpenJDK JVM memory layout (Metaspace, Code Cache, Heap, Non-Heap, Runtime Constant Pool)","body":"<p>This question might seem like a duplicate or like a too much open question, but after long research I decided to ask it anyway.</p>\n<p>I am looking for an updated (2023) overview of OpenJDK JVM Memory Layout, containing all important elements of the memory. I would like to be 100% sure how is the memory organized and where is the place of elements like</p>\n<ul>\n<li>Metaspace</li>\n<li>String Pool</li>\n<li>Constants pool</li>\n<li>Code Cache</li>\n<li>Thread stack</li>\n<li>Method area</li>\n<li>heap vs non-heap area</li>\n<li>and other elements which I am not aware of</li>\n</ul>\n<p>When I try to search on stack overflow the answers are either old (still mentioning PermGen) or confusing, (saying some elements might be on heap and later answers say the opposite), referencing links which do not exist any longer. Same goes with google image search. I see so many images which are all different and never contain all elements, or show them in different places:</p>\n<p><a href=\"https://i.stack.imgur.com/rNUlY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rNUlY.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there one comprehensive image/diagram which will show how all memory elements are nested together in the memory?\nI would like to eventually endup with something like this:\n<a href=\"https://i.stack.imgur.com/LEY2C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LEY2C.png\" alt=\"enter image description here\" /></a></p>\n<p>I wish to see the elements nicely presented. ( I can create the diagram myself of course with appropriate source of information)</p>\n"},{"tags":["java","file","opencv","video","load"],"answers":[{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"Xoc  epe&#250;pa "},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1454042716,"creation_date":1454042716,"answer_id":35077053,"question_id":35076578,"body_markdown":"You need to add **C:\\opencv\\build\\x86\\vc11\\bin** to the Path variable...\r\nand the write:\r\n\r\n   \r\n\r\n     private void myMethod(...) {\r\n        Mat frame = new Mat();\r\n        VideoCapture camera = new VideoCapture(&quot;C:/MyName/MyPc/Desktop/TheLordOfTheRings.mp4&quot;);\r\n        JFrame jframe = new JFrame(&quot;MyTitle&quot;);\r\n        jframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        JLabel vidpanel = new JLabel();\r\n        jframe.setContentPane(vidpanel);\r\n        jframe.setVisible(true);\r\n    \r\n        while (true) {\r\n            if (camera.read(frame)) {\r\n    \r\n                ImageIcon image = new ImageIcon(Mat2bufferedImage(frame));\r\n                vidpanel.setIcon(image);\r\n                vidpanel.repaint();\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to load a video file using Opencv in java","body":"<p>You need to add <strong>C:\\opencv\\build\\x86\\vc11\\bin</strong> to the Path variable...\nand the write:</p>\n\n<pre><code> private void myMethod(...) {\n    Mat frame = new Mat();\n    VideoCapture camera = new VideoCapture(\"C:/MyName/MyPc/Desktop/TheLordOfTheRings.mp4\");\n    JFrame jframe = new JFrame(\"MyTitle\");\n    jframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    JLabel vidpanel = new JLabel();\n    jframe.setContentPane(vidpanel);\n    jframe.setVisible(true);\n\n    while (true) {\n        if (camera.read(frame)) {\n\n            ImageIcon image = new ImageIcon(Mat2bufferedImage(frame));\n            vidpanel.setIcon(image);\n            vidpanel.repaint();\n\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7552089,"reputation":11,"user_id":5733109,"display_name":"user5733109"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5360,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687846866,"creation_date":1454039599,"question_id":35076578,"body_markdown":"I am trying to use opencv to load a video file in Java using netbeans. Does anybody know a way of doing it? I can&#39;t find solutions searching online. ","title":"How to load a video file using Opencv in java","body":"<p>I am trying to use opencv to load a video file in Java using netbeans. Does anybody know a way of doing it? I can't find solutions searching online. </p>\n"},{"tags":["java","oop","collections","interface","project"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1682339849,"post_id":76091881,"comment_id":134194591,"body_markdown":"this: import numberrangesummarizer; looks very dodgy. That &#39;s the name of a package. You import classes, not packages, or you add .* at the end of it, indicating you import all the classes in that package.","body":"this: import numberrangesummarizer; looks very dodgy. That &#39;s the name of a package. You import classes, not packages, or you add .* at the end of it, indicating you import all the classes in that package."}],"answers":[{"tags":[],"owner":{"account_id":3033509,"reputation":539,"user_id":2572072,"accept_rate":38,"display_name":"Stik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682339892,"creation_date":1682339892,"answer_id":76091966,"question_id":76091881,"body_markdown":"I don&#39;t think your `import` statement is correct.  That&#39;s not correct syntax, it should be `import package.Type`, or `import package.*`.\r\n\r\nAlso, Assuming that `NumberRangeSummarizerImpl` is in the same package as the interface type then you don&#39;t need to use an import statement at all.  ","title":"Why isnt my interface implementation not working?","body":"<p>I don't think your <code>import</code> statement is correct.  That's not correct syntax, it should be <code>import package.Type</code>, or <code>import package.*</code>.</p>\n<p>Also, Assuming that <code>NumberRangeSummarizerImpl</code> is in the same package as the interface type then you don't need to use an import statement at all.</p>\n"},{"tags":[],"owner":{"account_id":28367824,"reputation":73,"user_id":21696871,"display_name":"fnymmm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687846727,"creation_date":1682340222,"answer_id":76092017,"question_id":76091881,"body_markdown":"I tried to rebuild your problem, where all three files exist in the src folder and it worked without the `import numberrangesummarizer;`.\r\n\r\nHave you tried removing this statement?\r\n\r\nGenerally speaking its a [bad practice to have files not in a named package][1]\r\n\r\n\r\n  [1]: https://rules.sonarsource.com/java/RSPEC-1220","title":"Why isnt my interface implementation not working?","body":"<p>I tried to rebuild your problem, where all three files exist in the src folder and it worked without the <code>import numberrangesummarizer;</code>.</p>\n<p>Have you tried removing this statement?</p>\n<p>Generally speaking its a <a href=\"https://rules.sonarsource.com/java/RSPEC-1220\" rel=\"nofollow noreferrer\">bad practice to have files not in a named package</a></p>\n"}],"owner":{"account_id":19463422,"reputation":39,"user_id":14237205,"display_name":"MillsBills"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76092017,"answer_count":2,"score":0,"last_activity_date":1687846727,"creation_date":1682339261,"question_id":76091881,"body_markdown":"I have made a java project which takes in a string of numbers and goes through some motions in interface methods to produce a result. I tested this without the implementation of the interface and it worked perfectly and produced the correct result. Here are the files of NumberRangeSummarizerImpl (No interaction with interface file yet, works perfect) \r\n```\r\nimport java.util.*;\r\n//import numberrangesummarizer;\r\n\r\npublic class NumberRangeSummarizerImpl {\r\n\r\n    public Collection&lt;Integer&gt; collect(String input) \r\n    {\r\n        \r\n        // Split the input string into individual number strings and parse them into integers\r\n        String[] numberStrings = input.split(&quot;,&quot;);\r\n        List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\r\n        for (String numberString : numberStrings) {\r\n            try {\r\n                int number = Integer.parseInt(numberString.trim());\r\n                numbers.add(number);\r\n                //numbers are added to an arraylist \r\n            } catch (NumberFormatException e) {\r\n                // Ignore any non-integer input values t7hfy6h6tg6 number int add the sorted list t\r\n            }\r\n        }\r\n        return numbers;\r\n    }\r\n\r\n    \r\n    public String summarizeCollection(Collection&lt;Integer&gt; input) {\r\n        if (input == null || input.isEmpty()) {\r\n            return &quot;Input invalid.&quot;;\r\n        }\r\n        // Sort the input numbers ASC\r\n        List&lt;Integer&gt; sortedNumbers = new ArrayList&lt;&gt;(input);\r\n        Collections.sort(sortedNumbers);\r\n        \r\n        // compile output string\r\n        StringBuilder sb = new StringBuilder();\r\n        int startNumber = sortedNumbers.get(0);\r\n        int lastNumber = startNumber;\r\n        sb.append(startNumber);\r\n        for (int i = 1; i &lt; sortedNumbers.size(); i++) {\r\n            int number = sortedNumbers.get(i);\r\n            if (number == lastNumber + 1) {\r\n                // The current number is sequential to the previous number\r\n                lastNumber = number;\r\n            } else {\r\n                // The current number is not sequential to the previous number\r\n                if (lastNumber &gt; startNumber) {\r\n                    // Output a range of numbers instead of just the lastNumber\r\n                    sb.append(&quot;-&quot;).append(lastNumber);\r\n                }\r\n                sb.append(&quot;, &quot;).append(number);\r\n                startNumber = number;\r\n                lastNumber = number;\r\n            }\r\n        }\r\n        // Handle the last range of numbers, if there was one\r\n        if (lastNumber &gt; startNumber) {\r\n            sb.append(&quot;-&quot;).append(lastNumber);\r\n        }\r\n        return sb.toString();\r\n    }\r\n}\r\n```\r\nApp.java (Where main is)\r\n```\r\nimport java.util.*;\r\npublic class App {\r\n    public static void main(String[] args) throws Exception {\r\n        NumberRangeSummarizerImpl summarizer = new NumberRangeSummarizerImpl();\r\n        //Collection&lt;Integer&gt; inputNumbers = summarizer.collect(&quot;1,3,6,7,8,12,13,14,15,21,22,23,24,31&quot;);\r\n        Collection&lt;Integer&gt; inputNumbers = summarizer.collect(&quot;1,1,3,6,7,8,12,13,14,15,21,22,23,24,25,26,27,31&quot;);\r\n        String outputString = summarizer.summarizeCollection(inputNumbers);\r\n        System.out.println(outputString);\r\n    }\r\n}\r\n```\r\n\r\nNow I have made an interface java file in the same folder (src)\r\n```\r\npackage numberrangesummarizer;\r\n\r\nimport java.util.Collection;\r\npublic interface NumberRangeSummarizer {\r\n\r\n    //collect the input\r\n    Collection&lt;Integer&gt; collect(String input);\r\n\r\n    //get the summarized string\r\n    String summarizeCollection(Collection&lt;Integer&gt; input);\r\n\r\n}\r\n```\r\n\r\nNow I need to use the interface by implementing it in NumberRangeSummarizerImpl\r\n```\r\nimport java.util.*;\r\nimport numberrangesummarizer;\r\n\r\npublic class NumberRangeSummarizerImpl implements NumberRangeSummarizer {\r\n\r\n    public Collection&lt;Integer&gt; collect(String input) \r\n    {\r\n        \r\n        // Split the input string into individual number strings and parse them into integers\r\n        String[] numberStrings = input.split(&quot;,&quot;);\r\n        List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\r\n        for (String numberString : numberStrings) {\r\n            try {\r\n                int number = Integer.parseInt(numberString.trim());\r\n                numbers.add(number);\r\n                //numbers are added to an arraylist \r\n            } catch (NumberFormatException e) {\r\n                // Ignore any non-integer input values t7hfy6h6tg6 number int add the sorted list t\r\n            }\r\n        }\r\n        return numbers;\r\n    }\r\n\r\n    \r\n    public String summarizeCollection(Collection&lt;Integer&gt; input) {\r\n        if (input == null || input.isEmpty()) {\r\n            return &quot;Input invalid.&quot;;\r\n        }\r\n        // Sort the input numbers ASC\r\n        List&lt;Integer&gt; sortedNumbers = new ArrayList&lt;&gt;(input);\r\n        Collections.sort(sortedNumbers);\r\n        \r\n        // compile output string\r\n        StringBuilder sb = new StringBuilder();\r\n        int startNumber = sortedNumbers.get(0);\r\n        int lastNumber = startNumber;\r\n        sb.append(startNumber);\r\n        for (int i = 1; i &lt; sortedNumbers.size(); i++) {\r\n            int number = sortedNumbers.get(i);\r\n            if (number == lastNumber + 1) {\r\n                // The current number is sequential to the previous number\r\n                lastNumber = number;\r\n            } else {\r\n                // The current number is not sequential to the previous number\r\n                if (lastNumber &gt; startNumber) {\r\n                    // Output a range of numbers instead of just the lastNumber\r\n                    sb.append(&quot;-&quot;).append(lastNumber);\r\n                }\r\n                sb.append(&quot;, &quot;).append(number);\r\n                startNumber = number;\r\n                lastNumber = number;\r\n            }\r\n        }\r\n        // Handle the last range of numbers, if there was one\r\n        if (lastNumber &gt; startNumber) {\r\n            sb.append(&quot;-&quot;).append(lastNumber);\r\n        }\r\n        return sb.toString();\r\n    }\r\n}\r\n```\r\n\r\nIts calling the package, the interface is in the same folder as Impl and yet **it throws an error where it cannot resolve NumberRangeSummarizer** \r\n\r\nI dont understand why? Why is it failing to work?","title":"Why isnt my interface implementation not working?","body":"<p>I have made a java project which takes in a string of numbers and goes through some motions in interface methods to produce a result. I tested this without the implementation of the interface and it worked perfectly and produced the correct result. Here are the files of NumberRangeSummarizerImpl (No interaction with interface file yet, works perfect)</p>\n<pre><code>import java.util.*;\n//import numberrangesummarizer;\n\npublic class NumberRangeSummarizerImpl {\n\n    public Collection&lt;Integer&gt; collect(String input) \n    {\n        \n        // Split the input string into individual number strings and parse them into integers\n        String[] numberStrings = input.split(&quot;,&quot;);\n        List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\n        for (String numberString : numberStrings) {\n            try {\n                int number = Integer.parseInt(numberString.trim());\n                numbers.add(number);\n                //numbers are added to an arraylist \n            } catch (NumberFormatException e) {\n                // Ignore any non-integer input values t7hfy6h6tg6 number int add the sorted list t\n            }\n        }\n        return numbers;\n    }\n\n    \n    public String summarizeCollection(Collection&lt;Integer&gt; input) {\n        if (input == null || input.isEmpty()) {\n            return &quot;Input invalid.&quot;;\n        }\n        // Sort the input numbers ASC\n        List&lt;Integer&gt; sortedNumbers = new ArrayList&lt;&gt;(input);\n        Collections.sort(sortedNumbers);\n        \n        // compile output string\n        StringBuilder sb = new StringBuilder();\n        int startNumber = sortedNumbers.get(0);\n        int lastNumber = startNumber;\n        sb.append(startNumber);\n        for (int i = 1; i &lt; sortedNumbers.size(); i++) {\n            int number = sortedNumbers.get(i);\n            if (number == lastNumber + 1) {\n                // The current number is sequential to the previous number\n                lastNumber = number;\n            } else {\n                // The current number is not sequential to the previous number\n                if (lastNumber &gt; startNumber) {\n                    // Output a range of numbers instead of just the lastNumber\n                    sb.append(&quot;-&quot;).append(lastNumber);\n                }\n                sb.append(&quot;, &quot;).append(number);\n                startNumber = number;\n                lastNumber = number;\n            }\n        }\n        // Handle the last range of numbers, if there was one\n        if (lastNumber &gt; startNumber) {\n            sb.append(&quot;-&quot;).append(lastNumber);\n        }\n        return sb.toString();\n    }\n}\n</code></pre>\n<p>App.java (Where main is)</p>\n<pre><code>import java.util.*;\npublic class App {\n    public static void main(String[] args) throws Exception {\n        NumberRangeSummarizerImpl summarizer = new NumberRangeSummarizerImpl();\n        //Collection&lt;Integer&gt; inputNumbers = summarizer.collect(&quot;1,3,6,7,8,12,13,14,15,21,22,23,24,31&quot;);\n        Collection&lt;Integer&gt; inputNumbers = summarizer.collect(&quot;1,1,3,6,7,8,12,13,14,15,21,22,23,24,25,26,27,31&quot;);\n        String outputString = summarizer.summarizeCollection(inputNumbers);\n        System.out.println(outputString);\n    }\n}\n</code></pre>\n<p>Now I have made an interface java file in the same folder (src)</p>\n<pre><code>package numberrangesummarizer;\n\nimport java.util.Collection;\npublic interface NumberRangeSummarizer {\n\n    //collect the input\n    Collection&lt;Integer&gt; collect(String input);\n\n    //get the summarized string\n    String summarizeCollection(Collection&lt;Integer&gt; input);\n\n}\n</code></pre>\n<p>Now I need to use the interface by implementing it in NumberRangeSummarizerImpl</p>\n<pre><code>import java.util.*;\nimport numberrangesummarizer;\n\npublic class NumberRangeSummarizerImpl implements NumberRangeSummarizer {\n\n    public Collection&lt;Integer&gt; collect(String input) \n    {\n        \n        // Split the input string into individual number strings and parse them into integers\n        String[] numberStrings = input.split(&quot;,&quot;);\n        List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\n        for (String numberString : numberStrings) {\n            try {\n                int number = Integer.parseInt(numberString.trim());\n                numbers.add(number);\n                //numbers are added to an arraylist \n            } catch (NumberFormatException e) {\n                // Ignore any non-integer input values t7hfy6h6tg6 number int add the sorted list t\n            }\n        }\n        return numbers;\n    }\n\n    \n    public String summarizeCollection(Collection&lt;Integer&gt; input) {\n        if (input == null || input.isEmpty()) {\n            return &quot;Input invalid.&quot;;\n        }\n        // Sort the input numbers ASC\n        List&lt;Integer&gt; sortedNumbers = new ArrayList&lt;&gt;(input);\n        Collections.sort(sortedNumbers);\n        \n        // compile output string\n        StringBuilder sb = new StringBuilder();\n        int startNumber = sortedNumbers.get(0);\n        int lastNumber = startNumber;\n        sb.append(startNumber);\n        for (int i = 1; i &lt; sortedNumbers.size(); i++) {\n            int number = sortedNumbers.get(i);\n            if (number == lastNumber + 1) {\n                // The current number is sequential to the previous number\n                lastNumber = number;\n            } else {\n                // The current number is not sequential to the previous number\n                if (lastNumber &gt; startNumber) {\n                    // Output a range of numbers instead of just the lastNumber\n                    sb.append(&quot;-&quot;).append(lastNumber);\n                }\n                sb.append(&quot;, &quot;).append(number);\n                startNumber = number;\n                lastNumber = number;\n            }\n        }\n        // Handle the last range of numbers, if there was one\n        if (lastNumber &gt; startNumber) {\n            sb.append(&quot;-&quot;).append(lastNumber);\n        }\n        return sb.toString();\n    }\n}\n</code></pre>\n<p>Its calling the package, the interface is in the same folder as Impl and yet <strong>it throws an error where it cannot resolve NumberRangeSummarizer</strong></p>\n<p>I dont understand why? Why is it failing to work?</p>\n"},{"tags":["java","logging","cdi","quarkus"],"answers":[{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687846451,"creation_date":1662462067,"answer_id":73620913,"question_id":73619626,"body_markdown":"I have a workaround now:\r\n\r\n - set logger in src to be package visibility, so it can be accessed from test\r\n - org.mockito.@Mock it in JUnit test\r\n - in @BeforeEach, set the mock to the class to test, like `someInstance.logger = mockLogger;`\r\n\r\n\r\nIt has no impact on the original code base, as Quarkus always requires the injected field to be package-private.\r\n","title":"Quarkus - @Inject Logger causes NPE in test while using Mockito extension; @QuarkusTest works fine","body":"<p>I have a workaround now:</p>\n<ul>\n<li>set logger in src to be package visibility, so it can be accessed from test</li>\n<li>org.mockito.@Mock it in JUnit test</li>\n<li>in @BeforeEach, set the mock to the class to test, like <code>someInstance.logger = mockLogger;</code></li>\n</ul>\n<p>It has no impact on the original code base, as Quarkus always requires the injected field to be package-private.</p>\n"}],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73620913,"answer_count":1,"score":1,"last_activity_date":1687846451,"creation_date":1662456144,"question_id":73619626,"body_markdown":"`org.jboss.logging.Logger` with `@Inject` annotation in my code causes `NullPointerException` in my unit test annotated with `@ExtendWith(MockitoExtension.class)`, if I define it as a `org.mockito.@Mock`. It&#39;s fine if it&#39;s used in `@QuarkusTest` as `@Inject Logger`, as Quarkus will inject it. \r\n\r\nI don&#39;t want to change my unit test to `@QuarkusTest` only for this reason. How can I avoid this NPE caused by logger not initialized by Mockito? \r\n\r\nIs this question related? https://stackoverflow.com/questions/67633839/mock-quarkus-provided-logger","title":"Quarkus - @Inject Logger causes NPE in test while using Mockito extension; @QuarkusTest works fine","body":"<p><code>org.jboss.logging.Logger</code> with <code>@Inject</code> annotation in my code causes <code>NullPointerException</code> in my unit test annotated with <code>@ExtendWith(MockitoExtension.class)</code>, if I define it as a <code>org.mockito.@Mock</code>. It's fine if it's used in <code>@QuarkusTest</code> as <code>@Inject Logger</code>, as Quarkus will inject it.</p>\n<p>I don't want to change my unit test to <code>@QuarkusTest</code> only for this reason. How can I avoid this NPE caused by logger not initialized by Mockito?</p>\n<p>Is this question related? <a href=\"https://stackoverflow.com/questions/67633839/mock-quarkus-provided-logger\">Mock Quarkus provided logger</a></p>\n"},{"tags":["java","signals","strace"],"comments":[{"owner":{"account_id":9097660,"reputation":9383,"user_id":6771046,"display_name":"U880D"},"score":1,"creation_date":1687846423,"post_id":76562009,"comment_id":134989726,"body_markdown":"As far as I undertstand [Whats the difference between SIGALRM and SIGVTALRM?](https://unix.stackexchange.com/a/588104/266568) it is a kind of timer ...","body":"As far as I undertstand <a href=\"https://unix.stackexchange.com/a/588104/266568\">Whats the difference between SIGALRM and SIGVTALRM?</a> it is a kind of timer ..."},{"owner":{"account_id":9097660,"reputation":9383,"user_id":6771046,"display_name":"U880D"},"score":0,"creation_date":1687846865,"post_id":76562009,"comment_id":134989792,"body_markdown":"... and it is sent by Kernel, see [How Linux&#39;s `alarm()` is handled by Kernel](https://stackoverflow.com/a/22437779/6771046).","body":"... and it is sent by Kernel, see <a href=\"https://stackoverflow.com/a/22437779/6771046\">How Linux&#39;s <code>alarm()</code> is handled by Kernel</a>."},{"owner":{"account_id":9270413,"reputation":11737,"user_id":6884590,"display_name":"pchaigno"},"score":0,"creation_date":1688232852,"post_id":76562009,"comment_id":135047715,"body_markdown":"I guess next step could be to try and trace calls to the alarm(2) syscall to see who is calling it.","body":"I guess next step could be to try and trace calls to the alarm(2) syscall to see who is calling it."},{"owner":{"account_id":279235,"reputation":109,"user_id":574287,"accept_rate":80,"display_name":"Joey Sun"},"score":0,"creation_date":1688346428,"post_id":76562009,"comment_id":135057673,"body_markdown":"if the syscall is not from the process itself but other processes, how should we trace? Thanks.","body":"if the syscall is not from the process itself but other processes, how should we trace? Thanks."},{"owner":{"account_id":9270413,"reputation":11737,"user_id":6884590,"display_name":"pchaigno"},"score":0,"creation_date":1688374061,"post_id":76562009,"comment_id":135060672,"body_markdown":"I wouldn&#39;t use strace. I&#39;d use something like stackcount (https://github.com/iovisor/bcc/blob/master/tools/stackcount_example.txt), to see calls to alarm and who called it.","body":"I wouldn&#39;t use strace. I&#39;d use something like stackcount (<a href=\"https://github.com/iovisor/bcc/blob/master/tools/stackcount_example.txt\" rel=\"nofollow noreferrer\">github.com/iovisor/bcc/blob/master/tools/stackcount_example&zwnj;&#8203;.txt</a>), to see calls to alarm and who called it."}],"owner":{"account_id":279235,"reputation":109,"user_id":574287,"accept_rate":80,"display_name":"Joey Sun"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687845876,"creation_date":1687845876,"question_id":76562009,"body_markdown":"We have one java application which is based on karaf container, and this application exit every 5-6 days, we investigated and found,\r\n\r\n1. no JVM OOM is occured, and gc logs shows memory is OK and can be collected normally.\r\n2. no linux system OOM kill is occured, no log in &#39;dmesg&#39; and /var/log/messages.\r\n3. JVM didn&#39;t corrupt, no hs_err or core file is generated\r\n\r\nand we tried to strace the application like below,\r\n\r\n    nohup strace -tt -e trace=signal -p 7428 -o /tmp/app.strace &gt;/dev/null 2&gt;&amp;1 &amp;\r\n\r\nand we got below info from the strace log file,\r\n\r\n    [root@admin ~]# cat /tmp/app.strace \r\n    14:33:53.561413 +++ killed by SIGALRM +++\r\n\r\nthe &#39;-f&#39; option of strace is not used since it will cause the application response very slow and will cause the service unusable.\r\n\r\nQuestion is, how could we know which program send the SIGALRM to this application? Thanks!","title":"how to trace where the SIGALRM signal comes from?","body":"<p>We have one java application which is based on karaf container, and this application exit every 5-6 days, we investigated and found,</p>\n<ol>\n<li>no JVM OOM is occured, and gc logs shows memory is OK and can be collected normally.</li>\n<li>no linux system OOM kill is occured, no log in 'dmesg' and /var/log/messages.</li>\n<li>JVM didn't corrupt, no hs_err or core file is generated</li>\n</ol>\n<p>and we tried to strace the application like below,</p>\n<pre><code>nohup strace -tt -e trace=signal -p 7428 -o /tmp/app.strace &gt;/dev/null 2&gt;&amp;1 &amp;\n</code></pre>\n<p>and we got below info from the strace log file,</p>\n<pre><code>[root@admin ~]# cat /tmp/app.strace \n14:33:53.561413 +++ killed by SIGALRM +++\n</code></pre>\n<p>the '-f' option of strace is not used since it will cause the application response very slow and will cause the service unusable.</p>\n<p>Question is, how could we know which program send the SIGALRM to this application? Thanks!</p>\n"},{"tags":["java","jenkins","selenium-java","serenity"],"comments":[{"owner":{"account_id":295316,"reputation":736,"user_id":3324415,"accept_rate":74,"display_name":"BernardV"},"score":0,"creation_date":1687848980,"post_id":76561929,"comment_id":134990138,"body_markdown":"For the Jenkins script configuration I think you should also be explcitly setting to run headlessly. `chrome.switches=--window-size=1920,1080;--headless`","body":"For the Jenkins script configuration I think you should also be explcitly setting to run headlessly. <code>chrome.switches=--window-size=1920,1080;--headless</code>"},{"owner":{"account_id":1765580,"reputation":196,"user_id":1611536,"display_name":"Borra Suneel"},"score":0,"creation_date":1687863155,"post_id":76561929,"comment_id":134993045,"body_markdown":"I have tried this also at Jenkins goals level                                                             verify\n-DexeEnvironment=&quot;$ExecutionEnvironment&quot;\n-DsiteId=&quot;$SiteId&quot;\n-DesatUsername=&quot;$eSatUserName&quot;\n-DesatLoginPwd=&quot;$eSatUserPwd&quot;\n-Dreport.customfields.environment=&quot;$ExecutionEnvironment&quot;\n-Dbatches=&quot;$Module&quot;\n-Dwebdriver.driver=&quot;$Browser&quot;\n-Dfailsafe.rerunFailingTestsCount=0\n-Dchrome.switches=&quot;--disable-gpu&quot;\n-Dchrome.switches=--headless\n-Dchrome.switches=--window-size=1920,1080","body":"I have tried this also at Jenkins goals level                                                             verify -DexeEnvironment=&quot;$ExecutionEnvironment&quot; -DsiteId=&quot;$SiteId&quot; -DesatUsername=&quot;$eSatUserName&quot; -DesatLoginPwd=&quot;$eSatUserPwd&quot; -Dreport.customfields.environment=&quot;$ExecutionEnvironment&quot; -Dbatches=&quot;$Module&quot; -Dwebdriver.driver=&quot;$Browser&quot; -Dfailsafe.rerunFailingTestsCount=0 -Dchrome.switches=&quot;--disable-gpu&quot; -Dchrome.switches=--headless -Dchrome.switches=--window-size=1920,1080"}],"owner":{"account_id":1765580,"reputation":196,"user_id":1611536,"display_name":"Borra Suneel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687844973,"creation_date":1687844973,"question_id":76561929,"body_markdown":"    I am working on running Selenium(Serenity) scripts in Jenkins. Here, my browser window size which is 1920x1080 px resolution and chrome version is 114.0.5735.199. The script is working as expected in locally but not from Jenkins.\r\n    \r\n    I have tried the below codes\r\n    Logic One:\r\n    Dimension size = getDriver().manage().window().getSize();\r\n    int width = size.getWidth();\r\n    int height = size.getHeight();\r\n    // print the current window size\r\n    System.out.println(&quot;Before window size is: &quot; + width + &quot;x&quot; + height);\r\n    \r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;enable-automation&quot;);\r\n    options.addArguments(&quot;--headless&quot;);\r\n    options.addArguments(&quot;--window-size=1920,1080&quot;);\r\n    options.addArguments(&quot;--no-sandbox&quot;);\r\n    options.addArguments(&quot;--disable-extensions&quot;);\r\n    options.addArguments(&quot;--dns-prefetch-disable&quot;);\r\n    options.addArguments(&quot;--disable-gpu&quot;);\r\n    \r\n    ChromeDriver chromeDriver = new ChromeDriver(options);\r\n    Dimension afterDimension = chromeDriver.manage().window().getSize();\r\n    width = afterDimension.getWidth();\r\n    height = afterDimension.getHeight();\r\n    // print the current window size\r\n    System.out.println(&quot;After window size is: &quot; + width + &quot;x&quot; + height);\r\n    Logic Two :\r\n    Dimension size = getDriver().manage().window().getSize();\r\n    int width = size.getWidth();\r\n    int height = size.getHeight();\r\n    // print the current window size\r\n    System.out.println(&quot;Before window size is: &quot; + width + &quot;x&quot; + height);\r\n    getDriver().manage().window().setSize(new Dimension(1920, 1080));\r\n    System.out.println(&quot;After window size is: &quot; + width + &quot;x&quot; + height);\r\n    \r\nLogic Three:\r\nFrom serenity config file.\r\n\r\n               #--Browser will maximized for all the browsers\r\n               serenity.browser.maximized=true\r\n               chrome.switches =--start-maximized\r\n               serenity.browser.width=1920\r\n               serenity.browser.height=1080\r\nThe same configurations are working fine from locally(Windows Machine- Eclipse) but from Jenkins not.\r\n\r\nI&#39;m using the below versions:\r\nSerenity : 2.0.41\r\nChrome Browser : 114.0.5735.199","title":"Script is failing from Jenkins due to difference in screen size - Chrome Browser","body":"<pre><code>I am working on running Selenium(Serenity) scripts in Jenkins. Here, my browser window size which is 1920x1080 px resolution and chrome version is 114.0.5735.199. The script is working as expected in locally but not from Jenkins.\n\nI have tried the below codes\nLogic One:\nDimension size = getDriver().manage().window().getSize();\nint width = size.getWidth();\nint height = size.getHeight();\n// print the current window size\nSystem.out.println(&quot;Before window size is: &quot; + width + &quot;x&quot; + height);\n\nChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;enable-automation&quot;);\noptions.addArguments(&quot;--headless&quot;);\noptions.addArguments(&quot;--window-size=1920,1080&quot;);\noptions.addArguments(&quot;--no-sandbox&quot;);\noptions.addArguments(&quot;--disable-extensions&quot;);\noptions.addArguments(&quot;--dns-prefetch-disable&quot;);\noptions.addArguments(&quot;--disable-gpu&quot;);\n\nChromeDriver chromeDriver = new ChromeDriver(options);\nDimension afterDimension = chromeDriver.manage().window().getSize();\nwidth = afterDimension.getWidth();\nheight = afterDimension.getHeight();\n// print the current window size\nSystem.out.println(&quot;After window size is: &quot; + width + &quot;x&quot; + height);\nLogic Two :\nDimension size = getDriver().manage().window().getSize();\nint width = size.getWidth();\nint height = size.getHeight();\n// print the current window size\nSystem.out.println(&quot;Before window size is: &quot; + width + &quot;x&quot; + height);\ngetDriver().manage().window().setSize(new Dimension(1920, 1080));\nSystem.out.println(&quot;After window size is: &quot; + width + &quot;x&quot; + height);\n</code></pre>\n<p>Logic Three:\nFrom serenity config file.</p>\n<pre><code>           #--Browser will maximized for all the browsers\n           serenity.browser.maximized=true\n           chrome.switches =--start-maximized\n           serenity.browser.width=1920\n           serenity.browser.height=1080\n</code></pre>\n<p>The same configurations are working fine from locally(Windows Machine- Eclipse) but from Jenkins not.</p>\n<p>I'm using the below versions:\nSerenity : 2.0.41\nChrome Browser : 114.0.5735.199</p>\n"},{"tags":["java","docker","github","github-actions"],"comments":[{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":1,"creation_date":1687842822,"post_id":76556121,"comment_id":134989233,"body_markdown":"Does that user has the right permissions i.e. `push`?","body":"Does that user has the right permissions i.e. <code>push</code>?"},{"owner":{"account_id":27093819,"reputation":85,"user_id":20641267,"display_name":"DarkDead"},"score":1,"creation_date":1687844188,"post_id":76556121,"comment_id":134989429,"body_markdown":"I figured it out! I was using wrong method to login. That does not work. I checked this guide: https://docs.docker.com/build/ci/github-actions/ and it worked perfectly fine.","body":"I figured it out! I was using wrong method to login. That does not work. I checked this guide: <a href=\"https://docs.docker.com/build/ci/github-actions/\" rel=\"nofollow noreferrer\">docs.docker.com/build/ci/github-actions</a> and it worked perfectly fine."}],"answers":[{"tags":[],"owner":{"account_id":27093819,"reputation":85,"user_id":20641267,"display_name":"DarkDead"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687844111,"creation_date":1687844111,"answer_id":76561879,"question_id":76556121,"body_markdown":"I figured it out!\r\nThe issue was that it was the wrong way to login.\r\nThe correct way is:\r\n```\r\n   -\r\n        name: Login to Docker Hub\r\n        uses: docker/login-action@v2\r\n        with:\r\n          username: ${{ secrets.DOCKERHUB_USERNAME }}\r\n          password: ${{ secrets.DOCKERHUB_TOKEN }}\r\n```\r\nAs soon as I replaced this `run: docker login -u ${{ secrets.DOCKERHUB_USERNAME }} -p ${{ secrets.DOCKERHUB_PASSWORD }} registry.hub.docker.com` with the above login it worked!\r\n\r\nDetails can be found here: https://docs.docker.com/build/ci/github-actions/","title":"unable to push docker image using github actions","body":"<p>I figured it out!\nThe issue was that it was the wrong way to login.\nThe correct way is:</p>\n<pre><code>   -\n        name: Login to Docker Hub\n        uses: docker/login-action@v2\n        with:\n          username: ${{ secrets.DOCKERHUB_USERNAME }}\n          password: ${{ secrets.DOCKERHUB_TOKEN }}\n</code></pre>\n<p>As soon as I replaced this <code>run: docker login -u ${{ secrets.DOCKERHUB_USERNAME }} -p ${{ secrets.DOCKERHUB_PASSWORD }} registry.hub.docker.com</code> with the above login it worked!</p>\n<p>Details can be found here: <a href=\"https://docs.docker.com/build/ci/github-actions/\" rel=\"nofollow noreferrer\">https://docs.docker.com/build/ci/github-actions/</a></p>\n"}],"owner":{"account_id":27093819,"reputation":85,"user_id":20641267,"display_name":"DarkDead"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":718,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687844111,"creation_date":1687777759,"question_id":76556121,"body_markdown":"I am trying to create a docker image and push it on github.\r\nhere&#39;s my `main.yml`\r\n```\r\nname: Docker\r\n\r\non:\r\n  push:\r\n    branches:\r\n      - master\r\n\r\nenv:\r\n  # TODO: Change variable to your image&#39;s name.\r\n  IMAGE_NAME: java-app\r\n\r\njobs:\r\n  push:\r\n    runs-on: ubuntu-latest\r\n\r\n    steps:\r\n      - name: Checkout code\r\n        uses: actions/checkout@v2\r\n\r\n      - name: Build image\r\n        run: docker build --file ./docker/Dockerfile --tag ${{ env.IMAGE_NAME }} .\r\n\r\n      - name: Log into registry\r\n        run: docker login -u ${{ secrets.DOCKERHUB_USERNAME }} -p ${{ secrets.DOCKERHUB_PASSWORD }} registry.hub.docker.com\r\n  \r\n      - name: Push image\r\n        run: |\r\n          IMAGE_ID=${{ secrets.DOCKERHUB_USERNAME }}/qfix-test\r\n          # Strip git ref prefix from version\r\n          VERSION=$(echo &quot;${{ github.ref }}&quot; | sed -e &#39;s,.*/\\(.*\\),\\1,&#39;)\r\n          # Strip &quot;v&quot; prefix from tag name\r\n          [[ &quot;${{ github.ref }}&quot; == &quot;refs/tags/&quot;* ]] &amp;&amp; VERSION=$(echo $VERSION | sed -e &#39;s/^v//&#39;)\r\n          # Use Docker `latest` tag convention\r\n          [ &quot;$VERSION&quot; == &quot;master&quot; ] &amp;&amp; VERSION=latest\r\n          echo IMAGE_ID=$IMAGE_ID\r\n          echo VERSION=$VERSION\r\n\r\n          docker tag ${{ env.IMAGE_NAME }} $IMAGE_ID:$VERSION\r\n          docker push $IMAGE_ID:$VERSION\r\n```\r\n\r\nHere&#39;s the error:\r\n```\r\nThe push refers to repository [docker.io/***/java-app]\r\nd1eab8b60748: Waiting\r\nunauthorized: access token has insufficient scopes\r\nError: Process completed with exit code 1.\r\n```\r\nI have created 2 secrets one with dockerhub_username, dockerhub_password which has the access token with read, write and delete permissions. I don&#39;t know what I am doing wrong here.\r\n","title":"unable to push docker image using github actions","body":"<p>I am trying to create a docker image and push it on github.\nhere's my <code>main.yml</code></p>\n<pre><code>name: Docker\n\non:\n  push:\n    branches:\n      - master\n\nenv:\n  # TODO: Change variable to your image's name.\n  IMAGE_NAME: java-app\n\njobs:\n  push:\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: Checkout code\n        uses: actions/checkout@v2\n\n      - name: Build image\n        run: docker build --file ./docker/Dockerfile --tag ${{ env.IMAGE_NAME }} .\n\n      - name: Log into registry\n        run: docker login -u ${{ secrets.DOCKERHUB_USERNAME }} -p ${{ secrets.DOCKERHUB_PASSWORD }} registry.hub.docker.com\n  \n      - name: Push image\n        run: |\n          IMAGE_ID=${{ secrets.DOCKERHUB_USERNAME }}/qfix-test\n          # Strip git ref prefix from version\n          VERSION=$(echo &quot;${{ github.ref }}&quot; | sed -e 's,.*/\\(.*\\),\\1,')\n          # Strip &quot;v&quot; prefix from tag name\n          [[ &quot;${{ github.ref }}&quot; == &quot;refs/tags/&quot;* ]] &amp;&amp; VERSION=$(echo $VERSION | sed -e 's/^v//')\n          # Use Docker `latest` tag convention\n          [ &quot;$VERSION&quot; == &quot;master&quot; ] &amp;&amp; VERSION=latest\n          echo IMAGE_ID=$IMAGE_ID\n          echo VERSION=$VERSION\n\n          docker tag ${{ env.IMAGE_NAME }} $IMAGE_ID:$VERSION\n          docker push $IMAGE_ID:$VERSION\n</code></pre>\n<p>Here's the error:</p>\n<pre><code>The push refers to repository [docker.io/***/java-app]\nd1eab8b60748: Waiting\nunauthorized: access token has insufficient scopes\nError: Process completed with exit code 1.\n</code></pre>\n<p>I have created 2 secrets one with dockerhub_username, dockerhub_password which has the access token with read, write and delete permissions. I don't know what I am doing wrong here.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":25155166,"reputation":864,"user_id":19000086,"display_name":"zaid khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687844029,"creation_date":1687844029,"answer_id":76561869,"question_id":76561112,"body_markdown":"No need to create a new layout file for the custom button, just embed it in your fragment&#39;s layout file \r\n\r\nOne way can be this\r\n```\r\n&lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/bottomNavigationView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:itemIconTint=&quot;@color/bnv_tab_item_foreground&quot;\r\n        app:itemTextColor=&quot;@color/bnv_tab_item_foreground&quot;\r\n        android:background=&quot;@color/colorFooter&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:menu=&quot;@menu/bottom_navigation_menu&quot;\r\n        tools:ignore=&quot;MissingConstraints&quot; &gt;\r\n\r\n        &lt;com.google.android.material.button.MaterialButton\r\n            android:id=&quot;@+id/btnAdc&quot;\r\n            android:layout_width=&quot;76dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:background=&quot;@menu/buttonadd&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;@string/add_btn&quot;\r\n            android:textSize=&quot;25sp&quot;\r\n\r\n            /&gt;\r\n    &lt;/com.google.android.material.bottomnavigation.BottomNavigationView&gt;\r\n\r\n```\r\n\r\nYou can also do it using constraints.\r\n\r\n```\r\n  &lt;ImageView\r\n            android:id=&quot;@+id/imageView&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:elevation=&quot;2dp&quot;\r\n            android:src=&quot;@drawable/ic_usernew&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bot_nav_view&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/bot_nav_view&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;0dp&quot;\r\n            android:layout_marginEnd=&quot;0dp&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            app:elevation=&quot;0dp&quot;\r\n            app:itemIconSize=&quot;20dp&quot;\r\n            app:itemTextAppearanceActive=&quot;@style/BottomNavigationView.Active&quot;\r\n            app:itemTextAppearanceInactive=&quot;@style/BottomNavigationView&quot;\r\n            app:itemTextColor=&quot;@drawable/tab_icon_selector&quot;\r\n            app:labelVisibilityMode=&quot;labeled&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nThis component will take the empty space that you specified in your menu items list.","title":"Custom layout of the icon in the bottom menu","body":"<p>No need to create a new layout file for the custom button, just embed it in your fragment's layout file</p>\n<p>One way can be this</p>\n<pre><code>&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/bottomNavigationView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:itemIconTint=&quot;@color/bnv_tab_item_foreground&quot;\n        app:itemTextColor=&quot;@color/bnv_tab_item_foreground&quot;\n        android:background=&quot;@color/colorFooter&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:menu=&quot;@menu/bottom_navigation_menu&quot;\n        tools:ignore=&quot;MissingConstraints&quot; &gt;\n\n        &lt;com.google.android.material.button.MaterialButton\n            android:id=&quot;@+id/btnAdc&quot;\n            android:layout_width=&quot;76dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:background=&quot;@menu/buttonadd&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;@string/add_btn&quot;\n            android:textSize=&quot;25sp&quot;\n\n            /&gt;\n    &lt;/com.google.android.material.bottomnavigation.BottomNavigationView&gt;\n\n</code></pre>\n<p>You can also do it using constraints.</p>\n<pre><code>  &lt;ImageView\n            android:id=&quot;@+id/imageView&quot;\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:elevation=&quot;2dp&quot;\n            android:src=&quot;@drawable/ic_usernew&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bot_nav_view&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n            android:id=&quot;@+id/bot_nav_view&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;0dp&quot;\n            android:layout_marginEnd=&quot;0dp&quot;\n            android:background=&quot;@color/white&quot;\n            app:elevation=&quot;0dp&quot;\n            app:itemIconSize=&quot;20dp&quot;\n            app:itemTextAppearanceActive=&quot;@style/BottomNavigationView.Active&quot;\n            app:itemTextAppearanceInactive=&quot;@style/BottomNavigationView&quot;\n            app:itemTextColor=&quot;@drawable/tab_icon_selector&quot;\n            app:labelVisibilityMode=&quot;labeled&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\n            app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>This component will take the empty space that you specified in your menu items list.</p>\n"}],"owner":{"account_id":28830607,"reputation":1,"user_id":22093559,"display_name":"Nemanja Sabo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687844029,"creation_date":1687829605,"question_id":76561112,"body_markdown":"I would like to achieve a custom look for one of the icons I have in the bottom menu\r\n\r\nI have created button_custom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;ImageButton\r\n        android:layout_width=&quot;40dp&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:background=&quot;@drawable/button_border&quot;\r\n        android:src=&quot;@drawable/ic_baseline_star_24&quot;/&gt;\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\ni added to my menu bottom\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/kuponimeni&quot;\r\n        android:title=&quot;&quot;/&gt;\r\n\r\nAnd I can&#39;t seem to figure out what to add to mine V2MainFragment.java\r\n\r\n```\r\npackage com.uwv.apps.nadjinet1.fragments;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport com.uwv.apps.nadjinet1.Services.BusStation;\r\nimport com.uwv.apps.nadjinet1.activities.LoginV2Activity;\r\nimport com.uwv.apps.nadjinet1.activities.ProfileActivity;\r\nimport com.uwv.apps.nadjinet1.appconfig.AppConfig;\r\nimport com.uwv.apps.nadjinet1.utils.NSLog;\r\nimport android.view.LayoutInflater;\r\nimport android.view.Menu;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentPagerAdapter;\r\nimport androidx.fragment.app.FragmentTransaction;\r\n\r\nimport com.uwv.apps.nadjinet1.R;\r\nimport com.uwv.apps.nadjinet1.Services.NotifyDataNotificationEvent;\r\nimport com.uwv.apps.nadjinet1.classes.Notification;\r\nimport com.uwv.apps.nadjinet1.controllers.sessions.SessionsController;\r\nimport com.uwv.apps.nadjinet1.customView.SwipeDisabledViewPager;\r\nimport com.uwv.apps.nadjinet1.dtmessenger.MessengerHelper;\r\nimport com.uwv.apps.nadjinet1.events.UnseenMessagesEvent;\r\nimport com.google.android.gms.ads.AdListener;\r\nimport com.google.android.gms.ads.AdRequest;\r\nimport com.google.android.gms.ads.AdView;\r\nimport com.google.android.gms.ads.LoadAdError;\r\nimport com.google.android.gms.ads.interstitial.InterstitialAd;\r\nimport com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationItemView;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationMenuView;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\n\r\nimport org.greenrobot.eventbus.EventBus;\r\nimport org.greenrobot.eventbus.Subscribe;\r\nimport org.greenrobot.eventbus.ThreadMode;\r\n\r\nimport butterknife.BindView;\r\nimport butterknife.ButterKnife;\r\n\r\nimport static com.uwv.apps.nadjinet1.appconfig.AppConfig.APP_DEBUG;\r\nimport static com.uwv.apps.nadjinet1.appconfig.AppConfig.SHOW_ADS;\r\n\r\n\r\npublic class V2MainFragment extends Fragment {\r\n\r\n    public final static String TAG = &quot;mainfragment&quot;;\r\n    static BottomNavigationView navigation;\r\n\r\n    //navigation bottom\r\n    @BindView(R.id.navigation_bottom)\r\n    View navigation_bottom_view;\r\n    //viewpager\r\n    @BindView(R.id.viewpager)\r\n    SwipeDisabledViewPager viewPager;\r\n    //Admob\r\n    @BindView(R.id.adsLayout)\r\n    LinearLayout adsLayout;\r\n    @BindView(R.id.adView)\r\n    AdView mAdView;\r\n    //context &amp; main acityvity\r\n    private Context myContext;\r\n\r\n    //Menu\r\n    private MenuItem prevMenuItem;\r\n\r\n    //Declare listeners\r\n    private Listener mListener;\r\n    private ViewPagerAdapter adapter;\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View rootView = inflater.inflate(R.layout.v3_fragment_main, container, false);\r\n        ButterKnife.bind(this, rootView);\r\n\r\n\r\n        //init view pager adapter\r\n        initViewPagerAdapter();\r\n\r\n        //Show Interstitial Ads\r\n        initAmob();\r\n\r\n        //init Navigation Bottom\r\n        initNavigationBottomView();\r\n\r\n        return rootView;\r\n    }\r\n\r\n    @Override\r\n    public void onPause() {\r\n        if (mAdView != null)\r\n            mAdView.pause();\r\n        super.onPause();\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        if (mAdView != null)\r\n            mAdView.resume();\r\n        super.onResume();\r\n\r\n    }\r\n\r\n    private InterstitialAd mInterstitialAd;\r\n\r\n    private void initAmob() {\r\n        //Show Banner Ads\r\n        if (SHOW_ADS) {\r\n\r\n            mAdView.setVisibility(View.VISIBLE);\r\n            AdRequest adRequest = new AdRequest.Builder().build();\r\n            mAdView.loadAd(adRequest);\r\n            mAdView.setAdListener(new AdListener() {\r\n                @Override\r\n                public void onAdClicked() {\r\n                    // Code to be executed when the user clicks on an ad.\r\n                }\r\n\r\n                @Override\r\n                public void onAdClosed() {\r\n                    // Code to be executed when the user is about to return\r\n                    // to the app after tapping on an ad.\r\n                }\r\n\r\n                @Override\r\n                public void onAdFailedToLoad(LoadAdError adError) {\r\n                    // Code to be executed when an ad request fails.\r\n                    mAdView.setVisibility(View.GONE);\r\n                }\r\n\r\n                @Override\r\n                public void onAdImpression() {\r\n                    // Code to be executed when an impression is recorded\r\n                    // for an ad.\r\n                }\r\n\r\n                @Override\r\n                public void onAdLoaded() {\r\n                    super.onAdLoaded();\r\n                    mAdView.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n                @Override\r\n                public void onAdOpened() {\r\n                    // Code to be executed when an ad opens an overlay that\r\n                    // covers the screen.\r\n                }\r\n            });\r\n            mAdView.loadAd(adRequest);\r\n        }\r\n\r\n        //show interstitial at first\r\n        if(SHOW_ADS &amp;&amp; AppConfig.SHOW_INTERSTITIAL_AT_FIRST){\r\n            AdRequest adRequest = new AdRequest.Builder().build();\r\n            InterstitialAd.load(getActivity(),getString(R.string.ad_interstitial_id), adRequest,\r\n                    new InterstitialAdLoadCallback() {\r\n                        @Override\r\n                        public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\r\n                            // The mInterstitialAd reference will be null until\r\n                            // an ad is loaded.\r\n                            mInterstitialAd = interstitialAd;\r\n\r\n                            mInterstitialAd.show(getActivity());\r\n                            NSLog.i(TAG, &quot;onAdLoaded&quot;);\r\n                        }\r\n\r\n                        @Override\r\n                        public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\r\n                            // Handle the error\r\n                            NSLog.d(TAG, loadAdError.toString());\r\n                            mInterstitialAd = null;\r\n                        }\r\n                    });\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n\r\n        if (mAdView != null)\r\n            mAdView.destroy();\r\n    }\r\n\r\n    private void initViewPagerAdapter() {\r\n        adapter = new ViewPagerAdapter(getFragmentManager());\r\n        viewPager.setAdapter(adapter);\r\n        viewPager.setOffscreenPageLimit(5);\r\n        viewPager.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                NSLog.e(&quot;edd&quot;,&quot;dd&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    public boolean setCurrentFragment(int position) {\r\n\r\n        viewPager.setCurrentItem(position);\r\n        navigation.getMenu().getItem(position).setChecked(true);\r\n        return true;\r\n\r\n    }\r\n\r\n    public boolean ifFirstFragment() {\r\n        return viewPager.getCurrentItem() == 0;\r\n    }\r\n\r\n    private void initNavigationBottomView() {\r\n\r\n        if (mListener != null)\r\n            mListener.onScrollHorizontal(0);\r\n\r\n        navigation = navigation_bottom_view.findViewById(R.id.navigation);\r\n        navigation.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n\r\n\r\n                switch (item.getItemId()) {\r\n                    case R.id.navigation_home:\r\n                        viewPager.setCurrentItem(0);\r\n\r\n                        if (mListener != null)\r\n                            mListener.onScrollHorizontal(0);\r\n\r\n                        return true;\r\n                    case R.id.navigation_favorites:\r\n                        viewPager.setCurrentItem(1);\r\n\r\n                        if (mListener != null)\r\n                            mListener.onScrollHorizontal(1);\r\n\r\n                        return true;\r\n                    case R.id.navigation_notification:\r\n                        viewPager.setCurrentItem(2);\r\n\r\n                        if (mListener != null)\r\n                            mListener.onScrollHorizontal(2);\r\n\r\n                        return true;\r\n                    case R.id.kuponimeni:\r\n                        viewPager.setCurrentItem(3);\r\n\r\n                        if (mListener != null)\r\n                            mListener.onScrollHorizontal(3);\r\n\r\n                        return true;\r\n                    case R.id.navigation:\r\n                        BusStation.getBus().post(new NavigationDrawerFragment.NavigationDrawerEvent(1));\r\n                }\r\n\r\n\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n    private void updateNotificationBadge() {\r\n\r\n        //notificationsUnseen\r\n        NotificationChatVPFragment.NotificationChaCount = Notification.notificationsUnseen + MessengerHelper.NbrMessagesManager.getNbrTotalMessages();\r\n\r\n        BottomNavigationMenuView bottomNavigationMenuView =\r\n                (BottomNavigationMenuView) navigation.getChildAt(0);\r\n\r\n        View v = bottomNavigationMenuView.getChildAt(3);\r\n        BottomNavigationItemView itemView = (BottomNavigationItemView) v;\r\n\r\n        View badge = LayoutInflater.from(myContext)\r\n                .inflate(R.layout.nav_btm_notif_badge, itemView, true);\r\n\r\n        if (NotificationChatVPFragment.NotificationChaCount &gt; 0) {\r\n            badge.findViewById(R.id.notifications_badge).setVisibility(View.VISIBLE);\r\n            int notificationCounter = NotificationChatVPFragment.NotificationChaCount;\r\n            ((TextView) badge.findViewById(R.id.notifications_badge)).setText(notificationCounter &gt;= 100 ? &quot;+99&quot; : String.valueOf(notificationCounter));\r\n        } else {\r\n            badge.findViewById(R.id.notifications_badge).setVisibility(View.GONE);\r\n        }\r\n\r\n    }\r\n\r\n    // This method will be called when a Notification is posted (in the UI thread for Toast)\r\n    @Subscribe(sticky = true, threadMode = ThreadMode.MAIN)\r\n    public void onMessageEvent(NotifyDataNotificationEvent event) {\r\n        if (event.message.equals(&quot;update_badges&quot;)) {\r\n            updateNotificationBadge();\r\n        }\r\n    }\r\n\r\n    // This method will be called when a Messages is posted (in the UI thread for Toast)\r\n    @Subscribe(sticky = true, threadMode = ThreadMode.MAIN)\r\n    public void onMessageEvent(UnseenMessagesEvent event) {\r\n        if (APP_DEBUG)\r\n            if (MessengerHelper.NbrMessagesManager.getNbrTotalMessages() &gt; 0) {\r\n                Toast.makeText(getActivity(), &quot;New message &quot; + MessengerHelper.NbrMessagesManager.getNbrTotalMessages()\r\n                        , Toast.LENGTH_LONG).show();\r\n\r\n            }\r\n        updateNotificationBadge();\r\n    }\r\n\r\n    private void pageChangedListener(final SwipeDisabledViewPager mViewPager, final BottomNavigationView mBottomNavigationView) {\r\n\r\n\r\n        mViewPager.addOnPageChangeListener(new SwipeDisabledViewPager.OnPageChangeListener() {\r\n\r\n            @Override\r\n            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onPageSelected(int position) {\r\n                prevMenuItem = mBottomNavigationView.getMenu().getItem(position);\r\n\r\n\r\n                if (prevMenuItem != null)\r\n                    prevMenuItem.setChecked(false);\r\n                else {\r\n                    mBottomNavigationView.getMenu().getItem(0).setChecked(false);\r\n                    mBottomNavigationView.getMenu().getItem(position).setChecked(true);\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onPageScrollStateChanged(int state) {\r\n\r\n\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onPrepareOptionsMenu(@NonNull Menu menu) {\r\n        super.onPrepareOptionsMenu(menu);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        NSLog.e(&quot;dddd&quot;,viewPager.getCurrentItem());\r\n        NSLog.e(&quot;dddd&quot;,adapter.getPageTitle(viewPager.getCurrentItem()).toString());\r\n        NSLog.e(&quot;dddd&quot;,adapter.getPageTitle(viewPager.getCurrentItem()).toString());\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onAttach(Activity activity) {\r\n        super.onAttach(activity);\r\n        myContext = activity;\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n\r\n        EventBus.getDefault().register(this);\r\n\r\n        //display notification badge counter\r\n        updateNotificationBadge();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        super.onStop();\r\n\r\n        EventBus.getDefault().unregister(this);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setHasOptionsMenu(true);\r\n    }\r\n\r\n    @Override\r\n    public void onCreateOptionsMenu(@NonNull Menu menu, @NonNull MenuInflater inflater) {\r\n        super.onCreateOptionsMenu(menu, inflater);\r\n        inflater.inflate(R.menu.home_menu, menu);\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        if (item.getItemId() == android.R.id.home) {\r\n            getActivity().finish();\r\n        } else if (item.getItemId() == R.id.search_icon) {\r\n\r\n            CustomSearchFragment fragment = new CustomSearchFragment();\r\n            FragmentManager manager = getFragmentManager();\r\n            manager.beginTransaction()\r\n                    .add(R.id.main_container, fragment)\r\n                    .setTransition(FragmentTransaction.TRANSIT_FRAGMENT_FADE)\r\n                    .addToBackStack(&quot;customSearchFrag&quot;)\r\n                    .commit();\r\n\r\n        } else {\r\n            Toast.makeText(myContext, item.getTitle(), Toast.LENGTH_SHORT).show();\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    public void setListener(final Listener mItemListener) {\r\n        this.mListener = mItemListener;\r\n    }\r\n\r\n\r\n    public interface Listener {\r\n        void onScrollHorizontal(int position);\r\n        void onScrollVertical(int scrollXs, int scrollY);\r\n    }\r\n\r\n    public class ViewPagerAdapter extends FragmentPagerAdapter implements HomeFragment.Listener {\r\n\r\n        int FRAGS_ITEMS_NUM = 5;\r\n        public ViewPagerAdapter(FragmentManager fragmentManager) {\r\n            super(fragmentManager);\r\n        }\r\n\r\n        // Returns total number of pages\r\n        @Override\r\n        public int getCount() {\r\n            return FRAGS_ITEMS_NUM;\r\n        }\r\n\r\n        // Returns the fragment to display for that page\r\n        @Override\r\n        public Fragment getItem(int position) {\r\n            switch (position) {\r\n                case 0:\r\n                    HomeFragment frag = HomeFragment.newInstance(0, &quot;Page # 1&quot;);\r\n                    frag.setListener(this);\r\n                    return frag;\r\n                case 1:\r\n                    return BookmarkFragment.newInstance(2, &quot;Page # 2&quot;);\r\n                case 2:\r\n                    return NotificationChatVPFragment.newInstance(3, &quot;Page # 4&quot;);\r\n                case 3:\r\n                    return YourFragment.newInstance(4, &quot;Page # 3&quot;);\r\n                case 4:\r\n                    if (SessionsController.isLogged())\r\n                        return ProfileFragment.newInstance(5, &quot;Page # 5&quot;);\r\n                    else\r\n                        return AuthenticationFragment.newInstance(5, &quot;Page # 5&quot;);\r\n                default:\r\n                    return null;\r\n            }\r\n        }\r\n\r\n        // Returns the page title for the top indicator\r\n        @Override\r\n        public CharSequence getPageTitle(int position) {\r\n            return &quot;Page &quot; + position;\r\n        }\r\n\r\n        @Override\r\n        public void onScroll(int scrollX, int scrollY) {\r\n            NSLog.e(&quot;ViewPagerAdapter&quot;, scrollX + &quot; - &quot; + scrollY);\r\n            if (mListener != null)\r\n                mListener.onScrollVertical(scrollX, scrollY);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nI would like to ask for your help\r\n\r\n\r\nThe end goal is roughly this\r\n[enter image description here](https://i.stack.imgur.com/kGDUj.png)\r\n\r\n\r\nI have tried\r\n\r\n```\r\nMenuItem kuponimeniItem = navigation.getMenu().findItem(R.id.kuponimeni);\r\nView customView = LayoutInflater.from(requireContext()).inflate(R.layout.button_custom, null, false);\r\nFrameLayout.LayoutParams layoutParams = new FrameLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT);\r\nlayoutParams.gravity = Gravity.CENTER;\r\ncustomView.setLayoutParams(layoutParams);\r\nkuponimeniItem.setActionView(customView);\r\n```\r\n\r\nBut I got only blank space, so the other icons were displayed normally. And where button_custom should be, it was empty","title":"Custom layout of the icon in the bottom menu","body":"<p>I would like to achieve a custom look for one of the icons I have in the bottom menu</p>\n<p>I have created button_custom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;ImageButton\n        android:layout_width=&quot;40dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:background=&quot;@drawable/button_border&quot;\n        android:src=&quot;@drawable/ic_baseline_star_24&quot;/&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>i added to my menu bottom</p>\n<pre><code>&lt;item\n    android:id=&quot;@+id/kuponimeni&quot;\n    android:title=&quot;&quot;/&gt;\n</code></pre>\n<p>And I can't seem to figure out what to add to mine V2MainFragment.java</p>\n<pre><code>package com.uwv.apps.nadjinet1.fragments;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Bundle;\n\nimport com.uwv.apps.nadjinet1.Services.BusStation;\nimport com.uwv.apps.nadjinet1.activities.LoginV2Activity;\nimport com.uwv.apps.nadjinet1.activities.ProfileActivity;\nimport com.uwv.apps.nadjinet1.appconfig.AppConfig;\nimport com.uwv.apps.nadjinet1.utils.NSLog;\nimport android.view.LayoutInflater;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentPagerAdapter;\nimport androidx.fragment.app.FragmentTransaction;\n\nimport com.uwv.apps.nadjinet1.R;\nimport com.uwv.apps.nadjinet1.Services.NotifyDataNotificationEvent;\nimport com.uwv.apps.nadjinet1.classes.Notification;\nimport com.uwv.apps.nadjinet1.controllers.sessions.SessionsController;\nimport com.uwv.apps.nadjinet1.customView.SwipeDisabledViewPager;\nimport com.uwv.apps.nadjinet1.dtmessenger.MessengerHelper;\nimport com.uwv.apps.nadjinet1.events.UnseenMessagesEvent;\nimport com.google.android.gms.ads.AdListener;\nimport com.google.android.gms.ads.AdRequest;\nimport com.google.android.gms.ads.AdView;\nimport com.google.android.gms.ads.LoadAdError;\nimport com.google.android.gms.ads.interstitial.InterstitialAd;\nimport com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback;\nimport com.google.android.material.bottomnavigation.BottomNavigationItemView;\nimport com.google.android.material.bottomnavigation.BottomNavigationMenuView;\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\n\nimport org.greenrobot.eventbus.EventBus;\nimport org.greenrobot.eventbus.Subscribe;\nimport org.greenrobot.eventbus.ThreadMode;\n\nimport butterknife.BindView;\nimport butterknife.ButterKnife;\n\nimport static com.uwv.apps.nadjinet1.appconfig.AppConfig.APP_DEBUG;\nimport static com.uwv.apps.nadjinet1.appconfig.AppConfig.SHOW_ADS;\n\n\npublic class V2MainFragment extends Fragment {\n\n    public final static String TAG = &quot;mainfragment&quot;;\n    static BottomNavigationView navigation;\n\n    //navigation bottom\n    @BindView(R.id.navigation_bottom)\n    View navigation_bottom_view;\n    //viewpager\n    @BindView(R.id.viewpager)\n    SwipeDisabledViewPager viewPager;\n    //Admob\n    @BindView(R.id.adsLayout)\n    LinearLayout adsLayout;\n    @BindView(R.id.adView)\n    AdView mAdView;\n    //context &amp; main acityvity\n    private Context myContext;\n\n    //Menu\n    private MenuItem prevMenuItem;\n\n    //Declare listeners\n    private Listener mListener;\n    private ViewPagerAdapter adapter;\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View rootView = inflater.inflate(R.layout.v3_fragment_main, container, false);\n        ButterKnife.bind(this, rootView);\n\n\n        //init view pager adapter\n        initViewPagerAdapter();\n\n        //Show Interstitial Ads\n        initAmob();\n\n        //init Navigation Bottom\n        initNavigationBottomView();\n\n        return rootView;\n    }\n\n    @Override\n    public void onPause() {\n        if (mAdView != null)\n            mAdView.pause();\n        super.onPause();\n    }\n\n    @Override\n    public void onResume() {\n        if (mAdView != null)\n            mAdView.resume();\n        super.onResume();\n\n    }\n\n    private InterstitialAd mInterstitialAd;\n\n    private void initAmob() {\n        //Show Banner Ads\n        if (SHOW_ADS) {\n\n            mAdView.setVisibility(View.VISIBLE);\n            AdRequest adRequest = new AdRequest.Builder().build();\n            mAdView.loadAd(adRequest);\n            mAdView.setAdListener(new AdListener() {\n                @Override\n                public void onAdClicked() {\n                    // Code to be executed when the user clicks on an ad.\n                }\n\n                @Override\n                public void onAdClosed() {\n                    // Code to be executed when the user is about to return\n                    // to the app after tapping on an ad.\n                }\n\n                @Override\n                public void onAdFailedToLoad(LoadAdError adError) {\n                    // Code to be executed when an ad request fails.\n                    mAdView.setVisibility(View.GONE);\n                }\n\n                @Override\n                public void onAdImpression() {\n                    // Code to be executed when an impression is recorded\n                    // for an ad.\n                }\n\n                @Override\n                public void onAdLoaded() {\n                    super.onAdLoaded();\n                    mAdView.setVisibility(View.VISIBLE);\n                }\n\n                @Override\n                public void onAdOpened() {\n                    // Code to be executed when an ad opens an overlay that\n                    // covers the screen.\n                }\n            });\n            mAdView.loadAd(adRequest);\n        }\n\n        //show interstitial at first\n        if(SHOW_ADS &amp;&amp; AppConfig.SHOW_INTERSTITIAL_AT_FIRST){\n            AdRequest adRequest = new AdRequest.Builder().build();\n            InterstitialAd.load(getActivity(),getString(R.string.ad_interstitial_id), adRequest,\n                    new InterstitialAdLoadCallback() {\n                        @Override\n                        public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\n                            // The mInterstitialAd reference will be null until\n                            // an ad is loaded.\n                            mInterstitialAd = interstitialAd;\n\n                            mInterstitialAd.show(getActivity());\n                            NSLog.i(TAG, &quot;onAdLoaded&quot;);\n                        }\n\n                        @Override\n                        public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\n                            // Handle the error\n                            NSLog.d(TAG, loadAdError.toString());\n                            mInterstitialAd = null;\n                        }\n                    });\n\n        }\n    }\n\n\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n\n        if (mAdView != null)\n            mAdView.destroy();\n    }\n\n    private void initViewPagerAdapter() {\n        adapter = new ViewPagerAdapter(getFragmentManager());\n        viewPager.setAdapter(adapter);\n        viewPager.setOffscreenPageLimit(5);\n        viewPager.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                NSLog.e(&quot;edd&quot;,&quot;dd&quot;);\n            }\n        });\n    }\n\n    public boolean setCurrentFragment(int position) {\n\n        viewPager.setCurrentItem(position);\n        navigation.getMenu().getItem(position).setChecked(true);\n        return true;\n\n    }\n\n    public boolean ifFirstFragment() {\n        return viewPager.getCurrentItem() == 0;\n    }\n\n    private void initNavigationBottomView() {\n\n        if (mListener != null)\n            mListener.onScrollHorizontal(0);\n\n        navigation = navigation_bottom_view.findViewById(R.id.navigation);\n        navigation.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n\n\n                switch (item.getItemId()) {\n                    case R.id.navigation_home:\n                        viewPager.setCurrentItem(0);\n\n                        if (mListener != null)\n                            mListener.onScrollHorizontal(0);\n\n                        return true;\n                    case R.id.navigation_favorites:\n                        viewPager.setCurrentItem(1);\n\n                        if (mListener != null)\n                            mListener.onScrollHorizontal(1);\n\n                        return true;\n                    case R.id.navigation_notification:\n                        viewPager.setCurrentItem(2);\n\n                        if (mListener != null)\n                            mListener.onScrollHorizontal(2);\n\n                        return true;\n                    case R.id.kuponimeni:\n                        viewPager.setCurrentItem(3);\n\n                        if (mListener != null)\n                            mListener.onScrollHorizontal(3);\n\n                        return true;\n                    case R.id.navigation:\n                        BusStation.getBus().post(new NavigationDrawerFragment.NavigationDrawerEvent(1));\n                }\n\n\n                return false;\n            }\n        });\n    }\n\n    private void updateNotificationBadge() {\n\n        //notificationsUnseen\n        NotificationChatVPFragment.NotificationChaCount = Notification.notificationsUnseen + MessengerHelper.NbrMessagesManager.getNbrTotalMessages();\n\n        BottomNavigationMenuView bottomNavigationMenuView =\n                (BottomNavigationMenuView) navigation.getChildAt(0);\n\n        View v = bottomNavigationMenuView.getChildAt(3);\n        BottomNavigationItemView itemView = (BottomNavigationItemView) v;\n\n        View badge = LayoutInflater.from(myContext)\n                .inflate(R.layout.nav_btm_notif_badge, itemView, true);\n\n        if (NotificationChatVPFragment.NotificationChaCount &gt; 0) {\n            badge.findViewById(R.id.notifications_badge).setVisibility(View.VISIBLE);\n            int notificationCounter = NotificationChatVPFragment.NotificationChaCount;\n            ((TextView) badge.findViewById(R.id.notifications_badge)).setText(notificationCounter &gt;= 100 ? &quot;+99&quot; : String.valueOf(notificationCounter));\n        } else {\n            badge.findViewById(R.id.notifications_badge).setVisibility(View.GONE);\n        }\n\n    }\n\n    // This method will be called when a Notification is posted (in the UI thread for Toast)\n    @Subscribe(sticky = true, threadMode = ThreadMode.MAIN)\n    public void onMessageEvent(NotifyDataNotificationEvent event) {\n        if (event.message.equals(&quot;update_badges&quot;)) {\n            updateNotificationBadge();\n        }\n    }\n\n    // This method will be called when a Messages is posted (in the UI thread for Toast)\n    @Subscribe(sticky = true, threadMode = ThreadMode.MAIN)\n    public void onMessageEvent(UnseenMessagesEvent event) {\n        if (APP_DEBUG)\n            if (MessengerHelper.NbrMessagesManager.getNbrTotalMessages() &gt; 0) {\n                Toast.makeText(getActivity(), &quot;New message &quot; + MessengerHelper.NbrMessagesManager.getNbrTotalMessages()\n                        , Toast.LENGTH_LONG).show();\n\n            }\n        updateNotificationBadge();\n    }\n\n    private void pageChangedListener(final SwipeDisabledViewPager mViewPager, final BottomNavigationView mBottomNavigationView) {\n\n\n        mViewPager.addOnPageChangeListener(new SwipeDisabledViewPager.OnPageChangeListener() {\n\n            @Override\n            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n\n            }\n\n            @Override\n            public void onPageSelected(int position) {\n                prevMenuItem = mBottomNavigationView.getMenu().getItem(position);\n\n\n                if (prevMenuItem != null)\n                    prevMenuItem.setChecked(false);\n                else {\n                    mBottomNavigationView.getMenu().getItem(0).setChecked(false);\n                    mBottomNavigationView.getMenu().getItem(position).setChecked(true);\n                }\n\n            }\n\n            @Override\n            public void onPageScrollStateChanged(int state) {\n\n\n            }\n\n        });\n    }\n\n    @Override\n    public void onPrepareOptionsMenu(@NonNull Menu menu) {\n        super.onPrepareOptionsMenu(menu);\n\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        NSLog.e(&quot;dddd&quot;,viewPager.getCurrentItem());\n        NSLog.e(&quot;dddd&quot;,adapter.getPageTitle(viewPager.getCurrentItem()).toString());\n        NSLog.e(&quot;dddd&quot;,adapter.getPageTitle(viewPager.getCurrentItem()).toString());\n\n    }\n\n    @Override\n    public void onAttach(Activity activity) {\n        super.onAttach(activity);\n        myContext = activity;\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n\n        EventBus.getDefault().register(this);\n\n        //display notification badge counter\n        updateNotificationBadge();\n\n    }\n\n    @Override\n    public void onStop() {\n        super.onStop();\n\n        EventBus.getDefault().unregister(this);\n\n    }\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setHasOptionsMenu(true);\n    }\n\n    @Override\n    public void onCreateOptionsMenu(@NonNull Menu menu, @NonNull MenuInflater inflater) {\n        super.onCreateOptionsMenu(menu, inflater);\n        inflater.inflate(R.menu.home_menu, menu);\n    }\n\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        if (item.getItemId() == android.R.id.home) {\n            getActivity().finish();\n        } else if (item.getItemId() == R.id.search_icon) {\n\n            CustomSearchFragment fragment = new CustomSearchFragment();\n            FragmentManager manager = getFragmentManager();\n            manager.beginTransaction()\n                    .add(R.id.main_container, fragment)\n                    .setTransition(FragmentTransaction.TRANSIT_FRAGMENT_FADE)\n                    .addToBackStack(&quot;customSearchFrag&quot;)\n                    .commit();\n\n        } else {\n            Toast.makeText(myContext, item.getTitle(), Toast.LENGTH_SHORT).show();\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n    public void setListener(final Listener mItemListener) {\n        this.mListener = mItemListener;\n    }\n\n\n    public interface Listener {\n        void onScrollHorizontal(int position);\n        void onScrollVertical(int scrollXs, int scrollY);\n    }\n\n    public class ViewPagerAdapter extends FragmentPagerAdapter implements HomeFragment.Listener {\n\n        int FRAGS_ITEMS_NUM = 5;\n        public ViewPagerAdapter(FragmentManager fragmentManager) {\n            super(fragmentManager);\n        }\n\n        // Returns total number of pages\n        @Override\n        public int getCount() {\n            return FRAGS_ITEMS_NUM;\n        }\n\n        // Returns the fragment to display for that page\n        @Override\n        public Fragment getItem(int position) {\n            switch (position) {\n                case 0:\n                    HomeFragment frag = HomeFragment.newInstance(0, &quot;Page # 1&quot;);\n                    frag.setListener(this);\n                    return frag;\n                case 1:\n                    return BookmarkFragment.newInstance(2, &quot;Page # 2&quot;);\n                case 2:\n                    return NotificationChatVPFragment.newInstance(3, &quot;Page # 4&quot;);\n                case 3:\n                    return YourFragment.newInstance(4, &quot;Page # 3&quot;);\n                case 4:\n                    if (SessionsController.isLogged())\n                        return ProfileFragment.newInstance(5, &quot;Page # 5&quot;);\n                    else\n                        return AuthenticationFragment.newInstance(5, &quot;Page # 5&quot;);\n                default:\n                    return null;\n            }\n        }\n\n        // Returns the page title for the top indicator\n        @Override\n        public CharSequence getPageTitle(int position) {\n            return &quot;Page &quot; + position;\n        }\n\n        @Override\n        public void onScroll(int scrollX, int scrollY) {\n            NSLog.e(&quot;ViewPagerAdapter&quot;, scrollX + &quot; - &quot; + scrollY);\n            if (mListener != null)\n                mListener.onScrollVertical(scrollX, scrollY);\n        }\n    }\n\n}\n</code></pre>\n<p>I would like to ask for your help</p>\n<p>The end goal is roughly this\n<a href=\"https://i.stack.imgur.com/kGDUj.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have tried</p>\n<pre><code>MenuItem kuponimeniItem = navigation.getMenu().findItem(R.id.kuponimeni);\nView customView = LayoutInflater.from(requireContext()).inflate(R.layout.button_custom, null, false);\nFrameLayout.LayoutParams layoutParams = new FrameLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT);\nlayoutParams.gravity = Gravity.CENTER;\ncustomView.setLayoutParams(layoutParams);\nkuponimeniItem.setActionView(customView);\n</code></pre>\n<p>But I got only blank space, so the other icons were displayed normally. And where button_custom should be, it was empty</p>\n"},{"tags":["java","powershell","winrm"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687847184,"post_id":76561858,"comment_id":134989846,"body_markdown":"I don&#39;t know that utility but you might try starting with the keyword `echo`","body":"I don&#39;t know that utility but you might try starting with the keyword <code>echo</code>"},{"owner":{"account_id":6268533,"reputation":145,"user_id":4873403,"accept_rate":17,"display_name":"RDX"},"score":0,"creation_date":1687847526,"post_id":76561858,"comment_id":134989912,"body_markdown":"Hi @g00se, can you please say where should I give the &#39;echo&#39; keyword?","body":"Hi @g00se, can you please say where should I give the &#39;echo&#39; keyword?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687847676,"post_id":76561858,"comment_id":134989928,"body_markdown":"At the beginning before &#39;Joe&#39;","body":"At the beginning before &#39;Joe&#39;"},{"owner":{"account_id":6268533,"reputation":145,"user_id":4873403,"accept_rate":17,"display_name":"RDX"},"score":0,"creation_date":1687857919,"post_id":76561858,"comment_id":134991942,"body_markdown":"@g00se I did that but that didn&#39;t work.","body":"@g00se I did that but that didn&#39;t work."},{"owner":{"account_id":19375,"reputation":396713,"user_id":45375,"display_name":"mklement0"},"score":0,"creation_date":1687860015,"post_id":76561858,"comment_id":134992408,"body_markdown":"Does it work if you run the command locally? `&#39;Joe&#39; | java test.java`","body":"Does it work if you run the command locally? <code>&#39;Joe&#39; | java test.java</code>"},{"owner":{"account_id":19375,"reputation":396713,"user_id":45375,"display_name":"mklement0"},"score":0,"creation_date":1687860059,"post_id":76561858,"comment_id":134992419,"body_markdown":"@g00se, the command in the question uses PowerShell&#39;s implicit output feature, so there&#39;s no need for `echo`","body":"@g00se, the command in the question uses PowerShell&#39;s implicit output feature, so there&#39;s no need for <code>echo</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687860397,"post_id":76561858,"comment_id":134992487,"body_markdown":"Yes, I was wondering if that might be the case. Is that feature present in all versions? Not my field really ;)","body":"Yes, I was wondering if that might be the case. Is that feature present in all versions? Not my field really ;)"},{"owner":{"account_id":6268533,"reputation":145,"user_id":4873403,"accept_rate":17,"display_name":"RDX"},"score":0,"creation_date":1687863698,"post_id":76561858,"comment_id":134993177,"body_markdown":"hi @mklement0, no the command `&#39;Joe&#39; | java test.java` didn&#39;t work locally also. It didn&#39;t enter any value for the prompt and threw the &#39;java.util.NoSuchElementException: No line found&#39; exception.","body":"hi @mklement0, no the command <code>&#39;Joe&#39; | java test.java</code> didn&#39;t work locally also. It didn&#39;t enter any value for the prompt and threw the &#39;java.util.NoSuchElementException: No line found&#39; exception."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1687864428,"post_id":76561858,"comment_id":134993313,"body_markdown":"You&#39;ve got a `Scanner` reading from stdin at the outset of the app? You would *have* to for it to respond to that (if &#39;auto-echo&#39; happens). IOW it would *not* work if arguments to `test.main` are expected","body":"You&#39;ve got a <code>Scanner</code> reading from stdin at the outset of the app? You would <i>have</i> to for it to respond to that (if &#39;auto-echo&#39; happens). IOW it would <i>not</i> work if arguments to <code>test.main</code> are expected"},{"owner":{"account_id":19375,"reputation":396713,"user_id":45375,"display_name":"mklement0"},"score":0,"creation_date":1687868594,"post_id":76561858,"comment_id":134994264,"body_markdown":"@g00se, yes, this behavior is an integral part of PowerShell&#39;s output philosophy, and has always worked this way.","body":"@g00se, yes, this behavior is an integral part of PowerShell&#39;s output philosophy, and has always worked this way."},{"owner":{"account_id":19375,"reputation":396713,"user_id":45375,"display_name":"mklement0"},"score":0,"creation_date":1687868650,"post_id":76561858,"comment_id":134994282,"body_markdown":"@RDX, this suggests that your problem is unrelated to both `winrs` and PowerShell: you need to investigate why your Java application doesn&#39;t read from stdin as you expect it to.","body":"@RDX, this suggests that your problem is unrelated to both <code>winrs</code> and PowerShell: you need to investigate why your Java application doesn&#39;t read from stdin as you expect it to."},{"owner":{"account_id":6268533,"reputation":145,"user_id":4873403,"accept_rate":17,"display_name":"RDX"},"score":0,"creation_date":1687869781,"post_id":76561858,"comment_id":134994596,"body_markdown":"@mklement0 , in my case when I execute the java file manually it prompts for the user input and we enter that and press the &quot;enter&quot; key. Can&#39;t this be automated via powershell?","body":"@mklement0 , in my case when I execute the java file manually it prompts for the user input and we enter that and press the &quot;enter&quot; key. Can&#39;t this be automated via powershell?"},{"owner":{"account_id":19375,"reputation":396713,"user_id":45375,"display_name":"mklement0"},"score":0,"creation_date":1687870002,"post_id":76561858,"comment_id":134994657,"body_markdown":"@RDX, if the application is designed to read user responses from stdin, your approach should work. Since it doesn&#39;t, you&#39;ll either have to modify the application, or - suboptimally - _send keystrokes_. However, I don&#39;t think that will work in _remote_ calls. If you cannot modify the application, see if it accepts command-line _arguments_ as an alternative to providing data interactively.","body":"@RDX, if the application is designed to read user responses from stdin, your approach should work. Since it doesn&#39;t, you&#39;ll either have to modify the application, or - suboptimally - <i>send keystrokes</i>. However, I don&#39;t think that will work in <i>remote</i> calls. If you cannot modify the application, see if it accepts command-line <i>arguments</i> as an alternative to providing data interactively."},{"owner":{"account_id":6268533,"reputation":145,"user_id":4873403,"accept_rate":17,"display_name":"RDX"},"score":0,"creation_date":1687870140,"post_id":76561858,"comment_id":134994694,"body_markdown":"Hi @g00se, yes in our java code we are using the objects of the Scanner class. So manually running the java file is working perfectly. Only trying to automate running the java file it is not entering any value for the prompt.","body":"Hi @g00se, yes in our java code we are using the objects of the Scanner class. So manually running the java file is working perfectly. Only trying to automate running the java file it is not entering any value for the prompt."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687870348,"post_id":76561858,"comment_id":134994740,"body_markdown":"As @mklement0 said, it might be the fact that you&#39;re remoting that&#39;s throwing stdin off, but you&#39;re saying *it&#39;s not even running locally*?","body":"As @mklement0 said, it might be the fact that you&#39;re remoting that&#39;s throwing stdin off, but you&#39;re saying <i>it&#39;s not even running locally</i>?"},{"owner":{"account_id":6268533,"reputation":145,"user_id":4873403,"accept_rate":17,"display_name":"RDX"},"score":0,"creation_date":1687871116,"post_id":76561858,"comment_id":134994944,"body_markdown":"@g00se, yes running `&#39;joe&#39; | java test.java` also is not working","body":"@g00se, yes running <code>&#39;joe&#39; | java test.java</code> also is not working"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687871371,"post_id":76561858,"comment_id":134995007,"body_markdown":"If it also doesn&#39;t work when prefaced with `echo` then you&#39;d better post code that demos the problem","body":"If it also doesn&#39;t work when prefaced with <code>echo</code> then you&#39;d better post code that demos the problem"}],"owner":{"account_id":6268533,"reputation":145,"user_id":4873403,"accept_rate":17,"display_name":"RDX"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687843867,"creation_date":1687843867,"question_id":76561858,"body_markdown":"I have a requirement where I need to access the remote machine&#39;s powershell and execute a few scripts. I did the same via winrs and able to start the executing of the script. But when there is a prompt coming, I am not able to automatically enter the value and the program gets stuck at the prompt itself. \r\n\r\nThe following is the powershell code I have written: \r\n\r\n    &#39;Joe&#39; | winrs /r:remoteHostServer /username:admin /password:xxxxxx powershell -c &quot;Set-Location C:\\test; java test.java;`$user1 = Read-Host;&quot;\r\n\r\nThe test.java should give a prompt to the user to enter the name. I want to enter the name &quot;Joe&quot; and hence I am passing that as stdin. But it is not entering the name. I am getting the below output: \r\n\r\n    Enter the name for user:java.util.NoSuchElementException: No line found\r\n\r\nBut when I am executing the test.java file manually everything is working fine. \r\n\r\nIs my above way of passing the value right? Please guide me as I am new to powershell scripting. \r\n","title":"How to autofill the command line prompt obtained after logging into the remote machine using winrs","body":"<p>I have a requirement where I need to access the remote machine's powershell and execute a few scripts. I did the same via winrs and able to start the executing of the script. But when there is a prompt coming, I am not able to automatically enter the value and the program gets stuck at the prompt itself.</p>\n<p>The following is the powershell code I have written:</p>\n<pre><code>'Joe' | winrs /r:remoteHostServer /username:admin /password:xxxxxx powershell -c &quot;Set-Location C:\\test; java test.java;`$user1 = Read-Host;&quot;\n</code></pre>\n<p>The test.java should give a prompt to the user to enter the name. I want to enter the name &quot;Joe&quot; and hence I am passing that as stdin. But it is not entering the name. I am getting the below output:</p>\n<pre><code>Enter the name for user:java.util.NoSuchElementException: No line found\n</code></pre>\n<p>But when I am executing the test.java file manually everything is working fine.</p>\n<p>Is my above way of passing the value right? Please guide me as I am new to powershell scripting.</p>\n"},{"tags":["java","multipartform-data","karate","multipartfile"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1687616995,"post_id":76546469,"comment_id":134963426,"body_markdown":"I personally can&#39;t give you any more pointers other than thread you have linked already. this may be a little bit of work, but I recommend going through this as well: https://github.com/karatelabs/karate/issues/1645#issuecomment-862502881 - you can&#39;t expect people to troubleshoot this without being able to see what your server expects. you can try pasting a cURL export from postman and see if that provides any clues","body":"I personally can&#39;t give you any more pointers other than thread you have linked already. this may be a little bit of work, but I recommend going through this as well: <a href=\"https://github.com/karatelabs/karate/issues/1645#issuecomment-862502881\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/issues/1645#issuecomment-862502&zwnj;&#8203;881</a> - you can&#39;t expect people to troubleshoot this without being able to see what your server expects. you can try pasting a cURL export from postman and see if that provides any clues"},{"owner":{"account_id":17686040,"reputation":95,"user_id":12838963,"display_name":"automation.ninja.08"},"score":0,"creation_date":1687701802,"post_id":76546469,"comment_id":134970398,"body_markdown":"@PeterThomas : thanks for your response, I have gone through the above thread, for now I have written a separate helper to use OkhttpClient and calling that function in my Feature file. I will try to figure out why the Apache http client was not working with our multipart API request and share my feedback once I have any breakthrough","body":"@PeterThomas : thanks for your response, I have gone through the above thread, for now I have written a separate helper to use OkhttpClient and calling that function in my Feature file. I will try to figure out why the Apache http client was not working with our multipart API request and share my feedback once I have any breakthrough"},{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1687704467,"post_id":76546469,"comment_id":134970682,"body_markdown":"this is not about the apache http client, it is simply that you did not use the right field-names and content-types. who knows, it may not even be a multi-part upload, and you haven&#39;t provided any information or cURL example. you could post your okhttp code and remove the actual URL, that would certainly help - but glad you have a workaround.","body":"this is not about the apache http client, it is simply that you did not use the right field-names and content-types. who knows, it may not even be a multi-part upload, and you haven&#39;t provided any information or cURL example. you could post your okhttp code and remove the actual URL, that would certainly help - but glad you have a workaround."},{"owner":{"account_id":17686040,"reputation":95,"user_id":12838963,"display_name":"automation.ninja.08"},"score":0,"creation_date":1687713343,"post_id":76546469,"comment_id":134971700,"body_markdown":"@PeterThomas: I have updated the question with the okhttpHelper implementation. Please suggest if you see any issues and let me know if there is anything if I was missing while using karate multipart","body":"@PeterThomas: I have updated the question with the okhttpHelper implementation. Please suggest if you see any issues and let me know if there is anything if I was missing while using karate multipart"},{"owner":{"account_id":17686040,"reputation":95,"user_id":12838963,"display_name":"automation.ninja.08"},"score":0,"creation_date":1687716639,"post_id":76546469,"comment_id":134972068,"body_markdown":"Also added the curl command with the question","body":"Also added the curl command with the question"},{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1687754116,"post_id":76546469,"comment_id":134975316,"body_markdown":"the okhttp code says `field1`, `file1` - but the curl says: `file`, `metadata`. so which one is correct ?","body":"the okhttp code says <code>field1</code>, <code>file1</code> - but the curl says: <code>file</code>, <code>metadata</code>. so which one is correct ?"},{"owner":{"account_id":17686040,"reputation":95,"user_id":12838963,"display_name":"automation.ninja.08"},"score":0,"creation_date":1687784469,"post_id":76546469,"comment_id":134980762,"body_markdown":"@PeterThomas: it was just a sample with dummy values I have updated, I had just updated the implementation as well as the sample curl command","body":"@PeterThomas: it was just a sample with dummy values I have updated, I had just updated the implementation as well as the sample curl command"}],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687843063,"creation_date":1687842762,"answer_id":76561784,"question_id":76546469,"body_markdown":"As far as I can tell, this should work:\r\n\r\n    * url &#39;https://httpbin.org/anything&#39;\r\n    * multipart file file = { read: &#39;myfile.txt&#39; }\r\n    * multipart field metadata = { some: &#39;data&#39; }\r\n    * method post\r\n\r\nYou can experiment by pointing your okhttp or postman test to `https://httpbin.org/anything` and see what are the differences. The response will tell you all the field values and file values sent in the request.","title":"Karate V 1.3.1 - json data in Multipart/form-data in Multipart field or Multipart file is not working as a expected","body":"<p>As far as I can tell, this should work:</p>\n<pre><code>* url 'https://httpbin.org/anything'\n* multipart file file = { read: 'myfile.txt' }\n* multipart field metadata = { some: 'data' }\n* method post\n</code></pre>\n<p>You can experiment by pointing your okhttp or postman test to <code>https://httpbin.org/anything</code> and see what are the differences. The response will tell you all the field values and file values sent in the request.</p>\n"}],"owner":{"account_id":17686040,"reputation":95,"user_id":12838963,"display_name":"automation.ninja.08"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687843063,"creation_date":1687616132,"question_id":76546469,"body_markdown":"I am using Karate version 1.3.1 for our projects. Currently we have a use case to test an API which is taking a file and a metadata as part of the request.\r\n\r\nwe are using multipart file and field to write our feature file, but it seems when we check the POsT call on report we dont see the metadata which is a Json going as part of the request.\r\n\r\nAs per the suggestion in link: https://github.com/karatelabs/karate/issues/1710\r\n\r\nwe tried the other approach to use multipart file and value as a parameter but it did not work for us.\r\n\r\nIs there any other way to implement this on karate?\r\n\r\nnote: postman is working without any issues and we get a response too\r\n\r\nplease help if anyone has faced or resolved this.\r\n\r\nBelow is my feature file:\r\n```\r\ndef temp = { &#39;upload&#39;: [&#39;name&#39;:&#39;test&#39;, &#39;org&#39;:123, &#39;branch&#39;: &#39;xyz&#39;, &#39;amount&#39;: 100], &#39;info&#39;: 8900, &#39;id&#39;: 123}\r\n\r\nGiven url &quot;http://11.111.1.111:1111&quot;\r\n\r\nAnd path &quot;/api/v1/upload\r\n\r\nheader Content-Type = &#39;multipart/form-data&#39;\r\n\r\nAnd multipart file file = {read: &#39;classpath:resources/file/file1.txt&#39;, filename: &#39;file1.txt&#39;}\r\n\r\nAnd multipart file metadata = {value: &#39;#(temp)}\r\n\r\nAnd method POST\r\n\r\nprint response\r\n```\r\nNote: I also tried * multipart field metadata = temp (but no luck here)\r\n\r\nResponse:\r\n```\r\ncontent-disposition: form-data; name= file; filename=&quot;file1.txt&quot;\r\ncontent-type: text/plain; charset= UTF-8\r\ncontent-length: 5300\r\nCompleted: true\r\nIsInMemory: true\r\n\r\ncontent-disposition: form-data; name= metadata; filename=&quot;&quot;\r\ncontent-type: application/json; charset= UTF-8\r\ncontent-length: 100\r\nCompleted: true\r\nIsInMemory: true\r\n```\r\n**The issue is when I run the feature file on Karate the api returns me 200 with a blank response.\r\nResponse: { }**\r\n\r\n**but when the same is executed from Postman it returns me response\r\nResponse from postman: {id:123, status: Done}**\r\n\r\n**also I tried the same request with Java okhttpClient request and it worked fine and gave me the expected response.**\r\n\r\n*Is there anything which I am missing while running from Karate?*\r\n-------------------------------------------------------------------\r\n**Implementation of Java Class for OkHttpClient (WORKING):**\r\n```\r\nimport okhttp3.*;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.Map;\r\n\r\npublic class OkHttpHelper {\r\n    private OkHttpClient client;\r\n\r\n    public OkHttpHelper() {\r\n        client = new OkHttpClient();\r\n    }\r\n\r\n    public String executeMultipartRequest(String url, Map&lt;String, String&gt; fields, Map&lt;String, String&gt; files) throws IOException {\r\n        MultipartBody.Builder requestBodyBuilder = new MultipartBody.Builder().setType(MultipartBody.FORM);\r\n\r\n        // Add fields\r\n        if (fields != null) {\r\n            for (Map.Entry&lt;String, String&gt; field : fields.entrySet()) {\r\n                requestBodyBuilder.addFormDataPart(field.getKey(), null, RequestBody.create(MediaType.parse(&quot;application/json&quot;), field.getValue()));\r\n            }\r\n        }\r\n\r\n        // Add files\r\n        if (files != null) {\r\n            for (Map.Entry&lt;String, String&gt; file : files.entrySet()) {\r\n                File uploadFile = new File(file.getValue());\r\n                requestBodyBuilder.addFormDataPart(file.getKey(), uploadFile.getName(),\r\n                        RequestBody.create(MediaType.parse(&quot;text/plain&quot;), uploadFile));\r\n            }\r\n        }\r\n\r\n        RequestBody requestBody = requestBodyBuilder.build();\r\n\r\n        // Print requestBody content\r\n        System.out.println(&quot;Request Body: &quot; + requestBodyToString(requestBody));\r\n\r\n        Request request = new Request.Builder()\r\n                .url(url)\r\n                .post(requestBody)\r\n                .build();\r\n\r\n        try (Response response = client.newCall(request).execute()) {\r\n            return response.body().string();\r\n        }\r\n    }\r\n\r\n    private String requestBodyToString(RequestBody requestBody) throws IOException {\r\n        Buffer buffer = new Buffer();\r\n        requestBody.writeTo(buffer);\r\n        return buffer.readUtf8();\r\n    }\r\n}\r\n```\r\n\r\nFeature file looks like below:\r\n```\r\nFeature: Multipart Request with OkHttp\r\n\r\nBackground:\r\n* def OkHttpHelper = Java.type(&#39;com.example.OkHttpHelper&#39;)\r\n* def okHttpHelper = new OkHttpHelper()\r\n\r\nScenario: Send Multipart Request\r\n    * def url = &#39;https://example.com/upload&#39;\r\n    And def fields = { &quot;metadata&quot;: &#39;{&quot;key1&quot;: &quot;value1&quot;}&#39; }\r\n    And def files = { &quot;file&quot;: &quot;path/to/file1.txt&quot; }\r\n    When def response = okHttpHelper.executeMultipartRequest(url, fields, files)\r\n    Then print response\r\n```\r\n\r\n** CURL Command from POSTMAN**\r\n```\r\ncurl -X POST \\\r\n  http://11.111.11.111:1111/api/v1/fileupload\r\n  -H &#39;Accept: */*&#39; \\\r\n  -H &#39;Accept-Encoding: gzip, deflate&#39; \\\r\n  -H &#39;Cache-Control: no-cache&#39; \\\r\n  -H &#39;Connection: keep-alive&#39; \\\r\n  -H &#39;Content-Length: 5800&#39; \\\r\n  -H &#39;Content-Type: multipart/form-data; boundary=---------23434234234343&#39; \\\r\n  -H &#39;Host: 11.111.11.111:1111&#39; \\\r\n  -H &#39;Postman-Token: XXXXXX-xxxx-xxxx-xxxx-Xxxxxxx,XXXXXXXX&#39; \\\r\n  -H &#39;User-Agent: PostmanRuntime/X.XX.X&#39; \\\r\n  -H &#39;cache-control: no-cache&#39; \\\r\n  -H &#39;content-type: multipart/form-data; boundary=---------23434234234343&#39; \\\r\n  -F file@/C:/Test/Sample/file1.txt \\\r\n  -F metadata= { &quot;metadata&quot;: &#39;{&quot;key1&quot;: &quot;value1&quot;}&#39; }\r\n\r\n```","title":"Karate V 1.3.1 - json data in Multipart/form-data in Multipart field or Multipart file is not working as a expected","body":"<p>I am using Karate version 1.3.1 for our projects. Currently we have a use case to test an API which is taking a file and a metadata as part of the request.</p>\n<p>we are using multipart file and field to write our feature file, but it seems when we check the POsT call on report we dont see the metadata which is a Json going as part of the request.</p>\n<p>As per the suggestion in link: <a href=\"https://github.com/karatelabs/karate/issues/1710\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate/issues/1710</a></p>\n<p>we tried the other approach to use multipart file and value as a parameter but it did not work for us.</p>\n<p>Is there any other way to implement this on karate?</p>\n<p>note: postman is working without any issues and we get a response too</p>\n<p>please help if anyone has faced or resolved this.</p>\n<p>Below is my feature file:</p>\n<pre><code>def temp = { 'upload': ['name':'test', 'org':123, 'branch': 'xyz', 'amount': 100], 'info': 8900, 'id': 123}\n\nGiven url &quot;http://11.111.1.111:1111&quot;\n\nAnd path &quot;/api/v1/upload\n\nheader Content-Type = 'multipart/form-data'\n\nAnd multipart file file = {read: 'classpath:resources/file/file1.txt', filename: 'file1.txt'}\n\nAnd multipart file metadata = {value: '#(temp)}\n\nAnd method POST\n\nprint response\n</code></pre>\n<p>Note: I also tried * multipart field metadata = temp (but no luck here)</p>\n<p>Response:</p>\n<pre><code>content-disposition: form-data; name= file; filename=&quot;file1.txt&quot;\ncontent-type: text/plain; charset= UTF-8\ncontent-length: 5300\nCompleted: true\nIsInMemory: true\n\ncontent-disposition: form-data; name= metadata; filename=&quot;&quot;\ncontent-type: application/json; charset= UTF-8\ncontent-length: 100\nCompleted: true\nIsInMemory: true\n</code></pre>\n<p><strong>The issue is when I run the feature file on Karate the api returns me 200 with a blank response.\nResponse: { }</strong></p>\n<p><strong>but when the same is executed from Postman it returns me response\nResponse from postman: {id:123, status: Done}</strong></p>\n<p><strong>also I tried the same request with Java okhttpClient request and it worked fine and gave me the expected response.</strong></p>\n<h2><em>Is there anything which I am missing while running from Karate?</em></h2>\n<p><strong>Implementation of Java Class for OkHttpClient (WORKING):</strong></p>\n<pre><code>import okhttp3.*;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.Map;\n\npublic class OkHttpHelper {\n    private OkHttpClient client;\n\n    public OkHttpHelper() {\n        client = new OkHttpClient();\n    }\n\n    public String executeMultipartRequest(String url, Map&lt;String, String&gt; fields, Map&lt;String, String&gt; files) throws IOException {\n        MultipartBody.Builder requestBodyBuilder = new MultipartBody.Builder().setType(MultipartBody.FORM);\n\n        // Add fields\n        if (fields != null) {\n            for (Map.Entry&lt;String, String&gt; field : fields.entrySet()) {\n                requestBodyBuilder.addFormDataPart(field.getKey(), null, RequestBody.create(MediaType.parse(&quot;application/json&quot;), field.getValue()));\n            }\n        }\n\n        // Add files\n        if (files != null) {\n            for (Map.Entry&lt;String, String&gt; file : files.entrySet()) {\n                File uploadFile = new File(file.getValue());\n                requestBodyBuilder.addFormDataPart(file.getKey(), uploadFile.getName(),\n                        RequestBody.create(MediaType.parse(&quot;text/plain&quot;), uploadFile));\n            }\n        }\n\n        RequestBody requestBody = requestBodyBuilder.build();\n\n        // Print requestBody content\n        System.out.println(&quot;Request Body: &quot; + requestBodyToString(requestBody));\n\n        Request request = new Request.Builder()\n                .url(url)\n                .post(requestBody)\n                .build();\n\n        try (Response response = client.newCall(request).execute()) {\n            return response.body().string();\n        }\n    }\n\n    private String requestBodyToString(RequestBody requestBody) throws IOException {\n        Buffer buffer = new Buffer();\n        requestBody.writeTo(buffer);\n        return buffer.readUtf8();\n    }\n}\n</code></pre>\n<p>Feature file looks like below:</p>\n<pre><code>Feature: Multipart Request with OkHttp\n\nBackground:\n* def OkHttpHelper = Java.type('com.example.OkHttpHelper')\n* def okHttpHelper = new OkHttpHelper()\n\nScenario: Send Multipart Request\n    * def url = 'https://example.com/upload'\n    And def fields = { &quot;metadata&quot;: '{&quot;key1&quot;: &quot;value1&quot;}' }\n    And def files = { &quot;file&quot;: &quot;path/to/file1.txt&quot; }\n    When def response = okHttpHelper.executeMultipartRequest(url, fields, files)\n    Then print response\n</code></pre>\n<p>** CURL Command from POSTMAN**</p>\n<pre><code>curl -X POST \\\n  http://11.111.11.111:1111/api/v1/fileupload\n  -H 'Accept: */*' \\\n  -H 'Accept-Encoding: gzip, deflate' \\\n  -H 'Cache-Control: no-cache' \\\n  -H 'Connection: keep-alive' \\\n  -H 'Content-Length: 5800' \\\n  -H 'Content-Type: multipart/form-data; boundary=---------23434234234343' \\\n  -H 'Host: 11.111.11.111:1111' \\\n  -H 'Postman-Token: XXXXXX-xxxx-xxxx-xxxx-Xxxxxxx,XXXXXXXX' \\\n  -H 'User-Agent: PostmanRuntime/X.XX.X' \\\n  -H 'cache-control: no-cache' \\\n  -H 'content-type: multipart/form-data; boundary=---------23434234234343' \\\n  -F file@/C:/Test/Sample/file1.txt \\\n  -F metadata= { &quot;metadata&quot;: '{&quot;key1&quot;: &quot;value1&quot;}' }\n\n</code></pre>\n"},{"tags":["java","eclipse","birt"],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687842781,"creation_date":1687842781,"answer_id":76561785,"question_id":76561098,"body_markdown":"You can disable or remove updates site in the **preferences *Install/Update &gt; Available Software Sites***.","title":"Unable to read repository XXXXXXXXXXX IDE Eclipse","body":"<p>You can disable or remove updates site in the <strong>preferences <em>Install/Update &gt; Available Software Sites</em></strong>.</p>\n"}],"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1582,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76561785,"answer_count":1,"score":0,"last_activity_date":1687842781,"creation_date":1687829336,"question_id":76561098,"body_markdown":"Every time when I try to get the `updates` of Eclipse, this window comes in &amp; I already remove/uninstall it from `Uninstall` tab.\r\n\r\nHow can I remove/delete permanently this birt library.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lCw99.png","title":"Unable to read repository XXXXXXXXXXX IDE Eclipse","body":"<p>Every time when I try to get the <code>updates</code> of Eclipse, this window comes in &amp; I already remove/uninstall it from <code>Uninstall</code> tab.</p>\n<p>How can I remove/delete permanently this birt library.</p>\n<p><a href=\"https://i.stack.imgur.com/lCw99.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lCw99.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","class","object","inheritance"],"answers":[{"tags":[],"owner":{"display_name":"user4341816"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1435151687,"creation_date":1435127470,"answer_id":31019196,"question_id":31019157,"body_markdown":"if you don&#39;t explicitly write `extends Object` the compiler does it for you. So knowing that a class can only extend one super class, the compiler will look at the hierarchy and extend the highest super class to `Object`. So every class will directly or indirectly inherit the `Object` class.\r\n\r\nThe `Object` class however is a special case because it doesn&#39;t extend anything.\r\n\r\nLastly if you were to compile a simple class and decompile it, you will see the compiler inserts extends \r\n`java.lang.Object` (or \r\nthe bytecode equivalent) \r\ninto the class","title":"How do all classes inherit from Object?","body":"<p>if you don't explicitly write <code>extends Object</code> the compiler does it for you. So knowing that a class can only extend one super class, the compiler will look at the hierarchy and extend the highest super class to <code>Object</code>. So every class will directly or indirectly inherit the <code>Object</code> class.</p>\n\n<p>The <code>Object</code> class however is a special case because it doesn't extend anything.</p>\n\n<p>Lastly if you were to compile a simple class and decompile it, you will see the compiler inserts extends \n<code>java.lang.Object</code> (or \nthe bytecode equivalent) \ninto the class</p>\n"},{"tags":[],"owner":{"account_id":3577678,"reputation":11003,"user_id":2986537,"accept_rate":100,"display_name":"Razib"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1687842520,"creation_date":1435127526,"answer_id":31019215,"question_id":31019157,"body_markdown":"The `Object` is implicitly direct/indirect super class of all class.  \r\n\r\nFrom [Oracle Java doc][1]:  \r\n\r\n&gt; **Definitions:** A class that is derived from another class is called a\r\n&gt; subclass (also a derived class, extended class, or child class). The\r\n&gt; class from which the subclass is derived is called a superclass (also\r\n&gt; a base class or a parent class).\r\n&gt; \r\n&gt; Excepting `Object`, which has no superclass, every class has one and\r\n&gt; only one direct superclass (single inheritance). ***In the absence of any\r\n&gt; other explicit superclass, every class is implicitly a subclass of\r\n&gt; `Object`.***\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html","title":"How do all classes inherit from Object?","body":"<p>The <code>Object</code> is implicitly direct/indirect super class of all class.</p>\n<p>From <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\" rel=\"nofollow noreferrer\">Oracle Java doc</a>:</p>\n<blockquote>\n<p><strong>Definitions:</strong> A class that is derived from another class is called a\nsubclass (also a derived class, extended class, or child class). The\nclass from which the subclass is derived is called a superclass (also\na base class or a parent class).</p>\n<p>Excepting <code>Object</code>, which has no superclass, every class has one and\nonly one direct superclass (single inheritance). <em><strong>In the absence of any\nother explicit superclass, every class is implicitly a subclass of\n<code>Object</code>.</strong></em></p>\n</blockquote>\n"}],"owner":{"display_name":"user5037864"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7140,"favorite_count":0,"down_vote_count":5,"up_vote_count":10,"answer_count":2,"score":5,"last_activity_date":1687842520,"creation_date":1435127331,"question_id":31019157,"body_markdown":"All classes inherit from `java.lang.Object`, although `extends Object` is (generally) not written out anywhere. How is this possible?","title":"How do all classes inherit from Object?","body":"<p>All classes inherit from <code>java.lang.Object</code>, although <code>extends Object</code> is (generally) not written out anywhere. How is this possible?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":22383561,"reputation":411,"user_id":16596710,"display_name":"Seonghun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687694970,"creation_date":1687694970,"answer_id":76550313,"question_id":76550250,"body_markdown":"**The fine-grained request pattern** should be applied **first**.\r\n\r\nwith the broader scope pattern filtered out first if it&#39;s above it\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((requests) -&gt; requests\r\n                        .requestMatchers(&quot;/admin/auth/**&quot;).permitAll()\r\n                        .requestMatchers(&quot;/admin/**&quot;).authenticated()\r\n                        .anyRequest().permitAll()\r\n                );\r\n        // Disable csrf for now\r\n        http.csrf(c -&gt; c.csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse()).ignoringRequestMatchers(&quot;admin/**&quot;));\r\n        http.addFilterBefore(jwtTokenFilter, UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n    }","title":"Java Spring requestMatchers permit paths within authenticated path","body":"<p><strong>The fine-grained request pattern</strong> should be applied <strong>first</strong>.</p>\n<p>with the broader scope pattern filtered out first if it's above it</p>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n            .authorizeHttpRequests((requests) -&gt; requests\n                    .requestMatchers(&quot;/admin/auth/**&quot;).permitAll()\n                    .requestMatchers(&quot;/admin/**&quot;).authenticated()\n                    .anyRequest().permitAll()\n            );\n    // Disable csrf for now\n    http.csrf(c -&gt; c.csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse()).ignoringRequestMatchers(&quot;admin/**&quot;));\n    http.addFilterBefore(jwtTokenFilter, UsernamePasswordAuthenticationFilter.class);\n    return http.build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28891200,"reputation":3,"user_id":22128327,"display_name":"Jannis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687841933,"creation_date":1687695060,"answer_id":76550320,"question_id":76550250,"body_markdown":"Did you try using the `authorizeRequests` method?\r\nThe order of matching patterns is essential. First, you should specify the more specific way (`/admin/auth/`) and allow access to it with `permitAll()`. Then, select the more general pattern (`/admin/`) and require authentication for it with `authenticated()`.\r\n\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    http\r\n        .authorizeRequests((requests) -&gt; requests\r\n            .antMatchers(&quot;/admin/auth/**&quot;).permitAll()\r\n            .antMatchers(&quot;/admin/**&quot;).authenticated()\r\n            .anyRequest().permitAll()\r\n        )\r\n        .csrf(c -&gt; c\r\n            .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse())\r\n            .ignoringAntMatchers(&quot;/admin/**&quot;)\r\n        )\r\n        .addFilterBefore(jwtTokenFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\n    return http.build();","title":"Java Spring requestMatchers permit paths within authenticated path","body":"<p>Did you try using the <code>authorizeRequests</code> method?\nThe order of matching patterns is essential. First, you should specify the more specific way (<code>/admin/auth/</code>) and allow access to it with <code>permitAll()</code>. Then, select the more general pattern (<code>/admin/</code>) and require authentication for it with <code>authenticated()</code>.</p>\n<pre><code>public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\nhttp\n    .authorizeRequests((requests) -&gt; requests\n        .antMatchers(&quot;/admin/auth/**&quot;).permitAll()\n        .antMatchers(&quot;/admin/**&quot;).authenticated()\n        .anyRequest().permitAll()\n    )\n    .csrf(c -&gt; c\n        .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse())\n        .ignoringAntMatchers(&quot;/admin/**&quot;)\n    )\n    .addFilterBefore(jwtTokenFilter, UsernamePasswordAuthenticationFilter.class);\n\nreturn http.build();\n</code></pre>\n"}],"owner":{"account_id":25922917,"reputation":43,"user_id":19645196,"display_name":"Never_se"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76550313,"answer_count":2,"score":0,"last_activity_date":1687841933,"creation_date":1687693811,"question_id":76550250,"body_markdown":"I am trying to protect all paths at /admin/** but allow /admin/auth/** for the login.\r\n\r\nI have tried this  but does not work;\r\n```\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((requests) -&gt; requests\r\n                        .requestMatchers(&quot;/admin/**&quot;).authenticated()\r\n                        .requestMatchers(&quot;/admin/auth/**&quot;).permitAll()\r\n                        .anyRequest().permitAll()\r\n                );\r\n        // Disable csrf for now\r\n        http.csrf(c -&gt; c.csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse()).ignoringRequestMatchers(&quot;admin/**&quot;));\r\n        http.addFilterBefore(jwtTokenFilter, UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n    }\r\n```\r\nHow can I change it?","title":"Java Spring requestMatchers permit paths within authenticated path","body":"<p>I am trying to protect all paths at /admin/** but allow /admin/auth/** for the login.</p>\n<p>I have tried this  but does not work;</p>\n<pre><code>    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((requests) -&gt; requests\n                        .requestMatchers(&quot;/admin/**&quot;).authenticated()\n                        .requestMatchers(&quot;/admin/auth/**&quot;).permitAll()\n                        .anyRequest().permitAll()\n                );\n        // Disable csrf for now\n        http.csrf(c -&gt; c.csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse()).ignoringRequestMatchers(&quot;admin/**&quot;));\n        http.addFilterBefore(jwtTokenFilter, UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n</code></pre>\n<p>How can I change it?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687840518,"post_id":76561599,"comment_id":134988992,"body_markdown":"Please share your source code as the plain text format","body":"Please share your source code as the plain text format"},{"owner":{"account_id":28901959,"reputation":1,"user_id":22136690,"display_name":"cheonbi"},"score":0,"creation_date":1687841602,"post_id":76561599,"comment_id":134989088,"body_markdown":"@FarkhodAbdukodirov\ni edit my question","body":"@FarkhodAbdukodirov i edit my question"}],"owner":{"account_id":28901959,"reputation":1,"user_id":22136690,"display_name":"cheonbi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687841533,"creation_date":1687839699,"question_id":76561599,"body_markdown":"[enter image description here](https://i.stack.imgur.com/rwxvE.png)\r\nhello, developers\r\nAttempting to connect to hibernate However, the same error as the image occurs.\r\nClassPath and Driver settings are fine.\r\n\r\nIn source code connects well but parsing fails on console\r\n\r\n[Versions]\r\nMariaDB : 10.11.2-MariaDB\r\nHibernate : 5.5.7-Final\r\n\r\n[enter image description here](https://i.stack.imgur.com/duOnr.png)\r\n[enter image description here](https://i.stack.imgur.com/v19qF.png)\r\n\r\nfollowing images is my hibernate configuration console settings \r\n\r\n```\r\npublic class takeSession {\r\n\t\tpublic Session sessionTake() {\r\n\t\t\t\r\n\t\tSessionFactory sf = new Configuration().configure(&quot;/hibernate.cfg.xml&quot;).buildSessionFactory();\r\n\t\tSession session = sf.openSession();\r\n\t\t\r\n\t\tList&lt;loadBean&gt; table = session.createNativeQuery(&quot;SELECT * FROM peak_load&quot;, loadBean.class).list();\r\n\t\t\r\n\t\tCriteriaBuilder builder = session.getCriteriaBuilder();\r\n\t\tCriteriaQuery&lt;loadBean&gt; crit = builder.createQuery(loadBean.class);\r\n\t\tRoot&lt;loadBean&gt; root = crit.from(loadBean.class);\r\n\t\tcrit.select(root);\r\n\t\t\r\n\t\tQuery&lt;loadBean&gt; sql = session.createQuery(crit);\r\n\t\tList&lt;loadBean&gt; results = sql.getResultList();\r\n\t\t\t\t\r\n\t\tfor(loadBean bean : results) {\r\n\t\t\tSystem.out.println(bean.getLoad());\r\n\t\t}\r\n\t\t\r\n\t\treturn session;\r\n\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\ttakeSession sess = new takeSession();\r\n\t\t\tSession take = sess.sessionTake();\r\n\t\t}\r\n}\r\n```","title":"Java Hibernate Configuration Console Error : &lt;Reading schema error: Could not parse ~","body":"<p><a href=\"https://i.stack.imgur.com/rwxvE.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nhello, developers\nAttempting to connect to hibernate However, the same error as the image occurs.\nClassPath and Driver settings are fine.</p>\n<p>In source code connects well but parsing fails on console</p>\n<p>[Versions]\nMariaDB : 10.11.2-MariaDB\nHibernate : 5.5.7-Final</p>\n<p><a href=\"https://i.stack.imgur.com/duOnr.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/v19qF.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>following images is my hibernate configuration console settings</p>\n<pre><code>public class takeSession {\n        public Session sessionTake() {\n            \n        SessionFactory sf = new Configuration().configure(&quot;/hibernate.cfg.xml&quot;).buildSessionFactory();\n        Session session = sf.openSession();\n        \n        List&lt;loadBean&gt; table = session.createNativeQuery(&quot;SELECT * FROM peak_load&quot;, loadBean.class).list();\n        \n        CriteriaBuilder builder = session.getCriteriaBuilder();\n        CriteriaQuery&lt;loadBean&gt; crit = builder.createQuery(loadBean.class);\n        Root&lt;loadBean&gt; root = crit.from(loadBean.class);\n        crit.select(root);\n        \n        Query&lt;loadBean&gt; sql = session.createQuery(crit);\n        List&lt;loadBean&gt; results = sql.getResultList();\n                \n        for(loadBean bean : results) {\n            System.out.println(bean.getLoad());\n        }\n        \n        return session;\n    }\n        \n        public static void main(String[] args) {\n            takeSession sess = new takeSession();\n            Session take = sess.sessionTake();\n        }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":11847560,"reputation":205,"user_id":8669719,"display_name":"Knight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687780190,"creation_date":1687761134,"answer_id":76554053,"question_id":76552145,"body_markdown":"you can adapt your xpath to achieve this.\r\n\r\n    driver.findElement(By.xpath(&quot;//*/*[contains(@text, &#39;Canadian&#39;)]&quot;);\r\n\r\ncontains() can also be used to search for other identifiers, e.g. `@class`\r\n\r\nusing `//*[text()=&quot;Canadian...&quot;]` is also possible but here the text needs to be exaclty the same.  \r\n\r\nxpath Tutorial: [https://www.w3schools.com/xml/xpath_intro.asp][1]\r\n\r\nxpath cheatsheet: [https://devhints.io/xpath][2]\r\n\r\n\r\n  [1]: https://www.w3schools.com/xml/xpath_intro.asp\r\n  [2]: https://devhints.io/xpath","title":"How can I select a drop down with div tag in Selenium?","body":"<p>you can adapt your xpath to achieve this.</p>\n<pre><code>driver.findElement(By.xpath(&quot;//*/*[contains(@text, 'Canadian')]&quot;);\n</code></pre>\n<p>contains() can also be used to search for other identifiers, e.g. <code>@class</code></p>\n<p>using <code>//*[text()=&quot;Canadian...&quot;]</code> is also possible but here the text needs to be exaclty the same.</p>\n<p>xpath Tutorial: <a href=\"https://www.w3schools.com/xml/xpath_intro.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/xml/xpath_intro.asp</a></p>\n<p>xpath cheatsheet: <a href=\"https://devhints.io/xpath\" rel=\"nofollow noreferrer\">https://devhints.io/xpath</a></p>\n"}],"owner":{"account_id":28893243,"reputation":1,"user_id":22129882,"display_name":"Mohammed Omer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687841384,"creation_date":1687721940,"question_id":76552145,"body_markdown":"HTML CODE:\r\n\r\n![](https://i.stack.imgur.com/m7BIY.png)\r\n\r\nMy code for this dropdown selection is:\r\n\r\n```javascript\r\nWebElement LocationInput = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;app\\&quot;]/div[1]/div[2]/div[2]/div/div[1]/div[2]/form/div[1]/div/div[3]/div/div[2]/div/div/div[1]&quot;));\r\nLocationInput.click();\r\npauseFor(3);\r\nWebElement CountryName = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;app\\&quot;]/div[1]/div[2]/div[2]/div/div[1]/div[2]/form/div[1]/div/div[3]/div/div[2]/div/div/div[1]&quot;));\r\nActions actions1 = new Actions(driver);\r\nactions.moveToElement(CountryName).sendKeys(&quot;Canadian&quot;).sendKeys(Keys.ENTER).build().perform();\r\npauseFor(4);\r\n```\r\n\r\nThis code is selecting another dropdown, but I want to select the dropdown with link text containing Canadian in it\r\n\r\nHow can I select this dropdown?","title":"How can I select a drop down with div tag in Selenium?","body":"<p>HTML CODE:</p>\n<p><img src=\"https://i.stack.imgur.com/m7BIY.png\" alt=\"\" /></p>\n<p>My code for this dropdown selection is:</p>\n<pre class=\"lang-js prettyprint-override\"><code>WebElement LocationInput = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;app\\&quot;]/div[1]/div[2]/div[2]/div/div[1]/div[2]/form/div[1]/div/div[3]/div/div[2]/div/div/div[1]&quot;));\nLocationInput.click();\npauseFor(3);\nWebElement CountryName = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;app\\&quot;]/div[1]/div[2]/div[2]/div/div[1]/div[2]/form/div[1]/div/div[3]/div/div[2]/div/div/div[1]&quot;));\nActions actions1 = new Actions(driver);\nactions.moveToElement(CountryName).sendKeys(&quot;Canadian&quot;).sendKeys(Keys.ENTER).build().perform();\npauseFor(4);\n</code></pre>\n<p>This code is selecting another dropdown, but I want to select the dropdown with link text containing Canadian in it</p>\n<p>How can I select this dropdown?</p>\n"},{"tags":["java","android","if-statement","optimization"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687838708,"post_id":76561541,"comment_id":134988829,"body_markdown":"Please be specific, what optimization are you looking for and why?","body":"Please be specific, what optimization are you looking for and why?"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1687838942,"post_id":76561541,"comment_id":134988850,"body_markdown":"Well the first thing to do is break each of those case statements into their own function.  handleDot, handleDivide, handleMultiply, etc.","body":"Well the first thing to do is break each of those case statements into their own function.  handleDot, handleDivide, handleMultiply, etc."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1687842860,"post_id":76561541,"comment_id":134989239,"body_markdown":"Looks like you need to write a proper scanner or parser for these input strings, and separate it from this UI code.","body":"Looks like you need to write a proper scanner or parser for these input strings, and separate it from this UI code."}],"answers":[{"tags":[],"owner":{"account_id":18672550,"reputation":199,"user_id":13610941,"display_name":"Ravikant sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687840033,"creation_date":1687840033,"answer_id":76561624,"question_id":76561541,"body_markdown":"To optimize the given Java code, you can consider the following improvements:\r\n\r\n1. Extract repeated code segments: Some parts of the code are repeated multiple times, such as input validation conditions. You can extract these conditions into separate methods to avoid redundancy and improve code readability.\r\n\r\n2. Use constants or variables for repeated string values: Strings like &quot;buttonString&quot; and various resource strings are used multiple times. It&#39;s better to assign them to constants or variables at the beginning of the code to improve code readability and maintainability.\r\n\r\n3. Reduce nested if-else statements: The code contains nested if-else statements, which can make the code harder to read and understand. You can refactor the conditions to reduce the nesting by using early returns or extracting condition checks into separate methods.\r\n\r\n4. Simplify complex conditions: Some conditions in the code are long and complex, making them harder to comprehend. Break down complex conditions into smaller, more manageable parts and use meaningful variable names to improve code readability.\r\n\r\nHere&#39;s an optimized version of the code with the mentioned improvements:\r\n\r\n    code in java\r\n\r\n    // Constants\r\n    private static final String BUTTON_AC = &quot;AC&quot;;\r\n    private static final String BUTTON_DELETE = &quot;&quot;;\r\n    private static final String BUTTON_EQUALS = &quot;=&quot;;\r\n    private static final String BUTTON_BRACKET = &quot;( )&quot;;\r\n    private static final String BUTTON_SQRT = &quot;&quot;;\r\n    private static final String BUTTON_LOG = &quot;log&quot;;\r\n    private static final String BUTTON_TAN = &quot;tan&quot;;\r\n    private static final String BUTTON_COS = &quot;cos&quot;;\r\n    private static final String BUTTON_SIN = &quot;sin&quot;;\r\n    private static final String BUTTON_PERCENT = &quot;%&quot;;\r\n    private static final String BUTTON_FACTORIAL = &quot;!&quot;;\r\n    private static final String BUTTON_POWER = &quot;^&quot;;\r\n    private static final String BUTTON_MINUS = &quot;-&quot;;\r\n    private static final String BUTTON_PLUS = &quot;+&quot;;\r\n    private static final String BUTTON_MULTIPLY = &quot;&#215;&quot;;\r\n    private static final String BUTTON_DIVIDE = &quot;&#247;&quot;;\r\n    private static final String BUTTON_PI = &quot;&quot;;\r\n    private static final String BUTTON_DOT = &quot;.&quot;;\r\n    \r\n    // Helper method to check if a character is a digit\r\n    private boolean isDigit(char c) {\r\n        return Character.isDigit(c);\r\n    }\r\n    \r\n    // Helper method to check if a character is a number without a decimal point\r\n    private boolean isNumberNoPoint(char c) {\r\n        return isDigit(c) &amp;&amp; c != &#39;.&#39;;\r\n    }\r\n    \r\n    // Helper method to check if a character is an operator\r\n    private boolean isOperator(char c) {\r\n        return c == &#39;+&#39; || c == &#39;-&#39; || c == &#39;&#215;&#39; || c == &#39;&#247;&#39; || c == &#39;^&#39;;\r\n    }\r\n    \r\n    // Helper method to check if a character is a valid before-operator character\r\n    private boolean isNotBeforeOperator(char c) {\r\n        return isDigit(c) || c == &#39;)&#39; || c == &#39;!&#39;;\r\n    }\r\n    \r\n    // Helper method to check if a character is a valid after-operator character for operators like , log, tan, cos, sin\r\n    private boolean isNotAfterOperator1(char c) {\r\n        return isDigit(c) || c == &#39;.&#39;;\r\n    }\r\n    \r\n    // Helper method to check if a character is a valid after-operator character for operators like tan, cos, sin\r\n    private boolean isNotAfterOperator2(char c) {\r\n        return isDigit(c) || c == &#39;.&#39;;\r\n    }\r\n    \r\n    // Helper method to update input view\r\n    private void updateInputView(int start, int end, String text) {\r\n        // Implementation of updateInputView method\r\n    }\r\n    \r\n    // Helper method to update result view\r\n    private void updateResultView() {\r\n        // Implementation of updateResultView method\r\n    }\r\n    \r\n    // Main method\r\n    public void processButton(String buttonString) {\r\n        String mInputText = getInputText(); // Get the input text\r\n        int mCursorPosition = getCursorPosition(); // Get the cursor position\r\n        int mBracketStatus = getBracketStatus(); // Get the bracket status\r\n\r\nthen use switch","title":"how to optimize too many if else in java android studio?","body":"<p>To optimize the given Java code, you can consider the following improvements:</p>\n<ol>\n<li><p>Extract repeated code segments: Some parts of the code are repeated multiple times, such as input validation conditions. You can extract these conditions into separate methods to avoid redundancy and improve code readability.</p>\n</li>\n<li><p>Use constants or variables for repeated string values: Strings like &quot;buttonString&quot; and various resource strings are used multiple times. It's better to assign them to constants or variables at the beginning of the code to improve code readability and maintainability.</p>\n</li>\n<li><p>Reduce nested if-else statements: The code contains nested if-else statements, which can make the code harder to read and understand. You can refactor the conditions to reduce the nesting by using early returns or extracting condition checks into separate methods.</p>\n</li>\n<li><p>Simplify complex conditions: Some conditions in the code are long and complex, making them harder to comprehend. Break down complex conditions into smaller, more manageable parts and use meaningful variable names to improve code readability.</p>\n</li>\n</ol>\n<p>Here's an optimized version of the code with the mentioned improvements:</p>\n<pre><code>code in java\n\n// Constants\nprivate static final String BUTTON_AC = &quot;AC&quot;;\nprivate static final String BUTTON_DELETE = &quot;&quot;;\nprivate static final String BUTTON_EQUALS = &quot;=&quot;;\nprivate static final String BUTTON_BRACKET = &quot;( )&quot;;\nprivate static final String BUTTON_SQRT = &quot;&quot;;\nprivate static final String BUTTON_LOG = &quot;log&quot;;\nprivate static final String BUTTON_TAN = &quot;tan&quot;;\nprivate static final String BUTTON_COS = &quot;cos&quot;;\nprivate static final String BUTTON_SIN = &quot;sin&quot;;\nprivate static final String BUTTON_PERCENT = &quot;%&quot;;\nprivate static final String BUTTON_FACTORIAL = &quot;!&quot;;\nprivate static final String BUTTON_POWER = &quot;^&quot;;\nprivate static final String BUTTON_MINUS = &quot;-&quot;;\nprivate static final String BUTTON_PLUS = &quot;+&quot;;\nprivate static final String BUTTON_MULTIPLY = &quot;&quot;;\nprivate static final String BUTTON_DIVIDE = &quot;&quot;;\nprivate static final String BUTTON_PI = &quot;&quot;;\nprivate static final String BUTTON_DOT = &quot;.&quot;;\n\n// Helper method to check if a character is a digit\nprivate boolean isDigit(char c) {\n    return Character.isDigit(c);\n}\n\n// Helper method to check if a character is a number without a decimal point\nprivate boolean isNumberNoPoint(char c) {\n    return isDigit(c) &amp;&amp; c != '.';\n}\n\n// Helper method to check if a character is an operator\nprivate boolean isOperator(char c) {\n    return c == '+' || c == '-' || c == '' || c == '' || c == '^';\n}\n\n// Helper method to check if a character is a valid before-operator character\nprivate boolean isNotBeforeOperator(char c) {\n    return isDigit(c) || c == ')' || c == '!';\n}\n\n// Helper method to check if a character is a valid after-operator character for operators like , log, tan, cos, sin\nprivate boolean isNotAfterOperator1(char c) {\n    return isDigit(c) || c == '.';\n}\n\n// Helper method to check if a character is a valid after-operator character for operators like tan, cos, sin\nprivate boolean isNotAfterOperator2(char c) {\n    return isDigit(c) || c == '.';\n}\n\n// Helper method to update input view\nprivate void updateInputView(int start, int end, String text) {\n    // Implementation of updateInputView method\n}\n\n// Helper method to update result view\nprivate void updateResultView() {\n    // Implementation of updateResultView method\n}\n\n// Main method\npublic void processButton(String buttonString) {\n    String mInputText = getInputText(); // Get the input text\n    int mCursorPosition = getCursorPosition(); // Get the cursor position\n    int mBracketStatus = getBracketStatus(); // Get the bracket status\n</code></pre>\n<p>then use switch</p>\n"}],"owner":{"account_id":28901893,"reputation":1,"user_id":22136643,"display_name":"tenzinjamyangzhs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687840033,"creation_date":1687838637,"question_id":76561541,"body_markdown":"my code is here, how to optimize it?\r\n\r\n    switch (buttonString) {\r\n                    case &quot;AC&quot;:\r\n                        clearMethod();\r\n                        break;\r\n                    case &quot;&quot;:\r\n                        deleteMethod();\r\n                        break;\r\n                    case &quot;=&quot;:\r\n                        equalsMethod();\r\n                        break;\r\n                    case &quot;( )&quot;:\r\n                        if (mInputText.length() == 0) {\r\n                            updateInputView(mCursorPosition + 1, mCursorPosition,\r\n                                    getResources().getString(R.string.bracketleft));\r\n                            mBracketStatus++;\r\n                        } else {\r\n                            String NOT_BEFORE_BRACKET_LEFT = &quot;.anotcsilg&quot;;\r\n                            String NOT_AFTER_BRACKET_LEFT = &quot;.+^&#247;&#215;!%anoig&quot;;\r\n                            if (mCursorPosition == mInputText.length()) {\r\n                                if (mBracketStatus &gt; 0) {\r\n                                    if (NOT_BEFORE_BRACKET_RIGHT.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1) {\r\n                                        updateInputView(mCursorPosition + 1, mCursorPosition,\r\n                                                getResources().getString(R.string.bracketright));\r\n                                        mBracketStatus--;\r\n                                        updateResultView();\r\n                                    } else if (NOT_BEFORE_BRACKET_LEFT.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1) {\r\n                                        updateInputView(mCursorPosition + 1, mCursorPosition,\r\n                                                getResources().getString(R.string.bracketleft));\r\n                                        mBracketStatus++;\r\n                                    }\r\n                                } else {\r\n                                    if(NOT_BEFORE_BRACKET_LEFT.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1) {\r\n                                        updateInputView(mCursorPosition + 1, mCursorPosition,\r\n                                                getResources().getString(R.string.bracketleft));\r\n                                        mBracketStatus++;\r\n                                    }\r\n                                }\r\n    \r\n                            } else if (mCursorPosition == 0) {\r\n                                if (NOT_AFTER_BRACKET_LEFT.indexOf(mInputText.charAt(0)) == -1) {\r\n                                    updateInputView(mCursorPosition + 1, mCursorPosition,\r\n                                            getResources().getString(R.string.bracketleft));\r\n                                    mBracketStatus++;\r\n                                }\r\n                            } else {\r\n                                int countBracket = 0;\r\n                                for (int i = 0; i &lt; mCursorPosition + 1; i++) {\r\n                                    if (mInputText.charAt(i) == &#39;(&#39;) countBracket++;\r\n                                    if (mInputText.charAt(i) == &#39;)&#39;) countBracket--;\r\n                                }\r\n                                if (countBracket &gt; 0) {\r\n                                    String NOT_AFTER_BRACKET_RIGHT = &quot;.anoig&quot;;\r\n                                    if (NOT_BEFORE_BRACKET_RIGHT.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1\r\n                                            &amp;&amp; NOT_AFTER_BRACKET_RIGHT.indexOf(mInputText.charAt(mCursorPosition)) == -1) {\r\n                                        updateInputView(mCursorPosition + 1, mCursorPosition,\r\n                                                getResources().getString(R.string.bracketright));\r\n                                        mBracketStatus--;\r\n                                    } else if (NOT_BEFORE_BRACKET_LEFT.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1\r\n                                            &amp;&amp; NOT_AFTER_BRACKET_LEFT.indexOf(mInputText.charAt(mCursorPosition)) == -1) {\r\n                                        updateInputView(mCursorPosition + 1, mCursorPosition,\r\n                                                getResources().getString(R.string.bracketleft));\r\n                                        mBracketStatus++;\r\n                                    }\r\n                                } else {\r\n                                    if (NOT_BEFORE_BRACKET_LEFT.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1\r\n                                            &amp;&amp; NOT_AFTER_BRACKET_LEFT.indexOf(mInputText.charAt(mCursorPosition)) == -1) {\r\n                                        updateInputView(mCursorPosition + 1, mCursorPosition,\r\n                                                getResources().getString(R.string.bracketleft));\r\n                                        mBracketStatus++;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        break;\r\n                    case &quot;&quot;:\r\n                        if (mInputText.length() == 0) {\r\n                            updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                        } else {\r\n                            if (mCursorPosition == mInputText.length()) {\r\n                                if (mInputText.charAt(mCursorPosition - 1) != &#39;.&#39;) {\r\n                                    updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                                }\r\n                            } else if (mCursorPosition == 0) {\r\n                                if (NOT_AFTER_OPERATOR_1.indexOf(mInputText.charAt(0)) == -1) {\r\n                                    updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                                }\r\n                            } else {\r\n                                if (mInputText.charAt(mCursorPosition - 1) != &#39;.&#39;\r\n                                        &amp;&amp; NOT_AFTER_OPERATOR_1.indexOf(mInputText.charAt(mCursorPosition)) == -1) {\r\n                                    updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                                }\r\n                            }\r\n                        }\r\n                        break;\r\n                    case &quot;log&quot;:\r\n                        if (mInputText.length() == 0) {\r\n                            updateInputView(mCursorPosition + 4, mCursorPosition,\r\n                                    buttonString + getResources().getString(R.string.bracketleft));\r\n                            mBracketStatus++;\r\n                        } else {\r\n                            if (mCursorPosition == mInputText.length()) {\r\n                                if (mInputText.charAt(mCursorPosition - 1) != &#39;.&#39;) {\r\n                                    updateInputView(mCursorPosition + 4, mCursorPosition,\r\n                                            buttonString + getResources().getString(R.string.bracketleft));\r\n                                    mBracketStatus++;\r\n                                }\r\n                            } else if (mCursorPosition == 0) {\r\n                                if (NOT_AFTER_OPERATOR_1.indexOf(mInputText.charAt(0)) == -1) {\r\n                                    updateInputView(mCursorPosition + 4, mCursorPosition,\r\n                                            buttonString + getResources().getString(R.string.bracketleft));\r\n                                    mBracketStatus++;\r\n                                }\r\n                            } else {\r\n                                if (mInputText.charAt(mCursorPosition - 1) != &#39;.&#39;\r\n                                        &amp;&amp; NOT_AFTER_OPERATOR_1.indexOf(mInputText.charAt(mCursorPosition)) == -1) {\r\n                                    updateInputView(mCursorPosition + 4, mCursorPosition,\r\n                                            buttonString + getResources().getString(R.string.bracketleft));\r\n                                    mBracketStatus++;\r\n                                }\r\n                            }\r\n                        }\r\n                        break;\r\n                    case &quot;tan&quot;:\r\n                    case &quot;cos&quot;:\r\n                    case &quot;sin&quot;:\r\n                        if (mInputText.length() == 0) {\r\n                            updateInputView(mCursorPosition + 4, mCursorPosition,\r\n                                    buttonString + getResources().getString(R.string.bracketleft));\r\n                            mBracketStatus++;\r\n                        } else {\r\n                            if (mCursorPosition == mInputText.length()) {\r\n                                if (mInputText.charAt(mCursorPosition - 1) != &#39;.&#39;) {\r\n                                    updateInputView(mCursorPosition + 4, mCursorPosition,\r\n                                            buttonString + getResources().getString(R.string.bracketleft));\r\n                                    mBracketStatus++;\r\n                                }\r\n                            } else if (mCursorPosition == 0) {\r\n                                if (NOT_AFTER_OPERATOR_2.indexOf(mInputText.charAt(0)) == -1) {\r\n                                    updateInputView(mCursorPosition + 4, mCursorPosition,\r\n                                            buttonString + getResources().getString(R.string.bracketleft));\r\n                                    mBracketStatus++;\r\n                                }\r\n                            } else {\r\n                                if (mInputText.charAt(mCursorPosition - 1) != &#39;.&#39;\r\n                                        &amp;&amp; NOT_AFTER_OPERATOR_2.indexOf(mInputText.charAt(mCursorPosition)) == -1) {\r\n                                    updateInputView(mCursorPosition + 4, mCursorPosition,\r\n                                            buttonString + getResources().getString(R.string.bracketleft));\r\n                                    mBracketStatus++;\r\n                                }\r\n                            }\r\n                        }\r\n                        break;\r\n                    case &quot;%&quot;:\r\n                    case &quot;!&quot;:\r\n                        if (mInputText.length() != 0 &amp;&amp; mCursorPosition != 0) {\r\n                            if (mCursorPosition == mInputText.length()) {\r\n                                if (NOT_BEFORE_OPERATOR.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1) {\r\n                                    updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                                }\r\n                            } else {\r\n                                if (NOT_BEFORE_OPERATOR.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1\r\n                                        &amp;&amp; mInputText.charAt(mCursorPosition) != &#39;.&#39;) {\r\n                                    updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                                }\r\n                            }\r\n                        }\r\n                        updateResultView();\r\n                        break;\r\n                    case &quot;^&quot;:\r\n                        if (mInputText.length() != 0 &amp;&amp; mCursorPosition != 0) {\r\n                            if (mCursorPosition == mInputText.length()) {\r\n                                if (NOT_BEFORE_OPERATOR.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1) {\r\n                                    updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                                }\r\n                            } else {\r\n                                if (NOT_BEFORE_OPERATOR.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1\r\n                                        &amp;&amp; NOT_AFTER_OPERATOR_2.indexOf(mInputText.charAt(mCursorPosition)) == -1) {\r\n                                    updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                                }\r\n                            }\r\n                        }\r\n                        break;\r\n                    case &quot;-&quot;:\r\n                        if (mInputText.length() == 0) {\r\n                            updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                        } else {\r\n                            if (mCursorPosition == mInputText.length()) {\r\n                                if (NOT_BEFORE_OPERATOR.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1) {\r\n                                    updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                                }\r\n                            } else if (mCursorPosition == 0) {\r\n                                if (NOT_AFTER_OPERATOR_1.indexOf(mInputText.charAt(0)) == -1) {\r\n                                    updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                                }\r\n                            } else {\r\n                                if (NOT_BEFORE_OPERATOR.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1\r\n                                        &amp;&amp; NOT_AFTER_OPERATOR_1.indexOf(mInputText.charAt(mCursorPosition)) == -1) {\r\n                                    updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                                }\r\n                            }\r\n                        }\r\n                        break;\r\n                    case &quot;+&quot;:\r\n                    case &quot;&#215;&quot;:\r\n                    case &quot;&#247;&quot;:\r\n                        if (mInputText.length() != 0 &amp;&amp; mCursorPosition != 0) {\r\n                            if (mCursorPosition == mInputText.length()) {\r\n                                if (NOT_BEFORE_OPERATOR.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1) {\r\n                                    updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                                }\r\n                            } else {\r\n                                if (NOT_BEFORE_OPERATOR.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1\r\n                                        &amp;&amp; NOT_AFTER_OPERATOR_1.indexOf(mInputText.charAt(mCursorPosition)) == -1) {\r\n                                    updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                                }\r\n                            }\r\n                        }\r\n                        break;\r\n                    case &quot;&quot;:\r\n                        if (mInputText.length() == 0) {\r\n                            updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                        } else {\r\n                            if (mCursorPosition == mInputText.length()) {\r\n                                if (mInputText.charAt(mCursorPosition - 1) != &#39;.&#39;) {\r\n                                    updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                                }\r\n                            } else if (mCursorPosition == 0) {\r\n                                if (mInputText.charAt(0) != &#39;.&#39; &amp;&amp; mInputText.charAt(0) != &#39;!&#39;) {\r\n                                    updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                                }\r\n                            } else {\r\n                                if (mInputText.charAt(mCursorPosition - 1) != &#39;.&#39; &amp;&amp; mInputText.charAt(mCursorPosition) != &#39;.&#39;\r\n                                        &amp;&amp; mInputText.charAt(mCursorPosition) != &#39;!&#39;) {\r\n                                    updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                                }\r\n                            }\r\n                        }\r\n                        updateResultView();\r\n                        break;\r\n                    case &quot;.&quot;:\r\n                        if (mInputText.length() != 0 &amp;&amp; mCursorPosition != 0) {\r\n                            int indexFirst = 0;\r\n                            int indexSecond = mInputText.length() - 1;\r\n                            if (mCursorPosition == mInputText.length()) {\r\n                                for (int i = mCursorPosition - 1; i &gt;= 0; i--) {\r\n                                    if (NUMBER_NO_POINT.indexOf(mInputText.charAt(i)) == -1) {\r\n                                        indexFirst = i;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                if (indexFirst == 0) {\r\n                                    if (mInputText.charAt(indexFirst) != &#39;.&#39;) {\r\n                                        updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                                        updateResultView();\r\n                                    }\r\n                                } else {\r\n                                    if (mInputText.charAt(indexFirst) != &#39;.&#39; &amp;&amp; indexFirst != mCursorPosition - 1) {\r\n                                        updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                                        updateResultView();\r\n                                    }\r\n                                }\r\n    \r\n                            } else {\r\n                                for (int i = mCursorPosition - 1; i &gt;= 0; i--) {\r\n                                    if (NUMBER_NO_POINT.indexOf(mInputText.charAt(i)) == -1) {\r\n                                        indexFirst = i;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                for (int i = mCursorPosition; i &lt; mInputText.length(); i++) {\r\n                                    if (NUMBER_NO_POINT.indexOf(mInputText.charAt(i)) == -1) {\r\n                                        indexSecond = i;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                if (indexFirst == 0 &amp;&amp; indexSecond == mInputText.length() - 1) {\r\n                                    if (mInputText.charAt(indexFirst) != &#39;.&#39; &amp;&amp; mInputText.charAt(indexSecond) != &#39;.&#39;) {\r\n                                        updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                                        updateResultView();\r\n                                    }\r\n                                } else if (indexFirst == 0 &amp;&amp; indexSecond != mInputText.length() - 1) {\r\n                                    if (mInputText.charAt(indexFirst) != &#39;.&#39; &amp;&amp; mInputText.charAt(indexSecond) != &#39;.&#39;\r\n                                            &amp;&amp; indexSecond != mCursorPosition) {\r\n                                        updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                                        updateResultView();\r\n                                    }\r\n                                } else if (indexFirst != 0 &amp;&amp; indexSecond == mInputText.length() - 1\r\n                                        &amp;&amp; indexFirst != mCursorPosition - 1) {\r\n                                    if (mInputText.charAt(indexFirst) != &#39;.&#39; &amp;&amp; mInputText.charAt(indexSecond) != &#39;.&#39;) {\r\n                                        updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                                        updateResultView();\r\n                                    }\r\n                                } else {\r\n                                    if (mInputText.charAt(indexFirst) != &#39;.&#39; &amp;&amp; mInputText.charAt(indexSecond) != &#39;.&#39;\r\n                                            &amp;&amp; indexFirst != mCursorPosition - 1 &amp;&amp; indexSecond != mCursorPosition) {\r\n                                        updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                                        updateResultView();\r\n                                    }\r\n                                }\r\n    \r\n                            }\r\n                        }\r\n                        break;\r\n                    default:\r\n                        if (mInputText.length() == 0) {\r\n                            updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                        } else {\r\n                            if (mInputText.length() == 1) {\r\n                                if (mInputText.charAt(0) == &#39;0&#39;) {\r\n                                    mInputText = new StringBuilder(buttonString);\r\n                                    mInputView.setText(mInputText);\r\n                                    mInputView.setSelection(mCursorPosition + 1);\r\n                                } else {\r\n                                    updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                                }\r\n                            } else {\r\n                                updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\r\n                            }\r\n                        }\r\n                        updateResultView();\r\n                }\r\n\r\ni just know that i can replace if else with switch in some case but i think my code need more optimization.\r\n","title":"how to optimize too many if else in java android studio?","body":"<p>my code is here, how to optimize it?</p>\n<pre><code>switch (buttonString) {\n                case &quot;AC&quot;:\n                    clearMethod();\n                    break;\n                case &quot;&quot;:\n                    deleteMethod();\n                    break;\n                case &quot;=&quot;:\n                    equalsMethod();\n                    break;\n                case &quot;( )&quot;:\n                    if (mInputText.length() == 0) {\n                        updateInputView(mCursorPosition + 1, mCursorPosition,\n                                getResources().getString(R.string.bracketleft));\n                        mBracketStatus++;\n                    } else {\n                        String NOT_BEFORE_BRACKET_LEFT = &quot;.anotcsilg&quot;;\n                        String NOT_AFTER_BRACKET_LEFT = &quot;.+^!%anoig&quot;;\n                        if (mCursorPosition == mInputText.length()) {\n                            if (mBracketStatus &gt; 0) {\n                                if (NOT_BEFORE_BRACKET_RIGHT.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1) {\n                                    updateInputView(mCursorPosition + 1, mCursorPosition,\n                                            getResources().getString(R.string.bracketright));\n                                    mBracketStatus--;\n                                    updateResultView();\n                                } else if (NOT_BEFORE_BRACKET_LEFT.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1) {\n                                    updateInputView(mCursorPosition + 1, mCursorPosition,\n                                            getResources().getString(R.string.bracketleft));\n                                    mBracketStatus++;\n                                }\n                            } else {\n                                if(NOT_BEFORE_BRACKET_LEFT.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1) {\n                                    updateInputView(mCursorPosition + 1, mCursorPosition,\n                                            getResources().getString(R.string.bracketleft));\n                                    mBracketStatus++;\n                                }\n                            }\n\n                        } else if (mCursorPosition == 0) {\n                            if (NOT_AFTER_BRACKET_LEFT.indexOf(mInputText.charAt(0)) == -1) {\n                                updateInputView(mCursorPosition + 1, mCursorPosition,\n                                        getResources().getString(R.string.bracketleft));\n                                mBracketStatus++;\n                            }\n                        } else {\n                            int countBracket = 0;\n                            for (int i = 0; i &lt; mCursorPosition + 1; i++) {\n                                if (mInputText.charAt(i) == '(') countBracket++;\n                                if (mInputText.charAt(i) == ')') countBracket--;\n                            }\n                            if (countBracket &gt; 0) {\n                                String NOT_AFTER_BRACKET_RIGHT = &quot;.anoig&quot;;\n                                if (NOT_BEFORE_BRACKET_RIGHT.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1\n                                        &amp;&amp; NOT_AFTER_BRACKET_RIGHT.indexOf(mInputText.charAt(mCursorPosition)) == -1) {\n                                    updateInputView(mCursorPosition + 1, mCursorPosition,\n                                            getResources().getString(R.string.bracketright));\n                                    mBracketStatus--;\n                                } else if (NOT_BEFORE_BRACKET_LEFT.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1\n                                        &amp;&amp; NOT_AFTER_BRACKET_LEFT.indexOf(mInputText.charAt(mCursorPosition)) == -1) {\n                                    updateInputView(mCursorPosition + 1, mCursorPosition,\n                                            getResources().getString(R.string.bracketleft));\n                                    mBracketStatus++;\n                                }\n                            } else {\n                                if (NOT_BEFORE_BRACKET_LEFT.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1\n                                        &amp;&amp; NOT_AFTER_BRACKET_LEFT.indexOf(mInputText.charAt(mCursorPosition)) == -1) {\n                                    updateInputView(mCursorPosition + 1, mCursorPosition,\n                                            getResources().getString(R.string.bracketleft));\n                                    mBracketStatus++;\n                                }\n                            }\n                        }\n                    }\n                    break;\n                case &quot;&quot;:\n                    if (mInputText.length() == 0) {\n                        updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                    } else {\n                        if (mCursorPosition == mInputText.length()) {\n                            if (mInputText.charAt(mCursorPosition - 1) != '.') {\n                                updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                            }\n                        } else if (mCursorPosition == 0) {\n                            if (NOT_AFTER_OPERATOR_1.indexOf(mInputText.charAt(0)) == -1) {\n                                updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                            }\n                        } else {\n                            if (mInputText.charAt(mCursorPosition - 1) != '.'\n                                    &amp;&amp; NOT_AFTER_OPERATOR_1.indexOf(mInputText.charAt(mCursorPosition)) == -1) {\n                                updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                            }\n                        }\n                    }\n                    break;\n                case &quot;log&quot;:\n                    if (mInputText.length() == 0) {\n                        updateInputView(mCursorPosition + 4, mCursorPosition,\n                                buttonString + getResources().getString(R.string.bracketleft));\n                        mBracketStatus++;\n                    } else {\n                        if (mCursorPosition == mInputText.length()) {\n                            if (mInputText.charAt(mCursorPosition - 1) != '.') {\n                                updateInputView(mCursorPosition + 4, mCursorPosition,\n                                        buttonString + getResources().getString(R.string.bracketleft));\n                                mBracketStatus++;\n                            }\n                        } else if (mCursorPosition == 0) {\n                            if (NOT_AFTER_OPERATOR_1.indexOf(mInputText.charAt(0)) == -1) {\n                                updateInputView(mCursorPosition + 4, mCursorPosition,\n                                        buttonString + getResources().getString(R.string.bracketleft));\n                                mBracketStatus++;\n                            }\n                        } else {\n                            if (mInputText.charAt(mCursorPosition - 1) != '.'\n                                    &amp;&amp; NOT_AFTER_OPERATOR_1.indexOf(mInputText.charAt(mCursorPosition)) == -1) {\n                                updateInputView(mCursorPosition + 4, mCursorPosition,\n                                        buttonString + getResources().getString(R.string.bracketleft));\n                                mBracketStatus++;\n                            }\n                        }\n                    }\n                    break;\n                case &quot;tan&quot;:\n                case &quot;cos&quot;:\n                case &quot;sin&quot;:\n                    if (mInputText.length() == 0) {\n                        updateInputView(mCursorPosition + 4, mCursorPosition,\n                                buttonString + getResources().getString(R.string.bracketleft));\n                        mBracketStatus++;\n                    } else {\n                        if (mCursorPosition == mInputText.length()) {\n                            if (mInputText.charAt(mCursorPosition - 1) != '.') {\n                                updateInputView(mCursorPosition + 4, mCursorPosition,\n                                        buttonString + getResources().getString(R.string.bracketleft));\n                                mBracketStatus++;\n                            }\n                        } else if (mCursorPosition == 0) {\n                            if (NOT_AFTER_OPERATOR_2.indexOf(mInputText.charAt(0)) == -1) {\n                                updateInputView(mCursorPosition + 4, mCursorPosition,\n                                        buttonString + getResources().getString(R.string.bracketleft));\n                                mBracketStatus++;\n                            }\n                        } else {\n                            if (mInputText.charAt(mCursorPosition - 1) != '.'\n                                    &amp;&amp; NOT_AFTER_OPERATOR_2.indexOf(mInputText.charAt(mCursorPosition)) == -1) {\n                                updateInputView(mCursorPosition + 4, mCursorPosition,\n                                        buttonString + getResources().getString(R.string.bracketleft));\n                                mBracketStatus++;\n                            }\n                        }\n                    }\n                    break;\n                case &quot;%&quot;:\n                case &quot;!&quot;:\n                    if (mInputText.length() != 0 &amp;&amp; mCursorPosition != 0) {\n                        if (mCursorPosition == mInputText.length()) {\n                            if (NOT_BEFORE_OPERATOR.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1) {\n                                updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                            }\n                        } else {\n                            if (NOT_BEFORE_OPERATOR.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1\n                                    &amp;&amp; mInputText.charAt(mCursorPosition) != '.') {\n                                updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                            }\n                        }\n                    }\n                    updateResultView();\n                    break;\n                case &quot;^&quot;:\n                    if (mInputText.length() != 0 &amp;&amp; mCursorPosition != 0) {\n                        if (mCursorPosition == mInputText.length()) {\n                            if (NOT_BEFORE_OPERATOR.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1) {\n                                updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                            }\n                        } else {\n                            if (NOT_BEFORE_OPERATOR.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1\n                                    &amp;&amp; NOT_AFTER_OPERATOR_2.indexOf(mInputText.charAt(mCursorPosition)) == -1) {\n                                updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                            }\n                        }\n                    }\n                    break;\n                case &quot;-&quot;:\n                    if (mInputText.length() == 0) {\n                        updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                    } else {\n                        if (mCursorPosition == mInputText.length()) {\n                            if (NOT_BEFORE_OPERATOR.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1) {\n                                updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                            }\n                        } else if (mCursorPosition == 0) {\n                            if (NOT_AFTER_OPERATOR_1.indexOf(mInputText.charAt(0)) == -1) {\n                                updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                            }\n                        } else {\n                            if (NOT_BEFORE_OPERATOR.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1\n                                    &amp;&amp; NOT_AFTER_OPERATOR_1.indexOf(mInputText.charAt(mCursorPosition)) == -1) {\n                                updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                            }\n                        }\n                    }\n                    break;\n                case &quot;+&quot;:\n                case &quot;&quot;:\n                case &quot;&quot;:\n                    if (mInputText.length() != 0 &amp;&amp; mCursorPosition != 0) {\n                        if (mCursorPosition == mInputText.length()) {\n                            if (NOT_BEFORE_OPERATOR.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1) {\n                                updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                            }\n                        } else {\n                            if (NOT_BEFORE_OPERATOR.indexOf(mInputText.charAt(mCursorPosition - 1)) == -1\n                                    &amp;&amp; NOT_AFTER_OPERATOR_1.indexOf(mInputText.charAt(mCursorPosition)) == -1) {\n                                updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                            }\n                        }\n                    }\n                    break;\n                case &quot;&quot;:\n                    if (mInputText.length() == 0) {\n                        updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                    } else {\n                        if (mCursorPosition == mInputText.length()) {\n                            if (mInputText.charAt(mCursorPosition - 1) != '.') {\n                                updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                            }\n                        } else if (mCursorPosition == 0) {\n                            if (mInputText.charAt(0) != '.' &amp;&amp; mInputText.charAt(0) != '!') {\n                                updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                            }\n                        } else {\n                            if (mInputText.charAt(mCursorPosition - 1) != '.' &amp;&amp; mInputText.charAt(mCursorPosition) != '.'\n                                    &amp;&amp; mInputText.charAt(mCursorPosition) != '!') {\n                                updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                            }\n                        }\n                    }\n                    updateResultView();\n                    break;\n                case &quot;.&quot;:\n                    if (mInputText.length() != 0 &amp;&amp; mCursorPosition != 0) {\n                        int indexFirst = 0;\n                        int indexSecond = mInputText.length() - 1;\n                        if (mCursorPosition == mInputText.length()) {\n                            for (int i = mCursorPosition - 1; i &gt;= 0; i--) {\n                                if (NUMBER_NO_POINT.indexOf(mInputText.charAt(i)) == -1) {\n                                    indexFirst = i;\n                                    break;\n                                }\n                            }\n                            if (indexFirst == 0) {\n                                if (mInputText.charAt(indexFirst) != '.') {\n                                    updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                                    updateResultView();\n                                }\n                            } else {\n                                if (mInputText.charAt(indexFirst) != '.' &amp;&amp; indexFirst != mCursorPosition - 1) {\n                                    updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                                    updateResultView();\n                                }\n                            }\n\n                        } else {\n                            for (int i = mCursorPosition - 1; i &gt;= 0; i--) {\n                                if (NUMBER_NO_POINT.indexOf(mInputText.charAt(i)) == -1) {\n                                    indexFirst = i;\n                                    break;\n                                }\n                            }\n                            for (int i = mCursorPosition; i &lt; mInputText.length(); i++) {\n                                if (NUMBER_NO_POINT.indexOf(mInputText.charAt(i)) == -1) {\n                                    indexSecond = i;\n                                    break;\n                                }\n                            }\n                            if (indexFirst == 0 &amp;&amp; indexSecond == mInputText.length() - 1) {\n                                if (mInputText.charAt(indexFirst) != '.' &amp;&amp; mInputText.charAt(indexSecond) != '.') {\n                                    updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                                    updateResultView();\n                                }\n                            } else if (indexFirst == 0 &amp;&amp; indexSecond != mInputText.length() - 1) {\n                                if (mInputText.charAt(indexFirst) != '.' &amp;&amp; mInputText.charAt(indexSecond) != '.'\n                                        &amp;&amp; indexSecond != mCursorPosition) {\n                                    updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                                    updateResultView();\n                                }\n                            } else if (indexFirst != 0 &amp;&amp; indexSecond == mInputText.length() - 1\n                                    &amp;&amp; indexFirst != mCursorPosition - 1) {\n                                if (mInputText.charAt(indexFirst) != '.' &amp;&amp; mInputText.charAt(indexSecond) != '.') {\n                                    updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                                    updateResultView();\n                                }\n                            } else {\n                                if (mInputText.charAt(indexFirst) != '.' &amp;&amp; mInputText.charAt(indexSecond) != '.'\n                                        &amp;&amp; indexFirst != mCursorPosition - 1 &amp;&amp; indexSecond != mCursorPosition) {\n                                    updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                                    updateResultView();\n                                }\n                            }\n\n                        }\n                    }\n                    break;\n                default:\n                    if (mInputText.length() == 0) {\n                        updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                    } else {\n                        if (mInputText.length() == 1) {\n                            if (mInputText.charAt(0) == '0') {\n                                mInputText = new StringBuilder(buttonString);\n                                mInputView.setText(mInputText);\n                                mInputView.setSelection(mCursorPosition + 1);\n                            } else {\n                                updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                            }\n                        } else {\n                            updateInputView(mCursorPosition + 1, mCursorPosition, buttonString);\n                        }\n                    }\n                    updateResultView();\n            }\n</code></pre>\n<p>i just know that i can replace if else with switch in some case but i think my code need more optimization.</p>\n"},{"tags":["java","code-coverage","lombok","jacoco"],"answers":[{"tags":[],"owner":{"account_id":23672489,"reputation":53,"user_id":17699065,"display_name":"Himanshu Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687839814,"creation_date":1687839814,"answer_id":76561606,"question_id":73360678,"body_markdown":"In my case, I am using IntelliJ IDEA, and I encountered an issue where running tests from the IDE did not compile the entire project. As a result, the configuration file (*lombok.config*) was not recognized as a change. However, when I selected `Build -&gt; Rebuild` Project my changes started appearing correctly.\r\n\r\n","title":"JaCoCo doesn&#39;t ignore Lombok generated code","body":"<p>In my case, I am using IntelliJ IDEA, and I encountered an issue where running tests from the IDE did not compile the entire project. As a result, the configuration file (<em>lombok.config</em>) was not recognized as a change. However, when I selected <code>Build -&gt; Rebuild</code> Project my changes started appearing correctly.</p>\n"}],"owner":{"account_id":24172302,"reputation":51,"user_id":18134212,"display_name":"8u3631984"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":905,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687839814,"creation_date":1660564559,"question_id":73360678,"body_markdown":"I want to test my Java code and measure the code coverage with JaCoCo. \r\n\r\nI&#39;m using Lombok and for e.g getters or builders I get 0% code coverage. So I tried to put a `lombok.config` file in my root project - but nothing changed.\r\n\r\nI also tried to use lombok.Builder and so on and remove the imported Lombok classes for this class but nothing changed.\r\n\r\nSee: https://stackoverflow.com/questions/65412697/addlombokgeneratedannotation-on-lombok-config-doesnt-ignore-lombok-annotations\r\n\r\nHas anybody an idea ?","title":"JaCoCo doesn&#39;t ignore Lombok generated code","body":"<p>I want to test my Java code and measure the code coverage with JaCoCo.</p>\n<p>I'm using Lombok and for e.g getters or builders I get 0% code coverage. So I tried to put a <code>lombok.config</code> file in my root project - but nothing changed.</p>\n<p>I also tried to use lombok.Builder and so on and remove the imported Lombok classes for this class but nothing changed.</p>\n<p>See: <a href=\"https://stackoverflow.com/questions/65412697/addlombokgeneratedannotation-on-lombok-config-doesnt-ignore-lombok-annotations\">addLombokGeneratedAnnotation on lombok.config doesn&#39;t ignore Lombok Annotations on Jacoco report</a></p>\n<p>Has anybody an idea ?</p>\n"},{"tags":["java","android","flutter","gradle","android-gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":26365943,"reputation":11,"user_id":20021423,"display_name":"Ammar Hammoud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687360416,"creation_date":1687360416,"answer_id":76524806,"question_id":76516574,"body_markdown":"Try using VPN.  \r\nConnect to the VPN then run your project, it may take a while as it the first time, I would also highly recommend that you run your project on a real phone, not on emulator.","title":"Flutter - Gradle threw an error while downloading artifacts from the network","body":"<p>Try using VPN.<br />\nConnect to the VPN then run your project, it may take a while as it the first time, I would also highly recommend that you run your project on a real phone, not on emulator.</p>\n"},{"tags":[],"owner":{"account_id":19169913,"reputation":336,"user_id":14003858,"display_name":"sumanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687839790,"creation_date":1687452120,"answer_id":76534006,"question_id":76516574,"body_markdown":"I have no idea why my project running after changing some Android files!\r\n\r\nWhat I did!\r\n\r\n`build.gradle` \r\n\r\n```\r\next.kotlin_version = &#39;1.7.10&#39;\r\n```\r\nto\r\n```\r\n ext.kotlin_version = &#39;1.6.10&#39;\r\n```\r\n```\r\nclasspath &#39;com.android.tools.build:gradle:7.3.0&#39;\r\n```\r\nto \r\n```\r\nclasspath &#39;com.android.tools.build:gradle:4.1.0&#39;\r\n```\r\n`buil.gradle` in app folder\r\n\r\n```\r\nandroid {\r\n    namespace &quot;com.example.flutter_test&quot;\r\n    compileSdkVersion flutter.compileSdkVersion\r\n    ndkVersion flutter.ndkVersion\r\n```\r\nto \r\n```\r\nandroid {\r\n    compileSdkVersion flutter.compileSdkVersion\r\n    ndkVersion flutter.ndkVersion\r\n```\r\n\r\n`gradle-wrapper.properties`\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-all.zip\r\n\r\n```\r\nto\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4-all.zip\r\n```\r\n\r\nevery `AndroidManifest.xml` file\r\n```\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n```\r\nto\r\n```\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.flutter_test&quot;&gt;\r\n```\r\nNow I can run the projects without errors but I have quite curious to know why my projects running after changing these many things","title":"Flutter - Gradle threw an error while downloading artifacts from the network","body":"<p>I have no idea why my project running after changing some Android files!</p>\n<p>What I did!</p>\n<p><code>build.gradle</code></p>\n<pre><code>ext.kotlin_version = '1.7.10'\n</code></pre>\n<p>to</p>\n<pre><code> ext.kotlin_version = '1.6.10'\n</code></pre>\n<pre><code>classpath 'com.android.tools.build:gradle:7.3.0'\n</code></pre>\n<p>to</p>\n<pre><code>classpath 'com.android.tools.build:gradle:4.1.0'\n</code></pre>\n<p><code>buil.gradle</code> in app folder</p>\n<pre><code>android {\n    namespace &quot;com.example.flutter_test&quot;\n    compileSdkVersion flutter.compileSdkVersion\n    ndkVersion flutter.ndkVersion\n</code></pre>\n<p>to</p>\n<pre><code>android {\n    compileSdkVersion flutter.compileSdkVersion\n    ndkVersion flutter.ndkVersion\n</code></pre>\n<p><code>gradle-wrapper.properties</code></p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-all.zip\n\n</code></pre>\n<p>to</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.4-all.zip\n</code></pre>\n<p>every <code>AndroidManifest.xml</code> file</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.flutter_test&quot;&gt;\n</code></pre>\n<p>Now I can run the projects without errors but I have quite curious to know why my projects running after changing these many things</p>\n"}],"owner":{"account_id":19169913,"reputation":336,"user_id":14003858,"display_name":"sumanth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":757,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687839790,"creation_date":1687277194,"question_id":76516574,"body_markdown":"No matter how hard I tried and looked for solutions online, none of them worked. It&#39;s strange because my old project is running fine, but when I tried to create a new project and run a basic counter app, it kept giving me an error. It&#39;s really frustrating when something that should be simple becomes so complicated.\r\n\r\n```\r\n[!] Gradle threw an error while downloading artifacts from the network.\r\nRetrying Gradle Build: #4, wait time: 800ms\r\nException in thread &quot;main&quot; java.util.zip.ZipException: error in opening zip file\r\n        at java.util.zip.ZipFile.open(Native Method)\r\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:225)\r\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:155)\r\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:169)\r\n        at org.gradle.wrapper.Install.unzip(Install.java:214)\r\n        at org.gradle.wrapper.Install.access$600(Install.java:27)\r\n        at org.gradle.wrapper.Install$1.call(Install.java:74)\r\n        at org.gradle.wrapper.Install$1.call(Install.java:48)\r\n        at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:65)\r\n        at org.gradle.wrapper.Install.createDist(Install.java:48)\r\n        at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:128)\r\n        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\r\nRunning Gradle task &#39;assembleDebug&#39;...                           1,925ms\r\n```\r\n\r\nI tried to change the  `classpath` -  *it works in the old project!*\r\n```\r\nclasspath &#39;com.android.tools.build:gradle:7.3.0&#39;\r\n```\r\nto \r\n```\r\nclasspath &#39;com.android.tools.build:gradle:4.1.0&#39;\r\n\r\n```\r\n\r\nalso I tried\r\n\r\ndeleted the `gradle-wrapper.jar` file and run - *nothing works*\r\n\r\ndowngrade the `distributionUrl` in `gradle-wrapper.properties` \r\n\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-all.zip\r\n\r\n```\r\nto \r\n\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip\r\n&amp;\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.7-all\r\n\r\n```\r\nI&#39;m running the projects in VS-code\r\n\r\n","title":"Flutter - Gradle threw an error while downloading artifacts from the network","body":"<p>No matter how hard I tried and looked for solutions online, none of them worked. It's strange because my old project is running fine, but when I tried to create a new project and run a basic counter app, it kept giving me an error. It's really frustrating when something that should be simple becomes so complicated.</p>\n<pre><code>[!] Gradle threw an error while downloading artifacts from the network.\nRetrying Gradle Build: #4, wait time: 800ms\nException in thread &quot;main&quot; java.util.zip.ZipException: error in opening zip file\n        at java.util.zip.ZipFile.open(Native Method)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:225)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:155)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:169)\n        at org.gradle.wrapper.Install.unzip(Install.java:214)\n        at org.gradle.wrapper.Install.access$600(Install.java:27)\n        at org.gradle.wrapper.Install$1.call(Install.java:74)\n        at org.gradle.wrapper.Install$1.call(Install.java:48)\n        at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:65)\n        at org.gradle.wrapper.Install.createDist(Install.java:48)\n        at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:128)\n        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\nRunning Gradle task 'assembleDebug'...                           1,925ms\n</code></pre>\n<p>I tried to change the  <code>classpath</code> -  <em>it works in the old project!</em></p>\n<pre><code>classpath 'com.android.tools.build:gradle:7.3.0'\n</code></pre>\n<p>to</p>\n<pre><code>classpath 'com.android.tools.build:gradle:4.1.0'\n\n</code></pre>\n<p>also I tried</p>\n<p>deleted the <code>gradle-wrapper.jar</code> file and run - <em>nothing works</em></p>\n<p>downgrade the <code>distributionUrl</code> in <code>gradle-wrapper.properties</code></p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-all.zip\n\n</code></pre>\n<p>to</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip\n&amp;\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.7-all\n\n</code></pre>\n<p>I'm running the projects in VS-code</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":7774964,"reputation":91,"user_id":5883358,"display_name":"Andreea Frincu"},"score":0,"creation_date":1685122489,"post_id":76340148,"comment_id":134622467,"body_markdown":"Can you share the studentBO definition?  Looking at your exception I would say that it is not existing &quot;isDeletedFromSync&quot; could be that is called actually deletedFromSync the property?","body":"Can you share the studentBO definition?  Looking at your exception I would say that it is not existing &quot;isDeletedFromSync&quot; could be that is called actually deletedFromSync the property?"},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1685166593,"post_id":76340148,"comment_id":134626650,"body_markdown":"@Column(name=&quot;IS_DELETED_FROM_SYNC&quot;)\n\tprivate Boolean isDeletedFromSync;\nits present in BO","body":"@Column(name=&quot;IS_DELETED_FROM_SYNC&quot;) \tprivate Boolean isDeletedFromSync; its present in BO"}],"answers":[{"tags":[],"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687839476,"creation_date":1687839476,"answer_id":76561584,"question_id":76340148,"body_markdown":"instead of \r\n\r\n    and (studentBO.isDeletedFromSync is null or studentBO.isDeletedFromSync=false))&quot;)\r\n\r\nuse this:-\r\n\r\n    and (studentBo.isDeletedFromSync is null or studentBo.isDeletedFromSync=false))&quot;)\r\n\r\nyou have used &#39;studentBo&#39; in as clause.","title":"not able to run the tomcat due to query QuerySyntaxException: Invalid path:","body":"<p>instead of</p>\n<pre><code>and (studentBO.isDeletedFromSync is null or studentBO.isDeletedFromSync=false))&quot;)\n</code></pre>\n<p>use this:-</p>\n<pre><code>and (studentBo.isDeletedFromSync is null or studentBo.isDeletedFromSync=false))&quot;)\n</code></pre>\n<p>you have used 'studentBo' in as clause.</p>\n"}],"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76561584,"answer_count":1,"score":0,"last_activity_date":1687839476,"creation_date":1685098853,"question_id":76340148,"body_markdown":"I&#39;m recently upgrading my application so I have upgraded the hibernate and spring data, earlier the query was working fine but now not able to solve this error. Error in eclipse while running the tomcat:-\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.demoweb.backend.repository.GradeRepository.getActiveGrades(java.lang.Long,java.lang.Boolean)!\r\n    \tat org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:93)\r\n    \tat org.springframework.data.jpa.repository.query.SimpleJpaQuery.&lt;init&gt;(SimpleJpaQuery.java:63)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:140)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:207)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:78)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lookupQuery(RepositoryFactorySupport.java:575)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(RepositoryFactorySupport.java:568)\r\n    \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n    \tat java.util.Iterator.forEachRemaining(Iterator.java:116)\r\n    \tat java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1051)\r\n    \tat java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n    \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\r\n    \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\n    \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\n    \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.mapMethodsToQuery(RepositoryFactorySupport.java:570)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$new$0(RepositoryFactorySupport.java:560)\r\n    \tat java.util.Optional.map(Optional.java:215)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.&lt;init&gt;(RepositoryFactorySupport.java:560)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:333)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297)\r\n    \tat org.springframework.data.util.Lazy.getNullable(Lazy.java:211)\r\n    \tat org.springframework.data.util.Lazy.get(Lazy.java:95)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:300)\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:121)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\r\n    \t... 67 more\r\n    Caused by: java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: Invalid path: &#39;studentBO.isDeletedFromSync&#39; [select grade.gradeName from com.demoweb.backend.model.GradeBO grade where grade.gradeName &lt;&gt; &#39;&#39; and grade in (select studentBo.gradeBO from com.demoweb.backend.model.StudentBO studentBo where studentBo.id in(select userBo.id from com.demoweb.backend.model.UserBO userBo where userBo.role=&#39;STUDENT&#39; and userBo.active=:isActive and userBo.schoolBO.id=:schoolId) and (studentBO.isDeletedFromSync is null or studentBO.isDeletedFromSync=false))]\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:133)\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157)\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:164)\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:713)\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:103)\r\n    \tat sun.reflect.GeneratedMethodAccessor63.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\r\nthe query :-\r\n\t\r\n\r\n    @Query(&quot;select grade.gradeName from GradeBO grade where grade.gradeName &lt;&gt; &#39;&#39; and grade in (select studentBo.gradeBO from StudentBO studentBo where studentBo.id in(select userBo.id from UserBO userBo where userBo.role=&#39;STUDENT&#39; and userBo.active=:isActive and userBo.schoolBO.id=:schoolId) and (studentBO.isDeletedFromSync is null or studentBO.isDeletedFromSync=false))&quot;)\r\n    \tList&lt;String&gt; getActiveGrades(@Param(&quot;schoolId&quot;) Long schoolId, @Param(&quot;isActive&quot;) Boolean isActive); \r\n\r\ni tried changing the query but didn&#39;t work \r\n\r\n    (&quot;select grade.gradeName from GradeBO grade where grade.gradeName &lt;&gt; &#39;&#39; and grade in (select studentBo.gradeBO from StudentBO studentBo where studentBo.id in(select userBo.id from UserBO userBo where userBo.role=&#39;STUDENT&#39; and userBo.active=:isActive and userBo.schoolBO.id=:schoolId and (studentBO.isDeletedFromSync is null or studentBO.isDeletedFromSync=false)))&quot;)\r\n\r\n\r\n\r\n\r\n\t","title":"not able to run the tomcat due to query QuerySyntaxException: Invalid path:","body":"<p>I'm recently upgrading my application so I have upgraded the hibernate and spring data, earlier the query was working fine but now not able to solve this error. Error in eclipse while running the tomcat:-</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.demoweb.backend.repository.GradeRepository.getActiveGrades(java.lang.Long,java.lang.Boolean)!\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:93)\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.&lt;init&gt;(SimpleJpaQuery.java:63)\n    at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76)\n    at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56)\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:140)\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:207)\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:78)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lookupQuery(RepositoryFactorySupport.java:575)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(RepositoryFactorySupport.java:568)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n    at java.util.Iterator.forEachRemaining(Iterator.java:116)\n    at java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1051)\n    at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n    at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.mapMethodsToQuery(RepositoryFactorySupport.java:570)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$new$0(RepositoryFactorySupport.java:560)\n    at java.util.Optional.map(Optional.java:215)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.&lt;init&gt;(RepositoryFactorySupport.java:560)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:333)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297)\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:211)\n    at org.springframework.data.util.Lazy.get(Lazy.java:95)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:300)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:121)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\n    ... 67 more\nCaused by: java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: Invalid path: 'studentBO.isDeletedFromSync' [select grade.gradeName from com.demoweb.backend.model.GradeBO grade where grade.gradeName &lt;&gt; '' and grade in (select studentBo.gradeBO from com.demoweb.backend.model.StudentBO studentBo where studentBo.id in(select userBo.id from com.demoweb.backend.model.UserBO userBo where userBo.role='STUDENT' and userBo.active=:isActive and userBo.schoolBO.id=:schoolId) and (studentBO.isDeletedFromSync is null or studentBO.isDeletedFromSync=false))]\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:133)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:164)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:713)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:103)\n    at sun.reflect.GeneratedMethodAccessor63.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n</code></pre>\n<p>the query :-</p>\n<pre><code>@Query(&quot;select grade.gradeName from GradeBO grade where grade.gradeName &lt;&gt; '' and grade in (select studentBo.gradeBO from StudentBO studentBo where studentBo.id in(select userBo.id from UserBO userBo where userBo.role='STUDENT' and userBo.active=:isActive and userBo.schoolBO.id=:schoolId) and (studentBO.isDeletedFromSync is null or studentBO.isDeletedFromSync=false))&quot;)\n    List&lt;String&gt; getActiveGrades(@Param(&quot;schoolId&quot;) Long schoolId, @Param(&quot;isActive&quot;) Boolean isActive); \n</code></pre>\n<p>i tried changing the query but didn't work</p>\n<pre><code>(&quot;select grade.gradeName from GradeBO grade where grade.gradeName &lt;&gt; '' and grade in (select studentBo.gradeBO from StudentBO studentBo where studentBo.id in(select userBo.id from UserBO userBo where userBo.role='STUDENT' and userBo.active=:isActive and userBo.schoolBO.id=:schoolId and (studentBO.isDeletedFromSync is null or studentBO.isDeletedFromSync=false)))&quot;)\n</code></pre>\n"},{"tags":["java","refactoring","coding-style","code-cleanup","non-repetitive"],"comments":[{"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"score":0,"creation_date":1687835783,"post_id":76561369,"comment_id":134988594,"body_markdown":"Since you do the same in the if condition part, you can extract that into a separate method. That way this will look more cleaner.","body":"Since you do the same in the if condition part, you can extract that into a separate method. That way this will look more cleaner."},{"owner":{"account_id":25242737,"reputation":13,"user_id":19076403,"display_name":"Justin Xu"},"score":0,"creation_date":1687837913,"post_id":76561369,"comment_id":134988750,"body_markdown":"@chameerar I&#39;m not sure about the `return` part. I guess it is not possible to extract the if into a method.","body":"@chameerar I&#39;m not sure about the <code>return</code> part. I guess it is not possible to extract the if into a method."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1687839544,"post_id":76561369,"comment_id":134988900,"body_markdown":"What you want to achieve is called [*aspect programming*](https://en.m.wikipedia.org/wiki/Aspect-oriented_programming). I would annotate the methods accordingly and let the code behind the annotation handle it. Either something like AspectJ where you write the code, or Spring Security where it&#39;s done mostly magically.","body":"What you want to achieve is called <a href=\"https://en.m.wikipedia.org/wiki/Aspect-oriented_programming\" rel=\"nofollow noreferrer\"><i>aspect programming</i></a>. I would annotate the methods accordingly and let the code behind the annotation handle it. Either something like AspectJ where you write the code, or Spring Security where it&#39;s done mostly magically."}],"owner":{"account_id":25242737,"reputation":13,"user_id":19076403,"display_name":"Justin Xu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687835425,"creation_date":1687835425,"question_id":76561369,"body_markdown":"I have lots of method and on each method I have to do a validation. Currently, my code look like this and it works fine.\r\n\r\n```java\r\n@Service\r\npublic class UserService {\r\n\t@Autowired\r\n    private UserValidation userValidation;\r\n\r\n    public BaseResponse&lt;AuthenticationResponse&gt; login(UserLoginRequest request) {\r\n        List&lt;ErrorCode&gt; errors = userValidation.validateUserLoginRequest(request);\r\n        if (!errors.isEmpty()) return Utils.constructFailedBaseResponse(errors);\r\n        // ...\r\n    }\r\n\r\n    public BaseResponse&lt;AuthenticationResponse&gt; register(UserRegisterRequest request) {\r\n        List&lt;ErrorCode&gt; errors = userValidation.validateUserRegisterRequest(request);\r\n        if (!errors.isEmpty()) return Utils.constructFailedBaseResponse(errors);\r\n        // ...\r\n    }\r\n\r\n    public BaseResponse&lt;User&gt; view(String username) {\r\n        List&lt;ErrorCode&gt; errors = userValidation.validateUserUsernameExists(username);\r\n        if (!errors.isEmpty()) return Utils.constructFailedBaseResponse(errors);\r\n        // ...\r\n    }\r\n\r\n    public BaseResponse&lt;Void&gt; edit(UserEditRequest request) {\r\n        List&lt;ErrorCode&gt; errors = userValidation.validateUserEditRequest(request);\r\n        if (!errors.isEmpty()) return Utils.constructFailedBaseResponse(errors);\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nHowever, I&#39;m curios is there a way to refactor the code so that I dont need to do the repetitive if statements on every method. The code below is what I&#39;m trying to achiev, but I don&#39;t know how. Any idea how to convert the code above to the code below? Another solution to refactor is very welcome. \r\n\r\n*(Or should I just stick with my code above? why?)* \r\n\r\n\r\n```java\r\n@Service\r\npublic class UserService {\r\n\t@Autowired\r\n    private UserValidation userValidation;\r\n\r\n    public BaseResponse&lt;AuthenticationResponse&gt; login(UserLoginRequest request) {\r\n        userValidation.validateUserLoginRequest(request);\r\n        // ...\r\n    }\r\n\r\n    public BaseResponse&lt;AuthenticationResponse&gt; register(UserRegisterRequest request) {\r\n        userValidation.validateUserRegisterRequest(request);\r\n        // ...\r\n    }\r\n\r\n    public BaseResponse&lt;User&gt; view(String username) {\r\n        userValidation.validateUserUsernameExists(username);\r\n        // ...\r\n    }\r\n\r\n    public BaseResponse&lt;Void&gt; edit(UserEditRequest request) {\r\n        userValidation.validateUserEditRequest(request);\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\n","title":"Refactor validation with return if statement","body":"<p>I have lots of method and on each method I have to do a validation. Currently, my code look like this and it works fine.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserService {\n    @Autowired\n    private UserValidation userValidation;\n\n    public BaseResponse&lt;AuthenticationResponse&gt; login(UserLoginRequest request) {\n        List&lt;ErrorCode&gt; errors = userValidation.validateUserLoginRequest(request);\n        if (!errors.isEmpty()) return Utils.constructFailedBaseResponse(errors);\n        // ...\n    }\n\n    public BaseResponse&lt;AuthenticationResponse&gt; register(UserRegisterRequest request) {\n        List&lt;ErrorCode&gt; errors = userValidation.validateUserRegisterRequest(request);\n        if (!errors.isEmpty()) return Utils.constructFailedBaseResponse(errors);\n        // ...\n    }\n\n    public BaseResponse&lt;User&gt; view(String username) {\n        List&lt;ErrorCode&gt; errors = userValidation.validateUserUsernameExists(username);\n        if (!errors.isEmpty()) return Utils.constructFailedBaseResponse(errors);\n        // ...\n    }\n\n    public BaseResponse&lt;Void&gt; edit(UserEditRequest request) {\n        List&lt;ErrorCode&gt; errors = userValidation.validateUserEditRequest(request);\n        if (!errors.isEmpty()) return Utils.constructFailedBaseResponse(errors);\n        // ...\n    }\n}\n</code></pre>\n<p>However, I'm curios is there a way to refactor the code so that I dont need to do the repetitive if statements on every method. The code below is what I'm trying to achiev, but I don't know how. Any idea how to convert the code above to the code below? Another solution to refactor is very welcome.</p>\n<p><em>(Or should I just stick with my code above? why?)</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserService {\n    @Autowired\n    private UserValidation userValidation;\n\n    public BaseResponse&lt;AuthenticationResponse&gt; login(UserLoginRequest request) {\n        userValidation.validateUserLoginRequest(request);\n        // ...\n    }\n\n    public BaseResponse&lt;AuthenticationResponse&gt; register(UserRegisterRequest request) {\n        userValidation.validateUserRegisterRequest(request);\n        // ...\n    }\n\n    public BaseResponse&lt;User&gt; view(String username) {\n        userValidation.validateUserUsernameExists(username);\n        // ...\n    }\n\n    public BaseResponse&lt;Void&gt; edit(UserEditRequest request) {\n        userValidation.validateUserEditRequest(request);\n        // ...\n    }\n}\n</code></pre>\n"},{"tags":["java","file","binary","ascii"],"answers":[{"tags":[],"owner":{"account_id":59255,"reputation":5143,"user_id":177324,"accept_rate":100,"display_name":"Dave"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1277213990,"creation_date":1277213990,"answer_id":3093629,"question_id":3093580,"body_markdown":"`x` doesn&#39;t appear to do anything.\r\n\r\nWhat if the file is less than 500 bytes?\r\n\r\nSome binary files have a situation where you can have a header for the first N bytes of the file which contains some data that is useful for an application but that the library the binary is for doesn&#39;t care about.  You could easily have 500+ bytes of ASCII in a preamble like this followed by binary data in the following gigabyte.\r\n\r\nShould handle exception if the file can&#39;t be opened or read, etc.","title":"How to check whether the file is binary?","body":"<p><code>x</code> doesn't appear to do anything.</p>\n\n<p>What if the file is less than 500 bytes?</p>\n\n<p>Some binary files have a situation where you can have a header for the first N bytes of the file which contains some data that is useful for an application but that the library the binary is for doesn't care about.  You could easily have 500+ bytes of ASCII in a preamble like this followed by binary data in the following gigabyte.</p>\n\n<p>Should handle exception if the file can't be opened or read, etc.</p>\n"},{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1277214048,"creation_date":1277214048,"answer_id":3093640,"question_id":3093580,"body_markdown":"The first thing I noticed - unrelated to your actual question, but you should be closing your input stream in a `finally` block to ensure it&#39;s always done.  Usually this merely handles exceptions, but in your case you won&#39;t even close the streams of files when returning `false`.\r\n\r\nAsides from that, why the comparison to ISO control characters?  That&#39;s not a &quot;binary&quot; file, that&#39;s a &quot;file that contains 5 or more control characters&quot;.  A better way to approach the situation in my opinion, would be to invert the check - write an `isAsciiText` function instead which asserts that all the characters in the file (or in the first 500 bytes if you so wish) are in a set of bytes that are **known good**.\r\n\r\nTheoretically, only checking the first few hundred bytes of a file could get you into trouble if it was a composite file of sorts (e.g. text with embedded pictures), but in practice I suspect every such file will have binary header data at the start so you&#39;re probably OK.","title":"How to check whether the file is binary?","body":"<p>The first thing I noticed - unrelated to your actual question, but you should be closing your input stream in a <code>finally</code> block to ensure it's always done.  Usually this merely handles exceptions, but in your case you won't even close the streams of files when returning <code>false</code>.</p>\n\n<p>Asides from that, why the comparison to ISO control characters?  That's not a \"binary\" file, that's a \"file that contains 5 or more control characters\".  A better way to approach the situation in my opinion, would be to invert the check - write an <code>isAsciiText</code> function instead which asserts that all the characters in the file (or in the first 500 bytes if you so wish) are in a set of bytes that are <strong>known good</strong>.</p>\n\n<p>Theoretically, only checking the first few hundred bytes of a file could get you into trouble if it was a composite file of sorts (e.g. text with embedded pictures), but in practice I suspect every such file will have binary header data at the start so you're probably OK.</p>\n"},{"tags":[],"owner":{"account_id":142287,"reputation":29681,"user_id":349909,"display_name":"unbeli"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1277214059,"creation_date":1277214059,"answer_id":3093642,"question_id":3093580,"body_markdown":"1. You ignore what read() returns, what if the files is shorter than 500 bytes?\r\n2. When you return false, you don&#39;t close the file.\r\n3. When converting byte to char, you assume your file is 7-bit ASCII. \r\n\r\n","title":"How to check whether the file is binary?","body":"<ol>\n<li>You ignore what read() returns, what if the files is shorter than 500 bytes?</li>\n<li>When you return false, you don't close the file.</li>\n<li>When converting byte to char, you assume your file is 7-bit ASCII. </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":61252,"reputation":407488,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1386603351,"creation_date":1277214067,"answer_id":3093643,"question_id":3093580,"body_markdown":"Since you call this class &quot;isASCIIText&quot;, you know exactly what you&#39;re looking for. In other words, it&#39;s not &quot;isTextInCurrentLocaleEncoding&quot;.  Thus you can be more accurate with:\r\n\r\n    if (thisByte &lt; 32 || thisByte &gt; 127) bin++;\r\n\r\n*edit, a long time later* &amp;mdash; it&#39;s pointed out in a comment that this simple check would be tripped up by a text file that started with a lot of newlines. It&#39;d probably be better to use a table of &quot;ok&quot; bytes, and include printable characters (including carriage return, newline, and tab, and possibly form feed though I don&#39;t think many modern documents use those), and then check the table.","title":"How to check whether the file is binary?","body":"<p>Since you call this class \"isASCIIText\", you know exactly what you're looking for. In other words, it's not \"isTextInCurrentLocaleEncoding\".  Thus you can be more accurate with:</p>\n\n<pre><code>if (thisByte &lt; 32 || thisByte &gt; 127) bin++;\n</code></pre>\n\n<p><em>edit, a long time later</em> &mdash; it's pointed out in a comment that this simple check would be tripped up by a text file that started with a lot of newlines. It'd probably be better to use a table of \"ok\" bytes, and include printable characters (including carriage return, newline, and tab, and possibly form feed though I don't think many modern documents use those), and then check the table.</p>\n"},{"tags":[],"owner":{"account_id":102978,"reputation":19798,"user_id":276076,"display_name":"Nikolaus Gradwohl"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1277214387,"creation_date":1277214387,"answer_id":3093688,"question_id":3093580,"body_markdown":"This would not work with the jdk install packages for linux or solaris. they have a shell-script start and then a bi data blob. \r\n\r\nwhy not check the mime type using some library like jMimeMagic (http://http://sourceforge.net/projects/jmimemagic/) and deside based on the mimetype how to handle the file. ","title":"How to check whether the file is binary?","body":"<p>This would not work with the jdk install packages for linux or solaris. they have a shell-script start and then a bi data blob. </p>\n\n<p>why not check the mime type using some library like jMimeMagic (<a href=\"http://http://sourceforge.net/projects/jmimemagic/\" rel=\"nofollow noreferrer\">http://http://sourceforge.net/projects/jmimemagic/</a>) and deside based on the mimetype how to handle the file. </p>\n"},{"tags":[],"owner":{"account_id":103559,"reputation":73828,"user_id":277304,"accept_rate":66,"display_name":"leonbloy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1277214487,"creation_date":1277214487,"answer_id":3093710,"question_id":3093580,"body_markdown":"1. Fails badly if file size is less than 500 bytes\r\n\r\n2. The line `char it = (char) thisByte;` is conceptually dubious, it mixes bytes and chars concepts, ie. assumes implicitly that the encoding is one-byte=one character (them, it excludes unicode encodings). In particular, it fails if the file is UTF-16 encoded. \r\n\r\n3. The return inside the loop (slightly bad practice IMO) forgets to close the file.","title":"How to check whether the file is binary?","body":"<ol>\n<li><p>Fails badly if file size is less than 500 bytes</p></li>\n<li><p>The line <code>char it = (char) thisByte;</code> is conceptually dubious, it mixes bytes and chars concepts, ie. assumes implicitly that the encoding is one-byte=one character (them, it excludes unicode encodings). In particular, it fails if the file is UTF-16 encoded. </p></li>\n<li><p>The return inside the loop (slightly bad practice IMO) forgets to close the file.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687834773,"creation_date":1619357830,"answer_id":67254003,"question_id":3093580,"body_markdown":"One could parse and compare ageinst a list of known binary file header bytes, like the one [provided here][1] (and backed up [here][1a]).\r\n\r\nProblem is, one needs to have a sorted list of binary-only headers, and the list might not be complete at all. For example, reading and parsing binary files contained in some Equinox framework jar. If one needs to identify the specific file types though, this should work.\r\n\r\nIf you&#39;re on Linux, for existing files on the disk, native [file command execution][2] should work well:\r\n\r\n    String command = &quot;file -i [ZIP FILE...]&quot;;\r\n    Process process = Runtime.getRuntime().exec(command);\r\n    ...\r\n\r\nIt will output information on the files:\r\n\r\n    ...: application/zip; charset=binary\r\n\r\nwhich you can furtherly filter with grep, or in Java, depending on, if you simply need estimation of the files&#39; binary character, or if you need to find out their `MIME` types.\r\n\r\nIf parsing InputStreams, like content of nested files inside archives, this doesn&#39;t work, unfortunately, unless resorting to shell-only programs, like `unzip` - if you want to avoid creating temp unzipped files.\r\n\r\nFor this, a rough estimation of examining the first 500 Bytes worked out ok for me, so far, as was hinted in the examples above; instead of `Character.isWhitespace/isISOControl(char)`, I used `Character.isIdentifierIgnorable(codePoint)`, assuming `UTF-8` default encoding:\r\n\r\n    private static boolean isBinaryFileHeader(byte[] headerBytes) {\r\n        return new String(headerBytes).codePoints().filter(Character::isIdentifierIgnorable).count() &gt;= 5;\r\n    }\r\n    \r\n    public void printNestedZipContent(String zipPath) {\r\n        try (ZipFile zipFile = new ZipFile(zipPath)) {\r\n            int zipHeaderBytesLen = 500;\r\n            zipFile.entries().asIterator().forEachRemaining( entry -&gt; {\r\n                String entryName = entry.getName();\r\n                if (entry.isDirectory()) {\r\n                    System.out.println(&quot;FOLDER_NAME: &quot; + entryName);\r\n                    return;\r\n                }\r\n                // Get content bytes from ZipFile for ZipEntry \r\n                try (InputStream zipEntryStream = new BufferedInputStream(zipFile.getInputStream(zipEntry))) {\r\n                    // read and store header bytes\r\n                    byte[] headerBytes = zipEntryStream.readNBytes(zipHeaderBytesLen);\r\n                    // Skip entry, if nested binary file\r\n                    if (isBinaryFileHeader(headerBytes)) {\r\n                        return;\r\n                    }\r\n                    // Continue reading zipInputStream bytes, if non-binary\r\n                    byte[] zipContentBytes = zipEntryStream.readAllBytes();\r\n                    int zipContentBytesLen = zipContentBytes.length;\r\n                    // Join already read header bytes and rest of content bytes\r\n                    byte[] joinedZipEntryContent = Arrays.copyOf(zipContentBytes, zipContentBytesLen + zipHeaderBytesLen);\r\n                    System.arraycopy(headerBytes, 0, joinedZipEntryContent, zipContentBytesLen, zipHeaderBytesLen);\r\n                    // Output (default/UTF-8) encoded text file content\r\n                    System.out.println(new String(joinedZipEntryContent));\r\n                } catch (IOException e) {\r\n                    System.out.println(&quot;ERROR getting ZipEntry content: &quot; + entry.getName());\r\n                }\r\n            });\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;ERROR opening ZipFile: &quot; + zipPath);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://www.garykessler.net/software/FileSigs.zip\r\n  [1a]: https://web.archive.org/web/20230627025808/https://www.garykessler.net/software/FileSigs.zip\r\n  [2]: https://www.codejava.net/java-se/file-io/execute-operating-system-commands-using-runtime-exec-methods","title":"How to check whether the file is binary?","body":"<p>One could parse and compare ageinst a list of known binary file header bytes, like the one <a href=\"https://www.garykessler.net/software/FileSigs.zip\" rel=\"nofollow noreferrer\">provided here</a> (and backed up <a href=\"https://web.archive.org/web/20230627025808/https://www.garykessler.net/software/FileSigs.zip\" rel=\"nofollow noreferrer\">here</a>).</p>\n<p>Problem is, one needs to have a sorted list of binary-only headers, and the list might not be complete at all. For example, reading and parsing binary files contained in some Equinox framework jar. If one needs to identify the specific file types though, this should work.</p>\n<p>If you're on Linux, for existing files on the disk, native <a href=\"https://www.codejava.net/java-se/file-io/execute-operating-system-commands-using-runtime-exec-methods\" rel=\"nofollow noreferrer\">file command execution</a> should work well:</p>\n<pre><code>String command = &quot;file -i [ZIP FILE...]&quot;;\nProcess process = Runtime.getRuntime().exec(command);\n...\n</code></pre>\n<p>It will output information on the files:</p>\n<pre><code>...: application/zip; charset=binary\n</code></pre>\n<p>which you can furtherly filter with grep, or in Java, depending on, if you simply need estimation of the files' binary character, or if you need to find out their <code>MIME</code> types.</p>\n<p>If parsing InputStreams, like content of nested files inside archives, this doesn't work, unfortunately, unless resorting to shell-only programs, like <code>unzip</code> - if you want to avoid creating temp unzipped files.</p>\n<p>For this, a rough estimation of examining the first 500 Bytes worked out ok for me, so far, as was hinted in the examples above; instead of <code>Character.isWhitespace/isISOControl(char)</code>, I used <code>Character.isIdentifierIgnorable(codePoint)</code>, assuming <code>UTF-8</code> default encoding:</p>\n<pre><code>private static boolean isBinaryFileHeader(byte[] headerBytes) {\n    return new String(headerBytes).codePoints().filter(Character::isIdentifierIgnorable).count() &gt;= 5;\n}\n\npublic void printNestedZipContent(String zipPath) {\n    try (ZipFile zipFile = new ZipFile(zipPath)) {\n        int zipHeaderBytesLen = 500;\n        zipFile.entries().asIterator().forEachRemaining( entry -&gt; {\n            String entryName = entry.getName();\n            if (entry.isDirectory()) {\n                System.out.println(&quot;FOLDER_NAME: &quot; + entryName);\n                return;\n            }\n            // Get content bytes from ZipFile for ZipEntry \n            try (InputStream zipEntryStream = new BufferedInputStream(zipFile.getInputStream(zipEntry))) {\n                // read and store header bytes\n                byte[] headerBytes = zipEntryStream.readNBytes(zipHeaderBytesLen);\n                // Skip entry, if nested binary file\n                if (isBinaryFileHeader(headerBytes)) {\n                    return;\n                }\n                // Continue reading zipInputStream bytes, if non-binary\n                byte[] zipContentBytes = zipEntryStream.readAllBytes();\n                int zipContentBytesLen = zipContentBytes.length;\n                // Join already read header bytes and rest of content bytes\n                byte[] joinedZipEntryContent = Arrays.copyOf(zipContentBytes, zipContentBytesLen + zipHeaderBytesLen);\n                System.arraycopy(headerBytes, 0, joinedZipEntryContent, zipContentBytesLen, zipHeaderBytesLen);\n                // Output (default/UTF-8) encoded text file content\n                System.out.println(new String(joinedZipEntryContent));\n            } catch (IOException e) {\n                System.out.println(&quot;ERROR getting ZipEntry content: &quot; + entry.getName());\n            }\n        });\n    } catch (IOException e) {\n        System.out.println(&quot;ERROR opening ZipFile: &quot; + zipPath);\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":148236,"reputation":93535,"user_id":359862,"accept_rate":95,"display_name":"James Raitsev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10720,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":3093643,"answer_count":7,"score":6,"last_activity_date":1687834773,"creation_date":1277213726,"question_id":3093580,"body_markdown":"I wrote the following method to see whether particular file contains ASCII text characters only or control characters in addition to that. Could you glance at this code, suggest improvements and point out oversights?\r\n\r\nThe logic is as follows: &quot;If first 500 bytes of a file contain 5 or more Control characters - report it as binary file&quot;\r\n\r\nthank you.\r\n\r\n    public boolean isAsciiText(String fileName) throws IOException {\r\n    \r\n    \tInputStream in = new FileInputStream(fileName);\r\n    \tbyte[] bytes = new byte[500];\r\n    \t\r\n    \tin.read(bytes, 0, bytes.length);\r\n    \tint x = 0;\r\n    \tshort bin = 0;\r\n    \t\r\n    \tfor (byte thisByte : bytes) {\r\n    \t\tchar it = (char) thisByte;\r\n    \t\tif (!Character.isWhitespace(it) &amp;&amp; Character.isISOControl(it)) {\r\n    \t\t\r\n    \t\t\tbin++;\r\n    \t\t}\r\n    \t\tif (bin &gt;= 5) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\tx++;\r\n    \t}\r\n    \tin.close();\r\n    \treturn true;\r\n    }","title":"How to check whether the file is binary?","body":"<p>I wrote the following method to see whether particular file contains ASCII text characters only or control characters in addition to that. Could you glance at this code, suggest improvements and point out oversights?</p>\n\n<p>The logic is as follows: \"If first 500 bytes of a file contain 5 or more Control characters - report it as binary file\"</p>\n\n<p>thank you.</p>\n\n<pre><code>public boolean isAsciiText(String fileName) throws IOException {\n\n    InputStream in = new FileInputStream(fileName);\n    byte[] bytes = new byte[500];\n\n    in.read(bytes, 0, bytes.length);\n    int x = 0;\n    short bin = 0;\n\n    for (byte thisByte : bytes) {\n        char it = (char) thisByte;\n        if (!Character.isWhitespace(it) &amp;&amp; Character.isISOControl(it)) {\n\n            bin++;\n        }\n        if (bin &gt;= 5) {\n            return false;\n        }\n        x++;\n    }\n    in.close();\n    return true;\n}\n</code></pre>\n"},{"tags":["java","javadoc","author"],"comments":[{"owner":{"account_id":3368794,"reputation":2538,"user_id":2828611,"accept_rate":70,"display_name":"inetphantom"},"score":0,"creation_date":1454423637,"post_id":17269843,"comment_id":58030698,"body_markdown":"SVN in this context means?","body":"SVN in this context means?"},{"owner":{"account_id":1667302,"reputation":4607,"user_id":1534456,"accept_rate":62,"display_name":"radekEm"},"score":0,"creation_date":1454437943,"post_id":17269843,"comment_id":58040588,"body_markdown":"@inetphantom SVN (Subversion) is an example of a version control system. See https://subversion.apache.org/ for more details","body":"@inetphantom SVN (Subversion) is an example of a version control system. See <a href=\"https://subversion.apache.org/\" rel=\"nofollow noreferrer\">subversion.apache.org</a> for more details"}],"answers":[{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1372058107,"creation_date":1372058107,"answer_id":17269902,"question_id":17269843,"body_markdown":"You can have more than one `@author` tag. In case you make some big changes to a class, just add a new `@author` tag with your own name in it. There&#39;s no need to mark the changes you&#39;ve done or to put your name around the changes, as the revision history should be able to display that clearly.","title":"Javadoc @author tag good practices","body":"<p>You can have more than one <code>@author</code> tag. In case you make some big changes to a class, just add a new <code>@author</code> tag with your own name in it. There's no need to mark the changes you've done or to put your name around the changes, as the revision history should be able to display that clearly.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1666281115,"creation_date":1372058347,"answer_id":17269968,"question_id":17269843,"body_markdown":"You may want to consider _why_ you want author tags in the source.  The Apache Foundation do not and I agree.\r\n\r\nhttps://web.archive.org/web/20150226035235/www.theinquirer.net/inquirer/news/1037207/apache-enforces-the-removal-of-author-tags\r\n\r\nTo my best understanding this is a cargo cult way of working from when sources were printed on paper.  With modern version control systems this information and more can be found in the history anyway.\r\n","title":"Javadoc @author tag good practices","body":"<p>You may want to consider <em>why</em> you want author tags in the source.  The Apache Foundation do not and I agree.</p>\n<p><a href=\"https://web.archive.org/web/20150226035235/www.theinquirer.net/inquirer/news/1037207/apache-enforces-the-removal-of-author-tags\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20150226035235/www.theinquirer.net/inquirer/news/1037207/apache-enforces-the-removal-of-author-tags</a></p>\n<p>To my best understanding this is a cargo cult way of working from when sources were printed on paper.  With modern version control systems this information and more can be found in the history anyway.</p>\n"},{"tags":[],"owner":{"account_id":2450311,"reputation":3009,"user_id":2136767,"accept_rate":74,"display_name":"Paul"},"down_vote_count":6,"up_vote_count":90,"is_accepted":true,"score":84,"last_activity_date":1434043687,"creation_date":1372063783,"answer_id":17271433,"question_id":17269843,"body_markdown":"I would say that for most purposes `@author` is unwanted noise.  The user of your API shouldn&#39;t - and probably doesn&#39;t - care, or want to know, who wrote which parts.\r\n\r\nAnd, as you have already stated, SVN already holds this information in a much more authoritative way than the code can.  So if I was one of the team, I would always prefer SVN&#39;s log and ignore the `@author`. I&#39;d bet that the code will get out of sync with reality, whatever policy you adopted. Following the Don&#39;t Repeat Yourself principle, why hold this information in two places?\r\n\r\nIf, however, there is some bureaucratic or policy reason that this information MUST be included in the code, have you considered automatically updating the `@author` tag in the code on check in?  You could *probably* achieve this with an SVN hook.  You could for example list all the developers who changed a given file in the order they changed it; or who changed it most; or whatever. Or, if the `@author` is mandated in (source) code you release to the outside world, you could consider adding the `@author` automatically as part of the release build (I suspect you could get this information out of SVN somehow).\r\n\r\nAs for adding more than a single class level `@author` tag (or other comment), I&#39;d say you&#39;d be accumulating a lot of unhelpful noise. (Again, you have SVN.)\r\n\r\nIn my experience it is much more useful to identify a historical change (say a change to a line of code, or a method), then to work out which change set this relates to (and which track ticket).  Then you have the full context for the change: you have the ticket, the change set, you can find other change sets on the same ticket, or around the same time, you can find related tickets, and you can see ALL the changes that formed that unit of work.  You are never going to get this from annotation or comments in code.","title":"Javadoc @author tag good practices","body":"<p>I would say that for most purposes <code>@author</code> is unwanted noise.  The user of your API shouldn't - and probably doesn't - care, or want to know, who wrote which parts.</p>\n\n<p>And, as you have already stated, SVN already holds this information in a much more authoritative way than the code can.  So if I was one of the team, I would always prefer SVN's log and ignore the <code>@author</code>. I'd bet that the code will get out of sync with reality, whatever policy you adopted. Following the Don't Repeat Yourself principle, why hold this information in two places?</p>\n\n<p>If, however, there is some bureaucratic or policy reason that this information MUST be included in the code, have you considered automatically updating the <code>@author</code> tag in the code on check in?  You could <em>probably</em> achieve this with an SVN hook.  You could for example list all the developers who changed a given file in the order they changed it; or who changed it most; or whatever. Or, if the <code>@author</code> is mandated in (source) code you release to the outside world, you could consider adding the <code>@author</code> automatically as part of the release build (I suspect you could get this information out of SVN somehow).</p>\n\n<p>As for adding more than a single class level <code>@author</code> tag (or other comment), I'd say you'd be accumulating a lot of unhelpful noise. (Again, you have SVN.)</p>\n\n<p>In my experience it is much more useful to identify a historical change (say a change to a line of code, or a method), then to work out which change set this relates to (and which track ticket).  Then you have the full context for the change: you have the ticket, the change set, you can find other change sets on the same ticket, or around the same time, you can find related tickets, and you can see ALL the changes that formed that unit of work.  You are never going to get this from annotation or comments in code.</p>\n"},{"tags":[],"owner":{"account_id":1004640,"reputation":16474,"user_id":4560142,"display_name":"Vojtech Ruzicka"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1462690888,"creation_date":1462690888,"answer_id":37097158,"question_id":17269843,"body_markdown":"In really big and long-running projects with lots of developers, it is useful to know ho is responsible for given code, who can provide you with extra information and such. In that case it would be handy to have such an informationin the file using @author tag. Not marking who created the file or who made some major contributions, but who is a contact person for that code. Those might be very different people as original author may be already on different project or left the company years ago.\r\n\r\nI think on huge project that approach may be handy, however there is a caveat. Keeping every single file&#39;s author information is very difficult as there is huge amount of files and sooner or later will fail. More and more files will have outdated information and developers will no longer trust this @author as source of information and will just ignore it.\r\n\r\nSolution, which may work, is not to keep @author on every single file, but only per module (high level packages). Javadoc has a feature, where you can document not only files but whole packages ([See this question for more detail][1]).\r\n\r\nThis is however a special case and as long as your project is not that big or old, I reccomend ommiting the author information.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/624422/4560142","title":"Javadoc @author tag good practices","body":"<p>In really big and long-running projects with lots of developers, it is useful to know ho is responsible for given code, who can provide you with extra information and such. In that case it would be handy to have such an informationin the file using @author tag. Not marking who created the file or who made some major contributions, but who is a contact person for that code. Those might be very different people as original author may be already on different project or left the company years ago.</p>\n\n<p>I think on huge project that approach may be handy, however there is a caveat. Keeping every single file's author information is very difficult as there is huge amount of files and sooner or later will fail. More and more files will have outdated information and developers will no longer trust this @author as source of information and will just ignore it.</p>\n\n<p>Solution, which may work, is not to keep @author on every single file, but only per module (high level packages). Javadoc has a feature, where you can document not only files but whole packages (<a href=\"https://stackoverflow.com/q/624422/4560142\">See this question for more detail</a>).</p>\n\n<p>This is however a special case and as long as your project is not that big or old, I reccomend ommiting the author information.</p>\n"},{"tags":[],"owner":{"account_id":2070005,"reputation":1845,"user_id":1844706,"accept_rate":79,"display_name":"Andreas Hartmann"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1547463860,"creation_date":1547463860,"answer_id":54180269,"question_id":17269843,"body_markdown":"I completely agree that it is unnecessary and you probably shouldn&#39;t add it. However I still add it, I see it like adding a signature to a painting, or [adding it to a stamp on a piece of metal in a computer helped design][1]. You wrote that piece of code, and adding your name shows that you are proud of it and that you are confident of its quality, even if it does nothing else. Even if it&#39;s changed in the future, you laid the foundations for everything built on top of it, and should it really be rewritten completely, the tag can be changed, removed or expanded. I agree that it is redundant thanks to version control, but having your name in version control isn&#39;t nearly as satisfying. If someone just adds a &quot;final&quot; or formats the code, their name will be in version control, even if they hardly contributed at all. I also agree that it is noise, in that it doesn&#39;t add anything to the code, however is it really even slightly noticeably annoying? I don&#39;t think so. If you are reasonable about it, I think it can make a project &quot;more friendly&quot;, if that makes sense.\r\n\r\n\r\n  [1]: https://www.cultofmac.com/122408/signed-by-steve-jobs-co-signatures-inside-the-original-macintosh-case/","title":"Javadoc @author tag good practices","body":"<p>I completely agree that it is unnecessary and you probably shouldn't add it. However I still add it, I see it like adding a signature to a painting, or <a href=\"https://www.cultofmac.com/122408/signed-by-steve-jobs-co-signatures-inside-the-original-macintosh-case/\" rel=\"noreferrer\">adding it to a stamp on a piece of metal in a computer helped design</a>. You wrote that piece of code, and adding your name shows that you are proud of it and that you are confident of its quality, even if it does nothing else. Even if it's changed in the future, you laid the foundations for everything built on top of it, and should it really be rewritten completely, the tag can be changed, removed or expanded. I agree that it is redundant thanks to version control, but having your name in version control isn't nearly as satisfying. If someone just adds a \"final\" or formats the code, their name will be in version control, even if they hardly contributed at all. I also agree that it is noise, in that it doesn't add anything to the code, however is it really even slightly noticeably annoying? I don't think so. If you are reasonable about it, I think it can make a project \"more friendly\", if that makes sense.</p>\n"},{"tags":[],"owner":{"account_id":9421037,"reputation":530,"user_id":9851598,"display_name":"surendrapanday"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1549835732,"creation_date":1549835732,"answer_id":54621482,"question_id":17269843,"body_markdown":"It&#39;s very handy to have @author tag and have multiple authors. Even Oracle&#39;s Documentation outlines that it&#39;s good practice to have @author on top of class to give credit to particular author who did the job and also to track down things if someone needs to be spoken to during development process. If there are multiple authors they can be listed in order they contributed on a particular java file/class. Yes, there are plugins and with git structure, you can check can see author&#39;s name hanging around in the code precisely, but this idea will be controversial though. Because, sometimes multiple authors edit same line of code and might not show two authors editing same line of code. I have plugin enabled, it never shows 2 authors name for editing same line of code. With big companies, it&#39;s handy to have this practice set up.","title":"Javadoc @author tag good practices","body":"<p>It's very handy to have @author tag and have multiple authors. Even Oracle's Documentation outlines that it's good practice to have @author on top of class to give credit to particular author who did the job and also to track down things if someone needs to be spoken to during development process. If there are multiple authors they can be listed in order they contributed on a particular java file/class. Yes, there are plugins and with git structure, you can check can see author's name hanging around in the code precisely, but this idea will be controversial though. Because, sometimes multiple authors edit same line of code and might not show two authors editing same line of code. I have plugin enabled, it never shows 2 authors name for editing same line of code. With big companies, it's handy to have this practice set up.</p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1555429957,"creation_date":1555429957,"answer_id":55712172,"question_id":17269843,"body_markdown":"If it is company code, I would not do that: we have VCS. Instead, if it is a blog post or code snippets of my personal repo, I would proudly add this and hoping some copy-paste guy will find my code useful and accidentally, copy my name as well :)\r\n\r\nJust my type of humour, I guess.","title":"Javadoc @author tag good practices","body":"<p>If it is company code, I would not do that: we have VCS. Instead, if it is a blog post or code snippets of my personal repo, I would proudly add this and hoping some copy-paste guy will find my code useful and accidentally, copy my name as well :)</p>\n\n<p>Just my type of humour, I guess.</p>\n"},{"tags":[],"owner":{"account_id":2764790,"reputation":579,"user_id":2380799,"accept_rate":60,"display_name":"Andrej Buday"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1687834550,"creation_date":1616950542,"answer_id":66843899,"question_id":17269843,"body_markdown":"It is the year 2021, and when I am replying to this question, it is nearly 8 years from the first publish. The world is a little bit different place and it is using microservices at full throttle. Therefore, I would sum up the overall mood around authorship like this: **it is pointless**. Let me explain it on a few points:\r\n\r\n - Most widespread software or organisation projects are developed by multiple authors, not individuals anymore.\r\n - Majority of software is versioned in Git, CI/CD and cloud is reachable reality.\r\n - Advanced IDEs visualise greatly code changes. Code changes are more important than the overall class source code.\r\n - Handling bugs caused by code changes are far more important than handling bugs caused by the usage of the wrong class version.\r\n - Unless the software is a library, IP/commercial software, framework with regular releases, authorship has no meaning.\r\n - It is highly probable that the authors of the source code you use/work on are not working or never work in your organisation.\r\n - Maintaining an appropriate ratio of author contribution in author declaration leads to additional effort with 0 gain. Nobody wants that.\r\n\r\nTherefore, knowledge of simple code edits and appropriate line changes are more important than knowledge of the whole class.\r\n\r\nHere is my opinion on [class authorship digested to the short article][1].\r\n\r\n\r\n  [1]: https://codekopf.com/opinion/removing-class-authorship-considered-as-code-cruft-and-completely-redundant/","title":"Javadoc @author tag good practices","body":"<p>It is the year 2021, and when I am replying to this question, it is nearly 8 years from the first publish. The world is a little bit different place and it is using microservices at full throttle. Therefore, I would sum up the overall mood around authorship like this: <strong>it is pointless</strong>. Let me explain it on a few points:</p>\n<ul>\n<li>Most widespread software or organisation projects are developed by multiple authors, not individuals anymore.</li>\n<li>Majority of software is versioned in Git, CI/CD and cloud is reachable reality.</li>\n<li>Advanced IDEs visualise greatly code changes. Code changes are more important than the overall class source code.</li>\n<li>Handling bugs caused by code changes are far more important than handling bugs caused by the usage of the wrong class version.</li>\n<li>Unless the software is a library, IP/commercial software, framework with regular releases, authorship has no meaning.</li>\n<li>It is highly probable that the authors of the source code you use/work on are not working or never work in your organisation.</li>\n<li>Maintaining an appropriate ratio of author contribution in author declaration leads to additional effort with 0 gain. Nobody wants that.</li>\n</ul>\n<p>Therefore, knowledge of simple code edits and appropriate line changes are more important than knowledge of the whole class.</p>\n<p>Here is my opinion on <a href=\"https://codekopf.com/opinion/removing-class-authorship-considered-as-code-cruft-and-completely-redundant/\" rel=\"nofollow noreferrer\">class authorship digested to the short article</a>.</p>\n"},{"tags":[],"owner":{"account_id":2087834,"reputation":7157,"user_id":1858327,"accept_rate":71,"display_name":"Captain Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666283039,"creation_date":1666283039,"answer_id":74143261,"question_id":17269843,"body_markdown":"Building off of [this][1] answer and digging through links from posts from 2004 I found [this][2] (pasted below). It&#39;s from [Dirk-Willem van Gulik][3] who was one of the founders of the Apache Software Foundation so I assume he had some input on the decision to stop using `@author` tags.\r\n\r\n&gt;     List:       xml-cocoon-dev Subject:    Re: @author tags (WAS: RE: ASF\r\n&gt;     Board Summary for February 18, 2004) From:       Dirk-Willem van Gulik\r\n&gt;     &lt;dirkx () asemantics ! com&gt; Date:       2004-02-27 10:33:32\r\n&gt;     Message-ID: 63E38432-6910-11D8-BA7E-000A95CDA38A () asemantics ! com\r\n&gt; \r\n&gt; On Feb 27, 2004, at 12:45 AM, Conal Tuohy wrote:\r\n&gt; \r\n&gt; &gt; I don&#39;t think the ASF should discourage developers from keeping useful \r\n&gt; &gt; metadata about the code inside the source files. What better place to \r\n&gt; &gt; put the metadata than in the code? This makes it more likely to be \r\n&gt; &gt; used and kept up to date than if it was stored somewhere else, IMHO.\r\n&gt; \r\n&gt; One way to look at this is that @author tags are in a way factually \r\n&gt; &#39;wrong&#39;; in most cases it just signals which person wrote the  first \r\n&gt; skeleton of that code; but subsequently it was fixes, peer-reviewed\r\n&gt; and  looked at by a whole community. Also do not forget the many\r\n&gt; people in  your community which help with QA, Documentation,\r\n&gt; user-feedback and so  on. To put  one person in the (hot) seat for\r\n&gt; what is essentially a  group effort is not quite right.\r\n&gt; \r\n&gt; Looking through the CVS logs of a few tomcat files: each block of 30 \r\n&gt; lines seems to have had commits of at least 5 persons; with a median\r\n&gt; of  6 and an  average of 9. The average number of @author tags on\r\n&gt; those  arbitrary blocks is about 0.5. And that is not counting QA,\r\n&gt; docs,  suggestions of mailing lists, bug resolutions, user support.\r\n&gt; I.e. those  things which make tomcat such a great supported product.\r\n&gt; \r\n&gt; Secondly what we &#39;sell&#39; as the ASF brand is a code base which is peer \r\n&gt; reviewed, quality controlled and created by a sustainable group which \r\n&gt; will survive the coming and going of volunteers. One where knowledge\r\n&gt; is  generally shared and not just depended on one single individual.\r\n&gt; This  is one of the key reasons why large companies, governments, etc\r\n&gt; have a  lot less qualms about using apache than using most other open\r\n&gt; source;  we mitigate  the worry that it depends on a single person,\r\n&gt; and can  implode or fork without warning, right from the get-go.\r\n&gt; \r\n&gt; Finally - a lot of developers do live in countries where you can get \r\n&gt; sued. The ASF can provide a certain level of protection; but this is \r\n&gt; based on the KEY premisse that there is oversight and peer review.\r\n&gt; That  what we ship is a community product; and that everything is\r\n&gt; backed by  the community and cannot be attributed to a single person.\r\n&gt; Every commit    gets peer review; ever release requires +1s&#39; and are\r\n&gt; backed by the  community as a whole. @author tags are by necessity\r\n&gt; incomplete and thus  portrait the situation inaccurately. Any hint or\r\n&gt; suggestion that parts  of the code are not a community product makes\r\n&gt; defence more complex and  expensive. We do not want to temp anyone -\r\n&gt; but rather present a clean  picture with no blemishes or easy go&#39;s.\r\n&gt; \r\n&gt; And to give this a positive slant; be -proud- of this culture; be\r\n&gt; proud  of being part of something larger of incredible  quality. Each\r\n&gt; of you  did not just write a few pesky lines of code surrounded by an\r\n&gt; @author  tag; but where instrumental in getting the -whole- thing work\r\n&gt; ! And if  you are ever trying to understand why cocoon made it this\r\n&gt; far, and  other commercial/open-source projects did not, then do look\r\n&gt; there;  quality and a sense of long term stability.\r\n&gt; \r\n&gt; Take Care, Have fun,\r\n&gt; \r\n&gt; Dw\r\n\r\nWhile tracking this down I came across a few blog posts against this and some in favor. That&#39;s a very small sample size but I think it is fair to say this was at least a controversial change -- some folks wanted them to stay. That said, in 2022 I don&#39;t really ever see them used. (Remember, this mail is from 2004.) You even mentioned it yourself about SVN history (but now maybe Git is the more common tool) and even in this mail they mention the CVS logs (another source control tool). Maybe the source control tools of today are easier to use, who knows.\r\n\r\nI feel like there still might be some oddball use cases that make sense but I don&#39;t think the standard idea of &quot;I wrote (or modified) this so I&#39;m putting myself as the `@author`&quot; is necessary. I currently have a [question on Code Review][4] about using it for Creative Commons attribution and (in my opinion) I think it&#39;s a good use but I would hardly call that a well-accepted good practice (but I don&#39;t think it hurts).\r\n\r\n[1]: https://stackoverflow.com/a/17269968/1858327\r\n[2]: https://marc.info/?l=xml-cocoon-dev&amp;m=107788069123268&amp;w=2\r\n[3]: https://en.wikipedia.org/wiki/Dirk-Willem_van_Gulik\r\n[4]: https://codereview.stackexchange.com/q/280572/71148\r\n\r\n&lt;!-- Dear future editors, in case the marc.info link breaks in the future it is archived here: https://web.archive.org/web/20221020155738/https://marc.info/?l=xml-cocoon-dev&amp;m=107788069123268&amp;w=2 --&gt;","title":"Javadoc @author tag good practices","body":"<p>Building off of <a href=\"https://stackoverflow.com/a/17269968/1858327\">this</a> answer and digging through links from posts from 2004 I found <a href=\"https://marc.info/?l=xml-cocoon-dev&amp;m=107788069123268&amp;w=2\" rel=\"nofollow noreferrer\">this</a> (pasted below). It's from <a href=\"https://en.wikipedia.org/wiki/Dirk-Willem_van_Gulik\" rel=\"nofollow noreferrer\">Dirk-Willem van Gulik</a> who was one of the founders of the Apache Software Foundation so I assume he had some input on the decision to stop using <code>@author</code> tags.</p>\n<blockquote>\n<pre><code>List:       xml-cocoon-dev Subject:    Re: @author tags (WAS: RE: ASF\nBoard Summary for February 18, 2004) From:       Dirk-Willem van Gulik\n&lt;dirkx () asemantics ! com&gt; Date:       2004-02-27 10:33:32\nMessage-ID: 63E38432-6910-11D8-BA7E-000A95CDA38A () asemantics ! com\n</code></pre>\n<p>On Feb 27, 2004, at 12:45 AM, Conal Tuohy wrote:</p>\n<blockquote>\n<p>I don't think the ASF should discourage developers from keeping useful\nmetadata about the code inside the source files. What better place to\nput the metadata than in the code? This makes it more likely to be\nused and kept up to date than if it was stored somewhere else, IMHO.</p>\n</blockquote>\n<p>One way to look at this is that @author tags are in a way factually\n'wrong'; in most cases it just signals which person wrote the  first\nskeleton of that code; but subsequently it was fixes, peer-reviewed\nand  looked at by a whole community. Also do not forget the many\npeople in  your community which help with QA, Documentation,\nuser-feedback and so  on. To put  one person in the (hot) seat for\nwhat is essentially a  group effort is not quite right.</p>\n<p>Looking through the CVS logs of a few tomcat files: each block of 30\nlines seems to have had commits of at least 5 persons; with a median\nof  6 and an  average of 9. The average number of @author tags on\nthose  arbitrary blocks is about 0.5. And that is not counting QA,\ndocs,  suggestions of mailing lists, bug resolutions, user support.\nI.e. those  things which make tomcat such a great supported product.</p>\n<p>Secondly what we 'sell' as the ASF brand is a code base which is peer\nreviewed, quality controlled and created by a sustainable group which\nwill survive the coming and going of volunteers. One where knowledge\nis  generally shared and not just depended on one single individual.\nThis  is one of the key reasons why large companies, governments, etc\nhave a  lot less qualms about using apache than using most other open\nsource;  we mitigate  the worry that it depends on a single person,\nand can  implode or fork without warning, right from the get-go.</p>\n<p>Finally - a lot of developers do live in countries where you can get\nsued. The ASF can provide a certain level of protection; but this is\nbased on the KEY premisse that there is oversight and peer review.\nThat  what we ship is a community product; and that everything is\nbacked by  the community and cannot be attributed to a single person.\nEvery commit    gets peer review; ever release requires +1s' and are\nbacked by the  community as a whole. @author tags are by necessity\nincomplete and thus  portrait the situation inaccurately. Any hint or\nsuggestion that parts  of the code are not a community product makes\ndefence more complex and  expensive. We do not want to temp anyone -\nbut rather present a clean  picture with no blemishes or easy go's.</p>\n<p>And to give this a positive slant; be -proud- of this culture; be\nproud  of being part of something larger of incredible  quality. Each\nof you  did not just write a few pesky lines of code surrounded by an\n@author  tag; but where instrumental in getting the -whole- thing work\n! And if  you are ever trying to understand why cocoon made it this\nfar, and  other commercial/open-source projects did not, then do look\nthere;  quality and a sense of long term stability.</p>\n<p>Take Care, Have fun,</p>\n<p>Dw</p>\n</blockquote>\n<p>While tracking this down I came across a few blog posts against this and some in favor. That's a very small sample size but I think it is fair to say this was at least a controversial change -- some folks wanted them to stay. That said, in 2022 I don't really ever see them used. (Remember, this mail is from 2004.) You even mentioned it yourself about SVN history (but now maybe Git is the more common tool) and even in this mail they mention the CVS logs (another source control tool). Maybe the source control tools of today are easier to use, who knows.</p>\n<p>I feel like there still might be some oddball use cases that make sense but I don't think the standard idea of &quot;I wrote (or modified) this so I'm putting myself as the <code>@author</code>&quot; is necessary. I currently have a <a href=\"https://codereview.stackexchange.com/q/280572/71148\">question on Code Review</a> about using it for Creative Commons attribution and (in my opinion) I think it's a good use but I would hardly call that a well-accepted good practice (but I don't think it hurts).</p>\n\n"}],"owner":{"account_id":1667302,"reputation":4607,"user_id":1534456,"accept_rate":62,"display_name":"radekEm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92968,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"accepted_answer_id":17271433,"answer_count":9,"score":76,"last_activity_date":1687834550,"creation_date":1372057865,"question_id":17269843,"body_markdown":"I&#39;m wondering about best practices when creating Javadocs. I have a project with many files. Code has been created by many developers. Each file has an annotation `@author`, so it is obvious who has created a particular class. \r\n\r\nBut when some other developer adds new code to a file, modifies it, etc., how should he inform the rest of the team that he has created some new function or has modified existing code? In other words, how should we &quot;keep the Javadocs compatible with reality&quot;? ;)\r\n\r\n- Add his name to the existing `@author` tag? Then, it is easier to identify who to ask in case of any doubts.\r\n- Add an `@author` tag to each new method, inner class, etc.?\r\n\r\nOf course, since we use SVN, it is easy to investigate who has made what, but for keeping things clear this Javadoc stuff should be taken into consideration as well.\r\n\r\nWhat&#39;s the best way to use these `@author` tags?","title":"Javadoc @author tag good practices","body":"<p>I'm wondering about best practices when creating Javadocs. I have a project with many files. Code has been created by many developers. Each file has an annotation <code>@author</code>, so it is obvious who has created a particular class. </p>\n\n<p>But when some other developer adds new code to a file, modifies it, etc., how should he inform the rest of the team that he has created some new function or has modified existing code? In other words, how should we \"keep the Javadocs compatible with reality\"? ;)</p>\n\n<ul>\n<li>Add his name to the existing <code>@author</code> tag? Then, it is easier to identify who to ask in case of any doubts.</li>\n<li>Add an <code>@author</code> tag to each new method, inner class, etc.?</li>\n</ul>\n\n<p>Of course, since we use SVN, it is easy to investigate who has made what, but for keeping things clear this Javadoc stuff should be taken into consideration as well.</p>\n\n<p>What's the best way to use these <code>@author</code> tags?</p>\n"},{"tags":["java","c#","linux"],"comments":[{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1687835184,"post_id":76561331,"comment_id":134988544,"body_markdown":"An .so in Linux is essentially the same as a .dll in Windows.  You can use the `--aot` flag to compile C# to a `.so`, but I don&#39;t know if that includes code to launch the runtime.","body":"An .so in Linux is essentially the same as a .dll in Windows.  You can use the <code>--aot</code> flag to compile C# to a <code>.so</code>, but I don&#39;t know if that includes code to launch the runtime."},{"owner":{"account_id":28889357,"reputation":1,"user_id":22126877,"display_name":"hm S"},"score":0,"creation_date":1687835696,"post_id":76561331,"comment_id":134988590,"body_markdown":"@TimRoberts Is it using Mono&#39;s AOT for conversion?","body":"@TimRoberts Is it using Mono&#39;s AOT for conversion?"},{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1687838090,"post_id":76561331,"comment_id":134988767,"body_markdown":"Conversion of what?  I&#39;m saying you can use `mono --aot` to compile your C# files to a Linux .so.  I don&#39;t know how that plays with Java.","body":"Conversion of what?  I&#39;m saying you can use <code>mono --aot</code> to compile your C# files to a Linux .so.  I don&#39;t know how that plays with Java."}],"owner":{"account_id":28889357,"reputation":1,"user_id":22126877,"display_name":"hm S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687834527,"creation_date":1687834527,"question_id":76561331,"body_markdown":"Java can call the .dll generated by c # through JNA in Windows, but JNA can only call the. so file in Linux. I have tried to convert c # into c and then into. so file, but it seems to be impractical. Is there any way for Java to call c # in Linux","title":"How java calls c# in linux","body":"<p>Java can call the .dll generated by c # through JNA in Windows, but JNA can only call the. so file in Linux. I have tried to convert c # into c and then into. so file, but it seems to be impractical. Is there any way for Java to call c # in Linux</p>\n"},{"tags":["java","url","http-status-code-500"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1687624490,"post_id":76546984,"comment_id":134964162,"body_markdown":"First, you need to define what &quot;valid&quot; means. Do you mean the syntax defined by [RFC 3986](https://datatracker.ietf.org/doc/html/rfc3986)? Or do you mean whether or not a URL returns a non-error response?","body":"First, you need to define what &quot;valid&quot; means. Do you mean the syntax defined by <a href=\"https://datatracker.ietf.org/doc/html/rfc3986\" rel=\"nofollow noreferrer\">RFC 3986</a>? Or do you mean whether or not a URL returns a non-error response?"},{"owner":{"account_id":3762699,"reputation":1446,"user_id":3127144,"accept_rate":56,"display_name":"iCoder"},"score":0,"creation_date":1687624614,"post_id":76546984,"comment_id":134964171,"body_markdown":"@Code-Apprentice my very first line in the query states valid for my case is (return Status Code - 200)","body":"@Code-Apprentice my very first line in the query states valid for my case is (return Status Code - 200)"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1687624631,"post_id":76546984,"comment_id":134964175,"body_markdown":"Note that Apache Commons is only checking the first definition. It only validates that the URL is correct according to the RFC definition. It does NOT check if the URL actually exists nor that it doesn&#39;t return any errors.","body":"Note that Apache Commons is only checking the first definition. It only validates that the URL is correct according to the RFC definition. It does NOT check if the URL actually exists nor that it doesn&#39;t return any errors."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1687624725,"post_id":76546984,"comment_id":134964187,"body_markdown":"Also, you are only checking that `GET` works correctly. What if the URL only allows `POST` and returns a 201 response code on success? Would you consider it still &quot;valid&quot;?","body":"Also, you are only checking that <code>GET</code> works correctly. What if the URL only allows <code>POST</code> and returns a 201 response code on success? Would you consider it still &quot;valid&quot;?"},{"owner":{"account_id":3762699,"reputation":1446,"user_id":3127144,"accept_rate":56,"display_name":"iCoder"},"score":0,"creation_date":1687625101,"post_id":76546984,"comment_id":134964231,"body_markdown":"In this case, that link is used to obtain a file. So I check only for GET. Before I execute the download file, need to verify if the link returns Status Code - 200. Hope am more clear now.","body":"In this case, that link is used to obtain a file. So I check only for GET. Before I execute the download file, need to verify if the link returns Status Code - 200. Hope am more clear now."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1687625938,"post_id":76546984,"comment_id":134964343,"body_markdown":"Yes, checking for errors makes sense and is common practice. However, this is not the same as checking if the URL is valid. Your approach to check the status code in the response is the right way to go.","body":"Yes, checking for errors makes sense and is common practice. However, this is not the same as checking if the URL is valid. Your approach to check the status code in the response is the right way to go."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1687626060,"post_id":76546984,"comment_id":134964352,"body_markdown":"With that said, you may also want to use `UrlValidator` before making the request so that you don&#39;t waste time when the URL isn&#39;t valid. But this is a separate step from checking if the response status code is 200.","body":"With that said, you may also want to use <code>UrlValidator</code> before making the request so that you don&#39;t waste time when the URL isn&#39;t valid. But this is a separate step from checking if the response status code is 200."},{"owner":{"account_id":13808553,"reputation":513,"user_id":9966834,"display_name":"Sachin Mewar"},"score":0,"creation_date":1687712927,"post_id":76546984,"comment_id":134971646,"body_markdown":"@iCoder you need to check first if the url is valid or not using Apache Common UrlValidator but it will only check the pattern in the url it will not check if the url is accessible or not.\nTo check if the url is accessible or not you can use Method 1.\n\n\nTherefore I recommend you to use Method 2 first and than Method 1.","body":"@iCoder you need to check first if the url is valid or not using Apache Common UrlValidator but it will only check the pattern in the url it will not check if the url is accessible or not. To check if the url is accessible or not you can use Method 1.   Therefore I recommend you to use Method 2 first and than Method 1."}],"answers":[{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1687626594,"creation_date":1687626594,"answer_id":76547179,"question_id":76546984,"body_markdown":"You are talking about two separate things here: \r\n\r\n1. Whether or not a URL is valid\r\n2. Whether or not a request to the URL will succeed with a 200 response code.\r\n\r\n`UrlValidator` from Apache Commons will only check the first one, so when you have a comment `// Invalid URL, but still shows valid`, this is incorrect. The URL is actually valid. The fact that the response code is something other than 200 when you make a request does not make the URL invalid. A 500 error means that the code which processes the request has a bug that most likely throws an exception of some kind.\r\n\r\nYou probably should check if the URL is valid with `UrlValidator` before attempting to make a request. This will help you avoid making requests when the URL is invalid. Since this validation is calculated using your computer&#39;s CPU, it is much faster than making a network request that is doomed to fail.\r\n\r\nBut even if the URL is valid, you will still need to make the request and check the response code, just like you are doing, in order to verify that the response is relevant.\r\n","title":"Java - Check if URL is valid","body":"<p>You are talking about two separate things here:</p>\n<ol>\n<li>Whether or not a URL is valid</li>\n<li>Whether or not a request to the URL will succeed with a 200 response code.</li>\n</ol>\n<p><code>UrlValidator</code> from Apache Commons will only check the first one, so when you have a comment <code>// Invalid URL, but still shows valid</code>, this is incorrect. The URL is actually valid. The fact that the response code is something other than 200 when you make a request does not make the URL invalid. A 500 error means that the code which processes the request has a bug that most likely throws an exception of some kind.</p>\n<p>You probably should check if the URL is valid with <code>UrlValidator</code> before attempting to make a request. This will help you avoid making requests when the URL is invalid. Since this validation is calculated using your computer's CPU, it is much faster than making a network request that is doomed to fail.</p>\n<p>But even if the URL is valid, you will still need to make the request and check the response code, just like you are doing, in order to verify that the response is relevant.</p>\n"},{"tags":[],"owner":{"account_id":3762699,"reputation":1446,"user_id":3127144,"accept_rate":56,"display_name":"iCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687834059,"creation_date":1687834059,"answer_id":76561313,"question_id":76546984,"body_markdown":"For anyone who is facing a similar issue, I managed a workaround using the HTTPstatus API.\r\n\r\nThe `connection.getResponseCode()` hangs for the invalid case, dont know why. Maybe some experts if they have time can check on it.\r\n\r\nDon&#39;t know why my question has been down voted, despite following the guidelines &amp; clearly stating what the issue is, the research done &amp; what specific help I seek.","title":"Java - Check if URL is valid","body":"<p>For anyone who is facing a similar issue, I managed a workaround using the HTTPstatus API.</p>\n<p>The <code>connection.getResponseCode()</code> hangs for the invalid case, dont know why. Maybe some experts if they have time can check on it.</p>\n<p>Don't know why my question has been down voted, despite following the guidelines &amp; clearly stating what the issue is, the research done &amp; what specific help I seek.</p>\n"}],"owner":{"account_id":3762699,"reputation":1446,"user_id":3127144,"accept_rate":56,"display_name":"iCoder"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76561313,"answer_count":2,"score":-1,"last_activity_date":1687834059,"creation_date":1687623924,"question_id":76546984,"body_markdown":"**Need:** To check if URL is valid or not (i.e. return status code - 200)\r\n\r\n**Research:** I checked the following threads here - [Link1][1], [Link2][2], [Link3][3] \r\n\r\n**Issue:** I tried the solutions provided in those links, but does not work seem to work for these URL&#39;s whose http status code is not 200. The program execution kind of hangs at `connection.getResponseCode()` \r\n\r\n**Resources:** Working link - [url1][4] (i.e. Status Code = 200 &amp; prompt to download file is received in browser)\r\nNot working link - [url2][5] (i.e. Status code = 500)\r\n\r\nBrowser developer tool, showing the return codes for the working URL &amp; not working URL\r\n\r\n[![Browser Developer tool, showing return codes][6]][6]\r\n\r\n**CODE:**\r\n\r\n***Method 1 -***\r\n\r\n        try {\r\n                    URL u = new URL(url1); // url1 -&gt; Works, url2 -&gt; does not work\r\n                    HttpURLConnection connection = (HttpURLConnection) u.openConnection();\r\n                    connection.setRequestMethod(&quot;GET&quot;);\r\n        \r\n                    int responseCode = connection.getResponseCode(); // Program hangs here for url2\r\n                    if (responseCode == HttpURLConnection.HTTP_OK) {\r\n                        System.out.println(&quot;URL is working fine.&quot;);\r\n                    } else {\r\n                        System.out.println(&quot;URL returned a response code: &quot; + responseCode);\r\n                    }\r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;Error occurred while checking the URL: &quot; + e.getMessage());\r\n                }\r\n            }\r\n    \r\n***Method 2*** (using Apache Commons UrlValidator class) -\r\n   \r\n\r\n        UrlValidator urlValidator = new UrlValidator();\r\n        System.out.println(urlValidator.isValid(url1)); // Working URL\r\n        System.out.println(urlValidator.isValid(url2)); // Invalid URL, but still shows valid\r\n\r\n**Added:** If anyone can point me as to what I can change to ensure getResponseCode() returns the status code when URL is not working in this case or any other alternative method would help.\r\n\r\n  [1]: https://stackoverflow.com/questions/1600291/validating-url-in-java\r\n  [2]: https://stackoverflow.com/questions/2230676/how-to-check-for-a-valid-url-in-java\r\n  [3]: https://stackoverflow.com/questions/62409765/how-to-verify-if-a-string-is-valid-url-including-deep-link-in-java\r\n  [4]: https://archives.nseindia.com/content/historical/EQUITIES/2023/JUN/cm23JUN2023bhav.csv.zip\r\n  [5]: https://archives.nseindia.com/content/historical/EQUITIES/2023/JUN/cm24JUN2023bhav.csv.zip\r\n  [6]: https://i.stack.imgur.com/t7N4B.png","title":"Java - Check if URL is valid","body":"<p><strong>Need:</strong> To check if URL is valid or not (i.e. return status code - 200)</p>\n<p><strong>Research:</strong> I checked the following threads here - <a href=\"https://stackoverflow.com/questions/1600291/validating-url-in-java\">Link1</a>, <a href=\"https://stackoverflow.com/questions/2230676/how-to-check-for-a-valid-url-in-java\">Link2</a>, <a href=\"https://stackoverflow.com/questions/62409765/how-to-verify-if-a-string-is-valid-url-including-deep-link-in-java\">Link3</a></p>\n<p><strong>Issue:</strong> I tried the solutions provided in those links, but does not work seem to work for these URL's whose http status code is not 200. The program execution kind of hangs at <code>connection.getResponseCode()</code></p>\n<p><strong>Resources:</strong> Working link - <a href=\"https://archives.nseindia.com/content/historical/EQUITIES/2023/JUN/cm23JUN2023bhav.csv.zip\" rel=\"nofollow noreferrer\">url1</a> (i.e. Status Code = 200 &amp; prompt to download file is received in browser)\nNot working link - <a href=\"https://archives.nseindia.com/content/historical/EQUITIES/2023/JUN/cm24JUN2023bhav.csv.zip\" rel=\"nofollow noreferrer\">url2</a> (i.e. Status code = 500)</p>\n<p>Browser developer tool, showing the return codes for the working URL &amp; not working URL</p>\n<p><a href=\"https://i.stack.imgur.com/t7N4B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t7N4B.png\" alt=\"Browser Developer tool, showing return codes\" /></a></p>\n<p><strong>CODE:</strong></p>\n<p><em><strong>Method 1 -</strong></em></p>\n<pre><code>    try {\n                URL u = new URL(url1); // url1 -&gt; Works, url2 -&gt; does not work\n                HttpURLConnection connection = (HttpURLConnection) u.openConnection();\n                connection.setRequestMethod(&quot;GET&quot;);\n    \n                int responseCode = connection.getResponseCode(); // Program hangs here for url2\n                if (responseCode == HttpURLConnection.HTTP_OK) {\n                    System.out.println(&quot;URL is working fine.&quot;);\n                } else {\n                    System.out.println(&quot;URL returned a response code: &quot; + responseCode);\n                }\n            } catch (Exception e) {\n                System.out.println(&quot;Error occurred while checking the URL: &quot; + e.getMessage());\n            }\n        }\n</code></pre>\n<p><em><strong>Method 2</strong></em> (using Apache Commons UrlValidator class) -</p>\n<pre><code>    UrlValidator urlValidator = new UrlValidator();\n    System.out.println(urlValidator.isValid(url1)); // Working URL\n    System.out.println(urlValidator.isValid(url2)); // Invalid URL, but still shows valid\n</code></pre>\n<p><strong>Added:</strong> If anyone can point me as to what I can change to ensure getResponseCode() returns the status code when URL is not working in this case or any other alternative method would help.</p>\n"},{"tags":["java","json","rest-assured"],"comments":[{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":2,"creation_date":1687786973,"post_id":76557165,"comment_id":134981349,"body_markdown":"I am completely lost what you mean. `ArrayList` **is** (an implementation of) `List`. What do you mean by &quot;convert ArrayList to List&quot;? The command `List&lt;String&gt; list = arrayList;`, where `arrayList` is `ArrayList`, is perfectly OK.","body":"I am completely lost what you mean. <code>ArrayList</code> <b>is</b> (an implementation of) <code>List</code>. What do you mean by &quot;convert ArrayList to List&quot;? The command <code>List&lt;String&gt; list = arrayList;</code>, where <code>arrayList</code> is <code>ArrayList</code>, is perfectly OK."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1687787019,"post_id":76557165,"comment_id":134981360,"body_markdown":"An `ArrayList` is a `List` so what you are stating doesn&#39;t make sense. It is complaining about casting a list to a `String`. So it probably fails inside your for loop. Your `LIst&lt;String&gt;` isn&#39;t a `List&lt;String&gt;` but probably a `List&lt;List&lt;String&gt;&gt;` instead.","body":"An <code>ArrayList</code> is a <code>List</code> so what you are stating doesn&#39;t make sense. It is complaining about casting a list to a <code>String</code>. So it probably fails inside your for loop. Your <code>LIst&lt;String&gt;</code> isn&#39;t a <code>List&lt;String&gt;</code> but probably a <code>List&lt;List&lt;String&gt;&gt;</code> instead."},{"owner":{"account_id":18395741,"reputation":17,"user_id":13400243,"display_name":"jacob1989"},"score":0,"creation_date":1687787865,"post_id":76557165,"comment_id":134981562,"body_markdown":"Yes, this is what I meant. listOfProducts returns List&lt;List&lt;String&gt;&gt; of IN_STOCK strings. How to cast it in order to compare them to String values?","body":"Yes, this is what I meant. listOfProducts returns List&lt;List&lt;String&gt;&gt; of IN_STOCK strings. How to cast it in order to compare them to String values?"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687787714,"creation_date":1687787714,"answer_id":76557353,"question_id":76557165,"body_markdown":"Your call `jsonPath.getList(&quot;products.stock.availabilities.status&quot;);` will return a `List&lt;List&lt;String&gt;&gt;`: Both `products` and `availabilities` are Lists. So:\r\n\r\n```\r\nList&lt;List&lt;String&gt;&gt; listOfProducts = jsonPath.getList(&quot;products.stock.availabilities.status&quot;);\r\n\r\nfor (List&lt;String&gt; statuses : listOfProducts) {\r\n    for (String actualProduct : statuses) {\r\n        ...\r\n    }\r\n}\r\n```","title":"jsonPath().getList returns ArrayList - how to convert to List&lt;String&gt;?","body":"<p>Your call <code>jsonPath.getList(&quot;products.stock.availabilities.status&quot;);</code> will return a <code>List&lt;List&lt;String&gt;&gt;</code>: Both <code>products</code> and <code>availabilities</code> are Lists. So:</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; listOfProducts = jsonPath.getList(&quot;products.stock.availabilities.status&quot;);\n\nfor (List&lt;String&gt; statuses : listOfProducts) {\n    for (String actualProduct : statuses) {\n        ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687787918,"creation_date":1687787918,"answer_id":76557380,"question_id":76557165,"body_markdown":"Your `status` field is within an `availabilities` array, so when you&#39;re calling `getList(&quot;products.stock.availabilities.status&quot;)`, you&#39;re actually getting a list of arrays\r\n\r\nYou can flatten this structure by collecting all statuses in one list, like:\r\n```java\r\nList&lt;List&lt;String&gt;&gt; listOfProducts = jsonPath.getList(&quot;products.stock.availabilities.status&quot;);\r\n\r\nList&lt;String&gt; allStatuses = new ArrayList&lt;&gt;();\r\nfor (List&lt;String&gt; productStatuses : listOfProducts) {\r\n    allStatuses.addAll(productStatuses);\r\n}\r\n\r\nfor (String status : allStatuses) {\r\n    // process ..\r\n}\r\n```","title":"jsonPath().getList returns ArrayList - how to convert to List&lt;String&gt;?","body":"<p>Your <code>status</code> field is within an <code>availabilities</code> array, so when you're calling <code>getList(&quot;products.stock.availabilities.status&quot;)</code>, you're actually getting a list of arrays</p>\n<p>You can flatten this structure by collecting all statuses in one list, like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;String&gt;&gt; listOfProducts = jsonPath.getList(&quot;products.stock.availabilities.status&quot;);\n\nList&lt;String&gt; allStatuses = new ArrayList&lt;&gt;();\nfor (List&lt;String&gt; productStatuses : listOfProducts) {\n    allStatuses.addAll(productStatuses);\n}\n\nfor (String status : allStatuses) {\n    // process ..\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687791191,"creation_date":1687791191,"answer_id":76557830,"question_id":76557165,"body_markdown":"You may try another JSON library _Josson_.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n__Deserialization__\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;products\\&quot;: [&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;            \\&quot;id\\&quot;: \\&quot;1\\&quot;,&quot; +\r\n        &quot;            \\&quot;product\\&quot;: {&quot; +\r\n        &quot;                \\&quot;color\\&quot;: \\&quot;blue\\&quot;,&quot; +\r\n        &quot;                \\&quot;brand\\&quot;: \\&quot;Brand\\&quot;&quot; +\r\n        &quot;            },&quot; +\r\n        &quot;            \\&quot;stock\\&quot;: {&quot; +\r\n        &quot;                \\&quot;availabilities\\&quot;: [&quot; +\r\n        &quot;                    {&quot; +\r\n        &quot;                        \\&quot;status\\&quot;: \\&quot;IN_STOCK\\&quot;&quot; +\r\n        &quot;                    }&quot; +\r\n        &quot;                ]&quot; +\r\n        &quot;            },&quot; +\r\n        &quot;            \\&quot;price\\&quot;: {&quot; +\r\n        &quot;                \\&quot;total\\&quot;: \\&quot;1000\\&quot;,&quot; +\r\n        &quot;                \\&quot;currency\\&quot;: \\&quot;PLN\\&quot;&quot; +\r\n        &quot;            }&quot; +\r\n        &quot;        }&quot; +\r\n        &quot;    ]&quot; +\r\n        &quot;}&quot;);\r\n\r\n__Query to Produce JSON Array Node__\r\n\r\n    String expression = &quot;products.stock.availabilities.status&quot;;\r\n    JsonNode array = josson.getNode(expression);\r\n    System.out.println(expression);\r\n    System.out.println(array.toPrettyString());\r\n    for (int i = 0; i &lt; array.size(); i++) {\r\n        System.out.println(array.get(i).asText());\r\n    }\r\n\r\n    expression = &quot;products.product.color&quot;;\r\n    array = josson.getNode(expression);\r\n    System.out.println(expression);\r\n    System.out.println(array.toPrettyString());\r\n    for (int i = 0; i &lt; array.size(); i++) {\r\n        System.out.println(array.get(i).asText());\r\n    }\r\n\r\n__Output__\r\n\r\n    products.stock.availabilities.status\r\n    [ &quot;IN_STOCK&quot; ]\r\n    IN_STOCK\r\n    products.product.color\r\n    [ &quot;blue&quot; ]\r\n    blue\r\n","title":"jsonPath().getList returns ArrayList - how to convert to List&lt;String&gt;?","body":"<p>You may try another JSON library <em>Josson</em>.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p><strong>Deserialization</strong></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;products\\&quot;: [&quot; +\n    &quot;        {&quot; +\n    &quot;            \\&quot;id\\&quot;: \\&quot;1\\&quot;,&quot; +\n    &quot;            \\&quot;product\\&quot;: {&quot; +\n    &quot;                \\&quot;color\\&quot;: \\&quot;blue\\&quot;,&quot; +\n    &quot;                \\&quot;brand\\&quot;: \\&quot;Brand\\&quot;&quot; +\n    &quot;            },&quot; +\n    &quot;            \\&quot;stock\\&quot;: {&quot; +\n    &quot;                \\&quot;availabilities\\&quot;: [&quot; +\n    &quot;                    {&quot; +\n    &quot;                        \\&quot;status\\&quot;: \\&quot;IN_STOCK\\&quot;&quot; +\n    &quot;                    }&quot; +\n    &quot;                ]&quot; +\n    &quot;            },&quot; +\n    &quot;            \\&quot;price\\&quot;: {&quot; +\n    &quot;                \\&quot;total\\&quot;: \\&quot;1000\\&quot;,&quot; +\n    &quot;                \\&quot;currency\\&quot;: \\&quot;PLN\\&quot;&quot; +\n    &quot;            }&quot; +\n    &quot;        }&quot; +\n    &quot;    ]&quot; +\n    &quot;}&quot;);\n</code></pre>\n<p><strong>Query to Produce JSON Array Node</strong></p>\n<pre><code>String expression = &quot;products.stock.availabilities.status&quot;;\nJsonNode array = josson.getNode(expression);\nSystem.out.println(expression);\nSystem.out.println(array.toPrettyString());\nfor (int i = 0; i &lt; array.size(); i++) {\n    System.out.println(array.get(i).asText());\n}\n\nexpression = &quot;products.product.color&quot;;\narray = josson.getNode(expression);\nSystem.out.println(expression);\nSystem.out.println(array.toPrettyString());\nfor (int i = 0; i &lt; array.size(); i++) {\n    System.out.println(array.get(i).asText());\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>products.stock.availabilities.status\n[ &quot;IN_STOCK&quot; ]\nIN_STOCK\nproducts.product.color\n[ &quot;blue&quot; ]\nblue\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687831269,"creation_date":1687831269,"answer_id":76561176,"question_id":76557165,"body_markdown":"Everyone stated the correct root cause and provided a good solution for it, but that was not what you expect, maybe you want a shorter solution with less code and no more loop. Here you are:\r\n\r\n`flatten()` method will help to convert `List&lt;List&lt;String&gt;` to `List&lt;String&gt;`\r\n\r\n```java\r\nList&lt;String&gt; listOfProducts= JsonPath.from(json).getList(&quot;products.stock.availabilities.status.flatten()&quot;);\r\n```","title":"jsonPath().getList returns ArrayList - how to convert to List&lt;String&gt;?","body":"<p>Everyone stated the correct root cause and provided a good solution for it, but that was not what you expect, maybe you want a shorter solution with less code and no more loop. Here you are:</p>\n<p><code>flatten()</code> method will help to convert <code>List&lt;List&lt;String&gt;</code> to <code>List&lt;String&gt;</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; listOfProducts= JsonPath.from(json).getList(&quot;products.stock.availabilities.status.flatten()&quot;);\n</code></pre>\n"}],"owner":{"account_id":18395741,"reputation":17,"user_id":13400243,"display_name":"jacob1989"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76561176,"answer_count":4,"score":-1,"last_activity_date":1687831269,"creation_date":1687786132,"question_id":76557165,"body_markdown":"    JsonPath jsonPath = response.jsonPath();\r\n    List&lt;String&gt; listOfProducts= jsonPath.getList(&quot;products.stock.availabilities.status&quot;);\r\n    \r\n     for (int i = 0; i &lt; listOfProducts.size(); i++) {\r\n        String actualProduct = listOfProducts.get(i); \r\n    ...\r\n    }\r\n\r\nthrows class java.util.ArrayList cannot be cast to class java.lang.String\r\n\r\n\r\nresponse in this case is:\r\n\r\n     &quot;products&quot;: [\r\n            {\r\n                &quot;id&quot;: &quot;1&quot;,\r\n                &quot;product&quot;: {\r\n                    &quot;color&quot;: &quot;blue&quot;,\r\n    \t\t\t\t&quot;brand&quot;: &quot;Brand&quot;\r\n                   \r\n                },\r\n                &quot;stock&quot;: {\r\n                    &quot;availabilities&quot;: [\r\n                        {\r\n                            &quot;status&quot;: &quot;IN_STOCK&quot;\r\n                        }\r\n                    ]\r\n                },\r\n                &quot;price&quot;: {\r\n                    &quot;total&quot;: &quot;1000&quot;,\r\n                    &quot;currency&quot;: &quot;PLN&quot;\r\n                }\r\n            },\r\n    \t\t{\r\n    \t\t..\r\n    \t\t}\r\n    \t\t]\r\n\r\n\r\nFor other JSONs it works (where the listOfProducts is actually a List&lt;String&gt;) but for this one I don&#39;t know why it&#39;s ArrayList. \r\nHow to either convert the arrayList to List&lt;String&gt; or how to servce both (List&lt;String&gt; and ArrayList&lt;String&gt; depending on the json response)?\r\n\r\nEDIT:\r\n\r\nI want to have this method common for ArrayLists and for List&lt;String&gt;\r\nThe `products.stock.availabilities.status` will be a parameter","title":"jsonPath().getList returns ArrayList - how to convert to List&lt;String&gt;?","body":"<pre><code>JsonPath jsonPath = response.jsonPath();\nList&lt;String&gt; listOfProducts= jsonPath.getList(&quot;products.stock.availabilities.status&quot;);\n\n for (int i = 0; i &lt; listOfProducts.size(); i++) {\n    String actualProduct = listOfProducts.get(i); \n...\n}\n</code></pre>\n<p>throws class java.util.ArrayList cannot be cast to class java.lang.String</p>\n<p>response in this case is:</p>\n<pre><code> &quot;products&quot;: [\n        {\n            &quot;id&quot;: &quot;1&quot;,\n            &quot;product&quot;: {\n                &quot;color&quot;: &quot;blue&quot;,\n                &quot;brand&quot;: &quot;Brand&quot;\n               \n            },\n            &quot;stock&quot;: {\n                &quot;availabilities&quot;: [\n                    {\n                        &quot;status&quot;: &quot;IN_STOCK&quot;\n                    }\n                ]\n            },\n            &quot;price&quot;: {\n                &quot;total&quot;: &quot;1000&quot;,\n                &quot;currency&quot;: &quot;PLN&quot;\n            }\n        },\n        {\n        ..\n        }\n        ]\n</code></pre>\n<p>For other JSONs it works (where the listOfProducts is actually a List) but for this one I don't know why it's ArrayList.\nHow to either convert the arrayList to List or how to servce both (List and ArrayList depending on the json response)?</p>\n<p>EDIT:</p>\n<p>I want to have this method common for ArrayLists and for List\nThe <code>products.stock.availabilities.status</code> will be a parameter</p>\n"},{"tags":["java","mysql","netbeans"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1626607233,"post_id":68428522,"comment_id":120933474,"body_markdown":"&gt;On some of the advice I&#39;ve read, it said that the my-sql-connector folder should be in the /lib/ folder, although I&#39;m not sure where to find that, or if it even applies to Mac. &lt; It *does* apply to MacOS. It should be under your project root directory, and yes, you should put the driver jar there. Don&#39;t confuse that with the distribution archive","body":"&gt;On some of the advice I&#39;ve read, it said that the my-sql-connector folder should be in the /lib/ folder, although I&#39;m not sure where to find that, or if it even applies to Mac. &lt; It <i>does</i> apply to MacOS. It should be under your project root directory, and yes, you should put the driver jar there. Don&#39;t confuse that with the distribution archive"},{"owner":{"account_id":22238784,"reputation":25,"user_id":16473664,"display_name":"Michael Cullen"},"score":0,"creation_date":1626609330,"post_id":68428522,"comment_id":120933943,"body_markdown":"@g00se There are only two folders in the project root directory, src and target. I placed the .jar file in the root and tried again though, and got the same error.","body":"@g00se There are only two folders in the project root directory, src and target. I placed the .jar file in the root and tried again though, and got the same error."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1626610502,"post_id":68428522,"comment_id":120934232,"body_markdown":"&gt;I placed the .jar file in the root&lt; No. Place it in the lib directory below your project","body":"&gt;I placed the .jar file in the root&lt; No. Place it in the lib directory below your project"}],"answers":[{"tags":[],"owner":{"account_id":10008004,"reputation":21,"user_id":7401779,"display_name":"SMD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626610029,"creation_date":1626608377,"answer_id":68428704,"question_id":68428522,"body_markdown":"hi you can use brew for install mysql connector. \r\ncopy and past commands in your terminall\r\n\r\n    /bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;\r\n\r\n    brew update\r\n\r\n    brew tap gbeine/homebrew-java\r\n\r\n    brew install mysql-connector-java\r\n\r\nyou can read more about it in github:\r\nhttps://github.com/gbeine/homebrew-java\r\n\r\nand add this dependency :\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.25&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n","title":"(macOS) java.lang.ClassNotFoundException: com.mysql.jdbc.Driver in NetBeans 12.4","body":"<p>hi you can use brew for install mysql connector.\ncopy and past commands in your terminall</p>\n<pre><code>/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;\n\nbrew update\n\nbrew tap gbeine/homebrew-java\n\nbrew install mysql-connector-java\n</code></pre>\n<p>you can read more about it in github:\n<a href=\"https://github.com/gbeine/homebrew-java\" rel=\"nofollow noreferrer\">https://github.com/gbeine/homebrew-java</a></p>\n<p>and add this dependency :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.25&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4412414,"reputation":33,"user_id":3594915,"display_name":"Dahliar Ananda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687830868,"creation_date":1687830868,"answer_id":76561160,"question_id":68428522,"body_markdown":"If you use Maven when creating new project, you could use as @SMD suggestion to add dependency with right clicking in dependency folder and add dependency\r\n - groupId : com.mysql \r\n - artifactId : mysql-connector-j\r\n - version : 8.0.33\r\n[![adding dependency when using maven][1]][1]\r\n\r\n\r\nIf you using Java Ant, you should add the jar libraries by right clicking in the libraries, add library or Jar/Folder. This is when interesting happened, the libraries is works when you add import java.sql and so on, but it would give you Java.lang.classNotFoundException. \r\nThe next thing you do is to edit the libraries by right clicking libraries folder, and click Properties. Then move the library up, from class path into ModulePath.\r\n[![Moving library from classpath into modulPath][2]][2]\r\n\r\nand thats it, clean and build and then run your application\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3KQnC.png\r\n  [2]: https://i.stack.imgur.com/crp6l.png","title":"(macOS) java.lang.ClassNotFoundException: com.mysql.jdbc.Driver in NetBeans 12.4","body":"<p>If you use Maven when creating new project, you could use as @SMD suggestion to add dependency with right clicking in dependency folder and add dependency</p>\n<ul>\n<li>groupId : com.mysql</li>\n<li>artifactId : mysql-connector-j</li>\n<li>version : 8.0.33\n<a href=\"https://i.stack.imgur.com/3KQnC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3KQnC.png\" alt=\"adding dependency when using maven\" /></a></li>\n</ul>\n<p>If you using Java Ant, you should add the jar libraries by right clicking in the libraries, add library or Jar/Folder. This is when interesting happened, the libraries is works when you add import java.sql and so on, but it would give you Java.lang.classNotFoundException.\nThe next thing you do is to edit the libraries by right clicking libraries folder, and click Properties. Then move the library up, from class path into ModulePath.\n<a href=\"https://i.stack.imgur.com/crp6l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/crp6l.png\" alt=\"Moving library from classpath into modulPath\" /></a></p>\n<p>and thats it, clean and build and then run your application</p>\n"}],"owner":{"account_id":22238784,"reputation":25,"user_id":16473664,"display_name":"Michael Cullen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687830868,"creation_date":1626607021,"question_id":68428522,"body_markdown":"I know this question has been asked before, but most of the information I can find is about Windows and the instructions are different enough that things get confusing. I should probably add that I am not very experienced with a Mac, nor Java.\r\n\r\nI&#39;m trying to get my Java program to connect to my MySQL database. I think the code is right, but I&#39;m having trouble getting NetBeans to register the .jar file. \r\n\r\nI&#39;ve tried to manually add the library to NetBeans already, although it didn&#39;t seem to work. I also tried adding the location of the .jar to the Java CLASSPATH. \r\n\r\nOn some of the advice I&#39;ve read, it said that the my-sql-connector folder should be in the /lib/ folder, although I&#39;m not sure where to find that, or if it even applies to Mac. I tried looking in the NetBeans package files for it, but couldn&#39;t see anything.\r\n\r\nEDIT: Updating with my code...\r\n```\r\n    Connection conn;\r\n    Statement st;\r\n    \r\n    public DatabaseConnect() \r\n    {\r\n        try\r\n        {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            conn = DriverManager.getConnection(&quot;jdbc:mysql://3306/DungeonsAndDragons&quot;, &quot;root&quot;, &quot;*******&quot;);\r\n            st = conn.createStatement();\r\n        }\r\n        catch (SQLException e)\r\n        {\r\n            System.err.println(&quot;Failed to connect to the database. &quot; + e);\r\n        }\r\n        catch (ClassNotFoundException e)\r\n        {\r\n            System.err.println(e);\r\n        }\r\n    }\r\n```","title":"(macOS) java.lang.ClassNotFoundException: com.mysql.jdbc.Driver in NetBeans 12.4","body":"<p>I know this question has been asked before, but most of the information I can find is about Windows and the instructions are different enough that things get confusing. I should probably add that I am not very experienced with a Mac, nor Java.</p>\n<p>I'm trying to get my Java program to connect to my MySQL database. I think the code is right, but I'm having trouble getting NetBeans to register the .jar file.</p>\n<p>I've tried to manually add the library to NetBeans already, although it didn't seem to work. I also tried adding the location of the .jar to the Java CLASSPATH.</p>\n<p>On some of the advice I've read, it said that the my-sql-connector folder should be in the /lib/ folder, although I'm not sure where to find that, or if it even applies to Mac. I tried looking in the NetBeans package files for it, but couldn't see anything.</p>\n<p>EDIT: Updating with my code...</p>\n<pre><code>    Connection conn;\n    Statement st;\n    \n    public DatabaseConnect() \n    {\n        try\n        {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            conn = DriverManager.getConnection(&quot;jdbc:mysql://3306/DungeonsAndDragons&quot;, &quot;root&quot;, &quot;*******&quot;);\n            st = conn.createStatement();\n        }\n        catch (SQLException e)\n        {\n            System.err.println(&quot;Failed to connect to the database. &quot; + e);\n        }\n        catch (ClassNotFoundException e)\n        {\n            System.err.println(e);\n        }\n    }\n</code></pre>\n"},{"tags":["java","apache-spark","remote-debugging"],"comments":[{"owner":{"account_id":14488154,"reputation":4521,"user_id":10465355,"display_name":"10465355"},"score":0,"creation_date":1548426534,"post_id":54367194,"comment_id":95548316,"body_markdown":"There are like [50 questions](https://stackoverflow.com/search?tab=votes&amp;q=%5bapache-spark%5d%20%22Initial%20job%20has%20not%20accepted%20any%20resources%22%22) asking about similar problem, many with good explanations and answers. Have followed any of these? Most likely workers cannot connect back to the node, where you start the application.","body":"There are like <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=%5bapache-spark%5d%20%22Initial%20job%20has%20not%20accepted%20any%20resources%22%22\">50 questions</a> asking about similar problem, many with good explanations and answers. Have followed any of these? Most likely workers cannot connect back to the node, where you start the application."},{"owner":{"account_id":4752391,"reputation":703,"user_id":3842076,"accept_rate":80,"display_name":"ruslangm"},"score":0,"creation_date":1548426985,"post_id":54367194,"comment_id":95548576,"body_markdown":"@user10465355 yep I read most of them and mostly answers about allocating resources and firewalls on client side that prevent workers to be able to talk back to the client. It&#39;s important to mention that I solved my problem but I rather want to understand the impact of &quot;debug string&quot; in this case.","body":"@user10465355 yep I read most of them and mostly answers about allocating resources and firewalls on client side that prevent workers to be able to talk back to the client. It&#39;s important to mention that I solved my problem but I rather want to understand the impact of &quot;debug string&quot; in this case."}],"answers":[{"tags":[],"owner":{"account_id":3852633,"reputation":533,"user_id":3192353,"display_name":"jyu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687830355,"creation_date":1687830355,"answer_id":76561141,"question_id":54367194,"body_markdown":"It could be because you are using &quot;suspend=y&quot;. It will cause the JVM to pause at the start of the main() until your debugger connects to it.","title":"Spark workers not doing any job in debug mode","body":"<p>It could be because you are using &quot;suspend=y&quot;. It will cause the JVM to pause at the start of the main() until your debugger connects to it.</p>\n"}],"owner":{"account_id":4752391,"reputation":703,"user_id":3842076,"accept_rate":80,"display_name":"ruslangm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687830355,"creation_date":1548426310,"question_id":54367194,"body_markdown":"I faced with very unexpected problem when developed some application on Spark.  \r\nI have started spark standalone cluster with one master and one worker processes (./sbin/start-master.sh and ./sbin/start-slave.sh).  \r\nI&#39;m starting my application from SparkLauncher inside Java code so it looks like this:  \r\n\r\n    new SparkLauncher()\r\n           .setSparkHome(&quot;...&quot;)\r\n           .setAppName(&quot;...&quot;)\r\n           .setMaster(&quot;spark://admin:7077&quot;)\r\n           .setConf(&quot;spark.executor.extraJavaOptions&quot;, &quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=5005&quot;)\r\n           .startApplication(new SparkAppStateHandler());\r\n\r\nAnd I noticed that no single job was really started. My log was full of messages like this:  \r\n\r\n    WARN  TaskSchedulerImpl:66 - Initial job has not accepted any resources; check your cluster UI to ensure that workers are registered and have sufficient resources\r\n\r\nI started exploring this problem by tuning spark configuration (changing RAM size allocated to executors, count of cores and so on) but nothing really changed.\r\n\r\nThen I removed one line of code in this job configuration:\r\n\r\n    .setConf(&quot;spark.executor.extraJavaOptions&quot;, &quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=5005&quot;)\r\nAnd executors started doing their job instantly.  \r\nIt&#39;s important to point the fact that I didn&#39;t started any debug process so I didn&#39;t suspend any Spark thread.\r\n\r\nSo can you understand me why the line indicating the need for debug did not allow to Spark running the job? (AFAIK just enabling the debugging port should have no effect on runtime process as long as no external process connects).  \r\n\r\nThanks in advance.","title":"Spark workers not doing any job in debug mode","body":"<p>I faced with very unexpected problem when developed some application on Spark.<br>\nI have started spark standalone cluster with one master and one worker processes (./sbin/start-master.sh and ./sbin/start-slave.sh).<br>\nI'm starting my application from SparkLauncher inside Java code so it looks like this:  </p>\n\n<pre><code>new SparkLauncher()\n       .setSparkHome(\"...\")\n       .setAppName(\"...\")\n       .setMaster(\"spark://admin:7077\")\n       .setConf(\"spark.executor.extraJavaOptions\", \"-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=5005\")\n       .startApplication(new SparkAppStateHandler());\n</code></pre>\n\n<p>And I noticed that no single job was really started. My log was full of messages like this:  </p>\n\n<pre><code>WARN  TaskSchedulerImpl:66 - Initial job has not accepted any resources; check your cluster UI to ensure that workers are registered and have sufficient resources\n</code></pre>\n\n<p>I started exploring this problem by tuning spark configuration (changing RAM size allocated to executors, count of cores and so on) but nothing really changed.</p>\n\n<p>Then I removed one line of code in this job configuration:</p>\n\n<pre><code>.setConf(\"spark.executor.extraJavaOptions\", \"-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=5005\")\n</code></pre>\n\n<p>And executors started doing their job instantly.<br>\nIt's important to point the fact that I didn't started any debug process so I didn't suspend any Spark thread.</p>\n\n<p>So can you understand me why the line indicating the need for debug did not allow to Spark running the job? (AFAIK just enabling the debugging port should have no effect on runtime process as long as no external process connects).  </p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","kubernetes","redis"],"comments":[{"owner":{"account_id":1448931,"reputation":498,"user_id":1366503,"display_name":"Alok Singh"},"score":0,"creation_date":1687830254,"post_id":76561100,"comment_id":134988153,"body_markdown":"I see you have defined headless service. Do you have any reason for that? Can you please remove clusterIP: None and then try?","body":"I see you have defined headless service. Do you have any reason for that? Can you please remove clusterIP: None and then try?"},{"owner":{"account_id":16886104,"reputation":47,"user_id":12210876,"display_name":"Ben Whitely"},"score":0,"creation_date":1687830477,"post_id":76561100,"comment_id":134988166,"body_markdown":"@AlokSingh I added that in because when I removed clusterIP: None earlier, I could no longer ping via the service name, i.e. &quot;ping redis-task-queue-service&quot;, (but I could ping via the redis-task-queue pod IP) the Redis pod from my Java app pod, and also it would still show a similar &quot;failed to connect to Redis @ redis-task-queue-service:6380&quot; error","body":"@AlokSingh I added that in because when I removed clusterIP: None earlier, I could no longer ping via the service name, i.e. &quot;ping redis-task-queue-service&quot;, (but I could ping via the redis-task-queue pod IP) the Redis pod from my Java app pod, and also it would still show a similar &quot;failed to connect to Redis @ redis-task-queue-service:6380&quot; error"},{"owner":{"account_id":1448931,"reputation":498,"user_id":1366503,"display_name":"Alok Singh"},"score":0,"creation_date":1687831674,"post_id":76561100,"comment_id":134988242,"body_markdown":"Another question, port mentioned in deployment (pod port) and port mentioned in Service are same? If not please use targetPort in service definition","body":"Another question, port mentioned in deployment (pod port) and port mentioned in Service are same? If not please use targetPort in service definition"},{"owner":{"account_id":16886104,"reputation":47,"user_id":12210876,"display_name":"Ben Whitely"},"score":0,"creation_date":1687831780,"post_id":76561100,"comment_id":134988252,"body_markdown":"Yes, correct, they are both 6380\n\nthe values.yaml entry for redis helm chart is: taskQueuePort: 6380, and the values.yaml entry for helm chart is redisPort: 6380","body":"Yes, correct, they are both 6380  the values.yaml entry for redis helm chart is: taskQueuePort: 6380, and the values.yaml entry for helm chart is redisPort: 6380"},{"owner":{"account_id":16886104,"reputation":47,"user_id":12210876,"display_name":"Ben Whitely"},"score":0,"creation_date":1687833332,"post_id":76561100,"comment_id":134988399,"body_markdown":"Nevermind. I now realize I wasn&#39;t passing --port 6380 to the redis-server command and it was defaulting to 6379. Whoops","body":"Nevermind. I now realize I wasn&#39;t passing --port 6380 to the redis-server command and it was defaulting to 6379. Whoops"}],"owner":{"account_id":16886104,"reputation":47,"user_id":12210876,"display_name":"Ben Whitely"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687829378,"creation_date":1687829378,"question_id":76561100,"body_markdown":"I&#39;m deploying some pods to Kubernetes for the first time, but for some reason, struggling to establish some connectivity between them.\r\n\r\nI have a SpringBoot app that needs to connect to a Redis instance, but the SpringBoot pod can&#39;t connect to my Redis pod no matter what I do.\r\n\r\nI can ping the Redis pod via the Redis service name in my SpringBoot pod:\r\n\r\n```\r\n/app # ping redis-task-queue-service\r\nPING redis-task-queue-service (10.244.7.237): 56 data bytes\r\n64 bytes from 10.244.7.237: seq=0 ttl=64 time=0.172 ms\r\n64 bytes from 10.244.7.237: seq=1 ttl=64 time=0.108 ms\r\n```\r\n\r\nBut when the application actually tries to establish a connection to the Redis instance, it fails:\r\n\r\n```\r\n2023-06-27T01:23:37.643Z  INFO 1 --- [           main] .c.s.SignalCoverageControllerApplication : Starting SignalCoverageControllerApplication v0.1.0-dev.0.uncommitted+DUST.6448.k8s.e3852e9 using Java 17-ea with PID 1 (/app/app.jar started by root in /app)\r\n2023-06-27T01:23:37.648Z  INFO 1 --- [           main] .c.s.SignalCoverageControllerApplication : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-06-27T01:23:38.547Z  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n2023-06-27T01:23:38.551Z  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.\r\n2023-06-27T01:23:38.599Z  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.\r\n2023-06-27T01:23:39.363Z  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)\r\n2023-06-27T01:23:39.378Z  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-06-27T01:23:39.378Z  INFO 1 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\r\n2023-06-27T01:23:39.566Z  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-06-27T01:23:39.568Z  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1832 ms\r\n2023-06-27T01:23:40.872Z ERROR 1 --- [           main] a.c.c.s.config.RedisConfig               : Error trying to connect to Redis at redis-task-queue-service:6380 - Unable to connect to Redis\r\n2023-06-27T01:23:41.450Z  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path &#39;&#39;\r\n2023-06-27T01:23:41.464Z  INFO 1 --- [           main] .c.s.SignalCoverageControllerApplication : Started SignalCoverageControllerApplication in 4.514 seconds (process running for 5.336)\r\n2023-06-27T01:23:41.467Z  INFO 1 --- [           main] c.c.socketio.SocketIOServer              : Session store / pubsub factory used: MemoryStoreFactory (local session store only)\r\n2023-06-27T01:23:41.495Z  INFO 1 --- [           main] a.c.c.s.r.connection.RedisConnection     : Attempting connection to Redis @ redis-task-queue-service:6380\r\n2023-06-27T01:23:41.495Z  INFO 1 --- [ntLoopGroup-7-1] c.c.socketio.SocketIOServer              : SocketIO server started at port: 3001\r\n2023-06-27T01:23:41.501Z ERROR 1 --- [           main] .c.s.SignalCoverageControllerApplication : No Redis instance as per configuration available to connect to. Exiting.\r\n2023-06-27T01:23:41.582Z  WARN 1 --- [ionShutdownHook] .s.c.a.CommonAnnotationBeanPostProcessor : Destroy method on bean with name &#39;redisConnection&#39; threw an exception: java.lang.NullPointerException: Cannot invoke &quot;io.lettuce.core.api.StatefulRedisConnection.close()&quot; because &quot;this.connection&quot; is null\r\n```\r\n\r\nHere is the output from `kubectl get svc` for the redis-task-queue-service:\r\n```\r\nredis-task-queue-service   ClusterIP   None             &lt;none&gt;        6380/TCP            15m\r\n```\r\n\r\nHere is the output from `kubectl get pods -o wide` for the redis-task-queue-service:\r\n```\r\nredis-task-queue-0                           1/1     Running   0              15m     10.244.7.237   minikube   &lt;none&gt;           &lt;none&gt;\r\n```\r\n\r\nHere is the redis-task-queue-service.yaml file:\r\n```\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: {{ .Values.taskQueueName }}-service\r\n  labels:\r\n    app: {{ .Values.taskQueueName }}\r\nspec:\r\n  ports:\r\n  - port: {{ .Values.taskQueuePort }}\r\n    name: {{ .Values.taskQueueName }}\r\n  clusterIP: None\r\n  selector:\r\n    app: {{ .Values.taskQueueName }}\r\n```\r\n\r\nWhere taskQueuePort is 6380, and taskQueueName is &quot;redis-task-queue&quot;\r\n\r\nHere is my controller-deployment.yaml file:\r\n\r\n```\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: signal-coverage-controller\r\nspec:\r\n  replicas: {{ .Values.replicaCount }}\r\n  selector:\r\n    matchLabels:\r\n      app: signal-coverage-controller\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: signal-coverage-controller\r\n    spec:\r\n      containers:\r\n        - name: signal-coverage-controller\r\n          image: {{ .Values.controllerImage }}\r\n          imagePullPolicy: {{ .Values.imagePullPolicy }}\r\n          env:\r\n            - name: REDIS_HOST\r\n              value: &quot;{{ .Values.redisHost }}&quot;\r\n            - name: REDIS_PORT\r\n              value: &quot;{{ .Values.redisPort }}&quot;\r\n            - name: CONTROLLER_TIMEOUT_MS\r\n              value: &quot;{{ .Values.controllerTimeoutMs }}&quot;\r\n            - name: SERVER_PORT\r\n              value: &quot;{{ .Values.serverPort }}&quot;\r\n            - name: WEBSOCKET_HOST\r\n              value: &quot;{{ .Values.websocketHost }}&quot;\r\n            - name: WEBSOCKET_PORT\r\n              value: &quot;{{ .Values.websocketPort }}&quot;\r\n          resources:\r\n            requests:\r\n              #cpu: {{ .Values.resources.requests.cpu }}\r\n              memory: {{ .Values.resources.requests.memory }}\r\n            limits:\r\n              #cpu: {{ .Values.resources.limits.cpu }}\r\n              memory: {{ .Values.resources.limits.memory }}\r\n      imagePullSecrets:\r\n        - name: {{ .Values.secretName }}\r\n```\r\n\r\nWhere REDIS_HOST is &quot;redis-task-queue-service&quot; and REDIS_PORT is 6380","title":"Kubernetes - pod can ping other pod, but can&#39;t connect to the Redis instance","body":"<p>I'm deploying some pods to Kubernetes for the first time, but for some reason, struggling to establish some connectivity between them.</p>\n<p>I have a SpringBoot app that needs to connect to a Redis instance, but the SpringBoot pod can't connect to my Redis pod no matter what I do.</p>\n<p>I can ping the Redis pod via the Redis service name in my SpringBoot pod:</p>\n<pre><code>/app # ping redis-task-queue-service\nPING redis-task-queue-service (10.244.7.237): 56 data bytes\n64 bytes from 10.244.7.237: seq=0 ttl=64 time=0.172 ms\n64 bytes from 10.244.7.237: seq=1 ttl=64 time=0.108 ms\n</code></pre>\n<p>But when the application actually tries to establish a connection to the Redis instance, it fails:</p>\n<pre><code>2023-06-27T01:23:37.643Z  INFO 1 --- [           main] .c.s.SignalCoverageControllerApplication : Starting SignalCoverageControllerApplication v0.1.0-dev.0.uncommitted+DUST.6448.k8s.e3852e9 using Java 17-ea with PID 1 (/app/app.jar started by root in /app)\n2023-06-27T01:23:37.648Z  INFO 1 --- [           main] .c.s.SignalCoverageControllerApplication : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-06-27T01:23:38.547Z  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-06-27T01:23:38.551Z  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.\n2023-06-27T01:23:38.599Z  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.\n2023-06-27T01:23:39.363Z  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)\n2023-06-27T01:23:39.378Z  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-06-27T01:23:39.378Z  INFO 1 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\n2023-06-27T01:23:39.566Z  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-06-27T01:23:39.568Z  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1832 ms\n2023-06-27T01:23:40.872Z ERROR 1 --- [           main] a.c.c.s.config.RedisConfig               : Error trying to connect to Redis at redis-task-queue-service:6380 - Unable to connect to Redis\n2023-06-27T01:23:41.450Z  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''\n2023-06-27T01:23:41.464Z  INFO 1 --- [           main] .c.s.SignalCoverageControllerApplication : Started SignalCoverageControllerApplication in 4.514 seconds (process running for 5.336)\n2023-06-27T01:23:41.467Z  INFO 1 --- [           main] c.c.socketio.SocketIOServer              : Session store / pubsub factory used: MemoryStoreFactory (local session store only)\n2023-06-27T01:23:41.495Z  INFO 1 --- [           main] a.c.c.s.r.connection.RedisConnection     : Attempting connection to Redis @ redis-task-queue-service:6380\n2023-06-27T01:23:41.495Z  INFO 1 --- [ntLoopGroup-7-1] c.c.socketio.SocketIOServer              : SocketIO server started at port: 3001\n2023-06-27T01:23:41.501Z ERROR 1 --- [           main] .c.s.SignalCoverageControllerApplication : No Redis instance as per configuration available to connect to. Exiting.\n2023-06-27T01:23:41.582Z  WARN 1 --- [ionShutdownHook] .s.c.a.CommonAnnotationBeanPostProcessor : Destroy method on bean with name 'redisConnection' threw an exception: java.lang.NullPointerException: Cannot invoke &quot;io.lettuce.core.api.StatefulRedisConnection.close()&quot; because &quot;this.connection&quot; is null\n</code></pre>\n<p>Here is the output from <code>kubectl get svc</code> for the redis-task-queue-service:</p>\n<pre><code>redis-task-queue-service   ClusterIP   None             &lt;none&gt;        6380/TCP            15m\n</code></pre>\n<p>Here is the output from <code>kubectl get pods -o wide</code> for the redis-task-queue-service:</p>\n<pre><code>redis-task-queue-0                           1/1     Running   0              15m     10.244.7.237   minikube   &lt;none&gt;           &lt;none&gt;\n</code></pre>\n<p>Here is the redis-task-queue-service.yaml file:</p>\n<pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: {{ .Values.taskQueueName }}-service\n  labels:\n    app: {{ .Values.taskQueueName }}\nspec:\n  ports:\n  - port: {{ .Values.taskQueuePort }}\n    name: {{ .Values.taskQueueName }}\n  clusterIP: None\n  selector:\n    app: {{ .Values.taskQueueName }}\n</code></pre>\n<p>Where taskQueuePort is 6380, and taskQueueName is &quot;redis-task-queue&quot;</p>\n<p>Here is my controller-deployment.yaml file:</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: signal-coverage-controller\nspec:\n  replicas: {{ .Values.replicaCount }}\n  selector:\n    matchLabels:\n      app: signal-coverage-controller\n  template:\n    metadata:\n      labels:\n        app: signal-coverage-controller\n    spec:\n      containers:\n        - name: signal-coverage-controller\n          image: {{ .Values.controllerImage }}\n          imagePullPolicy: {{ .Values.imagePullPolicy }}\n          env:\n            - name: REDIS_HOST\n              value: &quot;{{ .Values.redisHost }}&quot;\n            - name: REDIS_PORT\n              value: &quot;{{ .Values.redisPort }}&quot;\n            - name: CONTROLLER_TIMEOUT_MS\n              value: &quot;{{ .Values.controllerTimeoutMs }}&quot;\n            - name: SERVER_PORT\n              value: &quot;{{ .Values.serverPort }}&quot;\n            - name: WEBSOCKET_HOST\n              value: &quot;{{ .Values.websocketHost }}&quot;\n            - name: WEBSOCKET_PORT\n              value: &quot;{{ .Values.websocketPort }}&quot;\n          resources:\n            requests:\n              #cpu: {{ .Values.resources.requests.cpu }}\n              memory: {{ .Values.resources.requests.memory }}\n            limits:\n              #cpu: {{ .Values.resources.limits.cpu }}\n              memory: {{ .Values.resources.limits.memory }}\n      imagePullSecrets:\n        - name: {{ .Values.secretName }}\n</code></pre>\n<p>Where REDIS_HOST is &quot;redis-task-queue-service&quot; and REDIS_PORT is 6380</p>\n"},{"tags":["java","spring","spring-boot","spring-security","keycloak"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687829116,"creation_date":1687790816,"answer_id":76557782,"question_id":76555711,"body_markdown":"In your case, the &quot;authorization server&quot; is Keycloak. You don&#39;t provide Spring Security configuration for it. To prevent brute force, log login attempts, etc, refer to Keycloak documentation. Same for adding federated identity sources (like &quot;social&quot; login from Google or Facebook, but also a corporate LDAP or whatever).\r\n\r\nA &quot;backend in front of all the front-ends&quot; is a BFF. BFF is configured as a confidential client and secures it&#39;s requests from front-ends with sessions. If you want to log authorization_code flow initiations, there, refer to the underlying middleware documentation (like `spring-cloud-gateway` if using it as BFF) \r\n\r\nBut I already explained that in the tutorials you are referring to... \r\n\r\n\r\n","title":"How to secure an authorization server without a public client or BFF pattern with KeyCloak?","body":"<p>In your case, the &quot;authorization server&quot; is Keycloak. You don't provide Spring Security configuration for it. To prevent brute force, log login attempts, etc, refer to Keycloak documentation. Same for adding federated identity sources (like &quot;social&quot; login from Google or Facebook, but also a corporate LDAP or whatever).</p>\n<p>A &quot;backend in front of all the front-ends&quot; is a BFF. BFF is configured as a confidential client and secures it's requests from front-ends with sessions. If you want to log authorization_code flow initiations, there, refer to the underlying middleware documentation (like <code>spring-cloud-gateway</code> if using it as BFF)</p>\n<p>But I already explained that in the tutorials you are referring to...</p>\n"}],"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76557782,"answer_count":1,"score":1,"last_activity_date":1687829116,"creation_date":1687774454,"question_id":76555711,"body_markdown":"I currently got an OAuth2 Resource Server configured - similar to [Ch4mpy&#39;s][1] set-up on [GitHub][2]. As for the OIDC Provider I&#39;m using KeyCloak. Everything works so far - I can easily send my requests to the Authorization Server (KeyCloak) via e.g. Postman, get JWT and authenticate myself to access the resources I&#39;m allowed according to the RBAC that I configured.\r\n\r\nNow I&#39;m heavily struggling with connecting my front-end applications with my back-end. In our system we got multiple apps (both B2B and B2C of nature - so different access points) and a variety of other front-end interfaces (like websites). \r\n\r\nAccording to most documentations I now should either \r\n\r\n 1. use **public clients** for all interfaces that aren&#39;t able to store client secrets.\r\n2. *[or]* use a **BFF pattern** for each front-end application.\r\n\r\nBoth aren&#39;t really feasible as the first suggestion would compromise security and the latter would require multiple servers to handle the communication.\r\n\r\nThus I&#39;ve been thinking towards implementing a back-end that would get sufficient privileges (i.e. a confidential client) that sits in between all front-end applications and the authorization server. Unluckily, I wasn&#39;t able to find proper resources because with that matter comes new issues:\r\n- How to secure the back-end application? (I.e. Make sure that no unauthorized calls can access it)\r\n- How does the authentication flow work when a back-end server is in between these instances?\r\n- How to integrate further IDPs (like Google Sign-In or Apple Sign-In) in this architecture?\r\n\r\nAll in all, **how to &quot;secure&quot; the authorization server when not using a public client or a 1-on-1 BFF client for all front-end applications?**\r\n\r\n  [1]: https://stackoverflow.com/users/619830/ch4mp\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/servlet-resource-server","title":"How to secure an authorization server without a public client or BFF pattern with KeyCloak?","body":"<p>I currently got an OAuth2 Resource Server configured - similar to <a href=\"https://stackoverflow.com/users/619830/ch4mp\">Ch4mpy's</a> set-up on <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/servlet-resource-server\" rel=\"nofollow noreferrer\">GitHub</a>. As for the OIDC Provider I'm using KeyCloak. Everything works so far - I can easily send my requests to the Authorization Server (KeyCloak) via e.g. Postman, get JWT and authenticate myself to access the resources I'm allowed according to the RBAC that I configured.</p>\n<p>Now I'm heavily struggling with connecting my front-end applications with my back-end. In our system we got multiple apps (both B2B and B2C of nature - so different access points) and a variety of other front-end interfaces (like websites).</p>\n<p>According to most documentations I now should either</p>\n<ol>\n<li>use <strong>public clients</strong> for all interfaces that aren't able to store client secrets.</li>\n<li><em>[or]</em> use a <strong>BFF pattern</strong> for each front-end application.</li>\n</ol>\n<p>Both aren't really feasible as the first suggestion would compromise security and the latter would require multiple servers to handle the communication.</p>\n<p>Thus I've been thinking towards implementing a back-end that would get sufficient privileges (i.e. a confidential client) that sits in between all front-end applications and the authorization server. Unluckily, I wasn't able to find proper resources because with that matter comes new issues:</p>\n<ul>\n<li>How to secure the back-end application? (I.e. Make sure that no unauthorized calls can access it)</li>\n<li>How does the authentication flow work when a back-end server is in between these instances?</li>\n<li>How to integrate further IDPs (like Google Sign-In or Apple Sign-In) in this architecture?</li>\n</ul>\n<p>All in all, <strong>how to &quot;secure&quot; the authorization server when not using a public client or a 1-on-1 BFF client for all front-end applications?</strong></p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1438348017,"post_id":31745666,"comment_id":51427382,"body_markdown":"Look more carefully at the example that you copied from. It&#39;s in there.","body":"Look more carefully at the example that you copied from. It&#39;s in there."},{"owner":{"account_id":4143558,"reputation":420,"user_id":3398014,"accept_rate":60,"display_name":"David"},"score":1,"creation_date":1438351758,"post_id":31745666,"comment_id":51430022,"body_markdown":"it would be more helpful if you can point out the place.","body":"it would be more helpful if you can point out the place."}],"answers":[{"tags":[],"owner":{"account_id":1550320,"reputation":16282,"user_id":1442874,"accept_rate":88,"display_name":"Chris Gerken"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438392670,"creation_date":1438392670,"answer_id":31757335,"question_id":31745666,"body_markdown":"You need to set the properties:\r\n\r\n    props.put(&quot;serializer.class&quot;,&quot;my.own.serializer.StringSupport&quot;);\r\n    props.put(&quot;key.serializer.class&quot;,&quot;my.own.serializer.LongSupport&quot;);\r\n\r\nin your main method so that you pass them to the producer&#39;s constructor.  Of course, you&#39;d have to specify the right encoders.  The serializer class converts the message into a byte array and the key.serializer class turn the key object into a byte array.  Generally you&#39;d also have them be able to reverse the process.","title":"Simple Kafka Consumer Example not working","body":"<p>You need to set the properties:</p>\n\n<pre><code>props.put(\"serializer.class\",\"my.own.serializer.StringSupport\");\nprops.put(\"key.serializer.class\",\"my.own.serializer.LongSupport\");\n</code></pre>\n\n<p>in your main method so that you pass them to the producer's constructor.  Of course, you'd have to specify the right encoders.  The serializer class converts the message into a byte array and the key.serializer class turn the key object into a byte array.  Generally you'd also have them be able to reverse the process.</p>\n"},{"tags":[],"owner":{"account_id":7215624,"reputation":244,"user_id":5508221,"display_name":"Slavek Tecl"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1446228810,"creation_date":1446228810,"answer_id":33442437,"question_id":31745666,"body_markdown":"This works out of the box without implementing your own serializers\r\n\r\n    Properties props = new Properties();\r\n    props.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n    props.put(&quot;group.id&quot;, &quot;test&quot;);\r\n    props.put(&quot;enable.auto.commit&quot;, &quot;true&quot;);\r\n    props.put(&quot;auto.commit.interval.ms&quot;, &quot;1000&quot;);\r\n    props.put(&quot;session.timeout.ms&quot;, &quot;30000&quot;);\r\n    props.put(&quot;key.deserializer&quot;,&quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);  \r\n    props.put(&quot;value.deserializer&quot;,&quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n    props.put(&quot;partition.assignment.strategy&quot;, &quot;range&quot;);","title":"Simple Kafka Consumer Example not working","body":"<p>This works out of the box without implementing your own serializers</p>\n\n<pre><code>Properties props = new Properties();\nprops.put(\"bootstrap.servers\", \"localhost:9092\");\nprops.put(\"group.id\", \"test\");\nprops.put(\"enable.auto.commit\", \"true\");\nprops.put(\"auto.commit.interval.ms\", \"1000\");\nprops.put(\"session.timeout.ms\", \"30000\");\nprops.put(\"key.deserializer\",\"org.apache.kafka.common.serialization.StringDeserializer\");  \nprops.put(\"value.deserializer\",\"org.apache.kafka.common.serialization.StringDeserializer\");\nprops.put(\"partition.assignment.strategy\", \"range\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3424943,"reputation":1004,"user_id":2870939,"accept_rate":51,"display_name":"Vimal Dhaduk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479299028,"creation_date":1479299028,"answer_id":40632123,"question_id":31745666,"body_markdown":"You are dealing with byte array for key and value parameter.\r\nSo Byte serializer and deserializer required.\r\n\r\nyou can add in properties,\r\n\r\nFor Deserialize\r\n\r\n    props.put(&quot;key.deserializer&quot;,&quot;org.apache.kafka.common.serialization.ByteArrayDeserializer&quot;);  \r\n\r\n   \r\nFor Serialize\r\n\r\n    props.put(&quot;value.deserializer&quot;,&quot;org.apache.kafka.common.serialization.ByteArraySerializer&quot;);","title":"Simple Kafka Consumer Example not working","body":"<p>You are dealing with byte array for key and value parameter.\nSo Byte serializer and deserializer required.</p>\n\n<p>you can add in properties,</p>\n\n<p>For Deserialize</p>\n\n<pre><code>props.put(\"key.deserializer\",\"org.apache.kafka.common.serialization.ByteArrayDeserializer\");  \n</code></pre>\n\n<p>For Serialize</p>\n\n<pre><code>props.put(\"value.deserializer\",\"org.apache.kafka.common.serialization.ByteArraySerializer\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4640060,"reputation":561,"user_id":3760178,"display_name":"Bart Theeten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687828646,"creation_date":1587455417,"answer_id":61338450,"question_id":31745666,"body_markdown":"Make sure you pass the string value of the deserialization class, rather than the class object (which was my mistake).\r\n\r\n```java\r\nprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\r\n          Serdes.String().deserializer().getClass().getName());\r\n```\r\n\r\nWhen you forget the `.getName()`, you will get the same exception which in that case is misleading.\r\n","title":"Simple Kafka Consumer Example not working","body":"<p>Make sure you pass the string value of the deserialization class, rather than the class object (which was my mistake).</p>\n<pre class=\"lang-java prettyprint-override\"><code>props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\n          Serdes.String().deserializer().getClass().getName());\n</code></pre>\n<p>When you forget the <code>.getName()</code>, you will get the same exception which in that case is misleading.</p>\n"},{"tags":[],"owner":{"account_id":9605621,"reputation":37107,"user_id":7131757,"accept_rate":77,"display_name":"Giorgos Myrianthous"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687828763,"creation_date":1587464696,"answer_id":61341268,"question_id":31745666,"body_markdown":"For keys use one of the following\r\n\r\n**String Key**\r\n\r\n    properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\r\n**JSON Key**\r\n\r\n    properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\r\n\r\n**Avro Key**\r\n\r\n    properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, io.confluent.kafka.serializers.KafkaAvroDeserializer.class);\r\n\r\n**ByteArray Key**\r\n\r\n    properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, ByteArrayDeserializer.class);\r\n\r\n----------\r\nLikewise, use one of the following for your value deserializer:\r\n\r\n**String Value**\r\n\r\n    properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\r\n**JSON Value**\r\n\r\n    properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\r\n\r\n**Avro Value**\r\n\r\n    properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, io.confluent.kafka.serializers.KafkaAvroDeserializer.class);\r\n\r\n**ByteArray Value**\r\n\r\n    properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ByteArrayDeserializer.class);\r\n\r\n----------\r\nNote that for Avro deserialisers, you will need the following dependencies: \r\n\r\n```xml\r\n&lt;dependency&gt; \r\n    &lt;groupId&gt;io.confluent&lt;/groupId&gt; \r\n    &lt;artifactId&gt;kafka-avro-serializer&lt;/artifactId&gt; \r\n    &lt;version&gt;${confluent.version}&lt;/version&gt; \r\n&lt;/dependency&gt; \r\n\r\n&lt;dependency&gt; \r\n    &lt;groupId&gt;org.apache.avro&lt;/groupId&gt; \r\n    &lt;artifactId&gt;avro&lt;/artifactId&gt; \r\n    &lt;version&gt;${avro.version}&lt;/version&gt; \r\n&lt;/dependency&gt;\r\n```","title":"Simple Kafka Consumer Example not working","body":"<p>For keys use one of the following</p>\n<p><strong>String Key</strong></p>\n<pre><code>properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n</code></pre>\n<p><strong>JSON Key</strong></p>\n<pre><code>properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\n</code></pre>\n<p><strong>Avro Key</strong></p>\n<pre><code>properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, io.confluent.kafka.serializers.KafkaAvroDeserializer.class);\n</code></pre>\n<p><strong>ByteArray Key</strong></p>\n<pre><code>properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, ByteArrayDeserializer.class);\n</code></pre>\n<hr />\n<p>Likewise, use one of the following for your value deserializer:</p>\n<p><strong>String Value</strong></p>\n<pre><code>properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n</code></pre>\n<p><strong>JSON Value</strong></p>\n<pre><code>properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\n</code></pre>\n<p><strong>Avro Value</strong></p>\n<pre><code>properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, io.confluent.kafka.serializers.KafkaAvroDeserializer.class);\n</code></pre>\n<p><strong>ByteArray Value</strong></p>\n<pre><code>properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ByteArrayDeserializer.class);\n</code></pre>\n<hr />\n<p>Note that for Avro deserialisers, you will need the following dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt; \n    &lt;groupId&gt;io.confluent&lt;/groupId&gt; \n    &lt;artifactId&gt;kafka-avro-serializer&lt;/artifactId&gt; \n    &lt;version&gt;${confluent.version}&lt;/version&gt; \n&lt;/dependency&gt; \n\n&lt;dependency&gt; \n    &lt;groupId&gt;org.apache.avro&lt;/groupId&gt; \n    &lt;artifactId&gt;avro&lt;/artifactId&gt; \n    &lt;version&gt;${avro.version}&lt;/version&gt; \n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4143558,"reputation":420,"user_id":3398014,"accept_rate":60,"display_name":"David"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45417,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":5,"score":16,"last_activity_date":1687828763,"creation_date":1438343944,"question_id":31745666,"body_markdown":"I have a simple class to consume messages from a kafka server. The majority of codes are copied from the comments of org.apache.kafka.clients.consumer.KafkaConsumer.java.\r\n\r\n    public class Demo {\r\n\r\n        public static void main(String[] args) {\r\n            Properties props = new Properties();\r\n            props.put(&quot;metadata.broker.list&quot;, &quot;192.168.144.10:29092&quot;);\r\n            props.put(&quot;group.id&quot;, &quot;test&quot;);\r\n            props.put(&quot;session.timeout.ms&quot;, &quot;1000&quot;);\r\n            props.put(&quot;enable.auto.commit&quot;, &quot;true&quot;);\r\n            props.put(&quot;auto.commit.interval.ms&quot;, &quot;10000&quot;);\r\n            KafkaConsumer&lt;byte[], byte[]&gt; consumer = new KafkaConsumer&lt;byte[], byte[]&gt;(props);\r\n            consumer.subscribe(&quot;voltdbexportAUDIT&quot;, &quot;voltdbexportTEST&quot;);\r\n            boolean isRunning = true;\r\n            while (isRunning) {\r\n                Map&lt;String, ConsumerRecords&lt;byte[], byte[]&gt;&gt; records = consumer.poll(100);\r\n                process(records);\r\n            }\r\n            consumer.close();\r\n        }\r\n\r\n        private static Map&lt;TopicPartition, Long&gt; process(Map&lt;String, ConsumerRecords&lt;byte[], byte[]&gt;&gt; records) {\r\n            Map&lt;TopicPartition, Long&gt; processedOffsets = new HashMap&lt;&gt;();\r\n            for (Map.Entry&lt;String, ConsumerRecords&lt;byte[], byte[]&gt;&gt; recordMetadata : records.entrySet()) {\r\n                List&lt;ConsumerRecord&lt;byte[], byte[]&gt;&gt; recordsPerTopic = recordMetadata.getValue().records();\r\n                for (int i = 0; i &lt; recordsPerTopic.size(); i++) {\r\n                    ConsumerRecord&lt;byte[], byte[]&gt; record = recordsPerTopic.get(i);\r\n                    // process record\r\n                    try {\r\n                        processedOffsets.put(record.topicAndPartition(), record.offset());\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n            return processedOffsets;\r\n        }\r\n    }\r\n\r\nI am using &#39;org.apache.kafka:kafka-clients:0.8.2.0&#39;. it throws exception\r\n\r\n    Exception in thread &quot;main&quot; org.apache.kafka.common.config.ConfigException: Missing required configuration &quot;key.deserializer&quot; which has no default value.\r\n        at org.apache.kafka.common.config.ConfigDef.parse(ConfigDef.java:124)\r\n        at org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:48)\r\n        at org.apache.kafka.clients.consumer.ConsumerConfig.&lt;init&gt;(ConsumerConfig.java:194)\r\n        at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:430)\r\n        at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:413)\r\n        at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:400)\r\n        at kafka.integration.Demo.main(Demo.java:26)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:497)\r\n        at com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)\r\n\r\nHow should I config the key.deserializer? ","title":"Simple Kafka Consumer Example not working","body":"<p>I have a simple class to consume messages from a kafka server. The majority of codes are copied from the comments of org.apache.kafka.clients.consumer.KafkaConsumer.java.</p>\n\n<pre><code>public class Demo {\n\n    public static void main(String[] args) {\n        Properties props = new Properties();\n        props.put(\"metadata.broker.list\", \"192.168.144.10:29092\");\n        props.put(\"group.id\", \"test\");\n        props.put(\"session.timeout.ms\", \"1000\");\n        props.put(\"enable.auto.commit\", \"true\");\n        props.put(\"auto.commit.interval.ms\", \"10000\");\n        KafkaConsumer&lt;byte[], byte[]&gt; consumer = new KafkaConsumer&lt;byte[], byte[]&gt;(props);\n        consumer.subscribe(\"voltdbexportAUDIT\", \"voltdbexportTEST\");\n        boolean isRunning = true;\n        while (isRunning) {\n            Map&lt;String, ConsumerRecords&lt;byte[], byte[]&gt;&gt; records = consumer.poll(100);\n            process(records);\n        }\n        consumer.close();\n    }\n\n    private static Map&lt;TopicPartition, Long&gt; process(Map&lt;String, ConsumerRecords&lt;byte[], byte[]&gt;&gt; records) {\n        Map&lt;TopicPartition, Long&gt; processedOffsets = new HashMap&lt;&gt;();\n        for (Map.Entry&lt;String, ConsumerRecords&lt;byte[], byte[]&gt;&gt; recordMetadata : records.entrySet()) {\n            List&lt;ConsumerRecord&lt;byte[], byte[]&gt;&gt; recordsPerTopic = recordMetadata.getValue().records();\n            for (int i = 0; i &lt; recordsPerTopic.size(); i++) {\n                ConsumerRecord&lt;byte[], byte[]&gt; record = recordsPerTopic.get(i);\n                // process record\n                try {\n                    processedOffsets.put(record.topicAndPartition(), record.offset());\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n        return processedOffsets;\n    }\n}\n</code></pre>\n\n<p>I am using 'org.apache.kafka:kafka-clients:0.8.2.0'. it throws exception</p>\n\n<pre><code>Exception in thread \"main\" org.apache.kafka.common.config.ConfigException: Missing required configuration \"key.deserializer\" which has no default value.\n    at org.apache.kafka.common.config.ConfigDef.parse(ConfigDef.java:124)\n    at org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:48)\n    at org.apache.kafka.clients.consumer.ConsumerConfig.&lt;init&gt;(ConsumerConfig.java:194)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:430)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:413)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:400)\n    at kafka.integration.Demo.main(Demo.java:26)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)\n</code></pre>\n\n<p>How should I config the key.deserializer? </p>\n"},{"tags":["java","function"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1687818613,"post_id":76560557,"comment_id":134987164,"body_markdown":"This isn&#39;t a proper main declaration: `void main(){` so I suspect what is going on is VC is running some other code and trying to smoosh it into your code, and it&#39;s not working.  Show us the actual `main` code, or make this one correct, and then make sure you are running the right file / project.","body":"This isn&#39;t a proper main declaration: <code>void main(){</code> so I suspect what is going on is VC is running some other code and trying to smoosh it into your code, and it&#39;s not working.  Show us the actual <code>main</code> code, or make this one correct, and then make sure you are running the right file / project."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687819842,"post_id":76560557,"comment_id":134987257,"body_markdown":"`arr[]` in `x = obj.linear (len,arr[],num);` is not valid || @markspace or OP is using the preview feature [JEP 445](https://openjdk.org/jeps/445) allowing `void main()` as main method","body":"<code>arr[]</code> in <code>x = obj.linear (len,arr[],num);</code> is not valid || @markspace or OP is using the preview feature <a href=\"https://openjdk.org/jeps/445\" rel=\"nofollow noreferrer\">JEP 445</a> allowing <code>void main()</code> as main method"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687820253,"post_id":76560557,"comment_id":134987291,"body_markdown":"further more `int arr[] = new int[len];` is creating and initializing a new local variable, not setting the instance variable.","body":"further more <code>int arr[] = new int[len];</code> is creating and initializing a new local variable, not setting the instance variable."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1687821547,"post_id":76560557,"comment_id":134987419,"body_markdown":"@user16320675 Does that work here?  `void main()` is inside a class definition, I thought it should be only valid outside of a class.","body":"@user16320675 Does that work here?  <code>void main()</code> is inside a class definition, I thought it should be only valid outside of a class."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1687821851,"post_id":76560557,"comment_id":134987444,"body_markdown":"@markspace it does work - tested (but got slightly different error: missing `.class` at call to `linear`) and described in JEP445: &quot;*When launching a class, the launch protocol chooses the first of the following methods to invoke: . . . 4. A void main() instance method of non-private access declared in the launched class or inherited from a superclass*&quot;, including [example](https://i.stack.imgur.com/1khp5.png) in its [Description](https://openjdk.org/jeps/445#Description) section","body":"@markspace it does work - tested (but got slightly different error: missing <code>.class</code> at call to <code>linear</code>) and described in JEP445: &quot;<i>When launching a class, the launch protocol chooses the first of the following methods to invoke: . . . 4. A void main() instance method of non-private access declared in the launched class or inherited from a superclass</i>&quot;, including <a href=\"https://i.stack.imgur.com/1khp5.png\" rel=\"nofollow noreferrer\">example</a> in its <a href=\"https://openjdk.org/jeps/445#Description\" rel=\"nofollow noreferrer\">Description</a> section"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1687822218,"post_id":76560557,"comment_id":134987477,"body_markdown":"That&#39;s going to make debugging newbie programs rather more problematic.  I&#39;m not sure I like that JEP any more. @user16320675","body":"That&#39;s going to make debugging newbie programs rather more problematic.  I&#39;m not sure I like that JEP any more. @user16320675"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1687834062,"post_id":76560557,"comment_id":134988462,"body_markdown":"@markspace After reading about it I don&#39;t like it.  Imho, by &quot;reducing clutter&quot; on simple programs that JEP is cluttering up the language.   All students need to understand is that you need to do a, b, and c, to get their program running.  And then latter they can learn how a, b, and c work and what they mean.","body":"@markspace After reading about it I don&#39;t like it.  Imho, by &quot;reducing clutter&quot; on simple programs that JEP is cluttering up the language.   All students need to understand is that you need to do a, b, and c, to get their program running.  And then latter they can learn how a, b, and c work and what they mean."}],"answers":[{"tags":[],"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687818421,"creation_date":1687818421,"answer_id":76560583,"question_id":76560557,"body_markdown":"You can&#39;t create a new array just by `arr[]`, it doesn&#39;t have a type.\r\n\r\n`input()` should return the array like \r\n\r\n```Java\r\nint[] input(){\r\n        System.out.println(&quot;Enter the size of the array: &quot;);\r\n        int len = sc.nextInt();\r\n        int arr[] = new int[len];\r\n        System.out.println(&quot;Enter the Array: &quot;);\r\n        for(int i = 0; i &lt;= len; i++){\r\n            arr[i] = sc.nextInt();\r\n        }\r\n        System.out.println(&quot;Enter the number to look for: &quot;);\r\n        int num = sc.nextInt();\r\n\r\n        return arr;\r\n}\r\n\r\n```\r\n\r\nAnd then\r\n```Java\r\nx = obj.linear (len,obj.input(),num);\r\n```","title":"Trying to perform Linear search in java using functions","body":"<p>You can't create a new array just by <code>arr[]</code>, it doesn't have a type.</p>\n<p><code>input()</code> should return the array like</p>\n<pre><code>int[] input(){\n        System.out.println(&quot;Enter the size of the array: &quot;);\n        int len = sc.nextInt();\n        int arr[] = new int[len];\n        System.out.println(&quot;Enter the Array: &quot;);\n        for(int i = 0; i &lt;= len; i++){\n            arr[i] = sc.nextInt();\n        }\n        System.out.println(&quot;Enter the number to look for: &quot;);\n        int num = sc.nextInt();\n\n        return arr;\n}\n\n</code></pre>\n<p>And then</p>\n<pre><code>x = obj.linear (len,obj.input(),num);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687828593,"creation_date":1687828016,"answer_id":76561031,"question_id":76560557,"body_markdown":"&gt; _&quot;... Is there any way I can let the linear return function access the array arr or would I just have to put the input method under the main function. ...&quot;_\r\n\r\nThis is possible; your syntax is incorrect, is all.\r\n\r\nFirstly, from your _input_ method, you&#39;ll want to remove the declaration types for the variables, _len_, _arr_, and _num_.  \r\nThis will allow you to access the _class variables_, with the same names.  \r\nOtherwise, you are simply declaring new local variables, for the _input_ method&#39;s scope.\r\n\r\nAdditionally, remove the brackets, `[]`, from the _arr_ variable within _input_&amp;mdash;these are only required during the declaration.\r\n\r\n```java\r\nlen = sc.nextInt();\r\narr = new int[len];\r\nnum = sc.nextInt();\r\n```\r\n\r\n&gt; _&quot;... On VC Code this is the error &#39;The method linear(int, int[], int) in the type prg is not applicable for the arguments (int, Class&lt;arr[]&gt;, int)Java(67108979)&#39; ...&quot;_\r\n\r\nSimilar to above, this is because the _arr_ variable is affixed the brackets, `[]`.&amp;nbsp; Just use the name _arr_.\r\n\r\n```java\r\nx = obj.linear (len,arr,num);\r\n```\r\n\r\nFurthermore, the _main_ method signature in _Java_ is the following.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\r\n}\r\n```\r\n\r\nYou&#39;ll need that method declaration signature, for the compiler to locate a starting point&amp;mdash;just, _void main()_, will not suffice.\r\n\r\nFrom here you&#39;ll need to access the _prg_ variables using dot-notation.\r\n\r\n```java\r\nobj.x = obj.linear (obj.len,obj.arr,obj.num);\r\n```\r\n\r\nAnd on a final note, the _for-loop_ conditional statements, of both _input_ and _linear_ are using _i &lt;= len_.&amp;nbsp; You&#39;ll want to change this to _i &lt; len_, since when _i_ starts at _0_, there would be 1 additional iteration.\r\n\r\nHere is the complete code, for reference.\r\n\r\n```java\r\npublic class prg {\r\n    Scanner sc = new Scanner(System.in);\r\n    int len,num,arr[],x;\r\n    void input(){\r\n        System.out.println(&quot;Enter the size of the array: &quot;);\r\n        len = sc.nextInt();\r\n        arr = new int[len];\r\n        System.out.println(&quot;Enter the Array: &quot;);\r\n        for(int i = 0; i &lt; len; i++){\r\n            arr[i] = sc.nextInt();\r\n        }\r\n        System.out.println(&quot;Enter the number to look for: &quot;);\r\n        num = sc.nextInt();\r\n    }\r\n    int linear (int len, int arr[], int num){\r\n        for(int i = 0; i &lt; len; i++){\r\n            if(arr[i] == num){\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        prg obj = new prg();\r\n        obj.input();\r\n        obj.x = obj.linear (obj.len,obj.arr,obj.num);\r\n        if(obj.x &gt;= 0){\r\n            System.out.println(&quot;The number &quot; + obj.num + &quot; is found at the index: &quot; + obj.x);\r\n        }\r\n        else{\r\n            System.out.println(&quot;The number &quot; + obj.num + &quot; was not found&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"Trying to perform Linear search in java using functions","body":"<blockquote>\n<p><em>&quot;... Is there any way I can let the linear return function access the array arr or would I just have to put the input method under the main function. ...&quot;</em></p>\n</blockquote>\n<p>This is possible; your syntax is incorrect, is all.</p>\n<p>Firstly, from your <em>input</em> method, you'll want to remove the declaration types for the variables, <em>len</em>, <em>arr</em>, and <em>num</em>.<br />\nThis will allow you to access the <em>class variables</em>, with the same names.<br />\nOtherwise, you are simply declaring new local variables, for the <em>input</em> method's scope.</p>\n<p>Additionally, remove the brackets, <code>[]</code>, from the <em>arr</em> variable within <em>input</em>these are only required during the declaration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>len = sc.nextInt();\narr = new int[len];\nnum = sc.nextInt();\n</code></pre>\n<blockquote>\n<p><em>&quot;... On VC Code this is the error 'The method linear(int, int[], int) in the type prg is not applicable for the arguments (int, Class&lt;arr[]&gt;, int)Java(67108979)' ...&quot;</em></p>\n</blockquote>\n<p>Similar to above, this is because the <em>arr</em> variable is affixed the brackets, <code>[]</code>. Just use the name <em>arr</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>x = obj.linear (len,arr,num);\n</code></pre>\n<p>Furthermore, the <em>main</em> method signature in <em>Java</em> is the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n\n}\n</code></pre>\n<p>You'll need that method declaration signature, for the compiler to locate a starting pointjust, <em>void main()</em>, will not suffice.</p>\n<p>From here you'll need to access the <em>prg</em> variables using dot-notation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>obj.x = obj.linear (obj.len,obj.arr,obj.num);\n</code></pre>\n<p>And on a final note, the <em>for-loop</em> conditional statements, of both <em>input</em> and <em>linear</em> are using <em>i &lt;= len</em>. You'll want to change this to <em>i &lt; len</em>, since when <em>i</em> starts at <em>0</em>, there would be 1 additional iteration.</p>\n<p>Here is the complete code, for reference.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class prg {\n    Scanner sc = new Scanner(System.in);\n    int len,num,arr[],x;\n    void input(){\n        System.out.println(&quot;Enter the size of the array: &quot;);\n        len = sc.nextInt();\n        arr = new int[len];\n        System.out.println(&quot;Enter the Array: &quot;);\n        for(int i = 0; i &lt; len; i++){\n            arr[i] = sc.nextInt();\n        }\n        System.out.println(&quot;Enter the number to look for: &quot;);\n        num = sc.nextInt();\n    }\n    int linear (int len, int arr[], int num){\n        for(int i = 0; i &lt; len; i++){\n            if(arr[i] == num){\n                return i;\n            }\n        }\n        return -1;\n    }\n\n    public static void main(String[] args) {\n        prg obj = new prg();\n        obj.input();\n        obj.x = obj.linear (obj.len,obj.arr,obj.num);\n        if(obj.x &gt;= 0){\n            System.out.println(&quot;The number &quot; + obj.num + &quot; is found at the index: &quot; + obj.x);\n        }\n        else{\n            System.out.println(&quot;The number &quot; + obj.num + &quot; was not found&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28900680,"reputation":11,"user_id":22135714,"display_name":"Neal"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687828593,"creation_date":1687818051,"question_id":76560557,"body_markdown":"I&#39;m trying to use a void method to input an array and call it in the main function. Its just performing simple linear search. Is there any way I can let the linear return function access the array arr or would I just have to put the input method under the main function. \r\nOn VC Code this is the error &quot;The method linear(int, int[], int) in the type prg is not applicable for the arguments (int, Class&lt;arr[]&gt;, int)Java(67108979)&quot;\r\n\r\n```\r\nimport java.util.*;\r\nclass prg{\r\nScanner sc = new Scanner(System.in);\r\nint len,num,arr[],x;\r\n    void input(){\r\n        System.out.println(&quot;Enter the size of the array: &quot;);\r\n        int len = sc.nextInt();\r\n        int arr[] = new int[len];\r\n        System.out.println(&quot;Enter the Array: &quot;);\r\n        for(int i = 0; i &lt;= len; i++){\r\n            arr[i] = sc.nextInt();\r\n        }\r\n        System.out.println(&quot;Enter the number to look for: &quot;);\r\n        int num = sc.nextInt();\r\n       }\r\n    int linear (int len, int arr[], int num){\r\n        for(int i = 0; i &lt;= len; i++){\r\n            if(arr[i] == num){\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n        }\r\n    void main(){\r\n        prg obj = new prg();\r\n        obj.input();\r\n        x = obj.linear (len,arr[],num);\r\n        if(x &gt;= 0){\r\n            System.out.println(&quot;The number &quot; + num + &quot; is found at the index: &quot; + x);\r\n        }\r\n        else{\r\n            System.out.println(&quot;The number &quot; + num + &quot; was not found&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nJust trying to make the input function separate from main.\r\nThanks!","title":"Trying to perform Linear search in java using functions","body":"<p>I'm trying to use a void method to input an array and call it in the main function. Its just performing simple linear search. Is there any way I can let the linear return function access the array arr or would I just have to put the input method under the main function.\nOn VC Code this is the error &quot;The method linear(int, int[], int) in the type prg is not applicable for the arguments (int, Class&lt;arr[]&gt;, int)Java(67108979)&quot;</p>\n<pre><code>import java.util.*;\nclass prg{\nScanner sc = new Scanner(System.in);\nint len,num,arr[],x;\n    void input(){\n        System.out.println(&quot;Enter the size of the array: &quot;);\n        int len = sc.nextInt();\n        int arr[] = new int[len];\n        System.out.println(&quot;Enter the Array: &quot;);\n        for(int i = 0; i &lt;= len; i++){\n            arr[i] = sc.nextInt();\n        }\n        System.out.println(&quot;Enter the number to look for: &quot;);\n        int num = sc.nextInt();\n       }\n    int linear (int len, int arr[], int num){\n        for(int i = 0; i &lt;= len; i++){\n            if(arr[i] == num){\n                return i;\n            }\n        }\n        return -1;\n        }\n    void main(){\n        prg obj = new prg();\n        obj.input();\n        x = obj.linear (len,arr[],num);\n        if(x &gt;= 0){\n            System.out.println(&quot;The number &quot; + num + &quot; is found at the index: &quot; + x);\n        }\n        else{\n            System.out.println(&quot;The number &quot; + num + &quot; was not found&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Just trying to make the input function separate from main.\nThanks!</p>\n"},{"tags":["java","compiler-errors"],"comments":[{"owner":{"account_id":2269226,"reputation":22774,"user_id":1997093,"accept_rate":100,"display_name":"akash"},"score":1,"creation_date":1545028617,"post_id":53809878,"comment_id":94468350,"body_markdown":"**AFAIK** _This error is mostly occur due to typographical mistakes._","body":"<b>AFAIK</b> <i>This error is mostly occur due to typographical mistakes.</i>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1545029241,"post_id":53809878,"comment_id":94468549,"body_markdown":"I disagree.  When a newbie makes this mistake, it is typically because they have **misunderstood** something about Java syntax.","body":"I disagree.  When a newbie makes this mistake, it is typically because they have <b>misunderstood</b> something about Java syntax."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1603406660,"creation_date":1545027736,"answer_id":53809879,"question_id":53809878,"body_markdown":"First of all, this is a compilation error.  If you see the message it at *runtime*, you are probably running code that has compilation errors.\r\n\r\nHere are a couple of examples of the error:\r\n\r\n    double d = 1.9;\r\n    int i = int d;  // error here\r\n             ^\r\n\r\n    int j = someFunction(int[] a);  // error here\r\n                           ^\r\nIn both cases, the compiler error message will be `error: &#39;.class&#39; expected`.\r\n\r\nWhat does the error message mean and what causes it?\r\n----------------------------------------------------\r\n\r\nThe compiler has gotten rather confused during syntax checking by some code that is (frankly) nonsensical.  The compiler has encountered a type (e.g. `int` or `int[]`) in a context where it was actually expecting an expression.   It is then saying that the only symbols that would be syntactically acceptable at this point would be `.` followed by `class`.\r\n\r\nHere is an example where this syntax would be correct;\r\n\r\n\r\n    Class&lt;?&gt; clazz = int;         // incorrect\r\n    Class&lt;?&gt; clazz = int.class;   // correct!\r\n\r\nNote: It should always be *possible* to figure out *why* the compiler&#39;s syntax checker thinks the type should be an expression.  However, it is often simpler to just treat this as &quot;the compiler is confused&quot; and look for the (inevitable!) syntax error that caused the confusion.  That syntax error may not be obvious ... to a beginner ... but knowing that this is the root cause is a good start.\r\n\r\nHow do you fix it?\r\n------------------\r\n\r\nUnfortunately, the &quot;suggestion&quot; of adding `.class` is almost always incorrect.  It certainly won&#39;t help in the two examples at the start of this Answer!\r\n\r\nThe actual fix depends on what you were trying to achieve by putting the type there.  \r\n\r\n  - If you were intending to write a *type cast*, then you need to put parentheses (round brackets) around the type; e.g.\r\n\r\n        double d = 1.9;\r\n        int i = (int) d;   // Correct: casts `1.9` to an integer\r\n\r\n  - If you were simply intending to assign a value or pass a parameter as-is, then the type should be removed.\r\n\r\n        int j = someFunction(a);  // Correct ... assuming that the type of\r\n                                  // &#39;a&#39; is suitable for that call.\r\n\r\n    You need to specify the type of a *formal parameter* when declaring a method.  But you usually don&#39;t need to specify it for the *actual argument*.  In the rare situations where you do (to resolve overload ambiguity), you use a type cast.\r\n\r\nMore examples\r\n-------------\r\n\r\n    someMethod(array[]);\r\n\r\nThe error is reported on `array[]` because that is a type not an expression.  The correction would probably be either:\r\n\r\n    someMethod(array);                  // pass ref to the entire array\r\n\r\nor  \r\n\r\n    someMethod(array[someExpression]);  // pass a single array element\r\n\r\n---------------------------\r\n\r\n    int i = someMethod(int j); \r\n\r\nThe programmer has put a parameter declaration into a method *call*.  An expression is required here, not a declaration:\r\n\r\n    int i = someMethod(j);\r\n\r\n---------------------------\r\n\r\n    int i = int(2.0);\r\n\r\nThe programmer was trying to do a typecast.  It should be written like this:\r\n\r\n    int i = (int) 2.0;\r\n\r\n\r\n---------------------------\r\n\r\n    int[]; letterCount = new int[26];\r\n\r\nThe programmer has added a spurious semicolon.  It should be written like this:\r\n\r\n    int[] letterCount = new int[26];\r\n\r\n---------------------------\r\n\r\n    if (someArray[] &gt; 80) {\r\n        // ...\r\n    }\r\n\r\nThe `someArray[]` denotes a type not an expression.  The programmer probably means something like `someArray[someIndex] &gt; 80` or `someArray.length &gt; 80`.\r\n\r\n\r\n---------------------------\r\n\r\n    int[] integers = new int[arraySize];\r\n    ...\r\n    return integers[];\r\n\r\nThe `integers[]` denotes a type declarator but an expression is required.  It should be either\r\n\r\n    return integers;             // Return the entire array\r\n                            \r\nor\r\n\r\n    return integers[someIndex];  // Return one element of the array\r\n\r\n---------------------------\r\n\r\n    if ((withdraw % 5 == 0) &amp;&amp; (acnt_balc &gt;= withdraw + 0.50))\r\n        double cur = acnt_balc - (withdraw + 0.50);\r\n        System.out.println(cur);\r\n    else\r\n        System.out.println(acnt_balc);\r\n\r\nThe mistake here is that there should be curly brackets around the &quot;then&quot; statements.  \r\n\r\n    if ((withdraw % 5 == 0) &amp;&amp; (acnt_balc &gt;= withdraw + 0.50)) {\r\n        double cur = acnt_balc - (withdraw + 0.50);\r\n        System.out.println(cur);\r\n    } else {\r\n        System.out.println(acnt_balc);\r\n    }\r\n\r\nBut the compiler&#39;s confusion is that the &quot;then&quot; clause of the &quot;if&quot; cannot be a variable declaration.  So the parser is looking for an expression that could be a method call.  For example, the following would be locally syntactically valid:\r\n\r\n    if ((withdraw % 5 == 0) &amp;&amp; (acnt_balc &gt;= withdraw + 0.50))\r\n        double.class.newInstance();   // no compilation error here\r\n\r\n... albeit nonsensical in terms of what it tries to do.  And of course the compiler would then trip over the dangling `else`.","title":"What does &quot;error: &#39;.class&#39; expected&quot; mean and how do I fix it","body":"<p>First of all, this is a compilation error.  If you see the message it at <em>runtime</em>, you are probably running code that has compilation errors.</p>\n<p>Here are a couple of examples of the error:</p>\n<pre><code>double d = 1.9;\nint i = int d;  // error here\n         ^\n\nint j = someFunction(int[] a);  // error here\n                       ^\n</code></pre>\n<p>In both cases, the compiler error message will be <code>error: '.class' expected</code>.</p>\n<h2>What does the error message mean and what causes it?</h2>\n<p>The compiler has gotten rather confused during syntax checking by some code that is (frankly) nonsensical.  The compiler has encountered a type (e.g. <code>int</code> or <code>int[]</code>) in a context where it was actually expecting an expression.   It is then saying that the only symbols that would be syntactically acceptable at this point would be <code>.</code> followed by <code>class</code>.</p>\n<p>Here is an example where this syntax would be correct;</p>\n<pre><code>Class&lt;?&gt; clazz = int;         // incorrect\nClass&lt;?&gt; clazz = int.class;   // correct!\n</code></pre>\n<p>Note: It should always be <em>possible</em> to figure out <em>why</em> the compiler's syntax checker thinks the type should be an expression.  However, it is often simpler to just treat this as &quot;the compiler is confused&quot; and look for the (inevitable!) syntax error that caused the confusion.  That syntax error may not be obvious ... to a beginner ... but knowing that this is the root cause is a good start.</p>\n<h2>How do you fix it?</h2>\n<p>Unfortunately, the &quot;suggestion&quot; of adding <code>.class</code> is almost always incorrect.  It certainly won't help in the two examples at the start of this Answer!</p>\n<p>The actual fix depends on what you were trying to achieve by putting the type there.</p>\n<ul>\n<li><p>If you were intending to write a <em>type cast</em>, then you need to put parentheses (round brackets) around the type; e.g.</p>\n<pre><code>double d = 1.9;\nint i = (int) d;   // Correct: casts `1.9` to an integer\n</code></pre>\n</li>\n<li><p>If you were simply intending to assign a value or pass a parameter as-is, then the type should be removed.</p>\n<pre><code>int j = someFunction(a);  // Correct ... assuming that the type of\n                          // 'a' is suitable for that call.\n</code></pre>\n<p>You need to specify the type of a <em>formal parameter</em> when declaring a method.  But you usually don't need to specify it for the <em>actual argument</em>.  In the rare situations where you do (to resolve overload ambiguity), you use a type cast.</p>\n</li>\n</ul>\n<h2>More examples</h2>\n<pre><code>someMethod(array[]);\n</code></pre>\n<p>The error is reported on <code>array[]</code> because that is a type not an expression.  The correction would probably be either:</p>\n<pre><code>someMethod(array);                  // pass ref to the entire array\n</code></pre>\n<p>or</p>\n<pre><code>someMethod(array[someExpression]);  // pass a single array element\n</code></pre>\n<hr />\n<pre><code>int i = someMethod(int j); \n</code></pre>\n<p>The programmer has put a parameter declaration into a method <em>call</em>.  An expression is required here, not a declaration:</p>\n<pre><code>int i = someMethod(j);\n</code></pre>\n<hr />\n<pre><code>int i = int(2.0);\n</code></pre>\n<p>The programmer was trying to do a typecast.  It should be written like this:</p>\n<pre><code>int i = (int) 2.0;\n</code></pre>\n<hr />\n<pre><code>int[]; letterCount = new int[26];\n</code></pre>\n<p>The programmer has added a spurious semicolon.  It should be written like this:</p>\n<pre><code>int[] letterCount = new int[26];\n</code></pre>\n<hr />\n<pre><code>if (someArray[] &gt; 80) {\n    // ...\n}\n</code></pre>\n<p>The <code>someArray[]</code> denotes a type not an expression.  The programmer probably means something like <code>someArray[someIndex] &gt; 80</code> or <code>someArray.length &gt; 80</code>.</p>\n<hr />\n<pre><code>int[] integers = new int[arraySize];\n...\nreturn integers[];\n</code></pre>\n<p>The <code>integers[]</code> denotes a type declarator but an expression is required.  It should be either</p>\n<pre><code>return integers;             // Return the entire array\n                        \n</code></pre>\n<p>or</p>\n<pre><code>return integers[someIndex];  // Return one element of the array\n</code></pre>\n<hr />\n<pre><code>if ((withdraw % 5 == 0) &amp;&amp; (acnt_balc &gt;= withdraw + 0.50))\n    double cur = acnt_balc - (withdraw + 0.50);\n    System.out.println(cur);\nelse\n    System.out.println(acnt_balc);\n</code></pre>\n<p>The mistake here is that there should be curly brackets around the &quot;then&quot; statements.</p>\n<pre><code>if ((withdraw % 5 == 0) &amp;&amp; (acnt_balc &gt;= withdraw + 0.50)) {\n    double cur = acnt_balc - (withdraw + 0.50);\n    System.out.println(cur);\n} else {\n    System.out.println(acnt_balc);\n}\n</code></pre>\n<p>But the compiler's confusion is that the &quot;then&quot; clause of the &quot;if&quot; cannot be a variable declaration.  So the parser is looking for an expression that could be a method call.  For example, the following would be locally syntactically valid:</p>\n<pre><code>if ((withdraw % 5 == 0) &amp;&amp; (acnt_balc &gt;= withdraw + 0.50))\n    double.class.newInstance();   // no compilation error here\n</code></pre>\n<p>... albeit nonsensical in terms of what it tries to do.  And of course the compiler would then trip over the dangling <code>else</code>.</p>\n"}],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59091,"favorite_count":0,"down_vote_count":3,"up_vote_count":11,"accepted_answer_id":53809879,"answer_count":1,"score":8,"last_activity_date":1687828486,"creation_date":1545027736,"question_id":53809878,"body_markdown":"Occasionally, new users encounter the following rather obscure compilation error message `error: &#39;.class&#39; expected`:\r\n\r\n    double d = 1.9;\r\n    int i = int d;  // error here\r\n             ^\r\n    error: &#39;.class&#39; expected\r\n\r\nSome Java IDE compilers state this slightly differently; e.g.\r\n\r\n    error: insert &quot;. class&quot; to complete Expression \r\n\r\nWhat do errors like this *actually mean*, what causes them, and how should you fix them?","title":"What does &quot;error: &#39;.class&#39; expected&quot; mean and how do I fix it","body":"<p>Occasionally, new users encounter the following rather obscure compilation error message <code>error: '.class' expected</code>:</p>\n<pre><code>double d = 1.9;\nint i = int d;  // error here\n         ^\nerror: '.class' expected\n</code></pre>\n<p>Some Java IDE compilers state this slightly differently; e.g.</p>\n<pre><code>error: insert &quot;. class&quot; to complete Expression \n</code></pre>\n<p>What do errors like this <em>actually mean</em>, what causes them, and how should you fix them?</p>\n"},{"tags":["java","spring","spring-integration","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1475782538,"creation_date":1475782538,"answer_id":39904299,"question_id":39903880,"body_markdown":"You have to add `@EnableKafka` alongside with the `@Configuration`.\r\n\r\nWill [add][1] some description soon.\r\n\r\nMeanwhile:\r\n\r\n    @Configuration\r\n    @EnableKafka\r\n    public class KafkaConsumerConfig {\r\n\r\n  [1]: https://github.com/spring-projects/spring-kafka/issues/189","title":"Spring Integration Kafka Consumer Listener not Receiving messages","body":"<p>You have to add <code>@EnableKafka</code> alongside with the <code>@Configuration</code>.</p>\n\n<p>Will <a href=\"https://github.com/spring-projects/spring-kafka/issues/189\" rel=\"noreferrer\">add</a> some description soon.</p>\n\n<p>Meanwhile:</p>\n\n<pre><code>@Configuration\n@EnableKafka\npublic class KafkaConsumerConfig {\n</code></pre>\n"}],"owner":{"account_id":479869,"reputation":5332,"user_id":892788,"accept_rate":90,"display_name":"diyoda_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12501,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":39904299,"answer_count":1,"score":14,"last_activity_date":1687828393,"creation_date":1475780893,"question_id":39903880,"body_markdown":"According to the documentation provided [here][1], I am trying on a POC to get messages into a listener as mentioned in the [same documentation][1]. Below is how I have written the configuration.\r\n\r\n```java\r\n@Configuration\r\npublic class KafkaConsumerConfig {\r\n\tpublic static final String TEST_TOPIC_ID = &quot;record-stream&quot;;\r\n\r\n\t@Value(&quot;${kafka.topic:&quot; + TEST_TOPIC_ID + &quot;}&quot;)\r\n\tprivate String topic;\r\n\r\n\t@Value(&quot;${kafka.address:localhost:9092}&quot;)\r\n\tprivate String brokerAddress;\r\n\r\n\r\n\t/*\r\n\t  @Bean public KafkaMessageDrivenChannelAdapter&lt;String, String&gt; adapter(\r\n\t  KafkaMessageListenerContainer&lt;String, String&gt; container) {\r\n\t  KafkaMessageDrivenChannelAdapter&lt;String, String&gt;\r\n\t  kafkaMessageDrivenChannelAdapter = new\r\n\t  KafkaMessageDrivenChannelAdapter&lt;&gt;( container, ListenerMode.record);\r\n\t  kafkaMessageDrivenChannelAdapter.setOutputChannel(received()); return\r\n\t  kafkaMessageDrivenChannelAdapter; }\r\n\t  \r\n\t  @Bean public QueueChannel received() { return new QueueChannel(); }\r\n\t */\r\n\r\n\t@Bean\r\n\tpublic KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, String&gt;&gt; kafkaListenerContainerFactory() {\r\n\t\tConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n\t\tfactory.setConsumerFactory(consumerFactory());\r\n\t\tfactory.setConcurrency(3);\r\n\t\tfactory.getContainerProperties().setPollTimeout(30000);\r\n\t\treturn factory;\r\n\t}\r\n\r\n\t/*\r\n\t * @Bean public KafkaMessageListenerContainer&lt;String, String&gt; container()\r\n\t * throws Exception { ContainerProperties properties = new\r\n\t * ContainerProperties(this.topic); // set more properties return new\r\n\t * KafkaMessageListenerContainer&lt;&gt;(consumerFactory(), properties); }\r\n\t */\r\n\r\n\t@Bean\r\n\tpublic ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n\t\tMap&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n\t\tprops.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, this.brokerAddress);\r\n\t\t// props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;mygroup&quot;);\r\n\t\tprops.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;); // earliest\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// smallest\r\n\t\tprops.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, true);\r\n\t\tprops.put(ConsumerConfig.AUTO_COMMIT_INTERVAL_MS_CONFIG, &quot;100&quot;);\r\n\t\tprops.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, &quot;15000&quot;);\r\n\t\tprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\t\tprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\t\treturn new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n\t}\r\n}\r\n```\r\n\r\nand Listener is as below:\r\n\r\n\r\n```java\r\n@Service\r\npublic class Listener {\r\n\tprivate Logger log = Logger.getLogger(Listener.class);\r\n\r\n\t@KafkaListener(topicPattern = KafkaConsumerConfig.TEST_TOPIC_ID, containerFactory = &quot;kafkaListenerContainerFactory&quot;)\r\n\tpublic void process(String message/* , Acknowledgment ack */) {\r\n\t\tGson gson = new Gson();\r\n\t\tRecord record = gson.fromJson(message, Record.class);\r\n\r\n\t\tlog.info(record.getId() + &quot; &quot; + record.getName());\r\n\t\t// ack.acknowledge();\r\n\t}\r\n}\r\n```\r\n\r\nEven though I am producing messages to the same topic and this consumer is working on the same topic, Listener is not executing. \r\n\r\nI am running Kafka 0.10.0.1, and here is my current pom. This consumer is working as a spring boot web application unlike many command line samples.\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-integration-kafka&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-integration-java-dsl&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nI have spent a good amount of time to figure out why this listener is not getting hit when the topic has messages, what is it I am doing wrong. \r\n\r\nI know that I can receive the messages using a channel (I have commented configuration part of that out in the code), but here the concurrency is handle clean. \r\n\r\nIs this kind of implementation is possible with a async message consumption. \r\n\r\n\r\n  [1]: http://docs.spring.io/spring-kafka/docs/1.1.1.RELEASE/reference/html/_reference.html","title":"Spring Integration Kafka Consumer Listener not Receiving messages","body":"<p>According to the documentation provided <a href=\"http://docs.spring.io/spring-kafka/docs/1.1.1.RELEASE/reference/html/_reference.html\" rel=\"nofollow noreferrer\">here</a>, I am trying on a POC to get messages into a listener as mentioned in the <a href=\"http://docs.spring.io/spring-kafka/docs/1.1.1.RELEASE/reference/html/_reference.html\" rel=\"nofollow noreferrer\">same documentation</a>. Below is how I have written the configuration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class KafkaConsumerConfig {\n    public static final String TEST_TOPIC_ID = &quot;record-stream&quot;;\n\n    @Value(&quot;${kafka.topic:&quot; + TEST_TOPIC_ID + &quot;}&quot;)\n    private String topic;\n\n    @Value(&quot;${kafka.address:localhost:9092}&quot;)\n    private String brokerAddress;\n\n\n    /*\n      @Bean public KafkaMessageDrivenChannelAdapter&lt;String, String&gt; adapter(\n      KafkaMessageListenerContainer&lt;String, String&gt; container) {\n      KafkaMessageDrivenChannelAdapter&lt;String, String&gt;\n      kafkaMessageDrivenChannelAdapter = new\n      KafkaMessageDrivenChannelAdapter&lt;&gt;( container, ListenerMode.record);\n      kafkaMessageDrivenChannelAdapter.setOutputChannel(received()); return\n      kafkaMessageDrivenChannelAdapter; }\n      \n      @Bean public QueueChannel received() { return new QueueChannel(); }\n     */\n\n    @Bean\n    public KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, String&gt;&gt; kafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        factory.setConcurrency(3);\n        factory.getContainerProperties().setPollTimeout(30000);\n        return factory;\n    }\n\n    /*\n     * @Bean public KafkaMessageListenerContainer&lt;String, String&gt; container()\n     * throws Exception { ContainerProperties properties = new\n     * ContainerProperties(this.topic); // set more properties return new\n     * KafkaMessageListenerContainer&lt;&gt;(consumerFactory(), properties); }\n     */\n\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, this.brokerAddress);\n        // props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;mygroup&quot;);\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;); // earliest\n                                                                        // smallest\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, true);\n        props.put(ConsumerConfig.AUTO_COMMIT_INTERVAL_MS_CONFIG, &quot;100&quot;);\n        props.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, &quot;15000&quot;);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n    }\n}\n</code></pre>\n<p>and Listener is as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class Listener {\n    private Logger log = Logger.getLogger(Listener.class);\n\n    @KafkaListener(topicPattern = KafkaConsumerConfig.TEST_TOPIC_ID, containerFactory = &quot;kafkaListenerContainerFactory&quot;)\n    public void process(String message/* , Acknowledgment ack */) {\n        Gson gson = new Gson();\n        Record record = gson.fromJson(message, Record.class);\n\n        log.info(record.getId() + &quot; &quot; + record.getName());\n        // ack.acknowledge();\n    }\n}\n</code></pre>\n<p>Even though I am producing messages to the same topic and this consumer is working on the same topic, Listener is not executing.</p>\n<p>I am running Kafka 0.10.0.1, and here is my current pom. This consumer is working as a spring boot web application unlike many command line samples.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-integration-kafka&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-integration-java-dsl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n<p>I have spent a good amount of time to figure out why this listener is not getting hit when the topic has messages, what is it I am doing wrong.</p>\n<p>I know that I can receive the messages using a channel (I have commented configuration part of that out in the code), but here the concurrency is handle clean.</p>\n<p>Is this kind of implementation is possible with a async message consumption.</p>\n"},{"tags":["java","intellij-idea","module"],"answers":[{"tags":[],"owner":{"account_id":7577131,"reputation":127,"user_id":5749128,"display_name":"AlexHomeBrew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634244199,"creation_date":1634244199,"answer_id":69577114,"question_id":69547646,"body_markdown":"This problem was resolved by putting the module-info.java in the right directory.  This is poorly documented and was found by trial and error.\r\nThe right directory is api:\r\n\r\n    module apimodule\r\n    {\r\n        exports com.company.feature;\r\n    }\r\n\r\nand home:\r\n\r\n    module homemodule\r\n    {\r\n        requires apimodule;\r\n    }\r\n\r\nIt appears that once the module-info.java files are in place, the Runnable1.java doesn&#39;t need the import statements, since the imported package is the same as the local one.","title":"Error: package exists in another module: com.company.feature.apimodule in Intellij","body":"<p>This problem was resolved by putting the module-info.java in the right directory.  This is poorly documented and was found by trial and error.\nThe right directory is api:</p>\n<pre><code>module apimodule\n{\n    exports com.company.feature;\n}\n</code></pre>\n<p>and home:</p>\n<pre><code>module homemodule\n{\n    requires apimodule;\n}\n</code></pre>\n<p>It appears that once the module-info.java files are in place, the Runnable1.java doesn't need the import statements, since the imported package is the same as the local one.</p>\n"},{"tags":[],"owner":{"account_id":7577131,"reputation":127,"user_id":5749128,"display_name":"AlexHomeBrew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687827249,"creation_date":1687827249,"answer_id":76560994,"question_id":69547646,"body_markdown":"@foo You are correct. The real solution is to not allow duplicate package names in different modules. This is not good coding practice but hey, I inherited it and this solution forced me to clean it up.\r\n\r\nI solved this problem by renaming 5 packages to unique names and updating hundreds of import statements. Though tedious, it was relatively brainless work.\r\n\r\nSince the modules identify things inside their `src` directory, they don&#39;t know which package is being referred to, the one in `api.src` or `home.src`.\r\n\r\nI should have come back and updated this question, so thanks again @foo for reminding me.","title":"Error: package exists in another module: com.company.feature.apimodule in Intellij","body":"<p>@foo You are correct. The real solution is to not allow duplicate package names in different modules. This is not good coding practice but hey, I inherited it and this solution forced me to clean it up.</p>\n<p>I solved this problem by renaming 5 packages to unique names and updating hundreds of import statements. Though tedious, it was relatively brainless work.</p>\n<p>Since the modules identify things inside their <code>src</code> directory, they don't know which package is being referred to, the one in <code>api.src</code> or <code>home.src</code>.</p>\n<p>I should have come back and updated this question, so thanks again @foo for reminding me.</p>\n"}],"owner":{"account_id":7577131,"reputation":127,"user_id":5749128,"display_name":"AlexHomeBrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1823,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76560994,"answer_count":2,"score":3,"last_activity_date":1687827249,"creation_date":1634077482,"question_id":69547646,"body_markdown":"I created a small project in Intellij Idea to mimic what I am seeing trying to migrate a large legacy codebase to OPENJDK16.  Here is the directory structure:\r\n\r\n    $ tree \r\n    /cygdrive/c/projects/play\r\n     |--api\r\n     |----api.iml\r\n     |----src\r\n     |------module-info.java (module com.company.feature.apimodule)\r\n     |------com\r\n     |--------company\r\n     |----------feature\r\n     |------------ApiRunnable.java\r\n     |--home\r\n     |----home.iml\r\n     |----src\r\n     |------module-info.java (module com.company.feature.homemodule)\r\n     |------com\r\n     |--------company\r\n     |----------feature\r\n     |------------Runnable1.java\r\n     |--Modules\r\n     |----.idea (Idea stuff in here)\r\n     |----out\r\n     |------production\r\n     |--------api\r\n     |--------home\r\n\r\n    module com.company.feature.apimodule\r\n    {\r\n        exports com.company.feature;\r\n    }\r\n\r\n    package com.company.feature;\r\n    public interface ApiRunnable\r\n    {\r\n        public void play(String[] strings);\r\n    }\r\n\r\n    module com.company.feature.homemodule\r\n    {\r\n        requires com.company.feature.apimodule;       //Error Module not found\r\n    //    requires apimodule;                         //Error Module not found\r\n    //    requires com.company.feature.ApiRunnable;   //Error Module not found\r\n    }\r\n\r\n    package com.company.feature;\r\n    public class Runnable1 implements ApiRunnable\r\n    {\r\n        @Override\r\n        public void play(String[] strings)\r\n        {\r\n            int count = 1;\r\n            for (String str : strings)\r\n            {\r\n                System.out.println(&quot;String &quot; + count++ + &quot; &quot; + str);\r\n            }\r\n        }\r\n        public static void main(String[] args)\r\n        {\r\n            Runnable1 myRun = new Runnable1();\r\n            myRun.play(args);\r\n        }\r\n    }\r\n\r\n\r\nNote the directory structure is identical in api and home.  This is intentional as my legacy codebase has this structure.  This small example seems to duplicate the problems I am having and I can&#39;t figure out if the structure is the problem.  It did compile and run fine using the unnamed-module.\r\n\r\nError #1 when doing a rebuild\r\n\r\n    C:\\Projects\\play\\home\\src\\com\\company\\feature\\Runnable1.java\r\n    java: package exists in another module: com.company.feature.apimodule\r\n\r\nDoes this mean that I can&#39;t have identical package trees in api and home?\r\n\r\nError #2\r\n\r\nThe homemodule cannot see the apimodule, I keep getting (Module not found) no matter what I put in the requires line.\r\n\r\nIs this related to Error #1?  If not, how do I fix this without resorting to the unnamed module for everything?\r\n\r\n","title":"Error: package exists in another module: com.company.feature.apimodule in Intellij","body":"<p>I created a small project in Intellij Idea to mimic what I am seeing trying to migrate a large legacy codebase to OPENJDK16.  Here is the directory structure:</p>\n<pre><code>$ tree \n/cygdrive/c/projects/play\n |--api\n |----api.iml\n |----src\n |------module-info.java (module com.company.feature.apimodule)\n |------com\n |--------company\n |----------feature\n |------------ApiRunnable.java\n |--home\n |----home.iml\n |----src\n |------module-info.java (module com.company.feature.homemodule)\n |------com\n |--------company\n |----------feature\n |------------Runnable1.java\n |--Modules\n |----.idea (Idea stuff in here)\n |----out\n |------production\n |--------api\n |--------home\n\nmodule com.company.feature.apimodule\n{\n    exports com.company.feature;\n}\n\npackage com.company.feature;\npublic interface ApiRunnable\n{\n    public void play(String[] strings);\n}\n\nmodule com.company.feature.homemodule\n{\n    requires com.company.feature.apimodule;       //Error Module not found\n//    requires apimodule;                         //Error Module not found\n//    requires com.company.feature.ApiRunnable;   //Error Module not found\n}\n\npackage com.company.feature;\npublic class Runnable1 implements ApiRunnable\n{\n    @Override\n    public void play(String[] strings)\n    {\n        int count = 1;\n        for (String str : strings)\n        {\n            System.out.println(&quot;String &quot; + count++ + &quot; &quot; + str);\n        }\n    }\n    public static void main(String[] args)\n    {\n        Runnable1 myRun = new Runnable1();\n        myRun.play(args);\n    }\n}\n</code></pre>\n<p>Note the directory structure is identical in api and home.  This is intentional as my legacy codebase has this structure.  This small example seems to duplicate the problems I am having and I can't figure out if the structure is the problem.  It did compile and run fine using the unnamed-module.</p>\n<p>Error #1 when doing a rebuild</p>\n<pre><code>C:\\Projects\\play\\home\\src\\com\\company\\feature\\Runnable1.java\njava: package exists in another module: com.company.feature.apimodule\n</code></pre>\n<p>Does this mean that I can't have identical package trees in api and home?</p>\n<p>Error #2</p>\n<p>The homemodule cannot see the apimodule, I keep getting (Module not found) no matter what I put in the requires line.</p>\n<p>Is this related to Error #1?  If not, how do I fix this without resorting to the unnamed module for everything?</p>\n"},{"tags":["java","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1686907783,"post_id":76488734,"comment_id":134866023,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1686907800,"post_id":76488734,"comment_id":134866027,"body_markdown":"If you understand Kotlin, I think that this [resource](https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-email-and-password-in-jetpack-compose-bd70ca56ea91) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseSignInWithEmailAndPassword).","body":"If you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-email-and-password-in-jetpack-compose-bd70ca56ea91\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseSignInWithEmailAndPassword\" rel=\"nofollow noreferrer\">repo</a>."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1686932897,"post_id":76488734,"comment_id":134871428,"body_markdown":"If you run this code in the `onCreate` of your main activity, does anything show up in the database? `FirebaseDatabase.getInstance().getReference(&quot;test&quot;).setValue(true);` If not, the rest of your code likely doesn&#39;t matter.","body":"If you run this code in the <code>onCreate</code> of your main activity, does anything show up in the database? <code>FirebaseDatabase.getInstance().getReference(&quot;test&quot;).setValue&zwnj;&#8203;(true);</code> If not, the rest of your code likely doesn&#39;t matter."}],"owner":{"account_id":28242847,"reputation":11,"user_id":21590375,"display_name":"prog "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687826332,"creation_date":1686907179,"question_id":76488734,"body_markdown":"I&#39;m having trouble sending user data from the sign-up activity code to real-time. I&#39;ve tried different approaches and made sure all connections are correct, but the information is still not reaching real-time. The Gmail I&#39;m using only reaches authentication. I suspect the issue is with my code. Here are the relevant code snippets: \r\n\r\njava sign up \r\n\r\n    private FirebaseAuth mAuth;\r\n    private FirebaseAuth.AuthStateListener authStateListener;\r\n\r\n    ActivitySignUpBinding binding;\r\n    DatabaseReference usersRef = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\r\n\r\n    ProgressDialog dialog;\r\n    EditText emailEditText;\r\n    EditText passwordEditText;\r\n    EditText phoneEditText;\r\n    EditText firstNameEditText;\r\n    EditText lastNameEditText;\r\n    EditText CompassE;\r\n    private String email;\r\n    private String password;\r\n    private String phone;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String repass;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sign_up);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        dialog = new ProgressDialog(sign_up.this);\r\n        dialog.setTitle(&quot;Created Account&quot;);\r\n        dialog.setMessage(&quot;We created your account&quot;);\r\n\r\n        binding = ActivitySignUpBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        emailEditText = binding.Textemail;\r\n        passwordEditText = binding.Textpass;\r\n        phoneEditText = binding.Textphone;\r\n        firstNameEditText = binding.Textname;\r\n        lastNameEditText = binding.Textlast;\r\n        CompassE = binding.repass;\r\n\r\n\r\n\r\n\r\n        findViewById(R.id.button1).setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                email = emailEditText.getText().toString().trim();\r\n                password = passwordEditText.getText().toString().trim();\r\n                phone = phoneEditText.getText().toString().trim();\r\n                firstName = firstNameEditText.getText().toString().trim();\r\n                lastName = lastNameEditText.getText().toString().trim();\r\n                repass = CompassE.getText().toString().trim();\r\n\r\n                \r\n\r\n                // Registration logic\r\n                mAuth.createUserWithEmailAndPassword(email, password)\r\n                        .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                                if (task.isSuccessful()) {\r\n                                    String userId = mAuth.getCurrentUser().getUid();\r\n                                    String email = emailEditText.getText().toString();\r\n                                    String refer = email.substring(0, email.lastIndexOf(&quot;@&quot;));\r\n                                    String referCode = refer.replace(&quot;.&quot;, &quot;&quot;);\r\n\r\n                                    DatabaseReference usersRef = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\r\n\r\n                                    HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n                                    map.put(&quot;name&quot;, firstNameEditText.getText().toString());\r\n                                    map.put(&quot;phone&quot;, phoneEditText.getText().toString());\r\n                                    map.put(&quot;mail&quot;, emailEditText.getText().toString());\r\n                                    map.put(&quot;password&quot;, passwordEditText.getText().toString());\r\n                                    map.put(&quot;refer code&quot;, referCode);\r\n                                    map.put(&quot;profile&quot;, &quot;https://firebasestorage.googleapis.com/v0/b/escar-95491.appspot.com/o/placeholder.png?alt=media&amp;token=92d82a11-fb0e-4476-9170-a4b99b8baa13\\n&quot;);\r\n                                    map.put(&quot;cis&quot;, 20);\r\n                                    map.put(&quot;sps&quot;, 4);\r\n\r\n\r\n                                    // Send the data to the database\r\n                                    usersRef.child(mAuth.getCurrentUser().getUid()).setValue(map);\r\n\r\n                                    Intent intent = new Intent(sign_up.this, testMain.class);\r\n                                    startActivity(intent);\r\n                                    finish();\r\n\r\n                                    Toast.makeText(sign_up.this, &quot;Your account has been created&quot;, Toast.LENGTH_SHORT).show();\r\n                                    DatabaseReference databaseRef = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\r\n                                    databaseRef.child(mAuth.getCurrentUser().getUid()).setValue(map);\r\n\r\n                                } else {\r\n                                    Toast.makeText(sign_up.this, &quot;Error: &quot; + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                        });\r\n            }\r\n\r\n        });\r\n\r\n\r\nusers java class\r\n\r\n```\r\npublic class User {\r\n\r\n    String name,email,password,refercode,profile,cis,sps,phone;\r\n\r\n    public User(String name,String email,String password,String refercode,String profile,String cis,String sps,String phone){\r\n\r\n        this.name=name;\r\n        this.email=email;\r\n        this.password=password;\r\n        this.refercode=refercode;\r\n        this.profile=profile;\r\n        this.cis=cis;\r\n        this.sps=sps;\r\n        this.phone=phone;\r\n    }\r\n\r\n    public User() {\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public String getRefercode() {\r\n        return refercode;\r\n    }\r\n    public void setRefercode(String refercode) {\r\n        this.refercode = refercode;\r\n    }\r\n    public String getProfile() {\r\n        return profile;\r\n    }\r\n    public void setProfile(String profile) {\r\n        this.profile = profile;\r\n    }\r\n    public String getCis() {\r\n        return cis;\r\n    }\r\n    public void setCis(String cis) {\r\n        this.cis = cis;\r\n    }\r\n    public String getSps() {\r\n        return sps;\r\n    }\r\n    public void setSps(String sps) {\r\n        this.sps = sps;\r\n    }\r\n    public String getPhone() {\r\n        return phone;\r\n    }\r\n    public void setPhone(String phone) {\r\n        this.phone = phone;\r\n    }\r\n}\r\n```\r\n\r\nthe security rules:\r\n```\r\n{\r\n  &quot;rules&quot;: {\r\n    &quot;.read&quot;: true,\r\n    &quot;.write&quot;: true\r\n  }\r\n}\r\n```\r\n\r\n![enter image description here](https://i.stack.imgur.com/Wb5YL.png)","title":"my firebase real time is null and i need help to solve this problem in my code","body":"<p>I'm having trouble sending user data from the sign-up activity code to real-time. I've tried different approaches and made sure all connections are correct, but the information is still not reaching real-time. The Gmail I'm using only reaches authentication. I suspect the issue is with my code. Here are the relevant code snippets:</p>\n<p>java sign up</p>\n<pre><code>private FirebaseAuth mAuth;\nprivate FirebaseAuth.AuthStateListener authStateListener;\n\nActivitySignUpBinding binding;\nDatabaseReference usersRef = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\n\nProgressDialog dialog;\nEditText emailEditText;\nEditText passwordEditText;\nEditText phoneEditText;\nEditText firstNameEditText;\nEditText lastNameEditText;\nEditText CompassE;\nprivate String email;\nprivate String password;\nprivate String phone;\nprivate String firstName;\nprivate String lastName;\nprivate String repass;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_sign_up);\n\n    mAuth = FirebaseAuth.getInstance();\n    dialog = new ProgressDialog(sign_up.this);\n    dialog.setTitle(&quot;Created Account&quot;);\n    dialog.setMessage(&quot;We created your account&quot;);\n\n    binding = ActivitySignUpBinding.inflate(getLayoutInflater());\n    setContentView(binding.getRoot());\n\n    emailEditText = binding.Textemail;\n    passwordEditText = binding.Textpass;\n    phoneEditText = binding.Textphone;\n    firstNameEditText = binding.Textname;\n    lastNameEditText = binding.Textlast;\n    CompassE = binding.repass;\n\n\n\n\n    findViewById(R.id.button1).setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            email = emailEditText.getText().toString().trim();\n            password = passwordEditText.getText().toString().trim();\n            phone = phoneEditText.getText().toString().trim();\n            firstName = firstNameEditText.getText().toString().trim();\n            lastName = lastNameEditText.getText().toString().trim();\n            repass = CompassE.getText().toString().trim();\n\n            \n\n            // Registration logic\n            mAuth.createUserWithEmailAndPassword(email, password)\n                    .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n                        @Override\n                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                            if (task.isSuccessful()) {\n                                String userId = mAuth.getCurrentUser().getUid();\n                                String email = emailEditText.getText().toString();\n                                String refer = email.substring(0, email.lastIndexOf(&quot;@&quot;));\n                                String referCode = refer.replace(&quot;.&quot;, &quot;&quot;);\n\n                                DatabaseReference usersRef = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\n\n                                HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n                                map.put(&quot;name&quot;, firstNameEditText.getText().toString());\n                                map.put(&quot;phone&quot;, phoneEditText.getText().toString());\n                                map.put(&quot;mail&quot;, emailEditText.getText().toString());\n                                map.put(&quot;password&quot;, passwordEditText.getText().toString());\n                                map.put(&quot;refer code&quot;, referCode);\n                                map.put(&quot;profile&quot;, &quot;https://firebasestorage.googleapis.com/v0/b/escar-95491.appspot.com/o/placeholder.png?alt=media&amp;token=92d82a11-fb0e-4476-9170-a4b99b8baa13\\n&quot;);\n                                map.put(&quot;cis&quot;, 20);\n                                map.put(&quot;sps&quot;, 4);\n\n\n                                // Send the data to the database\n                                usersRef.child(mAuth.getCurrentUser().getUid()).setValue(map);\n\n                                Intent intent = new Intent(sign_up.this, testMain.class);\n                                startActivity(intent);\n                                finish();\n\n                                Toast.makeText(sign_up.this, &quot;Your account has been created&quot;, Toast.LENGTH_SHORT).show();\n                                DatabaseReference databaseRef = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\n                                databaseRef.child(mAuth.getCurrentUser().getUid()).setValue(map);\n\n                            } else {\n                                Toast.makeText(sign_up.this, &quot;Error: &quot; + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                    });\n        }\n\n    });\n</code></pre>\n<p>users java class</p>\n<pre><code>public class User {\n\n    String name,email,password,refercode,profile,cis,sps,phone;\n\n    public User(String name,String email,String password,String refercode,String profile,String cis,String sps,String phone){\n\n        this.name=name;\n        this.email=email;\n        this.password=password;\n        this.refercode=refercode;\n        this.profile=profile;\n        this.cis=cis;\n        this.sps=sps;\n        this.phone=phone;\n    }\n\n    public User() {\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getEmail() {\n        return email;\n    }\n    public void setEmail(String email) {\n        this.email = email;\n    }\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getRefercode() {\n        return refercode;\n    }\n    public void setRefercode(String refercode) {\n        this.refercode = refercode;\n    }\n    public String getProfile() {\n        return profile;\n    }\n    public void setProfile(String profile) {\n        this.profile = profile;\n    }\n    public String getCis() {\n        return cis;\n    }\n    public void setCis(String cis) {\n        this.cis = cis;\n    }\n    public String getSps() {\n        return sps;\n    }\n    public void setSps(String sps) {\n        this.sps = sps;\n    }\n    public String getPhone() {\n        return phone;\n    }\n    public void setPhone(String phone) {\n        this.phone = phone;\n    }\n}\n</code></pre>\n<p>the security rules:</p>\n<pre><code>{\n  &quot;rules&quot;: {\n    &quot;.read&quot;: true,\n    &quot;.write&quot;: true\n  }\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/Wb5YL.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","lombok","object-construction"],"comments":[{"owner":{"account_id":294087,"reputation":6941,"user_id":597770,"display_name":"iluxa"},"score":2,"creation_date":1568154669,"post_id":57878786,"comment_id":102182500,"body_markdown":"...bite the bullet and write your own constructor?","body":"...bite the bullet and write your own constructor?"},{"owner":{"account_id":15740718,"reputation":21,"user_id":11358227,"display_name":"Techno Freak"},"score":0,"creation_date":1568154798,"post_id":57878786,"comment_id":102182526,"body_markdown":"what if I have many fields? It&#39;ll be annoying to write the constructor myself(and use @Getter).. Are you sure that there&#39;s no feature to add some code(like a method) which would be applied to created Object?","body":"what if I have many fields? It&#39;ll be annoying to write the constructor myself(and use @Getter).. Are you sure that there&#39;s no feature to add some code(like a method) which would be applied to created Object?"},{"owner":{"account_id":294087,"reputation":6941,"user_id":597770,"display_name":"iluxa"},"score":0,"creation_date":1568155881,"post_id":57878786,"comment_id":102182734,"body_markdown":"as per https://stackoverflow.com/questions/41156010/is-there-any-postconstruct-feature-of-lombok and https://github.com/rzwitserloot/lombok/issues/1207, it&#39;s not a thing","body":"as per <a href=\"https://stackoverflow.com/questions/41156010/is-there-any-postconstruct-feature-of-lombok\" title=\"is there any postconstruct feature of lombok\">stackoverflow.com/questions/41156010/&hellip;</a> and <a href=\"https://github.com/rzwitserloot/lombok/issues/1207\" rel=\"nofollow noreferrer\">github.com/rzwitserloot/lombok/issues/1207</a>, it&#39;s not a thing"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1568168489,"post_id":57878786,"comment_id":102185715,"body_markdown":"Annoying?  How long do you think it will take?  More than 15 minutes?","body":"Annoying?  How long do you think it will take?  More than 15 minutes?"},{"owner":{"account_id":15740718,"reputation":21,"user_id":11358227,"display_name":"Techno Freak"},"score":0,"creation_date":1568264007,"post_id":57878786,"comment_id":102220500,"body_markdown":"Readability? duh?","body":"Readability? duh?"},{"owner":{"account_id":11356216,"reputation":2637,"user_id":8325761,"display_name":"bubbles"},"score":0,"creation_date":1568546151,"post_id":57878786,"comment_id":102301219,"body_markdown":"You can bypass the constructor and write something like :  `private int id = IDCounter.incrementAndGet();`","body":"You can bypass the constructor and write something like :  <code>private int id = IDCounter.incrementAndGet();</code>"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687822396,"creation_date":1687822396,"answer_id":76560789,"question_id":57878786,"body_markdown":"Add an initialisation block:\r\n\r\n```\r\n@AllArgsConstructor\r\nclass MyClass {\r\n    static int idsCounter = 0;\r\n    private int id;\r\n    // other fields\r\n    \r\n    {\r\n        id = ++idsCounter;\r\n    }\r\n}\r\n```\r\n\r\nThis block runs after the constructor.\r\n\r\nIt&#39;s not a perfect solution because you&#39;ll have to provide a value for `id`, but just provide `0` as it will be overridden by the code in the block.","title":"Lombok: How to define a special method which runs upon the Object construction?","body":"<p>Add an initialisation block:</p>\n<pre><code>@AllArgsConstructor\nclass MyClass {\n    static int idsCounter = 0;\n    private int id;\n    // other fields\n    \n    {\n        id = ++idsCounter;\n    }\n}\n</code></pre>\n<p>This block runs after the constructor.</p>\n<p>It's not a perfect solution because you'll have to provide a value for <code>id</code>, but just provide <code>0</code> as it will be overridden by the code in the block.</p>\n"}],"owner":{"account_id":15740718,"reputation":21,"user_id":11358227,"display_name":"Techno Freak"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":996,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687822396,"creation_date":1568153357,"question_id":57878786,"body_markdown":"I have a `@Value @AllArgsConstructor` class, and I want each instance of it to have an ID(The first object has the ID of 1, the second is 2, etc..).\r\nuntil now, before I used lombok but a constructor, my solution used to be:\r\n`private static int idsCounter = 0;` and then\r\n`this.id = ++idsCounter;` inside the constructor.\r\n\r\nso how am I supposed to implement this with Lombok which eliminates the constuctor?","title":"Lombok: How to define a special method which runs upon the Object construction?","body":"<p>I have a <code>@Value @AllArgsConstructor</code> class, and I want each instance of it to have an ID(The first object has the ID of 1, the second is 2, etc..).\nuntil now, before I used lombok but a constructor, my solution used to be:\n<code>private static int idsCounter = 0;</code> and then\n<code>this.id = ++idsCounter;</code> inside the constructor.</p>\n\n<p>so how am I supposed to implement this with Lombok which eliminates the constuctor?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687821936,"creation_date":1687821551,"answer_id":76560758,"question_id":76560672,"body_markdown":"You are mixing up array and String syntax. There is no `[index]` notation for String in Java, you need to use `charAt`. Also, Java is case-sensitive, you must uses `String`, not `string`.\r\n\r\nI&#39;ve also fixed some other things, like a missing parens, and the conversion to `char`.\r\n\r\n```java\r\nimport java.util.*; \r\nimport java.io.*;\r\n\r\nclass Main {\r\n    public static String numberStream(String str) {\r\n        if (str.length() == 1)\r\n        {\r\n            return &quot;false&quot;;\r\n        } \r\n        String temp = &quot;&quot;;\r\n        temp += str.charAt(0);\r\n        for (int x = 1; x &lt; str.length(); x++)\r\n        {\r\n            if (temp.length() == 0)\r\n            {\r\n                temp = temp + str.charAt(x);\r\n                continue;\r\n            }\r\n            if (str.charAt(x) == temp.charAt(0))\r\n            {\r\n                temp += str.charAt(x);\r\n            }\r\n            else\r\n            {\r\n                temp = &quot;&quot;;\r\n            }\r\n            if (temp.length() &gt; 1 &amp;&amp; (char) (temp.length() + 48) == temp.charAt(0))\r\n            {\r\n                return &quot;true&quot;;         \r\n            }\r\n        }\r\n        return &quot;false&quot;;\r\n    }\r\n\r\n    public static void main (String[] args) {    \r\n        Scanner s = new Scanner(System.in);\r\n        System.out.print(numberStream(s.nextLine())); \r\n    }\r\n}\r\n```\r\n\r\nAlso note that your code seems to be wrong for the input `&quot;1&quot;` --- shouldn&#39;t that get a &quot;true&quot;? Your code prints &quot;false&quot;.\r\n\r\nYou could also use Java&#39;s [indexOf][1] function to find a String in a String:\r\n\r\n```\r\npublic class Main {\r\n    public static String consecutiveDigits(String s) {\r\n        String[] digitStrings = {&quot;1&quot;, &quot;22&quot;, &quot;333&quot;, &quot;4444&quot;, &quot;55555&quot;, &quot;666666&quot;, &quot;7777777&quot;, &quot;88888888&quot;, &quot;999999999&quot;};\r\n        for (String digits : digitStrings) {\r\n            if (s.indexOf(digits) &gt; -1) {\r\n                return &quot;true&quot;;\r\n            }\r\n        }\r\n        return &quot;false&quot;;\r\n    }\r\n\r\n    public static void main (String[] args) {    \r\n        for (String a : args) {\r\n            System.out.println(a + &quot;: &quot; + consecutiveDigits(a));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis version of the code takes the test inputs on the command line (this makes it easier to run the previous command without having to type all the inputs again):\r\n\r\n```none\r\njava Main.java 33345 3456 1234 2342255897\r\n33345: true\r\n3456: false\r\n1234: true\r\n2342255897: true\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/String.html#indexOf(java.lang.String)","title":"Nort sure about error in Number Stream Coderbyte Java","body":"<p>You are mixing up array and String syntax. There is no <code>[index]</code> notation for String in Java, you need to use <code>charAt</code>. Also, Java is case-sensitive, you must uses <code>String</code>, not <code>string</code>.</p>\n<p>I've also fixed some other things, like a missing parens, and the conversion to <code>char</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*; \nimport java.io.*;\n\nclass Main {\n    public static String numberStream(String str) {\n        if (str.length() == 1)\n        {\n            return &quot;false&quot;;\n        } \n        String temp = &quot;&quot;;\n        temp += str.charAt(0);\n        for (int x = 1; x &lt; str.length(); x++)\n        {\n            if (temp.length() == 0)\n            {\n                temp = temp + str.charAt(x);\n                continue;\n            }\n            if (str.charAt(x) == temp.charAt(0))\n            {\n                temp += str.charAt(x);\n            }\n            else\n            {\n                temp = &quot;&quot;;\n            }\n            if (temp.length() &gt; 1 &amp;&amp; (char) (temp.length() + 48) == temp.charAt(0))\n            {\n                return &quot;true&quot;;         \n            }\n        }\n        return &quot;false&quot;;\n    }\n\n    public static void main (String[] args) {    \n        Scanner s = new Scanner(System.in);\n        System.out.print(numberStream(s.nextLine())); \n    }\n}\n</code></pre>\n<p>Also note that your code seems to be wrong for the input <code>&quot;1&quot;</code> --- shouldn't that get a &quot;true&quot;? Your code prints &quot;false&quot;.</p>\n<p>You could also use Java's <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/String.html#indexOf(java.lang.String)\" rel=\"nofollow noreferrer\">indexOf</a> function to find a String in a String:</p>\n<pre><code>public class Main {\n    public static String consecutiveDigits(String s) {\n        String[] digitStrings = {&quot;1&quot;, &quot;22&quot;, &quot;333&quot;, &quot;4444&quot;, &quot;55555&quot;, &quot;666666&quot;, &quot;7777777&quot;, &quot;88888888&quot;, &quot;999999999&quot;};\n        for (String digits : digitStrings) {\n            if (s.indexOf(digits) &gt; -1) {\n                return &quot;true&quot;;\n            }\n        }\n        return &quot;false&quot;;\n    }\n\n    public static void main (String[] args) {    \n        for (String a : args) {\n            System.out.println(a + &quot;: &quot; + consecutiveDigits(a));\n        }\n    }\n}\n</code></pre>\n<p>This version of the code takes the test inputs on the command line (this makes it easier to run the previous command without having to type all the inputs again):</p>\n<pre class=\"lang-none prettyprint-override\"><code>java Main.java 33345 3456 1234 2342255897\n33345: true\n3456: false\n1234: true\n2342255897: true\n</code></pre>\n"}],"owner":{"account_id":16925500,"reputation":33,"user_id":12241196,"display_name":"lin_s"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76560758,"answer_count":1,"score":-1,"last_activity_date":1687821936,"creation_date":1687819804,"question_id":76560672,"body_markdown":"The problem:\r\nHave the function NumberStream(str) take the str parameter being passed which will contain the numbers 2 through 9, and determine if there is a consecutive stream of digits of at least N length where N is the actual digit value. If so, return the string true, otherwise return the string false. For example: if str is &quot;6539923335&quot; then your program should return the string true because there is a consecutive stream of 3&#39;s of length 3. The input string will always contain at least one digit. \r\n\r\nError message:\r\nMain.java:29: error: &#39;.class&#39; expected\r\n      if (temp.length()&gt;1 &amp;&amp; char(temp.length() + 48 == temp[0])\r\n                                 ^\r\nMain.java:29: error: &#39;;&#39; expected\r\n      if (temp.length()&gt;1 &amp;&amp; char(temp.length() + 48 == temp[0])\r\n\r\n\r\nCan anyone help solve this errors? I am new to Java\r\n\r\nMy solution:\r\n```\r\nmport java.util.*; \r\nimport java.io.*;\r\n\r\nclass Main {\r\n\r\n  public static String NumberStream(String str) {\r\n    // code goes here\r\n    if (str.length()==1)\r\n    {\r\n            return &quot;false&quot;;\r\n    } \r\n    string temp = &quot;&quot;;\r\n    temp +=str[0];\r\n    for (int x =1; x&lt;str.length();x++)\r\n    {\r\n      if (temp.empty())\r\n      {\r\n        temp.push_back(str[x]);\r\n        continue;\r\n      }\r\n      if (str[x] ==temp[0])\r\n      {\r\n        temp +=str[x];\r\n      }\r\n      else\r\n      {\r\n        temp.clear();\r\n      }\r\n      if (temp.length()&gt;1 &amp;&amp; char(temp.length() + 48 == temp[0])\r\n      {\r\n        return &quot;true&quot;;     \r\n      }\r\n    }\r\n    return &quot;false&quot;;\r\n  }\r\n\r\n  public static void main (String[] args) {  \r\n    // keep this function call here     \r\n    Scanner s = new Scanner(System.in);\r\n    System.out.print(NumberStream(s.nextLine())); \r\n  }\r\n\r\n}","title":"Nort sure about error in Number Stream Coderbyte Java","body":"<p>The problem:\nHave the function NumberStream(str) take the str parameter being passed which will contain the numbers 2 through 9, and determine if there is a consecutive stream of digits of at least N length where N is the actual digit value. If so, return the string true, otherwise return the string false. For example: if str is &quot;6539923335&quot; then your program should return the string true because there is a consecutive stream of 3's of length 3. The input string will always contain at least one digit.</p>\n<p>Error message:\nMain.java:29: error: '.class' expected\nif (temp.length()&gt;1 &amp;&amp; char(temp.length() + 48 == temp[0])\n^\nMain.java:29: error: ';' expected\nif (temp.length()&gt;1 &amp;&amp; char(temp.length() + 48 == temp[0])</p>\n<p>Can anyone help solve this errors? I am new to Java</p>\n<p>My solution:</p>\n<pre><code>mport java.util.*; \nimport java.io.*;\n\nclass Main {\n\n  public static String NumberStream(String str) {\n    // code goes here\n    if (str.length()==1)\n    {\n            return &quot;false&quot;;\n    } \n    string temp = &quot;&quot;;\n    temp +=str[0];\n    for (int x =1; x&lt;str.length();x++)\n    {\n      if (temp.empty())\n      {\n        temp.push_back(str[x]);\n        continue;\n      }\n      if (str[x] ==temp[0])\n      {\n        temp +=str[x];\n      }\n      else\n      {\n        temp.clear();\n      }\n      if (temp.length()&gt;1 &amp;&amp; char(temp.length() + 48 == temp[0])\n      {\n        return &quot;true&quot;;     \n      }\n    }\n    return &quot;false&quot;;\n  }\n\n  public static void main (String[] args) {  \n    // keep this function call here     \n    Scanner s = new Scanner(System.in);\n    System.out.print(NumberStream(s.nextLine())); \n  }\n\n}\n</code></pre>\n"},{"tags":["java","biginteger"],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176597,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1687821755,"creation_date":1396630065,"answer_id":22868530,"question_id":22868511,"body_markdown":"You&#39;re looking for [`BigInteger`&#39;s `negate()` method][1].\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigInteger.html#negate()","title":"BigInteger negative value","body":"<p>You're looking for <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigInteger.html#negate()\" rel=\"nofollow noreferrer\"><code>BigInteger</code>'s <code>negate()</code> method</a>.</p>\n"}],"owner":{"display_name":"user2995645"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12693,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":22868530,"answer_count":1,"score":7,"last_activity_date":1687821755,"creation_date":1396630020,"question_id":22868511,"body_markdown":"I have a biginteger number, say\r\n\r\n    BigInteger a=Biginteger.valueOf(50);\r\n\r\nBesides the following\r\n\r\n  \r\n\r\n    BigInteger a=(BigInteger.ZERO).subtract(BigInteger.valueOf(50));\r\n\r\nis there another way to get the negative value of my number? Can&#39;t seem to find a method.","title":"BigInteger negative value","body":"<p>I have a biginteger number, say</p>\n\n<pre><code>BigInteger a=Biginteger.valueOf(50);\n</code></pre>\n\n<p>Besides the following</p>\n\n<pre><code>BigInteger a=(BigInteger.ZERO).subtract(BigInteger.valueOf(50));\n</code></pre>\n\n<p>is there another way to get the negative value of my number? Can't seem to find a method.</p>\n"},{"tags":["java","sorting"],"comments":[{"owner":{"account_id":1044371,"reputation":10970,"user_id":1049678,"display_name":"Aviram Segal"},"score":6,"creation_date":1356011056,"post_id":13973503,"comment_id":19278968,"body_markdown":"You need to create a custom comparartor","body":"You need to create a custom comparartor"},{"owner":{"account_id":2037371,"reputation":3159,"user_id":1819402,"accept_rate":74,"display_name":"MAGx2"},"score":0,"creation_date":1356011146,"post_id":13973503,"comment_id":19279013,"body_markdown":"I know but i don&#39;t have idea how to compare it.\n\nKnow I&#39;m trying with this:\n\n&gt;private int compareNumbers(String o1, String o2) {\n        Pattern numberPattern = Pattern.compile(PATTERN);\n        Matcher matcher1 = numberPattern.matcher(o1);\n        Matcher matcher2 = numberPattern.matcher(o2);\n        \n        int i1 = Integer.parseInt(matcher1.group());\n        int i2 = Integer.parseInt(matcher2.group());\n        \n        System.out.println(i1 + &quot; &quot; + i2);\n        \n        return i1 - i2;\n    }","body":"I know but i don&#39;t have idea how to compare it.  Know I&#39;m trying with this:  &gt;private int compareNumbers(String o1, String o2) {         Pattern numberPattern = Pattern.compile(PATTERN);         Matcher matcher1 = numberPattern.matcher(o1);         Matcher matcher2 = numberPattern.matcher(o2);                  int i1 = Integer.parseInt(matcher1.group());         int i2 = Integer.parseInt(matcher2.group());                  System.out.println(i1 + &quot; &quot; + i2);                  return i1 - i2;     }"},{"owner":{"account_id":1044371,"reputation":10970,"user_id":1049678,"display_name":"Aviram Segal"},"score":0,"creation_date":1356011222,"post_id":13973503,"comment_id":19279054,"body_markdown":"You need to make assumptions, such as, does all string in the format of &lt;some chars&gt;&lt;a number&gt; ? or decide on what exactly your format is, only then you can write your comparator","body":"You need to make assumptions, such as, does all string in the format of &lt;some chars&gt;&lt;a number&gt; ? or decide on what exactly your format is, only then you can write your comparator"}],"answers":[{"tags":[],"owner":{"account_id":142333,"reputation":17994,"user_id":349990,"accept_rate":62,"display_name":"Itay Karo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356011165,"creation_date":1356011165,"answer_id":13973554,"question_id":13973503,"body_markdown":"You can implement a comparator and pass it to the set constructor.\r\nSee http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Comparator.html.  \r\n\r\nIf all your strings are in the form of room[number] you can strip the &quot;room&quot; parse the number and compare by it.  \r\nAlternatively - you can store Integers in you set and print them with &quot;room&quot; prefix.","title":"Sorting Strings that contains number in Java","body":"<p>You can implement a comparator and pass it to the set constructor.\nSee <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Comparator.html\" rel=\"nofollow\">http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Comparator.html</a>.  </p>\n\n<p>If all your strings are in the form of room[number] you can strip the \"room\" parse the number and compare by it.<br>\nAlternatively - you can store Integers in you set and print them with \"room\" prefix.</p>\n"},{"tags":[],"owner":{"account_id":450898,"reputation":15332,"user_id":846476,"accept_rate":86,"display_name":"RNJ"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1356011274,"creation_date":1356011233,"answer_id":13973581,"question_id":13973503,"body_markdown":"try this. I&#39;ve assumed that you will always have &quot;room&quot; at the start of your string.\r\n\r\n        List&lt;String&gt; list = Arrays.asList(&quot;room1&quot;, &quot;room100&quot;, &quot;room2&quot;);\r\n        Collections.sort(list, new Comparator&lt;String&gt;()\r\n        {\r\n            @Override\r\n            public int compare(String o1, String o2)\r\n            {\r\n                return new Integer(o1.replaceAll(&quot;room&quot;, &quot;&quot;))\r\n                    .compareTo(new Integer(o2.replaceAll(&quot;room&quot;, &quot;&quot;)));\r\n            }\r\n\r\n        });\r\n\r\n","title":"Sorting Strings that contains number in Java","body":"<p>try this. I've assumed that you will always have \"room\" at the start of your string.</p>\n\n<pre><code>    List&lt;String&gt; list = Arrays.asList(\"room1\", \"room100\", \"room2\");\n    Collections.sort(list, new Comparator&lt;String&gt;()\n    {\n        @Override\n        public int compare(String o1, String o2)\n        {\n            return new Integer(o1.replaceAll(\"room\", \"\"))\n                .compareTo(new Integer(o2.replaceAll(\"room\", \"\")));\n        }\n\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":303612,"reputation":177,"user_id":612649,"display_name":"Igorry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525953351,"creation_date":1356011262,"answer_id":13973590,"question_id":13973503,"body_markdown":"Here is my `Comparator` implementation for such a sort: \r\n(strings can start from any chars)\r\n\r\n    public class StringNumberComparator implements Comparator&lt;String&gt;{\r\n\r\n        @Override\r\n        public int compare(String o1, String o2) {\r\n        int i1 = this.getRearInt(o1);\r\n        int i2 = getLeadingInt(o2);\r\n        String s1 = getTrailingString(o1);\r\n        String s2 = getTrailingString(o2);\r\n        \r\n        if(i1==i2)\r\n             return s1.compareTo(s2);\r\n        if(i1&gt;i2)\r\n             return 1;\r\n        else if(i1&lt;i2)\r\n                return -1;\r\n        return 0;\r\n        }\r\n\r\n        private int getRearInt(String s) {\r\n        s=s.trim();\r\n        int i=Integer.MAX_VALUE;\r\n        try {\r\n                 i = Integer.parseInt(s.split(&quot;[^0-9]+&quot;)[1]);\r\n        } catch(ArrayIndexOutOfBoundsException e) {\r\n                \r\n        } catch(NumberFormatException f) {\r\n                return i;\r\n        }\r\n        \r\n        return i;\r\n        }\r\n\r\n        private String getTrailingString(String s) {\r\n            return  s.replaceFirst(&quot;[0-9]&quot;, &quot;&quot;);\r\n        }\r\n    }","title":"Sorting Strings that contains number in Java","body":"<p>Here is my <code>Comparator</code> implementation for such a sort: \n(strings can start from any chars)</p>\n\n<pre><code>public class StringNumberComparator implements Comparator&lt;String&gt;{\n\n    @Override\n    public int compare(String o1, String o2) {\n    int i1 = this.getRearInt(o1);\n    int i2 = getLeadingInt(o2);\n    String s1 = getTrailingString(o1);\n    String s2 = getTrailingString(o2);\n\n    if(i1==i2)\n         return s1.compareTo(s2);\n    if(i1&gt;i2)\n         return 1;\n    else if(i1&lt;i2)\n            return -1;\n    return 0;\n    }\n\n    private int getRearInt(String s) {\n    s=s.trim();\n    int i=Integer.MAX_VALUE;\n    try {\n             i = Integer.parseInt(s.split(\"[^0-9]+\")[1]);\n    } catch(ArrayIndexOutOfBoundsException e) {\n\n    } catch(NumberFormatException f) {\n            return i;\n    }\n\n    return i;\n    }\n\n    private String getTrailingString(String s) {\n        return  s.replaceFirst(\"[0-9]\", \"\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":68,"is_accepted":true,"score":68,"last_activity_date":1687821749,"creation_date":1356011492,"answer_id":13973660,"question_id":13973503,"body_markdown":"Try this comparator, which removes all non-digit characters then compares the remaining characters as numbers:\r\n\r\n    Collections.sort(strings, new Comparator&lt;String&gt;() {\r\n        public int compare(String o1, String o2) {\r\n            return extractInt(o1) - extractInt(o2);\r\n        }\r\n\r\n        int extractInt(String s) {\r\n            String num = s.replaceAll(&quot;\\\\D&quot;, &quot;&quot;);\r\n            // return 0 if no digits found\r\n            return num.isEmpty() ? 0 : Integer.parseInt(num);\r\n        }\r\n    });\r\n\r\nWhen this code is [run][1]:\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; strings = Arrays.asList(&quot;room1.2&quot;, &quot;foo1.1&quot;, &quot;foo&quot;, &quot;room2.3&quot;, &quot;room100.999&quot;, &quot;room10&quot;, &quot;room.3&quot;);\r\n\r\n        Collections.sort(strings, new Comparator&lt;String&gt;() {\r\n            public int compare(String o1, String o2) {\r\n                return extractInt(o1) - extractInt(o2);\r\n            }\r\n\r\n            int extractInt(String s) {\r\n                String num = s.replaceAll(&quot;\\\\D&quot;, &quot;&quot;);\r\n                // return 0 if no digits found\r\n                return num.isEmpty() ? 0 : Integer.parseInt(num);\r\n            }\r\n        });\r\n        System.out.println(strings);\r\n    }\r\n\r\nThis is the output:\r\n\r\n    [foo, room.3, room10, foo1.1, room1.2, room2.3, room100.999]\r\n\r\n---\r\n\r\nWhen the numbers are decimals, retain both digits *and* dots.\r\n\r\nWhen this code (which shows use of a function instead of an anonymous class) is [run][2]:\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; strings = Arrays.asList(&quot;room1.2&quot;, &quot;foo1.1&quot;, &quot;room2.3&quot;, &quot;room100.999&quot;, &quot;room10&quot;, &quot;room.3&quot;);\r\n        Collections.sort(strings, Comparator.comparing(Application::extractDouble));\r\n        System.out.println(strings);\r\n    }\r\n\r\n    static double extractDouble(String s) {\r\n        String num = s.replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;);\r\n        // return 0 if no digits found\r\n        return num.isEmpty() ? 0 : Double.parseDouble(num);\r\n    }\r\n\r\nThis is the output:\r\n\r\n    [room.3, foo1.1, room1.2, room2.3, room10, room100.999]\r\n\r\n\r\n  [1]: https://ideone.com/rPe8cN\r\n  [2]: https://ideone.com/Jxil1R","title":"Sorting Strings that contains number in Java","body":"<p>Try this comparator, which removes all non-digit characters then compares the remaining characters as numbers:</p>\n<pre><code>Collections.sort(strings, new Comparator&lt;String&gt;() {\n    public int compare(String o1, String o2) {\n        return extractInt(o1) - extractInt(o2);\n    }\n\n    int extractInt(String s) {\n        String num = s.replaceAll(&quot;\\\\D&quot;, &quot;&quot;);\n        // return 0 if no digits found\n        return num.isEmpty() ? 0 : Integer.parseInt(num);\n    }\n});\n</code></pre>\n<p>When this code is <a href=\"https://ideone.com/rPe8cN\" rel=\"nofollow noreferrer\">run</a>:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; strings = Arrays.asList(&quot;room1.2&quot;, &quot;foo1.1&quot;, &quot;foo&quot;, &quot;room2.3&quot;, &quot;room100.999&quot;, &quot;room10&quot;, &quot;room.3&quot;);\n\n    Collections.sort(strings, new Comparator&lt;String&gt;() {\n        public int compare(String o1, String o2) {\n            return extractInt(o1) - extractInt(o2);\n        }\n\n        int extractInt(String s) {\n            String num = s.replaceAll(&quot;\\\\D&quot;, &quot;&quot;);\n            // return 0 if no digits found\n            return num.isEmpty() ? 0 : Integer.parseInt(num);\n        }\n    });\n    System.out.println(strings);\n}\n</code></pre>\n<p>This is the output:</p>\n<pre><code>[foo, room.3, room10, foo1.1, room1.2, room2.3, room100.999]\n</code></pre>\n<hr />\n<p>When the numbers are decimals, retain both digits <em>and</em> dots.</p>\n<p>When this code (which shows use of a function instead of an anonymous class) is <a href=\"https://ideone.com/Jxil1R\" rel=\"nofollow noreferrer\">run</a>:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; strings = Arrays.asList(&quot;room1.2&quot;, &quot;foo1.1&quot;, &quot;room2.3&quot;, &quot;room100.999&quot;, &quot;room10&quot;, &quot;room.3&quot;);\n    Collections.sort(strings, Comparator.comparing(Application::extractDouble));\n    System.out.println(strings);\n}\n\nstatic double extractDouble(String s) {\n    String num = s.replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;);\n    // return 0 if no digits found\n    return num.isEmpty() ? 0 : Double.parseDouble(num);\n}\n</code></pre>\n<p>This is the output:</p>\n<pre><code>[room.3, foo1.1, room1.2, room2.3, room10, room100.999]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1163881,"reputation":13899,"user_id":1142881,"accept_rate":99,"display_name":"SkyWalker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356011761,"creation_date":1356011761,"answer_id":13973736,"question_id":13973503,"body_markdown":"A lazy alternative would be to make the String comparator work without doing anything extra (defining your own comparator). You can have that by padding with zeros the numbers within your String like this: `room0001, room0002, room0100` then the default String comparator will work. You do however, need to know the maximum number value so you can adapt your padding accordingly.\r\n\r\n   ","title":"Sorting Strings that contains number in Java","body":"<p>A lazy alternative would be to make the String comparator work without doing anything extra (defining your own comparator). You can have that by padding with zeros the numbers within your String like this: <code>room0001, room0002, room0100</code> then the default String comparator will work. You do however, need to know the maximum number value so you can adapt your padding accordingly.</p>\n"},{"tags":[],"owner":{"account_id":3214954,"reputation":2859,"user_id":2713954,"accept_rate":20,"display_name":"vamsi"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1428945106,"creation_date":1428945106,"answer_id":29611129,"question_id":13973503,"body_markdown":"Used @bohemian answer. Just improved a bit. This worked for me very well..   \r\n\r\n            Collections.sort(asdf, new Comparator&lt;String&gt;() {\r\n                public int compare(String o1, String o2) {\r\n\r\n                    String o1StringPart = o1.replaceAll(&quot;\\\\d&quot;, &quot;&quot;);\r\n                    String o2StringPart = o2.replaceAll(&quot;\\\\d&quot;, &quot;&quot;);\r\n\r\n\r\n                    if(o1StringPart.equalsIgnoreCase(o2StringPart))\r\n                    {\r\n                        return extractInt(o1) - extractInt(o2);\r\n                    }\r\n                    return o1.compareTo(o2);\r\n                }\r\n\r\n                int extractInt(String s) {\r\n                    String num = s.replaceAll(&quot;\\\\D&quot;, &quot;&quot;);\r\n                    // return 0 if no digits found\r\n                    return num.isEmpty() ? 0 : Integer.parseInt(num);\r\n                }\r\n            });","title":"Sorting Strings that contains number in Java","body":"<p>Used @bohemian answer. Just improved a bit. This worked for me very well..   </p>\n\n<pre><code>        Collections.sort(asdf, new Comparator&lt;String&gt;() {\n            public int compare(String o1, String o2) {\n\n                String o1StringPart = o1.replaceAll(\"\\\\d\", \"\");\n                String o2StringPart = o2.replaceAll(\"\\\\d\", \"\");\n\n\n                if(o1StringPart.equalsIgnoreCase(o2StringPart))\n                {\n                    return extractInt(o1) - extractInt(o2);\n                }\n                return o1.compareTo(o2);\n            }\n\n            int extractInt(String s) {\n                String num = s.replaceAll(\"\\\\D\", \"\");\n                // return 0 if no digits found\n                return num.isEmpty() ? 0 : Integer.parseInt(num);\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":2037371,"reputation":3159,"user_id":1819402,"accept_rate":74,"display_name":"MAGx2"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84318,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"closed_date":1482322630,"accepted_answer_id":13973660,"answer_count":6,"score":34,"last_activity_date":1687821749,"creation_date":1356010999,"question_id":13973503,"body_markdown":"I have problem with default comparator for Strings (in SortedSet). The problem is that default comparator doesn&#39;t sort good String that contains numbers i.e.:\r\nIn set i have:\r\n\r\n    room1, room2, room100\r\n\r\nNatural ordering should be like above but in set I have:\r\n\r\n    room1, room100, room2\r\n\r\nI know why it is but I don&#39;t know how to change it.","title":"Sorting Strings that contains number in Java","body":"<p>I have problem with default comparator for Strings (in SortedSet). The problem is that default comparator doesn't sort good String that contains numbers i.e.:\nIn set i have:</p>\n\n<pre><code>room1, room2, room100\n</code></pre>\n\n<p>Natural ordering should be like above but in set I have:</p>\n\n<pre><code>room1, room100, room2\n</code></pre>\n\n<p>I know why it is but I don't know how to change it.</p>\n"},{"tags":["java","python","apache-spark","directed-acyclic-graphs","airflow"],"answers":[{"tags":[],"owner":{"account_id":97791,"reputation":324357,"user_id":1560062,"accept_rate":100,"display_name":"zero323"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1482888779,"creation_date":1475502068,"answer_id":39833103,"question_id":39827804,"body_markdown":"You should be able to use `BashOperator`. Keeping the rest of your code as is, import required class and system packages:\r\n\r\n\r\n    from airflow.operators.bash_operator import BashOperator\r\n\r\n    import os\r\n    import sys\r\n\r\nset required paths:\r\n\r\n    os.environ[&#39;SPARK_HOME&#39;] = &#39;/path/to/spark/root&#39;\r\n    sys.path.append(os.path.join(os.environ[&#39;SPARK_HOME&#39;], &#39;bin&#39;))\r\n\r\nand add operator:\r\n\r\n    spark_task = BashOperator(\r\n        task_id=&#39;spark_java&#39;,\r\n        bash_command=&#39;spark-submit --class {{ params.class }} {{ params.jar }}&#39;,\r\n        params={&#39;class&#39;: &#39;MainClassName&#39;, &#39;jar&#39;: &#39;/path/to/your.jar&#39;},\r\n        dag=dag\r\n    )\r\n\r\nYou can easily extend this to provide additional arguments using Jinja templates. \r\n\r\nYou can of course adjust this for non-Spark scenario by replacing `bash_command` with a template suitable in your case, for example:\r\n\r\n    bash_command = &#39;java -jar {{ params.jar }}&#39;\r\n\r\nand adjusting `params`.\r\n","title":"How to run Spark code in Airflow?","body":"<p>You should be able to use <code>BashOperator</code>. Keeping the rest of your code as is, import required class and system packages:</p>\n\n<pre><code>from airflow.operators.bash_operator import BashOperator\n\nimport os\nimport sys\n</code></pre>\n\n<p>set required paths:</p>\n\n<pre><code>os.environ['SPARK_HOME'] = '/path/to/spark/root'\nsys.path.append(os.path.join(os.environ['SPARK_HOME'], 'bin'))\n</code></pre>\n\n<p>and add operator:</p>\n\n<pre><code>spark_task = BashOperator(\n    task_id='spark_java',\n    bash_command='spark-submit --class {{ params.class }} {{ params.jar }}',\n    params={'class': 'MainClassName', 'jar': '/path/to/your.jar'},\n    dag=dag\n)\n</code></pre>\n\n<p>You can easily extend this to provide additional arguments using Jinja templates. </p>\n\n<p>You can of course adjust this for non-Spark scenario by replacing <code>bash_command</code> with a template suitable in your case, for example:</p>\n\n<pre><code>bash_command = 'java -jar {{ params.jar }}'\n</code></pre>\n\n<p>and adjusting <code>params</code>.</p>\n"},{"tags":[],"owner":{"account_id":215757,"reputation":14141,"user_id":470583,"accept_rate":55,"display_name":"Tagar"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1490029561,"creation_date":1490029561,"answer_id":42909690,"question_id":39827804,"body_markdown":"Airflow as of version 1.8 (released today), has \r\n\r\n- SparkSqlOperator - https://github.com/apache/incubator-airflow/blob/master/airflow/contrib/operators/spark_sql_operator.py ; \r\n\r\nSparkSQLHook code - https://github.com/apache/incubator-airflow/blob/master/airflow/contrib/hooks/spark_sql_hook.py\r\n\r\n- SparkSubmitOperator - https://github.com/apache/incubator-airflow/blob/master/airflow/contrib/operators/spark_submit_operator.py\r\n\r\nSparkSubmitHook code - https://github.com/apache/incubator-airflow/blob/master/airflow/contrib/hooks/spark_submit_hook.py\r\n\r\nNotice that these two new Spark operators/hooks are in &quot;contrib&quot; branch as of 1.8 version so not (well) documented.\r\n\r\nSo you can use SparkSubmitOperator to submit your java code for Spark execution.\r\n","title":"How to run Spark code in Airflow?","body":"<p>Airflow as of version 1.8 (released today), has </p>\n\n<ul>\n<li>SparkSqlOperator - <a href=\"https://github.com/apache/incubator-airflow/blob/master/airflow/contrib/operators/spark_sql_operator.py\" rel=\"noreferrer\">https://github.com/apache/incubator-airflow/blob/master/airflow/contrib/operators/spark_sql_operator.py</a> ; </li>\n</ul>\n\n<p>SparkSQLHook code - <a href=\"https://github.com/apache/incubator-airflow/blob/master/airflow/contrib/hooks/spark_sql_hook.py\" rel=\"noreferrer\">https://github.com/apache/incubator-airflow/blob/master/airflow/contrib/hooks/spark_sql_hook.py</a></p>\n\n<ul>\n<li>SparkSubmitOperator - <a href=\"https://github.com/apache/incubator-airflow/blob/master/airflow/contrib/operators/spark_submit_operator.py\" rel=\"noreferrer\">https://github.com/apache/incubator-airflow/blob/master/airflow/contrib/operators/spark_submit_operator.py</a></li>\n</ul>\n\n<p>SparkSubmitHook code - <a href=\"https://github.com/apache/incubator-airflow/blob/master/airflow/contrib/hooks/spark_submit_hook.py\" rel=\"noreferrer\">https://github.com/apache/incubator-airflow/blob/master/airflow/contrib/hooks/spark_submit_hook.py</a></p>\n\n<p>Notice that these two new Spark operators/hooks are in \"contrib\" branch as of 1.8 version so not (well) documented.</p>\n\n<p>So you can use SparkSubmitOperator to submit your java code for Spark execution.</p>\n"},{"tags":[],"owner":{"account_id":3057660,"reputation":2944,"user_id":2590966,"display_name":"CTiPKA"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1562873055,"creation_date":1532694254,"answer_id":51557906,"question_id":39827804,"body_markdown":"There is an example of `SparkSubmitOperator` usage for Spark 2.3.1 on kubernetes (minikube instance):\r\n```python\r\n&quot;&quot;&quot;\r\nCode that goes along with the Airflow located at:\r\nhttp://airflow.readthedocs.org/en/latest/tutorial.html\r\n&quot;&quot;&quot;\r\nfrom airflow import DAG\r\nfrom airflow.operators.bash_operator import BashOperator\r\nfrom airflow.contrib.operators.spark_submit_operator import SparkSubmitOperator\r\nfrom airflow.models import Variable\r\nfrom datetime import datetime, timedelta\r\n  \r\ndefault_args = {\r\n    &#39;owner&#39;: &#39;user@mail.com&#39;,\r\n    &#39;depends_on_past&#39;: False,\r\n    &#39;start_date&#39;: datetime(2018, 7, 27),\r\n    &#39;email&#39;: [&#39;user@mail.com&#39;],\r\n    &#39;email_on_failure&#39;: False,\r\n    &#39;email_on_retry&#39;: False,\r\n    &#39;retries&#39;: 1,\r\n    &#39;retry_delay&#39;: timedelta(minutes=5),\r\n    # &#39;queue&#39;: &#39;bash_queue&#39;,\r\n    # &#39;pool&#39;: &#39;backfill&#39;,\r\n    # &#39;priority_weight&#39;: 10,\r\n    &#39;end_date&#39;: datetime(2018, 7, 29),\r\n}\r\n\r\ndag = DAG(\r\n    &#39;tutorial_spark_operator&#39;, default_args=default_args, schedule_interval=timedelta(1))\r\n\r\nt1 = BashOperator(\r\n    task_id=&#39;print_date&#39;,\r\n    bash_command=&#39;date&#39;,\r\n    dag=dag)\r\n\r\nprint_path_env_task = BashOperator(\r\n    task_id=&#39;print_path_env&#39;,\r\n    bash_command=&#39;echo $PATH&#39;,\r\n    dag=dag)\r\n\r\nspark_submit_task = SparkSubmitOperator(\r\n    task_id=&#39;spark_submit_job&#39;,\r\n    conn_id=&#39;spark_default&#39;,\r\n    java_class=&#39;com.ibm.cdopoc.DataLoaderDB2COS&#39;,\r\n    application=&#39;local:///opt/spark/examples/jars/cppmpoc-dl-0.1.jar&#39;,\r\n    total_executor_cores=&#39;1&#39;,\r\n    executor_cores=&#39;1&#39;,\r\n    executor_memory=&#39;2g&#39;,\r\n    num_executors=&#39;2&#39;,\r\n    name=&#39;airflowspark-DataLoaderDB2COS&#39;,\r\n    verbose=True,\r\n    driver_memory=&#39;1g&#39;,\r\n    conf={\r\n        &#39;spark.DB_URL&#39;: &#39;jdbc:db2://dashdb-dal13.services.dal.bluemix.net:50001/BLUDB:sslConnection=true;&#39;,\r\n        &#39;spark.DB_USER&#39;: Variable.get(&quot;CEDP_DB2_WoC_User&quot;),\r\n        &#39;spark.DB_PASSWORD&#39;: Variable.get(&quot;CEDP_DB2_WoC_Password&quot;),\r\n        &#39;spark.DB_DRIVER&#39;: &#39;com.ibm.db2.jcc.DB2Driver&#39;,\r\n        &#39;spark.DB_TABLE&#39;: &#39;MKT_ATBTN.MERGE_STREAM_2000_REST_API&#39;,\r\n        &#39;spark.COS_API_KEY&#39;: Variable.get(&quot;COS_API_KEY&quot;),\r\n        &#39;spark.COS_SERVICE_ID&#39;: Variable.get(&quot;COS_SERVICE_ID&quot;),\r\n        &#39;spark.COS_ENDPOINT&#39;: &#39;s3-api.us-geo.objectstorage.softlayer.net&#39;,\r\n        &#39;spark.COS_BUCKET&#39;: &#39;data-ingestion-poc&#39;,\r\n        &#39;spark.COS_OUTPUT_FILENAME&#39;: &#39;cedp-dummy-table-cos2&#39;,\r\n        &#39;spark.kubernetes.container.image&#39;: &#39;ctipka/spark:spark-docker&#39;,\r\n        &#39;spark.kubernetes.authenticate.driver.serviceAccountName&#39;: &#39;spark&#39;\r\n        },\r\n    dag=dag,\r\n)\r\n\r\nt1.set_upstream(print_path_env_task)\r\nspark_submit_task.set_upstream(t1)\r\n```\r\n\r\n\r\nThe code using variables stored in Airflow variables:\r\n[![enter image description here][1]][1]\r\n\r\nAlso, you need to create a new spark connection or edit existing &#39;spark_default&#39; with \r\nextra dictionary `{&quot;queue&quot;:&quot;root.default&quot;, &quot;deploy-mode&quot;:&quot;cluster&quot;, &quot;spark-home&quot;:&quot;&quot;, &quot;spark-binary&quot;:&quot;spark-submit&quot;, &quot;namespace&quot;:&quot;default&quot;}`:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S0yAa.jpg\r\n  [2]: https://i.stack.imgur.com/rnkcd.jpg","title":"How to run Spark code in Airflow?","body":"<p>There is an example of <code>SparkSubmitOperator</code> usage for Spark 2.3.1 on kubernetes (minikube instance):</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>\"\"\"\nCode that goes along with the Airflow located at:\nhttp://airflow.readthedocs.org/en/latest/tutorial.html\n\"\"\"\nfrom airflow import DAG\nfrom airflow.operators.bash_operator import BashOperator\nfrom airflow.contrib.operators.spark_submit_operator import SparkSubmitOperator\nfrom airflow.models import Variable\nfrom datetime import datetime, timedelta\n\ndefault_args = {\n    'owner': 'user@mail.com',\n    'depends_on_past': False,\n    'start_date': datetime(2018, 7, 27),\n    'email': ['user@mail.com'],\n    'email_on_failure': False,\n    'email_on_retry': False,\n    'retries': 1,\n    'retry_delay': timedelta(minutes=5),\n    # 'queue': 'bash_queue',\n    # 'pool': 'backfill',\n    # 'priority_weight': 10,\n    'end_date': datetime(2018, 7, 29),\n}\n\ndag = DAG(\n    'tutorial_spark_operator', default_args=default_args, schedule_interval=timedelta(1))\n\nt1 = BashOperator(\n    task_id='print_date',\n    bash_command='date',\n    dag=dag)\n\nprint_path_env_task = BashOperator(\n    task_id='print_path_env',\n    bash_command='echo $PATH',\n    dag=dag)\n\nspark_submit_task = SparkSubmitOperator(\n    task_id='spark_submit_job',\n    conn_id='spark_default',\n    java_class='com.ibm.cdopoc.DataLoaderDB2COS',\n    application='local:///opt/spark/examples/jars/cppmpoc-dl-0.1.jar',\n    total_executor_cores='1',\n    executor_cores='1',\n    executor_memory='2g',\n    num_executors='2',\n    name='airflowspark-DataLoaderDB2COS',\n    verbose=True,\n    driver_memory='1g',\n    conf={\n        'spark.DB_URL': 'jdbc:db2://dashdb-dal13.services.dal.bluemix.net:50001/BLUDB:sslConnection=true;',\n        'spark.DB_USER': Variable.get(\"CEDP_DB2_WoC_User\"),\n        'spark.DB_PASSWORD': Variable.get(\"CEDP_DB2_WoC_Password\"),\n        'spark.DB_DRIVER': 'com.ibm.db2.jcc.DB2Driver',\n        'spark.DB_TABLE': 'MKT_ATBTN.MERGE_STREAM_2000_REST_API',\n        'spark.COS_API_KEY': Variable.get(\"COS_API_KEY\"),\n        'spark.COS_SERVICE_ID': Variable.get(\"COS_SERVICE_ID\"),\n        'spark.COS_ENDPOINT': 's3-api.us-geo.objectstorage.softlayer.net',\n        'spark.COS_BUCKET': 'data-ingestion-poc',\n        'spark.COS_OUTPUT_FILENAME': 'cedp-dummy-table-cos2',\n        'spark.kubernetes.container.image': 'ctipka/spark:spark-docker',\n        'spark.kubernetes.authenticate.driver.serviceAccountName': 'spark'\n        },\n    dag=dag,\n)\n\nt1.set_upstream(print_path_env_task)\nspark_submit_task.set_upstream(t1)\n</code></pre>\n\n<p>The code using variables stored in Airflow variables:\n<a href=\"https://i.stack.imgur.com/S0yAa.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/S0yAa.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Also, you need to create a new spark connection or edit existing 'spark_default' with \nextra dictionary <code>{\"queue\":\"root.default\", \"deploy-mode\":\"cluster\", \"spark-home\":\"\", \"spark-binary\":\"spark-submit\", \"namespace\":\"default\"}</code>:\n<a href=\"https://i.stack.imgur.com/rnkcd.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rnkcd.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":474857,"reputation":985,"user_id":884819,"accept_rate":100,"display_name":"Bharat Kul Ratan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649748766,"creation_date":1649748766,"answer_id":71838736,"question_id":39827804,"body_markdown":"Go to `Admin` -&gt; `Connection` -&gt; `Create` in Airflow UI. Create a new SSH connection by providing host = IP address, port = 22  and extra as `{&quot;key_file&quot;: &quot;/path/to/pem/file&quot;, &quot;no_host_key_check&quot;:true}`\r\n\r\nThis host should be the Spark cluster master from which you can submit spark-jobs. Next, you need to create a DAG with SSHOperator. Following is the template for this.\r\n\r\n    with DAG(dag_id=&#39;ssh-dag-id&#39;,\r\n         schedule_interval=&quot;05 12 * * *&quot;,\r\n         catchup=False) as dag:\r\n         \r\n    spark_job = (&quot;spark-submit --class fully.qualified.class.name &quot;\r\n                 &quot;--master yarn &quot;\r\n                 &quot;--deploy-mode client &quot;\r\n                 &quot;--driver-memory 6G &quot;\r\n                 &quot;--executor-memory 6G &quot;\r\n                 &quot;--num-executors 6 &quot;\r\n                 &quot;/path/to/your-spark.jar&quot;)\r\n\r\n    ssh_run_query = SSHOperator(\r\n        task_id=&quot;random_task_id&quot;,\r\n        ssh_conn_id=&quot;name_of_connection_you just_created&quot;,\r\n        command=spark_job,\r\n        get_pty=True,\r\n        dag=dag)\r\n\r\n    ssh_run_query\r\n\r\nThat&#39;s it. You also get the complete logs for this Spark job in Airflow.","title":"How to run Spark code in Airflow?","body":"<p>Go to <code>Admin</code> -&gt; <code>Connection</code> -&gt; <code>Create</code> in Airflow UI. Create a new SSH connection by providing host = IP address, port = 22  and extra as <code>{&quot;key_file&quot;: &quot;/path/to/pem/file&quot;, &quot;no_host_key_check&quot;:true}</code></p>\n<p>This host should be the Spark cluster master from which you can submit spark-jobs. Next, you need to create a DAG with SSHOperator. Following is the template for this.</p>\n<pre><code>with DAG(dag_id='ssh-dag-id',\n     schedule_interval=&quot;05 12 * * *&quot;,\n     catchup=False) as dag:\n     \nspark_job = (&quot;spark-submit --class fully.qualified.class.name &quot;\n             &quot;--master yarn &quot;\n             &quot;--deploy-mode client &quot;\n             &quot;--driver-memory 6G &quot;\n             &quot;--executor-memory 6G &quot;\n             &quot;--num-executors 6 &quot;\n             &quot;/path/to/your-spark.jar&quot;)\n\nssh_run_query = SSHOperator(\n    task_id=&quot;random_task_id&quot;,\n    ssh_conn_id=&quot;name_of_connection_you just_created&quot;,\n    command=spark_job,\n    get_pty=True,\n    dag=dag)\n\nssh_run_query\n</code></pre>\n<p>That's it. You also get the complete logs for this Spark job in Airflow.</p>\n"}],"owner":{"account_id":7784751,"reputation":487,"user_id":5890044,"accept_rate":75,"display_name":"Ruslan Lomov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44317,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":39833103,"answer_count":4,"score":41,"last_activity_date":1687820579,"creation_date":1475484969,"question_id":39827804,"body_markdown":"Hello people of the Earth!\r\nI&#39;m using Airflow to schedule and run Spark tasks.\r\nAll I found by this time is python DAGs that Airflow can manage.\r\n&lt;br&gt; DAG example:\r\n\r\n    spark_count_lines.py\r\n    import logging\r\n    \r\n    from airflow import DAG\r\n    from airflow.operators import PythonOperator\r\n    \r\n    from datetime import datetime\r\n    \r\n    args = {\r\n      &#39;owner&#39;: &#39;airflow&#39;\r\n      , &#39;start_date&#39;: datetime(2016, 4, 17)\r\n      , &#39;provide_context&#39;: True\r\n    }\r\n    \r\n    dag = DAG(\r\n      &#39;spark_count_lines&#39;\r\n      , start_date = datetime(2016, 4, 17)\r\n      , schedule_interval = &#39;@hourly&#39;\r\n      , default_args = args\r\n    )\r\n    \r\n    def run_spark(**kwargs):\r\n      import pyspark\r\n      sc = pyspark.SparkContext()\r\n      df = sc.textFile(&#39;file:///opt/spark/current/examples/src/main/resources/people.txt&#39;)\r\n      logging.info(&#39;Number of lines in people.txt = {0}&#39;.format(df.count()))\r\n      sc.stop()\r\n    \r\n    t_main = PythonOperator(\r\n      task_id = &#39;call_spark&#39;\r\n      , dag = dag\r\n      , python_callable = run_spark\r\n    )\r\nThe problem is I&#39;m not good in Python code and have some tasks written in Java. My question is how to run Spark Java jar in python DAG? Or maybe there is other way yo do it? I found spark submit: [http://spark.apache.org/docs/latest/submitting-applications.html][1]\r\n&lt;br&gt;But I don&#39;t know how to connect everything together. Maybe someone used it before and has working example. Thank you for your time!\r\n\r\n  [1]: http://spark.apache.org/docs/latest/submitting-applications.html","title":"How to run Spark code in Airflow?","body":"<p>Hello people of the Earth!\nI'm using Airflow to schedule and run Spark tasks.\nAll I found by this time is python DAGs that Airflow can manage.\n<br> DAG example:</p>\n\n<pre><code>spark_count_lines.py\nimport logging\n\nfrom airflow import DAG\nfrom airflow.operators import PythonOperator\n\nfrom datetime import datetime\n\nargs = {\n  'owner': 'airflow'\n  , 'start_date': datetime(2016, 4, 17)\n  , 'provide_context': True\n}\n\ndag = DAG(\n  'spark_count_lines'\n  , start_date = datetime(2016, 4, 17)\n  , schedule_interval = '@hourly'\n  , default_args = args\n)\n\ndef run_spark(**kwargs):\n  import pyspark\n  sc = pyspark.SparkContext()\n  df = sc.textFile('file:///opt/spark/current/examples/src/main/resources/people.txt')\n  logging.info('Number of lines in people.txt = {0}'.format(df.count()))\n  sc.stop()\n\nt_main = PythonOperator(\n  task_id = 'call_spark'\n  , dag = dag\n  , python_callable = run_spark\n)\n</code></pre>\n\n<p>The problem is I'm not good in Python code and have some tasks written in Java. My question is how to run Spark Java jar in python DAG? Or maybe there is other way yo do it? I found spark submit: <a href=\"http://spark.apache.org/docs/latest/submitting-applications.html\" rel=\"noreferrer\">http://spark.apache.org/docs/latest/submitting-applications.html</a>\n<br>But I don't know how to connect everything together. Maybe someone used it before and has working example. Thank you for your time!</p>\n"},{"tags":["java","android","json"],"owner":{"account_id":28600534,"reputation":13,"user_id":21897595,"display_name":"Biel BNC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687819812,"creation_date":1687819350,"question_id":76560646,"body_markdown":"I need to get results in `SearhView` from all json files fetched in url\r\n\r\nMy code for get Json result:\r\n\r\n```\r\nint count = 0;\r\n    String url = &quot;https://myweb.com.br/view/&quot;+count+&quot;.json&quot;;\r\n\r\ngetData(count)\r\n```\r\n\r\nGetting data:\r\n\r\n```\r\nprivate void getData(int count) {\r\n        // creating a new variable for our request queue\r\n        RequestQueue queue = Volley.newRequestQueue(MainActivity.this);\r\n        // in this case the data we are getting is in the form\r\n        // of array so we are making a json array request.\r\n        // below is the line where we are making an json array\r\n        // request and then extracting data from each json object.\r\n        JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, &quot;https://vixentpost.000webhostapp.com/vix-ent/&quot;+count+&quot;.json&quot;, null, new Response.Listener&lt;JSONArray&gt;() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onResponse(JSONArray response) {\r\n\r\n\t\t\t\t\tcourseRV.setVisibility(View.VISIBLE);\r\n\t\t\t\t\tfor (int i = 0; i &lt; response.length(); i++) {\r\n\t\t\t\t\t\t// creating a new json object and\r\n\t\t\t\t\t\t// getting each object from our json array.\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t// we are getting each json object.\r\n\t\t\t\t\t\t\tJSONObject responseObj = response.getJSONObject(i);\r\n\r\n\t\t\t\t\t\t\t// now we get our response from API in json object format.\r\n\t\t\t\t\t\t\t// in below line we are extracting a string with\r\n\t\t\t\t\t\t\t// its key value from our json object.\r\n\t\t\t\t\t\t\t// similarly we are extracting all the strings from our json object.\r\n\t\t\t\t\t\t\tString courseName = responseObj.getString(&quot;courseName&quot;);\r\n\t\t\t\t\t\t\tString courseTracks = responseObj.getString(&quot;courseTracks&quot;);\r\n\t\t\t\t\t\t\tString courseMode = responseObj.getString(&quot;courseMode&quot;);\r\n\t\t\t\t\t\t\tString courseImageURL = responseObj.getString(&quot;courseimg&quot;);\r\n\t\t\t\t\t\t\tcourseArrayList.add(new CourseModal(courseName, courseMode, courseTracks, courseImageURL));\r\n\r\n\t\t\t\t\t\t\t// on below line we are adding our array list to our adapter class.\r\n\t\t\t\t\t\t\tcourseRVAdapter = new CourseRVAdapter(MainActivity.this, courseArrayList);\r\n\r\n\t\t\t\t\t\t\t// on below line we are setting\r\n\t\t\t\t\t\t\t// adapter to our recycler view.\r\n\t\t\t\t\t\t\tcourseRV.setAdapter(courseRVAdapter);\r\n\t\t\t\t\t\t} catch (JSONException e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, new Response.ErrorListener() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onErrorResponse(VolleyError error) {\r\n\t\t\t\t\tToast.makeText(MainActivity.this, &quot;Fail to get the data..&quot;, Toast.LENGTH_SHORT).show();\r\n\t\t\t\t}\r\n\t\t\t});\r\n        queue.add(jsonArrayRequest);\r\n\t\tqueue.getCache().clear();\r\n\r\n    }\r\n```\r\n\r\nFor `loadMore` data in another count Json:\r\n\r\n```\r\nnestedSV.setOnScrollChangeListener(new NestedScrollView.OnScrollChangeListener() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onScrollChange(NestedScrollView v, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\r\n\t\t\t\t\t// on scroll change we are checking when users scroll as bottom.\r\n\t\t\t\t\tif (scrollY == v.getChildAt(0).getMeasuredHeight() - v.getMeasuredHeight()) {\r\n\t\t\t\t\t\t// in this method we are incrementing page number,\r\n\t\t\t\t\t\t// making progress bar visible and calling get data method.\r\n\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\tString page = String.valueOf(count);\r\n\t\t\t\t\t\t// on below line we are making our progress bar visible.\r\n\t\t\t\t\t\tToast.makeText(MainActivity.this, page, Toast.LENGTH_SHORT).show();\r\n\t\t\t\t\t\tloadingPB.setVisibility(View.VISIBLE);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tgetData(count);\r\n\t\t\t\t\t\tcourseRVAdapter.notifyDataSetChanged();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n```\r\n\r\nMy search Json:\r\n\r\n```\r\nsearchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic boolean onQueryTextSubmit(final String newText) {\r\n\t\t\t\t\tcourseRVAdapter.getFilter().filter(newText);\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic boolean onQueryTextChange(String newText) {\r\n\t\t\t\t\tcourseRVAdapter.getFilter().filter(newText);\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\treturn true;\r\n    }\r\n\r\n```\r\n\r\nMy `SearchFilter` in `Adapter`:\r\n\r\n```\r\n\t@Override\r\n    public Filter getFilter() {\r\n        return new Filter() {\r\n            @Override\r\n            protected FilterResults performFiltering(CharSequence charSequence) {\r\n\r\n                String charString = charSequence.toString();\r\n\r\n                if (charString.isEmpty()) {\r\n\r\n                    courseModalArrayList = modelArray;\r\n                } else {\r\n\r\n                    ArrayList&lt;CourseModal&gt; filteredList = new ArrayList&lt;&gt;();\r\n\r\n                    for (CourseModal carModel : modelArray) {\r\n\r\n                        if (carModel.getCourseName().toLowerCase().contains(charString.toString().toLowerCase()) |\r\n\t\t\t\t\t\t\t(carModel.getcourseModes().toLowerCase().contains(charString.toString().toLowerCase()))) {\r\n\r\n                            filteredList.add(carModel);\r\n                        }\r\n                    }\r\n\r\n                    courseModalArrayList = filteredList;\r\n                }\r\n\r\n                FilterResults filterResults = new FilterResults();\r\n                filterResults.values = courseModalArrayList;\r\n                return filterResults;\r\n            }\r\n\r\n            @Override\r\n            protected void publishResults(CharSequence charSequence, FilterResults filterResults) {\r\n                courseModalArrayList = (ArrayList&lt;CourseModal&gt;) filterResults.values;\r\n                notifyDataSetChanged();\r\n            }\r\n        };\r\n\t}\r\n```\r\n\r\nThat is, each `loadMore` loads a Json file, however in the search I need to get results from all files. But the result appears only for the current json file and not all (count) pages of the json. How is this possible?\r\n\r\nI&#39;ve tried firing all page numbers but it doesn&#39;t return just one result","title":"Get Json search result of ALL count pages from json loadMore","body":"<p>I need to get results in <code>SearhView</code> from all json files fetched in url</p>\n<p>My code for get Json result:</p>\n<pre><code>int count = 0;\n    String url = &quot;https://myweb.com.br/view/&quot;+count+&quot;.json&quot;;\n\ngetData(count)\n</code></pre>\n<p>Getting data:</p>\n<pre><code>private void getData(int count) {\n        // creating a new variable for our request queue\n        RequestQueue queue = Volley.newRequestQueue(MainActivity.this);\n        // in this case the data we are getting is in the form\n        // of array so we are making a json array request.\n        // below is the line where we are making an json array\n        // request and then extracting data from each json object.\n        JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, &quot;https://vixentpost.000webhostapp.com/vix-ent/&quot;+count+&quot;.json&quot;, null, new Response.Listener&lt;JSONArray&gt;() {\n                @Override\n                public void onResponse(JSONArray response) {\n\n                    courseRV.setVisibility(View.VISIBLE);\n                    for (int i = 0; i &lt; response.length(); i++) {\n                        // creating a new json object and\n                        // getting each object from our json array.\n                        try {\n                            // we are getting each json object.\n                            JSONObject responseObj = response.getJSONObject(i);\n\n                            // now we get our response from API in json object format.\n                            // in below line we are extracting a string with\n                            // its key value from our json object.\n                            // similarly we are extracting all the strings from our json object.\n                            String courseName = responseObj.getString(&quot;courseName&quot;);\n                            String courseTracks = responseObj.getString(&quot;courseTracks&quot;);\n                            String courseMode = responseObj.getString(&quot;courseMode&quot;);\n                            String courseImageURL = responseObj.getString(&quot;courseimg&quot;);\n                            courseArrayList.add(new CourseModal(courseName, courseMode, courseTracks, courseImageURL));\n\n                            // on below line we are adding our array list to our adapter class.\n                            courseRVAdapter = new CourseRVAdapter(MainActivity.this, courseArrayList);\n\n                            // on below line we are setting\n                            // adapter to our recycler view.\n                            courseRV.setAdapter(courseRVAdapter);\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                }\n            }, new Response.ErrorListener() {\n                @Override\n                public void onErrorResponse(VolleyError error) {\n                    Toast.makeText(MainActivity.this, &quot;Fail to get the data..&quot;, Toast.LENGTH_SHORT).show();\n                }\n            });\n        queue.add(jsonArrayRequest);\n        queue.getCache().clear();\n\n    }\n</code></pre>\n<p>For <code>loadMore</code> data in another count Json:</p>\n<pre><code>nestedSV.setOnScrollChangeListener(new NestedScrollView.OnScrollChangeListener() {\n                @Override\n                public void onScrollChange(NestedScrollView v, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\n                    // on scroll change we are checking when users scroll as bottom.\n                    if (scrollY == v.getChildAt(0).getMeasuredHeight() - v.getMeasuredHeight()) {\n                        // in this method we are incrementing page number,\n                        // making progress bar visible and calling get data method.\n                        count++;\n                        String page = String.valueOf(count);\n                        // on below line we are making our progress bar visible.\n                        Toast.makeText(MainActivity.this, page, Toast.LENGTH_SHORT).show();\n                        loadingPB.setVisibility(View.VISIBLE);\n                        \n                        getData(count);\n                        courseRVAdapter.notifyDataSetChanged();\n                    }\n                }\n            });\n</code></pre>\n<p>My search Json:</p>\n<pre><code>searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n                @Override\n                public boolean onQueryTextSubmit(final String newText) {\n                    courseRVAdapter.getFilter().filter(newText);\n                    return true;\n                }\n\n                @Override\n                public boolean onQueryTextChange(String newText) {\n                    courseRVAdapter.getFilter().filter(newText);\n                    return true;\n                }\n            });\n        return true;\n    }\n\n</code></pre>\n<p>My <code>SearchFilter</code> in <code>Adapter</code>:</p>\n<pre><code>    @Override\n    public Filter getFilter() {\n        return new Filter() {\n            @Override\n            protected FilterResults performFiltering(CharSequence charSequence) {\n\n                String charString = charSequence.toString();\n\n                if (charString.isEmpty()) {\n\n                    courseModalArrayList = modelArray;\n                } else {\n\n                    ArrayList&lt;CourseModal&gt; filteredList = new ArrayList&lt;&gt;();\n\n                    for (CourseModal carModel : modelArray) {\n\n                        if (carModel.getCourseName().toLowerCase().contains(charString.toString().toLowerCase()) |\n                            (carModel.getcourseModes().toLowerCase().contains(charString.toString().toLowerCase()))) {\n\n                            filteredList.add(carModel);\n                        }\n                    }\n\n                    courseModalArrayList = filteredList;\n                }\n\n                FilterResults filterResults = new FilterResults();\n                filterResults.values = courseModalArrayList;\n                return filterResults;\n            }\n\n            @Override\n            protected void publishResults(CharSequence charSequence, FilterResults filterResults) {\n                courseModalArrayList = (ArrayList&lt;CourseModal&gt;) filterResults.values;\n                notifyDataSetChanged();\n            }\n        };\n    }\n</code></pre>\n<p>That is, each <code>loadMore</code> loads a Json file, however in the search I need to get results from all files. But the result appears only for the current json file and not all (count) pages of the json. How is this possible?</p>\n<p>I've tried firing all page numbers but it doesn't return just one result</p>\n"},{"tags":["java","azure","azure-keyvault"],"answers":[{"tags":[],"owner":{"account_id":14374450,"reputation":13893,"user_id":10383250,"display_name":"George Chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559813245,"creation_date":1559786272,"answer_id":56470063,"question_id":56460906,"body_markdown":"I believe you have already known the [Microsoft Azure Key Vault SDK for Java][1], in this github page there are many samples. There is sample is [Java Azure Key Vault Deploy Certificates to Vault and Certificate based Authenication][2]. \r\n\r\nThis Sample describes how to create a vault, and put keys and secrets in the vault. It then shows how to inject into a VM at deployment a pfx file from the vault using a template. The sample also shows signing and verification of signature with both Java Security and Azure Key Vault REST used for verfiying the signature. The code calls the vault for the keys and secrets and writes these values to console. This sample also shows how to authenicate using a pfx file.\r\n\r\n**Update:** if you don&#39;t have an app in azure, you could [authenticate \r\n with service principal and a self-signed certificate][3].\r\n\r\nYou need create an Azure service principal, if you wish to authenticate with the certificate authenticator the certificate should be saved locally.\r\n\r\n**Note:**For ADAL authentication, AZURE_CLIENT_ID and AZURE_CLIENT_SECRET also must be set.\r\n\r\nAnd, yes the pathPfx is the Certificate Identifier url, the [`JavaKeyVaultAuthenticator`][4] has [param define][5]  about the path, pfxPassword and clineId.\r\n\r\n\r\n  [1]: https://github.com/Azure/azure-sdk-for-java/tree/master/keyvault/data-plane#microsoft-azure-key-vault-sdk-for-java\r\n  [2]: https://github.com/Azure-Samples/key-vault-java-certificate-authentication/#java-azure-key-vault-deploy-certificates-to-vault-and-certificate-based-authenication\r\n  [3]: https://github.com/Azure-Samples/key-vault-java-authentication\r\n  [4]: https://github.com/Azure-Samples/key-vault-java-certificate-authentication/blob/master/azurekeyVaultPollSample/src/main/java/com/microsoft/JavaKeyVaultAuthenticator.java\r\n  [5]: https://github.com/Azure-Samples/key-vault-java-certificate-authentication/blob/1bb29c68ac121f799b68f32ca812a1aeccd6006a/azurekeyVaultPollSample/src/main/java/com/microsoft/JavaKeyVaultAuthenticator.java#L26","title":"How to fetch certificate stored in Azure KeyVault using Java","body":"<p>I believe you have already known the <a href=\"https://github.com/Azure/azure-sdk-for-java/tree/master/keyvault/data-plane#microsoft-azure-key-vault-sdk-for-java\" rel=\"nofollow noreferrer\">Microsoft Azure Key Vault SDK for Java</a>, in this github page there are many samples. There is sample is <a href=\"https://github.com/Azure-Samples/key-vault-java-certificate-authentication/#java-azure-key-vault-deploy-certificates-to-vault-and-certificate-based-authenication\" rel=\"nofollow noreferrer\">Java Azure Key Vault Deploy Certificates to Vault and Certificate based Authenication</a>. </p>\n\n<p>This Sample describes how to create a vault, and put keys and secrets in the vault. It then shows how to inject into a VM at deployment a pfx file from the vault using a template. The sample also shows signing and verification of signature with both Java Security and Azure Key Vault REST used for verfiying the signature. The code calls the vault for the keys and secrets and writes these values to console. This sample also shows how to authenicate using a pfx file.</p>\n\n<p><strong>Update:</strong> if you don't have an app in azure, you could <a href=\"https://github.com/Azure-Samples/key-vault-java-authentication\" rel=\"nofollow noreferrer\">authenticate \n with service principal and a self-signed certificate</a>.</p>\n\n<p>You need create an Azure service principal, if you wish to authenticate with the certificate authenticator the certificate should be saved locally.</p>\n\n<p>**Note:**For ADAL authentication, AZURE_CLIENT_ID and AZURE_CLIENT_SECRET also must be set.</p>\n\n<p>And, yes the pathPfx is the Certificate Identifier url, the <a href=\"https://github.com/Azure-Samples/key-vault-java-certificate-authentication/blob/master/azurekeyVaultPollSample/src/main/java/com/microsoft/JavaKeyVaultAuthenticator.java\" rel=\"nofollow noreferrer\"><code>JavaKeyVaultAuthenticator</code></a> has <a href=\"https://github.com/Azure-Samples/key-vault-java-certificate-authentication/blob/1bb29c68ac121f799b68f32ca812a1aeccd6006a/azurekeyVaultPollSample/src/main/java/com/microsoft/JavaKeyVaultAuthenticator.java#L26\" rel=\"nofollow noreferrer\">param define</a>  about the path, pfxPassword and clineId.</p>\n"},{"tags":[],"owner":{"account_id":3759576,"reputation":1060,"user_id":3125006,"accept_rate":0,"display_name":"Codev"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1569502067,"creation_date":1569502067,"answer_id":58117166,"question_id":56460906,"body_markdown":"I could not find any information on how to fetch certificates from a key vault in java. My workaround was: I converted my pfx to base64 (e.g. using openssl)\r\n\r\n    $ openssl base64 -in &lt;infile&gt; -out &lt;outfile&gt;\r\n\r\nFrom the resulting string in &lt;outfile&gt; I removed all line breaks. This cleaned base64 string I put as a normal string secret into the vault. I give it the key &quot;cert-base64&quot;\r\n\r\nI recieve the secret with java spring:\r\n\r\n    @Value(&quot;${cert.base64}&quot;) private String CERT_BASE64;\r\n    \r\nIn order to use the file, I decode base64 to byte[]:\r\n\r\n    final byte[] keyStoreData = Base64.getDecoder().decode(CERT_BASE64);\r\n\r\nAnd then I load it into keystore:\r\n\r\n    KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n    keyStore.load(new ByteArrayInputStream(keyStoreData), &quot;pw&quot;.toCharArray());\r\n\r\nActually I used a .jks file instead of .pfx. But this process of storing secret files as string is absolutely generic. (Except some size limit I guess. I tested up to 3KB which worked.)\r\n    \r\n","title":"How to fetch certificate stored in Azure KeyVault using Java","body":"<p>I could not find any information on how to fetch certificates from a key vault in java. My workaround was: I converted my pfx to base64 (e.g. using openssl)</p>\n\n<pre><code>$ openssl base64 -in &lt;infile&gt; -out &lt;outfile&gt;\n</code></pre>\n\n<p>From the resulting string in  I removed all line breaks. This cleaned base64 string I put as a normal string secret into the vault. I give it the key \"cert-base64\"</p>\n\n<p>I recieve the secret with java spring:</p>\n\n<pre><code>@Value(\"${cert.base64}\") private String CERT_BASE64;\n</code></pre>\n\n<p>In order to use the file, I decode base64 to byte[]:</p>\n\n<pre><code>final byte[] keyStoreData = Base64.getDecoder().decode(CERT_BASE64);\n</code></pre>\n\n<p>And then I load it into keystore:</p>\n\n<pre><code>KeyStore keyStore = KeyStore.getInstance(\"JKS\");\nkeyStore.load(new ByteArrayInputStream(keyStoreData), \"pw\".toCharArray());\n</code></pre>\n\n<p>Actually I used a .jks file instead of .pfx. But this process of storing secret files as string is absolutely generic. (Except some size limit I guess. I tested up to 3KB which worked.)</p>\n"},{"tags":[],"owner":{"account_id":8454575,"reputation":68,"user_id":6342314,"display_name":"shwkumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584095322,"creation_date":1584095322,"answer_id":60668781,"question_id":56460906,"body_markdown":"For future reference, if your Java application is running within App Service or any other Azure resource which has a [Managed Identity][1], there is an easier way to do this:\r\n\r\nFirst enable the system-assigned managed identity or user-assigned managed identity of the specified resource. Using the object ID you obtained when enabling the managed identity, specify it in the access policy of the key vault &amp; assign it the necessary permissions. In this case, you would assign the managed identity an access policy of &#39;*get*&#39; for certificates. Once all this is configured, you need to specify the keyvault url in your application.properties.\r\n \r\n`azure.keyvault.uri= # url of the keyvault`\r\n\r\nThen in your Java class where you want to fetch the certificate do the following:\r\n\r\n 1. Import the following packages:\r\n  \r\n```\r\n     import com.microsoft.azure.AzureEnvironment;\r\n     import com.microsoft.azure.credentials.AppServiceMSICredentials;\r\n     import com.microsoft.azure.credentials.AzureTokenCredentials;\r\n     import com.microsoft.azure.keyvault.models.CertificateBundle;\r\n```\r\n 2. To pass credentials, you need to add the following lines:\r\n```\r\n\r\n    AzureTokenCredentials credentials = new AppServiceMSICredentials(AzureEnvironment.AZURE);\r\n    KeyVaultClient keyVaultClient = new KeyVaultClient(credentials);\r\n    CertificateBundle certificateBundle = KeyVaultClient.getCertificate(certificateIdentifier);\r\n\r\n```\r\nThe first line here will automatically allow App Service to authenticate with Azure Keyvault, if you followed the previous steps.\r\n\r\nUsing that, when you call `KeyVaultClient.getCertificate`, it will return you a CertificateBundle in which you can find the certificate contents.\r\n\r\nWith this approach, you don&#39;t have to specify credentials anywhere.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/overview","title":"How to fetch certificate stored in Azure KeyVault using Java","body":"<p>For future reference, if your Java application is running within App Service or any other Azure resource which has a <a href=\"https://learn.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/overview\" rel=\"nofollow noreferrer\">Managed Identity</a>, there is an easier way to do this:</p>\n\n<p>First enable the system-assigned managed identity or user-assigned managed identity of the specified resource. Using the object ID you obtained when enabling the managed identity, specify it in the access policy of the key vault &amp; assign it the necessary permissions. In this case, you would assign the managed identity an access policy of '<em>get</em>' for certificates. Once all this is configured, you need to specify the keyvault url in your application.properties.</p>\n\n<p><code>azure.keyvault.uri= # url of the keyvault</code></p>\n\n<p>Then in your Java class where you want to fetch the certificate do the following:</p>\n\n<ol>\n<li>Import the following packages:</li>\n</ol>\n\n<pre><code>     import com.microsoft.azure.AzureEnvironment;\n     import com.microsoft.azure.credentials.AppServiceMSICredentials;\n     import com.microsoft.azure.credentials.AzureTokenCredentials;\n     import com.microsoft.azure.keyvault.models.CertificateBundle;\n</code></pre>\n\n<ol start=\"2\">\n<li>To pass credentials, you need to add the following lines:</li>\n</ol>\n\n<pre><code>\n    AzureTokenCredentials credentials = new AppServiceMSICredentials(AzureEnvironment.AZURE);\n    KeyVaultClient keyVaultClient = new KeyVaultClient(credentials);\n    CertificateBundle certificateBundle = KeyVaultClient.getCertificate(certificateIdentifier);\n\n</code></pre>\n\n<p>The first line here will automatically allow App Service to authenticate with Azure Keyvault, if you followed the previous steps.</p>\n\n<p>Using that, when you call <code>KeyVaultClient.getCertificate</code>, it will return you a CertificateBundle in which you can find the certificate contents.</p>\n\n<p>With this approach, you don't have to specify credentials anywhere.</p>\n"}],"owner":{"account_id":14064601,"reputation":470,"user_id":10159806,"display_name":"Sahit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6177,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1687819197,"creation_date":1559739233,"question_id":56460906,"body_markdown":"I had stored a .pfx file in Azure Keyvault. I have the values of &quot;Certificate Identifier&quot;, &quot;Key Identifier&quot; , &quot;Secret Identifier&quot;. I want to use .pfx file in a java program. How could I fetch the file from Keyvault?\r\n\r\nI had searched internet and found that we can get certificate using Keyvault\r\n\r\n    KeyVaultClient keyVaultClient = new KeyVaultClient(credentials);\r\n    keyVaultClient.getCertificate(this.keyVaultUri, certificateName, &#39;&#39;);\r\n\r\n1) How to pass credentials to KeyVaultClient?\r\n\r\n2) Do I have to use Azure login credentials in the KeyVaultClient?\r\n\r\n\r\n\r\n    KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n\r\n    //I have to get this .pfx file from Azure Keyvault\r\n\r\n    keyStore.load(new FileInputStream(&quot;.pfx file&quot;), \r\n    keyPassphrase.toCharArray());\r\n    \t   \r\n    SSLContext sslContext = SSLContexts.custom()\r\n        .loadKeyMaterial(keyStore, keyPassphrase.toCharArray())\r\n        .build();\r\n    \r\n    HttpClient httpClient = \r\n    HttpClients.custom().setSSLContext(sslContext).build();","title":"How to fetch certificate stored in Azure KeyVault using Java","body":"<p>I had stored a .pfx file in Azure Keyvault. I have the values of \"Certificate Identifier\", \"Key Identifier\" , \"Secret Identifier\". I want to use .pfx file in a java program. How could I fetch the file from Keyvault?</p>\n\n<p>I had searched internet and found that we can get certificate using Keyvault</p>\n\n<pre><code>KeyVaultClient keyVaultClient = new KeyVaultClient(credentials);\nkeyVaultClient.getCertificate(this.keyVaultUri, certificateName, '');\n</code></pre>\n\n<p>1) How to pass credentials to KeyVaultClient?</p>\n\n<p>2) Do I have to use Azure login credentials in the KeyVaultClient?</p>\n\n<pre><code>KeyStore keyStore = KeyStore.getInstance(\"JKS\");\n\n//I have to get this .pfx file from Azure Keyvault\n\nkeyStore.load(new FileInputStream(\".pfx file\"), \nkeyPassphrase.toCharArray());\n\nSSLContext sslContext = SSLContexts.custom()\n    .loadKeyMaterial(keyStore, keyPassphrase.toCharArray())\n    .build();\n\nHttpClient httpClient = \nHttpClients.custom().setSSLContext(sslContext).build();\n</code></pre>\n"},{"tags":["java","android","video-streaming"],"owner":{"account_id":28900689,"reputation":1,"user_id":22135721,"display_name":"mahdi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687818976,"creation_date":1687818976,"question_id":76560624,"body_markdown":"I receive esp32cam camera images in ByteBuffer format using websocket and upload them online using wifi.\r\nReceiving this content is like an infinite loop that returns 25 frames per second and by converting these ByteBuffers to Bitstamps, I show them in imageView.\r\nSo far so good and I have a preview of snapshots without sound.\r\n\r\nThe problem is that I can&#39;t record these images in real time like recording video with a mobile phone.\r\nIn addition to video recording, I also need to mix the sound on the video at the same time.\r\nThe sound should be taken separately from the mobile microphone and mixed on the video.\r\n\r\nFinally I need to record in full video with audio to external memory from websocket.\r\n\r\nThis is my code.\r\n\r\n\r\n```\r\nmWebSocketClient = new WebSocketClient(uri) {\r\n            @Override\r\n            public void onOpen(ServerHandshake serverHandshake) {\r\n                Log.d(&quot;Websocket&quot;, &quot;Open&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onClose(int i, String s, boolean b) {\r\n                Log.d(&quot;Websocket&quot;, &quot;Closed &quot; + s);\r\n                try {\r\n                    encoder.finish();\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onMessage(String message) {\r\n                Log.d(&quot;Websocket&quot;, &quot;Receive&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onMessage(ByteBuffer message) {\r\n                byte[] imageBytes = new byte[message.remaining()];\r\n                message.get(imageBytes);\r\n                final Bitmap bmp = BitmapFactory.decodeByteArray(imageBytes, 0, imageBytes.length);\r\n                if (bmp == null) {\r\n                    return;\r\n                }\r\n                bitmapList.add(bmp);\r\n                activity.runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        if (bind!=null){\r\n                            mainImageView.setImageBitmap(bmp);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public void onError(Exception e) {\r\n                Log.d(&quot;Websocket&quot;, &quot;Error &quot; + e.getMessage());\r\n            }\r\n        };\r\n        mWebSocketClient.connect();\r\n```\r\n\r\n\r\nUsing the jcodec library, I stitched the bitmaps together and the video was made without sound, but it took a lot of time.\r\nFor every 15 seconds, one minute of time was required for streaming, which was not possible for long periods of time","title":"how record video by result websocket by mediarecorder in android studio","body":"<p>I receive esp32cam camera images in ByteBuffer format using websocket and upload them online using wifi.\nReceiving this content is like an infinite loop that returns 25 frames per second and by converting these ByteBuffers to Bitstamps, I show them in imageView.\nSo far so good and I have a preview of snapshots without sound.</p>\n<p>The problem is that I can't record these images in real time like recording video with a mobile phone.\nIn addition to video recording, I also need to mix the sound on the video at the same time.\nThe sound should be taken separately from the mobile microphone and mixed on the video.</p>\n<p>Finally I need to record in full video with audio to external memory from websocket.</p>\n<p>This is my code.</p>\n<pre><code>mWebSocketClient = new WebSocketClient(uri) {\n            @Override\n            public void onOpen(ServerHandshake serverHandshake) {\n                Log.d(&quot;Websocket&quot;, &quot;Open&quot;);\n            }\n\n            @Override\n            public void onClose(int i, String s, boolean b) {\n                Log.d(&quot;Websocket&quot;, &quot;Closed &quot; + s);\n                try {\n                    encoder.finish();\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n\n            @Override\n            public void onMessage(String message) {\n                Log.d(&quot;Websocket&quot;, &quot;Receive&quot;);\n            }\n\n            @Override\n            public void onMessage(ByteBuffer message) {\n                byte[] imageBytes = new byte[message.remaining()];\n                message.get(imageBytes);\n                final Bitmap bmp = BitmapFactory.decodeByteArray(imageBytes, 0, imageBytes.length);\n                if (bmp == null) {\n                    return;\n                }\n                bitmapList.add(bmp);\n                activity.runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        if (bind!=null){\n                            mainImageView.setImageBitmap(bmp);\n                        }\n                    }\n                });\n            }\n\n            @Override\n            public void onError(Exception e) {\n                Log.d(&quot;Websocket&quot;, &quot;Error &quot; + e.getMessage());\n            }\n        };\n        mWebSocketClient.connect();\n</code></pre>\n<p>Using the jcodec library, I stitched the bitmaps together and the video was made without sound, but it took a lot of time.\nFor every 15 seconds, one minute of time was required for streaming, which was not possible for long periods of time</p>\n"},{"tags":["java","spring","spring-boot","kotlin","gradle"],"comments":[{"owner":{"account_id":4536435,"reputation":325,"user_id":3685527,"display_name":"Umit"},"score":0,"creation_date":1665139799,"post_id":73985400,"comment_id":130635100,"body_markdown":"FatJar has all the resources, including your files, required for jar to run. However, plain jar which is generated by jar task does not include your files. Not sure why you want to use plain jar, but my advice is to extend jar task so that you can include your files, too.","body":"FatJar has all the resources, including your files, required for jar to run. However, plain jar which is generated by jar task does not include your files. Not sure why you want to use plain jar, but my advice is to extend jar task so that you can include your files, too."},{"owner":{"account_id":20998229,"reputation":93,"user_id":15429538,"display_name":"kinda_raffy"},"score":0,"creation_date":1665143619,"post_id":73985400,"comment_id":130636429,"body_markdown":"Hey @Umit. I believe I am using a fat jar. I have compiled the application via `gradle bootJar`, but the files under `main/resources/dummy are not being created :(","body":"Hey @Umit. I believe I am using a fat jar. I have compiled the application via <code>gradle bootJar</code>, but the files under `main/resources/dummy are not being created :("}],"answers":[{"tags":[],"owner":{"account_id":7763161,"reputation":313,"user_id":5875230,"display_name":"Pickled Brain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687818853,"creation_date":1687818853,"answer_id":76560614,"question_id":73985400,"body_markdown":"I think by default, the bootJar task only copies files directly under resources, and folders named either &quot;public&quot; or &quot;static&quot;. A good way to test this is to put your `dummy` folder under the `static` folder and see if it automagically gets included. If you want folders that aren&#39;t named those to be added to the jar, you need to add a copy task to the bootJar task in the gradle build. This is an example (in gradle 7.3) where I copy asciidoctor output into the static/docs directory of the jar\r\n\r\n```\r\n\tbootJar {\r\n    \tdependsOn(asciidoctor)\r\n\t\tif (project.hasProperty(&quot;doc&quot;)) {\r\n    \t\tfrom (&quot;${asciidoctor.get().outputDir}&quot;) {\r\n    \t\t\tinto(&quot;static/docs&quot;)\r\n        \t}\r\n\t\t}\r\n\t}\r\n```\r\n\r\nYour&#39;s might look something like (syntax may be wrong, but hopefully you get the idea) which should include everything\r\n```\r\n\tbootJar {\r\n      from(&quot;src/main/resources&quot;) {\r\n          include(&quot;**/*.*&quot;)\r\n      }\r\n\t}\r\n```\r\nor (I think it&#39;ll create the dummy folder for you -- again, not tested)\r\n```\r\n    bootJar {\r\n      from(&quot;src/main/resources/dummy&quot;) {\r\n          into(&quot;dummy/&quot;)\r\n      }\r\n\t}\r\n```","title":"Package Regular Files with JAR using build.gradle.kts in Spring Boot","body":"<p>I think by default, the bootJar task only copies files directly under resources, and folders named either &quot;public&quot; or &quot;static&quot;. A good way to test this is to put your <code>dummy</code> folder under the <code>static</code> folder and see if it automagically gets included. If you want folders that aren't named those to be added to the jar, you need to add a copy task to the bootJar task in the gradle build. This is an example (in gradle 7.3) where I copy asciidoctor output into the static/docs directory of the jar</p>\n<pre><code>    bootJar {\n        dependsOn(asciidoctor)\n        if (project.hasProperty(&quot;doc&quot;)) {\n            from (&quot;${asciidoctor.get().outputDir}&quot;) {\n                into(&quot;static/docs&quot;)\n            }\n        }\n    }\n</code></pre>\n<p>Your's might look something like (syntax may be wrong, but hopefully you get the idea) which should include everything</p>\n<pre><code>    bootJar {\n      from(&quot;src/main/resources&quot;) {\n          include(&quot;**/*.*&quot;)\n      }\n    }\n</code></pre>\n<p>or (I think it'll create the dummy folder for you -- again, not tested)</p>\n<pre><code>    bootJar {\n      from(&quot;src/main/resources/dummy&quot;) {\n          into(&quot;dummy/&quot;)\n      }\n    }\n</code></pre>\n"}],"owner":{"account_id":20998229,"reputation":93,"user_id":15429538,"display_name":"kinda_raffy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687818853,"creation_date":1665136438,"question_id":73985400,"body_markdown":"**Question:** How do I include regular .txt config files within my JAR using `build.gradle.kts`?\r\n\r\n**Problem:**\r\n\r\nI need to create a JAR that can run independently of its file location. I use txt config files to set up my Spring Boot application. These files are under `main/resources/dummy/*`.\r\n\r\nWhen I build the application, nothing under `dummy/*` gets added to the JAR.\r\n\r\nHere is a visualisation of the file structure:\r\n\r\n```\r\n.\r\n src\r\n     main\r\n     &#160;&#160;  kotlin\r\n     &#160;&#160; &#160;&#160; &lt;Source code&gt; \r\n     &#160;&#160;  resources\r\n     &#160;&#160;  &#160;&#160;  application.properties\r\n     &#160;&#160;  &#160;&#160;  dummy\r\n     &#160;&#160;  &#160;&#160; |&#160;&#160;  cache\r\n     &#160;&#160;  &#160;&#160; |&#160;&#160; &#160;&#160;  dataExample1.cache\r\n     &#160;&#160;  &#160;&#160; |&#160;&#160; &#160;&#160;  dataExample2.cache\r\n     &#160;&#160;  &#160;&#160; |&#160;&#160;  data\r\n     &#160;&#160;  &#160;&#160; |&#160;&#160;      dataExample3.txt\r\n     &#160;&#160;  &#160;&#160; |&#160;&#160;      dataExample4.txt\r\n     &#160;&#160;  &#160;&#160;  static\r\n                 &lt;Static files&gt;\r\n```","title":"Package Regular Files with JAR using build.gradle.kts in Spring Boot","body":"<p><strong>Question:</strong> How do I include regular .txt config files within my JAR using <code>build.gradle.kts</code>?</p>\n<p><strong>Problem:</strong></p>\n<p>I need to create a JAR that can run independently of its file location. I use txt config files to set up my Spring Boot application. These files are under <code>main/resources/dummy/*</code>.</p>\n<p>When I build the application, nothing under <code>dummy/*</code> gets added to the JAR.</p>\n<p>Here is a visualisation of the file structure:</p>\n<pre><code>.\n src\n     main\n       kotlin\n       &lt;Source code&gt; \n       resources\n         application.properties\n         dummy\n        |  cache\n        |   dataExample1.cache\n        |   dataExample2.cache\n        |  data\n        |      dataExample3.txt\n        |      dataExample4.txt\n         static\n                 &lt;Static files&gt;\n</code></pre>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":11092824,"reputation":484,"user_id":8144061,"accept_rate":100,"display_name":"Wing Kui Tsoi"},"score":0,"creation_date":1687572345,"post_id":76544095,"comment_id":134960104,"body_markdown":"The second code should be ok I have tested with pdfbox 2.0.1. PDDocument.load(new File(&quot;pdf.pdf&quot;)); My result is 98 pages.","body":"The second code should be ok I have tested with pdfbox 2.0.1. PDDocument.load(new File(&quot;pdf.pdf&quot;)); My result is 98 pages."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1687586252,"post_id":76544095,"comment_id":134960681,"body_markdown":"Most likely your pdf simply has only 1 page. You may have a PDF with an xfa Form definition. Such pdfs often contain just one pdf page plus the form which may be displayed as many pages.","body":"Most likely your pdf simply has only 1 page. You may have a PDF with an xfa Form definition. Such pdfs often contain just one pdf page plus the form which may be displayed as many pages."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1687594871,"post_id":76544095,"comment_id":134961388,"body_markdown":"@WingKuiTsoi The current PDFBox version is 2.0.28.","body":"@WingKuiTsoi The current PDFBox version is 2.0.28."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1687594895,"post_id":76544095,"comment_id":134961389,"body_markdown":"Please share your PDF (upload to sharehoster).","body":"Please share your PDF (upload to sharehoster)."},{"owner":{"account_id":11092824,"reputation":484,"user_id":8144061,"accept_rate":100,"display_name":"Wing Kui Tsoi"},"score":0,"creation_date":1687598508,"post_id":76544095,"comment_id":134961691,"body_markdown":"I randomly searched sample pdf for you which is from Arfica University. 2.0.28 version can make it. https://www.africau.edu/images/default/sample.pdf","body":"I randomly searched sample pdf for you which is from Arfica University. 2.0.28 version can make it. <a href=\"https://www.africau.edu/images/default/sample.pdf\" rel=\"nofollow noreferrer\">africau.edu/images/default/sample.pdf</a>"},{"owner":{"account_id":23346680,"reputation":13,"user_id":17420863,"display_name":"Vladek 721"},"score":0,"creation_date":1687733839,"post_id":76544095,"comment_id":134973815,"body_markdown":"@Tilman Hausherr\n\nHere is the file. Thanks a lot in advance for any suggestions and help! \n\nhttps://na4520.sharefile.com/d-sb6cff0a54af942f78a07404c3ba1a18e","body":"@Tilman Hausherr  Here is the file. Thanks a lot in advance for any suggestions and help!   <a href=\"https://na4520.sharefile.com/d-sb6cff0a54af942f78a07404c3ba1a18e\" rel=\"nofollow noreferrer\">na4520.sharefile.com/d-sb6cff0a54af942f78a07404c3ba1a18e</a>"},{"owner":{"account_id":23346680,"reputation":13,"user_id":17420863,"display_name":"Vladek 721"},"score":0,"creation_date":1687733985,"post_id":76544095,"comment_id":134973827,"body_markdown":"@mkl how can I check if my PDF is that format that you described? Here is the link to my file: https://na4520.sharefile.com/d-sb6cff0a54af942f78a07404c3ba1a18e\nIf you could please tell me what is wrong with this file and give me some suggestions on how I can read all the pages, I would very much appreciate it! Thank you in advance!","body":"@mkl how can I check if my PDF is that format that you described? Here is the link to my file: <a href=\"https://na4520.sharefile.com/d-sb6cff0a54af942f78a07404c3ba1a18e\" rel=\"nofollow noreferrer\">na4520.sharefile.com/d-sb6cff0a54af942f78a07404c3ba1a18e</a> If you could please tell me what is wrong with this file and give me some suggestions on how I can read all the pages, I would very much appreciate it! Thank you in advance!"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1687769229,"post_id":76544095,"comment_id":134977651,"body_markdown":"Your link requires login data which I don&#39;t have.","body":"Your link requires login data which I don&#39;t have."},{"owner":{"account_id":23346680,"reputation":13,"user_id":17420863,"display_name":"Vladek 721"},"score":0,"creation_date":1687785927,"post_id":76544095,"comment_id":134981098,"body_markdown":"@mkl Most of the sharing portals require you to have an account with them. it is free, you can sign in with your Gmail.","body":"@mkl Most of the sharing portals require you to have an account with them. it is free, you can sign in with your Gmail."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1687789537,"post_id":76544095,"comment_id":134981977,"body_markdown":"@Vladek721 None of us would sign up, even if it&#39;s free. Use one that doesn&#39;t require signup. Filedropper or google drive.","body":"@Vladek721 None of us would sign up, even if it&#39;s free. Use one that doesn&#39;t require signup. Filedropper or google drive."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1687790233,"post_id":76544095,"comment_id":134982138,"body_markdown":"*&quot;Most of the sharing portals require you to have an account with them.&quot;* - Not in my experience, at least not for the downloader if the uploader selects it so. (BTW, another no-go would be excessive advertisements.)","body":"<i>&quot;Most of the sharing portals require you to have an account with them.&quot;</i> - Not in my experience, at least not for the downloader if the uploader selects it so. (BTW, another no-go would be excessive advertisements.)"},{"owner":{"account_id":23346680,"reputation":13,"user_id":17420863,"display_name":"Vladek 721"},"score":0,"creation_date":1687791898,"post_id":76544095,"comment_id":134982584,"body_markdown":"@Tilman Hausherr Thank you for providing other options. I used Gdrive this time. \n\nhttps://drive.google.com/file/d/107NZDAXOALVmJoOFEHAuLMIgSWSS1CCd/view?usp=sharing","body":"@Tilman Hausherr Thank you for providing other options. I used Gdrive this time.   <a href=\"https://drive.google.com/file/d/107NZDAXOALVmJoOFEHAuLMIgSWSS1CCd/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/107NZDAXOALVmJoOFEHAuLMIgSWSS1CCd/&hellip;</a>"},{"owner":{"account_id":23346680,"reputation":13,"user_id":17420863,"display_name":"Vladek 721"},"score":1,"creation_date":1687791904,"post_id":76544095,"comment_id":134982587,"body_markdown":"@mkl I hope this link will work for you as well. Sorry for the inconvenience with the previous link.\n\nhttps://drive.google.com/file/d/107NZDAXOALVmJoOFEHAuLMIgSWSS1CCd/view?usp=sharing","body":"@mkl I hope this link will work for you as well. Sorry for the inconvenience with the previous link.  <a href=\"https://drive.google.com/file/d/107NZDAXOALVmJoOFEHAuLMIgSWSS1CCd/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/107NZDAXOALVmJoOFEHAuLMIgSWSS1CCd/&hellip;</a>"},{"owner":{"account_id":23346680,"reputation":13,"user_id":17420863,"display_name":"Vladek 721"},"score":0,"creation_date":1687794825,"post_id":76544095,"comment_id":134983248,"body_markdown":"@KJ Could you please give me a few examples of a &quot;bad filename or an access rights problem&quot;? I thought since I could access the PDF file and my code read at least one, first page, that the file is accessible to the system, I could open it manually as the same user that my code use. But maybe I am wrong... Also, I don&#39;t understand what could be wrong with the name, if, again, the file opens with the code and reads at least, one page. Please point me in the right direction if you could, thank you in advance!","body":"@KJ Could you please give me a few examples of a &quot;bad filename or an access rights problem&quot;? I thought since I could access the PDF file and my code read at least one, first page, that the file is accessible to the system, I could open it manually as the same user that my code use. But maybe I am wrong... Also, I don&#39;t understand what could be wrong with the name, if, again, the file opens with the code and reads at least, one page. Please point me in the right direction if you could, thank you in advance!"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1687799205,"post_id":76544095,"comment_id":134984139,"body_markdown":"I could not reproduce your issue, in my test `document.getNumberOfPages()` returns 14 for your file. Which PDFBox version do you use? I tested with the current PDFBox 2 version 2.0.28.","body":"I could not reproduce your issue, in my test <code>document.getNumberOfPages()</code> returns 14 for your file. Which PDFBox version do you use? I tested with the current PDFBox 2 version 2.0.28."}],"answers":[{"tags":[],"owner":{"account_id":23346680,"reputation":13,"user_id":17420863,"display_name":"Vladek 721"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687817501,"creation_date":1687817501,"answer_id":76560515,"question_id":76544095,"body_markdown":"I faced an issue where I was mistakenly opening a different PDF file with a similar name and identical first page. It took me a while to identify the problem, but I&#39;m grateful for everyone who responded and attempted to assist me. I truly appreciate your help! This experience served as a reminder to always debug code step by step and pay close attention to details in order to avoid similar issues. Best of luck to you all!","title":"org.apache.pdfbox.pdmodel.PDDocument retrieve only 1 page from my PDF file","body":"<p>I faced an issue where I was mistakenly opening a different PDF file with a similar name and identical first page. It took me a while to identify the problem, but I'm grateful for everyone who responded and attempted to assist me. I truly appreciate your help! This experience served as a reminder to always debug code step by step and pay close attention to details in order to avoid similar issues. Best of luck to you all!</p>\n"}],"owner":{"account_id":23346680,"reputation":13,"user_id":17420863,"display_name":"Vladek 721"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687817501,"creation_date":1687566176,"question_id":76544095,"body_markdown":"I am trying ro read PDF file with Java and pdfbox, but it returns only 1 page (first). What could be an issue? please help.\r\n\r\nhere is my code:\r\n\r\n```\r\npublic static PDDocument openPDFfile(String path) {\r\n\r\n\t\tPDDocument document = null;\r\n\t\ttry {\r\n\t\t\tURL url = new URL(path);\r\n\t\t\tBufferedInputStream file = new BufferedInputStream(url.openStream());\r\n\t\t\tdocument = PDDocument.load(file);\r\n                        System.out.println(document.getNumberOfPages());\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tSystem.out.println(&quot;The PDF file doesnt exist&quot;);\r\n\t\t}\r\n\t\treturn document;\r\n\t}\r\n```\r\nconsole output:\r\n1\r\n\r\n\r\nI tried w/o BufferedInputStream and URL, the same result. \r\n\r\n```\r\npublic static PDDocument openPDFfile(String path) {\r\n\r\n\t\tPDDocument document = null;\r\n\t\ttry {\t\t\t\r\n\t\t\tdocument = PDDocument.load(new File(&quot;pdf.pdf&quot;));\r\n                        System.out.println(document.getNumberOfPages());\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tSystem.out.println(&quot;The PDF file doesnt exist&quot;);\r\n\t\t}\r\n\t\treturn document;\r\n\t}\r\n```\r\n\r\n\r\nI guess it could be related to the file format, but I cant found out it, or maybe the way my security software blocks a certain java tasks. The file: https://drive.google.com/file/d/107NZDAXOALVmJoOFEHAuLMIgSWSS1CCd/view?usp=sharing","title":"org.apache.pdfbox.pdmodel.PDDocument retrieve only 1 page from my PDF file","body":"<p>I am trying ro read PDF file with Java and pdfbox, but it returns only 1 page (first). What could be an issue? please help.</p>\n<p>here is my code:</p>\n<pre><code>public static PDDocument openPDFfile(String path) {\n\n        PDDocument document = null;\n        try {\n            URL url = new URL(path);\n            BufferedInputStream file = new BufferedInputStream(url.openStream());\n            document = PDDocument.load(file);\n                        System.out.println(document.getNumberOfPages());\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.out.println(&quot;The PDF file doesnt exist&quot;);\n        }\n        return document;\n    }\n</code></pre>\n<p>console output:\n1</p>\n<p>I tried w/o BufferedInputStream and URL, the same result.</p>\n<pre><code>public static PDDocument openPDFfile(String path) {\n\n        PDDocument document = null;\n        try {           \n            document = PDDocument.load(new File(&quot;pdf.pdf&quot;));\n                        System.out.println(document.getNumberOfPages());\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.out.println(&quot;The PDF file doesnt exist&quot;);\n        }\n        return document;\n    }\n</code></pre>\n<p>I guess it could be related to the file format, but I cant found out it, or maybe the way my security software blocks a certain java tasks. The file: <a href=\"https://drive.google.com/file/d/107NZDAXOALVmJoOFEHAuLMIgSWSS1CCd/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/107NZDAXOALVmJoOFEHAuLMIgSWSS1CCd/view?usp=sharing</a></p>\n"},{"tags":["java","ubuntu","freerdp"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687817136,"creation_date":1687817136,"answer_id":76560491,"question_id":76560471,"body_markdown":"bash isn&#39;t the OS. When you type e.g.:\r\n\r\n```\r\nxfreerdp /u:&quot;foo&quot;\r\n```\r\n\r\nbash takes that command and goes to town on it. it replaces `*` with a space separated list of all files, it does variable substitution, and crucially it __removes all quotes__ (double and single) as those are signs _to bash_ to do certain things (double quotes: Don&#39;t consider spaces inside them to separate arguments, single quotes: Same, _and_ do not perform certain expansions, such as globs (`*`) inside them).\r\n\r\n`ProcessBuilder`/`Runtime.exec` __do not use bash__. And bash is not the OS. They send the provided command and args __directly__ to the OS with very little processing. Thus, it literally sends `/u:&quot;foo&quot;` to the xfreerdp process, whereas bash would remove those quotes.\r\n\r\nsolution: Ditch the quotes. There is no need for them - they serve to tell bash not to split args on spaces within, and with processbuilder _there is no arg splitting at all_ - you pass each arg as a separate string already.\r\n ","title":"Output of process in Java is different from normal command","body":"<p>bash isn't the OS. When you type e.g.:</p>\n<pre><code>xfreerdp /u:&quot;foo&quot;\n</code></pre>\n<p>bash takes that command and goes to town on it. it replaces <code>*</code> with a space separated list of all files, it does variable substitution, and crucially it <strong>removes all quotes</strong> (double and single) as those are signs <em>to bash</em> to do certain things (double quotes: Don't consider spaces inside them to separate arguments, single quotes: Same, <em>and</em> do not perform certain expansions, such as globs (<code>*</code>) inside them).</p>\n<p><code>ProcessBuilder</code>/<code>Runtime.exec</code> <strong>do not use bash</strong>. And bash is not the OS. They send the provided command and args <strong>directly</strong> to the OS with very little processing. Thus, it literally sends <code>/u:&quot;foo&quot;</code> to the xfreerdp process, whereas bash would remove those quotes.</p>\n<p>solution: Ditch the quotes. There is no need for them - they serve to tell bash not to split args on spaces within, and with processbuilder <em>there is no arg splitting at all</em> - you pass each arg as a separate string already.</p>\n"}],"owner":{"account_id":21326178,"reputation":73,"user_id":15698505,"display_name":"Ahmet Hakan YILDIZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687817136,"creation_date":1687816771,"question_id":76560471,"body_markdown":"I am trying to write code which runs xfreerdp. When I write like this:\r\n\r\n            String usernameWithPrefix = &quot;/u:\\&quot;&quot;+c.getUsername()+&quot;\\&quot;&quot;;\r\n            String passwordWithPrefix = &quot;/p:\\&quot;&quot;+c.getPassword()+&quot;\\&quot;&quot;;\r\n            String targetIpAdressWithPrefix = &quot;/v:&quot;+targetIpAdress;\r\n\r\n            processBuilder.command(&quot;xfreerdp&quot;,usernameWithPrefix,passwordWithPrefix,targetIpAdressWithPrefix,&quot;+auth-only&quot;,&quot;/cert:ignore&quot;);\r\n            processBuilder.redirectErrorStream(true);\r\n            process = processBuilder.start();\r\n            process.waitFor();\r\n            String res = new String(process.getInputStream().readAllBytes());\r\nOutput is like that although credentials is valid:\r\n\r\n[00:53:49:700] [161077:161078] [WARN][com.freerdp.core.nla] - SPNEGO received NTSTATUS: STATUS_LOGON_FAILURE [0xC000006D] from server\r\n\r\n[00:53:49:700] [161077:161078] [ERROR][com.freerdp.core] - nla_recv_pdu:freerdp_set_last_error_ex ERRCONNECT_LOGON_FAILURE [0x00020014]\r\n\r\n[00:53:49:700] [161077:161078] [ERROR][com.freerdp.core.rdp] - rdp_recv_callback: CONNECTION_STATE_NLA - nla_recv_pdu() fail\r\n\r\n[00:53:49:700] [161077:161078] [ERROR][com.freerdp.core.transport] - transport_check_fds: transport-&gt;ReceiveCallback() - -1\r\n\r\n[00:53:49:700] [161077:161078] [ERROR][com.freerdp.core] - Authentication only, exit status 1\r\n\r\n[00:53:48:174] [161077:161078] [INFO][com.freerdp.client.x11] - Authentication only. Don&#39;t connect to X.\r\n\r\nWhen I run command in terminal, I get normal output which says credentials is valid. Also, when I write code like this:\r\n\r\n            String usernameWithPrefix = &quot;/u:\\&quot;&quot;+c.getUsername()+&quot;\\&quot;&quot;;\r\n            String passwordWithPrefix = &quot;/p:\\&quot;&quot;+c.getPassword()+&quot;\\&quot;&quot;;\r\n            String targetIpAdressWithPrefix = &quot;/v:&quot;+targetIpAdress;\r\n\r\n            processBuilder.command(&quot;/bin/bash&quot;,&quot;-c&quot;,&quot;xfreerdp &quot;+usernameWithPrefix+&quot; &quot;+passwordWithPrefix+&quot; &quot;+targetIpAdressWithPrefix+&quot; +auth-only /cert:ignore&quot;);\r\n            processBuilder.redirectErrorStream(true);\r\n            process = processBuilder.start();\r\n            process.waitFor();\r\n            String res = new String(process.getInputStream().readAllBytes());\r\nI am getting normal output again. I solved my problem with &quot;/bin/bash -c command&quot; but I wonder why first version of my code does not work properly.","title":"Output of process in Java is different from normal command","body":"<p>I am trying to write code which runs xfreerdp. When I write like this:</p>\n<pre><code>        String usernameWithPrefix = &quot;/u:\\&quot;&quot;+c.getUsername()+&quot;\\&quot;&quot;;\n        String passwordWithPrefix = &quot;/p:\\&quot;&quot;+c.getPassword()+&quot;\\&quot;&quot;;\n        String targetIpAdressWithPrefix = &quot;/v:&quot;+targetIpAdress;\n\n        processBuilder.command(&quot;xfreerdp&quot;,usernameWithPrefix,passwordWithPrefix,targetIpAdressWithPrefix,&quot;+auth-only&quot;,&quot;/cert:ignore&quot;);\n        processBuilder.redirectErrorStream(true);\n        process = processBuilder.start();\n        process.waitFor();\n        String res = new String(process.getInputStream().readAllBytes());\n</code></pre>\n<p>Output is like that although credentials is valid:</p>\n<p>[00:53:49:700] [161077:161078] [WARN][com.freerdp.core.nla] - SPNEGO received NTSTATUS: STATUS_LOGON_FAILURE [0xC000006D] from server</p>\n<p>[00:53:49:700] [161077:161078] [ERROR][com.freerdp.core] - nla_recv_pdu:freerdp_set_last_error_ex ERRCONNECT_LOGON_FAILURE [0x00020014]</p>\n<p>[00:53:49:700] [161077:161078] [ERROR][com.freerdp.core.rdp] - rdp_recv_callback: CONNECTION_STATE_NLA - nla_recv_pdu() fail</p>\n<p>[00:53:49:700] [161077:161078] [ERROR][com.freerdp.core.transport] - transport_check_fds: transport-&gt;ReceiveCallback() - -1</p>\n<p>[00:53:49:700] [161077:161078] [ERROR][com.freerdp.core] - Authentication only, exit status 1</p>\n<p>[00:53:48:174] [161077:161078] [INFO][com.freerdp.client.x11] - Authentication only. Don't connect to X.</p>\n<p>When I run command in terminal, I get normal output which says credentials is valid. Also, when I write code like this:</p>\n<pre><code>        String usernameWithPrefix = &quot;/u:\\&quot;&quot;+c.getUsername()+&quot;\\&quot;&quot;;\n        String passwordWithPrefix = &quot;/p:\\&quot;&quot;+c.getPassword()+&quot;\\&quot;&quot;;\n        String targetIpAdressWithPrefix = &quot;/v:&quot;+targetIpAdress;\n\n        processBuilder.command(&quot;/bin/bash&quot;,&quot;-c&quot;,&quot;xfreerdp &quot;+usernameWithPrefix+&quot; &quot;+passwordWithPrefix+&quot; &quot;+targetIpAdressWithPrefix+&quot; +auth-only /cert:ignore&quot;);\n        processBuilder.redirectErrorStream(true);\n        process = processBuilder.start();\n        process.waitFor();\n        String res = new String(process.getInputStream().readAllBytes());\n</code></pre>\n<p>I am getting normal output again. I solved my problem with &quot;/bin/bash -c command&quot; but I wonder why first version of my code does not work properly.</p>\n"},{"tags":["java","minecraft","spigot"],"answers":[{"tags":[],"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687784834,"creation_date":1687782874,"answer_id":76556727,"question_id":76556503,"body_markdown":"&lt;h3&gt; Minecraft Java Inventory Task &lt;/h3&gt;\r\n\r\nThere I have a solution. The first code snippet is for checking if an item is in inventory without quantity.\r\n\r\n**The Code:**\r\n\r\n    @EventHandler\r\n    public void checkInventory(InventoryClickEvent e) {\r\n        if (e.getWhoClicked() instanceof Player) {\r\n            Player player = (Player) e.getWhoClicked();\r\n            ItemStack item = new ItemStack(Material.DIAMOND_ORE);\r\n    \r\n            if (player.getInventory().contains(item)) {\r\n                player.sendMessage(&quot;Yes&quot;);\r\n            } else {\r\n                player.sendMessage(&quot;No&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nHere you also have a method where you can check with quantity.\r\n\r\n**The Code:**\r\n```java\r\n@EventHandler\r\npublic void checkInventory(InventoryClickEvent e) {\r\n    if (e.getWhoClicked() instanceof Player) {\r\n        Player player = (Player) e.getWhoClicked();\r\n        ItemStack item = new ItemStack(Material.DIAMOND_ORE);\r\n        int desiredQuantity = 2;\r\n        int itemCount = 0;\r\n\r\n        for (ItemStack stack : player.getInventory().getContents()) {\r\n            if (stack != null &amp;&amp; stack.isSimilar(item)) {\r\n                itemCount += stack.getAmount();\r\n            }\r\n        }\r\n\r\n        if (itemCount &gt;= desiredQuantity) {\r\n            player.sendMessage(&quot;Yes&quot;);\r\n        } else {\r\n            player.sendMessage(&quot;No&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"Checking a Player for a Specific Item in Minecraft SpigotAPI Inventory","body":"<h3> Minecraft Java Inventory Task </h3>\n<p>There I have a solution. The first code snippet is for checking if an item is in inventory without quantity.</p>\n<p><strong>The Code:</strong></p>\n<pre><code>@EventHandler\npublic void checkInventory(InventoryClickEvent e) {\n    if (e.getWhoClicked() instanceof Player) {\n        Player player = (Player) e.getWhoClicked();\n        ItemStack item = new ItemStack(Material.DIAMOND_ORE);\n\n        if (player.getInventory().contains(item)) {\n            player.sendMessage(&quot;Yes&quot;);\n        } else {\n            player.sendMessage(&quot;No&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Here you also have a method where you can check with quantity.</p>\n<p><strong>The Code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@EventHandler\npublic void checkInventory(InventoryClickEvent e) {\n    if (e.getWhoClicked() instanceof Player) {\n        Player player = (Player) e.getWhoClicked();\n        ItemStack item = new ItemStack(Material.DIAMOND_ORE);\n        int desiredQuantity = 2;\n        int itemCount = 0;\n\n        for (ItemStack stack : player.getInventory().getContents()) {\n            if (stack != null &amp;&amp; stack.isSimilar(item)) {\n                itemCount += stack.getAmount();\n            }\n        }\n\n        if (itemCount &gt;= desiredQuantity) {\n            player.sendMessage(&quot;Yes&quot;);\n        } else {\n            player.sendMessage(&quot;No&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22536265,"reputation":47,"user_id":16727528,"display_name":"Venom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76556727,"answer_count":1,"score":1,"last_activity_date":1687815754,"creation_date":1687781060,"question_id":76556503,"body_markdown":"I need to find out if a player has a certain item in their inventory. I tried to find it in the documentation, but it is so terrible (as for me) that I could not find it.\r\nSo far, there is such a code that works, but it works when a player places or breaks a block with the item I need, and I need it to be constantly tracked. For example, I wrote a command and it turned out that there is such an object, or not. \r\n\r\n\r\n    @EventHandler\r\n    public  void yes(PlayerInteractEvent e){\r\n        Player player = e.getPlayer();\r\n        ItemStack item = e.getItem();\r\n        if(item.getType() == Material.DIAMOND_ORE){\r\n            player.sendMessage(&quot;Yes&quot;);\r\n        }else{\r\n            player.sendMessage(&quot;No&quot;);\r\n        }\r\n    }","title":"Checking a Player for a Specific Item in Minecraft SpigotAPI Inventory","body":"<p>I need to find out if a player has a certain item in their inventory. I tried to find it in the documentation, but it is so terrible (as for me) that I could not find it.\nSo far, there is such a code that works, but it works when a player places or breaks a block with the item I need, and I need it to be constantly tracked. For example, I wrote a command and it turned out that there is such an object, or not.</p>\n<pre><code>@EventHandler\npublic  void yes(PlayerInteractEvent e){\n    Player player = e.getPlayer();\n    ItemStack item = e.getItem();\n    if(item.getType() == Material.DIAMOND_ORE){\n        player.sendMessage(&quot;Yes&quot;);\n    }else{\n        player.sendMessage(&quot;No&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","json","jackson","jackson-databind"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687815641,"post_id":76560273,"comment_id":134986803,"body_markdown":"What about defining custom deserializer which implementation calls any static method you like?","body":"What about defining custom deserializer which implementation calls any static method you like?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1687815729,"post_id":76560273,"comment_id":134986817,"body_markdown":"That&#39;s the whole point of the questionthat&#39;s what I&#39;m looking for. That&#39;s what I&#39;m referring to by `StaticFactoryDeserializer`, where I indicate a static factory method such as `createNewBarInstance`. Is there such a deserializer implementation already? Or are you saying I have to write one?","body":"That&#39;s the whole point of the questionthat&#39;s what I&#39;m looking for. That&#39;s what I&#39;m referring to by <code>StaticFactoryDeserializer</code>, where I indicate a static factory method such as <code>createNewBarInstance</code>. Is there such a deserializer implementation already? Or are you saying I have to write one?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1687816045,"post_id":76560273,"comment_id":134986868,"body_markdown":"Oh, do you mean writing a custom deserializer that is hard-coded to call a single static factory method just for the `Bar` type? But there are so many classes that need thatwhy create the same boilerplate over and over, if the only difference is knowing the name of the static factory method?","body":"Oh, do you mean writing a custom deserializer that is hard-coded to call a single static factory method just for the <code>Bar</code> type? But there are so many classes that need thatwhy create the same boilerplate over and over, if the only difference is knowing the name of the static factory method?"},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687817152,"post_id":76560273,"comment_id":134987013,"body_markdown":"Then you could write a single generic custom deserializer that takes a function as a constructor parameter and holds it as a field of type `Function&lt;String, T&gt;`. Then instantiate it once per each class like `addDeserializer(Bar.class, new CustomDeserializer&lt;Bar&gt;(SomeClass::stringToBarFunction));`. Hope i&#39;ve described well enough.","body":"Then you could write a single generic custom deserializer that takes a function as a constructor parameter and holds it as a field of type <code>Function&lt;String, T&gt;</code>. Then instantiate it once per each class like <code>addDeserializer(Bar.class, new CustomDeserializer&lt;Bar&gt;(SomeClass::stringToBarFunction));</code>. Hope i&#39;ve described well enough."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1687818079,"post_id":76560273,"comment_id":134987116,"body_markdown":"Yes, using a function like this was my other idea. &#128077; But is there a deserializer class like this already?","body":"Yes, using a function like this was my other idea.  But is there a deserializer class like this already?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1687818554,"post_id":76560273,"comment_id":134987159,"body_markdown":"I opened a ticket with Jackson databind, [Issue #4004](https://github.com/FasterXML/jackson-databind/issues/4004).","body":"I opened a ticket with Jackson databind, <a href=\"https://github.com/FasterXML/jackson-databind/issues/4004\" rel=\"nofollow noreferrer\">Issue #4004</a>."},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1687855521,"post_id":76560273,"comment_id":134991443,"body_markdown":"You could annotate the `toString` method with the `@JsonValue` annotation. For the second question if you are referring to deduce subtypes based on the presence of properties distinct to a particular subtype there is a deduction system, you can check the `JsonTypeInfo` annotation.","body":"You could annotate the <code>toString</code> method with the <code>@JsonValue</code> annotation. For the second question if you are referring to deduce subtypes based on the presence of properties distinct to a particular subtype there is a deduction system, you can check the <code>JsonTypeInfo</code> annotation."}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687815127,"creation_date":1687813974,"question_id":76560273,"body_markdown":"Using Java 17 I have a `Bar` type I want serialized to JSON using its `toString()` method. I&#39;m serializing using a Jackson `ObjectMapper` (created via a `JsonMapper.Builder`). I found out from https://stackoverflow.com/q/76559047 that I can specify a `ToStringSerializer` as a serializer in a `Module`, as the [answer][1] indicated:\r\n\r\n```java\r\n\r\nmodule.addSerializer(Bar.class, new ToStringSerializer());\r\n//technically ToStringSerializer.instance would be better, but it&#39;s the same idea\r\n\r\n```\r\n\r\nBut now how about deserializing `Bar` using a static factory method? Without further context Jackson won&#39;t know the type of the string, but if it&#39;s deserializing a property of `Foo` e.g. `Foo.bar`, it will know the type should be `Bar`. So is there a way to set up a deserializer that will use a static factory method `Bar.createNewBarInstance` to create a `Bar` when setting `Foo.bar`? Something like this?\r\n\r\n```java\r\n\r\nmodule.addDeserializer(Bar.class,\r\n    new StaticFactoryDeserializer(&quot;createNewBarInstance&quot;));\r\n\r\n```\r\n\r\nIs there some sort of deserializer for static factory methods that gives me that sort of functionality?\r\n\r\nLooking at the code from `FromStringDeserializer.Std._deserialize()`, I see that known types are simply checked using a `case` and then the static factory methods are explicitly invoked, e.g. `Charset.forName(value)` or `URI.create(value)`. Does that mean there is nothing that would allow `new StaticFactoryDeserializer(&quot;forName&quot;)` and `new StaticFactoryDeserializer(&quot;create&quot;)`, etc. to do the same thing? Surely someone has thought of this before.\r\n\r\n  [1]: https://stackoverflow.com/a/76559162","title":"Set Jackson JSON deserialization for specific type to use static factory method using ObjectMapper","body":"<p>Using Java 17 I have a <code>Bar</code> type I want serialized to JSON using its <code>toString()</code> method. I'm serializing using a Jackson <code>ObjectMapper</code> (created via a <code>JsonMapper.Builder</code>). I found out from <a href=\"https://stackoverflow.com/q/76559047\">Set Jackson JSON serialization for specific type to use toString() using ObjectMapper</a> that I can specify a <code>ToStringSerializer</code> as a serializer in a <code>Module</code>, as the <a href=\"https://stackoverflow.com/a/76559162\">answer</a> indicated:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nmodule.addSerializer(Bar.class, new ToStringSerializer());\n//technically ToStringSerializer.instance would be better, but it's the same idea\n\n</code></pre>\n<p>But now how about deserializing <code>Bar</code> using a static factory method? Without further context Jackson won't know the type of the string, but if it's deserializing a property of <code>Foo</code> e.g. <code>Foo.bar</code>, it will know the type should be <code>Bar</code>. So is there a way to set up a deserializer that will use a static factory method <code>Bar.createNewBarInstance</code> to create a <code>Bar</code> when setting <code>Foo.bar</code>? Something like this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nmodule.addDeserializer(Bar.class,\n    new StaticFactoryDeserializer(&quot;createNewBarInstance&quot;));\n\n</code></pre>\n<p>Is there some sort of deserializer for static factory methods that gives me that sort of functionality?</p>\n<p>Looking at the code from <code>FromStringDeserializer.Std._deserialize()</code>, I see that known types are simply checked using a <code>case</code> and then the static factory methods are explicitly invoked, e.g. <code>Charset.forName(value)</code> or <code>URI.create(value)</code>. Does that mean there is nothing that would allow <code>new StaticFactoryDeserializer(&quot;forName&quot;)</code> and <code>new StaticFactoryDeserializer(&quot;create&quot;)</code>, etc. to do the same thing? Surely someone has thought of this before.</p>\n"},{"tags":["java","javafx","version","fxml"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1687799709,"post_id":76558833,"comment_id":134984250,"body_markdown":"I&#39;d expect a _warning_, not an error; if so, please [edit] your question and check your FXML file&#39;s `xmlns` attribute.","body":"I&#39;d expect a <i>warning</i>, not an error; if so, please <a href=\"https://stackoverflow.com/posts/76558833/edit\">edit</a> your question and check your FXML file&#39;s <code>xmlns</code> attribute."},{"owner":{"account_id":28606761,"reputation":5,"user_id":21902556,"display_name":"KimetsuVentex"},"score":1,"creation_date":1687800396,"post_id":76558833,"comment_id":134984408,"body_markdown":"Thank you a lot! The problem was that the wrong JavaFX version was implemented in the xmlns.","body":"Thank you a lot! The problem was that the wrong JavaFX version was implemented in the xmlns."}],"owner":{"account_id":28606761,"reputation":5,"user_id":21902556,"display_name":"KimetsuVentex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687844442,"answer_count":0,"score":0,"last_activity_date":1687814803,"creation_date":1687799166,"question_id":76558833,"body_markdown":"I&#39;m encountering an error message that has me a bit puzzled, and I&#39;m hoping someone here can provide some guidance. Here&#39;s the warning message I&#39;m seeing:\r\n\r\n&gt;Juni 26, 2023 6:54:33 PM javafx.fxml.FXMLLoader$ValueElement processValue\r\nWARNUNG: Loading FXML document with JavaFX API of version 19 by JavaFX runtime of version 17.0.7\r\n\r\nI&#39;m not exactly sure what&#39;s causing this issue or how to resolve it.\r\n\r\nTo provide more context to my issue, I&#39;d like to mention the current setup of my project. My Java version is set to JBR Java version &quot;17.0.6&quot;, and the JavaFX version I&#39;m using is openjfx-17.0.7. It&#39;s worth noting that I haven&#39;t intentionally downloaded or installed any other JavaFX versions, which makes this error message even more perplexing.\r\n","title":"Warning: Loading FXML Document with JavaFX API of Version 19 by JavaFX Runtime of Version 17.0.7","body":"<p>I'm encountering an error message that has me a bit puzzled, and I'm hoping someone here can provide some guidance. Here's the warning message I'm seeing:</p>\n<blockquote>\n<p>Juni 26, 2023 6:54:33 PM javafx.fxml.FXMLLoader$ValueElement processValue\nWARNUNG: Loading FXML document with JavaFX API of version 19 by JavaFX runtime of version 17.0.7</p>\n</blockquote>\n<p>I'm not exactly sure what's causing this issue or how to resolve it.</p>\n<p>To provide more context to my issue, I'd like to mention the current setup of my project. My Java version is set to JBR Java version &quot;17.0.6&quot;, and the JavaFX version I'm using is openjfx-17.0.7. It's worth noting that I haven't intentionally downloaded or installed any other JavaFX versions, which makes this error message even more perplexing.</p>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687458830,"post_id":76534667,"comment_id":134943448,"body_markdown":"Don&#39;t know much about Docker but you&#39;d have to run that as root or with `sudo` wouldn&#39;t you?","body":"Don&#39;t know much about Docker but you&#39;d have to run that as root or with <code>sudo</code> wouldn&#39;t you?"},{"owner":{"account_id":2433008,"reputation":35417,"user_id":2123530,"display_name":".."},"score":0,"creation_date":1687467036,"post_id":76534667,"comment_id":134944989,"body_markdown":"I cannot reproduce your issue: https://gist.github.com/b-enoit-be/e8c71b86d353ba93cf842d21788b8160. Could you try running your build with `docker build --progress=plain .` and share the resulting output, or at least the last lines of it?","body":"I cannot reproduce your issue: <a href=\"https://gist.github.com/b-enoit-be/e8c71b86d353ba93cf842d21788b8160\" rel=\"nofollow noreferrer\">gist.github.com/b-enoit-be/e8c71b86d353ba93cf842d21788b8160</a>. Could you try running your build with <code>docker build --progress=plain .</code> and share the resulting output, or at least the last lines of it?"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":2,"creation_date":1687470270,"post_id":76534667,"comment_id":134945532,"body_markdown":"Can you [edit] the question to include the complete error?  A Docker container only runs a single process, so if it&#39;s running the Go application it&#39;s probably not running ClamAV or whatever you need the JRE for.  It&#39;s also important to `RUN apt-get update &amp;&amp; apt-get install` in a single command to avoid some layer-caching problems, and it will be faster if you `apt-get install` multiple packages in a single command.","body":"Can you <a href=\"https://stackoverflow.com/posts/76534667/edit\">edit</a> the question to include the complete error?  A Docker container only runs a single process, so if it&#39;s running the Go application it&#39;s probably not running ClamAV or whatever you need the JRE for.  It&#39;s also important to <code>RUN apt-get update &amp;&amp; apt-get install</code> in a single command to avoid some layer-caching problems, and it will be faster if you <code>apt-get install</code> multiple packages in a single command."},{"owner":{"account_id":2433008,"reputation":35417,"user_id":2123530,"display_name":".."},"score":0,"creation_date":1687504586,"post_id":76534667,"comment_id":134948910,"body_markdown":"^-- That&#39;s probably the issue as my test was indeed doing `update &amp;&amp; install`","body":"^-- That&#39;s probably the issue as my test was indeed doing <code>update &amp;&amp; install</code>"},{"owner":{"account_id":237780,"reputation":2965,"user_id":506205,"accept_rate":69,"display_name":"Nathan McKaskle"},"score":0,"creation_date":1687528761,"post_id":76534667,"comment_id":134953996,"body_markdown":"@g00se no you don&#39;t have to run sudo in Docker.","body":"@g00se no you don&#39;t have to run sudo in Docker."},{"owner":{"account_id":237780,"reputation":2965,"user_id":506205,"accept_rate":69,"display_name":"Nathan McKaskle"},"score":0,"creation_date":1687528901,"post_id":76534667,"comment_id":134954032,"body_markdown":"@DavidMaze I split up the commands as I mention to troubleshoot this issue, it was in that format but I changed it in order to sort out which part or package was failing. Either way it gets the error. I posted the full error but it isn&#39;t all that helpful.","body":"@DavidMaze I split up the commands as I mention to troubleshoot this issue, it was in that format but I changed it in order to sort out which part or package was failing. Either way it gets the error. I posted the full error but it isn&#39;t all that helpful."},{"owner":{"account_id":237780,"reputation":2965,"user_id":506205,"accept_rate":69,"display_name":"Nathan McKaskle"},"score":0,"creation_date":1687528962,"post_id":76534667,"comment_id":134954054,"body_markdown":"@DavidMaze I don&#39;t know which archives it can&#39;t find but apt-get update runs regardless if it&#39;s a separate command or not.","body":"@DavidMaze I don&#39;t know which archives it can&#39;t find but apt-get update runs regardless if it&#39;s a separate command or not."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687529763,"post_id":76534667,"comment_id":134954282,"body_markdown":"Ah right, thanks","body":"Ah right, thanks"},{"owner":{"account_id":237780,"reputation":2965,"user_id":506205,"accept_rate":69,"display_name":"Nathan McKaskle"},"score":0,"creation_date":1687812292,"post_id":76534667,"comment_id":134986317,"body_markdown":"Guessing there is no answer to this.","body":"Guessing there is no answer to this."},{"owner":{"account_id":2433008,"reputation":35417,"user_id":2123530,"display_name":".."},"score":0,"creation_date":1689714683,"post_id":76534667,"comment_id":135252201,"body_markdown":"From the error message, you could be hitting this issue: https://askubuntu.com/a/160179","body":"From the error message, you could be hitting this issue: <a href=\"https://askubuntu.com/a/160179\">askubuntu.com/a/160179</a>"},{"owner":{"account_id":237780,"reputation":2965,"user_id":506205,"accept_rate":69,"display_name":"Nathan McKaskle"},"score":0,"creation_date":1692811244,"post_id":76534667,"comment_id":135676159,"body_markdown":"I run into the issue repeatedly with multiple packages so yes, you&#39;re probably right, because it doesn&#39;t happen when I connect to DC via VPN from my country.","body":"I run into the issue repeatedly with multiple packages so yes, you&#39;re probably right, because it doesn&#39;t happen when I connect to DC via VPN from my country."}],"owner":{"account_id":237780,"reputation":2965,"user_id":506205,"accept_rate":69,"display_name":"Nathan McKaskle"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687814354,"creation_date":1687457736,"question_id":76534667,"body_markdown":"When I attempt to build this dockerfile:\r\n\r\n    FROM golang:latest\r\n    WORKDIR /app\r\n    COPY --from=0 /app/server .\r\n    \r\n    # Install Java (for file disarmament below) and the ClamAV virus scanner (https://www.clamav.net/)\r\n    # Separated installs to troubleshoot package installation errors involving JRE\r\n    RUN apt-get update -qq\r\n    RUN apt-get install default-jre -y\r\n    RUN apt-get install clamav -y \r\n    RUN apt-get install clamav-daemon -y\r\n\r\nI get the following error:\r\n\r\n```\r\nERROR: failed to solve: process &quot;/bin/sh -c apt-get install default-jre -y&quot; did not complete successfully: exit code: 100\r\n```\r\nThis error does not turn up on any Google search and apparently I am the first human to ever encounter it. What is going on here?\r\n\r\n```\r\n#0 45.53 E: Failed to fetch http://deb.debian.org/debian/pool/main/d/dbus/libdbus-1-3_1.14.6-1_amd64.deb  Hash Sum mismatch\r\n#0 45.53    Hashes of expected file:\r\n#0 45.53     - SHA256:3a3617c8874085a476df2c7a0dbd45325b2b07ecf21140fb857cd6b58aa9b4d4\r\n#0 45.53     - MD5Sum:0cb152d995f25e1830193dd30a8d99ca [weak]\r\n#0 45.53     - Filesize:199872 [weak]\r\n#0 45.53    Hashes of received file:\r\n#0 45.53     - SHA256:fc4560303b7773470818406c6df9c7ecd5c9fd5811db0a0697328680552547f3\r\n#0 45.53     - MD5Sum:b7b05ac333b6d71791ee6f94f65e6c51 [weak]\r\n#0 45.53     - Filesize:199872 [weak]\r\n#0 45.53    Last modification reported: Wed, 08 Feb 2023 17:56:30 +0000\r\n#0 45.53 E: Failed to fetch http://deb.debian.org/debian/pool/main/g/gtk%2b3.0/gtk-update-icon-cache_3.24.37-2_amd64.deb  Hash Sum mismatch\r\n#0 45.53    Hashes of expected file:\r\n#0 45.53     - SHA256:4de5413b9a3c4225a6f72e6fe4e643e24dfd4f1063fd043c38cd10d7bd71079f\r\n#0 45.53     - MD5Sum:746163a590fc2ce9eb76f363d5a70215 [weak]\r\n#0 45.53     - Filesize:43300 [weak]\r\n#0 45.53    Hashes of received file:\r\n#0 45.53     - SHA256:35e21170dc32816506e6983d5be94cf83d7fec2bd71ceae6c27c3ae560f72ff7\r\n#0 45.53     - MD5Sum:bd2727e362a437ee2b18a269c3adf631 [weak]\r\n#0 45.53     - Filesize:43300 [weak]\r\n#0 45.53    Last modification reported: Wed, 08 Mar 2023 19:42:47 +0000\r\n#0 45.53 E: Failed to fetch http://deb.debian.org/debian/pool/main/a/avahi/libavahi-common-data_0.8-10_amd64.deb  Hash Sum mismatch\r\n#0 45.53    Hashes of expected file:\r\n#0 45.53     - SHA256:24b64db6a76378987478a9363e88cd8a50a0200e2cdfa316a35107f3faae39bd\r\n#0 45.53     - MD5Sum:3e23f713d5520a28314cae30362be535 [weak]\r\n#0 45.53     - Filesize:106832 [weak]\r\n#0 45.53    Hashes of received file:\r\n#0 45.53     - SHA256:dc3ad12f173b83bb4e7204f91f1f20033f5d5a5d787d0f5c5e7c8adb4d01f3b0\r\n#0 45.53     - MD5Sum:5fe07c25452f9fc634dc10bb6f69fd4b [weak]\r\n#0 45.53     - Filesize:106832 [weak]\r\n#0 45.53    Last modification reported: Wed, 19 Apr 2023 12:43:53 +0000\r\n#0 45.53 E: Failed to fetch http://deb.debian.org/debian-security/pool/updates/main/o/openjdk-17/openjdk-17-jre-headless_17.0.7%2b7-1%7edeb12u1_amd64.deb  Hash Sum mismatch\r\n#0 45.53    Hashes of expected file:\r\n#0 45.53     - SHA256:bc8baf2a73e905b2fc939d8b7d982ee2f7d58499373f9c8b2f9b672db70b43b4\r\n#0 45.53     - Filesize:43744788 [weak]\r\n#0 45.53    Hashes of received file:\r\n#0 45.53     - SHA256:69addb3501e8771ec6d9814d39dc783dc1f3cf1e29a94aa551651f64893f5e8f\r\n#0 45.53     - Filesize:43744788 [weak]\r\n#0 45.53    Last modification reported: Mon, 12 Jun 2023 01:44:38 +0000\r\n#0 45.53 E: Failed to fetch http://deb.debian.org/debian/pool/main/p/pixman/libpixman-1-0_0.42.2-1_amd64.deb  Hash Sum mismatch\r\n#0 45.53    Hashes of expected file:\r\n#0 45.53     - SHA256:9ed75ef81b6b1eba9e1357f8b0ce01d31112b0e07b2b685bee2cf627a8932892\r\n#0 45.53     - MD5Sum:65313d4125a22ed2ca198dee3fdabdd1 [weak]\r\n#0 45.53     - Filesize:545588 [weak]\r\n#0 45.53    Hashes of received file:\r\n#0 45.53     - SHA256:e134aa813d3a03730b57e8fbbfd1c873cec948c985bf5c8d5bd3cdcf96b8a1cc\r\n#0 45.54     - MD5Sum:d8c7dd5f798079c14ff8831f1a5d897f [weak]\r\n#0 45.54     - Filesize:545588 [weak]\r\n#0 45.54    Last modification reported: Fri, 11 Nov 2022 13:42:31 +0000\r\n#0 45.54 E: Failed to fetch http://deb.debian.org/debian/pool/main/p/pango1.0/libpango-1.0-0_1.50.12%2bds-1_amd64.deb  Hash Sum mismatch\r\n#0 45.54    Hashes of expected file:\r\n#0 45.54     - SHA256:851720de07441ae6bb6a7f51fc0f2edb4db7aa6f25b5bf1bf7b72dcab8947b7f\r\n#0 45.54     - MD5Sum:5c9051d5bf37660b1dac92e5410033da [weak]\r\n#0 45.54     - Filesize:211788 [weak]\r\n#0 45.54    Hashes of received file:\r\n#0 45.54     - SHA256:13f9a2915d3a966f9b80a1bac6dd1921140c8329e2c05e249aa052e14b9fb485\r\n#0 45.54     - MD5Sum:238b80bdf52e65e22020b6c9cd556167 [weak]\r\n#0 45.54     - Filesize:211788 [weak]\r\n#0 45.54    Last modification reported: Thu, 15 Dec 2022 15:13:21 +0000\r\n#0 45.54 E: Failed to fetch http://deb.debian.org/debian/pool/main/g/gtk%2b2.0/libgtk2.0-0_2.24.33-2_amd64.deb  Hash Sum mismatch\r\n#0 45.54    Hashes of expected file:\r\n#0 45.54     - SHA256:365a7d48ad366b743b3f14f232cee199f46752b759871ab9cc7c7ce211b2fd75\r\n#0 45.54     - MD5Sum:d0751e1b784cb201e05cb4816d87f291 [weak]\r\n#0 45.54     - Filesize:1854976 [weak]\r\n#0 45.54    Hashes of received file:\r\n#0 45.54     - SHA256:c9192da5f212a2276678bdcff9f956587083240e5e3284e1236e2edab6149ad2\r\n#0 45.54     - MD5Sum:20c7fc0b602b1c9d6430d2ba2d610bcc [weak]\r\n#0 45.54     - Filesize:1854976 [weak]\r\n#0 45.54    Last modification reported: Wed, 19 May 2021 20:12:31 +0000\r\n#0 45.54 E: Failed to fetch http://deb.debian.org/debian/pool/main/libx/libxcb/libxcb-sync1_1.15-1_amd64.deb  Hash Sum mismatch\r\n#0 45.54    Hashes of expected file:\r\n#0 45.54     - SHA256:3366ce715220d38dd0148b78a8e738137bade25ef7eec0698850c6f66800844f\r\n#0 45.54     - MD5Sum:45281b9c1baf063fdb3123554011b77f [weak]\r\n#0 45.54     - Filesize:108692 [weak]\r\n#0 45.54    Hashes of received file:\r\n#0 45.54     - SHA256:5dd42a1b6623ac3bf895330c2364a66862db28fe50371c8bc1f4eeca6f83064e\r\n#0 45.54     - MD5Sum:7c92cf95e552fd54a8dc6eba16ac613b [weak]\r\n#0 45.54     - Filesize:108692 [weak]\r\n#0 45.54    Last modification reported: Thu, 04 Aug 2022 06:55:38 +0000\r\n#0 45.54 E: Failed to fetch http://deb.debian.org/debian/pool/main/libp/libpciaccess/libpciaccess0_0.17-2_amd64.deb  Hash Sum mismatch\r\n#0 45.54    Hashes of expected file:\r\n#0 45.54     - SHA256:4025f3608cf431c163efb94fdc553e7b93e16b8f0d741ea87762e19025ffc80e\r\n#0 45.54     - MD5Sum:2acb508197bd0ab698352ceedc624980 [weak]\r\n#0 45.54     - Filesize:51384 [weak]\r\n#0 45.54    Hashes of received file:\r\n#0 45.54     - SHA256:0757d7f3e4941f7654918b343a586547e1528575ebc9b6c532a58a9b450521ca\r\n#0 45.54     - MD5Sum:428eda30e500d741fed80c8c440e7407 [weak]\r\n#0 45.54     - Filesize:51384 [weak]\r\n#0 45.54    Last modification reported: Tue, 08 Nov 2022 12:13:54 +0000\r\n#0 45.54 E: Failed to fetch http://deb.debian.org/debian/pool/main/m/mesa/libgl1-mesa-dri_22.3.6-1%2bdeb12u1_amd64.deb  Hash Sum mismatch\r\n#0 45.54    Hashes of expected file:\r\n#0 45.54     - SHA256:2c3fbfb89a8eadf6a82836b2443bc4d9578cb83847daf37cf6ab6074daf4fcda\r\n#0 45.54     - MD5Sum:b5a473c71f867037cb86e61023b44faf [weak]\r\n#0 45.54     - Filesize:7238788 [weak]\r\n#0 45.54    Hashes of received file:\r\n#0 45.54     - SHA256:74ce14e7c6d5cc9462aba8826d54f0bca4a8e0cca8eb35887b924edc00e705ac\r\n#0 45.54     - MD5Sum:bfd2d56c76da433e337859ef63930ce5 [weak]\r\n#0 45.54     - Filesize:7238788 [weak]\r\n#0 45.54    Last modification reported: Wed, 22 Mar 2023 21:12:33 +0000\r\n#0 45.54 E: Failed to fetch http://deb.debian.org/debian/pool/main/libf/libfontenc/libfontenc1_1.1.4-1_amd64.deb  Hash Sum mismatch\r\n#0 45.54    Hashes of expected file:\r\n#0 45.54     - SHA256:1d0aa6ea16a34a8de1ea170360c4cb699f3239aeddb292df2d2c4eb6e835de4b\r\n#0 45.54     - MD5Sum:051b4a70f65185a7358a58b06c770afd [weak]\r\n#0 45.54     - Filesize:24328 [weak]\r\n#0 45.54    Hashes of received file:\r\n#0 45.54     - SHA256:35c37a81c9ca311ada8cb239a87559a17ae0007c295dd699719222468431e7ef\r\n#0 45.54     - MD5Sum:b202d372a0e6db50b5ce588540556556 [weak]\r\n#0 45.54     - Filesize:24328 [weak]\r\n#0 45.54    Last modification reported: Thu, 24 Sep 2020 09:44:16 +0000\r\n#0 45.54 E: Failed to fetch http://deb.debian.org/debian/pool/main/libx/libxaw/libxaw7_1.0.14-1_amd64.deb  Hash Sum mismatch\r\n#0 45.54    Hashes of expected file:\r\n#0 45.54     - SHA256:b208ae00c4ce66f0ef59a23ddaf9f9a84127c412e9f10a3817e34a095be6b72a\r\n#0 45.54     - MD5Sum:cfa4864645f71c58b062bef9de70a0e9 [weak]\r\n#0 45.54     - Filesize:201436 [weak]\r\n#0 45.54    Hashes of received file:\r\n#0 45.54     - SHA256:e8dab5814bfb070fe5f99c554dbf0b8d68fe554004cd30c857a33e31e43312c6\r\n#0 45.54     - MD5Sum:a8c00b3672521f4debf9f08a9038106d [weak]\r\n#0 45.54     - Filesize:201436 [weak]\r\n#0 45.54    Last modification reported: Fri, 04 Mar 2022 15:26:34 +0000\r\n#0 45.54 E: Aborting install.\r\n```\r\n\r\n    #0 14.30 E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\r\n    ------\r\n    Dockerfile:40\r\n    --------------------\r\n      38 |     RUN mkdir -p /usr/share/man/man1\r\n      39 |     RUN apt-get update -qq\r\n      40 | &gt;&gt;&gt; RUN apt-get install default-jre -y\r\n      41 |     RUN apt-get install clamav -y \r\n      42 |     RUN apt-get install clamav-daemon -y\r\n    --------------------\r\n    ERROR: failed to solve: process &quot;/bin/sh -c apt-get install default-jre -y&quot; did not complete successfully: exit code: 100","title":"Installing JRE on Debian Docker Image","body":"<p>When I attempt to build this dockerfile:</p>\n<pre><code>FROM golang:latest\nWORKDIR /app\nCOPY --from=0 /app/server .\n\n# Install Java (for file disarmament below) and the ClamAV virus scanner (https://www.clamav.net/)\n# Separated installs to troubleshoot package installation errors involving JRE\nRUN apt-get update -qq\nRUN apt-get install default-jre -y\nRUN apt-get install clamav -y \nRUN apt-get install clamav-daemon -y\n</code></pre>\n<p>I get the following error:</p>\n<pre><code>ERROR: failed to solve: process &quot;/bin/sh -c apt-get install default-jre -y&quot; did not complete successfully: exit code: 100\n</code></pre>\n<p>This error does not turn up on any Google search and apparently I am the first human to ever encounter it. What is going on here?</p>\n<pre><code>#0 45.53 E: Failed to fetch http://deb.debian.org/debian/pool/main/d/dbus/libdbus-1-3_1.14.6-1_amd64.deb  Hash Sum mismatch\n#0 45.53    Hashes of expected file:\n#0 45.53     - SHA256:3a3617c8874085a476df2c7a0dbd45325b2b07ecf21140fb857cd6b58aa9b4d4\n#0 45.53     - MD5Sum:0cb152d995f25e1830193dd30a8d99ca [weak]\n#0 45.53     - Filesize:199872 [weak]\n#0 45.53    Hashes of received file:\n#0 45.53     - SHA256:fc4560303b7773470818406c6df9c7ecd5c9fd5811db0a0697328680552547f3\n#0 45.53     - MD5Sum:b7b05ac333b6d71791ee6f94f65e6c51 [weak]\n#0 45.53     - Filesize:199872 [weak]\n#0 45.53    Last modification reported: Wed, 08 Feb 2023 17:56:30 +0000\n#0 45.53 E: Failed to fetch http://deb.debian.org/debian/pool/main/g/gtk%2b3.0/gtk-update-icon-cache_3.24.37-2_amd64.deb  Hash Sum mismatch\n#0 45.53    Hashes of expected file:\n#0 45.53     - SHA256:4de5413b9a3c4225a6f72e6fe4e643e24dfd4f1063fd043c38cd10d7bd71079f\n#0 45.53     - MD5Sum:746163a590fc2ce9eb76f363d5a70215 [weak]\n#0 45.53     - Filesize:43300 [weak]\n#0 45.53    Hashes of received file:\n#0 45.53     - SHA256:35e21170dc32816506e6983d5be94cf83d7fec2bd71ceae6c27c3ae560f72ff7\n#0 45.53     - MD5Sum:bd2727e362a437ee2b18a269c3adf631 [weak]\n#0 45.53     - Filesize:43300 [weak]\n#0 45.53    Last modification reported: Wed, 08 Mar 2023 19:42:47 +0000\n#0 45.53 E: Failed to fetch http://deb.debian.org/debian/pool/main/a/avahi/libavahi-common-data_0.8-10_amd64.deb  Hash Sum mismatch\n#0 45.53    Hashes of expected file:\n#0 45.53     - SHA256:24b64db6a76378987478a9363e88cd8a50a0200e2cdfa316a35107f3faae39bd\n#0 45.53     - MD5Sum:3e23f713d5520a28314cae30362be535 [weak]\n#0 45.53     - Filesize:106832 [weak]\n#0 45.53    Hashes of received file:\n#0 45.53     - SHA256:dc3ad12f173b83bb4e7204f91f1f20033f5d5a5d787d0f5c5e7c8adb4d01f3b0\n#0 45.53     - MD5Sum:5fe07c25452f9fc634dc10bb6f69fd4b [weak]\n#0 45.53     - Filesize:106832 [weak]\n#0 45.53    Last modification reported: Wed, 19 Apr 2023 12:43:53 +0000\n#0 45.53 E: Failed to fetch http://deb.debian.org/debian-security/pool/updates/main/o/openjdk-17/openjdk-17-jre-headless_17.0.7%2b7-1%7edeb12u1_amd64.deb  Hash Sum mismatch\n#0 45.53    Hashes of expected file:\n#0 45.53     - SHA256:bc8baf2a73e905b2fc939d8b7d982ee2f7d58499373f9c8b2f9b672db70b43b4\n#0 45.53     - Filesize:43744788 [weak]\n#0 45.53    Hashes of received file:\n#0 45.53     - SHA256:69addb3501e8771ec6d9814d39dc783dc1f3cf1e29a94aa551651f64893f5e8f\n#0 45.53     - Filesize:43744788 [weak]\n#0 45.53    Last modification reported: Mon, 12 Jun 2023 01:44:38 +0000\n#0 45.53 E: Failed to fetch http://deb.debian.org/debian/pool/main/p/pixman/libpixman-1-0_0.42.2-1_amd64.deb  Hash Sum mismatch\n#0 45.53    Hashes of expected file:\n#0 45.53     - SHA256:9ed75ef81b6b1eba9e1357f8b0ce01d31112b0e07b2b685bee2cf627a8932892\n#0 45.53     - MD5Sum:65313d4125a22ed2ca198dee3fdabdd1 [weak]\n#0 45.53     - Filesize:545588 [weak]\n#0 45.53    Hashes of received file:\n#0 45.53     - SHA256:e134aa813d3a03730b57e8fbbfd1c873cec948c985bf5c8d5bd3cdcf96b8a1cc\n#0 45.54     - MD5Sum:d8c7dd5f798079c14ff8831f1a5d897f [weak]\n#0 45.54     - Filesize:545588 [weak]\n#0 45.54    Last modification reported: Fri, 11 Nov 2022 13:42:31 +0000\n#0 45.54 E: Failed to fetch http://deb.debian.org/debian/pool/main/p/pango1.0/libpango-1.0-0_1.50.12%2bds-1_amd64.deb  Hash Sum mismatch\n#0 45.54    Hashes of expected file:\n#0 45.54     - SHA256:851720de07441ae6bb6a7f51fc0f2edb4db7aa6f25b5bf1bf7b72dcab8947b7f\n#0 45.54     - MD5Sum:5c9051d5bf37660b1dac92e5410033da [weak]\n#0 45.54     - Filesize:211788 [weak]\n#0 45.54    Hashes of received file:\n#0 45.54     - SHA256:13f9a2915d3a966f9b80a1bac6dd1921140c8329e2c05e249aa052e14b9fb485\n#0 45.54     - MD5Sum:238b80bdf52e65e22020b6c9cd556167 [weak]\n#0 45.54     - Filesize:211788 [weak]\n#0 45.54    Last modification reported: Thu, 15 Dec 2022 15:13:21 +0000\n#0 45.54 E: Failed to fetch http://deb.debian.org/debian/pool/main/g/gtk%2b2.0/libgtk2.0-0_2.24.33-2_amd64.deb  Hash Sum mismatch\n#0 45.54    Hashes of expected file:\n#0 45.54     - SHA256:365a7d48ad366b743b3f14f232cee199f46752b759871ab9cc7c7ce211b2fd75\n#0 45.54     - MD5Sum:d0751e1b784cb201e05cb4816d87f291 [weak]\n#0 45.54     - Filesize:1854976 [weak]\n#0 45.54    Hashes of received file:\n#0 45.54     - SHA256:c9192da5f212a2276678bdcff9f956587083240e5e3284e1236e2edab6149ad2\n#0 45.54     - MD5Sum:20c7fc0b602b1c9d6430d2ba2d610bcc [weak]\n#0 45.54     - Filesize:1854976 [weak]\n#0 45.54    Last modification reported: Wed, 19 May 2021 20:12:31 +0000\n#0 45.54 E: Failed to fetch http://deb.debian.org/debian/pool/main/libx/libxcb/libxcb-sync1_1.15-1_amd64.deb  Hash Sum mismatch\n#0 45.54    Hashes of expected file:\n#0 45.54     - SHA256:3366ce715220d38dd0148b78a8e738137bade25ef7eec0698850c6f66800844f\n#0 45.54     - MD5Sum:45281b9c1baf063fdb3123554011b77f [weak]\n#0 45.54     - Filesize:108692 [weak]\n#0 45.54    Hashes of received file:\n#0 45.54     - SHA256:5dd42a1b6623ac3bf895330c2364a66862db28fe50371c8bc1f4eeca6f83064e\n#0 45.54     - MD5Sum:7c92cf95e552fd54a8dc6eba16ac613b [weak]\n#0 45.54     - Filesize:108692 [weak]\n#0 45.54    Last modification reported: Thu, 04 Aug 2022 06:55:38 +0000\n#0 45.54 E: Failed to fetch http://deb.debian.org/debian/pool/main/libp/libpciaccess/libpciaccess0_0.17-2_amd64.deb  Hash Sum mismatch\n#0 45.54    Hashes of expected file:\n#0 45.54     - SHA256:4025f3608cf431c163efb94fdc553e7b93e16b8f0d741ea87762e19025ffc80e\n#0 45.54     - MD5Sum:2acb508197bd0ab698352ceedc624980 [weak]\n#0 45.54     - Filesize:51384 [weak]\n#0 45.54    Hashes of received file:\n#0 45.54     - SHA256:0757d7f3e4941f7654918b343a586547e1528575ebc9b6c532a58a9b450521ca\n#0 45.54     - MD5Sum:428eda30e500d741fed80c8c440e7407 [weak]\n#0 45.54     - Filesize:51384 [weak]\n#0 45.54    Last modification reported: Tue, 08 Nov 2022 12:13:54 +0000\n#0 45.54 E: Failed to fetch http://deb.debian.org/debian/pool/main/m/mesa/libgl1-mesa-dri_22.3.6-1%2bdeb12u1_amd64.deb  Hash Sum mismatch\n#0 45.54    Hashes of expected file:\n#0 45.54     - SHA256:2c3fbfb89a8eadf6a82836b2443bc4d9578cb83847daf37cf6ab6074daf4fcda\n#0 45.54     - MD5Sum:b5a473c71f867037cb86e61023b44faf [weak]\n#0 45.54     - Filesize:7238788 [weak]\n#0 45.54    Hashes of received file:\n#0 45.54     - SHA256:74ce14e7c6d5cc9462aba8826d54f0bca4a8e0cca8eb35887b924edc00e705ac\n#0 45.54     - MD5Sum:bfd2d56c76da433e337859ef63930ce5 [weak]\n#0 45.54     - Filesize:7238788 [weak]\n#0 45.54    Last modification reported: Wed, 22 Mar 2023 21:12:33 +0000\n#0 45.54 E: Failed to fetch http://deb.debian.org/debian/pool/main/libf/libfontenc/libfontenc1_1.1.4-1_amd64.deb  Hash Sum mismatch\n#0 45.54    Hashes of expected file:\n#0 45.54     - SHA256:1d0aa6ea16a34a8de1ea170360c4cb699f3239aeddb292df2d2c4eb6e835de4b\n#0 45.54     - MD5Sum:051b4a70f65185a7358a58b06c770afd [weak]\n#0 45.54     - Filesize:24328 [weak]\n#0 45.54    Hashes of received file:\n#0 45.54     - SHA256:35c37a81c9ca311ada8cb239a87559a17ae0007c295dd699719222468431e7ef\n#0 45.54     - MD5Sum:b202d372a0e6db50b5ce588540556556 [weak]\n#0 45.54     - Filesize:24328 [weak]\n#0 45.54    Last modification reported: Thu, 24 Sep 2020 09:44:16 +0000\n#0 45.54 E: Failed to fetch http://deb.debian.org/debian/pool/main/libx/libxaw/libxaw7_1.0.14-1_amd64.deb  Hash Sum mismatch\n#0 45.54    Hashes of expected file:\n#0 45.54     - SHA256:b208ae00c4ce66f0ef59a23ddaf9f9a84127c412e9f10a3817e34a095be6b72a\n#0 45.54     - MD5Sum:cfa4864645f71c58b062bef9de70a0e9 [weak]\n#0 45.54     - Filesize:201436 [weak]\n#0 45.54    Hashes of received file:\n#0 45.54     - SHA256:e8dab5814bfb070fe5f99c554dbf0b8d68fe554004cd30c857a33e31e43312c6\n#0 45.54     - MD5Sum:a8c00b3672521f4debf9f08a9038106d [weak]\n#0 45.54     - Filesize:201436 [weak]\n#0 45.54    Last modification reported: Fri, 04 Mar 2022 15:26:34 +0000\n#0 45.54 E: Aborting install.\n</code></pre>\n<pre><code>#0 14.30 E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\n------\nDockerfile:40\n--------------------\n  38 |     RUN mkdir -p /usr/share/man/man1\n  39 |     RUN apt-get update -qq\n  40 | &gt;&gt;&gt; RUN apt-get install default-jre -y\n  41 |     RUN apt-get install clamav -y \n  42 |     RUN apt-get install clamav-daemon -y\n--------------------\nERROR: failed to solve: process &quot;/bin/sh -c apt-get install default-jre -y&quot; did not complete successfully: exit code: 100\n</code></pre>\n"},{"tags":["java","spring-boot","microservices","api-gateway","spring-cloud-gateway"],"owner":{"account_id":8903500,"reputation":1364,"user_id":6646188,"display_name":"Abhijit Mondal Abhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687814205,"creation_date":1687814205,"question_id":76560291,"body_markdown":"I am implementing a Spring Cloud Gateway. But, I need a filter which can extract all the RequestHeaders from a http call (via postman) and after that it will get back a ResponseBody with the extracted RequestHeaders. \r\n\r\nThere is no need to call the downstream services afterwards. Following is my **application.yml** file:\r\n\r\n    server:\r\n      port: 8082\r\n    \r\n    spring:\r\n      cloud:\r\n        gateway:\r\n          routes:\r\n            - id: todo-access-manager\r\n              uri: http://localhost:9125\r\n              predicates:\r\n                - Path=/todo-manager/**\r\n              filters:\r\n                - CustomAuthPreFilter\r\n\r\n**CustomAuthPreFilter:**\r\n\r\n    @Component\r\n    public class CustomAuthPreFilter extends AbstractGatewayFilterFactory&lt;CustomAuthPreFilter.Config&gt; {\r\n        public CustomAuthPreFilter() {\r\n            super(Config.class);\r\n        }\r\n    \r\n        @Override\r\n        public GatewayFilter apply(Config config) {\r\n            return (exchange, chain) -&gt; {\r\n                ServerHttpRequest.Builder builder = exchange.getRequest().mutate();\r\n\r\n                // Getting all request headers\r\n                var requestHeaders = exchange.getRequest().getHeaders();\r\n\r\n                // Need to send back all requestHeaders as a responseBody without going to downstream services.\r\n                // ToDo\r\n\r\n                return chain.filter(exchange.mutate().request(builder.build()).build());\r\n            };\r\n        }\r\n    \r\n        public static class Config {\r\n            //Put the configuration properties for your filter here\r\n        }\r\n    }\r\n\r\n**RequestHeaders:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Problem:** My CustomAuthPreFilter is calling successfully when I run the code. I am also getting the requestHeaders. But, after that how can I return back the requestHeaders as a responseBody?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zyp0w.png","title":"How to return RequestHeaders as a ResponseBody using a filter in Spring Cloud Gateway?","body":"<p>I am implementing a Spring Cloud Gateway. But, I need a filter which can extract all the RequestHeaders from a http call (via postman) and after that it will get back a ResponseBody with the extracted RequestHeaders.</p>\n<p>There is no need to call the downstream services afterwards. Following is my <strong>application.yml</strong> file:</p>\n<pre><code>server:\n  port: 8082\n\nspring:\n  cloud:\n    gateway:\n      routes:\n        - id: todo-access-manager\n          uri: http://localhost:9125\n          predicates:\n            - Path=/todo-manager/**\n          filters:\n            - CustomAuthPreFilter\n</code></pre>\n<p><strong>CustomAuthPreFilter:</strong></p>\n<pre><code>@Component\npublic class CustomAuthPreFilter extends AbstractGatewayFilterFactory&lt;CustomAuthPreFilter.Config&gt; {\n    public CustomAuthPreFilter() {\n        super(Config.class);\n    }\n\n    @Override\n    public GatewayFilter apply(Config config) {\n        return (exchange, chain) -&gt; {\n            ServerHttpRequest.Builder builder = exchange.getRequest().mutate();\n\n            // Getting all request headers\n            var requestHeaders = exchange.getRequest().getHeaders();\n\n            // Need to send back all requestHeaders as a responseBody without going to downstream services.\n            // ToDo\n\n            return chain.filter(exchange.mutate().request(builder.build()).build());\n        };\n    }\n\n    public static class Config {\n        //Put the configuration properties for your filter here\n    }\n}\n</code></pre>\n<p><strong>RequestHeaders:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/zyp0w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zyp0w.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Problem:</strong> My CustomAuthPreFilter is calling successfully when I run the code. I am also getting the requestHeaders. But, after that how can I return back the requestHeaders as a responseBody?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":3,"creation_date":1321262233,"post_id":6786254,"comment_id":9959351,"body_markdown":"If 1.0 + 2.0 != 3.0, regardless of precision, your computer is broken.  Now if 0.1 + 0.2 != 0.3, that makes more sense.","body":"If 1.0 + 2.0 != 3.0, regardless of precision, your computer is broken.  Now if 0.1 + 0.2 != 0.3, that makes more sense."}],"answers":[{"tags":[],"owner":{"account_id":416547,"reputation":91914,"user_id":791998,"accept_rate":80,"display_name":"Petar Ivanov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1311316720,"creation_date":1311315203,"answer_id":6786286,"question_id":6786254,"body_markdown":"`b / 3 != 10 / 3` - if b is a floating point variable like `b = 10.0f`, so b / 3 is 3.3333, while 10 / 3 is integer division, so is equal to 3.\r\n\r\n\r\nIf `b == c`, then `Math.sqrt(b) == Math.sqrt(c)` - this is because the sqrt function returns double anyways.\r\n\r\nIn general, you shouldn&#39;t be comparing doubles/floats for equation, because they are floating point numbers so you might get errors. You almost always want to compare them with a given precision, i.e.:\r\n\r\n`b - c &lt; 0.000001`","title":"Is it safe when compare 2 float/double directly in Java?","body":"<p><code>b / 3 != 10 / 3</code> - if b is a floating point variable like <code>b = 10.0f</code>, so b / 3 is 3.3333, while 10 / 3 is integer division, so is equal to 3.</p>\n\n<p>If <code>b == c</code>, then <code>Math.sqrt(b) == Math.sqrt(c)</code> - this is because the sqrt function returns double anyways.</p>\n\n<p>In general, you shouldn't be comparing doubles/floats for equation, because they are floating point numbers so you might get errors. You almost always want to compare them with a given precision, i.e.:</p>\n\n<p><code>b - c &lt; 0.000001</code></p>\n"},{"tags":[],"owner":{"account_id":319457,"reputation":15507,"user_id":637236,"accept_rate":55,"display_name":"Rasel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1311315465,"creation_date":1311315465,"answer_id":6786334,"question_id":6786254,"body_markdown":"In java you can compare a float with another float,and a double with another double.And you will get true when comparing a double with a float when their precision is equal","title":"Is it safe when compare 2 float/double directly in Java?","body":"<p>In java you can compare a float with another float,and a double with another double.And you will get true when comparing a double with a float when their precision is equal</p>\n"},{"tags":[],"owner":{"account_id":412619,"reputation":4515,"user_id":785775,"accept_rate":95,"display_name":"Siten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1311315532,"creation_date":1311315532,"answer_id":6786344,"question_id":6786254,"body_markdown":"b is float and 10 is integer then if you compare both with your this critearia then it will give false because...\r\n\r\n    b = flaot (meance ans 3.33333333333333333333333)\r\n    10 is integer so that make sence.\r\n\r\n","title":"Is it safe when compare 2 float/double directly in Java?","body":"<p>b is float and 10 is integer then if you compare both with your this critearia then it will give false because...</p>\n\n<pre><code>b = flaot (meance ans 3.33333333333333333333333)\n10 is integer so that make sence.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":440539,"reputation":1237,"user_id":830149,"display_name":"Jodaka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1311315549,"creation_date":1311315549,"answer_id":6786351,"question_id":6786254,"body_markdown":"== comparison is not particularly safe for doubles/floats in basically any language.  An epsilon comparison method (where you check that the difference between two floats is reasonably small) is your best bet.\r\n\r\nFor:\r\n\r\n    Math.sqrt(b) == Math.sqrt(c)\r\n\r\nI&#39;m not sure why you wouldn&#39;t just compare b and c, but an epsilon comparison would work here too.\r\n\r\nFor:\r\n\r\n    b / 3 == 10 / 3\r\n\r\nSince 10/3 = 3 because of integer division, this will not necessarily give the results you&#39;re looking for.  You could use 10.0 / 3, though i&#39;m still not sure why you wouldn&#39;t just compare b and 10 (using the epsilon comparison method in either case).","title":"Is it safe when compare 2 float/double directly in Java?","body":"<p>== comparison is not particularly safe for doubles/floats in basically any language.  An epsilon comparison method (where you check that the difference between two floats is reasonably small) is your best bet.</p>\n\n<p>For:</p>\n\n<pre><code>Math.sqrt(b) == Math.sqrt(c)\n</code></pre>\n\n<p>I'm not sure why you wouldn't just compare b and c, but an epsilon comparison would work here too.</p>\n\n<p>For:</p>\n\n<pre><code>b / 3 == 10 / 3\n</code></pre>\n\n<p>Since 10/3 = 3 because of integer division, this will not necessarily give the results you're looking for.  You could use 10.0 / 3, though i'm still not sure why you wouldn't just compare b and 10 (using the epsilon comparison method in either case).</p>\n"},{"tags":[],"owner":{"account_id":193011,"reputation":326,"user_id":434481,"display_name":"Ionel Gog"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1311315587,"creation_date":1311315587,"answer_id":6786356,"question_id":6786254,"body_markdown":"The safest way to compare a float/double with something else is actually to use see if their difference is a small number.\r\n\r\ne.g.\r\n\r\n    Math.abs(a - b) &lt; EPS\r\n\r\nwhere EPS can be something like 0.0000001.\r\n\r\nIn this way you make sure that precision errors do not affect your results.","title":"Is it safe when compare 2 float/double directly in Java?","body":"<p>The safest way to compare a float/double with something else is actually to use see if their difference is a small number.</p>\n\n<p>e.g.</p>\n\n<pre><code>Math.abs(a - b) &lt; EPS\n</code></pre>\n\n<p>where EPS can be something like 0.0000001.</p>\n\n<p>In this way you make sure that precision errors do not affect your results.</p>\n"},{"tags":[],"owner":{"account_id":237126,"reputation":604212,"user_id":505088,"accept_rate":91,"display_name":"David Heffernan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1311316005,"creation_date":1311315598,"answer_id":6786357,"question_id":6786254,"body_markdown":"You do need to exercise some care.\r\n\r\n    1.0 + 2.0 == 3.0\r\n\r\nis true because integers are exactly representable. \r\n\r\n    Math.sqrt(b) == Math.sqrt(c) \r\n\r\nif b == c.\r\n\r\n    b / 3.0 == 10.0 / 3.0\r\n\r\nif b == 10.0 which is what I think you meant.\r\n\r\nThe last two examples compare two different instances of the same calculation. When you have different calculations with non representable numbers then exact equality testing fails.\r\n\r\nIf you are testing the results of a calculation that is subject to floating point approximation then equality testing should be done up to a tolerance.\r\n\r\n Do you have any specific real world examples? I think you will find that it is rare to want to test equality with floating point.","title":"Is it safe when compare 2 float/double directly in Java?","body":"<p>You do need to exercise some care.</p>\n\n<pre><code>1.0 + 2.0 == 3.0\n</code></pre>\n\n<p>is true because integers are exactly representable. </p>\n\n<pre><code>Math.sqrt(b) == Math.sqrt(c) \n</code></pre>\n\n<p>if b == c.</p>\n\n<pre><code>b / 3.0 == 10.0 / 3.0\n</code></pre>\n\n<p>if b == 10.0 which is what I think you meant.</p>\n\n<p>The last two examples compare two different instances of the same calculation. When you have different calculations with non representable numbers then exact equality testing fails.</p>\n\n<p>If you are testing the results of a calculation that is subject to floating point approximation then equality testing should be done up to a tolerance.</p>\n\n<p>Do you have any specific real world examples? I think you will find that it is rare to want to test equality with floating point.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1343306381,"creation_date":1311317400,"answer_id":6786580,"question_id":6786254,"body_markdown":"In general, no it is not safe due to the fact that so many decimal numbers cannot be precisely represented as `float` or `double` values.  The often stated solution is test if the difference between the numbers is less than some &quot;small&quot; value (often denoted by a greek &#39;epsilon&#39; character in the maths literature).  \r\n\r\n**However** - you need to be a bit careful how you do the test.  For instance, if you write:\r\n\r\n    if (Math.abs(a - b) &lt; 0.000001) {\r\n        System.err.println(&quot;equal&quot;);\r\n    }\r\n\r\nwhere `a` and `b` are supposed to be &quot;the same&quot;, you are testing the *absolute error*.  If you do this, you can get into trouble if `a` and `b` are (say_ `1,999,999.99` and `2,000,000.00` respectively.  The difference between these two numbers is less than the smallest representable value *at that scale* for a `float`, and yet it is much bigger than our chosen epsilon.\r\n\r\nArguably, a better approach is to use the *relative error*; e.g. coded (defensively) as\r\n\r\n    if (a == b ||\r\n        Math.abs(a - b) / Math.max(Math.abs(a), Math.abs(b)) &lt; 0.000001) {\r\n        System.err.println(&quot;close enough to be equal&quot;);\r\n    }\r\n\r\nBut even this is not the complete answer, because it does not take account of the way that certain calculations cause the errors to build up to unmanageable proportions.  Take a look at [this Wikipedia link][1] for more details.\r\n\r\nThe bottom line is that dealing with errors in floating point calculations is a lot more difficult than it appears at first glance.\r\n\r\n--------\r\n\r\nThe other point to note is (as others have explained) integer arithmetic behaves very differently to floating point arithmetic in a couple of respects:\r\n\r\n  - integer division will truncate if the result is not integral\r\n  - integer addition subtraction and multiplication will overflow.\r\n\r\nBoth of these happen **without any warning**, either at compile time or at runtime.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Floating_point#Minimizing_the_effect_of_accuracy_problems","title":"Is it safe when compare 2 float/double directly in Java?","body":"<p>In general, no it is not safe due to the fact that so many decimal numbers cannot be precisely represented as <code>float</code> or <code>double</code> values.  The often stated solution is test if the difference between the numbers is less than some \"small\" value (often denoted by a greek 'epsilon' character in the maths literature).  </p>\n\n<p><strong>However</strong> - you need to be a bit careful how you do the test.  For instance, if you write:</p>\n\n<pre><code>if (Math.abs(a - b) &lt; 0.000001) {\n    System.err.println(\"equal\");\n}\n</code></pre>\n\n<p>where <code>a</code> and <code>b</code> are supposed to be \"the same\", you are testing the <em>absolute error</em>.  If you do this, you can get into trouble if <code>a</code> and <code>b</code> are (say_ <code>1,999,999.99</code> and <code>2,000,000.00</code> respectively.  The difference between these two numbers is less than the smallest representable value <em>at that scale</em> for a <code>float</code>, and yet it is much bigger than our chosen epsilon.</p>\n\n<p>Arguably, a better approach is to use the <em>relative error</em>; e.g. coded (defensively) as</p>\n\n<pre><code>if (a == b ||\n    Math.abs(a - b) / Math.max(Math.abs(a), Math.abs(b)) &lt; 0.000001) {\n    System.err.println(\"close enough to be equal\");\n}\n</code></pre>\n\n<p>But even this is not the complete answer, because it does not take account of the way that certain calculations cause the errors to build up to unmanageable proportions.  Take a look at <a href=\"http://en.wikipedia.org/wiki/Floating_point#Minimizing_the_effect_of_accuracy_problems\" rel=\"noreferrer\">this Wikipedia link</a> for more details.</p>\n\n<p>The bottom line is that dealing with errors in floating point calculations is a lot more difficult than it appears at first glance.</p>\n\n<hr>\n\n<p>The other point to note is (as others have explained) integer arithmetic behaves very differently to floating point arithmetic in a couple of respects:</p>\n\n<ul>\n<li>integer division will truncate if the result is not integral</li>\n<li>integer addition subtraction and multiplication will overflow.</li>\n</ul>\n\n<p>Both of these happen <strong>without any warning</strong>, either at compile time or at runtime.</p>\n"},{"tags":[],"owner":{"account_id":423350,"reputation":2064,"user_id":802685,"display_name":"Pescuma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1311319186,"creation_date":1311319186,"answer_id":6786854,"question_id":6786254,"body_markdown":"If you want a more complete explanation, here there is a good one: http://download.oracle.com/docs/cd/E19957-01/806-3568/ncg_goldberg.html (but it is a little bit long)","title":"Is it safe when compare 2 float/double directly in Java?","body":"<p>If you want a more complete explanation, here there is a good one: <a href=\"http://download.oracle.com/docs/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow\">http://download.oracle.com/docs/cd/E19957-01/806-3568/ncg_goldberg.html</a> (but it is a little bit long)</p>\n"},{"tags":[],"owner":{"account_id":1145469,"reputation":680,"user_id":1128349,"accept_rate":71,"display_name":"Sanjeev Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1405077122,"creation_date":1405077122,"answer_id":24696341,"question_id":6786254,"body_markdown":"Float wrapper class&#39;s compare method can be used to compare two float values. \r\n\r\n    Float.compare(float1,float2)==0\r\n\r\nIt will compare integer bits corresponding to each float object. ","title":"Is it safe when compare 2 float/double directly in Java?","body":"<p>Float wrapper class's compare method can be used to compare two float values. </p>\n\n<pre><code>Float.compare(float1,float2)==0\n</code></pre>\n\n<p>It will compare integer bits corresponding to each float object. </p>\n"},{"tags":[],"owner":{"account_id":12476582,"reputation":597,"user_id":9082736,"display_name":"Bilal Demir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687813256,"creation_date":1687810565,"answer_id":76559979,"question_id":6786254,"body_markdown":"Efficient way for 2 digits precision:\r\n\r\n    \r\n    public static void main(String[] args) {\r\n        double number = 3.14999965359;\r\n        float number2 = 3.14909265359f;\r\n        Date date = new Date();\r\n        System.out.println(equalsDoubleWithFloat(number, number2));\r\n        System.out.println(isDoubleBigFromFloat(number, number2));\r\n        System.out.println(&quot;delay: &quot; + (new Date().getTime() - date.getTime()) + &quot; ms&quot;);\r\n    }\r\n\r\n    private static boolean equalsDoubleWithFloat(double db, float fl) {\r\n        return Float.compare((float) db, fl) == 0 || Math.abs(db - fl) &lt; 0.01;\r\n    }\r\n\r\n    private static boolean isDoubleBigFromFloat(double db, float fl) {\r\n        return Math.abs(db - fl) &gt; 0.01 &amp;&amp; Float.compare((float) db, fl) &gt; 0;\r\n    }\r\n    public static boolean isDoubleSmallFromFloat(double db, float fl) {\r\n            return Math.abs(db - fl) &gt; 0.01 &amp;&amp; Float.compare((float) db, fl) &lt; 0;\r\n    }\r\n\r\nOutput is:\r\n\r\n    true\r\n    false\r\n    delay: 1 ms\r\n\r\nother solution:\r\n\r\n    private static final DecimalFormat TWO_DIGITS = new DecimalFormat(&quot;0.00&quot;);\r\n\r\n    public static double formatDouble(double value) {\r\n        return Double.parseDouble(TWO_DIGITS.format(value));\r\n    }\r\n\r\n    public static float formatFloat(float value) {\r\n        return Float.parseFloat(TWO_DIGITS.format(value));\r\n    }\r\n\r\n    public static int compareDoubleWithFloat(double db, float fl) {\r\n        double roundedDouble = formatDouble(db);\r\n        float roundedFloat = formatFloat(fl);\r\n        if (Math.abs(roundedDouble - roundedFloat) &lt; 0.01) {\r\n            return 0;\r\n        } else if (roundedDouble &gt; roundedFloat) {\r\n            return 1;\r\n        } else {\r\n            return -1;\r\n        }\r\n    }","title":"Is it safe when compare 2 float/double directly in Java?","body":"<p>Efficient way for 2 digits precision:</p>\n<pre><code>public static void main(String[] args) {\n    double number = 3.14999965359;\n    float number2 = 3.14909265359f;\n    Date date = new Date();\n    System.out.println(equalsDoubleWithFloat(number, number2));\n    System.out.println(isDoubleBigFromFloat(number, number2));\n    System.out.println(&quot;delay: &quot; + (new Date().getTime() - date.getTime()) + &quot; ms&quot;);\n}\n\nprivate static boolean equalsDoubleWithFloat(double db, float fl) {\n    return Float.compare((float) db, fl) == 0 || Math.abs(db - fl) &lt; 0.01;\n}\n\nprivate static boolean isDoubleBigFromFloat(double db, float fl) {\n    return Math.abs(db - fl) &gt; 0.01 &amp;&amp; Float.compare((float) db, fl) &gt; 0;\n}\npublic static boolean isDoubleSmallFromFloat(double db, float fl) {\n        return Math.abs(db - fl) &gt; 0.01 &amp;&amp; Float.compare((float) db, fl) &lt; 0;\n}\n</code></pre>\n<p>Output is:</p>\n<pre><code>true\nfalse\ndelay: 1 ms\n</code></pre>\n<p>other solution:</p>\n<pre><code>private static final DecimalFormat TWO_DIGITS = new DecimalFormat(&quot;0.00&quot;);\n\npublic static double formatDouble(double value) {\n    return Double.parseDouble(TWO_DIGITS.format(value));\n}\n\npublic static float formatFloat(float value) {\n    return Float.parseFloat(TWO_DIGITS.format(value));\n}\n\npublic static int compareDoubleWithFloat(double db, float fl) {\n    double roundedDouble = formatDouble(db);\n    float roundedFloat = formatFloat(fl);\n    if (Math.abs(roundedDouble - roundedFloat) &lt; 0.01) {\n        return 0;\n    } else if (roundedDouble &gt; roundedFloat) {\n        return 1;\n    } else {\n        return -1;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":329756,"reputation":18637,"user_id":653457,"accept_rate":89,"display_name":"Luke Vo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9812,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":6786580,"answer_count":10,"score":5,"last_activity_date":1687813256,"creation_date":1311314958,"question_id":6786254,"body_markdown":"Is it safe if I use comparision like this (a is int, b and c is float/double):\r\n\r\n    a == b\r\n    b == c\r\n\r\nIt may hear ridiculous, but in my old programing language, sometimes 1 + 2 == 3 is false (because left side returns 2.99999999999...). And, what about this:\r\n\r\n    Math.sqrt(b) == Math.sqrt(c)\r\n    b / 3 == 10 / 3 //In case b = 10, does it return true?","title":"Is it safe when compare 2 float/double directly in Java?","body":"<p>Is it safe if I use comparision like this (a is int, b and c is float/double):</p>\n\n<pre><code>a == b\nb == c\n</code></pre>\n\n<p>It may hear ridiculous, but in my old programing language, sometimes 1 + 2 == 3 is false (because left side returns 2.99999999999...). And, what about this:</p>\n\n<pre><code>Math.sqrt(b) == Math.sqrt(c)\nb / 3 == 10 / 3 //In case b = 10, does it return true?\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687851044,"post_id":76560199,"comment_id":134990542,"body_markdown":"Check this: https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#configurations","body":"Check this: <a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#configurations\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/current/userguide/html_single/&hellip;</a>"}],"owner":{"account_id":21441190,"reputation":95,"user_id":15795728,"display_name":"sunny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687813053,"creation_date":1687813053,"question_id":76560199,"body_markdown":"How can I check what hibernate settings are enabled/disabled for my Grails/Spring application? I would like to know also the value of the settings, that I have not specified directly.\r\nMy Hibernate config is in yml like:\r\n```yml\r\nhibernate:\r\n    allow_update_outside_transaction: false\r\n    cache:\r\n        queries: false\r\n        provider_class: org.hibernate.cache.EhCacheProvider\r\n        region:\r\n            factory_class: org.hibernate.cache.ehcache.EhCacheRegionFactory\r\n        use_query_cache: true\r\n        use_second_level_cache: false\r\n```\r\nI tried this: https://stackoverflow.com/questions/1748933/how-to-get-hibernate-configuration-properties\r\nbut by doing so, I get to know only the values that I&#39;ve set directly - e.g. `allow_update_outside_transaction` is disabled by default, but if I don&#39;t set it in the `.yml`, I don&#39;t see this setting in the `(Properties)f.get(sessionFactory);`\r\n\r\nI&#39;ve also seen this: https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/cfg/AvailableSettings.html\r\nbut they don&#39;t provide the default values here....\r\n\r\nSettings that I&#39;m interested in to check if are enabled or not are especially:\r\n\r\n - autocommit\r\n - autoFlush\r\n - open session in view\r\n\r\n","title":"How to check currently set Hibernate settings","body":"<p>How can I check what hibernate settings are enabled/disabled for my Grails/Spring application? I would like to know also the value of the settings, that I have not specified directly.\nMy Hibernate config is in yml like:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>hibernate:\n    allow_update_outside_transaction: false\n    cache:\n        queries: false\n        provider_class: org.hibernate.cache.EhCacheProvider\n        region:\n            factory_class: org.hibernate.cache.ehcache.EhCacheRegionFactory\n        use_query_cache: true\n        use_second_level_cache: false\n</code></pre>\n<p>I tried this: <a href=\"https://stackoverflow.com/questions/1748933/how-to-get-hibernate-configuration-properties\">How to get Hibernate configuration properties?</a>\nbut by doing so, I get to know only the values that I've set directly - e.g. <code>allow_update_outside_transaction</code> is disabled by default, but if I don't set it in the <code>.yml</code>, I don't see this setting in the <code>(Properties)f.get(sessionFactory);</code></p>\n<p>I've also seen this: <a href=\"https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/cfg/AvailableSettings.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/cfg/AvailableSettings.html</a>\nbut they don't provide the default values here....</p>\n<p>Settings that I'm interested in to check if are enabled or not are especially:</p>\n<ul>\n<li>autocommit</li>\n<li>autoFlush</li>\n<li>open session in view</li>\n</ul>\n"},{"tags":["java","tomcat","solr","jetty"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1687659222,"post_id":76547085,"comment_id":134967089,"body_markdown":"You know that Solr is written in Java and the Java process you see is being used by Solr, right? So what is it you hope to gain by getting then to run on different ports? This smells strongly of an [X Y Problem](http://xyproblem.info) -- you would do well to state the real purpose of your question instead of addressing issues that are unlikely to go anywhere.","body":"You know that Solr is written in Java and the Java process you see is being used by Solr, right? So what is it you hope to gain by getting then to run on different ports? This smells strongly of an <a href=\"http://xyproblem.info\" rel=\"nofollow noreferrer\">X Y Problem</a> -- you would do well to state the real purpose of your question instead of addressing issues that are unlikely to go anywhere."},{"owner":{"account_id":18599593,"reputation":1,"user_id":13554734,"display_name":"Lawal"},"score":0,"creation_date":1687701422,"post_id":76547085,"comment_id":134970346,"body_markdown":"My question is that, I can&#39;t start solr instant on the default port 8983 because a java exe process is always running on it with ip address 0.0.0.0. if I change the port to 8984 for example using -p  another java.exe is running on port 8984 on so on continuously.with the same ip address 0.0.0.0. help me please. I&#39;m stuck","body":"My question is that, I can&#39;t start solr instant on the default port 8983 because a java exe process is always running on it with ip address 0.0.0.0. if I change the port to 8984 for example using -p  another java.exe is running on port 8984 on so on continuously.with the same ip address 0.0.0.0. help me please. I&#39;m stuck"},{"owner":{"account_id":18599593,"reputation":1,"user_id":13554734,"display_name":"Lawal"},"score":0,"creation_date":1687702171,"post_id":76547085,"comment_id":134970445,"body_markdown":"It&#39;s not that, I want the java.exe process not to run .the issues is that, there are always many instances of the java.exe  process running on the IP address 127.0.0.01 and two of them are always running on door default port or any port assigned to solr with -p on a remote address of 0.0.0.0 and I can never start solr on my machine!?","body":"It&#39;s not that, I want the java.exe process not to run .the issues is that, there are always many instances of the java.exe  process running on the IP address 127.0.0.01 and two of them are always running on door default port or any port assigned to solr with -p on a remote address of 0.0.0.0 and I can never start solr on my machine!?"},{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":1,"creation_date":1687722845,"post_id":76547085,"comment_id":134972786,"body_markdown":"Are you sure that you&#39;re not already running a Solr instance that automagically starts up on boot or that you&#39;ve started previously?  The output given seems to indicate that you&#39;ve already started Solr and that it runs on port 8983 as well (the `java.exe` process _is_ Solr).","body":"Are you sure that you&#39;re not already running a Solr instance that automagically starts up on boot or that you&#39;ve started previously?  The output given seems to indicate that you&#39;ve already started Solr and that it runs on port 8983 as well (the <code>java.exe</code> process <i>is</i> Solr)."},{"owner":{"account_id":200690,"reputation":26410,"user_id":446681,"display_name":"Hector Correa"},"score":0,"creation_date":1687799000,"post_id":76547085,"comment_id":134984106,"body_markdown":"When `solr status` returns &quot;Found Solr process 7992 running on port 8983 &quot; ... what happens if point your browser to http://localhost:8983/ ? You should see the Solr home page.","body":"When <code>solr status</code> returns &quot;Found Solr process 7992 running on port 8983 &quot; ... what happens if point your browser to <a href=\"http://localhost:8983/\" rel=\"nofollow noreferrer\">localhost:8983</a> ? You should see the Solr home page."},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1687812233,"post_id":76547085,"comment_id":134986307,"body_markdown":"This non programming question seems better suited for the [serverfault.com community](https://serverfault.com/) (another more focused stackexchange website)","body":"This non programming question seems better suited for the <a href=\"https://serverfault.com/\">serverfault.com community</a> (another more focused stackexchange website)"},{"owner":{"account_id":18599593,"reputation":1,"user_id":13554734,"display_name":"Lawal"},"score":0,"creation_date":1687953737,"post_id":76547085,"comment_id":135008386,"body_markdown":"Sorry guys, it was all my fault. Matsunah was right, I was running two solr instances at the same time..Thanks for your concern.","body":"Sorry guys, it was all my fault. Matsunah was right, I was running two solr instances at the same time..Thanks for your concern."}],"owner":{"account_id":18599593,"reputation":1,"user_id":13554734,"display_name":"Lawal"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687812272,"creation_date":1687625380,"question_id":76547085,"body_markdown":"On starting solr with the command `bin\\solr.cmd start` it shows the normal starting statement:\r\n\r\n    C:\\solr-8.11.2&gt;bin\\solr.cmd start\r\n    Java HotSpot(TM) 64-Bit Server VM warning: \r\n    JVM cannot use large page memory because it does not have enough privilege to lock pages in memory.\r\n\r\n- Waiting up to 30 to see Solr running on port 8983\r\n- Started Solr server on port 8983. Happy searching but I could not access solr on the admin, when I used the command `bin\\solr.cmd status` it shows:\r\n\r\n      Found Solr process 7992 running on port 8983\r\n      {\r\n      &quot;solr_home&quot;:&quot;C:\\\\solr-8.11.2\\\\server\\\\solr&quot;,\r\n      &quot;version&quot;:&quot;8.11.2 17dee71932c683e345508113523e764c3e4c80fa - mdrob - 2022-06-13 11:27:54&quot;,\r\n      &quot;startTime&quot;:&quot;2023-06-24T16:13:12.602Z&quot;,\r\n      &quot;uptime&quot;:&quot;0 days, 0 hours, 7 minutes, 43 seconds&quot;,\r\n      &quot;memory&quot;:&quot;55.5 MB (%10.8) of 512 MB&quot;}\r\n\r\n- When I changed the port number using the `bin\\solr.cmd start -p 8984` command and check the status again, it still shows that another process is still running on port 8984. \r\n\r\n- When I checked with currport it shows:\r\n\r\n      java.exe\t7992\tTCP\t8983\t\t0.0.0.0\t\t\t0.0.0.0\t\t\r\n      Listening\tC:\\Program Files\\Java\\jdk1.8.0_202\\bin\\java.exe\tJava(TM)\r\n      Platform SE 8\tJava(TM) Platform SE binary\t8.0.2020.8\tOracle Corporation\t24/06/2023 17:13:12\tDESKTOP-GJBI99T\\DELL\t\r\n   \t  A\t24/06/2023 17:26:53\t24/06/2023 17:13:18\t\t\r\n\r\n- It shows that `jva.exe` process is listening on `port 8983` routed to an IP address 0.0.0.0. The same thing with port 8984\r\n\r\n- When I changed the port number with `-p`, I was expecting the solr app to run on the new port number but I got the same response. I uninstalled the solr app and reinstalled it, but the same thing happened.\r\n\r\n","title":"java.exe process always running on solr ports on startup","body":"<p>On starting solr with the command <code>bin\\solr.cmd start</code> it shows the normal starting statement:</p>\n<pre><code>C:\\solr-8.11.2&gt;bin\\solr.cmd start\nJava HotSpot(TM) 64-Bit Server VM warning: \nJVM cannot use large page memory because it does not have enough privilege to lock pages in memory.\n</code></pre>\n<ul>\n<li><p>Waiting up to 30 to see Solr running on port 8983</p>\n</li>\n<li><p>Started Solr server on port 8983. Happy searching but I could not access solr on the admin, when I used the command <code>bin\\solr.cmd status</code> it shows:</p>\n<pre><code>Found Solr process 7992 running on port 8983\n{\n&quot;solr_home&quot;:&quot;C:\\\\solr-8.11.2\\\\server\\\\solr&quot;,\n&quot;version&quot;:&quot;8.11.2 17dee71932c683e345508113523e764c3e4c80fa - mdrob - 2022-06-13 11:27:54&quot;,\n&quot;startTime&quot;:&quot;2023-06-24T16:13:12.602Z&quot;,\n&quot;uptime&quot;:&quot;0 days, 0 hours, 7 minutes, 43 seconds&quot;,\n&quot;memory&quot;:&quot;55.5 MB (%10.8) of 512 MB&quot;}\n</code></pre>\n</li>\n<li><p>When I changed the port number using the <code>bin\\solr.cmd start -p 8984</code> command and check the status again, it still shows that another process is still running on port 8984.</p>\n</li>\n<li><p>When I checked with currport it shows:</p>\n<pre><code>java.exe  7992    TCP 8983        0.0.0.0         0.0.0.0     \nListening C:\\Program Files\\Java\\jdk1.8.0_202\\bin\\java.exe Java(TM)\nPlatform SE 8 Java(TM) Platform SE binary 8.0.2020.8  Oracle Corporation  24/06/2023 17:13:12 DESKTOP-GJBI99T\\DELL    \nA 24/06/2023 17:26:53 24/06/2023 17:13:18     \n</code></pre>\n</li>\n<li><p>It shows that <code>jva.exe</code> process is listening on <code>port 8983</code> routed to an IP address 0.0.0.0. The same thing with port 8984</p>\n</li>\n<li><p>When I changed the port number with <code>-p</code>, I was expecting the solr app to run on the new port number but I got the same response. I uninstalled the solr app and reinstalled it, but the same thing happened.</p>\n</li>\n</ul>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":5956219,"reputation":529,"user_id":4682816,"display_name":"scigs"},"score":2,"creation_date":1687747445,"post_id":76553116,"comment_id":134974765,"body_markdown":"i would suggest looking into and using a dependency management system like maven https://maven.apache.org/","body":"i would suggest looking into and using a dependency management system like maven <a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\">maven.apache.org</a>"},{"owner":{"account_id":5751140,"reputation":163,"user_id":4540787,"accept_rate":56,"display_name":"Barcat"},"score":0,"creation_date":1687752134,"post_id":76553116,"comment_id":134975135,"body_markdown":"Works!!!! Tks!!!!","body":"Works!!!! Tks!!!!"}],"answers":[{"tags":[],"owner":{"account_id":5751140,"reputation":163,"user_id":4540787,"accept_rate":56,"display_name":"Barcat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687752239,"creation_date":1687752239,"answer_id":76553451,"question_id":76553116,"body_markdown":"After restarting the project as Maven project, I added the dependencies to the pom.xml file, and the application worked correctly.","title":"Trouble to add Apache POI integration in Java project using eclipse dependencies","body":"<p>After restarting the project as Maven project, I added the dependencies to the pom.xml file, and the application worked correctly.</p>\n"}],"owner":{"account_id":5751140,"reputation":163,"user_id":4540787,"accept_rate":56,"display_name":"Barcat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687811333,"creation_date":1687744450,"question_id":76553116,"body_markdown":"I&#39;m trying to create an Excel spreadsheet and I intend to use the Apache POI library, but it&#39;s returning an error. I&#39;ve already added the JAR files, but the message remains the same. What else could be wrong?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe message returned is:\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n\tWorkbook cannot be resolved to a type\r\n\tXSSFWorkbook cannot be resolved to a type\r\n\tSheet cannot be resolved to a type\r\n\tRow cannot be resolved to a type\r\n\tCell cannot be resolved to a type\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d5hfO.png\r\n  [2]: https://i.stack.imgur.com/WnVIe.png","title":"Trouble to add Apache POI integration in Java project using eclipse dependencies","body":"<p>I'm trying to create an Excel spreadsheet and I intend to use the Apache POI library, but it's returning an error. I've already added the JAR files, but the message remains the same. What else could be wrong?</p>\n<p><a href=\"https://i.stack.imgur.com/d5hfO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d5hfO.png\" alt=\"enter image description here\" /></a></p>\n<p>The message returned is:\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems:\nWorkbook cannot be resolved to a type\nXSSFWorkbook cannot be resolved to a type\nSheet cannot be resolved to a type\nRow cannot be resolved to a type\nCell cannot be resolved to a type</p>\n<p><a href=\"https://i.stack.imgur.com/WnVIe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WnVIe.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","awt"],"answers":[{"tags":[],"owner":{"account_id":6309043,"reputation":1,"user_id":8618440,"display_name":"apppelll"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505556616,"creation_date":1505556616,"answer_id":46252699,"question_id":46252556,"body_markdown":"Try it with that little code:\r\n\r\n    this.addWindowListener(new WindowAdapter() {\r\n            \r\n            public void windowClosing(WindowEvent evt) {\r\n                System.exit(0);\r\n            }\r\n            \r\n    }); \r\n\r\nYou have to insert it in &quot;App()&quot;. It will close the program &quot;System.exit(0);&quot;\r\nwhen you press the close button.","title":"Close Java Frame by clicking X button","body":"<p>Try it with that little code:</p>\n\n<pre><code>this.addWindowListener(new WindowAdapter() {\n\n        public void windowClosing(WindowEvent evt) {\n            System.exit(0);\n        }\n\n}); \n</code></pre>\n\n<p>You have to insert it in \"App()\". It will close the program \"System.exit(0);\"\nwhen you press the close button.</p>\n"},{"tags":[],"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687810607,"creation_date":1505556627,"answer_id":46252700,"question_id":46252556,"body_markdown":"You need to add Listener and call dispose while initializing your applet. \r\n\r\n    addWindowListener(new WindowAdapter() {\r\n        public void windowClosing(WindowEvent e) {\r\n            dispose();\r\n        }\r\n    });\r\n\r\nYou need to add above line of code inside the constructor.","title":"Close Java Frame by clicking X button","body":"<p>You need to add Listener and call dispose while initializing your applet.</p>\n<pre><code>addWindowListener(new WindowAdapter() {\n    public void windowClosing(WindowEvent e) {\n        dispose();\n    }\n});\n</code></pre>\n<p>You need to add above line of code inside the constructor.</p>\n"},{"tags":[],"owner":{"account_id":9527062,"reputation":50,"user_id":7079986,"accept_rate":50,"display_name":"Ice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505556660,"creation_date":1505556660,"answer_id":46252704,"question_id":46252556,"body_markdown":"im not using AWT often but heres my Solution :)\r\n\r\n    addWindowListener(new WindowAdapter(){\r\n        @Override\r\n        public void windowClosing(WindowEvent we){\r\n    \tSystem.exit(0);\r\n        }\r\n    });\r\n\r\n\r\nAdd a new WindowAdapter to your App Constructor and call system.exit(0) on the Window Close Event ","title":"Close Java Frame by clicking X button","body":"<p>im not using AWT often but heres my Solution :)</p>\n\n<pre><code>addWindowListener(new WindowAdapter(){\n    @Override\n    public void windowClosing(WindowEvent we){\n    System.exit(0);\n    }\n});\n</code></pre>\n\n<p>Add a new WindowAdapter to your App Constructor and call system.exit(0) on the Window Close Event </p>\n"},{"tags":[],"owner":{"display_name":"user4668606"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505557086,"creation_date":1505557086,"answer_id":46252770,"question_id":46252556,"body_markdown":"You can use [WindowContants][1] on [JFrame#setDefaultCloseOperation][2] to achieve the desired action. This allows you to dispose the frame, entirely terminate the application and a few more with a single line in the constructor:\r\n\r\n    this.setDefaultCloseOperation(WindowContants.DISPOSE_ON_CLOSE);\r\n\r\nwill dispose the frame containing the app. This is sufficient to terminate the program you presented.\r\n\r\nThis approach doesn&#39;t allow handling any events though, but simply closes the frame.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/javax/swing/WindowConstants.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/javax/swing/JFrame.html#setDefaultCloseOperation-int-","title":"Close Java Frame by clicking X button","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/8/docs/api/javax/swing/WindowConstants.html\" rel=\"nofollow noreferrer\">WindowContants</a> on <a href=\"http://docs.oracle.com/javase/8/docs/api/javax/swing/JFrame.html#setDefaultCloseOperation-int-\" rel=\"nofollow noreferrer\">JFrame#setDefaultCloseOperation</a> to achieve the desired action. This allows you to dispose the frame, entirely terminate the application and a few more with a single line in the constructor:</p>\n\n<pre><code>this.setDefaultCloseOperation(WindowContants.DISPOSE_ON_CLOSE);\n</code></pre>\n\n<p>will dispose the frame containing the app. This is sufficient to terminate the program you presented.</p>\n\n<p>This approach doesn't allow handling any events though, but simply closes the frame.</p>\n"}],"owner":{"account_id":4446166,"reputation":3,"user_id":3619379,"display_name":"Aritro01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3787,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":46252700,"answer_count":4,"score":-1,"last_activity_date":1687810607,"creation_date":1505555684,"question_id":46252556,"body_markdown":"Here is a piece of code that I wrote but the close button on the top of the application doesn&#39;t work please help\r\n\r\nCode:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n\r\n    public class App extends Frame implements MouseMotionListener {\r\n    \tApp() {\r\n    \t\taddMouseMotionListener(this);\r\n    \t\tsetSize(200, 200);\r\n    \t\tsetVisible(true);\r\n    \t}\r\n\r\n    \tpublic void mouseDragged(MouseEvent e) {\r\n    \t\tGraphics g = getGraphics();\r\n    \t\tg.setColor(Color.RED);\r\n    \t\tg.fillRect(e.getX(),  e.getY(),10, 10);\r\n    \t}\r\n\r\n    \tpublic void mouseMoved(MouseEvent e) {\r\n    \t}\r\n\r\n    \tpublic static void main(String[] args)throws Exception {\r\n    \t\tApp a = new App();\r\n    \t}\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nImage:\r\n\r\n![Application Screenshot The close button is not working][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MDUci.png","title":"Close Java Frame by clicking X button","body":"<p>Here is a piece of code that I wrote but the close button on the top of the application doesn't work please help</p>\n\n<p>Code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import java.awt.*;\r\nimport java.awt.event.*;\r\n\r\npublic class App extends Frame implements MouseMotionListener {\r\n\tApp() {\r\n\t\taddMouseMotionListener(this);\r\n\t\tsetSize(200, 200);\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tpublic void mouseDragged(MouseEvent e) {\r\n\t\tGraphics g = getGraphics();\r\n\t\tg.setColor(Color.RED);\r\n\t\tg.fillRect(e.getX(),  e.getY(),10, 10);\r\n\t}\r\n\r\n\tpublic void mouseMoved(MouseEvent e) {\r\n\t}\r\n\r\n\tpublic static void main(String[] args)throws Exception {\r\n\t\tApp a = new App();\r\n\t}\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Image:</p>\n\n<p><img src=\"https://i.stack.imgur.com/MDUci.png\" alt=\"Application Screenshot The close button is not working\"></p>\n"},{"tags":["java","multithreading","deprecated"],"comments":[{"owner":{"account_id":8666367,"reputation":9194,"user_id":6486738,"accept_rate":100,"display_name":"Ted Klein Bergman"},"score":0,"creation_date":1675364339,"post_id":75327715,"comment_id":132918752,"body_markdown":"I guess they want you to `join`, as `stop` is quite ambiguous. Maybe `cancel` or `terminate` is a better word? I&#39;m just guessing, but this seems like the terminology is open for interpretation, so they deprecated it to encourage people to use a more descriptive API, but don&#39;t want to remove it completely due to many people already using it.","body":"I guess they want you to <code>join</code>, as <code>stop</code> is quite ambiguous. Maybe <code>cancel</code> or <code>terminate</code> is a better word? I&#39;m just guessing, but this seems like the terminology is open for interpretation, so they deprecated it to encourage people to use a more descriptive API, but don&#39;t want to remove it completely due to many people already using it."},{"owner":{"account_id":1633614,"reputation":7209,"user_id":1507691,"accept_rate":83,"display_name":"Zak"},"score":0,"creation_date":1675364562,"post_id":75327715,"comment_id":132918824,"body_markdown":"My assumption (and that&#39;s all it is) is that older devices that may still be around that use  deprecated code  -- Including older medical devices, and infrastructure that&#39;s been around since the 90&#39;s -- If these devices are still in active use, it&#39;s probably best that developers can just work on them without having to rewrite them ..  Just a thought ..","body":"My assumption (and that&#39;s all it is) is that older devices that may still be around that use  deprecated code  -- Including older medical devices, and infrastructure that&#39;s been around since the 90&#39;s -- If these devices are still in active use, it&#39;s probably best that developers can just work on them without having to rewrite them ..  Just a thought .."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":4,"creation_date":1675367370,"post_id":75327715,"comment_id":132919548,"body_markdown":"@TedKleinBergman, `t.join()` is in no way a substitute for `t.stop()`. It should be obvious that `t.stop()` does something rather drastic to thread `t`, while `t.join()` does absolutely nothing at all to the thread. Also note: `t.stop()` is not deprecated because somebody thought &quot;stop&quot; was a bad name. It is deprecated because of what it does.","body":"@TedKleinBergman, <code>t.join()</code> is in no way a substitute for <code>t.stop()</code>. It should be obvious that <code>t.stop()</code> does something rather drastic to thread <code>t</code>, while <code>t.join()</code> does absolutely nothing at all to the thread. Also note: <code>t.stop()</code> is not deprecated because somebody thought &quot;stop&quot; was a bad name. It is deprecated because of what it does."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675367827,"post_id":75327715,"comment_id":132919683,"body_markdown":"They only rather recently invented the for removal option for deprecated methods and classes. The `stop` method has only been marked so in either Java 18 or 19, so I would not expect it to be removed until either *in* the next LTS version (is that 20?) or perhaps rather *after* it (so in version 21). Nothing I know.","body":"They only rather recently invented the for removal option for deprecated methods and classes. The <code>stop</code> method has only been marked so in either Java 18 or 19, so I would not expect it to be removed until either <i>in</i> the next LTS version (is that 20?) or perhaps rather <i>after</i> it (so in version 21). Nothing I know."}],"answers":[{"tags":[],"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675380624,"creation_date":1675380624,"answer_id":75330001,"question_id":75327715,"body_markdown":"Because there could be old code that still executes it. Removing it would cause old code to no longer compile.\r\n\r\nSun and now Oracle have been cautious in terms of removing code that could require recompiles. Though lately they are slowly cleaning these things up. Because as you state, decades have passed, so its time.","title":"Thread.stop() deprecated almost 25 years back but never removed - Why?","body":"<p>Because there could be old code that still executes it. Removing it would cause old code to no longer compile.</p>\n<p>Sun and now Oracle have been cautious in terms of removing code that could require recompiles. Though lately they are slowly cleaning these things up. Because as you state, decades have passed, so its time.</p>\n"}],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1687810473,"creation_date":1675363834,"question_id":75327715,"body_markdown":"I could not find any documentation, reference or rationale for this.\r\n\r\n\r\n\r\n&gt; **`Thread.stop()` has been deprecated since 1.2, almost quarter of a century back but has never been removed from JDK**\r\n\r\nWhy?\r\n\r\n        @Deprecated(since=&quot;1.2&quot;, forRemoval=true)\r\n         public final void stop() {","title":"Thread.stop() deprecated almost 25 years back but never removed - Why?","body":"<p>I could not find any documentation, reference or rationale for this.</p>\n<blockquote>\n<p><strong><code>Thread.stop()</code> has been deprecated since 1.2, almost quarter of a century back but has never been removed from JDK</strong></p>\n</blockquote>\n<p>Why?</p>\n<pre><code>    @Deprecated(since=&quot;1.2&quot;, forRemoval=true)\n     public final void stop() {\n</code></pre>\n"},{"tags":["java","c#","oop","design-patterns"],"comments":[{"owner":{"account_id":152519,"reputation":535,"user_id":367111,"accept_rate":83,"display_name":"obivandamme"},"score":0,"creation_date":1686519399,"post_id":76452237,"comment_id":134805779,"body_markdown":"Which code do you not want to change? The code in the factory or somewhere else? The point of the factory should be to make sure it is the only thing that needs to change when you add a new type of button. That is the S in solid. In addition you should be able to add the functionality by only adding a few lines to the factory to get your new button. That is the O in solid. The rest of you code should remain unchanged. And using a primitive like a string as paramater already makes sure that nothing else needs to know about the new button type.","body":"Which code do you not want to change? The code in the factory or somewhere else? The point of the factory should be to make sure it is the only thing that needs to change when you add a new type of button. That is the S in solid. In addition you should be able to add the functionality by only adding a few lines to the factory to get your new button. That is the O in solid. The rest of you code should remain unchanged. And using a primitive like a string as paramater already makes sure that nothing else needs to know about the new button type."},{"owner":{"account_id":17293107,"reputation":55,"user_id":21057359,"display_name":"LightSouls"},"score":0,"creation_date":1686520126,"post_id":76452237,"comment_id":134805846,"body_markdown":"adding a few lines to the factory violates OCP","body":"adding a few lines to the factory violates OCP"},{"owner":{"account_id":1455702,"reputation":15662,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1686535256,"post_id":76452237,"comment_id":134806926,"body_markdown":"There are several different Factory design patterns, some of which violate the OCP and some which do not. In particular, the [two patterns](https://stackoverflow.com/a/50786084/1371329) defined in the GoF book do _not_.","body":"There are several different Factory design patterns, some of which violate the OCP and some which do not. In particular, the <a href=\"https://stackoverflow.com/a/50786084/1371329\">two patterns</a> defined in the GoF book do <i>not</i>."},{"owner":{"account_id":17293107,"reputation":55,"user_id":21057359,"display_name":"LightSouls"},"score":0,"creation_date":1686558883,"post_id":76452237,"comment_id":134809521,"body_markdown":"I still don&#39;t get it, how you can i add new type without modifiying existing factory class?","body":"I still don&#39;t get it, how you can i add new type without modifiying existing factory class?"},{"owner":{"account_id":5752896,"reputation":1937,"user_id":4541936,"accept_rate":33,"display_name":"brads3290"},"score":0,"creation_date":1686877327,"post_id":76452237,"comment_id":134862198,"body_markdown":"Why do you think this question belongs under the `c#` and `java` tags? It seems to be a question about OOP and design patterns, and nothing to do with either of those languages specifically.","body":"Why do you think this question belongs under the <code>c#</code> and <code>java</code> tags? It seems to be a question about OOP and design patterns, and nothing to do with either of those languages specifically."},{"owner":{"account_id":17293107,"reputation":55,"user_id":21057359,"display_name":"LightSouls"},"score":0,"creation_date":1686919601,"post_id":76452237,"comment_id":134868427,"body_markdown":"beacuse i am looking for the solution in these languages. not all languages has OOP, interfaces, ...","body":"beacuse i am looking for the solution in these languages. not all languages has OOP, interfaces, ..."}],"answers":[{"tags":[],"owner":{"account_id":23218021,"reputation":26,"user_id":17310684,"display_name":"refactorer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687810282,"creation_date":1687445330,"answer_id":76533146,"question_id":76452237,"body_markdown":"The Open/Close Principle does not mean that you must not change the factory code. It requests you to only extend, but not modify the factory&#39;s interface and behavior.\r\n\r\nHowever, implementing [Abstract Factory Pattern][1] like this will come closest to your desire:\r\n\r\n    public interface ButtonFactory {\r\n        Button createButton();\r\n    }\r\n    \r\n    public class IosButtonFactory implements ButtonFactory {\r\n        public Button createButton() {\r\n            return new IosButton();\r\n        }\r\n    }\r\n    \r\n    public class AndroidButtonFactory implements ButtonFactory {\r\n        public Button createButton() {\r\n            return new AndroidButton();\r\n        }\r\n    }\r\nNow. if you have to provide a new button type, you only have to add a new implementation like this:\r\n\r\n    public class WindowsButtonFactory implements ButtonFactory {\r\n        public Button createButton() {\r\n            return new WindowsButton();\r\n        }\r\n    }\r\nThis way, your factory is free of conditional statements.\r\n\r\nConsider that there must be a location, where a condition decides, which of the concrete implementation is used related to the provided `string os`. This can be in your bootstrapper, where you configure your IoC container, or in your main method, as shown in this really neat [sample][2].\r\n\r\nThis way, your Factory is free of conditional statements, as it was your request by your initial question.\r\n\r\n**EDIT1** Concerning @LightSoul &#39;s 1st comment below\r\n\r\nThere are some other designs of the Factory Pattern, however, then, it&#39;s not longer an Abstract Factory, it&#39;s a simple Factory.\r\n\r\nHere, once again, we start with the interface:\r\n\r\n    public interface ButtonFactory {\r\n        Button createButton(String token);\r\n    }\r\n\r\nThe implementation might look something like:\r\n\r\n    public class ButtonFactoryImpl implements ButtonFactory {\r\n        private final Map&lt;String, Supplier&lt;Button&gt;&gt; factoryMethods = new HashMap&lt;&gt;();\r\n    \r\n        public ButtonFactoryImpl() {\r\n            factoryMethods.put(&quot;ios&quot;, this::createIosButton);\r\n            factoryMethods.put(&quot;android&quot;, this::createAndroidButton);\r\n        }\r\n    \r\n        @Override\r\n        public Button createButton(String token) {\r\n            if (factoryMethods.containsKey(token)) {\r\n                return factoryMethods.get(token).get();\r\n            }\r\n    \r\n            throw new IllegalArgumentException(&quot;Token %s not configured&quot;.formatted(token);\r\n        }\r\n    \r\n        private Button createIosButton() {\r\n            return new IosButton();\r\n        }\r\n    \r\n        private Button createAndroidButton() {\r\n            return new AndroidButton();\r\n        }\r\n    }\r\n\r\nRead [this article][3] to learn why token must be a primitive datatype.\r\n\r\nThis design fits to the OpenClosed Principle since you have only to extend, but not modify code, once you introduce the WindowsButton mentioned above.\r\n\r\nIf you like, and need not to consider speed and other drawbacks, you may want to use reflection:\r\n\r\nFirst, create a new annotation:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    public @interface Token {\r\n        public String value();\r\n    }\r\n\r\nThen our factory might look like this:\r\n\r\n    public class ButtonFactoryImpl implements ButtonFactory {\r\n    \r\n        @Override\r\n        public Button createButton(String token) {\r\n            for(Method method : getType().getDeclaredMethods()) {\r\n                Annotation annotation = method.getDeclaredAnnotation(Token.class);\r\n                if (annotation instanceof Token t &amp;&amp; t.value().equals(token)) {\r\n                   method.setAccessible(true);\r\n                   Button button = (Button) method.invoke(this, null);\r\n                   method.setAccessible(false)\r\n                   return button;\r\n                }\r\n            }\r\n    \r\n            throw new IllegalArgumentException(&quot;Token %s not configured&quot;.formatted(token);\r\n        }\r\n        \r\n    \r\n        @Token(&quot;ios&quot;)\r\n        private Button createIosButton() {\r\n            return new IosButton();\r\n        }\r\n    \r\n        @Token(&quot;android&quot;)\r\n        private Button createAndroidButton() {\r\n            return new AndroidButton();\r\n        }\r\n    }\r\n\r\nNow, you don&#39;t longer have a need to adjust any dispatch code, like switch/if or Map initializing, if you have to extend the factory with a new private method for the @Token(&quot;windows&quot;). But, as mentioned above, reflection has some serious impacts to consider. Take care and good luck.\r\n\r\n(Disclaimer: the code above is not tested and might require some small changes to run. It does not contain error handling for easy readability and understandability.)\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Abstract_factory_pattern\r\n  [2]: https://refactoring.guru/design-patterns/abstract-factory\r\n  [3]: https://blog.cleancoder.com/uncle-bob/2021/03/06/ifElseSwitch.html","title":"How to avoid conditional statements in Factory?","body":"<p>The Open/Close Principle does not mean that you must not change the factory code. It requests you to only extend, but not modify the factory's interface and behavior.</p>\n<p>However, implementing <a href=\"https://en.wikipedia.org/wiki/Abstract_factory_pattern\" rel=\"nofollow noreferrer\">Abstract Factory Pattern</a> like this will come closest to your desire:</p>\n<pre><code>public interface ButtonFactory {\n    Button createButton();\n}\n\npublic class IosButtonFactory implements ButtonFactory {\n    public Button createButton() {\n        return new IosButton();\n    }\n}\n\npublic class AndroidButtonFactory implements ButtonFactory {\n    public Button createButton() {\n        return new AndroidButton();\n    }\n}\n</code></pre>\n<p>Now. if you have to provide a new button type, you only have to add a new implementation like this:</p>\n<pre><code>public class WindowsButtonFactory implements ButtonFactory {\n    public Button createButton() {\n        return new WindowsButton();\n    }\n}\n</code></pre>\n<p>This way, your factory is free of conditional statements.</p>\n<p>Consider that there must be a location, where a condition decides, which of the concrete implementation is used related to the provided <code>string os</code>. This can be in your bootstrapper, where you configure your IoC container, or in your main method, as shown in this really neat <a href=\"https://refactoring.guru/design-patterns/abstract-factory\" rel=\"nofollow noreferrer\">sample</a>.</p>\n<p>This way, your Factory is free of conditional statements, as it was your request by your initial question.</p>\n<p><strong>EDIT1</strong> Concerning @LightSoul 's 1st comment below</p>\n<p>There are some other designs of the Factory Pattern, however, then, it's not longer an Abstract Factory, it's a simple Factory.</p>\n<p>Here, once again, we start with the interface:</p>\n<pre><code>public interface ButtonFactory {\n    Button createButton(String token);\n}\n</code></pre>\n<p>The implementation might look something like:</p>\n<pre><code>public class ButtonFactoryImpl implements ButtonFactory {\n    private final Map&lt;String, Supplier&lt;Button&gt;&gt; factoryMethods = new HashMap&lt;&gt;();\n\n    public ButtonFactoryImpl() {\n        factoryMethods.put(&quot;ios&quot;, this::createIosButton);\n        factoryMethods.put(&quot;android&quot;, this::createAndroidButton);\n    }\n\n    @Override\n    public Button createButton(String token) {\n        if (factoryMethods.containsKey(token)) {\n            return factoryMethods.get(token).get();\n        }\n\n        throw new IllegalArgumentException(&quot;Token %s not configured&quot;.formatted(token);\n    }\n\n    private Button createIosButton() {\n        return new IosButton();\n    }\n\n    private Button createAndroidButton() {\n        return new AndroidButton();\n    }\n}\n</code></pre>\n<p>Read <a href=\"https://blog.cleancoder.com/uncle-bob/2021/03/06/ifElseSwitch.html\" rel=\"nofollow noreferrer\">this article</a> to learn why token must be a primitive datatype.</p>\n<p>This design fits to the OpenClosed Principle since you have only to extend, but not modify code, once you introduce the WindowsButton mentioned above.</p>\n<p>If you like, and need not to consider speed and other drawbacks, you may want to use reflection:</p>\n<p>First, create a new annotation:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface Token {\n    public String value();\n}\n</code></pre>\n<p>Then our factory might look like this:</p>\n<pre><code>public class ButtonFactoryImpl implements ButtonFactory {\n\n    @Override\n    public Button createButton(String token) {\n        for(Method method : getType().getDeclaredMethods()) {\n            Annotation annotation = method.getDeclaredAnnotation(Token.class);\n            if (annotation instanceof Token t &amp;&amp; t.value().equals(token)) {\n               method.setAccessible(true);\n               Button button = (Button) method.invoke(this, null);\n               method.setAccessible(false)\n               return button;\n            }\n        }\n\n        throw new IllegalArgumentException(&quot;Token %s not configured&quot;.formatted(token);\n    }\n    \n\n    @Token(&quot;ios&quot;)\n    private Button createIosButton() {\n        return new IosButton();\n    }\n\n    @Token(&quot;android&quot;)\n    private Button createAndroidButton() {\n        return new AndroidButton();\n    }\n}\n</code></pre>\n<p>Now, you don't longer have a need to adjust any dispatch code, like switch/if or Map initializing, if you have to extend the factory with a new private method for the @Token(&quot;windows&quot;). But, as mentioned above, reflection has some serious impacts to consider. Take care and good luck.</p>\n<p>(Disclaimer: the code above is not tested and might require some small changes to run. It does not contain error handling for easy readability and understandability.)</p>\n"}],"owner":{"account_id":17293107,"reputation":55,"user_id":21057359,"display_name":"LightSouls"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76533146,"answer_count":1,"score":-1,"last_activity_date":1687810282,"creation_date":1686512383,"question_id":76452237,"body_markdown":"Imagine we have `interface Button{ void Click(); }`   and its implementations:  `AndroidButton` and `IOSButton`. Is it possible to create appropriate button based on input like `string os = &quot;ios&quot;` without violating the sOlid ?  Like when a new type of &#39;os&#39; appeared, we would not have to change the existing code  ","title":"How to avoid conditional statements in Factory?","body":"<p>Imagine we have <code>interface Button{ void Click(); }</code>   and its implementations:  <code>AndroidButton</code> and <code>IOSButton</code>. Is it possible to create appropriate button based on input like <code>string os = &quot;ios&quot;</code> without violating the sOlid ?  Like when a new type of 'os' appeared, we would not have to change the existing code</p>\n"},{"tags":["java","validation","vaadin","styling","error-messaging"],"answers":[{"tags":[],"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687810090,"creation_date":1687810090,"answer_id":76559932,"question_id":76559830,"body_markdown":"Instead of manually adding required and other validations to your fields, it&#39;s recommended to use the `Binder`.\r\n\r\nhttps://vaadin.com/docs/latest/binding-data/components-binder\r\n\r\nOnce the user pressed save and you check whether or not the form is valid. The validate method of the binder also displays all fields as invalid, like shown in your requirement once you let it validate the form on save. ","title":"Vaadin: Highlight empty components with error message on submitting","body":"<p>Instead of manually adding required and other validations to your fields, it's recommended to use the <code>Binder</code>.</p>\n<p><a href=\"https://vaadin.com/docs/latest/binding-data/components-binder\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/binding-data/components-binder</a></p>\n<p>Once the user pressed save and you check whether or not the form is valid. The validate method of the binder also displays all fields as invalid, like shown in your requirement once you let it validate the form on save.</p>\n"}],"owner":{"account_id":23419629,"reputation":81,"user_id":17480047,"display_name":"AleXeNoN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687810090,"creation_date":1687809003,"question_id":76559830,"body_markdown":"I have a question on how does the vaadin framework work with `setRequired(true)`. What I found is when user focuses the component field and then exiting it, the error message appears. Here are the fields that are in my `Dialog`.\r\n\r\n```\r\n    private final TextField nameField = new TextField(&quot;Expense Name&quot;);\r\n    private final TextArea descriptionField = new TextArea(&quot;Description&quot;);\r\n    private final NumberField amountField = new NumberField(&quot;Amount&quot;);\r\n    private final ComboBox&lt;String&gt; intervalField = new ComboBox&lt;&gt;(&quot;Interval&quot;);\r\n    private final ComboBox&lt;String&gt; categoryField = new ComboBox&lt;&gt;(&quot;Category&quot;);\r\n    private final DatePicker dateField = new DatePicker(&quot;Date&quot;);\r\n\r\n    private final Component[] requiredComponents = {nameField, amountField, categoryField, intervalField};\r\n\r\n    //...\r\n\r\n    private List&lt;Component&gt; getListOfEmptyComponents() {\r\n        return Arrays.stream(requiredComponents)\r\n                .filter(component -&gt; component instanceof HasValue&lt;?, ?&gt; &amp;&amp; ((HasValue&lt;?, ?&gt;) component).isEmpty())\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    private void setupRequiredComponents() {\r\n        Arrays.stream(requiredComponents).forEach(c -&gt; {\r\n            ((HasValue&lt;?, ?&gt;) c).setRequiredIndicatorVisible(true);\r\n            ((HasValidationProperties) c).setErrorMessage(&quot;Please fill this field&quot;);\r\n        });\r\n    }\r\n```\r\n\r\nI want, after the user presses the &quot;Save&quot; button, all the empty required fields to be like the screenshot below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThese error messages are gain after I click (focus) the field and left it, and the components have the `setRequiredIndicatorVisible(true);`, but I want them to be visible after user clicks on Save button. Is this possible without me adding my own error messages and styling them ? Any help will be great!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sJlhe.png","title":"Vaadin: Highlight empty components with error message on submitting","body":"<p>I have a question on how does the vaadin framework work with <code>setRequired(true)</code>. What I found is when user focuses the component field and then exiting it, the error message appears. Here are the fields that are in my <code>Dialog</code>.</p>\n<pre><code>    private final TextField nameField = new TextField(&quot;Expense Name&quot;);\n    private final TextArea descriptionField = new TextArea(&quot;Description&quot;);\n    private final NumberField amountField = new NumberField(&quot;Amount&quot;);\n    private final ComboBox&lt;String&gt; intervalField = new ComboBox&lt;&gt;(&quot;Interval&quot;);\n    private final ComboBox&lt;String&gt; categoryField = new ComboBox&lt;&gt;(&quot;Category&quot;);\n    private final DatePicker dateField = new DatePicker(&quot;Date&quot;);\n\n    private final Component[] requiredComponents = {nameField, amountField, categoryField, intervalField};\n\n    //...\n\n    private List&lt;Component&gt; getListOfEmptyComponents() {\n        return Arrays.stream(requiredComponents)\n                .filter(component -&gt; component instanceof HasValue&lt;?, ?&gt; &amp;&amp; ((HasValue&lt;?, ?&gt;) component).isEmpty())\n                .collect(Collectors.toList());\n    }\n\n    private void setupRequiredComponents() {\n        Arrays.stream(requiredComponents).forEach(c -&gt; {\n            ((HasValue&lt;?, ?&gt;) c).setRequiredIndicatorVisible(true);\n            ((HasValidationProperties) c).setErrorMessage(&quot;Please fill this field&quot;);\n        });\n    }\n</code></pre>\n<p>I want, after the user presses the &quot;Save&quot; button, all the empty required fields to be like the screenshot below.</p>\n<p><a href=\"https://i.stack.imgur.com/sJlhe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sJlhe.png\" alt=\"enter image description here\" /></a></p>\n<p>These error messages are gain after I click (focus) the field and left it, and the components have the <code>setRequiredIndicatorVisible(true);</code>, but I want them to be visible after user clicks on Save button. Is this possible without me adding my own error messages and styling them ? Any help will be great!</p>\n"},{"tags":["java","dictionary","generics","types"],"comments":[{"owner":{"account_id":8153102,"reputation":15213,"user_id":6139527,"display_name":"Nicholas K"},"score":1,"creation_date":1546929385,"post_id":54086274,"comment_id":95005523,"body_markdown":"`?` is the *unknown* type is java. You cannot add to what is unknown.","body":"<code>?</code> is the <i>unknown</i> type is java. You cannot add to what is unknown."}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1546932625,"creation_date":1546929389,"answer_id":54086396,"question_id":54086274,"body_markdown":"`Map&lt;String,?&gt;` is an abstract type.  If a variable has this type, it could reference an object with any of the following types (and others).\r\n\r\n- `HashMap&lt;String,Integer&gt;`\r\n- `TreeMap&lt;String,String&gt;`\r\n- `HashMap&lt;String,ArrayList&lt;Boolean&gt;&gt;`\r\n- `TreeMap&lt;String,Throwable&gt;`\r\n\r\nObviously, the possibilities are basically endless.  If you have a variable of this type, you know that it refers to a map whose keys are `String`, but you really know nothing else.  In particular, you don&#39;t know what type of object you&#39;ll end up with when you do a `get` on that `Map`.\r\n \r\nMore importantly though, you will never be able to `put` anything into the map, without some kind of nasty, unsafe casting operation.  The compiler will stop you.  So in the examples you&#39;ve given -\r\n\r\n\r\n- `map.put(&quot;abc&quot;, Optional.of(5));` won&#39;t compile, because `map` could be a `HashMap&lt;String,String&gt;`, into which you can&#39;t put an `Optional`.\r\n- `map.put(&quot;kk&quot;, &quot;xyz&quot;);` won&#39;t compile, because `map` could be a `TreeMap&lt;String,Integer&gt;`, into which you can&#39;t put a `String`.\r\n\r\nThe exceptions would be `null`, or any value that has come from the map itself - see Andy Turner&#39;s excellent answer for more detail about those possibilities.\r\n\r\nIn short, if you have a variable of type `Map&lt;String,?&gt;`, the operations that the compiler will let you do to it are a bit limited.  You can&#39;t put anything into the map, unless it&#39;s `null` or it&#39;s already in the map.  All you can do is get values from the map, and remove values from the map.  \r\n\r\nSo using a `Map&lt;String,?&gt;` variable is very limiting.  If all you want to do with the map is read values from it, this is just fine, of course.  But don&#39;t expect to be able to insert arbitrary values into the map, unless you use a different expression to refer to the map.","title":"How to add values for Java generic Map with undetermined &quot;?&quot; value type?","body":"<p><code>Map&lt;String,?&gt;</code> is an abstract type.  If a variable has this type, it could reference an object with any of the following types (and others).</p>\n\n<ul>\n<li><code>HashMap&lt;String,Integer&gt;</code></li>\n<li><code>TreeMap&lt;String,String&gt;</code></li>\n<li><code>HashMap&lt;String,ArrayList&lt;Boolean&gt;&gt;</code></li>\n<li><code>TreeMap&lt;String,Throwable&gt;</code></li>\n</ul>\n\n<p>Obviously, the possibilities are basically endless.  If you have a variable of this type, you know that it refers to a map whose keys are <code>String</code>, but you really know nothing else.  In particular, you don't know what type of object you'll end up with when you do a <code>get</code> on that <code>Map</code>.</p>\n\n<p>More importantly though, you will never be able to <code>put</code> anything into the map, without some kind of nasty, unsafe casting operation.  The compiler will stop you.  So in the examples you've given -</p>\n\n<ul>\n<li><code>map.put(\"abc\", Optional.of(5));</code> won't compile, because <code>map</code> could be a <code>HashMap&lt;String,String&gt;</code>, into which you can't put an <code>Optional</code>.</li>\n<li><code>map.put(\"kk\", \"xyz\");</code> won't compile, because <code>map</code> could be a <code>TreeMap&lt;String,Integer&gt;</code>, into which you can't put a <code>String</code>.</li>\n</ul>\n\n<p>The exceptions would be <code>null</code>, or any value that has come from the map itself - see Andy Turner's excellent answer for more detail about those possibilities.</p>\n\n<p>In short, if you have a variable of type <code>Map&lt;String,?&gt;</code>, the operations that the compiler will let you do to it are a bit limited.  You can't put anything into the map, unless it's <code>null</code> or it's already in the map.  All you can do is get values from the map, and remove values from the map.  </p>\n\n<p>So using a <code>Map&lt;String,?&gt;</code> variable is very limiting.  If all you want to do with the map is read values from it, this is just fine, of course.  But don't expect to be able to insert arbitrary values into the map, unless you use a different expression to refer to the map.</p>\n"},{"tags":[],"owner":{"account_id":4566292,"reputation":655,"user_id":3707223,"display_name":"malvern dongeni"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1546931194,"creation_date":1546931194,"answer_id":54086770,"question_id":54086274,"body_markdown":"\r\n\r\n**Question (1)** \r\n\r\n    ? is called wildcard generic type.It can be used with any type,\r\n    but you need to specify type fist as Map is an abstract class.\r\n\r\n**Question (2)**\r\n\r\n**for  you to give value to this map its either you use Upper bound or Lower bound.**\r\n\r\nThe following are guidelines when using upper bound or lower bound\r\n\r\n    ? extends Type   - is used for read access only\r\n    ? super Type     - is used for write access only.\r\n\r\n**PECS** in short **Produces**(write acccess) -uses  **Extends** while **Consumes**(read access) - **uses Super**\r\n\r\n    Map&lt;String, ? super Object&gt; map = new HashMap&lt;&gt;(3);//OK\r\n        map.put(&quot;abc&quot;,Optional.of(5));\r\n        map.put(&quot;kk&quot;,&quot;xyz&quot;);\r\n    map.forEach((k,v)-&gt;System.out.println(k+&quot;\\t&quot;+v));\r\n\r\n\r\n\r\nOutput\r\n\r\n    \r\n    kk\txyz\r\n    abc\tOptional[5]\r\n\r\n    Process finished with exit code 0\r\n\r\n\r\n**Additional Notes**\r\n\r\n**Unbounded wildcard** ?\r\n\r\n     List&lt;?&gt; l = new ArrayList&lt;String&gt;();\r\n**Wildcard with an upper bound** ? extends type\r\n\r\n     List&lt;? extends Exception&gt; l = new ArrayList&lt;RuntimeException&gt;();\r\n\r\n**Wildcard with a lower bound** ? super type\r\n\r\n     List&lt;? super Exception&gt; l = new ArrayList&lt;Object&gt;();\r\n\r\n\r\n","title":"How to add values for Java generic Map with undetermined &quot;?&quot; value type?","body":"<p><strong>Question (1)</strong> </p>\n\n<pre><code>? is called wildcard generic type.It can be used with any type,\nbut you need to specify type fist as Map is an abstract class.\n</code></pre>\n\n<p><strong>Question (2)</strong></p>\n\n<p><strong>for  you to give value to this map its either you use Upper bound or Lower bound.</strong></p>\n\n<p>The following are guidelines when using upper bound or lower bound</p>\n\n<pre><code>? extends Type   - is used for read access only\n? super Type     - is used for write access only.\n</code></pre>\n\n<p><strong>PECS</strong> in short <strong>Produces</strong>(write acccess) -uses  <strong>Extends</strong> while <strong>Consumes</strong>(read access) - <strong>uses Super</strong></p>\n\n<pre><code>Map&lt;String, ? super Object&gt; map = new HashMap&lt;&gt;(3);//OK\n    map.put(\"abc\",Optional.of(5));\n    map.put(\"kk\",\"xyz\");\nmap.forEach((k,v)-&gt;System.out.println(k+\"\\t\"+v));\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>kk  xyz\nabc Optional[5]\n\nProcess finished with exit code 0\n</code></pre>\n\n<p><strong>Additional Notes</strong></p>\n\n<p><strong>Unbounded wildcard</strong> ?</p>\n\n<pre><code> List&lt;?&gt; l = new ArrayList&lt;String&gt;();\n</code></pre>\n\n<p><strong>Wildcard with an upper bound</strong> ? extends type</p>\n\n<pre><code> List&lt;? extends Exception&gt; l = new ArrayList&lt;RuntimeException&gt;();\n</code></pre>\n\n<p><strong>Wildcard with a lower bound</strong> ? super type</p>\n\n<pre><code> List&lt;? super Exception&gt; l = new ArrayList&lt;Object&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1546932462,"creation_date":1546931953,"answer_id":54086929,"question_id":54086274,"body_markdown":"`?` is an unknown type: you don&#39;t know exactly what it is at that point in the code.\n\nBecause of that, you cannot safely add any value to the map, with a couple of exceptions.\n\nYou can add literal `null` (because `null` can be cast to any type):\n\n    map.put(&quot;abc&quot;, null); // compiles\n\nAlso, you can add a value to the map which you obtain from the map:\n\n    &lt;T&gt; void reAdd(Map&lt;String, T&gt; map) {\n      T value = map.get(&quot;123&quot;);\n      map.put(&quot;456&quot;, value);\n    }\n\n    // Call with\n    reAdd(map); // compiles","title":"How to add values for Java generic Map with undetermined &quot;?&quot; value type?","body":"<p><code>?</code> is an unknown type: you don't know exactly what it is at that point in the code.</p>\n\n<p>Because of that, you cannot safely add any value to the map, with a couple of exceptions.</p>\n\n<p>You can add literal <code>null</code> (because <code>null</code> can be cast to any type):</p>\n\n<pre><code>map.put(\"abc\", null); // compiles\n</code></pre>\n\n<p>Also, you can add a value to the map which you obtain from the map:</p>\n\n<pre><code>&lt;T&gt; void reAdd(Map&lt;String, T&gt; map) {\n  T value = map.get(\"123\");\n  map.put(\"456\", value);\n}\n\n// Call with\nreAdd(map); // compiles\n</code></pre>\n"}],"owner":{"account_id":7785919,"reputation":9877,"user_id":5890784,"accept_rate":90,"display_name":"Hind Forsum"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3050,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":54086770,"answer_count":3,"score":5,"last_activity_date":1687809717,"creation_date":1546928781,"question_id":54086274,"body_markdown":"I&#39;ve seen this kind of declaration in JDK 8 sample:\r\n\r\n    Map&lt;String, ?&gt; map = new HashMap&lt;&gt;(3);   // OK\r\n\r\nBut when I tried to add value to `map`, I didn&#39;t succeed:\r\n\r\n    map.put(&quot;abc&quot;, Optional.of(5));\r\n    map.put(&quot;kk&quot;, &quot;xyz&quot;);\r\n\r\nBoth fail to compile. I wish to know:\r\n\r\n1\\) What does `?`indicate in `Map` declaration above?\r\n\r\n2\\) How to give values to this `map`?\r\n","title":"How to add values for Java generic Map with undetermined &quot;?&quot; value type?","body":"<p>I've seen this kind of declaration in JDK 8 sample:</p>\n<pre><code>Map&lt;String, ?&gt; map = new HashMap&lt;&gt;(3);   // OK\n</code></pre>\n<p>But when I tried to add value to <code>map</code>, I didn't succeed:</p>\n<pre><code>map.put(&quot;abc&quot;, Optional.of(5));\nmap.put(&quot;kk&quot;, &quot;xyz&quot;);\n</code></pre>\n<p>Both fail to compile. I wish to know:</p>\n<p>1) What does <code>?</code>indicate in <code>Map</code> declaration above?</p>\n<p>2) How to give values to this <code>map</code>?</p>\n"},{"tags":["java","apache-spark"],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687809267,"creation_date":1687809267,"question_id":76559864,"body_markdown":"I&#39;m using spark java to create serval xml files from large dataset.\r\n\r\nSo far I have a code like this :\r\n\r\n    dataframe\r\n                    .repartition(partitions)\r\n                    .write()\r\n                    .mode(SaveMode.Overwrite)\r\n                    .format(&quot;com.databricks.spark.xml&quot;)\r\n                    .option(&quot;rootTag&quot;, &quot;citations&quot;)\r\n                    .option(&quot;rowTag&quot;, &quot;citation&quot;)\r\n                    .mode(&quot;overwrite&quot;)\r\n                    .save(&quot;s3a://myfolder/output&quot;);\r\n\r\nThis code creates serval output files, and the number of that files is equal to `partitions`.\r\n\r\nThe problem is that these files are named like this:  `part-0000.xml, part-0001.xml, etc`\r\n\r\nI want to rename this files, but I **don&#39;t want** to use `.repartition(1)`, because I need output to be in multiple files.\r\n\r\nI know there are similar questions on stackoverflow like this : https://stackoverflow.com/questions/46703623/how-to-rename-spark-data-frame-output-file-in-aws-in-spark-scala\r\nbut none of them solves my problem.\r\n\r\nAny help would be highly appreciated.\r\n\r\nThanks","title":"Renaming all otput files in Spark","body":"<p>I'm using spark java to create serval xml files from large dataset.</p>\n<p>So far I have a code like this :</p>\n<pre><code>dataframe\n                .repartition(partitions)\n                .write()\n                .mode(SaveMode.Overwrite)\n                .format(&quot;com.databricks.spark.xml&quot;)\n                .option(&quot;rootTag&quot;, &quot;citations&quot;)\n                .option(&quot;rowTag&quot;, &quot;citation&quot;)\n                .mode(&quot;overwrite&quot;)\n                .save(&quot;s3a://myfolder/output&quot;);\n</code></pre>\n<p>This code creates serval output files, and the number of that files is equal to <code>partitions</code>.</p>\n<p>The problem is that these files are named like this:  <code>part-0000.xml, part-0001.xml, etc</code></p>\n<p>I want to rename this files, but I <strong>don't want</strong> to use <code>.repartition(1)</code>, because I need output to be in multiple files.</p>\n<p>I know there are similar questions on stackoverflow like this : <a href=\"https://stackoverflow.com/questions/46703623/how-to-rename-spark-data-frame-output-file-in-aws-in-spark-scala\">How to rename spark data frame output file in AWS in spark SCALA</a>\nbut none of them solves my problem.</p>\n<p>Any help would be highly appreciated.</p>\n<p>Thanks</p>\n"},{"tags":["java","android","null","viewstub"],"owner":{"account_id":20995350,"reputation":77,"user_id":15427321,"display_name":"Jason W"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687809052,"creation_date":1687809052,"question_id":76559833,"body_markdown":"I&#39;m a self taught Android developer, I want to use a ViewStub in my (live) app, but I&#39;m not sure what to do in the null case. \r\n\r\nMy XML - you_win_overlay.xml:\r\n```\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=&quot;@+id/stub&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/title&quot;\r\n            style=&quot;@style/title_style&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nMy Main Activity XML\r\n```\r\n&lt;ViewStub\r\n            android:id=&quot;@+id/you_win_stub&quot;\r\n            android:inflatedId=&quot;@+id/you_win_stub_inflated&quot;\r\n            android:layout=&quot;@layout/you_win_overlay&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;fill_parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&gt;\r\n&lt;/ViewStub&gt;\r\n```\r\n\r\nIn my Main Activity I call a method that uses the ViewStub to show the player the win game display. So the method looks like so: \r\n\r\n```\r\nshowTheEndGameOverlay(SharedPreferences memory, ViewStub viewStub, Animation slide) {\r\n\r\n     View inflated;\r\n\r\n     if(viewStub != null) {\r\n   \r\n          inflated = viewStub.inflate();\r\n          inflated.setZ(12);\r\n\r\n          TextView theTitle = (TextView) inflated.findViewById(R.id.title);\r\n          theTitle.setText(memory.getString(&quot;currentTitle&quot;, &quot;Default Title&quot;));\r\n\r\n     } else {\r\n\r\n         WHAT WOULD I DO HERE???\r\n         WHAT WOULD I DO HERE???\r\n         WHAT WOULD I DO HERE???\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nI&#39;m not sure what to do here for the null case. I copied this code from a couple of examples, and in each one they test for viewStub != null. In testing the code in my game it works perfectly OK, each time the viewStub is not null and everything executes as expected. Every time I test, I win a game and the &quot;showTheEndGameOverlay&quot; method executes the viewStub is not null. So I&#39;m not sure I even need to do this null check, the viewStub will always be in the Main Activity&#39;s XML file...so how could be ever be null?. \r\n\r\nHowever, since this is new to me, I don&#39;t want to make a mistake and overlook handling a null case if I need to. Can anyone assist? Thanks. ","title":"Android - How to Handle Null Case for ViewStubs","body":"<p>I'm a self taught Android developer, I want to use a ViewStub in my (live) app, but I'm not sure what to do in the null case.</p>\n<p>My XML - you_win_overlay.xml:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/stub&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n\n        &lt;TextView\n            android:id=&quot;@+id/title&quot;\n            style=&quot;@style/title_style&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>My Main Activity XML</p>\n<pre><code>&lt;ViewStub\n            android:id=&quot;@+id/you_win_stub&quot;\n            android:inflatedId=&quot;@+id/you_win_stub_inflated&quot;\n            android:layout=&quot;@layout/you_win_overlay&quot;\n            android:layout_width=&quot;fill_parent&quot;\n            android:layout_height=&quot;fill_parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&gt;\n&lt;/ViewStub&gt;\n</code></pre>\n<p>In my Main Activity I call a method that uses the ViewStub to show the player the win game display. So the method looks like so:</p>\n<pre><code>showTheEndGameOverlay(SharedPreferences memory, ViewStub viewStub, Animation slide) {\n\n     View inflated;\n\n     if(viewStub != null) {\n   \n          inflated = viewStub.inflate();\n          inflated.setZ(12);\n\n          TextView theTitle = (TextView) inflated.findViewById(R.id.title);\n          theTitle.setText(memory.getString(&quot;currentTitle&quot;, &quot;Default Title&quot;));\n\n     } else {\n\n         WHAT WOULD I DO HERE???\n         WHAT WOULD I DO HERE???\n         WHAT WOULD I DO HERE???\n\n    }\n}\n\n</code></pre>\n<p>I'm not sure what to do here for the null case. I copied this code from a couple of examples, and in each one they test for viewStub != null. In testing the code in my game it works perfectly OK, each time the viewStub is not null and everything executes as expected. Every time I test, I win a game and the &quot;showTheEndGameOverlay&quot; method executes the viewStub is not null. So I'm not sure I even need to do this null check, the viewStub will always be in the Main Activity's XML file...so how could be ever be null?.</p>\n<p>However, since this is new to me, I don't want to make a mistake and overlook handling a null case if I need to. Can anyone assist? Thanks.</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":4,"creation_date":1687790604,"post_id":76557732,"comment_id":134982266,"body_markdown":"This is a good opportunity for you to start familiarizing yourself with [using a debugger](https://stackoverflow.com/q/25385173/328193).  When you step through the code in a debugger, which operation first produces an unexpected result?  What were the values used in that operation?  What was the result?  What result was expected?  Why?  To learn more about this community and how we can help you, please start with the [tour] and read [ask] and its linked resources.","body":"This is a good opportunity for you to start familiarizing yourself with <a href=\"https://stackoverflow.com/q/25385173/328193\">using a debugger</a>.  When you step through the code in a debugger, which operation first produces an unexpected result?  What were the values used in that operation?  What was the result?  What result was expected?  Why?  To learn more about this community and how we can help you, please start with the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":3,"creation_date":1687790783,"post_id":76557732,"comment_id":134982305,"body_markdown":"[`getYears()`](https://docs.oracle.com/javase/8/docs/api/java/time/Period.html#getYears--) returns an `int` so 75 years + 2 days has 75 years.","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Period.html#getYears--\" rel=\"nofollow noreferrer\"><code>getYears()</code></a> returns an <code>int</code> so 75 years + 2 days has 75 years."},{"owner":{"account_id":28825887,"reputation":1,"user_id":22077302,"display_name":"Nani K"},"score":1,"creation_date":1687791225,"post_id":76557732,"comment_id":134982406,"body_markdown":"for 24-06-2948 is more than 75 (75 + 2days) - for this returns false. but in the above code it is returning true. Please suggest","body":"for 24-06-2948 is more than 75 (75 + 2days) - for this returns false. but in the above code it is returning true. Please suggest"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1687791487,"post_id":76557732,"comment_id":134982483,"body_markdown":"@NaniK read `001`&#39;s comment. 75 is less than or equal to 75, so true. Now rethink whether there is anything else you can do with the Period.","body":"@NaniK read <code>001</code>&#39;s comment. 75 is less than or equal to 75, so true. Now rethink whether there is anything else you can do with the Period."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1687793278,"post_id":76557732,"comment_id":134982880,"body_markdown":"If you obviously want to involve fractions of years, too, why don&#39;t you check months and days of the `Period`, too?","body":"If you obviously want to involve fractions of years, too, why don&#39;t you check months and days of the <code>Period</code>, too?"}],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687791557,"creation_date":1687791557,"answer_id":76557875,"question_id":76557732,"body_markdown":"I will recommend to use [LocalDate][1], you can create two local date objects one with minimum date and another with maximum date\r\n\r\n     LocalDate minDate = LocalDate.now().minusYears(18).minusDays(1);\r\n     LocalDate maxDate = LocalDate.now().plusYears(57).plusDays(1);\r\n\r\nConsidering today&#39;s date as center point, you can create `minDate` with subtracting `18` years and `1` day, and the same way for  `maxDate` of `75` years\r\n\r\nNow you can use `isBefore` and `isAfter` methods to check in between condition\r\n\r\n    if(minDate.isBefore(toDayDate) &amp;&amp; maxDate.isAfter(toDayDate))\r\n\r\nNote : If you are looking for DOB check, always take DOB as center point\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html","title":"How to check the age is between 18 and 75 years from today","body":"<p>I will recommend to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">LocalDate</a>, you can create two local date objects one with minimum date and another with maximum date</p>\n<pre><code> LocalDate minDate = LocalDate.now().minusYears(18).minusDays(1);\n LocalDate maxDate = LocalDate.now().plusYears(57).plusDays(1);\n</code></pre>\n<p>Considering today's date as center point, you can create <code>minDate</code> with subtracting <code>18</code> years and <code>1</code> day, and the same way for  <code>maxDate</code> of <code>75</code> years</p>\n<p>Now you can use <code>isBefore</code> and <code>isAfter</code> methods to check in between condition</p>\n<pre><code>if(minDate.isBefore(toDayDate) &amp;&amp; maxDate.isAfter(toDayDate))\n</code></pre>\n<p>Note : If you are looking for DOB check, always take DOB as center point</p>\n"},{"tags":[],"owner":{"account_id":15222298,"reputation":181,"user_id":10983863,"display_name":"mapawa"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687791933,"creation_date":1687791933,"answer_id":76557931,"question_id":76557732,"body_markdown":"The issue is that `getYears()` returns the rounded number of full years, which is 75 in this case. So what you should really do is `if (age &gt;= 18 &amp;&amp; age &lt; 75)`.\r\n\r\n\r\nThat said, I have a few more remarks:\r\n\r\n1. Your question should not have syntax errors.\r\n2. You should really, really, learn to use a debugger if you want to pursue any form of professional software development career. It is a fundamental and essential skill.\r\n3. For future questions, please have a look at the StackOverflow [code of conduct][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/conduct","title":"How to check the age is between 18 and 75 years from today","body":"<p>The issue is that <code>getYears()</code> returns the rounded number of full years, which is 75 in this case. So what you should really do is <code>if (age &gt;= 18 &amp;&amp; age &lt; 75)</code>.</p>\n<p>That said, I have a few more remarks:</p>\n<ol>\n<li>Your question should not have syntax errors.</li>\n<li>You should really, really, learn to use a debugger if you want to pursue any form of professional software development career. It is a fundamental and essential skill.</li>\n<li>For future questions, please have a look at the StackOverflow <a href=\"https://stackoverflow.com/conduct\">code of conduct</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687800559,"creation_date":1687800559,"answer_id":76558967,"question_id":76557732,"body_markdown":"You can create new _Period_ objects, and utilize the _[isZero](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Period.html#isZero())_ and _[isNegative](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Period.html#isNegative())_ methods, to determine comparison.\r\n\r\n```java\r\nPeriod minus18 = period.minusYears(18);\r\nboolean gte18 = minus18.isZero() || !minus18.isNegative();\r\nPeriod minus75 = period.minusYears(75);\r\nboolean lte75 = minus75.isZero() || minus75.isNegative();\r\nif (gte18 &amp;&amp; lte75) {\r\n\r\n} else {\r\n\r\n}\r\n```\r\n\r\nHere is an example.\r\n\r\n```java\r\nLocalDate today = LocalDate.now(ZoneId.systemDefault());\r\nLocalDate[] dates = {\r\n    LocalDate.of(1948, 6, 25), LocalDate.of(1948, 6, 26), LocalDate.of(1948, 6, 27),\r\n    LocalDate.of(2005, 6, 25), LocalDate.of(2005, 6, 26), LocalDate.of(2005, 6, 27) };\r\nPeriod period, minus18, minus75;\r\nboolean gte18, lte75;\r\nfor (LocalDate inputdate : dates) {\r\n    period = Period.between(inputdate, today);\r\n    minus18 = period.minusYears(18);\r\n    gte18 = minus18.isZero() || !minus18.isNegative();\r\n    System.out.printf(&quot;%-12s - 18 = %-12s &gt;= 18 = %b%n&quot;, period, minus18, gte18);\r\n    minus75 = period.minusYears(75);\r\n    lte75 = minus75.isZero() || minus75.isNegative();\r\n    System.out.printf(&quot;%-12s - 75 = %-12s &lt;= 75 = %b%n&quot;, period, minus75, lte75);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nP75Y1D       - 18 = P57Y1D       &gt;= 18 = true\r\nP75Y1D       - 75 = P1D          &lt;= 75 = false\r\nP75Y         - 18 = P57Y         &gt;= 18 = true\r\nP75Y         - 75 = P0D          &lt;= 75 = true\r\nP74Y11M30D   - 18 = P56Y11M30D   &gt;= 18 = true\r\nP74Y11M30D   - 75 = P-1Y11M30D   &lt;= 75 = true\r\nP18Y1D       - 18 = P1D          &gt;= 18 = true\r\nP18Y1D       - 75 = P-57Y1D      &lt;= 75 = true\r\nP18Y         - 18 = P0D          &gt;= 18 = true\r\nP18Y         - 75 = P-57Y        &lt;= 75 = true\r\nP17Y11M30D   - 18 = P-1Y11M30D   &gt;= 18 = false\r\nP17Y11M30D   - 75 = P-58Y11M30D  &lt;= 75 = true\r\n```","title":"How to check the age is between 18 and 75 years from today","body":"<p>You can create new <em>Period</em> objects, and utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Period.html#isZero()\" rel=\"nofollow noreferrer\">isZero</a></em> and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Period.html#isNegative()\" rel=\"nofollow noreferrer\">isNegative</a></em> methods, to determine comparison.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Period minus18 = period.minusYears(18);\nboolean gte18 = minus18.isZero() || !minus18.isNegative();\nPeriod minus75 = period.minusYears(75);\nboolean lte75 = minus75.isZero() || minus75.isNegative();\nif (gte18 &amp;&amp; lte75) {\n\n} else {\n\n}\n</code></pre>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate today = LocalDate.now(ZoneId.systemDefault());\nLocalDate[] dates = {\n    LocalDate.of(1948, 6, 25), LocalDate.of(1948, 6, 26), LocalDate.of(1948, 6, 27),\n    LocalDate.of(2005, 6, 25), LocalDate.of(2005, 6, 26), LocalDate.of(2005, 6, 27) };\nPeriod period, minus18, minus75;\nboolean gte18, lte75;\nfor (LocalDate inputdate : dates) {\n    period = Period.between(inputdate, today);\n    minus18 = period.minusYears(18);\n    gte18 = minus18.isZero() || !minus18.isNegative();\n    System.out.printf(&quot;%-12s - 18 = %-12s &gt;= 18 = %b%n&quot;, period, minus18, gte18);\n    minus75 = period.minusYears(75);\n    lte75 = minus75.isZero() || minus75.isNegative();\n    System.out.printf(&quot;%-12s - 75 = %-12s &lt;= 75 = %b%n&quot;, period, minus75, lte75);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>P75Y1D       - 18 = P57Y1D       &gt;= 18 = true\nP75Y1D       - 75 = P1D          &lt;= 75 = false\nP75Y         - 18 = P57Y         &gt;= 18 = true\nP75Y         - 75 = P0D          &lt;= 75 = true\nP74Y11M30D   - 18 = P56Y11M30D   &gt;= 18 = true\nP74Y11M30D   - 75 = P-1Y11M30D   &lt;= 75 = true\nP18Y1D       - 18 = P1D          &gt;= 18 = true\nP18Y1D       - 75 = P-57Y1D      &lt;= 75 = true\nP18Y         - 18 = P0D          &gt;= 18 = true\nP18Y         - 75 = P-57Y        &lt;= 75 = true\nP17Y11M30D   - 18 = P-1Y11M30D   &gt;= 18 = false\nP17Y11M30D   - 75 = P-58Y11M30D  &lt;= 75 = true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687808642,"creation_date":1687805305,"answer_id":76559448,"question_id":76557732,"body_markdown":"Former library Joda-time had the solution. See https://stackoverflow.com/questions/1116123/how-do-i-calculate-someones-age-in-java.\r\n\r\nWith the new Java-Time API we have two options:\r\n* `Duration` with `compareTo`, not suitable for months and years\r\n* `Period` with arithmetic, see [Reilas &#39;s answer](https://stackoverflow.com/a/76558967/5730279)\r\n* compare different `LocalDate`s\r\n\r\n\r\n\r\n### `Duration` for short and precise (weeks, days, milli-/nano-seconds)\r\nUsually we can use `Duration` when we need to compare objects to express temporal distance like *age*. The Duration class implements the `Comparable` interface and has a method `compareTo(otherDuration)`.\r\n\r\nThis would work for approximate relative events like:\r\n* updated 5 minutes ago\r\n* next run in 2 weeks and 4 days\r\n\r\nSo, in theory we could compare the actual-age to a boundary like 18 years like `actualAge.compareTo(AGE_18_YEARS)` and evaluate the returned `-1`, `0` or `1`.\r\nIn practice the age-reference of `AGE_18_YEARS` must be specified as `Duration` which only allows `ChronoUnit.Days` as largest unit. How many days would be 18 years ?\r\n\r\n\r\n### `Period` based on calendar for long (especially months and years)\r\nUnfortunately distant events like the age of a person take months and years. Both chrono-units depend on a calendar and their relative position. Months can be 28, 29, 30 or 31 days. Years can be 365, even 366 days for a leap-year.\r\n\r\n### `LocalDate` orientation within a calendar of birthdays\r\nThe age is special for any person, it has a special day and comprises a special number of days (depending on the birthday and leap-years). \r\n\r\nLet&#39;s use the birthday to evaluate if someone is 18, in between or 75 years old.\r\n\r\nUsing a single concept like calendar, birthdays and date-comparison leads to a meaningful and readable solution.\r\n\r\nTest the [demo on IDEone](https://ideone.com/rnSjlh):\r\n\r\n```java\r\n// DOB: 2000-12-24\r\nvar dob =  LocalDate.of(2000, 12, 24);\r\n\r\n\r\n// Minimum age: 18 years\r\nvar birthdayAge18years = dob.plusYears(18);\r\n// Maximum age: 75 years\r\nvar birthdayAge75years = dob.plusYears(75);\r\n\r\nvar today = LocalDate.now();\r\n\r\n// is today\r\n//      on or after  18th birthday \r\n//  and on or before 75th birthday\r\nvar olderThanOr18 = today.equals(birthdayAge18years) || today.isAfter(birthdayAge18years);\r\nvar youngerThanOr75 = today.equals(birthdayAge75years) || today.isBefore(birthdayAge75years);\r\n\r\n// test\r\nSystem.out.println(birthdayAge18years + &quot; &gt; older than or exactly 18 years: &quot; + olderThanOr18);\r\nSystem.out.println(birthdayAge75years + &quot; &gt; younger than or exactly 75 years: &quot; + youngerThanOr75);\r\n```","title":"How to check the age is between 18 and 75 years from today","body":"<p>Former library Joda-time had the solution. See <a href=\"https://stackoverflow.com/questions/1116123/how-do-i-calculate-someones-age-in-java\">How do I calculate someone&#39;s age in Java?</a>.</p>\n<p>With the new Java-Time API we have two options:</p>\n<ul>\n<li><code>Duration</code> with <code>compareTo</code>, not suitable for months and years</li>\n<li><code>Period</code> with arithmetic, see <a href=\"https://stackoverflow.com/a/76558967/5730279\">Reilas 's answer</a></li>\n<li>compare different <code>LocalDate</code>s</li>\n</ul>\n<h3><code>Duration</code> for short and precise (weeks, days, milli-/nano-seconds)</h3>\n<p>Usually we can use <code>Duration</code> when we need to compare objects to express temporal distance like <em>age</em>. The Duration class implements the <code>Comparable</code> interface and has a method <code>compareTo(otherDuration)</code>.</p>\n<p>This would work for approximate relative events like:</p>\n<ul>\n<li>updated 5 minutes ago</li>\n<li>next run in 2 weeks and 4 days</li>\n</ul>\n<p>So, in theory we could compare the actual-age to a boundary like 18 years like <code>actualAge.compareTo(AGE_18_YEARS)</code> and evaluate the returned <code>-1</code>, <code>0</code> or <code>1</code>.\nIn practice the age-reference of <code>AGE_18_YEARS</code> must be specified as <code>Duration</code> which only allows <code>ChronoUnit.Days</code> as largest unit. How many days would be 18 years ?</p>\n<h3><code>Period</code> based on calendar for long (especially months and years)</h3>\n<p>Unfortunately distant events like the age of a person take months and years. Both chrono-units depend on a calendar and their relative position. Months can be 28, 29, 30 or 31 days. Years can be 365, even 366 days for a leap-year.</p>\n<h3><code>LocalDate</code> orientation within a calendar of birthdays</h3>\n<p>The age is special for any person, it has a special day and comprises a special number of days (depending on the birthday and leap-years).</p>\n<p>Let's use the birthday to evaluate if someone is 18, in between or 75 years old.</p>\n<p>Using a single concept like calendar, birthdays and date-comparison leads to a meaningful and readable solution.</p>\n<p>Test the <a href=\"https://ideone.com/rnSjlh\" rel=\"nofollow noreferrer\">demo on IDEone</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// DOB: 2000-12-24\nvar dob =  LocalDate.of(2000, 12, 24);\n\n\n// Minimum age: 18 years\nvar birthdayAge18years = dob.plusYears(18);\n// Maximum age: 75 years\nvar birthdayAge75years = dob.plusYears(75);\n\nvar today = LocalDate.now();\n\n// is today\n//      on or after  18th birthday \n//  and on or before 75th birthday\nvar olderThanOr18 = today.equals(birthdayAge18years) || today.isAfter(birthdayAge18years);\nvar youngerThanOr75 = today.equals(birthdayAge75years) || today.isBefore(birthdayAge75years);\n\n// test\nSystem.out.println(birthdayAge18years + &quot; &gt; older than or exactly 18 years: &quot; + olderThanOr18);\nSystem.out.println(birthdayAge75years + &quot; &gt; younger than or exactly 75 years: &quot; + youngerThanOr75);\n</code></pre>\n"}],"owner":{"account_id":28825887,"reputation":1,"user_id":22077302,"display_name":"Nani K"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1687831383,"answer_count":4,"score":0,"last_activity_date":1687808642,"creation_date":1687790492,"question_id":76557732,"body_markdown":"I have written the code like below, but it it is not working in below case.\r\n\r\n```\r\nLocalDate today = LocalDate.now(ZoneId.systemDefault());\r\nDateTimrFormatter dobFormat = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu&quot;);\r\nint age = Period.between(inputdate, today).getYears();\r\nif (age &gt;= 18 &amp;&amp; age &lt;= 75) {\r\n    return true;\r\n} else {\r\n    return false\r\n}\r\n```\r\n\r\n\r\n\r\nIt is not checking age including days i.e. if we give input date as 24-06-1948, then age is 75 years + 2 days (greater than 75), but it returns true.","title":"How to check the age is between 18 and 75 years from today","body":"<p>I have written the code like below, but it it is not working in below case.</p>\n<pre><code>LocalDate today = LocalDate.now(ZoneId.systemDefault());\nDateTimrFormatter dobFormat = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu&quot;);\nint age = Period.between(inputdate, today).getYears();\nif (age &gt;= 18 &amp;&amp; age &lt;= 75) {\n    return true;\n} else {\n    return false\n}\n</code></pre>\n<p>It is not checking age including days i.e. if we give input date as 24-06-1948, then age is 75 years + 2 days (greater than 75), but it returns true.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1687162506,"post_id":76504782,"comment_id":134892949,"body_markdown":"Is it always one or two digits followed by a letter? Or could it be something like 1A3?","body":"Is it always one or two digits followed by a letter? Or could it be something like 1A3?"},{"owner":{"account_id":19870679,"reputation":3,"user_id":14556896,"display_name":"noobcoder"},"score":0,"creation_date":1687162585,"post_id":76504782,"comment_id":134892963,"body_markdown":"@FedericoklezCulloca Its always one or two digits followed by a letter. it cant be 1A3","body":"@FedericoklezCulloca Its always one or two digits followed by a letter. it cant be 1A3"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1687162712,"post_id":76504782,"comment_id":134892985,"body_markdown":"What are `1A` and `34F`? Hexadecimal strings or just strings and you have to extract the numbers from them?","body":"What are <code>1A</code> and <code>34F</code>? Hexadecimal strings or just strings and you have to extract the numbers from them?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1687162779,"post_id":76504782,"comment_id":134893001,"body_markdown":"parseInt needs the whole string to be the integer. If you know it is always 1 letter you can do `Integer.parseInt( input.subString(0, input.length() - 1))`","body":"parseInt needs the whole string to be the integer. If you know it is always 1 letter you can do <code>Integer.parseInt( input.subString(0, input.length() - 1))</code>"},{"owner":{"account_id":9241611,"reputation":277,"user_id":6864750,"display_name":"DasBoot"},"score":0,"creation_date":1687162900,"post_id":76504782,"comment_id":134893030,"body_markdown":"You have to split the input into the string part and the integer part and test for both conditions (integerPart &gt; 34 11 stringPart &gt; &quot;E&quot;) separately.\nIf the letters can be lowercase, be careful about that.","body":"You have to split the input into the string part and the integer part and test for both conditions (integerPart &gt; 34 11 stringPart &gt; &quot;E&quot;) separately. If the letters can be lowercase, be careful about that."},{"owner":{"account_id":19870679,"reputation":3,"user_id":14556896,"display_name":"noobcoder"},"score":0,"creation_date":1687163165,"post_id":76504782,"comment_id":134893087,"body_markdown":"@Chaosfire its just a string.","body":"@Chaosfire its just a string."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687165841,"post_id":76504782,"comment_id":134893649,"body_markdown":"*The input given is Integer + String, however I want to set a range of integer input (1~34) and String (A~F).* In that case, why are you yoking the two tokens together with the likes of 34F instead of passing the two tokens as two ranges, e.g. `1..34 A..F` ?","body":"<i>The input given is Integer + String, however I want to set a range of integer input (1~34) and String (A~F).</i> In that case, why are you yoking the two tokens together with the likes of 34F instead of passing the two tokens as two ranges, e.g. <code>1..34 A..F</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687162887,"creation_date":1687162753,"answer_id":76504833,"question_id":76504782,"body_markdown":"If you are trying to parse a hexadecimal string, pass a radix argument:\r\n\r\n`Integer.parseInt(input, 16)`\r\n\r\nIf it&#39;s not hexadecimal, you need to separate the String into the number part and other part first (can&#39;t tell you how since you haven&#39;t told us what the options are), and then only pass the String containing numbers to `Integer.parseInt`.","title":"How to set integer and string range from string in Java","body":"<p>If you are trying to parse a hexadecimal string, pass a radix argument:</p>\n<p><code>Integer.parseInt(input, 16)</code></p>\n<p>If it's not hexadecimal, you need to separate the String into the number part and other part first (can't tell you how since you haven't told us what the options are), and then only pass the String containing numbers to <code>Integer.parseInt</code>.</p>\n"},{"tags":[],"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687163566,"creation_date":1687163566,"answer_id":76504934,"question_id":76504782,"body_markdown":"You could first split the String into number and letter\r\n\r\n    String[] split = n.split(&quot;(?=[A-Z])&quot;);\r\n\r\nthen check if the two parts fit your needs\r\n\r\n    if(Integer.parseInt(split[0]) &gt; 34 || split[1].charAt(0) &gt; &#39;F&#39;) {\r\n        System.out.println(&quot;number too high&quot;);\r\n    }\r\n\r\nYou&#39;d have to check beforehand that your String actually conforms to that pattern but you said in the comments that it&#39;s always in that format, so it should work. Also if lowercase letters are possible you have to change the regex and condition or simply call ```toUppercase()``` on the input String.","title":"How to set integer and string range from string in Java","body":"<p>You could first split the String into number and letter</p>\n<pre><code>String[] split = n.split(&quot;(?=[A-Z])&quot;);\n</code></pre>\n<p>then check if the two parts fit your needs</p>\n<pre><code>if(Integer.parseInt(split[0]) &gt; 34 || split[1].charAt(0) &gt; 'F') {\n    System.out.println(&quot;number too high&quot;);\n}\n</code></pre>\n<p>You'd have to check beforehand that your String actually conforms to that pattern but you said in the comments that it's always in that format, so it should work. Also if lowercase letters are possible you have to change the regex and condition or simply call <code>toUppercase()</code> on the input String.</p>\n"},{"tags":[],"owner":{"account_id":2297089,"reputation":3607,"user_id":2018278,"accept_rate":53,"display_name":"The KNVB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687165360,"creation_date":1687163955,"answer_id":76504974,"question_id":76504782,"body_markdown":"I am using the regular expression to solve the problem:\r\n\r\n\r\n     String patternString=&quot;(0{0,1}[1-9][A-F])|([1-2]{1}\\\\d{1}[A-F]{1})|(3{1}[0-4]{1}[A-F]{1})&quot;;\r\n        String data[]={&quot;34f&quot;,&quot;00F&quot;,&quot;01F&quot;,&quot;1a&quot;,&quot;1A&quot;,&quot;26b&quot;};\r\n        \r\n        for (int i=0;i &lt; data.length;i++){\r\n            System.out.println(data[i]+&quot;:&quot;+Pattern.matches(patternString, data[i]));\r\n        }\r\n\r\n     //expected result&quot;\r\n     //34f:false\r\n     //00F:false\r\n     //01F:true\r\n     //1a:false\r\n     //1A:true\r\n     //26b:false\r\n","title":"How to set integer and string range from string in Java","body":"<p>I am using the regular expression to solve the problem:</p>\n<pre><code> String patternString=&quot;(0{0,1}[1-9][A-F])|([1-2]{1}\\\\d{1}[A-F]{1})|(3{1}[0-4]{1}[A-F]{1})&quot;;\n    String data[]={&quot;34f&quot;,&quot;00F&quot;,&quot;01F&quot;,&quot;1a&quot;,&quot;1A&quot;,&quot;26b&quot;};\n    \n    for (int i=0;i &lt; data.length;i++){\n        System.out.println(data[i]+&quot;:&quot;+Pattern.matches(patternString, data[i]));\n    }\n\n //expected result&quot;\n //34f:false\n //00F:false\n //01F:true\n //1a:false\n //1A:true\n //26b:false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28779768,"reputation":1,"user_id":22041612,"display_name":"Santosh Tamang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687164036,"creation_date":1687163997,"answer_id":76504980,"question_id":76504782,"body_markdown":"I would recommend you to use regex.\r\n\r\n    boolean result2 = Pattern.matches(&quot;[0-3][0-4]?[A-F]&quot;, &quot;34A&quot;); // Compiles and matches pattern\r\n\r\n    System.out.println(result2);\r\n\r\nThis pattern will fulfill your requirement.","title":"How to set integer and string range from string in Java","body":"<p>I would recommend you to use regex.</p>\n<pre><code>boolean result2 = Pattern.matches(&quot;[0-3][0-4]?[A-F]&quot;, &quot;34A&quot;); // Compiles and matches pattern\n\nSystem.out.println(result2);\n</code></pre>\n<p>This pattern will fulfill your requirement.</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687808395,"creation_date":1687164777,"answer_id":76505070,"question_id":76504782,"body_markdown":"You can use regex with grouping to easily extract data from the string:\r\n```\r\npublic class RandomStuff {\r\n\r\n  public static void main(String[] args) {\r\n    String string = &quot;34F&quot;;\r\n    Pattern pattern = Pattern.compile(&quot;(\\\\d{1,2})([A-F])&quot;);\r\n    Matcher matcher = pattern.matcher(string);\r\n    if (!matcher.find()) {\r\n      System.out.println(&quot;does not match pattern, do whatever is needed&quot;);\r\n      //stop execution however applicable for use case\r\n    }\r\n    int number = Integer.parseInt(matcher.group(1));\r\n    if (number &lt; 1 || number &gt; 34) {\r\n      System.out.println(&quot;number not in range&quot;);//or other message\r\n    }\r\n    // no need to validate letters\r\n  }\r\n}\r\n```\r\n`(\\\\d{1,2})` - matches 1 or 2 numbers (0 to 99) and captures it as group 1.\r\n\r\n`([A-F])` matches a single letter (A, B, C, D, E or F) and captures result as group 2. If lower case letters are valid as well, you can add a case insensitive flag or add character set for lower letters as well - `[a-f]`, to this group.","title":"How to set integer and string range from string in Java","body":"<p>You can use regex with grouping to easily extract data from the string:</p>\n<pre><code>public class RandomStuff {\n\n  public static void main(String[] args) {\n    String string = &quot;34F&quot;;\n    Pattern pattern = Pattern.compile(&quot;(\\\\d{1,2})([A-F])&quot;);\n    Matcher matcher = pattern.matcher(string);\n    if (!matcher.find()) {\n      System.out.println(&quot;does not match pattern, do whatever is needed&quot;);\n      //stop execution however applicable for use case\n    }\n    int number = Integer.parseInt(matcher.group(1));\n    if (number &lt; 1 || number &gt; 34) {\n      System.out.println(&quot;number not in range&quot;);//or other message\n    }\n    // no need to validate letters\n  }\n}\n</code></pre>\n<p><code>(\\\\d{1,2})</code> - matches 1 or 2 numbers (0 to 99) and captures it as group 1.</p>\n<p><code>([A-F])</code> matches a single letter (A, B, C, D, E or F) and captures result as group 2. If lower case letters are valid as well, you can add a case insensitive flag or add character set for lower letters as well - <code>[a-f]</code>, to this group.</p>\n"},{"tags":[],"owner":{"account_id":28849164,"reputation":1,"user_id":22095425,"display_name":"wonglonglong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687175951,"creation_date":1687175951,"answer_id":76506414,"question_id":76504782,"body_markdown":"Check the last character.And you can catch NumberFormatException when the parseInt gets an exception without last character.\r\n\r\n        String input = &quot;34F&quot;;\r\n        char lastc = input.charAt(input.length()-1);\r\n\r\n        if(lastc &gt;= &#39;A&#39; &amp;&amp; lastc &lt;= &#39;F&#39;){\r\n            try{\r\n                int n = (Integer.parseInt(input.substring(0,input.length()-1)));\r\n\r\n                if (n &gt; 34 || n &lt; 1) {\r\n                    System.out.println(&quot;number not in range&quot;);\r\n                }\r\n            } catch(NumberFormatException e1){\r\n                System.err.println(&quot;input error.check it.&quot;);\r\n            }\r\n        }else{\r\n            System.err.println(&quot;input error.check it.&quot;);\r\n        }","title":"How to set integer and string range from string in Java","body":"<p>Check the last character.And you can catch NumberFormatException when the parseInt gets an exception without last character.</p>\n<pre><code>    String input = &quot;34F&quot;;\n    char lastc = input.charAt(input.length()-1);\n\n    if(lastc &gt;= 'A' &amp;&amp; lastc &lt;= 'F'){\n        try{\n            int n = (Integer.parseInt(input.substring(0,input.length()-1)));\n\n            if (n &gt; 34 || n &lt; 1) {\n                System.out.println(&quot;number not in range&quot;);\n            }\n        } catch(NumberFormatException e1){\n            System.err.println(&quot;input error.check it.&quot;);\n        }\n    }else{\n        System.err.println(&quot;input error.check it.&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":19870679,"reputation":3,"user_id":14556896,"display_name":"noobcoder"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76505070,"answer_count":6,"score":0,"last_activity_date":1687808395,"creation_date":1687162339,"question_id":76504782,"body_markdown":"The input given is `Integer` + `String`, however I want to set a range of integer input (1~34) and `String` (A~F).\r\nif I do, \r\n```Java   \r\nint i = (Integer.parseInt(input));\r\n\r\nif (n &gt; 34) {\r\n    System.out.println(&quot;number too high&quot;);\r\n}\r\n```\r\n\r\nit gives me \r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;35A&quot;\r\n```\r\nis there any way to make this work? thanks in advace :(\r\n\r\nif the string is 1A to 34F it should pass, anything over that should fail.. please help!","title":"How to set integer and string range from string in Java","body":"<p>The input given is <code>Integer</code> + <code>String</code>, however I want to set a range of integer input (1~34) and <code>String</code> (A~F).\nif I do,</p>\n<pre><code>int i = (Integer.parseInt(input));\n\nif (n &gt; 34) {\n    System.out.println(&quot;number too high&quot;);\n}\n</code></pre>\n<p>it gives me</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;35A&quot;\n</code></pre>\n<p>is there any way to make this work? thanks in advace :(</p>\n<p>if the string is 1A to 34F it should pass, anything over that should fail.. please help!</p>\n"},{"tags":["java","linked-list","nodes"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687807880,"creation_date":1687807880,"answer_id":76559710,"question_id":76558326,"body_markdown":"&gt; After list1.next is ran, list1 will be: 2 -&gt; 4 from 1 -&gt; 2 -&gt; 4 After list2.next is ran, list2 will be 3 - &gt; 4 from 1 -&gt; 3 -&gt; 4\r\n\r\nYes, `list1` and `list2` are references that walk forward and thereby reference linked lists that are shorter and shorter...\r\n\r\n&gt; What I am confused about is when tempFinalHead.next is ran, wouldnt the previous nodes that it was holding be gone? How is it mainting the nodes previous?\r\n\r\nIndeed, if we only could rely on `tempFinalHead` those nodes would be lost forever. But... we still have `finalHead`! That node reference has not moved, and allows us to traverse the merged list.\r\n\r\nIt may help to visualise the process for the example input you have given. When the loop starts, we have `list1`, `list2` and a newly created node, referenced by both `finalHead` and `tempFinalHead`: \r\n\r\n```none\r\n                    list1\r\n                      \r\n                            \r\ntempFinalHead        val:  1        val:  2        val:  4   \r\nfinalHead            next:  next:  next:null \r\n                           \r\n\r\n val: 0    \r\n next:null \r\n\r\n                            \r\n                     val:  1        val:  3        val:  4   \r\n                     next:  next:  next:null \r\n                            \r\n                      \r\n                    list2\r\n```\r\n\r\nAfter the first iteration, in which the `else` block was executed, three of the four references moved, and one `next` property was updated (rewired):\r\n\r\n```none\r\n                    list1\r\n                      \r\n                            \r\n                     val:  1        val:  2        val:  4   \r\nfinalHead            next:  next:  next:null \r\n                           \r\n\r\n val: 0    \r\n next: \r\n   \r\n                           \r\n                    val:  1        val:  3        val:  4   \r\n                 next:  next:  next:null \r\n                            \r\n                                      \r\n                    tempFinalHead    list2\r\n```\r\n\r\nIt is important to see that when `list2` was assigned to the 0-node&#39;s `next` property, this instantly made the list that starts at `finalHead` longer!\r\n\r\nWe can look at the second iteration now. This time the `if` block executes, and we arrive in this situation:\r\n\r\n```none\r\n                    tempFinalHead    list1\r\n                                      \r\n                            \r\n                     val:  1        val:  2        val:  4   \r\nfinalHead          next:  next:  next:null \r\n                          \r\n     \r\n val: 0         \r\n next:                 \r\n                   \r\n                          \r\n                    val:  1       val:  3        val:  4   \r\n                 next:     next:  next:null \r\n                            \r\n                                       \r\n                                     list2\r\n```\r\n\r\nAt this point we can also see that `tempFinalHead` references the last node that was linked into its final position. We can traverse the list from `finalHead` -- which never moves -- and visit some nodes (0, 1, 1) which are in their final position. The first of these does not belong to the real data, and will be discarded at the end.\r\n\r\nThe above process continues until all nodes have been wired into their correct position. Once the loop completes and also one of the two `if` blocks after it executes, we end with this:\r\n\r\n```none\r\n                                                      tempFinalHead  list1 = null\r\n                                                        \r\n                            \r\n                     val:  1        val:  2        val:  4   \r\nfinalHead          next:  next:   next:null \r\n                        \r\n                                     \r\n val: 0           \r\n next:                                                 \r\n                                                   \r\n                          list2 = null\r\n                    val:  1      val:  3        val:  4   \r\n                 next:   next:  next: \r\n                            \r\n```\r\n\r\nAnd finally `finalHead` moves one step forward, which results in discarding the dummy node that was created at the start (as it becomes unreachable). That reference is returned, and so the caller sees this:\r\n\r\n```none\r\n                            \r\n                     val:  1        val:  2        val:  4   \r\n                   next:  next:   next:null \r\n                         \r\n                                                  \r\n                    \r\n                                                                 \r\n                                                                 \r\n                          \r\n                     val:  1      val:  3        val:  4   \r\n       (returned) next:   next:  next: \r\n                                                 \r\n```","title":"How does .next work for Nodes? How does in some instance maintain its previous nodes and sometimes it does not?","body":"<blockquote>\n<p>After list1.next is ran, list1 will be: 2 -&gt; 4 from 1 -&gt; 2 -&gt; 4 After list2.next is ran, list2 will be 3 - &gt; 4 from 1 -&gt; 3 -&gt; 4</p>\n</blockquote>\n<p>Yes, <code>list1</code> and <code>list2</code> are references that walk forward and thereby reference linked lists that are shorter and shorter...</p>\n<blockquote>\n<p>What I am confused about is when tempFinalHead.next is ran, wouldnt the previous nodes that it was holding be gone? How is it mainting the nodes previous?</p>\n</blockquote>\n<p>Indeed, if we only could rely on <code>tempFinalHead</code> those nodes would be lost forever. But... we still have <code>finalHead</code>! That node reference has not moved, and allows us to traverse the merged list.</p>\n<p>It may help to visualise the process for the example input you have given. When the loop starts, we have <code>list1</code>, <code>list2</code> and a newly created node, referenced by both <code>finalHead</code> and <code>tempFinalHead</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>                    list1\n                      \n                            \ntempFinalHead        val:  1        val:  2        val:  4   \nfinalHead            next:  next:  next:null \n                           \n\n val: 0    \n next:null \n\n                            \n                     val:  1        val:  3        val:  4   \n                     next:  next:  next:null \n                            \n                      \n                    list2\n</code></pre>\n<p>After the first iteration, in which the <code>else</code> block was executed, three of the four references moved, and one <code>next</code> property was updated (rewired):</p>\n<pre class=\"lang-none prettyprint-override\"><code>                    list1\n                      \n                            \n                     val:  1        val:  2        val:  4   \nfinalHead            next:  next:  next:null \n                           \n\n val: 0    \n next: \n   \n                           \n                    val:  1        val:  3        val:  4   \n                 next:  next:  next:null \n                            \n                                      \n                    tempFinalHead    list2\n</code></pre>\n<p>It is important to see that when <code>list2</code> was assigned to the 0-node's <code>next</code> property, this instantly made the list that starts at <code>finalHead</code> longer!</p>\n<p>We can look at the second iteration now. This time the <code>if</code> block executes, and we arrive in this situation:</p>\n<pre class=\"lang-none prettyprint-override\"><code>                    tempFinalHead    list1\n                                      \n                            \n                     val:  1        val:  2        val:  4   \nfinalHead          next:  next:  next:null \n                          \n     \n val: 0         \n next:                 \n                   \n                          \n                    val:  1       val:  3        val:  4   \n                 next:     next:  next:null \n                            \n                                       \n                                     list2\n</code></pre>\n<p>At this point we can also see that <code>tempFinalHead</code> references the last node that was linked into its final position. We can traverse the list from <code>finalHead</code> -- which never moves -- and visit some nodes (0, 1, 1) which are in their final position. The first of these does not belong to the real data, and will be discarded at the end.</p>\n<p>The above process continues until all nodes have been wired into their correct position. Once the loop completes and also one of the two <code>if</code> blocks after it executes, we end with this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>                                                      tempFinalHead  list1 = null\n                                                        \n                            \n                     val:  1        val:  2        val:  4   \nfinalHead          next:  next:   next:null \n                        \n                                     \n val: 0           \n next:                                                 \n                                                   \n                          list2 = null\n                    val:  1      val:  3        val:  4   \n                 next:   next:  next: \n                            \n</code></pre>\n<p>And finally <code>finalHead</code> moves one step forward, which results in discarding the dummy node that was created at the start (as it becomes unreachable). That reference is returned, and so the caller sees this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>                            \n                     val:  1        val:  2        val:  4   \n                   next:  next:   next:null \n                         \n                                                  \n                    \n                                                                 \n                                                                 \n                          \n                     val:  1      val:  3        val:  4   \n       (returned) next:   next:  next: \n                                                 \n</code></pre>\n"}],"owner":{"account_id":22308809,"reputation":3,"user_id":16533087,"display_name":"RudyDaCoder20"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76559710,"answer_count":1,"score":-1,"last_activity_date":1687807880,"creation_date":1687794868,"question_id":76558326,"body_markdown":"I am a beginner in programming and I have a quick question on how the .next works for ListNodes. Here is my code below for one of the LeetCode problems: \r\n\r\n\r\n    class Solution \r\n    {\r\n        public ListNode mergeTwoLists(ListNode list1, ListNode list2) \r\n        {\r\n            ListNode finalHead = new ListNode(0);\r\n            ListNode tempFinalHead = finalHead;\r\n    \r\n            while(list1 != null &amp;&amp; list2 != null)\r\n            {\r\n                if(list1.val &lt; list2.val)\r\n                {\r\n                    tempFinalHead.next = list1;\r\n                    list1 = list1.next; //this line\r\n                }\r\n                else\r\n                {\r\n                    tempFinalHead.next = list2;\r\n                    list2 = list2.next; //this line\r\n                }\r\n    \r\n                tempFinalHead = tempFinalHead.next; //this line\r\n            }\r\n    \r\n            if(list1 != null)\r\n            {\r\n                tempFinalHead.next = list1;\r\n                list1 = list1.next;\r\n            }\r\n    \r\n            if(list2 != null)\r\n            {\r\n                tempFinalHead.next = list2;\r\n                list2 = list2.next;\r\n            }\r\n    \r\n            return finalHead.next;\r\n        }\r\n    }\r\n\r\nI commented on 3 instances where we are updating the ListNode using .next. I was wondering, how is the tempFinalHead of code for &quot;tempFinalHead = tempFinalHead.next;&quot; previous nodes being maintained? To elaborate here is an example:\r\n\r\nSay this is my input: \r\nInput: list1 = [1,2,4], list2 = [1,3,4]\r\nOutput: [1,1,2,3,4,4]\r\n\r\nAfter list1.next is ran, list1 will be: 2 -&gt; 4 from 1 -&gt; 2 -&gt; 4\r\nAfter list2.next is ran, list2 will be 3 - &gt; 4 from 1 -&gt; 3 -&gt; 4\r\n\r\nWhat I am confused about is when tempFinalHead.next is ran, wouldnt the previous nodes that it was holding be gone? How is it mainting the nodes previous? \r\n\r\n\r\nThe output ended up being correct but just don&#39;t understand how tempFinalHead.next maintains all previous nodes since we are replacing it everytime with .next.","title":"How does .next work for Nodes? How does in some instance maintain its previous nodes and sometimes it does not?","body":"<p>I am a beginner in programming and I have a quick question on how the .next works for ListNodes. Here is my code below for one of the LeetCode problems:</p>\n<pre><code>class Solution \n{\n    public ListNode mergeTwoLists(ListNode list1, ListNode list2) \n    {\n        ListNode finalHead = new ListNode(0);\n        ListNode tempFinalHead = finalHead;\n\n        while(list1 != null &amp;&amp; list2 != null)\n        {\n            if(list1.val &lt; list2.val)\n            {\n                tempFinalHead.next = list1;\n                list1 = list1.next; //this line\n            }\n            else\n            {\n                tempFinalHead.next = list2;\n                list2 = list2.next; //this line\n            }\n\n            tempFinalHead = tempFinalHead.next; //this line\n        }\n\n        if(list1 != null)\n        {\n            tempFinalHead.next = list1;\n            list1 = list1.next;\n        }\n\n        if(list2 != null)\n        {\n            tempFinalHead.next = list2;\n            list2 = list2.next;\n        }\n\n        return finalHead.next;\n    }\n}\n</code></pre>\n<p>I commented on 3 instances where we are updating the ListNode using .next. I was wondering, how is the tempFinalHead of code for &quot;tempFinalHead = tempFinalHead.next;&quot; previous nodes being maintained? To elaborate here is an example:</p>\n<p>Say this is my input:\nInput: list1 = [1,2,4], list2 = [1,3,4]\nOutput: [1,1,2,3,4,4]</p>\n<p>After list1.next is ran, list1 will be: 2 -&gt; 4 from 1 -&gt; 2 -&gt; 4\nAfter list2.next is ran, list2 will be 3 - &gt; 4 from 1 -&gt; 3 -&gt; 4</p>\n<p>What I am confused about is when tempFinalHead.next is ran, wouldnt the previous nodes that it was holding be gone? How is it mainting the nodes previous?</p>\n<p>The output ended up being correct but just don't understand how tempFinalHead.next maintains all previous nodes since we are replacing it everytime with .next.</p>\n"},{"tags":["java","spring","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687807383,"creation_date":1687807383,"answer_id":76559664,"question_id":76559211,"body_markdown":"Spring Integration with its loosely-coupled architecture based on messaging is really suitable for any tasks. Plus luckily there are already out-of-the-box components to help you to build the solution. And you are really on the right track: to send request and receive replies over TCP/IP you indeed need the pair of those gateways: \r\n\r\nhttps://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#tcp-gateways\r\n\r\nAnd yes, the `StoredProcOutboundGateway` is exactly for use-case where we would like to perform some RDBMS stored procedure and get some result from there:\r\nhttps://docs.spring.io/spring-integration/docs/current/reference/html/jdbc.html#stored-procedure-outbound-gateway\r\n\r\nI don&#39;t see a reason, though, in calling several procedures sequentially from the application, where we can simply do that on DB side with one procedure all together.","title":"Sending request from tcp client to server with spring integration and receiving data from stored procedure","body":"<p>Spring Integration with its loosely-coupled architecture based on messaging is really suitable for any tasks. Plus luckily there are already out-of-the-box components to help you to build the solution. And you are really on the right track: to send request and receive replies over TCP/IP you indeed need the pair of those gateways:</p>\n<p><a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#tcp-gateways\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#tcp-gateways</a></p>\n<p>And yes, the <code>StoredProcOutboundGateway</code> is exactly for use-case where we would like to perform some RDBMS stored procedure and get some result from there:\n<a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/jdbc.html#stored-procedure-outbound-gateway\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/jdbc.html#stored-procedure-outbound-gateway</a></p>\n<p>I don't see a reason, though, in calling several procedures sequentially from the application, where we can simply do that on DB side with one procedure all together.</p>\n"}],"owner":{"account_id":1299567,"reputation":51,"user_id":1249779,"accept_rate":38,"display_name":"mr.ANDREW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76559664,"answer_count":1,"score":-3,"last_activity_date":1687807383,"creation_date":1687802793,"question_id":76559211,"body_markdown":"I&#39;m a new in Spring Integration framework and want to realize some scheme.\r\n\r\n    Spring Tcp client -&gt; Spring Tcp Server -&gt; Database\r\n\r\nSeveral clients periodically send their configuration and receive information from the database in response. The server contains some logic by calling several stored procedures in sequence. For example, the data from the DB cursor can be input parameters to another stored procedure.\r\n\r\nHelp me please, Is this framework suitable for such tasks ?\r\n\r\nDo I understand correctly that I need to implement a TCP gateway in the client, a TCP gateway and a JDBC gateway in the server ?\r\n\r\nAnd maybe you can tell what difficulties I will have to face with such an implementation?","title":"Sending request from tcp client to server with spring integration and receiving data from stored procedure","body":"<p>I'm a new in Spring Integration framework and want to realize some scheme.</p>\n<pre><code>Spring Tcp client -&gt; Spring Tcp Server -&gt; Database\n</code></pre>\n<p>Several clients periodically send their configuration and receive information from the database in response. The server contains some logic by calling several stored procedures in sequence. For example, the data from the DB cursor can be input parameters to another stored procedure.</p>\n<p>Help me please, Is this framework suitable for such tasks ?</p>\n<p>Do I understand correctly that I need to implement a TCP gateway in the client, a TCP gateway and a JDBC gateway in the server ?</p>\n<p>And maybe you can tell what difficulties I will have to face with such an implementation?</p>\n"},{"tags":["java","xml","encoding"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":15,"up_vote_count":52,"is_accepted":true,"score":37,"last_activity_date":1231859913,"creation_date":1231859913,"answer_id":439311,"question_id":439298,"body_markdown":"Very simply: use an XML library. That way it will actually be *right* instead of requiring detailed knowledge of bits of the XML spec.","title":"Best way to encode text data for XML in Java?","body":"<p>Very simply: use an XML library. That way it will actually be <em>right</em> instead of requiring detailed knowledge of bits of the XML spec.</p>\n"},{"tags":[],"owner":{"account_id":16147,"reputation":11216,"user_id":34880,"accept_rate":73,"display_name":"Fernando Migu&#233;lez"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1231859937,"creation_date":1231859937,"answer_id":439315,"question_id":439298,"body_markdown":"Use [JAXP][1] and forget about text handling it will be done for you automatically.\r\n\r\n\r\n  [1]: http://es.wikipedia.org/wiki/JAXP","title":"Best way to encode text data for XML in Java?","body":"<p>Use <a href=\"http://es.wikipedia.org/wiki/JAXP\" rel=\"nofollow noreferrer\">JAXP</a> and forget about text handling it will be done for you automatically.</p>\n"},{"tags":[],"owner":{"account_id":11372,"reputation":7119,"user_id":21896,"accept_rate":40,"display_name":"ng."},"down_vote_count":6,"up_vote_count":26,"is_accepted":false,"score":20,"last_activity_date":1231861700,"creation_date":1231861700,"answer_id":439459,"question_id":439298,"body_markdown":"Just use.\r\n\r\n    &lt;![CDATA[ your text here ]]&gt;\r\n\r\nThis will allow any characters except the ending \r\n\r\n    ]]&gt;\r\n\r\nSo you can include characters that would be illegal such as &amp; and &gt;. For example.\r\n\r\n    &lt;element&gt;&lt;![CDATA[ characters such as &amp; and &gt; are allowed ]]&gt;&lt;/element&gt;\r\n\r\nHowever, attributes will need to be escaped as CDATA blocks can not be used for them.\r\n","title":"Best way to encode text data for XML in Java?","body":"<p>Just use.</p>\n\n<pre><code>&lt;![CDATA[ your text here ]]&gt;\n</code></pre>\n\n<p>This will allow any characters except the ending </p>\n\n<pre><code>]]&gt;\n</code></pre>\n\n<p>So you can include characters that would be illegal such as &amp; and >. For example.</p>\n\n<pre><code>&lt;element&gt;&lt;![CDATA[ characters such as &amp; and &gt; are allowed ]]&gt;&lt;/element&gt;\n</code></pre>\n\n<p>However, attributes will need to be escaped as CDATA blocks can not be used for them.</p>\n"},{"tags":[],"owner":{"account_id":9757,"reputation":45128,"user_id":18154,"accept_rate":100,"display_name":"Fabian Steeg"},"down_vote_count":2,"up_vote_count":132,"is_accepted":false,"score":130,"last_activity_date":1508200984,"creation_date":1231862013,"answer_id":439494,"question_id":439298,"body_markdown":"As others have mentioned, using an XML library is the easiest way. If you do want to escape yourself, you could look into [`StringEscapeUtils`][1] from the [Apache Commons Lang][2] library.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html\r\n  [2]: http://commons.apache.org/lang/","title":"Best way to encode text data for XML in Java?","body":"<p>As others have mentioned, using an XML library is the easiest way. If you do want to escape yourself, you could look into <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html\" rel=\"noreferrer\"><code>StringEscapeUtils</code></a> from the <a href=\"http://commons.apache.org/lang/\" rel=\"noreferrer\">Apache Commons Lang</a> library.</p>\n"},{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1231863090,"creation_date":1231863090,"answer_id":439596,"question_id":439298,"body_markdown":"Note: Your question is about *escaping*, not *encoding*. Escaping is using &amp;lt;, etc. to allow the parser to distinguish between &quot;this is an XML command&quot; and &quot;this is some text&quot;. Encoding is the stuff you specify in the XML header (UTF-8, ISO-8859-1, etc).\r\n\r\nFirst of all, like everyone else said, use an XML library. XML looks simple but the encoding+escaping stuff is dark voodoo (which you&#39;ll notice as soon as you encounter umlauts and Japanese and other weird stuff like &quot;[full width digits](http://msdn.microsoft.com/en-us/library/w1c0s6bb.aspx)&quot; (&amp;#FF11; is 1)). Keeping XML human readable is a Sisyphus&#39; task.\r\n\r\nI suggest never to try to be clever about text encoding and escaping in XML. But don&#39;t let that stop you from trying; just remember when it bites you (and it will).\r\n\r\nThat said, if you use only UTF-8, to make things more readable you can consider this strategy:\r\n\r\n- If the text does contain &#39;&lt;&#39;, &#39;&gt;&#39; or &#39;&amp;&#39;, wrap it in `&lt;![CDATA[ ... ]]&gt;`\r\n- If the text doesn&#39;t contain these three characters, don&#39;t warp it.\r\n\r\nI&#39;m using this in an SQL editor and it allows the developers to cut&amp;paste SQL from a third party SQL tool into the XML without worrying about escaping. This works because the SQL can&#39;t contain umlauts in our case, so I&#39;m safe.","title":"Best way to encode text data for XML in Java?","body":"<p>Note: Your question is about <em>escaping</em>, not <em>encoding</em>. Escaping is using &lt;, etc. to allow the parser to distinguish between \"this is an XML command\" and \"this is some text\". Encoding is the stuff you specify in the XML header (UTF-8, ISO-8859-1, etc).</p>\n\n<p>First of all, like everyone else said, use an XML library. XML looks simple but the encoding+escaping stuff is dark voodoo (which you'll notice as soon as you encounter umlauts and Japanese and other weird stuff like \"<a href=\"http://msdn.microsoft.com/en-us/library/w1c0s6bb.aspx\" rel=\"noreferrer\">full width digits</a>\" (&amp;#FF11; is 1)). Keeping XML human readable is a Sisyphus' task.</p>\n\n<p>I suggest never to try to be clever about text encoding and escaping in XML. But don't let that stop you from trying; just remember when it bites you (and it will).</p>\n\n<p>That said, if you use only UTF-8, to make things more readable you can consider this strategy:</p>\n\n<ul>\n<li>If the text does contain '&lt;', '>' or '&amp;', wrap it in <code>&lt;![CDATA[ ... ]]&gt;</code></li>\n<li>If the text doesn't contain these three characters, don't warp it.</li>\n</ul>\n\n<p>I'm using this in an SQL editor and it allows the developers to cut&amp;paste SQL from a third party SQL tool into the XML without worrying about escaping. This works because the SQL can't contain umlauts in our case, so I'm safe.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1287443424,"creation_date":1231873222,"answer_id":440296,"question_id":439298,"body_markdown":"This has worked well for me to provide an escaped version of a text string:\r\n\r\n    public class XMLHelper {\r\n\r\n\t/**\r\n\t * Returns the string where all non-ascii and &lt;, &amp;, &gt; are encoded as numeric entities. I.e. &quot;&amp;lt;A &amp;amp; B &amp;gt;&quot;\r\n\t * .... (insert result here). The result is safe to include anywhere in a text field in an XML-string. If there was\r\n\t * no characters to protect, the original string is returned.\r\n\t * \r\n\t * @param originalUnprotectedString\r\n\t *            original string which may contain characters either reserved in XML or with different representation\r\n\t *            in different encodings (like 8859-1 and UFT-8)\r\n\t * @return\r\n\t */\r\n\tpublic static String protectSpecialCharacters(String originalUnprotectedString) {\r\n\t\tif (originalUnprotectedString == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tboolean anyCharactersProtected = false;\r\n\r\n\t\tStringBuffer stringBuffer = new StringBuffer();\r\n\t\tfor (int i = 0; i &lt; originalUnprotectedString.length(); i++) {\r\n\t\t\tchar ch = originalUnprotectedString.charAt(i);\r\n\r\n\t\t\tboolean controlCharacter = ch &lt; 32;\r\n\t\t\tboolean unicodeButNotAscii = ch &gt; 126;\r\n\t\t\tboolean characterWithSpecialMeaningInXML = ch == &#39;&lt;&#39; || ch == &#39;&amp;&#39; || ch == &#39;&gt;&#39;;\r\n\r\n\t\t\tif (characterWithSpecialMeaningInXML || unicodeButNotAscii || controlCharacter) {\r\n\t\t\t\tstringBuffer.append(&quot;&amp;#&quot; + (int) ch + &quot;;&quot;);\r\n\t\t\t\tanyCharactersProtected = true;\r\n\t\t\t} else {\r\n\t\t\t\tstringBuffer.append(ch);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (anyCharactersProtected == false) {\r\n\t\t\treturn originalUnprotectedString;\r\n\t\t}\r\n\r\n\t\treturn stringBuffer.toString();\r\n\t}\r\n\r\n    }","title":"Best way to encode text data for XML in Java?","body":"<p>This has worked well for me to provide an escaped version of a text string:</p>\n\n<pre><code>public class XMLHelper {\n\n/**\n * Returns the string where all non-ascii and &lt;, &amp;, &gt; are encoded as numeric entities. I.e. \"&amp;lt;A &amp;amp; B &amp;gt;\"\n * .... (insert result here). The result is safe to include anywhere in a text field in an XML-string. If there was\n * no characters to protect, the original string is returned.\n * \n * @param originalUnprotectedString\n *            original string which may contain characters either reserved in XML or with different representation\n *            in different encodings (like 8859-1 and UFT-8)\n * @return\n */\npublic static String protectSpecialCharacters(String originalUnprotectedString) {\n    if (originalUnprotectedString == null) {\n        return null;\n    }\n    boolean anyCharactersProtected = false;\n\n    StringBuffer stringBuffer = new StringBuffer();\n    for (int i = 0; i &lt; originalUnprotectedString.length(); i++) {\n        char ch = originalUnprotectedString.charAt(i);\n\n        boolean controlCharacter = ch &lt; 32;\n        boolean unicodeButNotAscii = ch &gt; 126;\n        boolean characterWithSpecialMeaningInXML = ch == '&lt;' || ch == '&amp;' || ch == '&gt;';\n\n        if (characterWithSpecialMeaningInXML || unicodeButNotAscii || controlCharacter) {\n            stringBuffer.append(\"&amp;#\" + (int) ch + \";\");\n            anyCharactersProtected = true;\n        } else {\n            stringBuffer.append(ch);\n        }\n    }\n    if (anyCharactersProtected == false) {\n        return originalUnprotectedString;\n    }\n\n    return stringBuffer.toString();\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18840,"reputation":23337,"user_id":43597,"display_name":"Amr Mostafa"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1274254125,"creation_date":1274252424,"answer_id":2863461,"question_id":439298,"body_markdown":"While idealism says use an XML library, IMHO if you have a basic idea of XML then common sense and performance says template it all the way. It&#39;s arguably more readable too. Though using the escaping routines of a library is probably a good idea.\r\n\r\nConsider this: XML *was* meant to be written by humans.\r\n\r\nUse libraries for generating XML when having your XML as an &quot;object&quot; better models your problem. For example, if pluggable modules participate in the process of building this XML.\r\n\r\nEdit: as for how to actually escape XML in templates, use of CDATA or `escapeXml(string)` from JSTL are two good solutions, `escapeXml(string)` can be used like this:\r\n\r\n    &lt;%@taglib prefix=&quot;fn&quot; uri=&quot;http://java.sun.com/jsp/jstl/functions&quot;%&gt;\r\n\r\n    &lt;item&gt;${fn:escapeXml(value)}&lt;/item&gt;\r\n","title":"Best way to encode text data for XML in Java?","body":"<p>While idealism says use an XML library, IMHO if you have a basic idea of XML then common sense and performance says template it all the way. It's arguably more readable too. Though using the escaping routines of a library is probably a good idea.</p>\n\n<p>Consider this: XML <em>was</em> meant to be written by humans.</p>\n\n<p>Use libraries for generating XML when having your XML as an \"object\" better models your problem. For example, if pluggable modules participate in the process of building this XML.</p>\n\n<p>Edit: as for how to actually escape XML in templates, use of CDATA or <code>escapeXml(string)</code> from JSTL are two good solutions, <code>escapeXml(string)</code> can be used like this:</p>\n\n<pre><code>&lt;%@taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\"%&gt;\n\n&lt;item&gt;${fn:escapeXml(value)}&lt;/item&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":871894,"reputation":191,"user_id":922556,"display_name":"Greg Burdett"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1314830108,"creation_date":1314830108,"answer_id":7264268,"question_id":439298,"body_markdown":"To escape XML characters, the easiest way is to use the Apache Commons Lang project, JAR downloadable from: http://commons.apache.org/lang/\r\n\r\nThe class is this: org.apache.commons.lang3.StringEscapeUtils;\r\n\r\nIt has a method named &quot;escapeXml&quot;, that will return an appropriately escaped String. ","title":"Best way to encode text data for XML in Java?","body":"<p>To escape XML characters, the easiest way is to use the Apache Commons Lang project, JAR downloadable from: <a href=\"http://commons.apache.org/lang/\" rel=\"nofollow\">http://commons.apache.org/lang/</a></p>\n\n<p>The class is this: org.apache.commons.lang3.StringEscapeUtils;</p>\n\n<p>It has a method named \"escapeXml\", that will return an appropriately escaped String. </p>\n"},{"tags":[],"owner":{"account_id":287668,"reputation":1028,"user_id":587630,"display_name":"Jasper Krijgsman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1322761331,"creation_date":1322761331,"answer_id":8345820,"question_id":439298,"body_markdown":"The behavior of StringEscapeUtils.escapeXml() has changed from Commons Lang 2.5 to 3.0.\r\nIt now no longer escapes Unicode characters greater than 0x7f.\r\n\r\nThis is a good thing, the old method was to be a bit to eager to escape entities that could just be inserted into a utf8 document.\r\n\r\nThe new escapers to be included in Google Guava 11.0 also seem promising:\r\nhttp://code.google.com/p/guava-libraries/issues/detail?id=799","title":"Best way to encode text data for XML in Java?","body":"<p>The behavior of StringEscapeUtils.escapeXml() has changed from Commons Lang 2.5 to 3.0.\nIt now no longer escapes Unicode characters greater than 0x7f.</p>\n\n<p>This is a good thing, the old method was to be a bit to eager to escape entities that could just be inserted into a utf8 document.</p>\n\n<p>The new escapers to be included in Google Guava 11.0 also seem promising:\n<a href=\"http://code.google.com/p/guava-libraries/issues/detail?id=799\" rel=\"noreferrer\">http://code.google.com/p/guava-libraries/issues/detail?id=799</a></p>\n"},{"tags":[],"owner":{"account_id":539739,"reputation":39728,"user_id":907695,"accept_rate":71,"display_name":"Pointer Null"},"down_vote_count":3,"up_vote_count":16,"is_accepted":false,"score":13,"last_activity_date":1348727524,"creation_date":1333657040,"answer_id":10035382,"question_id":439298,"body_markdown":"Try this:\r\n\r\n    String xmlEscapeText(String t) {\r\n       StringBuilder sb = new StringBuilder();\r\n       for(int i = 0; i &lt; t.length(); i++){\r\n          char c = t.charAt(i);\r\n          switch(c){\r\n          case &#39;&lt;&#39;: sb.append(&quot;&amp;lt;&quot;); break;\r\n          case &#39;&gt;&#39;: sb.append(&quot;&amp;gt;&quot;); break;\r\n          case &#39;\\&quot;&#39;: sb.append(&quot;&amp;quot;&quot;); break;\r\n          case &#39;&amp;&#39;: sb.append(&quot;&amp;amp;&quot;); break;\r\n          case &#39;\\&#39;&#39;: sb.append(&quot;&amp;apos;&quot;); break;\r\n          default:\r\n             if(c&gt;0x7e) {\r\n                sb.append(&quot;&amp;#&quot;+((int)c)+&quot;;&quot;);\r\n             }else\r\n                sb.append(c);\r\n          }\r\n       }\r\n       return sb.toString();\r\n    }","title":"Best way to encode text data for XML in Java?","body":"<p>Try this:</p>\n\n<pre><code>String xmlEscapeText(String t) {\n   StringBuilder sb = new StringBuilder();\n   for(int i = 0; i &lt; t.length(); i++){\n      char c = t.charAt(i);\n      switch(c){\n      case '&lt;': sb.append(\"&amp;lt;\"); break;\n      case '&gt;': sb.append(\"&amp;gt;\"); break;\n      case '\\\"': sb.append(\"&amp;quot;\"); break;\n      case '&amp;': sb.append(\"&amp;amp;\"); break;\n      case '\\'': sb.append(\"&amp;apos;\"); break;\n      default:\n         if(c&gt;0x7e) {\n            sb.append(\"&amp;#\"+((int)c)+\";\");\n         }else\n            sb.append(c);\n      }\n   }\n   return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":899108,"reputation":1915,"user_id":935715,"display_name":"Steve Mitchell"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1346376606,"creation_date":1346376606,"answer_id":12207820,"question_id":439298,"body_markdown":"`StringEscapeUtils.escapeXml()` does not escape control characters (&lt; 0x20).  XML 1.1 allows control characters; XML 1.0 does not.  For example, `XStream.toXML()` will happily serialize a Java object&#39;s control characters into XML, which an XML 1.0 parser will reject.\r\n\r\nTo escape control characters with Apache commons-lang, use\r\n\r\n    NumericEntityEscaper.below(0x20).translate(StringEscapeUtils.escapeXml(str))","title":"Best way to encode text data for XML in Java?","body":"<p><code>StringEscapeUtils.escapeXml()</code> does not escape control characters (&lt; 0x20).  XML 1.1 allows control characters; XML 1.0 does not.  For example, <code>XStream.toXML()</code> will happily serialize a Java object's control characters into XML, which an XML 1.0 parser will reject.</p>\n\n<p>To escape control characters with Apache commons-lang, use</p>\n\n<pre><code>NumericEntityEscaper.below(0x20).translate(StringEscapeUtils.escapeXml(str))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":231645,"reputation":1390,"user_id":495987,"accept_rate":50,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1351261456,"creation_date":1351261456,"answer_id":13088777,"question_id":439298,"body_markdown":"Here&#39;s an easy solution and it&#39;s great for encoding accented characters too!\r\n\r\n\r\n    String in = &quot;Hi L&#226;rry &amp; M&#244;e!&quot;;\r\n    \r\n    StringBuilder out = new StringBuilder();\r\n    for(int i = 0; i &lt; in.length(); i++) {\r\n        char c = in.charAt(i);\r\n        if(c &lt; 31 || c &gt; 126 || &quot;&lt;&gt;\\&quot;&#39;\\\\&amp;&quot;.indexOf(c) &gt;= 0) {\r\n            out.append(&quot;&amp;#&quot; + (int) c + &quot;;&quot;);\r\n        } else {\r\n            out.append(c);\r\n        }\r\n    }\r\n    \r\n    System.out.printf(&quot;%s%n&quot;, out);\r\n\r\nOutputs\r\n\r\n    Hi L&amp;#226;rry &amp;#38; M&amp;#244;e!","title":"Best way to encode text data for XML in Java?","body":"<p>Here's an easy solution and it's great for encoding accented characters too!</p>\n\n<pre><code>String in = \"Hi Lrry &amp; Me!\";\n\nStringBuilder out = new StringBuilder();\nfor(int i = 0; i &lt; in.length(); i++) {\n    char c = in.charAt(i);\n    if(c &lt; 31 || c &gt; 126 || \"&lt;&gt;\\\"'\\\\&amp;\".indexOf(c) &gt;= 0) {\n        out.append(\"&amp;#\" + (int) c + \";\");\n    } else {\n        out.append(c);\n    }\n}\n\nSystem.out.printf(\"%s%n\", out);\n</code></pre>\n\n<p>Outputs</p>\n\n<pre><code>Hi L&amp;#226;rry &amp;#38; M&amp;#244;e!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1598741079,"creation_date":1387494578,"answer_id":20693473,"question_id":439298,"body_markdown":"While I agree with Jon Skeet in principle, sometimes I don&#39;t have the option to use an external XML library. And I find it peculiar the two functions to escape/unescape a simple value (attribute or tag, not full document) are not available in the standard XML libraries included with Java.\r\n\r\nAs a result and based on the different answers I have seen posted here and elsewhere, here is the solution I&#39;ve ended up creating (nothing worked as a simple copy/paste):\r\n\r\n      public final static String ESCAPE_CHARS = &quot;&lt;&gt;&amp;\\&quot;\\&#39;&quot;;\r\n      public final static List&lt;String&gt; ESCAPE_STRINGS = Collections.unmodifiableList(Arrays.asList(new String[] {\r\n          &quot;&amp;lt;&quot;\r\n        , &quot;&amp;gt;&quot;\r\n        , &quot;&amp;amp;&quot;\r\n        , &quot;&amp;quot;&quot;\r\n        , &quot;&amp;apos;&quot;\r\n      }));\r\n\r\n      private static String UNICODE_NULL = &quot;&quot; + ((char)0x00); //null\r\n      private static String UNICODE_LOW =  &quot;&quot; + ((char)0x20); //space\r\n      private static String UNICODE_HIGH = &quot;&quot; + ((char)0x7f);\r\n\r\n      //should only be used for the content of an attribute or tag      \r\n      public static String toEscaped(String content) {\r\n        String result = content;\r\n        \r\n        if ((content != null) &amp;&amp; (content.length() &gt; 0)) {\r\n          boolean modified = false;\r\n          StringBuilder stringBuilder = new StringBuilder(content.length());\r\n          for (int i = 0, count = content.length(); i &lt; count; ++i) {\r\n            String character = content.substring(i, i + 1);\r\n            int pos = ESCAPE_CHARS.indexOf(character);\r\n            if (pos &gt; -1) {\r\n              stringBuilder.append(ESCAPE_STRINGS.get(pos));\r\n              modified = true;\r\n            }\r\n            else {\r\n              if (    (character.compareTo(UNICODE_LOW) &gt; -1)\r\n                   &amp;&amp; (character.compareTo(UNICODE_HIGH) &lt; 1)\r\n                 ) {\r\n                stringBuilder.append(character);\r\n              }\r\n              else {\r\n                //Per URL reference below, Unicode null character is always restricted from XML\r\n                //URL: https://en.wikipedia.org/wiki/Valid_characters_in_XML\r\n                if (character.compareTo(UNICODE_NULL) != 0) {\r\n                  stringBuilder.append(&quot;&amp;#&quot; + ((int)character.charAt(0)) + &quot;;&quot;);\r\n                }\r\n                modified = true;\r\n              }\r\n            }\r\n          }\r\n          if (modified) {\r\n            result = stringBuilder.toString();\r\n          }\r\n        }\r\n        \r\n        return result;\r\n      }\r\n\r\nThe above accommodates several different things:\r\n\r\n 1. avoids using char based logic until it absolutely has to - improves unicode compatibility\r\n 2. attempts to be as efficient as possible given the probability is the second &quot;if&quot; condition is likely the most used pathway\r\n 3. is a pure function; i.e. is thread-safe\r\n 4. optimizes nicely with the garbage collector by only returning the contents of the StringBuilder if something actually changed - otherwise, the original string is returned\r\n\r\n\r\nAt some point, I will write the inversion of this function, toUnescaped(). I just don&#39;t have time to do that today. When I do, I will come update this answer with the code. :)","title":"Best way to encode text data for XML in Java?","body":"<p>While I agree with Jon Skeet in principle, sometimes I don't have the option to use an external XML library. And I find it peculiar the two functions to escape/unescape a simple value (attribute or tag, not full document) are not available in the standard XML libraries included with Java.</p>\n<p>As a result and based on the different answers I have seen posted here and elsewhere, here is the solution I've ended up creating (nothing worked as a simple copy/paste):</p>\n<pre><code>  public final static String ESCAPE_CHARS = &quot;&lt;&gt;&amp;\\&quot;\\'&quot;;\n  public final static List&lt;String&gt; ESCAPE_STRINGS = Collections.unmodifiableList(Arrays.asList(new String[] {\n      &quot;&amp;lt;&quot;\n    , &quot;&amp;gt;&quot;\n    , &quot;&amp;amp;&quot;\n    , &quot;&amp;quot;&quot;\n    , &quot;&amp;apos;&quot;\n  }));\n\n  private static String UNICODE_NULL = &quot;&quot; + ((char)0x00); //null\n  private static String UNICODE_LOW =  &quot;&quot; + ((char)0x20); //space\n  private static String UNICODE_HIGH = &quot;&quot; + ((char)0x7f);\n\n  //should only be used for the content of an attribute or tag      \n  public static String toEscaped(String content) {\n    String result = content;\n    \n    if ((content != null) &amp;&amp; (content.length() &gt; 0)) {\n      boolean modified = false;\n      StringBuilder stringBuilder = new StringBuilder(content.length());\n      for (int i = 0, count = content.length(); i &lt; count; ++i) {\n        String character = content.substring(i, i + 1);\n        int pos = ESCAPE_CHARS.indexOf(character);\n        if (pos &gt; -1) {\n          stringBuilder.append(ESCAPE_STRINGS.get(pos));\n          modified = true;\n        }\n        else {\n          if (    (character.compareTo(UNICODE_LOW) &gt; -1)\n               &amp;&amp; (character.compareTo(UNICODE_HIGH) &lt; 1)\n             ) {\n            stringBuilder.append(character);\n          }\n          else {\n            //Per URL reference below, Unicode null character is always restricted from XML\n            //URL: https://en.wikipedia.org/wiki/Valid_characters_in_XML\n            if (character.compareTo(UNICODE_NULL) != 0) {\n              stringBuilder.append(&quot;&amp;#&quot; + ((int)character.charAt(0)) + &quot;;&quot;);\n            }\n            modified = true;\n          }\n        }\n      }\n      if (modified) {\n        result = stringBuilder.toString();\n      }\n    }\n    \n    return result;\n  }\n</code></pre>\n<p>The above accommodates several different things:</p>\n<ol>\n<li>avoids using char based logic until it absolutely has to - improves unicode compatibility</li>\n<li>attempts to be as efficient as possible given the probability is the second &quot;if&quot; condition is likely the most used pathway</li>\n<li>is a pure function; i.e. is thread-safe</li>\n<li>optimizes nicely with the garbage collector by only returning the contents of the StringBuilder if something actually changed - otherwise, the original string is returned</li>\n</ol>\n<p>At some point, I will write the inversion of this function, toUnescaped(). I just don't have time to do that today. When I do, I will come update this answer with the code. :)</p>\n"},{"tags":[],"owner":{"account_id":4300937,"reputation":1,"user_id":3514662,"display_name":"K Victor Rajan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397038403,"creation_date":1397037218,"answer_id":22958900,"question_id":439298,"body_markdown":" Try to encode the XML using Apache XML serializer \r\n\r\n    //Serialize DOM\r\n    OutputFormat format    = new OutputFormat (doc); \r\n    // as a String\r\n    StringWriter stringOut = new StringWriter ();    \r\n    XMLSerializer serial   = new XMLSerializer (stringOut, \r\n                                              format);\r\n    serial.serialize(doc);\r\n    // Display the XML\r\n    System.out.println(stringOut.toString());\r\n","title":"Best way to encode text data for XML in Java?","body":"<p>Try to encode the XML using Apache XML serializer </p>\n\n<pre><code>//Serialize DOM\nOutputFormat format    = new OutputFormat (doc); \n// as a String\nStringWriter stringOut = new StringWriter ();    \nXMLSerializer serial   = new XMLSerializer (stringOut, \n                                          format);\nserial.serialize(doc);\n// Display the XML\nSystem.out.println(stringOut.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1579630,"reputation":3005,"user_id":1465252,"accept_rate":25,"display_name":"iCrazybest"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1410861408,"creation_date":1410861408,"answer_id":25865742,"question_id":439298,"body_markdown":"\r\n\r\n    public String escapeXml(String s) {\r\n        return s.replaceAll(&quot;&amp;&quot;, &quot;&amp;amp;&quot;).replaceAll(&quot;&gt;&quot;, &quot;&amp;gt;&quot;).replaceAll(&quot;&lt;&quot;, &quot;&amp;lt;&quot;).replaceAll(&quot;\\&quot;&quot;, &quot;&amp;quot;&quot;).replaceAll(&quot;&#39;&quot;, &quot;&amp;apos;&quot;);\r\n    }\r\n\r\n","title":"Best way to encode text data for XML in Java?","body":"<pre><code>public String escapeXml(String s) {\n    return s.replaceAll(\"&amp;\", \"&amp;amp;\").replaceAll(\"&gt;\", \"&amp;gt;\").replaceAll(\"&lt;\", \"&amp;lt;\").replaceAll(\"\\\"\", \"&amp;quot;\").replaceAll(\"'\", \"&amp;apos;\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2222583,"reputation":21731,"user_id":1961634,"accept_rate":81,"display_name":"Dariusz"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1490620612,"creation_date":1490620612,"answer_id":43047555,"question_id":439298,"body_markdown":"For those looking for the quickest-to-write solution: use methods from [apache commons-lang](http://commons.apache.org/proper/commons-lang/):\r\n\r\n - [`StringEscapeUtils.escapeXml10()`](https://commons.apache.org/proper/commons-lang/javadocs/api-3.3/org/apache/commons/lang3/StringEscapeUtils.html#escapeXml10(java.lang.String)) for xml 1.0\r\n - [`StringEscapeUtils.escapeXml11()`](https://commons.apache.org/proper/commons-lang/javadocs/api-3.3/org/apache/commons/lang3/StringEscapeUtils.html#escapeXml11(java.lang.String)) for xml 1.1\r\n - [`StringEscapeUtils.escapeXml()`](https://commons.apache.org/proper/commons-lang/javadocs/api-3.3/org/apache/commons/lang3/StringEscapeUtils.html#escapeXml(java.lang.String)) is now deprecated, but was used commonly in the past\r\n\r\nRemember to include dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n      &lt;version&gt;3.5&lt;/version&gt; &lt;!--check current version! --&gt;\r\n    &lt;/dependency&gt;","title":"Best way to encode text data for XML in Java?","body":"<p>For those looking for the quickest-to-write solution: use methods from <a href=\"http://commons.apache.org/proper/commons-lang/\" rel=\"noreferrer\">apache commons-lang</a>:</p>\n\n<ul>\n<li><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.3/org/apache/commons/lang3/StringEscapeUtils.html#escapeXml10(java.lang.String)\" rel=\"noreferrer\"><code>StringEscapeUtils.escapeXml10()</code></a> for xml 1.0</li>\n<li><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.3/org/apache/commons/lang3/StringEscapeUtils.html#escapeXml11(java.lang.String)\" rel=\"noreferrer\"><code>StringEscapeUtils.escapeXml11()</code></a> for xml 1.1</li>\n<li><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.3/org/apache/commons/lang3/StringEscapeUtils.html#escapeXml(java.lang.String)\" rel=\"noreferrer\"><code>StringEscapeUtils.escapeXml()</code></a> is now deprecated, but was used commonly in the past</li>\n</ul>\n\n<p>Remember to include dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n  &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n  &lt;version&gt;3.5&lt;/version&gt; &lt;!--check current version! --&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74797,"reputation":1629,"user_id":214756,"display_name":"Mike B"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1687807233,"creation_date":1517593013,"answer_id":48588062,"question_id":439298,"body_markdown":"This question is eight years old and still not a fully correct answer! No, you should not have to import an entire third party API to do this simple task. Bad advice.\r\n\r\nThe following method will:\r\n\r\n* correctly handle characters outside the basic multilingual plane\r\n* escape characters required in XML\r\n* escape any non-ASCII characters, which is optional but common\r\n* replace *illegal* characters in XML 1.0 with the Unicode substitution character. There is no best option here - removing them is just as valid.\r\n\r\nI&#39;ve tried to optimise for the most common case, while still ensuring you could pipe /dev/random through this and get a valid string in XML.\r\n\r\n    public static String encodeXML(String s) {\r\n        StringBuilder sb = new StringBuilder();\r\n        int len = s.length();\r\n        for (int i=0;i&lt;len;) {\r\n            int c = s.codePointAt(i);\r\n            if (c &lt; 0x80) {      // ASCII range: test most common case first\r\n                if (c &lt; 0x20 &amp;&amp; (c != &#39;\\t&#39; &amp;&amp; c != &#39;\\r&#39; &amp;&amp; c != &#39;\\n&#39;)) {\r\n                    // Illegal XML character, even encoded. Skip or substitute\r\n                    sb.append(&quot;&amp;#xfffd;&quot;);   // Unicode replacement character\r\n                } else {\r\n                    switch(c) {\r\n                      case &#39;&amp;&#39;:  sb.append(&quot;&amp;amp;&quot;); break;\r\n                      case &#39;&gt;&#39;:  sb.append(&quot;&amp;gt;&quot;); break;\r\n                      case &#39;&lt;&#39;:  sb.append(&quot;&amp;lt;&quot;); break;\r\n                      // Uncomment next two if encoding for an XML attribute\r\n    //                  case &#39;\\&#39;&#39;  sb.append(&quot;&amp;apos;&quot;); break;\r\n    //                  case &#39;\\&quot;&#39;  sb.append(&quot;&amp;quot;&quot;); break;\r\n                      // Uncomment next three if you prefer, but not required\r\n    //                  case &#39;\\n&#39;  sb.append(&quot;&amp;#10;&quot;); break;\r\n    //                  case &#39;\\r&#39;  sb.append(&quot;&amp;#13;&quot;); break;\r\n    //                  case &#39;\\t&#39;  sb.append(&quot;&amp;#9;&quot;); break;\r\n\r\n                      default:   sb.append((char)c);\r\n                    }\r\n                }\r\n            } else if ((c &gt;= 0xd800 &amp;&amp; c &lt;= 0xdfff) || c == 0xfffe || c == 0xffff) {\r\n                // Illegal XML character, even encoded. Skip or substitute\r\n                sb.append(&quot;&amp;#xfffd;&quot;);   // Unicode replacement character\r\n            } else {\r\n                sb.append(&quot;&amp;#x&quot;);\r\n                sb.append(Integer.toHexString(c));\r\n                sb.append(&#39;;&#39;);\r\n            }\r\n            i += c &lt;= 0xffff ? 1 : 2;\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n*Edit: for those who continue to insist it foolish to write your own code for this when there are perfectly good Java APIs to deal with XML, you might like to know that the StAX API included with Oracle Java 8 (I haven&#39;t tested others) fails to encode CDATA content correctly: it doesn&#39;t escape ]]&gt; sequences in the content. A third party library, even one that&#39;s part of the Java core, is not always the best option.*","title":"Best way to encode text data for XML in Java?","body":"<p>This question is eight years old and still not a fully correct answer! No, you should not have to import an entire third party API to do this simple task. Bad advice.</p>\n<p>The following method will:</p>\n<ul>\n<li>correctly handle characters outside the basic multilingual plane</li>\n<li>escape characters required in XML</li>\n<li>escape any non-ASCII characters, which is optional but common</li>\n<li>replace <em>illegal</em> characters in XML 1.0 with the Unicode substitution character. There is no best option here - removing them is just as valid.</li>\n</ul>\n<p>I've tried to optimise for the most common case, while still ensuring you could pipe /dev/random through this and get a valid string in XML.</p>\n<pre><code>public static String encodeXML(String s) {\n    StringBuilder sb = new StringBuilder();\n    int len = s.length();\n    for (int i=0;i&lt;len;) {\n        int c = s.codePointAt(i);\n        if (c &lt; 0x80) {      // ASCII range: test most common case first\n            if (c &lt; 0x20 &amp;&amp; (c != '\\t' &amp;&amp; c != '\\r' &amp;&amp; c != '\\n')) {\n                // Illegal XML character, even encoded. Skip or substitute\n                sb.append(&quot;&amp;#xfffd;&quot;);   // Unicode replacement character\n            } else {\n                switch(c) {\n                  case '&amp;':  sb.append(&quot;&amp;amp;&quot;); break;\n                  case '&gt;':  sb.append(&quot;&amp;gt;&quot;); break;\n                  case '&lt;':  sb.append(&quot;&amp;lt;&quot;); break;\n                  // Uncomment next two if encoding for an XML attribute\n//                  case '\\''  sb.append(&quot;&amp;apos;&quot;); break;\n//                  case '\\&quot;'  sb.append(&quot;&amp;quot;&quot;); break;\n                  // Uncomment next three if you prefer, but not required\n//                  case '\\n'  sb.append(&quot;&amp;#10;&quot;); break;\n//                  case '\\r'  sb.append(&quot;&amp;#13;&quot;); break;\n//                  case '\\t'  sb.append(&quot;&amp;#9;&quot;); break;\n\n                  default:   sb.append((char)c);\n                }\n            }\n        } else if ((c &gt;= 0xd800 &amp;&amp; c &lt;= 0xdfff) || c == 0xfffe || c == 0xffff) {\n            // Illegal XML character, even encoded. Skip or substitute\n            sb.append(&quot;&amp;#xfffd;&quot;);   // Unicode replacement character\n        } else {\n            sb.append(&quot;&amp;#x&quot;);\n            sb.append(Integer.toHexString(c));\n            sb.append(';');\n        }\n        i += c &lt;= 0xffff ? 1 : 2;\n    }\n    return sb.toString();\n}\n</code></pre>\n<p><em>Edit: for those who continue to insist it foolish to write your own code for this when there are perfectly good Java APIs to deal with XML, you might like to know that the StAX API included with Oracle Java 8 (I haven't tested others) fails to encode CDATA content correctly: it doesn't escape ]]&gt; sequences in the content. A third party library, even one that's part of the Java core, is not always the best option.</em></p>\n"},{"tags":[],"owner":{"account_id":3444525,"reputation":3069,"user_id":2885656,"accept_rate":94,"display_name":"Software Craftsman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1520413996,"creation_date":1520413996,"answer_id":49148032,"question_id":439298,"body_markdown":"You could use the [Enterprise Security API (ESAPI) library][1], which provides methods like `encodeForXML` and `encodeForXMLAttribute`. Take a look at the documentation of the [Encoder][2] interface; it also contains examples of how to create an instance of [DefaultEncoder][3].\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.owasp.esapi/esapi\r\n  [2]: https://static.javadoc.io/org.owasp.esapi/esapi/2.0.1/org/owasp/esapi/Encoder.html\r\n  [3]: https://static.javadoc.io/org.owasp.esapi/esapi/2.0.1/org/owasp/esapi/reference/DefaultEncoder.html","title":"Best way to encode text data for XML in Java?","body":"<p>You could use the <a href=\"https://mvnrepository.com/artifact/org.owasp.esapi/esapi\" rel=\"nofollow noreferrer\">Enterprise Security API (ESAPI) library</a>, which provides methods like <code>encodeForXML</code> and <code>encodeForXMLAttribute</code>. Take a look at the documentation of the <a href=\"https://static.javadoc.io/org.owasp.esapi/esapi/2.0.1/org/owasp/esapi/Encoder.html\" rel=\"nofollow noreferrer\">Encoder</a> interface; it also contains examples of how to create an instance of <a href=\"https://static.javadoc.io/org.owasp.esapi/esapi/2.0.1/org/owasp/esapi/reference/DefaultEncoder.html\" rel=\"nofollow noreferrer\">DefaultEncoder</a>.</p>\n"},{"tags":[],"owner":{"account_id":2276132,"reputation":404,"user_id":2002340,"accept_rate":100,"display_name":"raman rayat"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1534491219,"creation_date":1534491219,"answer_id":51890452,"question_id":439298,"body_markdown":"Just replace\r\n\r\n     &amp; with &amp;amp;\r\n\r\nAnd for other characters: \r\n\r\n    &gt; with &amp;gt;\r\n    &lt; with &amp;lt;\r\n    \\&quot; with &amp;quot;\r\n    &#39; with &amp;apos;\r\n\r\n","title":"Best way to encode text data for XML in Java?","body":"<p>Just replace</p>\n\n<pre><code> &amp; with &amp;amp;\n</code></pre>\n\n<p>And for other characters: </p>\n\n<pre><code>&gt; with &amp;gt;\n&lt; with &amp;lt;\n\\\" with &amp;quot;\n' with &amp;apos;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1605316,"reputation":8784,"user_id":1485527,"accept_rate":100,"display_name":"jschnasse"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1537178660,"creation_date":1537177587,"answer_id":52364912,"question_id":439298,"body_markdown":"If you are looking for a library to get the job done, try:\r\n\r\n1. [Guava 26.0](https://mvnrepository.com/artifact/com.google.guava/guava/26.0-jre) documented [here](https://google.github.io/guava/releases/26.0-jre/api/docs/com/google/common/xml/XmlEscapers.html#xmlContentEscaper)\r\n\r\n    `return XmlEscapers.xmlContentEscaper().escape(text);`\r\n&gt;Note: There is also an `xmlAttributeEscaper()`\r\n\r\n2. [Apache Commons Text 1.4](https://mvnrepository.com/artifact/org.apache.commons/commons-text/1.4) documented [here](https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#escapeXml11-java.lang.String-)\r\n\r\n    `StringEscapeUtils.escapeXml11(text)`\r\n&gt;Note: There is also an `escapeXml10()` method\r\n\r\n","title":"Best way to encode text data for XML in Java?","body":"<p>If you are looking for a library to get the job done, try:</p>\n\n<ol>\n<li><p><a href=\"https://mvnrepository.com/artifact/com.google.guava/guava/26.0-jre\" rel=\"nofollow noreferrer\">Guava 26.0</a> documented <a href=\"https://google.github.io/guava/releases/26.0-jre/api/docs/com/google/common/xml/XmlEscapers.html#xmlContentEscaper\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p><code>return XmlEscapers.xmlContentEscaper().escape(text);</code></p>\n\n<blockquote>\n  <p>Note: There is also an <code>xmlAttributeEscaper()</code></p>\n</blockquote></li>\n<li><p><a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-text/1.4\" rel=\"nofollow noreferrer\">Apache Commons Text 1.4</a> documented <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#escapeXml11-java.lang.String-\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p><code>StringEscapeUtils.escapeXml11(text)</code></p>\n\n<blockquote>\n  <p>Note: There is also an <code>escapeXml10()</code> method</p>\n</blockquote></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4118435,"reputation":31,"user_id":3379447,"display_name":"wizston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579779488,"creation_date":1579779488,"answer_id":59877700,"question_id":439298,"body_markdown":"Here&#39;s what I found after searching everywhere looking for a solution:\r\n\r\nGet the Jsoup library:\r\n\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n    &lt;version&gt;1.12.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nThen:\r\n\r\n````\r\nimport org.jsoup.Jsoup\r\nimport org.jsoup.nodes.Document\r\nimport org.jsoup.nodes.Entities\r\nimport org.jsoup.parser.Parser\r\n\r\nString xml = &#39;&#39;&#39;&lt;?xml version = &quot;1.0&quot;?&gt;\r\n&lt;SOAP-ENV:Envelope\r\n   xmlns:SOAP-ENV = &quot;http://www.w3.org/2001/12/soap-envelope&quot;\r\n   SOAP-ENV:encodingStyle = &quot;http://www.w3.org/2001/12/soap-encoding&quot;&gt;\r\n\r\n   &lt;SOAP-ENV:Body xmlns:m = &quot;http://www.example.org/quotations&quot;&gt;\r\n      &lt;m:GetQuotation&gt;\r\n         &lt;m:QuotationsName&gt; MiscroSoft@G&gt;&gt;gle.com &lt;/m:QuotationsName&gt;\r\n      &lt;/m:GetQuotation&gt;\r\n   &lt;/SOAP-ENV:Body&gt;\r\n&lt;/SOAP-ENV:Envelope&gt;&#39;&#39;&#39;\r\n\r\n\r\n\r\nDocument doc = Jsoup.parse(new ByteArrayInputStream(xml.getBytes(&quot;UTF-8&quot;)), &quot;UTF-8&quot;, &quot;&quot;, Parser.xmlParser())\r\ndoc.outputSettings().charset(&quot;UTF-8&quot;)\r\ndoc.outputSettings().escapeMode(Entities.EscapeMode.base)\r\n\r\nprintln doc.toString()\r\n\r\n````\r\n\r\nHope this helps someone","title":"Best way to encode text data for XML in Java?","body":"<p>Here's what I found after searching everywhere looking for a solution:</p>\n\n<p>Get the Jsoup library:</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n    &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n    &lt;version&gt;1.12.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>import org.jsoup.Jsoup\nimport org.jsoup.nodes.Document\nimport org.jsoup.nodes.Entities\nimport org.jsoup.parser.Parser\n\nString xml = '''&lt;?xml version = \"1.0\"?&gt;\n&lt;SOAP-ENV:Envelope\n   xmlns:SOAP-ENV = \"http://www.w3.org/2001/12/soap-envelope\"\n   SOAP-ENV:encodingStyle = \"http://www.w3.org/2001/12/soap-encoding\"&gt;\n\n   &lt;SOAP-ENV:Body xmlns:m = \"http://www.example.org/quotations\"&gt;\n      &lt;m:GetQuotation&gt;\n         &lt;m:QuotationsName&gt; MiscroSoft@G&gt;&gt;gle.com &lt;/m:QuotationsName&gt;\n      &lt;/m:GetQuotation&gt;\n   &lt;/SOAP-ENV:Body&gt;\n&lt;/SOAP-ENV:Envelope&gt;'''\n\n\n\nDocument doc = Jsoup.parse(new ByteArrayInputStream(xml.getBytes(\"UTF-8\")), \"UTF-8\", \"\", Parser.xmlParser())\ndoc.outputSettings().charset(\"UTF-8\")\ndoc.outputSettings().escapeMode(Entities.EscapeMode.base)\n\nprintln doc.toString()\n\n</code></pre>\n\n<p>Hope this helps someone</p>\n"},{"tags":[],"owner":{"account_id":9925001,"reputation":1047,"user_id":7346931,"display_name":"Dharmendrasinh Chudasama"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1604897881,"creation_date":1604897881,"answer_id":64746092,"question_id":439298,"body_markdown":"&gt; I have created my wrapper here, hope it will helps a lot, [Click here][1] You can modify depends on your requirements\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/51833809/7346931","title":"Best way to encode text data for XML in Java?","body":"<blockquote>\n<p>I have created my wrapper here, hope it will helps a lot, <a href=\"https://stackoverflow.com/a/51833809/7346931\">Click here</a> You can modify depends on your requirements</p>\n</blockquote>\n"}],"owner":{"account_id":4400,"reputation":38401,"user_id":6583,"accept_rate":90,"display_name":"Epaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217474,"favorite_count":0,"down_vote_count":2,"up_vote_count":108,"accepted_answer_id":439311,"answer_count":22,"score":106,"last_activity_date":1687807233,"creation_date":1231859730,"question_id":439298,"body_markdown":"Very similar to [this question][1], except for Java.\r\n\r\nWhat is the recommended way of encoding strings for an XML output in Java. The strings might contain characters like &quot;&amp;&quot;, &quot;&lt;&quot;, etc.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/157646/best-way-to-encode-text-data-for-xml","title":"Best way to encode text data for XML in Java?","body":"<p>Very similar to <a href=\"https://stackoverflow.com/questions/157646/best-way-to-encode-text-data-for-xml\">this question</a>, except for Java.</p>\n\n<p>What is the recommended way of encoding strings for an XML output in Java. The strings might contain characters like \"&amp;\", \"&lt;\", etc.</p>\n"},{"tags":["java","spring","google-cloud-functions","spring-cloud-function"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1686874338,"post_id":76485152,"comment_id":134861961,"body_markdown":"What makes you think the problem is due to connection difficulties? What does `org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set` mean to you?","body":"What makes you think the problem is due to connection difficulties? What does <code>org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set</code> mean to you?"},{"owner":{"account_id":24448556,"reputation":69,"user_id":18371113,"display_name":"Przemek Grabarek"},"score":0,"creation_date":1686898272,"post_id":76485152,"comment_id":134864149,"body_markdown":"Correct me if I&#39;m wrong but in Spring Boot Hibernate can determine the correct dialect to use automatically, but in order to do this, it needs a live connection to the database. When the Spring Cloud Function application is run on localhost, the application is able to connect to the database on Cloud SQL using SQL instance&#39;s public IP address. The issue occurs when the Spring Cloud Function application is being deployed to Google Cloud.","body":"Correct me if I&#39;m wrong but in Spring Boot Hibernate can determine the correct dialect to use automatically, but in order to do this, it needs a live connection to the database. When the Spring Cloud Function application is run on localhost, the application is able to connect to the database on Cloud SQL using SQL instance&#39;s public IP address. The issue occurs when the Spring Cloud Function application is being deployed to Google Cloud."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1686955277,"post_id":76485152,"comment_id":134874781,"body_markdown":"https://cloud.google.com/sql/docs/debugging-connectivity","body":"<a href=\"https://cloud.google.com/sql/docs/debugging-connectivity\" rel=\"nofollow noreferrer\">cloud.google.com/sql/docs/debugging-connectivity</a>"}],"answers":[{"tags":[],"owner":{"account_id":8860806,"reputation":316,"user_id":6617075,"display_name":"Michael C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687806839,"creation_date":1687806839,"answer_id":76559615,"question_id":76485152,"body_markdown":"Posting this as a community wiki for everyone&#39;s visibility.\r\n\r\nAs mentioned by the OP, Spring Boot Hibernate can determine the correct dialect to use automatically, but it needs a live connection to the database. Since the issue is non-existent when running locally. You can try to debug your connectivity with [this documentation][1]. \r\n\r\n\r\n  [1]: https://cloud.google.com/sql/docs/debugging-connectivity","title":"Communication link failure: Google Cloud Function app can&#39;t connect to Google Cloud SQL instance","body":"<p>Posting this as a community wiki for everyone's visibility.</p>\n<p>As mentioned by the OP, Spring Boot Hibernate can determine the correct dialect to use automatically, but it needs a live connection to the database. Since the issue is non-existent when running locally. You can try to debug your connectivity with <a href=\"https://cloud.google.com/sql/docs/debugging-connectivity\" rel=\"nofollow noreferrer\">this documentation</a>.</p>\n"}],"owner":{"account_id":24448556,"reputation":69,"user_id":18371113,"display_name":"Przemek Grabarek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687806839,"creation_date":1686859204,"question_id":76485152,"body_markdown":"# Problem statement #\r\n\r\nA Java Spring Cloud Functions application deployed to Google Cloud Function instance doesn&#39;t recognize a database setup on Google Cloud SQL instance. Deploying the application to Cloud Function service using:\r\n\r\n    gcloud alpha functions deploy function-sample-gcp-background  \\\r\n    --entry-point org.springframework.cloud.function.adapter.gcp.GcfJarLauncher \\\r\n    --runtime java17 \\\r\n    --trigger-topic  example-functions-app \\\r\n    --source target/deploy \\\r\n    --memory 512MB \\\r\n    --region europe-central2\r\n\r\nreturns error in cloud function instance log:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: Could not construct an instance of org.springframework.cloud.function.adapter.gcp.GcfJarLauncher: java.lang.reflect.InvocationTargetException\r\n    \tat com.google.cloud.functions.invoker.BackgroundFunctionExecutor.forClass(BackgroundFunctionExecutor.java:125)\r\n    \tat com.google.cloud.functions.invoker.BackgroundFunctionExecutor.forClass(BackgroundFunctionExecutor.java:115)\r\n    \tat com.google.cloud.functions.invoker.runner.Invoker.startServer(Invoker.java:304)\r\n    \tat com.google.cloud.functions.invoker.runner.Invoker.startServer(Invoker.java:241)\r\n    \tat com.google.cloud.functions.invoker.runner.Invoker.main(Invoker.java:124)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    \tat com.google.cloud.functions.invoker.BackgroundFunctionExecutor.forClass(BackgroundFunctionExecutor.java:122)\r\n    \t... 4 more\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    \tat org.springframework.cloud.function.adapter.gcp.GcfJarLauncher.&lt;init&gt;(GcfJarLauncher.java:48)\r\n    \t... 10 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:910)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n    \tat org.springframework.cloud.function.adapter.gcp.FunctionInvoker.init(FunctionInvoker.java:97)\r\n    \tat org.springframework.cloud.function.adapter.gcp.FunctionInvoker.&lt;init&gt;(FunctionInvoker.java:84)\r\n    \tat org.springframework.cloud.function.adapter.gcp.FunctionInvoker.&lt;init&gt;(FunctionInvoker.java:80)\r\n    \t... 16 more\r\n    Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:284)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)\r\n    \tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:295)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:252)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)\r\n    \tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173)\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\r\n    \t... 31 more\r\n    Caused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set\r\n    \tat org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100)\r\n    \tat org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:138)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:272)\r\n\r\nsome further runtime spring boot logs:\r\n\r\n \r\n\r\n    [function-sample-gcp-background] com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n    [function-sample-gcp-background] The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n    [function-sample-gcp-background] at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-j-8.0.32.jar!/:8.0.32]\r\n    [function-sample-gcp-background] at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-j-8.0.32.jar!/:8.0.32]\r\n    [function-sample-gcp-background] at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:824) ~[mysql-connector-j-8.0.32.jar!/:8.0.32]\r\n    [function-sample-gcp-background] at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:444) ~[mysql-connector-j-8.0.32.jar!/:8.0.32]\r\n    [function-sample-gcp-background] at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237) ~[mysql-connector-j-8.0.32.jar!/:8.0.32]\r\n    [function-sample-gcp-background] at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-j-8.0.32.jar!/:8.0.32]\r\n    [function-sample-gcp-background] at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar!/:na]\r\n    [function-sample-gcp-background] at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar!/:na]\r\n    [function-sample-gcp-background] at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:na]\r\n    [function-sample-gcp-background] at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar!/:na]\r\n    [function-sample-gcp-background] at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar!/:na]\r\n    [function-sample-gcp-background] at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar!/:na]\r\n    [function-sample-gcp-background] at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\r\n    [function-sample-gcp-background] at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n    [function-sample-gcp-background] at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n    [function-sample-gcp-background] at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-\r\n     at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n    [function-sample-gcp-background] at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n    [function-sample-gcp-background] at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:272) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n    [function-sample-gcp-background] at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n    [function-sample-gcp-background] at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n    [function-sample-gcp-background] at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n    [function-sample-gcp-background] at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:295) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n    [function-sample-gcp-background] at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:252) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n    [function-sample-gcp-background] at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n    [function-sample-gcp-background] at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n    [function-sample-gcp-background] at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n    [function-sample-gcp-background] at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n    [function-sample-gcp-background] at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n    [function-sample-gcp-background] at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.26.jar!/:5.3.26]\r\n    [function-sample-gcp-background] at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.26.jar!/:5.3.26]\r\n    [function-sample-gcp-background] at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.26.jar!/:5.3.26]\r\n    [function-sample-gcp-background] at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.26.jar!/:5.3.26]\r\n    [function-sample-gcp-background] at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.26.jar!/:5.3.26]\r\n    [function-sample-gcp-background] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.26.jar!/:5.3.26]\r\n    [function-sample-gcp-background] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.26.jar!/:5.3.26]\r\n    [function-sample-gcp-background] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.26.jar!/:5.3.26]\r\n    [function-sample-gcp-background] at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.26.jar!/:5.3.26]\r\n    [function-sample-gcp-background] at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.26.jar!/:5.3.26]\r\n    [function-sample-gcp-background] at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.26.jar!/:5.3.26]\r\n    [function-sample-gcp-background] at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.26.jar!/:5.3.26]\r\n    [function-sample-gcp-background] at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156) ~[spring-context-5.3.26.jar!/:5.3.26]\r\n    [function-sample-gcp-background] at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:910) ~[spring-context-5.3.26.jar!/:5.3.26]\r\n    [function-sample-gcp-background] at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.26.jar!/:5.3.26]\r\n    [function-sample-gcp-background] at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.10.jar!/:2.7.10]\r\n    [function-sample-gcp-background] at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.10.jar!/:2.7.10]\r\n    [function-sample-gcp-background] at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.10.jar!/:2.7.10]\r\n    [function-sample-gcp-background] at org.springframework.cloud.function.adapter.gcp.FunctionInvoker.init(FunctionInvoker.java:97) ~[spring-cloud-function-adapter-gcp-4.0.1.jar!/:na]\r\n    [function-sample-gcp-background] at org.springframework.cloud.function.adapter.gcp.FunctionInvoker.&lt;init&gt;(FunctionInvoker.java:84) ~[spring-cloud-function-adapter-gcp-4.0.1.jar!/:na]\r\n    [function-sample-gcp-background] at org.springframework.cloud.function.adapter.gcp.FunctionInvoker.&lt;init&gt;(FunctionInvoker.java:80) ~[spring-cloud-function-adapter-gcp-4.0.1.jar!/:na]\r\n    [function-sample-gcp-background] at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    [function-sample-gcp-background] at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n    [function-sample-gcp-background] at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    [function-sample-gcp-background] at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n    [function-sample-gcp-background] at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n    [function-sample-gcp-background] at org.springframework.cloud.function.adapter.gcp.GcfJarLauncher.&lt;init&gt;(GcfJarLauncher.java:48) ~[video-stream-function-0.0.1-SNAPSHOT\r\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    [function-sample-gcp-background] at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n    [function-sample-gcp-background] at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    [function-sample-gcp-background] at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n    [function-sample-gcp-background] at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n    [function-sample-gcp-background] at com.google.cloud.functions.invoker.BackgroundFunctionExecutor.forClass(BackgroundFunctionExecutor.java:122) ~[na:na]\r\n    [function-sample-gcp-background] at com.google.cloud.functions.invoker.BackgroundFunctionExecutor.forClass(BackgroundFunctionExecutor.java:115) ~[na:na]\r\n    [function-sample-gcp-background] at com.google.cloud.functions.invoker.runner.Invoker.startServer(Invoker.java:304) ~[na:na]\r\n    [function-sample-gcp-background] at com.google.cloud.functions.invoker.runner.Invoker.startServer(Invoker.java:241) ~[na:na]\r\n    [function-sample-gcp-background] at com.google.cloud.functions.invoker.runner.Invoker.main(Invoker.java:124) ~[na:na]\r\n    [function-sample-gcp-background] Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n    [function-sample-gcp-background] The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n    [function-sample-gcp-background] at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    [function-sample-gcp-background] at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n    [function-sample-gcp-background] at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    [function-sample-gcp-background] at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n    [function-sample-gcp-background] at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n    [function-sample-gcp-background] at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-j-8.0.32.jar!/:8.0.32]\r\n    [function-sample-gcp-background] at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-j-8.0.32.jar!/:8.0.32]\r\n    [function-sample-gcp-background] at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-j-8.0.32.jar!/:8.0.32]\r\n\r\n**How do I manage this issue where I can&#39;t connect the database that is setup on Google Cloud SQL instance with Cloud Function instance?**\r\n\r\n# Relevant Data #\r\n\r\n[![GCloud Service Infrastracture Diagram showing connection between instances][1]][1]\r\nThe Diagram above shows infrastracture of a google cloud setup of a Spring Cloud Functions application. \r\nThe application has an sql database setup with jpa implementation, the configuration is stored in application.yml as followed:\r\n\r\n    spring:\r\n      datasource:\r\n        username: username\r\n        password: password\r\n        driver-class-name: com.mysql.cj.jdbc.Driver\r\n        url: jdbc:mysql://99.999.999.9/db-name\r\n    \r\n      jpa:\r\n        hibernate:\r\n          ddl-auto: update\r\n        default:\r\n          properties:\r\n            hibernate:\r\n              bytecode:\r\n                provider: none\r\n      cloud:\r\n        gcp:\r\n          sql:\r\n            instance-connection-name: instance-connection-name\r\n            database-name: db-name\r\n          config:\r\n            credentials:\r\n              location: service-account-ceredntials.json\r\n\r\nFor the purpose of anonymity I renamed values of above configurations. \r\nservice-account-credentials.json contain service-account key. That service account has roles of:\r\n\r\n    Cloud Functions Developer\r\n    Cloud SQL Editor\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZL8EH.png\r\n\r\n## Important Note ##\r\n\r\nWhen the Spring Cloud Function application is run on localhost, the application is able to connect to the database on Cloud SQL using SQL instance&#39;s public IP address. The issue occurs when the Spring Cloud Function application is being deployed to Google Cloud.","title":"Communication link failure: Google Cloud Function app can&#39;t connect to Google Cloud SQL instance","body":"<h1>Problem statement</h1>\n<p>A Java Spring Cloud Functions application deployed to Google Cloud Function instance doesn't recognize a database setup on Google Cloud SQL instance. Deploying the application to Cloud Function service using:</p>\n<pre><code>gcloud alpha functions deploy function-sample-gcp-background  \\\n--entry-point org.springframework.cloud.function.adapter.gcp.GcfJarLauncher \\\n--runtime java17 \\\n--trigger-topic  example-functions-app \\\n--source target/deploy \\\n--memory 512MB \\\n--region europe-central2\n</code></pre>\n<p>returns error in cloud function instance log:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Could not construct an instance of org.springframework.cloud.function.adapter.gcp.GcfJarLauncher: java.lang.reflect.InvocationTargetException\n    at com.google.cloud.functions.invoker.BackgroundFunctionExecutor.forClass(BackgroundFunctionExecutor.java:125)\n    at com.google.cloud.functions.invoker.BackgroundFunctionExecutor.forClass(BackgroundFunctionExecutor.java:115)\n    at com.google.cloud.functions.invoker.runner.Invoker.startServer(Invoker.java:304)\n    at com.google.cloud.functions.invoker.runner.Invoker.startServer(Invoker.java:241)\n    at com.google.cloud.functions.invoker.runner.Invoker.main(Invoker.java:124)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at com.google.cloud.functions.invoker.BackgroundFunctionExecutor.forClass(BackgroundFunctionExecutor.java:122)\n    ... 4 more\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.springframework.cloud.function.adapter.gcp.GcfJarLauncher.&lt;init&gt;(GcfJarLauncher.java:48)\n    ... 10 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:910)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.cloud.function.adapter.gcp.FunctionInvoker.init(FunctionInvoker.java:97)\n    at org.springframework.cloud.function.adapter.gcp.FunctionInvoker.&lt;init&gt;(FunctionInvoker.java:84)\n    at org.springframework.cloud.function.adapter.gcp.FunctionInvoker.&lt;init&gt;(FunctionInvoker.java:80)\n    ... 16 more\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:284)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:295)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:252)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\n    ... 31 more\nCaused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100)\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:138)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:272)\n</code></pre>\n<p>some further runtime spring boot logs:</p>\n<pre><code>[function-sample-gcp-background] com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n[function-sample-gcp-background] The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n[function-sample-gcp-background] at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-j-8.0.32.jar!/:8.0.32]\n[function-sample-gcp-background] at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-j-8.0.32.jar!/:8.0.32]\n[function-sample-gcp-background] at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:824) ~[mysql-connector-j-8.0.32.jar!/:8.0.32]\n[function-sample-gcp-background] at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:444) ~[mysql-connector-j-8.0.32.jar!/:8.0.32]\n[function-sample-gcp-background] at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237) ~[mysql-connector-j-8.0.32.jar!/:8.0.32]\n[function-sample-gcp-background] at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-j-8.0.32.jar!/:8.0.32]\n[function-sample-gcp-background] at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar!/:na]\n[function-sample-gcp-background] at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar!/:na]\n[function-sample-gcp-background] at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:na]\n[function-sample-gcp-background] at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar!/:na]\n[function-sample-gcp-background] at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar!/:na]\n[function-sample-gcp-background] at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar!/:na]\n[function-sample-gcp-background] at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\n[function-sample-gcp-background] at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n[function-sample-gcp-background] at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n[function-sample-gcp-background] at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-\n at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n[function-sample-gcp-background] at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n[function-sample-gcp-background] at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:272) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n[function-sample-gcp-background] at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n[function-sample-gcp-background] at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n[function-sample-gcp-background] at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n[function-sample-gcp-background] at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:295) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n[function-sample-gcp-background] at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:252) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n[function-sample-gcp-background] at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n[function-sample-gcp-background] at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n[function-sample-gcp-background] at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n[function-sample-gcp-background] at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n[function-sample-gcp-background] at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n[function-sample-gcp-background] at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.26.jar!/:5.3.26]\n[function-sample-gcp-background] at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.26.jar!/:5.3.26]\n[function-sample-gcp-background] at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.26.jar!/:5.3.26]\n[function-sample-gcp-background] at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.26.jar!/:5.3.26]\n[function-sample-gcp-background] at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.26.jar!/:5.3.26]\n[function-sample-gcp-background] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.26.jar!/:5.3.26]\n[function-sample-gcp-background] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.26.jar!/:5.3.26]\n[function-sample-gcp-background] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.26.jar!/:5.3.26]\n[function-sample-gcp-background] at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.26.jar!/:5.3.26]\n[function-sample-gcp-background] at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.26.jar!/:5.3.26]\n[function-sample-gcp-background] at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.26.jar!/:5.3.26]\n[function-sample-gcp-background] at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.26.jar!/:5.3.26]\n[function-sample-gcp-background] at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156) ~[spring-context-5.3.26.jar!/:5.3.26]\n[function-sample-gcp-background] at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:910) ~[spring-context-5.3.26.jar!/:5.3.26]\n[function-sample-gcp-background] at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.26.jar!/:5.3.26]\n[function-sample-gcp-background] at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.10.jar!/:2.7.10]\n[function-sample-gcp-background] at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.10.jar!/:2.7.10]\n[function-sample-gcp-background] at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.10.jar!/:2.7.10]\n[function-sample-gcp-background] at org.springframework.cloud.function.adapter.gcp.FunctionInvoker.init(FunctionInvoker.java:97) ~[spring-cloud-function-adapter-gcp-4.0.1.jar!/:na]\n[function-sample-gcp-background] at org.springframework.cloud.function.adapter.gcp.FunctionInvoker.&lt;init&gt;(FunctionInvoker.java:84) ~[spring-cloud-function-adapter-gcp-4.0.1.jar!/:na]\n[function-sample-gcp-background] at org.springframework.cloud.function.adapter.gcp.FunctionInvoker.&lt;init&gt;(FunctionInvoker.java:80) ~[spring-cloud-function-adapter-gcp-4.0.1.jar!/:na]\n[function-sample-gcp-background] at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n[function-sample-gcp-background] at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n[function-sample-gcp-background] at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n[function-sample-gcp-background] at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n[function-sample-gcp-background] at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n[function-sample-gcp-background] at org.springframework.cloud.function.adapter.gcp.GcfJarLauncher.&lt;init&gt;(GcfJarLauncher.java:48) ~[video-stream-function-0.0.1-SNAPSHOT\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n[function-sample-gcp-background] at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n[function-sample-gcp-background] at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n[function-sample-gcp-background] at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n[function-sample-gcp-background] at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n[function-sample-gcp-background] at com.google.cloud.functions.invoker.BackgroundFunctionExecutor.forClass(BackgroundFunctionExecutor.java:122) ~[na:na]\n[function-sample-gcp-background] at com.google.cloud.functions.invoker.BackgroundFunctionExecutor.forClass(BackgroundFunctionExecutor.java:115) ~[na:na]\n[function-sample-gcp-background] at com.google.cloud.functions.invoker.runner.Invoker.startServer(Invoker.java:304) ~[na:na]\n[function-sample-gcp-background] at com.google.cloud.functions.invoker.runner.Invoker.startServer(Invoker.java:241) ~[na:na]\n[function-sample-gcp-background] at com.google.cloud.functions.invoker.runner.Invoker.main(Invoker.java:124) ~[na:na]\n[function-sample-gcp-background] Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n[function-sample-gcp-background] The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n[function-sample-gcp-background] at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n[function-sample-gcp-background] at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n[function-sample-gcp-background] at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n[function-sample-gcp-background] at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n[function-sample-gcp-background] at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n[function-sample-gcp-background] at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-j-8.0.32.jar!/:8.0.32]\n[function-sample-gcp-background] at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-j-8.0.32.jar!/:8.0.32]\n[function-sample-gcp-background] at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-j-8.0.32.jar!/:8.0.32]\n</code></pre>\n<p><strong>How do I manage this issue where I can't connect the database that is setup on Google Cloud SQL instance with Cloud Function instance?</strong></p>\n<h1>Relevant Data</h1>\n<p><a href=\"https://i.stack.imgur.com/ZL8EH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZL8EH.png\" alt=\"GCloud Service Infrastracture Diagram showing connection between instances\" /></a>\nThe Diagram above shows infrastracture of a google cloud setup of a Spring Cloud Functions application.\nThe application has an sql database setup with jpa implementation, the configuration is stored in application.yml as followed:</p>\n<pre><code>spring:\n  datasource:\n    username: username\n    password: password\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    url: jdbc:mysql://99.999.999.9/db-name\n\n  jpa:\n    hibernate:\n      ddl-auto: update\n    default:\n      properties:\n        hibernate:\n          bytecode:\n            provider: none\n  cloud:\n    gcp:\n      sql:\n        instance-connection-name: instance-connection-name\n        database-name: db-name\n      config:\n        credentials:\n          location: service-account-ceredntials.json\n</code></pre>\n<p>For the purpose of anonymity I renamed values of above configurations.\nservice-account-credentials.json contain service-account key. That service account has roles of:</p>\n<pre><code>Cloud Functions Developer\nCloud SQL Editor\n</code></pre>\n<h2>Important Note</h2>\n<p>When the Spring Cloud Function application is run on localhost, the application is able to connect to the database on Cloud SQL using SQL instance's public IP address. The issue occurs when the Spring Cloud Function application is being deployed to Google Cloud.</p>\n"},{"tags":["java","swing","user-interface","components","focus"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1687807258,"post_id":76559483,"comment_id":134985572,"body_markdown":"*Oh, and my example doesn&#39;t have a main class, it is added to the toolbar of my application if that matters...* - Yes it matters. We can&#39;t test the posted code to see the described behaviour. Also, you should be using `Key Binding` not a KeyListener to control the functionality of your popup.","body":"<i>Oh, and my example doesn&#39;t have a main class, it is added to the toolbar of my application if that matters...</i> - Yes it matters. We can&#39;t test the posted code to see the described behaviour. Also, you should be using <code>Key Binding</code> not a KeyListener to control the functionality of your popup."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1687811279,"post_id":76559483,"comment_id":134986166,"body_markdown":"*It also uses other look and feel,  I hope that should not affect focus handling though?* - Well that is easy enough to test. Don&#39;t use the other LAF. If this code works, then you&#39;ve proven the basic concept works. The point of creating an [mre] is to isolate the problem in your real application. So this means adding code in the code posted here until it stops working again. Then you know what you changed and can ask a specific question.","body":"<i>It also uses other look and feel,  I hope that should not affect focus handling though?</i> - Well that is easy enough to test. Don&#39;t use the other LAF. If this code works, then you&#39;ve proven the basic concept works. The point of creating an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is to isolate the problem in your real application. So this means adding code in the code posted here until it stops working again. Then you know what you changed and can ask a specific question."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1687816047,"post_id":76559483,"comment_id":134986870,"body_markdown":"From very old and vague memory, when I was doing simular things, I found `JPopupMenu` unsuited for the task and instead had to use a undecorated`JFrame` [for example](https://stackoverflow.com/questions/36352707/actions-inside-of-another-action-like-netbeans/36353275#36353275) and [example](https://stackoverflow.com/questions/36535835/button-with-image-text-arrow-and-menu/36536607#36536607)","body":"From very old and vague memory, when I was doing simular things, I found <code>JPopupMenu</code> unsuited for the task and instead had to use a undecorated<code>JFrame</code> <a href=\"https://stackoverflow.com/questions/36352707/actions-inside-of-another-action-like-netbeans/36353275#36353275\">for example</a> and <a href=\"https://stackoverflow.com/questions/36535835/button-with-image-text-arrow-and-menu/36536607#36536607\">example</a>"}],"owner":{"account_id":7033480,"reputation":257,"user_id":5388414,"accept_rate":80,"display_name":"UglyBob"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687806631,"creation_date":1687805631,"question_id":76559483,"body_markdown":"I try to basically implement my own combobox for Swing, because JComboBox has some behavior that doesn&#39;t suit my requirements and what I need to override is private, so...\r\n\r\nAnyway, I tried making a small example to test it out, by extending JComponent with a JTextField inside and a dropdown menu overriding JPopupMenu. I want the dropdown to come down in different cases, but for the test I trigger it with the up and down keys (listening on the text field). The popup has a JList inside a JScrollPane and the problem is that this list doesn&#39;t always get focus. I&#39;ve been fighting with it for days, trying various combinations of show() / setVisible() / requestFocus() and requestFocusInWindow() on every involved component, with and without SwingUtilities.invokeLater(). And in my pasted code is the best attempt, BUT even if the list seem to get focus almost every time, it happens it only selects the item showing it gray (which I assume means it doesnt really have focus). Any ideas? \r\n\r\nOh, and my example doesn&#39;t have a main class, it is added to the toolbar of my application if that matters...\r\n\r\nEdit: I added a main for testing and of course it seem to work then. So it&#39;s just with my real application it doesn&#39;t work and it&#39;s a pretty complicated gui, to large to post here. It also uses other look and feel, I hope that should not affect focus handling though?\r\n\r\n```\r\npackage com.sdi.cmsanalyzer.gui;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\npublic class CustomComboBox extends JComponent {\r\n    private final JTextField textField;\r\n    private final DropdownMenu dropdown;\r\n\r\n    public CustomComboBox() {\r\n        setLayout(new BorderLayout());\r\n\r\n        textField = new JTextField();\r\n\r\n        textField.addKeyListener(new KeyAdapter() {\r\n            @Override\r\n            public void keyPressed(KeyEvent e) {\r\n                int keyCode = e.getKeyCode();\r\n                if (keyCode == KeyEvent.VK_DOWN) {\r\n                    System.out.println(&quot;DOWN&quot;);\r\n                    showDropdown();\r\n                    dropdown.selectFirstItem();\r\n                } else if (keyCode == KeyEvent.VK_UP) {\r\n                    System.out.println(&quot;UP&quot;);\r\n                    showDropdown();\r\n                    dropdown.selectLastItem();\r\n                } else if (keyCode == KeyEvent.VK_ENTER) {\r\n                    System.out.println(&quot;ENTER&quot;);\r\n                }\r\n            }\r\n        });\r\n\r\n        add(textField, BorderLayout.CENTER);\r\n\r\n        dropdown = new DropdownMenu();\r\n    }\r\n\r\n    public JTextField getEditor() {\r\n        return this.textField;\r\n    }\r\n\r\n    private void showDropdown() {\r\n        dropdown.updateItems(getDropdownItems());\r\n\r\n        dropdown.setSize(new Dimension(textField.getWidth(), dropdown.getPreferredSize().height));\r\n\r\n        int x = 0;\r\n        int y = textField.getHeight();\r\n\r\n        Container parent = textField.getParent();\r\n        if (parent != null) {\r\n            Point textFieldLocation = textField.getLocation();\r\n            SwingUtilities.convertPointToScreen(textFieldLocation, textField);\r\n            SwingUtilities.convertPointFromScreen(textFieldLocation, parent);\r\n            x = textFieldLocation.x;\r\n            y = textFieldLocation.y + textField.getHeight();\r\n        }\r\n\r\n        dropdown.show(textField, x, y);\r\n    }\r\n\r\n    private String[] getDropdownItems() {\r\n        // Replace with your logic to retrieve the dropdown items\r\n        return new String[]{&quot;Option 1&quot;, &quot;Option 2&quot;, &quot;Option 3&quot;, &quot;Option 4&quot;, &quot;Option 5&quot;, &quot;Option 6&quot;, &quot;Option 7&quot;, &quot;Option 8&quot;, &quot;Option 9&quot;, &quot;Option 10&quot;};\r\n    }\r\n\r\n    private static class DropdownMenu extends JPopupMenu {\r\n        DefaultListModel&lt;String&gt; listModel = new DefaultListModel&lt;&gt;();\r\n        JScrollPane scrollPane;\r\n        JList&lt;String&gt; list;\r\n\r\n        public DropdownMenu() {\r\n            // Create a JList with the list model\r\n            list = new JList&lt;&gt;(listModel);\r\n\r\n            // Create a scroll pane and add the list to it\r\n            scrollPane = new JScrollPane(list,\r\n                    ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED,\r\n                    ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\r\n\r\n            add(scrollPane);\r\n            pack();\r\n        }\r\n\r\n        public void updateItems(String[] items) {\r\n            listModel.clear();\r\n            for (String item : items) {\r\n                listModel.addElement(item);\r\n            }\r\n        }\r\n\r\n        protected void selectFirstItem() {\r\n            SwingUtilities.invokeLater(() -&gt; {\r\n                list.setSelectedIndex(0);\r\n                list.ensureIndexIsVisible(0);\r\n                list.requestFocus();\r\n            });\r\n        }\r\n\r\n        protected void selectLastItem() {\r\n            SwingUtilities.invokeLater(() -&gt; {\r\n                list.setSelectedIndex(listModel.getSize() - 1);\r\n                list.ensureIndexIsVisible(listModel.getSize() - 1);\r\n                list.requestFocus();\r\n            });\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; createAndShowGUI());\r\n    }\r\n\r\n    private static void createAndShowGUI() {\r\n        // Create the main frame\r\n        JFrame frame = new JFrame(&quot;Custom ComboBox Example&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        // Create a toolbar\r\n        JToolBar toolBar = new JToolBar();\r\n\r\n        // Create an instance of your CustomComboBox\r\n        CustomComboBox customComboBox = new CustomComboBox();\r\n\r\n        // Add the CustomComboBox to the toolbar\r\n        toolBar.add(customComboBox);\r\n\r\n        // Add the toolbar to the frame\r\n        frame.add(toolBar, BorderLayout.NORTH);\r\n\r\n        // Create a center panel\r\n        JPanel centerPanel = new JPanel();\r\n        frame.add(centerPanel, BorderLayout.CENTER);\r\n\r\n        // Set the frame size and make it visible\r\n        frame.setSize(400, 200);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n```","title":"Custom popup don&#39;t always get focus","body":"<p>I try to basically implement my own combobox for Swing, because JComboBox has some behavior that doesn't suit my requirements and what I need to override is private, so...</p>\n<p>Anyway, I tried making a small example to test it out, by extending JComponent with a JTextField inside and a dropdown menu overriding JPopupMenu. I want the dropdown to come down in different cases, but for the test I trigger it with the up and down keys (listening on the text field). The popup has a JList inside a JScrollPane and the problem is that this list doesn't always get focus. I've been fighting with it for days, trying various combinations of show() / setVisible() / requestFocus() and requestFocusInWindow() on every involved component, with and without SwingUtilities.invokeLater(). And in my pasted code is the best attempt, BUT even if the list seem to get focus almost every time, it happens it only selects the item showing it gray (which I assume means it doesnt really have focus). Any ideas?</p>\n<p>Oh, and my example doesn't have a main class, it is added to the toolbar of my application if that matters...</p>\n<p>Edit: I added a main for testing and of course it seem to work then. So it's just with my real application it doesn't work and it's a pretty complicated gui, to large to post here. It also uses other look and feel, I hope that should not affect focus handling though?</p>\n<pre><code>package com.sdi.cmsanalyzer.gui;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class CustomComboBox extends JComponent {\n    private final JTextField textField;\n    private final DropdownMenu dropdown;\n\n    public CustomComboBox() {\n        setLayout(new BorderLayout());\n\n        textField = new JTextField();\n\n        textField.addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyPressed(KeyEvent e) {\n                int keyCode = e.getKeyCode();\n                if (keyCode == KeyEvent.VK_DOWN) {\n                    System.out.println(&quot;DOWN&quot;);\n                    showDropdown();\n                    dropdown.selectFirstItem();\n                } else if (keyCode == KeyEvent.VK_UP) {\n                    System.out.println(&quot;UP&quot;);\n                    showDropdown();\n                    dropdown.selectLastItem();\n                } else if (keyCode == KeyEvent.VK_ENTER) {\n                    System.out.println(&quot;ENTER&quot;);\n                }\n            }\n        });\n\n        add(textField, BorderLayout.CENTER);\n\n        dropdown = new DropdownMenu();\n    }\n\n    public JTextField getEditor() {\n        return this.textField;\n    }\n\n    private void showDropdown() {\n        dropdown.updateItems(getDropdownItems());\n\n        dropdown.setSize(new Dimension(textField.getWidth(), dropdown.getPreferredSize().height));\n\n        int x = 0;\n        int y = textField.getHeight();\n\n        Container parent = textField.getParent();\n        if (parent != null) {\n            Point textFieldLocation = textField.getLocation();\n            SwingUtilities.convertPointToScreen(textFieldLocation, textField);\n            SwingUtilities.convertPointFromScreen(textFieldLocation, parent);\n            x = textFieldLocation.x;\n            y = textFieldLocation.y + textField.getHeight();\n        }\n\n        dropdown.show(textField, x, y);\n    }\n\n    private String[] getDropdownItems() {\n        // Replace with your logic to retrieve the dropdown items\n        return new String[]{&quot;Option 1&quot;, &quot;Option 2&quot;, &quot;Option 3&quot;, &quot;Option 4&quot;, &quot;Option 5&quot;, &quot;Option 6&quot;, &quot;Option 7&quot;, &quot;Option 8&quot;, &quot;Option 9&quot;, &quot;Option 10&quot;};\n    }\n\n    private static class DropdownMenu extends JPopupMenu {\n        DefaultListModel&lt;String&gt; listModel = new DefaultListModel&lt;&gt;();\n        JScrollPane scrollPane;\n        JList&lt;String&gt; list;\n\n        public DropdownMenu() {\n            // Create a JList with the list model\n            list = new JList&lt;&gt;(listModel);\n\n            // Create a scroll pane and add the list to it\n            scrollPane = new JScrollPane(list,\n                    ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED,\n                    ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\n\n            add(scrollPane);\n            pack();\n        }\n\n        public void updateItems(String[] items) {\n            listModel.clear();\n            for (String item : items) {\n                listModel.addElement(item);\n            }\n        }\n\n        protected void selectFirstItem() {\n            SwingUtilities.invokeLater(() -&gt; {\n                list.setSelectedIndex(0);\n                list.ensureIndexIsVisible(0);\n                list.requestFocus();\n            });\n        }\n\n        protected void selectLastItem() {\n            SwingUtilities.invokeLater(() -&gt; {\n                list.setSelectedIndex(listModel.getSize() - 1);\n                list.ensureIndexIsVisible(listModel.getSize() - 1);\n                list.requestFocus();\n            });\n        }\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; createAndShowGUI());\n    }\n\n    private static void createAndShowGUI() {\n        // Create the main frame\n        JFrame frame = new JFrame(&quot;Custom ComboBox Example&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        // Create a toolbar\n        JToolBar toolBar = new JToolBar();\n\n        // Create an instance of your CustomComboBox\n        CustomComboBox customComboBox = new CustomComboBox();\n\n        // Add the CustomComboBox to the toolbar\n        toolBar.add(customComboBox);\n\n        // Add the toolbar to the frame\n        frame.add(toolBar, BorderLayout.NORTH);\n\n        // Create a center panel\n        JPanel centerPanel = new JPanel();\n        frame.add(centerPanel, BorderLayout.CENTER);\n\n        // Set the frame size and make it visible\n        frame.setSize(400, 200);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","xml","xml-parsing","cdata"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1687801088,"post_id":76558893,"comment_id":134984569,"body_markdown":"Please, take some time to read [how to ask](/help/how-to-ask) and [How to create a Minimal, Reproducible Example](/help/minimal-reproducible-example). Parsing with jaxB is an option. Please add  your java code so far and expected output.","body":"Please, take some time to read <a href=\"/help/how-to-ask\">how to ask</a> and <a href=\"/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>. Parsing with jaxB is an option. Please add  your java code so far and expected output."}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687806337,"creation_date":1687805115,"answer_id":76559434,"question_id":76558893,"body_markdown":"You ask ...\r\n\r\n&gt; Is there a way to tell XML parser to treat everything inside an element as TEXT? can xml schema do it?\r\n\r\n... by which you seem to mean\r\n\r\n&gt; How to parse everything inside the &amp;lt;foo&gt; as text as if it is wrapped with `&lt;![CDATA[  ]]&gt;`.\r\n\r\n. That would mean that you get a result String with this literal content:&lt;sup&gt;*&lt;/sup&gt;\r\n```\r\n    text\r\n    &lt;bar&gt;\r\n        &lt;![CDATA[ ... ]]&gt;\r\n        &lt;hello&gt;&lt;world&gt;&lt;/world&gt;\r\n        &lt;/hello&gt; \r\n    &lt;/bar\r\n    text\r\n```\r\nThat is, including all whitespace and a text representation of all tags, comments, processing instructions, and CDATA sections.  I&#39;m having trouble aligning that with ...\r\n\r\n&gt; The reason for this is it has nested `&lt;![CDATA[  ]]&gt;`.. Nesting CDATA\r\n&gt; makes it harder to read/write by human.\r\n\r\n.  That is, I don&#39;t disagree about CDATA sections being hard-ish to read, but I don&#39;t see how that suggests creating strings that contain textual versions of CDATA sections.\r\n\r\nI&#39;m also having trouble squaring that with ...\r\n\r\n&gt; SAXParser/StreamParser use callbacks or events, and elements/attributes/texts need to be concatenated together. Is there a more efficient way?\r\n\r\n... because a SAXParser won&#39;t allow you to do what you asked.  Although you could use SAX callbacks to reconstruct a text representation of the XML that has been parsed, that would not\r\n\r\n - reproduce CDATA sections as text (only their contents),\r\n - ensure that tags are reproduced verbatim (internal whitespace, type of attribute quotation marks, and representation style for empty tags are not conveyed by SAX),\r\n - avoid expanding at least some of the entity references in text and attribute values (but outside CDATA sections), or\r\n - preserve comments.\r\n\r\nThere might be other issues.  And if your goal happens to be to perform some kind of XML cleanup to improve human readability then note well that there is a fairly high risk that the string emitted by such a process will not constitute well-formed XML element content.  After all, one of the purposes of CDATA sections and many entity references is exactly to express content that would render the document ill-formed if it were expressed literally.  That escaping function would be lost, so you would need to re-escape the content if you wanted to be able to re-parse it as XML.\r\n\r\n----\r\nIf you really do want to extract the raw text of an XML element then ***no***, no XML API I know of provides for it, and XML Schema cannot do it.  XML technologies work *with* document structure, but you seem to want to override document structure.  You&#39;ll probably need to write your own XML parser if that&#39;s in fact what you want to do.\r\n\r\n----\r\n&lt;sup&gt;*&lt;/sup&gt; Or at least, that&#39;s my best guess at what you mean.  CDATA sections do not nest, so if you literally wrapped the CDATA-including raw element text inside a CDATA section then the XML interpretation of the result would be different, and not likely what you&#39;re really after.\r\n\r\n\r\n  [1]: https://download.java.net/java/early_access/loom/docs/api/java.xml/org/w3c/dom/Node.html#getTextContent()","title":"XML parser: quick way to parse everything inside an element as text?","body":"<p>You ask ...</p>\n<blockquote>\n<p>Is there a way to tell XML parser to treat everything inside an element as TEXT? can xml schema do it?</p>\n</blockquote>\n<p>... by which you seem to mean</p>\n<blockquote>\n<p>How to parse everything inside the &lt;foo&gt; as text as if it is wrapped with <code>&lt;![CDATA[  ]]&gt;</code>.</p>\n</blockquote>\n<p>. That would mean that you get a result String with this literal content:<sup>*</sup></p>\n<pre><code>    text\n    &lt;bar&gt;\n        &lt;![CDATA[ ... ]]&gt;\n        &lt;hello&gt;&lt;world&gt;&lt;/world&gt;\n        &lt;/hello&gt; \n    &lt;/bar\n    text\n</code></pre>\n<p>That is, including all whitespace and a text representation of all tags, comments, processing instructions, and CDATA sections.  I'm having trouble aligning that with ...</p>\n<blockquote>\n<p>The reason for this is it has nested <code>&lt;![CDATA[  ]]&gt;</code>.. Nesting CDATA\nmakes it harder to read/write by human.</p>\n</blockquote>\n<p>.  That is, I don't disagree about CDATA sections being hard-ish to read, but I don't see how that suggests creating strings that contain textual versions of CDATA sections.</p>\n<p>I'm also having trouble squaring that with ...</p>\n<blockquote>\n<p>SAXParser/StreamParser use callbacks or events, and elements/attributes/texts need to be concatenated together. Is there a more efficient way?</p>\n</blockquote>\n<p>... because a SAXParser won't allow you to do what you asked.  Although you could use SAX callbacks to reconstruct a text representation of the XML that has been parsed, that would not</p>\n<ul>\n<li>reproduce CDATA sections as text (only their contents),</li>\n<li>ensure that tags are reproduced verbatim (internal whitespace, type of attribute quotation marks, and representation style for empty tags are not conveyed by SAX),</li>\n<li>avoid expanding at least some of the entity references in text and attribute values (but outside CDATA sections), or</li>\n<li>preserve comments.</li>\n</ul>\n<p>There might be other issues.  And if your goal happens to be to perform some kind of XML cleanup to improve human readability then note well that there is a fairly high risk that the string emitted by such a process will not constitute well-formed XML element content.  After all, one of the purposes of CDATA sections and many entity references is exactly to express content that would render the document ill-formed if it were expressed literally.  That escaping function would be lost, so you would need to re-escape the content if you wanted to be able to re-parse it as XML.</p>\n<hr />\n<p>If you really do want to extract the raw text of an XML element then <em><strong>no</strong></em>, no XML API I know of provides for it, and XML Schema cannot do it.  XML technologies work <em>with</em> document structure, but you seem to want to override document structure.  You'll probably need to write your own XML parser if that's in fact what you want to do.</p>\n<hr />\n<p><sup>*</sup> Or at least, that's my best guess at what you mean.  CDATA sections do not nest, so if you literally wrapped the CDATA-including raw element text inside a CDATA section then the XML interpretation of the result would be different, and not likely what you're really after.</p>\n"}],"owner":{"account_id":4904476,"reputation":4812,"user_id":3951576,"accept_rate":50,"display_name":"eastwater"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76559434,"answer_count":1,"score":0,"last_activity_date":1687806337,"creation_date":1687799699,"question_id":76558893,"body_markdown":"XML parser: quick way to parse everything inside an element as text? e.g.,\r\n\r\n    &lt;foo&gt;\r\n        text\r\n        &lt;bar&gt;\r\n            &lt;![CDATA[ ... ]]&gt;\r\n            &lt;hello&gt;&lt;world&gt;&lt;/world&gt;\r\n            &lt;/hello&gt; \r\n        &lt;/bar\r\n        text\r\n    &lt;/foo&gt;\r\n\r\nHow to parse everything inside the `&lt;foo&gt;` as text as if it is wrapped with `&lt;![CDATA[  ]]&gt;.`\r\n\r\nThe reason for this is it has nested `&lt;![CDATA[  ]]&gt;.`. Nesting CDATA makes it harder to read/write by human.\r\n\r\nSAXParser/StreamParser use callbacks or events, and elements/attributes/texts need to be concatenated together. Is there a more efficient way?\r\n\r\nIs there a way to tell XML parser to treat everything inside an element as TEXT? can xml schema do it?\r\n\r\n","title":"XML parser: quick way to parse everything inside an element as text?","body":"<p>XML parser: quick way to parse everything inside an element as text? e.g.,</p>\n<pre><code>&lt;foo&gt;\n    text\n    &lt;bar&gt;\n        &lt;![CDATA[ ... ]]&gt;\n        &lt;hello&gt;&lt;world&gt;&lt;/world&gt;\n        &lt;/hello&gt; \n    &lt;/bar\n    text\n&lt;/foo&gt;\n</code></pre>\n<p>How to parse everything inside the <code>&lt;foo&gt;</code> as text as if it is wrapped with <code>&lt;![CDATA[  ]]&gt;.</code></p>\n<p>The reason for this is it has nested <code>&lt;![CDATA[  ]]&gt;.</code>. Nesting CDATA makes it harder to read/write by human.</p>\n<p>SAXParser/StreamParser use callbacks or events, and elements/attributes/texts need to be concatenated together. Is there a more efficient way?</p>\n<p>Is there a way to tell XML parser to treat everything inside an element as TEXT? can xml schema do it?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9647,"page":345,"page_size":100}
