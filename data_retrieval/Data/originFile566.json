{"items":[{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679067572,"post_id":75768586,"comment_id":133660010,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679063393,"creation_date":1679063393,"answer_id":75768819,"question_id":75768586,"body_markdown":"You can use the following condition, or just use the `trim` method to trim the leading and trailing whitespace:\r\n```java\r\n      yourString.startsWith(&quot; &quot;) || yourString.endsWith(&quot; &quot;)\r\n```","title":"Spring Boot No string type field can have spaces before or after the data","body":"<p>You can use the following condition, or just use the <code>trim</code> method to trim the leading and trailing whitespace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      yourString.startsWith(&quot; &quot;) || yourString.endsWith(&quot; &quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16084279,"reputation":21,"user_id":11609421,"display_name":"David Montero Crespo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679155014,"creation_date":1679155014,"answer_id":75776994,"question_id":75768586,"body_markdown":"I was able to solve it in the following way. \r\nCreate a validation:\r\n\r\n   \r\n\r\n     @Target({ ElementType.FIELD, ElementType.PARAMETER })\r\n        @Retention(RetentionPolicy.RUNTIME)\r\n        @Constraint(validatedBy = NoSpacesValidator.class)\r\n        public @interface NoSpaces {\r\n        \r\n            String message() default &quot;The value must not contain leading or trailing spaces&quot;;\r\n        \r\n            Class&lt;?&gt;[] groups() default {};\r\n        \r\n         Class&lt;? extends Payload&gt;[] payload() default {};\r\n        }\r\n    \r\n  \r\n\r\n      public class NoSpacesValidator implements ConstraintValidator&lt;NoSpaces, String&gt; {\r\n        \r\n            @Override\r\n            public boolean isValid(String value, ConstraintValidatorContext context) {\r\n                if (value == null) {\r\n                    return true;\r\n                }\r\n                return value.trim().equals(value);\r\n            }\r\n        }\r\n\r\nAnd in the entity use the annotation &quot;NoSpaces&quot;\r\n\r\n    @Column(nullable = false)\r\n    @NotBlank\r\n    @NoSpaces\r\n    private String name;","title":"Spring Boot No string type field can have spaces before or after the data","body":"<p>I was able to solve it in the following way.\nCreate a validation:</p>\n<pre><code> @Target({ ElementType.FIELD, ElementType.PARAMETER })\n    @Retention(RetentionPolicy.RUNTIME)\n    @Constraint(validatedBy = NoSpacesValidator.class)\n    public @interface NoSpaces {\n    \n        String message() default &quot;The value must not contain leading or trailing spaces&quot;;\n    \n        Class&lt;?&gt;[] groups() default {};\n    \n     Class&lt;? extends Payload&gt;[] payload() default {};\n    }\n\n\n\n  public class NoSpacesValidator implements ConstraintValidator&lt;NoSpaces, String&gt; {\n    \n        @Override\n        public boolean isValid(String value, ConstraintValidatorContext context) {\n            if (value == null) {\n                return true;\n            }\n            return value.trim().equals(value);\n        }\n    }\n</code></pre>\n<p>And in the entity use the annotation &quot;NoSpaces&quot;</p>\n<pre><code>@Column(nullable = false)\n@NotBlank\n@NoSpaces\nprivate String name;\n</code></pre>\n"}],"owner":{"account_id":16084279,"reputation":21,"user_id":11609421,"display_name":"David Montero Crespo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1679155014,"creation_date":1679062093,"question_id":75768586,"body_markdown":"Send an error message when some string type field can have spaces before or after the data when they are sent by POST\r\n\r\n\r\n\r\n\r\n\r\nI tried using the NotBlank annotation, but it does not validate that a string contains spaces at the end or beginning of the data","title":"Spring Boot No string type field can have spaces before or after the data","body":"<p>Send an error message when some string type field can have spaces before or after the data when they are sent by POST</p>\n<p>I tried using the NotBlank annotation, but it does not validate that a string contains spaces at the end or beginning of the data</p>\n"},{"tags":["java","multithreading","concurrency","java.util.concurrent","forkjoinpool"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1679152607,"post_id":75776698,"comment_id":133672040,"body_markdown":"There&#39;s some good info on the RecursiveAction doc page: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/RecursiveAction.html","body":"There&#39;s some good info on the RecursiveAction doc page: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/RecursiveAction.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1679154498,"post_id":75776698,"comment_id":133672402,"body_markdown":"I&#39;m still thinking about this, but the example doc I linked to uses `invokeAll` in its recursive example (a quicksort).  It&#39;s possible that your code just over-uses one thread because only one task is submitted via `fork`, the other is called recursively in the original thread.","body":"I&#39;m still thinking about this, but the example doc I linked to uses <code>invokeAll</code> in its recursive example (a quicksort).  It&#39;s possible that your code just over-uses one thread because only one task is submitted via <code>fork</code>, the other is called recursively in the original thread."}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679154844,"creation_date":1679154844,"answer_id":75776979,"question_id":75776698,"body_markdown":"I tried your example with `invokeAll` and the result seems more balanced (also about 50% faster).  I&#39;m going to guess that what is happening is the original thread that is called, races ahead and basically queues up all the `Task`s before any other thread in the pool gets a chance, so it ends up with all the `w` tasks on its call stack.  So it just ends up doing 50% of the work itself.\r\n\r\n```\r\nclass Sandbox {\r\n\r\n   public static void main( String[] args ) {\r\n      var pool = new ForkJoinPool( 5 );\r\n      var task = new Task( 20, 1 );\r\n      long start = System.nanoTime();\r\n      pool.invoke( task );\r\n      System.out.println( &quot;time: &quot; + (System.nanoTime() - start) * 1e-9 * 1e3 + &quot;ms&quot; );\r\n   }\r\n\r\n   static class Task extends RecursiveAction {\r\n\r\n      int work;\r\n      int taskNum;\r\n\r\n      public Task( int work, int taskNum ) {\r\n         this.work = work;\r\n         this.taskNum = taskNum;\r\n      }\r\n\r\n      protected void compute() {\r\n         System.out.println( Thread.currentThread().getName() + &quot; compute enter: &quot; + this );\r\n         if( work &gt; 1 ) {\r\n            // bite ONE from work counter\r\n            var w = new Task( 1, taskNum );\r\n            // split the remaining work and fork\r\n            var s = new Task( work - 1, taskNum + 1 );\r\n            invokeAll( w, s );\r\n//            s.fork();\r\n//            w.compute();\r\n//            s.join();\r\n         } else {\r\n            doWork();\r\n         }\r\n         System.out.println( Thread.currentThread().getName() + &quot; compute exit: &quot; + this );\r\n      }\r\n\r\n      void doWork() {\r\n         try {\r\n            System.out.println( Thread.currentThread().getName() + &quot; working: &quot; + this );\r\n            Thread.sleep( 1000 );\r\n         } catch( InterruptedException e ) {\r\n            Thread.currentThread().interrupt();\r\n         }\r\n      }\r\n\r\n      public String toString() {\r\n         return &quot;Task{&quot; + &quot;work=&quot; + work + &quot;, taskNum=&quot; + taskNum + &#39;}&#39;;\r\n      }\r\n   }\r\n}\r\n```","title":"Why ForkJoinTask.join() call rather block the thread instead of stealing the work as expected from work stealing mechanism","body":"<p>I tried your example with <code>invokeAll</code> and the result seems more balanced (also about 50% faster).  I'm going to guess that what is happening is the original thread that is called, races ahead and basically queues up all the <code>Task</code>s before any other thread in the pool gets a chance, so it ends up with all the <code>w</code> tasks on its call stack.  So it just ends up doing 50% of the work itself.</p>\n<pre><code>class Sandbox {\n\n   public static void main( String[] args ) {\n      var pool = new ForkJoinPool( 5 );\n      var task = new Task( 20, 1 );\n      long start = System.nanoTime();\n      pool.invoke( task );\n      System.out.println( &quot;time: &quot; + (System.nanoTime() - start) * 1e-9 * 1e3 + &quot;ms&quot; );\n   }\n\n   static class Task extends RecursiveAction {\n\n      int work;\n      int taskNum;\n\n      public Task( int work, int taskNum ) {\n         this.work = work;\n         this.taskNum = taskNum;\n      }\n\n      protected void compute() {\n         System.out.println( Thread.currentThread().getName() + &quot; compute enter: &quot; + this );\n         if( work &gt; 1 ) {\n            // bite ONE from work counter\n            var w = new Task( 1, taskNum );\n            // split the remaining work and fork\n            var s = new Task( work - 1, taskNum + 1 );\n            invokeAll( w, s );\n//            s.fork();\n//            w.compute();\n//            s.join();\n         } else {\n            doWork();\n         }\n         System.out.println( Thread.currentThread().getName() + &quot; compute exit: &quot; + this );\n      }\n\n      void doWork() {\n         try {\n            System.out.println( Thread.currentThread().getName() + &quot; working: &quot; + this );\n            Thread.sleep( 1000 );\n         } catch( InterruptedException e ) {\n            Thread.currentThread().interrupt();\n         }\n      }\n\n      public String toString() {\n         return &quot;Task{&quot; + &quot;work=&quot; + work + &quot;, taskNum=&quot; + taskNum + '}';\n      }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":7909119,"reputation":1,"user_id":5973684,"display_name":"Alex Gal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679154844,"creation_date":1679152004,"question_id":75776698,"body_markdown":"I have a recursive task which splits asymmetrically. Instead of splitting in halves it rather bites a pice of work it can execute and forks the rest of work. Such scenario does not get paralleled as expected.\r\n\r\n\r\nConsider the following code to understand what I mean:\r\n\r\n```java\r\npublic class Sandbox {\r\n\r\n    public static void main(String[] args) {\r\n        var pool = new ForkJoinPool(5);\r\n        var task = new Task(20, 1);\r\n        var start = Instant.now();\r\n        pool.invoke(task);\r\n        System.out.println(&quot;Elapsed Time: &quot; + Duration.between(start, Instant.now()).toSeconds());\r\n    }\r\n\r\n    static class Task extends RecursiveAction {\r\n\r\n        int work; \r\n        int taskNum;\r\n\r\n        public Task(int work, int taskNum) {\r\n            this.work = work;\r\n            this.taskNum = taskNum;\r\n        }\r\n\r\n        protected void compute() {\r\n            System.out.println(Thread.currentThread().getName() + &quot; compute enter: &quot; + this);\r\n            if (work &gt; 1) {\r\n                // bite ONE from work counter\r\n                var w = new Task(1, taskNum);\r\n                // split the remaining work and fork\r\n                var s = new Task(work - 1, taskNum + 1);\r\n                s.fork();\r\n                w.compute();\r\n                s.join();\r\n            } else {\r\n                doWork();\r\n            }\r\n            System.out.println(Thread.currentThread().getName() + &quot; compute exit: &quot; + this);\r\n        }\r\n\r\n        void doWork() {\r\n            try {\r\n                System.out.println(Thread.currentThread().getName() + &quot; working: &quot; + this);\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException e) {\r\n                Thread.currentThread().interrupt();\r\n            }\r\n        }\r\n\r\n        public String toString() {\r\n            return &quot;Task{&quot; + &quot;work=&quot; + work + &quot;, taskNum=&quot; + taskNum + &#39;}&#39;;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThere is a work counter which defines the amount of work to do. Each task literally bites ONE from that counter and forks the remaining work, then joins on remaining work until it is completed.\r\n\r\nI expect such task will be paralleled with parallelism defined in ForkJoinPool constructor (parallelism = 5). But it starts in parallel and then the only one thread seems to be working, the rest of the threads just waiting on join() call.\r\n\r\nPlease help me understand why the task do not get paralleled till the end. As I do call fork() before performing computation there is always one task in the working queue that other threads should steal and split further.\r\n","title":"Why ForkJoinTask.join() call rather block the thread instead of stealing the work as expected from work stealing mechanism","body":"<p>I have a recursive task which splits asymmetrically. Instead of splitting in halves it rather bites a pice of work it can execute and forks the rest of work. Such scenario does not get paralleled as expected.</p>\n<p>Consider the following code to understand what I mean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Sandbox {\n\n    public static void main(String[] args) {\n        var pool = new ForkJoinPool(5);\n        var task = new Task(20, 1);\n        var start = Instant.now();\n        pool.invoke(task);\n        System.out.println(&quot;Elapsed Time: &quot; + Duration.between(start, Instant.now()).toSeconds());\n    }\n\n    static class Task extends RecursiveAction {\n\n        int work; \n        int taskNum;\n\n        public Task(int work, int taskNum) {\n            this.work = work;\n            this.taskNum = taskNum;\n        }\n\n        protected void compute() {\n            System.out.println(Thread.currentThread().getName() + &quot; compute enter: &quot; + this);\n            if (work &gt; 1) {\n                // bite ONE from work counter\n                var w = new Task(1, taskNum);\n                // split the remaining work and fork\n                var s = new Task(work - 1, taskNum + 1);\n                s.fork();\n                w.compute();\n                s.join();\n            } else {\n                doWork();\n            }\n            System.out.println(Thread.currentThread().getName() + &quot; compute exit: &quot; + this);\n        }\n\n        void doWork() {\n            try {\n                System.out.println(Thread.currentThread().getName() + &quot; working: &quot; + this);\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            }\n        }\n\n        public String toString() {\n            return &quot;Task{&quot; + &quot;work=&quot; + work + &quot;, taskNum=&quot; + taskNum + '}';\n        }\n    }\n}\n</code></pre>\n<p>There is a work counter which defines the amount of work to do. Each task literally bites ONE from that counter and forks the remaining work, then joins on remaining work until it is completed.</p>\n<p>I expect such task will be paralleled with parallelism defined in ForkJoinPool constructor (parallelism = 5). But it starts in parallel and then the only one thread seems to be working, the rest of the threads just waiting on join() call.</p>\n<p>Please help me understand why the task do not get paralleled till the end. As I do call fork() before performing computation there is always one task in the working queue that other threads should steal and split further.</p>\n"},{"tags":["java","amazon-web-services","amazon-ecs","aws-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":4064266,"reputation":1553,"user_id":3339818,"display_name":"surajs1n"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679153211,"creation_date":1679153211,"answer_id":75776814,"question_id":75765309,"body_markdown":"I got in touch with the AWS support team. \r\n\r\nTeam said my domain is facing continuous HTTPS 460 errors which were the requests that failed due to client connection drop-off, and that was happening because of lower socket timeout which is set up at 3 sec.\r\n\r\nTherefore, the team suggested doing the following setups:\r\n1. Increase the socket timeout to 30sec. Connection Timeout can still stay at 3sec.\r\n2. Add `setSoKeepAlive(true)` that enables TCP keepalive connections.\r\n\r\nI deployed these changes, and since then I haven&#39;t encountered the error.","title":"SocketTimeoutException while searching documents on AWS ElaticSearch","body":"<p>I got in touch with the AWS support team.</p>\n<p>Team said my domain is facing continuous HTTPS 460 errors which were the requests that failed due to client connection drop-off, and that was happening because of lower socket timeout which is set up at 3 sec.</p>\n<p>Therefore, the team suggested doing the following setups:</p>\n<ol>\n<li>Increase the socket timeout to 30sec. Connection Timeout can still stay at 3sec.</li>\n<li>Add <code>setSoKeepAlive(true)</code> that enables TCP keepalive connections.</li>\n</ol>\n<p>I deployed these changes, and since then I haven't encountered the error.</p>\n"}],"owner":{"account_id":4064266,"reputation":1553,"user_id":3339818,"display_name":"surajs1n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75776814,"answer_count":1,"score":1,"last_activity_date":1679153211,"creation_date":1679042018,"question_id":75765309,"body_markdown":"### Context ### \r\nMy team has a REST service running on AWS Elastic Container Service. It is connected with AWS Elastic Search to save the data.\r\n\r\nThe following is the Elastic Search client setup:\r\n\r\n**YAML Config:**\r\n```yaml\r\nelasticConfiguration:\r\n  host: ${ELASTIC_SEARCH_HOST:-localhost}\r\n  port: ${ELASTIC_SEARCH_PORT:-9200}\r\n  scheme: ${ELASTIC_SEARCH_SCHEME:-http}\r\n  username: ${ELASTIC_SEARCH_USERNAME}\r\n  password: ${ELASTIC_SEARCH_PASSWORD}\r\n  connectionTimeout: 3000\r\n  socketTimeout: 3000\r\n  maxConnections: 50\r\n```\r\n\r\n**Bean Config:**\r\n```java\r\n    @Provides\r\n    @Singleton\r\n    public RestHighLevelClient elasticClient(final ElasticConfiguration elasticConfiguration) {\r\n        final CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n        if (Optional.ofNullable(elasticConfiguration.getPassword()).map(String::trim).filter(Predicate.not(StringUtils::isNullOrEmpty)).isPresent()) {\r\n            credentialsProvider.setCredentials(AuthScope.ANY,\r\n                    new UsernamePasswordCredentials(elasticConfiguration.getUsername(), elasticConfiguration.getPassword()));\r\n        }\r\n        return new RestHighLevelClient(\r\n                RestClient.builder(new HttpHost(elasticConfiguration.getHost(), elasticConfiguration.getPort(), elasticConfiguration.getScheme()))\r\n                        .setHttpClientConfigCallback(\r\n                                  httpClientBuilder -&gt; httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider)\r\n                                          .setMaxConnPerRoute(elasticConfiguration.getMaxConnections())\r\n                                          .setMaxConnTotal(elasticConfiguration.getMaxConnections()))\r\n                        .setRequestConfigCallback(\r\n                                  requestConfigBuilder -&gt; requestConfigBuilder.setConnectTimeout(elasticConfiguration.getConnectionTimeout())\r\n                                          .setSocketTimeout(elasticConfiguration.getSocketTimeout()))\r\n                        .setNodeSelector(NodeSelector.SKIP_DEDICATED_MASTERS));\r\n    }\r\n```\r\n\r\n\r\n### Problem: ###     \r\nSometimes our team observes the following error in our log:\r\n\r\n```java\r\n exception:SocketTimeoutExceptionseverity:ERRORidentifier:Txn-4913e369-b046-4a72-bc8a-b25a722d62a7 - Req-a0797e45-d0d0-4a8d-a4b3-ace61b03010asource:stdoutthread:dw-469 - POST /cerebro/v1/index/store_products/documents/search?per_page=1message:Error in searching documents with message 3,000 milliseconds timeout on connection http-outgoing-834 [ACTIVE] and error\r\n! java.net.SocketTimeoutException: 3,000 milliseconds timeout on connection http-outgoing-834 [ACTIVE]\r\n! at org.apache.http.nio.protocol.HttpAsyncRequestExecutor.timeout(HttpAsyncRequestExecutor.java:387)\r\n! at org.apache.http.impl.nio.client.InternalIODispatch.onTimeout(InternalIODispatch.java:92)\r\n! at org.apache.http.impl.nio.client.InternalIODispatch.onTimeout(InternalIODispatch.java:39)\r\n! at org.apache.http.impl.nio.reactor.AbstractIODispatch.timeout(AbstractIODispatch.java:175)\r\n! at org.apache.http.impl.nio.reactor.BaseIOReactor.sessionTimedOut(BaseIOReactor.java:261)\r\n! at org.apache.http.impl.nio.reactor.AbstractIOReactor.timeoutCheck(AbstractIOReactor.java:502)\r\n! at org.apache.http.impl.nio.reactor.BaseIOReactor.validate(BaseIOReactor.java:211)\r\n! at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:280)\r\n! at org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104)\r\n! at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591)\r\n! ... 1 common frames omitted\r\n! Causing: java.net.SocketTimeoutException: 3,000 milliseconds timeout on connection http-outgoing-834 [ACTIVE]\r\n! at org.elasticsearch.client.RestClient.extractAndWrapCause(RestClient.java:850)\r\n! at org.elasticsearch.client.RestClient.performRequest(RestClient.java:275)\r\n! at org.elasticsearch.client.RestClient.performRequest(RestClient.java:262)\r\n! at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1628)\r\n! at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1598)\r\n! at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1568)\r\n! at org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:1084)\r\n! at in.dreamplug.store.service.search.elastic.ElasticSearchService.searchDocuments(ElasticSearchService.java:116)\r\n! at in.dreamplug.store.service.search.DocumentSearchService.searchDocuments(DocumentSearchService.java:78)\r\n! at in.dreamplug.store.resource.DocumentSearchResource.searchDocuments(DocumentSearchResource.java:61)\r\n! at jdk.internal.reflect.GeneratedMethodAccessor69.invoke(Unknown Source)\r\n! at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n! at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n```\r\n\r\n### Potential Solutions Tried: ###         \r\nI tried two potential solutions:   \r\n1. [Connection Evictor Thread](https://github.com/elastic/elasticsearch/issues/59261#issuecomment-664725217) - It suggested periodically checking and closing the idle connections using a separate thread. \r\n2. [Enable TCP keepalives](https://github.com/elastic/elasticsearch/issues/65213) - It suggested enabling the keep-alive flag and also reducing the values of `net.ipv4.tcp_keepalive_time`. \r\n\r\nUnfortunately, I didn&#39;t see any major improvement. Could you please help me what else can be done?","title":"SocketTimeoutException while searching documents on AWS ElaticSearch","body":"<h3>Context</h3>\n<p>My team has a REST service running on AWS Elastic Container Service. It is connected with AWS Elastic Search to save the data.</p>\n<p>The following is the Elastic Search client setup:</p>\n<p><strong>YAML Config:</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>elasticConfiguration:\n  host: ${ELASTIC_SEARCH_HOST:-localhost}\n  port: ${ELASTIC_SEARCH_PORT:-9200}\n  scheme: ${ELASTIC_SEARCH_SCHEME:-http}\n  username: ${ELASTIC_SEARCH_USERNAME}\n  password: ${ELASTIC_SEARCH_PASSWORD}\n  connectionTimeout: 3000\n  socketTimeout: 3000\n  maxConnections: 50\n</code></pre>\n<p><strong>Bean Config:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Provides\n    @Singleton\n    public RestHighLevelClient elasticClient(final ElasticConfiguration elasticConfiguration) {\n        final CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n        if (Optional.ofNullable(elasticConfiguration.getPassword()).map(String::trim).filter(Predicate.not(StringUtils::isNullOrEmpty)).isPresent()) {\n            credentialsProvider.setCredentials(AuthScope.ANY,\n                    new UsernamePasswordCredentials(elasticConfiguration.getUsername(), elasticConfiguration.getPassword()));\n        }\n        return new RestHighLevelClient(\n                RestClient.builder(new HttpHost(elasticConfiguration.getHost(), elasticConfiguration.getPort(), elasticConfiguration.getScheme()))\n                        .setHttpClientConfigCallback(\n                                  httpClientBuilder -&gt; httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider)\n                                          .setMaxConnPerRoute(elasticConfiguration.getMaxConnections())\n                                          .setMaxConnTotal(elasticConfiguration.getMaxConnections()))\n                        .setRequestConfigCallback(\n                                  requestConfigBuilder -&gt; requestConfigBuilder.setConnectTimeout(elasticConfiguration.getConnectionTimeout())\n                                          .setSocketTimeout(elasticConfiguration.getSocketTimeout()))\n                        .setNodeSelector(NodeSelector.SKIP_DEDICATED_MASTERS));\n    }\n</code></pre>\n<h3>Problem:</h3>\n<p>Sometimes our team observes the following error in our log:</p>\n<pre class=\"lang-java prettyprint-override\"><code> exception:SocketTimeoutExceptionseverity:ERRORidentifier:Txn-4913e369-b046-4a72-bc8a-b25a722d62a7 - Req-a0797e45-d0d0-4a8d-a4b3-ace61b03010asource:stdoutthread:dw-469 - POST /cerebro/v1/index/store_products/documents/search?per_page=1message:Error in searching documents with message 3,000 milliseconds timeout on connection http-outgoing-834 [ACTIVE] and error\n! java.net.SocketTimeoutException: 3,000 milliseconds timeout on connection http-outgoing-834 [ACTIVE]\n! at org.apache.http.nio.protocol.HttpAsyncRequestExecutor.timeout(HttpAsyncRequestExecutor.java:387)\n! at org.apache.http.impl.nio.client.InternalIODispatch.onTimeout(InternalIODispatch.java:92)\n! at org.apache.http.impl.nio.client.InternalIODispatch.onTimeout(InternalIODispatch.java:39)\n! at org.apache.http.impl.nio.reactor.AbstractIODispatch.timeout(AbstractIODispatch.java:175)\n! at org.apache.http.impl.nio.reactor.BaseIOReactor.sessionTimedOut(BaseIOReactor.java:261)\n! at org.apache.http.impl.nio.reactor.AbstractIOReactor.timeoutCheck(AbstractIOReactor.java:502)\n! at org.apache.http.impl.nio.reactor.BaseIOReactor.validate(BaseIOReactor.java:211)\n! at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:280)\n! at org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104)\n! at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591)\n! ... 1 common frames omitted\n! Causing: java.net.SocketTimeoutException: 3,000 milliseconds timeout on connection http-outgoing-834 [ACTIVE]\n! at org.elasticsearch.client.RestClient.extractAndWrapCause(RestClient.java:850)\n! at org.elasticsearch.client.RestClient.performRequest(RestClient.java:275)\n! at org.elasticsearch.client.RestClient.performRequest(RestClient.java:262)\n! at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1628)\n! at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1598)\n! at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1568)\n! at org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:1084)\n! at in.dreamplug.store.service.search.elastic.ElasticSearchService.searchDocuments(ElasticSearchService.java:116)\n! at in.dreamplug.store.service.search.DocumentSearchService.searchDocuments(DocumentSearchService.java:78)\n! at in.dreamplug.store.resource.DocumentSearchResource.searchDocuments(DocumentSearchResource.java:61)\n! at jdk.internal.reflect.GeneratedMethodAccessor69.invoke(Unknown Source)\n! at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n! at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n</code></pre>\n<h3>Potential Solutions Tried:</h3>\n<p>I tried two potential solutions:</p>\n<ol>\n<li><a href=\"https://github.com/elastic/elasticsearch/issues/59261#issuecomment-664725217\" rel=\"nofollow noreferrer\">Connection Evictor Thread</a> - It suggested periodically checking and closing the idle connections using a separate thread.</li>\n<li><a href=\"https://github.com/elastic/elasticsearch/issues/65213\" rel=\"nofollow noreferrer\">Enable TCP keepalives</a> - It suggested enabling the keep-alive flag and also reducing the values of <code>net.ipv4.tcp_keepalive_time</code>.</li>\n</ol>\n<p>Unfortunately, I didn't see any major improvement. Could you please help me what else can be done?</p>\n"},{"tags":["java","spring","spring-integration","mqtt","paho"],"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1499092117,"post_id":44885702,"comment_id":76754299,"body_markdown":"Your question is not clear. If the connection was lost, it means there was, er, a problem with the connection, perhaps due to a network error. The adapter will attempt to reconnect.","body":"Your question is not clear. If the connection was lost, it means there was, er, a problem with the connection, perhaps due to a network error. The adapter will attempt to reconnect."},{"owner":{"account_id":2888898,"reputation":5558,"user_id":2478134,"accept_rate":42,"display_name":"HybrisHelp"},"score":0,"creation_date":1499146406,"post_id":44885702,"comment_id":76772784,"body_markdown":"Please find updated question. I have tested connection with JavaScript client, which is working fine.","body":"Please find updated question. I have tested connection with JavaScript client, which is working fine."}],"answers":[{"comments":[{"owner":{"account_id":2888898,"reputation":5558,"user_id":2478134,"accept_rate":42,"display_name":"HybrisHelp"},"score":0,"creation_date":1499242374,"post_id":44909306,"comment_id":76816803,"body_markdown":"`But you are still not really describing a problem` -  Problem was frequently &quot;Connection lost; retrying...&quot;, which I was not expecting. But now its working fine. I have used latest mqtt(4.3.10.RELEASE) and did maven clean/install. Now it is working as expected. There is no connection lost error. Thanks for you time.","body":"<code>But you are still not really describing a problem</code> -  Problem was frequently &quot;Connection lost; retrying...&quot;, which I was not expecting. But now its working fine. I have used latest mqtt(4.3.10.RELEASE) and did maven clean/install. Now it is working as expected. There is no connection lost error. Thanks for you time."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1499180710,"creation_date":1499180710,"answer_id":44909306,"question_id":44885702,"body_markdown":"But you are still not really describing a problem. You show a message above so it must be working for you. Paho is detecting a connection problem; it informs Spring Integration which will reconnect. \r\n\r\nYou can get complete information about the exception by adding an `ApplicationListener` to your application.\r\n\r\n\t@Bean\r\n\tpublic ApplicationListener&lt;?&gt; eventListener() {\r\n\t\treturn new ApplicationListener&lt;MqttConnectionFailedEvent&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onApplicationEvent(MqttConnectionFailedEvent event) {\r\n\t\t\t\tevent.getCause().printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t};\r\n\t}\r\n\r\nResult:\r\n\r\n    Connection lost (32109) - java.io.EOFException\r\n    \tat org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:164)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.io.EOFException\r\n    \tat java.io.DataInputStream.readByte(DataInputStream.java:267)\r\n    \tat org.eclipse.paho.client.mqttv3.internal.wire.MqttInputStream.readMqttWireMessage(MqttInputStream.java:92)\r\n    \tat org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:116)\r\n    \t... 1 more\r\n\r\n(when I shut down the broker).\r\n\t\r\nIf you think there&#39;s a problem with the paho client, you should raise an issue for that project.\r\n","title":"Spring MqttPahoMessageDrivenChannelAdapter Lost connection:Connection lost; retrying","body":"<p>But you are still not really describing a problem. You show a message above so it must be working for you. Paho is detecting a connection problem; it informs Spring Integration which will reconnect. </p>\n\n<p>You can get complete information about the exception by adding an <code>ApplicationListener</code> to your application.</p>\n\n<pre><code>@Bean\npublic ApplicationListener&lt;?&gt; eventListener() {\n    return new ApplicationListener&lt;MqttConnectionFailedEvent&gt;() {\n\n        @Override\n        public void onApplicationEvent(MqttConnectionFailedEvent event) {\n            event.getCause().printStackTrace();\n        }\n\n    };\n}\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>Connection lost (32109) - java.io.EOFException\n    at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:164)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.io.EOFException\n    at java.io.DataInputStream.readByte(DataInputStream.java:267)\n    at org.eclipse.paho.client.mqttv3.internal.wire.MqttInputStream.readMqttWireMessage(MqttInputStream.java:92)\n    at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:116)\n    ... 1 more\n</code></pre>\n\n<p>(when I shut down the broker).</p>\n\n<p>If you think there's a problem with the paho client, you should raise an issue for that project.</p>\n"},{"tags":[],"owner":{"account_id":340420,"reputation":956,"user_id":1898523,"accept_rate":75,"display_name":"wrapperapps"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1515784998,"creation_date":1515784998,"answer_id":48232793,"question_id":44885702,"body_markdown":"Just wanted to share in case it helps...\r\nI had the same exception and fixed it by ensuring a unique client ID was generated (with `MqttAsyncClient.generateClientId()`), as mentioned here:\r\nhttps://github.com/eclipse/paho.mqtt.java/issues/207#issuecomment-338246879","title":"Spring MqttPahoMessageDrivenChannelAdapter Lost connection:Connection lost; retrying","body":"<p>Just wanted to share in case it helps...\nI had the same exception and fixed it by ensuring a unique client ID was generated (with <code>MqttAsyncClient.generateClientId()</code>), as mentioned here:\n<a href=\"https://github.com/eclipse/paho.mqtt.java/issues/207#issuecomment-338246879\" rel=\"noreferrer\">https://github.com/eclipse/paho.mqtt.java/issues/207#issuecomment-338246879</a></p>\n"},{"tags":[],"owner":{"account_id":19715317,"reputation":189,"user_id":14434888,"display_name":"Naveen Gopalakrishna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679153044,"creation_date":1679153044,"answer_id":75776795,"question_id":44885702,"body_markdown":"``MqttAsyncClient.generateClientId()``\r\nShould be added in the Message Producer and MessageHandler method\r\n\r\n```@Bean\r\npublic MessageProducer inbound() {\r\n    MqttPahoMessageDrivenChannelAdapter adapter = new MqttPahoMessageDrivenChannelAdapter(MqttAsyncClient.generateClientId(),\r\n            mqttClientFactory(), &quot;#&quot;);\r\n\r\n    adapter.setCompletionTimeout(5000);\r\n    adapter.setConverter(new DefaultPahoMessageConverter());\r\n    adapter.setQos(2);\r\n    adapter.setOutputChannel(mqttInputChannel());\r\n    return adapter;\r\n}\r\n\r\n\r\n@Bean\r\n@ServiceActivator(inputChannel = &quot;mqttOutboundChannel&quot;)\r\npublic MessageHandler mqttOutbound() {\r\n    MqttPahoMessageHandler messageHandler = new MqttPahoMessageHandler(MqttAsyncClient.generateClientId(), mqttClientFactory());\r\n    messageHandler.setAsync(true);\r\n    messageHandler.setDefaultTopic(&quot;#&quot;);\r\n    messageHandler.setDefaultRetained(false);\r\n    return messageHandler;\r\n}\r\n\r\n```","title":"Spring MqttPahoMessageDrivenChannelAdapter Lost connection:Connection lost; retrying","body":"<p><code>MqttAsyncClient.generateClientId()</code>\nShould be added in the Message Producer and MessageHandler method</p>\n<pre><code>public MessageProducer inbound() {\n    MqttPahoMessageDrivenChannelAdapter adapter = new MqttPahoMessageDrivenChannelAdapter(MqttAsyncClient.generateClientId(),\n            mqttClientFactory(), &quot;#&quot;);\n\n    adapter.setCompletionTimeout(5000);\n    adapter.setConverter(new DefaultPahoMessageConverter());\n    adapter.setQos(2);\n    adapter.setOutputChannel(mqttInputChannel());\n    return adapter;\n}\n\n\n@Bean\n@ServiceActivator(inputChannel = &quot;mqttOutboundChannel&quot;)\npublic MessageHandler mqttOutbound() {\n    MqttPahoMessageHandler messageHandler = new MqttPahoMessageHandler(MqttAsyncClient.generateClientId(), mqttClientFactory());\n    messageHandler.setAsync(true);\n    messageHandler.setDefaultTopic(&quot;#&quot;);\n    messageHandler.setDefaultRetained(false);\n    return messageHandler;\n}\n\n</code></pre>\n"}],"owner":{"account_id":2888898,"reputation":5558,"user_id":2478134,"accept_rate":42,"display_name":"HybrisHelp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6222,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":48232793,"answer_count":3,"score":3,"last_activity_date":1679153044,"creation_date":1499085139,"question_id":44885702,"body_markdown":"We are using `Spring` `message-driven-channel-adapter` to subscribe `MQTT` topic. But we are getting below error very frequently. I have tested connection using JavaScript client([mqttws31.js][1]), which is working fine. Means there is no issue with connection.\r\n\r\n**Error :-**\r\n\r\n    org.springframework.integration.mqtt.inbound.MqttPahoMessageDrivenChannelAdapter connectionLost\r\n    SEVERE: Lost connection:Connection lost; retrying...\r\n\r\n\r\n**MQTT message :-**\r\n\r\n    [payload=6483D03E4C75BA943148F18D73,1.00,1E, headers={mqtt_retained=false, mqtt_qos=0, \r\n    id=5fa41168-34c6-1e3d-a775-e3146842990a, mqtt_topic=TEST/GATEWAY2, mqtt_duplicate=false, timestamp=1499067757559}]\r\n\r\n**Configuration** :-\r\n\r\n\t&lt;bean id=&quot;clientFactory&quot;\r\n\t\tclass=&quot;org.springframework.integration.mqtt.core.DefaultMqttPahoClientFactory&quot;&gt;\r\n\t\t&lt;property name=&quot;userName&quot; value=&quot;${mqtt.username}&quot; /&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;${mqtt.password}&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;int-mqtt:message-driven-channel-adapter\r\n\t\tid=&quot;mqttInbound&quot; client-id=&quot;${mqtt.default.client.id}&quot; url=&quot;${mqtt.url}&quot;\r\n\t\ttopics=&quot;${topics}&quot; client-factory=&quot;clientFactory&quot; auto-startup=&quot;true&quot;\r\n\t\tchannel=&quot;output&quot; error-channel=&quot;errorChannel&quot; /&gt;\r\n\r\n\t\r\n\t&lt;int:channel id=&quot;output&quot; /&gt;\r\n\t&lt;int:channel id=&quot;errorChannel&quot; /&gt;\r\n\r\n\t&lt;int:service-activator input-channel=&quot;errorChannel&quot;\r\n\t\tref=&quot;errorMessageLogger&quot; method=&quot;logError&quot; /&gt;\r\n\t&lt;bean id=&quot;errorMessageLogger&quot; class=&quot;com.mqtt.ErrorMessageLogger&quot; /&gt;\r\n\r\n\t&lt;int:service-activator input-channel=&quot;output&quot;\r\n\t\tmethod=&quot;handleMessage&quot; ref=&quot;mqttLogger&quot; /&gt;\r\n\t&lt;bean id=&quot;mqttLogger&quot; class=&quot;com.mqtt.MqttReciever&quot; /&gt;\r\n\r\n**pom.xml :**\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.eclipse.paho&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;org.eclipse.paho.client.mqttv3&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-integration-mqtt&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.2.2.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\nWhile debugging `org.eclipse.paho.client.mqttv3-1.1.1-sources.jar`:-\r\n\r\n`CommsReceiver.Java`\r\n\r\n\r\n    public void run() {\r\n    \t\tfinal String methodName = &quot;run&quot;;\r\n    \t\tMqttToken token = null;\r\n    \r\n    \t\twhile (running &amp;&amp; (in != null)) {\r\n    \t\t\ttry {\r\n    \t\t\t\t//@TRACE 852=network read message\r\n    \t\t\t\tlog.fine(CLASS_NAME,methodName,&quot;852&quot;);\r\n    \t\t\t\treceiving = in.available() &gt; 0;\r\n    \t\t\t\tMqttWireMessage message = in.readMqttWireMessage();\r\n    \t\t\t\treceiving = false;\r\n    \r\n    \t\t\t\t// instanceof checks if message is null\r\n    \t\t\t\tif (message instanceof MqttAck) {\r\n    \t\t\t\t\ttoken = tokenStore.getToken(message);\r\n    \t\t\t\t\tif (token!=null) {\r\n    \t\t\t\t\t\tsynchronized (token) {\r\n    \t\t\t\t\t\t\t// Ensure the notify processing is done under a lock on the token\r\n    \t\t\t\t\t\t\t// This ensures that the send processing can complete  before the\r\n    \t\t\t\t\t\t\t// receive processing starts! ( request and ack and ack processing\r\n    \t\t\t\t\t\t\t// can occur before request processing is complete if not!\r\n    \t\t\t\t\t\t\tclientState.notifyReceivedAck((MqttAck)message);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t} else if(message instanceof MqttPubRec || message instanceof MqttPubComp || message instanceof MqttPubAck) {\r\n    \t\t\t\t\t\t//This is an ack for a message we no longer have a ticket for.\r\n    \t\t\t\t\t\t//This probably means we already received this message and it&#39;s being send again\r\n    \t\t\t\t\t\t//because of timeouts, crashes, disconnects, restarts etc.\r\n    \t\t\t\t\t\t//It should be safe to ignore these unexpected messages.\r\n    \t\t\t\t\t\tlog.fine(CLASS_NAME, methodName, &quot;857&quot;);\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\t// It its an ack and there is no token then something is not right.\r\n    \t\t\t\t\t\t// An ack should always have a token assoicated with it.\r\n    \t\t\t\t\t\tthrow new MqttException(MqttException.REASON_CODE_UNEXPECTED_ERROR);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tif (message != null) {\r\n    \t\t\t\t\t\t// A new message has arrived\r\n    \t\t\t\t\t\tclientState.notifyReceivedMsg(message);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tcatch (MqttException ex) {\r\n    \t\t\t\t//@TRACE 856=Stopping, MQttException\r\n    \t\t\t\tlog.fine(CLASS_NAME,methodName,&quot;856&quot;,null,ex);\r\n    \t\t\t\trunning = false;\r\n    \t\t\t\t// Token maybe null but that is handled in shutdown\r\n    \t\t\t\tclientComms.shutdownConnection(token, ex);\r\n    \t\t\t}\r\n    \t\t\tcatch (IOException ioe) {\r\n    \t\t\t\t//@TRACE 853=Stopping due to IOException\r\n    \t\t\t\tlog.fine(CLASS_NAME,methodName,&quot;853&quot;);\r\n    \r\n    \t\t\t\trunning = false;\r\n    \t\t\t\t// An EOFException could be raised if the broker processes the\r\n    \t\t\t\t// DISCONNECT and ends the socket before we complete. As such,\r\n    \t\t\t\t// only shutdown the connection if we&#39;re not already shutting down.\r\n    \t\t\t\tif (!clientComms.isDisconnecting()) {\r\n    \t\t\t\t\tclientComms.shutdownConnection(token, new MqttException(MqttException.REASON_CODE_CONNECTION_LOST, ioe));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tfinally {\r\n    \t\t\t\treceiving = false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\t//@TRACE 854=&lt;\r\n    \t\tlog.fine(CLASS_NAME,methodName,&quot;854&quot;);\r\n    \t}\r\n\r\n    \r\n\r\nIn above method, sometime `in.readMqttWireMessage()` throw `IOException`. So based on catch block it reconnect using `clientComms.shutdownConnection(token, ...`\r\n\r\n  [1]: https://eclipse.org/paho/clients/js/","title":"Spring MqttPahoMessageDrivenChannelAdapter Lost connection:Connection lost; retrying","body":"<p>We are using <code>Spring</code> <code>message-driven-channel-adapter</code> to subscribe <code>MQTT</code> topic. But we are getting below error very frequently. I have tested connection using JavaScript client(<a href=\"https://eclipse.org/paho/clients/js/\" rel=\"nofollow noreferrer\">mqttws31.js</a>), which is working fine. Means there is no issue with connection.</p>\n\n<p><strong>Error :-</strong></p>\n\n<pre><code>org.springframework.integration.mqtt.inbound.MqttPahoMessageDrivenChannelAdapter connectionLost\nSEVERE: Lost connection:Connection lost; retrying...\n</code></pre>\n\n<p><strong>MQTT message :-</strong></p>\n\n<pre><code>[payload=6483D03E4C75BA943148F18D73,1.00,1E, headers={mqtt_retained=false, mqtt_qos=0, \nid=5fa41168-34c6-1e3d-a775-e3146842990a, mqtt_topic=TEST/GATEWAY2, mqtt_duplicate=false, timestamp=1499067757559}]\n</code></pre>\n\n<p><strong>Configuration</strong> :-</p>\n\n<pre><code>&lt;bean id=\"clientFactory\"\n    class=\"org.springframework.integration.mqtt.core.DefaultMqttPahoClientFactory\"&gt;\n    &lt;property name=\"userName\" value=\"${mqtt.username}\" /&gt;\n    &lt;property name=\"password\" value=\"${mqtt.password}\" /&gt;\n&lt;/bean&gt;\n\n&lt;int-mqtt:message-driven-channel-adapter\n    id=\"mqttInbound\" client-id=\"${mqtt.default.client.id}\" url=\"${mqtt.url}\"\n    topics=\"${topics}\" client-factory=\"clientFactory\" auto-startup=\"true\"\n    channel=\"output\" error-channel=\"errorChannel\" /&gt;\n\n\n&lt;int:channel id=\"output\" /&gt;\n&lt;int:channel id=\"errorChannel\" /&gt;\n\n&lt;int:service-activator input-channel=\"errorChannel\"\n    ref=\"errorMessageLogger\" method=\"logError\" /&gt;\n&lt;bean id=\"errorMessageLogger\" class=\"com.mqtt.ErrorMessageLogger\" /&gt;\n\n&lt;int:service-activator input-channel=\"output\"\n    method=\"handleMessage\" ref=\"mqttLogger\" /&gt;\n&lt;bean id=\"mqttLogger\" class=\"com.mqtt.MqttReciever\" /&gt;\n</code></pre>\n\n<p><strong>pom.xml :</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.eclipse.paho&lt;/groupId&gt;\n    &lt;artifactId&gt;org.eclipse.paho.client.mqttv3&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-integration-mqtt&lt;/artifactId&gt;\n    &lt;version&gt;4.2.2.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>While debugging <code>org.eclipse.paho.client.mqttv3-1.1.1-sources.jar</code>:-</p>\n\n<p><code>CommsReceiver.Java</code></p>\n\n<pre><code>public void run() {\n        final String methodName = \"run\";\n        MqttToken token = null;\n\n        while (running &amp;&amp; (in != null)) {\n            try {\n                //@TRACE 852=network read message\n                log.fine(CLASS_NAME,methodName,\"852\");\n                receiving = in.available() &gt; 0;\n                MqttWireMessage message = in.readMqttWireMessage();\n                receiving = false;\n\n                // instanceof checks if message is null\n                if (message instanceof MqttAck) {\n                    token = tokenStore.getToken(message);\n                    if (token!=null) {\n                        synchronized (token) {\n                            // Ensure the notify processing is done under a lock on the token\n                            // This ensures that the send processing can complete  before the\n                            // receive processing starts! ( request and ack and ack processing\n                            // can occur before request processing is complete if not!\n                            clientState.notifyReceivedAck((MqttAck)message);\n                        }\n                    } else if(message instanceof MqttPubRec || message instanceof MqttPubComp || message instanceof MqttPubAck) {\n                        //This is an ack for a message we no longer have a ticket for.\n                        //This probably means we already received this message and it's being send again\n                        //because of timeouts, crashes, disconnects, restarts etc.\n                        //It should be safe to ignore these unexpected messages.\n                        log.fine(CLASS_NAME, methodName, \"857\");\n                    } else {\n                        // It its an ack and there is no token then something is not right.\n                        // An ack should always have a token assoicated with it.\n                        throw new MqttException(MqttException.REASON_CODE_UNEXPECTED_ERROR);\n                    }\n                } else {\n                    if (message != null) {\n                        // A new message has arrived\n                        clientState.notifyReceivedMsg(message);\n                    }\n                }\n            }\n            catch (MqttException ex) {\n                //@TRACE 856=Stopping, MQttException\n                log.fine(CLASS_NAME,methodName,\"856\",null,ex);\n                running = false;\n                // Token maybe null but that is handled in shutdown\n                clientComms.shutdownConnection(token, ex);\n            }\n            catch (IOException ioe) {\n                //@TRACE 853=Stopping due to IOException\n                log.fine(CLASS_NAME,methodName,\"853\");\n\n                running = false;\n                // An EOFException could be raised if the broker processes the\n                // DISCONNECT and ends the socket before we complete. As such,\n                // only shutdown the connection if we're not already shutting down.\n                if (!clientComms.isDisconnecting()) {\n                    clientComms.shutdownConnection(token, new MqttException(MqttException.REASON_CODE_CONNECTION_LOST, ioe));\n                }\n            }\n            finally {\n                receiving = false;\n            }\n        }\n\n        //@TRACE 854=&lt;\n        log.fine(CLASS_NAME,methodName,\"854\");\n    }\n</code></pre>\n\n<p>In above method, sometime <code>in.readMqttWireMessage()</code> throw <code>IOException</code>. So based on catch block it reconnect using <code>clientComms.shutdownConnection(token, ...</code></p>\n"},{"tags":["java","arrays","image","byte"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1679148372,"post_id":75776338,"comment_id":133671357,"body_markdown":"This is the sort of question I associate with LWJGL and assimp.  See if this solves the problem: https://stackoverflow.com/questions/43690732/lwjgl-assimp-loading-textures","body":"This is the sort of question I associate with LWJGL and assimp.  See if this solves the problem: <a href=\"https://stackoverflow.com/questions/43690732/lwjgl-assimp-loading-textures\" title=\"lwjgl assimp loading textures\">stackoverflow.com/questions/43690732/&hellip;</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679148640,"post_id":75776338,"comment_id":133671388,"body_markdown":"How would you derive the image dimensions from that array?","body":"How would you derive the image dimensions from that array?"},{"owner":{"account_id":23720399,"reputation":15,"user_id":17741027,"display_name":"v22"},"score":0,"creation_date":1679157459,"post_id":75776338,"comment_id":133672926,"body_markdown":"The dimensions are already there, I dont have to worry about them","body":"The dimensions are already there, I dont have to worry about them"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1679298248,"post_id":75776338,"comment_id":133689561,"body_markdown":"In what kind of environment or context is *&quot;around 4 Kb&quot;* a *big* array?","body":"In what kind of environment or context is <i>&quot;around 4 Kb&quot;</i> a <i>big</i> array?"}],"answers":[{"comments":[{"owner":{"account_id":23720399,"reputation":15,"user_id":17741027,"display_name":"v22"},"score":0,"creation_date":1679158738,"post_id":75776744,"comment_id":133673134,"body_markdown":"Thnak you! That works perfectly fine","body":"Thnak you! That works perfectly fine"}],"tags":[],"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679152520,"creation_date":1679152520,"answer_id":75776744,"question_id":75776338,"body_markdown":"I see 2 possible solutions for this: \r\n\r\n 1. Manually build image file based on it&#39;s specification\r\n 2. Use some library for image file processing and setup image pixel by pixel.\r\n\r\nFirst way is very fast and efficient by performance, but seems too hard for implementation. Second way is slower, but easier.\r\n\r\nThere is a class *java.awt.image.BufferedImage* that allows us to work with images. With it&#39;s help we can easily build image if we know pixels, width and height of an image. Here is sample code for you:\r\n```java\r\npublic static void createImage(int[] colors, int width, int height) throws IOException {\r\n    BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n\r\n    // Iterate over array and set image pixel-by-pixel\r\n    for (int i = 0; i &lt; colors.length; i += 4) {\r\n        int row = (i / 4) / width;\r\n        int column = (i / 4) % width;\r\n\r\n        int red = colors[i];\r\n        int green = colors[i + 1];\r\n        int blue = colors[i + 2];\r\n        int alpha = colors[i + 3];\r\n\r\n        // rgb value is 8 + 8 + 8 + 8 bits, each for r/g/b/a number\r\n        int rgb = (alpha &lt;&lt; 24) | (red &lt;&lt; 16) | (green &lt;&lt; 8) | blue;\r\n\r\n        image.setRGB(column, row, rgb);\r\n    }\r\n\r\n    ImageIO.write(image, &quot;png&quot;, new File(&quot;result.png&quot;));\r\n}\r\n```\r\n\r\nI&#39;ve tested this method with 2.4mb png image, image creation took 600ms. Not very fastest way to do it, but definitel easy\r\n```java\r\npublic static void main(String[] args) throws IOException {\r\n    BufferedImage inputImage = ImageIO.read(new File(&quot;/Users/user/Images/apple.png&quot;));\r\n\r\n    ArrayList&lt;Integer&gt; colors = new ArrayList&lt;&gt;(); //Initial storage for r g b a\r\n\r\n    for (int h = 0; h &lt; inputImage.getHeight(); h++) {\r\n        for (int w = 0; w &lt; inputImage.getWidth(); w++) {\r\n            int pixel = inputImage.getRGB(w, h);\r\n\r\n            int alpha = (pixel &gt;&gt; 24) &amp; 0xff;\r\n            int red = (pixel &gt;&gt; 16) &amp; 0xff;\r\n            int green = (pixel &gt;&gt; 8) &amp; 0xff;\r\n            int blue = pixel &amp; 0xff;\r\n\r\n            colors.add(red);\r\n            colors.add(green);\r\n            colors.add(blue);\r\n            colors.add(alpha);\r\n        }\r\n    }\r\n\r\n    int[] colorsArray = new int[colors.size()]; // Transforming ArrayList to int&#39;s array\r\n    for (int i = 0; i &lt; colors.size(); i++) {\r\n        colorsArray[i] = colors.get(i);\r\n    }\r\n\r\n    createImage(colorsArray, inputImage.getWidth(), inputImage.getHeight());\r\n}\r\n```","title":"Java create image from RGBA byte array","body":"<p>I see 2 possible solutions for this:</p>\n<ol>\n<li>Manually build image file based on it's specification</li>\n<li>Use some library for image file processing and setup image pixel by pixel.</li>\n</ol>\n<p>First way is very fast and efficient by performance, but seems too hard for implementation. Second way is slower, but easier.</p>\n<p>There is a class <em>java.awt.image.BufferedImage</em> that allows us to work with images. With it's help we can easily build image if we know pixels, width and height of an image. Here is sample code for you:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void createImage(int[] colors, int width, int height) throws IOException {\n    BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n\n    // Iterate over array and set image pixel-by-pixel\n    for (int i = 0; i &lt; colors.length; i += 4) {\n        int row = (i / 4) / width;\n        int column = (i / 4) % width;\n\n        int red = colors[i];\n        int green = colors[i + 1];\n        int blue = colors[i + 2];\n        int alpha = colors[i + 3];\n\n        // rgb value is 8 + 8 + 8 + 8 bits, each for r/g/b/a number\n        int rgb = (alpha &lt;&lt; 24) | (red &lt;&lt; 16) | (green &lt;&lt; 8) | blue;\n\n        image.setRGB(column, row, rgb);\n    }\n\n    ImageIO.write(image, &quot;png&quot;, new File(&quot;result.png&quot;));\n}\n</code></pre>\n<p>I've tested this method with 2.4mb png image, image creation took 600ms. Not very fastest way to do it, but definitel easy</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws IOException {\n    BufferedImage inputImage = ImageIO.read(new File(&quot;/Users/user/Images/apple.png&quot;));\n\n    ArrayList&lt;Integer&gt; colors = new ArrayList&lt;&gt;(); //Initial storage for r g b a\n\n    for (int h = 0; h &lt; inputImage.getHeight(); h++) {\n        for (int w = 0; w &lt; inputImage.getWidth(); w++) {\n            int pixel = inputImage.getRGB(w, h);\n\n            int alpha = (pixel &gt;&gt; 24) &amp; 0xff;\n            int red = (pixel &gt;&gt; 16) &amp; 0xff;\n            int green = (pixel &gt;&gt; 8) &amp; 0xff;\n            int blue = pixel &amp; 0xff;\n\n            colors.add(red);\n            colors.add(green);\n            colors.add(blue);\n            colors.add(alpha);\n        }\n    }\n\n    int[] colorsArray = new int[colors.size()]; // Transforming ArrayList to int's array\n    for (int i = 0; i &lt; colors.size(); i++) {\n        colorsArray[i] = colors.get(i);\n    }\n\n    createImage(colorsArray, inputImage.getWidth(), inputImage.getHeight());\n}\n</code></pre>\n"}],"owner":{"account_id":23720399,"reputation":15,"user_id":17741027,"display_name":"v22"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75776744,"answer_count":1,"score":-1,"last_activity_date":1679152520,"creation_date":1679147837,"question_id":75776338,"body_markdown":"I am trying to create an image file (format doesn&#39;t matter) from a RGBA byte array. The array looks like this: [r, g, b, a, r, g, b, a, r, g, b, a...]\r\nThere are a few things i already tried, for example stb_image. The problem with that is, that i have to allocate a Buffer via MemoryStack, but my array is just too big (around 4 Kb) so it throws a OutOfMemoryException. I also cannot just write it with a ByteArrayOutputStream, since i dont have any headers, just rgba values. Width and height is known tho.","title":"Java create image from RGBA byte array","body":"<p>I am trying to create an image file (format doesn't matter) from a RGBA byte array. The array looks like this: [r, g, b, a, r, g, b, a, r, g, b, a...]\nThere are a few things i already tried, for example stb_image. The problem with that is, that i have to allocate a Buffer via MemoryStack, but my array is just too big (around 4 Kb) so it throws a OutOfMemoryException. I also cannot just write it with a ByteArrayOutputStream, since i dont have any headers, just rgba values. Width and height is known tho.</p>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679151892,"creation_date":1679151892,"answer_id":75776679,"question_id":75776443,"body_markdown":"if you remove the `@JsonFormat(shape = JsonFormat.Shape.OBJECT)`, you&#39;ll have the desired format:\r\n\r\n    @Test\r\n    void test() throws JsonProcessingException {\r\n    \tWebSocketMsg resp = new WebSocketMsg(MsgType.HEARTBEAT, &quot;test-msg&quot;);\r\n    \r\n    \tObjectMapper objectMapper = new ObjectMapper();\r\n    \tString resultJson = objectMapper.writeValueAsString(resp);\r\n    \r\n    \tassertThat(resultJson).isEqualToIgnoringWhitespace(&quot;&quot;&quot;\r\n    \t\t{\r\n    \t\t\t&quot;msgType&quot;:&quot;HEARTBEAT&quot;,\r\n    \t\t\t&quot;msg&quot;:&quot;test-msg&quot;\r\n    \t\t}\r\n    \t\t&quot;&quot;&quot;);\r\n    }\r\n\r\nHowever, if you keep this annotation, the enum will be displayed like an object. Therefore, the resulting json will be:\r\n\r\n    {\r\n        &quot;msgType&quot;: {\r\n            &quot;nr&quot;:1,\r\n            &quot;value&quot;:&quot;heartbeat&quot;\r\n        },\r\n        &quot;msg&quot;:&quot;test-msg&quot;\r\n    }\r\n\r\n","title":"how to make jackson serialize enum with name","body":"<p>if you remove the <code>@JsonFormat(shape = JsonFormat.Shape.OBJECT)</code>, you'll have the desired format:</p>\n<pre><code>@Test\nvoid test() throws JsonProcessingException {\n    WebSocketMsg resp = new WebSocketMsg(MsgType.HEARTBEAT, &quot;test-msg&quot;);\n\n    ObjectMapper objectMapper = new ObjectMapper();\n    String resultJson = objectMapper.writeValueAsString(resp);\n\n    assertThat(resultJson).isEqualToIgnoringWhitespace(&quot;&quot;&quot;\n        {\n            &quot;msgType&quot;:&quot;HEARTBEAT&quot;,\n            &quot;msg&quot;:&quot;test-msg&quot;\n        }\n        &quot;&quot;&quot;);\n}\n</code></pre>\n<p>However, if you keep this annotation, the enum will be displayed like an object. Therefore, the resulting json will be:</p>\n<pre><code>{\n    &quot;msgType&quot;: {\n        &quot;nr&quot;:1,\n        &quot;value&quot;:&quot;heartbeat&quot;\n    },\n    &quot;msg&quot;:&quot;test-msg&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75776679,"answer_count":1,"score":0,"last_activity_date":1679151892,"creation_date":1679149090,"question_id":75776443,"body_markdown":"I want to serialize object using jackson `api &#39;com.fasterxml.jackson.core:jackson-databind:2.14.2&#39;`, this is the code:\r\n\r\n\r\n\r\n    WebSocketMsg resp = new WebSocketMsg(MsgType.USER_CHAT,responseMsg );\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    String resultJson= objectMapper.writeValueAsString(resp);\r\n\r\n\r\n\r\nnow the serialize `WebSocketMsg` enum using value, is it possible to make it using the enum name? This is the enum define:\r\n\r\n\r\n\r\n    @Schema(implementation = MsgType.class)\r\n    @JsonFormat(shape = JsonFormat.Shape.OBJECT)\r\n    public enum MsgType {\r\n        HEARTBEAT(1, &quot;heartbeat&quot;)\r\n    }\r\n\r\nI have tried to add `@JsonFormat(shape = JsonFormat.Shape.OBJECT)` but still could not work. This is the `WebSocketMsg` define:\r\n\r\n\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class WebSocketMsg {\r\n        private MsgType msgType;\r\n        private String msg;\r\n    }\r\n\r\n\r\n\r\n\r\nthe json I want may look like:\r\n\r\n\r\n    {\r\n    msgType: &quot;HEARTBEAT&quot;,\r\n    msg: &quot;balabala.....&quot;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"how to make jackson serialize enum with name","body":"<p>I want to serialize object using jackson <code>api 'com.fasterxml.jackson.core:jackson-databind:2.14.2'</code>, this is the code:</p>\n<pre><code>WebSocketMsg resp = new WebSocketMsg(MsgType.USER_CHAT,responseMsg );\nObjectMapper objectMapper = new ObjectMapper();\nString resultJson= objectMapper.writeValueAsString(resp);\n</code></pre>\n<p>now the serialize <code>WebSocketMsg</code> enum using value, is it possible to make it using the enum name? This is the enum define:</p>\n<pre><code>@Schema(implementation = MsgType.class)\n@JsonFormat(shape = JsonFormat.Shape.OBJECT)\npublic enum MsgType {\n    HEARTBEAT(1, &quot;heartbeat&quot;)\n}\n</code></pre>\n<p>I have tried to add <code>@JsonFormat(shape = JsonFormat.Shape.OBJECT)</code> but still could not work. This is the <code>WebSocketMsg</code> define:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class WebSocketMsg {\n    private MsgType msgType;\n    private String msg;\n}\n</code></pre>\n<p>the json I want may look like:</p>\n<pre><code>{\nmsgType: &quot;HEARTBEAT&quot;,\nmsg: &quot;balabala.....&quot;\n}\n</code></pre>\n"},{"tags":["java","fft"],"owner":{"account_id":2790397,"reputation":3354,"user_id":2400740,"accept_rate":52,"display_name":"rachana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4260,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1679151855,"creation_date":1382003116,"question_id":19423264,"body_markdown":"I am working on application to enhance an image using `FFT`.\r\n\r\nI have implemented the code for `FFT`:\r\n\r\n     \r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/xdx8r.png\r\n\r\nFor the first formula in above picture i have implemented code as below :\r\n\r\n      void fft(int x , int y , int size) {\r\n\t\t\r\n  \t\tfor(int i=x; i&lt;x+32 ; i++){\r\n\t\t\tfor(int j=y ; j&lt;y+32 ; j++){\r\n\t\t\t\tdouble kth = -2 * Math.PI * (((i*x)/size)+((j*y)/size));\r\n\t\t\t\tComplexNumber expo = new ComplexNumber(Math.cos(kth),Math.sin(kth));\r\n\t\t\t\toutput.values[i][j] = ComplexNumber.cMult(input.values[x][y],expo) ;\r\n\t\t\t\tintermediate.values[i][j] = output.values[i][j];\r\n\t\t\t\tinput.values[i][j] = output.values[i][j];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n   \t}\r\n\r\nI have also implemented code for second and third formula but the result I am getting is not correct.\r\nWhat should I do ? \r\n\r\nIs the code implemented for the first equation correct? \r\n\r\n\r\n**Edited**\r\n\r\nBasically I want to do image enhancement with FFT.I found the formula which I have already posted above.I have also implemented the code for those formulas.But I am not yet clear with all the variables used in that formula.Can any one please explain in detail all the variables used in that formula like M &amp; N,as they have given the for u &amp; v.","title":"FFT implementation","body":"<p>I am working on application to enhance an image using <code>FFT</code>.</p>\n<p>I have implemented the code for <code>FFT</code>:</p>\n<p><img src=\"https://i.stack.imgur.com/xdx8r.png\" alt=\"enter image description here\" /></p>\n<p>For the first formula in above picture i have implemented code as below :</p>\n<pre><code>  void fft(int x , int y , int size) {\n    \n    for(int i=x; i&lt;x+32 ; i++){\n        for(int j=y ; j&lt;y+32 ; j++){\n            double kth = -2 * Math.PI * (((i*x)/size)+((j*y)/size));\n            ComplexNumber expo = new ComplexNumber(Math.cos(kth),Math.sin(kth));\n            output.values[i][j] = ComplexNumber.cMult(input.values[x][y],expo) ;\n            intermediate.values[i][j] = output.values[i][j];\n            input.values[i][j] = output.values[i][j];\n        }\n        \n    }\n    \n}\n</code></pre>\n<p>I have also implemented code for second and third formula but the result I am getting is not correct.\nWhat should I do ?</p>\n<p>Is the code implemented for the first equation correct?</p>\n<p><strong>Edited</strong></p>\n<p>Basically I want to do image enhancement with FFT.I found the formula which I have already posted above.I have also implemented the code for those formulas.But I am not yet clear with all the variables used in that formula.Can any one please explain in detail all the variables used in that formula like M &amp; N,as they have given the for u &amp; v.</p>\n"},{"tags":["java","opencv","image-processing","computer-vision"],"answers":[{"tags":[],"owner":{"account_id":3026070,"reputation":689,"user_id":2566052,"display_name":"Diego Catalano"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679151533,"creation_date":1460696059,"answer_id":36638526,"question_id":36382045,"body_markdown":"Yes, It&#39;s possible to extract the facial features, there is several texture algorithms **(i.e LBP, LBPu2, ILBP, CS-LBP, etc...)**, contains 14 LBP variants to work, and some pre-processing [photometric illuminant filters][1] like **Retinex, Difference of Gaussians (DoG), Tan-Triggs Normalization, Gradient Faces, Retina Model**. Also there is histogram approach like Spatial Histogram and Spatial Pyramid Histogram.\r\n\r\nThis image shows my approach using the framework. The approach is similar like the [D. MATURANA][2].\r\n\r\nFirst face, is the original image from the [ORL database][3].\r\nSecond face, I had used the Self Quocient Image (I&#39;m currently implementing this). Third face, is the Spatial Histogram (6x6) representation.\r\n\r\nSo I compute [ILBP][4] for each block. I can extract 6*6*511 = 18396 features.\r\n\r\n[![My approach][5]][5]\r\n\r\n\r\nWith SVM using Chi Square kernel and leave-one-out, I can achieve 99.25% accuracy.\r\n\r\n*Disclaimer: I&#39;m the author of the Catalano Framework*\r\n\r\n\r\n  [1]: http://luks.fe.uni-lj.si/sl/osebje/vitomir/face_tools/INFace/techs.html\r\n  [2]: https://ieeexplore.ieee.org/document/5532353\r\n  [3]: https://web.archive.org/web/20190408145600/https://www.cl.cam.ac.uk/research/dtg/attarchive/facedatabase.html\r\n  [4]: https://ieeexplore.ieee.org/document/1410446\r\n  [5]: https://i.stack.imgur.com/zvG0f.png","title":"How to use Catalano framework for facial feature extraction?","body":"<p>Yes, It's possible to extract the facial features, there is several texture algorithms <strong>(i.e LBP, LBPu2, ILBP, CS-LBP, etc...)</strong>, contains 14 LBP variants to work, and some pre-processing <a href=\"http://luks.fe.uni-lj.si/sl/osebje/vitomir/face_tools/INFace/techs.html\" rel=\"nofollow noreferrer\">photometric illuminant filters</a> like <strong>Retinex, Difference of Gaussians (DoG), Tan-Triggs Normalization, Gradient Faces, Retina Model</strong>. Also there is histogram approach like Spatial Histogram and Spatial Pyramid Histogram.</p>\n<p>This image shows my approach using the framework. The approach is similar like the <a href=\"https://ieeexplore.ieee.org/document/5532353\" rel=\"nofollow noreferrer\">D. MATURANA</a>.</p>\n<p>First face, is the original image from the <a href=\"https://web.archive.org/web/20190408145600/https://www.cl.cam.ac.uk/research/dtg/attarchive/facedatabase.html\" rel=\"nofollow noreferrer\">ORL database</a>.\nSecond face, I had used the Self Quocient Image (I'm currently implementing this). Third face, is the Spatial Histogram (6x6) representation.</p>\n<p>So I compute <a href=\"https://ieeexplore.ieee.org/document/1410446\" rel=\"nofollow noreferrer\">ILBP</a> for each block. I can extract 6<em>6</em>511 = 18396 features.</p>\n<p><a href=\"https://i.stack.imgur.com/zvG0f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zvG0f.png\" alt=\"My approach\" /></a></p>\n<p>With SVM using Chi Square kernel and leave-one-out, I can achieve 99.25% accuracy.</p>\n<p><em>Disclaimer: I'm the author of the Catalano Framework</em></p>\n"}],"owner":{"account_id":8170375,"reputation":21,"user_id":6151040,"display_name":"robertoguazon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":791,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679151533,"creation_date":1459662383,"question_id":36382045,"body_markdown":"The goal of the program was to create a real-time emotional recognition system. We will be using opencv for face detection. Is it possible to use [Catalano Framework][1] for extracting the facial features from the picture we get from face detection? If possible then how? Also, How do you use fuzzy logic as an emotional classifier after getting the extracted facial features? Thanks in advance.\r\n\r\n\r\n  [1]: http://catalano-framework.com/","title":"How to use Catalano framework for facial feature extraction?","body":"<p>The goal of the program was to create a real-time emotional recognition system. We will be using opencv for face detection. Is it possible to use <a href=\"http://catalano-framework.com/\" rel=\"nofollow\">Catalano Framework</a> for extracting the facial features from the picture we get from face detection? If possible then how? Also, How do you use fuzzy logic as an emotional classifier after getting the extracted facial features? Thanks in advance.</p>\n"},{"tags":["java","jackson","lombok"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":1,"creation_date":1679073945,"post_id":75769862,"comment_id":133661670,"body_markdown":"Need more time to find the root cause, but removing @Jacksonized in `Experiment` should work","body":"Need more time to find the root cause, but removing @Jacksonized in <code>Experiment</code> should work"},{"owner":{"account_id":24755582,"reputation":25,"user_id":18640548,"display_name":"GenericUserName"},"score":0,"creation_date":1679086222,"post_id":75769862,"comment_id":133664429,"body_markdown":"Following suggestion from @samabcde I&#39;ve removed @Jacksonized annotation. Error changed to more common &quot;Cannot construct instance of `Experiment`&quot;. Then adding constructors / Lombok annotations was needed. Adding @AllArgsConstructor and @RequiredArgsConstructor solves that problem.","body":"Following suggestion from @samabcde I&#39;ve removed @Jacksonized annotation. Error changed to more common &quot;Cannot construct instance of <code>Experiment</code>&quot;. Then adding constructors / Lombok annotations was needed. Adding @AllArgsConstructor and @RequiredArgsConstructor solves that problem."}],"answers":[{"comments":[{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":2,"creation_date":1679124610,"post_id":75773579,"comment_id":133668134,"body_markdown":"I would not consider it a bug, because updating an existing instance can never be achieved using a builder: builders always create new instances.","body":"I would not consider it a bug, because updating an existing instance can never be achieved using a builder: builders always create new instances."},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1679151300,"post_id":75773579,"comment_id":133671786,"body_markdown":"@JanRieke, you are right, let me update the post. But it is quite difficult to figure out the problem behind.","body":"@JanRieke, you are right, let me update the post. But it is quite difficult to figure out the problem behind."}],"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679151506,"creation_date":1679107706,"answer_id":75773579,"question_id":75769862,"body_markdown":"### Cause\r\n\r\nDeserialization using Builder does not work with `readerForUpdating`, as suggested [by Jan Rieke](https://stackoverflow.com/users/10026074/jan-rieke),\r\n&gt; updating an existing instance can never be achieved using a builder: builders always create new instances\r\n\r\n### Details\r\n\r\nWhen using `@Jacksonized`, \r\n&gt;Configure Jackson to use the builder for deserialization using @JsonDeserialize(builder=Foobar.FoobarBuilder[Impl].class) on the class (where Foobar is the name of the annotated class).\r\n\r\nwe tell Jackson to deserialize using the builder.\r\n\r\nWith the error message and referring to [jackson 2.15 BuilderBasedDeserializer][1], \r\n```java\r\n    @Override\r\n    public Object deserialize(JsonParser p, DeserializationContext ctxt,\r\n    \t\tObject value) throws IOException\r\n    {\r\n        // 26-Oct-2016, tatu: I cannot see any of making this actually\r\n        //    work correctly, so let&#39;s indicate problem right away\r\n        JavaType valueType = _targetType;\r\n        // Did they try to give us builder?\r\n        Class&lt;?&gt; builderRawType = handledType();\r\n        Class&lt;?&gt; instRawType = value.getClass();\r\n        if (builderRawType.isAssignableFrom(instRawType)) {\r\n            return ctxt.reportBadDefinition(valueType, String.format(\r\n                    &quot;Deserialization of %s by passing existing Builder (%s) instance not supported&quot;,\r\n                    valueType, builderRawType.getName()));\r\n        }\r\n        return ctxt.reportBadDefinition(valueType, String.format(\r\n                &quot;Deserialization of %s by passing existing instance (of %s) not supported&quot;,\r\n                valueType, instRawType.getName()));\r\n    }\r\n```\r\nWe can see this feature is not ready for use from the comment.\r\n\r\n### Workaround\r\n1. Do not use @Jacksonized\r\n2. Use other library like [Spring BeanUtils][2] to update the values.\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind/blob/2.15/src/main/java/com/fasterxml/jackson/databind/deser/BuilderBasedDeserializer.java#L252\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/BeanUtils.html","title":"Deserialization of [simple type, class pl.play.Experiment] by passing existing instance (of pl.play.Experiment) not supported","body":"<h3>Cause</h3>\n<p>Deserialization using Builder does not work with <code>readerForUpdating</code>, as suggested <a href=\"https://stackoverflow.com/users/10026074/jan-rieke\">by Jan Rieke</a>,</p>\n<blockquote>\n<p>updating an existing instance can never be achieved using a builder: builders always create new instances</p>\n</blockquote>\n<h3>Details</h3>\n<p>When using <code>@Jacksonized</code>,</p>\n<blockquote>\n<p>Configure Jackson to use the builder for deserialization using @JsonDeserialize(builder=Foobar.FoobarBuilder[Impl].class) on the class (where Foobar is the name of the annotated class).</p>\n</blockquote>\n<p>we tell Jackson to deserialize using the builder.</p>\n<p>With the error message and referring to <a href=\"https://github.com/FasterXML/jackson-databind/blob/2.15/src/main/java/com/fasterxml/jackson/databind/deser/BuilderBasedDeserializer.java#L252\" rel=\"nofollow noreferrer\">jackson 2.15 BuilderBasedDeserializer</a>,</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public Object deserialize(JsonParser p, DeserializationContext ctxt,\n            Object value) throws IOException\n    {\n        // 26-Oct-2016, tatu: I cannot see any of making this actually\n        //    work correctly, so let's indicate problem right away\n        JavaType valueType = _targetType;\n        // Did they try to give us builder?\n        Class&lt;?&gt; builderRawType = handledType();\n        Class&lt;?&gt; instRawType = value.getClass();\n        if (builderRawType.isAssignableFrom(instRawType)) {\n            return ctxt.reportBadDefinition(valueType, String.format(\n                    &quot;Deserialization of %s by passing existing Builder (%s) instance not supported&quot;,\n                    valueType, builderRawType.getName()));\n        }\n        return ctxt.reportBadDefinition(valueType, String.format(\n                &quot;Deserialization of %s by passing existing instance (of %s) not supported&quot;,\n                valueType, instRawType.getName()));\n    }\n</code></pre>\n<p>We can see this feature is not ready for use from the comment.</p>\n<h3>Workaround</h3>\n<ol>\n<li>Do not use @Jacksonized</li>\n<li>Use other library like <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/BeanUtils.html\" rel=\"nofollow noreferrer\">Spring BeanUtils</a> to update the values.</li>\n</ol>\n"}],"owner":{"account_id":24755582,"reputation":25,"user_id":18640548,"display_name":"GenericUserName"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75773579,"answer_count":1,"score":1,"last_activity_date":1679151506,"creation_date":1679069545,"question_id":75769862,"body_markdown":"In my program I would like to create an object (using JSON input) and, at some point, update it (again: using another JSON input with the same schema, different values).\r\n\r\nClasses:\r\n\r\n```\r\n@Data\r\n@Builder\r\n@Jacksonized\r\npublic class Experiment {\r\n    Integer id;\r\n    String type;\r\n    Monster monster;\r\n}\r\n\r\n@Data\r\n@Builder\r\n@Jacksonized\r\npublic class Monster {\r\n    String name;\r\n    String type;\r\n}\r\n```\r\n\r\nJsonInputs:\r\n\r\n```\r\nmonster_json1:\r\n{\r\n\t&quot;id&quot;: 1,\r\n\t&quot;type&quot;: &quot;whateverzaur&quot;,\r\n\t&quot;monster&quot;: {\r\n\t\t&quot;name&quot;: &quot;Andrzej&quot;,\r\n\t\t&quot;type&quot;: &quot;cokolwiek&quot;\r\n\t}\r\n}\r\n\r\n--\r\nmonster_json2:\r\n{\r\n\t&quot;id&quot;: 1,\r\n\t&quot;type&quot;: &quot;whateverzaur&quot;,\r\n\t&quot;monster&quot;: {\r\n\t\t&quot;name&quot;: &quot;Andrzej&quot;,\r\n\t\t&quot;type&quot;: &quot;diff&quot;\r\n\t}\r\n}\r\n```\r\n\r\nI create object using objectMapper:\r\n`Experiment experiment = objectMapper.readValue(monster_json1,Experiment.class);`\r\n\r\nI&#39;ve tried updating it like this:\r\n`experiment = objectMapper.readerForUpdating(experiment).readValue(monster_json2);`\r\n\r\nI get error:\r\n&gt; Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Deserialization of [simple type, class pl.play.Experiment] by passing existing instance (of pl.play.Experiment) not supported\r\n\r\nI know that I (in this case) make changes by calling setter for property type:\r\n`experiment.getMonster().setType(&quot;xxxx&quot;);`\r\n\r\nWhen my classes get more params, gain more complexity and I will need to update more then one param at the time, I will need different way to do it. Because new data go to me via JSON response using readerForUpdate seems reasonable.","title":"Deserialization of [simple type, class pl.play.Experiment] by passing existing instance (of pl.play.Experiment) not supported","body":"<p>In my program I would like to create an object (using JSON input) and, at some point, update it (again: using another JSON input with the same schema, different values).</p>\n<p>Classes:</p>\n<pre><code>@Data\n@Builder\n@Jacksonized\npublic class Experiment {\n    Integer id;\n    String type;\n    Monster monster;\n}\n\n@Data\n@Builder\n@Jacksonized\npublic class Monster {\n    String name;\n    String type;\n}\n</code></pre>\n<p>JsonInputs:</p>\n<pre><code>monster_json1:\n{\n    &quot;id&quot;: 1,\n    &quot;type&quot;: &quot;whateverzaur&quot;,\n    &quot;monster&quot;: {\n        &quot;name&quot;: &quot;Andrzej&quot;,\n        &quot;type&quot;: &quot;cokolwiek&quot;\n    }\n}\n\n--\nmonster_json2:\n{\n    &quot;id&quot;: 1,\n    &quot;type&quot;: &quot;whateverzaur&quot;,\n    &quot;monster&quot;: {\n        &quot;name&quot;: &quot;Andrzej&quot;,\n        &quot;type&quot;: &quot;diff&quot;\n    }\n}\n</code></pre>\n<p>I create object using objectMapper:\n<code>Experiment experiment = objectMapper.readValue(monster_json1,Experiment.class);</code></p>\n<p>I've tried updating it like this:\n<code>experiment = objectMapper.readerForUpdating(experiment).readValue(monster_json2);</code></p>\n<p>I get error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Deserialization of [simple type, class pl.play.Experiment] by passing existing instance (of pl.play.Experiment) not supported</p>\n</blockquote>\n<p>I know that I (in this case) make changes by calling setter for property type:\n<code>experiment.getMonster().setType(&quot;xxxx&quot;);</code></p>\n<p>When my classes get more params, gain more complexity and I will need to update more then one param at the time, I will need different way to do it. Because new data go to me via JSON response using readerForUpdate seems reasonable.</p>\n"},{"tags":["java","parquet"],"answers":[{"tags":[],"owner":{"account_id":16890753,"reputation":1,"user_id":12214517,"display_name":"Nuruddeen Hashim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679150569,"creation_date":1679150569,"answer_id":75776563,"question_id":75776539,"body_markdown":"The filter criteria may not be specified correctly: Make sure that the filter criteria you&#39;re using is valid and matches the data types and values in the file.\r\n\r\nThe filter criteria may not be compatible with the data type of the column being filtered: Ensure that the data type of the column you&#39;re filtering on matches the data type expected by the filter.\r\n\r\nThere may be a bug in the implementation of the filter or in the ParquetFileReader class itself: Check the documentation and known issues for the Parquet library you&#39;re using, and try updating to the latest version of the library.\r\n\r\nTo further diagnose the issue, you can try debugging the code and examining the values of the filter criteria and the data being filtered on. You may also want to consider reaching out to the Parquet library community or support team for assistance.","title":"Doubts about ParquetFileReader.getFilteredRecordCount() method","body":"<p>The filter criteria may not be specified correctly: Make sure that the filter criteria you're using is valid and matches the data types and values in the file.</p>\n<p>The filter criteria may not be compatible with the data type of the column being filtered: Ensure that the data type of the column you're filtering on matches the data type expected by the filter.</p>\n<p>There may be a bug in the implementation of the filter or in the ParquetFileReader class itself: Check the documentation and known issues for the Parquet library you're using, and try updating to the latest version of the library.</p>\n<p>To further diagnose the issue, you can try debugging the code and examining the values of the filter criteria and the data being filtered on. You may also want to consider reaching out to the Parquet library community or support team for assistance.</p>\n"}],"owner":{"account_id":282799,"reputation":1,"user_id":579929,"display_name":"tonivade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679150569,"creation_date":1679150288,"question_id":75776539,"body_markdown":"I&#39;m trying to understand how this method works. In my understanding this method should return the number of records that match the filter criteria specified in the creation of the reader, but it doesn&#39;t work. It always returns the same value, that is exactly the number of records the file has.\r\n\r\n\r\n\r\nI tried with this code:\r\n\r\n\r\n```java\r\ntry (var reader = new ParquetFileReader(new FileSystemInputFile(file),\r\n    ParquetReadOptions.builder().withRecordFilter(filter).build())) {\r\n   var count = reader.getFilteredRecordCount();\r\n   System.out.println(count);\r\n}\r\n```\r\n\r\nBut no matter what I put in the filter, it always return the total record count.\r\n","title":"Doubts about ParquetFileReader.getFilteredRecordCount() method","body":"<p>I'm trying to understand how this method works. In my understanding this method should return the number of records that match the filter criteria specified in the creation of the reader, but it doesn't work. It always returns the same value, that is exactly the number of records the file has.</p>\n<p>I tried with this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (var reader = new ParquetFileReader(new FileSystemInputFile(file),\n    ParquetReadOptions.builder().withRecordFilter(filter).build())) {\n   var count = reader.getFilteredRecordCount();\n   System.out.println(count);\n}\n</code></pre>\n<p>But no matter what I put in the filter, it always return the total record count.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2522027,"reputation":1584,"user_id":2192203,"display_name":"Naili"},"score":0,"creation_date":1396797924,"post_id":22895936,"comment_id":34940653,"body_markdown":"I tested your code, it works correctly.","body":"I tested your code, it works correctly."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1396797981,"post_id":22895936,"comment_id":34940673,"body_markdown":"`NoClassDefFoundError` what? Post the full stack trace","body":"<code>NoClassDefFoundError</code> what? Post the full stack trace"},{"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"score":1,"creation_date":1396797998,"post_id":22895936,"comment_id":34940679,"body_markdown":"code is working fine.","body":"code is working fine."},{"owner":{"account_id":1098379,"reputation":14720,"user_id":1091466,"accept_rate":78,"display_name":"Marco Acierno"},"score":0,"creation_date":1396798333,"post_id":22895936,"comment_id":34940805,"body_markdown":"Which IDE: Eclipse? IntelliJ IDEA?","body":"Which IDE: Eclipse? IntelliJ IDEA?"}],"answers":[{"tags":[],"owner":{"account_id":2765078,"reputation":4245,"user_id":2381006,"accept_rate":42,"display_name":"dev2d"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1396798566,"creation_date":1396798217,"answer_id":22896034,"question_id":22895936,"body_markdown":"you need to set `CLASS_PATH` variable and point it to where ever your class file is\r\n\r\nthen this should work\r\n\r\nI have tried it locally, refer [my answer][1] to check how to set class path and how to compile and run java code using command prompt\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/22885766/2381006","title":"To check if a number is Armstrong number using java","body":"<p>you need to set <code>CLASS_PATH</code> variable and point it to where ever your class file is</p>\n\n<p>then this should work</p>\n\n<p>I have tried it locally, refer <a href=\"https://stackoverflow.com/a/22885766/2381006\">my answer</a> to check how to set class path and how to compile and run java code using command prompt</p>\n"},{"tags":[],"owner":{"account_id":4377285,"reputation":1,"user_id":3569965,"display_name":"Nusrat Ahmed Asha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520600090,"creation_date":1398360055,"answer_id":23275652,"question_id":22895936,"body_markdown":"\timport java.util.Scanner;\r\n       \r\n\t/* a number is armstrong if the sum of cubes if individual digits of \r\n\ta number is equal to the number itself.for example, 371 is \r\n\tan armstrong number. 3^3+7^3+1^3=371.\r\n\tsome others are 153,370,407 etc.*/\r\n    \r\n\tpublic class ArmstrongNumber {\r\n     \r\n\t\tpublic static void main(String args[]) {\r\n    \t\r\n    \t\tint input, store, output=0, modolus;\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Please enter a number for ckecking.&quot;);\r\n    \t\tinput = in.nextInt();\r\n    \t\tstore = input;\r\n    \t\twhile(input != 0) {\r\n    \t\t\tmodolus = input % 10;\r\n    \t\t\toutput = output + (modolus * modolus * modolus);\r\n    \t\t\tinput = input / 10;\r\n    \t\t}\r\n    \t\tSystem.out.println(output);\r\n    \t\t\r\n\t\t\tif(store == output) {\r\n    \t\t\tSystem.out.println(&quot;This is an armstrong number.&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;This is not an armstrong number.&quot;);\r\n    \t\t}\r\n    \t\tin.close();\r\n    \t}\r\n    }\r\n\r\n","title":"To check if a number is Armstrong number using java","body":"<pre><code>import java.util.Scanner;\n\n/* a number is armstrong if the sum of cubes if individual digits of \na number is equal to the number itself.for example, 371 is \nan armstrong number. 3^3+7^3+1^3=371.\nsome others are 153,370,407 etc.*/\n\npublic class ArmstrongNumber {\n\n    public static void main(String args[]) {\n\n        int input, store, output=0, modolus;\n        Scanner in = new Scanner(System.in);\n        System.out.println(\"Please enter a number for ckecking.\");\n        input = in.nextInt();\n        store = input;\n        while(input != 0) {\n            modolus = input % 10;\n            output = output + (modolus * modolus * modolus);\n            input = input / 10;\n        }\n        System.out.println(output);\n\n        if(store == output) {\n            System.out.println(\"This is an armstrong number.\");\n        } else {\n            System.out.println(\"This is not an armstrong number.\");\n        }\n        in.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4284461,"reputation":21,"user_id":3502744,"display_name":"sort_01out"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401806446,"creation_date":1401806446,"answer_id":24018090,"question_id":22895936,"body_markdown":"// To check the given no is Armstrong number  (Java Code)\r\n\r\n    class CheckArmStrong{\r\n\tpublic static void main(String str[]){\r\n\t\tint n=153,a, b=0, c=n;\r\n\t\twhile(n&gt;0){\r\n\t\t\t      a=n%10;  n=n/10;  b=b+(a*a*a);\r\n\t\t\t      System.out.println(a+&quot;  &quot;+n+&quot;  &quot;+b);  // to see the logic\r\n\t\t\t    }\r\n\t\tif(c==b)  System.out.println(&quot;Armstrong number&quot;);\r\n\t\telse      System.out.println(&quot; Not Armstrong number&quot;);\r\n\t\t}\r\n\t}","title":"To check if a number is Armstrong number using java","body":"<p>// To check the given no is Armstrong number  (Java Code)</p>\n\n<pre><code>class CheckArmStrong{\npublic static void main(String str[]){\n    int n=153,a, b=0, c=n;\n    while(n&gt;0){\n              a=n%10;  n=n/10;  b=b+(a*a*a);\n              System.out.println(a+\"  \"+n+\"  \"+b);  // to see the logic\n            }\n    if(c==b)  System.out.println(\"Armstrong number\");\n    else      System.out.println(\" Not Armstrong number\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5581005,"reputation":302,"user_id":4422882,"accept_rate":67,"display_name":"srikanth r"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520600855,"creation_date":1433334476,"answer_id":30620094,"question_id":22895936,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class AmstrongNumber {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\r\n    \t\tSystem.out.println(&quot;Enter the number&quot;);\r\n    \t\tScanner scan=new Scanner(System.in);\r\n    \t\tint x=scan.nextInt();\r\n    \t\tint temp2=0;\r\n    \t\t\r\n    \t\tString s1 = Integer.toString(x);\r\n    \t\tint[] a = new int[s1.length()];\r\n    \t\tint[] a1 = new int[s1.length()];\r\n    \t\tfor (int i = 0; i &lt; s1.length(); i++){\r\n    \t\t    a[i] = s1.charAt(i)- &#39;0&#39;;\r\n    \t\t    int temp1=a[i];\r\n    \t\t    a1[i]=temp1*temp1*temp1;\r\n    \r\n    \t\t}\r\n    \t\tfor (int i = 0; i &lt; s1.length(); i++){\r\n    \t\t\ttemp2=temp2+a1[i];\r\n    \t\t\tif(i==s1.length()-1){\r\n    \t\t\t\tif(x==temp2){\r\n    \t\t\t\t\tSystem.out.println(&quot;Amstrong num&quot;);\r\n    \t\t\t\t}else{\r\n    \t\t\t\t\tSystem.out.println(&quot;Not !&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"To check if a number is Armstrong number using java","body":"<pre><code>import java.util.Scanner;\n\npublic class AmstrongNumber {\n\n    public static void main(String[] args) {\n\n        System.out.println(\"Enter the number\");\n        Scanner scan=new Scanner(System.in);\n        int x=scan.nextInt();\n        int temp2=0;\n\n        String s1 = Integer.toString(x);\n        int[] a = new int[s1.length()];\n        int[] a1 = new int[s1.length()];\n        for (int i = 0; i &lt; s1.length(); i++){\n            a[i] = s1.charAt(i)- '0';\n            int temp1=a[i];\n            a1[i]=temp1*temp1*temp1;\n\n        }\n        for (int i = 0; i &lt; s1.length(); i++){\n            temp2=temp2+a1[i];\n            if(i==s1.length()-1){\n                if(x==temp2){\n                    System.out.println(\"Amstrong num\");\n                }else{\n                    System.out.println(\"Not !\");\n                }\n            }\n        }\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7059021,"reputation":175,"user_id":5405143,"display_name":"Md_Zubair Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443901448,"creation_date":1443899135,"answer_id":32926376,"question_id":22895936,"body_markdown":"**//This is my program to check whether the number is armstrong or not!!**\r\n\r\n\r\n    package myprogram2;\r\n    public class Myprogram2 {\r\n    \r\n        public static void main(String[] args) \r\n        {\r\n            String No=&quot;407&quot;;\r\n            int length_no=No.length();\r\n            char[] S=new char[length_no];\r\n            int[] b = new int[length_no];\r\n            int arm=0;\r\n            for(int i=0;i&lt;length_no;i++)\r\n            {\r\n               S[i]=No.charAt(i);\r\n               b[i]=Character.getNumericValue(S[i]);\r\n               //System.out.print(b[i]);\r\n               arm=arm + (b[i]*b[i]*b[i]);\r\n               System.out.println(arm);\r\n            }\r\n            //System.out.println(&quot; is the number \\n now Checking for its Armstrong condition&quot;);\r\n            int orgno = Integer.parseInt(No);\r\n            if (orgno==arm)\r\n                System.out.println(&quot;YESm its an armstrong&quot;);\r\n            else\r\n                System.out.println(&quot;\\n&lt;&lt;Not an armstrong&gt;&gt;&quot;);\r\n                //System.out.println(length_no);\r\n            System.out.println(&quot;Original number is  &quot;+orgno);\r\n            System.out.println(&quot;Sum of cubes  &quot;+arm);\r\n        }\r\n        \r\n    }\r\n\r\n","title":"To check if a number is Armstrong number using java","body":"<p><strong>//This is my program to check whether the number is armstrong or not!!</strong></p>\n\n<pre><code>package myprogram2;\npublic class Myprogram2 {\n\n    public static void main(String[] args) \n    {\n        String No=\"407\";\n        int length_no=No.length();\n        char[] S=new char[length_no];\n        int[] b = new int[length_no];\n        int arm=0;\n        for(int i=0;i&lt;length_no;i++)\n        {\n           S[i]=No.charAt(i);\n           b[i]=Character.getNumericValue(S[i]);\n           //System.out.print(b[i]);\n           arm=arm + (b[i]*b[i]*b[i]);\n           System.out.println(arm);\n        }\n        //System.out.println(\" is the number \\n now Checking for its Armstrong condition\");\n        int orgno = Integer.parseInt(No);\n        if (orgno==arm)\n            System.out.println(\"YESm its an armstrong\");\n        else\n            System.out.println(\"\\n&lt;&lt;Not an armstrong&gt;&gt;\");\n            //System.out.println(length_no);\n        System.out.println(\"Original number is  \"+orgno);\n        System.out.println(\"Sum of cubes  \"+arm);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3246528,"reputation":4264,"user_id":2737933,"accept_rate":75,"display_name":"DSlomer64"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443988812,"creation_date":1443988334,"answer_id":32937732,"question_id":22895936,"body_markdown":"There are a couple of nice `String`-based solutions and numeric solutions with single-letter variable names. \r\n\r\nConsider this to make sense of how it works *numerically*, which includes a couple of interesting numeric tricks:\r\n\r\n    import java.io.*;\r\n\r\n    public class Armstrong\r\n    {\r\n      public static void main(String args[]) throws IOException\r\n      {\r\n        InputStreamReader read = new InputStreamReader(System.in);\r\n        BufferedReader    in   = new BufferedReader(read);\r\n        int modifiedNumber, originalNumber, modifiedNumberWithUnitsDigitZero, \r\n            unitsDigit, runningSum; \r\n\r\n        System.out.println(&quot;Enter your number:&quot;);\r\n        modifiedNumber = Integer.parseInt(in.readLine()); \r\n\r\n        runningSum = 0;\r\n        originalNumber = modifiedNumber;\r\n\r\n        while(modifiedNumber &gt; 0)\r\n        {\r\n          modifiedNumberWithUnitsDigitZero = modifiedNumber / 10 * 10;\r\n          unitsDigit     = modifiedNumber - modifiedNumberWithUnitsDigitZero;\r\n          runningSum    += unitsDigit * unitsDigit * unitsDigit;\r\n          modifiedNumber = modifiedNumber / 10;\r\n        }\r\n        \r\n        System.out.println(&quot;The number &quot; + originalNumber \r\n          + (originalNumber == runningSum ? &quot; IS&quot; : &quot; is NOT&quot;) \r\n          + &quot; an Armstrong number because sum of cubes of digits is &quot; + runningSum);\r\n      }\r\n    }\r\n","title":"To check if a number is Armstrong number using java","body":"<p>There are a couple of nice <code>String</code>-based solutions and numeric solutions with single-letter variable names. </p>\n\n<p>Consider this to make sense of how it works <em>numerically</em>, which includes a couple of interesting numeric tricks:</p>\n\n<pre><code>import java.io.*;\n\npublic class Armstrong\n{\n  public static void main(String args[]) throws IOException\n  {\n    InputStreamReader read = new InputStreamReader(System.in);\n    BufferedReader    in   = new BufferedReader(read);\n    int modifiedNumber, originalNumber, modifiedNumberWithUnitsDigitZero, \n        unitsDigit, runningSum; \n\n    System.out.println(\"Enter your number:\");\n    modifiedNumber = Integer.parseInt(in.readLine()); \n\n    runningSum = 0;\n    originalNumber = modifiedNumber;\n\n    while(modifiedNumber &gt; 0)\n    {\n      modifiedNumberWithUnitsDigitZero = modifiedNumber / 10 * 10;\n      unitsDigit     = modifiedNumber - modifiedNumberWithUnitsDigitZero;\n      runningSum    += unitsDigit * unitsDigit * unitsDigit;\n      modifiedNumber = modifiedNumber / 10;\n    }\n\n    System.out.println(\"The number \" + originalNumber \n      + (originalNumber == runningSum ? \" IS\" : \" is NOT\") \n      + \" an Armstrong number because sum of cubes of digits is \" + runningSum);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7748906,"reputation":31,"user_id":5865530,"display_name":"Sekhar Ray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520599973,"creation_date":1454379451,"answer_id":35143942,"question_id":22895936,"body_markdown":"This is the simple logic for Armstrong number program :\r\n\r\n    for (int i = number; i &gt; 0; i = i / 10)\r\n    {\r\n        remainder = i % 10;\r\n        sum = sum + remainder * remainder * remainder;\r\n    }\r\n \r\n    if(sum == number)\r\n    {\r\n        System.out.println(&quot;\\n&quot; + number + &quot; is an Armstrong Number\\n&quot;);\r\n    }\r\n\r\n\r\nReference :\r\n\r\nhttp://topjavatutorial.com/java/java-programs/java-program-to-check-if-a-number-is-armstrong-number/\r\n","title":"To check if a number is Armstrong number using java","body":"<p>This is the simple logic for Armstrong number program :</p>\n\n<pre><code>for (int i = number; i &gt; 0; i = i / 10)\n{\n    remainder = i % 10;\n    sum = sum + remainder * remainder * remainder;\n}\n\nif(sum == number)\n{\n    System.out.println(\"\\n\" + number + \" is an Armstrong Number\\n\");\n}\n</code></pre>\n\n<p>Reference :</p>\n\n<p><a href=\"http://topjavatutorial.com/java/java-programs/java-program-to-check-if-a-number-is-armstrong-number/\" rel=\"nofollow noreferrer\">http://topjavatutorial.com/java/java-programs/java-program-to-check-if-a-number-is-armstrong-number/</a></p>\n"},{"tags":[],"owner":{"account_id":9588249,"reputation":1,"user_id":7120139,"display_name":"Manish Sharan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478374004,"creation_date":1478374004,"answer_id":40442305,"question_id":22895936,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class Amst {\r\n        public static void main(String[] args){\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter The No. To Find ArmStrong Check&quot;);\r\n            int i = sc.nextInt();\r\n            int sum = 0;\r\n            for(int j = i; j&gt;0 ; j = j/10){\r\n                sum = sum + ((j%10)*(j%10)*(j%10));\r\n            }\r\n            if(sum == i)\r\n                System.out.println(&quot;Armstrong&quot;);\r\n            else\r\n                System.out.println(&quot;Not Armstrong&quot;);\r\n    \r\n        }\r\n    }","title":"To check if a number is Armstrong number using java","body":"<pre><code>import java.util.Scanner;\n\npublic class Amst {\n    public static void main(String[] args){\n        Scanner sc = new Scanner(System.in);\n        System.out.println(\"Enter The No. To Find ArmStrong Check\");\n        int i = sc.nextInt();\n        int sum = 0;\n        for(int j = i; j&gt;0 ; j = j/10){\n            sum = sum + ((j%10)*(j%10)*(j%10));\n        }\n        if(sum == i)\n            System.out.println(\"Armstrong\");\n        else\n            System.out.println(\"Not Armstrong\");\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9991755,"reputation":241,"user_id":7390783,"display_name":"Code Wines"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520600317,"creation_date":1483884663,"answer_id":41533587,"question_id":22895936,"body_markdown":"    import java.util.*; \r\n    public class ArmstrongNumber \r\n    {\r\n        public static void main( String[] args ) \r\n        {\r\n            int n = 0, temp = 0, r = 0, s = 0;\r\n            Scanner in = new Scanner(System.in);\r\n            System.out.println(&quot;Enter a number &quot;);\r\n            if (in.hasNextInt()) {\r\n                n = in.nextInt(); // if there is another number  \r\n            } else {\r\n                n = 0;\r\n            }\r\n            temp = n;\r\n            while (n != 0) {\r\n                r = n % 10;\r\n                s = s + (r * r * r);\r\n                n = n / 10;\r\n            }\r\n\r\n            if (temp == s) {\r\n                System.out.println(temp + &quot; is an Armstrong Number&quot;);\r\n            } else {\r\n                System.out.println(temp + &quot; is not an Armstrong Number&quot;);\r\n            }\r\n        }\r\n     }\r\n\r\n 1. You missed to import java.util package\r\n\r\n 2. Change n to temp in S.O.P","title":"To check if a number is Armstrong number using java","body":"<pre><code>import java.util.*; \npublic class ArmstrongNumber \n{\n    public static void main( String[] args ) \n    {\n        int n = 0, temp = 0, r = 0, s = 0;\n        Scanner in = new Scanner(System.in);\n        System.out.println(\"Enter a number \");\n        if (in.hasNextInt()) {\n            n = in.nextInt(); // if there is another number  \n        } else {\n            n = 0;\n        }\n        temp = n;\n        while (n != 0) {\n            r = n % 10;\n            s = s + (r * r * r);\n            n = n / 10;\n        }\n\n        if (temp == s) {\n            System.out.println(temp + \" is an Armstrong Number\");\n        } else {\n            System.out.println(temp + \" is not an Armstrong Number\");\n        }\n    }\n }\n</code></pre>\n\n<ol>\n<li><p>You missed to import java.util package</p></li>\n<li><p>Change n to temp in S.O.P</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10801067,"reputation":1,"user_id":7945016,"display_name":"Jijo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493607731,"creation_date":1493586187,"answer_id":43711296,"question_id":22895936,"body_markdown":"For &#39;N&#39; digit amstrong number\r\n\r\n    package jjtest;\r\n\r\n    public class Amstrong {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tint num=54748;\r\n            int c=0;\r\n    \t\tint temp=num;\r\n\r\n    \t\tint b=1;\r\n    \t\tint length = (int)(Math.log10(num)+1);\r\n    \t\twhile(num&gt;0){\t\r\n    \t\t\tint r = num%10;\r\n    \t\t\tnum=num/10;\r\n    \t\t\tint a =1;\r\n    \t\t\tfor(int i=1;i&lt;=length;++i){\r\n    \t\t\t\t b=b*r;\r\n    \t\t}\r\n    \t\t\tc = c + b;\r\n    \t\t\tb=1;\r\n       \t}\r\n    \t\tSystem.out.println(c);\r\n    \t\tif(c==temp){\r\n    \t\t\tSystem.out.println(&quot;its an amstrong number&quot;);\r\n    \t\t}else{\r\n    \t\t\tSystem.out.println(&quot;its not an amstrong number&quot;);\r\n    \t\t}\r\n    \t}\r\n    }","title":"To check if a number is Armstrong number using java","body":"<p>For 'N' digit amstrong number</p>\n\n<pre><code>package jjtest;\n\npublic class Amstrong {\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        int num=54748;\n        int c=0;\n        int temp=num;\n\n        int b=1;\n        int length = (int)(Math.log10(num)+1);\n        while(num&gt;0){   \n            int r = num%10;\n            num=num/10;\n            int a =1;\n            for(int i=1;i&lt;=length;++i){\n                 b=b*r;\n        }\n            c = c + b;\n            b=1;\n    }\n        System.out.println(c);\n        if(c==temp){\n            System.out.println(\"its an amstrong number\");\n        }else{\n            System.out.println(\"its not an amstrong number\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5946193,"reputation":392,"user_id":6870739,"display_name":"Bhola"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515583560,"creation_date":1515583560,"answer_id":48186387,"question_id":22895936,"body_markdown":"Find any digit is Armstrong number or not using loop\r\n\r\n\t\t\r\n\r\n    for(int arm_num = 0 ; arm_num &lt; 100000 ; arm_num++)\r\n    \t\t{\r\n    \t\t\tString[] data = String.valueOf(arm_num).split(&quot;(?&lt;=.)&quot;);\r\n    \t\t\tint lngth = String.valueOf(arm_num).length();\r\n    \t\t\t\r\n    \t\t\tint arm_t_num = 0;\r\n    \t\t\t\r\n    \t\t\tint ary[] = new int[lngth];\r\n    \t\t\t\r\n    \t\t\tfor(int i = 0 ; i &lt; lngth ; i++)\r\n    \t\t\t{\r\n    \t\t\t\tary[i] = Integer.parseInt(data[i]);\r\n    \t\t\t\t\r\n    \t\t\t\tfor(int x = 0 ; x &lt; lngth-1 ; x++)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tary[i] = ary[i] * Integer.parseInt(data[i]);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tarm_t_num+=ary[i];\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif(arm_num == arm_t_num)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;Number is ArmStrong : &quot;+arm_num);\r\n    \t\t\t}\r\n    \t\t}\r\n\r\n\r\n\r\n  ","title":"To check if a number is Armstrong number using java","body":"<p>Find any digit is Armstrong number or not using loop</p>\n\n<pre><code>for(int arm_num = 0 ; arm_num &lt; 100000 ; arm_num++)\n        {\n            String[] data = String.valueOf(arm_num).split(\"(?&lt;=.)\");\n            int lngth = String.valueOf(arm_num).length();\n\n            int arm_t_num = 0;\n\n            int ary[] = new int[lngth];\n\n            for(int i = 0 ; i &lt; lngth ; i++)\n            {\n                ary[i] = Integer.parseInt(data[i]);\n\n                for(int x = 0 ; x &lt; lngth-1 ; x++)\n                {\n                    ary[i] = ary[i] * Integer.parseInt(data[i]);\n                }\n\n                arm_t_num+=ary[i];\n            }\n\n            if(arm_num == arm_t_num)\n            {\n                System.out.println(\"Number is ArmStrong : \"+arm_num);\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13167025,"reputation":1,"user_id":9510789,"display_name":"Niranjani raya"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1521352937,"creation_date":1521350914,"answer_id":49344750,"question_id":22895936,"body_markdown":"//Not limited to 3 digit integers\r\n\r\n\r\n\r\n\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tint num = 54748,a,sum=0;\r\n\t\tint x = num;\r\n\t\tint p =Integer.toString(num).length();\r\n\t\twhile (num !=0) \r\n\t\t{\t\t\r\n\t\t\ta = num%10;\r\n\t\t\tnum = num/10;\r\n\t\t\tsum = sum + (int) Math.pow(a, p);\t\r\n\t\t}\r\n\t\t\r\n\t\tif (x==sum) \r\n\t\t\tSystem.out.println(&quot;Its an Armstrong number&quot;);\r\n\t\telse \r\n\t\t\tSystem.out.println(&quot;Not an Armstrong number&quot;);\r\n\t\t}\r\n}\r\n","title":"To check if a number is Armstrong number using java","body":"<p>//Not limited to 3 digit integers</p>\n\n<pre><code>public static void main(String[] args) \n{\n    int num = 54748,a,sum=0;\n    int x = num;\n    int p =Integer.toString(num).length();\n    while (num !=0) \n    {       \n        a = num%10;\n        num = num/10;\n        sum = sum + (int) Math.pow(a, p);   \n    }\n\n    if (x==sum) \n        System.out.println(\"Its an Armstrong number\");\n    else \n        System.out.println(\"Not an Armstrong number\");\n    }\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":9475267,"reputation":115,"user_id":7044810,"display_name":"Sameer Shrestha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561678813,"creation_date":1561678813,"answer_id":56799511,"question_id":22895936,"body_markdown":"\r\n    private static boolean isArmstrong(int num) {\r\n        int totalSum = 0;\r\n        int copyNum = num;\r\n\r\n        while (num != 0) {\r\n            int reminder = num % 10;\r\n            int cubeOfReminder = reminder * reminder * reminder;\r\n            totalSum = totalSum + cubeOfReminder;\r\n            num = num / 10;\r\n        }\r\n        \r\n        if (copyNum == totalSum)\r\n            return true;\r\n\r\n        return false;\r\n    }","title":"To check if a number is Armstrong number using java","body":"<pre><code>private static boolean isArmstrong(int num) {\n    int totalSum = 0;\n    int copyNum = num;\n\n    while (num != 0) {\n        int reminder = num % 10;\n        int cubeOfReminder = reminder * reminder * reminder;\n        totalSum = totalSum + cubeOfReminder;\n        num = num / 10;\n    }\n\n    if (copyNum == totalSum)\n        return true;\n\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13540830,"reputation":1,"user_id":9768568,"display_name":"Gokul Krishna M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581233188,"creation_date":1581233188,"answer_id":60134396,"question_id":22895936,"body_markdown":"\r\n\r\n\r\n\r\n    public class Testamstrong \r\n    {\r\n    \tpublic static void main(String...strings) {\r\n    \t\tint num = 153,temp;\r\n    \t\ttemp = num;\r\n    \t\tif(temp == amstrongNumber(num)) {\r\n    \t\t\tSystem.out.println(&quot;Number is amstrong number...&quot;);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tSystem.out.println(&quot;Number is not amstrong number...&quot;);\r\n    \t\t}\r\n    \t}\r\n    \tpublic static int amstrongNumber(int num) {\r\n    \t\tint count=0,sum=0;\r\n    \t\tcount = String.valueOf(num).length();\r\n    \t\tchar[] ch = String.valueOf(num).toCharArray();\r\n    \t\tfor(char ch1:ch) {\r\n    \t\t\tint num1 = Character.getNumericValue(ch1);\r\n    \t\t\tsum += Math.pow(num1, count);\r\n    \t\t}\r\n    \t\treturn sum;\r\n    \t}\r\n    }","title":"To check if a number is Armstrong number using java","body":"<pre><code>public class Testamstrong \n{\n    public static void main(String...strings) {\n        int num = 153,temp;\n        temp = num;\n        if(temp == amstrongNumber(num)) {\n            System.out.println(\"Number is amstrong number...\");\n        }\n        else {\n            System.out.println(\"Number is not amstrong number...\");\n        }\n    }\n    public static int amstrongNumber(int num) {\n        int count=0,sum=0;\n        count = String.valueOf(num).length();\n        char[] ch = String.valueOf(num).toCharArray();\n        for(char ch1:ch) {\n            int num1 = Character.getNumericValue(ch1);\n            sum += Math.pow(num1, count);\n        }\n        return sum;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18392189,"reputation":1,"user_id":13397607,"display_name":"Rohit_Raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591255377,"creation_date":1591255377,"answer_id":62188973,"question_id":22895936,"body_markdown":"Find Armstrong number using for loops (with example)   \r\n \r\n\r\n    import java.util.*;\r\n        public class ArmstorngNumber {\r\n            public static void main(String args[]) {\r\n        \r\n                    int cube, num, quo, n;\r\n                    int s = 0;\r\n                    do\r\n                        {\r\n                            System.out.println(&quot;Enter Your Number&quot;);\r\n                            Scanner sc = new Scanner(System.in);\r\n                            num = sc.nextInt();//153\r\n                            n = num;\r\n                            for (int i = 0; i &lt; 10; i++) {\r\n                                int rem = num % 10;//3\r\n                                quo = num / 10; //15\r\n                                cube = rem * rem * rem;//9\r\n                                s = s + cube;//0+9\r\n                                num = quo;//0\r\n                            }\r\n                            System.out.println(s);\r\n                            System.out.println(n);\r\n                            if (s == n) {\r\n                                System.out.println(&quot;The number is Armstrong&quot;);\r\n                                System.out.println(&quot;-------------------------------------&quot;);\r\n                            }\r\n                            else {\r\n                                     System.out.println(&quot;The number is not Armstrong&quot;);\r\n                                    System.out.println(&quot;-------------------------------------&quot;);\r\n                                 }\r\n                }\r\n                while (n &gt; 0);\r\n            }\r\n        }","title":"To check if a number is Armstrong number using java","body":"<p>Find Armstrong number using for loops (with example)   </p>\n\n<pre><code>import java.util.*;\n    public class ArmstorngNumber {\n        public static void main(String args[]) {\n\n                int cube, num, quo, n;\n                int s = 0;\n                do\n                    {\n                        System.out.println(\"Enter Your Number\");\n                        Scanner sc = new Scanner(System.in);\n                        num = sc.nextInt();//153\n                        n = num;\n                        for (int i = 0; i &lt; 10; i++) {\n                            int rem = num % 10;//3\n                            quo = num / 10; //15\n                            cube = rem * rem * rem;//9\n                            s = s + cube;//0+9\n                            num = quo;//0\n                        }\n                        System.out.println(s);\n                        System.out.println(n);\n                        if (s == n) {\n                            System.out.println(\"The number is Armstrong\");\n                            System.out.println(\"-------------------------------------\");\n                        }\n                        else {\n                                 System.out.println(\"The number is not Armstrong\");\n                                System.out.println(\"-------------------------------------\");\n                             }\n            }\n            while (n &gt; 0);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19768800,"reputation":1,"user_id":14476188,"display_name":"Dasari Bhovan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603089486,"creation_date":1603089486,"answer_id":64422273,"question_id":22895936,"body_markdown":"\r\nCheck the Armstrong number of any number [java] [Armstrong]\r\n\r\n\r\n\r\n\r\n       import java.util.*;\r\n       public class Armstrong {\r\n        public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.print(&quot;enter any number?&quot;);\r\n        int x = sc.nextInt();\r\n        int n=0;\r\n\t\tint number = x;\r\n\t\tint j =x;\r\n        int result = 0 ,remainder;\r\n\t\twhile (x!=0) {\r\n\t\t\tx/=10;\r\n\t\t\t++n;\r\n\t\t}\r\n\t     for(;j&gt;0 ;j=j/10) {\r\n        \tremainder=j%10;\r\n        \tresult+=Math.pow(remainder, n);\r\n        }\r\n        if (number==result) {\r\n        \tSystem.out.print(number +&quot;  is  Armstrong &quot;);\r\n        \t}\r\n        else\r\n        \tSystem.out.print(number +&quot;  is not Armstrong&quot;);\r\n       }\r\n\r\n     }","title":"To check if a number is Armstrong number using java","body":"<p>Check the Armstrong number of any number [java] [Armstrong]</p>\n<pre><code>   import java.util.*;\n   public class Armstrong {\n    public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    System.out.print(&quot;enter any number?&quot;);\n    int x = sc.nextInt();\n    int n=0;\n    int number = x;\n    int j =x;\n    int result = 0 ,remainder;\n    while (x!=0) {\n        x/=10;\n        ++n;\n    }\n     for(;j&gt;0 ;j=j/10) {\n        remainder=j%10;\n        result+=Math.pow(remainder, n);\n    }\n    if (number==result) {\n        System.out.print(number +&quot;  is  Armstrong &quot;);\n        }\n    else\n        System.out.print(number +&quot;  is not Armstrong&quot;);\n   }\n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20529334,"reputation":1,"user_id":15067019,"display_name":"Surjo Bhattacharya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611438882,"creation_date":1611424975,"answer_id":65862624,"question_id":22895936,"body_markdown":"here is my code, please check if this works for you!       \r\n\r\n\r\n\r\n \r\n```\r\nimport java.util.Scanner;\r\npublic class Armstromg {\r\n    public static void main(String[] args) { \r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.print(&quot;Please enter the number: &quot;);        \r\n       int num = sc.nextInt(); \r\n       int length = 0;\r\n       int temp1 = num;\r\n       while(temp1 != 0) { \r\n          temp1/=10;\r\n          length+=1; \r\n       }\r\n       int result = 1;\r\n       int temp2 = num; \r\n       for(int i = 1; i &lt;= length; i++) { \r\n           temp2 = temp2 % 10;\r\n           result*=Math.pow(temp2,length);\r\n          \r\n       }\r\n       if(result == num) { \r\n          System.out.print(&quot;The number is an armstrong number!&quot;);\r\n       } else { \r\n           System.out.print(&quot;The number is not an armstrong number&quot;);\r\n       }\r\n    }\r\n}\r\n ```\r\n\r\n \r\n","title":"To check if a number is Armstrong number using java","body":"<p>here is my code, please check if this works for you!</p>\n<pre><code>import java.util.Scanner;\npublic class Armstromg {\n    public static void main(String[] args) { \n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;Please enter the number: &quot;);        \n       int num = sc.nextInt(); \n       int length = 0;\n       int temp1 = num;\n       while(temp1 != 0) { \n          temp1/=10;\n          length+=1; \n       }\n       int result = 1;\n       int temp2 = num; \n       for(int i = 1; i &lt;= length; i++) { \n           temp2 = temp2 % 10;\n           result*=Math.pow(temp2,length);\n          \n       }\n       if(result == num) { \n          System.out.print(&quot;The number is an armstrong number!&quot;);\n       } else { \n           System.out.print(&quot;The number is not an armstrong number&quot;);\n       }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1525014,"reputation":1869,"user_id":1423685,"accept_rate":62,"display_name":"bastiat"},"score":0,"creation_date":1614024381,"post_id":66321447,"comment_id":117252867,"body_markdown":"Correct answear is already accepted. Problem was with classpath. Naili confirmed in first comment to question that original code works fine.","body":"Correct answear is already accepted. Problem was with classpath. Naili confirmed in first comment to question that original code works fine."}],"tags":[],"owner":{"account_id":20382101,"reputation":51,"user_id":14951983,"display_name":"Abeetha Heshan"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1614018773,"creation_date":1614018773,"answer_id":66321447,"question_id":22895936,"body_markdown":"\t\t    Scanner input = new Scanner (System.in);\r\n\t\t    int num  , counter = 0 ,temp;\r\n\t\t    System.out.print(&quot;Enter Nmber :&quot;);\r\n\t\t    num = input.nextInt();\r\n\t\t    int lnum = num;\r\n\t\t    while ( num != 0 ){\r\n\t\t\t\t num = num/10 ;\r\n\t             counter++; \r\n\t              \r\n\t             \r\n\t\t    } \r\n\t\t\t \r\n\t\t     int store_num_keyboard_input = lnum;\r\n\t\t     int new_tot = 0;\r\n\t\t     int c = counter; \r\n\t\t\t\t\r\n\t\t      while(lnum &gt; 0){\r\n\t\t            temp = lnum % 10;\r\n\t\t            lnum = lnum / 10 ;\r\n\t\t           \r\n\t\t        \r\n\t\t           int m = 0;  //m is counter \r\n\t\t         \r\n\t\t           int tot = 1;\r\n\t\t           while (m != c){\r\n\t\t\t        tot = tot * temp;  \r\n\t\t\t\t   m++;\r\n\t\t           }\r\n\t\t\t\t  \r\n\t\t           new_tot = new_tot + tot; \r\n\t\t       }\r\n\t\t       System.out.println(&quot;new total &quot;+ new_tot );\r\n\t\t       if(new_tot == store_num_keyboard_input){\r\n                       System.out.println(store_num_keyboard_input + &quot; is an Armstrong number&quot;   );\r\n\t\t       }\r\n                       else{\r\n                       System.out.println(store_num_keyboard_input + &quot; is not an Armstrong number&quot;  );\r\n\t\t       }","title":"To check if a number is Armstrong number using java","body":"<pre><code>        Scanner input = new Scanner (System.in);\n        int num  , counter = 0 ,temp;\n        System.out.print(&quot;Enter Nmber :&quot;);\n        num = input.nextInt();\n        int lnum = num;\n        while ( num != 0 ){\n             num = num/10 ;\n             counter++; \n              \n             \n        } \n         \n         int store_num_keyboard_input = lnum;\n         int new_tot = 0;\n         int c = counter; \n            \n          while(lnum &gt; 0){\n                temp = lnum % 10;\n                lnum = lnum / 10 ;\n               \n            \n               int m = 0;  //m is counter \n             \n               int tot = 1;\n               while (m != c){\n                tot = tot * temp;  \n               m++;\n               }\n              \n               new_tot = new_tot + tot; \n           }\n           System.out.println(&quot;new total &quot;+ new_tot );\n           if(new_tot == store_num_keyboard_input){\n                   System.out.println(store_num_keyboard_input + &quot; is an Armstrong number&quot;   );\n           }\n                   else{\n                   System.out.println(store_num_keyboard_input + &quot; is not an Armstrong number&quot;  );\n           }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630099861,"creation_date":1630099861,"answer_id":68959548,"question_id":22895936,"body_markdown":"        package Loops;\r\n        public class ArmStrongNumber {\r\n            public static void main(String[] args) {\r\n                int digit1, digit2, digit3;\r\n                int number = 153;\r\n                int temp = number;\r\n                digit1 = number % 10;\r\n                number = number / 10;\r\n                digit2 = number % 10;\r\n                number = number / 10;\r\n                digit3 = number % 10;\r\n                if ((digit1 * digit1 * digit1) + (digit2 * digit2 * digit2) + (digit3 * digit3 * digit3) == temp) {\r\n                    System.out.println(+temp + &quot; Number is Armstrong &quot;);\r\n                } else {\r\n                    System.out.println(&quot;Number is not Armstrong&quot;);\r\n                }\r\n        \r\n            }\r\n        }\r\n","title":"To check if a number is Armstrong number using java","body":"<pre><code>    package Loops;\n    public class ArmStrongNumber {\n        public static void main(String[] args) {\n            int digit1, digit2, digit3;\n            int number = 153;\n            int temp = number;\n            digit1 = number % 10;\n            number = number / 10;\n            digit2 = number % 10;\n            number = number / 10;\n            digit3 = number % 10;\n            if ((digit1 * digit1 * digit1) + (digit2 * digit2 * digit2) + (digit3 * digit3 * digit3) == temp) {\n                System.out.println(+temp + &quot; Number is Armstrong &quot;);\n            } else {\n                System.out.println(&quot;Number is not Armstrong&quot;);\n            }\n    \n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11327681,"reputation":1,"user_id":8306031,"display_name":"nams"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650007409,"creation_date":1650007409,"answer_id":71881201,"question_id":22895936,"body_markdown":"My answer using JAVA 8\r\ntested for..[1, 153, 370, 371, 407]\r\npublic class Armstrong {\r\n\t\r\n\tpublic static boolean isArmstrong(int num) {\r\n\t    return num == getArmstrongSum(num);\r\n\t}\r\n\r\n\tpublic static int getArmstrongSum(int num) {\r\n\t    int pow = String.valueOf(num).length();\r\n\t    return IntStream.iterate(num, i -&gt; i / 10)\r\n\t            .limit(pow)\r\n\t            .map(i -&gt; (int) Math.pow(i % 10, 3))\r\n\t            .sum();\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t    System.out.println(isArmstrong(153));\r\n\t}\r\n}\r\n\tThank you.","title":"To check if a number is Armstrong number using java","body":"<p>My answer using JAVA 8\ntested for..[1, 153, 370, 371, 407]\npublic class Armstrong {</p>\n<pre><code>public static boolean isArmstrong(int num) {\n    return num == getArmstrongSum(num);\n}\n\npublic static int getArmstrongSum(int num) {\n    int pow = String.valueOf(num).length();\n    return IntStream.iterate(num, i -&gt; i / 10)\n            .limit(pow)\n            .map(i -&gt; (int) Math.pow(i % 10, 3))\n            .sum();\n}\n\npublic static void main(String[] args) {\n    \n        System.out.println(isArmstrong(153));\n}\n</code></pre>\n<p>}\nThank you.</p>\n"},{"tags":[],"owner":{"account_id":27432357,"reputation":1,"user_id":20928834,"display_name":"Minuwan Kariyawasam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679149861,"creation_date":1679149861,"answer_id":75776503,"question_id":22895936,"body_markdown":"//more into fundamentals\r\n\r\n    import java.util.*;\r\n    class Example{\r\n\r\n         public static boolean isArmstrong(int num){\r\n\r\n         int num1 = num,total = 0;\r\n\r\n         while(num1 != 0){\r\n\r\n             total += (num1%10)*(num1%10)*(num1%10);\r\n\r\n             num1 /= 10;\r\n         }\r\n\r\n         if(total == num){\r\n            return true;\r\n         }\r\n\r\n         return false;\r\n         }\r\n\r\n         public static void main(String[] args){\r\n         Scanner in = new Scanner(System.in);\r\n         System.out.print(&quot;Enter Number : &quot;);\r\n         int num = in.nextInt();\r\n\r\n         if(isArmstrong(num)){\r\n              System.out.println(num + &quot; is a armstrong number&quot;);\r\n         }else{\r\n          System.out.println(num + &quot; is not a armstrong number&quot;);\r\n         }\r\n         } \r\n     }","title":"To check if a number is Armstrong number using java","body":"<p>//more into fundamentals</p>\n<pre><code>import java.util.*;\nclass Example{\n\n     public static boolean isArmstrong(int num){\n\n     int num1 = num,total = 0;\n\n     while(num1 != 0){\n\n         total += (num1%10)*(num1%10)*(num1%10);\n\n         num1 /= 10;\n     }\n\n     if(total == num){\n        return true;\n     }\n\n     return false;\n     }\n\n     public static void main(String[] args){\n     Scanner in = new Scanner(System.in);\n     System.out.print(&quot;Enter Number : &quot;);\n     int num = in.nextInt();\n\n     if(isArmstrong(num)){\n          System.out.println(num + &quot; is a armstrong number&quot;);\n     }else{\n      System.out.println(num + &quot; is not a armstrong number&quot;);\n     }\n     } \n }\n</code></pre>\n"}],"owner":{"account_id":4286064,"reputation":41,"user_id":3503832,"display_name":"user3503832"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24054,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":22896034,"answer_count":21,"score":-4,"last_activity_date":1679149861,"creation_date":1396797661,"question_id":22895936,"body_markdown":"this is my program:\r\n\r\n    public class ArmstrongNumber {\r\n    \r\n        public static void main(String args[]) {\r\n            int n = 0, temp = 0, r = 0, s = 0;\r\n            Scanner in = new Scanner(System.in);\r\n            System.out.println(&quot;Enter a number &quot;);\r\n            if (in.hasNextInt()) {\r\n                n = in.nextInt(); // if there is another number  \r\n            } else {\r\n                n = 0;\r\n            }\r\n            temp = n;\r\n            while (n != 0) {\r\n                r = n % 10;\r\n                s = s + (r * r * r);\r\n                n = n / 10;\r\n            }\r\n    \r\n            if (temp == s) {\r\n                System.out.println(n + &quot; is an Armstrong Number&quot;);\r\n            } else {\r\n                System.out.println(n + &quot; is not an Armstrong Number&quot;);\r\n            }\r\n        }\r\n    }  \r\n\r\n     \r\n\r\n\r\noutput:\r\n\r\n  Exception in thread `&quot;main&quot;` `java.lang.NoClassDefFoundError`\r\n\r\n\r\nI tried it using `DataInputStream` but still getting same error.","title":"To check if a number is Armstrong number using java","body":"<p>this is my program:</p>\n\n<pre><code>public class ArmstrongNumber {\n\n    public static void main(String args[]) {\n        int n = 0, temp = 0, r = 0, s = 0;\n        Scanner in = new Scanner(System.in);\n        System.out.println(\"Enter a number \");\n        if (in.hasNextInt()) {\n            n = in.nextInt(); // if there is another number  \n        } else {\n            n = 0;\n        }\n        temp = n;\n        while (n != 0) {\n            r = n % 10;\n            s = s + (r * r * r);\n            n = n / 10;\n        }\n\n        if (temp == s) {\n            System.out.println(n + \" is an Armstrong Number\");\n        } else {\n            System.out.println(n + \" is not an Armstrong Number\");\n        }\n    }\n}  \n</code></pre>\n\n<p>output:</p>\n\n<p>Exception in thread <code>\"main\"</code> <code>java.lang.NoClassDefFoundError</code></p>\n\n<p>I tried it using <code>DataInputStream</code> but still getting same error.</p>\n"},{"tags":["java","spring","spring-boot","api","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1679079508,"post_id":75770072,"comment_id":133662920,"body_markdown":"this is not how you implement the handling of JWTs in spring security. Please read the official spring documentation on how to implement the resource server specification.","body":"this is not how you implement the handling of JWTs in spring security. Please read the official spring documentation on how to implement the resource server specification."},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1679080418,"post_id":75770072,"comment_id":133663129,"body_markdown":"Are you referring to the filterToken?","body":"Are you referring to the filterToken?"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1679081811,"post_id":75770072,"comment_id":133663448,"body_markdown":"yes, please read the oauth2/resource server/jwt section in the official spring security documentation.","body":"yes, please read the oauth2/resource server/jwt section in the official spring security documentation."},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1679087915,"post_id":75770072,"comment_id":133664722,"body_markdown":"Yes, I did that and it didn&#39;t work. Also just to be on the safe side, I directly put the string &quot;Bearer &quot; instead of a variable. Unsuccessfully...","body":"Yes, I did that and it didn&#39;t work. Also just to be on the safe side, I directly put the string &quot;Bearer &quot; instead of a variable. Unsuccessfully..."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1679136081,"post_id":75770072,"comment_id":133669498,"body_markdown":"@JunqRal  Then your code  is not matching the stacktrace. That means you new code was not compiled or not executed. Close your IDE and open it again, run it again an show the new stacktrace.","body":"@JunqRal  Then your code  is not matching the stacktrace. That means you new code was not compiled or not executed. Close your IDE and open it again, run it again an show the new stacktrace."},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1679147773,"post_id":75770072,"comment_id":133671271,"body_markdown":"Do you refer to the stack trace before sending the request and the error occurs?","body":"Do you refer to the stack trace before sending the request and the error occurs?"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":1,"creation_date":1679151947,"post_id":75770072,"comment_id":133671918,"body_markdown":"I noticed that sending my issued token here https://jwt.io/ I get Invalid Signature. Is there a chance that the wrong token is being issued?","body":"I noticed that sending my issued token here <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">jwt.io</a> I get Invalid Signature. Is there a chance that the wrong token is being issued?"}],"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679149550,"creation_date":1679071022,"question_id":75770072,"body_markdown":"I&#39;m developing an API in spring boot, and in this api I have an authentication controller that I make a request with database login and password and I receive an authentication token\r\n\r\n```\r\npackage com.api.business_manager_api.Controllers;\r\n\r\nimport com.api.business_manager_api.Dtos.LoginDto;\r\nimport com.api.business_manager_api.Security.JwtAuthenticationResponse;\r\nimport com.api.business_manager_api.Security.JwtTokenProvider;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/auth&quot;)\r\npublic class AuthController {\r\n    @Autowired\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    @Autowired\r\n    private JwtTokenProvider jwtTokenProvider;\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;?&gt; authenticateUser (@RequestBody @Valid LoginDto loginDto) {\r\n\r\n        Authentication authentication = authenticationManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(\r\n                        loginDto.getUsername(),\r\n                        loginDto.getPassword()\r\n                )\r\n        );\r\n\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n        String jwt = jwtTokenProvider.generateToken(authentication);\r\n        return ResponseEntity.ok(new JwtAuthenticationResponse(jwt));\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nI&#39;m getting the token correctly as expected, but the problem is that I can&#39;t authenticate it. When I try to join a private route I get the error &quot;denied&quot;\r\n\r\n```\r\norg.springframework.security.access.AccessDeniedException: Access Denied\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:170) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat com.api.business_manager_api.Security.FilterToken.doFilterInternal(FilterToken.java:72) ~[classes/:na]\r\n```\r\n\r\nhere the securityConfig\r\n\r\n```\r\npackage com.api.business_manager_api.Config;\r\n\r\nimport com.api.business_manager_api.Security.FilterToken;\r\nimport com.api.business_manager_api.Services.UserDetailsServiceImpl;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Autowired\r\n    private FilterToken filter;\r\n\r\n    @Autowired\r\n    private final UserDetailsServiceImpl userDetailsService;\r\n\r\n    public SecurityConfig(UserDetailsServiceImpl userDetailsService) {\r\n        this.userDetailsService = userDetailsService;\r\n    }\r\n\r\n    @Autowired\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsService).passwordEncoder(new BCryptPasswordEncoder());\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\r\n\r\n        return http\r\n                .csrf().disable()\r\n                .authorizeHttpRequests(\r\n                        authorizeConfig -&gt; {\r\n                            authorizeConfig.requestMatchers(HttpMethod.POST, &quot;/user&quot;).permitAll();\r\n                            authorizeConfig.requestMatchers(HttpMethod.POST, &quot;/auth**&quot;).permitAll();\r\n                            authorizeConfig.requestMatchers(&quot;/error&quot;).permitAll();\r\n                            authorizeConfig.requestMatchers(&quot;/user/**&quot;).authenticated();\r\n                            authorizeConfig.anyRequest().authenticated();\r\n                        })\r\n                .userDetailsService(userDetailsService)\r\n                .httpBasic()\r\n                .and()\r\n                .addFilterBefore(filter, UsernamePasswordAuthenticationFilter.class)\r\n                .build();\r\n    }\r\n}\r\n\r\n```\r\n\r\nfilterToken\r\n\r\n```\r\npackage com.api.business_manager_api.Security;\r\n\r\nimport com.api.business_manager_api.Models.UserModel;\r\nimport com.api.business_manager_api.Repositories.UserRepository;\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.Jwts;\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.apache.tomcat.util.http.parser.Authorization;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\nimport software.amazon.awssdk.services.medialive.model.ClaimDeviceRequest;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Optional;\r\n\r\n@Component\r\npublic class FilterToken extends OncePerRequestFilter {\r\n\r\n    private final String HEADER_AUTHORIZATION = &quot;Authorization&quot;;\r\n    private final String TOKEN_PREFIX = &quot;Bearer&quot;;\r\n\r\n    @Value(&quot;${app.jwtSecret}&quot;)\r\n    private String jwtSecret;\r\n    @Autowired\r\n    private UserDetailsService userDetailsService;\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        String authorizationHeader = request.getHeader(HEADER_AUTHORIZATION);\r\n\r\n        if (authorizationHeader == null || !authorizationHeader.startsWith(TOKEN_PREFIX)) {\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n\r\n        String token = authorizationHeader.replace(TOKEN_PREFIX, &quot;&quot;);\r\n        try {\r\n            Claims claims = Jwts.parser()\r\n                    .setSigningKey(jwtSecret.getBytes())\r\n                    .parseClaimsJws(token)\r\n                    .getBody();\r\n\r\n\r\n            String username = claims.getSubject();\r\n            Optional&lt;UserModel&gt; user = userRepository.findByUsername(username);\r\n\r\n            if (user.isPresent()) {\r\n                UserDetails userDetails = userDetailsService.loadUserByUsername(username);\r\n                UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\r\n                        userDetails, null, userDetails.getAuthorities());\r\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            }\r\n        } catch (Exception e) {\r\n           ResponseEntity.status(HttpStatus.BAD_REQUEST).body(e);\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n\r\n```\r\n\r\ntokenProvider\r\n\r\n```\r\npackage com.api.business_manager_api.Security;\r\n\r\nimport com.api.business_manager_api.Models.UserModel;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.SignatureAlgorithm;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.Date;\r\n\r\n@Component\r\npublic class JwtTokenProvider {\r\n\r\n    @Value(&quot;${app.jwtSecret}&quot;)\r\n    private String jwtSecret;\r\n\r\n    @Value(&quot;${app.jwtExpirationInMs}&quot;)\r\n    private int jwtExpirationInMs;\r\n\r\n    public String generateToken(Authentication authentication) {\r\n        org.springframework.security.core.userdetails.User userPrincipal = (org.springframework.security.core.userdetails.User) authentication.getPrincipal();\r\n\r\n        UserModel userModel = new UserModel();\r\n        userModel.setUsername(userPrincipal.getUsername());\r\n\r\n        Date now = new Date();\r\n        Date expiryDate = new Date(now.getTime() + jwtExpirationInMs);\r\n\r\n        return Jwts.builder()\r\n                .setSubject(userPrincipal.getUsername())\r\n                .setIssuedAt(now)\r\n                .setExpiration(expiryDate)\r\n                .signWith(SignatureAlgorithm.HS512, jwtSecret)\r\n                .compact();\r\n    }\r\n}\r\n\r\n```\r\n\r\nYes, I am correctly sending the token by &quot;Authorization&quot; in the header of my request.\r\n\r\n\r\nuserDetailsService\r\n\r\n```\r\npackage com.api.business_manager_api.Services;\r\n\r\nimport com.api.business_manager_api.Models.UserModel;\r\nimport com.api.business_manager_api.Repositories.UserRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class UserDetailsServiceImpl implements UserDetailsService {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        Optional &lt;UserModel&gt; optionalUser = userRepository.findByUsername(username);\r\n\r\n        if (optionalUser.isPresent()) {\r\n            UserModel userModel = optionalUser.get();\r\n            return new org.springframework.security.core.userdetails.User(userModel.getUsername(), userModel.getPassword(),\r\n                    new ArrayList&lt;&gt;());\r\n        } else {\r\n            throw new UsernameNotFoundException(&quot;User not found with username: &quot; + username);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"denied error with token login (Spring security)","body":"<p>I'm developing an API in spring boot, and in this api I have an authentication controller that I make a request with database login and password and I receive an authentication token</p>\n<pre><code>package com.api.business_manager_api.Controllers;\n\nimport com.api.business_manager_api.Dtos.LoginDto;\nimport com.api.business_manager_api.Security.JwtAuthenticationResponse;\nimport com.api.business_manager_api.Security.JwtTokenProvider;\nimport jakarta.validation.Valid;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/auth&quot;)\npublic class AuthController {\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Autowired\n    private JwtTokenProvider jwtTokenProvider;\n\n    @PostMapping\n    public ResponseEntity&lt;?&gt; authenticateUser (@RequestBody @Valid LoginDto loginDto) {\n\n        Authentication authentication = authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(\n                        loginDto.getUsername(),\n                        loginDto.getPassword()\n                )\n        );\n\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n\n        String jwt = jwtTokenProvider.generateToken(authentication);\n        return ResponseEntity.ok(new JwtAuthenticationResponse(jwt));\n\n    }\n}\n\n</code></pre>\n<p>I'm getting the token correctly as expected, but the problem is that I can't authenticate it. When I try to join a private route I get the error &quot;denied&quot;</p>\n<pre><code>org.springframework.security.access.AccessDeniedException: Access Denied\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:170) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at com.api.business_manager_api.Security.FilterToken.doFilterInternal(FilterToken.java:72) ~[classes/:na]\n</code></pre>\n<p>here the securityConfig</p>\n<pre><code>package com.api.business_manager_api.Config;\n\nimport com.api.business_manager_api.Security.FilterToken;\nimport com.api.business_manager_api.Services.UserDetailsServiceImpl;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Autowired\n    private FilterToken filter;\n\n    @Autowired\n    private final UserDetailsServiceImpl userDetailsService;\n\n    public SecurityConfig(UserDetailsServiceImpl userDetailsService) {\n        this.userDetailsService = userDetailsService;\n    }\n\n    @Autowired\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(new BCryptPasswordEncoder());\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n\n        return http\n                .csrf().disable()\n                .authorizeHttpRequests(\n                        authorizeConfig -&gt; {\n                            authorizeConfig.requestMatchers(HttpMethod.POST, &quot;/user&quot;).permitAll();\n                            authorizeConfig.requestMatchers(HttpMethod.POST, &quot;/auth**&quot;).permitAll();\n                            authorizeConfig.requestMatchers(&quot;/error&quot;).permitAll();\n                            authorizeConfig.requestMatchers(&quot;/user/**&quot;).authenticated();\n                            authorizeConfig.anyRequest().authenticated();\n                        })\n                .userDetailsService(userDetailsService)\n                .httpBasic()\n                .and()\n                .addFilterBefore(filter, UsernamePasswordAuthenticationFilter.class)\n                .build();\n    }\n}\n\n</code></pre>\n<p>filterToken</p>\n<pre><code>package com.api.business_manager_api.Security;\n\nimport com.api.business_manager_api.Models.UserModel;\nimport com.api.business_manager_api.Repositories.UserRepository;\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.apache.tomcat.util.http.parser.Authorization;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\nimport software.amazon.awssdk.services.medialive.model.ClaimDeviceRequest;\n\nimport java.io.IOException;\nimport java.util.Optional;\n\n@Component\npublic class FilterToken extends OncePerRequestFilter {\n\n    private final String HEADER_AUTHORIZATION = &quot;Authorization&quot;;\n    private final String TOKEN_PREFIX = &quot;Bearer&quot;;\n\n    @Value(&quot;${app.jwtSecret}&quot;)\n    private String jwtSecret;\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        String authorizationHeader = request.getHeader(HEADER_AUTHORIZATION);\n\n        if (authorizationHeader == null || !authorizationHeader.startsWith(TOKEN_PREFIX)) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n\n        String token = authorizationHeader.replace(TOKEN_PREFIX, &quot;&quot;);\n        try {\n            Claims claims = Jwts.parser()\n                    .setSigningKey(jwtSecret.getBytes())\n                    .parseClaimsJws(token)\n                    .getBody();\n\n\n            String username = claims.getSubject();\n            Optional&lt;UserModel&gt; user = userRepository.findByUsername(username);\n\n            if (user.isPresent()) {\n                UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n                UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\n                        userDetails, null, userDetails.getAuthorities());\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n            }\n        } catch (Exception e) {\n           ResponseEntity.status(HttpStatus.BAD_REQUEST).body(e);\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n\n</code></pre>\n<p>tokenProvider</p>\n<pre><code>package com.api.business_manager_api.Security;\n\nimport com.api.business_manager_api.Models.UserModel;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.stereotype.Component;\n\nimport java.util.Date;\n\n@Component\npublic class JwtTokenProvider {\n\n    @Value(&quot;${app.jwtSecret}&quot;)\n    private String jwtSecret;\n\n    @Value(&quot;${app.jwtExpirationInMs}&quot;)\n    private int jwtExpirationInMs;\n\n    public String generateToken(Authentication authentication) {\n        org.springframework.security.core.userdetails.User userPrincipal = (org.springframework.security.core.userdetails.User) authentication.getPrincipal();\n\n        UserModel userModel = new UserModel();\n        userModel.setUsername(userPrincipal.getUsername());\n\n        Date now = new Date();\n        Date expiryDate = new Date(now.getTime() + jwtExpirationInMs);\n\n        return Jwts.builder()\n                .setSubject(userPrincipal.getUsername())\n                .setIssuedAt(now)\n                .setExpiration(expiryDate)\n                .signWith(SignatureAlgorithm.HS512, jwtSecret)\n                .compact();\n    }\n}\n\n</code></pre>\n<p>Yes, I am correctly sending the token by &quot;Authorization&quot; in the header of my request.</p>\n<p>userDetailsService</p>\n<pre><code>package com.api.business_manager_api.Services;\n\nimport com.api.business_manager_api.Models.UserModel;\nimport com.api.business_manager_api.Repositories.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport java.util.ArrayList;\nimport java.util.Optional;\n\n@Service\npublic class UserDetailsServiceImpl implements UserDetailsService {\n    @Autowired\n    private UserRepository userRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        Optional &lt;UserModel&gt; optionalUser = userRepository.findByUsername(username);\n\n        if (optionalUser.isPresent()) {\n            UserModel userModel = optionalUser.get();\n            return new org.springframework.security.core.userdetails.User(userModel.getUsername(), userModel.getPassword(),\n                    new ArrayList&lt;&gt;());\n        } else {\n            throw new UsernameNotFoundException(&quot;User not found with username: &quot; + username);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","fonts"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1646686423,"post_id":71386994,"comment_id":126180969,"body_markdown":"Declare it outside the block. See: https://stackoverflow.com/questions/19020300/java-try-catch-access-variables-in-try-block-if-successful","body":"Declare it outside the block. See: <a href=\"https://stackoverflow.com/questions/19020300/java-try-catch-access-variables-in-try-block-if-successful\" title=\"java try catch access variables in try block if successful\">stackoverflow.com/questions/19020300/&hellip;</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1646687674,"post_id":71386994,"comment_id":126181325,"body_markdown":"Once registered with the `GraphicsEnvironment`, you can use [`Font(String, int, int)`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Font.html#%3Cinit%3E(java.lang.String,int,int)) to obtain a reference to it","body":"Once registered with the <code>GraphicsEnvironment</code>, you can use <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Font.html#%3Cinit%3E(java.lang.String,int,int)\" rel=\"nofollow noreferrer\"><code>Font(String, int, int)</code></a> to obtain a reference to it"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646688373,"post_id":71386994,"comment_id":126181530,"body_markdown":"Local variables cannot be accessed outside the block they were declared in unless it is in a method that returns that variable. In your case, a variable declared inside a `try/catch` cannot be accessed outside of it (try/catch blocks are not methods and therefore, don&#39;t return anything). Of course, you can do what MadProgrammer suggested to work around this issue.","body":"Local variables cannot be accessed outside the block they were declared in unless it is in a method that returns that variable. In your case, a variable declared inside a <code>try&#47;catch</code> cannot be accessed outside of it (try/catch blocks are not methods and therefore, don&#39;t return anything). Of course, you can do what MadProgrammer suggested to work around this issue."},{"owner":{"account_id":24457053,"reputation":25,"user_id":18378492,"display_name":"cheese"},"score":0,"creation_date":1646692203,"post_id":71386994,"comment_id":126182617,"body_markdown":"@DavidConrad that helped, it now works just fine and looks very cool with its new font :D","body":"@DavidConrad that helped, it now works just fine and looks very cool with its new font :D"}],"answers":[{"comments":[{"owner":{"account_id":24457053,"reputation":25,"user_id":18378492,"display_name":"cheese"},"score":0,"creation_date":1646691966,"post_id":71387493,"comment_id":126182545,"body_markdown":"...well i got a giant error when that run. it might help to say that I am using repl.it, which seems to have problems with otherwise fine programs a lot in my experience. the error is so big it won&#39;t even fit in the comment","body":"...well i got a giant error when that run. it might help to say that I am using repl.it, which seems to have problems with otherwise fine programs a lot in my experience. the error is so big it won&#39;t even fit in the comment"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1646693934,"post_id":71387493,"comment_id":126183013,"body_markdown":"Ok, so the runnable example works fine in a &quot;normal&quot; environment.  The only difference is, I&#39;m loading my font from an embedded context instead of a file. Having said that, the concept of the idea works fine, you&#39;ll need to work your way around the other issues. `repl.it` probably isn&#39;t going to be able to deal with  a graphical environment or accessing resources (like files) - build it from the command line or a decent local ide","body":"Ok, so the runnable example works fine in a &quot;normal&quot; environment.  The only difference is, I&#39;m loading my font from an embedded context instead of a file. Having said that, the concept of the idea works fine, you&#39;ll need to work your way around the other issues. <code>repl.it</code> probably isn&#39;t going to be able to deal with  a graphical environment or accessing resources (like files) - build it from the command line or a decent local ide"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646688600,"creation_date":1646688600,"answer_id":71387493,"question_id":71386994,"body_markdown":"There&#39;s a number of ways you might deal with this situation, one would be to assign a reference of the `Font` to an instance field, one might be to have a &quot;default&quot; `Font` setup before you try and load your custom font, if the loading is successful, then you&#39;d assign the custom font to this variable instead, for example...\r\n\r\n\r\n    Font font = // fallback font\r\n    try {\r\n        dseg14 = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;DSEG14ClassicMini-Regular.ttf&quot;)).deriveFont(12f);\r\n        GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n        ge.registerFont(dseg14);\r\n        font = dseg14;\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    } catch (FontFormatException e) {\r\n        e.printStackTrace();\r\n    }\r\n    //...\r\n\r\nAnother way might be to use `Font(String, int, int)` to load the font from the `GraphicsEnvironment` directly, for example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Font;\r\n    import java.awt.FontFormatException;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GraphicsEnvironment;\r\n    import java.io.IOException;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                try {\r\n                    Font font = Font.createFont(Font.TRUETYPE_FONT, getClass().getResourceAsStream(&quot;/resources/DSEG14ClassicMini-Regular.ttf&quot;));\r\n                    System.out.println(font.getName());\r\n                    System.out.println(font.getFamily());\r\n                    System.out.println(font.getFontName());\r\n                    GraphicsEnvironment.getLocalGraphicsEnvironment().registerFont(font);\r\n                } catch (FontFormatException ex) {\r\n                    ex.printStackTrace();\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n\r\n                // You could do this in the try-catch block above, but the\r\n                // point is to demonstrate how it &quot;might&quot; be used after\r\n                // the initialisation phase has completed\r\n                Font font = new Font(&quot;DSEG14 Classic Mini&quot;, Font.PLAIN, 12);\r\n                if (font != null) {\r\n                    setFont(font);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 200);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                String text = &quot;Hello World&quot;;\r\n                FontMetrics fm = g2d.getFontMetrics();\r\n                int x = (getWidth() - fm.stringWidth(text)) / 2;\r\n                int y = ((getHeight() - fm.getHeight()) / 2) + fm.getAscent();\r\n                g2d.drawString(text, x, y);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n**BUT**, you need to have a fallback workflow for what to do if you can&#39;t load the font.  For example, I might have a initialisation phase, which must complete successfully before the rest of the application can run.  This would allow you some &quot;grace&quot; in dealing with it and presenting a nice message to the user.\r\n\r\n  [1]: https://i.stack.imgur.com/iYLil.png","title":"how would I use a Font defined inside of a try{} block outside of the block in Java","body":"<p>There's a number of ways you might deal with this situation, one would be to assign a reference of the <code>Font</code> to an instance field, one might be to have a &quot;default&quot; <code>Font</code> setup before you try and load your custom font, if the loading is successful, then you'd assign the custom font to this variable instead, for example...</p>\n<pre><code>Font font = // fallback font\ntry {\n    dseg14 = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;DSEG14ClassicMini-Regular.ttf&quot;)).deriveFont(12f);\n    GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\n    ge.registerFont(dseg14);\n    font = dseg14;\n} catch (IOException e) {\n    e.printStackTrace();\n} catch (FontFormatException e) {\n    e.printStackTrace();\n}\n//...\n</code></pre>\n<p>Another way might be to use <code>Font(String, int, int)</code> to load the font from the <code>GraphicsEnvironment</code> directly, for example...</p>\n<p><a href=\"https://i.stack.imgur.com/iYLil.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iYLil.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.FontFormatException;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GraphicsEnvironment;\nimport java.io.IOException;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            try {\n                Font font = Font.createFont(Font.TRUETYPE_FONT, getClass().getResourceAsStream(&quot;/resources/DSEG14ClassicMini-Regular.ttf&quot;));\n                System.out.println(font.getName());\n                System.out.println(font.getFamily());\n                System.out.println(font.getFontName());\n                GraphicsEnvironment.getLocalGraphicsEnvironment().registerFont(font);\n            } catch (FontFormatException ex) {\n                ex.printStackTrace();\n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n\n            // You could do this in the try-catch block above, but the\n            // point is to demonstrate how it &quot;might&quot; be used after\n            // the initialisation phase has completed\n            Font font = new Font(&quot;DSEG14 Classic Mini&quot;, Font.PLAIN, 12);\n            if (font != null) {\n                setFont(font);\n            }\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            String text = &quot;Hello World&quot;;\n            FontMetrics fm = g2d.getFontMetrics();\n            int x = (getWidth() - fm.stringWidth(text)) / 2;\n            int y = ((getHeight() - fm.getHeight()) / 2) + fm.getAscent();\n            g2d.drawString(text, x, y);\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p><strong>BUT</strong>, you need to have a fallback workflow for what to do if you can't load the font.  For example, I might have a initialisation phase, which must complete successfully before the rest of the application can run.  This would allow you some &quot;grace&quot; in dealing with it and presenting a nice message to the user.</p>\n"}],"owner":{"account_id":24457053,"reputation":25,"user_id":18378492,"display_name":"cheese"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71387493,"answer_count":1,"score":0,"last_activity_date":1679149414,"creation_date":1646685553,"question_id":71386994,"body_markdown":"so, I&#39;m working on a clock, and it needs a font (from an external file) to make it look like a 14-segment display instead of the Sans-Serif font it currently uses. However, the font doesn&#39;t work for the JLabel element I&#39;m using, outside of the try block. how would I make the Font variable global?\r\n```\r\ntry {\r\n    Font dseg14 = Font.createFont(\r\n        Font.TRUETYPE_FONT, new File(&quot;DSEG14ClassicMini-Regular.ttf&quot;)).deriveFont(12f);\r\n    GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n    ge.registerFont(dseg14);\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n} catch(FontFormatException e) {\r\n    e.printStackTrace();\r\n}\r\n\r\nMain jFrame = new Main();\r\nJLabel timeLabel = new JLabel();\r\nDateTimeFormatter dateTimeFormatter = \r\nDateTimeFormatter.ofPattern(&quot;MM-dd-yyyy HH:mm.ss&quot;);\r\ntimeLable.setFont(dseg14);\r\n```\r\n(sorry, the code is quite messy)","title":"how would I use a Font defined inside of a try{} block outside of the block in Java","body":"<p>so, I'm working on a clock, and it needs a font (from an external file) to make it look like a 14-segment display instead of the Sans-Serif font it currently uses. However, the font doesn't work for the JLabel element I'm using, outside of the try block. how would I make the Font variable global?</p>\n<pre><code>try {\n    Font dseg14 = Font.createFont(\n        Font.TRUETYPE_FONT, new File(&quot;DSEG14ClassicMini-Regular.ttf&quot;)).deriveFont(12f);\n    GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\n    ge.registerFont(dseg14);\n} catch (IOException e) {\n    e.printStackTrace();\n} catch(FontFormatException e) {\n    e.printStackTrace();\n}\n\nMain jFrame = new Main();\nJLabel timeLabel = new JLabel();\nDateTimeFormatter dateTimeFormatter = \nDateTimeFormatter.ofPattern(&quot;MM-dd-yyyy HH:mm.ss&quot;);\ntimeLable.setFont(dseg14);\n</code></pre>\n<p>(sorry, the code is quite messy)</p>\n"},{"tags":["java","android","nlp","translation","google-translate"],"answers":[{"comments":[{"owner":{"account_id":2386104,"reputation":469,"user_id":2087054,"accept_rate":48,"display_name":"ebruszl"},"score":0,"creation_date":1369917344,"post_id":16809708,"comment_id":24275191,"body_markdown":"i wrote these codes in onActivityResult column i got text this way Bundle extras = getIntent().getExtras();\n\t\t\tString txt = extras.getString(&quot;key_text_output&quot;);   but when i toast these, nothing appears and project stopped","body":"i wrote these codes in onActivityResult column i got text this way Bundle extras = getIntent().getExtras(); \t\t\tString txt = extras.getString(&quot;key_text_output&quot;);   but when i toast these, nothing appears and project stopped"},{"owner":{"account_id":285454,"reputation":3061,"user_id":584127,"accept_rate":93,"display_name":"Piyush"},"score":0,"creation_date":1369984525,"post_id":16809708,"comment_id":24302448,"body_markdown":"Have you checked above link in this answer??? Or see this api link https://code.google.com/p/google-api-translate-java/","body":"Have you checked above link in this answer??? Or see this api link <a href=\"https://code.google.com/p/google-api-translate-java/\" rel=\"nofollow noreferrer\">code.google.com/p/google-api-translate-java</a>"}],"tags":[],"owner":{"account_id":285454,"reputation":3061,"user_id":584127,"accept_rate":93,"display_name":"Piyush"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1369818270,"creation_date":1369818270,"answer_id":16809708,"question_id":16809232,"body_markdown":"\r\nit seems Google have opened up the translate API via a [web service][1]. This way, you can do the translation yourself and show it within your app. It&#39;s a bit more work, but it should do the job.\r\n\r\nYou could look at [google-api-translate-java][2] if you want to spare yourself from writing an API wrapper.\r\n\r\n  [1]: http://code.google.com/apis/language/translate/overview.html\r\n  [2]: http://code.google.com/p/google-api-translate-java/\r\n\r\n\r\nOR USE BELOW EXAMPLE\r\n\r\n\r\n    i.setComponent(\r\n        new ComponentName(\r\n            &quot;com.google.android.apps.translate&quot;,\r\n            &quot;com.google.android.apps.translate.translation.TranslateActivity&quot;));\r\n\r\nThe difference is that &quot;translation&quot; has been added before &quot;TranslateActivity&quot;\r\n\r\nSo my final version, including hard-coded translation from Spanish to English, is:\r\n\r\n    Intent i = new Intent();\r\n    i.setAction(Intent.ACTION_VIEW);\r\n    i.putExtra(&quot;key_text_input&quot;, &quot;Me gusta la cerveza&quot;);\r\n    i.putExtra(&quot;key_text_output&quot;, &quot;&quot;);\r\n    i.putExtra(&quot;key_language_from&quot;, &quot;es&quot;);\r\n    i.putExtra(&quot;key_language_to&quot;, &quot;en&quot;);\r\n    i.putExtra(&quot;key_suggest_translation&quot;, &quot;&quot;);\r\n    i.putExtra(&quot;key_from_floating_window&quot;, false);\r\n    i.setComponent(\r\n        new ComponentName(\r\n            &quot;com.google.android.apps.translate&quot;,\r\n            &quot;com.google.android.apps.translate.translation.TranslateActivity&quot;));\r\n    startActivity(i);\r\n\r\n","title":"Using google translate in android application","body":"<p>it seems Google have opened up the translate API via a <a href=\"http://code.google.com/apis/language/translate/overview.html\" rel=\"nofollow\">web service</a>. This way, you can do the translation yourself and show it within your app. It's a bit more work, but it should do the job.</p>\n\n<p>You could look at <a href=\"http://code.google.com/p/google-api-translate-java/\" rel=\"nofollow\">google-api-translate-java</a> if you want to spare yourself from writing an API wrapper.</p>\n\n<p>OR USE BELOW EXAMPLE</p>\n\n<pre><code>i.setComponent(\n    new ComponentName(\n        \"com.google.android.apps.translate\",\n        \"com.google.android.apps.translate.translation.TranslateActivity\"));\n</code></pre>\n\n<p>The difference is that \"translation\" has been added before \"TranslateActivity\"</p>\n\n<p>So my final version, including hard-coded translation from Spanish to English, is:</p>\n\n<pre><code>Intent i = new Intent();\ni.setAction(Intent.ACTION_VIEW);\ni.putExtra(\"key_text_input\", \"Me gusta la cerveza\");\ni.putExtra(\"key_text_output\", \"\");\ni.putExtra(\"key_language_from\", \"es\");\ni.putExtra(\"key_language_to\", \"en\");\ni.putExtra(\"key_suggest_translation\", \"\");\ni.putExtra(\"key_from_floating_window\", false);\ni.setComponent(\n    new ComponentName(\n        \"com.google.android.apps.translate\",\n        \"com.google.android.apps.translate.translation.TranslateActivity\"));\nstartActivity(i);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4906855,"reputation":5717,"user_id":3953357,"display_name":"Adam"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456794689,"creation_date":1456794689,"answer_id":35712907,"question_id":16809232,"body_markdown":"I&#39;m just adding to this question as it is still getting a fair number of views and hasn&#39;t seen an accept.\r\n\r\nThe google-api-translate-java library from the Google Code Archive is out of date and should no longer be used. You should now be using the \r\n[Translate API Client Library for Java][1] which is a component of the [Google API Client Library for Java][2]\r\n\r\nAn example of usage:\r\n\r\n    GoogleAPI.setHttpReferrer(&quot;link&quot;); \r\n    GoogleAPI.setKey(&quot;key&quot;); \r\n    String translatedText = Translate.DEFAULT.execute(&quot;Some text&quot;, Language.ENGLISH, Language.FRENCH); \r\n\r\n  [1]: https://developers.google.com/api-client-library/java/apis/translate/v2\r\n  [2]: https://developers.google.com/api-client-library/java/","title":"Using google translate in android application","body":"<p>I'm just adding to this question as it is still getting a fair number of views and hasn't seen an accept.</p>\n\n<p>The google-api-translate-java library from the Google Code Archive is out of date and should no longer be used. You should now be using the \n<a href=\"https://developers.google.com/api-client-library/java/apis/translate/v2\" rel=\"nofollow\">Translate API Client Library for Java</a> which is a component of the <a href=\"https://developers.google.com/api-client-library/java/\" rel=\"nofollow\">Google API Client Library for Java</a></p>\n\n<p>An example of usage:</p>\n\n<pre><code>GoogleAPI.setHttpReferrer(\"link\"); \nGoogleAPI.setKey(\"key\"); \nString translatedText = Translate.DEFAULT.execute(\"Some text\", Language.ENGLISH, Language.FRENCH); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":5762640,"reputation":2957,"user_id":4548520,"accept_rate":80,"display_name":"user25"},"score":0,"creation_date":1535294038,"post_id":36581994,"comment_id":91004647,"body_markdown":"what is `key_from_floating_window`?","body":"what is <code>key_from_floating_window</code>?"}],"tags":[],"owner":{"account_id":7958580,"reputation":806,"user_id":6007050,"display_name":"Guru raj"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460488502,"creation_date":1460488149,"answer_id":36581994,"question_id":16809232,"body_markdown":"   \r\n Try using ACTION_SEND:\r\n\r\n    private void callGoogleTranslateApps(String word, String fromLang, String toLang) {\r\n    Intent i = new Intent();`\r\n    i.setAction(Intent.ACTION_SEND);\r\n    i.putExtra(&quot;key_text_input&quot;, word);\r\n    i.putExtra(&quot;key_text_output&quot;, &quot;&quot;);\r\n    i.putExtra(&quot;key_language_from&quot;, fromLang);\r\n    i.putExtra(&quot;key_language_to&quot;, toLang);\r\n    i.putExtra(&quot;key_suggest_translation&quot;, &quot;&quot;);\r\n    i.putExtra(&quot;key_from_floating_window&quot;, false);`\r\n    i.setComponent(new ComponentName(&quot;com.google.android.apps.translate&quot;, &quot;com.google.android.apps.translate.TranslateActivity&quot;));\r\n    startActivity(i);\r\n    }","title":"Using google translate in android application","body":"<p>Try using ACTION_SEND:</p>\n\n<pre><code>private void callGoogleTranslateApps(String word, String fromLang, String toLang) {\nIntent i = new Intent();`\ni.setAction(Intent.ACTION_SEND);\ni.putExtra(\"key_text_input\", word);\ni.putExtra(\"key_text_output\", \"\");\ni.putExtra(\"key_language_from\", fromLang);\ni.putExtra(\"key_language_to\", toLang);\ni.putExtra(\"key_suggest_translation\", \"\");\ni.putExtra(\"key_from_floating_window\", false);`\ni.setComponent(new ComponentName(\"com.google.android.apps.translate\", \"com.google.android.apps.translate.TranslateActivity\"));\nstartActivity(i);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1529456,"reputation":2010,"user_id":2091585,"accept_rate":42,"display_name":"user67275"},"score":1,"creation_date":1679116404,"post_id":75766004,"comment_id":133667522,"body_markdown":"Please add some explanation rather than posting only code.","body":"Please add some explanation rather than posting only code."}],"tags":[],"owner":{"account_id":25993255,"reputation":11,"user_id":19705050,"display_name":"Bot Bahlul"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679149145,"creation_date":1679046236,"answer_id":75766004,"question_id":16809232,"body_markdown":"```\r\npublic class MainActivity extends AppCompatActivity {\r\n    ArrayList&lt;String&gt; arraylist_src_code = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; arraylist_dst_code = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; arraylist_src_languages = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; arraylist_dst_languages = new ArrayList&lt;&gt;();\r\n    Map&lt;String, String&gt; map_src_country = new HashMap&lt;&gt;();\r\n    Map&lt;String, String&gt; map_dst_country = new HashMap&lt;&gt;();\r\n    String src_language, dst_language, src_code, dst_code;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        arraylist_src_code.add(&quot;af&quot;);\r\n        arraylist_src_code.add(&quot;sq&quot;);\r\n        arraylist_src_code.add(&quot;am&quot;);\r\n        arraylist_src_code.add(&quot;ar&quot;);\r\n        arraylist_src_code.add(&quot;hy&quot;);\r\n        arraylist_src_code.add(&quot;as&quot;);\r\n        arraylist_src_code.add(&quot;ay&quot;);\r\n        arraylist_src_code.add(&quot;az&quot;);\r\n        arraylist_src_code.add(&quot;bm&quot;);\r\n        arraylist_src_code.add(&quot;eu&quot;);\r\n        arraylist_src_code.add(&quot;be&quot;);\r\n        arraylist_src_code.add(&quot;bn&quot;);\r\n        arraylist_src_code.add(&quot;bho&quot;);\r\n        arraylist_src_code.add(&quot;bs&quot;);\r\n        arraylist_src_code.add(&quot;bg&quot;);\r\n        arraylist_src_code.add(&quot;ca&quot;);\r\n        arraylist_src_code.add(&quot;ceb&quot;);\r\n        arraylist_src_code.add(&quot;ny&quot;);\r\n        arraylist_src_code.add(&quot;zh-CN&quot;);\r\n        arraylist_src_code.add(&quot;zh-TW&quot;);\r\n        arraylist_src_code.add(&quot;co&quot;);\r\n        arraylist_src_code.add(&quot;hr&quot;);\r\n        arraylist_src_code.add(&quot;cs&quot;);\r\n        arraylist_src_code.add(&quot;da&quot;);\r\n        arraylist_src_code.add(&quot;dv&quot;);\r\n        arraylist_src_code.add(&quot;doi&quot;);\r\n        arraylist_src_code.add(&quot;nl&quot;);\r\n        arraylist_src_code.add(&quot;en&quot;);\r\n        arraylist_src_code.add(&quot;eo&quot;);\r\n        arraylist_src_code.add(&quot;et&quot;);\r\n        arraylist_src_code.add(&quot;ee&quot;);\r\n        arraylist_src_code.add(&quot;fil&quot;);\r\n        arraylist_src_code.add(&quot;fi&quot;);\r\n        arraylist_src_code.add(&quot;fr&quot;);\r\n        arraylist_src_code.add(&quot;fy&quot;);\r\n        arraylist_src_code.add(&quot;gl&quot;);\r\n        arraylist_src_code.add(&quot;ka&quot;);\r\n        arraylist_src_code.add(&quot;de&quot;);\r\n        arraylist_src_code.add(&quot;el&quot;);\r\n        arraylist_src_code.add(&quot;gn&quot;);\r\n        arraylist_src_code.add(&quot;gu&quot;);\r\n        arraylist_src_code.add(&quot;ht&quot;);\r\n        arraylist_src_code.add(&quot;ha&quot;);\r\n        arraylist_src_code.add(&quot;haw&quot;);\r\n        arraylist_src_code.add(&quot;he&quot;);\r\n        arraylist_src_code.add(&quot;hi&quot;);\r\n        arraylist_src_code.add(&quot;hmn&quot;);\r\n        arraylist_src_code.add(&quot;hu&quot;);\r\n        arraylist_src_code.add(&quot;is&quot;);\r\n        arraylist_src_code.add(&quot;ig&quot;);\r\n        arraylist_src_code.add(&quot;ilo&quot;);\r\n        arraylist_src_code.add(&quot;id&quot;);\r\n        arraylist_src_code.add(&quot;ga&quot;);\r\n        arraylist_src_code.add(&quot;it&quot;);\r\n        arraylist_src_code.add(&quot;ja&quot;);\r\n        arraylist_src_code.add(&quot;jv&quot;);\r\n        arraylist_src_code.add(&quot;kn&quot;);\r\n        arraylist_src_code.add(&quot;kk&quot;);\r\n        arraylist_src_code.add(&quot;km&quot;);\r\n        arraylist_src_code.add(&quot;rw&quot;);\r\n        arraylist_src_code.add(&quot;gom&quot;);\r\n        arraylist_src_code.add(&quot;ko&quot;);\r\n        arraylist_src_code.add(&quot;kri&quot;);\r\n        arraylist_src_code.add(&quot;kmr&quot;);\r\n        arraylist_src_code.add(&quot;ckb&quot;);\r\n        arraylist_src_code.add(&quot;ky&quot;);\r\n        arraylist_src_code.add(&quot;lo&quot;);\r\n        arraylist_src_code.add(&quot;la&quot;);\r\n        arraylist_src_code.add(&quot;lv&quot;);\r\n        arraylist_src_code.add(&quot;ln&quot;);\r\n        arraylist_src_code.add(&quot;lt&quot;);\r\n        arraylist_src_code.add(&quot;lg&quot;);\r\n        arraylist_src_code.add(&quot;lb&quot;);\r\n        arraylist_src_code.add(&quot;mk&quot;);\r\n        arraylist_src_code.add(&quot;mg&quot;);\r\n        arraylist_src_code.add(&quot;ms&quot;);\r\n        arraylist_src_code.add(&quot;ml&quot;);\r\n        arraylist_src_code.add(&quot;mt&quot;);\r\n        arraylist_src_code.add(&quot;mi&quot;);\r\n        arraylist_src_code.add(&quot;mr&quot;);\r\n        arraylist_src_code.add(&quot;mni-Mtei&quot;);\r\n        arraylist_src_code.add(&quot;lus&quot;);\r\n        arraylist_src_code.add(&quot;mn&quot;);\r\n        arraylist_src_code.add(&quot;my&quot;);\r\n        arraylist_src_code.add(&quot;ne&quot;);\r\n        arraylist_src_code.add(&quot;no&quot;);\r\n        arraylist_src_code.add(&quot;or&quot;);\r\n        arraylist_src_code.add(&quot;om&quot;);\r\n        arraylist_src_code.add(&quot;ps&quot;);\r\n        arraylist_src_code.add(&quot;fa&quot;);\r\n        arraylist_src_code.add(&quot;pl&quot;);\r\n        arraylist_src_code.add(&quot;pt&quot;);\r\n        arraylist_src_code.add(&quot;pa&quot;);\r\n        arraylist_src_code.add(&quot;qu&quot;);\r\n        arraylist_src_code.add(&quot;ro&quot;);\r\n        arraylist_src_code.add(&quot;ru&quot;);\r\n        arraylist_src_code.add(&quot;sm&quot;);\r\n        arraylist_src_code.add(&quot;sa&quot;);\r\n        arraylist_src_code.add(&quot;gd&quot;);\r\n        arraylist_src_code.add(&quot;nso&quot;);\r\n        arraylist_src_code.add(&quot;sr&quot;);\r\n        arraylist_src_code.add(&quot;st&quot;);\r\n        arraylist_src_code.add(&quot;sn&quot;);\r\n        arraylist_src_code.add(&quot;sd&quot;);\r\n        arraylist_src_code.add(&quot;si&quot;);\r\n        arraylist_src_code.add(&quot;sk&quot;);\r\n        arraylist_src_code.add(&quot;sl&quot;);\r\n        arraylist_src_code.add(&quot;so&quot;);\r\n        arraylist_src_code.add(&quot;es&quot;);\r\n        arraylist_src_code.add(&quot;su&quot;);\r\n        arraylist_src_code.add(&quot;sw&quot;);\r\n        arraylist_src_code.add(&quot;sv&quot;);\r\n        arraylist_src_code.add(&quot;tg&quot;);\r\n        arraylist_src_code.add(&quot;ta&quot;);\r\n        arraylist_src_code.add(&quot;tt&quot;);\r\n        arraylist_src_code.add(&quot;te&quot;);\r\n        arraylist_src_code.add(&quot;th&quot;);\r\n        arraylist_src_code.add(&quot;ti&quot;);\r\n        arraylist_src_code.add(&quot;ts&quot;);\r\n        arraylist_src_code.add(&quot;tr&quot;);\r\n        arraylist_src_code.add(&quot;tk&quot;);\r\n        arraylist_src_code.add(&quot;tw&quot;);\r\n        arraylist_src_code.add(&quot;uk&quot;);\r\n        arraylist_src_code.add(&quot;ur&quot;);\r\n        arraylist_src_code.add(&quot;ug&quot;);\r\n        arraylist_src_code.add(&quot;uz&quot;);\r\n        arraylist_src_code.add(&quot;vi&quot;);\r\n        arraylist_src_code.add(&quot;cy&quot;);\r\n        arraylist_src_code.add(&quot;xh&quot;);\r\n        arraylist_src_code.add(&quot;yi&quot;);\r\n        arraylist_src_code.add(&quot;yo&quot;);\r\n        arraylist_src_code.add(&quot;zu&quot;);\r\n\r\n        arraylist_src_languages.add(&quot;Afrikaans&quot;);\r\n        arraylist_src_languages.add(&quot;Albanian&quot;);\r\n        arraylist_src_languages.add(&quot;Amharic&quot;);\r\n        arraylist_src_languages.add(&quot;Arabic&quot;);\r\n        arraylist_src_languages.add(&quot;Armenian&quot;);\r\n        arraylist_src_languages.add(&quot;Assamese&quot;);\r\n        arraylist_src_languages.add(&quot;Aymara&quot;);\r\n        arraylist_src_languages.add(&quot;Azerbaijani&quot;);\r\n        arraylist_src_languages.add(&quot;Bambara&quot;);\r\n        arraylist_src_languages.add(&quot;Basque&quot;);\r\n        arraylist_src_languages.add(&quot;Belarusian&quot;);\r\n        arraylist_src_languages.add(&quot;Bengali&quot;);\r\n        arraylist_src_languages.add(&quot;Bhojpuri&quot;);\r\n        arraylist_src_languages.add(&quot;Bosnian&quot;);\r\n        arraylist_src_languages.add(&quot;Bulgarian&quot;);\r\n        arraylist_src_languages.add(&quot;Catalan&quot;);\r\n        arraylist_src_languages.add(&quot;Cebuano&quot;);\r\n        arraylist_src_languages.add(&quot;Chichewa&quot;);\r\n        arraylist_src_languages.add(&quot;Chinese (Simplified)&quot;);\r\n        arraylist_src_languages.add(&quot;Chinese (Traditional)&quot;);\r\n        arraylist_src_languages.add(&quot;Corsican&quot;);\r\n        arraylist_src_languages.add(&quot;Croatian&quot;);\r\n        arraylist_src_languages.add(&quot;Czech&quot;);\r\n        arraylist_src_languages.add(&quot;Danish&quot;);\r\n        arraylist_src_languages.add(&quot;Dhivehi&quot;);\r\n        arraylist_src_languages.add(&quot;Dogri&quot;);\r\n        arraylist_src_languages.add(&quot;Dutch&quot;);\r\n        arraylist_src_languages.add(&quot;English&quot;);\r\n        arraylist_src_languages.add(&quot;Esperanto&quot;);\r\n        arraylist_src_languages.add(&quot;Estonian&quot;);\r\n        arraylist_src_languages.add(&quot;Ewe&quot;);\r\n        arraylist_src_languages.add(&quot;Filipino&quot;);\r\n        arraylist_src_languages.add(&quot;Finnish&quot;);\r\n        arraylist_src_languages.add(&quot;French&quot;);\r\n        arraylist_src_languages.add(&quot;Frisian&quot;);\r\n        arraylist_src_languages.add(&quot;Galician&quot;);\r\n        arraylist_src_languages.add(&quot;Georgian&quot;);\r\n        arraylist_src_languages.add(&quot;German&quot;);\r\n        arraylist_src_languages.add(&quot;Greek&quot;);\r\n        arraylist_src_languages.add(&quot;Guarani&quot;);\r\n        arraylist_src_languages.add(&quot;Gujarati&quot;);\r\n        arraylist_src_languages.add(&quot;Haitian Creole&quot;);\r\n        arraylist_src_languages.add(&quot;Hausa&quot;);\r\n        arraylist_src_languages.add(&quot;Hawaiian&quot;);\r\n        arraylist_src_languages.add(&quot;Hebrew&quot;);\r\n        arraylist_src_languages.add(&quot;Hindi&quot;);\r\n        arraylist_src_languages.add(&quot;Hmong&quot;);\r\n        arraylist_src_languages.add(&quot;Hungarian&quot;);\r\n        arraylist_src_languages.add(&quot;Icelandic&quot;);\r\n        arraylist_src_languages.add(&quot;Igbo&quot;);\r\n        arraylist_src_languages.add(&quot;Ilocano&quot;);\r\n        arraylist_src_languages.add(&quot;Indonesian&quot;);\r\n        arraylist_src_languages.add(&quot;Irish&quot;);\r\n        arraylist_src_languages.add(&quot;Italian&quot;);\r\n        arraylist_src_languages.add(&quot;Japanese&quot;);\r\n        arraylist_src_languages.add(&quot;Javanese&quot;);\r\n        arraylist_src_languages.add(&quot;Kannada&quot;);\r\n        arraylist_src_languages.add(&quot;Kazakh&quot;);\r\n        arraylist_src_languages.add(&quot;Khmer&quot;);\r\n        arraylist_src_languages.add(&quot;Kinyarwanda&quot;);\r\n        arraylist_src_languages.add(&quot;Konkani&quot;);\r\n        arraylist_src_languages.add(&quot;Korean&quot;);\r\n        arraylist_src_languages.add(&quot;Krio&quot;);\r\n        arraylist_src_languages.add(&quot;Kurdish (Kurmanji)&quot;);\r\n        arraylist_src_languages.add(&quot;Kurdish (Sorani)&quot;);\r\n        arraylist_src_languages.add(&quot;Kyrgyz&quot;);\r\n        arraylist_src_languages.add(&quot;Lao&quot;);\r\n        arraylist_src_languages.add(&quot;Latin&quot;);\r\n        arraylist_src_languages.add(&quot;Latvian&quot;);\r\n        arraylist_src_languages.add(&quot;Lingala&quot;);\r\n        arraylist_src_languages.add(&quot;Lithuanian&quot;);\r\n        arraylist_src_languages.add(&quot;Luganda&quot;);\r\n        arraylist_src_languages.add(&quot;Luxembourgish&quot;);\r\n        arraylist_src_languages.add(&quot;Macedonian&quot;);\r\n        arraylist_src_languages.add(&quot;Malagasy&quot;);\r\n        arraylist_src_languages.add(&quot;Malay&quot;);\r\n        arraylist_src_languages.add(&quot;Malayalam&quot;);\r\n        arraylist_src_languages.add(&quot;Maltese&quot;);\r\n        arraylist_src_languages.add(&quot;Maori&quot;);\r\n        arraylist_src_languages.add(&quot;Marathi&quot;);\r\n        arraylist_src_languages.add(&quot;Meiteilon (Manipuri)&quot;);\r\n        arraylist_src_languages.add(&quot;Mizo&quot;);\r\n        arraylist_src_languages.add(&quot;Mongolian&quot;);\r\n        arraylist_src_languages.add(&quot;Myanmar (Burmese)&quot;);\r\n        arraylist_src_languages.add(&quot;Nepali&quot;);\r\n        arraylist_src_languages.add(&quot;Norwegian&quot;);\r\n        arraylist_src_languages.add(&quot;Odiya (Oriya)&quot;);\r\n        arraylist_src_languages.add(&quot;Oromo&quot;);\r\n        arraylist_src_languages.add(&quot;Pashto&quot;);\r\n        arraylist_src_languages.add(&quot;Persian&quot;);\r\n        arraylist_src_languages.add(&quot;Polish&quot;);\r\n        arraylist_src_languages.add(&quot;Portuguese&quot;);\r\n        arraylist_src_languages.add(&quot;Punjabi&quot;);\r\n        arraylist_src_languages.add(&quot;Quechua&quot;);\r\n        arraylist_src_languages.add(&quot;Romanian&quot;);\r\n        arraylist_src_languages.add(&quot;Russian&quot;);\r\n        arraylist_src_languages.add(&quot;Samoan&quot;);\r\n        arraylist_src_languages.add(&quot;Sanskrit&quot;);\r\n        arraylist_src_languages.add(&quot;Scots Gaelic&quot;);\r\n        arraylist_src_languages.add(&quot;Sepedi&quot;);\r\n        arraylist_src_languages.add(&quot;Serbian&quot;);\r\n        arraylist_src_languages.add(&quot;Sesotho&quot;);\r\n        arraylist_src_languages.add(&quot;Shona&quot;);\r\n        arraylist_src_languages.add(&quot;Sindhi&quot;);\r\n        arraylist_src_languages.add(&quot;Sinhala&quot;);\r\n        arraylist_src_languages.add(&quot;Slovak&quot;);\r\n        arraylist_src_languages.add(&quot;Slovenian&quot;);\r\n        arraylist_src_languages.add(&quot;Somali&quot;);\r\n        arraylist_src_languages.add(&quot;Spanish&quot;);\r\n        arraylist_src_languages.add(&quot;Sundanese&quot;);\r\n        arraylist_src_languages.add(&quot;Swahili&quot;);\r\n        arraylist_src_languages.add(&quot;Swedish&quot;);\r\n        arraylist_src_languages.add(&quot;Tajik&quot;);\r\n        arraylist_src_languages.add(&quot;Tamil&quot;);\r\n        arraylist_src_languages.add(&quot;Tatar&quot;);\r\n        arraylist_src_languages.add(&quot;Telugu&quot;);\r\n        arraylist_src_languages.add(&quot;Thai&quot;);\r\n        arraylist_src_languages.add(&quot;Tigrinya&quot;);\r\n        arraylist_src_languages.add(&quot;Tsonga&quot;);\r\n        arraylist_src_languages.add(&quot;Turkish&quot;);\r\n        arraylist_src_languages.add(&quot;Turkmen&quot;);\r\n        arraylist_src_languages.add(&quot;Twi (Akan)&quot;);\r\n        arraylist_src_languages.add(&quot;Ukrainian&quot;);\r\n        arraylist_src_languages.add(&quot;Urdu&quot;);\r\n        arraylist_src_languages.add(&quot;Uyghur&quot;);\r\n        arraylist_src_languages.add(&quot;Uzbek&quot;);\r\n        arraylist_src_languages.add(&quot;Vietnamese&quot;);\r\n        arraylist_src_languages.add(&quot;Welsh&quot;);\r\n        arraylist_src_languages.add(&quot;Xhosa&quot;);\r\n        arraylist_src_languages.add(&quot;Yiddish&quot;);\r\n        arraylist_src_languages.add(&quot;Yoruba&quot;);\r\n        arraylist_src_languages.add(&quot;Zulu&quot;);\r\n\r\n        for (int i = 0; i &lt; arraylist_src_languages.size(); i++) {\r\n            map_src_country.put(arraylist_src_languages.get(i), arraylist_src_code.get(i));\r\n        }\r\n\r\n        arraylist_dst_code.add(&quot;af&quot;);\r\n        arraylist_dst_code.add(&quot;sq&quot;);\r\n        arraylist_dst_code.add(&quot;am&quot;);\r\n        arraylist_dst_code.add(&quot;ar&quot;);\r\n        arraylist_dst_code.add(&quot;hy&quot;);\r\n        arraylist_dst_code.add(&quot;as&quot;);\r\n        arraylist_dst_code.add(&quot;ay&quot;);\r\n        arraylist_dst_code.add(&quot;az&quot;);\r\n        arraylist_dst_code.add(&quot;bm&quot;);\r\n        arraylist_dst_code.add(&quot;eu&quot;);\r\n        arraylist_dst_code.add(&quot;be&quot;);\r\n        arraylist_dst_code.add(&quot;bn&quot;);\r\n        arraylist_dst_code.add(&quot;bho&quot;);\r\n        arraylist_dst_code.add(&quot;bs&quot;);\r\n        arraylist_dst_code.add(&quot;bg&quot;);\r\n        arraylist_dst_code.add(&quot;ca&quot;);\r\n        arraylist_dst_code.add(&quot;ceb&quot;);\r\n        arraylist_dst_code.add(&quot;ny&quot;);\r\n        arraylist_dst_code.add(&quot;zh-CN&quot;);\r\n        arraylist_dst_code.add(&quot;zh-TW&quot;);\r\n        arraylist_dst_code.add(&quot;co&quot;);\r\n        arraylist_dst_code.add(&quot;hr&quot;);\r\n        arraylist_dst_code.add(&quot;cs&quot;);\r\n        arraylist_dst_code.add(&quot;da&quot;);\r\n        arraylist_dst_code.add(&quot;dv&quot;);\r\n        arraylist_dst_code.add(&quot;doi&quot;);\r\n        arraylist_dst_code.add(&quot;nl&quot;);\r\n        arraylist_dst_code.add(&quot;en&quot;);\r\n        arraylist_dst_code.add(&quot;eo&quot;);\r\n        arraylist_dst_code.add(&quot;et&quot;);\r\n        arraylist_dst_code.add(&quot;ee&quot;);\r\n        arraylist_dst_code.add(&quot;fil&quot;);\r\n        arraylist_dst_code.add(&quot;fi&quot;);\r\n        arraylist_dst_code.add(&quot;fr&quot;);\r\n        arraylist_dst_code.add(&quot;fy&quot;);\r\n        arraylist_dst_code.add(&quot;gl&quot;);\r\n        arraylist_dst_code.add(&quot;ka&quot;);\r\n        arraylist_dst_code.add(&quot;de&quot;);\r\n        arraylist_dst_code.add(&quot;el&quot;);\r\n        arraylist_dst_code.add(&quot;gn&quot;);\r\n        arraylist_dst_code.add(&quot;gu&quot;);\r\n        arraylist_dst_code.add(&quot;ht&quot;);\r\n        arraylist_dst_code.add(&quot;ha&quot;);\r\n        arraylist_dst_code.add(&quot;haw&quot;);\r\n        arraylist_dst_code.add(&quot;he&quot;);\r\n        arraylist_dst_code.add(&quot;hi&quot;);\r\n        arraylist_dst_code.add(&quot;hmn&quot;);\r\n        arraylist_dst_code.add(&quot;hu&quot;);\r\n        arraylist_dst_code.add(&quot;is&quot;);\r\n        arraylist_dst_code.add(&quot;ig&quot;);\r\n        arraylist_dst_code.add(&quot;ilo&quot;);\r\n        arraylist_dst_code.add(&quot;id&quot;);\r\n        arraylist_dst_code.add(&quot;ga&quot;);\r\n        arraylist_dst_code.add(&quot;it&quot;);\r\n        arraylist_dst_code.add(&quot;ja&quot;);\r\n        arraylist_dst_code.add(&quot;jv&quot;);\r\n        arraylist_dst_code.add(&quot;kn&quot;);\r\n        arraylist_dst_code.add(&quot;kk&quot;);\r\n        arraylist_dst_code.add(&quot;km&quot;);\r\n        arraylist_dst_code.add(&quot;rw&quot;);\r\n        arraylist_dst_code.add(&quot;gom&quot;);\r\n        arraylist_dst_code.add(&quot;ko&quot;);\r\n        arraylist_dst_code.add(&quot;kri&quot;);\r\n        arraylist_dst_code.add(&quot;kmr&quot;);\r\n        arraylist_dst_code.add(&quot;ckb&quot;);\r\n        arraylist_dst_code.add(&quot;ky&quot;);\r\n        arraylist_dst_code.add(&quot;lo&quot;);\r\n        arraylist_dst_code.add(&quot;la&quot;);\r\n        arraylist_dst_code.add(&quot;lv&quot;);\r\n        arraylist_dst_code.add(&quot;ln&quot;);\r\n        arraylist_dst_code.add(&quot;lt&quot;);\r\n        arraylist_dst_code.add(&quot;lg&quot;);\r\n        arraylist_dst_code.add(&quot;lb&quot;);\r\n        arraylist_dst_code.add(&quot;mk&quot;);\r\n        arraylist_dst_code.add(&quot;mg&quot;);\r\n        arraylist_dst_code.add(&quot;ms&quot;);\r\n        arraylist_dst_code.add(&quot;ml&quot;);\r\n        arraylist_dst_code.add(&quot;mt&quot;);\r\n        arraylist_dst_code.add(&quot;mi&quot;);\r\n        arraylist_dst_code.add(&quot;mr&quot;);\r\n        arraylist_dst_code.add(&quot;mni-Mtei&quot;);\r\n        arraylist_dst_code.add(&quot;lus&quot;);\r\n        arraylist_dst_code.add(&quot;mn&quot;);\r\n        arraylist_dst_code.add(&quot;my&quot;);\r\n        arraylist_dst_code.add(&quot;ne&quot;);\r\n        arraylist_dst_code.add(&quot;no&quot;);\r\n        arraylist_dst_code.add(&quot;or&quot;);\r\n        arraylist_dst_code.add(&quot;om&quot;);\r\n        arraylist_dst_code.add(&quot;ps&quot;);\r\n        arraylist_dst_code.add(&quot;fa&quot;);\r\n        arraylist_dst_code.add(&quot;pl&quot;);\r\n        arraylist_dst_code.add(&quot;pt&quot;);\r\n        arraylist_dst_code.add(&quot;pa&quot;);\r\n        arraylist_dst_code.add(&quot;qu&quot;);\r\n        arraylist_dst_code.add(&quot;ro&quot;);\r\n        arraylist_dst_code.add(&quot;ru&quot;);\r\n        arraylist_dst_code.add(&quot;sm&quot;);\r\n        arraylist_dst_code.add(&quot;sa&quot;);\r\n        arraylist_dst_code.add(&quot;gd&quot;);\r\n        arraylist_dst_code.add(&quot;nso&quot;);\r\n        arraylist_dst_code.add(&quot;sr&quot;);\r\n        arraylist_dst_code.add(&quot;st&quot;);\r\n        arraylist_dst_code.add(&quot;sn&quot;);\r\n        arraylist_dst_code.add(&quot;sd&quot;);\r\n        arraylist_dst_code.add(&quot;si&quot;);\r\n        arraylist_dst_code.add(&quot;sk&quot;);\r\n        arraylist_dst_code.add(&quot;sl&quot;);\r\n        arraylist_dst_code.add(&quot;so&quot;);\r\n        arraylist_dst_code.add(&quot;es&quot;);\r\n        arraylist_dst_code.add(&quot;su&quot;);\r\n        arraylist_dst_code.add(&quot;sw&quot;);\r\n        arraylist_dst_code.add(&quot;sv&quot;);\r\n        arraylist_dst_code.add(&quot;tg&quot;);\r\n        arraylist_dst_code.add(&quot;ta&quot;);\r\n        arraylist_dst_code.add(&quot;tt&quot;);\r\n        arraylist_dst_code.add(&quot;te&quot;);\r\n        arraylist_dst_code.add(&quot;th&quot;);\r\n        arraylist_dst_code.add(&quot;ti&quot;);\r\n        arraylist_dst_code.add(&quot;ts&quot;);\r\n        arraylist_dst_code.add(&quot;tr&quot;);\r\n        arraylist_dst_code.add(&quot;tk&quot;);\r\n        arraylist_dst_code.add(&quot;tw&quot;);\r\n        arraylist_dst_code.add(&quot;uk&quot;);\r\n        arraylist_dst_code.add(&quot;ur&quot;);\r\n        arraylist_dst_code.add(&quot;ug&quot;);\r\n        arraylist_dst_code.add(&quot;uz&quot;);\r\n        arraylist_dst_code.add(&quot;vi&quot;);\r\n        arraylist_dst_code.add(&quot;cy&quot;);\r\n        arraylist_dst_code.add(&quot;xh&quot;);\r\n        arraylist_dst_code.add(&quot;yi&quot;);\r\n        arraylist_dst_code.add(&quot;yo&quot;);\r\n        arraylist_dst_code.add(&quot;zu&quot;);\r\n\r\n        arraylist_dst_languages.add(&quot;Afrikaans&quot;);\r\n        arraylist_dst_languages.add(&quot;Albanian&quot;);\r\n        arraylist_dst_languages.add(&quot;Amharic&quot;);\r\n        arraylist_dst_languages.add(&quot;Arabic&quot;);\r\n        arraylist_dst_languages.add(&quot;Armenian&quot;);\r\n        arraylist_dst_languages.add(&quot;Assamese&quot;);\r\n        arraylist_dst_languages.add(&quot;Aymara&quot;);\r\n        arraylist_dst_languages.add(&quot;Azerbaijani&quot;);\r\n        arraylist_dst_languages.add(&quot;Bambara&quot;);\r\n        arraylist_dst_languages.add(&quot;Basque&quot;);\r\n        arraylist_dst_languages.add(&quot;Belarusian&quot;);\r\n        arraylist_dst_languages.add(&quot;Bengali&quot;);\r\n        arraylist_dst_languages.add(&quot;Bhojpuri&quot;);\r\n        arraylist_dst_languages.add(&quot;Bosnian&quot;);\r\n        arraylist_dst_languages.add(&quot;Bulgarian&quot;);\r\n        arraylist_dst_languages.add(&quot;Catalan&quot;);\r\n        arraylist_dst_languages.add(&quot;Cebuano&quot;);\r\n        arraylist_dst_languages.add(&quot;Chichewa&quot;);\r\n        arraylist_dst_languages.add(&quot;Chinese (Simplified)&quot;);\r\n        arraylist_dst_languages.add(&quot;Chinese (Traditional)&quot;);\r\n        arraylist_dst_languages.add(&quot;Corsican&quot;);\r\n        arraylist_dst_languages.add(&quot;Croatian&quot;);\r\n        arraylist_dst_languages.add(&quot;Czech&quot;);\r\n        arraylist_dst_languages.add(&quot;Danish&quot;);\r\n        arraylist_dst_languages.add(&quot;Dhivehi&quot;);\r\n        arraylist_dst_languages.add(&quot;Dogri&quot;);\r\n        arraylist_dst_languages.add(&quot;Dutch&quot;);\r\n        arraylist_dst_languages.add(&quot;English&quot;);\r\n        arraylist_dst_languages.add(&quot;Esperanto&quot;);\r\n        arraylist_dst_languages.add(&quot;Estonian&quot;);\r\n        arraylist_dst_languages.add(&quot;Ewe&quot;);\r\n        arraylist_dst_languages.add(&quot;Filipino&quot;);\r\n        arraylist_dst_languages.add(&quot;Finnish&quot;);\r\n        arraylist_dst_languages.add(&quot;French&quot;);\r\n        arraylist_dst_languages.add(&quot;Frisian&quot;);\r\n        arraylist_dst_languages.add(&quot;Galician&quot;);\r\n        arraylist_dst_languages.add(&quot;Georgian&quot;);\r\n        arraylist_dst_languages.add(&quot;German&quot;);\r\n        arraylist_dst_languages.add(&quot;Greek&quot;);\r\n        arraylist_dst_languages.add(&quot;Guarani&quot;);\r\n        arraylist_dst_languages.add(&quot;Gujarati&quot;);\r\n        arraylist_dst_languages.add(&quot;Haitian Creole&quot;);\r\n        arraylist_dst_languages.add(&quot;Hausa&quot;);\r\n        arraylist_dst_languages.add(&quot;Hawaiian&quot;);\r\n        arraylist_dst_languages.add(&quot;Hebrew&quot;);\r\n        arraylist_dst_languages.add(&quot;Hindi&quot;);\r\n        arraylist_dst_languages.add(&quot;Hmong&quot;);\r\n        arraylist_dst_languages.add(&quot;Hungarian&quot;);\r\n        arraylist_dst_languages.add(&quot;Icelandic&quot;);\r\n        arraylist_dst_languages.add(&quot;Igbo&quot;);\r\n        arraylist_dst_languages.add(&quot;Ilocano&quot;);\r\n        arraylist_dst_languages.add(&quot;Indonesian&quot;);\r\n        arraylist_dst_languages.add(&quot;Irish&quot;);\r\n        arraylist_dst_languages.add(&quot;Italian&quot;);\r\n        arraylist_dst_languages.add(&quot;Japanese&quot;);\r\n        arraylist_dst_languages.add(&quot;Javanese&quot;);\r\n        arraylist_dst_languages.add(&quot;Kannada&quot;);\r\n        arraylist_dst_languages.add(&quot;Kazakh&quot;);\r\n        arraylist_dst_languages.add(&quot;Khmer&quot;);\r\n        arraylist_dst_languages.add(&quot;Kinyarwanda&quot;);\r\n        arraylist_dst_languages.add(&quot;Konkani&quot;);\r\n        arraylist_dst_languages.add(&quot;Korean&quot;);\r\n        arraylist_dst_languages.add(&quot;Krio&quot;);\r\n        arraylist_dst_languages.add(&quot;Kurdish (Kurmanji)&quot;);\r\n        arraylist_dst_languages.add(&quot;Kurdish (Sorani)&quot;);\r\n        arraylist_dst_languages.add(&quot;Kyrgyz&quot;);\r\n        arraylist_dst_languages.add(&quot;Lao&quot;);\r\n        arraylist_dst_languages.add(&quot;Latin&quot;);\r\n        arraylist_dst_languages.add(&quot;Latvian&quot;);\r\n        arraylist_dst_languages.add(&quot;Lingala&quot;);\r\n        arraylist_dst_languages.add(&quot;Lithuanian&quot;);\r\n        arraylist_dst_languages.add(&quot;Luganda&quot;);\r\n        arraylist_dst_languages.add(&quot;Luxembourgish&quot;);\r\n        arraylist_dst_languages.add(&quot;Macedonian&quot;);\r\n        arraylist_dst_languages.add(&quot;Malagasy&quot;);\r\n        arraylist_dst_languages.add(&quot;Malay&quot;);\r\n        arraylist_dst_languages.add(&quot;Malayalam&quot;);\r\n        arraylist_dst_languages.add(&quot;Maltese&quot;);\r\n        arraylist_dst_languages.add(&quot;Maori&quot;);\r\n        arraylist_dst_languages.add(&quot;Marathi&quot;);\r\n        arraylist_dst_languages.add(&quot;Meiteilon (Manipuri)&quot;);\r\n        arraylist_dst_languages.add(&quot;Mizo&quot;);\r\n        arraylist_dst_languages.add(&quot;Mongolian&quot;);\r\n        arraylist_dst_languages.add(&quot;Myanmar (Burmese)&quot;);\r\n        arraylist_dst_languages.add(&quot;Nepali&quot;);\r\n        arraylist_dst_languages.add(&quot;Norwegian&quot;);\r\n        arraylist_dst_languages.add(&quot;Odiya (Oriya)&quot;);\r\n        arraylist_dst_languages.add(&quot;Oromo&quot;);\r\n        arraylist_dst_languages.add(&quot;Pashto&quot;);\r\n        arraylist_dst_languages.add(&quot;Persian&quot;);\r\n        arraylist_dst_languages.add(&quot;Polish&quot;);\r\n        arraylist_dst_languages.add(&quot;Portuguese&quot;);\r\n        arraylist_dst_languages.add(&quot;Punjabi&quot;);\r\n        arraylist_dst_languages.add(&quot;Quechua&quot;);\r\n        arraylist_dst_languages.add(&quot;Romanian&quot;);\r\n        arraylist_dst_languages.add(&quot;Russian&quot;);\r\n        arraylist_dst_languages.add(&quot;Samoan&quot;);\r\n        arraylist_dst_languages.add(&quot;Sanskrit&quot;);\r\n        arraylist_dst_languages.add(&quot;Scots Gaelic&quot;);\r\n        arraylist_dst_languages.add(&quot;Sepedi&quot;);\r\n        arraylist_dst_languages.add(&quot;Serbian&quot;);\r\n        arraylist_dst_languages.add(&quot;Sesotho&quot;);\r\n        arraylist_dst_languages.add(&quot;Shona&quot;);\r\n        arraylist_dst_languages.add(&quot;Sindhi&quot;);\r\n        arraylist_dst_languages.add(&quot;Sinhala&quot;);\r\n        arraylist_dst_languages.add(&quot;Slovak&quot;);\r\n        arraylist_dst_languages.add(&quot;Slovenian&quot;);\r\n        arraylist_dst_languages.add(&quot;Somali&quot;);\r\n        arraylist_dst_languages.add(&quot;Spanish&quot;);\r\n        arraylist_dst_languages.add(&quot;Sundanese&quot;);\r\n        arraylist_dst_languages.add(&quot;Swahili&quot;);\r\n        arraylist_dst_languages.add(&quot;Swedish&quot;);\r\n        arraylist_dst_languages.add(&quot;Tajik&quot;);\r\n        arraylist_dst_languages.add(&quot;Tamil&quot;);\r\n        arraylist_dst_languages.add(&quot;Tatar&quot;);\r\n        arraylist_dst_languages.add(&quot;Telugu&quot;);\r\n        arraylist_dst_languages.add(&quot;Thai&quot;);\r\n        arraylist_dst_languages.add(&quot;Tigrinya&quot;);\r\n        arraylist_dst_languages.add(&quot;Tsonga&quot;);\r\n        arraylist_dst_languages.add(&quot;Turkish&quot;);\r\n        arraylist_dst_languages.add(&quot;Turkmen&quot;);\r\n        arraylist_dst_languages.add(&quot;Twi (Akan)&quot;);\r\n        arraylist_dst_languages.add(&quot;Ukrainian&quot;);\r\n        arraylist_dst_languages.add(&quot;Urdu&quot;);\r\n        arraylist_dst_languages.add(&quot;Uyghur&quot;);\r\n        arraylist_dst_languages.add(&quot;Uzbek&quot;);\r\n        arraylist_dst_languages.add(&quot;Vietnamese&quot;);\r\n        arraylist_dst_languages.add(&quot;Welsh&quot;);\r\n        arraylist_dst_languages.add(&quot;Xhosa&quot;);\r\n        arraylist_dst_languages.add(&quot;Yiddish&quot;);\r\n        arraylist_dst_languages.add(&quot;Yoruba&quot;);\r\n        arraylist_dst_languages.add(&quot;Zulu&quot;);\r\n\r\n        for (int i = 0; i &lt; arraylist_dst_languages.size(); i++) {\r\n            map_dst_country.put(arraylist_dst_languages.get(i), arraylist_dst_code.get(i));\r\n        }\r\n\r\n\t\tString Sentence = &quot;This is a test&quot;;\r\n\t\tsrc_language = &quot;English&quot;;\r\n\t\tsrc_code = map_src_country.get(src_language);\r\n\t\tdst_language = &quot;Hindi&quot;;\r\n\t\tdst_code = map_dst_country.get(dst_language);\r\n\t\tString Translation = GoogleTranslate(Sentence, src_code, dst_code);\r\n\t\tSystem.out.println(&quot;Translation = &quot; + Translation);\r\n\r\n\t}\r\n\r\n\r\n\tprivate String GoogleTranslate(String SENTENCE, String SRC, String DST) {\r\n\t\tAtomicReference&lt;String&gt; TRANSLATION = new AtomicReference&lt;&gt;(&quot;&quot;);\r\n\t\ttry {\r\n\t\t\tSENTENCE = URLEncoder.encode(SENTENCE, &quot;utf-8&quot;);\r\n\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\tLog.e(&quot;UnsupportedEncodingException: &quot;, Objects.requireNonNull(e.getMessage()));\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t\tString finalSENTENCE = SENTENCE;\r\n\t\ttry {\r\n\t\t\tString url = &quot;https://translate.googleapis.com/translate_a/&quot;;\r\n\t\t\tString params = &quot;single?client=gtx&amp;sl=&quot; + SRC + &quot;&amp;tl=&quot; + DST + &quot;&amp;dt=t&amp;q=&quot; + finalSENTENCE;\r\n\t\t\tHttpResponse response = new DefaultHttpClient().execute(new HttpGet(url+params));\r\n\t\t\tStatusLine statusLine = response.getStatusLine();\r\n\t\t\tif (statusLine.getStatusCode() == 200) {\r\n\t\t\t\tByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n\t\t\t\tresponse.getEntity().writeTo(byteArrayOutputStream);\r\n\t\t\t\tString stringOfByteArrayOutputStream = byteArrayOutputStream.toString();\r\n\t\t\t\tbyteArrayOutputStream.close();\r\n\t\t\t\tJSONArray jSONArray = new JSONArray(stringOfByteArrayOutputStream).getJSONArray(0);\r\n\t\t\t\tfor (int i = 0; i &lt; jSONArray.length(); i++) {\r\n\t\t\t\t\tJSONArray jSONArray2 = jSONArray.getJSONArray(i);\r\n\t\t\t\t\tTRANSLATION.set(TRANSLATION + jSONArray2.get(0).toString());\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tresponse.getEntity().getContent().close();\r\n\t\t\t\tthrow new IOException(statusLine.getReasonPhrase());\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\tLog.e(&quot;GoogleTranslator&quot;,e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn TRANSLATION.toString();\r\n\t}\r\n}\r\n```\r\n\r\nCheck the complete implementation in one of my repos : https://github.com/botbahlul/android-autosrt","title":"Using google translate in android application","body":"<pre><code>public class MainActivity extends AppCompatActivity {\n    ArrayList&lt;String&gt; arraylist_src_code = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; arraylist_dst_code = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; arraylist_src_languages = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; arraylist_dst_languages = new ArrayList&lt;&gt;();\n    Map&lt;String, String&gt; map_src_country = new HashMap&lt;&gt;();\n    Map&lt;String, String&gt; map_dst_country = new HashMap&lt;&gt;();\n    String src_language, dst_language, src_code, dst_code;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        arraylist_src_code.add(&quot;af&quot;);\n        arraylist_src_code.add(&quot;sq&quot;);\n        arraylist_src_code.add(&quot;am&quot;);\n        arraylist_src_code.add(&quot;ar&quot;);\n        arraylist_src_code.add(&quot;hy&quot;);\n        arraylist_src_code.add(&quot;as&quot;);\n        arraylist_src_code.add(&quot;ay&quot;);\n        arraylist_src_code.add(&quot;az&quot;);\n        arraylist_src_code.add(&quot;bm&quot;);\n        arraylist_src_code.add(&quot;eu&quot;);\n        arraylist_src_code.add(&quot;be&quot;);\n        arraylist_src_code.add(&quot;bn&quot;);\n        arraylist_src_code.add(&quot;bho&quot;);\n        arraylist_src_code.add(&quot;bs&quot;);\n        arraylist_src_code.add(&quot;bg&quot;);\n        arraylist_src_code.add(&quot;ca&quot;);\n        arraylist_src_code.add(&quot;ceb&quot;);\n        arraylist_src_code.add(&quot;ny&quot;);\n        arraylist_src_code.add(&quot;zh-CN&quot;);\n        arraylist_src_code.add(&quot;zh-TW&quot;);\n        arraylist_src_code.add(&quot;co&quot;);\n        arraylist_src_code.add(&quot;hr&quot;);\n        arraylist_src_code.add(&quot;cs&quot;);\n        arraylist_src_code.add(&quot;da&quot;);\n        arraylist_src_code.add(&quot;dv&quot;);\n        arraylist_src_code.add(&quot;doi&quot;);\n        arraylist_src_code.add(&quot;nl&quot;);\n        arraylist_src_code.add(&quot;en&quot;);\n        arraylist_src_code.add(&quot;eo&quot;);\n        arraylist_src_code.add(&quot;et&quot;);\n        arraylist_src_code.add(&quot;ee&quot;);\n        arraylist_src_code.add(&quot;fil&quot;);\n        arraylist_src_code.add(&quot;fi&quot;);\n        arraylist_src_code.add(&quot;fr&quot;);\n        arraylist_src_code.add(&quot;fy&quot;);\n        arraylist_src_code.add(&quot;gl&quot;);\n        arraylist_src_code.add(&quot;ka&quot;);\n        arraylist_src_code.add(&quot;de&quot;);\n        arraylist_src_code.add(&quot;el&quot;);\n        arraylist_src_code.add(&quot;gn&quot;);\n        arraylist_src_code.add(&quot;gu&quot;);\n        arraylist_src_code.add(&quot;ht&quot;);\n        arraylist_src_code.add(&quot;ha&quot;);\n        arraylist_src_code.add(&quot;haw&quot;);\n        arraylist_src_code.add(&quot;he&quot;);\n        arraylist_src_code.add(&quot;hi&quot;);\n        arraylist_src_code.add(&quot;hmn&quot;);\n        arraylist_src_code.add(&quot;hu&quot;);\n        arraylist_src_code.add(&quot;is&quot;);\n        arraylist_src_code.add(&quot;ig&quot;);\n        arraylist_src_code.add(&quot;ilo&quot;);\n        arraylist_src_code.add(&quot;id&quot;);\n        arraylist_src_code.add(&quot;ga&quot;);\n        arraylist_src_code.add(&quot;it&quot;);\n        arraylist_src_code.add(&quot;ja&quot;);\n        arraylist_src_code.add(&quot;jv&quot;);\n        arraylist_src_code.add(&quot;kn&quot;);\n        arraylist_src_code.add(&quot;kk&quot;);\n        arraylist_src_code.add(&quot;km&quot;);\n        arraylist_src_code.add(&quot;rw&quot;);\n        arraylist_src_code.add(&quot;gom&quot;);\n        arraylist_src_code.add(&quot;ko&quot;);\n        arraylist_src_code.add(&quot;kri&quot;);\n        arraylist_src_code.add(&quot;kmr&quot;);\n        arraylist_src_code.add(&quot;ckb&quot;);\n        arraylist_src_code.add(&quot;ky&quot;);\n        arraylist_src_code.add(&quot;lo&quot;);\n        arraylist_src_code.add(&quot;la&quot;);\n        arraylist_src_code.add(&quot;lv&quot;);\n        arraylist_src_code.add(&quot;ln&quot;);\n        arraylist_src_code.add(&quot;lt&quot;);\n        arraylist_src_code.add(&quot;lg&quot;);\n        arraylist_src_code.add(&quot;lb&quot;);\n        arraylist_src_code.add(&quot;mk&quot;);\n        arraylist_src_code.add(&quot;mg&quot;);\n        arraylist_src_code.add(&quot;ms&quot;);\n        arraylist_src_code.add(&quot;ml&quot;);\n        arraylist_src_code.add(&quot;mt&quot;);\n        arraylist_src_code.add(&quot;mi&quot;);\n        arraylist_src_code.add(&quot;mr&quot;);\n        arraylist_src_code.add(&quot;mni-Mtei&quot;);\n        arraylist_src_code.add(&quot;lus&quot;);\n        arraylist_src_code.add(&quot;mn&quot;);\n        arraylist_src_code.add(&quot;my&quot;);\n        arraylist_src_code.add(&quot;ne&quot;);\n        arraylist_src_code.add(&quot;no&quot;);\n        arraylist_src_code.add(&quot;or&quot;);\n        arraylist_src_code.add(&quot;om&quot;);\n        arraylist_src_code.add(&quot;ps&quot;);\n        arraylist_src_code.add(&quot;fa&quot;);\n        arraylist_src_code.add(&quot;pl&quot;);\n        arraylist_src_code.add(&quot;pt&quot;);\n        arraylist_src_code.add(&quot;pa&quot;);\n        arraylist_src_code.add(&quot;qu&quot;);\n        arraylist_src_code.add(&quot;ro&quot;);\n        arraylist_src_code.add(&quot;ru&quot;);\n        arraylist_src_code.add(&quot;sm&quot;);\n        arraylist_src_code.add(&quot;sa&quot;);\n        arraylist_src_code.add(&quot;gd&quot;);\n        arraylist_src_code.add(&quot;nso&quot;);\n        arraylist_src_code.add(&quot;sr&quot;);\n        arraylist_src_code.add(&quot;st&quot;);\n        arraylist_src_code.add(&quot;sn&quot;);\n        arraylist_src_code.add(&quot;sd&quot;);\n        arraylist_src_code.add(&quot;si&quot;);\n        arraylist_src_code.add(&quot;sk&quot;);\n        arraylist_src_code.add(&quot;sl&quot;);\n        arraylist_src_code.add(&quot;so&quot;);\n        arraylist_src_code.add(&quot;es&quot;);\n        arraylist_src_code.add(&quot;su&quot;);\n        arraylist_src_code.add(&quot;sw&quot;);\n        arraylist_src_code.add(&quot;sv&quot;);\n        arraylist_src_code.add(&quot;tg&quot;);\n        arraylist_src_code.add(&quot;ta&quot;);\n        arraylist_src_code.add(&quot;tt&quot;);\n        arraylist_src_code.add(&quot;te&quot;);\n        arraylist_src_code.add(&quot;th&quot;);\n        arraylist_src_code.add(&quot;ti&quot;);\n        arraylist_src_code.add(&quot;ts&quot;);\n        arraylist_src_code.add(&quot;tr&quot;);\n        arraylist_src_code.add(&quot;tk&quot;);\n        arraylist_src_code.add(&quot;tw&quot;);\n        arraylist_src_code.add(&quot;uk&quot;);\n        arraylist_src_code.add(&quot;ur&quot;);\n        arraylist_src_code.add(&quot;ug&quot;);\n        arraylist_src_code.add(&quot;uz&quot;);\n        arraylist_src_code.add(&quot;vi&quot;);\n        arraylist_src_code.add(&quot;cy&quot;);\n        arraylist_src_code.add(&quot;xh&quot;);\n        arraylist_src_code.add(&quot;yi&quot;);\n        arraylist_src_code.add(&quot;yo&quot;);\n        arraylist_src_code.add(&quot;zu&quot;);\n\n        arraylist_src_languages.add(&quot;Afrikaans&quot;);\n        arraylist_src_languages.add(&quot;Albanian&quot;);\n        arraylist_src_languages.add(&quot;Amharic&quot;);\n        arraylist_src_languages.add(&quot;Arabic&quot;);\n        arraylist_src_languages.add(&quot;Armenian&quot;);\n        arraylist_src_languages.add(&quot;Assamese&quot;);\n        arraylist_src_languages.add(&quot;Aymara&quot;);\n        arraylist_src_languages.add(&quot;Azerbaijani&quot;);\n        arraylist_src_languages.add(&quot;Bambara&quot;);\n        arraylist_src_languages.add(&quot;Basque&quot;);\n        arraylist_src_languages.add(&quot;Belarusian&quot;);\n        arraylist_src_languages.add(&quot;Bengali&quot;);\n        arraylist_src_languages.add(&quot;Bhojpuri&quot;);\n        arraylist_src_languages.add(&quot;Bosnian&quot;);\n        arraylist_src_languages.add(&quot;Bulgarian&quot;);\n        arraylist_src_languages.add(&quot;Catalan&quot;);\n        arraylist_src_languages.add(&quot;Cebuano&quot;);\n        arraylist_src_languages.add(&quot;Chichewa&quot;);\n        arraylist_src_languages.add(&quot;Chinese (Simplified)&quot;);\n        arraylist_src_languages.add(&quot;Chinese (Traditional)&quot;);\n        arraylist_src_languages.add(&quot;Corsican&quot;);\n        arraylist_src_languages.add(&quot;Croatian&quot;);\n        arraylist_src_languages.add(&quot;Czech&quot;);\n        arraylist_src_languages.add(&quot;Danish&quot;);\n        arraylist_src_languages.add(&quot;Dhivehi&quot;);\n        arraylist_src_languages.add(&quot;Dogri&quot;);\n        arraylist_src_languages.add(&quot;Dutch&quot;);\n        arraylist_src_languages.add(&quot;English&quot;);\n        arraylist_src_languages.add(&quot;Esperanto&quot;);\n        arraylist_src_languages.add(&quot;Estonian&quot;);\n        arraylist_src_languages.add(&quot;Ewe&quot;);\n        arraylist_src_languages.add(&quot;Filipino&quot;);\n        arraylist_src_languages.add(&quot;Finnish&quot;);\n        arraylist_src_languages.add(&quot;French&quot;);\n        arraylist_src_languages.add(&quot;Frisian&quot;);\n        arraylist_src_languages.add(&quot;Galician&quot;);\n        arraylist_src_languages.add(&quot;Georgian&quot;);\n        arraylist_src_languages.add(&quot;German&quot;);\n        arraylist_src_languages.add(&quot;Greek&quot;);\n        arraylist_src_languages.add(&quot;Guarani&quot;);\n        arraylist_src_languages.add(&quot;Gujarati&quot;);\n        arraylist_src_languages.add(&quot;Haitian Creole&quot;);\n        arraylist_src_languages.add(&quot;Hausa&quot;);\n        arraylist_src_languages.add(&quot;Hawaiian&quot;);\n        arraylist_src_languages.add(&quot;Hebrew&quot;);\n        arraylist_src_languages.add(&quot;Hindi&quot;);\n        arraylist_src_languages.add(&quot;Hmong&quot;);\n        arraylist_src_languages.add(&quot;Hungarian&quot;);\n        arraylist_src_languages.add(&quot;Icelandic&quot;);\n        arraylist_src_languages.add(&quot;Igbo&quot;);\n        arraylist_src_languages.add(&quot;Ilocano&quot;);\n        arraylist_src_languages.add(&quot;Indonesian&quot;);\n        arraylist_src_languages.add(&quot;Irish&quot;);\n        arraylist_src_languages.add(&quot;Italian&quot;);\n        arraylist_src_languages.add(&quot;Japanese&quot;);\n        arraylist_src_languages.add(&quot;Javanese&quot;);\n        arraylist_src_languages.add(&quot;Kannada&quot;);\n        arraylist_src_languages.add(&quot;Kazakh&quot;);\n        arraylist_src_languages.add(&quot;Khmer&quot;);\n        arraylist_src_languages.add(&quot;Kinyarwanda&quot;);\n        arraylist_src_languages.add(&quot;Konkani&quot;);\n        arraylist_src_languages.add(&quot;Korean&quot;);\n        arraylist_src_languages.add(&quot;Krio&quot;);\n        arraylist_src_languages.add(&quot;Kurdish (Kurmanji)&quot;);\n        arraylist_src_languages.add(&quot;Kurdish (Sorani)&quot;);\n        arraylist_src_languages.add(&quot;Kyrgyz&quot;);\n        arraylist_src_languages.add(&quot;Lao&quot;);\n        arraylist_src_languages.add(&quot;Latin&quot;);\n        arraylist_src_languages.add(&quot;Latvian&quot;);\n        arraylist_src_languages.add(&quot;Lingala&quot;);\n        arraylist_src_languages.add(&quot;Lithuanian&quot;);\n        arraylist_src_languages.add(&quot;Luganda&quot;);\n        arraylist_src_languages.add(&quot;Luxembourgish&quot;);\n        arraylist_src_languages.add(&quot;Macedonian&quot;);\n        arraylist_src_languages.add(&quot;Malagasy&quot;);\n        arraylist_src_languages.add(&quot;Malay&quot;);\n        arraylist_src_languages.add(&quot;Malayalam&quot;);\n        arraylist_src_languages.add(&quot;Maltese&quot;);\n        arraylist_src_languages.add(&quot;Maori&quot;);\n        arraylist_src_languages.add(&quot;Marathi&quot;);\n        arraylist_src_languages.add(&quot;Meiteilon (Manipuri)&quot;);\n        arraylist_src_languages.add(&quot;Mizo&quot;);\n        arraylist_src_languages.add(&quot;Mongolian&quot;);\n        arraylist_src_languages.add(&quot;Myanmar (Burmese)&quot;);\n        arraylist_src_languages.add(&quot;Nepali&quot;);\n        arraylist_src_languages.add(&quot;Norwegian&quot;);\n        arraylist_src_languages.add(&quot;Odiya (Oriya)&quot;);\n        arraylist_src_languages.add(&quot;Oromo&quot;);\n        arraylist_src_languages.add(&quot;Pashto&quot;);\n        arraylist_src_languages.add(&quot;Persian&quot;);\n        arraylist_src_languages.add(&quot;Polish&quot;);\n        arraylist_src_languages.add(&quot;Portuguese&quot;);\n        arraylist_src_languages.add(&quot;Punjabi&quot;);\n        arraylist_src_languages.add(&quot;Quechua&quot;);\n        arraylist_src_languages.add(&quot;Romanian&quot;);\n        arraylist_src_languages.add(&quot;Russian&quot;);\n        arraylist_src_languages.add(&quot;Samoan&quot;);\n        arraylist_src_languages.add(&quot;Sanskrit&quot;);\n        arraylist_src_languages.add(&quot;Scots Gaelic&quot;);\n        arraylist_src_languages.add(&quot;Sepedi&quot;);\n        arraylist_src_languages.add(&quot;Serbian&quot;);\n        arraylist_src_languages.add(&quot;Sesotho&quot;);\n        arraylist_src_languages.add(&quot;Shona&quot;);\n        arraylist_src_languages.add(&quot;Sindhi&quot;);\n        arraylist_src_languages.add(&quot;Sinhala&quot;);\n        arraylist_src_languages.add(&quot;Slovak&quot;);\n        arraylist_src_languages.add(&quot;Slovenian&quot;);\n        arraylist_src_languages.add(&quot;Somali&quot;);\n        arraylist_src_languages.add(&quot;Spanish&quot;);\n        arraylist_src_languages.add(&quot;Sundanese&quot;);\n        arraylist_src_languages.add(&quot;Swahili&quot;);\n        arraylist_src_languages.add(&quot;Swedish&quot;);\n        arraylist_src_languages.add(&quot;Tajik&quot;);\n        arraylist_src_languages.add(&quot;Tamil&quot;);\n        arraylist_src_languages.add(&quot;Tatar&quot;);\n        arraylist_src_languages.add(&quot;Telugu&quot;);\n        arraylist_src_languages.add(&quot;Thai&quot;);\n        arraylist_src_languages.add(&quot;Tigrinya&quot;);\n        arraylist_src_languages.add(&quot;Tsonga&quot;);\n        arraylist_src_languages.add(&quot;Turkish&quot;);\n        arraylist_src_languages.add(&quot;Turkmen&quot;);\n        arraylist_src_languages.add(&quot;Twi (Akan)&quot;);\n        arraylist_src_languages.add(&quot;Ukrainian&quot;);\n        arraylist_src_languages.add(&quot;Urdu&quot;);\n        arraylist_src_languages.add(&quot;Uyghur&quot;);\n        arraylist_src_languages.add(&quot;Uzbek&quot;);\n        arraylist_src_languages.add(&quot;Vietnamese&quot;);\n        arraylist_src_languages.add(&quot;Welsh&quot;);\n        arraylist_src_languages.add(&quot;Xhosa&quot;);\n        arraylist_src_languages.add(&quot;Yiddish&quot;);\n        arraylist_src_languages.add(&quot;Yoruba&quot;);\n        arraylist_src_languages.add(&quot;Zulu&quot;);\n\n        for (int i = 0; i &lt; arraylist_src_languages.size(); i++) {\n            map_src_country.put(arraylist_src_languages.get(i), arraylist_src_code.get(i));\n        }\n\n        arraylist_dst_code.add(&quot;af&quot;);\n        arraylist_dst_code.add(&quot;sq&quot;);\n        arraylist_dst_code.add(&quot;am&quot;);\n        arraylist_dst_code.add(&quot;ar&quot;);\n        arraylist_dst_code.add(&quot;hy&quot;);\n        arraylist_dst_code.add(&quot;as&quot;);\n        arraylist_dst_code.add(&quot;ay&quot;);\n        arraylist_dst_code.add(&quot;az&quot;);\n        arraylist_dst_code.add(&quot;bm&quot;);\n        arraylist_dst_code.add(&quot;eu&quot;);\n        arraylist_dst_code.add(&quot;be&quot;);\n        arraylist_dst_code.add(&quot;bn&quot;);\n        arraylist_dst_code.add(&quot;bho&quot;);\n        arraylist_dst_code.add(&quot;bs&quot;);\n        arraylist_dst_code.add(&quot;bg&quot;);\n        arraylist_dst_code.add(&quot;ca&quot;);\n        arraylist_dst_code.add(&quot;ceb&quot;);\n        arraylist_dst_code.add(&quot;ny&quot;);\n        arraylist_dst_code.add(&quot;zh-CN&quot;);\n        arraylist_dst_code.add(&quot;zh-TW&quot;);\n        arraylist_dst_code.add(&quot;co&quot;);\n        arraylist_dst_code.add(&quot;hr&quot;);\n        arraylist_dst_code.add(&quot;cs&quot;);\n        arraylist_dst_code.add(&quot;da&quot;);\n        arraylist_dst_code.add(&quot;dv&quot;);\n        arraylist_dst_code.add(&quot;doi&quot;);\n        arraylist_dst_code.add(&quot;nl&quot;);\n        arraylist_dst_code.add(&quot;en&quot;);\n        arraylist_dst_code.add(&quot;eo&quot;);\n        arraylist_dst_code.add(&quot;et&quot;);\n        arraylist_dst_code.add(&quot;ee&quot;);\n        arraylist_dst_code.add(&quot;fil&quot;);\n        arraylist_dst_code.add(&quot;fi&quot;);\n        arraylist_dst_code.add(&quot;fr&quot;);\n        arraylist_dst_code.add(&quot;fy&quot;);\n        arraylist_dst_code.add(&quot;gl&quot;);\n        arraylist_dst_code.add(&quot;ka&quot;);\n        arraylist_dst_code.add(&quot;de&quot;);\n        arraylist_dst_code.add(&quot;el&quot;);\n        arraylist_dst_code.add(&quot;gn&quot;);\n        arraylist_dst_code.add(&quot;gu&quot;);\n        arraylist_dst_code.add(&quot;ht&quot;);\n        arraylist_dst_code.add(&quot;ha&quot;);\n        arraylist_dst_code.add(&quot;haw&quot;);\n        arraylist_dst_code.add(&quot;he&quot;);\n        arraylist_dst_code.add(&quot;hi&quot;);\n        arraylist_dst_code.add(&quot;hmn&quot;);\n        arraylist_dst_code.add(&quot;hu&quot;);\n        arraylist_dst_code.add(&quot;is&quot;);\n        arraylist_dst_code.add(&quot;ig&quot;);\n        arraylist_dst_code.add(&quot;ilo&quot;);\n        arraylist_dst_code.add(&quot;id&quot;);\n        arraylist_dst_code.add(&quot;ga&quot;);\n        arraylist_dst_code.add(&quot;it&quot;);\n        arraylist_dst_code.add(&quot;ja&quot;);\n        arraylist_dst_code.add(&quot;jv&quot;);\n        arraylist_dst_code.add(&quot;kn&quot;);\n        arraylist_dst_code.add(&quot;kk&quot;);\n        arraylist_dst_code.add(&quot;km&quot;);\n        arraylist_dst_code.add(&quot;rw&quot;);\n        arraylist_dst_code.add(&quot;gom&quot;);\n        arraylist_dst_code.add(&quot;ko&quot;);\n        arraylist_dst_code.add(&quot;kri&quot;);\n        arraylist_dst_code.add(&quot;kmr&quot;);\n        arraylist_dst_code.add(&quot;ckb&quot;);\n        arraylist_dst_code.add(&quot;ky&quot;);\n        arraylist_dst_code.add(&quot;lo&quot;);\n        arraylist_dst_code.add(&quot;la&quot;);\n        arraylist_dst_code.add(&quot;lv&quot;);\n        arraylist_dst_code.add(&quot;ln&quot;);\n        arraylist_dst_code.add(&quot;lt&quot;);\n        arraylist_dst_code.add(&quot;lg&quot;);\n        arraylist_dst_code.add(&quot;lb&quot;);\n        arraylist_dst_code.add(&quot;mk&quot;);\n        arraylist_dst_code.add(&quot;mg&quot;);\n        arraylist_dst_code.add(&quot;ms&quot;);\n        arraylist_dst_code.add(&quot;ml&quot;);\n        arraylist_dst_code.add(&quot;mt&quot;);\n        arraylist_dst_code.add(&quot;mi&quot;);\n        arraylist_dst_code.add(&quot;mr&quot;);\n        arraylist_dst_code.add(&quot;mni-Mtei&quot;);\n        arraylist_dst_code.add(&quot;lus&quot;);\n        arraylist_dst_code.add(&quot;mn&quot;);\n        arraylist_dst_code.add(&quot;my&quot;);\n        arraylist_dst_code.add(&quot;ne&quot;);\n        arraylist_dst_code.add(&quot;no&quot;);\n        arraylist_dst_code.add(&quot;or&quot;);\n        arraylist_dst_code.add(&quot;om&quot;);\n        arraylist_dst_code.add(&quot;ps&quot;);\n        arraylist_dst_code.add(&quot;fa&quot;);\n        arraylist_dst_code.add(&quot;pl&quot;);\n        arraylist_dst_code.add(&quot;pt&quot;);\n        arraylist_dst_code.add(&quot;pa&quot;);\n        arraylist_dst_code.add(&quot;qu&quot;);\n        arraylist_dst_code.add(&quot;ro&quot;);\n        arraylist_dst_code.add(&quot;ru&quot;);\n        arraylist_dst_code.add(&quot;sm&quot;);\n        arraylist_dst_code.add(&quot;sa&quot;);\n        arraylist_dst_code.add(&quot;gd&quot;);\n        arraylist_dst_code.add(&quot;nso&quot;);\n        arraylist_dst_code.add(&quot;sr&quot;);\n        arraylist_dst_code.add(&quot;st&quot;);\n        arraylist_dst_code.add(&quot;sn&quot;);\n        arraylist_dst_code.add(&quot;sd&quot;);\n        arraylist_dst_code.add(&quot;si&quot;);\n        arraylist_dst_code.add(&quot;sk&quot;);\n        arraylist_dst_code.add(&quot;sl&quot;);\n        arraylist_dst_code.add(&quot;so&quot;);\n        arraylist_dst_code.add(&quot;es&quot;);\n        arraylist_dst_code.add(&quot;su&quot;);\n        arraylist_dst_code.add(&quot;sw&quot;);\n        arraylist_dst_code.add(&quot;sv&quot;);\n        arraylist_dst_code.add(&quot;tg&quot;);\n        arraylist_dst_code.add(&quot;ta&quot;);\n        arraylist_dst_code.add(&quot;tt&quot;);\n        arraylist_dst_code.add(&quot;te&quot;);\n        arraylist_dst_code.add(&quot;th&quot;);\n        arraylist_dst_code.add(&quot;ti&quot;);\n        arraylist_dst_code.add(&quot;ts&quot;);\n        arraylist_dst_code.add(&quot;tr&quot;);\n        arraylist_dst_code.add(&quot;tk&quot;);\n        arraylist_dst_code.add(&quot;tw&quot;);\n        arraylist_dst_code.add(&quot;uk&quot;);\n        arraylist_dst_code.add(&quot;ur&quot;);\n        arraylist_dst_code.add(&quot;ug&quot;);\n        arraylist_dst_code.add(&quot;uz&quot;);\n        arraylist_dst_code.add(&quot;vi&quot;);\n        arraylist_dst_code.add(&quot;cy&quot;);\n        arraylist_dst_code.add(&quot;xh&quot;);\n        arraylist_dst_code.add(&quot;yi&quot;);\n        arraylist_dst_code.add(&quot;yo&quot;);\n        arraylist_dst_code.add(&quot;zu&quot;);\n\n        arraylist_dst_languages.add(&quot;Afrikaans&quot;);\n        arraylist_dst_languages.add(&quot;Albanian&quot;);\n        arraylist_dst_languages.add(&quot;Amharic&quot;);\n        arraylist_dst_languages.add(&quot;Arabic&quot;);\n        arraylist_dst_languages.add(&quot;Armenian&quot;);\n        arraylist_dst_languages.add(&quot;Assamese&quot;);\n        arraylist_dst_languages.add(&quot;Aymara&quot;);\n        arraylist_dst_languages.add(&quot;Azerbaijani&quot;);\n        arraylist_dst_languages.add(&quot;Bambara&quot;);\n        arraylist_dst_languages.add(&quot;Basque&quot;);\n        arraylist_dst_languages.add(&quot;Belarusian&quot;);\n        arraylist_dst_languages.add(&quot;Bengali&quot;);\n        arraylist_dst_languages.add(&quot;Bhojpuri&quot;);\n        arraylist_dst_languages.add(&quot;Bosnian&quot;);\n        arraylist_dst_languages.add(&quot;Bulgarian&quot;);\n        arraylist_dst_languages.add(&quot;Catalan&quot;);\n        arraylist_dst_languages.add(&quot;Cebuano&quot;);\n        arraylist_dst_languages.add(&quot;Chichewa&quot;);\n        arraylist_dst_languages.add(&quot;Chinese (Simplified)&quot;);\n        arraylist_dst_languages.add(&quot;Chinese (Traditional)&quot;);\n        arraylist_dst_languages.add(&quot;Corsican&quot;);\n        arraylist_dst_languages.add(&quot;Croatian&quot;);\n        arraylist_dst_languages.add(&quot;Czech&quot;);\n        arraylist_dst_languages.add(&quot;Danish&quot;);\n        arraylist_dst_languages.add(&quot;Dhivehi&quot;);\n        arraylist_dst_languages.add(&quot;Dogri&quot;);\n        arraylist_dst_languages.add(&quot;Dutch&quot;);\n        arraylist_dst_languages.add(&quot;English&quot;);\n        arraylist_dst_languages.add(&quot;Esperanto&quot;);\n        arraylist_dst_languages.add(&quot;Estonian&quot;);\n        arraylist_dst_languages.add(&quot;Ewe&quot;);\n        arraylist_dst_languages.add(&quot;Filipino&quot;);\n        arraylist_dst_languages.add(&quot;Finnish&quot;);\n        arraylist_dst_languages.add(&quot;French&quot;);\n        arraylist_dst_languages.add(&quot;Frisian&quot;);\n        arraylist_dst_languages.add(&quot;Galician&quot;);\n        arraylist_dst_languages.add(&quot;Georgian&quot;);\n        arraylist_dst_languages.add(&quot;German&quot;);\n        arraylist_dst_languages.add(&quot;Greek&quot;);\n        arraylist_dst_languages.add(&quot;Guarani&quot;);\n        arraylist_dst_languages.add(&quot;Gujarati&quot;);\n        arraylist_dst_languages.add(&quot;Haitian Creole&quot;);\n        arraylist_dst_languages.add(&quot;Hausa&quot;);\n        arraylist_dst_languages.add(&quot;Hawaiian&quot;);\n        arraylist_dst_languages.add(&quot;Hebrew&quot;);\n        arraylist_dst_languages.add(&quot;Hindi&quot;);\n        arraylist_dst_languages.add(&quot;Hmong&quot;);\n        arraylist_dst_languages.add(&quot;Hungarian&quot;);\n        arraylist_dst_languages.add(&quot;Icelandic&quot;);\n        arraylist_dst_languages.add(&quot;Igbo&quot;);\n        arraylist_dst_languages.add(&quot;Ilocano&quot;);\n        arraylist_dst_languages.add(&quot;Indonesian&quot;);\n        arraylist_dst_languages.add(&quot;Irish&quot;);\n        arraylist_dst_languages.add(&quot;Italian&quot;);\n        arraylist_dst_languages.add(&quot;Japanese&quot;);\n        arraylist_dst_languages.add(&quot;Javanese&quot;);\n        arraylist_dst_languages.add(&quot;Kannada&quot;);\n        arraylist_dst_languages.add(&quot;Kazakh&quot;);\n        arraylist_dst_languages.add(&quot;Khmer&quot;);\n        arraylist_dst_languages.add(&quot;Kinyarwanda&quot;);\n        arraylist_dst_languages.add(&quot;Konkani&quot;);\n        arraylist_dst_languages.add(&quot;Korean&quot;);\n        arraylist_dst_languages.add(&quot;Krio&quot;);\n        arraylist_dst_languages.add(&quot;Kurdish (Kurmanji)&quot;);\n        arraylist_dst_languages.add(&quot;Kurdish (Sorani)&quot;);\n        arraylist_dst_languages.add(&quot;Kyrgyz&quot;);\n        arraylist_dst_languages.add(&quot;Lao&quot;);\n        arraylist_dst_languages.add(&quot;Latin&quot;);\n        arraylist_dst_languages.add(&quot;Latvian&quot;);\n        arraylist_dst_languages.add(&quot;Lingala&quot;);\n        arraylist_dst_languages.add(&quot;Lithuanian&quot;);\n        arraylist_dst_languages.add(&quot;Luganda&quot;);\n        arraylist_dst_languages.add(&quot;Luxembourgish&quot;);\n        arraylist_dst_languages.add(&quot;Macedonian&quot;);\n        arraylist_dst_languages.add(&quot;Malagasy&quot;);\n        arraylist_dst_languages.add(&quot;Malay&quot;);\n        arraylist_dst_languages.add(&quot;Malayalam&quot;);\n        arraylist_dst_languages.add(&quot;Maltese&quot;);\n        arraylist_dst_languages.add(&quot;Maori&quot;);\n        arraylist_dst_languages.add(&quot;Marathi&quot;);\n        arraylist_dst_languages.add(&quot;Meiteilon (Manipuri)&quot;);\n        arraylist_dst_languages.add(&quot;Mizo&quot;);\n        arraylist_dst_languages.add(&quot;Mongolian&quot;);\n        arraylist_dst_languages.add(&quot;Myanmar (Burmese)&quot;);\n        arraylist_dst_languages.add(&quot;Nepali&quot;);\n        arraylist_dst_languages.add(&quot;Norwegian&quot;);\n        arraylist_dst_languages.add(&quot;Odiya (Oriya)&quot;);\n        arraylist_dst_languages.add(&quot;Oromo&quot;);\n        arraylist_dst_languages.add(&quot;Pashto&quot;);\n        arraylist_dst_languages.add(&quot;Persian&quot;);\n        arraylist_dst_languages.add(&quot;Polish&quot;);\n        arraylist_dst_languages.add(&quot;Portuguese&quot;);\n        arraylist_dst_languages.add(&quot;Punjabi&quot;);\n        arraylist_dst_languages.add(&quot;Quechua&quot;);\n        arraylist_dst_languages.add(&quot;Romanian&quot;);\n        arraylist_dst_languages.add(&quot;Russian&quot;);\n        arraylist_dst_languages.add(&quot;Samoan&quot;);\n        arraylist_dst_languages.add(&quot;Sanskrit&quot;);\n        arraylist_dst_languages.add(&quot;Scots Gaelic&quot;);\n        arraylist_dst_languages.add(&quot;Sepedi&quot;);\n        arraylist_dst_languages.add(&quot;Serbian&quot;);\n        arraylist_dst_languages.add(&quot;Sesotho&quot;);\n        arraylist_dst_languages.add(&quot;Shona&quot;);\n        arraylist_dst_languages.add(&quot;Sindhi&quot;);\n        arraylist_dst_languages.add(&quot;Sinhala&quot;);\n        arraylist_dst_languages.add(&quot;Slovak&quot;);\n        arraylist_dst_languages.add(&quot;Slovenian&quot;);\n        arraylist_dst_languages.add(&quot;Somali&quot;);\n        arraylist_dst_languages.add(&quot;Spanish&quot;);\n        arraylist_dst_languages.add(&quot;Sundanese&quot;);\n        arraylist_dst_languages.add(&quot;Swahili&quot;);\n        arraylist_dst_languages.add(&quot;Swedish&quot;);\n        arraylist_dst_languages.add(&quot;Tajik&quot;);\n        arraylist_dst_languages.add(&quot;Tamil&quot;);\n        arraylist_dst_languages.add(&quot;Tatar&quot;);\n        arraylist_dst_languages.add(&quot;Telugu&quot;);\n        arraylist_dst_languages.add(&quot;Thai&quot;);\n        arraylist_dst_languages.add(&quot;Tigrinya&quot;);\n        arraylist_dst_languages.add(&quot;Tsonga&quot;);\n        arraylist_dst_languages.add(&quot;Turkish&quot;);\n        arraylist_dst_languages.add(&quot;Turkmen&quot;);\n        arraylist_dst_languages.add(&quot;Twi (Akan)&quot;);\n        arraylist_dst_languages.add(&quot;Ukrainian&quot;);\n        arraylist_dst_languages.add(&quot;Urdu&quot;);\n        arraylist_dst_languages.add(&quot;Uyghur&quot;);\n        arraylist_dst_languages.add(&quot;Uzbek&quot;);\n        arraylist_dst_languages.add(&quot;Vietnamese&quot;);\n        arraylist_dst_languages.add(&quot;Welsh&quot;);\n        arraylist_dst_languages.add(&quot;Xhosa&quot;);\n        arraylist_dst_languages.add(&quot;Yiddish&quot;);\n        arraylist_dst_languages.add(&quot;Yoruba&quot;);\n        arraylist_dst_languages.add(&quot;Zulu&quot;);\n\n        for (int i = 0; i &lt; arraylist_dst_languages.size(); i++) {\n            map_dst_country.put(arraylist_dst_languages.get(i), arraylist_dst_code.get(i));\n        }\n\n        String Sentence = &quot;This is a test&quot;;\n        src_language = &quot;English&quot;;\n        src_code = map_src_country.get(src_language);\n        dst_language = &quot;Hindi&quot;;\n        dst_code = map_dst_country.get(dst_language);\n        String Translation = GoogleTranslate(Sentence, src_code, dst_code);\n        System.out.println(&quot;Translation = &quot; + Translation);\n\n    }\n\n\n    private String GoogleTranslate(String SENTENCE, String SRC, String DST) {\n        AtomicReference&lt;String&gt; TRANSLATION = new AtomicReference&lt;&gt;(&quot;&quot;);\n        try {\n            SENTENCE = URLEncoder.encode(SENTENCE, &quot;utf-8&quot;);\n        } catch (UnsupportedEncodingException e) {\n            Log.e(&quot;UnsupportedEncodingException: &quot;, Objects.requireNonNull(e.getMessage()));\n            e.printStackTrace();\n            throw new RuntimeException(e);\n        }\n        String finalSENTENCE = SENTENCE;\n        try {\n            String url = &quot;https://translate.googleapis.com/translate_a/&quot;;\n            String params = &quot;single?client=gtx&amp;sl=&quot; + SRC + &quot;&amp;tl=&quot; + DST + &quot;&amp;dt=t&amp;q=&quot; + finalSENTENCE;\n            HttpResponse response = new DefaultHttpClient().execute(new HttpGet(url+params));\n            StatusLine statusLine = response.getStatusLine();\n            if (statusLine.getStatusCode() == 200) {\n                ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n                response.getEntity().writeTo(byteArrayOutputStream);\n                String stringOfByteArrayOutputStream = byteArrayOutputStream.toString();\n                byteArrayOutputStream.close();\n                JSONArray jSONArray = new JSONArray(stringOfByteArrayOutputStream).getJSONArray(0);\n                for (int i = 0; i &lt; jSONArray.length(); i++) {\n                    JSONArray jSONArray2 = jSONArray.getJSONArray(i);\n                    TRANSLATION.set(TRANSLATION + jSONArray2.get(0).toString());\n                }\n\n            }\n            else {\n                response.getEntity().getContent().close();\n                throw new IOException(statusLine.getReasonPhrase());\n            }\n        }\n        catch (Exception e) {\n            Log.e(&quot;GoogleTranslator&quot;,e.getMessage());\n            e.printStackTrace();\n        }\n        return TRANSLATION.toString();\n    }\n}\n</code></pre>\n<p>Check the complete implementation in one of my repos : <a href=\"https://github.com/botbahlul/android-autosrt\" rel=\"nofollow noreferrer\">https://github.com/botbahlul/android-autosrt</a></p>\n"}],"owner":{"account_id":2386104,"reputation":469,"user_id":2087054,"accept_rate":48,"display_name":"ebruszl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10340,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":4,"score":3,"last_activity_date":1679149145,"creation_date":1369816965,"question_id":16809232,"body_markdown":"I want to use google translate API on my android project. Below are my codes. It works as java project but when I try it on android device, project stopped. What is the reason?\r\n I added [googletranslateapi-1.0.jar][1], \r\n\r\n\r\n**translator.java**\r\n\r\n    package com.example.calendar;\r\n    \r\n    import com.gtranslate.Language;\r\n    import com.gtranslate.Translator;\r\n    \r\n    public class translator {\r\n    \r\n    \tpublic String translate(String text) {\r\n    \t\tTranslator translate = Translator.getInstance();\r\n    \t\tString text2 = translate.translate(text, Language.TURKISH,\r\n    \t\t\t\tLanguage.ENGLISH);\r\n    \t\treturn text2;\r\n    \t}\r\n    \r\n    }\r\n\r\nIn mainactivity\r\n\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) \r\n    {\r\n    \r\n    if (requestCode == VR_REQUEST &amp;&amp; resultCode == RESULT_OK) {\r\n    \r\n    \t\t\tArrayList&lt;String&gt; suggestedWords = data\r\n    \t\t\t\t\t.getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);\r\n    \t\t\tContext context = getApplicationContext();\r\n    \t\t\ttext = suggestedWords.get(0);\r\n    \t\t\tint duration = Toast.LENGTH_SHORT;\r\n    \t\t\tClassificationActivity classificationActivity = new ClassificationActivity();\r\n    \t\t\tString category = classificationActivity.control(text);\r\n    \t\t\ttranslator trans = new translator();\r\n    \t\t\tString ingtext = trans.translate(text);\r\n    \r\n    \t\t\tCalendarEvent cv = new CalendarEvent();\r\n    \t\t\tDate date = new Date();\r\n    \t\t\tContentResolver cr = ctx.getContentResolver();\r\n    \t\t\tUri uri = cr.insert(Events.CONTENT_URI, CalendarEvent\r\n    \t\t\t\t\t.toICSContentValues(cv, date.getTime(), category));\r\n    \t\t\tToast toast = Toast.makeText(context, ingtext, duration);\r\n    \t\t\ttoast.show();\r\n    \r\n    \t\t}\r\n\r\n\r\n  [1]: https://code.google.com/p/java-google-translate-text-to-speech/downloads/detail?name=gtranslateapi-1.0.jar&amp;can=2&amp;q=","title":"Using google translate in android application","body":"<p>I want to use google translate API on my android project. Below are my codes. It works as java project but when I try it on android device, project stopped. What is the reason?\n I added <a href=\"https://code.google.com/p/java-google-translate-text-to-speech/downloads/detail?name=gtranslateapi-1.0.jar&amp;can=2&amp;q=\" rel=\"nofollow\">googletranslateapi-1.0.jar</a>, </p>\n\n<p><strong>translator.java</strong></p>\n\n<pre><code>package com.example.calendar;\n\nimport com.gtranslate.Language;\nimport com.gtranslate.Translator;\n\npublic class translator {\n\n    public String translate(String text) {\n        Translator translate = Translator.getInstance();\n        String text2 = translate.translate(text, Language.TURKISH,\n                Language.ENGLISH);\n        return text2;\n    }\n\n}\n</code></pre>\n\n<p>In mainactivity</p>\n\n<pre><code>public void onActivityResult(int requestCode, int resultCode, Intent data) \n{\n\nif (requestCode == VR_REQUEST &amp;&amp; resultCode == RESULT_OK) {\n\n            ArrayList&lt;String&gt; suggestedWords = data\n                    .getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);\n            Context context = getApplicationContext();\n            text = suggestedWords.get(0);\n            int duration = Toast.LENGTH_SHORT;\n            ClassificationActivity classificationActivity = new ClassificationActivity();\n            String category = classificationActivity.control(text);\n            translator trans = new translator();\n            String ingtext = trans.translate(text);\n\n            CalendarEvent cv = new CalendarEvent();\n            Date date = new Date();\n            ContentResolver cr = ctx.getContentResolver();\n            Uri uri = cr.insert(Events.CONTENT_URI, CalendarEvent\n                    .toICSContentValues(cv, date.getTime(), category));\n            Toast toast = Toast.makeText(context, ingtext, duration);\n            toast.show();\n\n        }\n</code></pre>\n"},{"tags":["java","dependency-injection","strategy-pattern","quarkus-rest-client"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":3,"creation_date":1679143887,"post_id":75775998,"comment_id":133670660,"body_markdown":"I haven&#39;t worked with Quarkus, but generally speaking... when you do `new CreditCardStrategy()` or `new PayPalStrategy()`, those aren&#39;t managed by the underlying DI framework. So dependencies of those wouldn&#39;t be injected/available.","body":"I haven&#39;t worked with Quarkus, but generally speaking... when you do <code>new CreditCardStrategy()</code> or <code>new PayPalStrategy()</code>, those aren&#39;t managed by the underlying DI framework. So dependencies of those wouldn&#39;t be injected/available."}],"answers":[{"tags":[],"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679148662,"creation_date":1679148662,"answer_id":75776412,"question_id":75775998,"body_markdown":"To expand on the answer given in the comments, here&#39;s how you might get the bean from the context in spring. Here&#39;s a quarkus example of how you might do this.\r\n\r\nit prints:\r\n\r\n```\r\n2023-03-18 10:08:57,311 INFO  [org.so.q75.Example] (Quarkus Main Thread) ApiExample processed!\r\n2023-03-18 10:08:57,316 INFO  [org.so.q75.Example] (Quarkus Main Thread) CreditCardStrategy processed!\r\n2023-03-18 10:08:57,317 INFO  [org.so.q75.Example] (Quarkus Main Thread) PaymentProcessor processed!\r\n```\r\n\r\n```java\r\n// src/main/org/so/q75775998/Example.java\r\npackage org.so.q75775998;\r\n\r\nimport io.quarkus.runtime.Quarkus;\r\nimport io.quarkus.runtime.QuarkusApplication;\r\nimport io.quarkus.runtime.annotations.QuarkusMain;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport javax.enterprise.context.ApplicationScoped;\r\nimport javax.enterprise.inject.Instance;\r\nimport javax.inject.Inject;\r\n\r\n@QuarkusMain\r\npublic class Example implements QuarkusApplication {\r\n    private static final Logger log = LoggerFactory.getLogger(Example.class);\r\n\r\n    @Inject\r\n    PaymentProcessor paymentProcessor;\r\n\r\n    public static void main(String[] args) {\r\n        Quarkus.run(Example.class, args);\r\n    }\r\n\r\n    @Override\r\n    public int run(String... args) throws Exception {\r\n        paymentProcessor.processPayment(100.0);\r\n        return 0;\r\n    }\r\n\r\n    @ApplicationScoped\r\n    public static class PaymentProcessor {\r\n        @Inject\r\n        Instance&lt;PaymentStrategy&gt; paymentStrategies;\r\n\r\n        void processPayment(double amount) {\r\n            paymentStrategies.iterator().next().processPayment(amount);\r\n            log.info(&quot;PaymentProcessor processed!&quot;);\r\n        }\r\n    }\r\n\r\n    public interface PaymentStrategy {\r\n        void processPayment(double amount);\r\n    }\r\n\r\n    @ApplicationScoped\r\n    public static class CreditCardStrategy implements PaymentStrategy {\r\n        @Inject\r\n        ApiExample apiExample;\r\n\r\n        public void processPayment(double amount) {\r\n            apiExample.doSomething();\r\n            log.info(&quot;CreditCardStrategy processed!&quot;);\r\n        }\r\n    }\r\n\r\n    @ApplicationScoped\r\n    public static class ApiExample {\r\n        public void doSomething() {\r\n            log.info(&quot;ApiExample processed!&quot;);\r\n        }\r\n    }\r\n\r\n    @ApplicationScoped\r\n    public static class PayPalStrategy implements PaymentStrategy {\r\n        @Inject\r\n        Service service;\r\n\r\n        public void processPayment(double amount) {\r\n            service.doSomething();\r\n            log.info(&quot;PayPalStrategy processed!&quot;);\r\n        }\r\n    }\r\n\r\n    @ApplicationScoped\r\n    public static class Service {\r\n        public void doSomething() {\r\n            log.info(&quot;did something!&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n// pom.xml (initialized from https://quarkus.io/guides/lifecycle)\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.acme&lt;/groupId&gt;\r\n  &lt;artifactId&gt;lifecycle-quickstart&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;properties&gt;\r\n    &lt;compiler-plugin.version&gt;3.10.1&lt;/compiler-plugin.version&gt;\r\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\r\n    &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\r\n    &lt;quarkus.platform.version&gt;2.16.4.Final&lt;/quarkus.platform.version&gt;\r\n    &lt;skipITs&gt;true&lt;/skipITs&gt;\r\n    &lt;surefire-plugin.version&gt;3.0.0-M7&lt;/surefire-plugin.version&gt;\r\n  &lt;/properties&gt;\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n        &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\r\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n        &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n        &lt;extensions&gt;true&lt;/extensions&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;build&lt;/goal&gt;\r\n              &lt;goal&gt;generate-code&lt;/goal&gt;\r\n              &lt;goal&gt;generate-code-tests&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;compilerArgs&gt;\r\n            &lt;arg&gt;-parameters&lt;/arg&gt;\r\n          &lt;/compilerArgs&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;systemPropertyVariables&gt;\r\n            &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n            &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\r\n          &lt;/systemPropertyVariables&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;integration-test&lt;/goal&gt;\r\n              &lt;goal&gt;verify&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;systemPropertyVariables&gt;\r\n                &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner&lt;/native.image.path&gt;\r\n                &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n                &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\r\n              &lt;/systemPropertyVariables&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;native&lt;/id&gt;\r\n      &lt;activation&gt;\r\n        &lt;property&gt;\r\n          &lt;name&gt;native&lt;/name&gt;\r\n        &lt;/property&gt;\r\n      &lt;/activation&gt;\r\n      &lt;properties&gt;\r\n        &lt;skipITs&gt;false&lt;/skipITs&gt;\r\n        &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\r\n      &lt;/properties&gt;\r\n    &lt;/profile&gt;\r\n  &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n\r\n```","title":"Cannot access dependency injected inside strategy pattern implementation class","body":"<p>To expand on the answer given in the comments, here's how you might get the bean from the context in spring. Here's a quarkus example of how you might do this.</p>\n<p>it prints:</p>\n<pre><code>2023-03-18 10:08:57,311 INFO  [org.so.q75.Example] (Quarkus Main Thread) ApiExample processed!\n2023-03-18 10:08:57,316 INFO  [org.so.q75.Example] (Quarkus Main Thread) CreditCardStrategy processed!\n2023-03-18 10:08:57,317 INFO  [org.so.q75.Example] (Quarkus Main Thread) PaymentProcessor processed!\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// src/main/org/so/q75775998/Example.java\npackage org.so.q75775998;\n\nimport io.quarkus.runtime.Quarkus;\nimport io.quarkus.runtime.QuarkusApplication;\nimport io.quarkus.runtime.annotations.QuarkusMain;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.enterprise.inject.Instance;\nimport javax.inject.Inject;\n\n@QuarkusMain\npublic class Example implements QuarkusApplication {\n    private static final Logger log = LoggerFactory.getLogger(Example.class);\n\n    @Inject\n    PaymentProcessor paymentProcessor;\n\n    public static void main(String[] args) {\n        Quarkus.run(Example.class, args);\n    }\n\n    @Override\n    public int run(String... args) throws Exception {\n        paymentProcessor.processPayment(100.0);\n        return 0;\n    }\n\n    @ApplicationScoped\n    public static class PaymentProcessor {\n        @Inject\n        Instance&lt;PaymentStrategy&gt; paymentStrategies;\n\n        void processPayment(double amount) {\n            paymentStrategies.iterator().next().processPayment(amount);\n            log.info(&quot;PaymentProcessor processed!&quot;);\n        }\n    }\n\n    public interface PaymentStrategy {\n        void processPayment(double amount);\n    }\n\n    @ApplicationScoped\n    public static class CreditCardStrategy implements PaymentStrategy {\n        @Inject\n        ApiExample apiExample;\n\n        public void processPayment(double amount) {\n            apiExample.doSomething();\n            log.info(&quot;CreditCardStrategy processed!&quot;);\n        }\n    }\n\n    @ApplicationScoped\n    public static class ApiExample {\n        public void doSomething() {\n            log.info(&quot;ApiExample processed!&quot;);\n        }\n    }\n\n    @ApplicationScoped\n    public static class PayPalStrategy implements PaymentStrategy {\n        @Inject\n        Service service;\n\n        public void processPayment(double amount) {\n            service.doSomething();\n            log.info(&quot;PayPalStrategy processed!&quot;);\n        }\n    }\n\n    @ApplicationScoped\n    public static class Service {\n        public void doSomething() {\n            log.info(&quot;did something!&quot;);\n        }\n    }\n}\n\n// pom.xml (initialized from https://quarkus.io/guides/lifecycle)\n&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.acme&lt;/groupId&gt;\n  &lt;artifactId&gt;lifecycle-quickstart&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n  &lt;properties&gt;\n    &lt;compiler-plugin.version&gt;3.10.1&lt;/compiler-plugin.version&gt;\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\n    &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\n    &lt;quarkus.platform.version&gt;2.16.4.Final&lt;/quarkus.platform.version&gt;\n    &lt;skipITs&gt;true&lt;/skipITs&gt;\n    &lt;surefire-plugin.version&gt;3.0.0-M7&lt;/surefire-plugin.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n        &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n        &lt;extensions&gt;true&lt;/extensions&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;build&lt;/goal&gt;\n              &lt;goal&gt;generate-code&lt;/goal&gt;\n              &lt;goal&gt;generate-code-tests&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;compilerArgs&gt;\n            &lt;arg&gt;-parameters&lt;/arg&gt;\n          &lt;/compilerArgs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;systemPropertyVariables&gt;\n            &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n            &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n          &lt;/systemPropertyVariables&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;integration-test&lt;/goal&gt;\n              &lt;goal&gt;verify&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;systemPropertyVariables&gt;\n                &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner&lt;/native.image.path&gt;\n                &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n              &lt;/systemPropertyVariables&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;native&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;property&gt;\n          &lt;name&gt;native&lt;/name&gt;\n        &lt;/property&gt;\n      &lt;/activation&gt;\n      &lt;properties&gt;\n        &lt;skipITs&gt;false&lt;/skipITs&gt;\n        &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n&lt;/project&gt;\n\n</code></pre>\n"}],"owner":{"account_id":21986233,"reputation":73,"user_id":16260442,"display_name":"Houssem Salem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75776412,"answer_count":1,"score":0,"last_activity_date":1679148662,"creation_date":1679143795,"question_id":75775998,"body_markdown":"I am trying to implement the strategic pattern,the problem is that I could not access any dependency injected inside the strategy implmentation classes, so here is my code \r\n\r\n**Payment strategy interface**\r\n\r\n``` \r\npublic interface PaymentStrategy {\r\n    public void processPayment(double amount);\r\n} \r\n```\r\n**Payment strategy interface implementation**\r\n``` \r\n@ApplicationScoped\r\npublic class CreditCardStrategy implements PaymentStrategy {\r\n\r\n    @Inject\r\n    @RestClient\r\n    ApiExample apiExample\r\n\r\n    public void processPayment(double amount) {\r\n         apiExample.doSomething() **//NULL POINTER EXCEPTION**\r\n        // Process credit card payment\r\n    }\r\n}\r\n\r\n@ApplicationScoped\r\npublic class PayPalStrategy implements PaymentStrategy {\r\n\r\n    @Inject\r\n    Service service\r\n\r\n    public void processPayment(double amount) {\r\n\r\n         service.doSomething() **//NULL POINTER EXCEPTION**\r\n        // Process PayPal payment\r\n    }\r\n}\r\n```\r\n**Payment strategy factory**\r\n``` \r\npublic class PaymentStrategyFactory {\r\n    public PaymentStrategy getPaymentStrategy(String paymentMethod) {\r\n        if (paymentMethod.equals(&quot;creditcard&quot;)) {\r\n            return new CreditCardStrategy();\r\n        } else if (paymentMethod.equals(&quot;paypal&quot;)) {\r\n            return new PayPalStrategy();\r\n        } else {\r\n            throw new IllegalArgumentException(&quot;Invalid payment method: &quot; + paymentMethod);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Main program method**\r\n\r\n``` \r\nString paymentMethod = &quot;creditcard&quot;; // Or &quot;paypal&quot;\r\nPaymentStrategyFactory factory = new PaymentStrategyFactory();\r\nPaymentStrategy paymentStrategy = factory.getPaymentStrategy(paymentMethod);\r\nPaymentProcessor paymentProcessor = new PaymentProcessor(paymentStrategy);\r\npaymentProcessor.processPayment(100.0); //NULL POINTER EXCEPTION CAUSED BY apiExample.doSomething()\r\n```","title":"Cannot access dependency injected inside strategy pattern implementation class","body":"<p>I am trying to implement the strategic pattern,the problem is that I could not access any dependency injected inside the strategy implmentation classes, so here is my code</p>\n<p><strong>Payment strategy interface</strong></p>\n<pre><code>public interface PaymentStrategy {\n    public void processPayment(double amount);\n} \n</code></pre>\n<p><strong>Payment strategy interface implementation</strong></p>\n<pre><code>@ApplicationScoped\npublic class CreditCardStrategy implements PaymentStrategy {\n\n    @Inject\n    @RestClient\n    ApiExample apiExample\n\n    public void processPayment(double amount) {\n         apiExample.doSomething() **//NULL POINTER EXCEPTION**\n        // Process credit card payment\n    }\n}\n\n@ApplicationScoped\npublic class PayPalStrategy implements PaymentStrategy {\n\n    @Inject\n    Service service\n\n    public void processPayment(double amount) {\n\n         service.doSomething() **//NULL POINTER EXCEPTION**\n        // Process PayPal payment\n    }\n}\n</code></pre>\n<p><strong>Payment strategy factory</strong></p>\n<pre><code>public class PaymentStrategyFactory {\n    public PaymentStrategy getPaymentStrategy(String paymentMethod) {\n        if (paymentMethod.equals(&quot;creditcard&quot;)) {\n            return new CreditCardStrategy();\n        } else if (paymentMethod.equals(&quot;paypal&quot;)) {\n            return new PayPalStrategy();\n        } else {\n            throw new IllegalArgumentException(&quot;Invalid payment method: &quot; + paymentMethod);\n        }\n    }\n}\n</code></pre>\n<p><strong>Main program method</strong></p>\n<pre><code>String paymentMethod = &quot;creditcard&quot;; // Or &quot;paypal&quot;\nPaymentStrategyFactory factory = new PaymentStrategyFactory();\nPaymentStrategy paymentStrategy = factory.getPaymentStrategy(paymentMethod);\nPaymentProcessor paymentProcessor = new PaymentProcessor(paymentStrategy);\npaymentProcessor.processPayment(100.0); //NULL POINTER EXCEPTION CAUSED BY apiExample.doSomething()\n</code></pre>\n"},{"tags":["java","database-connectivity"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1679143818,"post_id":75775782,"comment_id":133670649,"body_markdown":"Please post _error text_, not _pictures_ of error text, unless otherwise [relevant](https://meta.stackoverflow.com/q/285551/230513).","body":"Please post <i>error text</i>, not <i>pictures</i> of error text, unless otherwise <a href=\"https://meta.stackoverflow.com/q/285551/230513\">relevant</a>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679146000,"post_id":75775782,"comment_id":133670996,"body_markdown":"In addition to changing to `rs.next()` as has been recommended, you should really be using try-with-resources for your database objects","body":"In addition to changing to <code>rs.next()</code> as has been recommended, you should really be using try-with-resources for your database objects"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679146528,"post_id":75775782,"comment_id":133671074,"body_markdown":"this is essentially unrelated to any ui (solve the backend problem before adding complexity of the ui, f.i. with simple printOuts). As to the ui: looks like swing, why did you tag javafx?","body":"this is essentially unrelated to any ui (solve the backend problem before adding complexity of the ui, f.i. with simple printOuts). As to the ui: looks like swing, why did you tag javafx?"}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679145023,"post_id":75775887,"comment_id":133670832,"body_markdown":"Minor nitpick, but a result set is initially positioned *before* the first row (which is why you must position it with `next()` before doing anything).","body":"Minor nitpick, but a result set is initially positioned <i>before</i> the first row (which is why you must position it with <code>next()</code> before doing anything)."},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1679145930,"post_id":75775887,"comment_id":133670986,"body_markdown":"Minor nitpick corrected.","body":"Minor nitpick corrected."}],"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1679145873,"creation_date":1679142224,"answer_id":75775887,"question_id":75775782,"body_markdown":"Change `rs.first()` to `rs.next()`.  Your connection provider is returning a connection with a limitation that you can only read forward, and not randomly traverse the dataset.  Calling `rs.first()` is effectively asking to rewind to the first row, which is unnecessary since you&#39;re already poised to read forward to the first row.","title":"Java Database Exceptional error that is very unique","body":"<p>Change <code>rs.first()</code> to <code>rs.next()</code>.  Your connection provider is returning a connection with a limitation that you can only read forward, and not randomly traverse the dataset.  Calling <code>rs.first()</code> is effectively asking to rewind to the first row, which is unnecessary since you're already poised to read forward to the first row.</p>\n"}],"owner":{"account_id":25721004,"reputation":1,"user_id":19478013,"display_name":"NJUGUNA WAINAINA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679146637,"creation_date":1679141232,"question_id":75775782,"body_markdown":"am getting the error shown from this code:\r\n[enter image description here](https://i.stack.imgur.com/OeWqM.png)\r\n\r\n    private void formComponentShown(java.awt.event.ComponentEvent evt) {                                    \r\n        try{\r\n            Connection conn = ConnectionProvider.getCon();\r\n            Statement st = conn.createStatement();\r\n            ResultSet rs  = st.executeQuery(&quot;select max(pId) from product&quot;);\r\n            if(rs.first()){\r\n                int id = rs.getInt(1);\r\n                id = id+1;\r\n                String str = String.valueOf(id);\r\n                jLabel4.setText(str);\r\n            }\r\n            else{\r\n                 jLabel4.setText(&quot;1&quot;);        \r\n            }\r\n        }\r\n        catch(Exception e){\r\n            JOptionPane.showMessageDialog(null,e);\r\n        }\r\n    }\r\n\r\ni wanted the code to change text on the label from 100 to whatever that was largest value  in an id column in product table of a database. the code was to increase that value after new data is entered and keep that as it&#39;s current value","title":"Java Database Exceptional error that is very unique","body":"<p>am getting the error shown from this code:\n<a href=\"https://i.stack.imgur.com/OeWqM.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>private void formComponentShown(java.awt.event.ComponentEvent evt) {                                    \n    try{\n        Connection conn = ConnectionProvider.getCon();\n        Statement st = conn.createStatement();\n        ResultSet rs  = st.executeQuery(&quot;select max(pId) from product&quot;);\n        if(rs.first()){\n            int id = rs.getInt(1);\n            id = id+1;\n            String str = String.valueOf(id);\n            jLabel4.setText(str);\n        }\n        else{\n             jLabel4.setText(&quot;1&quot;);        \n        }\n    }\n    catch(Exception e){\n        JOptionPane.showMessageDialog(null,e);\n    }\n}\n</code></pre>\n<p>i wanted the code to change text on the label from 100 to whatever that was largest value  in an id column in product table of a database. the code was to increase that value after new data is entered and keep that as it's current value</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679146942,"post_id":75776196,"comment_id":133671136,"body_markdown":"According to your question, I only think of one keyword: `Asynchronous`. I think this example may meet your needs: `Creating Asynchronous Methods` (https://spring.io/guides/gs/async-method/)","body":"According to your question, I only think of one keyword: <code>Asynchronous</code>. I think this example may meet your needs: <code>Creating Asynchronous Methods</code> (<a href=\"https://spring.io/guides/gs/async-method/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/async-method</a>)"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1679148608,"post_id":75776196,"comment_id":133671382,"body_markdown":"How about a @Retry with exponential back off around the get - https://www.baeldung.com/spring-retry. In the @Retry throw the applicable exception if the response is not 200.","body":"How about a @Retry with exponential back off around the get - <a href=\"https://www.baeldung.com/spring-retry\" rel=\"nofollow noreferrer\">baeldung.com/spring-retry</a>. In the @Retry throw the applicable exception if the response is not 200."}],"owner":{"account_id":24354886,"reputation":15,"user_id":18290244,"display_name":"bblex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679146606,"creation_date":1679146266,"question_id":75776196,"body_markdown":"Let&#39;s say that we have get and post requests.\r\n\r\n1) post: send request for creating, for example, report, and returns requestId;\r\n2) get: takes as a parameter requestId and returns report information. It has 2 response codes: `200` - ok, `202` - no report has been created yet.\r\n\r\nIn my scenario, I send post request, and after that, send get request. \r\n\r\n    Request request = apiClient.postReport(new Report(&quot;Name&quot;, ...));\r\n    Response response = apiClient.getReport(request.getReportId);\r\n\r\nI&#39;m worried that I will get `202` code response. What is the correct way to wait for `200` code response, except `while` loop?","title":"How to wait for response with exected response code","body":"<p>Let's say that we have get and post requests.</p>\n<ol>\n<li>post: send request for creating, for example, report, and returns requestId;</li>\n<li>get: takes as a parameter requestId and returns report information. It has 2 response codes: <code>200</code> - ok, <code>202</code> - no report has been created yet.</li>\n</ol>\n<p>In my scenario, I send post request, and after that, send get request.</p>\n<pre><code>Request request = apiClient.postReport(new Report(&quot;Name&quot;, ...));\nResponse response = apiClient.getReport(request.getReportId);\n</code></pre>\n<p>I'm worried that I will get <code>202</code> code response. What is the correct way to wait for <code>200</code> code response, except <code>while</code> loop?</p>\n"},{"tags":["java","bytecode","instrumentation","java-bytecode-asm","jvm-bytecode"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1679060154,"post_id":75767855,"comment_id":133657751,"body_markdown":"There is no hidden mechanism. You just have to understand how class loaders work, the [documented standard setup](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassLoader.html#builtinLoaders), and the [standard `loadClass` procedure](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassLoader.html#loadClass(java.lang.String,boolean))","body":"There is no hidden mechanism. You just have to understand how class loaders work, the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassLoader.html#builtinLoaders\" rel=\"nofollow noreferrer\">documented standard setup</a>, and the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassLoader.html#loadClass(java.lang.String,boolean)\" rel=\"nofollow noreferrer\">standard <code>loadClass</code> procedure</a>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1679060388,"post_id":75767855,"comment_id":133657818,"body_markdown":"Two remedies: Use `Instrumentation.appendToBootstrapClassLoaderSearch(...)`, or use some reflection to do `ClassLoader.getSystemClassLoader().loadClass(...)`","body":"Two remedies: Use <code>Instrumentation.appendToBootstrapClassLoaderSearch(...)</code>, or use some reflection to do <code>ClassLoader.getSystemClassLoader().loadClass(...)</code>"}],"answers":[{"tags":[],"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1679146417,"creation_date":1679146417,"answer_id":75776208,"question_id":75767855,"body_markdown":"You could adjust cmdline as below. The purpose is to add asm and mypackage.jar    to bootstrap classloader. \r\n\r\nPlease change &quot;xxx&quot; of the cmdline to your local full path.\r\n\r\n```\r\njava -javaagent:mypackage.jar  -Xbootclasspath/a:xxx/lib/asm-9.4.jar:xxx/mypackage.jar -jar mypackage.jar\r\n```","title":"Why are my self-written classes / 3-party library classes invisible to JRE classes?","body":"<p>You could adjust cmdline as below. The purpose is to add asm and mypackage.jar    to bootstrap classloader.</p>\n<p>Please change &quot;xxx&quot; of the cmdline to your local full path.</p>\n<pre><code>java -javaagent:mypackage.jar  -Xbootclasspath/a:xxx/lib/asm-9.4.jar:xxx/mypackage.jar -jar mypackage.jar\n</code></pre>\n"}],"owner":{"account_id":27837574,"reputation":3,"user_id":21263853,"display_name":"Red Ad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75776208,"answer_count":1,"score":0,"last_activity_date":1679146417,"creation_date":1679057781,"question_id":75767855,"body_markdown":"I&#39;m writing a security-boosted Java program that uses ASM tool to add some hooks into JRE classes. The hooks will then call my method to make some rule checks. But the odd thing is, the hooks in JRE classes can never find my classes and always throw `NoClassDefFoundError`.\r\n\r\nUsually, this error occurs with wrong `java.class.path`. I added bytecodes to JRE classes to print `java.class.path` and found nothing wrong. `java.class.path` doesn&#39;t change during method calls.\r\n\r\nI try multiple times with different classes in JRE and 3-party library classes. `NoClassDefFoundError` always occurs when I add the hook into a JRE class that visits my class or a 3-party class. In other cases, like my class visiting a 3-party class or vice versa, the code works fine. So I&#39;m sure the problem is not with my code.\r\n\r\nI guess there&#39;s some hidden mechanism that makes my classes invisible to JRE classes, but I can&#39;t find clues from Java or ASM documents.\r\n\r\nHere is a simple program that can reproduce my problem.\r\n\r\n\r\nMain.java:\r\n```java\r\npackage mypackage;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(sc.nextLine());\r\n        sc.close();\r\n    }\r\n\r\n    public static void insert() {\r\n        System.out.println(&quot;Main.insert() called.&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAgent.java\r\n\r\n```java\r\npackage mypackage;\r\n\r\nimport java.lang.instrument.ClassFileTransformer;\r\nimport java.lang.instrument.IllegalClassFormatException;\r\nimport java.lang.instrument.Instrumentation;\r\nimport java.security.ProtectionDomain;\r\n\r\nimport org.objectweb.asm.ClassReader;\r\nimport org.objectweb.asm.ClassVisitor;\r\nimport org.objectweb.asm.ClassWriter;\r\nimport org.objectweb.asm.MethodVisitor;\r\nimport org.objectweb.asm.Opcodes;\r\n\r\npublic class Agent {\r\n    public static void premain(String ops, Instrumentation inst) {\r\n        inst.addTransformer(new myTransformer());\r\n    }\r\n}\r\n\r\nclass myTransformer implements ClassFileTransformer {\r\n    @Override\r\n    public byte[] transform(ClassLoader loader, String className, Class&lt;?&gt; classBeingRedefined,\r\n            ProtectionDomain protectionDomain, byte[] classfileBuffer) throws IllegalClassFormatException {\r\n        if (&quot;java/util/Scanner&quot;.equals(className)) {\r\n            ClassReader cr = new ClassReader(classfileBuffer);\r\n            ClassWriter cw = new ClassWriter(cr, ClassWriter.COMPUTE_FRAMES);\r\n            myClassVisitor cv = new myClassVisitor(Opcodes.ASM9, cw);\r\n            cr.accept(cv, ClassReader.EXPAND_FRAMES);\r\n            return cw.toByteArray();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\nclass myClassVisitor extends ClassVisitor implements Opcodes {\r\n    protected myClassVisitor(int api, ClassVisitor classVisitor) {\r\n        super(api, classVisitor);\r\n    }\r\n\r\n    @Override\r\n    public MethodVisitor visitMethod(int access, String name, String descriptor, String signature,\r\n            String[] exceptions) {\r\n        MethodVisitor methodVisitor = super.visitMethod(access, name, descriptor, signature, exceptions);\r\n        if (&quot;nextLine&quot;.equals(name)) {\r\n            System.out.println(&quot;Modify Scanner.nextLine&quot;);\r\n            return new MethodVisitor(api, methodVisitor) {\r\n                @Override\r\n                public void visitCode() {\r\n                    methodVisitor.visitMethodInsn(INVOKESTATIC, &quot;mypackage/Main&quot;, &quot;insert&quot;, &quot;()V&quot;, false);\r\n                    super.visitCode();\r\n                }\r\n            };\r\n        }\r\n        return methodVisitor;\r\n    }\r\n}\r\n```\r\n\r\nThis program modifies `nextLine()` in `java.util.Scanner` by adding a call to `mypackage.Main.insert()`.\r\n\r\n\r\nI use this Manifest to pack all classes into a jar file:\r\n```\r\nMain-Class: mypackage.Main\r\nPremain-Class: mypackage.Agent\r\nAgent-Class: mypackage.Agent\r\nClass-Path: lib/asm-9.4.jar\r\nCan-Set-Native-Method-Prefix: true\r\nCan-Redefine-Classes: true\r\nCan-Retransform-Classes: true\r\n```\r\n\r\nThe ASM jar is located in `lib/`. Then run the following command:\r\n`java -javaagent:mypackage.jar -jar mypackage.jar`\r\n\r\n\r\nHere&#39;s the output:\r\n```\r\nModify Scanner.nextLine\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: mypackage/Main\r\n    at java.util.Scanner.nextLine(Scanner.java)\r\n    at mypackage.Main.main(Main.java:8)\r\n```\r\n\r\nMy Java version is OpenJDK-8. I can reproduce the problem on both Mac and Ubuntu.","title":"Why are my self-written classes / 3-party library classes invisible to JRE classes?","body":"<p>I'm writing a security-boosted Java program that uses ASM tool to add some hooks into JRE classes. The hooks will then call my method to make some rule checks. But the odd thing is, the hooks in JRE classes can never find my classes and always throw <code>NoClassDefFoundError</code>.</p>\n<p>Usually, this error occurs with wrong <code>java.class.path</code>. I added bytecodes to JRE classes to print <code>java.class.path</code> and found nothing wrong. <code>java.class.path</code> doesn't change during method calls.</p>\n<p>I try multiple times with different classes in JRE and 3-party library classes. <code>NoClassDefFoundError</code> always occurs when I add the hook into a JRE class that visits my class or a 3-party class. In other cases, like my class visiting a 3-party class or vice versa, the code works fine. So I'm sure the problem is not with my code.</p>\n<p>I guess there's some hidden mechanism that makes my classes invisible to JRE classes, but I can't find clues from Java or ASM documents.</p>\n<p>Here is a simple program that can reproduce my problem.</p>\n<p>Main.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package mypackage;\n\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(sc.nextLine());\n        sc.close();\n    }\n\n    public static void insert() {\n        System.out.println(&quot;Main.insert() called.&quot;);\n    }\n}\n</code></pre>\n<p>Agent.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package mypackage;\n\nimport java.lang.instrument.ClassFileTransformer;\nimport java.lang.instrument.IllegalClassFormatException;\nimport java.lang.instrument.Instrumentation;\nimport java.security.ProtectionDomain;\n\nimport org.objectweb.asm.ClassReader;\nimport org.objectweb.asm.ClassVisitor;\nimport org.objectweb.asm.ClassWriter;\nimport org.objectweb.asm.MethodVisitor;\nimport org.objectweb.asm.Opcodes;\n\npublic class Agent {\n    public static void premain(String ops, Instrumentation inst) {\n        inst.addTransformer(new myTransformer());\n    }\n}\n\nclass myTransformer implements ClassFileTransformer {\n    @Override\n    public byte[] transform(ClassLoader loader, String className, Class&lt;?&gt; classBeingRedefined,\n            ProtectionDomain protectionDomain, byte[] classfileBuffer) throws IllegalClassFormatException {\n        if (&quot;java/util/Scanner&quot;.equals(className)) {\n            ClassReader cr = new ClassReader(classfileBuffer);\n            ClassWriter cw = new ClassWriter(cr, ClassWriter.COMPUTE_FRAMES);\n            myClassVisitor cv = new myClassVisitor(Opcodes.ASM9, cw);\n            cr.accept(cv, ClassReader.EXPAND_FRAMES);\n            return cw.toByteArray();\n        }\n        return null;\n    }\n}\n\nclass myClassVisitor extends ClassVisitor implements Opcodes {\n    protected myClassVisitor(int api, ClassVisitor classVisitor) {\n        super(api, classVisitor);\n    }\n\n    @Override\n    public MethodVisitor visitMethod(int access, String name, String descriptor, String signature,\n            String[] exceptions) {\n        MethodVisitor methodVisitor = super.visitMethod(access, name, descriptor, signature, exceptions);\n        if (&quot;nextLine&quot;.equals(name)) {\n            System.out.println(&quot;Modify Scanner.nextLine&quot;);\n            return new MethodVisitor(api, methodVisitor) {\n                @Override\n                public void visitCode() {\n                    methodVisitor.visitMethodInsn(INVOKESTATIC, &quot;mypackage/Main&quot;, &quot;insert&quot;, &quot;()V&quot;, false);\n                    super.visitCode();\n                }\n            };\n        }\n        return methodVisitor;\n    }\n}\n</code></pre>\n<p>This program modifies <code>nextLine()</code> in <code>java.util.Scanner</code> by adding a call to <code>mypackage.Main.insert()</code>.</p>\n<p>I use this Manifest to pack all classes into a jar file:</p>\n<pre><code>Main-Class: mypackage.Main\nPremain-Class: mypackage.Agent\nAgent-Class: mypackage.Agent\nClass-Path: lib/asm-9.4.jar\nCan-Set-Native-Method-Prefix: true\nCan-Redefine-Classes: true\nCan-Retransform-Classes: true\n</code></pre>\n<p>The ASM jar is located in <code>lib/</code>. Then run the following command:\n<code>java -javaagent:mypackage.jar -jar mypackage.jar</code></p>\n<p>Here's the output:</p>\n<pre><code>Modify Scanner.nextLine\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: mypackage/Main\n    at java.util.Scanner.nextLine(Scanner.java)\n    at mypackage.Main.main(Main.java:8)\n</code></pre>\n<p>My Java version is OpenJDK-8. I can reproduce the problem on both Mac and Ubuntu.</p>\n"},{"tags":["java","spring","spring-boot","http"],"comments":[{"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"score":0,"creation_date":1679147012,"post_id":75776021,"comment_id":133671153,"body_markdown":"see also https://github.com/spring-projects/spring-framework/issues/15335","body":"see also <a href=\"https://github.com/spring-projects/spring-framework/issues/15335\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/15335</a>"}],"answers":[{"tags":[],"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679145253,"creation_date":1679145253,"answer_id":75776122,"question_id":75776021,"body_markdown":"Annotation that you&#39;ve mentioned (GetMapping) is a shorthand for *@RequestMapping* annotation. You can check source code for *@RequestMapping* annotation for yourself:\r\n\r\n    @RequestMapping(method = RequestMethod.GET)\r\n    public @interface GetMapping {\r\nIt works because spring parses annotation inside other annotations. Check [here][1] another example of Spring annotations processing with @SpringBootApplication.\r\n\r\nRegarding http methods: Spring MVC [documentations][2] says that there are next shorthand annotations:\r\n- @GetMapping\r\n- @PostMapping\r\n- @PutMapping\r\n- @DeleteMapping\r\n- @PatchMapping\r\n\r\nAll other available methods should be declared using @RequestMapping annotation. It accept *RequestMethod* enum as parameter, check this [enum][3] for available options. Notice that TRACE and OPTIONS methods processing should be enabled explicitly.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-requestmapping\r\n  [3]: https://github.com/spring-projects/spring-framework/blob/46bd6add15bb41163445e375908df33af2831b95/spring-web/src/main/java/org/springframework/web/bind/annotation/RequestMethod.java#L39","title":"How the HTTP methods are implemented in Spring RESTful (HEAD, OPTIONS, CONNECT, TRACE)","body":"<p>Annotation that you've mentioned (GetMapping) is a shorthand for <em>@RequestMapping</em> annotation. You can check source code for <em>@RequestMapping</em> annotation for yourself:</p>\n<pre><code>@RequestMapping(method = RequestMethod.GET)\npublic @interface GetMapping {\n</code></pre>\n<p>It works because spring parses annotation inside other annotations. Check <a href=\"https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html\" rel=\"nofollow noreferrer\">here</a> another example of Spring annotations processing with @SpringBootApplication.</p>\n<p>Regarding http methods: Spring MVC <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-requestmapping\" rel=\"nofollow noreferrer\">documentations</a> says that there are next shorthand annotations:</p>\n<ul>\n<li>@GetMapping</li>\n<li>@PostMapping</li>\n<li>@PutMapping</li>\n<li>@DeleteMapping</li>\n<li>@PatchMapping</li>\n</ul>\n<p>All other available methods should be declared using @RequestMapping annotation. It accept <em>RequestMethod</em> enum as parameter, check this <a href=\"https://github.com/spring-projects/spring-framework/blob/46bd6add15bb41163445e375908df33af2831b95/spring-web/src/main/java/org/springframework/web/bind/annotation/RequestMethod.java#L39\" rel=\"nofollow noreferrer\">enum</a> for available options. Notice that TRACE and OPTIONS methods processing should be enabled explicitly.</p>\n"},{"tags":[],"owner":{"account_id":25840634,"reputation":19,"user_id":19576227,"display_name":"Serdyna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679145318,"creation_date":1679145318,"answer_id":75776126,"question_id":75776021,"body_markdown":"HEAD Method: The HEAD method is similar to the GET method in that it delivers only the response headers rather than the actual content. To handle HEAD requests in Spring Framework, use the @RequestMapping annotation with the method parameter set to RequestMethod.HEAD.\r\n\r\n```@RequestMapping(value = &quot;/employees/{id}&quot;, method = RequestMethod.HEAD)\r\npublic ResponseEntity&lt;Void&gt; headEmployeeById(@PathVariable Long id) {\r\n    HttpHeaders headers = new HttpHeaders();\r\n    Employee employee = repository.findById(id)\r\n            .orElseThrow(() -&gt; new EmployeeNotFoundException(id));\r\n    headers.add(&quot;employeeId&quot;, String.valueOf(employee.getId()));\r\n    return new ResponseEntity&lt;&gt;(headers, HttpStatus.OK);\r\n}\r\n```\r\n\r\nOPTIONS Method: The OPTIONS method is used to get a list of HTTP methods that a site supports. You may use the @RequestMapping annotation in Spring Framework with the method argument set to RequestMethod. OPTIONS is used to process OPTIONS requests.\r\n\r\n```@RequestMapping(value = &quot;/employees&quot;, method = RequestMethod.OPTIONS)\r\npublic ResponseEntity&lt;Void&gt; optionsEmployees() {\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.add(&quot;Allow&quot;, &quot;GET, POST, HEAD, OPTIONS&quot;);\r\n    return new ResponseEntity&lt;&gt;(headers, HttpStatus.OK);\r\n}\r\n```\r\n\r\nThe CONNECT method is used to connect to a resource across a network. You may use the @RequestMapping annotation in Spring Framework with the method argument set to RequestMethod. CONNECT is in charge of handling CONNECT requests.\r\n\r\n```\r\n@RequestMapping(value = &quot;/connect&quot;, method = RequestMethod.CONNECT)\r\npublic ResponseEntity&lt;Void&gt; connect() {\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.add(&quot;Connection&quot;, &quot;keep-alive&quot;);\r\n    return new ResponseEntity&lt;&gt;(headers, HttpStatus.OK);\r\n}\r\n```\r\n\r\nThe TRACE technique is used to obtain diagnostic information about a request/response cycle. You may use the @RequestMapping annotation in Spring Framework with the method argument set to RequestMethod. TRACE will handle TRACE queries.\r\n\r\n```\r\n@RequestMapping(value = &quot;/trace&quot;, method = RequestMethod.TRACE)\r\npublic ResponseEntity&lt;String&gt; trace(HttpServletRequest request) {\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.add(&quot;Content-Type&quot;, &quot;message/http&quot;);\r\n    String requestString = RequestUtil.convertToString(request);\r\n    return new ResponseEntity&lt;&gt;(requestString, headers, HttpStatus.OK);\r\n}\r\n```","title":"How the HTTP methods are implemented in Spring RESTful (HEAD, OPTIONS, CONNECT, TRACE)","body":"<p>HEAD Method: The HEAD method is similar to the GET method in that it delivers only the response headers rather than the actual content. To handle HEAD requests in Spring Framework, use the @RequestMapping annotation with the method parameter set to RequestMethod.HEAD.</p>\n<pre><code>public ResponseEntity&lt;Void&gt; headEmployeeById(@PathVariable Long id) {\n    HttpHeaders headers = new HttpHeaders();\n    Employee employee = repository.findById(id)\n            .orElseThrow(() -&gt; new EmployeeNotFoundException(id));\n    headers.add(&quot;employeeId&quot;, String.valueOf(employee.getId()));\n    return new ResponseEntity&lt;&gt;(headers, HttpStatus.OK);\n}\n</code></pre>\n<p>OPTIONS Method: The OPTIONS method is used to get a list of HTTP methods that a site supports. You may use the @RequestMapping annotation in Spring Framework with the method argument set to RequestMethod. OPTIONS is used to process OPTIONS requests.</p>\n<pre><code>public ResponseEntity&lt;Void&gt; optionsEmployees() {\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(&quot;Allow&quot;, &quot;GET, POST, HEAD, OPTIONS&quot;);\n    return new ResponseEntity&lt;&gt;(headers, HttpStatus.OK);\n}\n</code></pre>\n<p>The CONNECT method is used to connect to a resource across a network. You may use the @RequestMapping annotation in Spring Framework with the method argument set to RequestMethod. CONNECT is in charge of handling CONNECT requests.</p>\n<pre><code>@RequestMapping(value = &quot;/connect&quot;, method = RequestMethod.CONNECT)\npublic ResponseEntity&lt;Void&gt; connect() {\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(&quot;Connection&quot;, &quot;keep-alive&quot;);\n    return new ResponseEntity&lt;&gt;(headers, HttpStatus.OK);\n}\n</code></pre>\n<p>The TRACE technique is used to obtain diagnostic information about a request/response cycle. You may use the @RequestMapping annotation in Spring Framework with the method argument set to RequestMethod. TRACE will handle TRACE queries.</p>\n<pre><code>@RequestMapping(value = &quot;/trace&quot;, method = RequestMethod.TRACE)\npublic ResponseEntity&lt;String&gt; trace(HttpServletRequest request) {\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(&quot;Content-Type&quot;, &quot;message/http&quot;);\n    String requestString = RequestUtil.convertToString(request);\n    return new ResponseEntity&lt;&gt;(requestString, headers, HttpStatus.OK);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3670600,"reputation":319,"user_id":3057914,"accept_rate":67,"display_name":"fedden"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679145514,"creation_date":1679145514,"answer_id":75776140,"question_id":75776021,"body_markdown":"To implement controllers for any of methods in Spring you could use @RequestMapping annotation\r\n\r\n    @RequestMapping(method = RequestMethod.OPTIONS, value=&quot;/employees&quot;)\r\n\r\n\r\nSee this article for more information \r\nhttps://www.baeldung.com/spring-requestmapping","title":"How the HTTP methods are implemented in Spring RESTful (HEAD, OPTIONS, CONNECT, TRACE)","body":"<p>To implement controllers for any of methods in Spring you could use @RequestMapping annotation</p>\n<pre><code>@RequestMapping(method = RequestMethod.OPTIONS, value=&quot;/employees&quot;)\n</code></pre>\n<p>See this article for more information\n<a href=\"https://www.baeldung.com/spring-requestmapping\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-requestmapping</a></p>\n"}],"owner":{"account_id":27275565,"reputation":89,"user_id":20796242,"display_name":"diho472"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1679145514,"creation_date":1679144056,"question_id":75776021,"body_markdown":"I would like to find out what an example implementation of HTTP methods (**HEAD, OPTIONS, CONNECT, TRACE**) looks like in Spring Framwerok. \r\n\r\nBecause I can&#39;t find much information on what it would look like other than the standard methods like GET, POST, PUT....\r\n\r\nexample of GET:\r\n\r\n    @GetMapping(&quot;/employees/{id}&quot;)\r\n    Employee one(@PathVariable Long id) {\r\n        \r\n      return repository.findById(id)\r\n        .orElseThrow(() -&gt; new EmployeeNotFoundException(id))\r\n    }\r\n","title":"How the HTTP methods are implemented in Spring RESTful (HEAD, OPTIONS, CONNECT, TRACE)","body":"<p>I would like to find out what an example implementation of HTTP methods (<strong>HEAD, OPTIONS, CONNECT, TRACE</strong>) looks like in Spring Framwerok.</p>\n<p>Because I can't find much information on what it would look like other than the standard methods like GET, POST, PUT....</p>\n<p>example of GET:</p>\n<pre><code>@GetMapping(&quot;/employees/{id}&quot;)\nEmployee one(@PathVariable Long id) {\n    \n  return repository.findById(id)\n    .orElseThrow(() -&gt; new EmployeeNotFoundException(id))\n}\n</code></pre>\n"},{"tags":["java","kotlin","selenium-webdriver"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1677183750,"post_id":75531072,"comment_id":133293127,"body_markdown":"imho, you should try/catch all driver calls.  Selenium&#39;s exceptions are very well designed and there are cases when you&#39;d want to actually do something with and in the catch {} part.  (outputting reports, working with stale elements, etc...)  Also remember that the way current Page Objects are designed, they do not use webddriverwaits with explicit conditions.  These are necessary for site&#39;s that update the DOM via JS.  (implicit waits only go so far...)","body":"imho, you should try/catch all driver calls.  Selenium&#39;s exceptions are very well designed and there are cases when you&#39;d want to actually do something with and in the catch {} part.  (outputting reports, working with stale elements, etc...)  Also remember that the way current Page Objects are designed, they do not use webddriverwaits with explicit conditions.  These are necessary for site&#39;s that update the DOM via JS.  (implicit waits only go so far...)"}],"answers":[{"comments":[{"owner":{"account_id":1416016,"reputation":158,"user_id":7101236,"display_name":"kakemonsteret"},"score":0,"creation_date":1679571806,"post_id":75775997,"comment_id":133747114,"body_markdown":"Thanks :-) I&#39;ve never seen PageFactory as a prerequisite for the PO model. That would mean a complete misunderstanding about what the PO model is, I think. (Kind of how most Cypress people are mixing terms in a way that makes them appear as completely incompetent with regards to Test as a subject and profession.) I use it as an - in my opinion - &quot;elegant&quot; way to initialize WebElements in my PO classes. I didn&#39;t realize that I could just lateinit the variables instead of make them nullable. That&#39;s a clear improvement to the code imo.","body":"Thanks :-) I&#39;ve never seen PageFactory as a prerequisite for the PO model. That would mean a complete misunderstanding about what the PO model is, I think. (Kind of how most Cypress people are mixing terms in a way that makes them appear as completely incompetent with regards to Test as a subject and profession.) I use it as an - in my opinion - &quot;elegant&quot; way to initialize WebElements in my PO classes. I didn&#39;t realize that I could just lateinit the variables instead of make them nullable. That&#39;s a clear improvement to the code imo."}],"tags":[],"owner":{"account_id":3775103,"reputation":128,"user_id":3136143,"display_name":"attila-fazekas"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679145079,"creation_date":1679143795,"answer_id":75775997,"question_id":75531072,"body_markdown":"The `PageFactory` class resides among other classes such as `SlowLoadableComponent`, `FluentWait`, and `WebDriverWait` in the `selenium-support` library. Consider these classes as tools at your disposal; it&#39;s up to you whether you choose to use them or not.\r\n\r\nRegarding `PageFactory`: Interestingly, Simon Stewart (Selenium project lead) admits that it was not the best idea to make it available to the public, as a result almost everybody is using it.\r\nFor reference:\r\nhttps://www.youtube.com/watch?v=gyfUpOysIF8&amp;t=1541s\r\nhttps://twitter.com/shs96c/status/880809924607057920 \r\n\r\nThere are many ways to work around PageFactory and still use Page Object model for abstracting your domain, but if you still intend to use it in Kotlin, then make sure to use `lateinit var` for your `WebElement`s: \r\n\r\n    @FindBy(id = &quot;boligLink&quot;)\r\n    lateinit var boliglink: WebElement\r\n\r\nAnd use `MutableList` instead of `List` to avoid `UninitializedPropertyAccessException` at runtime:\r\n\r\n    @FindBy(className = &quot;image&quot;)\r\n    lateinit var companyNames: MutableList&lt;WebElement&gt;\r\n\r\nPlease notice you dont need nullable `WebElement`s in order to make `PageFactory` work:\r\n\r\n    import org.openqa.selenium.WebDriver\r\n    import org.openqa.selenium.WebElement\r\n    import org.openqa.selenium.support.FindBy\r\n    import org.openqa.selenium.support.PageFactory\r\n    \r\n    class HomePage(driver: WebDriver) {\r\n    \r\n        @FindBy(id = &quot;boligLink&quot;)\r\n        lateinit var boliglink: WebElement\r\n    \r\n        @FindBy(className = &quot;image&quot;)\r\n        lateinit var images: MutableList&lt;WebElement&gt;\r\n    \r\n        init {\r\n            PageFactory.initElements(driver, this)\r\n        }\r\n    }","title":"Selenium: Use PageFactory or not?","body":"<p>The <code>PageFactory</code> class resides among other classes such as <code>SlowLoadableComponent</code>, <code>FluentWait</code>, and <code>WebDriverWait</code> in the <code>selenium-support</code> library. Consider these classes as tools at your disposal; it's up to you whether you choose to use them or not.</p>\n<p>Regarding <code>PageFactory</code>: Interestingly, Simon Stewart (Selenium project lead) admits that it was not the best idea to make it available to the public, as a result almost everybody is using it.\nFor reference:\n<a href=\"https://www.youtube.com/watch?v=gyfUpOysIF8&amp;t=1541s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=gyfUpOysIF8&amp;t=1541s</a>\n<a href=\"https://twitter.com/shs96c/status/880809924607057920\" rel=\"nofollow noreferrer\">https://twitter.com/shs96c/status/880809924607057920</a></p>\n<p>There are many ways to work around PageFactory and still use Page Object model for abstracting your domain, but if you still intend to use it in Kotlin, then make sure to use <code>lateinit var</code> for your <code>WebElement</code>s:</p>\n<pre><code>@FindBy(id = &quot;boligLink&quot;)\nlateinit var boliglink: WebElement\n</code></pre>\n<p>And use <code>MutableList</code> instead of <code>List</code> to avoid <code>UninitializedPropertyAccessException</code> at runtime:</p>\n<pre><code>@FindBy(className = &quot;image&quot;)\nlateinit var companyNames: MutableList&lt;WebElement&gt;\n</code></pre>\n<p>Please notice you dont need nullable <code>WebElement</code>s in order to make <code>PageFactory</code> work:</p>\n<pre><code>import org.openqa.selenium.WebDriver\nimport org.openqa.selenium.WebElement\nimport org.openqa.selenium.support.FindBy\nimport org.openqa.selenium.support.PageFactory\n\nclass HomePage(driver: WebDriver) {\n\n    @FindBy(id = &quot;boligLink&quot;)\n    lateinit var boliglink: WebElement\n\n    @FindBy(className = &quot;image&quot;)\n    lateinit var images: MutableList&lt;WebElement&gt;\n\n    init {\n        PageFactory.initElements(driver, this)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1416016,"reputation":158,"user_id":7101236,"display_name":"kakemonsteret"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75775997,"answer_count":1,"score":2,"last_activity_date":1679145079,"creation_date":1677060129,"question_id":75531072,"body_markdown":"I&#39;m having some trouble agreeing with myself on wether or not to use PageFactory or not in my Selenium PageObjects.\r\n\r\nAs far as I can see, the point of using it is null safety, and that no WebElements are intialized before they&#39;re &quot;used&quot;. \r\n\r\nWhen I&#39;m using Kotlin, I have to constantly null-check a WebElement intialized, like this:\r\n\r\nFrom the PageObject class:\r\n\r\n    @FindBy(id = &quot;boligLink&quot;)\r\n    val boliglink: WebElement? = null\r\n\r\nThe calling code (usually a Step Definition class):\r\n\r\n    boliglink?.click()\r\n\r\n    Or, something like:\r\n\r\n    return boliglink?.isDisplayed()\r\n\r\nAre there any other advantages to this, compared to just using a try/catch - possibly abstracted - for each time the code accesses the WebElement? \r\n\r\nBesides caching, but I don&#39;t think that&#39;s any point unless you access several elements more than once?\r\n\r\n\r\nWouldn&#39;t this do basically the same?\r\n\r\n(The `getElementInElement()` is my function, for finding an element inside an element. It could just be `.findElementBy` blabla.)\r\n\r\n    return try { getElementInElement(element, By.cssSelector(&quot;[data-e2e-selector=boliginLink]&quot;)) }\r\n        catch (e: NoSuchElementException) { throw NoSuchElementException(&quot;Couldn&#39;t find link to    boliginformasjon&quot;) }\r\n","title":"Selenium: Use PageFactory or not?","body":"<p>I'm having some trouble agreeing with myself on wether or not to use PageFactory or not in my Selenium PageObjects.</p>\n<p>As far as I can see, the point of using it is null safety, and that no WebElements are intialized before they're &quot;used&quot;.</p>\n<p>When I'm using Kotlin, I have to constantly null-check a WebElement intialized, like this:</p>\n<p>From the PageObject class:</p>\n<pre><code>@FindBy(id = &quot;boligLink&quot;)\nval boliglink: WebElement? = null\n</code></pre>\n<p>The calling code (usually a Step Definition class):</p>\n<pre><code>boliglink?.click()\n\nOr, something like:\n\nreturn boliglink?.isDisplayed()\n</code></pre>\n<p>Are there any other advantages to this, compared to just using a try/catch - possibly abstracted - for each time the code accesses the WebElement?</p>\n<p>Besides caching, but I don't think that's any point unless you access several elements more than once?</p>\n<p>Wouldn't this do basically the same?</p>\n<p>(The <code>getElementInElement()</code> is my function, for finding an element inside an element. It could just be <code>.findElementBy</code> blabla.)</p>\n<pre><code>return try { getElementInElement(element, By.cssSelector(&quot;[data-e2e-selector=boliginLink]&quot;)) }\n    catch (e: NoSuchElementException) { throw NoSuchElementException(&quot;Couldn't find link to    boliginformasjon&quot;) }\n</code></pre>\n"},{"tags":["java","java-8","comparator"],"answers":[{"comments":[{"owner":{"account_id":6348224,"reputation":179,"user_id":4928063,"display_name":"Abhijeet Ranade"},"score":0,"creation_date":1678887233,"post_id":75738116,"comment_id":133619863,"body_markdown":"@WJS added your solutions as well, Thanks","body":"@WJS added your solutions as well, Thanks"},{"owner":{"account_id":6348224,"reputation":179,"user_id":4928063,"display_name":"Abhijeet Ranade"},"score":0,"creation_date":1678887388,"post_id":75738116,"comment_id":133619913,"body_markdown":"I am trying to show ways of sorting here one using Comparator using sorted method on the stream and sort method directly called on list","body":"I am trying to show ways of sorting here one using Comparator using sorted method on the stream and sort method directly called on list"}],"tags":[],"owner":{"account_id":6348224,"reputation":179,"user_id":4928063,"display_name":"Abhijeet Ranade"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1678912402,"creation_date":1678825993,"answer_id":75738116,"question_id":75738115,"body_markdown":"**In the below class there are two approach. one using stream.sorted and the other being list.sort method.\r\n\r\n1) First approach will be useful when you dont want to modify the original collection and at the same time want to use stream operations like collect or filter.\r\n2) Second approach is the faster approach and will always modify the original list**\r\n\r\n   \r\n ```\r\n    import java.util.ArrayList;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class SortEmployeesJava8 {\r\n    \r\n        public static void main(String args[]) {\r\n    \r\n            Comparator&lt;Employee&gt; employeeNameComparator = Comparator.comparing(Employee::getName);\r\n    \r\n            Comparator&lt;Employee&gt; employeeLastNameComparator = Comparator.comparing(Employee::getLastName);\r\n    \r\n            Comparator&lt;Employee&gt; employeeSalaryComparator = Comparator.comparing(Employee::getSalary);\r\n    \r\n            SortEmployeesJava8 test = new SortEmployeesJava8();\r\n    \r\n            List&lt;Employee&gt; employeeList = test.getEmployeeList();\r\n    \r\n            System.out.println(&quot;Sort by Name Output \\n&quot;);\r\n    \r\n    \r\n            //List&lt;Employee&gt; sortedByNameEmployeeList =\r\n                    employeeList\r\n                    .sort(employeeNameComparator\r\n                            .thenComparing(employeeLastNameComparator));\r\n                    //.collect(Collectors.toList());\r\n    \r\n            employeeList.stream()\r\n                    .forEach(e -&gt; System.out.println(&quot;name : &quot; + e.getName() + &quot; &quot; + e.getLastName()));\r\n    \r\n            System.out.println(&quot;\\n Sort by Salary Output \\n&quot;);\r\n    \r\n            List&lt;Employee&gt; sortedBySalaryEmployeeList = employeeList.stream()\r\n                    .sorted(employeeSalaryComparator)\r\n                    .collect(Collectors.toList());\r\n    \r\n            sortedBySalaryEmployeeList.stream()\r\n                    .forEach(e -&gt; System.out.println(&quot;name : &quot; + e.getName() + &quot; &quot; + e.getLastName()+&quot; Salary :&quot;+e.getSalary()));\r\n    \r\n            employeeList.sort(Comparator.comparing(Employee::getName)\r\n                    .thenComparing(Employee::getLastName)\r\n                    .thenComparing(Employee::getSalary));\r\n    \r\n            System.out.println(&quot;\\n Sort by using sort function of list -&gt;Output \\n&quot;);\r\n    \r\n            employeeList.stream().forEach(e -&gt; System.out.println(&quot;name : &quot; + e.getName() + &quot; &quot; + e.getLastName()+&quot; Salary :&quot;+e.getSalary()));\r\n    \r\n    \r\n        }\r\n    \r\n        class Employee {\r\n            Double salary;\r\n            String name;\r\n    \r\n            String lastName;\r\n    \r\n            Employee(Double salary, String name, String lastName) {\r\n                this.salary = salary;\r\n                this.name = name;\r\n                this.lastName = lastName;\r\n            }\r\n    \r\n            public Double getSalary() {\r\n                return this.salary;\r\n            }\r\n    \r\n            public void setSalary(Double salary) {\r\n                this.salary = salary;\r\n            }\r\n    \r\n            public String getName() {\r\n                return this.name;\r\n            }\r\n    \r\n            public void setName(String name) {\r\n                this.name = name;\r\n            }\r\n    \r\n            public String getLastName() {\r\n                return lastName;\r\n            }\r\n    \r\n            public void setLastName(String lastName) {\r\n                this.lastName = lastName;\r\n            }\r\n    \r\n        }\r\n    \r\n        public List&lt;Employee&gt; getEmployeeList() {\r\n            List&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();\r\n            employeeList.add(new Employee(40000d, &quot;Abhijeet&quot;, &quot;Rakshit&quot;));\r\n            employeeList.add(new Employee(30000d, &quot;Sunil&quot;, &quot;Sawant&quot;));\r\n            employeeList.add(new Employee(20000d, &quot;Abhijeet&quot;, &quot;Ranade&quot;));\r\n            employeeList.add(new Employee(40000d, &quot;Srikanth&quot;, &quot;Ranka&quot;));\r\n            return employeeList;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n    \r\n        \r\n    ```\r\n        \r\n    Sort by Name Output \r\n    \r\n    name : Abhijeet Rakshit\r\n    name : Abhijeet Ranade\r\n    name : Srikanth Ranka\r\n    name : Sunil Sawant\r\n    \r\n     Sort by Salary Output \r\n    \r\n    name : Abhijeet Ranade Salary :20000.0\r\n    name : Sunil Sawant Salary :30000.0\r\n    name : Abhijeet Rakshit Salary :40000.0\r\n    name : Srikanth Ranka Salary :40000.0\r\n    \r\n     Sort by using sort function of list -&gt;Output \r\n    \r\n    name : Abhijeet Rakshit Salary :40000.0\r\n    name : Abhijeet Ranade Salary :20000.0\r\n    name : Srikanth Ranka Salary :40000.0\r\n    name : Sunil Sawant Salary :30000.0\r\n        ```\r\n\r\n\r\n","title":"How to sort employee by name , if we have duplicate names we sort them by last name and also how to sort by salary","body":"<p>**In the below class there are two approach. one using stream.sorted and the other being list.sort method.</p>\n<ol>\n<li>First approach will be useful when you dont want to modify the original collection and at the same time want to use stream operations like collect or filter.</li>\n<li>Second approach is the faster approach and will always modify the original list**</li>\n</ol>\n<pre><code>   import java.util.ArrayList;\n   import java.util.Comparator;\n   import java.util.List;\n   import java.util.stream.Collectors;\n   \n   public class SortEmployeesJava8 {\n   \n       public static void main(String args[]) {\n   \n           Comparator&lt;Employee&gt; employeeNameComparator = Comparator.comparing(Employee::getName);\n   \n           Comparator&lt;Employee&gt; employeeLastNameComparator = Comparator.comparing(Employee::getLastName);\n   \n           Comparator&lt;Employee&gt; employeeSalaryComparator = Comparator.comparing(Employee::getSalary);\n   \n           SortEmployeesJava8 test = new SortEmployeesJava8();\n   \n           List&lt;Employee&gt; employeeList = test.getEmployeeList();\n   \n           System.out.println(&quot;Sort by Name Output \\n&quot;);\n   \n   \n           //List&lt;Employee&gt; sortedByNameEmployeeList =\n                   employeeList\n                   .sort(employeeNameComparator\n                           .thenComparing(employeeLastNameComparator));\n                   //.collect(Collectors.toList());\n   \n           employeeList.stream()\n                   .forEach(e -&gt; System.out.println(&quot;name : &quot; + e.getName() + &quot; &quot; + e.getLastName()));\n   \n           System.out.println(&quot;\\n Sort by Salary Output \\n&quot;);\n   \n           List&lt;Employee&gt; sortedBySalaryEmployeeList = employeeList.stream()\n                   .sorted(employeeSalaryComparator)\n                   .collect(Collectors.toList());\n   \n           sortedBySalaryEmployeeList.stream()\n                   .forEach(e -&gt; System.out.println(&quot;name : &quot; + e.getName() + &quot; &quot; + e.getLastName()+&quot; Salary :&quot;+e.getSalary()));\n   \n           employeeList.sort(Comparator.comparing(Employee::getName)\n                   .thenComparing(Employee::getLastName)\n                   .thenComparing(Employee::getSalary));\n   \n           System.out.println(&quot;\\n Sort by using sort function of list -&gt;Output \\n&quot;);\n   \n           employeeList.stream().forEach(e -&gt; System.out.println(&quot;name : &quot; + e.getName() + &quot; &quot; + e.getLastName()+&quot; Salary :&quot;+e.getSalary()));\n   \n   \n       }\n   \n       class Employee {\n           Double salary;\n           String name;\n   \n           String lastName;\n   \n           Employee(Double salary, String name, String lastName) {\n               this.salary = salary;\n               this.name = name;\n               this.lastName = lastName;\n           }\n   \n           public Double getSalary() {\n               return this.salary;\n           }\n   \n           public void setSalary(Double salary) {\n               this.salary = salary;\n           }\n   \n           public String getName() {\n               return this.name;\n           }\n   \n           public void setName(String name) {\n               this.name = name;\n           }\n   \n           public String getLastName() {\n               return lastName;\n           }\n   \n           public void setLastName(String lastName) {\n               this.lastName = lastName;\n           }\n   \n       }\n   \n       public List&lt;Employee&gt; getEmployeeList() {\n           List&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();\n           employeeList.add(new Employee(40000d, &quot;Abhijeet&quot;, &quot;Rakshit&quot;));\n           employeeList.add(new Employee(30000d, &quot;Sunil&quot;, &quot;Sawant&quot;));\n           employeeList.add(new Employee(20000d, &quot;Abhijeet&quot;, &quot;Ranade&quot;));\n           employeeList.add(new Employee(40000d, &quot;Srikanth&quot;, &quot;Ranka&quot;));\n           return employeeList;\n       }\n   \n   \n   }\n\n   \n       \n   ```\n       \n   Sort by Name Output \n   \n   name : Abhijeet Rakshit\n   name : Abhijeet Ranade\n   name : Srikanth Ranka\n   name : Sunil Sawant\n   \n    Sort by Salary Output \n   \n   name : Abhijeet Ranade Salary :20000.0\n   name : Sunil Sawant Salary :30000.0\n   name : Abhijeet Rakshit Salary :40000.0\n   name : Srikanth Ranka Salary :40000.0\n   \n    Sort by using sort function of list -&gt;Output \n   \n   name : Abhijeet Rakshit Salary :40000.0\n   name : Abhijeet Ranade Salary :20000.0\n   name : Srikanth Ranka Salary :40000.0\n   name : Sunil Sawant Salary :30000.0\n       ```\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678827029,"creation_date":1678827029,"answer_id":75738265,"question_id":75738115,"body_markdown":"Use a comparator and the `list.sort` method.  subsequent `thenComparing` calls are only invoked if the previous comparison returned equal. I favored last name over salary for tie breakers.  They can be exchanged if required.\r\n```\r\nrecord Employee(double getSalary, String getFirstName, String getLastName) {\r\n}\r\n\r\nList&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();\r\nemployeeList.add(new Employee(40000, &quot;Abhijeet&quot;,&quot;Rakshit&quot;));\r\nemployeeList.add(new Employee(30000, &quot;Sunil&quot;,&quot;Sawant&quot;));\r\nemployeeList.add(new Employee(20000, &quot;Abhijeet&quot;, &quot;Ranade&quot;));\r\nemployeeList.add(new Employee(40000, &quot;Srikanth&quot;, &quot;Ranka&quot;));\r\n        \r\nemployeeList.sort(Comparator.comparing(Employee::getFirstName)\r\n         .thenComparing(Employee::getLastName)\r\n         .thenComparing(Employee::getSalary));\r\n      \r\n\r\nemployeeList.forEach(System.out::println);\r\n```\r\nprints\r\n```\r\nEmployee[getSalary=40000.0, getFirstName=Abhijeet, getLastName=Rakshit]\r\nEmployee[getSalary=20000.0, getFirstName=Abhijeet, getLastName=Ranade]\r\nEmployee[getSalary=40000.0, getFirstName=Srikanth, getLastName=Ranka]\r\nEmployee[getSalary=30000.0, getFirstName=Sunil, getLastName=Sawant]\r\n\r\n\r\n","title":"How to sort employee by name , if we have duplicate names we sort them by last name and also how to sort by salary","body":"<p>Use a comparator and the <code>list.sort</code> method.  subsequent <code>thenComparing</code> calls are only invoked if the previous comparison returned equal. I favored last name over salary for tie breakers.  They can be exchanged if required.</p>\n<pre><code>record Employee(double getSalary, String getFirstName, String getLastName) {\n}\n\nList&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();\nemployeeList.add(new Employee(40000, &quot;Abhijeet&quot;,&quot;Rakshit&quot;));\nemployeeList.add(new Employee(30000, &quot;Sunil&quot;,&quot;Sawant&quot;));\nemployeeList.add(new Employee(20000, &quot;Abhijeet&quot;, &quot;Ranade&quot;));\nemployeeList.add(new Employee(40000, &quot;Srikanth&quot;, &quot;Ranka&quot;));\n        \nemployeeList.sort(Comparator.comparing(Employee::getFirstName)\n         .thenComparing(Employee::getLastName)\n         .thenComparing(Employee::getSalary));\n      \n\nemployeeList.forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>Employee[getSalary=40000.0, getFirstName=Abhijeet, getLastName=Rakshit]\nEmployee[getSalary=20000.0, getFirstName=Abhijeet, getLastName=Ranade]\nEmployee[getSalary=40000.0, getFirstName=Srikanth, getLastName=Ranka]\nEmployee[getSalary=30000.0, getFirstName=Sunil, getLastName=Sawant]\n\n\n</code></pre>\n"}],"owner":{"account_id":6348224,"reputation":179,"user_id":4928063,"display_name":"Abhijeet Ranade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":677,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"answer_count":2,"score":-5,"last_activity_date":1679143814,"creation_date":1678825993,"question_id":75738115,"body_markdown":"**Suppose we have the following Employee class and `List` of `Employee`s:**\r\n\r\n    class Employee{\r\n      String firstName;\r\n      String lastName;\r\n      Double salary;\r\n    \r\n      Employee(Double salary, String firstName, String lastName){\r\n             this.salary = salary;\r\n             this.firstName = firstName;\r\n             this.lastName = lastName; \r\n      }\r\n    \r\n    // getter and setters\r\n    \r\n    \r\n    }\r\n\r\n    List&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();\r\n    employeeList.add(new Employee(40000d, &quot;Abhijeet&quot;,&quot;Rakshit&quot;));\r\n    employeeList.add(new Employee(30000d, &quot;Sunil&quot;,&quot;Sawant&quot;));\r\n    employeeList.add(new Employee(20000d, &quot;Abhijeet&quot;, &quot;Ranade&quot;));\r\n    employeeList.add(new Employee(40000d, &quot;Srikanth&quot;, &quot;Ranka&quot;));\r\n\r\nI want to sort this by `first name`, then if equal, by `last name`, and then by `salary`.\r\n\r\n","title":"How to sort employee by name , if we have duplicate names we sort them by last name and also how to sort by salary","body":"<p><strong>Suppose we have the following Employee class and <code>List</code> of <code>Employee</code>s:</strong></p>\n<pre><code>class Employee{\n  String firstName;\n  String lastName;\n  Double salary;\n\n  Employee(Double salary, String firstName, String lastName){\n         this.salary = salary;\n         this.firstName = firstName;\n         this.lastName = lastName; \n  }\n\n// getter and setters\n\n\n}\n\nList&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();\nemployeeList.add(new Employee(40000d, &quot;Abhijeet&quot;,&quot;Rakshit&quot;));\nemployeeList.add(new Employee(30000d, &quot;Sunil&quot;,&quot;Sawant&quot;));\nemployeeList.add(new Employee(20000d, &quot;Abhijeet&quot;, &quot;Ranade&quot;));\nemployeeList.add(new Employee(40000d, &quot;Srikanth&quot;, &quot;Ranka&quot;));\n</code></pre>\n<p>I want to sort this by <code>first name</code>, then if equal, by <code>last name</code>, and then by <code>salary</code>.</p>\n"},{"tags":["java","datetime","time","java-time"],"answers":[{"comments":[{"owner":{"account_id":12533,"reputation":6464,"user_id":24744,"accept_rate":66,"display_name":"lock"},"score":0,"creation_date":1282631783,"post_id":3553994,"comment_id":3723827,"body_markdown":"uh i just construct it from the calendar class","body":"uh i just construct it from the calendar class"},{"owner":{"account_id":26679,"reputation":1176,"user_id":69673,"accept_rate":100,"display_name":"Ido Weinstein"},"score":2,"creation_date":1282631901,"post_id":3553994,"comment_id":3723840,"body_markdown":"This method will floor the minutes to low closest quarter and you need to add some check if it was rounded to the next hour so that you need to update the hour too...","body":"This method will floor the minutes to low closest quarter and you need to add some check if it was rounded to the next hour so that you need to update the hour too..."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":1,"creation_date":1282635502,"post_id":3553994,"comment_id":3724203,"body_markdown":"The current version fixes these issues","body":"The current version fixes these issues"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1282635718,"post_id":3553994,"comment_id":3724228,"body_markdown":"(unroundedMinutes+8) % 15 is simpler, and just set, don&#39;t add.","body":"(unroundedMinutes+8) % 15 is simpler, and just set, don&#39;t add."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1282637027,"post_id":3553994,"comment_id":3724383,"body_markdown":"@EJP You are right, but I think on the semantic level setting the time to `10:60` is an awful thing to do, even if I know the calendar class is smart enough to turn it into `11:00`","body":"@EJP You are right, but I think on the semantic level setting the time to <code>10:60</code> is an awful thing to do, even if I know the calendar class is smart enough to turn it into <code>11:00</code>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1282643623,"post_id":3553994,"comment_id":3725238,"body_markdown":"So do I. I said nothing to the contrary.","body":"So do I. I said nothing to the contrary."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1282650695,"post_id":3553994,"comment_id":3726109,"body_markdown":"@lock it took me all day to realize that your comment was pointed in my direction, sorry. Updated my answer.","body":"@lock it took me all day to realize that your comment was pointed in my direction, sorry. Updated my answer."},{"owner":{"account_id":12533,"reputation":6464,"user_id":24744,"accept_rate":66,"display_name":"lock"},"score":0,"creation_date":1282693598,"post_id":3553994,"comment_id":3733510,"body_markdown":"@seanizer: sorry for not directing it to you in the first place hehe\nthanks for updating :D","body":"@seanizer: sorry for not directing it to you in the first place hehe thanks for updating :D"},{"owner":{"account_id":42063,"reputation":58411,"user_id":122422,"accept_rate":56,"display_name":"B T"},"score":0,"creation_date":1346378439,"post_id":3553994,"comment_id":16351695,"body_markdown":"So this answer isn&#39;t full.\nA. where does the calendar instance come from?\nB. How do you get a specific date in there?","body":"So this answer isn&#39;t full. A. where does the calendar instance come from? B. How do you get a specific date in there?"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1346394256,"post_id":3553994,"comment_id":16354737,"body_markdown":"@BT the Calendar instance comes from the first listing and the specific Date is not in the scope of the question.","body":"@BT the Calendar instance comes from the first listing and the specific Date is not in the scope of the question."}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":10,"down_vote_count":0,"up_vote_count":102,"is_accepted":true,"score":102,"last_activity_date":1346379483,"creation_date":1282631446,"answer_id":3553994,"question_id":3553964,"body_markdown":"Rounding\r\n--------\r\n\r\nYou will need to use modulo to truncate the quarter hour:\r\n\r\n    Date whateverDateYouWant = new Date();\r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.setTime(whateverDateYouWant);\r\n\r\n    int unroundedMinutes = calendar.get(Calendar.MINUTE);\r\n    int mod = unroundedMinutes % 15;\r\n    calendar.add(Calendar.MINUTE, mod &lt; 8 ? -mod : (15-mod));\r\n\r\nAs pointed out by EJP, this is also OK (replacement for the last line, only valid if the calendar is [lenient][1]):\r\n\r\n    calendar.set(Calendar.MINUTE, unroundedMinutes + mod);\r\n\r\n\r\n----------\r\n\r\nImprovements\r\n------------\r\n\r\nIf you want to be exact, you will also have to truncate the smaller fields:\r\n\r\n    calendar.set(Calendar.SECOND, 0);\r\n    calendar.set(Calendar.MILLISECOND, 0);\r\n\r\nYou can also use [DateUtils.truncate()][2] from [Apache Commons / Lang][3] to do this:\r\n\r\n    calendar = DateUtils.truncate(calendar, Calendar.MINUTE);\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Calendar.html#isLenient()\r\n  [2]: http://commons.apache.org/lang/api-release/org/apache/commons/lang/time/DateUtils.html#truncate%28java.util.Calendar,%20int%29\r\n  [3]: http://commons.apache.org/lang","title":"How to round time to the nearest quarter hour in java?","body":"<h2>Rounding</h2>\n\n<p>You will need to use modulo to truncate the quarter hour:</p>\n\n<pre><code>Date whateverDateYouWant = new Date();\nCalendar calendar = Calendar.getInstance();\ncalendar.setTime(whateverDateYouWant);\n\nint unroundedMinutes = calendar.get(Calendar.MINUTE);\nint mod = unroundedMinutes % 15;\ncalendar.add(Calendar.MINUTE, mod &lt; 8 ? -mod : (15-mod));\n</code></pre>\n\n<p>As pointed out by EJP, this is also OK (replacement for the last line, only valid if the calendar is <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Calendar.html#isLenient()\" rel=\"noreferrer\">lenient</a>):</p>\n\n<pre><code>calendar.set(Calendar.MINUTE, unroundedMinutes + mod);\n</code></pre>\n\n<hr>\n\n<h2>Improvements</h2>\n\n<p>If you want to be exact, you will also have to truncate the smaller fields:</p>\n\n<pre><code>calendar.set(Calendar.SECOND, 0);\ncalendar.set(Calendar.MILLISECOND, 0);\n</code></pre>\n\n<p>You can also use <a href=\"http://commons.apache.org/lang/api-release/org/apache/commons/lang/time/DateUtils.html#truncate%28java.util.Calendar,%20int%29\" rel=\"noreferrer\">DateUtils.truncate()</a> from <a href=\"http://commons.apache.org/lang\" rel=\"noreferrer\">Apache Commons / Lang</a> to do this:</p>\n\n<pre><code>calendar = DateUtils.truncate(calendar, Calendar.MINUTE);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1282631948,"post_id":3554020,"comment_id":3723847,"body_markdown":"Brute force approach, misses things like leap seconds. Although I agree there have to be many leap seconds to make a difference.","body":"Brute force approach, misses things like leap seconds. Although I agree there have to be many leap seconds to make a difference."},{"owner":{"account_id":142896,"reputation":35109,"user_id":350890,"accept_rate":100,"display_name":"Peter Tillemans"},"score":4,"creation_date":1282632623,"post_id":3554020,"comment_id":3723917,"body_markdown":"You are absolutely right, I did not consider leap seconds. However last time I checked, there was no support for leap seconds in java.util.Date, so people would set their computer clock to match wall time (or an atomic clock) and the JVM would calculated the wrong start of the epoch (off by the number of leap seconds). So in practice this would work and would save a bunch of tricky code, which also must deal with leap seconds. Conclusion : use ntp to keep your computer clock synchronised.","body":"You are absolutely right, I did not consider leap seconds. However last time I checked, there was no support for leap seconds in java.util.Date, so people would set their computer clock to match wall time (or an atomic clock) and the JVM would calculated the wrong start of the epoch (off by the number of leap seconds). So in practice this would work and would save a bunch of tricky code, which also must deal with leap seconds. Conclusion : use ntp to keep your computer clock synchronised."},{"owner":{"account_id":42063,"reputation":58411,"user_id":122422,"accept_rate":56,"display_name":"B T"},"score":3,"creation_date":1346377982,"post_id":3554020,"comment_id":16351623,"body_markdown":"&quot;all time zones in the world change in 30min steps&quot; - this isn&#39;t true for all time zones. There are time-zones that use incriments of 15 minutes.","body":"&quot;all time zones in the world change in 30min steps&quot; - this isn&#39;t true for all time zones. There are time-zones that use incriments of 15 minutes."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1401467780,"post_id":3554020,"comment_id":36910794,"body_markdown":"@BT According to [this Wikipedia article](http://en.wikipedia.org/wiki/Time_zone), all time zone offsets are 60, 45, or 30 minutes.","body":"@BT According to <a href=\"http://en.wikipedia.org/wiki/Time_zone\" rel=\"nofollow noreferrer\">this Wikipedia article</a>, all time zone offsets are 60, 45, or 30 minutes."},{"owner":{"account_id":42063,"reputation":58411,"user_id":122422,"accept_rate":56,"display_name":"B T"},"score":0,"creation_date":1401576645,"post_id":3554020,"comment_id":36939779,"body_markdown":"@BasilBourque I admit I&#39;m not sure of the details, but I might have meant that some time zones end up being an increment of 15 minutes away from GMT (which a 45 minute step would cause). Maybe that&#39;s also what this source means: http://geography.about.com/od/culturalgeography/a/offsettimezones.htm","body":"@BasilBourque I admit I&#39;m not sure of the details, but I might have meant that some time zones end up being an increment of 15 minutes away from GMT (which a 45 minute step would cause). Maybe that&#39;s also what this source means: <a href=\"http://geography.about.com/od/culturalgeography/a/offsettimezones.htm\" rel=\"nofollow noreferrer\">geography.about.com/od/culturalgeography/a/offsettimezones.h&zwnj;&#8203;tm</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1401580462,"post_id":3554020,"comment_id":36940532,"body_markdown":"@BT I did not mean to sound argumentative. I&#39;m just educating myself about this perplexing topic of date-time. Your link leads to an interesting article, thanks.","body":"@BT I did not mean to sound argumentative. I&#39;m just educating myself about this perplexing topic of date-time. Your link leads to an interesting article, thanks."},{"owner":{"account_id":42063,"reputation":58411,"user_id":122422,"accept_rate":56,"display_name":"B T"},"score":1,"creation_date":1401580640,"post_id":3554020,"comment_id":36940559,"body_markdown":"I didn&#39;t take it that way, and I didn&#39;t mean to sound that way either. I&#39;ve legitimately forgotten the information that caused me to write my original comment","body":"I didn&#39;t take it that way, and I didn&#39;t mean to sound that way either. I&#39;ve legitimately forgotten the information that caused me to write my original comment"},{"owner":{"account_id":142896,"reputation":35109,"user_id":350890,"accept_rate":100,"display_name":"Peter Tillemans"},"score":0,"creation_date":1402765955,"post_id":3554020,"comment_id":37404486,"body_markdown":"I updated my answer to use the 15min timezone differences, thanks for the observation.","body":"I updated my answer to use the 15min timezone differences, thanks for the observation."}],"tags":[],"owner":{"account_id":142896,"reputation":35109,"user_id":350890,"accept_rate":100,"display_name":"Peter Tillemans"},"comment_count":8,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1405949057,"creation_date":1282631776,"answer_id":3554020,"question_id":3553964,"body_markdown":"With the answer above you end up with all kind of interesting code to handle overflows to hours, days etc.\r\n\r\nI would use the time in ms since the epoch.\r\n\r\nadd 7.5minutes or 7.5x60x1000 = 450000\r\n\r\nand truncate to a multiple of 900000\r\n\r\n    new Date(900000 * ((date.getTime() + 450000) / 900000))\r\n\r\nThis works, because the time where the ms time starts happens to be 00:00:00. And since all time zones in the world change in 15min steps, this does not affect rounding to quarters.\r\n\r\n\r\n(Oops, I had a 0 too much and forgot some important parentheses : it is still too early)\r\n \r\n","title":"How to round time to the nearest quarter hour in java?","body":"<p>With the answer above you end up with all kind of interesting code to handle overflows to hours, days etc.</p>\n\n<p>I would use the time in ms since the epoch.</p>\n\n<p>add 7.5minutes or 7.5x60x1000 = 450000</p>\n\n<p>and truncate to a multiple of 900000</p>\n\n<pre><code>new Date(900000 * ((date.getTime() + 450000) / 900000))\n</code></pre>\n\n<p>This works, because the time where the ms time starts happens to be 00:00:00. And since all time zones in the world change in 15min steps, this does not affect rounding to quarters.</p>\n\n<p>(Oops, I had a 0 too much and forgot some important parentheses : it is still too early)</p>\n"},{"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1282632637,"post_id":3554060,"comment_id":3723919,"body_markdown":"why so complicated? and why divide through float values when what you want is an integer result?","body":"why so complicated? and why divide through float values when what you want is an integer result?"}],"tags":[],"owner":{"account_id":183165,"reputation":391,"user_id":418380,"accept_rate":50,"display_name":"christian"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1282634367,"creation_date":1282632402,"answer_id":3554060,"question_id":3553964,"body_markdown":"if you have the minutes you can round them with the following function:  \r\n    `int minutes = i % 15 &lt; 8 ? i / 15 * 15 : (i / 15 + 1) * 15;`  \r\n","title":"How to round time to the nearest quarter hour in java?","body":"<p>if you have the minutes you can round them with the following function:<br>\n    <code>int minutes = i % 15 &lt; 8 ? i / 15 * 15 : (i / 15 + 1) * 15;</code>  </p>\n"},{"comments":[{"owner":{"account_id":2974613,"reputation":224,"user_id":2525935,"accept_rate":60,"display_name":"5im"},"score":1,"creation_date":1402960887,"post_id":3554097,"comment_id":37464884,"body_markdown":"thanks for the hint where the 8 comes from (15/2). helped me to implement a version for other roundings like 5 minutes and so on!","body":"thanks for the hint where the 8 comes from (15/2). helped me to implement a version for other roundings like 5 minutes and so on!"},{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1586389258,"post_id":3554097,"comment_id":108114262,"body_markdown":"Concise and elegant snippet. Works as __refinement to previous solutions__, while missing context (where&#39;s `min`, `cal` defined) and explanation.","body":"Concise and elegant snippet. Works as <b>refinement to previous solutions</b>, while missing context (where&#39;s <code>min</code>, <code>cal</code> defined) and explanation."}],"tags":[],"owner":{"account_id":185126,"reputation":3669,"user_id":421645,"accept_rate":39,"display_name":"Kandha"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1492652725,"creation_date":1282632844,"answer_id":3554097,"question_id":3553964,"body_markdown":"You can use this simple code... \r\n\r\n    int mode = min % 15;\r\n    if (mode &gt; 15 / 2) {\r\n    \tmin = 15 - mode;\r\n    } else {\r\n    \tmin = 0 - mode;\r\n    }\r\n    cal.add(Calendar.MINUTE, min);","title":"How to round time to the nearest quarter hour in java?","body":"<p>You can use this simple code... </p>\n\n<pre><code>int mode = min % 15;\nif (mode &gt; 15 / 2) {\n    min = 15 - mode;\n} else {\n    min = 0 - mode;\n}\ncal.add(Calendar.MINUTE, min);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1282636635,"post_id":3554142,"comment_id":3724333,"body_markdown":"I know about these, but I don&#39;t think there is an out of the box solution here for 15 minute intervals","body":"I know about these, but I don&#39;t think there is an out of the box solution here for 15 minute intervals"}],"tags":[],"owner":{"account_id":185877,"reputation":5330,"user_id":422869,"accept_rate":80,"display_name":"Torres"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1282633400,"creation_date":1282633400,"answer_id":3554142,"question_id":3553964,"body_markdown":"Maybe you can use an utility library for manipulating Dates, here for example you have a round method which can be useful for you:\r\n\r\nhttp://commons.apache.org/lang/api-2.4/org/apache/commons/lang/time/DateUtils.html#round%28java.util.Calendar,%20int%29\r\n\r\nHere an example in code:\r\n\r\n        FastDateFormat formatter = DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT;\r\n         \r\n        Date now = new Date();\r\n        System.out.println(&quot;now = &quot; + formatter.format(now));       \r\n         \r\n        // Get nearest second\r\n        Date nearestSecond = DateUtils.round(now, Calendar.SECOND);\r\n        System.out.println(&quot;nearestSecond = &quot; + formatter.format(nearestSecond));\r\n         \r\n        // Get nearest minute\r\n        Date nearestMinute = DateUtils.round(now, Calendar.MINUTE);\r\n        System.out.println(&quot;nearestMinute = &quot; + formatter.format(nearestMinute));\r\n         \r\n        // Get nearest hour\r\n        Date nearestHour   = DateUtils.round(now, Calendar.HOUR);\r\n        System.out.println(&quot;nearestHour = &quot; + formatter.format(nearestHour));\r\n","title":"How to round time to the nearest quarter hour in java?","body":"<p>Maybe you can use an utility library for manipulating Dates, here for example you have a round method which can be useful for you:</p>\n\n<p><a href=\"http://commons.apache.org/lang/api-2.4/org/apache/commons/lang/time/DateUtils.html#round%28java.util.Calendar,%20int%29\" rel=\"nofollow noreferrer\">http://commons.apache.org/lang/api-2.4/org/apache/commons/lang/time/DateUtils.html#round%28java.util.Calendar,%20int%29</a></p>\n\n<p>Here an example in code:</p>\n\n<pre><code>    FastDateFormat formatter = DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT;\n\n    Date now = new Date();\n    System.out.println(\"now = \" + formatter.format(now));       \n\n    // Get nearest second\n    Date nearestSecond = DateUtils.round(now, Calendar.SECOND);\n    System.out.println(\"nearestSecond = \" + formatter.format(nearestSecond));\n\n    // Get nearest minute\n    Date nearestMinute = DateUtils.round(now, Calendar.MINUTE);\n    System.out.println(\"nearestMinute = \" + formatter.format(nearestMinute));\n\n    // Get nearest hour\n    Date nearestHour   = DateUtils.round(now, Calendar.HOUR);\n    System.out.println(\"nearestHour = \" + formatter.format(nearestHour));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":976292,"reputation":2932,"user_id":2048740,"display_name":"jgrocha"},"score":2,"creation_date":1493129972,"post_id":8723914,"comment_id":74275409,"body_markdown":"The parentheses do not match. I think the code should be:\n`long timeMs = System.currentTimeMillis();`\n`long roundedtimeMs = Math.round( (double)timeMs/(15*60*1000) ) * (15*60*1000);`","body":"The parentheses do not match. I think the code should be: <code>long timeMs = System.currentTimeMillis();</code> <code>long roundedtimeMs = Math.round( (double)timeMs&#47;(15*60*1000) ) * (15*60*1000);</code>"}],"tags":[],"owner":{"account_id":1146948,"reputation":101,"user_id":1129478,"display_name":"Lindhardt"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1679143766,"creation_date":1325665363,"answer_id":8723914,"question_id":3553964,"body_markdown":"It&#39;s simple, find the number of quaters since 1970 as double, round it and multiply by 15 minutes:\r\n\r\n    long timeMs = System.System.currentTimeMillis();\r\n\r\n    long roundedtimeMs = Math.round( (double)( (double)timeMs/(double)(15*60*1000) ) ) * (15*60*1000);\r\n\r\nSet your Date or Calendar object with that.\r\nChange the time you want mutiple by &quot;n&quot;","title":"How to round time to the nearest quarter hour in java?","body":"<p>It's simple, find the number of quaters since 1970 as double, round it and multiply by 15 minutes:</p>\n<pre><code>long timeMs = System.System.currentTimeMillis();\n\nlong roundedtimeMs = Math.round( (double)( (double)timeMs/(double)(15*60*1000) ) ) * (15*60*1000);\n</code></pre>\n<p>Set your Date or Calendar object with that.\nChange the time you want mutiple by &quot;n&quot;</p>\n"},{"tags":[],"owner":{"account_id":1151097,"reputation":809,"user_id":1132801,"accept_rate":68,"display_name":"Christopher Masser"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375681958,"creation_date":1375681958,"answer_id":18051391,"question_id":3553964,"body_markdown":"    minutes = (int) (Math.round(minutes / 15.0) * 15.0);","title":"How to round time to the nearest quarter hour in java?","body":"<pre><code>minutes = (int) (Math.round(minutes / 15.0) * 15.0);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":108936,"reputation":4576,"user_id":288917,"accept_rate":67,"display_name":"parishodak"},"score":0,"creation_date":1444833207,"post_id":23958525,"comment_id":54068457,"body_markdown":"helped me to get a neat code @Iboix. small tweaks and i got my required datetime obj. thanks","body":"helped me to get a neat code @Iboix. small tweaks and i got my required datetime obj. thanks"}],"tags":[],"owner":{"account_id":3490255,"reputation":969,"user_id":2920131,"display_name":"Lucien Boix"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1401464937,"creation_date":1401464937,"answer_id":23958525,"question_id":3553964,"body_markdown":"Wonderful post, thank you so much guys! It was exactly what I needed :)\r\n\r\nHere&#39;s my code based on jour work.\r\n\r\nMy usecase is **&quot;Given it&#39;s 11:47 am, I want to set two dates symbolizing the current 5-minutes frame : 11:45 am and 11:50 am&quot;**\r\n\r\n                Calendar calendar = Calendar.getInstance();\r\n                calendar.set(Calendar.SECOND, 0);\r\n                calendar.set(Calendar.MILLISECOND, 0);\r\n\r\n                int modulo = calendar.get(Calendar.MINUTE) % 5;\r\n                if(modulo &gt; 0) {\r\n\r\n                    calendar.add(Calendar.MINUTE, -modulo);\r\n                }\r\n\r\n                myObject.setStartDate(calendar.getTime());\r\n\r\n                calendar.add(Calendar.MINUTE, 5);\r\n                myObject.setDueDate(calendar.getTime()); ","title":"How to round time to the nearest quarter hour in java?","body":"<p>Wonderful post, thank you so much guys! It was exactly what I needed :)</p>\n\n<p>Here's my code based on jour work.</p>\n\n<p>My usecase is <strong>\"Given it's 11:47 am, I want to set two dates symbolizing the current 5-minutes frame : 11:45 am and 11:50 am\"</strong></p>\n\n<pre><code>            Calendar calendar = Calendar.getInstance();\n            calendar.set(Calendar.SECOND, 0);\n            calendar.set(Calendar.MILLISECOND, 0);\n\n            int modulo = calendar.get(Calendar.MINUTE) % 5;\n            if(modulo &gt; 0) {\n\n                calendar.add(Calendar.MINUTE, -modulo);\n            }\n\n            myObject.setStartDate(calendar.getTime());\n\n            calendar.add(Calendar.MINUTE, 5);\n            myObject.setDueDate(calendar.getTime()); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":1,"creation_date":1586387916,"post_id":37423588,"comment_id":108113953,"body_markdown":"Semantically well written: variables &amp; calculations are clear &#128077; Alternative for half-up: `return r &lt; roundIncrement/2 ? floor : ceiling` where `roundIncrement/2` is the threshold, i.e. _half_","body":"Semantically well written: variables &amp; calculations are clear  Alternative for half-up: <code>return r &lt; roundIncrement&#47;2 ? floor : ceiling</code> where <code>roundIncrement&#47;2</code> is the threshold, i.e. <i>half</i>"},{"owner":{"account_id":20636918,"reputation":97,"user_id":15150382,"display_name":"kistlers"},"score":0,"creation_date":1652778593,"post_id":37423588,"comment_id":127682575,"body_markdown":"I used your answer and adapted it into separate methods to ceil or truncate the input and found a small bug. For anyone with the same goal as me:\n`ceiling` in the given answer is always ceiled, even if not necessary. I adapted it the following way:\n`ceiling = input.equals(floor) ? input : ceiling`","body":"I used your answer and adapted it into separate methods to ceil or truncate the input and found a small bug. For anyone with the same goal as me: <code>ceiling</code> in the given answer is always ceiled, even if not necessary. I adapted it the following way: <code>ceiling = input.equals(floor) ? input : ceiling</code>"}],"tags":[],"owner":{"account_id":95764,"reputation":12019,"user_id":260633,"accept_rate":100,"display_name":"Dev"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1464122912,"creation_date":1464122912,"answer_id":37423588,"question_id":3553964,"body_markdown":"A commented implementation for Java 8. Accepts arbitrary rounding units and increments:\r\n\r\n  \r\n\r\n     public static ZonedDateTime round(ZonedDateTime input, TemporalField roundTo, int roundIncrement) {\r\n        /* Extract the field being rounded. */\r\n        int field = input.get(roundTo);\r\n    \r\n        /* Distance from previous floor. */\r\n        int r = field % roundIncrement;\r\n    \r\n        /* Find floor and ceiling. Truncate values to base unit of field. */\r\n        ZonedDateTime ceiling = \r\n            input.plus(roundIncrement - r, roundTo.getBaseUnit())\r\n            .truncatedTo(roundTo.getBaseUnit());\r\n        \r\n        ZonedDateTime floor = \r\n            input.plus(-r, roundTo.getBaseUnit())\r\n            .truncatedTo(roundTo.getBaseUnit());\r\n    \r\n        /*\r\n         * Do a half-up rounding.\r\n         * \r\n         * If (input - floor) &lt; (ceiling - input) \r\n         * (i.e. floor is closer to input than ceiling)\r\n         *  then return floor, otherwise return ceiling.\r\n         */\r\n        return Duration.between(floor, input).compareTo(Duration.between(input, ceiling)) &lt; 0 ? floor : ceiling;\r\n      }\r\n    \r\n\r\nSource: myself","title":"How to round time to the nearest quarter hour in java?","body":"<p>A commented implementation for Java 8. Accepts arbitrary rounding units and increments:</p>\n\n<pre><code> public static ZonedDateTime round(ZonedDateTime input, TemporalField roundTo, int roundIncrement) {\n    /* Extract the field being rounded. */\n    int field = input.get(roundTo);\n\n    /* Distance from previous floor. */\n    int r = field % roundIncrement;\n\n    /* Find floor and ceiling. Truncate values to base unit of field. */\n    ZonedDateTime ceiling = \n        input.plus(roundIncrement - r, roundTo.getBaseUnit())\n        .truncatedTo(roundTo.getBaseUnit());\n\n    ZonedDateTime floor = \n        input.plus(-r, roundTo.getBaseUnit())\n        .truncatedTo(roundTo.getBaseUnit());\n\n    /*\n     * Do a half-up rounding.\n     * \n     * If (input - floor) &lt; (ceiling - input) \n     * (i.e. floor is closer to input than ceiling)\n     *  then return floor, otherwise return ceiling.\n     */\n    return Duration.between(floor, input).compareTo(Duration.between(input, ceiling)) &lt; 0 ? floor : ceiling;\n  }\n</code></pre>\n\n<p>Source: myself</p>\n"},{"comments":[{"owner":{"account_id":4045670,"reputation":1392,"user_id":3326982,"accept_rate":68,"display_name":"Florian Koch"},"score":0,"creation_date":1471354459,"post_id":38976237,"comment_id":65305793,"body_markdown":"please describe why this answer is better than other answers or what it does different and why","body":"please describe why this answer is better than other answers or what it does different and why"}],"tags":[],"owner":{"account_id":9021020,"reputation":1,"user_id":6722110,"display_name":"Xander"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471354015,"creation_date":1471354015,"answer_id":38976237,"question_id":3553964,"body_markdown":"Using some code on I found on Stackoverflow, I have created the following code. It will output for every minute the quarter it will be rounded to.\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    DateTimeFormatter Datum_Format = DateTimeFormatter.ofPattern(&quot;HH:mm&quot;);\r\n    \r\n    LocalDateTime time = LocalDateTime.now();\r\n    for(int i=0; i&lt;=59; i++) {\r\n      time = time.withMinute(i);\r\n      int Minute = time.getMinute();\r\n      int Quarter = 15 * (int) Math.round(Minute / 15);\r\n      if (Quarter == 60) { \r\n    \tTime2 = time.plusHours(1);\r\n    \tTime2 = Time2.withMinute(0); \r\n    \tLOG.info (Datum_Format.format(time) + &quot;,&quot; + Datum_Format.format(Time2));\r\n      }\r\n      else {\r\n    \tTime2 = time; \r\n    \tTime2 = Time2.withMinute(Quarter); \r\n    \tLOG.info (Datum_Format.format(time) + &quot;,&quot; + Datum_Format.format(Time2));\r\n      }\r\n    }\r\n\r\nAs I output the code to a console, you will have to replace the LOG.info with something like System.out.println.\r\n\r\nResult:\r\n\r\n2016-08-16 15:14:31 INFO 15:05,15:00 &lt;br&gt;\r\n2016-08-16 15:14:31 INFO 15:06,15:00 &lt;br&gt;\r\n2016-08-16 15:14:31 INFO 15:07,15:00 &lt;br&gt;\r\n2016-08-16 15:14:31 INFO 15:08,15:15 &lt;br&gt;\r\n2016-08-16 15:14:31 INFO 15:09,15:15 &lt;br&gt;\r\n2016-08-16 15:14:31 INFO 15:10,15:15 &lt;br&gt;","title":"How to round time to the nearest quarter hour in java?","body":"<p>Using some code on I found on Stackoverflow, I have created the following code. It will output for every minute the quarter it will be rounded to.</p>\n\n<pre><code>import java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\n\nDateTimeFormatter Datum_Format = DateTimeFormatter.ofPattern(\"HH:mm\");\n\nLocalDateTime time = LocalDateTime.now();\nfor(int i=0; i&lt;=59; i++) {\n  time = time.withMinute(i);\n  int Minute = time.getMinute();\n  int Quarter = 15 * (int) Math.round(Minute / 15);\n  if (Quarter == 60) { \n    Time2 = time.plusHours(1);\n    Time2 = Time2.withMinute(0); \n    LOG.info (Datum_Format.format(time) + \",\" + Datum_Format.format(Time2));\n  }\n  else {\n    Time2 = time; \n    Time2 = Time2.withMinute(Quarter); \n    LOG.info (Datum_Format.format(time) + \",\" + Datum_Format.format(Time2));\n  }\n}\n</code></pre>\n\n<p>As I output the code to a console, you will have to replace the LOG.info with something like System.out.println.</p>\n\n<p>Result:</p>\n\n<p>2016-08-16 15:14:31 INFO 15:05,15:00 <br>\n2016-08-16 15:14:31 INFO 15:06,15:00 <br>\n2016-08-16 15:14:31 INFO 15:07,15:00 <br>\n2016-08-16 15:14:31 INFO 15:08,15:15 <br>\n2016-08-16 15:14:31 INFO 15:09,15:15 <br>\n2016-08-16 15:14:31 INFO 15:10,15:15 <br></p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":4,"creation_date":1521406790,"post_id":40421043,"comment_id":85705637,"body_markdown":"By the way, `LocalDateTime` is the wrong class for actual moments, for a point on the timeline. Lacking any zone/offset concept, they are indefinite. Use same logic, but with `ZonedDateTime.now()`.","body":"By the way, <code>LocalDateTime</code> is the wrong class for actual moments, for a point on the timeline. Lacking any zone/offset concept, they are indefinite. Use same logic, but with <code>ZonedDateTime.now()</code>."},{"owner":{"account_id":5015739,"reputation":626,"user_id":4030649,"display_name":"Shengfeng Li"},"score":5,"creation_date":1549317294,"post_id":40421043,"comment_id":95852226,"body_markdown":"By the way, if you want half up, it could be (15 * (time.getMinute() + 7.5) / 15).","body":"By the way, if you want half up, it could be (15 * (time.getMinute() + 7.5) / 15)."},{"owner":{"account_id":147932,"reputation":3361,"user_id":359376,"accept_rate":78,"display_name":"user12384512"},"score":0,"creation_date":1701527221,"post_id":40421043,"comment_id":136788068,"body_markdown":"Not an answer to a question. 2.24 will go to 2.15, but the Op wanted 2.24 goes to 2.30","body":"Not an answer to a question. 2.24 will go to 2.15, but the Op wanted 2.24 goes to 2.30"}],"tags":[],"owner":{"account_id":1128668,"reputation":5691,"user_id":1115279,"accept_rate":86,"display_name":"D-rk"},"comment_count":3,"down_vote_count":1,"up_vote_count":50,"is_accepted":false,"score":49,"last_activity_date":1478257394,"creation_date":1478257394,"answer_id":40421043,"question_id":3553964,"body_markdown":"If you just want to round down this is a more readable version using **Java Time API**:\r\n\r\n    LocalDateTime time = LocalDateTime.now();\r\n\tLocalDateTime lastQuarter = time.truncatedTo(ChronoUnit.HOURS)\r\n\t                                .plusMinutes(15 * (time.getMinute() / 15));\r\n\r\noutput:\r\n\r\n2016-11-04T10:58:10.228\r\n\r\n2016-11-04T10:45:00","title":"How to round time to the nearest quarter hour in java?","body":"<p>If you just want to round down this is a more readable version using <strong>Java Time API</strong>:</p>\n\n<pre><code>LocalDateTime time = LocalDateTime.now();\nLocalDateTime lastQuarter = time.truncatedTo(ChronoUnit.HOURS)\n                                .plusMinutes(15 * (time.getMinute() / 15));\n</code></pre>\n\n<p>output:</p>\n\n<p>2016-11-04T10:58:10.228</p>\n\n<p>2016-11-04T10:45:00</p>\n"},{"tags":[],"owner":{"account_id":7284149,"reputation":673,"user_id":5552809,"display_name":"contrapost"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505890965,"creation_date":1505890965,"answer_id":46315317,"question_id":3553964,"body_markdown":"    public static Date getCurrentDateTimeWithQuarterRounding() {\r\n        final Calendar calendar = new GregorianCalendar();\r\n        calendar.setTime(new Date());\r\n        calendar.set(Calendar.MILLISECOND, 0);\r\n        calendar.set(Calendar.SECOND, 0);\r\n        final int minutes = calendar.get(Calendar.MINUTE);\r\n\r\n        if (minutes &lt; 15) {\r\n            calendar.set(Calendar.MINUTE, 0);\r\n        } else if (minutes &gt;= 45) {\r\n            calendar.set(Calendar.MINUTE, 45);\r\n        } else if (minutes &lt; 30) {\r\n            calendar.set(Calendar.MINUTE, 15);\r\n        } else {\r\n            calendar.set(Calendar.MINUTE, 30);\r\n        }\r\n\r\n        return calendar.getTime();\r\n    }","title":"How to round time to the nearest quarter hour in java?","body":"<pre><code>public static Date getCurrentDateTimeWithQuarterRounding() {\n    final Calendar calendar = new GregorianCalendar();\n    calendar.setTime(new Date());\n    calendar.set(Calendar.MILLISECOND, 0);\n    calendar.set(Calendar.SECOND, 0);\n    final int minutes = calendar.get(Calendar.MINUTE);\n\n    if (minutes &lt; 15) {\n        calendar.set(Calendar.MINUTE, 0);\n    } else if (minutes &gt;= 45) {\n        calendar.set(Calendar.MINUTE, 45);\n    } else if (minutes &lt; 30) {\n        calendar.set(Calendar.MINUTE, 15);\n    } else {\n        calendar.set(Calendar.MINUTE, 30);\n    }\n\n    return calendar.getTime();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8206224,"reputation":378,"user_id":6175863,"accept_rate":50,"display_name":"Rakesh SKadam"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1570438687,"creation_date":1570438687,"answer_id":58266323,"question_id":3553964,"body_markdown":"One more alternate approach using java Instant api.\r\n```\r\nInstant instant =  Instant.now();\r\nint intervalInMinutes = 10;\r\ninstant.truncatedTo(ChronoUnit.MINUTES).minus(instant.atZone(ZoneId.of(&quot;UTC&quot;)).getMinute() % (1* intervalInMinutes),ChronoUnit.MINUTES);\r\n```","title":"How to round time to the nearest quarter hour in java?","body":"<p>One more alternate approach using java Instant api.</p>\n\n<pre><code>Instant instant =  Instant.now();\nint intervalInMinutes = 10;\ninstant.truncatedTo(ChronoUnit.MINUTES).minus(instant.atZone(ZoneId.of(\"UTC\")).getMinute() % (1* intervalInMinutes),ChronoUnit.MINUTES);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579590447,"creation_date":1579537456,"answer_id":59827317,"question_id":3553964,"body_markdown":"Use the following functions to get the minutes rounded to last quarter `getRecentQuater():Date`, `getSysDate_LastQuarterMins(&quot;dd.MM.yyyy HH:mm:ss&quot;):String`: &lt;sup&gt;Converting [LocalDateTime to Date](https://stackoverflow.com/questions/19431234/converting-between-java-time-localdatetime-and-java-util-date)&lt;/sup&gt;\r\n\r\n```lang-java\r\npublic static Date getRecentQuater() {\r\n\tLocalDateTime time = LocalDateTime.now();\r\n\tLocalDateTime lastQuarter = time.truncatedTo(ChronoUnit.HOURS).plusMinutes(getLastQuarterValue(time.getMinute()));\r\n\tSystem.out.println(&quot;lastQuarter LocalDateTime: &quot; + lastQuarter);\r\n\t\r\n\tDate date = Date.from(lastQuarter.atZone(ZoneId.systemDefault()).toInstant());\r\n\tSystem.out.println(&quot;lastQuarter Date: &quot; + lastQuarter);\r\n\treturn date;\r\n}\r\npublic static String getSysDate_LastQuarterMins(String dateFormat) {\r\n\tDate date = getRecentQuater();\r\n\tSimpleDateFormat ft = new SimpleDateFormat (dateFormat);\r\n\tString sysDate_RoundMin = ft.format(date);\r\n\tSystem.out.println(&quot;getSysDate_LastQuarterMins() LocalDateTime : &quot;+sysDate_RoundMin);\r\n\treturn sysDate_RoundMin;\r\n}\r\n```\r\n\r\n`getSysDate_LastQuarterMins() : Mon Jan 20 17:30:00 CET 2020`\r\n\r\n```lang-java\r\npublic static Date getSysDate_LastQuarterMins() {\r\n\tCalendar cal = Calendar.getInstance();\r\n\tcal.setTime( new Date(System.currentTimeMillis()) );\r\n\t\r\n\tint min = cal.get(Calendar.MINUTE);\r\n\t\r\n\tcal.set(Calendar.MINUTE, getLastQuarterValue(min));\r\n\tcal.set(Calendar.SECOND, 00);\r\n\tDate lastQuarter = cal.getTime();\r\n\tSystem.out.println(&quot;getSysDate_LastQuarterMins() Calendar : &quot;+lastQuarter);\r\n\treturn lastQuarter;\r\n}\r\n```\r\n\r\n\r\nYou can find the LastQuarter Value Round value from the follwing fucntions, provided with some outputs on function call `diaplayLastQuarter_RoundValue(min)`:\r\n\r\n```\r\nMin: 10, LastQuarter:  0, Round: 15\r\nMin: 24, LastQuarter: 15, Round: 30\r\nMin: 36, LastQuarter: 30, Round: 30\r\nMin: 37, LastQuarter: 30, Round: 30\r\nMin: 38, LastQuarter: 30, Round: 45\r\nMin: 39, LastQuarter: 30, Round: 45\r\nMin: 44, LastQuarter: 30, Round: 45\r\nMin: 57, LastQuarter: 45, Round: 00 [57, 07:45:00, 08:00:00]\r\n```\r\n\t\t\r\n```lang-java\r\npublic static void diaplayLastQuarter_RoundValue(int minutes) {\r\n\tSystem.out.format(&quot;Min: %2d, LastQuarter: %2d, Round: %2d\\n&quot;,\r\n\t\t\tminutes, getLastQuarterValue(minutes), getRoundValue(minutes));\r\n}\r\npublic static int getLastQuarterValue(int minutes) {\r\n\tint min = 15 * (minutes / 15);\r\n\t//System.out.println(&quot;Min: &quot;+minutes+&quot;, getLastQuarterValue : &quot;+ min);\r\n\treturn min;\r\n}\r\npublic static int getRoundValue(int minutes) {\r\n\tgetLastQuarterValue(minutes);\r\n\tint minRound = (int) (Math.round(minutes / 15.0) * 15.0);\r\n\t//System.out.println(&quot;Min: &quot;+minutes+&quot;, getRoundValue : &quot;+minRound);\r\n\treturn minRound;\r\n}\r\n```\r\n\r\n","title":"How to round time to the nearest quarter hour in java?","body":"<p>Use the following functions to get the minutes rounded to last quarter <code>getRecentQuater():Date</code>, <code>getSysDate_LastQuarterMins(\"dd.MM.yyyy HH:mm:ss\"):String</code>: <sup>Converting <a href=\"https://stackoverflow.com/questions/19431234/converting-between-java-time-localdatetime-and-java-util-date\">LocalDateTime to Date</a></sup></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static Date getRecentQuater() {\n    LocalDateTime time = LocalDateTime.now();\n    LocalDateTime lastQuarter = time.truncatedTo(ChronoUnit.HOURS).plusMinutes(getLastQuarterValue(time.getMinute()));\n    System.out.println(\"lastQuarter LocalDateTime: \" + lastQuarter);\n\n    Date date = Date.from(lastQuarter.atZone(ZoneId.systemDefault()).toInstant());\n    System.out.println(\"lastQuarter Date: \" + lastQuarter);\n    return date;\n}\npublic static String getSysDate_LastQuarterMins(String dateFormat) {\n    Date date = getRecentQuater();\n    SimpleDateFormat ft = new SimpleDateFormat (dateFormat);\n    String sysDate_RoundMin = ft.format(date);\n    System.out.println(\"getSysDate_LastQuarterMins() LocalDateTime : \"+sysDate_RoundMin);\n    return sysDate_RoundMin;\n}\n</code></pre>\n\n<p><code>getSysDate_LastQuarterMins() : Mon Jan 20 17:30:00 CET 2020</code></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static Date getSysDate_LastQuarterMins() {\n    Calendar cal = Calendar.getInstance();\n    cal.setTime( new Date(System.currentTimeMillis()) );\n\n    int min = cal.get(Calendar.MINUTE);\n\n    cal.set(Calendar.MINUTE, getLastQuarterValue(min));\n    cal.set(Calendar.SECOND, 00);\n    Date lastQuarter = cal.getTime();\n    System.out.println(\"getSysDate_LastQuarterMins() Calendar : \"+lastQuarter);\n    return lastQuarter;\n}\n</code></pre>\n\n<p>You can find the LastQuarter Value Round value from the follwing fucntions, provided with some outputs on function call <code>diaplayLastQuarter_RoundValue(min)</code>:</p>\n\n<pre><code>Min: 10, LastQuarter:  0, Round: 15\nMin: 24, LastQuarter: 15, Round: 30\nMin: 36, LastQuarter: 30, Round: 30\nMin: 37, LastQuarter: 30, Round: 30\nMin: 38, LastQuarter: 30, Round: 45\nMin: 39, LastQuarter: 30, Round: 45\nMin: 44, LastQuarter: 30, Round: 45\nMin: 57, LastQuarter: 45, Round: 00 [57, 07:45:00, 08:00:00]\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void diaplayLastQuarter_RoundValue(int minutes) {\n    System.out.format(\"Min: %2d, LastQuarter: %2d, Round: %2d\\n\",\n            minutes, getLastQuarterValue(minutes), getRoundValue(minutes));\n}\npublic static int getLastQuarterValue(int minutes) {\n    int min = 15 * (minutes / 15);\n    //System.out.println(\"Min: \"+minutes+\", getLastQuarterValue : \"+ min);\n    return min;\n}\npublic static int getRoundValue(int minutes) {\n    getLastQuarterValue(minutes);\n    int minRound = (int) (Math.round(minutes / 15.0) * 15.0);\n    //System.out.println(\"Min: \"+minutes+\", getRoundValue : \"+minRound);\n    return minRound;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":369372,"reputation":4604,"user_id":716720,"accept_rate":60,"display_name":"Sergey Shcherbakov"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1617396277,"creation_date":1617396277,"answer_id":66925043,"question_id":3553964,"body_markdown":"If you need to round down time to the nearest arbitrary level provided as `Duration`:\r\n\r\n\tstatic long truncateTo(long timeEpochMillis, Duration d) {\r\n\t\tlong x = timeEpochMillis / d.toMillis();\r\n\t\treturn x * d.toMillis();\r\n\t}\r\n","title":"How to round time to the nearest quarter hour in java?","body":"<p>If you need to round down time to the nearest arbitrary level provided as <code>Duration</code>:</p>\n<pre><code>static long truncateTo(long timeEpochMillis, Duration d) {\n    long x = timeEpochMillis / d.toMillis();\n    return x * d.toMillis();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1292849,"reputation":10302,"user_id":1244588,"display_name":"dualed"},"score":0,"creation_date":1646750896,"post_id":66925903,"comment_id":126197853,"body_markdown":"Btw. this ignores seconds, so since the median between `15&#39;&#39;` is `7&#39;&#39; 30&#39;&#39;&#39;`, rounding will be incorrect between `7&#39;&#39; 0&#39;&#39;&#39;` and `7&#39;&#39; 29&#39;&#39;&#39;` of each quarter hour.","body":"Btw. this ignores seconds, so since the median between <code>15&#39;&#39;</code> is <code>7&#39;&#39; 30&#39;&#39;&#39;</code>, rounding will be incorrect between <code>7&#39;&#39; 0&#39;&#39;&#39;</code> and <code>7&#39;&#39; 29&#39;&#39;&#39;</code> of each quarter hour."}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617402346,"creation_date":1617401860,"answer_id":66925903,"question_id":3553964,"body_markdown":"## *java.time*\r\n\r\nI recommend you do it using the the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html)&lt;sup&gt;*&lt;/sup&gt;:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.LocalTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    import java.time.temporal.ChronoUnit;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\t// Change it to the applicable ZoneId e.g. ZoneId.of(&quot;Asia/Kolkata&quot;)\r\n    \t\tZoneId zoneId = ZoneId.systemDefault();\r\n    \t\t\r\n    \t\tStream.of(\r\n    \t\t\t\t\t\t&quot;10:00&quot;, \r\n    \t\t\t\t\t\t&quot;10:05&quot;, \r\n    \t\t\t\t\t\t&quot;10:10&quot;, \r\n    \t\t\t\t\t\t&quot;10:15&quot;, \r\n    \t\t\t\t\t\t&quot;10:20&quot;, \r\n    \t\t\t\t\t\t&quot;10:25&quot;, \r\n    \t\t\t\t\t\t&quot;10:30&quot;\r\n    \t\t\t).forEach(t -&gt; System.out.println(roundToNearestQuarter(t, zoneId)));\r\n    \t}\r\n    \r\n    \tstatic ZonedDateTime roundToNearestQuarter(String strTime, ZoneId zoneId) {\r\n    \t\tLocalTime time = LocalTime.parse(strTime);\r\n    \t\treturn LocalDate.now()\r\n    \t\t\t\t\t\t.atTime(time)\r\n    \t\t\t\t\t\t.atZone(zoneId)\r\n    \t\t\t\t\t\t.truncatedTo(ChronoUnit.HOURS)\r\n    \t\t\t\t\t\t.plusMinutes(15 * Math.round(time.getMinute() / 15.0));\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    2021-04-02T10:00+01:00[Europe/London]\r\n    2021-04-02T10:00+01:00[Europe/London]\r\n    2021-04-02T10:15+01:00[Europe/London]\r\n    2021-04-02T10:15+01:00[Europe/London]\r\n    2021-04-02T10:15+01:00[Europe/London]\r\n    2021-04-02T10:30+01:00[Europe/London]\r\n    2021-04-02T10:30+01:00[Europe/London]\r\n\r\nIn case you are looking for just time, use [`ZonedDateTime#toLocalTime`][1] to get the `LocalTime` from the obtained `ZonedDateTime`. \r\n\r\nLearn more about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* The `java.util` date-time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the modern date-time API. For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#toLocalTime--","title":"How to round time to the nearest quarter hour in java?","body":"<h2><em>java.time</em></h2>\n<p>I recommend you do it using the the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">modern date-time API</a><sup>*</sup>:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.LocalTime;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.time.temporal.ChronoUnit;\nimport java.util.stream.Stream;\n\npublic class Main {\n    public static void main(String[] args) {\n        \n        // Change it to the applicable ZoneId e.g. ZoneId.of(&quot;Asia/Kolkata&quot;)\n        ZoneId zoneId = ZoneId.systemDefault();\n        \n        Stream.of(\n                        &quot;10:00&quot;, \n                        &quot;10:05&quot;, \n                        &quot;10:10&quot;, \n                        &quot;10:15&quot;, \n                        &quot;10:20&quot;, \n                        &quot;10:25&quot;, \n                        &quot;10:30&quot;\n            ).forEach(t -&gt; System.out.println(roundToNearestQuarter(t, zoneId)));\n    }\n\n    static ZonedDateTime roundToNearestQuarter(String strTime, ZoneId zoneId) {\n        LocalTime time = LocalTime.parse(strTime);\n        return LocalDate.now()\n                        .atTime(time)\n                        .atZone(zoneId)\n                        .truncatedTo(ChronoUnit.HOURS)\n                        .plusMinutes(15 * Math.round(time.getMinute() / 15.0));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2021-04-02T10:00+01:00[Europe/London]\n2021-04-02T10:00+01:00[Europe/London]\n2021-04-02T10:15+01:00[Europe/London]\n2021-04-02T10:15+01:00[Europe/London]\n2021-04-02T10:15+01:00[Europe/London]\n2021-04-02T10:30+01:00[Europe/London]\n2021-04-02T10:30+01:00[Europe/London]\n</code></pre>\n<p>In case you are looking for just time, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#toLocalTime--\" rel=\"nofollow noreferrer\"><code>ZonedDateTime#toLocalTime</code></a> to get the <code>LocalTime</code> from the obtained <code>ZonedDateTime</code>.</p>\n<p>Learn more about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* The <code>java.util</code> date-time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the modern date-time API. For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.\n</sup></p>\n"},{"tags":[],"owner":{"account_id":16567284,"reputation":71,"user_id":11971503,"display_name":"rortegat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626454735,"creation_date":1626454735,"answer_id":68412746,"question_id":3553964,"body_markdown":"If someone is interested to get the nearest (up or down) five or fifteen interval, I made a function using module that does the job.\r\n\r\n```java\r\npublic LocalTime roundToTheNearestInterval(LocalTime original, Integer measurementInterval) {\r\n        LocalTime nearest;\r\n        int mod;\r\n        switch (measurementInterval) {\r\n            case 5:\r\n                mod = original.getMinute() % 5;\r\n                nearest = mod &gt;= 3 ?\r\n                        original.truncatedTo(ChronoUnit.HOURS)\r\n                                .plusMinutes((long) 5 * (original.getMinute() / 5) + 5) :\r\n                        original.truncatedTo(ChronoUnit.HOURS)\r\n                                .plusMinutes((long) 5 * (original.getMinute() / 5));\r\n                break;\r\n            case 15:\r\n                mod = original.getMinute() % 15;\r\n                nearest = mod &gt;= 8 ?\r\n                        original.truncatedTo(ChronoUnit.HOURS)\r\n                                .plusMinutes((long) 15 * (original.getMinute() / 15) + 15) :\r\n                        original.truncatedTo(ChronoUnit.HOURS)\r\n                                .plusMinutes((long) 15 * (original.getMinute() / 15));\r\n                break;\r\n            default:\r\n                nearest = original;\r\n        }\r\n        return nearest;\r\n    }\r\n```\r\n\r\nYou can try it with this unit test\r\n\r\n```java\r\n @Test\r\n    void roundToTheNearestInterval() {\r\n        //given\r\n        LocalTime originalTime1 = LocalTime.of(6, 31, 15);\r\n        LocalTime originalTime2 = LocalTime.of(19, 13, 42);\r\n        LocalTime originalTime3 = LocalTime.of(6, 37, 11);\r\n        LocalTime originalTime4 = LocalTime.of(19, 40, 34);\r\n        Integer measurementInterval_5min = 5;\r\n        Integer measurementInterval_15min = 15;\r\n\r\n        MyService myService = new MyService();\r\n\r\n        //when\r\n        LocalTime rounded1_5min = myService.roundToTheNearestInterval(originalTime1, measurementInterval_5min);\r\n        LocalTime rounded2_5min = myService.roundToTheNearestInterval(originalTime2, measurementInterval_5min);\r\n\r\n        LocalTime rounded1_15min = myService.roundToTheNearestInterval(originalTime3, measurementInterval_15min);\r\n        LocalTime rounded2_15min = myService.roundToTheNearestInterval(originalTime4, measurementInterval_15min);\r\n\r\n        //then\r\n        assertEquals(LocalTime.of(6, 30, 0), rounded1_5min);\r\n        assertEquals(LocalTime.of(19, 15, 0), rounded2_5min);\r\n        assertEquals(LocalTime.of(6, 30, 0), rounded1_15min);\r\n        assertEquals(LocalTime.of(19, 45, 0), rounded2_15min);\r\n\r\n    }\r\n```","title":"How to round time to the nearest quarter hour in java?","body":"<p>If someone is interested to get the nearest (up or down) five or fifteen interval, I made a function using module that does the job.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public LocalTime roundToTheNearestInterval(LocalTime original, Integer measurementInterval) {\n        LocalTime nearest;\n        int mod;\n        switch (measurementInterval) {\n            case 5:\n                mod = original.getMinute() % 5;\n                nearest = mod &gt;= 3 ?\n                        original.truncatedTo(ChronoUnit.HOURS)\n                                .plusMinutes((long) 5 * (original.getMinute() / 5) + 5) :\n                        original.truncatedTo(ChronoUnit.HOURS)\n                                .plusMinutes((long) 5 * (original.getMinute() / 5));\n                break;\n            case 15:\n                mod = original.getMinute() % 15;\n                nearest = mod &gt;= 8 ?\n                        original.truncatedTo(ChronoUnit.HOURS)\n                                .plusMinutes((long) 15 * (original.getMinute() / 15) + 15) :\n                        original.truncatedTo(ChronoUnit.HOURS)\n                                .plusMinutes((long) 15 * (original.getMinute() / 15));\n                break;\n            default:\n                nearest = original;\n        }\n        return nearest;\n    }\n</code></pre>\n<p>You can try it with this unit test</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Test\n    void roundToTheNearestInterval() {\n        //given\n        LocalTime originalTime1 = LocalTime.of(6, 31, 15);\n        LocalTime originalTime2 = LocalTime.of(19, 13, 42);\n        LocalTime originalTime3 = LocalTime.of(6, 37, 11);\n        LocalTime originalTime4 = LocalTime.of(19, 40, 34);\n        Integer measurementInterval_5min = 5;\n        Integer measurementInterval_15min = 15;\n\n        MyService myService = new MyService();\n\n        //when\n        LocalTime rounded1_5min = myService.roundToTheNearestInterval(originalTime1, measurementInterval_5min);\n        LocalTime rounded2_5min = myService.roundToTheNearestInterval(originalTime2, measurementInterval_5min);\n\n        LocalTime rounded1_15min = myService.roundToTheNearestInterval(originalTime3, measurementInterval_15min);\n        LocalTime rounded2_15min = myService.roundToTheNearestInterval(originalTime4, measurementInterval_15min);\n\n        //then\n        assertEquals(LocalTime.of(6, 30, 0), rounded1_5min);\n        assertEquals(LocalTime.of(19, 15, 0), rounded2_5min);\n        assertEquals(LocalTime.of(6, 30, 0), rounded1_15min);\n        assertEquals(LocalTime.of(19, 45, 0), rounded2_15min);\n\n    }\n</code></pre>\n"}],"owner":{"account_id":12533,"reputation":6464,"user_id":24744,"accept_rate":66,"display_name":"lock"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86209,"favorite_count":0,"down_vote_count":1,"up_vote_count":72,"accepted_answer_id":3553994,"answer_count":17,"score":71,"last_activity_date":1679143766,"creation_date":1282631055,"question_id":3553964,"body_markdown":"Given today&#39;s time e.g. 2:24PM, how do I get it to round to 2:30PM?\r\n\r\nSimilarly if the time was 2:17PM, how do I get it to round to 2:15PM?","title":"How to round time to the nearest quarter hour in java?","body":"<p>Given today's time e.g. 2:24PM, how do I get it to round to 2:30PM?</p>\n\n<p>Similarly if the time was 2:17PM, how do I get it to round to 2:15PM?</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":11884902,"reputation":193,"user_id":8697563,"display_name":"Santosh Sagar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679143413,"creation_date":1679143413,"question_id":75775961,"body_markdown":"I have one specific situation, lets say there is one api which takes the input and update the database. Updating the database takes close to 4 seconds. I wanted to created an api which execute only the last request based on parameter and cancel the previous request.\r\n\r\neg. putSomeDataAPI(int id, String data):\r\n\r\n```\r\nputSomeDataAPI(1, &quot;D1&quot;)\r\nputSomeDataAPI(1, &quot;D2&quot;)\r\nputSomeDataAPI(1, &quot;D3&quot;) -&gt; last call for id 1\r\n```\r\n\r\nI want to execute only last put api call...  How to achieve it ?\r\n\r\nI tried with synchronization at method level but in that case it was executing one by one and total time for api call is increasing significantly. Ideally it should take ~ 4 sec (assuming one call takes 4 sec). ","title":"Cancel previous API request based on specific parameter in spring boot","body":"<p>I have one specific situation, lets say there is one api which takes the input and update the database. Updating the database takes close to 4 seconds. I wanted to created an api which execute only the last request based on parameter and cancel the previous request.</p>\n<p>eg. putSomeDataAPI(int id, String data):</p>\n<pre><code>putSomeDataAPI(1, &quot;D1&quot;)\nputSomeDataAPI(1, &quot;D2&quot;)\nputSomeDataAPI(1, &quot;D3&quot;) -&gt; last call for id 1\n</code></pre>\n<p>I want to execute only last put api call...  How to achieve it ?</p>\n<p>I tried with synchronization at method level but in that case it was executing one by one and total time for api call is increasing significantly. Ideally it should take ~ 4 sec (assuming one call takes 4 sec).</p>\n"},{"tags":["java","mysql","google-app-engine","ssl"],"comments":[{"owner":{"account_id":3235747,"reputation":2702,"user_id":2730024,"accept_rate":86,"display_name":"mba12"},"score":1,"creation_date":1435267695,"post_id":31055623,"comment_id":50142715,"body_markdown":"Found the answer in the first solution here: http://stackoverflow.com/questions/11509751/how-to-connect-to-mysql-with-x509-using-jdbc","body":"Found the answer in the first solution here: <a href=\"http://stackoverflow.com/questions/11509751/how-to-connect-to-mysql-with-x509-using-jdbc\" title=\"how to connect to mysql with x509 using jdbc\">stackoverflow.com/questions/11509751/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6145218,"reputation":2047,"user_id":4791401,"display_name":"Danail"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1467386398,"creation_date":1445348386,"answer_id":33238248,"question_id":31055623,"body_markdown":"**mba12** I had the same problem, thanks for the answer!\r\n\r\nSo, the solution is here (as you pointed out):\r\nhttps://stackoverflow.com/questions/11509751/how-to-connect-to-mysql-with-x509-using-jdbc\r\n\r\nI also found this one:\r\nhttps://stackoverflow.com/questions/906402/importing-an-existing-x509-certificate-and-private-key-in-java-keystore-to-use-i/8224863#8224863\r\n\r\n**Just for clarification**\r\n\r\n`javax.net.ssl.keyStore` must be client cert + key combined, not just client cert as described in MySQL guide.\r\n\r\n**To summarize**\r\n\r\n1. We have:\r\n\r\n`server-ca.pem` - MySQL CA certificate, can be downloaded from &quot;SSL Configuration -&gt; View Server CA Certificate&quot;\r\n\r\n`client-cert.pem` - client public key, can be downloaded from &quot;Client Certificates -&gt; newly created certificate&quot;\r\n\r\n`client-key.pem` - client private key, can be downloaded only from &quot;New SSL Certificate created dialog box&quot;\r\n\r\nDescribed here: https://cloud.google.com/sql/docs/configure-ssl-instance\r\n\r\nLet&#39;s save them in **server-instance/** folder and create **jks/** folder for generated files in step 2.\r\n\r\n2. Create `truststore` file\r\n\r\n   2.1. Copy original JAVA&#39;s `cacerts` to `jks/truststore.jks`:\r\n\r\n   `cp $JAVA_HOME/jre/lib/security/cacerts jks/truststore.jks`\r\n\r\n   2.2. Add MySQL Server CA Certificate / Google Cloud SQL Server CA `server-ca.pem` to JAVA&#39;s default truststore `cacerts` which we&#39;ve copied in step 2.1.:\r\n\r\n   `keytool -importcert -noprompt -trustcacerts -keystore jks/truststore.jks -storepass changeit -alias googlecloudsqlservercacert -file server-instance/server-ca.pem`\r\n\r\n3. Create `keystore` file\r\n\r\n   3.1. Convert x509 certificate and private key to a pkcs12 file:\r\n\r\n  `openssl pkcs12 -export -in server-instance/client-cert.pem -inkey server-instance/client-key.pem -out jks/client.p12`\r\n\r\n   (enter mandatory password), for example: `p4ssw0rd`\r\n\r\n   3.2. Convert the pkcs12 file to a java keystore:\r\n\r\n   `keytool -importkeystore -srckeystore jks/client.p12 -srcstoretype PKCS12 -destkeystore jks/keystore.jks -deststoretype JKS`\r\n\r\n   (enter same passwords), for example: `p4ssw0rd`\r\n\r\nAbout conversion:\r\nhttp://blog.ejbca.org/2008/02/converting-keystores-between-jks-and.html","title":"Google Cloud SQL with SSL from Compute Engine and/or External Network","body":"<p><strong>mba12</strong> I had the same problem, thanks for the answer!</p>\n\n<p>So, the solution is here (as you pointed out):\n<a href=\"https://stackoverflow.com/questions/11509751/how-to-connect-to-mysql-with-x509-using-jdbc\">How to connect to MySQL with X509 using JDBC?</a></p>\n\n<p>I also found this one:\n<a href=\"https://stackoverflow.com/questions/906402/importing-an-existing-x509-certificate-and-private-key-in-java-keystore-to-use-i/8224863#8224863\">importing an existing x509 certificate and private key in Java keystore to use in ssl</a></p>\n\n<p><strong>Just for clarification</strong></p>\n\n<p><code>javax.net.ssl.keyStore</code> must be client cert + key combined, not just client cert as described in MySQL guide.</p>\n\n<p><strong>To summarize</strong></p>\n\n<ol>\n<li>We have:</li>\n</ol>\n\n<p><code>server-ca.pem</code> - MySQL CA certificate, can be downloaded from \"SSL Configuration -> View Server CA Certificate\"</p>\n\n<p><code>client-cert.pem</code> - client public key, can be downloaded from \"Client Certificates -> newly created certificate\"</p>\n\n<p><code>client-key.pem</code> - client private key, can be downloaded only from \"New SSL Certificate created dialog box\"</p>\n\n<p>Described here: <a href=\"https://cloud.google.com/sql/docs/configure-ssl-instance\" rel=\"nofollow noreferrer\">https://cloud.google.com/sql/docs/configure-ssl-instance</a></p>\n\n<p>Let's save them in <strong>server-instance/</strong> folder and create <strong>jks/</strong> folder for generated files in step 2.</p>\n\n<ol start=\"2\">\n<li><p>Create <code>truststore</code> file</p>\n\n<p>2.1. Copy original JAVA's <code>cacerts</code> to <code>jks/truststore.jks</code>:</p>\n\n<p><code>cp $JAVA_HOME/jre/lib/security/cacerts jks/truststore.jks</code></p>\n\n<p>2.2. Add MySQL Server CA Certificate / Google Cloud SQL Server CA <code>server-ca.pem</code> to JAVA's default truststore <code>cacerts</code> which we've copied in step 2.1.:</p>\n\n<p><code>keytool -importcert -noprompt -trustcacerts -keystore jks/truststore.jks -storepass changeit -alias googlecloudsqlservercacert -file server-instance/server-ca.pem</code></p></li>\n<li><p>Create <code>keystore</code> file</p>\n\n<p>3.1. Convert x509 certificate and private key to a pkcs12 file:</p>\n\n<p><code>openssl pkcs12 -export -in server-instance/client-cert.pem -inkey server-instance/client-key.pem -out jks/client.p12</code></p>\n\n<p>(enter mandatory password), for example: <code>p4ssw0rd</code></p>\n\n<p>3.2. Convert the pkcs12 file to a java keystore:</p>\n\n<p><code>keytool -importkeystore -srckeystore jks/client.p12 -srcstoretype PKCS12 -destkeystore jks/keystore.jks -deststoretype JKS</code></p>\n\n<p>(enter same passwords), for example: <code>p4ssw0rd</code></p></li>\n</ol>\n\n<p>About conversion:\n<a href=\"http://blog.ejbca.org/2008/02/converting-keystores-between-jks-and.html\" rel=\"nofollow noreferrer\">http://blog.ejbca.org/2008/02/converting-keystores-between-jks-and.html</a></p>\n"}],"owner":{"account_id":3235747,"reputation":2702,"user_id":2730024,"accept_rate":86,"display_name":"mba12"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2626,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":33238248,"answer_count":1,"score":1,"last_activity_date":1679142169,"creation_date":1435249051,"question_id":31055623,"body_markdown":"I&#39;m trying to connect to an Google Cloud SQL (MySQL instance using SSL. I&#39;ve enabled two IP addresses and a user with remote access permissions from those IP addresses. I have also generated the certificate files from Google&#39;s Developer Console.\r\n\r\n    client-key.pem client-cert.pem server-ca.pem\r\n\r\nUsing this command from each of the two enabled IP addresses I successfully make a connection.\r\n\r\n    mysql --ssl-ca=server-ca.pem --ssl-cert=client-cert.pem --ssl-key=client-key.pem --host=xxx.xxx.xxx.xxx --user=username --password\r\n\r\nSince the MySQL client works I know my firewall settings, users, certs, etc. are set up correctly.\r\n\r\nNow I&#39;d like to make a similar connection with Java from within an executable jar file.\r\n\r\nFollowing the steps outlined here: http://dev.mysql.com/doc/connector-j/en/connector-j-reference-using-ssl.html\r\n\r\n    Step 1: keytool -import -alias mysqlServerCACert -file cacert.pem -keystore truststore\r\n\r\nNOTE: I substitute server-ca.pem for cacert.pem used in the instructions\r\n\r\n    Step 2: openssl x509 -outform DER -in client-cert.pem -out client.cert\r\n    Step 3: keytool -import -file client.cert -keystore keystore -alias mysqlClientCertificate\r\n\r\nThese steps create my keystore and truststore files. I associate distinct passwords for each of these two files as they are generated.\r\n\r\nHere is the relevant Java code:\r\n\r\n    public void testConnection() throws ClassNotFoundException, SQLException,\r\n            IllegalAccessException, InstantiationException {\r\n\r\n        String path = &quot;/home/user/dir/&quot;; // path to keystore and truststore file\r\n \r\n        System.setProperty(&quot;javax.net.ssl.keyStore&quot;,path + &quot;keystore&quot;);\r\n        System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;,keyStorePassword);\r\n        System.setProperty(&quot;javax.net.ssl.trustStore&quot;,path + &quot;truststore&quot;);\r\n        System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;,trustStorePassword);\r\n\r\n        String user = &quot;dbuser&quot;;\r\n        String password = &quot;dbUserPassword&quot;;\r\n \r\n        Connection conn = null;\r\n        int i = 0;\r\n        try {\r\n            String url = &quot;jdbc:mysql://&lt;databaseip&gt;:3306/&lt;databaseName&gt;&quot;\r\n                + &quot;?verifyServerCertificate=true&quot;\r\n                + &quot;&amp;useSSL=true&quot;\r\n                + &quot;&amp;requireSSL=true&quot;;\r\n\r\n            Class dbDriver = Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            conn = DriverManager.getConnection(url, user, password);\r\n\r\n            ResultSet rs = conn.createStatement().executeQuery(\r\n                    &quot;SELECT 1 + 1 as val&quot;);\r\n\r\n            while (rs.next()) {\r\n                i = rs.getInt(1);\r\n            }\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        } finally {\r\n            if (conn != null) {\r\n                try {\r\n                    conn.close();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        System.out.println(&quot;The MySQL value is: &quot; + i);\r\n    }\r\n\r\nAgain, from both enabled IP addresses I am able to connect with the MySQL command line client with the same user and password being used in the Java code.\r\n\r\nI receive the following connection exception with the Java. Given that the MySQL client works with the same user/passwd credential I am a bit suspect of the error message. How can I get SSL up and working with Google SQL?\r\n\r\n    java.sql.SQLException: Access denied for user &#39;dbuser&#39;@&#39;xxx.xxx.xxx.xxx&#39; (using password: YES)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:946)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2985)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:885)\r\n\tat com.mysql.jdbc.MysqlIO.secureAuth411(MysqlIO.java:3421)\r\n\tat com.mysql.jdbc.MysqlIO.negotiateSSLConnection(MysqlIO.java:3988)\r\n\tat com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1293)\r\n\tat com.mysql.jdbc.Connection.createNewIO(Connection.java:2775)\r\n\tat com.mysql.jdbc.Connection.&lt;init&gt;(Connection.java:1555)\r\n\tat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:285)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:571)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:215)\r\n\tat com.test.UserData.getConnection(UserData.java:81)\r\n\tat com.test.UserData.testConnection(UserData.java:52)","title":"Google Cloud SQL with SSL from Compute Engine and/or External Network","body":"<p>I'm trying to connect to an Google Cloud SQL (MySQL instance using SSL. I've enabled two IP addresses and a user with remote access permissions from those IP addresses. I have also generated the certificate files from Google's Developer Console.</p>\n<pre><code>client-key.pem client-cert.pem server-ca.pem\n</code></pre>\n<p>Using this command from each of the two enabled IP addresses I successfully make a connection.</p>\n<pre><code>mysql --ssl-ca=server-ca.pem --ssl-cert=client-cert.pem --ssl-key=client-key.pem --host=xxx.xxx.xxx.xxx --user=username --password\n</code></pre>\n<p>Since the MySQL client works I know my firewall settings, users, certs, etc. are set up correctly.</p>\n<p>Now I'd like to make a similar connection with Java from within an executable jar file.</p>\n<p>Following the steps outlined here: <a href=\"http://dev.mysql.com/doc/connector-j/en/connector-j-reference-using-ssl.html\" rel=\"nofollow noreferrer\">http://dev.mysql.com/doc/connector-j/en/connector-j-reference-using-ssl.html</a></p>\n<pre><code>Step 1: keytool -import -alias mysqlServerCACert -file cacert.pem -keystore truststore\n</code></pre>\n<p>NOTE: I substitute server-ca.pem for cacert.pem used in the instructions</p>\n<pre><code>Step 2: openssl x509 -outform DER -in client-cert.pem -out client.cert\nStep 3: keytool -import -file client.cert -keystore keystore -alias mysqlClientCertificate\n</code></pre>\n<p>These steps create my keystore and truststore files. I associate distinct passwords for each of these two files as they are generated.</p>\n<p>Here is the relevant Java code:</p>\n<pre><code>public void testConnection() throws ClassNotFoundException, SQLException,\n        IllegalAccessException, InstantiationException {\n\n    String path = &quot;/home/user/dir/&quot;; // path to keystore and truststore file\n\n    System.setProperty(&quot;javax.net.ssl.keyStore&quot;,path + &quot;keystore&quot;);\n    System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;,keyStorePassword);\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot;,path + &quot;truststore&quot;);\n    System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;,trustStorePassword);\n\n    String user = &quot;dbuser&quot;;\n    String password = &quot;dbUserPassword&quot;;\n\n    Connection conn = null;\n    int i = 0;\n    try {\n        String url = &quot;jdbc:mysql://&lt;databaseip&gt;:3306/&lt;databaseName&gt;&quot;\n            + &quot;?verifyServerCertificate=true&quot;\n            + &quot;&amp;useSSL=true&quot;\n            + &quot;&amp;requireSSL=true&quot;;\n\n        Class dbDriver = Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n        conn = DriverManager.getConnection(url, user, password);\n\n        ResultSet rs = conn.createStatement().executeQuery(\n                &quot;SELECT 1 + 1 as val&quot;);\n\n        while (rs.next()) {\n            i = rs.getInt(1);\n        }\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    } finally {\n        if (conn != null) {\n            try {\n                conn.close();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n    System.out.println(&quot;The MySQL value is: &quot; + i);\n}\n</code></pre>\n<p>Again, from both enabled IP addresses I am able to connect with the MySQL command line client with the same user and password being used in the Java code.</p>\n<p>I receive the following connection exception with the Java. Given that the MySQL client works with the same user/passwd credential I am a bit suspect of the error message. How can I get SSL up and working with Google SQL?</p>\n<pre><code>java.sql.SQLException: Access denied for user 'dbuser'@'xxx.xxx.xxx.xxx' (using password: YES)\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:946)\nat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2985)\nat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:885)\nat com.mysql.jdbc.MysqlIO.secureAuth411(MysqlIO.java:3421)\nat com.mysql.jdbc.MysqlIO.negotiateSSLConnection(MysqlIO.java:3988)\nat com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1293)\nat com.mysql.jdbc.Connection.createNewIO(Connection.java:2775)\nat com.mysql.jdbc.Connection.&lt;init&gt;(Connection.java:1555)\nat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:285)\nat java.sql.DriverManager.getConnection(DriverManager.java:571)\nat java.sql.DriverManager.getConnection(DriverManager.java:215)\nat com.test.UserData.getConnection(UserData.java:81)\nat com.test.UserData.testConnection(UserData.java:52)\n</code></pre>\n"},{"tags":["java","unit-testing","testing","jmockit"],"answers":[{"comments":[{"owner":{"account_id":485278,"reputation":147,"user_id":901496,"display_name":"PCH"},"score":2,"creation_date":1594239652,"post_id":26492450,"comment_id":111060732,"body_markdown":"How do you verify the call?","body":"How do you verify the call?"}],"tags":[],"owner":{"account_id":4090087,"reputation":785,"user_id":3358318,"display_name":"jimmygchen"},"comment_count":1,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1413911673,"creation_date":1413911673,"answer_id":26492450,"question_id":26408253,"body_markdown":"To mock your static method:\r\n\r\n    new MockUp&lt;MyClass&gt;()\r\n    {\r\n        @Mock\r\n        boolean mockMethod( String input ) // no access modifier required\r\n        {\r\n            return true; \r\n        }\r\n    };","title":"How to mock a static method from JMockit","body":"<p>To mock your static method:</p>\n\n<pre><code>new MockUp&lt;MyClass&gt;()\n{\n    @Mock\n    boolean mockMethod( String input ) // no access modifier required\n    {\n        return true; \n    }\n};\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8325013,"reputation":1264,"user_id":6255346,"accept_rate":80,"display_name":"Ruik"},"score":3,"creation_date":1549381985,"post_id":28620110,"comment_id":95877795,"body_markdown":"Since the imports are missing here: I guess the invoke() method ist a static import of Deencapsulation.invoke(). In case anyone else wonders at first...","body":"Since the imports are missing here: I guess the invoke() method ist a static import of Deencapsulation.invoke(). In case anyone else wonders at first..."}],"tags":[],"owner":{"account_id":5817065,"reputation":91,"user_id":4586327,"display_name":"Guest Poster"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1466107932,"creation_date":1424394980,"answer_id":28620110,"question_id":26408253,"body_markdown":"To mock the static private method:\r\n\r\n    @Mocked({&quot;mockMethod&quot;})\r\n    MyClass myClass;\r\n\r\n    String result;\r\n    \r\n    @Before\r\n    public void init()\r\n    {\r\n        new Expectations(myClass)\r\n        {\r\n            {\r\n                invoke(MyClass.class, &quot;mockMethod&quot;, anyString);\r\n                returns(result);\r\n            }\r\n        }\r\n    }\r\n    \r\n    @Test\r\n    public void testMethodToTest()\r\n    {\r\n        result = &quot;true&quot;; // Replace result with what you want to test...\r\n        assertTrue( ( MyClass.methodToTest() );\r\n    } \r\n\r\nFrom JavaDoc:\r\n&gt; &lt;Object&gt; Object mockit.Invocations.invoke(Class&lt;?&gt; methodOwner, String methodName, Object... methodArgs)\r\n&gt;\r\n&gt; Specifies an expected invocation to a given static method, with a given list of arguments. \r\n\r\n\r\n","title":"How to mock a static method from JMockit","body":"<p>To mock the static private method:</p>\n\n<pre><code>@Mocked({\"mockMethod\"})\nMyClass myClass;\n\nString result;\n\n@Before\npublic void init()\n{\n    new Expectations(myClass)\n    {\n        {\n            invoke(MyClass.class, \"mockMethod\", anyString);\n            returns(result);\n        }\n    }\n}\n\n@Test\npublic void testMethodToTest()\n{\n    result = \"true\"; // Replace result with what you want to test...\n    assertTrue( ( MyClass.methodToTest() );\n} \n</code></pre>\n\n<p>From JavaDoc:</p>\n\n<blockquote>\n  <p> Object mockit.Invocations.invoke(Class methodOwner, String methodName, Object... methodArgs)</p>\n  \n  <p>Specifies an expected invocation to a given static method, with a given list of arguments. </p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":2863020,"reputation":312,"user_id":2457861,"display_name":"Kevin Yue"},"score":1,"creation_date":1666231398,"post_id":64930310,"comment_id":130888857,"body_markdown":"Looks elegant, and I personally think it can be improved further. The mocked `utils` can be moved to the parameter of the test methods. Benefits are the mocked methods only take effect within the test methods that injected the mocked parameter.","body":"Looks elegant, and I personally think it can be improved further. The mocked <code>utils</code> can be moved to the parameter of the test methods. Benefits are the mocked methods only take effect within the test methods that injected the mocked parameter."},{"owner":{"account_id":440524,"reputation":173,"user_id":830128,"accept_rate":40,"display_name":"Walter D"},"score":0,"creation_date":1679018712,"post_id":64930310,"comment_id":133649920,"body_markdown":"This code doesn&#39;t seem to work. There needs to be parenthesis after Expectations for the constructor. new Expectations() {{ instead of new Expectations {{. Also you can&#39;t declare a static method at that level.","body":"This code doesn&#39;t seem to work. There needs to be parenthesis after Expectations for the constructor. new Expectations() {{ instead of new Expectations {{. Also you can&#39;t declare a static method at that level."},{"owner":{"account_id":4243102,"reputation":3047,"user_id":5784939,"display_name":"Eugene Maysyuk"},"score":0,"creation_date":1679141712,"post_id":64930310,"comment_id":133670319,"body_markdown":"@WalterD I adjusted the code. Indeed &quot;static&quot; is non needed inside of Delegate. Should work now.","body":"@WalterD I adjusted the code. Indeed &quot;static&quot; is non needed inside of Delegate. Should work now."}],"tags":[],"owner":{"account_id":4243102,"reputation":3047,"user_id":5784939,"display_name":"Eugene Maysyuk"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1679141618,"creation_date":1605878955,"answer_id":64930310,"question_id":26408253,"body_markdown":"There is another way of mocking static methods using JMockit (using Delegate class). I find it more convenient and elegant.\r\n\r\n    public class Service {\r\n      public String addSuffix(String str) { // method to be tested\r\n        return Utils.staticMethod(str);\r\n      }\r\n    }\r\n\r\n***\r\n\r\n    public class Utils {\r\n      public static String staticMethod(String s) { // method to be mocked\r\n        String suffix = DatabaseManager.findSuffix(&quot;default_suffix&quot;);\r\n        return s.concat(suffix);\r\n      }\r\n    }\r\n***\r\n\r\n    public class Test {\r\n    \r\n      @Tested\r\n      Service service;\r\n    \r\n      @Mocked\r\n      Utils utils; // @Mocked will make sure all methods will be mocked (including static methods)\r\n    \r\n      @Test\r\n      public void test() {\r\n        new Expectations() {{\r\n          Utils.staticMethod(anyString); times = 1; result = new Delegate() {\r\n            public String staticMethod(String s) { // should have the same signature (method name and parameters) as Utils#staticMethod\r\n              return &quot;&quot;; // provide custom implementation for your Utils#staticMethod\r\n            }\r\n          }\r\n        }}\r\n        \r\n        service.addSuffix(&quot;test_value&quot;);\r\n\r\n        new Verifications() {{\r\n          String s;\r\n          Utils.staticMethod(s = withCapture()); times = 1;\r\n          assertEquals(&quot;test_value&quot;, s); // assert that Service#addSuffix propagated &quot;test_value&quot; to Utils#staticMethod\r\n        }}\r\n      }\r\n    }\r\n\r\n\r\n***\r\n\r\nReference:\r\n\r\nhttps://jmockit.github.io/tutorial/Mocking.html#delegates\r\nhttps://jmockit.github.io/tutorial/Mocking.html#withCapture","title":"How to mock a static method from JMockit","body":"<p>There is another way of mocking static methods using JMockit (using Delegate class). I find it more convenient and elegant.</p>\n<pre><code>public class Service {\n  public String addSuffix(String str) { // method to be tested\n    return Utils.staticMethod(str);\n  }\n}\n</code></pre>\n<hr />\n<pre><code>public class Utils {\n  public static String staticMethod(String s) { // method to be mocked\n    String suffix = DatabaseManager.findSuffix(&quot;default_suffix&quot;);\n    return s.concat(suffix);\n  }\n}\n</code></pre>\n<hr />\n<pre><code>public class Test {\n\n  @Tested\n  Service service;\n\n  @Mocked\n  Utils utils; // @Mocked will make sure all methods will be mocked (including static methods)\n\n  @Test\n  public void test() {\n    new Expectations() {{\n      Utils.staticMethod(anyString); times = 1; result = new Delegate() {\n        public String staticMethod(String s) { // should have the same signature (method name and parameters) as Utils#staticMethod\n          return &quot;&quot;; // provide custom implementation for your Utils#staticMethod\n        }\n      }\n    }}\n    \n    service.addSuffix(&quot;test_value&quot;);\n\n    new Verifications() {{\n      String s;\n      Utils.staticMethod(s = withCapture()); times = 1;\n      assertEquals(&quot;test_value&quot;, s); // assert that Service#addSuffix propagated &quot;test_value&quot; to Utils#staticMethod\n    }}\n  }\n}\n</code></pre>\n<hr />\n<p>Reference:</p>\n<p><a href=\"https://jmockit.github.io/tutorial/Mocking.html#delegates\" rel=\"nofollow noreferrer\">https://jmockit.github.io/tutorial/Mocking.html#delegates</a>\n<a href=\"https://jmockit.github.io/tutorial/Mocking.html#withCapture\" rel=\"nofollow noreferrer\">https://jmockit.github.io/tutorial/Mocking.html#withCapture</a></p>\n"}],"owner":{"account_id":422239,"reputation":2240,"user_id":800894,"accept_rate":33,"display_name":"Roshanck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47590,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"answer_count":3,"score":26,"last_activity_date":1679141618,"creation_date":1413473339,"question_id":26408253,"body_markdown":"I have a static method which will be invoking from test method in a class as bellow\r\n\r\n    public class MyClass\r\n    {\r\n       private static boolean mockMethod( String input )\r\n        {\r\n           boolean value;\r\n           //do something to value\r\n           return value; \r\n        }\r\n    \r\n        public static boolean methodToTest()\r\n        {\r\n           boolean getVal = mockMethod( &quot;input&quot; );\r\n           //do something to getVal\r\n           return getVal; \r\n        }\r\n    }\r\nI want to write a test case for method **methodToTest** by mocking **mockMethod**.\r\nTried as bellow and it doesn&#39;t give any output\r\n\r\n    @Before\r\n    public void init()\r\n    {\r\n        Mockit.setUpMock( MyClass.class, MyClassMocked.class );\r\n    }\r\n    \r\n    public static class MyClassMocked extends MockUp&lt;MyClass&gt;\r\n    {\r\n        @Mock\r\n        private static boolean mockMethod( String input )\r\n        {\r\n            return true;\r\n        }\r\n    }\r\n    \r\n    @Test\r\n    public void testMethodToTest()\r\n    {\r\n        assertTrue( ( MyClass.methodToTest() );\r\n    } \r\n\r\n ","title":"How to mock a static method from JMockit","body":"<p>I have a static method which will be invoking from test method in a class as bellow</p>\n\n<pre><code>public class MyClass\n{\n   private static boolean mockMethod( String input )\n    {\n       boolean value;\n       //do something to value\n       return value; \n    }\n\n    public static boolean methodToTest()\n    {\n       boolean getVal = mockMethod( \"input\" );\n       //do something to getVal\n       return getVal; \n    }\n}\n</code></pre>\n\n<p>I want to write a test case for method <strong>methodToTest</strong> by mocking <strong>mockMethod</strong>.\nTried as bellow and it doesn't give any output</p>\n\n<pre><code>@Before\npublic void init()\n{\n    Mockit.setUpMock( MyClass.class, MyClassMocked.class );\n}\n\npublic static class MyClassMocked extends MockUp&lt;MyClass&gt;\n{\n    @Mock\n    private static boolean mockMethod( String input )\n    {\n        return true;\n    }\n}\n\n@Test\npublic void testMethodToTest()\n{\n    assertTrue( ( MyClass.methodToTest() );\n} \n</code></pre>\n"},{"tags":["java","micronaut"],"answers":[{"comments":[{"owner":{"account_id":17314251,"reputation":454,"user_id":12541118,"display_name":"AchoVasilev"},"score":0,"creation_date":1679337353,"post_id":75775780,"comment_id":133700519,"body_markdown":"Also adding this implementation &#39;org.slf4j:jcl-over-slf4j&#39; will work.","body":"Also adding this implementation &#39;org.slf4j:jcl-over-slf4j&#39; will work."}],"tags":[],"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679141208,"creation_date":1679141208,"answer_id":75775780,"question_id":75775159,"body_markdown":"As stacktrace says\r\n\r\n&gt; java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory\r\n\r\nYou are missing class *LogFactory* that is required for *BCryptPasswordEncoder* class. Spring security uses this old dependency for logging purposes, and Spring projects are using spring-jcl to fix it. You need to add spring-jcl to you build.gradle dependencies section, \r\n\r\n    implementation &#39;org.springframework:spring-jcl:5.3.25&#39;\r\n\r\nSpring JCL (Java Class Library) is a utility library that provides common functionality to Spring-related projects. It includes classes for logging, resource loading, and other common tasks that are used across multiple Spring modules.\r\n","title":"Unable to set PasswordEncoder in Micronaut","body":"<p>As stacktrace says</p>\n<blockquote>\n<p>java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory</p>\n</blockquote>\n<p>You are missing class <em>LogFactory</em> that is required for <em>BCryptPasswordEncoder</em> class. Spring security uses this old dependency for logging purposes, and Spring projects are using spring-jcl to fix it. You need to add spring-jcl to you build.gradle dependencies section,</p>\n<pre><code>implementation 'org.springframework:spring-jcl:5.3.25'\n</code></pre>\n<p>Spring JCL (Java Class Library) is a utility library that provides common functionality to Spring-related projects. It includes classes for logging, resource loading, and other common tasks that are used across multiple Spring modules.</p>\n"}],"owner":{"account_id":17314251,"reputation":454,"user_id":12541118,"display_name":"AchoVasilev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75775780,"answer_count":1,"score":0,"last_activity_date":1679141208,"creation_date":1679134128,"question_id":75775159,"body_markdown":"I am very new to the Micronaut framework and decided to try it on a project, that I am working on. \r\n\r\nI have a problem where I am trying to register a user. I have followed this guide https://guides.micronaut.io/latest/micronaut-database-authentication-provider-gradle-groovy.html but extracted the logic from the AuthenticationProvider to an Authentication Service so I ended up with this:\r\n\r\n    @Singleton\r\n    public class UserAuthProvider implements AuthenticationProvider {\r\n        private final AuthService authService;\r\n    \r\n        public UserAuthProvider(AuthService authService) {\r\n            this.authService = authService;\r\n        }\r\n    \r\n        @Override\r\n        public Publisher&lt;AuthenticationResponse&gt; authenticate(HttpRequest&lt;?&gt; httpRequest, AuthenticationRequest&lt;?, ?&gt; authenticationRequest) {\r\n            return Flux.create(emitter -&gt; {\r\n                var username = authenticationRequest.getIdentity().toString();\r\n                var password = authenticationRequest.getSecret().toString();\r\n    \r\n                var user = this.authService.getValidatedUser(username, password);\r\n                if (user != null) {\r\n                    emitter.next(AuthenticationResponse.success(username, List.of(user.roleId().toString())));\r\n                    emitter.complete();\r\n                } else  {\r\n                    emitter.error(AuthenticationResponse.exception());\r\n                }\r\n            }, FluxSink.OverflowStrategy.ERROR);\r\n        }\r\n    }\r\n\r\nHere is the code in the AuthService:\r\n\r\n    @Singleton\r\n    public class AuthService {\r\n        private final UserRepository userRepository;\r\n        private final PasswordEncoder passwordEncoder;\r\n        private final RoleRepository roleRepository;\r\n    \r\n        public AuthService(UserRepository userRepository, PasswordEncoder passwordEncoder, RoleRepository roleRepository) {\r\n            this.userRepository = userRepository;\r\n            this.passwordEncoder = passwordEncoder;\r\n            this.roleRepository = roleRepository;\r\n        }\r\n    \r\n        public void register(RegistrationRequest registrationRequest) {\r\n            var user = this.userRepository.findByEmailEmail(registrationRequest.email());\r\n            if (user.isPresent()) {\r\n                throw new EntityAlreadyExistsException(String.format(EMAIL_ALREADY_EXISTS,registrationRequest.email()));\r\n            }\r\n    \r\n            var role = this.roleRepository.findByName(RoleEnum.ROLE_PARENT)\r\n                    .orElseThrow(() -&gt; new EntityNotFoundException(ENTITY_NOT_FOUND));\r\n    \r\n            var newUser = new ApplicationUser(\r\n                    new Email(registrationRequest.email()),\r\n                    this.passwordEncoder.encode(registrationRequest.password()),\r\n                    registrationRequest.firstName(),\r\n                    registrationRequest.middleName(),\r\n                    registrationRequest.lastName(),\r\n                    new MobilePhone(registrationRequest.phoneNumber()),\r\n                    role\r\n            );\r\n    \r\n            var patient = new Parent();\r\n            newUser.setParent(patient);\r\n    \r\n            this.userRepository.save(newUser);\r\n        }\r\n    \r\n        public UserDto getValidatedUser(String username, String password) {\r\n            if (this.validateCredentials(username, password)) {\r\n                return this.findByEmail(username);\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        private boolean validateCredentials(String username, String password) {\r\n            var user = this.userRepository.findByEmailEmail(username)\r\n                    .orElseThrow(() -&gt; new EntityNotFoundException(ENTITY_NOT_FOUND));\r\n    \r\n            return this.passwordEncoder.matches(password, user.getPassword());\r\n        }\r\n    \r\n        public UserDto findByEmail(String email) {\r\n            return this.userRepository.findByEmailEmail(email)\r\n                    .map(u -&gt; new UserDto(\r\n                            u.getId(),\r\n                            u.getFirstName(),\r\n                            u.getLastName(),\r\n                            u.getEmail().getEmail(),\r\n                            u.getRole().getId()))\r\n                    .orElseThrow(() -&gt; new EntityNotFoundException(ENTITY_NOT_FOUND));\r\n        }\r\n    }\r\n\r\nEvery time I try to create a POST request to register a user I get this error:\r\n\r\n11:51:21.631 [default-nioEventLoopGroup-1-2] WARN  i.n.c.AbstractChannelHandlerContext - An exception &#39;io.micronaut.context.exceptions.BeanInstantiationException: Error instantiating bean of type  [server.application.services.auth.AuthService]\r\n\r\nMessage: org/apache/commons/logging/LogFactory\r\nPath Taken: new SecurityFilter(Collection securityRules,Collection authenticationFetchers,SecurityConfiguration securityConfiguration) --&gt; new SecurityFilter(Collection securityRules,[Collection authenticationFetchers],SecurityConfiguration securityConfiguration) --&gt; new BasicAuthAuthenticationFetcher([Authenticator authenticator]) --&gt; new Authenticator([Collection authenticationProviders],SecurityConfiguration securityConfiguration) --&gt; new UserAuthProvider([AuthService authService]) --&gt; new AuthService(UserRepository userRepository,[PasswordEncoder passwordEncoder],RoleRepository roleRepository)&#39; [enable DEBUG level for full stacktrace] was thrown by a user handler&#39;s exceptionCaught() method while handling the following exception:\r\nio.micronaut.context.exceptions.BeanInstantiationException: Error instantiating bean of type  [server.application.services.auth.AuthService]\r\n\r\nMessage: org/apache/commons/logging/LogFactory\r\nPath Taken: new SecurityFilter(Collection securityRules,Collection authenticationFetchers,SecurityConfiguration securityConfiguration) --&gt; new SecurityFilter(Collection securityRules,[Collection authenticationFetchers],SecurityConfiguration securityConfiguration) --&gt; new BasicAuthAuthenticationFetcher([Authenticator authenticator]) --&gt; new Authenticator([Collection authenticationProviders],SecurityConfiguration securityConfiguration) --&gt; new UserAuthProvider([AuthService authService]) --&gt; new AuthService(UserRepository userRepository,[PasswordEncoder passwordEncoder],RoleRepository roleRepository)\r\n\r\nNot to paste the whore stacktrace, but here is the end of it, that makes me think that there is some kind of error instanciating the PasswordEncoder:\r\n\r\nCaused by: java.lang.NoClassDefFoundError: org/apache/commons/logging/LogFactory\r\n\r\n\tat org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.&lt;init&gt;(BCryptPasswordEncoder.java:40)\r\n\tat org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.&lt;init&gt;(BCryptPasswordEncoder.java:79)\r\n\tat org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.&lt;init&gt;(BCryptPasswordEncoder.java:56)\r\n\tat org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.&lt;init&gt;(BCryptPasswordEncoder.java:49)\r\n\tat server.infrastructure.config.encoding.AuthPasswordEncoderService.&lt;init&gt;(AuthPasswordEncoderService.java:9)\r\n\tat server.infrastructure.config.encoding.$AuthPasswordEncoderService$Definition.build(Unknown Source)\r\n\tat io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2331)\r\n\t... 162 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory\r\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory\r\n\r\nThis is how the AuthPasswordEncoderService looks like:\r\n\r\n    package server.infrastructure.config.encoding;\r\n    \r\n    import jakarta.inject.Singleton;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    \r\n    @Singleton\r\n    public class AuthPasswordEncoderService implements PasswordEncoder {\r\n        PasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\r\n    \r\n        @Override\r\n        public String encode(CharSequence rawPassword) {\r\n            return this.passwordEncoder.encode(rawPassword);\r\n        }\r\n    \r\n        @Override\r\n        public boolean matches(CharSequence rawPassword, String encodedPassword) {\r\n            return this.passwordEncoder.matches(rawPassword, encodedPassword);\r\n        }\r\n    }\r\n\r\n","title":"Unable to set PasswordEncoder in Micronaut","body":"<p>I am very new to the Micronaut framework and decided to try it on a project, that I am working on.</p>\n<p>I have a problem where I am trying to register a user. I have followed this guide <a href=\"https://guides.micronaut.io/latest/micronaut-database-authentication-provider-gradle-groovy.html\" rel=\"nofollow noreferrer\">https://guides.micronaut.io/latest/micronaut-database-authentication-provider-gradle-groovy.html</a> but extracted the logic from the AuthenticationProvider to an Authentication Service so I ended up with this:</p>\n<pre><code>@Singleton\npublic class UserAuthProvider implements AuthenticationProvider {\n    private final AuthService authService;\n\n    public UserAuthProvider(AuthService authService) {\n        this.authService = authService;\n    }\n\n    @Override\n    public Publisher&lt;AuthenticationResponse&gt; authenticate(HttpRequest&lt;?&gt; httpRequest, AuthenticationRequest&lt;?, ?&gt; authenticationRequest) {\n        return Flux.create(emitter -&gt; {\n            var username = authenticationRequest.getIdentity().toString();\n            var password = authenticationRequest.getSecret().toString();\n\n            var user = this.authService.getValidatedUser(username, password);\n            if (user != null) {\n                emitter.next(AuthenticationResponse.success(username, List.of(user.roleId().toString())));\n                emitter.complete();\n            } else  {\n                emitter.error(AuthenticationResponse.exception());\n            }\n        }, FluxSink.OverflowStrategy.ERROR);\n    }\n}\n</code></pre>\n<p>Here is the code in the AuthService:</p>\n<pre><code>@Singleton\npublic class AuthService {\n    private final UserRepository userRepository;\n    private final PasswordEncoder passwordEncoder;\n    private final RoleRepository roleRepository;\n\n    public AuthService(UserRepository userRepository, PasswordEncoder passwordEncoder, RoleRepository roleRepository) {\n        this.userRepository = userRepository;\n        this.passwordEncoder = passwordEncoder;\n        this.roleRepository = roleRepository;\n    }\n\n    public void register(RegistrationRequest registrationRequest) {\n        var user = this.userRepository.findByEmailEmail(registrationRequest.email());\n        if (user.isPresent()) {\n            throw new EntityAlreadyExistsException(String.format(EMAIL_ALREADY_EXISTS,registrationRequest.email()));\n        }\n\n        var role = this.roleRepository.findByName(RoleEnum.ROLE_PARENT)\n                .orElseThrow(() -&gt; new EntityNotFoundException(ENTITY_NOT_FOUND));\n\n        var newUser = new ApplicationUser(\n                new Email(registrationRequest.email()),\n                this.passwordEncoder.encode(registrationRequest.password()),\n                registrationRequest.firstName(),\n                registrationRequest.middleName(),\n                registrationRequest.lastName(),\n                new MobilePhone(registrationRequest.phoneNumber()),\n                role\n        );\n\n        var patient = new Parent();\n        newUser.setParent(patient);\n\n        this.userRepository.save(newUser);\n    }\n\n    public UserDto getValidatedUser(String username, String password) {\n        if (this.validateCredentials(username, password)) {\n            return this.findByEmail(username);\n        }\n\n        return null;\n    }\n\n    private boolean validateCredentials(String username, String password) {\n        var user = this.userRepository.findByEmailEmail(username)\n                .orElseThrow(() -&gt; new EntityNotFoundException(ENTITY_NOT_FOUND));\n\n        return this.passwordEncoder.matches(password, user.getPassword());\n    }\n\n    public UserDto findByEmail(String email) {\n        return this.userRepository.findByEmailEmail(email)\n                .map(u -&gt; new UserDto(\n                        u.getId(),\n                        u.getFirstName(),\n                        u.getLastName(),\n                        u.getEmail().getEmail(),\n                        u.getRole().getId()))\n                .orElseThrow(() -&gt; new EntityNotFoundException(ENTITY_NOT_FOUND));\n    }\n}\n</code></pre>\n<p>Every time I try to create a POST request to register a user I get this error:</p>\n<p>11:51:21.631 [default-nioEventLoopGroup-1-2] WARN  i.n.c.AbstractChannelHandlerContext - An exception 'io.micronaut.context.exceptions.BeanInstantiationException: Error instantiating bean of type  [server.application.services.auth.AuthService]</p>\n<p>Message: org/apache/commons/logging/LogFactory\nPath Taken: new SecurityFilter(Collection securityRules,Collection authenticationFetchers,SecurityConfiguration securityConfiguration) --&gt; new SecurityFilter(Collection securityRules,[Collection authenticationFetchers],SecurityConfiguration securityConfiguration) --&gt; new BasicAuthAuthenticationFetcher([Authenticator authenticator]) --&gt; new Authenticator([Collection authenticationProviders],SecurityConfiguration securityConfiguration) --&gt; new UserAuthProvider([AuthService authService]) --&gt; new AuthService(UserRepository userRepository,[PasswordEncoder passwordEncoder],RoleRepository roleRepository)' [enable DEBUG level for full stacktrace] was thrown by a user handler's exceptionCaught() method while handling the following exception:\nio.micronaut.context.exceptions.BeanInstantiationException: Error instantiating bean of type  [server.application.services.auth.AuthService]</p>\n<p>Message: org/apache/commons/logging/LogFactory\nPath Taken: new SecurityFilter(Collection securityRules,Collection authenticationFetchers,SecurityConfiguration securityConfiguration) --&gt; new SecurityFilter(Collection securityRules,[Collection authenticationFetchers],SecurityConfiguration securityConfiguration) --&gt; new BasicAuthAuthenticationFetcher([Authenticator authenticator]) --&gt; new Authenticator([Collection authenticationProviders],SecurityConfiguration securityConfiguration) --&gt; new UserAuthProvider([AuthService authService]) --&gt; new AuthService(UserRepository userRepository,[PasswordEncoder passwordEncoder],RoleRepository roleRepository)</p>\n<p>Not to paste the whore stacktrace, but here is the end of it, that makes me think that there is some kind of error instanciating the PasswordEncoder:</p>\n<p>Caused by: java.lang.NoClassDefFoundError: org/apache/commons/logging/LogFactory</p>\n<pre><code>at org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.&lt;init&gt;(BCryptPasswordEncoder.java:40)\nat org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.&lt;init&gt;(BCryptPasswordEncoder.java:79)\nat org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.&lt;init&gt;(BCryptPasswordEncoder.java:56)\nat org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.&lt;init&gt;(BCryptPasswordEncoder.java:49)\nat server.infrastructure.config.encoding.AuthPasswordEncoderService.&lt;init&gt;(AuthPasswordEncoderService.java:9)\nat server.infrastructure.config.encoding.$AuthPasswordEncoderService$Definition.build(Unknown Source)\nat io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2331)\n... 162 common frames omitted\n</code></pre>\n<p>Caused by: java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory</p>\n<p>This is how the AuthPasswordEncoderService looks like:</p>\n<pre><code>package server.infrastructure.config.encoding;\n\nimport jakarta.inject.Singleton;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\n@Singleton\npublic class AuthPasswordEncoderService implements PasswordEncoder {\n    PasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\n\n    @Override\n    public String encode(CharSequence rawPassword) {\n        return this.passwordEncoder.encode(rawPassword);\n    }\n\n    @Override\n    public boolean matches(CharSequence rawPassword, String encodedPassword) {\n        return this.passwordEncoder.matches(rawPassword, encodedPassword);\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679139721,"post_id":75775266,"comment_id":133670037,"body_markdown":"Please don&#39;t put tags (like `(Android)`) in the title. That is what question tags are for.","body":"Please don&#39;t put tags (like <code>(Android)</code>) in the title. That is what question tags are for."},{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1679139797,"post_id":75775266,"comment_id":133670051,"body_markdown":"`Notes.add(new NotesID(&quot;title&quot;));` Add more notes by adding more to the `Notes` `ArrayList`. Then notify the adapter the dataset has changed","body":"<code>Notes.add(new NotesID(&quot;title&quot;));</code> Add more notes by adding more to the <code>Notes</code> <code>ArrayList</code>. Then notify the adapter the dataset has changed"}],"owner":{"account_id":28049415,"reputation":1,"user_id":21425563,"display_name":"Andrius G."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679140773,"creation_date":1679135133,"question_id":75775266,"body_markdown":"I am new in Android. I&#39;m trying to create so that every button &quot;saveBtn&quot; clicked, a new item will show in list.\r\n\r\nMainActivity.java\r\n\r\n```\r\n    ListView list;\r\n    ArrayAdapter&lt;String&gt; NotesAdapter;\r\n    ArrayList&lt;NotesID&gt; Notes;\r\n\r\n.....\r\n\r\n      list = (ListView) findViewById(R.id.list);\r\n        Notes = new ArrayList&lt;NotesID&gt;();\r\n        NotesAdapter = new ArrayAdapter(this, android.R.layout.simple_list_item_1, Notes);\r\n\r\n        title = getIntent().getStringExtra(&quot;title&quot;);\r\n        int imageResourceId = getIntent().getIntExtra(&quot;imageNote&quot;, 0);\r\n        ImageView imageView = findViewById(R.id.noteIcon);\r\n        if (imageResourceId != 0) {\r\n            imageView.setImageResource(imageResourceId);}\r\n//            Notes.add(&quot;&quot; + title);\r\n        Notes.add(new NotesID(&quot;title&quot;));\r\n\r\n            list.setAdapter(NotesAdapter);\r\n            NotesAdapter.notifyDataSetChanged();\r\n```\r\n newNote.java\r\n\r\n```\r\nublic class newNote extends AppCompatActivity {\r\n    FloatingActionButton saveBtn;\r\n    EditText newNoteTitle;\r\n    EditText newNotetxt;\r\n    String title;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_new_note);\r\n\r\n        saveBtn = findViewById(R.id.saveBtn);\r\n        newNoteTitle = (EditText) findViewById(R.id.newNoteTitle);\r\n        newNotetxt = (EditText) findViewById(R.id.newNotetxt);\r\n\r\n//        title = newNoteTitle.getText().toString();\r\n\r\n        saveBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n//                int imageResourceId = R.drawable.ic_newnote;\r\n                title = newNoteTitle.getText().toString();\r\n                Intent i = new Intent(newNote.this, MainActivity.class);\r\n                i.putExtra(&quot;title&quot;, title);\r\n//                i.putExtra(&quot;imageNote&quot;, imageResourceId);\r\n                startActivity(i);\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n```\r\nNotesID.java\r\n\r\n```\r\npublic class NotesID {\r\n    private String title;\r\n\r\n    public NotesID(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n    public void setTitle(String text) {\r\n        this.title = title;\r\n    }\r\n}\r\n```\r\n\r\nI know how to create just one line in a list, which is what I want. But I can&#39;t manage to create a second, third and etc lines of list.","title":"Need Help. Trying to create new list item every button clicked with new text","body":"<p>I am new in Android. I'm trying to create so that every button &quot;saveBtn&quot; clicked, a new item will show in list.</p>\n<p>MainActivity.java</p>\n<pre><code>    ListView list;\n    ArrayAdapter&lt;String&gt; NotesAdapter;\n    ArrayList&lt;NotesID&gt; Notes;\n\n.....\n\n      list = (ListView) findViewById(R.id.list);\n        Notes = new ArrayList&lt;NotesID&gt;();\n        NotesAdapter = new ArrayAdapter(this, android.R.layout.simple_list_item_1, Notes);\n\n        title = getIntent().getStringExtra(&quot;title&quot;);\n        int imageResourceId = getIntent().getIntExtra(&quot;imageNote&quot;, 0);\n        ImageView imageView = findViewById(R.id.noteIcon);\n        if (imageResourceId != 0) {\n            imageView.setImageResource(imageResourceId);}\n//            Notes.add(&quot;&quot; + title);\n        Notes.add(new NotesID(&quot;title&quot;));\n\n            list.setAdapter(NotesAdapter);\n            NotesAdapter.notifyDataSetChanged();\n</code></pre>\n<p>newNote.java</p>\n<pre><code>ublic class newNote extends AppCompatActivity {\n    FloatingActionButton saveBtn;\n    EditText newNoteTitle;\n    EditText newNotetxt;\n    String title;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_new_note);\n\n        saveBtn = findViewById(R.id.saveBtn);\n        newNoteTitle = (EditText) findViewById(R.id.newNoteTitle);\n        newNotetxt = (EditText) findViewById(R.id.newNotetxt);\n\n//        title = newNoteTitle.getText().toString();\n\n        saveBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n//                int imageResourceId = R.drawable.ic_newnote;\n                title = newNoteTitle.getText().toString();\n                Intent i = new Intent(newNote.this, MainActivity.class);\n                i.putExtra(&quot;title&quot;, title);\n//                i.putExtra(&quot;imageNote&quot;, imageResourceId);\n                startActivity(i);\n            }\n        });\n\n    }\n}\n</code></pre>\n<p>NotesID.java</p>\n<pre><code>public class NotesID {\n    private String title;\n\n    public NotesID(String title) {\n        this.title = title;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n    public void setTitle(String text) {\n        this.title = title;\n    }\n}\n</code></pre>\n<p>I know how to create just one line in a list, which is what I want. But I can't manage to create a second, third and etc lines of list.</p>\n"},{"tags":["java","swing","graphics","interface","jtextarea"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1679137171,"post_id":75775049,"comment_id":133669670,"body_markdown":"Set `setVisible` of the frame AFTER you&#39;ve added ALL the components to the UI","body":"Set <code>setVisible</code> of the frame AFTER you&#39;ve added ALL the components to the UI"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679139178,"post_id":75775049,"comment_id":133669965,"body_markdown":"hard-coded sizing/locating of components is __wrong__, always - instead learn how to use layoutManagers, see f.i. https://docs.oracle.com/javase/tutorial/uiswing/layout/","body":"hard-coded sizing/locating of components is <b>wrong</b>, always - instead learn how to use layoutManagers, see f.i. <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/layout</a>"}],"answers":[{"tags":[],"owner":{"account_id":2675582,"reputation":1012,"user_id":2312064,"display_name":"krzydyn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679140502,"creation_date":1679140502,"answer_id":75775722,"question_id":75775049,"body_markdown":"1. leave default JFrame layout (BOrderLayout)\r\n2. do not set textarea bounds - layout manages the objects inside\r\n3. call frame.setVisible as last\r\n","title":"textArea appear only if you minimize or select the text, how do i fix this?","body":"<ol>\n<li>leave default JFrame layout (BOrderLayout)</li>\n<li>do not set textarea bounds - layout manages the objects inside</li>\n<li>call frame.setVisible as last</li>\n</ol>\n"}],"owner":{"account_id":28042463,"reputation":13,"user_id":21419792,"display_name":"Apponio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75775722,"answer_count":1,"score":1,"last_activity_date":1679140502,"creation_date":1679132776,"question_id":75775049,"body_markdown":"Im doing my first graphic interface but i faced this problem, the text area textArea appear only if you minimize or select the text.\r\nI tried many things but nothing worked, can somebody help?\r\n\r\nhere is the code:\r\n\r\n    package lln_urn;\r\n\r\n    import java.awt.Font;\r\n    import java.awt.GridLayout;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JTextArea;\r\n\r\n\r\n    public class Urn {\r\n        //ATTRIBUTES\r\n    \r\n        //main frame\r\n        private final JFrame frame;\r\n    \r\n        //various components\r\n        private final JTextArea explanation_textarea;\r\n        \r\n        //font\r\n        private final Font font = new Font(&quot;Segoe&quot;, Font.BOLD, 20);\r\n    \r\n    \r\n        //CONSTRUCT\r\n        public Urn() {\r\n        \r\n            //setup of the window\r\n            frame = new JFrame(&quot;Law of large numbers&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setSize(400, 320);\r\n            frame.setLayout(new GridLayout(1,1));\r\n            frame.setResizable(false);\r\n            frame.setVisible(true);\r\n        \r\n            //textarea\r\n            explanation_textarea = new JTextArea();\r\n            explanation_textarea.setBounds(5,0,300,50);\r\n            explanation_textarea.setText(&quot;In this urn there are 2000 balls&quot;);\r\n            explanation_textarea.setEditable(false);\r\n                \r\n            //adding components\r\n            frame.add(explanation_textarea);\r\n        \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Urn urn = new Urn();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n[the output that i get](https://i.stack.imgur.com/O1fbC.png)\r\n[how it looks after i minimize and take it out](https://i.stack.imgur.com/Bxten.png)\r\n\r\n\r\nI tried:\r\nsetting bounds to different size,\r\nsetting to editable,\r\nchange the layout,\r\nchange the background and text color,\r\nadd the textarea to a panel,\r\nupdate the jdk,\r\n\r\nNothing solved the problem, i have no idea what else to try.","title":"textArea appear only if you minimize or select the text, how do i fix this?","body":"<p>Im doing my first graphic interface but i faced this problem, the text area textArea appear only if you minimize or select the text.\nI tried many things but nothing worked, can somebody help?</p>\n<p>here is the code:</p>\n<pre><code>package lln_urn;\n\nimport java.awt.Font;\nimport java.awt.GridLayout;\nimport javax.swing.JFrame;\nimport javax.swing.JTextArea;\n\n\npublic class Urn {\n    //ATTRIBUTES\n\n    //main frame\n    private final JFrame frame;\n\n    //various components\n    private final JTextArea explanation_textarea;\n    \n    //font\n    private final Font font = new Font(&quot;Segoe&quot;, Font.BOLD, 20);\n\n\n    //CONSTRUCT\n    public Urn() {\n    \n        //setup of the window\n        frame = new JFrame(&quot;Law of large numbers&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(400, 320);\n        frame.setLayout(new GridLayout(1,1));\n        frame.setResizable(false);\n        frame.setVisible(true);\n    \n        //textarea\n        explanation_textarea = new JTextArea();\n        explanation_textarea.setBounds(5,0,300,50);\n        explanation_textarea.setText(&quot;In this urn there are 2000 balls&quot;);\n        explanation_textarea.setEditable(false);\n            \n        //adding components\n        frame.add(explanation_textarea);\n    \n    }\n\n    public static void main(String[] args) {\n        Urn urn = new Urn();\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/O1fbC.png\" rel=\"nofollow noreferrer\">the output that i get</a>\n<a href=\"https://i.stack.imgur.com/Bxten.png\" rel=\"nofollow noreferrer\">how it looks after i minimize and take it out</a></p>\n<p>I tried:\nsetting bounds to different size,\nsetting to editable,\nchange the layout,\nchange the background and text color,\nadd the textarea to a panel,\nupdate the jdk,</p>\n<p>Nothing solved the problem, i have no idea what else to try.</p>\n"},{"tags":["java","spring","unit-testing","design-patterns","dependency-injection"],"comments":[{"owner":{"account_id":97618,"reputation":168086,"user_id":264697,"accept_rate":100,"display_name":"Steven"},"score":1,"creation_date":1679154697,"post_id":75775621,"comment_id":133672434,"body_markdown":"I would prefer a third option, which to [prevent the use of factories](https://blogs.cuttingedge.it/steven/p/abstract-factories/), inject the validator through the constructor, and pass the runtime data object `Account` to the validator solely through the `isValid` method, thus preventing the [code smell of injecting runtime data in components during construction](https://blogs.cuttingedge.it/steven/p/runtime-data/).","body":"I would prefer a third option, which to <a href=\"https://blogs.cuttingedge.it/steven/p/abstract-factories/\" rel=\"nofollow noreferrer\">prevent the use of factories</a>, inject the validator through the constructor, and pass the runtime data object <code>Account</code> to the validator solely through the <code>isValid</code> method, thus preventing the <a href=\"https://blogs.cuttingedge.it/steven/p/runtime-data/\" rel=\"nofollow noreferrer\">code smell of injecting runtime data in components during construction</a>."}],"answers":[{"comments":[{"owner":{"account_id":962360,"reputation":2794,"user_id":986437,"accept_rate":53,"display_name":"GionJh"},"score":0,"creation_date":1679141676,"post_id":75775711,"comment_id":133670316,"body_markdown":"so ObjectProvider&lt;MyValidator&gt; would act as a factory and be constructor injected right ?","body":"so ObjectProvider&lt;MyValidator&gt; would act as a factory and be constructor injected right ?"},{"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"score":0,"creation_date":1679144922,"post_id":75775711,"comment_id":133670810,"body_markdown":"yes............","body":"yes............"}],"tags":[],"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679140419,"creation_date":1679140419,"answer_id":75775711,"question_id":75775621,"body_markdown":"The simple answer is that you can just make `AccountValidator` a managed spring bean. You can accomplish this the same way that you made this class (MyService), or how you would have made the factory classes you describe, managed - by adding @Component.\r\n\r\nIf you need to preserve the semantics, e.g. if this bean is not thread safe and you need to create new ones every time, you can make it a protype bean.\r\n\r\nHere is an example, and you can see that it is being injected in a way that is using spring libraries without your own factories. it will print:\r\n\r\n```\r\nExample.MyValidator(id=0)\r\nExample.MyValidator(id=1)\r\nExample.MyValidator(id=2)\r\n```\r\n\r\nhere is the code:\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport lombok.ToString;\r\nimport org.springframework.beans.factory.ObjectProvider;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.config.ConfigurableBeanFactory;\r\nimport org.springframework.boot.ApplicationRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Scope;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\n@SpringBootApplication\r\npublic class Example {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Example.class, args);\r\n    }\r\n\r\n    @Autowired\r\n    MyService myService;\r\n    @Autowired\r\n    ConfigurableApplicationContext context;\r\n\r\n    @Bean\r\n    ApplicationRunner applicationRunner() {\r\n        return args -&gt; {\r\n            for (int i = 0; i &lt; 3; i++) {\r\n                System.out.println(myService.state());\r\n            }\r\n            context.close();\r\n        };\r\n    }\r\n\r\n    @Service\r\n    static class MyService {\r\n        private final ObjectProvider&lt;MyValidator&gt; myValidators;\r\n\r\n        MyService(ObjectProvider&lt;MyValidator&gt; myValidators) {\r\n            this.myValidators = myValidators;\r\n        }\r\n\r\n        String state() {\r\n            return myValidators.getObject().toString();\r\n        }\r\n    }\r\n\r\n    @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n    @Component\r\n    @ToString\r\n    static class MyValidator {\r\n        private static final AtomicInteger counter = new AtomicInteger();\r\n        private final int id;\r\n\r\n        MyValidator() {\r\n            this.id = counter.getAndIncrement();\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Dependency injection how to avoid hiding dependencies to stateful objects like a validator","body":"<p>The simple answer is that you can just make <code>AccountValidator</code> a managed spring bean. You can accomplish this the same way that you made this class (MyService), or how you would have made the factory classes you describe, managed - by adding @Component.</p>\n<p>If you need to preserve the semantics, e.g. if this bean is not thread safe and you need to create new ones every time, you can make it a protype bean.</p>\n<p>Here is an example, and you can see that it is being injected in a way that is using spring libraries without your own factories. it will print:</p>\n<pre><code>Example.MyValidator(id=0)\nExample.MyValidator(id=1)\nExample.MyValidator(id=2)\n</code></pre>\n<p>here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport lombok.ToString;\nimport org.springframework.beans.factory.ObjectProvider;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.config.ConfigurableBeanFactory;\nimport org.springframework.boot.ApplicationRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Scope;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Service;\n\nimport java.util.concurrent.atomic.AtomicInteger;\n\n@SpringBootApplication\npublic class Example {\n    public static void main(String[] args) {\n        SpringApplication.run(Example.class, args);\n    }\n\n    @Autowired\n    MyService myService;\n    @Autowired\n    ConfigurableApplicationContext context;\n\n    @Bean\n    ApplicationRunner applicationRunner() {\n        return args -&gt; {\n            for (int i = 0; i &lt; 3; i++) {\n                System.out.println(myService.state());\n            }\n            context.close();\n        };\n    }\n\n    @Service\n    static class MyService {\n        private final ObjectProvider&lt;MyValidator&gt; myValidators;\n\n        MyService(ObjectProvider&lt;MyValidator&gt; myValidators) {\n            this.myValidators = myValidators;\n        }\n\n        String state() {\n            return myValidators.getObject().toString();\n        }\n    }\n\n    @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\n    @Component\n    @ToString\n    static class MyValidator {\n        private static final AtomicInteger counter = new AtomicInteger();\n        private final int id;\n\n        MyValidator() {\n            this.id = counter.getAndIncrement();\n        }\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":962360,"reputation":2794,"user_id":986437,"accept_rate":53,"display_name":"GionJh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679171598,"accepted_answer_id":75775711,"answer_count":1,"score":0,"last_activity_date":1679140419,"creation_date":1679139552,"question_id":75775621,"body_markdown":"I would like to have your opinion about such a situation, the code is quite simple\r\nto should be easy to follow:\r\n\r\n\r\n```\r\n@Component\r\nclass MyService {\r\n\t\r\n\tAusiliaryService ausService;\r\n\r\n\tpublic MyService(AusiliaryService ausService) {\r\n\t\t...\r\n\t}\r\n\r\n\tpublic boolean isAccountValid(Account account) {\r\n\r\n\t AccountValidator accountValidator = new AccountValidator(account);\r\n\t boolean isValid = accountValidator.isValid(account);\r\n\t if(isValid) {\r\n\t \tausService.openAccount(account);\r\n\t }\r\n\t}\r\n}\r\n```\r\n\r\n**Note** that `AusiliaryService` is also spring managed and we are using constructor injection.\r\n\r\nIn this class `AccountValidator` is a **dependency** of `MyService` but it does not appear in the constructor so we could say the **visibility** of this dependency is somehow **hidden**.\r\n\r\nSince we are hardcoding the instantiation of   \r\n`AccountValidator accountValidator = new AccountValidator(account);`\r\n\r\nWe may also have some potential issues with writing unit tests `MyService`, unless you may think such any unit tests should also impact `AccountValidator`, which for me would be a valid line of thought.\r\n\r\nA possible work around for both &quot;issues&quot; would be to use a factory, to remove from  MyService the responsability to instantiate\r\n`AccountValidator` object.\r\n\r\n```\r\n@Component\r\nclass MyService {\r\n\t\r\n\tAusiliaryService ausService;\r\n\tAccountValidatorFactory accountValidatorFactory;\r\n\r\n\tpublic MyService(AusiliaryService ausService, AccountValidatorFactory accountValidatorFactory;) {\r\n\t\t...\r\n\t}\r\n\r\n\tpublic boolean isAccountValid(Account account) {\r\n\r\n\t AccountValidator accountValidator = accountValidatorFactory.getValidator(account);\r\n\t boolean isValid = accountValidator.isValid(account);\r\n\t if(isValid) {\r\n\t \tausService.openAccount(account);\r\n\t }\r\n\t}\r\n}\r\n```\r\n\r\nNote that also `AccountValidatorFactory` is spring managed and we are using constructor injection.\r\n\r\n\r\nA cons of this solution could be though the proliferation of such factories classes, if you use this kind of pattern often in your code.\r\n\r\nWhat would is your approach in such situations ?\r\nWhich kind of solution would you prefer ?\r\nWould be possible to make `AccountValidator` also spring managed to help with this, how would that be done ?\r\n\r\n","title":"Dependency injection how to avoid hiding dependencies to stateful objects like a validator","body":"<p>I would like to have your opinion about such a situation, the code is quite simple\nto should be easy to follow:</p>\n<pre><code>@Component\nclass MyService {\n    \n    AusiliaryService ausService;\n\n    public MyService(AusiliaryService ausService) {\n        ...\n    }\n\n    public boolean isAccountValid(Account account) {\n\n     AccountValidator accountValidator = new AccountValidator(account);\n     boolean isValid = accountValidator.isValid(account);\n     if(isValid) {\n        ausService.openAccount(account);\n     }\n    }\n}\n</code></pre>\n<p><strong>Note</strong> that <code>AusiliaryService</code> is also spring managed and we are using constructor injection.</p>\n<p>In this class <code>AccountValidator</code> is a <strong>dependency</strong> of <code>MyService</code> but it does not appear in the constructor so we could say the <strong>visibility</strong> of this dependency is somehow <strong>hidden</strong>.</p>\n<p>Since we are hardcoding the instantiation of<br />\n<code>AccountValidator accountValidator = new AccountValidator(account);</code></p>\n<p>We may also have some potential issues with writing unit tests <code>MyService</code>, unless you may think such any unit tests should also impact <code>AccountValidator</code>, which for me would be a valid line of thought.</p>\n<p>A possible work around for both &quot;issues&quot; would be to use a factory, to remove from  MyService the responsability to instantiate\n<code>AccountValidator</code> object.</p>\n<pre><code>@Component\nclass MyService {\n    \n    AusiliaryService ausService;\n    AccountValidatorFactory accountValidatorFactory;\n\n    public MyService(AusiliaryService ausService, AccountValidatorFactory accountValidatorFactory;) {\n        ...\n    }\n\n    public boolean isAccountValid(Account account) {\n\n     AccountValidator accountValidator = accountValidatorFactory.getValidator(account);\n     boolean isValid = accountValidator.isValid(account);\n     if(isValid) {\n        ausService.openAccount(account);\n     }\n    }\n}\n</code></pre>\n<p>Note that also <code>AccountValidatorFactory</code> is spring managed and we are using constructor injection.</p>\n<p>A cons of this solution could be though the proliferation of such factories classes, if you use this kind of pattern often in your code.</p>\n<p>What would is your approach in such situations ?\nWhich kind of solution would you prefer ?\nWould be possible to make <code>AccountValidator</code> also spring managed to help with this, how would that be done ?</p>\n"},{"tags":["java","spring","spring-mvc","eventsource"],"comments":[{"owner":{"account_id":2559426,"reputation":1044,"user_id":2220759,"display_name":"Torsten Ojaperv"},"score":0,"creation_date":1553765504,"post_id":55287474,"comment_id":97508715,"body_markdown":"Facing the same problem, where a new request to endpoint is made after emitter::complete is called on the server-side. springBootVersion=2.0.5.RELEASE","body":"Facing the same problem, where a new request to endpoint is made after emitter::complete is called on the server-side. springBootVersion=2.0.5.RELEASE"},{"owner":{"account_id":146428,"reputation":9156,"user_id":356887,"accept_rate":78,"display_name":"xdhmoore"},"score":0,"creation_date":1553795334,"post_id":55287474,"comment_id":97528423,"body_markdown":"I got something working, but I&#39;m doing it by sending my own custom &quot;stop&quot; event and then closing it on the client side.","body":"I got something working, but I&#39;m doing it by sending my own custom &quot;stop&quot; event and then closing it on the client side."}],"answers":[{"comments":[{"owner":{"account_id":146428,"reputation":9156,"user_id":356887,"accept_rate":78,"display_name":"xdhmoore"},"score":0,"creation_date":1574375361,"post_id":58981130,"comment_id":104221955,"body_markdown":"This is pretty much what I ended up doing.","body":"This is pretty much what I ended up doing."},{"owner":{"account_id":146428,"reputation":9156,"user_id":356887,"accept_rate":78,"display_name":"xdhmoore"},"score":0,"creation_date":1574375639,"post_id":58981130,"comment_id":104222045,"body_markdown":"I am still not sure about `emitter.complete()` though. I guess it just ends things on the server side? Because I think anything it transmits will encounter a closed sse on the client side.","body":"I am still not sure about <code>emitter.complete()</code> though. I guess it just ends things on the server side? Because I think anything it transmits will encounter a closed sse on the client side."},{"owner":{"account_id":4816683,"reputation":1567,"user_id":3888628,"display_name":"Ashraf Sarhan"},"score":0,"creation_date":1574438379,"post_id":58981130,"comment_id":104245808,"body_markdown":"I agree! Look at the doc https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseBodyEmitter.html#complete--","body":"I agree! Look at the doc <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseBodyEmitter.html#complete--\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/javadoc-api/org/&hellip;</a>"}],"tags":[],"owner":{"account_id":4816683,"reputation":1567,"user_id":3888628,"display_name":"Ashraf Sarhan"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1574359453,"creation_date":1574359453,"answer_id":58981130,"question_id":55287474,"body_markdown":"I have added the following to my Spring boot application to trigger the SSE connection `close()`\r\n\r\n**Server Side:** \r\n\r\n 1. Create a simple controller which returns SseEmitter.\r\n 2. Wrap the backend logic in a single thread executor service.     \r\n 3. Send your events to the SseEmitter. \r\n 4. On complete send an event of type complete via the SseEmitter.\r\n\r\n    \r\n        @RestController\r\n        public class SearchController {\r\n    \r\n        @Autowired\r\n        private SearchDelegate searchDelegate;\r\n    \r\n        @GetMapping(value = &quot;/{customerId}/search&quot;)\r\n        @ResponseStatus(HttpStatus.OK)\r\n        @ApiOperation(value = &quot;Search Sources&quot;, notes = &quot;Search Sources&quot;)\r\n        @ApiResponses(value = {\r\n                @ApiResponse(code = 201, message = &quot;OK&quot;),\r\n                @ApiResponse(code = 401, message = &quot;Unauthorized&quot;)\r\n        })\r\n        @ResponseBody\r\n        public SseEmitter search(@ApiParam(name = &quot;searchCriteria&quot;, value = &quot;searchCriteria&quot;, required = true) @ModelAttribute @Valid final SearchCriteriaDto searchCriteriaDto) throws Exception {\r\n            return searchDelegate.route(searchCriteriaDto);\r\n          }\r\n        }\r\n\r\n\r\n\r\n        @Service\r\n        public class SearchDelegate {\r\n        public static final String SEARCH_EVENT_NAME = &quot;SEARCH&quot;;\r\n        public static final String COMPLETE_EVENT_NAME = &quot;COMPLETE&quot;;\r\n        public static final String COMPLETE_EVENT_DATA = &quot;{\\&quot;name\\&quot;: \\&quot;COMPLETED_STREAM\\&quot;}&quot;;\r\n    \r\n        @Autowired\r\n        private SearchService searchService;\r\n    \r\n        private ExecutorService executor = Executors.newCachedThreadPool();\r\n    \r\n        public SseEmitter route(SearchCriteriaDto searchCriteriaDto) throws Exception {\r\n            SseEmitter emitter = new SseEmitter();\r\n            executor.execute(() -&gt; {\r\n                try {\r\n                    if(!searchCriteriaDto.getCustomerSources().isEmpty()) {\r\n                        searchCriteriaDto.getCustomerSources().forEach(customerSource -&gt; {\r\n                            try {\r\n                                SearchResponse searchResponse = searchService.search(searchCriteriaDto);\r\n                                emitter.send(SseEmitter.event()\r\n                                        .id(customerSource.getSourceId())\r\n                                        .name(SEARCH_EVENT_NAME)\r\n                                        .data(searchResponse));\r\n                            } catch (Exception e) {\r\n                                log.error(&quot;Error while executing query for customer {} with source {}, Caused by {}&quot;,\r\n                                        customerId, source.getType(), e.getMessage());\r\n                            }\r\n                        });\r\n                    }else {\r\n                        log.debug(&quot;No available customerSources for the specified customer&quot;);\r\n                    }\r\n                    emitter.send(SseEmitter.event().\r\n                            id(String.valueOf(System.currentTimeMillis()))\r\n                            .name(COMPLETE_EVENT_NAME)\r\n                            .data(COMPLETE_EVENT_DATA));\r\n                    emitter.complete();\r\n                } catch (Exception ex) {\r\n                    emitter.completeWithError(ex);\r\n                }\r\n            });\r\n            return emitter;\r\n           }\r\n        }\r\n\r\n**Client Side:**\r\n\r\n 1. Since we specified the `name` of event on our `SseEmitter`, an event will be dispatched on the browser to the listener for the specified event name; the website source code should use `addEventListener()` to listen for named events. (*Notice: The `onmessage` handler is called if no event name is specified for a message*)\r\n 2. Call the `EventSource` on the `COMPLETE` event to release the client connection. \r\n\r\nhttps://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events\r\n\r\n    var sse = new EventSource(&#39;http://localhost:8080/federation/api/customers/5d96348feb061d13f46aa6ce/search?nativeQuery=true&amp;queryString=*&amp;size=10&amp;customerSources=1,2,3&amp;start=0&#39;);\r\n    \r\n    sse.addEventListener(&quot;SEARCH&quot;, function(evt) {\r\n       var data = JSON.parse(evt.data);\r\n       console.log(data);\r\n    });\r\n    \r\n    sse.addEventListener(&quot;COMPLETE&quot;, function(evt) {\r\n       console.log(evt);\r\n       sse.close();\r\n    });","title":"Should Spring SseEmitter.complete() trigger an EventSource reconnect - how to close connection server-side","body":"<p>I have added the following to my Spring boot application to trigger the SSE connection <code>close()</code></p>\n\n<p><strong>Server Side:</strong> </p>\n\n<ol>\n<li>Create a simple controller which returns SseEmitter.</li>\n<li>Wrap the backend logic in a single thread executor service.     </li>\n<li>Send your events to the SseEmitter. </li>\n<li><p>On complete send an event of type complete via the SseEmitter.</p>\n\n<pre><code>@RestController\npublic class SearchController {\n\n@Autowired\nprivate SearchDelegate searchDelegate;\n\n@GetMapping(value = \"/{customerId}/search\")\n@ResponseStatus(HttpStatus.OK)\n@ApiOperation(value = \"Search Sources\", notes = \"Search Sources\")\n@ApiResponses(value = {\n        @ApiResponse(code = 201, message = \"OK\"),\n        @ApiResponse(code = 401, message = \"Unauthorized\")\n})\n@ResponseBody\npublic SseEmitter search(@ApiParam(name = \"searchCriteria\", value = \"searchCriteria\", required = true) @ModelAttribute @Valid final SearchCriteriaDto searchCriteriaDto) throws Exception {\n    return searchDelegate.route(searchCriteriaDto);\n  }\n}\n\n\n\n@Service\npublic class SearchDelegate {\npublic static final String SEARCH_EVENT_NAME = \"SEARCH\";\npublic static final String COMPLETE_EVENT_NAME = \"COMPLETE\";\npublic static final String COMPLETE_EVENT_DATA = \"{\\\"name\\\": \\\"COMPLETED_STREAM\\\"}\";\n\n@Autowired\nprivate SearchService searchService;\n\nprivate ExecutorService executor = Executors.newCachedThreadPool();\n\npublic SseEmitter route(SearchCriteriaDto searchCriteriaDto) throws Exception {\n    SseEmitter emitter = new SseEmitter();\n    executor.execute(() -&gt; {\n        try {\n            if(!searchCriteriaDto.getCustomerSources().isEmpty()) {\n                searchCriteriaDto.getCustomerSources().forEach(customerSource -&gt; {\n                    try {\n                        SearchResponse searchResponse = searchService.search(searchCriteriaDto);\n                        emitter.send(SseEmitter.event()\n                                .id(customerSource.getSourceId())\n                                .name(SEARCH_EVENT_NAME)\n                                .data(searchResponse));\n                    } catch (Exception e) {\n                        log.error(\"Error while executing query for customer {} with source {}, Caused by {}\",\n                                customerId, source.getType(), e.getMessage());\n                    }\n                });\n            }else {\n                log.debug(\"No available customerSources for the specified customer\");\n            }\n            emitter.send(SseEmitter.event().\n                    id(String.valueOf(System.currentTimeMillis()))\n                    .name(COMPLETE_EVENT_NAME)\n                    .data(COMPLETE_EVENT_DATA));\n            emitter.complete();\n        } catch (Exception ex) {\n            emitter.completeWithError(ex);\n        }\n    });\n    return emitter;\n   }\n}\n</code></pre></li>\n</ol>\n\n<p><strong>Client Side:</strong></p>\n\n<ol>\n<li>Since we specified the <code>name</code> of event on our <code>SseEmitter</code>, an event will be dispatched on the browser to the listener for the specified event name; the website source code should use <code>addEventListener()</code> to listen for named events. (<em>Notice: The <code>onmessage</code> handler is called if no event name is specified for a message</em>)</li>\n<li>Call the <code>EventSource</code> on the <code>COMPLETE</code> event to release the client connection. </li>\n</ol>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events\" rel=\"noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events</a></p>\n\n<pre><code>var sse = new EventSource('http://localhost:8080/federation/api/customers/5d96348feb061d13f46aa6ce/search?nativeQuery=true&amp;queryString=*&amp;size=10&amp;customerSources=1,2,3&amp;start=0');\n\nsse.addEventListener(\"SEARCH\", function(evt) {\n   var data = JSON.parse(evt.data);\n   console.log(data);\n});\n\nsse.addEventListener(\"COMPLETE\", function(evt) {\n   console.log(evt);\n   sse.close();\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":146428,"reputation":9156,"user_id":356887,"accept_rate":78,"display_name":"xdhmoore"},"score":0,"creation_date":1629849405,"post_id":68913817,"comment_id":121794094,"body_markdown":"Oh, ok a 204. That seems more natural to me than closing from the client side.","body":"Oh, ok a 204. That seems more natural to me than closing from the client side."}],"tags":[],"owner":{"account_id":3821169,"reputation":763,"user_id":3169238,"display_name":"Sergei Kozelko"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629837486,"creation_date":1629837486,"answer_id":68913817,"question_id":55287474,"body_markdown":"According to the [HTML standard for Server-sent events][1]\r\n\r\n&gt; Clients will reconnect if the connection is closed; a client can be told to stop reconnecting using the HTTP 204 No Content response code.\r\n\r\nSo Spring&#39;s SseEmitter behaves as expected and the purpose of `complete()` is to make sure all the events were sent and then to close the connection.\r\n\r\nYou need to either implement server-side logic that would return 204 http code on subsequent requests (e.g. by checking session id) or to send a special event and close the connection from client side after receiving it as [suggested by Ashraf Sarhan][2]\r\n\r\n\r\n  [1]: https://html.spec.whatwg.org/multipage/server-sent-events.html#server-sent-events\r\n  [2]: https://stackoverflow.com/a/58981130/3169238","title":"Should Spring SseEmitter.complete() trigger an EventSource reconnect - how to close connection server-side","body":"<p>According to the <a href=\"https://html.spec.whatwg.org/multipage/server-sent-events.html#server-sent-events\" rel=\"nofollow noreferrer\">HTML standard for Server-sent events</a></p>\n<blockquote>\n<p>Clients will reconnect if the connection is closed; a client can be told to stop reconnecting using the HTTP 204 No Content response code.</p>\n</blockquote>\n<p>So Spring's SseEmitter behaves as expected and the purpose of <code>complete()</code> is to make sure all the events were sent and then to close the connection.</p>\n<p>You need to either implement server-side logic that would return 204 http code on subsequent requests (e.g. by checking session id) or to send a special event and close the connection from client side after receiving it as <a href=\"https://stackoverflow.com/a/58981130/3169238\">suggested by Ashraf Sarhan</a></p>\n"},{"tags":[],"owner":{"account_id":11475553,"reputation":301,"user_id":8411174,"display_name":"Maria Pomazkina-Karpikova"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679139990,"creation_date":1679139990,"answer_id":75775670,"question_id":55287474,"body_markdown":"I&#39;ll continue [sergei-kozelko][1] answer.\r\n\r\nYou have to return \r\n\r\n    return new ResponseEntity(emitter, HttpStatus.NO_CONTENT);\r\n\r\n\r\n  Method signature should be:\r\n\r\n    public ResponseEntity&lt;SseEmitter&gt; route(SearchCriteriaDto searchCriteriaDto)\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3169238/sergei-kozelko","title":"Should Spring SseEmitter.complete() trigger an EventSource reconnect - how to close connection server-side","body":"<p>I'll continue <a href=\"https://stackoverflow.com/users/3169238/sergei-kozelko\">sergei-kozelko</a> answer.</p>\n<p>You have to return</p>\n<pre><code>return new ResponseEntity(emitter, HttpStatus.NO_CONTENT);\n</code></pre>\n<p>Method signature should be:</p>\n<pre><code>public ResponseEntity&lt;SseEmitter&gt; route(SearchCriteriaDto searchCriteriaDto)\n</code></pre>\n"}],"owner":{"account_id":146428,"reputation":9156,"user_id":356887,"accept_rate":78,"display_name":"xdhmoore"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8718,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":58981130,"answer_count":3,"score":8,"last_activity_date":1679139990,"creation_date":1553194549,"question_id":55287474,"body_markdown":"I&#39;m trying to set up a Spring SseEmitter to send a sequence of updates of the status of a running job. It seems to be working but:\r\n\r\nWhenever I call `emitter.complete()` in in my Java server code, the javascript `EventSource` client calls the registered `onerror` function and then calls my Java endpoint again with a new connection. This happens in both Firefox and Chrome.\r\n\r\nI can probably send an explicit &quot;end-of-data&quot; message from Java and then detect that and call `eventSource.close()` on the client, but is there a better way?\r\n\r\nWhat is the purpose of `emitter.complete()` in that case?\r\n\r\nAlso, if I always have to terminate the connection on the client end, then I guess every connection on the server side will be terminated by either a timeout or a write error, in which case I probably want to manually send back a heartbeat of some kind every few seconds?\r\n\r\nIt feels like I&#39;m missing something if I&#39;m having to do all this.","title":"Should Spring SseEmitter.complete() trigger an EventSource reconnect - how to close connection server-side","body":"<p>I'm trying to set up a Spring SseEmitter to send a sequence of updates of the status of a running job. It seems to be working but:</p>\n\n<p>Whenever I call <code>emitter.complete()</code> in in my Java server code, the javascript <code>EventSource</code> client calls the registered <code>onerror</code> function and then calls my Java endpoint again with a new connection. This happens in both Firefox and Chrome.</p>\n\n<p>I can probably send an explicit \"end-of-data\" message from Java and then detect that and call <code>eventSource.close()</code> on the client, but is there a better way?</p>\n\n<p>What is the purpose of <code>emitter.complete()</code> in that case?</p>\n\n<p>Also, if I always have to terminate the connection on the client end, then I guess every connection on the server side will be terminated by either a timeout or a write error, in which case I probably want to manually send back a heartbeat of some kind every few seconds?</p>\n\n<p>It feels like I'm missing something if I'm having to do all this.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":27198861,"reputation":1,"user_id":20731389,"display_name":""},"score":0,"creation_date":1679131174,"post_id":75774892,"comment_id":133668818,"body_markdown":"Why is my private not executed?","body":"Why is my private not executed?"},{"owner":{"account_id":374049,"reputation":12725,"user_id":724039,"display_name":"Luuk"},"score":0,"creation_date":1679131328,"post_id":75774892,"comment_id":133668840,"body_markdown":"This site is in English, please only comment in that language.","body":"This site is in English, please only comment in that language."},{"owner":{"account_id":374049,"reputation":12725,"user_id":724039,"display_name":"Luuk"},"score":0,"creation_date":1679131684,"post_id":75774892,"comment_id":133668887,"body_markdown":"It is not executed because there is a syntax error in it. `System.out.printin` should be `System.out.println`  (an `l`, not an `i`)  (see: [this](https://stackoverflow.com/questions/9298980/variable-out-of-type-printstream-error-occured))","body":"It is not executed because there is a syntax error in it. <code>System.out.printin</code> should be <code>System.out.println</code>  (an <code>l</code>, not an <code>i</code>)  (see: <a href=\"https://stackoverflow.com/questions/9298980/variable-out-of-type-printstream-error-occured\">this</a>)"},{"owner":{"account_id":27198861,"reputation":1,"user_id":20731389,"display_name":""},"score":0,"creation_date":1679131789,"post_id":75774892,"comment_id":133668897,"body_markdown":"No, after I modified it, my private was not printed out in the console","body":"No, after I modified it, my private was not printed out in the console"},{"owner":{"account_id":10448718,"reputation":12418,"user_id":7703024,"display_name":"super"},"score":0,"creation_date":1679132191,"post_id":75774892,"comment_id":133668954,"body_markdown":"Try adding some proper formatting to your question. Very hard to read that code.","body":"Try adding some proper formatting to your question. Very hard to read that code."},{"owner":{"account_id":374049,"reputation":12725,"user_id":724039,"display_name":"Luuk"},"score":0,"creation_date":1679132231,"post_id":75774892,"comment_id":133668962,"body_markdown":"[What is the ``` (3 x backquote) markdown used for?](https://meta.stackexchange.com/questions/189920/what-is-the-3-x-backquote-markdown-used-for)","body":"<a href=\"https://meta.stackexchange.com/questions/189920/what-is-the-3-x-backquote-markdown-used-for\">What is the ``` (3 x backquote) markdown used for?</a>"},{"owner":{"account_id":374049,"reputation":12725,"user_id":724039,"display_name":"Luuk"},"score":0,"creation_date":1679132430,"post_id":75774892,"comment_id":133668998,"body_markdown":"I did do the edit again, and change the `i` to an `l`.","body":"I did do the edit again, and change the <code>i</code> to an <code>l</code>."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":3,"creation_date":1679132688,"post_id":75774892,"comment_id":133669039,"body_markdown":"@ Why should the private `main()` be executed? There is no line in your code that calls your method.","body":"@ Why should the private <code>main()</code> be executed? There is no line in your code that calls your method."},{"owner":{"account_id":4921960,"reputation":8599,"user_id":4554883,"accept_rate":90,"display_name":"Parzh from Ukraine"},"score":0,"creation_date":1679132787,"post_id":75774892,"comment_id":133669055,"body_markdown":"This article may be helpful: https://www.geeksforgeeks.org/replacing-public-with-private-in-main-in-java/","body":"This article may be helpful: <a href=\"https://www.geeksforgeeks.org/replacing-public-with-private-in-main-in-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/replacing-public-with-private-in-main-in-j&zwnj;&#8203;ava</a>"}],"answers":[{"comments":[{"owner":{"account_id":374049,"reputation":12725,"user_id":724039,"display_name":"Luuk"},"score":0,"creation_date":1679133093,"post_id":75775064,"comment_id":133669098,"body_markdown":"Please change `printin` to `println` &#128521;","body":"Please change <code>printin</code> to <code>println</code> "},{"owner":{"account_id":27788699,"reputation":34,"user_id":21215561,"display_name":"Nils Hoffmann"},"score":0,"creation_date":1679133460,"post_id":75775064,"comment_id":133669147,"body_markdown":"haha just copied that, thanks","body":"haha just copied that, thanks"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679139976,"post_id":75775064,"comment_id":133670068,"body_markdown":"Important to be aware of _won&#39;t_ and _wont_ have different meanings, same goes for _can&#39;t_ and _cant_. The correct use of apostrophes is important for readability. In a similar vein, _thats_ is invalid, it should be _that&#39;s_ or _that is_.","body":"Important to be aware of <i>won&#39;t</i> and <i>wont</i> have different meanings, same goes for <i>can&#39;t</i> and <i>cant</i>. The correct use of apostrophes is important for readability. In a similar vein, <i>thats</i> is invalid, it should be <i>that&#39;s</i> or <i>that is</i>."},{"owner":{"account_id":27788699,"reputation":34,"user_id":21215561,"display_name":"Nils Hoffmann"},"score":0,"creation_date":1679148186,"post_id":75775064,"comment_id":133671335,"body_markdown":"I&#39;m not native, thank you for pointing that out.","body":"I&#39;m not native, thank you for pointing that out."}],"tags":[],"owner":{"account_id":27788699,"reputation":34,"user_id":21215561,"display_name":"Nils Hoffmann"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679139907,"creation_date":1679132913,"answer_id":75775064,"question_id":75774892,"body_markdown":"Java expects a single Main method:\r\n`public static void main(String[] args)`\r\n\r\nyou can declare this method to be private and compile, but at run time there won&#39;t be a public main method to be found, so your program won&#39;t execute. Your second method is with a String not a String[] &lt;- String array\r\n\r\nIf you just want to execute what&#39;s in your second method, call it in the first main method:\r\n```\r\nclass pig {\r\n   public static void main(String[] args) {\r\n      System.out.println(&quot;xixi&quot;);\r\n      System.out.println(&quot;haha&quot;);\r\n      main();\r\n   }\r\n\r\n   private static void main() \r\n   {\r\n      System.out.println(&quot;&quot;);\r\n   }\r\n}\r\n```\r\nYou can&#39;t have two methods with the same signature in a single class, this goes for private and public alike, so having a main method as public and then also defining the same signature as private is impossible. \r\n\r\nIn other words, `public int hello()` and `private int hello()` are counted as the same signature. On the other hand, `public int hello(int x)` and `public int hello()` are different signatures and allowed. I hope this clarifies some stuff for you.\r\n\r\nThe difference between public and private is the following: a private method can only be called within the same class, you can use this to hide methods that are not needed or dangerous to be used from the outside. A public method can be called from the outside.\r\n\r\nLet&#39;s say you have a class:\r\n```\r\nclass Car{\r\n   public hello(){\r\n      System.out.println(&quot;Hi&quot;);\r\n   }\r\n   private hello2(){\r\n      System.out.println(&quot;Hello2&quot;);\r\n   }\r\n}\r\n```\r\n\r\nAnd a second class\r\n```\r\nclass test{\r\n   public static void main(String[] args){\r\n      //we create a car instance here\r\n      Car c = new Car();\r\n      //now we can call the public method here\r\n      c.hello();\r\n      //but if we try to call a private method we get an error\r\n      c.hello2(); //&lt;- this will not execute, is hidden to the outside\r\n   }\r\n}\r\n```","title":"The difference between the execution of public private in java","body":"<p>Java expects a single Main method:\n<code>public static void main(String[] args)</code></p>\n<p>you can declare this method to be private and compile, but at run time there won't be a public main method to be found, so your program won't execute. Your second method is with a String not a String[] &lt;- String array</p>\n<p>If you just want to execute what's in your second method, call it in the first main method:</p>\n<pre><code>class pig {\n   public static void main(String[] args) {\n      System.out.println(&quot;xixi&quot;);\n      System.out.println(&quot;haha&quot;);\n      main();\n   }\n\n   private static void main() \n   {\n      System.out.println(&quot;&quot;);\n   }\n}\n</code></pre>\n<p>You can't have two methods with the same signature in a single class, this goes for private and public alike, so having a main method as public and then also defining the same signature as private is impossible.</p>\n<p>In other words, <code>public int hello()</code> and <code>private int hello()</code> are counted as the same signature. On the other hand, <code>public int hello(int x)</code> and <code>public int hello()</code> are different signatures and allowed. I hope this clarifies some stuff for you.</p>\n<p>The difference between public and private is the following: a private method can only be called within the same class, you can use this to hide methods that are not needed or dangerous to be used from the outside. A public method can be called from the outside.</p>\n<p>Let's say you have a class:</p>\n<pre><code>class Car{\n   public hello(){\n      System.out.println(&quot;Hi&quot;);\n   }\n   private hello2(){\n      System.out.println(&quot;Hello2&quot;);\n   }\n}\n</code></pre>\n<p>And a second class</p>\n<pre><code>class test{\n   public static void main(String[] args){\n      //we create a car instance here\n      Car c = new Car();\n      //now we can call the public method here\n      c.hello();\n      //but if we try to call a private method we get an error\n      c.hello2(); //&lt;- this will not execute, is hidden to the outside\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":27198861,"reputation":1,"user_id":20731389,"display_name":""},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1679140133,"answer_count":1,"score":-4,"last_activity_date":1679139907,"creation_date":1679130932,"question_id":75774892,"body_markdown":"```\r\nclass pig {\r\n   public static void main(String[] args) {\r\n      System.out.println(&quot;xixi&quot;);\r\n      System.out.println(&quot;haha&quot;);\r\n   }\r\n   private static void main(String name) \r\n   {\r\n      System.out.println(&quot;&quot;);\r\n   }\r\n```","title":"The difference between the execution of public private in java","body":"<pre><code>class pig {\n   public static void main(String[] args) {\n      System.out.println(&quot;xixi&quot;);\n      System.out.println(&quot;haha&quot;);\n   }\n   private static void main(String name) \n   {\n      System.out.println(&quot;&quot;);\n   }\n</code></pre>\n"},{"tags":["java","mysql","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1465992079,"post_id":37833643,"comment_id":63130903,"body_markdown":"Nope, unless you build your own implementation for that.","body":"Nope, unless you build your own implementation for that."}],"answers":[{"tags":[],"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1508516816,"creation_date":1508516816,"answer_id":46853393,"question_id":37833643,"body_markdown":"I followed the advice of @M.Deinum and implemented my own version of a `ResourceDatabasePopulator`. Due to the limited scope of the members and the absence of any getters to retrieve these fields, there is unfortunately some copy&amp;pasting from the original `ResourceDatabasePopulator` implementation. This class was definitely not designed for supporting subclassing ...\r\n\r\nBelow is the current solution which is working for me in my use case. It is not perfect and probably tailored towards MySQL statements but at least it gets the job done.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.lang.invoke.MethodHandles;\r\n    import java.util.ArrayList;\r\n    import java.util.Iterator;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.List;\r\n    import java.util.ListIterator;\r\n    import java.util.Map;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.core.io.ByteArrayResource;\r\n    import org.springframework.core.io.Resource;\r\n    import org.springframework.core.io.support.EncodedResource;\r\n    import org.springframework.jdbc.datasource.init.DatabasePopulatorUtils;\r\n    import org.springframework.jdbc.datasource.init.ResourceDatabasePopulator;\r\n    import org.springframework.jdbc.datasource.init.ScriptUtils;\r\n    import org.springframework.jdbc.datasource.init.UncategorizedScriptException;\r\n    import org.springframework.util.StringUtils;\r\n    \r\n    /**\r\n     * Populates, initializes, or cleans up a database using SQL scripts defined in\r\n     * external resources.\r\n     * &lt;p&gt;\r\n     * This implementation will clean up a given script by removing comments and processing instructions\r\n     * contained in the script and perform a table reordering based on defined foreign keys in a\r\n     * best-effort attempt.\r\n     *\r\n     * &lt;ul&gt;\r\n     * &lt;li&gt;Call {@link #addScript} to add a single SQL script location.\r\n     * &lt;li&gt;Call {@link #addScripts} to add multiple SQL script locations.\r\n     * &lt;li&gt;Consult the setter methods in this class for further configuration options.\r\n     * &lt;li&gt;Call {@link #populate} or {@link #execute} to initialize or clean up the\r\n     * database using the configured scripts.\r\n     * &lt;/ul&gt;\r\n     *\r\n     * @author Keith Donald\r\n     * @author Dave Syer\r\n     * @author Juergen Hoeller\r\n     * @author Chris Beams\r\n     * @author Oliver Gierke\r\n     * @author Sam Brannen\r\n     * @author Chris Baldwin\r\n     * @author Roman Vottner\r\n     *\r\n     * @since 3.0\r\n     * @see DatabasePopulatorUtils\r\n     * @see ScriptUtils\r\n     */\r\n    public class OrderedResourceDatabasePopulator extends ResourceDatabasePopulator {\r\n    \r\n      private static final Logger LOG = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass());\r\n    \r\n      protected String sqlScriptEncoding;\r\n    \r\n      /**\r\n       * Construct a new {@code OrderedResourceDatabasePopulator} with default settings.\r\n       */\r\n      public OrderedResourceDatabasePopulator() {\r\n        /* no-op */\r\n      }\r\n    \r\n      /**\r\n       * Construct a new {@code OrderedResourceDatabasePopulator} with default settings\r\n       * for the supplied scripts.\r\n       * \r\n       * @param scripts the scripts to execute to initialize or clean up the database\r\n       *                (never {@code null})\r\n       */\r\n      public OrderedResourceDatabasePopulator(Resource... scripts) {\r\n        this();\r\n        setScripts(cleanResource(scripts));\r\n      }\r\n    \r\n      /**\r\n       * Construct a new {@code OrderedResourceDatabasePopulator} with the supplied values.\r\n       *\r\n       * @param continueOnError flag to indicate that all failures in SQL should be logged but not cause\r\n       *                        a failure\r\n       * @param ignoreFailedDrops flag to indicate that a failed SQL {@code DROP} statement can be\r\n       *                          ignored\r\n       * @param sqlScriptEncoding the encoding for the supplied SQL scripts; may be {@code null} or\r\n       *                           &lt;em&gt;empty&lt;/em&gt; to indicate platform encoding\r\n       * @param scripts the scripts to execute to initialize or clean up the database (never {@code\r\n       *                null})\r\n       */\r\n      public OrderedResourceDatabasePopulator(boolean continueOnError, boolean ignoreFailedDrops,\r\n                                              String sqlScriptEncoding, Resource... scripts) {\r\n    \r\n        super(continueOnError, ignoreFailedDrops, sqlScriptEncoding, scripts);\r\n      }\r\n    \r\n      /**\r\n       * Add a script to execute to initialize or clean up the database.\r\n       *\r\n       * @param script the path to an SQL script (never {@code null})\r\n       */\r\n      @Override\r\n      public void addScript(Resource script) {\r\n        super.addScript(cleanResource(script)[0]);\r\n      }\r\n    \r\n      /**\r\n       * Add multiple scripts to execute to initialize or clean up the database.\r\n       * \r\n       * @param scripts the scripts to execute (never {@code null})\r\n       */\r\n      @Override\r\n      public void addScripts(Resource... scripts) {\r\n        super.addScripts(cleanResource(scripts));\r\n      }\r\n    \r\n      /**\r\n       * Set the scripts to execute to initialize or clean up the database, replacing any previously \r\n       * added scripts.\r\n       * \r\n       * @param scripts the scripts to execute (never {@code null})\r\n       */\r\n      @Override\r\n      public void setScripts(Resource... scripts) {\r\n        super.setScripts(cleanResource(scripts));\r\n      }\r\n    \r\n      /**\r\n       * Specify the encoding for the configured SQL scripts, if different from the platform encoding.\r\n       * \r\n       * @param sqlScriptEncoding the encoding used in scripts; may be {@code null} or empty to indicate\r\n       *                          platform encoding\r\n       * \r\n       * @see #addScript(Resource)\r\n       */\r\n      @Override\r\n      public void setSqlScriptEncoding(String sqlScriptEncoding) {\r\n        super.setSqlScriptEncoding(sqlScriptEncoding);\r\n        this.sqlScriptEncoding = StringUtils.hasText(sqlScriptEncoding) ? sqlScriptEncoding : null;\r\n      }\r\n    \r\n      private Resource[] cleanResource(Resource... scripts) {\r\n        List&lt;Resource&gt; cleaned = new ArrayList&lt;&gt;();\r\n        for (Resource script : scripts) {\r\n          EncodedResource encodedScript = new EncodedResource(script, this.sqlScriptEncoding);\r\n    \r\n          StringBuilder sb = new StringBuilder();\r\n          try (BufferedReader in = new BufferedReader(encodedScript.getReader())) {\r\n            String line;\r\n    \r\n            // parse script\r\n            Map&lt;String, Table&gt; tables = new LinkedHashMap&lt;&gt;();\r\n            Table curTable = null;\r\n            while ((line = in.readLine()) != null) {\r\n              if (!line.startsWith(&quot;#&quot;) &amp;&amp; !line.startsWith(&quot;/*&quot;)) {\r\n                line = line.replaceAll(&quot;`&quot;, &quot;&quot;);\r\n                String lowerCaseLine = line.toLowerCase();\r\n    \r\n                // parse table definitions\r\n                if (lowerCaseLine.startsWith(&quot;drop table&quot;) || &quot;&quot;.equals(line.trim())) {\r\n                  if (curTable != null) {\r\n                    curTable = null;\r\n                  }\r\n                  continue;\r\n                }\r\n    \r\n                curTable = parseTable(line, tables, curTable);\r\n              }\r\n            }\r\n    \r\n            // check the order of table definitions and reorder them to ensure referenced tables are\r\n            // defined before table specifying the foreign key\r\n            Map&lt;String, Table&gt; orderedTables = new LinkedHashMap&lt;&gt;();\r\n            List&lt;Table&gt; backlog = new ArrayList&lt;&gt;();\r\n            for (String tableName : tables.keySet()) {\r\n              // check for available foreign key definitions\r\n              List&lt;String&gt; referencedTables = tables.get(tableName).getReferencedTables();\r\n              // if no foreign keys are defined in the table we can add the table to the current set\r\n              if (referencedTables.isEmpty()) {\r\n                orderedTables.put(tableName, tables.get(tableName));\r\n                processBacklog(backlog, orderedTables);\r\n                continue;\r\n              }\r\n    \r\n              // foreign keys are defined. If any of the referenced tables is not yet in the set move it\r\n              // to the backlog table and try it later\r\n              boolean dependenciesAvailable = true;\r\n              for (String dependency : referencedTables) {\r\n                if (!orderedTables.containsKey(dependency)) {\r\n                  backlog.add(tables.get(tableName));\r\n                  dependenciesAvailable = false;\r\n                  break;\r\n                }\r\n              }\r\n    \r\n              // if all referred tables are available in the set add the current table also to the\r\n              // ordered set\r\n              if (dependenciesAvailable) {\r\n                orderedTables.put(tableName, tables.get(tableName));\r\n                processBacklog(backlog, orderedTables);\r\n                continue;\r\n              }\r\n    \r\n              // probe tables kept in the backlog again\r\n              processBacklog(backlog, orderedTables);\r\n            }\r\n    \r\n            while (!backlog.isEmpty()) {\r\n              processBacklog(backlog, orderedTables);\r\n            }\r\n    \r\n            ArrayList&lt;Table&gt; reverse = new ArrayList&lt;&gt;(orderedTables.values());\r\n            ListIterator&lt;Table&gt; reverseIter = reverse.listIterator(reverse.size());\r\n            sb.append(&quot;DROP TABLE IF EXISTS &quot;);\r\n            int originalSize = sb.length();\r\n            while (reverseIter.hasPrevious()) {\r\n              if (sb.length() &gt; originalSize) {\r\n                sb.append(&quot;, &quot;);\r\n              }\r\n              sb.append(reverseIter.previous().getName());\r\n            }\r\n            sb.append(&quot;;\\n\\n&quot;);\r\n    \r\n            for (Table table : orderedTables.values()) {\r\n              sb.append(table.getCreateStatement()).append(&quot;\\n&quot;);\r\n            }\r\n    \r\n          } catch (IOException ex) {\r\n            throw new UncategorizedScriptException(ex.getMessage(), ex);\r\n          }\r\n    \r\n          if (LOG.isTraceEnabled()) {\r\n            LOG.trace(&quot;SQL script after cleaning: \\n{}&quot;, sb.toString());\r\n          }\r\n          Resource cleanedResource = new ByteArrayResource(sb.toString().getBytes());\r\n          cleaned.add(cleanedResource);\r\n        }\r\n    \r\n        return cleaned.toArray(new Resource[cleaned.size()]);\r\n      }\r\n    \r\n      private Table parseTable(String line, Map&lt;String, Table&gt; tables, Table curTable) {\r\n        String lowerCaseLine = line.toLowerCase();\r\n        if (lowerCaseLine.startsWith(&quot;create table&quot;)) {\r\n          String name = line.substring(&quot;create table &quot;.length(), line.indexOf(&quot;(&quot;)).trim();\r\n          curTable = new Table(name);\r\n          tables.put(name, curTable);\r\n        } else if (curTable != null) {\r\n          if (lowerCaseLine.contains(&quot;primary key&quot;)) {\r\n            curTable.setPrimaryKey(line);\r\n          } else if (lowerCaseLine.contains(&quot;unique key&quot;)) {\r\n            curTable.addUniqueKey(line);\r\n          } else if (lowerCaseLine.contains(&quot;foreign key&quot;)) {\r\n            curTable.addForeignKey(line);\r\n          } else if (lowerCaseLine.contains(&quot; key &quot;)) {\r\n            curTable.addIndex(line);\r\n          } else if (lowerCaseLine.contains(&quot; charset=&quot;) || lowerCaseLine.contains(&quot;engine=&quot;)) {\r\n            curTable.setMetaData(line);\r\n          } else {\r\n            curTable.addColumn(line);\r\n          }\r\n        }\r\n        return curTable;\r\n      }\r\n    \r\n      private void processBacklog(List&lt;Table&gt; backlog, Map&lt;String, Table&gt; orderedTables) {\r\n        Iterator&lt;Table&gt; iter = backlog.iterator();\r\n        while (iter.hasNext()) {\r\n          Table table = iter.next();\r\n          boolean allDependenciesAvailable = true;\r\n          for (String dependency : table.getReferencedTables()) {\r\n            if (!orderedTables.containsKey(dependency)) {\r\n              allDependenciesAvailable = false;\r\n            }\r\n    \r\n            if (allDependenciesAvailable) {\r\n              orderedTables.put(table.getName(), table);\r\n              iter.remove();\r\n            }\r\n          }\r\n        }\r\n      }\r\n    \r\n      private class Table {\r\n    \r\n        private final String name;\r\n        private List&lt;String&gt; columns = new ArrayList&lt;&gt;();\r\n        private String primaryKey;\r\n        private List&lt;String&gt; uniqueKeys = new ArrayList&lt;&gt;();\r\n        private List&lt;String&gt; indices = new ArrayList&lt;&gt;();\r\n        private List&lt;String&gt; foreignKeys = new ArrayList&lt;&gt;();\r\n        private String metaData;\r\n    \r\n        public Table(String name) {\r\n          this.name = name;\r\n        }\r\n    \r\n        String getName() {\r\n          return this.name;\r\n        }\r\n    \r\n        void addColumn(String column) {\r\n          this.columns.add(column);\r\n        }\r\n    \r\n        void setPrimaryKey(String primaryKey) {\r\n          this.primaryKey = primaryKey;\r\n        }\r\n    \r\n        void addUniqueKey(String uniqueKey) {\r\n          this.uniqueKeys.add(uniqueKey);\r\n        }\r\n    \r\n        void addIndex(String index) {\r\n          this.indices.add(index);\r\n        }\r\n    \r\n        void addForeignKey(String foreignKey) {\r\n          this.foreignKeys.add(foreignKey);\r\n        }\r\n    \r\n        List&lt;String&gt; getReferencedTables() {\r\n          List&lt;String&gt; referencedTables = new ArrayList&lt;&gt;();\r\n          for (String foreignKey : foreignKeys) {\r\n            int start = foreignKey.toLowerCase().indexOf(&quot;references &quot;) + &quot;references &quot;.length();\r\n            String table = foreignKey.substring(start, foreignKey.indexOf(&quot; &quot;, start));\r\n            referencedTables.add(table);\r\n          }\r\n          return referencedTables;\r\n        }\r\n    \r\n        void setMetaData(String metaData) {\r\n          this.metaData = metaData;\r\n        }\r\n    \r\n        String getCreateStatement() {\r\n          StringBuilder sb = new StringBuilder();\r\n          sb.append(&quot;CREATE TABLE &quot;).append(this.name).append(&quot; (&quot;);\r\n          for (String column : this.columns) {\r\n            sb.append(&quot;\\n&quot;);\r\n            sb.append(&quot;  &quot;).append(column);\r\n          }\r\n          if (null != primaryKey) {\r\n            sb.append(&quot;\\n&quot;);\r\n            sb.append(&quot;  &quot;).append(this.primaryKey);\r\n          }\r\n          if (!uniqueKeys.isEmpty()) {\r\n            for (String uniqueKey : uniqueKeys) {\r\n              sb.append(&quot;\\n&quot;);\r\n              sb.append(&quot;  &quot;).append(uniqueKey);\r\n            }\r\n          }\r\n          if (!indices.isEmpty()) {\r\n            for (String index : indices) {\r\n              sb.append(&quot;\\n&quot;);\r\n              sb.append(&quot;  &quot;).append(index);\r\n            }\r\n          }\r\n          if (!foreignKeys.isEmpty()) {\r\n            for (String foreignKey : foreignKeys) {\r\n              sb.append(&quot;\\n&quot;);\r\n              sb.append(&quot;  &quot;).append(foreignKey);\r\n            }\r\n          }\r\n          sb.append(&quot;\\n&quot;);\r\n          if (metaData == null || !metaData.contains(&quot;)&quot;)) {\r\n            sb.append(&quot;) &quot;);\r\n          }\r\n          if (metaData != null) {\r\n            sb.append(metaData);\r\n          }\r\n          sb.append(&quot;\\n&quot;);\r\n    \r\n          return sb.toString();\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nThis populator will first clean the given scripts from any unwanted characters, comments or processing instructions and then build up a virtual table structure in order to sort tables that are target of a foreign reference before the ones declaring the foreign reference. Once the table definitions got virtualized, the populator will recreate the script by first adding a `DROP TABLE` statement for each table in reverese order of the virtual model and afterwards adding the `CREATE TABLE` statements in the calculated order.\r\n\r\nNote that this version does not yet support other SQL commands (like `INSERT`, ...) contained in the script. If this is needed feel free to customize this code to your liking.\r\n\r\nIn order to make use of reordered SQL scripts simply replace `ResourceDatabasePopulator` with `OrderedResourceDatabasePopulator`\r\n\r\n    @Override\r\n    public synchronized void beforeTestClass(TestContext testContext) {\r\n        ...\r\n        // import the table definitions from a previously dumped file\r\n        ResourceDatabasePopulator populator = new OrderedResourceDatabasePopulator();\r\n        populator.addScript(new ClassPathResource(&quot;some-table-definitions.sql&quot;));\r\n        populator.execute(dataSource);\r\n        ...\r\n    }\r\n\r\n","title":"Import a MySQL table-definition dump using Spring&#39;s ResourceDatabasePopulator","body":"<p>I followed the advice of @M.Deinum and implemented my own version of a <code>ResourceDatabasePopulator</code>. Due to the limited scope of the members and the absence of any getters to retrieve these fields, there is unfortunately some copy&amp;pasting from the original <code>ResourceDatabasePopulator</code> implementation. This class was definitely not designed for supporting subclassing ...</p>\n\n<p>Below is the current solution which is working for me in my use case. It is not perfect and probably tailored towards MySQL statements but at least it gets the job done.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.lang.invoke.MethodHandles;\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.LinkedHashMap;\nimport java.util.List;\nimport java.util.ListIterator;\nimport java.util.Map;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.core.io.ByteArrayResource;\nimport org.springframework.core.io.Resource;\nimport org.springframework.core.io.support.EncodedResource;\nimport org.springframework.jdbc.datasource.init.DatabasePopulatorUtils;\nimport org.springframework.jdbc.datasource.init.ResourceDatabasePopulator;\nimport org.springframework.jdbc.datasource.init.ScriptUtils;\nimport org.springframework.jdbc.datasource.init.UncategorizedScriptException;\nimport org.springframework.util.StringUtils;\n\n/**\n * Populates, initializes, or cleans up a database using SQL scripts defined in\n * external resources.\n * &lt;p&gt;\n * This implementation will clean up a given script by removing comments and processing instructions\n * contained in the script and perform a table reordering based on defined foreign keys in a\n * best-effort attempt.\n *\n * &lt;ul&gt;\n * &lt;li&gt;Call {@link #addScript} to add a single SQL script location.\n * &lt;li&gt;Call {@link #addScripts} to add multiple SQL script locations.\n * &lt;li&gt;Consult the setter methods in this class for further configuration options.\n * &lt;li&gt;Call {@link #populate} or {@link #execute} to initialize or clean up the\n * database using the configured scripts.\n * &lt;/ul&gt;\n *\n * @author Keith Donald\n * @author Dave Syer\n * @author Juergen Hoeller\n * @author Chris Beams\n * @author Oliver Gierke\n * @author Sam Brannen\n * @author Chris Baldwin\n * @author Roman Vottner\n *\n * @since 3.0\n * @see DatabasePopulatorUtils\n * @see ScriptUtils\n */\npublic class OrderedResourceDatabasePopulator extends ResourceDatabasePopulator {\n\n  private static final Logger LOG = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass());\n\n  protected String sqlScriptEncoding;\n\n  /**\n   * Construct a new {@code OrderedResourceDatabasePopulator} with default settings.\n   */\n  public OrderedResourceDatabasePopulator() {\n    /* no-op */\n  }\n\n  /**\n   * Construct a new {@code OrderedResourceDatabasePopulator} with default settings\n   * for the supplied scripts.\n   * \n   * @param scripts the scripts to execute to initialize or clean up the database\n   *                (never {@code null})\n   */\n  public OrderedResourceDatabasePopulator(Resource... scripts) {\n    this();\n    setScripts(cleanResource(scripts));\n  }\n\n  /**\n   * Construct a new {@code OrderedResourceDatabasePopulator} with the supplied values.\n   *\n   * @param continueOnError flag to indicate that all failures in SQL should be logged but not cause\n   *                        a failure\n   * @param ignoreFailedDrops flag to indicate that a failed SQL {@code DROP} statement can be\n   *                          ignored\n   * @param sqlScriptEncoding the encoding for the supplied SQL scripts; may be {@code null} or\n   *                           &lt;em&gt;empty&lt;/em&gt; to indicate platform encoding\n   * @param scripts the scripts to execute to initialize or clean up the database (never {@code\n   *                null})\n   */\n  public OrderedResourceDatabasePopulator(boolean continueOnError, boolean ignoreFailedDrops,\n                                          String sqlScriptEncoding, Resource... scripts) {\n\n    super(continueOnError, ignoreFailedDrops, sqlScriptEncoding, scripts);\n  }\n\n  /**\n   * Add a script to execute to initialize or clean up the database.\n   *\n   * @param script the path to an SQL script (never {@code null})\n   */\n  @Override\n  public void addScript(Resource script) {\n    super.addScript(cleanResource(script)[0]);\n  }\n\n  /**\n   * Add multiple scripts to execute to initialize or clean up the database.\n   * \n   * @param scripts the scripts to execute (never {@code null})\n   */\n  @Override\n  public void addScripts(Resource... scripts) {\n    super.addScripts(cleanResource(scripts));\n  }\n\n  /**\n   * Set the scripts to execute to initialize or clean up the database, replacing any previously \n   * added scripts.\n   * \n   * @param scripts the scripts to execute (never {@code null})\n   */\n  @Override\n  public void setScripts(Resource... scripts) {\n    super.setScripts(cleanResource(scripts));\n  }\n\n  /**\n   * Specify the encoding for the configured SQL scripts, if different from the platform encoding.\n   * \n   * @param sqlScriptEncoding the encoding used in scripts; may be {@code null} or empty to indicate\n   *                          platform encoding\n   * \n   * @see #addScript(Resource)\n   */\n  @Override\n  public void setSqlScriptEncoding(String sqlScriptEncoding) {\n    super.setSqlScriptEncoding(sqlScriptEncoding);\n    this.sqlScriptEncoding = StringUtils.hasText(sqlScriptEncoding) ? sqlScriptEncoding : null;\n  }\n\n  private Resource[] cleanResource(Resource... scripts) {\n    List&lt;Resource&gt; cleaned = new ArrayList&lt;&gt;();\n    for (Resource script : scripts) {\n      EncodedResource encodedScript = new EncodedResource(script, this.sqlScriptEncoding);\n\n      StringBuilder sb = new StringBuilder();\n      try (BufferedReader in = new BufferedReader(encodedScript.getReader())) {\n        String line;\n\n        // parse script\n        Map&lt;String, Table&gt; tables = new LinkedHashMap&lt;&gt;();\n        Table curTable = null;\n        while ((line = in.readLine()) != null) {\n          if (!line.startsWith(\"#\") &amp;&amp; !line.startsWith(\"/*\")) {\n            line = line.replaceAll(\"`\", \"\");\n            String lowerCaseLine = line.toLowerCase();\n\n            // parse table definitions\n            if (lowerCaseLine.startsWith(\"drop table\") || \"\".equals(line.trim())) {\n              if (curTable != null) {\n                curTable = null;\n              }\n              continue;\n            }\n\n            curTable = parseTable(line, tables, curTable);\n          }\n        }\n\n        // check the order of table definitions and reorder them to ensure referenced tables are\n        // defined before table specifying the foreign key\n        Map&lt;String, Table&gt; orderedTables = new LinkedHashMap&lt;&gt;();\n        List&lt;Table&gt; backlog = new ArrayList&lt;&gt;();\n        for (String tableName : tables.keySet()) {\n          // check for available foreign key definitions\n          List&lt;String&gt; referencedTables = tables.get(tableName).getReferencedTables();\n          // if no foreign keys are defined in the table we can add the table to the current set\n          if (referencedTables.isEmpty()) {\n            orderedTables.put(tableName, tables.get(tableName));\n            processBacklog(backlog, orderedTables);\n            continue;\n          }\n\n          // foreign keys are defined. If any of the referenced tables is not yet in the set move it\n          // to the backlog table and try it later\n          boolean dependenciesAvailable = true;\n          for (String dependency : referencedTables) {\n            if (!orderedTables.containsKey(dependency)) {\n              backlog.add(tables.get(tableName));\n              dependenciesAvailable = false;\n              break;\n            }\n          }\n\n          // if all referred tables are available in the set add the current table also to the\n          // ordered set\n          if (dependenciesAvailable) {\n            orderedTables.put(tableName, tables.get(tableName));\n            processBacklog(backlog, orderedTables);\n            continue;\n          }\n\n          // probe tables kept in the backlog again\n          processBacklog(backlog, orderedTables);\n        }\n\n        while (!backlog.isEmpty()) {\n          processBacklog(backlog, orderedTables);\n        }\n\n        ArrayList&lt;Table&gt; reverse = new ArrayList&lt;&gt;(orderedTables.values());\n        ListIterator&lt;Table&gt; reverseIter = reverse.listIterator(reverse.size());\n        sb.append(\"DROP TABLE IF EXISTS \");\n        int originalSize = sb.length();\n        while (reverseIter.hasPrevious()) {\n          if (sb.length() &gt; originalSize) {\n            sb.append(\", \");\n          }\n          sb.append(reverseIter.previous().getName());\n        }\n        sb.append(\";\\n\\n\");\n\n        for (Table table : orderedTables.values()) {\n          sb.append(table.getCreateStatement()).append(\"\\n\");\n        }\n\n      } catch (IOException ex) {\n        throw new UncategorizedScriptException(ex.getMessage(), ex);\n      }\n\n      if (LOG.isTraceEnabled()) {\n        LOG.trace(\"SQL script after cleaning: \\n{}\", sb.toString());\n      }\n      Resource cleanedResource = new ByteArrayResource(sb.toString().getBytes());\n      cleaned.add(cleanedResource);\n    }\n\n    return cleaned.toArray(new Resource[cleaned.size()]);\n  }\n\n  private Table parseTable(String line, Map&lt;String, Table&gt; tables, Table curTable) {\n    String lowerCaseLine = line.toLowerCase();\n    if (lowerCaseLine.startsWith(\"create table\")) {\n      String name = line.substring(\"create table \".length(), line.indexOf(\"(\")).trim();\n      curTable = new Table(name);\n      tables.put(name, curTable);\n    } else if (curTable != null) {\n      if (lowerCaseLine.contains(\"primary key\")) {\n        curTable.setPrimaryKey(line);\n      } else if (lowerCaseLine.contains(\"unique key\")) {\n        curTable.addUniqueKey(line);\n      } else if (lowerCaseLine.contains(\"foreign key\")) {\n        curTable.addForeignKey(line);\n      } else if (lowerCaseLine.contains(\" key \")) {\n        curTable.addIndex(line);\n      } else if (lowerCaseLine.contains(\" charset=\") || lowerCaseLine.contains(\"engine=\")) {\n        curTable.setMetaData(line);\n      } else {\n        curTable.addColumn(line);\n      }\n    }\n    return curTable;\n  }\n\n  private void processBacklog(List&lt;Table&gt; backlog, Map&lt;String, Table&gt; orderedTables) {\n    Iterator&lt;Table&gt; iter = backlog.iterator();\n    while (iter.hasNext()) {\n      Table table = iter.next();\n      boolean allDependenciesAvailable = true;\n      for (String dependency : table.getReferencedTables()) {\n        if (!orderedTables.containsKey(dependency)) {\n          allDependenciesAvailable = false;\n        }\n\n        if (allDependenciesAvailable) {\n          orderedTables.put(table.getName(), table);\n          iter.remove();\n        }\n      }\n    }\n  }\n\n  private class Table {\n\n    private final String name;\n    private List&lt;String&gt; columns = new ArrayList&lt;&gt;();\n    private String primaryKey;\n    private List&lt;String&gt; uniqueKeys = new ArrayList&lt;&gt;();\n    private List&lt;String&gt; indices = new ArrayList&lt;&gt;();\n    private List&lt;String&gt; foreignKeys = new ArrayList&lt;&gt;();\n    private String metaData;\n\n    public Table(String name) {\n      this.name = name;\n    }\n\n    String getName() {\n      return this.name;\n    }\n\n    void addColumn(String column) {\n      this.columns.add(column);\n    }\n\n    void setPrimaryKey(String primaryKey) {\n      this.primaryKey = primaryKey;\n    }\n\n    void addUniqueKey(String uniqueKey) {\n      this.uniqueKeys.add(uniqueKey);\n    }\n\n    void addIndex(String index) {\n      this.indices.add(index);\n    }\n\n    void addForeignKey(String foreignKey) {\n      this.foreignKeys.add(foreignKey);\n    }\n\n    List&lt;String&gt; getReferencedTables() {\n      List&lt;String&gt; referencedTables = new ArrayList&lt;&gt;();\n      for (String foreignKey : foreignKeys) {\n        int start = foreignKey.toLowerCase().indexOf(\"references \") + \"references \".length();\n        String table = foreignKey.substring(start, foreignKey.indexOf(\" \", start));\n        referencedTables.add(table);\n      }\n      return referencedTables;\n    }\n\n    void setMetaData(String metaData) {\n      this.metaData = metaData;\n    }\n\n    String getCreateStatement() {\n      StringBuilder sb = new StringBuilder();\n      sb.append(\"CREATE TABLE \").append(this.name).append(\" (\");\n      for (String column : this.columns) {\n        sb.append(\"\\n\");\n        sb.append(\"  \").append(column);\n      }\n      if (null != primaryKey) {\n        sb.append(\"\\n\");\n        sb.append(\"  \").append(this.primaryKey);\n      }\n      if (!uniqueKeys.isEmpty()) {\n        for (String uniqueKey : uniqueKeys) {\n          sb.append(\"\\n\");\n          sb.append(\"  \").append(uniqueKey);\n        }\n      }\n      if (!indices.isEmpty()) {\n        for (String index : indices) {\n          sb.append(\"\\n\");\n          sb.append(\"  \").append(index);\n        }\n      }\n      if (!foreignKeys.isEmpty()) {\n        for (String foreignKey : foreignKeys) {\n          sb.append(\"\\n\");\n          sb.append(\"  \").append(foreignKey);\n        }\n      }\n      sb.append(\"\\n\");\n      if (metaData == null || !metaData.contains(\")\")) {\n        sb.append(\") \");\n      }\n      if (metaData != null) {\n        sb.append(metaData);\n      }\n      sb.append(\"\\n\");\n\n      return sb.toString();\n    }\n  }\n}\n</code></pre>\n\n<p>This populator will first clean the given scripts from any unwanted characters, comments or processing instructions and then build up a virtual table structure in order to sort tables that are target of a foreign reference before the ones declaring the foreign reference. Once the table definitions got virtualized, the populator will recreate the script by first adding a <code>DROP TABLE</code> statement for each table in reverese order of the virtual model and afterwards adding the <code>CREATE TABLE</code> statements in the calculated order.</p>\n\n<p>Note that this version does not yet support other SQL commands (like <code>INSERT</code>, ...) contained in the script. If this is needed feel free to customize this code to your liking.</p>\n\n<p>In order to make use of reordered SQL scripts simply replace <code>ResourceDatabasePopulator</code> with <code>OrderedResourceDatabasePopulator</code></p>\n\n<pre><code>@Override\npublic synchronized void beforeTestClass(TestContext testContext) {\n    ...\n    // import the table definitions from a previously dumped file\n    ResourceDatabasePopulator populator = new OrderedResourceDatabasePopulator();\n    populator.addScript(new ClassPathResource(\"some-table-definitions.sql\"));\n    populator.execute(dataSource);\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238051,"reputation":344,"user_id":506678,"display_name":"ragnaroh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679138423,"creation_date":1679138423,"answer_id":75775522,"question_id":37833643,"body_markdown":"A simple, albeit slightly hacky, solution could be to override the block comment start delimiter to something that will never occur in the script, e.g:\r\n\r\n    ResourceDatabasePopulator populator = new ResourceDatabasePopulator();\r\n    populator.setBlockCommentStartDelimiter(&quot;EXECUTE_COMMENTS_PLZ&quot;);\r\n","title":"Import a MySQL table-definition dump using Spring&#39;s ResourceDatabasePopulator","body":"<p>A simple, albeit slightly hacky, solution could be to override the block comment start delimiter to something that will never occur in the script, e.g:</p>\n<pre><code>ResourceDatabasePopulator populator = new ResourceDatabasePopulator();\npopulator.setBlockCommentStartDelimiter(&quot;EXECUTE_COMMENTS_PLZ&quot;);\n</code></pre>\n"}],"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":919,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46853393,"answer_count":2,"score":1,"last_activity_date":1679138423,"creation_date":1465988750,"question_id":37833643,"body_markdown":"We hava a Spring test execution listener which imports dumped MySQL table definitions through Spring&#39;s `ResourceDatabasePopulator`:\r\n\r\n    public class DBSetupExecutionListener extends AbstractTestExecutionListener {\r\n        ...\r\n    \r\n        @Override\r\n        public synchronized void beforeTestClass(TestContext testContext) {\r\n            ...\r\n            // import the table definitions from a previously dumped file\r\n            ResourceDatabasePopulator populator = new ResourceDatabasePopulator();\r\n            populator.addScript(new ClassPathResource(&quot;some-table-definitions.sql&quot;));\r\n            populator.execute(dataSource);\r\n            ...\r\n        }\r\n    \r\n        ...\r\n    }\r\n\r\nThe imported MySQL dump file does look like this (simplified):\r\n\r\n    /*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;\r\n    /*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;\r\n    /*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;\r\n    /*!40101 SET NAMES utf8 */;\r\n    /*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;\r\n    /*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=&#39;NO_AUTO_VALUE_ON_ZERO&#39; */;\r\n    /*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;\r\n    \r\n    DROP TABLE IF EXISTS `someTable`;\r\n    \r\n    CREATE TABLE `someTable`(\r\n      `id` bigint(20) NOT NULL AUTO_INCREMENT,\r\n      `other_table_id` bigint(20) NOT NULL,\r\n       ...\r\n       PRIMARY KEY (`id`)\r\n       KEY `FK_OTHERTABLE_ID`(`other_table_id`),\r\n       CONSTRAINT `FK_OTHERTABLE_ID` FOREIGN KEY (`other_table_id`) REFERENCES `otherTable`(`id`)\r\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;\r\n    \r\n    DROP TABLE IF EXISTS `otherTable`;\r\n    \r\n    CREATE TABLE `otherTable`(\r\n      `id` bigint(20) NOT NULL AUTO_INCREMENT,\r\n      ...\r\n      PRIMARY KEY (`id`)\r\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;\r\n    \r\n    ...\r\n    \r\n    /*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;\r\n    /*!40101 SET SQL_MODE=@OLD_SQL_MODE */;\r\n    /*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;\r\n    /*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;\r\n    /*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;\r\n    /*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;\r\n\r\nWhile importing the dump via [command line](https://stackoverflow.com/questions/17666249/how-to-import-an-sql-file-using-the-command-line-in-mysql) works without any issues, ResourceDatabasePopulator is ignoring the preprocessor instructions and therefore failing on creating the referencing table first before the actual referenced table is created. Changing the order of the table definitions does solve the issue but is a bit tedious for multiple tables though - especially when you dump the current table definition to a file.\r\n\r\nAs importing dumped SQL table definitions is a quite common task IMO I guess I&#39;m doing something wrong here. Is there a way to tell `ResourceDatabasePopulator` to respect the preprocessing instructions and therefore to prevent foreign key checks while executing the script?\r\n","title":"Import a MySQL table-definition dump using Spring&#39;s ResourceDatabasePopulator","body":"<p>We hava a Spring test execution listener which imports dumped MySQL table definitions through Spring's <code>ResourceDatabasePopulator</code>:</p>\n\n<pre><code>public class DBSetupExecutionListener extends AbstractTestExecutionListener {\n    ...\n\n    @Override\n    public synchronized void beforeTestClass(TestContext testContext) {\n        ...\n        // import the table definitions from a previously dumped file\n        ResourceDatabasePopulator populator = new ResourceDatabasePopulator();\n        populator.addScript(new ClassPathResource(\"some-table-definitions.sql\"));\n        populator.execute(dataSource);\n        ...\n    }\n\n    ...\n}\n</code></pre>\n\n<p>The imported MySQL dump file does look like this (simplified):</p>\n\n<pre><code>/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;\n/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;\n/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;\n/*!40101 SET NAMES utf8 */;\n/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;\n/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;\n/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;\n\nDROP TABLE IF EXISTS `someTable`;\n\nCREATE TABLE `someTable`(\n  `id` bigint(20) NOT NULL AUTO_INCREMENT,\n  `other_table_id` bigint(20) NOT NULL,\n   ...\n   PRIMARY KEY (`id`)\n   KEY `FK_OTHERTABLE_ID`(`other_table_id`),\n   CONSTRAINT `FK_OTHERTABLE_ID` FOREIGN KEY (`other_table_id`) REFERENCES `otherTable`(`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nDROP TABLE IF EXISTS `otherTable`;\n\nCREATE TABLE `otherTable`(\n  `id` bigint(20) NOT NULL AUTO_INCREMENT,\n  ...\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n...\n\n/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;\n/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;\n/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;\n/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;\n/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;\n/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;\n</code></pre>\n\n<p>While importing the dump via <a href=\"https://stackoverflow.com/questions/17666249/how-to-import-an-sql-file-using-the-command-line-in-mysql\">command line</a> works without any issues, ResourceDatabasePopulator is ignoring the preprocessor instructions and therefore failing on creating the referencing table first before the actual referenced table is created. Changing the order of the table definitions does solve the issue but is a bit tedious for multiple tables though - especially when you dump the current table definition to a file.</p>\n\n<p>As importing dumped SQL table definitions is a quite common task IMO I guess I'm doing something wrong here. Is there a way to tell <code>ResourceDatabasePopulator</code> to respect the preprocessing instructions and therefore to prevent foreign key checks while executing the script?</p>\n"},{"tags":["java"],"owner":{"account_id":23261226,"reputation":1,"user_id":17347452,"display_name":"Aaranyak Santra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679138267,"answer_count":0,"score":0,"last_activity_date":1679138262,"creation_date":1679133843,"question_id":75775137,"body_markdown":"I have made a folder and inside that a java file. When I am trying to run the java program then I am getting this error.\r\nThe name of my folder is DSA and java file is Tut1.I have added the package DSA.\r\nAnother thing is that when I am removing that line package DSA then vscode is showing some error with red line but I am getting the ouput. How do I rectify it?\r\n\r\nI tried to remove the line Package DSA and then I was getting the output.","title":"Error: Could not find or load main class Tut1 Caused by: java.lang.NoClassDefFoundError: DSA/Tut1/Tut1 (wrong name: Tut1)","body":"<p>I have made a folder and inside that a java file. When I am trying to run the java program then I am getting this error.\nThe name of my folder is DSA and java file is Tut1.I have added the package DSA.\nAnother thing is that when I am removing that line package DSA then vscode is showing some error with red line but I am getting the ouput. How do I rectify it?</p>\n<p>I tried to remove the line Package DSA and then I was getting the output.</p>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":27996859,"reputation":1,"user_id":21381895,"display_name":"kassyiKuni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679137995,"creation_date":1678652742,"answer_id":75716180,"question_id":75712176,"body_markdown":"I was self-resolved\r\n\r\nI add this code to `SuccessHandler` before `response.sendRedirect(redirectPath);`\r\n\r\n    SecurityContextRepository securityContextRepository = new HttpSessionSecurityContextRepository();\r\n    SecurityContext context = securityContextHolderStrategy.createEmptyContext();\r\n    context.setAuthentication(authentication); \r\n    securityContextHolderStrategy.setContext(SecurityContextHolder.getContext());\r\n    securityContextRepository.saveContext(context, request, response); \r\n\r\nAnd add this code:\r\n\r\n    private final SecurityContextHolderStrategy securityContextHolderStrategy = SecurityContextHolder.getContextHolderStrategy();\r\n\r\n\r\nThe cause of this problem was not storing &quot;Authentication&quot;\r\n\r\nReference: https://docs.spring.io/spring-security/reference/servlet/authentication/session-management.html#store-authentication-manually","title":"When add CustomFilter then null was passed to AuthenticationPrincipal in Controller","body":"<p>I was self-resolved</p>\n<p>I add this code to <code>SuccessHandler</code> before <code>response.sendRedirect(redirectPath);</code></p>\n<pre><code>SecurityContextRepository securityContextRepository = new HttpSessionSecurityContextRepository();\nSecurityContext context = securityContextHolderStrategy.createEmptyContext();\ncontext.setAuthentication(authentication); \nsecurityContextHolderStrategy.setContext(SecurityContextHolder.getContext());\nsecurityContextRepository.saveContext(context, request, response); \n</code></pre>\n<p>And add this code:</p>\n<pre><code>private final SecurityContextHolderStrategy securityContextHolderStrategy = SecurityContextHolder.getContextHolderStrategy();\n</code></pre>\n<p>The cause of this problem was not storing &quot;Authentication&quot;</p>\n<p>Reference: <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/session-management.html#store-authentication-manually\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/authentication/session-management.html#store-authentication-manually</a></p>\n"}],"owner":{"account_id":27996859,"reputation":1,"user_id":21381895,"display_name":"kassyiKuni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679137995,"creation_date":1678613209,"question_id":75712176,"body_markdown":"I added &quot;TenantID&quot; to login-page that authenticate login-user with username and password,\r\nAnd added &quot;CustomAuthenticationFilter&quot;,&quot;CustomAuthenticationProvider&quot;,&quot;MethodSecurityConfig&quot;,&quot;SuccessHandler&quot; and append that to &quot;SecurityConfig&quot;.\r\n\r\nThen It can get  user-data by &quot;SecurityContextHolder.getContext().getAuthentication().getPrincipal()&quot; on &quot;SuccessHandler&quot; that implemented &quot;AuthenticationSuccessHandler&quot;.\r\n\r\nBut,AuthenticationPrincipal on Controller is null.\r\nI want teach me the cause and how to fix it.\r\n\r\nUse:SpringBoot3.0.4,SpringSecurity6.0.2\r\nNo problems with  &quot;SpringSecurity5.2.2&quot;  that used &quot;WebSecurityConfigurerAdapter&quot;\r\n\r\nSecurityConfig\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class SecurityConfig  {\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;SuccessHandler&quot;)\r\n    AuthenticationSuccessHandler successHandler;\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;UserDetailsServiceImpl&quot;)\r\n    private UserDetailsService userDetailsService;\r\n\r\n    //Bean by PasswordEncoder\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;CustomAuthenticationProvider&quot;)\r\n    private AuthenticationProvider authenticationProvider;\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.csrf(csrf -&gt; csrf.disable());\r\n\t\thttp.headers(head -&gt; head.frameOptions().disable());\r\n        http\r\n            .authorizeHttpRequests(authz -&gt; authz.requestMatchers(&quot;/login&quot;).permitAll() \r\n                .anyRequest().authenticated()); \r\n        http\r\n            .formLogin()\r\n//                .loginProcessingUrl(&quot;/login&quot;) \r\n                .loginPage(&quot;/login&quot;); \r\n//                .failureUrl(&quot;/login?error&quot;) \r\n//                .usernameParameter(&quot;userId&quot;) \r\n//                .passwordParameter(&quot;password&quot;) \r\n//                //.defaultSuccessUrl(&quot;/home&quot;, true); \r\n//                .successHandler(successHandler);\r\n\r\n        // Login-filters\r\n        CustomAuthenticationFilter filter = new CustomAuthenticationFilter();\r\n        filter.setRequiresAuthenticationRequestMatcher(new AntPathRequestMatcher(&quot;/login&quot;, &quot;POST&quot;));\r\n        filter.setAuthenticationManager(authenticationManagerBean());\r\n        filter.setAuthenticationFailureHandler(new SimpleUrlAuthenticationFailureHandler(&quot;/login?error&quot;));\r\n        filter.setAuthenticationSuccessHandler(successHandler);\r\n        http.addFilterBefore(filter, CustomAuthenticationFilter.class);\r\n\r\n        // Logout\r\n        http\r\n            .logout()\r\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                .logoutUrl(&quot;/logout&quot;)\r\n                .logoutSuccessUrl(&quot;/login&quot;);\r\n\r\n        return http.build();\r\n    }\r\n\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\tAuthenticationManager auth = new ProviderManager(authenticationProvider);\r\n\t\tSystem.out.println(&quot;AuthenticationManager&quot;);\r\n\t\tSystem.out.println(auth);\r\n\t\t\r\n\t\treturn new ProviderManager(authenticationProvider);\r\n\t}\r\n}\r\n```\r\n\r\nCustomAuthenticationFilter \r\n```\r\npublic class CustomAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n\r\n    @Override\r\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) {\r\n\r\n        // \r\n        AppUserDetails user = new AppUserDetails();\r\n        user.setTenantId(request.getParameter(&quot;tenantId&quot;));\r\n        user.setUserId(request.getParameter(&quot;userId&quot;));\r\n\r\n        // \r\n        String password = obtainPassword(request);\r\n\r\n        // \r\n        UsernamePasswordAuthenticationToken authRequest = new UsernamePasswordAuthenticationToken(user, password);\r\n\r\n        // \r\n        setDetails(request, authRequest);\r\n        \r\n        Authentication authz = this.getAuthenticationManager().authenticate(authRequest);\r\n        System.out.println(&quot;aaaaaaaauth&quot;);\r\n        System.out.println(authz);\r\n        // \r\n        return authz;\r\n    }\r\n}\r\n```\r\n\r\nCustomAuthenticationProvider \r\n```\r\n@Component(&quot;CustomAuthenticationProvider&quot;)\r\n@Slf4j\r\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\r\n\r\n    @Autowired\r\n    UserDetailsServiceImpl service;\r\n\r\n    @Autowired\r\n    MessageSource messageSource;\r\n\r\n    /** () */\r\n    private static final String BAD_CREDENTIALS = &quot;AbstractUserDetailsAuthenticationProvider.badCredentials&quot;;\r\n\r\n    /*\r\n     * .\r\n     */\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n\r\n        // ()\r\n        AppUserDetails user = (AppUserDetails)authentication.getPrincipal();\r\n\r\n        // ()\r\n        String password = (String)authentication.getCredentials();\r\n\r\n        // (DB)\r\n        user = (AppUserDetails) service.loadUserByUsernameAndTenantId(user.getUserId(), user.getTenantId());\r\n\r\n        // \r\n        checkPassword(password, user.getPassword());\r\n\r\n        // \r\n        UserDetailsChecker checker = new AccountStatusUserDetailsChecker();\r\n        checker.check(user);\r\n\r\n        // \r\n        return new UsernamePasswordAuthenticationToken(user, password, user.getAuthorities());\r\n    }\r\n\r\n    /*\r\n     * .\r\n     */\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authentication) {\r\n        return UsernamePasswordAuthenticationToken.class.isAssignableFrom(authentication);\r\n    }\r\n\r\n    /**\r\n     * .\r\n     */\r\n    private void checkPassword(String rawPassword, String encodedPassword) {\r\n\r\n        PasswordEncoder encoder = new BCryptPasswordEncoder();\r\n\r\n        // \r\n        if(encoder.matches(rawPassword, encodedPassword) == false) {\r\n            // \r\n            String message = messageSource.getMessage(BAD_CREDENTIALS,\r\n                    null,\r\n                    Locale.getDefault());\r\n            // \r\n            throw new BadCredentialsException(message);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMethodSecurityConfig \r\n```\r\n@Configuration\r\n@EnableMethodSecurity(prePostEnabled = true,securedEnabled = true,jsr250Enabled = true)\r\npublic class MethodSecurityConfig {\r\n\t\r\n\t\r\n}\r\n```\r\n\r\nSuccessHandler \r\n```\r\n@Component(&quot;SuccessHandler&quot;)\r\n@Slf4j\r\npublic class SuccessHandler implements AuthenticationSuccessHandler {\r\n\r\n    @Autowired\r\n    UserDetailsServiceImpl service;\r\n\r\n    @Override\r\n    public void onAuthenticationSuccess(HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            Authentication authentication) throws IOException, ServletException {\r\n\r\n        log.info(&quot;&quot;);\r\n\r\n        // \r\n        AppUserDetails user = (AppUserDetails) SecurityContextHolder\r\n                .getContext()\r\n                .getAuthentication()\r\n                .getPrincipal();\r\n        log.info(user.toString());\r\n\r\n        String redirectPath = request.getContextPath();\r\n\r\n        // \r\n        if(user.getPassUpdateDate().after(new Date())) {\r\n            // \r\n            log.info(&quot;&quot;);\r\n            redirectPath += &quot;/home&quot;;\r\n\r\n        } else {\r\n            // \r\n            log.info(&quot;&quot;);\r\n            redirectPath += &quot;/password/change&quot;;\r\n\r\n        }\r\n\r\n        log.info(&quot;&quot;);\r\n        response.sendRedirect(redirectPath);\r\n    }\r\n}\r\n\r\n```\r\n\r\nhomeController\r\n\r\n\r\n    public class HomeController {\r\n    @GetMapping(&quot;/home&quot;)\r\n    @PreAuthorize(&quot;hasAuthority(&#39;ROLE_ADMIN&#39;) or hasAuthority(&#39;ROLE_GENERAL&#39;)&quot;) \r\n    public String getHome(Model model,\r\n            @AuthenticationPrincipal AppUserDetails user) {\r\n\r\n        log.info(&quot;HomeController Start&quot;);\r\n\r\n        \r\n        log.info(user.toString());\r\n\r\n        log.info(&quot;HomeController End&quot;);\r\n\r\n        return &quot;home&quot;;\r\n    }\r\n\r\n\r\nI wish user-data is passed to AuthenticationPrincipal in Controller","title":"When add CustomFilter then null was passed to AuthenticationPrincipal in Controller","body":"<p>I added &quot;TenantID&quot; to login-page that authenticate login-user with username and password,\nAnd added &quot;CustomAuthenticationFilter&quot;,&quot;CustomAuthenticationProvider&quot;,&quot;MethodSecurityConfig&quot;,&quot;SuccessHandler&quot; and append that to &quot;SecurityConfig&quot;.</p>\n<p>Then It can get  user-data by &quot;SecurityContextHolder.getContext().getAuthentication().getPrincipal()&quot; on &quot;SuccessHandler&quot; that implemented &quot;AuthenticationSuccessHandler&quot;.</p>\n<p>But,AuthenticationPrincipal on Controller is null.\nI want teach me the cause and how to fix it.</p>\n<p>Use:SpringBoot3.0.4,SpringSecurity6.0.2\nNo problems with  &quot;SpringSecurity5.2.2&quot;  that used &quot;WebSecurityConfigurerAdapter&quot;</p>\n<p>SecurityConfig</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class SecurityConfig  {\n\n    @Autowired\n    @Qualifier(&quot;SuccessHandler&quot;)\n    AuthenticationSuccessHandler successHandler;\n\n    @Autowired\n    @Qualifier(&quot;UserDetailsServiceImpl&quot;)\n    private UserDetailsService userDetailsService;\n\n    //Bean by PasswordEncoder\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Autowired\n    private DataSource dataSource;\n\n    @Autowired\n    @Qualifier(&quot;CustomAuthenticationProvider&quot;)\n    private AuthenticationProvider authenticationProvider;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf(csrf -&gt; csrf.disable());\n        http.headers(head -&gt; head.frameOptions().disable());\n        http\n            .authorizeHttpRequests(authz -&gt; authz.requestMatchers(&quot;/login&quot;).permitAll() \n                .anyRequest().authenticated()); \n        http\n            .formLogin()\n//                .loginProcessingUrl(&quot;/login&quot;) \n                .loginPage(&quot;/login&quot;); \n//                .failureUrl(&quot;/login?error&quot;) \n//                .usernameParameter(&quot;userId&quot;) \n//                .passwordParameter(&quot;password&quot;) \n//                //.defaultSuccessUrl(&quot;/home&quot;, true); \n//                .successHandler(successHandler);\n\n        // Login-filters\n        CustomAuthenticationFilter filter = new CustomAuthenticationFilter();\n        filter.setRequiresAuthenticationRequestMatcher(new AntPathRequestMatcher(&quot;/login&quot;, &quot;POST&quot;));\n        filter.setAuthenticationManager(authenticationManagerBean());\n        filter.setAuthenticationFailureHandler(new SimpleUrlAuthenticationFailureHandler(&quot;/login?error&quot;));\n        filter.setAuthenticationSuccessHandler(successHandler);\n        http.addFilterBefore(filter, CustomAuthenticationFilter.class);\n\n        // Logout\n        http\n            .logout()\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                .logoutUrl(&quot;/logout&quot;)\n                .logoutSuccessUrl(&quot;/login&quot;);\n\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        AuthenticationManager auth = new ProviderManager(authenticationProvider);\n        System.out.println(&quot;AuthenticationManager&quot;);\n        System.out.println(auth);\n        \n        return new ProviderManager(authenticationProvider);\n    }\n}\n</code></pre>\n<p>CustomAuthenticationFilter</p>\n<pre><code>public class CustomAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) {\n\n        // \n        AppUserDetails user = new AppUserDetails();\n        user.setTenantId(request.getParameter(&quot;tenantId&quot;));\n        user.setUserId(request.getParameter(&quot;userId&quot;));\n\n        // \n        String password = obtainPassword(request);\n\n        // \n        UsernamePasswordAuthenticationToken authRequest = new UsernamePasswordAuthenticationToken(user, password);\n\n        // \n        setDetails(request, authRequest);\n        \n        Authentication authz = this.getAuthenticationManager().authenticate(authRequest);\n        System.out.println(&quot;aaaaaaaauth&quot;);\n        System.out.println(authz);\n        // \n        return authz;\n    }\n}\n</code></pre>\n<p>CustomAuthenticationProvider</p>\n<pre><code>@Component(&quot;CustomAuthenticationProvider&quot;)\n@Slf4j\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\n\n    @Autowired\n    UserDetailsServiceImpl service;\n\n    @Autowired\n    MessageSource messageSource;\n\n    /** () */\n    private static final String BAD_CREDENTIALS = &quot;AbstractUserDetailsAuthenticationProvider.badCredentials&quot;;\n\n    /*\n     * .\n     */\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n\n        // ()\n        AppUserDetails user = (AppUserDetails)authentication.getPrincipal();\n\n        // ()\n        String password = (String)authentication.getCredentials();\n\n        // (DB)\n        user = (AppUserDetails) service.loadUserByUsernameAndTenantId(user.getUserId(), user.getTenantId());\n\n        // \n        checkPassword(password, user.getPassword());\n\n        // \n        UserDetailsChecker checker = new AccountStatusUserDetailsChecker();\n        checker.check(user);\n\n        // \n        return new UsernamePasswordAuthenticationToken(user, password, user.getAuthorities());\n    }\n\n    /*\n     * .\n     */\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return UsernamePasswordAuthenticationToken.class.isAssignableFrom(authentication);\n    }\n\n    /**\n     * .\n     */\n    private void checkPassword(String rawPassword, String encodedPassword) {\n\n        PasswordEncoder encoder = new BCryptPasswordEncoder();\n\n        // \n        if(encoder.matches(rawPassword, encodedPassword) == false) {\n            // \n            String message = messageSource.getMessage(BAD_CREDENTIALS,\n                    null,\n                    Locale.getDefault());\n            // \n            throw new BadCredentialsException(message);\n        }\n    }\n}\n</code></pre>\n<p>MethodSecurityConfig</p>\n<pre><code>@Configuration\n@EnableMethodSecurity(prePostEnabled = true,securedEnabled = true,jsr250Enabled = true)\npublic class MethodSecurityConfig {\n    \n    \n}\n</code></pre>\n<p>SuccessHandler</p>\n<pre><code>@Component(&quot;SuccessHandler&quot;)\n@Slf4j\npublic class SuccessHandler implements AuthenticationSuccessHandler {\n\n    @Autowired\n    UserDetailsServiceImpl service;\n\n    @Override\n    public void onAuthenticationSuccess(HttpServletRequest request,\n            HttpServletResponse response,\n            Authentication authentication) throws IOException, ServletException {\n\n        log.info(&quot;&quot;);\n\n        // \n        AppUserDetails user = (AppUserDetails) SecurityContextHolder\n                .getContext()\n                .getAuthentication()\n                .getPrincipal();\n        log.info(user.toString());\n\n        String redirectPath = request.getContextPath();\n\n        // \n        if(user.getPassUpdateDate().after(new Date())) {\n            // \n            log.info(&quot;&quot;);\n            redirectPath += &quot;/home&quot;;\n\n        } else {\n            // \n            log.info(&quot;&quot;);\n            redirectPath += &quot;/password/change&quot;;\n\n        }\n\n        log.info(&quot;&quot;);\n        response.sendRedirect(redirectPath);\n    }\n}\n\n</code></pre>\n<p>homeController</p>\n<pre><code>public class HomeController {\n@GetMapping(&quot;/home&quot;)\n@PreAuthorize(&quot;hasAuthority('ROLE_ADMIN') or hasAuthority('ROLE_GENERAL')&quot;) \npublic String getHome(Model model,\n        @AuthenticationPrincipal AppUserDetails user) {\n\n    log.info(&quot;HomeController Start&quot;);\n\n    \n    log.info(user.toString());\n\n    log.info(&quot;HomeController End&quot;);\n\n    return &quot;home&quot;;\n}\n</code></pre>\n<p>I wish user-data is passed to AuthenticationPrincipal in Controller</p>\n"},{"tags":["java","linux","performance","mmap"],"comments":[{"owner":{"account_id":4892666,"reputation":116360,"user_id":3943312,"display_name":"Sam Varshavchik"},"score":1,"creation_date":1679139562,"post_id":75775446,"comment_id":133670017,"body_markdown":"Given that it&#39;s unlikely that your computer has 500gb of RAM, the entire file cannot be mapped in its entirety, and must be paged in/out, on demand. It is completely expected that, at some point, things are going to grind to a halt, if the access pattern cannot be sufficiently optimized. In your case, &quot;at some point&quot; probably means &quot;anything more than one pair of processes&quot;.","body":"Given that it&#39;s unlikely that your computer has 500gb of RAM, the entire file cannot be mapped in its entirety, and must be paged in/out, on demand. It is completely expected that, at some point, things are going to grind to a halt, if the access pattern cannot be sufficiently optimized. In your case, &quot;at some point&quot; probably means &quot;anything more than one pair of processes&quot;."}],"owner":{"account_id":7310073,"reputation":45,"user_id":5569631,"display_name":"trafalgar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679137646,"creation_date":1679137646,"question_id":75775446,"body_markdown":"I have some single threaded java nodes that which process some batch data. These nodes make heavy use of mmap specifically they write to an mmap file that is around 500gb in size which another process on the box then reads from and sends the data out over the network.\r\n\r\nThe problem?\r\n\r\nIf I run 1 pair of nodes that read/write to the mmap file then the batch is processed within an acceptable time.\r\n\r\nNow if I run several of these read/write pair nodes on the same box...it all grinds to a halt and it takes x4 as long to process the batch data.\r\n\r\nThere is plenty of memory free on the box and there is plenty of CPU free as well.\r\n\r\nI suspect it&#39;s the heavy use of mmap but I don&#39;t know what to look for to prove this - any ideas?","title":"Host slows down with heavy use of mmap?","body":"<p>I have some single threaded java nodes that which process some batch data. These nodes make heavy use of mmap specifically they write to an mmap file that is around 500gb in size which another process on the box then reads from and sends the data out over the network.</p>\n<p>The problem?</p>\n<p>If I run 1 pair of nodes that read/write to the mmap file then the batch is processed within an acceptable time.</p>\n<p>Now if I run several of these read/write pair nodes on the same box...it all grinds to a halt and it takes x4 as long to process the batch data.</p>\n<p>There is plenty of memory free on the box and there is plenty of CPU free as well.</p>\n<p>I suspect it's the heavy use of mmap but I don't know what to look for to prove this - any ideas?</p>\n"},{"tags":["java","spring-boot-actuator","spring-boot-admin"],"comments":[{"owner":{"account_id":4682435,"reputation":7616,"user_id":3790806,"accept_rate":86,"display_name":"hzpz"},"score":0,"creation_date":1687793636,"post_id":75774378,"comment_id":134982959,"body_markdown":"How did you register the services with Spring Boot Admin? It shouldn&#39;t be possible to register two different services and get the same instance ID.","body":"How did you register the services with Spring Boot Admin? It shouldn&#39;t be possible to register two different services and get the same instance ID."},{"owner":{"account_id":28048371,"reputation":11,"user_id":21424705,"display_name":"Rohit Kumar"},"score":0,"creation_date":1688455233,"post_id":75774378,"comment_id":135072663,"body_markdown":"suppose we have a service which we have deployed on 2 different servers but to access them we use a service url, for example, name of my service is abc and I am accessing it via example.com/abc and it is decided automatically that on which server or pod the request will go according to load balancer, and in our case we are not allowed to use ip-address to access that server via spring-boot-admin-server so we are using example.com/abc/health to register and thus we are getting same instance id","body":"suppose we have a service which we have deployed on 2 different servers but to access them we use a service url, for example, name of my service is abc and I am accessing it via example.com/abc and it is decided automatically that on which server or pod the request will go according to load balancer, and in our case we are not allowed to use ip-address to access that server via spring-boot-admin-server so we are using example.com/abc/health to register and thus we are getting same instance id"},{"owner":{"account_id":4682435,"reputation":7616,"user_id":3790806,"accept_rate":86,"display_name":"hzpz"},"score":1,"creation_date":1688718981,"post_id":75774378,"comment_id":135114335,"body_markdown":"It makes no sense to register two different services with the same health URL, because SBA will not know which of the two services it reaches when checking that health URL. You _must_ have a distinct health URL for every service if you want to use SBA.","body":"It makes no sense to register two different services with the same health URL, because SBA will not know which of the two services it reaches when checking that health URL. You <i>must</i> have a distinct health URL for every service if you want to use SBA."}],"owner":{"account_id":28048371,"reputation":11,"user_id":21424705,"display_name":"Rohit Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679137588,"creation_date":1679123545,"question_id":75774378,"body_markdown":"I have 2 replica of a single spring boot services with same service url and context path and they are running on 2 different pods and i have registered both the services to spring boot admin ui but there instance id is same can someone suggest me how to create a unique one,\r\ndue to this I am not able to change logs as it is causing issues with communication between the Spring Boot Admin Server and the instances.\r\n\r\nI have already tried to change some metadata but no luck so far.\r\n\r\nCan we set a custom instance ID that is unique for each instance of my service in spring boot admin server itself.","title":"Instance id in spring boot admin is same for 2 services, can someone suggest me how to create a unique one","body":"<p>I have 2 replica of a single spring boot services with same service url and context path and they are running on 2 different pods and i have registered both the services to spring boot admin ui but there instance id is same can someone suggest me how to create a unique one,\ndue to this I am not able to change logs as it is causing issues with communication between the Spring Boot Admin Server and the instances.</p>\n<p>I have already tried to change some metadata but no luck so far.</p>\n<p>Can we set a custom instance ID that is unique for each instance of my service in spring boot admin server itself.</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1679137510,"post_id":75760773,"comment_id":133669722,"body_markdown":"`AuthenticationManagerResolver` is a &quot;functional interface&quot; (an interface defining only one method) ... Since we/the sample want/s to return an `AuthenticationManagerResolver&lt;HttpServletRequest&gt;`, we need to implement `resolve(HttpServletRequest request)` method...","body":"<code>AuthenticationManagerResolver</code> is a &quot;functional interface&quot; (an interface defining only one method) ... Since we/the sample want/s to return an <code>AuthenticationManagerResolver&lt;HttpServletRequest&gt;</code>, we need to implement <code>resolve(HttpServletRequest request)</code> method..."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1679138368,"post_id":75760773,"comment_id":133669843,"body_markdown":"And whoever will use that &quot;resolver&quot; (method) must/will provide a `HttpServletRequest` (hopefully not null;)","body":"And whoever will use that &quot;resolver&quot; (method) must/will provide a <code>HttpServletRequest</code> (hopefully not null;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1679183951,"post_id":75760773,"comment_id":133676324,"body_markdown":"(the implementation of `resolve(request)` method you provide with (lambda) `(request) -&gt; useJwt(request) ? jwt : opaqueToken;`)","body":"(the implementation of <code>resolve(request)</code> method you provide with (lambda) <code>(request) -&gt; useJwt(request) ? jwt : opaqueToken;</code>)"}],"owner":{"account_id":15006338,"reputation":381,"user_id":10832299,"display_name":"robinmanz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679136593,"creation_date":1678994399,"question_id":75760773,"body_markdown":"At [OAuth 2.0 Resource Server Multi-tenancy](https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/multitenancy.html) the following example is given:\r\n\r\n&gt; ```\r\n&gt; @Bean\r\n&gt; AuthenticationManagerResolver&lt;HttpServletRequest&gt; tokenAuthenticationManagerResolver\r\n&gt;        (JwtDecoder jwtDecoder, OpaqueTokenIntrospector opaqueTokenIntrospector) {\r\n&gt;    AuthenticationManager jwt = new ProviderManager(new JwtAuthenticationProvider(jwtDecoder));\r\n&gt;    AuthenticationManager opaqueToken = new ProviderManager(\r\n&gt;             new OpaqueTokenAuthenticationProvider(opaqueTokenIntrospector));\r\n&gt;    return (request) -&gt; useJwt(request) ? jwt : opaqueToken;\r\n&gt; }\r\n&gt; ```\r\n\r\nSorry but my issue reading this is, where is `request`? It is not passed to the method at all and stuff like this confuses the hell out of me when reading documentation. Can anyone enlighten me what I should look for?\r\n\r\nI need to access the `request` object to further implement the logic.","title":"How can I access the implicit object?","body":"<p>At <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/multitenancy.html\" rel=\"nofollow noreferrer\">OAuth 2.0 Resource Server Multi-tenancy</a> the following example is given:</p>\n<blockquote>\n<pre><code>@Bean\nAuthenticationManagerResolver&lt;HttpServletRequest&gt; tokenAuthenticationManagerResolver\n       (JwtDecoder jwtDecoder, OpaqueTokenIntrospector opaqueTokenIntrospector) {\n   AuthenticationManager jwt = new ProviderManager(new JwtAuthenticationProvider(jwtDecoder));\n   AuthenticationManager opaqueToken = new ProviderManager(\n            new OpaqueTokenAuthenticationProvider(opaqueTokenIntrospector));\n   return (request) -&gt; useJwt(request) ? jwt : opaqueToken;\n}\n</code></pre>\n</blockquote>\n<p>Sorry but my issue reading this is, where is <code>request</code>? It is not passed to the method at all and stuff like this confuses the hell out of me when reading documentation. Can anyone enlighten me what I should look for?</p>\n<p>I need to access the <code>request</code> object to further implement the logic.</p>\n"},{"tags":["java","sonarqube","tablesaw"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":2,"creation_date":1679072178,"post_id":75770217,"comment_id":133661217,"body_markdown":"A [mcve] would be helpful","body":"A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be helpful"},{"owner":{"account_id":2274474,"reputation":119,"user_id":6536262,"display_name":"Viki Jain"},"score":0,"creation_date":1679072401,"post_id":75770217,"comment_id":133661278,"body_markdown":"There could be a possibility that the result of method in contains returns something other than the AggregateFunction class hierarchy. Can you tell what is the relation between AggregateFunction and SummarizingFunction classes??","body":"There could be a possibility that the result of method in contains returns something other than the AggregateFunction class hierarchy. Can you tell what is the relation between AggregateFunction and SummarizingFunction classes??"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1679091028,"post_id":75770217,"comment_id":133665235,"body_markdown":"It&#39;s complaining that `aggFuncList` can&#39;t possibly contain what is returned from `getAggregationFunction()`. What are the definitions of `AggregateFunction` and `SummarizingFunction`?","body":"It&#39;s complaining that <code>aggFuncList</code> can&#39;t possibly contain what is returned from <code>getAggregationFunction()</code>. What are the definitions of <code>AggregateFunction</code> and <code>SummarizingFunction</code>?"},{"owner":{"account_id":3367953,"reputation":1474,"user_id":2828006,"accept_rate":24,"display_name":"Scientist"},"score":0,"creation_date":1679135797,"post_id":75770217,"comment_id":133669443,"body_markdown":"@bohemian both of them are of table saw library","body":"@bohemian both of them are of table saw library"},{"owner":{"account_id":3367953,"reputation":1474,"user_id":2828006,"accept_rate":24,"display_name":"Scientist"},"score":0,"creation_date":1679136296,"post_id":75770217,"comment_id":133669518,"body_markdown":"@bohemian both of them are of table saw library\n\nhttps://github.com/jtablesaw/tablesaw/blob/master/core/src/main/java/tech/tablesaw/aggregate/AggregateFunction.java\n\nSummarizingFunction is a custom class made in which i will attach in above","body":"@bohemian both of them are of table saw library  <a href=\"https://github.com/jtablesaw/tablesaw/blob/master/core/src/main/java/tech/tablesaw/aggregate/AggregateFunction.java\" rel=\"nofollow noreferrer\">github.com/jtablesaw/tablesaw/blob/master/core/src/main/java&zwnj;&#8203;/&hellip;</a>  SummarizingFunction is a custom class made in which i will attach in above"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1679170804,"post_id":75770217,"comment_id":133674872,"body_markdown":"You need to make `SummarizingFunction` extend `AggregateFunction`","body":"You need to make <code>SummarizingFunction</code> extend <code>AggregateFunction</code>"}],"owner":{"account_id":3367953,"reputation":1474,"user_id":2828006,"accept_rate":24,"display_name":"Scientist"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679136349,"creation_date":1679072035,"question_id":75770217,"body_markdown":"I have following code in java which is causing error in sonar.\r\n\r\nThe code is as :\r\n\r\n     private Table sliceTable(Table table, String[] columns, Map&lt;DependencyKey, List&lt;F&gt;&gt; reportFields) {\r\n        TableSliceGroup tableSlices = table.splitOn(columns);\r\n        ListMultimap map = ArrayListMultimap.create();\r\n        reportFields\r\n                .entrySet()\r\n                .stream()\r\n                .filter(entry -&gt; !entry.getKey().getDependencyType().equals(ReportingDependency.SELF) ||\r\n                        !entry.getKey().getDependencyType().equals(ReportingDependency.SELF_WITH_CHECKPOINT))\r\n                .flatMap(entry -&gt; entry.getValue().stream().map(it -&gt; Pair.of(entry.getKey().getDependencyType(), it)))\r\n                .flatMap(pair -&gt; pair.getRight().getDependencyDefinitions().stream().map(depDef -&gt; Triple.of(pair.getLeft(), pair.getRight(), depDef)))\r\n                .filter(triple -&gt; triple.getRight().getClientName().equals(triple.getLeft()))\r\n                .flatMap(triple -&gt; triple.getRight().getFields().stream().map(it -&gt; Triple.of(triple.getMiddle(), triple.getRight(), it)))\r\n                .filter(triple -&gt; TableUtils.containsColumn(table, triple.getMiddle().getClientName(),\r\n                        triple.getRight()))     // This filters out the unresolved columns\r\n                .forEach(triple -&gt; {\r\n                    List&lt;AggregateFunction&lt;?, ?&gt;&gt; aggFuncList = map.get(TableUtils.getColumnNameFromTable(table,\r\n                            triple.getMiddle().getClientName(), triple.getRight()));\r\n                    if (!aggFuncList.contains(\r\n                            TableUtils.getAggregationFunction(\r\n                                    TableUtils.getColumnFromTable(table,\r\n                                            triple.getMiddle().getClientName(),\r\n                                            triple.getRight()).type(),\r\n                                    triple.getRight().getAggregation()))) {\r\n                        map.put(TableUtils.getColumnNameFromTable(table, triple.getMiddle().getClientName(),\r\n                                triple.getRight()),\r\n                                TableUtils.getAggregationFunction(\r\n                                        TableUtils.getColumnFromTable(table,\r\n                                                triple.getMiddle().getClientName(),\r\n                                                triple.getRight()).type(),\r\n                                        triple.getRight().getAggregation()));\r\n                    }\r\n                });\r\n\r\n        Table slicedTable = TableSummarizer.aggregate(tableSlices, map, columns);\r\n        return slicedTable;\r\n    }\r\n\r\nsonar is giving error in this as on following line:\r\n\r\n \r\n\r\n     if (!aggFuncList.contains(\r\n                            TableUtils.getAggregationFunction(\r\n\r\n    A &quot;List&lt;AggregateFunction&gt;&quot; cannot contain a &quot;SummarizingFunction&quot;.\r\n\r\ncan anyone please suggest whats missing in wrong here .\r\n\r\n\r\n    public abstract class SummarizingFunction&lt;INCOL extends Column&lt;?&gt;, OUT&gt;  {\r\n\r\n    private final String functionName;\r\n\r\n    /** Constructs a function with the given name */\r\n    public SummarizingFunction(String functionName) {\r\n        this.functionName = functionName;\r\n    }\r\n\r\n    /** Returns this function&#39;s name */\r\n    public String functionName() {\r\n        return functionName;\r\n    }\r\n\r\n    /** Apply this function to the column argument */\r\n    public abstract OUT summarize(INCOL column, int[] indices);\r\n\r\n    public String toString() {\r\n        return functionName();\r\n    }\r\n\r\n    /** Returns the {@link ColumnType} to be used for the values returned by this function */\r\n    public abstract ColumnType returnType();\r\n}\r\n\r\nThanks\r\n\r\n","title":"java sonar error List&lt;T&gt;&quot; cannot contain a &quot;Function&quot;","body":"<p>I have following code in java which is causing error in sonar.</p>\n<p>The code is as :</p>\n<pre><code> private Table sliceTable(Table table, String[] columns, Map&lt;DependencyKey, List&lt;F&gt;&gt; reportFields) {\n    TableSliceGroup tableSlices = table.splitOn(columns);\n    ListMultimap map = ArrayListMultimap.create();\n    reportFields\n            .entrySet()\n            .stream()\n            .filter(entry -&gt; !entry.getKey().getDependencyType().equals(ReportingDependency.SELF) ||\n                    !entry.getKey().getDependencyType().equals(ReportingDependency.SELF_WITH_CHECKPOINT))\n            .flatMap(entry -&gt; entry.getValue().stream().map(it -&gt; Pair.of(entry.getKey().getDependencyType(), it)))\n            .flatMap(pair -&gt; pair.getRight().getDependencyDefinitions().stream().map(depDef -&gt; Triple.of(pair.getLeft(), pair.getRight(), depDef)))\n            .filter(triple -&gt; triple.getRight().getClientName().equals(triple.getLeft()))\n            .flatMap(triple -&gt; triple.getRight().getFields().stream().map(it -&gt; Triple.of(triple.getMiddle(), triple.getRight(), it)))\n            .filter(triple -&gt; TableUtils.containsColumn(table, triple.getMiddle().getClientName(),\n                    triple.getRight()))     // This filters out the unresolved columns\n            .forEach(triple -&gt; {\n                List&lt;AggregateFunction&lt;?, ?&gt;&gt; aggFuncList = map.get(TableUtils.getColumnNameFromTable(table,\n                        triple.getMiddle().getClientName(), triple.getRight()));\n                if (!aggFuncList.contains(\n                        TableUtils.getAggregationFunction(\n                                TableUtils.getColumnFromTable(table,\n                                        triple.getMiddle().getClientName(),\n                                        triple.getRight()).type(),\n                                triple.getRight().getAggregation()))) {\n                    map.put(TableUtils.getColumnNameFromTable(table, triple.getMiddle().getClientName(),\n                            triple.getRight()),\n                            TableUtils.getAggregationFunction(\n                                    TableUtils.getColumnFromTable(table,\n                                            triple.getMiddle().getClientName(),\n                                            triple.getRight()).type(),\n                                    triple.getRight().getAggregation()));\n                }\n            });\n\n    Table slicedTable = TableSummarizer.aggregate(tableSlices, map, columns);\n    return slicedTable;\n}\n</code></pre>\n<p>sonar is giving error in this as on following line:</p>\n<pre><code> if (!aggFuncList.contains(\n                        TableUtils.getAggregationFunction(\n\nA &quot;List&lt;AggregateFunction&gt;&quot; cannot contain a &quot;SummarizingFunction&quot;.\n</code></pre>\n<p>can anyone please suggest whats missing in wrong here .</p>\n<pre><code>public abstract class SummarizingFunction&lt;INCOL extends Column&lt;?&gt;, OUT&gt;  {\n\nprivate final String functionName;\n\n/** Constructs a function with the given name */\npublic SummarizingFunction(String functionName) {\n    this.functionName = functionName;\n}\n\n/** Returns this function's name */\npublic String functionName() {\n    return functionName;\n}\n\n/** Apply this function to the column argument */\npublic abstract OUT summarize(INCOL column, int[] indices);\n\npublic String toString() {\n    return functionName();\n}\n\n/** Returns the {@link ColumnType} to be used for the values returned by this function */\npublic abstract ColumnType returnType();\n</code></pre>\n<p>}</p>\n<p>Thanks</p>\n"},{"tags":["java","sql","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":3670600,"reputation":319,"user_id":3057914,"accept_rate":67,"display_name":"fedden"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679136263,"creation_date":1679136263,"answer_id":75775345,"question_id":75775284,"body_markdown":"To find JPA entities by their fields you could add a method to the interface of the repository, JPA will generate an SQL query based on the method name\r\n\r\nFor example to find an unique student by teacherId and name you could write \r\n\r\n```\r\npublic Strudent getByNameAndTeacherId(String name, Long teacherId)\r\n```\r\n\r\nif the value is nullable use `find` instead of `get`\r\n\r\n\r\n```\r\npublic Strudent? findByNameAndTeacherId(String name, Long teacherId)\r\n```\r\n\r\n\r\n\r\nhttps://www.baeldung.com/spring-data-derived-queries","title":"In Spring JPA, how do I efficiently retrieve a specific record from a child table?","body":"<p>To find JPA entities by their fields you could add a method to the interface of the repository, JPA will generate an SQL query based on the method name</p>\n<p>For example to find an unique student by teacherId and name you could write</p>\n<pre><code>public Strudent getByNameAndTeacherId(String name, Long teacherId)\n</code></pre>\n<p>if the value is nullable use <code>find</code> instead of <code>get</code></p>\n<pre><code>public Strudent? findByNameAndTeacherId(String name, Long teacherId)\n</code></pre>\n<p><a href=\"https://www.baeldung.com/spring-data-derived-queries\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-derived-queries</a></p>\n"}],"owner":{"account_id":3479550,"reputation":699,"user_id":2911983,"accept_rate":72,"display_name":"itsmarziparzi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679136263,"creation_date":1679135345,"question_id":75775284,"body_markdown":"Let&#39;s say I have the following tables\r\n\r\n    One Teacher to Many Student\r\n    \r\n    Teacher\r\n    id (pk)\r\n    \r\n    Student\r\n    id (pk)\r\n    teacher_id (fk)\r\n    name (string)\r\n\r\nAnd with Spring, I have an entity for `Teacher` and a corresponding `TeacherRepository` , and the same for `Student`.\r\n\r\nWith JPA, how would I retrieve a `Student` object using a `teacher.id` and `student.name`?\r\n\r\nI&#39;d be able to do this using SQL statements with native query, but I&#39;d want to do this maintaining object relations.\r\n\r\nFor example, with `id` and `name` as input, I might achieve this like so:\r\n\r\n    Teacher teacher = teacherRepository.findBy(id);\r\n    Set&lt;Student&gt; students= teacher.getStudents();\r\n    for (Student s : students) {\r\n      if (s.getName() == name)\r\n        return s;\r\n    }\r\n\r\nBut the problem with that is that `findBy` would not be doing a `select` command with a `where Student.name=name`. What&#39;s the JPA way that would produce a SQL query that fetches the specific object?","title":"In Spring JPA, how do I efficiently retrieve a specific record from a child table?","body":"<p>Let's say I have the following tables</p>\n<pre><code>One Teacher to Many Student\n\nTeacher\nid (pk)\n\nStudent\nid (pk)\nteacher_id (fk)\nname (string)\n</code></pre>\n<p>And with Spring, I have an entity for <code>Teacher</code> and a corresponding <code>TeacherRepository</code> , and the same for <code>Student</code>.</p>\n<p>With JPA, how would I retrieve a <code>Student</code> object using a <code>teacher.id</code> and <code>student.name</code>?</p>\n<p>I'd be able to do this using SQL statements with native query, but I'd want to do this maintaining object relations.</p>\n<p>For example, with <code>id</code> and <code>name</code> as input, I might achieve this like so:</p>\n<pre><code>Teacher teacher = teacherRepository.findBy(id);\nSet&lt;Student&gt; students= teacher.getStudents();\nfor (Student s : students) {\n  if (s.getName() == name)\n    return s;\n}\n</code></pre>\n<p>But the problem with that is that <code>findBy</code> would not be doing a <code>select</code> command with a <code>where Student.name=name</code>. What's the JPA way that would produce a SQL query that fetches the specific object?</p>\n"},{"tags":["java","stringbuilder"],"comments":[{"owner":{"account_id":2675582,"reputation":1012,"user_id":2312064,"display_name":"krzydyn"},"score":2,"creation_date":1679076787,"post_id":75770768,"comment_id":133662351,"body_markdown":"condition `str.charAt(i)&lt;=&#39;A&#39; &amp;&amp; str.charAt(i)&gt;=&#39;Z&#39; &amp;&amp; str.charAt(i)&lt;=&#39;a&#39; &amp;&amp; str.charAt(i)&gt;=&#39;z&#39;)` is never satisfied.","body":"condition <code>str.charAt(i)&lt;=&#39;A&#39; &amp;&amp; str.charAt(i)&gt;=&#39;Z&#39; &amp;&amp; str.charAt(i)&lt;=&#39;a&#39; &amp;&amp; str.charAt(i)&gt;=&#39;z&#39;)</code> is never satisfied."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1679076857,"post_id":75770768,"comment_id":133662366,"body_markdown":"To put it more simply - imagine you were dealing with integers. Your condition would be something like `if (x &lt;= 5 &amp;&amp; x &gt;= 10 &amp;&amp; x &lt;= 25 &amp;&amp; x &gt;= 30)`. What value would you expect to satisfy all those parts? (I&#39;d also suggest that if you call `str.charAt(i)` *once* and store the result in a local variable to use in your condition multiple times, your condition is likely to end up being more readable.)","body":"To put it more simply - imagine you were dealing with integers. Your condition would be something like <code>if (x &lt;= 5 &amp;&amp; x &gt;= 10 &amp;&amp; x &lt;= 25 &amp;&amp; x &gt;= 30)</code>. What value would you expect to satisfy all those parts? (I&#39;d also suggest that if you call <code>str.charAt(i)</code> <i>once</i> and store the result in a local variable to use in your condition multiple times, your condition is likely to end up being more readable.)"},{"owner":{"account_id":21851611,"reputation":25,"user_id":16143615,"display_name":"CodeThrust"},"score":0,"creation_date":1679077070,"post_id":75770768,"comment_id":133662411,"body_markdown":"@JonSkeet I was trying to relate charAt() values with the Ascii table reference","body":"@JonSkeet I was trying to relate charAt() values with the Ascii table reference"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1679077142,"post_id":75770768,"comment_id":133662425,"body_markdown":"Yes, I realise that - but I suggest you look *really carefully* at what I&#39;ve suggested (both parts). What value of `x` is both &quot;less than or equal to 5&quot; *and* &quot;greater than or equal to 10&quot;? Then apply that same thinking to character comparisons.","body":"Yes, I realise that - but I suggest you look <i>really carefully</i> at what I&#39;ve suggested (both parts). What value of <code>x</code> is both &quot;less than or equal to 5&quot; <i>and</i> &quot;greater than or equal to 10&quot;? Then apply that same thinking to character comparisons."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1679077234,"post_id":75770768,"comment_id":133662449,"body_markdown":"@SURAJMAHAKAL you&#39;re missing the point of the comments. Try a sample input string for which  `isValidString(StringBuilder str)` is supposed to return `true`.  Pretend you are the computer, and follow the logic of that method. Use pen and paper for your computer memory. Create truth tables with columns such as `c &lt;=&#39;A&#39;`, `c&gt;=&#39;Z&#39;`, and so on.","body":"@SURAJMAHAKAL you&#39;re missing the point of the comments. Try a sample input string for which  <code>isValidString(StringBuilder str)</code> is supposed to return <code>true</code>.  Pretend you are the computer, and follow the logic of that method. Use pen and paper for your computer memory. Create truth tables with columns such as <code>c &lt;=&#39;A&#39;</code>, <code>c&gt;=&#39;Z&#39;</code>, and so on."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1679077793,"post_id":75770768,"comment_id":133662561,"body_markdown":"... where `c`, in my previous comment, represents the current value pointed to by `str.charAt(i)`.","body":"... where <code>c</code>, in my previous comment, represents the current value pointed to by <code>str.charAt(i)</code>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1679155537,"post_id":75770768,"comment_id":133672591,"body_markdown":"A version of this is common question on Stack Overflow. Unfortunately, I&#39;m not good at finding the duplicates.","body":"A version of this is common question on Stack Overflow. Unfortunately, I&#39;m not good at finding the duplicates."}],"answers":[{"tags":[],"owner":{"account_id":7266777,"reputation":138,"user_id":5541152,"display_name":"Arvind Rachuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679077417,"creation_date":1679077417,"answer_id":75770955,"question_id":75770768,"body_markdown":"Simply put, you will never have a character that is `&lt;= A` and `&gt;=Z` because the range `A-Z` is contiguous and ascending. The same is true for the range `a-z`. So instead of \\\r\n`str.charAt(i)&lt;=&#39;A&#39; &amp;&amp; str.charAt(i)&gt;=&#39;Z&#39; &amp;&amp; str.charAt(i)&lt;=&#39;a&#39; &amp;&amp; str.charAt(i)&gt;=&#39;z&#39;` \\\r\nyou need this - \\\r\n`!(str.charAt(i)&gt;=&#39;A&#39; &amp;&amp; str.charAt(i)&lt;=&#39;Z&#39;) &amp;&amp; !(str.charAt(i)&gt;=&#39;a&#39; &amp;&amp; str.charAt(i)&lt;=&#39;z&#39;)`","title":"problem while comparing char with relational operators","body":"<p>Simply put, you will never have a character that is <code>&lt;= A</code> and <code>&gt;=Z</code> because the range <code>A-Z</code> is contiguous and ascending. The same is true for the range <code>a-z</code>. So instead of <br />\n<code>str.charAt(i)&lt;='A' &amp;&amp; str.charAt(i)&gt;='Z' &amp;&amp; str.charAt(i)&lt;='a' &amp;&amp; str.charAt(i)&gt;='z'</code> <br />\nyou need this - <br />\n<code>!(str.charAt(i)&gt;='A' &amp;&amp; str.charAt(i)&lt;='Z') &amp;&amp; !(str.charAt(i)&gt;='a' &amp;&amp; str.charAt(i)&lt;='z')</code></p>\n"}],"owner":{"account_id":21851611,"reputation":25,"user_id":16143615,"display_name":"CodeThrust"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1679135966,"creation_date":1679076016,"question_id":75770768,"body_markdown":"```\r\nimport java.util.Scanner;\r\npublic class ValidString {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter the String: &quot;);\r\n\t\t//String s = scan.nextLine();\r\n\t\tStringBuilder str = new StringBuilder(scan.nextLine());\r\n\t\tSystem.out.println(isValidString(str));\r\n\t\tscan.close();\r\n\t}\r\n\r\n\tpublic static boolean isValidString(StringBuilder str) {\r\n\t\tfor(int i = 0;i&lt;str.length();i++) {\r\n\t\tint s = (int)newStr.charAt(i);\r\n\t\t\tif(s&gt;=97 &amp;&amp; s&lt;=122 || s&gt;=65 &amp;&amp; s&lt;=90){\r\n\t\t\t\t\r\n\t\t\t\tcontinue;\r\n\t\t\t}else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI was expecting the output as true if string contains only Alphabets else false value.\r\nCan anyone trace out what&#39;s the problem with this code.","title":"problem while comparing char with relational operators","body":"<pre><code>import java.util.Scanner;\npublic class ValidString {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;Enter the String: &quot;);\n        //String s = scan.nextLine();\n        StringBuilder str = new StringBuilder(scan.nextLine());\n        System.out.println(isValidString(str));\n        scan.close();\n    }\n\n    public static boolean isValidString(StringBuilder str) {\n        for(int i = 0;i&lt;str.length();i++) {\n        int s = (int)newStr.charAt(i);\n            if(s&gt;=97 &amp;&amp; s&lt;=122 || s&gt;=65 &amp;&amp; s&lt;=90){\n                \n                continue;\n            }else {\n                return false;\n            }\n        }\n        return true;\n    }\n\n}\n</code></pre>\n<p>I was expecting the output as true if string contains only Alphabets else false value.\nCan anyone trace out what's the problem with this code.</p>\n"},{"tags":["java","google-chrome-os"],"comments":[{"owner":{"account_id":26427288,"reputation":1582,"user_id":20074043,"display_name":"Norio Yamamoto"},"score":0,"creation_date":1675889967,"post_id":75388550,"comment_id":133027689,"body_markdown":"Is it possible to do that with an android app?","body":"Is it possible to do that with an android app?"}],"answers":[{"tags":[],"owner":{"account_id":5806666,"reputation":1031,"user_id":4579081,"accept_rate":62,"display_name":"ema3272"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679135939,"creation_date":1679135939,"answer_id":75775326,"question_id":75388550,"body_markdown":"I solved this issue by using `onKeyShortcut` instead\r\n\r\n    \r\n    @Override\r\n    public boolean onKeyShortcut (int keyCode, KeyEvent event) {\r\n        if (event.isCtrlPressed()) {\r\n            switch (event.getKeyCode()) {\r\n                case KeyEvent.KEYCODE_Z:\r\n                    UndoBtnFired(undoBtn);\r\n                    break;\r\n                case KeyEvent.KEYCODE_S:\r\n                    saveToFile(null);\r\n                    break;\r\n                case KEYCODE_L:\r\n                    clearDrawnLinks(mContext);\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n","title":"dispatchKeyShortcutEvent not being called in a Chrome OS environment","body":"<p>I solved this issue by using <code>onKeyShortcut</code> instead</p>\n<pre><code>@Override\npublic boolean onKeyShortcut (int keyCode, KeyEvent event) {\n    if (event.isCtrlPressed()) {\n        switch (event.getKeyCode()) {\n            case KeyEvent.KEYCODE_Z:\n                UndoBtnFired(undoBtn);\n                break;\n            case KeyEvent.KEYCODE_S:\n                saveToFile(null);\n                break;\n            case KEYCODE_L:\n                clearDrawnLinks(mContext);\n                break;\n            default:\n                break;\n        }\n    }\n\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":5806666,"reputation":1031,"user_id":4579081,"accept_rate":62,"display_name":"ema3272"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75775326,"answer_count":1,"score":0,"last_activity_date":1679135939,"creation_date":1675872378,"question_id":75388550,"body_markdown":"I want to implement code to react to common shortcuts like Ctrl + S (save), Ctrl + Z (undo) in a Chrome OS environment.\r\n\r\nI have added the following code in the activity:\r\n\r\n    @Override\r\n    public boolean dispatchKeyShortcutEvent(KeyEvent event) {\r\n      if (event.getKeyCode() == KeyEvent.KEYCODE_O) {\r\n          openFile(); // Ctrl+O, Shift+O, Alt+O\r\n          return true;\r\n      } else if(event.getKeyCode() == KeyEvent.KEYCODE_Z) {\r\n          if (event.isCtrlPressed()) {\r\n                  undoLastAction();\r\n                  return true;\r\n          }\r\n      }\r\n      return super.dispatchKeyShortcutEvent(event);\r\n    }\r\n\r\nAnd I have added the `Window.Callback` to the activity:\r\n\r\n    public class ScMain extends AppCompatActivity implements View.OnClickListener,      \r\n            FragmentManager.OnBackStackChangedListener, Window.Callback {\r\n\r\n \r\nAndroid Studio displays the following message:\r\n\r\n*ComponentActivity.dispatchKeyShortcutEvent can only be called from within the same library group prefix (referenced groupId=androidx.core with prefix androidx from groupId=[my app])*\r\n\r\nAlthough the code compiles without error, the `dispatchKeyShortcutEvent` method is never called.\r\n\r\nI can not find which dependency I should add in my gradle file. Or do I need additional code?","title":"dispatchKeyShortcutEvent not being called in a Chrome OS environment","body":"<p>I want to implement code to react to common shortcuts like Ctrl + S (save), Ctrl + Z (undo) in a Chrome OS environment.</p>\n<p>I have added the following code in the activity:</p>\n<pre><code>@Override\npublic boolean dispatchKeyShortcutEvent(KeyEvent event) {\n  if (event.getKeyCode() == KeyEvent.KEYCODE_O) {\n      openFile(); // Ctrl+O, Shift+O, Alt+O\n      return true;\n  } else if(event.getKeyCode() == KeyEvent.KEYCODE_Z) {\n      if (event.isCtrlPressed()) {\n              undoLastAction();\n              return true;\n      }\n  }\n  return super.dispatchKeyShortcutEvent(event);\n}\n</code></pre>\n<p>And I have added the <code>Window.Callback</code> to the activity:</p>\n<pre><code>public class ScMain extends AppCompatActivity implements View.OnClickListener,      \n        FragmentManager.OnBackStackChangedListener, Window.Callback {\n</code></pre>\n<p>Android Studio displays the following message:</p>\n<p><em>ComponentActivity.dispatchKeyShortcutEvent can only be called from within the same library group prefix (referenced groupId=androidx.core with prefix androidx from groupId=[my app])</em></p>\n<p>Although the code compiles without error, the <code>dispatchKeyShortcutEvent</code> method is never called.</p>\n<p>I can not find which dependency I should add in my gradle file. Or do I need additional code?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":2218985,"reputation":1540,"user_id":1958929,"accept_rate":75,"display_name":"derstauner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679134381,"creation_date":1679134136,"answer_id":75775161,"question_id":75774966,"body_markdown":"After searching deeper on the net, I found the answer based on [this][1] blog post.\r\n\r\nIn the `filterChain` method I declared an `authManager` like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    AuthenticationManager authManager = authManager(http);\r\n\r\nThen I modified the security config like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    http\r\n        .csrf().disable()\r\n        .authenticationManager(authManager)\r\n        .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and()\r\n        .addFilter(new JwtUserNameAndPasswordAuthFilter(authManager))\r\n        .authorizeHttpRequests()\r\n            .requestMatchers(&quot;/&quot;, &quot;/index.html&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;).permitAll()\r\n            .requestMatchers(&quot;/api/**&quot;).hasRole(STUDENT.name())\r\n            .anyRequest().authenticated();\r\n\r\nNow, it builds.\r\n\r\n  [1]: https://blog.devgenius.io/implementing-authentication-and-authorization-using-spring-security-kotlin-and-jwt-an-easy-and-cc82a1f20567","title":"Adding JWT filter to filter chain throws &#39;This object has already been built&#39; error","body":"<p>After searching deeper on the net, I found the answer based on <a href=\"https://blog.devgenius.io/implementing-authentication-and-authorization-using-spring-security-kotlin-and-jwt-an-easy-and-cc82a1f20567\" rel=\"nofollow noreferrer\">this</a> blog post.</p>\n<p>In the <code>filterChain</code> method I declared an <code>authManager</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>AuthenticationManager authManager = authManager(http);\n</code></pre>\n<p>Then I modified the security config like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n    .csrf().disable()\n    .authenticationManager(authManager)\n    .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n    .addFilter(new JwtUserNameAndPasswordAuthFilter(authManager))\n    .authorizeHttpRequests()\n        .requestMatchers(&quot;/&quot;, &quot;/index.html&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;).permitAll()\n        .requestMatchers(&quot;/api/**&quot;).hasRole(STUDENT.name())\n        .anyRequest().authenticated();\n</code></pre>\n<p>Now, it builds.</p>\n"}],"owner":{"account_id":2218985,"reputation":1540,"user_id":1958929,"accept_rate":75,"display_name":"derstauner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75775161,"answer_count":1,"score":-1,"last_activity_date":1679134615,"creation_date":1679131750,"question_id":75774966,"body_markdown":"I use Spring Boot 3 and have the following issue.\r\n\r\nThis is my `filterChain` method:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .csrf().disable()\r\n            .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n            .addFilter(new JwtUserNameAndPasswordAuthFilter(authManager(http)))\r\n            .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/&quot;, &quot;/index.html&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;).permitAll()\r\n                .requestMatchers(&quot;/api/**&quot;).hasRole(STUDENT.name())\r\n                .anyRequest().authenticated();\r\n\r\n        return http.build();\r\n    }\r\n\r\nAnd this is the `authManager` method:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Bean\r\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\r\n        AuthenticationManagerBuilder authenticationManagerBuilder = http\r\n                                    .getSharedObject(AuthenticationManagerBuilder.class);\r\n        authenticationManagerBuilder.authenticationProvider(daoAuthenticationProvider());\r\n        return authenticationManagerBuilder.build();\r\n    }\r\n\r\nNow, with this setup, I get the error \r\n\r\n&gt; Factory method &#39;filterChain&#39; threw exception with message: This object has already been built  \r\n\r\nIf I remove the JWT filter, it works. I assume, because I let build the `AuthenticationManager` and in the `filterChain` method there is another build.\r\n\r\nHow to resolve this issue under Spring Boot 3? In the `filterChain` method I need the build, since the method has to return a `SecurityFilterChain`. \r\n\r\nI found [this][1] question, which is exactly my problem, but unfortunatelly, there is no answer.\r\n\r\n  [1]: https://stackoverflow.com/questions/74187035/error-creating-bean-with-name-filterchain-org-springframework-security-config","title":"Adding JWT filter to filter chain throws &#39;This object has already been built&#39; error","body":"<p>I use Spring Boot 3 and have the following issue.</p>\n<p>This is my <code>filterChain</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n        .csrf().disable()\n        .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n        .addFilter(new JwtUserNameAndPasswordAuthFilter(authManager(http)))\n        .authorizeHttpRequests()\n            .requestMatchers(&quot;/&quot;, &quot;/index.html&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;).permitAll()\n            .requestMatchers(&quot;/api/**&quot;).hasRole(STUDENT.name())\n            .anyRequest().authenticated();\n\n    return http.build();\n}\n</code></pre>\n<p>And this is the <code>authManager</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic AuthenticationManager authManager(HttpSecurity http) throws Exception {\n    AuthenticationManagerBuilder authenticationManagerBuilder = http\n                                .getSharedObject(AuthenticationManagerBuilder.class);\n    authenticationManagerBuilder.authenticationProvider(daoAuthenticationProvider());\n    return authenticationManagerBuilder.build();\n}\n</code></pre>\n<p>Now, with this setup, I get the error</p>\n<blockquote>\n<p>Factory method 'filterChain' threw exception with message: This object has already been built</p>\n</blockquote>\n<p>If I remove the JWT filter, it works. I assume, because I let build the <code>AuthenticationManager</code> and in the <code>filterChain</code> method there is another build.</p>\n<p>How to resolve this issue under Spring Boot 3? In the <code>filterChain</code> method I need the build, since the method has to return a <code>SecurityFilterChain</code>.</p>\n<p>I found <a href=\"https://stackoverflow.com/questions/74187035/error-creating-bean-with-name-filterchain-org-springframework-security-config\">this</a> question, which is exactly my problem, but unfortunatelly, there is no answer.</p>\n"},{"tags":["java","unique","factory"],"comments":[{"owner":{"account_id":1334069,"reputation":4343,"user_id":1277259,"accept_rate":75,"display_name":"KevinO"},"score":1,"creation_date":1462986295,"post_id":37169055,"comment_id":61873034,"body_markdown":"Is this backed by a database at all? I mean, what constitutes &quot;existence&quot; -- over what time frame?","body":"Is this backed by a database at all? I mean, what constitutes &quot;existence&quot; -- over what time frame?"},{"owner":{"account_id":7909428,"reputation":119,"user_id":5973919,"accept_rate":23,"display_name":"Andrew Coates"},"score":0,"creation_date":1462986430,"post_id":37169055,"comment_id":61873109,"body_markdown":"No there&#39;s no database involved. If I&#39;ve implemented it correctly, the LicenceNumbers are stored in the Map, so I&#39;d have to check there.","body":"No there&#39;s no database involved. If I&#39;ve implemented it correctly, the LicenceNumbers are stored in the Map, so I&#39;d have to check there."},{"owner":{"account_id":1334069,"reputation":4343,"user_id":1277259,"accept_rate":75,"display_name":"KevinO"},"score":4,"creation_date":1462986546,"post_id":37169055,"comment_id":61873184,"body_markdown":"I would suggest an AtomicInteger. I will provide a quick answer in just a moment.","body":"I would suggest an AtomicInteger. I will provide a quick answer in just a moment."},{"owner":{"account_id":5226322,"reputation":2046,"user_id":4178262,"display_name":"Mark Stewart"},"score":1,"creation_date":1462986568,"post_id":37169055,"comment_id":61873195,"body_markdown":"You will need to be careful about threading issues.  Also, if you don&#39;t worry about &quot;gaps&quot; in sequence numbers for MS-1980, you could have one master sequence generator.  Otherwise you would need a sequence generator for each set of initials and year.","body":"You will need to be careful about threading issues.  Also, if you don&#39;t worry about &quot;gaps&quot; in sequence numbers for MS-1980, you could have one master sequence generator.  Otherwise you would need a sequence generator for each set of initials and year."},{"owner":{"account_id":7909428,"reputation":119,"user_id":5973919,"accept_rate":23,"display_name":"Andrew Coates"},"score":0,"creation_date":1462986840,"post_id":37169055,"comment_id":61873346,"body_markdown":"@MarkStewart Could you elaborate on &quot;gaps&quot;? Do you mean the dashes between components of LicenceNumber? If so, then unfortunately I need them.","body":"@MarkStewart Could you elaborate on &quot;gaps&quot;? Do you mean the dashes between components of LicenceNumber? If so, then unfortunately I need them."},{"owner":{"account_id":6411938,"reputation":4104,"user_id":4971422,"display_name":"FredK"},"score":1,"creation_date":1462987601,"post_id":37169055,"comment_id":61873818,"body_markdown":"Why do they have to be random? Why not just a sequential series?","body":"Why do they have to be random? Why not just a sequential series?"},{"owner":{"account_id":7909428,"reputation":119,"user_id":5973919,"accept_rate":23,"display_name":"Andrew Coates"},"score":0,"creation_date":1462987787,"post_id":37169055,"comment_id":61873944,"body_markdown":"@FredK I could just store a serial number variable and have it increment by one each time a new LicenceNo is created. That way if Mark was generated after molly, then the number would be unique. But I think it makes more sense that if someone has the same initials, then their serial number should just be one greater than the previous.","body":"@FredK I could just store a serial number variable and have it increment by one each time a new LicenceNo is created. That way if Mark was generated after molly, then the number would be unique. But I think it makes more sense that if someone has the same initials, then their serial number should just be one greater than the previous."},{"owner":{"account_id":5226322,"reputation":2046,"user_id":4178262,"display_name":"Mark Stewart"},"score":0,"creation_date":1462993915,"post_id":37169055,"comment_id":61877473,"body_markdown":"By gaps, I mean is it okay if for all the M* S*  born in 1990, is it okay if the sequential number has gaps:  MS-1980-11, MS-1980-12, MS-1980-15, MS-1980-20:  gaps are 13, 14, 16 through 20.  If that kind of gap is okay, then you could have a master sequence generator for all initials and years.","body":"By gaps, I mean is it okay if for all the M* S*  born in 1990, is it okay if the sequential number has gaps:  MS-1980-11, MS-1980-12, MS-1980-15, MS-1980-20:  gaps are 13, 14, 16 through 20.  If that kind of gap is okay, then you could have a master sequence generator for all initials and years."}],"answers":[{"comments":[{"owner":{"account_id":7909428,"reputation":119,"user_id":5973919,"accept_rate":23,"display_name":"Andrew Coates"},"score":0,"creation_date":1462989210,"post_id":37169487,"comment_id":61874859,"body_markdown":"It appears that when setting the serialNumber using getSequence(), I&#39;m getting an error saying getSequence should be static. Also, how could this be implemented using a standard Map?","body":"It appears that when setting the serialNumber using getSequence(), I&#39;m getting an error saying getSequence should be static. Also, how could this be implemented using a standard Map?"},{"owner":{"account_id":1334069,"reputation":4343,"user_id":1277259,"accept_rate":75,"display_name":"KevinO"},"score":0,"creation_date":1462989646,"post_id":37169487,"comment_id":61875090,"body_markdown":"Sorry, missed that `getInstance()` is static (related question: why is it?). So, the other methods need to be static as well. To use a standard `Map&lt;&gt;`, remove the Concurrent from them, and then change from `putIfAbsent` to something akin to  `ai = _sequence.get(key); if (ai == null) { ai = chk; _sequence.put(key, ai);}`. Basically if you read the Javadoc for `putIfAbsent` it gives the algorithm it is using. Note that making these changes removes thread safety.","body":"Sorry, missed that <code>getInstance()</code> is static (related question: why is it?). So, the other methods need to be static as well. To use a standard <code>Map&lt;&gt;</code>, remove the Concurrent from them, and then change from <code>putIfAbsent</code> to something akin to  <code>ai = _sequence.get(key); if (ai == null) { ai = chk; _sequence.put(key, ai);}</code>. Basically if you read the Javadoc for <code>putIfAbsent</code> it gives the algorithm it is using. Note that making these changes removes thread safety."},{"owner":{"account_id":1334069,"reputation":4343,"user_id":1277259,"accept_rate":75,"display_name":"KevinO"},"score":0,"creation_date":1462990434,"post_id":37169487,"comment_id":61875577,"body_markdown":"My bad, the standard `Map` has a `putIfAbsent()`, so in theory you can just change from `ConcurrentMap`/`CurrentHashMap` to `Map`/`HashMap`: `static final private Map&lt;String, AtomicInteger&gt; _sequence =  new HashMap&lt;&gt;();`","body":"My bad, the standard <code>Map</code> has a <code>putIfAbsent()</code>, so in theory you can just change from <code>ConcurrentMap</code>/<code>CurrentHashMap</code> to <code>Map</code>/<code>HashMap</code>: <code>static final private Map&lt;String, AtomicInteger&gt; _sequence =  new HashMap&lt;&gt;();</code>"},{"owner":{"account_id":7909428,"reputation":119,"user_id":5973919,"accept_rate":23,"display_name":"Andrew Coates"},"score":0,"creation_date":1462993174,"post_id":37169487,"comment_id":61877081,"body_markdown":"Ah yeah that works perfectly. The reason I&#39;ve made getInstance static is because I&#39;m basing it on an example given in some lecture notes. Is there a reason it shouldn&#39;t be?","body":"Ah yeah that works perfectly. The reason I&#39;ve made getInstance static is because I&#39;m basing it on an example given in some lecture notes. Is there a reason it shouldn&#39;t be?"},{"owner":{"account_id":1334069,"reputation":4343,"user_id":1277259,"accept_rate":75,"display_name":"KevinO"},"score":0,"creation_date":1462993631,"post_id":37169487,"comment_id":61877324,"body_markdown":"Glad the answer helped! IMHO, `getInstance()` implies a Singleton pattern; I would expect `getInstance()` to return some singleton, not a particular instantiation of an object. If I follow the idea, basically you have a builder approach, rather than using a constructor. The approach works, but I would push for a refactoring in a code review because too many methods and variables must be static, yet the constructor for `LicenseNumber` is public. The implication is that I can do `new LicenseNumber()`, but it is not going to be properly registered in the ` LICENCENOS` map.","body":"Glad the answer helped! IMHO, <code>getInstance()</code> implies a Singleton pattern; I would expect <code>getInstance()</code> to return some singleton, not a particular instantiation of an object. If I follow the idea, basically you have a builder approach, rather than using a constructor. The approach works, but I would push for a refactoring in a code review because too many methods and variables must be static, yet the constructor for <code>LicenseNumber</code> is public. The implication is that I can do <code>new LicenseNumber()</code>, but it is not going to be properly registered in the ` LICENCENOS` map."},{"owner":{"account_id":7909428,"reputation":119,"user_id":5973919,"accept_rate":23,"display_name":"Andrew Coates"},"score":0,"creation_date":1462998844,"post_id":37169487,"comment_id":61880168,"body_markdown":"Ok so in the spec for this, one of the aims is to, &quot;demonstrate the use of factories to control instantiation of objects, including guaranteeing the\ninstantiation of unique instances&quot;. And in my lecture notes, there&#39;s a section on &quot;using a factory for uniqueness&quot;, so I made the connection and assumed that this would be the best way to do it. However, in a short example on how to implement a DrivingLicence class, one of the comments under the constructor is, &quot;// instantiate a licence number using the driverName and dateOfIssue&quot;. Now the fact it says &quot;instantiate&quot; makes me think (part1)","body":"Ok so in the spec for this, one of the aims is to, &quot;demonstrate the use of factories to control instantiation of objects, including guaranteeing the instantiation of unique instances&quot;. And in my lecture notes, there&#39;s a section on &quot;using a factory for uniqueness&quot;, so I made the connection and assumed that this would be the best way to do it. However, in a short example on how to implement a DrivingLicence class, one of the comments under the constructor is, &quot;// instantiate a licence number using the driverName and dateOfIssue&quot;. Now the fact it says &quot;instantiate&quot; makes me think (part1)"},{"owner":{"account_id":7909428,"reputation":119,"user_id":5973919,"accept_rate":23,"display_name":"Andrew Coates"},"score":0,"creation_date":1462998852,"post_id":37169487,"comment_id":61880171,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/111674/discussion-between-andrew-coates-and-kevino).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/111674/discussion-between-andrew-coates-and-kevino\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":1334069,"reputation":4343,"user_id":1277259,"accept_rate":75,"display_name":"KevinO"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1462987630,"creation_date":1462987630,"answer_id":37169487,"question_id":37169055,"body_markdown":"Here is an approach that will create incremental numbers for the *duration of the program*. Since there is no backing database, each run of the program will reset.\r\n\r\nIt works by using an `AtomicInteger` to ensure uniqueness. I have used a `ConcurrentMap` to take advantage of thread safety as well as the `.putIfAbsent` method. However, it can be easily converted to use a standard `Map`. I also just used a `String`, but a better approach would be to use a real domain object. It is sufficient for handling the OP&#39;s question and for illustrative purposes.\r\n\r\n    // a Map for holding the sequencing\r\n    private ConcurrentMap&lt;String, AtomicInteger&gt; _sequence = \r\n            new ConcurrentHashMap&lt;&gt;();\r\n    \r\n    /**\r\n     * Returns a unique, incrementing sequence, formatted to\r\n     * 0 prefixed, 3 places, based upon the User&#39;s initials\r\n     * and the registration year\r\n     */\r\n    public String getSequence(String initials, String year)\r\n    {\r\n        String key = makePrefix(initials, year);\r\n        AtomicInteger chk = new AtomicInteger(0);\r\n        AtomicInteger ai = _sequence.putIfAbsent(key, chk);\r\n        if (ai == null) {\r\n            ai = chk;\r\n        }\r\n        \r\n        int val = ai.incrementAndGet();\r\n        \r\n        String fmt = String.format(&quot;%03d&quot;, val);\r\n\r\n        return fmt;\r\n    }\r\n    \r\n    /**\r\n     * A helper method to make the prefix, which is the\r\n     * concatintion of the initials, a &quot;-&quot;, and a year.\r\n     */\r\n    private String makePrefix (String initials, String year)\r\n    {\r\n        return initials + &quot;-&quot; + year;\r\n    }\r\n\r\nTest Example:\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        LicensePlate_37169055 lp = new LicensePlate_37169055();\r\n        System.out.println(&quot;ko, 1999: &quot; + lp.getSequence(&quot;ko&quot;, &quot;1999&quot;));\r\n        System.out.println(&quot;ac, 1999: &quot; + lp.getSequence(&quot;ac&quot;, &quot;1999&quot;));\r\n        System.out.println(&quot;ko, 1999: &quot; + lp.getSequence(&quot;ko&quot;, &quot;1999&quot;));\r\n        System.out.println(&quot;ac, 1999: &quot; + lp.getSequence(&quot;ac&quot;, &quot;1999&quot;));\r\n        System.out.println(&quot;ms, 1999: &quot; + lp.getSequence(&quot;ms&quot;, &quot;1999&quot;));\r\n        System.out.println(&quot;ko, 2001: &quot; + lp.getSequence(&quot;ko&quot;, &quot;2001&quot;));\r\n        \r\n    }\r\n\r\nExample Output:\r\n\r\n&gt; ko, 1999: 001  \r\nac, 1999: 001  \r\nko, 1999: 002  \r\nac, 1999: 002  \r\nms, 1999: 001  \r\nko, 2001: 001  \r\n\r\n\r\nTo integrate into the OP&#39;s code, the following modifications are suggestive:\r\n\r\n    public static LicenceNumber getInstance(Name driverName, Date issueDate){\r\n      Calendar tempCal = Calendar.getInstance();\r\n      tempCal.setTime(issueDate);\r\n      String issueYear = String.valueOf(tempCal.get(Calendar.YEAR));\r\n\r\n      // ** get the initials; I would actually move this functionality to be\r\n      //   a method on the Name class\r\n      String initials = driverName.getForename().substring(0, 1) + driverName.getSurname().substring(0, 1);\r\n\r\n      // get the unique serial number\r\n      String serial = getSequence(initials, issueYear);\r\n\r\n      // make the full licenseplate String\r\n      String k = makePrefix(initials, issueYear) + &quot;-&quot; + serial;\r\n\r\n    if(!LICENCENOS.containsKey(k)){\r\n        LICENCENOS.put(k, new LicenceNumber(driverName,issueDate));\r\n    }\r\n\r\n    return LICENCENOS.get(k);\r\n}","title":"How can you create a unique serial number for a given string?","body":"<p>Here is an approach that will create incremental numbers for the <em>duration of the program</em>. Since there is no backing database, each run of the program will reset.</p>\n\n<p>It works by using an <code>AtomicInteger</code> to ensure uniqueness. I have used a <code>ConcurrentMap</code> to take advantage of thread safety as well as the <code>.putIfAbsent</code> method. However, it can be easily converted to use a standard <code>Map</code>. I also just used a <code>String</code>, but a better approach would be to use a real domain object. It is sufficient for handling the OP's question and for illustrative purposes.</p>\n\n<pre><code>// a Map for holding the sequencing\nprivate ConcurrentMap&lt;String, AtomicInteger&gt; _sequence = \n        new ConcurrentHashMap&lt;&gt;();\n\n/**\n * Returns a unique, incrementing sequence, formatted to\n * 0 prefixed, 3 places, based upon the User's initials\n * and the registration year\n */\npublic String getSequence(String initials, String year)\n{\n    String key = makePrefix(initials, year);\n    AtomicInteger chk = new AtomicInteger(0);\n    AtomicInteger ai = _sequence.putIfAbsent(key, chk);\n    if (ai == null) {\n        ai = chk;\n    }\n\n    int val = ai.incrementAndGet();\n\n    String fmt = String.format(\"%03d\", val);\n\n    return fmt;\n}\n\n/**\n * A helper method to make the prefix, which is the\n * concatintion of the initials, a \"-\", and a year.\n */\nprivate String makePrefix (String initials, String year)\n{\n    return initials + \"-\" + year;\n}\n</code></pre>\n\n<p>Test Example:</p>\n\n<pre><code>public static void main(String[] args)\n{\n    LicensePlate_37169055 lp = new LicensePlate_37169055();\n    System.out.println(\"ko, 1999: \" + lp.getSequence(\"ko\", \"1999\"));\n    System.out.println(\"ac, 1999: \" + lp.getSequence(\"ac\", \"1999\"));\n    System.out.println(\"ko, 1999: \" + lp.getSequence(\"ko\", \"1999\"));\n    System.out.println(\"ac, 1999: \" + lp.getSequence(\"ac\", \"1999\"));\n    System.out.println(\"ms, 1999: \" + lp.getSequence(\"ms\", \"1999\"));\n    System.out.println(\"ko, 2001: \" + lp.getSequence(\"ko\", \"2001\"));\n\n}\n</code></pre>\n\n<p>Example Output:</p>\n\n<blockquote>\n  <p>ko, 1999: 001<br>\n  ac, 1999: 001<br>\n  ko, 1999: 002<br>\n  ac, 1999: 002<br>\n  ms, 1999: 001<br>\n  ko, 2001: 001  </p>\n</blockquote>\n\n<p>To integrate into the OP's code, the following modifications are suggestive:</p>\n\n<pre><code>public static LicenceNumber getInstance(Name driverName, Date issueDate){\n  Calendar tempCal = Calendar.getInstance();\n  tempCal.setTime(issueDate);\n  String issueYear = String.valueOf(tempCal.get(Calendar.YEAR));\n\n  // ** get the initials; I would actually move this functionality to be\n  //   a method on the Name class\n  String initials = driverName.getForename().substring(0, 1) + driverName.getSurname().substring(0, 1);\n\n  // get the unique serial number\n  String serial = getSequence(initials, issueYear);\n\n  // make the full licenseplate String\n  String k = makePrefix(initials, issueYear) + \"-\" + serial;\n\nif(!LICENCENOS.containsKey(k)){\n    LICENCENOS.put(k, new LicenceNumber(driverName,issueDate));\n}\n\nreturn LICENCENOS.get(k);\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":27948196,"reputation":1,"user_id":21342704,"display_name":"R.PAVEEN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679134193,"creation_date":1679119153,"answer_id":75774108,"question_id":37169055,"body_markdown":"    public class PrintOddEvenMain {\r\n        public static void main(String[] args) {\r\n     \r\n            OddEvenRunnable oddRunnable=new OddEvenRunnable(1);\r\n            OddEvenRunnable evenRunnable=new OddEvenRunnable(0);\r\n     \r\n            Thread t1=new Thread(oddRunnable,&quot;Odd&quot;);\r\n            Thread t2=new Thread(evenRunnable,&quot;Even&quot;);\r\n     \r\n            t1.start();\r\n            t2.start();\r\n     \r\n        }\r\n    }","title":"How can you create a unique serial number for a given string?","body":"<pre><code>public class PrintOddEvenMain {\n    public static void main(String[] args) {\n \n        OddEvenRunnable oddRunnable=new OddEvenRunnable(1);\n        OddEvenRunnable evenRunnable=new OddEvenRunnable(0);\n \n        Thread t1=new Thread(oddRunnable,&quot;Odd&quot;);\n        Thread t2=new Thread(evenRunnable,&quot;Even&quot;);\n \n        t1.start();\n        t2.start();\n \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7909428,"reputation":119,"user_id":5973919,"accept_rate":23,"display_name":"Andrew Coates"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8835,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":37169487,"answer_count":2,"score":1,"last_activity_date":1679134193,"creation_date":1462986224,"question_id":37169055,"body_markdown":"So I am trying to create a class that represents a fictional Licence Number for a given person. The Licence Number is constructed from the following:\r\n\r\n - The initials of the person&#39;s forename and surname\r\n - The year the licence was issued\r\n - A random arbitrary serial number\r\n\r\nSo for example, Maggie Smith whose licence was issued in 1990, might have a Licence Number of MS-1990-11, with 11 being the serial number. However, Mark Sanders might have had his licence issued the same year meaning the beginning of his licence may be MS-1990 also.\r\n\r\nSo this is where the problem occurs. I need to make sure that the serial number for this person is not the same as Maggie&#39;s. So I&#39;d have to check through any records that have the same initials and issue year, then generate a new unique serial number. Here&#39;s my code so far:\r\n\r\n    public class LicenceNumber {\r\n\r\n\tprivate final Name driverName;\r\n\tprivate final Date issueDate;\r\n\tprivate static final Map&lt;String, LicenceNumber&gt; LICENCENOS = new HashMap&lt;String, LicenceNumber&gt;();\r\n\t\r\n\tpublic LicenceNumber(Name driverName, Date issueDate){\r\n\t\t\r\n\t\tthis.driverName = driverName;\r\n\t\tthis.issueDate = issueDate;\r\n\t}\r\n\t\r\n\tpublic static LicenceNumber getInstance(Name driverName, Date issueDate){\r\n\t\tCalendar tempCal = Calendar.getInstance();\r\n\t\ttempCal.setTime(issueDate);\r\n\t\tString issueYear = String.valueOf(tempCal.get(Calendar.YEAR));\r\n\t\tint serialNo = 1;\r\n\t\tString k = driverName.getForename().substring(0, 1) + driverName.getSurname().substring(0, 1) + &quot;-&quot; + issueYear + &quot;-&quot; + serialNo;\r\n\t\t\r\n\t\tif(!LICENCENOS.containsKey(k)){\r\n\t\t\tLICENCENOS.put(k, new LicenceNumber(driverName,issueDate));\r\n\t\t}\r\n\t\t\r\n\t\treturn LICENCENOS.get(k);\r\n\t}\r\n\r\n\tpublic boolean isUnique(){\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic Name getDriverName() {\r\n\t\treturn driverName;\r\n\t}\r\n\r\n\tpublic Date getIssueDate() {\r\n\t\treturn issueDate;\r\n\t}\r\n    }\r\n\r\nAnd a snippet of how it may be instantiated:\r\n\r\n    public final class DrivingLicence {\r\n\r\n\tprivate final Name driverName;\r\n\tprivate final Date driverDOB;\r\n\tprivate final Date issueDate;\r\n\tprivate final LicenceNumber licenceNo;\r\n\tprivate final boolean isFull;\r\n\t\r\n\tpublic DrivingLicence(Name driverName, Date driverDOB, Date issueDate, boolean isFull){\r\n\t\t//TO-DO validate inputs\r\n\t\tthis.driverName = driverName;\r\n\t\tthis.driverDOB = driverDOB;\r\n\t\tthis.issueDate = issueDate;\r\n\t\tthis.licenceNo = LicenceNumber.getInstance(driverName, issueDate);\r\n\t\t//this.licenceNo = new LicenceNumber(driverName, issueDate);//instantiate a licence number using the driverName and dateOfIssue\r\n\t\tthis.isFull = isFull;\r\n\t}\r\n    }\r\n\r\nI&#39;ve based it on some lecture notes that discuss how you can use factories for uniqueness. I&#39;m also unsure if I should create a LicenceNumber using getInstance or by creating a new Object. Does anyone know a way I could check if a serial number for a given string, e.g. XX-XXXX already exists?","title":"How can you create a unique serial number for a given string?","body":"<p>So I am trying to create a class that represents a fictional Licence Number for a given person. The Licence Number is constructed from the following:</p>\n\n<ul>\n<li>The initials of the person's forename and surname</li>\n<li>The year the licence was issued</li>\n<li>A random arbitrary serial number</li>\n</ul>\n\n<p>So for example, Maggie Smith whose licence was issued in 1990, might have a Licence Number of MS-1990-11, with 11 being the serial number. However, Mark Sanders might have had his licence issued the same year meaning the beginning of his licence may be MS-1990 also.</p>\n\n<p>So this is where the problem occurs. I need to make sure that the serial number for this person is not the same as Maggie's. So I'd have to check through any records that have the same initials and issue year, then generate a new unique serial number. Here's my code so far:</p>\n\n<pre><code>public class LicenceNumber {\n\nprivate final Name driverName;\nprivate final Date issueDate;\nprivate static final Map&lt;String, LicenceNumber&gt; LICENCENOS = new HashMap&lt;String, LicenceNumber&gt;();\n\npublic LicenceNumber(Name driverName, Date issueDate){\n\n    this.driverName = driverName;\n    this.issueDate = issueDate;\n}\n\npublic static LicenceNumber getInstance(Name driverName, Date issueDate){\n    Calendar tempCal = Calendar.getInstance();\n    tempCal.setTime(issueDate);\n    String issueYear = String.valueOf(tempCal.get(Calendar.YEAR));\n    int serialNo = 1;\n    String k = driverName.getForename().substring(0, 1) + driverName.getSurname().substring(0, 1) + \"-\" + issueYear + \"-\" + serialNo;\n\n    if(!LICENCENOS.containsKey(k)){\n        LICENCENOS.put(k, new LicenceNumber(driverName,issueDate));\n    }\n\n    return LICENCENOS.get(k);\n}\n\npublic boolean isUnique(){\n    return true;\n}\n\npublic Name getDriverName() {\n    return driverName;\n}\n\npublic Date getIssueDate() {\n    return issueDate;\n}\n}\n</code></pre>\n\n<p>And a snippet of how it may be instantiated:</p>\n\n<pre><code>public final class DrivingLicence {\n\nprivate final Name driverName;\nprivate final Date driverDOB;\nprivate final Date issueDate;\nprivate final LicenceNumber licenceNo;\nprivate final boolean isFull;\n\npublic DrivingLicence(Name driverName, Date driverDOB, Date issueDate, boolean isFull){\n    //TO-DO validate inputs\n    this.driverName = driverName;\n    this.driverDOB = driverDOB;\n    this.issueDate = issueDate;\n    this.licenceNo = LicenceNumber.getInstance(driverName, issueDate);\n    //this.licenceNo = new LicenceNumber(driverName, issueDate);//instantiate a licence number using the driverName and dateOfIssue\n    this.isFull = isFull;\n}\n}\n</code></pre>\n\n<p>I've based it on some lecture notes that discuss how you can use factories for uniqueness. I'm also unsure if I should create a LicenceNumber using getInstance or by creating a new Object. Does anyone know a way I could check if a serial number for a given string, e.g. XX-XXXX already exists?</p>\n"},{"tags":["java","c","list","data-structures","linked-list"],"comments":[{"owner":{"account_id":187580,"reputation":15965,"user_id":425738,"display_name":"ldav1s"},"score":0,"creation_date":1314316362,"post_id":7198508,"comment_id":8646628,"body_markdown":"Code would be appreciated here also to answer the question.","body":"Code would be appreciated here also to answer the question."},{"owner":{"account_id":17869190,"reputation":1204,"user_id":12980866,"display_name":"Shreemaan Abhishek"},"score":3,"creation_date":1618469292,"post_id":7198508,"comment_id":118611316,"body_markdown":"So I see, you wanna know the number of the girl whom you gave your number&#128514;&#128514;","body":"So I see, you wanna know the number of the girl whom you gave your number"}],"answers":[{"tags":[],"owner":{"account_id":473127,"reputation":23114,"user_id":882051,"accept_rate":70,"display_name":"hmakholm left over Monica"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1314316242,"creation_date":1314316242,"answer_id":7198544,"question_id":7198508,"body_markdown":"Walk through the list from the beginning until you meet a node whose `next` link points you your current node.\r\n\r\nBut if you need to do this, perhaps you oughtn&#39;t be using a singly linked list in the first place.","title":"given a node how can I find previous node in a singly linked list","body":"<p>Walk through the list from the beginning until you meet a node whose <code>next</code> link points you your current node.</p>\n\n<p>But if you need to do this, perhaps you oughtn't be using a singly linked list in the first place.</p>\n"},{"tags":[],"owner":{"account_id":274190,"reputation":6935,"user_id":566274,"accept_rate":81,"display_name":"Darren Engwirda"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1314316257,"creation_date":1314316257,"answer_id":7198547,"question_id":7198508,"body_markdown":"Assuming that you&#39;re talking about a forward singly linked list (each node only has a pointer to &#39;next&#39; etc) you will have to iterate from the start of the list until you find the node that has &#39;next&#39; equal to your current node. Obviously, this is a slow `O(n)` operation.\r\n\r\nHope this helps.","title":"given a node how can I find previous node in a singly linked list","body":"<p>Assuming that you're talking about a forward singly linked list (each node only has a pointer to 'next' etc) you will have to iterate from the start of the list until you find the node that has 'next' equal to your current node. Obviously, this is a slow <code>O(n)</code> operation.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":133781,"reputation":3265,"user_id":335423,"accept_rate":85,"display_name":"filip-fku"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1314316368,"creation_date":1314316368,"answer_id":7198558,"question_id":7198508,"body_markdown":"Your only option for a singly-linked list is a linear search, something like below (Python-like pseudo code):\r\n\r\n    find_previous_node(list, node):\r\n       current_node = list.first\r\n       while(current_node.next != null):\r\n           if(current_node.next == node):\r\n              return current_node\r\n           else:\r\n              current_node = current_node.next\r\n       return null","title":"given a node how can I find previous node in a singly linked list","body":"<p>Your only option for a singly-linked list is a linear search, something like below (Python-like pseudo code):</p>\n\n<pre><code>find_previous_node(list, node):\n   current_node = list.first\n   while(current_node.next != null):\n       if(current_node.next == node):\n          return current_node\n       else:\n          current_node = current_node.next\n   return null\n</code></pre>\n"},{"comments":[{"owner":{"account_id":125806,"reputation":650,"user_id":321851,"display_name":"arunmur"},"score":0,"creation_date":1314342810,"post_id":7198566,"comment_id":8650144,"body_markdown":"`if(node.content == whatINeed) { doSomething(previous.content); }`.","body":"<code>if(node.content == whatINeed) { doSomething(previous.content); }</code>."}],"tags":[],"owner":{"account_id":125806,"reputation":650,"user_id":321851,"display_name":"arunmur"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1314316438,"creation_date":1314316438,"answer_id":7198566,"question_id":7198508,"body_markdown":"assuming you are using forward singly linked list your code should look like\r\n\r\n    while(node)\r\n    {\r\n          previous = node\r\n          node = node.next\r\n          // Do what ever you want to do with the nodes\r\n    }","title":"given a node how can I find previous node in a singly linked list","body":"<p>assuming you are using forward singly linked list your code should look like</p>\n\n<pre><code>while(node)\n{\n      previous = node\n      node = node.next\n      // Do what ever you want to do with the nodes\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":274190,"reputation":6935,"user_id":566274,"accept_rate":81,"display_name":"Darren Engwirda"},"score":3,"creation_date":1314316891,"post_id":7198568,"comment_id":8646718,"body_markdown":"Why are you saying &quot;you can&#39;t&quot;?? What&#39;s wrong with iterating from the start of the list searching for a node that has &#39;next&#39; equal to &#39;current&#39;. If no match is found return `NULL` or something similar??","body":"Why are you saying &quot;you can&#39;t&quot;?? What&#39;s wrong with iterating from the start of the list searching for a node that has &#39;next&#39; equal to &#39;current&#39;. If no match is found return <code>NULL</code> or something similar??"},{"owner":{"account_id":75228,"reputation":2849,"user_id":215866,"display_name":"hemflit"},"score":1,"creation_date":1314316957,"post_id":7198568,"comment_id":8646734,"body_markdown":"&quot;You can&#39;t&quot; means &quot;it is not mathematically possible&quot;. There is a missing piece of information that can not be recreated. The question (I think) makes it obvious that they don&#39;t even have access to the head of the list; so there&#39;s no known starting point from which to iterate the way you suggest.","body":"&quot;You can&#39;t&quot; means &quot;it is not mathematically possible&quot;. There is a missing piece of information that can not be recreated. The question (I think) makes it obvious that they don&#39;t even have access to the head of the list; so there&#39;s no known starting point from which to iterate the way you suggest."},{"owner":{"account_id":146716,"reputation":8263,"user_id":357349,"accept_rate":66,"display_name":"David Prun"},"score":0,"creation_date":1314317119,"post_id":7198568,"comment_id":8646758,"body_markdown":"@hemflit , yes there is no root node.","body":"@hemflit , yes there is no root node."},{"owner":{"account_id":75228,"reputation":2849,"user_id":215866,"display_name":"hemflit"},"score":1,"creation_date":1314317154,"post_id":7198568,"comment_id":8646762,"body_markdown":"To follow up on that, if you _do_ have access to the head of the list, then you are able to follow my suggestion to &quot;rearrange everything so you have the predecessor passed in&quot;.","body":"To follow up on that, if you <i>do</i> have access to the head of the list, then you are able to follow my suggestion to &quot;rearrange everything so you have the predecessor passed in&quot;."},{"owner":{"account_id":75228,"reputation":2849,"user_id":215866,"display_name":"hemflit"},"score":0,"creation_date":1314317221,"post_id":7198568,"comment_id":8646775,"body_markdown":"Right, then, I&#39;m sorry helloMaga, but the answer to your question is that that can&#39;t be done.","body":"Right, then, I&#39;m sorry helloMaga, but the answer to your question is that that can&#39;t be done."},{"owner":{"account_id":274190,"reputation":6935,"user_id":566274,"accept_rate":81,"display_name":"Darren Engwirda"},"score":2,"creation_date":1314317449,"post_id":7198568,"comment_id":8646808,"body_markdown":"@hemflit: I find it very hard to believe that someone has a (non-bogus) linked-list container that doesn&#39;t allow access to the list head. What would the point of such a container be?? You would only be able to push items onto the list, but never be able to iterate over them...","body":"@hemflit: I find it very hard to believe that someone has a (non-bogus) linked-list container that doesn&#39;t allow access to the list head. What would the point of such a container be?? You would only be able to push items onto the list, but never be able to iterate over them..."},{"owner":{"account_id":75228,"reputation":2849,"user_id":215866,"display_name":"hemflit"},"score":1,"creation_date":1314318208,"post_id":7198568,"comment_id":8646908,"body_markdown":"Darren, they are not using some library container. They are not even working on the level of containers in this question, but rather on the level of a raw data structure, processing pointers in list nodes directly, in effect coding up the &quot;container&quot; from scratch. They are talking about a point in execution where not the whole list is accessible, but only a single node and everything that can be found from that node. Otherwise the question would be &quot;given a list&quot;, not &quot;given the current node&quot;.","body":"Darren, they are not using some library container. They are not even working on the level of containers in this question, but rather on the level of a raw data structure, processing pointers in list nodes directly, in effect coding up the &quot;container&quot; from scratch. They are talking about a point in execution where not the whole list is accessible, but only a single node and everything that can be found from that node. Otherwise the question would be &quot;given a list&quot;, not &quot;given the current node&quot;."}],"tags":[],"owner":{"account_id":75228,"reputation":2849,"user_id":215866,"display_name":"hemflit"},"comment_count":7,"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1314316445,"creation_date":1314316445,"answer_id":7198568,"question_id":7198508,"body_markdown":"You can&#39;t.\r\n\r\nSingly-linked lists by definition only link each node to its successor, not predecessor. There is no information about the predecessor; not even information about whether it exists at all (your node could be the head of the list).\r\n\r\nYou could use a doubly-linked list.\r\nYou could try to rearrange everything so you have the predecessor passed in as a parameter in the first place.\r\n\r\nYou could scan the entire heap looking for a record that looks like a predecessor node with a pointer to your node. (Not a serious suggestion.)","title":"given a node how can I find previous node in a singly linked list","body":"<p>You can't.</p>\n\n<p>Singly-linked lists by definition only link each node to its successor, not predecessor. There is no information about the predecessor; not even information about whether it exists at all (your node could be the head of the list).</p>\n\n<p>You could use a doubly-linked list.\nYou could try to rearrange everything so you have the predecessor passed in as a parameter in the first place.</p>\n\n<p>You could scan the entire heap looking for a record that looks like a predecessor node with a pointer to your node. (Not a serious suggestion.)</p>\n"},{"tags":[],"owner":{"account_id":3944142,"reputation":3,"user_id":3257466,"accept_rate":75,"display_name":"Mifta_Sintaha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393598495,"creation_date":1393598495,"answer_id":22098184,"question_id":7198508,"body_markdown":"Use a nodeAt() method and pass the head,size and the index of the current node.\r\n\r\n \r\n\r\n     public static Node nodeAt(Node head,int index){\r\n        Node n=head;\r\n        for(int i=0;i&lt;index;i++,n=n.next)\r\n          ;\r\n        return n;\r\n      }\r\nwhere n returns the node of the predecessor.","title":"given a node how can I find previous node in a singly linked list","body":"<p>Use a nodeAt() method and pass the head,size and the index of the current node.</p>\n\n<pre><code> public static Node nodeAt(Node head,int index){\n    Node n=head;\n    for(int i=0;i&lt;index;i++,n=n.next)\n      ;\n    return n;\n  }\n</code></pre>\n\n<p>where n returns the node of the predecessor.</p>\n"},{"tags":[],"owner":{"account_id":4624533,"reputation":21,"user_id":3748727,"display_name":"srinivas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1407156415,"creation_date":1407156415,"answer_id":25119044,"question_id":7198508,"body_markdown":"This is some kind of hack which I found out while solving the problem(Delete every even node in a list)\r\n\r\n        internal void DeleteNode(int p)\r\n        {\r\n            DeleteNode(head, p);\r\n        }\r\n\r\n        private void DeleteNode(Node head, int p)\r\n        {\r\n            Node current = head;\r\n            Node prev = null;\r\n\r\n            while (current.next != null)\r\n            {\r\n                prev = current;\r\n                current = current.next;\r\n                if (current.data == p)\r\n                {\r\n                    prev.next = current.next;\r\n                }\r\n            }\r\n        }\r\n\r\nNow here, in prev you assign the current and then move the current to next thereby prev contains the previous node.\r\nHope this helps...","title":"given a node how can I find previous node in a singly linked list","body":"<p>This is some kind of hack which I found out while solving the problem(Delete every even node in a list)</p>\n\n<pre><code>    internal void DeleteNode(int p)\n    {\n        DeleteNode(head, p);\n    }\n\n    private void DeleteNode(Node head, int p)\n    {\n        Node current = head;\n        Node prev = null;\n\n        while (current.next != null)\n        {\n            prev = current;\n            current = current.next;\n            if (current.data == p)\n            {\n                prev.next = current.next;\n            }\n        }\n    }\n</code></pre>\n\n<p>Now here, in prev you assign the current and then move the current to next thereby prev contains the previous node.\nHope this helps...</p>\n"},{"tags":[],"owner":{"account_id":4308682,"reputation":12633,"user_id":3520404,"display_name":"saran3h"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1431498576,"creation_date":1431495366,"answer_id":30206472,"question_id":7198508,"body_markdown":"Here is a small trick with linear search: just pass in the node or its position whose previous node you are searching for:\r\n\r\n    \r\n    \r\n    private MyNode findNode(int pos) {\r\n    //node will have pos=pos-1\r\n    \t\tpos-- = 1; \r\n    \t\tMyNode prevNode = null;\r\n    \t\tint count = 0;  \r\n    \t\tMyNode p = first.next;  // first = head node, find it however you want.\r\n    //this is for circular linked list, you can use first!=last for singly linked list\r\n    \t\twhile (p != first) { \r\n    \t\t\tif (count == pos) {\r\n    \t\t\t\tprevNode = p;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tp = p.next;\r\n    \t\t\tcount++;\r\n    \t\t}\r\n    \t\treturn prevNode;\r\n    \t}","title":"given a node how can I find previous node in a singly linked list","body":"<p>Here is a small trick with linear search: just pass in the node or its position whose previous node you are searching for:</p>\n\n<pre><code>private MyNode findNode(int pos) {\n//node will have pos=pos-1\n        pos-- = 1; \n        MyNode prevNode = null;\n        int count = 0;  \n        MyNode p = first.next;  // first = head node, find it however you want.\n//this is for circular linked list, you can use first!=last for singly linked list\n        while (p != first) { \n            if (count == pos) {\n                prevNode = p;\n                break;\n            }\n            p = p.next;\n            count++;\n        }\n        return prevNode;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6229027,"reputation":28489,"user_id":4850040,"accept_rate":62,"display_name":"Toby Speight"},"score":0,"creation_date":1517914216,"post_id":48640765,"comment_id":84278870,"body_markdown":"Thank you for this code snippet, which might provide some limited short-term help.  A proper explanation [would greatly improve](//meta.stackexchange.com/q/114762) its long-term value by showing *why* this is a good solution to the problem, and would make it more useful to future readers with other, similar questions.  Please [edit] your answer to add some explanation, including the assumptions you&#39;ve made.","body":"Thank you for this code snippet, which might provide some limited short-term help.  A proper explanation <a href=\"//meta.stackexchange.com/q/114762\">would greatly improve</a> its long-term value by showing <i>why</i> this is a good solution to the problem, and would make it more useful to future readers with other, similar questions.  Please <a href=\"https://stackoverflow.com/posts/48640765/edit\">edit</a> your answer to add some explanation, including the assumptions you&#39;ve made."}],"tags":[],"owner":{"account_id":4610487,"reputation":918,"user_id":3738751,"display_name":"Pankaj Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1529352495,"creation_date":1517912901,"answer_id":48640765,"question_id":7198508,"body_markdown":"Keep two-pointer(curr, prev) initially both will point to head of the list. \r\n\r\ndo a loop on the list until you either reach at the end of the list or at the required node.\r\n\r\nfor each iteration move curr node to the next of it but before moving to next store its pointer in prev pointer.\r\n\r\n        prev = curr; // first store current node in prev\r\n        curr = curr-&gt;next // move current to next\r\nat the end of loop prev node will contain previous node.  \r\n\r\n    getPrev(head, key) {    \r\n        Node* curr = head;\r\n        Node* prev = head;\r\n        while(curr !=null &amp;&amp; curr-&gt;data==key){\r\n            prev = curr;\r\n            curr = curr-&gt;next\r\n        }\r\n        return prev\r\n    }\r\n\r\n   \r\nExample:\r\n--------\r\n\r\nlist = 1-&gt;5-&gt;10-&gt;4-&gt;3\r\n\r\nWe want prev node of 4 So key = 4 and head point at 1 here\r\n\r\ninitially:\r\n\r\n - temp will point to 1\r\n - prev will point to 1\r\n\r\niteration 1:\r\n\r\n - First, assign prev=temp (prev point to 1)\r\n - move temp; temp-&gt;next (temp point to 5)\r\n\r\niteration 2:\r\n\r\n - First, assign prev=temp (prev point to 5)\r\n - move temp; temp-&gt;next (temp point to 10)\r\n \r\niteration 3:\r\n\r\n - First, assign prev=temp (prev point to 10)\r\n - move temp; temp-&gt;next (temp point to 4) \r\n     \r\niteration 4:\r\n\r\n - temp-&gt;data == key so it will return out of loop.\r\n - return prev node\r\n\r\n\r\n   \r\n   \r\n   \r\n\r\n\r\n\r\n","title":"given a node how can I find previous node in a singly linked list","body":"<p>Keep two-pointer(curr, prev) initially both will point to head of the list. </p>\n\n<p>do a loop on the list until you either reach at the end of the list or at the required node.</p>\n\n<p>for each iteration move curr node to the next of it but before moving to next store its pointer in prev pointer.</p>\n\n<pre><code>    prev = curr; // first store current node in prev\n    curr = curr-&gt;next // move current to next\n</code></pre>\n\n<p>at the end of loop prev node will contain previous node.  </p>\n\n<pre><code>getPrev(head, key) {    \n    Node* curr = head;\n    Node* prev = head;\n    while(curr !=null &amp;&amp; curr-&gt;data==key){\n        prev = curr;\n        curr = curr-&gt;next\n    }\n    return prev\n}\n</code></pre>\n\n<h2>Example:</h2>\n\n<p>list = 1->5->10->4->3</p>\n\n<p>We want prev node of 4 So key = 4 and head point at 1 here</p>\n\n<p>initially:</p>\n\n<ul>\n<li>temp will point to 1</li>\n<li>prev will point to 1</li>\n</ul>\n\n<p>iteration 1:</p>\n\n<ul>\n<li>First, assign prev=temp (prev point to 1)</li>\n<li>move temp; temp->next (temp point to 5)</li>\n</ul>\n\n<p>iteration 2:</p>\n\n<ul>\n<li>First, assign prev=temp (prev point to 5)</li>\n<li>move temp; temp->next (temp point to 10)</li>\n</ul>\n\n<p>iteration 3:</p>\n\n<ul>\n<li>First, assign prev=temp (prev point to 10)</li>\n<li>move temp; temp->next (temp point to 4) </li>\n</ul>\n\n<p>iteration 4:</p>\n\n<ul>\n<li>temp->data == key so it will return out of loop.</li>\n<li>return prev node</li>\n</ul>\n"},{"tags":[],"owner":{"display_name":"user3133925"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552070410,"creation_date":1552070410,"answer_id":55069151,"question_id":7198508,"body_markdown":"We can traverse through the LinkedList using slow and fast pointers.\r\nLet&#39;s say \r\n\r\n&gt; fast pointer `fast = fast.next.next`\r\n&gt; &gt; slow pointer `slow = slow.next`\r\n\r\nSlow pointer will be always a previous of the fast pointer, and so we can able to find it.","title":"given a node how can I find previous node in a singly linked list","body":"<p>We can traverse through the LinkedList using slow and fast pointers.\nLet's say </p>\n\n<blockquote>\n  <p>fast pointer <code>fast = fast.next.next</code></p>\n  \n  <blockquote>\n    <p>slow pointer <code>slow = slow.next</code></p>\n  </blockquote>\n</blockquote>\n\n<p>Slow pointer will be always a previous of the fast pointer, and so we can able to find it.</p>\n"},{"comments":[{"owner":{"account_id":5088828,"reputation":376,"user_id":4082505,"accept_rate":82,"display_name":"Sk Golam Saroar"},"score":4,"creation_date":1593849021,"post_id":62147779,"comment_id":110925152,"body_markdown":"This should be the accepted answer. Everyone else seems to forget that the head is NOT accessible, only a node is given. However, one thing to note here, this solution will not work if the given node is the Tail of the singly-linked list.","body":"This should be the accepted answer. Everyone else seems to forget that the head is NOT accessible, only a node is given. However, one thing to note here, this solution will not work if the given node is the Tail of the singly-linked list."},{"owner":{"account_id":7455920,"reputation":8746,"user_id":6285054,"display_name":"Avinash Dalvi"},"score":0,"creation_date":1655808630,"post_id":62147779,"comment_id":128414010,"body_markdown":"This is approach works","body":"This is approach works"}],"tags":[],"owner":{"account_id":18440717,"reputation":121,"user_id":13433407,"display_name":"ayush_manglani"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1591086198,"creation_date":1591086198,"answer_id":62147779,"question_id":7198508,"body_markdown":"If you want to delete the current node, you can do that without finding previous node as well.\r\n\r\nPython Code:\r\n\r\ndef deleteNode(self, node):\r\n\r\n    node.val = node.next.val\r\n\r\n    node.next = node.next.next\r\n\r\n@ Delete Node in a Linked List\r\n","title":"given a node how can I find previous node in a singly linked list","body":"<p>If you want to delete the current node, you can do that without finding previous node as well.</p>\n\n<p>Python Code:</p>\n\n<p>def deleteNode(self, node):</p>\n\n<pre><code>node.val = node.next.val\n\nnode.next = node.next.next\n</code></pre>\n\n<p>@ Delete Node in a Linked List</p>\n"},{"tags":[],"owner":{"account_id":19279150,"reputation":21,"user_id":14091491,"display_name":"Madan Singh rflZSUMTqf"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597217160,"creation_date":1597217160,"answer_id":63371782,"question_id":7198508,"body_markdown":"You can do it like this.. you can replace the value of current node by value of next node.. and in the next of 2nd last node you can put null. its like delete a element from a string. here is code\r\n\r\n    void deleteNode(ListNode* node) {\r\n        ListNode *pre=node;\r\n       while(node-&gt;next) \r\n        {\r\n            node-&gt;val=node-&gt;next-&gt;val;\r\n            pre=node;\r\n            node=node-&gt;next;\r\n        }\r\n        pre-&gt;next=NULL;\r\n    \r\n}","title":"given a node how can I find previous node in a singly linked list","body":"<p>You can do it like this.. you can replace the value of current node by value of next node.. and in the next of 2nd last node you can put null. its like delete a element from a string. here is code</p>\n<pre><code>void deleteNode(ListNode* node) {\n    ListNode *pre=node;\n   while(node-&gt;next) \n    {\n        node-&gt;val=node-&gt;next-&gt;val;\n        pre=node;\n        node=node-&gt;next;\n    }\n    pre-&gt;next=NULL;\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":7455920,"reputation":8746,"user_id":6285054,"display_name":"Avinash Dalvi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655808496,"creation_date":1655808496,"answer_id":72699454,"question_id":7198508,"body_markdown":"It can possible to deleteNode if only given node not root or head. How ? \r\n\r\nIt can achieve by reversing value in node \r\n\r\n4-&gt; 2 -&gt; 1 -&gt; 9 given 2 as node to remove. as above other can&#39;t access previous node which is correct because singly linked list we don&#39;t store predecessor. What can do is swap value of next of give node to given node and change link to next of next of give node\r\n\r\n```\r\nnextNode = node.next  // assigning given node next to new pointer\r\nnode.val = nextNode.val // replacing value of given node to nextNode value \r\nnode.next = nextNode.next // changing link of given node to next to next node. \r\n``` \r\nI tried this approach and its working fine. ","title":"given a node how can I find previous node in a singly linked list","body":"<p>It can possible to deleteNode if only given node not root or head. How ?</p>\n<p>It can achieve by reversing value in node</p>\n<p>4-&gt; 2 -&gt; 1 -&gt; 9 given 2 as node to remove. as above other can't access previous node which is correct because singly linked list we don't store predecessor. What can do is swap value of next of give node to given node and change link to next of next of give node</p>\n<pre><code>nextNode = node.next  // assigning given node next to new pointer\nnode.val = nextNode.val // replacing value of given node to nextNode value \nnode.next = nextNode.next // changing link of given node to next to next node. \n</code></pre>\n<p>I tried this approach and its working fine.</p>\n"},{"tags":[],"owner":{"account_id":19709333,"reputation":1,"user_id":14430264,"display_name":"Fake"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679133913,"creation_date":1679133913,"answer_id":75775145,"question_id":7198508,"body_markdown":"I don&#39;t know if this will help but you can index the your list and every next is the index + 1 and every previous is index - 1","title":"given a node how can I find previous node in a singly linked list","body":"<p>I don't know if this will help but you can index the your list and every next is the index + 1 and every previous is index - 1</p>\n"}],"owner":{"account_id":146716,"reputation":8263,"user_id":357349,"accept_rate":66,"display_name":"David Prun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48896,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":7198568,"answer_count":14,"score":11,"last_activity_date":1679133913,"creation_date":1314316029,"question_id":7198508,"body_markdown":"Given the current node, how can I find its previous node in a Singly Linked List. Thanks. Logic will do , code is appreciated. We all know given a root node one can do a sequential traverse , I want to know if there is a smarter way that avoids sequential access overhead. (assume there is no access to root node) Thanks. ","title":"given a node how can I find previous node in a singly linked list","body":"<p>Given the current node, how can I find its previous node in a Singly Linked List. Thanks. Logic will do , code is appreciated. We all know given a root node one can do a sequential traverse , I want to know if there is a smarter way that avoids sequential access overhead. (assume there is no access to root node) Thanks. </p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679166564,"post_id":75775144,"comment_id":133674317,"body_markdown":"You should not return the Optional object but the value of that Optional (if present). Please check some Java docu about Optional usage.","body":"You should not return the Optional object but the value of that Optional (if present). Please check some Java docu about Optional usage."}],"owner":{"account_id":15013024,"reputation":99,"user_id":10836892,"display_name":"Carlos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679133910,"creation_date":1679133910,"question_id":75775144,"body_markdown":"I encountered an error while trying to return an Optional&lt;JSONArray&gt; in my Spring Boot API. The variable &quot;json&quot; looked fine when I checked its value, but when I tried to access the API, I received an unexpected error message. Here&#39;s the code snippet that caused the error:\r\n```\r\n@GetMapping(&quot;/portfolio&quot;)\r\npublic ResponseEntity&lt;Optional&lt;JSONArray&gt;&gt; getPortfolio() {\r\n    Optional&lt;JSONArray&gt; json = portfolioService.getPortfolioJSON();\r\n    return new ResponseEntity&lt;Optional&lt;JSONArray&gt;&gt;(json, HttpStatus.OK);\r\n}\r\n```\r\nThe error message stated: &quot;Type definition error: [simple type, class org.json.JSONObject] org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.json.JSONObject]&quot;.\r\n\r\nI&#39;m not sure what caused this error, and I would appreciate any help or advice on how to fix it.\r\n\r\nPD: the variable json looks like this in the debugger:\r\n```\r\n&quot;Optional[[{&quot;date&quot;:&quot;Sat Mar 18 10:56:10 CET 2023&quot;,&quot;quantity&quot;:10,&quot;price&quot;:100,&quot;id&quot;:&quot;d675b6c7-42f1-4446-b77a-4d5010c20c5e&quot;,&quot;stock&quot;:{&quot;ticker&quot;:&quot;AAPL&quot;}},{&quot;date&quot;:&quot;Sat Mar 18 10:56:10 CET 2023&quot;,&quot;quantity&quot;:10,&quot;price&quot;:100,&quot;id&quot;:&quot;662db2c6-efb6-4b4f-ab50-42a845a7caa2&quot;,&quot;stock&quot;:{&quot;ticker&quot;:&quot;MSFT&quot;}}]]&quot;\r\n```\r\nThanks for your answers!","title":"Error while returning Optional&lt;JSONArray&gt; in Spring Boot APIError while returning Optional&lt;JSONArray&gt; in Spring Boot API","body":"<p>I encountered an error while trying to return an Optional in my Spring Boot API. The variable &quot;json&quot; looked fine when I checked its value, but when I tried to access the API, I received an unexpected error message. Here's the code snippet that caused the error:</p>\n<pre><code>@GetMapping(&quot;/portfolio&quot;)\npublic ResponseEntity&lt;Optional&lt;JSONArray&gt;&gt; getPortfolio() {\n    Optional&lt;JSONArray&gt; json = portfolioService.getPortfolioJSON();\n    return new ResponseEntity&lt;Optional&lt;JSONArray&gt;&gt;(json, HttpStatus.OK);\n}\n</code></pre>\n<p>The error message stated: &quot;Type definition error: [simple type, class org.json.JSONObject] org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.json.JSONObject]&quot;.</p>\n<p>I'm not sure what caused this error, and I would appreciate any help or advice on how to fix it.</p>\n<p>PD: the variable json looks like this in the debugger:</p>\n<pre><code>&quot;Optional[[{&quot;date&quot;:&quot;Sat Mar 18 10:56:10 CET 2023&quot;,&quot;quantity&quot;:10,&quot;price&quot;:100,&quot;id&quot;:&quot;d675b6c7-42f1-4446-b77a-4d5010c20c5e&quot;,&quot;stock&quot;:{&quot;ticker&quot;:&quot;AAPL&quot;}},{&quot;date&quot;:&quot;Sat Mar 18 10:56:10 CET 2023&quot;,&quot;quantity&quot;:10,&quot;price&quot;:100,&quot;id&quot;:&quot;662db2c6-efb6-4b4f-ab50-42a845a7caa2&quot;,&quot;stock&quot;:{&quot;ticker&quot;:&quot;MSFT&quot;}}]]&quot;\n</code></pre>\n<p>Thanks for your answers!</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":1920144,"reputation":2693,"user_id":1731863,"accept_rate":75,"display_name":"Aseem Goyal"},"score":0,"creation_date":1395746516,"post_id":22632826,"comment_id":34467745,"body_markdown":"what is wrong in using 4 loops ?","body":"what is wrong in using 4 loops ?"},{"owner":{"account_id":252388,"reputation":989,"user_id":530399,"accept_rate":43,"display_name":"Bikash Gyawali"},"score":0,"creation_date":1476285510,"post_id":22632826,"comment_id":67282292,"body_markdown":"What is the mathematical terminology for this kind of combination?","body":"What is the mathematical terminology for this kind of combination?"},{"owner":{"account_id":4879666,"reputation":169,"user_id":3933823,"accept_rate":100,"display_name":"prgSRR"},"score":0,"creation_date":1513711667,"post_id":22632826,"comment_id":82754351,"body_markdown":"@bikashg: Permutations &amp; Combinations","body":"@bikashg: Permutations &amp; Combinations"}],"answers":[{"comments":[{"owner":{"account_id":3310364,"reputation":724,"user_id":2784032,"accept_rate":50,"display_name":"Maxx"},"score":0,"creation_date":1395746440,"post_id":22632922,"comment_id":34467693,"body_markdown":"for more than 2 arrays?","body":"for more than 2 arrays?"},{"owner":{"account_id":3234607,"reputation":10207,"user_id":2729109,"accept_rate":85,"display_name":"ikh"},"score":0,"creation_date":1395746537,"post_id":22632922,"comment_id":34467763,"body_markdown":"@Shwet 3 array -&gt; 3 loop, 4 array -&gt; 4 loop, ...... Do you want several arrays? If so, please wait a minute...","body":"@Shwet 3 array -&gt; 3 loop, 4 array -&gt; 4 loop, ...... Do you want several arrays? If so, please wait a minute..."},{"owner":{"account_id":2637142,"reputation":332,"user_id":2299264,"accept_rate":33,"display_name":"StaNov"},"score":1,"creation_date":1395746622,"post_id":22632922,"comment_id":34467817,"body_markdown":"Try using recursion for more arrays.","body":"Try using recursion for more arrays."},{"owner":{"account_id":3310364,"reputation":724,"user_id":2784032,"accept_rate":50,"display_name":"Maxx"},"score":0,"creation_date":1395746657,"post_id":22632922,"comment_id":34467839,"body_markdown":"several arrays. For 3 and 4 arrays we can write 3 and 4 loops respectively but for several arrays it is difficult to write that many loops.","body":"several arrays. For 3 and 4 arrays we can write 3 and 4 loops respectively but for several arrays it is difficult to write that many loops."}],"tags":[],"owner":{"account_id":3234607,"reputation":10207,"user_id":2729109,"accept_rate":85,"display_name":"ikh"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395747773,"creation_date":1395746161,"answer_id":22632922,"question_id":22632826,"body_markdown":"just be simple -\r\n\r\n    ArrayList&lt;Integer&gt; combination(int[] ar1, int[] ar2)\r\n    {\r\n        ArrayList&lt;Integer&gt; result = new ArrayList&lt;int&gt;();\r\n        for (int i1 : ar1)\r\n        {\r\n            for (int i2 : ar2)\r\n            {\r\n                result.add(i1 * i2);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n&lt;hr/&gt;\r\n\r\nUm, I think recursion is solution to general situation.\r\n\r\n    import java.util.*;\r\n\r\n    class Ideone\r\n    {\r\n        public static void main (String[] args) throws java.lang.Exception\r\n        {\r\n            ArrayList&lt;int[]&gt; arrays = new ArrayList&lt;int[]&gt;();\r\n            arrays.add(new int[] { 1, 2, 3 });\r\n            arrays.add(new int[] { 4, 5 });\r\n            arrays.add(new int[] { 6, 7 });\r\n\r\n            ArrayList&lt;Integer&gt; result = combination(arrays);\r\n            for (int i : result)\r\n            {\r\n            \tSystem.out.println(i);\r\n            }\r\n        }\r\n\r\n        static ArrayList&lt;Integer&gt; combination(ArrayList&lt;int[]&gt; arrays)\r\n        {\r\n            if (arrays.size() == 0)\r\n                return null;\r\n\r\n            ArrayList&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\r\n            combination_sub(arrays, 0, result);\r\n            return result;\r\n        }\r\n        static void combination_sub(ArrayList&lt;int[]&gt; arrays, int idx, ArrayList&lt;Integer&gt; result)\r\n        {\r\n            if (arrays.size() == idx)\r\n            {\r\n                result.add(1);\r\n                return;\r\n            }\r\n\r\n            int[] ar = arrays.get(idx);\r\n\r\n            ArrayList&lt;Integer&gt; sub_result = new ArrayList&lt;Integer&gt;();\r\n            combination_sub(arrays, idx + 1, sub_result);\r\n\r\n            for (int i : ar)\r\n            {\r\n                for (int sub_i : sub_result)\r\n                {\r\n                    result.add(i * sub_i);\r\n                }\r\n    \t    }\r\n        }\r\n    }\r\n","title":"Combination of elements of multiple arrays","body":"<p>just be simple -</p>\n\n<pre><code>ArrayList&lt;Integer&gt; combination(int[] ar1, int[] ar2)\n{\n    ArrayList&lt;Integer&gt; result = new ArrayList&lt;int&gt;();\n    for (int i1 : ar1)\n    {\n        for (int i2 : ar2)\n        {\n            result.add(i1 * i2);\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<hr/>\n\n<p>Um, I think recursion is solution to general situation.</p>\n\n<pre><code>import java.util.*;\n\nclass Ideone\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        ArrayList&lt;int[]&gt; arrays = new ArrayList&lt;int[]&gt;();\n        arrays.add(new int[] { 1, 2, 3 });\n        arrays.add(new int[] { 4, 5 });\n        arrays.add(new int[] { 6, 7 });\n\n        ArrayList&lt;Integer&gt; result = combination(arrays);\n        for (int i : result)\n        {\n            System.out.println(i);\n        }\n    }\n\n    static ArrayList&lt;Integer&gt; combination(ArrayList&lt;int[]&gt; arrays)\n    {\n        if (arrays.size() == 0)\n            return null;\n\n        ArrayList&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\n        combination_sub(arrays, 0, result);\n        return result;\n    }\n    static void combination_sub(ArrayList&lt;int[]&gt; arrays, int idx, ArrayList&lt;Integer&gt; result)\n    {\n        if (arrays.size() == idx)\n        {\n            result.add(1);\n            return;\n        }\n\n        int[] ar = arrays.get(idx);\n\n        ArrayList&lt;Integer&gt; sub_result = new ArrayList&lt;Integer&gt;();\n        combination_sub(arrays, idx + 1, sub_result);\n\n        for (int i : ar)\n        {\n            for (int sub_i : sub_result)\n            {\n                result.add(i * sub_i);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1838196,"reputation":3197,"user_id":1668144,"accept_rate":75,"display_name":"Guillermo Merino"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1395747176,"creation_date":1395747176,"answer_id":22633311,"question_id":22632826,"body_markdown":"What about having the arrays in an array:\r\n\r\n  \r\n\r\n        String[] arr1 = { &quot;a&quot;, &quot;b&quot;, &quot;c&quot; };\r\n    \r\n        String[] arr2 = { &quot;d&quot;, &quot;e&quot; };\r\n    \r\n        String[] arr3 = { &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot; };\r\n    \r\n        String[][] arrays = new String[][] { arr1, arr2, arr3 };\r\n    \r\n        public void mix(String[][] arrays) {\r\n\r\n            if (arrays.length &gt; 0) {\r\n        \t    List&lt;String&gt; result = Arrays.asList(arrays[0]);\r\n        \r\n        \t    for (int i = 1; i &lt; arrays.length - 1; i++) {\r\n        \t\tString[] aux = arrays[i];\r\n        \t\tfor (int j = 0; j &lt; aux.length; j++) {\r\n        \t\t    result.add(j, result.get(j) + aux[j]);\r\n        \t\t}\r\n        \t    }\r\n        \t}\r\n        }","title":"Combination of elements of multiple arrays","body":"<p>What about having the arrays in an array:</p>\n\n<pre><code>    String[] arr1 = { \"a\", \"b\", \"c\" };\n\n    String[] arr2 = { \"d\", \"e\" };\n\n    String[] arr3 = { \"f\", \"g\", \"h\", \"i\" };\n\n    String[][] arrays = new String[][] { arr1, arr2, arr3 };\n\n    public void mix(String[][] arrays) {\n\n        if (arrays.length &gt; 0) {\n            List&lt;String&gt; result = Arrays.asList(arrays[0]);\n\n            for (int i = 1; i &lt; arrays.length - 1; i++) {\n            String[] aux = arrays[i];\n            for (int j = 0; j &lt; aux.length; j++) {\n                result.add(j, result.get(j) + aux[j]);\n            }\n            }\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4208964,"reputation":2051,"user_id":3447216,"display_name":"Priyesh"},"score":0,"creation_date":1500637584,"post_id":22634116,"comment_id":77439207,"body_markdown":"@nazar_art What issue do you get with 4 containers? I have tried this with 4 and more containers and it has worked.","body":"@nazar_art What issue do you get with 4 containers? I have tried this with 4 and more containers and it has worked."},{"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"score":0,"creation_date":1500638097,"post_id":22634116,"comment_id":77439582,"body_markdown":"it fails with `NullPointerException`.","body":"it fails with <code>NullPointerException</code>."},{"owner":{"account_id":4208964,"reputation":2051,"user_id":3447216,"display_name":"Priyesh"},"score":0,"creation_date":1500978722,"post_id":22634116,"comment_id":77562671,"body_markdown":"@nazar_art Stacktrace please. Or at least the line no and your code if possible.","body":"@nazar_art Stacktrace please. Or at least the line no and your code if possible."},{"owner":{"account_id":4208964,"reputation":2051,"user_id":3447216,"display_name":"Priyesh"},"score":0,"creation_date":1500994091,"post_id":22634116,"comment_id":77575233,"body_markdown":"Works for me if all lists have at least one item in them.","body":"Works for me if all lists have at least one item in them."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1558701091,"post_id":22634116,"comment_id":99197797,"body_markdown":"Whats the point of wrapping every source `List` in a `TempContainer`?","body":"Whats the point of wrapping every source <code>List</code> in a <code>TempContainer</code>?"}],"tags":[],"owner":{"account_id":4208964,"reputation":2051,"user_id":3447216,"display_name":"Priyesh"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1395757321,"creation_date":1395749214,"answer_id":22634116,"question_id":22632826,"body_markdown":"This is my attempt at getting combinations from multiple arrays(containers).\r\n    \r\n     private List&lt;List&lt;T&gt;&gt; getCombination(int currentIndex, List&lt;TempContainer&lt;T&gt;&gt; containers) {\r\n\t\tif (currentIndex == containers.size()) {\r\n\t\t\t// Skip the items for the last container\r\n\t\t\tList&lt;List&lt;T&gt;&gt; combinations = new ArrayList&lt;List&lt;T&gt;&gt;();\r\n\t\t\tcombinations.add(new ArrayList&lt;T&gt;());\r\n\t\t\treturn combinations;\r\n\t\t}\r\n\t\tList&lt;List&lt;T&gt;&gt; combinations = new ArrayList&lt;List&lt;T&gt;&gt;();\r\n\t\tTempContainer&lt;T&gt; container = containers.get(currentIndex);\r\n\t\tList&lt;T&gt; containerItemList = container.getItems();\r\n\t\t// Get combination from next index\r\n\t\tList&lt;List&lt;T&gt;&gt; suffixList = getCombination(currentIndex + 1, containers);\r\n\t\tint size = containerItemList.size();\r\n\t\tfor (int ii = 0; ii &lt; size; ii++) {\r\n\t\t\tT containerItem = containerItemList.get(ii);\r\n\t\t\tif (suffixList != null) {\r\n\t\t\t\tfor (List&lt;T&gt; suffix : suffixList) {\r\n\t\t\t\t\tList&lt;T&gt; nextCombination = new ArrayList&lt;T&gt;();\r\n\t\t\t\t\tnextCombination.add(containerItem);\r\n\t\t\t\t\tnextCombination.addAll(suffix);\r\n\t\t\t\t\tcombinations.add(nextCombination);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn combinations;\r\n\t}\r\n\r\nThe method takes a list of containers with items. e.g. Container 1 will have [a,b] and Container 2 will have [c,d,e]. The method can take any number of containers.\r\n    // The container class is declared as follows:\r\n\r\n    public class TempContainer&lt;T&gt; {\r\n        private List&lt;T&gt; items; \r\n        public void setItems(List&lt;T&gt; items) {\r\n           this.items = items;\r\n        }\r\n \r\n        public List&lt;T&gt; getItems() {\r\n             return items;\r\n        }\r\n    }\r\n\r\nCall this method as follows:\r\n\r\n    List&lt;String&gt; list1 = new ArrayList&lt;String&gt;();\r\n    list1.add(&quot;1&quot;);\r\n    list1.add(&quot;2&quot;);\r\n    List&lt;String&gt; list2 = new ArrayList&lt;String&gt;();\r\n    list2.add(&quot;3&quot;);\r\n    list2.add(&quot;4&quot;);\r\n    list2.add(&quot;5&quot;);\r\n    TempContainer container1 = new TempContainer();\r\n    container1.setItems(list1);\r\n    TempContainer container2 = new TempContainer();\r\n    container2.setItems(list2);\r\n    List&lt;TempContainer&gt; containers = new ArrayList&lt;TempContainer&gt;(2);\r\n    containers.add(container1);\r\n    containers.add(container2);\r\n    // Get combinations \r\n    List&lt;List&lt;T&gt;&gt; combinations = getCombination(0, containers);\r\n    ","title":"Combination of elements of multiple arrays","body":"<p>This is my attempt at getting combinations from multiple arrays(containers).</p>\n\n<pre><code> private List&lt;List&lt;T&gt;&gt; getCombination(int currentIndex, List&lt;TempContainer&lt;T&gt;&gt; containers) {\n    if (currentIndex == containers.size()) {\n        // Skip the items for the last container\n        List&lt;List&lt;T&gt;&gt; combinations = new ArrayList&lt;List&lt;T&gt;&gt;();\n        combinations.add(new ArrayList&lt;T&gt;());\n        return combinations;\n    }\n    List&lt;List&lt;T&gt;&gt; combinations = new ArrayList&lt;List&lt;T&gt;&gt;();\n    TempContainer&lt;T&gt; container = containers.get(currentIndex);\n    List&lt;T&gt; containerItemList = container.getItems();\n    // Get combination from next index\n    List&lt;List&lt;T&gt;&gt; suffixList = getCombination(currentIndex + 1, containers);\n    int size = containerItemList.size();\n    for (int ii = 0; ii &lt; size; ii++) {\n        T containerItem = containerItemList.get(ii);\n        if (suffixList != null) {\n            for (List&lt;T&gt; suffix : suffixList) {\n                List&lt;T&gt; nextCombination = new ArrayList&lt;T&gt;();\n                nextCombination.add(containerItem);\n                nextCombination.addAll(suffix);\n                combinations.add(nextCombination);\n            }\n        }\n    }\n    return combinations;\n}\n</code></pre>\n\n<p>The method takes a list of containers with items. e.g. Container 1 will have [a,b] and Container 2 will have [c,d,e]. The method can take any number of containers.\n    // The container class is declared as follows:</p>\n\n<pre><code>public class TempContainer&lt;T&gt; {\n    private List&lt;T&gt; items; \n    public void setItems(List&lt;T&gt; items) {\n       this.items = items;\n    }\n\n    public List&lt;T&gt; getItems() {\n         return items;\n    }\n}\n</code></pre>\n\n<p>Call this method as follows:</p>\n\n<pre><code>List&lt;String&gt; list1 = new ArrayList&lt;String&gt;();\nlist1.add(\"1\");\nlist1.add(\"2\");\nList&lt;String&gt; list2 = new ArrayList&lt;String&gt;();\nlist2.add(\"3\");\nlist2.add(\"4\");\nlist2.add(\"5\");\nTempContainer container1 = new TempContainer();\ncontainer1.setItems(list1);\nTempContainer container2 = new TempContainer();\ncontainer2.setItems(list2);\nList&lt;TempContainer&gt; containers = new ArrayList&lt;TempContainer&gt;(2);\ncontainers.add(container1);\ncontainers.add(container2);\n// Get combinations \nList&lt;List&lt;T&gt;&gt; combinations = getCombination(0, containers);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4742105,"reputation":3877,"user_id":3834496,"accept_rate":29,"display_name":"Pritesh Mhatre"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418193669,"creation_date":1418193669,"answer_id":27394738,"question_id":22632826,"body_markdown":"I had similar requirement, but for collections of different types. Here&#39;s a modified version of Priyesh&#39;s solution.\r\n\r\n&lt;b&gt;Note: &lt;/b&gt;I removed the dependency on `TempContainer&lt;T&gt;` class.\r\n\r\n\r\n    public class TestCombinations {\r\n\r\n\t@Test\r\n\tpublic void test() {\r\n\r\n\t\tfinal List&lt;Object&gt; l1 = new ArrayList&lt;Object&gt;();\r\n\t\tl1.add(1);\r\n\t\tl1.add(2);\r\n\t\tfinal List&lt;Object&gt; l2 = new ArrayList&lt;Object&gt;();\r\n\t\tl2.add(&quot;3&quot;);\r\n\t\tl2.add(&quot;4&quot;);\r\n\t\tl2.add(&quot;5&quot;);\r\n\t\tfinal List&lt;Object&gt; l3 = new ArrayList&lt;Object&gt;();\r\n\t\tl3.add(true);\r\n\t\tl3.add(false);\r\n\r\n\t\tfinal List&lt;List&lt;Object&gt;&gt; c = new ArrayList&lt;&gt;(3);\r\n\t\tc.add(l1);\r\n\t\tc.add(l2);\r\n\t\tc.add(l3);\r\n\r\n\t\t// Get combinations\r\n\t\tfinal List&lt;List&lt;Object&gt;&gt; m = this.combine(c);\r\n\t\tSystem.out.println(m);\r\n\r\n\t}\r\n\r\n\tpublic List&lt;List&lt;Object&gt;&gt; combine(final List&lt;List&lt;Object&gt;&gt; containers) {\r\n\t\treturn this.combineInternal(0, containers);\r\n\t}\r\n\r\n\tprivate List&lt;List&lt;Object&gt;&gt; combineInternal(final int currentIndex,\r\n\t\t\tfinal List&lt;List&lt;Object&gt;&gt; containers) {\r\n\t\tif (currentIndex == containers.size()) {\r\n\t\t\t// Skip the items for the last container\r\n\t\t\tfinal List&lt;List&lt;Object&gt;&gt; combinations = new ArrayList&lt;&gt;();\r\n\t\t\tcombinations.add(Collections.emptyList());\r\n\t\t\treturn combinations;\r\n\t\t}\r\n\r\n\t\tfinal List&lt;List&lt;Object&gt;&gt; combinations = new ArrayList&lt;&gt;();\r\n\t\tfinal List&lt;Object&gt; containerItemList = containers.get(currentIndex);\r\n\t\t// Get combination from next index\r\n\t\tfinal List&lt;List&lt;Object&gt;&gt; suffixList = this.combineInternal(\r\n\t\t\t\tcurrentIndex + 1, containers);\r\n\r\n\t\tfinal int size = containerItemList.size();\r\n\t\tfor (int i = 0; i &lt; size; i++) {\r\n\t\t\tfinal Object containerItem = containerItemList.get(i);\r\n\t\t\tif (suffixList != null) {\r\n\t\t\t\tfor (final List&lt;Object&gt; suffix : suffixList) {\r\n\t\t\t\t\tfinal List&lt;Object&gt; nextCombination = new ArrayList&lt;&gt;();\r\n\t\t\t\t\tnextCombination.add(containerItem);\r\n\t\t\t\t\tnextCombination.addAll(suffix);\r\n\t\t\t\t\tcombinations.add(nextCombination);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn combinations;\r\n\t}\r\n\r\n    }\r\n","title":"Combination of elements of multiple arrays","body":"<p>I had similar requirement, but for collections of different types. Here's a modified version of Priyesh's solution.</p>\n\n<p><b>Note: </b>I removed the dependency on <code>TempContainer&lt;T&gt;</code> class.</p>\n\n<pre><code>public class TestCombinations {\n\n@Test\npublic void test() {\n\n    final List&lt;Object&gt; l1 = new ArrayList&lt;Object&gt;();\n    l1.add(1);\n    l1.add(2);\n    final List&lt;Object&gt; l2 = new ArrayList&lt;Object&gt;();\n    l2.add(\"3\");\n    l2.add(\"4\");\n    l2.add(\"5\");\n    final List&lt;Object&gt; l3 = new ArrayList&lt;Object&gt;();\n    l3.add(true);\n    l3.add(false);\n\n    final List&lt;List&lt;Object&gt;&gt; c = new ArrayList&lt;&gt;(3);\n    c.add(l1);\n    c.add(l2);\n    c.add(l3);\n\n    // Get combinations\n    final List&lt;List&lt;Object&gt;&gt; m = this.combine(c);\n    System.out.println(m);\n\n}\n\npublic List&lt;List&lt;Object&gt;&gt; combine(final List&lt;List&lt;Object&gt;&gt; containers) {\n    return this.combineInternal(0, containers);\n}\n\nprivate List&lt;List&lt;Object&gt;&gt; combineInternal(final int currentIndex,\n        final List&lt;List&lt;Object&gt;&gt; containers) {\n    if (currentIndex == containers.size()) {\n        // Skip the items for the last container\n        final List&lt;List&lt;Object&gt;&gt; combinations = new ArrayList&lt;&gt;();\n        combinations.add(Collections.emptyList());\n        return combinations;\n    }\n\n    final List&lt;List&lt;Object&gt;&gt; combinations = new ArrayList&lt;&gt;();\n    final List&lt;Object&gt; containerItemList = containers.get(currentIndex);\n    // Get combination from next index\n    final List&lt;List&lt;Object&gt;&gt; suffixList = this.combineInternal(\n            currentIndex + 1, containers);\n\n    final int size = containerItemList.size();\n    for (int i = 0; i &lt; size; i++) {\n        final Object containerItem = containerItemList.get(i);\n        if (suffixList != null) {\n            for (final List&lt;Object&gt; suffix : suffixList) {\n                final List&lt;Object&gt; nextCombination = new ArrayList&lt;&gt;();\n                nextCombination.add(containerItem);\n                nextCombination.addAll(suffix);\n                combinations.add(nextCombination);\n            }\n        }\n    }\n\n    return combinations;\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5282912,"reputation":552,"user_id":4663544,"display_name":"Jeba Ranganathan"},"comment_count":0,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1526623647,"creation_date":1526563208,"answer_id":50392518,"question_id":22632826,"body_markdown":"You can achieve this easily in java 8 Stream Api:\r\n\r\n    String arr1[] = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\r\n    String arr2[] = {&quot;d&quot;, &quot;e&quot;};\r\n    String arr3[] = {&quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot;};\r\n    \r\n    List&lt;String&gt; result = Arrays.stream(arr1)\r\n    \t\t.flatMap(s1 -&gt; Arrays.stream(arr2)\r\n    \t\t\t\t.flatMap(s2 -&gt; Arrays.stream(arr3)\r\n    \t\t\t\t\t\t.map(s3 -&gt; s1 + s2 + s3)))\r\n    \t\t.collect(Collectors.toList());\r\n\r\n","title":"Combination of elements of multiple arrays","body":"<p>You can achieve this easily in java 8 Stream Api:</p>\n\n<pre><code>String arr1[] = {\"a\", \"b\", \"c\"};\nString arr2[] = {\"d\", \"e\"};\nString arr3[] = {\"f\", \"g\", \"h\", \"i\"};\n\nList&lt;String&gt; result = Arrays.stream(arr1)\n        .flatMap(s1 -&gt; Arrays.stream(arr2)\n                .flatMap(s2 -&gt; Arrays.stream(arr3)\n                        .map(s3 -&gt; s1 + s2 + s3)))\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14875846,"reputation":1,"user_id":10741933,"display_name":"prism"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543894807,"creation_date":1543894807,"answer_id":53605359,"question_id":22632826,"body_markdown":"in case of 3 arrays. if want other than 3 arrays, can insert additional code. recursive solution\r\n\r\n    /* This code is contributed by Devesh Agrawal and modified for personal solution by prism */\r\n    /* contributed by Devesh Agrawal at https://www.geeksforgeeks.org/print-all-possible-combinations-of-r-elements-in-a-given-array-of-size-n/ */\r\n    \r\n    package com.practice.probabilty;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class CombinationNumber {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tint[] arr1 = new int[] {1, 2, 3, 4, 5, 6, 7, 8, 9 };\r\n    \t\tint[] arr2 = new int[] {0, 1, 2, 3, 4, 5, 6, 7, 8, 9 };\r\n    \t\tint[] arr3 = new int[] {0, 2, 4, 6, 8};\r\n    \r\n    \t\tint[] arr = arr1.clone();\r\n    \r\n    \t\tint r = 3; //amount of digits as need\r\n    \t\t\r\n    \t\tint n1 = arr1.length; //amount of all digits provided for composing the number\r\n    \t\tint n2 = arr2.length;\r\n    \t\tint n3 = arr3.length;\r\n    \r\n    \t\t\r\n    \t\tint[] count = new int[]{0}; //for counting total amount of all combination numbers\r\n    \t\t\r\n    \t\tprintCombination(arr1, arr2, arr3, arr, n1, n2, n3, r, count);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Total amount of number = &quot; + count[0]);\r\n    \r\n    \t}\r\n    \r\n    \t/*\r\n    \t * arr[] ---&gt; Input Array data[] ---&gt; Temporary array to store current\r\n    \t * combination start &amp; end ---&gt; Staring and Ending indexes in arr[] index ---&gt;\r\n    \t * Current index in data[] r ---&gt; Size of a combination to be printed\r\n    \t */\r\n    \tstatic void combinationUtil_1(int arr1[], int arr2[], int arr3[], int arr[],\r\n    \t\t\tint n1, int n2, int n3, int r, int index,\r\n    \t\t\tint data[], int i1, int i2, int i3, int[] count) {\r\n    \t\t// Print index and i\r\n    \t\t// System.out.print(&quot;data index = &quot; + index + &quot;, arr i = &quot; + i + &quot;, order  = &quot; + order);\r\n    \t\t// Current combination is ready to be printed, print it \r\n    \t\t\r\n    \t\tif (index == r) {\r\n    \t\t\tfor (int j = 0; j &lt; r; j++) {\r\n    \t\t\t\tSystem.out.print(&quot; &quot; + data[j] + &quot; &quot;);\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t\tSystem.out.println();\r\n    \t\t\tcount[0]++;\r\n    \r\n    \t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\t// When no more elements are there to put in data[] \r\n    \t\tif (i1 &gt;= n1 || i2 &gt;= n2 || i3 &gt;= n3)\r\n    \t\t\treturn;\r\n    \r\n    \t\t// current is included, put next at next location \r\n    \t\t\r\n    \t\tif(index == 0)\r\n    \t\t{\r\n    \r\n    \t\t\tdata[index] = arr1[i1];\r\n    \r\n    \t\t\tcombinationUtil_1(arr1, arr2, arr3, arr2, n1, n2, n3, r, index + 1, data, i1++, i2, i3, count);\r\n    \r\n    \t\t\tcombinationUtil_1(arr1, arr2, arr3, arr2, n1, n2, n3, r, index, data, i1++, i2, i3, count);\r\n    \r\n    \r\n    \t\t\t\r\n    \t\t}else if(index == 1)\r\n    \t\t{\r\n    \r\n    \t\t\tdata[index] = arr2[i2];\r\n    \r\n    \t\t\tcombinationUtil_1(arr1, arr2, arr3, arr3, n1, n2, n3, r, index + 1, data, i1, i2++, i3, count);\r\n    \r\n    \t\t\tcombinationUtil_1(arr1, arr2, arr3, arr3, n1, n2, n3, r, index, data, i1, i2++, i3, count);\r\n    \r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \r\n    \t\t\tdata[index] = arr3[i3];\r\n    \r\n    \t\t\tcombinationUtil_1(arr1, arr2, arr3, arr1, n1, n2, n3, r, index + 1, data, i1, i2, i3++, count);\r\n    \t\t\t\r\n    \t\t\tcombinationUtil_1(arr1, arr2, arr3, arr1, n1, n2, n3, r, index, data, i1, i2, i3++, count);\r\n    \r\n    \t\t}\r\n    \t}\r\n    \r\n    \t// The main function that prints all combinations of size r\r\n    \t// This function mainly uses combinationUtil()\r\n    \tstatic void printCombination(int arr1[], int arr2[], int arr3[], int arr[], \r\n    \t\t\tint n1, int n2, int n3, int r, int[] count) {\r\n    \t\t// A temporary array to store all combination one by one\r\n    \t\tint data[] = new int[r];\r\n    \r\n    \t\t// Print all combination using temporary array &#39;data[]&#39;\r\n    \t\tcombinationUtil_1(arr1, arr2, arr3, arr, n1, n2, n3, r, 0, data, 0, 0, 0, count);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"Combination of elements of multiple arrays","body":"<p>in case of 3 arrays. if want other than 3 arrays, can insert additional code. recursive solution</p>\n\n<pre><code>/* This code is contributed by Devesh Agrawal and modified for personal solution by prism */\n/* contributed by Devesh Agrawal at https://www.geeksforgeeks.org/print-all-possible-combinations-of-r-elements-in-a-given-array-of-size-n/ */\n\npackage com.practice.probabilty;\n\nimport java.util.ArrayList;\n\npublic class CombinationNumber {\n\n    public static void main(String[] args) {\n\n        int[] arr1 = new int[] {1, 2, 3, 4, 5, 6, 7, 8, 9 };\n        int[] arr2 = new int[] {0, 1, 2, 3, 4, 5, 6, 7, 8, 9 };\n        int[] arr3 = new int[] {0, 2, 4, 6, 8};\n\n        int[] arr = arr1.clone();\n\n        int r = 3; //amount of digits as need\n\n        int n1 = arr1.length; //amount of all digits provided for composing the number\n        int n2 = arr2.length;\n        int n3 = arr3.length;\n\n\n        int[] count = new int[]{0}; //for counting total amount of all combination numbers\n\n        printCombination(arr1, arr2, arr3, arr, n1, n2, n3, r, count);\n\n        System.out.println(\"Total amount of number = \" + count[0]);\n\n    }\n\n    /*\n     * arr[] ---&gt; Input Array data[] ---&gt; Temporary array to store current\n     * combination start &amp; end ---&gt; Staring and Ending indexes in arr[] index ---&gt;\n     * Current index in data[] r ---&gt; Size of a combination to be printed\n     */\n    static void combinationUtil_1(int arr1[], int arr2[], int arr3[], int arr[],\n            int n1, int n2, int n3, int r, int index,\n            int data[], int i1, int i2, int i3, int[] count) {\n        // Print index and i\n        // System.out.print(\"data index = \" + index + \", arr i = \" + i + \", order  = \" + order);\n        // Current combination is ready to be printed, print it \n\n        if (index == r) {\n            for (int j = 0; j &lt; r; j++) {\n                System.out.print(\" \" + data[j] + \" \");\n\n            }\n\n            System.out.println();\n            count[0]++;\n\n            return;\n        }\n\n        // When no more elements are there to put in data[] \n        if (i1 &gt;= n1 || i2 &gt;= n2 || i3 &gt;= n3)\n            return;\n\n        // current is included, put next at next location \n\n        if(index == 0)\n        {\n\n            data[index] = arr1[i1];\n\n            combinationUtil_1(arr1, arr2, arr3, arr2, n1, n2, n3, r, index + 1, data, i1++, i2, i3, count);\n\n            combinationUtil_1(arr1, arr2, arr3, arr2, n1, n2, n3, r, index, data, i1++, i2, i3, count);\n\n\n\n        }else if(index == 1)\n        {\n\n            data[index] = arr2[i2];\n\n            combinationUtil_1(arr1, arr2, arr3, arr3, n1, n2, n3, r, index + 1, data, i1, i2++, i3, count);\n\n            combinationUtil_1(arr1, arr2, arr3, arr3, n1, n2, n3, r, index, data, i1, i2++, i3, count);\n\n        }\n        else\n        {\n\n            data[index] = arr3[i3];\n\n            combinationUtil_1(arr1, arr2, arr3, arr1, n1, n2, n3, r, index + 1, data, i1, i2, i3++, count);\n\n            combinationUtil_1(arr1, arr2, arr3, arr1, n1, n2, n3, r, index, data, i1, i2, i3++, count);\n\n        }\n    }\n\n    // The main function that prints all combinations of size r\n    // This function mainly uses combinationUtil()\n    static void printCombination(int arr1[], int arr2[], int arr3[], int arr[], \n            int n1, int n2, int n3, int r, int[] count) {\n        // A temporary array to store all combination one by one\n        int data[] = new int[r];\n\n        // Print all combination using temporary array 'data[]'\n        combinationUtil_1(arr1, arr2, arr3, arr, n1, n2, n3, r, 0, data, 0, 0, 0, count);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14875846,"reputation":1,"user_id":10741933,"display_name":"prism"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544107238,"creation_date":1544107238,"answer_id":53653810,"question_id":22632826,"body_markdown":"for several array, in this code 4 arrays, recursive\r\n\r\n    package com.practice.probabilty;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    \r\n    public class Example {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tint[] arr1 = new int[] {1, 2, 3, 4};\r\n    \t\tint[] arr2 = new int[] {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};\r\n    \t\tint[] arr3 = new int[] {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};\r\n    \t\tint[] arr4 = new int[] {1, 3, 5, 7, 9};\r\n    \r\n    \t\tArrayList&lt;int[]&gt; listOfArray = new ArrayList&lt;int[]&gt;();\r\n    \t\tlistOfArray.add(arr1);\r\n    \t\tlistOfArray.add(arr2);\r\n    \t\tlistOfArray.add(arr3);\r\n    \t\tlistOfArray.add(arr4);\r\n    \t\t\r\n    \t\t\r\n    \t\tint sizeOfList = listOfArray.size();\r\n    \t\tint r = sizeOfList;\r\n    \t\t\r\n    \t\tHashMap&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\r\n    \t\tfor(int i = 0; i &lt; sizeOfList; i++)\r\n    \t\t{\r\n    \t\t\tmap.put(i, 0);\r\n    \t\t}\r\n    \r\n    \t\tint[] count = new int[]{0}; //for counting total amount of all combination numbers\r\n    \t\t\r\n    \t\tprintCombination(listOfArray, sizeOfList, r, map, count);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Total amount of number = &quot; + count[0]);\r\n    \r\n    \t}\r\n    \r\n    \t/*\r\n    \t * arr[] ---&gt; Input Array data[] ---&gt; Temporary array to store current\r\n    \t * combination start &amp; end ---&gt; Staring and Ending indexes in arr[] index ---&gt;\r\n    \t * Current index in data[] r ---&gt; Size of a combination to be printed\r\n    \t */\r\n    \t\r\n    \tstatic void combinationUtil_1(ArrayList&lt;int[]&gt; listOfArray,\r\n    \t\t\tint sizeOfList, int r, int index,\r\n    \t\t\tint data[], HashMap&lt;Integer, Integer&gt; map, int[] count) {\r\n    \t\t\r\n    \t\tif (index == r) {\r\n    //System.out.print(&quot;--&gt; &quot;);\r\n    \t\t\tfor (int j = 0; j &lt; r; j++) {\r\n    \t\t\t\tSystem.out.print(&quot; &quot; + data[j] + &quot; &quot;);\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t\tSystem.out.println();\r\n    \t\t\tcount[0]++;\r\n    \r\n    \t\t\treturn;\r\n    \t\t}\r\n     \r\n    \t\tfor(int i = 0; i &lt; sizeOfList; i++)\r\n    \t\t{\r\n    \t\t\tif(map.get(i) &gt;= listOfArray.get(i).length)\r\n    \t\t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\t\tdata[index] = listOfArray.get(index)[map.get(index)];\r\n    \r\n    \t\t\tcombinationUtil_1(listOfArray, sizeOfList, r, index + 1, data, map, count);\r\n    \t\t\tHashMap&lt;Integer, Integer&gt; map1 = new HashMap&lt;Integer, Integer&gt;();\r\n    \t\t\tfor(int i = 0; i &lt; sizeOfList; i++)\r\n    \t\t\t{\r\n    \t\t\t\tif(i == index)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tmap1.put(i, map.get(i) + 1);\r\n    \t\t\t\t}\r\n    \t\t\t\telse\r\n    \t\t\t\t{\r\n    \t\t\t\t\tmap1.put(i, map.get(i));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \r\n    \t\t\tcombinationUtil_1(listOfArray, sizeOfList, r, index, data, map1, count);\r\n    \t\t\tHashMap&lt;Integer, Integer&gt; map2 = new HashMap&lt;Integer, Integer&gt;();\r\n    \t\t\tfor(int i = 0; i &lt; sizeOfList; i++)\r\n    \t\t\t{\r\n    \t\t\t\tif(i == index)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tmap2.put(i, map.get(i) + 1);\r\n    \t\t\t\t}\r\n    \t\t\t\telse\r\n    \t\t\t\t{\r\n    \t\t\t\t\tmap2.put(i, map.get(i));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t}\r\n    \r\n    \tstatic void printCombination(ArrayList&lt;int[]&gt; listOfArray, \r\n    \t\t\tint sizeOfList, int r, HashMap&lt;Integer, Integer&gt; map, int[] count) {\r\n    \t\t// A temporary array to store all combination one by one\r\n    \t\tint data[] = new int[r];\r\n    \r\n    \t\t// Print all combination using temporary array &#39;data[]&#39;\r\n    \t\t\r\n    \t\tcombinationUtil_1(listOfArray, sizeOfList, r, 0, data, map, count);\r\n    \t\t//combinationUtil_1(arr1, arr2, arr3, arr, n1, n2, n3, r, 0, data, 0, 0, 0, count);\r\n    \t}\r\n    \r\n    \t/* Driver function to check for above function */\r\n    \r\n    }\r\n    /* This code is modified from Devesh Agrawal&#39;s */\r\n\r\n","title":"Combination of elements of multiple arrays","body":"<p>for several array, in this code 4 arrays, recursive</p>\n\n<pre><code>package com.practice.probabilty;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\n\npublic class Example {\n\n    public static void main(String[] args) {\n\n        int[] arr1 = new int[] {1, 2, 3, 4};\n        int[] arr2 = new int[] {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};\n        int[] arr3 = new int[] {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};\n        int[] arr4 = new int[] {1, 3, 5, 7, 9};\n\n        ArrayList&lt;int[]&gt; listOfArray = new ArrayList&lt;int[]&gt;();\n        listOfArray.add(arr1);\n        listOfArray.add(arr2);\n        listOfArray.add(arr3);\n        listOfArray.add(arr4);\n\n\n        int sizeOfList = listOfArray.size();\n        int r = sizeOfList;\n\n        HashMap&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\n        for(int i = 0; i &lt; sizeOfList; i++)\n        {\n            map.put(i, 0);\n        }\n\n        int[] count = new int[]{0}; //for counting total amount of all combination numbers\n\n        printCombination(listOfArray, sizeOfList, r, map, count);\n\n        System.out.println(\"Total amount of number = \" + count[0]);\n\n    }\n\n    /*\n     * arr[] ---&gt; Input Array data[] ---&gt; Temporary array to store current\n     * combination start &amp; end ---&gt; Staring and Ending indexes in arr[] index ---&gt;\n     * Current index in data[] r ---&gt; Size of a combination to be printed\n     */\n\n    static void combinationUtil_1(ArrayList&lt;int[]&gt; listOfArray,\n            int sizeOfList, int r, int index,\n            int data[], HashMap&lt;Integer, Integer&gt; map, int[] count) {\n\n        if (index == r) {\n//System.out.print(\"--&gt; \");\n            for (int j = 0; j &lt; r; j++) {\n                System.out.print(\" \" + data[j] + \" \");\n\n            }\n\n            System.out.println();\n            count[0]++;\n\n            return;\n        }\n\n        for(int i = 0; i &lt; sizeOfList; i++)\n        {\n            if(map.get(i) &gt;= listOfArray.get(i).length)\n                return;\n        }\n\n            data[index] = listOfArray.get(index)[map.get(index)];\n\n            combinationUtil_1(listOfArray, sizeOfList, r, index + 1, data, map, count);\n            HashMap&lt;Integer, Integer&gt; map1 = new HashMap&lt;Integer, Integer&gt;();\n            for(int i = 0; i &lt; sizeOfList; i++)\n            {\n                if(i == index)\n                {\n                    map1.put(i, map.get(i) + 1);\n                }\n                else\n                {\n                    map1.put(i, map.get(i));\n                }\n            }\n\n\n            combinationUtil_1(listOfArray, sizeOfList, r, index, data, map1, count);\n            HashMap&lt;Integer, Integer&gt; map2 = new HashMap&lt;Integer, Integer&gt;();\n            for(int i = 0; i &lt; sizeOfList; i++)\n            {\n                if(i == index)\n                {\n                    map2.put(i, map.get(i) + 1);\n                }\n                else\n                {\n                    map2.put(i, map.get(i));\n                }\n            }\n\n    }\n\n    static void printCombination(ArrayList&lt;int[]&gt; listOfArray, \n            int sizeOfList, int r, HashMap&lt;Integer, Integer&gt; map, int[] count) {\n        // A temporary array to store all combination one by one\n        int data[] = new int[r];\n\n        // Print all combination using temporary array 'data[]'\n\n        combinationUtil_1(listOfArray, sizeOfList, r, 0, data, map, count);\n        //combinationUtil_1(arr1, arr2, arr3, arr, n1, n2, n3, r, 0, data, 0, 0, 0, count);\n    }\n\n    /* Driver function to check for above function */\n\n}\n/* This code is modified from Devesh Agrawal's */\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28048839,"reputation":1,"user_id":21425088,"display_name":"Stefan Ebeling"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679133829,"creation_date":1679128414,"answer_id":75774686,"question_id":22632826,"body_markdown":"What about this one? \r\n\r\n    package permutor;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Permutor&lt;T&gt; {\r\n        private Stream&lt;List&lt;T&gt;&gt; result;\r\n\r\n        public Permutor(final Collection&lt;T&gt; first) {\r\n            result = first.stream().map(Collections::singletonList);\r\n        }\r\n\r\n        public Permutor&lt;T&gt; with(final Collection&lt;T&gt; next) {\r\n            result = result.flatMap(list -&gt; next.stream().map(e -&gt; add(list, e)));\r\n            return this;\r\n        }\r\n\r\n        private static &lt;T&gt; List&lt;T&gt; add(final List&lt;T&gt; list, final T e) {\r\n            final List&lt;T&gt; result = new ArrayList&lt;&gt;(list);\r\n            result.add(e);\r\n            return result;\r\n        }\r\n\r\n        public List&lt;List&lt;T&gt;&gt; getResult() {\r\n            return result.toList();\r\n        }\r\n    }\r\n\r\nTest:\r\n\r\n    package permutor;\r\n\r\n    import static java.util.Arrays.asList;\r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    class PermutorTest {\r\n\t    @Test\r\n\t    void test() {\r\n            final var result = new Permutor&lt;&gt;(asList(&quot;a&quot;, &quot;b&quot;)).with(asList(&quot;c&quot;)).with(asList(&quot;d&quot;)).getResult();\r\n\r\n            assertThat(result).containsExactly(asList(&quot;a&quot;, &quot;c&quot;, &quot;d&quot;), asList(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;));\r\n\t    }\r\n    }\r\n","title":"Combination of elements of multiple arrays","body":"<p>What about this one?</p>\n<pre><code>package permutor;\n\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.stream.Stream;\n\npublic class Permutor&lt;T&gt; {\n    private Stream&lt;List&lt;T&gt;&gt; result;\n\n    public Permutor(final Collection&lt;T&gt; first) {\n        result = first.stream().map(Collections::singletonList);\n    }\n\n    public Permutor&lt;T&gt; with(final Collection&lt;T&gt; next) {\n        result = result.flatMap(list -&gt; next.stream().map(e -&gt; add(list, e)));\n        return this;\n    }\n\n    private static &lt;T&gt; List&lt;T&gt; add(final List&lt;T&gt; list, final T e) {\n        final List&lt;T&gt; result = new ArrayList&lt;&gt;(list);\n        result.add(e);\n        return result;\n    }\n\n    public List&lt;List&lt;T&gt;&gt; getResult() {\n        return result.toList();\n    }\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>package permutor;\n\nimport static java.util.Arrays.asList;\nimport static org.assertj.core.api.Assertions.assertThat;\n\nimport org.junit.jupiter.api.Test;\n\nclass PermutorTest {\n    @Test\n    void test() {\n        final var result = new Permutor&lt;&gt;(asList(&quot;a&quot;, &quot;b&quot;)).with(asList(&quot;c&quot;)).with(asList(&quot;d&quot;)).getResult();\n\n        assertThat(result).containsExactly(asList(&quot;a&quot;, &quot;c&quot;, &quot;d&quot;), asList(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3310364,"reputation":724,"user_id":2784032,"accept_rate":50,"display_name":"Maxx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11222,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":22634116,"answer_count":8,"score":4,"last_activity_date":1679133829,"creation_date":1395745935,"question_id":22632826,"body_markdown":"Recently i implemented code for below\r\nSuppose I have 2 arrays as -\r\n\r\n    arr1 = [a,b,c]\r\n\r\n    arr2 = [d,e]\r\n\r\nand should be as  \r\n\r\n    output = [ad,ae,bd,be,cd,ce]\r\n\r\nNow suppose I have multiple arrays.\r\n\r\nfor eg :\r\n\r\n    arr1=[a,b,c]\r\n\r\n    arr2=[d,e]\r\n\r\n    arr3=[f,g,h,i]\r\n\r\n    arrN=[x,y,z,h,o]\r\n\r\n    output = [adf..x,adf..y and so on]\r\n\r\nHow to implement this in JAVA? kindly help\r\n\r\n\r\n\r\nMy attempt :\r\n\r\n    for(int i=0;i&lt;arr1.length();i++)\r\n    {\r\n    for(int j=0;i&lt;arr2.length();j++)\r\n    {\r\n    System.out.print(arr1[i] + arr2[j] );\r\n    }\r\n    }","title":"Combination of elements of multiple arrays","body":"<p>Recently i implemented code for below\nSuppose I have 2 arrays as -</p>\n\n<pre><code>arr1 = [a,b,c]\n\narr2 = [d,e]\n</code></pre>\n\n<p>and should be as  </p>\n\n<pre><code>output = [ad,ae,bd,be,cd,ce]\n</code></pre>\n\n<p>Now suppose I have multiple arrays.</p>\n\n<p>for eg :</p>\n\n<pre><code>arr1=[a,b,c]\n\narr2=[d,e]\n\narr3=[f,g,h,i]\n\narrN=[x,y,z,h,o]\n\noutput = [adf..x,adf..y and so on]\n</code></pre>\n\n<p>How to implement this in JAVA? kindly help</p>\n\n<p>My attempt :</p>\n\n<pre><code>for(int i=0;i&lt;arr1.length();i++)\n{\nfor(int j=0;i&lt;arr2.length();j++)\n{\nSystem.out.print(arr1[i] + arr2[j] );\n}\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","docker","amazon-ecs"],"comments":[{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1679144304,"post_id":75772184,"comment_id":133670718,"body_markdown":"Is that the entire exception? Are you sure it isn&#39;t caused by another exception, like an error connecting to the database?","body":"Is that the entire exception? Are you sure it isn&#39;t caused by another exception, like an error connecting to the database?"},{"owner":{"account_id":28045773,"reputation":1,"user_id":21422580,"display_name":"JA-W-SB"},"score":0,"creation_date":1679267799,"post_id":75772184,"comment_id":133686115,"body_markdown":"Thanks for your reply Mark. Yeah, that is the entire exception i see. I dont find anything saying &quot;could not connect to DB&quot;","body":"Thanks for your reply Mark. Yeah, that is the entire exception i see. I dont find anything saying &quot;could not connect to DB&quot;"},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1679319381,"post_id":75772184,"comment_id":133695183,"body_markdown":"Actually looking at your question again, I see the log says: `org.postgresql.util.PSQLException: The connection attempt failed`. That&#39;s your actual error. You need to fix the DB connectivity issue.","body":"Actually looking at your question again, I see the log says: <code>org.postgresql.util.PSQLException: The connection attempt failed</code>. That&#39;s your actual error. You need to fix the DB connectivity issue."},{"owner":{"account_id":28045773,"reputation":1,"user_id":21422580,"display_name":"JA-W-SB"},"score":0,"creation_date":1679418458,"post_id":75772184,"comment_id":133717420,"body_markdown":"After going through logs in deep, i found a different error which could be the root cause for all ===&gt; Unable to load credentials from EnvironmentVariableCredentialsProvider: com.amazonaws.SdkClientException: Unable to load AWS credentials from environment variables (AWS_ACCESS_KEY_ID (or AWS_ACCESS_KEY) and AWS_SECRET_KEY (or AWS_SECRET_ACCESS_KEY))\\n\\tat com.amazonaws.auth.EnvironmentVariableCredentialsProvider.getCredentials(EnvironmentVariableCredentialsProvider.java:49)\\n\\tat com.amazonaws.auth.AWSCredentialsProviderChain.getCredentials(AWSCredentialsProviderChain.java:118)\\n\\tat","body":"After going through logs in deep, i found a different error which could be the root cause for all ===&gt; Unable to load credentials from EnvironmentVariableCredentialsProvider: com.amazonaws.SdkClientException: Unable to load AWS credentials from environment variables (AWS_ACCESS_KEY_ID (or AWS_ACCESS_KEY) and AWS_SECRET_KEY (or AWS_SECRET_ACCESS_KEY))\\n\\tat com.amazonaws.auth.EnvironmentVariableCredentialsProvider.ge&zwnj;&#8203;tCredentials(Environ&zwnj;&#8203;mentVariableCredenti&zwnj;&#8203;alsProvider.java:49)&zwnj;&#8203;\\n\\tat com.amazonaws.auth.AWSCredentialsProviderChain.getCredential&zwnj;&#8203;s(AWSCredentialsProv&zwnj;&#8203;iderChain.java:118)\\&zwnj;&#8203;n\\tat"},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1679418790,"post_id":75772184,"comment_id":133717519,"body_markdown":"Are you using AWS credentials for database connections?","body":"Are you using AWS credentials for database connections?"}],"owner":{"account_id":28045773,"reputation":1,"user_id":21422580,"display_name":"JA-W-SB"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679133511,"creation_date":1679086726,"question_id":75772184,"body_markdown":"I am trying to deploy a spring boot application (With Aurora-postgresSQL) in AWS ECS container. But  \r\nGetting \r\n\r\n&gt; Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39;.\r\n\r\nThe same code is running fine in my local and also running well in the Docker container in my machine.\r\nIt is failing only when I am trying to deploy in AWS ECS Container. Not sure what is missing for AWS.\r\n\r\n\r\n    &quot;@timestamp&quot;: &quot;&quot;,\r\n    &quot;@version&quot;: &quot;1&quot;,\r\n    &quot;message&quot;: &quot;local-pool - Exception during pool initialization.&quot;,\r\n    &quot;logger_name&quot;: &quot;com.zaxxer.hikari.pool.HikariPool&quot;,\r\n    &quot;thread_name&quot;: &quot;main&quot;,\r\n    &quot;level&quot;: &quot;ERROR&quot;,\r\n    &quot;level_value&quot;: 40000,\r\n    &quot;stack_trace&quot;: &quot;org.postgresql.util.PSQLException: The connection attempt failed.\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)\\n\\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\\n\\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:253)\\n\\tat org.postgresql.Driver.makeConnection(Driver.java:434)\\n\\tat org.postgresql.Driver.connect(Driver.java:291)\\n\\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\\n\\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)\\n\\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\\n\\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)\\n\\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\\n\\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100)\\n\\tat com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)\\n\\tat $$SpringCGLIB$$0.CGLIB$dataSource$0(&lt;generated&gt;)\\n\\tat $$SpringCGLIB$$2.invoke(&lt;generated&gt;)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\\n\\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\\n\\tat $$SpringCGLIB$$0.dataSource(&lt;generated&gt;)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\\n\\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\\n\\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\\n\\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:548)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\\n\\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132)\\n\\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907)\\n\\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\\n\\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\\n\\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\\n\\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\\n\\tat \r\n\t\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\\n\\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\\n\\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\\n\\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\\nCaused by: java.net.SocketTimeoutException: Read timed out\\n\\tat java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)\\n\\tat java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)\\n\\tat java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\\n\\tat java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\\n\\tat java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)\\n\\tat org.postgresql.core.PGStream.receiveChar(PGStream.java:465)\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589)\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191)\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)\\n\\t\r\n\r\n    &quot;@timestamp&quot;: &quot;&quot;,\r\n    &quot;@version&quot;: &quot;1&quot;,\r\n    &quot;message&quot;: &quot;Application run failed&quot;,\r\n    &quot;logger_name&quot;: &quot;org.springframework.boot.SpringApplication&quot;,\r\n    &quot;thread_name&quot;: &quot;main&quot;,\r\n    &quot;level&quot;: &quot;ERROR&quot;,\r\n    &quot;level_value&quot;: 40000,\r\n    &quot;stack_trace&quot;: &quot;org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0: Error creating bean with name &#39;datasource&#39; defined in class path resource : Failed to instantiate [javax.sql.DataSource]: Factory method &#39;dataSource&#39; threw exception with message: Failed to initialize pool: The connection attempt failed.\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:548)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\\n\\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132)\\n\\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907)\\n\\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\\n\\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\\n\\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\\n\\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\\n\\tat \\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\\n\\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\\n\\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\\n\\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;datasource&#39; defined in class path resource : Failed to instantiate [javax.sql.DataSource]: Factory method &#39;dataSource&#39; threw exception with message: Failed to initialize pool: The connection attempt failed.\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\\n\\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\\n\\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\\n\\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\\n\\t... 29 common frames omitted\\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method &#39;dataSource&#39; threw exception with message: Failed to initialize pool: The connection attempt failed.\\n\\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\\n\\t... 43 common frames omitted\\nCaused by: com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: The connection attempt failed.\\n\\tat com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:596)\\n\\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:582)\\n\\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100)\\n\\tat com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)\\n\\tat $$SpringCGLIB$$0.CGLIB$dataSource$0(&lt;generated&gt;)\\n\\tat $$SpringCGLIB$$2.invoke(&lt;generated&gt;)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\\n\\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\\n\\tat (&lt;generated&gt;)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\\n\\t... 44 common frames omitted\\nCaused by: org.postgresql.util.PSQLException: The connection attempt failed.\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)\\n\\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\\n\\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:253)\\n\\tat org.postgresql.Driver.makeConnection(Driver.java:434)\\n\\tat org.postgresql.Driver.connect(Driver.java:291)\\n\\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\\n\\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)\\n\\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\\n\\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)\\n\\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\\n\\t... 57 common frames omitted\\nCaused by: java.net.SocketTimeoutException: Read timed out\\n\\tat java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)\\n\\tat java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)\\n\\tat java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\\n\\tat java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\\n\\tat java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)\\n\\tat org.postgresql.core.PGStream.receiveChar(PGStream.java:465)\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589)\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191)\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)`\r\n\r\n\r\n\r\npom.xml\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n      &lt;version&gt;42.5.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\napplication.yml\r\n\r\n```\r\ndatasource:\r\n    hikari:\r\n      username:  **\r\n      jdbc-url: **\r\n      driver-class-name: org.postgresql.Driver\r\n      schema: **\r\n      connection-test-query: **\r\n      pool-name: local-pool\r\n      maximum-pool-size: 10\r\n      max-lifetime: 30000`\r\n```\r\n\r\nHere my Docker script that builds image.\r\n\r\n```\r\n# Use Managed Base Image Oracle JDK 17\r\nFROM containerregistry/baseimages/oracle-jdk:17-stable\r\n\r\n# URL to get source code for building the image (string)\r\nLABEL org.opencontainers.image.source=&quot;https://${REPO_HOSTNAME}/projects/${PROJECT}/repos/${REPO}/browse?at=${COMMIT_HASH}&quot;\r\n\r\n# Source control revision identifier for the packaged software. Hash of the commit for this\r\nLABEL org.opencontainers.image.revision=&quot;${COMMIT_HASH}&quot;\r\n\r\n# Human-readable title of the image (string)\r\nLABEL org.opencontainers.image.title=&quot;MyApplication&quot;\r\n\r\n# Default the target version to 0.0.0-SNAPSHOT\r\nARG gVersion=0.0.0-SNAPSHOT\r\n\r\n# Override the version from environment, if present (helpful with CI tools)\r\nENV gavVersion ${gavVersion}\r\n\r\n# Copy application to container&#39;s /app folder\r\nCOPY /target/myapplication-${gVersion}.jar /app/\r\n\r\n# Change ownership to &#39;nobody&#39; user aka account with least permissions\r\nRUN chown -R nobody:nobody /app/\r\n\r\nCMD java -jar /app/myapplication-${gVersion}.jar\r\n```","title":"org.springframework.beans.factory.UnsatisfiedDependencyException:Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; in AWS ECS Contnr","body":"<p>I am trying to deploy a spring boot application (With Aurora-postgresSQL) in AWS ECS container. But<br />\nGetting</p>\n<blockquote>\n<p>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer'.</p>\n</blockquote>\n<p>The same code is running fine in my local and also running well in the Docker container in my machine.\nIt is failing only when I am trying to deploy in AWS ECS Container. Not sure what is missing for AWS.</p>\n<pre><code>&quot;@timestamp&quot;: &quot;&quot;,\n&quot;@version&quot;: &quot;1&quot;,\n&quot;message&quot;: &quot;local-pool - Exception during pool initialization.&quot;,\n&quot;logger_name&quot;: &quot;com.zaxxer.hikari.pool.HikariPool&quot;,\n&quot;thread_name&quot;: &quot;main&quot;,\n&quot;level&quot;: &quot;ERROR&quot;,\n&quot;level_value&quot;: 40000,\n&quot;stack_trace&quot;: &quot;org.postgresql.util.PSQLException: The connection attempt failed.\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)\\n\\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\\n\\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:253)\\n\\tat org.postgresql.Driver.makeConnection(Driver.java:434)\\n\\tat org.postgresql.Driver.connect(Driver.java:291)\\n\\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\\n\\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)\\n\\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\\n\\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)\\n\\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\\n\\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100)\\n\\tat com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)\\n\\tat $$SpringCGLIB$$0.CGLIB$dataSource$0(&lt;generated&gt;)\\n\\tat $$SpringCGLIB$$2.invoke(&lt;generated&gt;)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\\n\\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\\n\\tat $$SpringCGLIB$$0.dataSource(&lt;generated&gt;)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\\n\\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\\n\\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\\n\\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:548)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\\n\\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132)\\n\\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907)\\n\\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\\n\\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\\n\\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\\n\\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\\n\\tat \n\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\\n\\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\\n\\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\\n\\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\\nCaused by: java.net.SocketTimeoutException: Read timed out\\n\\tat java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)\\n\\tat java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)\\n\\tat java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\\n\\tat java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\\n\\tat java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)\\n\\tat org.postgresql.core.PGStream.receiveChar(PGStream.java:465)\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589)\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191)\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)\\n\\t\n\n&quot;@timestamp&quot;: &quot;&quot;,\n&quot;@version&quot;: &quot;1&quot;,\n&quot;message&quot;: &quot;Application run failed&quot;,\n&quot;logger_name&quot;: &quot;org.springframework.boot.SpringApplication&quot;,\n&quot;thread_name&quot;: &quot;main&quot;,\n&quot;level&quot;: &quot;ERROR&quot;,\n&quot;level_value&quot;: 40000,\n&quot;stack_trace&quot;: &quot;org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0: Error creating bean with name 'datasource' defined in class path resource : Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception with message: Failed to initialize pool: The connection attempt failed.\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:548)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\\n\\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132)\\n\\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907)\\n\\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\\n\\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\\n\\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\\n\\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\\n\\tat \\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\\n\\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\\n\\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\\n\\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'datasource' defined in class path resource : Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception with message: Failed to initialize pool: The connection attempt failed.\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\\n\\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\\n\\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\\n\\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\\n\\t... 29 common frames omitted\\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception with message: Failed to initialize pool: The connection attempt failed.\\n\\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\\n\\t... 43 common frames omitted\\nCaused by: com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: The connection attempt failed.\\n\\tat com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:596)\\n\\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:582)\\n\\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100)\\n\\tat com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)\\n\\tat $$SpringCGLIB$$0.CGLIB$dataSource$0(&lt;generated&gt;)\\n\\tat $$SpringCGLIB$$2.invoke(&lt;generated&gt;)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\\n\\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\\n\\tat (&lt;generated&gt;)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\\n\\t... 44 common frames omitted\\nCaused by: org.postgresql.util.PSQLException: The connection attempt failed.\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)\\n\\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\\n\\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:253)\\n\\tat org.postgresql.Driver.makeConnection(Driver.java:434)\\n\\tat org.postgresql.Driver.connect(Driver.java:291)\\n\\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\\n\\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)\\n\\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\\n\\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)\\n\\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\\n\\t... 57 common frames omitted\\nCaused by: java.net.SocketTimeoutException: Read timed out\\n\\tat java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)\\n\\tat java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)\\n\\tat java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\\n\\tat java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\\n\\tat java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)\\n\\tat org.postgresql.core.PGStream.receiveChar(PGStream.java:465)\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589)\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191)\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)`\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n      &lt;version&gt;42.5.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>application.yml</p>\n<pre><code>datasource:\n    hikari:\n      username:  **\n      jdbc-url: **\n      driver-class-name: org.postgresql.Driver\n      schema: **\n      connection-test-query: **\n      pool-name: local-pool\n      maximum-pool-size: 10\n      max-lifetime: 30000`\n</code></pre>\n<p>Here my Docker script that builds image.</p>\n<pre><code># Use Managed Base Image Oracle JDK 17\nFROM containerregistry/baseimages/oracle-jdk:17-stable\n\n# URL to get source code for building the image (string)\nLABEL org.opencontainers.image.source=&quot;https://${REPO_HOSTNAME}/projects/${PROJECT}/repos/${REPO}/browse?at=${COMMIT_HASH}&quot;\n\n# Source control revision identifier for the packaged software. Hash of the commit for this\nLABEL org.opencontainers.image.revision=&quot;${COMMIT_HASH}&quot;\n\n# Human-readable title of the image (string)\nLABEL org.opencontainers.image.title=&quot;MyApplication&quot;\n\n# Default the target version to 0.0.0-SNAPSHOT\nARG gVersion=0.0.0-SNAPSHOT\n\n# Override the version from environment, if present (helpful with CI tools)\nENV gavVersion ${gavVersion}\n\n# Copy application to container's /app folder\nCOPY /target/myapplication-${gVersion}.jar /app/\n\n# Change ownership to 'nobody' user aka account with least permissions\nRUN chown -R nobody:nobody /app/\n\nCMD java -jar /app/myapplication-${gVersion}.jar\n</code></pre>\n"},{"tags":["java","azure","azure-table-storage","azure-sdk-for-java"],"answers":[{"tags":[],"owner":{"account_id":239705,"reputation":472,"user_id":509493,"accept_rate":47,"display_name":"Puneet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679133015,"creation_date":1679133015,"answer_id":75775075,"question_id":75743958,"body_markdown":"The solution was to create a new entity with the same partition key and row key. Then add the property we are attempting to update and then update the entity in the merge mode.\r\n\r\n            TableEntity tableEntity = new TableEntity(&quot;partitionKey&quot;, &quot;rowKey&quot;);\r\n            tableEntity.addProperty(&quot;Version&quot;, version);\r\n            tableEntity.addProperty(&quot;TimeStamp&quot;, myTimestamp);\r\n            tableClient.updateEntity(tableEntity, TableEntityUpdateMode.MERGE);\r\n","title":"Azure SDK for Java - Updating a table entity adds fields having names starting with odata","body":"<p>The solution was to create a new entity with the same partition key and row key. Then add the property we are attempting to update and then update the entity in the merge mode.</p>\n<pre><code>        TableEntity tableEntity = new TableEntity(&quot;partitionKey&quot;, &quot;rowKey&quot;);\n        tableEntity.addProperty(&quot;Version&quot;, version);\n        tableEntity.addProperty(&quot;TimeStamp&quot;, myTimestamp);\n        tableClient.updateEntity(tableEntity, TableEntityUpdateMode.MERGE);\n</code></pre>\n"}],"owner":{"account_id":239705,"reputation":472,"user_id":509493,"accept_rate":47,"display_name":"Puneet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75775075,"answer_count":1,"score":0,"last_activity_date":1679133015,"creation_date":1678878919,"question_id":75743958,"body_markdown":"I am using the Azure SDK for Java and working with Azure Storage Tables.\r\nI am trying to update fields in a row and the code I am using is as below\r\n\r\n        TableClient tableClient = getTableClient();\r\n\r\n        String myPartitionKey = &quot;partitionkey&quot;;\r\n        String myRowKey = &quot;rowkey&quot;;\r\n\r\n        List&lt;String&gt; propertiesToSelect = new ArrayList&lt;&gt;();\r\n        propertiesToSelect.add(&quot;field9&quot;);\r\n        propertiesToSelect.add(&quot;field10&quot;);\r\n\r\n        Response&lt;TableEntity&gt; response = tableClient.getEntityWithResponse(myPartitionKey, myRowKey, propertiesToSelect,\r\n                Duration.ofSeconds(5), null);\r\n\r\n        TableEntity tableEntity = response.getValue();\r\n\r\n        Map&lt;String, Object&gt; properties = tableEntity.getProperties();\r\n        properties.put(&quot;field9&quot;, &quot;value9&quot;);\r\n        properties.put(&quot;field10&quot;, &quot;value10&quot;);\r\n        tableClient.updateEntity(tableEntity, TableEntityUpdateMode.MERGE);\r\n\r\nWhat is happening is that the field values are getting updated but along with there some fields having names starting with &quot;odata&quot; are also being added to the rows.\r\n\r\nHow do I prevent these fields from being added to the rows?\r\n\r\nThanks for your help.","title":"Azure SDK for Java - Updating a table entity adds fields having names starting with odata","body":"<p>I am using the Azure SDK for Java and working with Azure Storage Tables.\nI am trying to update fields in a row and the code I am using is as below</p>\n<pre><code>    TableClient tableClient = getTableClient();\n\n    String myPartitionKey = &quot;partitionkey&quot;;\n    String myRowKey = &quot;rowkey&quot;;\n\n    List&lt;String&gt; propertiesToSelect = new ArrayList&lt;&gt;();\n    propertiesToSelect.add(&quot;field9&quot;);\n    propertiesToSelect.add(&quot;field10&quot;);\n\n    Response&lt;TableEntity&gt; response = tableClient.getEntityWithResponse(myPartitionKey, myRowKey, propertiesToSelect,\n            Duration.ofSeconds(5), null);\n\n    TableEntity tableEntity = response.getValue();\n\n    Map&lt;String, Object&gt; properties = tableEntity.getProperties();\n    properties.put(&quot;field9&quot;, &quot;value9&quot;);\n    properties.put(&quot;field10&quot;, &quot;value10&quot;);\n    tableClient.updateEntity(tableEntity, TableEntityUpdateMode.MERGE);\n</code></pre>\n<p>What is happening is that the field values are getting updated but along with there some fields having names starting with &quot;odata&quot; are also being added to the rows.</p>\n<p>How do I prevent these fields from being added to the rows?</p>\n<p>Thanks for your help.</p>\n"},{"tags":["java","android","xml","android-studio"],"comments":[{"owner":{"account_id":1710326,"reputation":10640,"user_id":1568530,"accept_rate":60,"display_name":"Vladyslav Matviienko"},"score":1,"creation_date":1527573384,"post_id":50577172,"comment_id":88163496,"body_markdown":"use Unicede character code. Choose space which you need from here: http://jkorpela.fi/chars/spaces.html You likely want `U+2009`","body":"use Unicede character code. Choose space which you need from here: <a href=\"http://jkorpela.fi/chars/spaces.html\" rel=\"nofollow noreferrer\">jkorpela.fi/chars/spaces.html</a> You likely want <code>U+2009</code>"},{"owner":{"account_id":10829951,"reputation":986,"user_id":7964692,"display_name":"Vlad Luchansky"},"score":0,"creation_date":1527640131,"post_id":50577172,"comment_id":88198675,"body_markdown":"This issue should be fixed since 2017.3 builds of IntelliJ-based tools: https://youtrack.jetbrains.com/issue/IDEA-177979 . What version do you run?","body":"This issue should be fixed since 2017.3 builds of IntelliJ-based tools: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-177979\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-177979</a> . What version do you run?"}],"answers":[{"tags":[],"owner":{"account_id":3000375,"reputation":712,"user_id":2545982,"accept_rate":60,"display_name":"ABP"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1527573891,"creation_date":1527573891,"answer_id":50577332,"question_id":50577172,"body_markdown":"In Android Studio (Java and XML), we must use this method to write semi-space. \\u200c\r\n\r\nFor instance:    \\u200c\r\n\r\nOutput:    ","title":"semi-space or half-space in Android Studio","body":"<p>In Android Studio (Java and XML), we must use this method to write semi-space. \\u200c</p>\n\n<p>For instance:    \\u200c</p>\n\n<p>Output:    </p>\n"},{"comments":[{"owner":{"account_id":11682987,"reputation":303,"user_id":8553955,"display_name":"yousef Abbdolzadeh"},"score":0,"creation_date":1667756558,"post_id":50579450,"comment_id":131237890,"body_markdown":"not worked in MacBook.","body":"not worked in MacBook."}],"tags":[],"owner":{"account_id":9085336,"reputation":656,"user_id":6763568,"display_name":"Ahmad Hamzavi"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1527581639,"creation_date":1527581639,"answer_id":50579450,"question_id":50577172,"body_markdown":"i write my text in notepad with semi-space (CTRL+SHIFT+2) then copy that to Android Studio.","title":"semi-space or half-space in Android Studio","body":"<p>i write my text in notepad with semi-space (CTRL+SHIFT+2) then copy that to Android Studio.</p>\n"},{"tags":[],"owner":{"account_id":5798452,"reputation":49,"user_id":4573455,"display_name":"Milad Bahramzadeh"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1552301841,"creation_date":1552301841,"answer_id":55100287,"question_id":50577172,"body_markdown":"You can add shortcut text in Android Studio.\r\nLike this:\r\nlorem   -&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris....","title":"semi-space or half-space in Android Studio","body":"<p>You can add shortcut text in Android Studio.\nLike this:\nlorem   ->Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris....</p>\n"},{"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1695415789,"post_id":61585778,"comment_id":136026579,"body_markdown":"Thanks, the accepted answer has a very short space, I&#39;d to put around 15 successive space to have that work. Your answer works great. the unicode representation of `alt + 0157` is `\\u009D`","body":"Thanks, the accepted answer has a very short space, I&#39;d to put around 15 successive space to have that work. Your answer works great. the unicode representation of <code>alt + 0157</code> is <code>\\u009D</code>"}],"tags":[],"owner":{"account_id":6892593,"reputation":389,"user_id":5295519,"display_name":"Vajiheh Habibi"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1588570621,"creation_date":1588570621,"answer_id":61585778,"question_id":50577172,"body_markdown":"change your keyboard to Persian(fa,) and try this shortcut key\r\n\r\nalt+0157\r\n\r\nfor Example: \r\n\r\nOutput: ","title":"semi-space or half-space in Android Studio","body":"<p>change your keyboard to Persian(fa,) and try this shortcut key</p>\n\n<p>alt+0157</p>\n\n<p>for Example: </p>\n\n<p>Output: </p>\n"},{"comments":[{"owner":{"account_id":10123420,"reputation":785,"user_id":8488702,"display_name":"amirify"},"score":1,"creation_date":1628062452,"post_id":67325640,"comment_id":121318179,"body_markdown":"If Shift + Space didn&#39;t work use Shift + B. It&#39;s the same.","body":"If Shift + Space didn&#39;t work use Shift + B. It&#39;s the same."}],"tags":[],"owner":{"account_id":17676315,"reputation":98,"user_id":12831209,"display_name":"Shirin"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619733754,"creation_date":1619733754,"answer_id":67325640,"question_id":50577172,"body_markdown":"You can use Persian standard keyboard and add semi-space by SHIFT+SPACE","title":"semi-space or half-space in Android Studio","body":"<p>You can use Persian standard keyboard and add semi-space by SHIFT+SPACE</p>\n"},{"tags":[],"owner":{"account_id":21303009,"reputation":1152,"user_id":15678620,"display_name":"Ali Ehyaie"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679132554,"creation_date":1679132554,"answer_id":75775026,"question_id":50577172,"body_markdown":"You must change your keyboard to Persian (standard). you can do it in the following way\r\n\r\nStart &gt; Settings &gt; Time &amp; Language &gt; Language then under Preferred languages click on your language (in this case Persian) after that click on the option button and then pick Persian (standard) keyboard. after you did that you can use half-space with Shift + Space in webStorm or any other programs","title":"semi-space or half-space in Android Studio","body":"<p>You must change your keyboard to Persian (standard). you can do it in the following way</p>\n<p>Start &gt; Settings &gt; Time &amp; Language &gt; Language then under Preferred languages click on your language (in this case Persian) after that click on the option button and then pick Persian (standard) keyboard. after you did that you can use half-space with Shift + Space in webStorm or any other programs</p>\n"}],"owner":{"account_id":9085336,"reputation":656,"user_id":6763568,"display_name":"Ahmad Hamzavi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3930,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":50577332,"answer_count":6,"score":18,"last_activity_date":1679132554,"creation_date":1527573159,"question_id":50577172,"body_markdown":"how to type semi-space or half-space in android studio XML files (values-&gt;strings,layouts) and java files.\r\n\r\nCTRL+SHIFT+2 not working .\r\n\r\n \r\nto \r\n ","title":"semi-space or half-space in Android Studio","body":"<p>how to type semi-space or half-space in android studio XML files (values->strings,layouts) and java files.</p>\n\n<p>CTRL+SHIFT+2 not working .</p>\n\n<p> \nto \n </p>\n"},{"tags":["java","xml","rest","tomcat","http-status-code-404"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1611022559,"post_id":65784129,"comment_id":116311324,"body_markdown":"What do you see in your log files?","body":"What do you see in your log files?"},{"owner":{"account_id":5296021,"reputation":4882,"user_id":4227175,"accept_rate":53,"display_name":"ghchoi"},"score":0,"creation_date":1611027210,"post_id":65784129,"comment_id":116312061,"body_markdown":"Where does `JavaApiEdu1` (from the error image) come from...?","body":"Where does <code>JavaApiEdu1</code> (from the error image) come from...?"},{"owner":{"account_id":7800051,"reputation":51,"user_id":5899834,"display_name":"Vee"},"score":0,"creation_date":1611080060,"post_id":65784129,"comment_id":116333559,"body_markdown":"@GyuHyeonChoi the JavaApiEdu1 is the project name in Eclipse","body":"@GyuHyeonChoi the JavaApiEdu1 is the project name in Eclipse"},{"owner":{"account_id":7800051,"reputation":51,"user_id":5899834,"display_name":"Vee"},"score":0,"creation_date":1611080631,"post_id":65784129,"comment_id":116333792,"body_markdown":"@tgdavies I see this one error:\n\nJan 19, 2021 10:22:21 AM org.apache.catalina.core.StandardContext loadOnStartup\nSEVERE: Servlet [JAVA API] in web application [/JavaApiEdu1] threw load() exception\njava.lang.ClassNotFoundException: org.glassfish.jersey.servlet.ServletContainer.class\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1358)\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1180)","body":"@tgdavies I see this one error:  Jan 19, 2021 10:22:21 AM org.apache.catalina.core.StandardContext loadOnStartup SEVERE: Servlet [JAVA API] in web application [/JavaApiEdu1] threw load() exception java.lang.ClassNotFoundException: org.glassfish.jersey.servlet.ServletContainer.class \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(W&zwnj;&#8203;ebappClassLoaderBase&zwnj;&#8203;.java:1358) \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(W&zwnj;&#8203;ebappClassLoaderBase&zwnj;&#8203;.java:1180)"}],"answers":[{"comments":[{"owner":{"account_id":7800051,"reputation":51,"user_id":5899834,"display_name":"Vee"},"score":0,"creation_date":1611080374,"post_id":65785127,"comment_id":116333698,"body_markdown":"Hi @GyuHyeonChoi . I tried the solution you posted:\n\nBut I still get the same issue:\nThe requested resource [/test/rest/hello/xml] is not available","body":"Hi @GyuHyeonChoi . I tried the solution you posted:  But I still get the same issue: The requested resource [/test/rest/hello/xml] is not available"}],"tags":[],"owner":{"account_id":5296021,"reputation":4882,"user_id":4227175,"accept_rate":53,"display_name":"ghchoi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611027624,"creation_date":1611027125,"answer_id":65785127,"question_id":65784129,"body_markdown":"It seems like you have to specify `Path` for each `@GET`. E.g.,\r\n\r\n```\r\n@Path(&quot;/hello&quot;)\r\npublic class Hello {\r\n\r\n    @Path(&quot;xml&quot;)\r\n    @GET\r\n    @Produces(MediaType.TEXT_XML)\r\n    ...\r\n```\r\n\r\nThen browse to `http://localhost:8080/test/rest/hello/xml`?","title":"Tomcat error 404 not found while running a REST API","body":"<p>It seems like you have to specify <code>Path</code> for each <code>@GET</code>. E.g.,</p>\n<pre><code>@Path(&quot;/hello&quot;)\npublic class Hello {\n\n    @Path(&quot;xml&quot;)\n    @GET\n    @Produces(MediaType.TEXT_XML)\n    ...\n</code></pre>\n<p>Then browse to <code>http://localhost:8080/test/rest/hello/xml</code>?</p>\n"},{"tags":[],"owner":{"account_id":7800051,"reputation":51,"user_id":5899834,"display_name":"Vee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1611083753,"creation_date":1611083258,"answer_id":65797906,"question_id":65784129,"body_markdown":"After struggling a lot there are generally small things that solve the issues.\r\n\r\nI did two things:\r\n\r\n 1. I removed the .class from this servlet class name in my web.xml and it started working:\r\n[web.xml][1]\r\n 2. I also gave a path to all my methods as GyuHyeon suggested. Although if I don&#39;t do this then also it&#39;s working after doing step 1. It will just go to one of the methods as opposed to a specific one. Giving path to each method is a good step to follow.\r\n\r\nNote: to access the API the project name should be in the URL and not the package, so in my case, this worked: http://localhost:8080/JavaApiEdu1/hello/html\r\n\r\nThanks @GyuHyeonChoi &amp; @tgdavies for replying.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nmPNM.png","title":"Tomcat error 404 not found while running a REST API","body":"<p>After struggling a lot there are generally small things that solve the issues.</p>\n<p>I did two things:</p>\n<ol>\n<li>I removed the .class from this servlet class name in my web.xml and it started working:\n<a href=\"https://i.stack.imgur.com/nmPNM.png\" rel=\"nofollow noreferrer\">web.xml</a></li>\n<li>I also gave a path to all my methods as GyuHyeon suggested. Although if I don't do this then also it's working after doing step 1. It will just go to one of the methods as opposed to a specific one. Giving path to each method is a good step to follow.</li>\n</ol>\n<p>Note: to access the API the project name should be in the URL and not the package, so in my case, this worked: http://localhost:8080/JavaApiEdu1/hello/html</p>\n<p>Thanks @GyuHyeonChoi &amp; @tgdavies for replying.</p>\n"},{"tags":[],"owner":{"account_id":28049126,"reputation":1,"user_id":21425327,"display_name":"meRybaczek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679132253,"creation_date":1679132253,"answer_id":75775000,"question_id":65784129,"body_markdown":"make sure that your Tomcat version support proper JDK version.\r\n\r\nI had the same problem, Tomcat deployed my app but when requesting GET there was 404 response. I have spent many hours on re-configuring code and Tomcat properties till I finally found the this simple reason. Tomcat 10.1.7 with JDK 17 works fine together.","title":"Tomcat error 404 not found while running a REST API","body":"<p>make sure that your Tomcat version support proper JDK version.</p>\n<p>I had the same problem, Tomcat deployed my app but when requesting GET there was 404 response. I have spent many hours on re-configuring code and Tomcat properties till I finally found the this simple reason. Tomcat 10.1.7 with JDK 17 works fine together.</p>\n"}],"owner":{"account_id":7800051,"reputation":51,"user_id":5899834,"display_name":"Vee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65797906,"answer_count":3,"score":0,"last_activity_date":1679132253,"creation_date":1611017933,"question_id":65784129,"body_markdown":"I am trying to implement a very simple REST API in Eclipse.\r\n\r\nFollowing is my project Structure:\r\n[project Structure][1]\r\n\r\n**Hello.java:**\r\n\r\n    package test;\r\n    \r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.core.MediaType;\r\n    import javax.ws.rs.ApplicationPath;\r\n    import javax.ws.rs.core.Application;\r\n    \r\n    @Path(&quot;/hello&quot;)\r\n    public class Hello {\r\n    \r\n    \t@GET\r\n    \t@Produces(MediaType.TEXT_XML)\r\n    \tpublic String sayHelloXML() {\r\n    \t\tString responseString = &quot;&lt;? xml version=&#39;1.0&#39; ?&gt;&quot; + \r\n    \t\t\t\t&quot;&lt;hello&gt; Hello World XML&lt;/hello&gt;&quot;;\r\n    \t\t\r\n    \t\treturn responseString;\r\n    \t}\r\n    \t\r\n    \t@GET\r\n    \t@Produces(MediaType.APPLICATION_JSON)\r\n    \tpublic String sayHelloJSON() {\r\n    \t\tString responseString = null;\r\n    \t\treturn responseString;\r\n    \t}\r\n    \t\r\n    \t@GET\r\n    \t@Produces(MediaType.TEXT_HTML)\r\n    \tpublic String sayHelloHTML() {\r\n    \t\tString responseString = &quot;&lt;h1&gt; Hello World HTML&lt;/h1&gt;&quot;;\r\n    \t\treturn responseString;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n**web.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;4.0&quot;&gt;\r\n      &lt;display-name&gt;JavaApiEdu&lt;/display-name&gt;\r\n      \r\n      &lt;servlet&gt;\r\n        &lt;servlet-name&gt;JAVA API&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer.class&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n          &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n          &lt;param-value&gt;test&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n      &lt;/servlet&gt;\r\n      \r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;JAVA API&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\nTo Run, I right-click on the project and choose Run on Server which is Tomcat 8.5.\r\nI am unable to access this and see this page:\r\n[Error][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MAokY.png\r\n  [2]: https://i.stack.imgur.com/0kDRp.png","title":"Tomcat error 404 not found while running a REST API","body":"<p>I am trying to implement a very simple REST API in Eclipse.</p>\n<p>Following is my project Structure:\n<a href=\"https://i.stack.imgur.com/MAokY.png\" rel=\"nofollow noreferrer\">project Structure</a></p>\n<p><strong>Hello.java:</strong></p>\n<pre><code>package test;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.ApplicationPath;\nimport javax.ws.rs.core.Application;\n\n@Path(&quot;/hello&quot;)\npublic class Hello {\n\n    @GET\n    @Produces(MediaType.TEXT_XML)\n    public String sayHelloXML() {\n        String responseString = &quot;&lt;? xml version='1.0' ?&gt;&quot; + \n                &quot;&lt;hello&gt; Hello World XML&lt;/hello&gt;&quot;;\n        \n        return responseString;\n    }\n    \n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public String sayHelloJSON() {\n        String responseString = null;\n        return responseString;\n    }\n    \n    @GET\n    @Produces(MediaType.TEXT_HTML)\n    public String sayHelloHTML() {\n        String responseString = &quot;&lt;h1&gt; Hello World HTML&lt;/h1&gt;&quot;;\n        return responseString;\n    }\n}\n</code></pre>\n<p><strong>web.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;4.0&quot;&gt;\n  &lt;display-name&gt;JavaApiEdu&lt;/display-name&gt;\n  \n  &lt;servlet&gt;\n    &lt;servlet-name&gt;JAVA API&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer.class&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n      &lt;param-value&gt;test&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n  \n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;JAVA API&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>To Run, I right-click on the project and choose Run on Server which is Tomcat 8.5.\nI am unable to access this and see this page:\n<a href=\"https://i.stack.imgur.com/0kDRp.png\" rel=\"nofollow noreferrer\">Error</a></p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":1,"creation_date":1395611186,"post_id":22597483,"comment_id":34404815,"body_markdown":"Is your `run()` method really empty?  If so then the threads are most likely starting and immediately finishing and you never see them in the debugger because they&#39;ve already completed.","body":"Is your <code>run()</code> method really empty?  If so then the threads are most likely starting and immediately finishing and you never see them in the debugger because they&#39;ve already completed."},{"owner":{"account_id":2535479,"reputation":1025,"user_id":2202718,"accept_rate":92,"display_name":"Trts"},"score":0,"creation_date":1395611535,"post_id":22597483,"comment_id":34404952,"body_markdown":"No, not empty. There is Thread.currentThread().start(); there.","body":"No, not empty. There is Thread.currentThread().start(); there."},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":2,"creation_date":1395611586,"post_id":22597483,"comment_id":34404971,"body_markdown":"You won&#39;t see the debugger step through to `run` because it gets called on the new thread. If you insert a breakpoint *in* `run` you should see it gets called.","body":"You won&#39;t see the debugger step through to <code>run</code> because it gets called on the new thread. If you insert a breakpoint <i>in</i> <code>run</code> you should see it gets called."},{"owner":{"display_name":"user2889419"},"score":0,"creation_date":1395612939,"post_id":22597483,"comment_id":34405386,"body_markdown":"@Trts how do you suppose a started thread starts itself again?","body":"@Trts how do you suppose a started thread starts itself again?"}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1395638398,"creation_date":1395611725,"answer_id":22597632,"question_id":22597483,"body_markdown":"&gt;     public void run() {}\r\n\r\nSo if your `run()` method really empty, then the thread is starting but immediately finishing and you never see them in the debugger because they&#39;ve already completed.   Try putting a `Thread.sleep(10000000);` so you can see the thread running.  Or as @Radiodef commented, you could put a breakpoint there in the debugger and it should stop there.\r\n\r\n&gt; No, not empty. There is Thread.currentThread().start(); there.\r\n\r\nThis is wrong.  If you enter the `run()` method then the thread is already starting.  By trying to `start()` it again, you will cause an `IllegalThreadStateException` to be thrown because of an incorrect thread state which will kill the running thread immediately.  The idea that you can ever `start()` the current (running) thread is an invalid concept by definition.\r\n","title":"Can&#39;t start a thread (implementing Runnable)","body":"<blockquote>\n<pre><code>public void run() {}\n</code></pre>\n</blockquote>\n\n<p>So if your <code>run()</code> method really empty, then the thread is starting but immediately finishing and you never see them in the debugger because they've already completed.   Try putting a <code>Thread.sleep(10000000);</code> so you can see the thread running.  Or as @Radiodef commented, you could put a breakpoint there in the debugger and it should stop there.</p>\n\n<blockquote>\n  <p>No, not empty. There is Thread.currentThread().start(); there.</p>\n</blockquote>\n\n<p>This is wrong.  If you enter the <code>run()</code> method then the thread is already starting.  By trying to <code>start()</code> it again, you will cause an <code>IllegalThreadStateException</code> to be thrown because of an incorrect thread state which will kill the running thread immediately.  The idea that you can ever <code>start()</code> the current (running) thread is an invalid concept by definition.</p>\n"}],"owner":{"account_id":2535479,"reputation":1025,"user_id":2202718,"accept_rate":92,"display_name":"Trts"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1301,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":22597632,"answer_count":1,"score":1,"last_activity_date":1679131327,"creation_date":1395610939,"question_id":22597483,"body_markdown":"I would like to understand why my FreeThread doesn&#39;t start a thread.\r\nWell, I can see that threads corresponding to HotThreads appear in the debugger. \r\n\r\nBut when I add a FreeThread, no thread appears. If I try to trace it step by step, the cursor doesn&#39;t go to the superclass overridden run(), but goes to the `start()` method of Thread class. \r\n\r\nHow can I start FreeThreads?\r\n\r\n    public class HotThread implements Runnable{\r\n        @Override\r\n        public void run() {}\r\n    }\r\n    \r\n    public class FreeThread extends HotThread {\r\n       public FreeThread(int timeout) {\r\n            super();\r\n            ...  \r\n        }\r\n    }\r\n\r\n    public class ThreadPool {\r\n         public ThreadPool(int numberOfHotThreads) {\r\n             for (int i = 0; i &lt; numberOfHotThreads; i++) {\r\n                HotThread ht;\r\n                Thread t;\r\n                    ht = new HotThread(); //   ( ).\r\n                    t = new Thread(ht);\r\n                    t.start();\r\n             }\r\n         }\r\n    \r\n        public void addFreeThread() {\r\n            FreeThread ft = new FreeThread();\r\n            Thread t = new Thread(ft);        \r\n            t.start();\r\n        }\r\n    } \r\n\r\n","title":"Can&#39;t start a thread (implementing Runnable)","body":"<p>I would like to understand why my FreeThread doesn't start a thread.\nWell, I can see that threads corresponding to HotThreads appear in the debugger.</p>\n<p>But when I add a FreeThread, no thread appears. If I try to trace it step by step, the cursor doesn't go to the superclass overridden run(), but goes to the <code>start()</code> method of Thread class.</p>\n<p>How can I start FreeThreads?</p>\n<pre><code>public class HotThread implements Runnable{\n    @Override\n    public void run() {}\n}\n\npublic class FreeThread extends HotThread {\n   public FreeThread(int timeout) {\n        super();\n        ...  \n    }\n}\n\npublic class ThreadPool {\n     public ThreadPool(int numberOfHotThreads) {\n         for (int i = 0; i &lt; numberOfHotThreads; i++) {\n            HotThread ht;\n            Thread t;\n                ht = new HotThread(); //   ( ).\n                t = new Thread(ht);\n                t.start();\n         }\n     }\n\n    public void addFreeThread() {\n        FreeThread ft = new FreeThread();\n        Thread t = new Thread(ft);        \n        t.start();\n    }\n} \n</code></pre>\n"},{"tags":["java","spring","swagger"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679130960,"creation_date":1679130960,"answer_id":75774894,"question_id":75772301,"body_markdown":"This is a [known defect][1] in the Spring codegen.\r\n\r\nIn your case I suggest as a workaround that you edit the swagger yml and move the 202 response to put it first.\r\n\r\n(You may need to leave the 200 first and simple move the `content` definition up to the 200. Im not sure if codegen sorts internally first)\r\n\r\nThe response type contains an array. Simply return an empty array on the 200.\r\n\r\nAny client code would be testing for 200/202 and ignoring the body on a 200 (which would contain [] rather than be blank) so it should be ok.\r\n\r\n\r\n\r\n  [1]: https://github.com/swagger-api/swagger-codegen/issues/4693","title":"Swagger code gen. Controller implementation","body":"<p>This is a <a href=\"https://github.com/swagger-api/swagger-codegen/issues/4693\" rel=\"nofollow noreferrer\">known defect</a> in the Spring codegen.</p>\n<p>In your case I suggest as a workaround that you edit the swagger yml and move the 202 response to put it first.</p>\n<p>(You may need to leave the 200 first and simple move the <code>content</code> definition up to the 200. Im not sure if codegen sorts internally first)</p>\n<p>The response type contains an array. Simply return an empty array on the 200.</p>\n<p>Any client code would be testing for 200/202 and ignoring the body on a 200 (which would contain [] rather than be blank) so it should be ok.</p>\n"}],"owner":{"account_id":24354886,"reputation":15,"user_id":18290244,"display_name":"bblex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75774894,"answer_count":1,"score":0,"last_activity_date":1679130960,"creation_date":1679087813,"question_id":75772301,"body_markdown":"Hello) I`m using swagger code gen for implementing my rest api. \r\n\r\nHere is openapi.yaml:\r\n\r\n\r\n    /events:\r\n        post:\r\n          tags:\r\n            - events\r\n          summary: sth\r\n          operationId: eventsRequest\r\n          description: sth\r\n          requestBody:\r\n            content:\r\n              application/json:\r\n                schema:\r\n                  type: array\r\n                  items:\r\n                    title: eventRequest\r\n                    type: object\r\n                    required:\r\n                      - card\r\n                      - status\r\n                    properties:\r\n                      changeDate:\r\n                        type: string\r\n                      status:\r\n                        type: string\r\n                      card:\r\n                        type: string\r\n    \r\n          responses:\r\n            200:\r\n              description: OK\r\n            202:\r\n              description: Not all were added\r\n              content:\r\n                application/json:\r\n                  schema:\r\n                    title: NotAllResponse\r\n                    type: array\r\n                    items:\r\n                      title: eventResponse\r\n                      type: object\r\n                      required:\r\n                        - card\r\n                        - error\r\n                      properties:\r\n                        card:\r\n                          type: string\r\n                        error:\r\n                          type: string\r\n\r\n\r\nHere is Java code, which swagger generates:\r\n\r\n\r\n    @Api(value = &quot;events&quot;, description = &quot;sth&quot;)\r\n    public interface EventsApi {\r\n    \r\n        Logger log = LoggerFactory.getLogger(EventsApi.class);\r\n    \r\n        default Optional&lt;ObjectMapper&gt; getObjectMapper() {\r\n            return Optional.empty();\r\n        }\r\n    \r\n        default Optional&lt;HttpServletRequest&gt; getRequest() {\r\n            return Optional.empty();\r\n        }\r\n    \r\n        default Optional&lt;String&gt; getAcceptHeader() {\r\n            return getRequest().map(r -&gt; r.getHeader(&quot;Accept&quot;));\r\n        }\r\n    \r\n        @ApiResponses(value = {\r\n                @ApiResponse(code = 200, message = &quot;OK&quot;),\r\n                @ApiResponse(code = 202, message = &quot;Not all were added&quot;, response = EventResponse.class, responseContainer = &quot;List&quot;),\r\n        @RequestMapping(value = &quot;/events&quot;,\r\n                produces = {&quot;application/json&quot;},\r\n                consumes = {&quot;application/json&quot;},\r\n                method = RequestMethod.POST)\r\n        default ResponseEntity&lt;Void&gt; eventsRequest(@ApiParam(value = &quot;&quot;) @Valid @RequestBody List&lt;EventsRequest&gt; body\r\n        ) {\r\n            if (getObjectMapper().isPresent() &amp;&amp; getAcceptHeader().isPresent()) {\r\n            } else {\r\n                log.warn(&quot;ObjectMapper or HttpServletRequest not configured in default CardsEventsApi interface so no example is generated&quot;);\r\n            }\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**The problem:** I need to return 200 code with no body and 202 code with EventResponse object as body.\r\n\r\n\r\n\r\n\r\n    @Controller\r\n    @Validated\r\n    public class EventsApiController implements EventsApi {\r\n    \r\n        private final EventsService eventsService;\r\n    \r\n        @Autowired\r\n        public EventsApiController(EventsService eventsService) {\r\n            this.eventsService = eventsService;\r\n        }\r\n    \r\n        @Override\r\n        public ResponseEntity&lt;Void&gt; eventsRequest(List&lt;EventsRequest&gt; requests) {\r\n            Integer hello = eventsService.doSth(requests);\r\n            return ResponseEntity.status(HttpStatus.OK).build();\r\n        }\r\n    }\r\n\r\n\r\nI`m implementing EventsApi and overriding eventsRequest method. But I have no ability to return 202 code with EventResponse body.   \r\n\r\n\r\nIs there any ways to do it? ","title":"Swagger code gen. Controller implementation","body":"<p>Hello) I`m using swagger code gen for implementing my rest api.</p>\n<p>Here is openapi.yaml:</p>\n<pre><code>/events:\n    post:\n      tags:\n        - events\n      summary: sth\n      operationId: eventsRequest\n      description: sth\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: array\n              items:\n                title: eventRequest\n                type: object\n                required:\n                  - card\n                  - status\n                properties:\n                  changeDate:\n                    type: string\n                  status:\n                    type: string\n                  card:\n                    type: string\n\n      responses:\n        200:\n          description: OK\n        202:\n          description: Not all were added\n          content:\n            application/json:\n              schema:\n                title: NotAllResponse\n                type: array\n                items:\n                  title: eventResponse\n                  type: object\n                  required:\n                    - card\n                    - error\n                  properties:\n                    card:\n                      type: string\n                    error:\n                      type: string\n</code></pre>\n<p>Here is Java code, which swagger generates:</p>\n<pre><code>@Api(value = &quot;events&quot;, description = &quot;sth&quot;)\npublic interface EventsApi {\n\n    Logger log = LoggerFactory.getLogger(EventsApi.class);\n\n    default Optional&lt;ObjectMapper&gt; getObjectMapper() {\n        return Optional.empty();\n    }\n\n    default Optional&lt;HttpServletRequest&gt; getRequest() {\n        return Optional.empty();\n    }\n\n    default Optional&lt;String&gt; getAcceptHeader() {\n        return getRequest().map(r -&gt; r.getHeader(&quot;Accept&quot;));\n    }\n\n    @ApiResponses(value = {\n            @ApiResponse(code = 200, message = &quot;OK&quot;),\n            @ApiResponse(code = 202, message = &quot;Not all were added&quot;, response = EventResponse.class, responseContainer = &quot;List&quot;),\n    @RequestMapping(value = &quot;/events&quot;,\n            produces = {&quot;application/json&quot;},\n            consumes = {&quot;application/json&quot;},\n            method = RequestMethod.POST)\n    default ResponseEntity&lt;Void&gt; eventsRequest(@ApiParam(value = &quot;&quot;) @Valid @RequestBody List&lt;EventsRequest&gt; body\n    ) {\n        if (getObjectMapper().isPresent() &amp;&amp; getAcceptHeader().isPresent()) {\n        } else {\n            log.warn(&quot;ObjectMapper or HttpServletRequest not configured in default CardsEventsApi interface so no example is generated&quot;);\n        }\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\n    }\n\n}\n</code></pre>\n<p><strong>The problem:</strong> I need to return 200 code with no body and 202 code with EventResponse object as body.</p>\n<pre><code>@Controller\n@Validated\npublic class EventsApiController implements EventsApi {\n\n    private final EventsService eventsService;\n\n    @Autowired\n    public EventsApiController(EventsService eventsService) {\n        this.eventsService = eventsService;\n    }\n\n    @Override\n    public ResponseEntity&lt;Void&gt; eventsRequest(List&lt;EventsRequest&gt; requests) {\n        Integer hello = eventsService.doSth(requests);\n        return ResponseEntity.status(HttpStatus.OK).build();\n    }\n}\n</code></pre>\n<p>I`m implementing EventsApi and overriding eventsRequest method. But I have no ability to return 202 code with EventResponse body.</p>\n<p>Is there any ways to do it?</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679077421,"creation_date":1679077421,"answer_id":75770957,"question_id":75769360,"body_markdown":"[Jayway][1] is perfect for this. Along with a map from the categories and paths to the data.\r\n\r\nDependency\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nCode\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import com.jayway.jsonpath.DocumentContext;\r\n    import com.jayway.jsonpath.JsonPath;\r\n    \r\n    public class App5 {\r\n    \r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString jsonDataSourceString = &quot;{ \\r\\n&quot; + \r\n    \t\t\t\t&quot;  \\&quot;marketEvent\\&quot; :{\\r\\n&quot; + \r\n    \t\t\t\t&quot;        \\&quot;category\\&quot;: \\&quot;Finance\\&quot;, \\r\\n&quot; + \r\n    \t\t\t\t&quot;        \\&quot;version\\&quot;: 1.0       \\r\\n&quot; + \r\n    \t\t\t\t&quot;   }, \\r\\n&quot; + \r\n    \t\t\t\t&quot;   \\&quot;history\\&quot; : {\\r\\n&quot; + \r\n    \t\t\t\t&quot;     \\&quot;type\\&quot; : \\&quot;FX\\&quot;, \\r\\n&quot; + \r\n    \t\t\t\t&quot;     \\&quot;value\\&quot;: 45.33,  \\r\\n&quot; + \r\n    \t\t\t\t&quot;     \\&quot;role\\&quot; : \\&quot; Broker\\&quot;  \\r\\n&quot; + \r\n    \t\t\t\t&quot;   } \\r\\n&quot; + \r\n    \t\t\t\t&quot;}&quot;;\r\n    \r\n    \t\tSystem.out.println(jsonDataSourceString);\r\n    \r\n    \t\tMap&lt;String, String&gt; categoryToJsonPath = new HashMap&lt;&gt;();\r\n    \t\tcategoryToJsonPath.put(&quot;Finance&quot;, &quot;$.history.type&quot;);\r\n    \t\t\r\n    \t\tString pathToCategory = &quot;$.marketEvent.category&quot;;\r\n    \t\t\r\n    \t\tDocumentContext jsonContext = JsonPath.parse(jsonDataSourceString);\r\n    \t\tString categoryName = jsonContext.read(pathToCategory);\r\n    \t\t\r\n    \t\tSystem.out.println(categoryName);\r\n    \r\n    \t\tString pathToCategoryDependentField = categoryToJsonPath.get(categoryName);\r\n    \t\t\r\n    \t\tString categoryDependentFieldValue = jsonContext.read(pathToCategoryDependentField);\r\n    \r\n    \t\tSystem.out.println(categoryDependentFieldValue);\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nOutput:\r\n\r\n    { \r\n      &quot;marketEvent&quot; :{\r\n            &quot;category&quot;: &quot;Finance&quot;, \r\n            &quot;version&quot;: 1.0       \r\n       }, \r\n       &quot;history&quot; : {\r\n         &quot;type&quot; : &quot;FX&quot;, \r\n         &quot;value&quot;: 45.33,  \r\n         &quot;role&quot; : &quot; Broker&quot;  \r\n       } \r\n    }\r\n    Finance\r\n    FX\r\n\r\n\r\n  [1]: https://www.baeldung.com/guide-to-jayway-jsonpath\r\n","title":"Design : Refer different properties for a object at run time","body":"<p><a href=\"https://www.baeldung.com/guide-to-jayway-jsonpath\" rel=\"nofollow noreferrer\">Jayway</a> is perfect for this. Along with a map from the categories and paths to the data.</p>\n<p>Dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n    &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Code</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\nimport com.jayway.jsonpath.DocumentContext;\nimport com.jayway.jsonpath.JsonPath;\n\npublic class App5 {\n\n    \n    public static void main(String[] args) {\n        String jsonDataSourceString = &quot;{ \\r\\n&quot; + \n                &quot;  \\&quot;marketEvent\\&quot; :{\\r\\n&quot; + \n                &quot;        \\&quot;category\\&quot;: \\&quot;Finance\\&quot;, \\r\\n&quot; + \n                &quot;        \\&quot;version\\&quot;: 1.0       \\r\\n&quot; + \n                &quot;   }, \\r\\n&quot; + \n                &quot;   \\&quot;history\\&quot; : {\\r\\n&quot; + \n                &quot;     \\&quot;type\\&quot; : \\&quot;FX\\&quot;, \\r\\n&quot; + \n                &quot;     \\&quot;value\\&quot;: 45.33,  \\r\\n&quot; + \n                &quot;     \\&quot;role\\&quot; : \\&quot; Broker\\&quot;  \\r\\n&quot; + \n                &quot;   } \\r\\n&quot; + \n                &quot;}&quot;;\n\n        System.out.println(jsonDataSourceString);\n\n        Map&lt;String, String&gt; categoryToJsonPath = new HashMap&lt;&gt;();\n        categoryToJsonPath.put(&quot;Finance&quot;, &quot;$.history.type&quot;);\n        \n        String pathToCategory = &quot;$.marketEvent.category&quot;;\n        \n        DocumentContext jsonContext = JsonPath.parse(jsonDataSourceString);\n        String categoryName = jsonContext.read(pathToCategory);\n        \n        System.out.println(categoryName);\n\n        String pathToCategoryDependentField = categoryToJsonPath.get(categoryName);\n        \n        String categoryDependentFieldValue = jsonContext.read(pathToCategoryDependentField);\n\n        System.out.println(categoryDependentFieldValue);\n        \n\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>{ \n  &quot;marketEvent&quot; :{\n        &quot;category&quot;: &quot;Finance&quot;, \n        &quot;version&quot;: 1.0       \n   }, \n   &quot;history&quot; : {\n     &quot;type&quot; : &quot;FX&quot;, \n     &quot;value&quot;: 45.33,  \n     &quot;role&quot; : &quot; Broker&quot;  \n   } \n}\nFinance\nFX\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679130936,"creation_date":1679130936,"answer_id":75774893,"question_id":75769360,"body_markdown":"You many try library _Josson_. Function `caseValue()` can do the job.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;marketEvent\\&quot; :{&quot; +\r\n        &quot;        \\&quot;category\\&quot;: \\&quot;Finance\\&quot;,&quot; +\r\n        &quot;        \\&quot;version\\&quot;: 1.0&quot; +\r\n        &quot;   },&quot; +\r\n        &quot;   \\&quot;history\\&quot; : {&quot; +\r\n        &quot;     \\&quot;type\\&quot; : \\&quot;FX\\&quot;,&quot; +\r\n        &quot;     \\&quot;value\\&quot;: 45.33,&quot; +\r\n        &quot;     \\&quot;role\\&quot; : \\&quot; Broker\\&quot;&quot; +\r\n        &quot;   }&quot; +\r\n        &quot;}&quot;);\r\n    String categoryValue = josson.getString(\r\n        &quot;marketEvent.category.caseValue(&quot; +\r\n        &quot;  &#39;Finance&#39;, $.history.type,&quot; +\r\n        &quot;  &#39;IT&#39;, $.history.type2)&quot;);\r\n    System.out.println(categoryValue);\r\n    // Output: FX\r\n","title":"Design : Refer different properties for a object at run time","body":"<p>You many try library <em>Josson</em>. Function <code>caseValue()</code> can do the job.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;marketEvent\\&quot; :{&quot; +\n    &quot;        \\&quot;category\\&quot;: \\&quot;Finance\\&quot;,&quot; +\n    &quot;        \\&quot;version\\&quot;: 1.0&quot; +\n    &quot;   },&quot; +\n    &quot;   \\&quot;history\\&quot; : {&quot; +\n    &quot;     \\&quot;type\\&quot; : \\&quot;FX\\&quot;,&quot; +\n    &quot;     \\&quot;value\\&quot;: 45.33,&quot; +\n    &quot;     \\&quot;role\\&quot; : \\&quot; Broker\\&quot;&quot; +\n    &quot;   }&quot; +\n    &quot;}&quot;);\nString categoryValue = josson.getString(\n    &quot;marketEvent.category.caseValue(&quot; +\n    &quot;  'Finance', $.history.type,&quot; +\n    &quot;  'IT', $.history.type2)&quot;);\nSystem.out.println(categoryValue);\n// Output: FX\n</code></pre>\n"}],"owner":{"account_id":6161103,"reputation":743,"user_id":4802676,"accept_rate":75,"display_name":"BobCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679130936,"creation_date":1679066598,"question_id":75769360,"body_markdown":"I&#39;m looking for some advice to come up with a design for a use case on which I&#39;m working. As a REST request I receive a Json payload something like below \r\n\r\n```json\r\n{ \r\n  &quot;marketEvent&quot; :{\r\n        &quot;category&quot;: &quot;Finance&quot;\r\n        &quot;version&quot;: 1.0       \r\n   }\r\n   &quot;history&quot; : {\r\n     &quot;type&quot; : &quot;FX&quot;\r\n     &quot;value&quot;: 45.33  \r\n     &quot;role&quot; : &quot; Broker&quot;  \r\n   } \r\n}\r\n```\r\n                \r\nFor different categories (in this example Finance), I need to access different values from the JSON. In case of Finance, I need to access `history.type`, but in another category I might need to access another value. \r\n\r\nI&#39;m looking for a generic design in Java/Spring where I can configure different categories and what values I need to access and take action on that. \r\n\r\n","title":"Design : Refer different properties for a object at run time","body":"<p>I'm looking for some advice to come up with a design for a use case on which I'm working. As a REST request I receive a Json payload something like below</p>\n<pre class=\"lang-json prettyprint-override\"><code>{ \n  &quot;marketEvent&quot; :{\n        &quot;category&quot;: &quot;Finance&quot;\n        &quot;version&quot;: 1.0       \n   }\n   &quot;history&quot; : {\n     &quot;type&quot; : &quot;FX&quot;\n     &quot;value&quot;: 45.33  \n     &quot;role&quot; : &quot; Broker&quot;  \n   } \n}\n</code></pre>\n<p>For different categories (in this example Finance), I need to access different values from the JSON. In case of Finance, I need to access <code>history.type</code>, but in another category I might need to access another value.</p>\n<p>I'm looking for a generic design in Java/Spring where I can configure different categories and what values I need to access and take action on that.</p>\n"},{"tags":["java","guava"],"answers":[{"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":5,"creation_date":1326573047,"post_id":8861107,"comment_id":11077047,"body_markdown":"Besides being probably more efficient than your implementation, Multiset makes it clearer what you&#39;re actually trying to do, and it&#39;s more difficult to screw up.  Typically, with a Map&lt;E, Integer&gt;, you&#39;re dealing with a lot of stuff: checking if the key is already in the map, dealing with count zero, and all kinds of tricky business.  Multiset just works.","body":"Besides being probably more efficient than your implementation, Multiset makes it clearer what you&#39;re actually trying to do, and it&#39;s more difficult to screw up.  Typically, with a Map&lt;E, Integer&gt;, you&#39;re dealing with a lot of stuff: checking if the key is already in the map, dealing with count zero, and all kinds of tricky business.  Multiset just works."}],"tags":[],"owner":{"account_id":29270,"reputation":4126,"user_id":78973,"accept_rate":100,"display_name":"Arend v. Reinersdorff"},"comment_count":1,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1679130226,"creation_date":1326530472,"answer_id":8861107,"question_id":8860770,"body_markdown":"Advantages of a `Multiset&lt;E&gt;` over a `Map&lt;E, Integer&gt;`:\r\n\r\n - No special code required when adding an element that is not already in the collection.\r\n - Methods for handling the count of elements directly: `count(E)`, `add(E, int)`, etc.\r\n - The intention of the code is clearer. A `Multiset&lt;E&gt;` obviously maps the elements to their counts. A `Map&lt;E, Integer&gt;` could map the elements to arbitrary integers.\r\n\r\nSee also:\r\n\r\n[Multiset Javadoc][1]\r\n\r\n[Multiset explained in the Guava Wiki][2]\r\n\r\n\r\n  [1]: https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Multiset.html\r\n  [2]: https://github.com/google/guava/wiki/NewCollectionTypesExplained#multiset","title":"Guava MultiSet vs Map?","body":"<p>Advantages of a <code>Multiset&lt;E&gt;</code> over a <code>Map&lt;E, Integer&gt;</code>:</p>\n<ul>\n<li>No special code required when adding an element that is not already in the collection.</li>\n<li>Methods for handling the count of elements directly: <code>count(E)</code>, <code>add(E, int)</code>, etc.</li>\n<li>The intention of the code is clearer. A <code>Multiset&lt;E&gt;</code> obviously maps the elements to their counts. A <code>Map&lt;E, Integer&gt;</code> could map the elements to arbitrary integers.</li>\n</ul>\n<p>See also:</p>\n<p><a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Multiset.html\" rel=\"nofollow noreferrer\">Multiset Javadoc</a></p>\n<p><a href=\"https://github.com/google/guava/wiki/NewCollectionTypesExplained#multiset\" rel=\"nofollow noreferrer\">Multiset explained in the Guava Wiki</a></p>\n"},{"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1326553387,"creation_date":1326553387,"answer_id":8863033,"question_id":8860770,"body_markdown":"To me, the most important point that sets `Multiset` apart from a `Map` is that it&#39;s a `Collection`: you just put stuff into it and you can get counts later. It conceptually fits the use cases for which it&#39;s designed where a `Map` does not. For those use cases, a `Map` is just a hack that kinda-sorta works OK since Java didn&#39;t provide anything more appropriate.","title":"Guava MultiSet vs Map?","body":"<p>To me, the most important point that sets <code>Multiset</code> apart from a <code>Map</code> is that it's a <code>Collection</code>: you just put stuff into it and you can get counts later. It conceptually fits the use cases for which it's designed where a <code>Map</code> does not. For those use cases, a <code>Map</code> is just a hack that kinda-sorta works OK since Java didn't provide anything more appropriate.</p>\n"}],"owner":{"account_id":1156140,"reputation":25030,"user_id":1136700,"accept_rate":46,"display_name":"Adam Lee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6050,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":8861107,"answer_count":2,"score":17,"last_activity_date":1679130226,"creation_date":1326525228,"question_id":8860770,"body_markdown":"My understanding of Multiset is a set with frequency, but I can always use Map&lt;T, int&gt; to represent the frequency, is there other reason to use Multiset?","title":"Guava MultiSet vs Map?","body":"<p>My understanding of Multiset is a set with frequency, but I can always use Map to represent the frequency, is there other reason to use Multiset?</p>\n"},{"tags":["java","data-binding","frontend","vaadin","vaadin23"],"comments":[{"owner":{"account_id":7372513,"reputation":951,"user_id":5612275,"display_name":"Marco C"},"score":0,"creation_date":1679131454,"post_id":75774829,"comment_id":133668853,"body_markdown":"Where does the null pointer exception come from? Looking at the code, you must ensure that dto getters for intermediate objects always returns a valid instance","body":"Where does the null pointer exception come from? Looking at the code, you must ensure that dto getters for intermediate objects always returns a valid instance"},{"owner":{"account_id":18336090,"reputation":17,"user_id":13353450,"display_name":"Buddhima Chamaranga"},"score":0,"creation_date":1679153342,"post_id":75774829,"comment_id":133672169,"body_markdown":"getters are defined by Lombok","body":"getters are defined by Lombok"},{"owner":{"account_id":7372513,"reputation":951,"user_id":5612275,"display_name":"Marco C"},"score":0,"creation_date":1679157130,"post_id":75774829,"comment_id":133672876,"body_markdown":"Vaadin will not populate the intermediate objects. So you should set them by your self, for example in the bind callbacks, or you can explicitly defined getters instead of autogenerating them or you can populate the dto before passing it to the binder","body":"Vaadin will not populate the intermediate objects. So you should set them by your self, for example in the bind callbacks, or you can explicitly defined getters instead of autogenerating them or you can populate the dto before passing it to the binder"},{"owner":{"account_id":18336090,"reputation":17,"user_id":13353450,"display_name":"Buddhima Chamaranga"},"score":0,"creation_date":1679194885,"post_id":75774829,"comment_id":133677055,"body_markdown":"even after setting up getters setters without lombok it gives me same error, could please show me a example of a bind callback?","body":"even after setting up getters setters without lombok it gives me same error, could please show me a example of a bind callback?"},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1679237939,"post_id":75774829,"comment_id":133681463,"body_markdown":"Please update the question with your new insights. Ideally provide\na [MRE](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Please update the question with your new insights. Ideally provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a>"},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1679316476,"post_id":75774829,"comment_id":133694309,"body_markdown":"For example if `job.getOutputSource()` can return null, then you will have NPE. So you need to improve your getter and setter lambda code to handle the possible null values accordingly. This cannot be handled by Vaadin framework automatically, as the decisions upon those are highly application specific. E.g. in some applications you do not want to add anything there if NPE indeed should be thrown to indicate data corruption being happened.","body":"For example if <code>job.getOutputSource()</code> can return null, then you will have NPE. So you need to improve your getter and setter lambda code to handle the possible null values accordingly. This cannot be handled by Vaadin framework automatically, as the decisions upon those are highly application specific. E.g. in some applications you do not want to add anything there if NPE indeed should be thrown to indicate data corruption being happened."},{"owner":{"account_id":18336090,"reputation":17,"user_id":13353450,"display_name":"Buddhima Chamaranga"},"score":0,"creation_date":1679331906,"post_id":75774829,"comment_id":133699077,"body_markdown":"I made those UIdto&#39;s simple, by excluding nested dto&#39;s","body":"I made those UIdto&#39;s simple, by excluding nested dto&#39;s"}],"owner":{"account_id":18336090,"reputation":17,"user_id":13353450,"display_name":"Buddhima Chamaranga"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679130164,"creation_date":1679130164,"question_id":75774829,"body_markdown":"```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\npublic class JobDto {\r\n    private Long JobId;\r\n    private String jobName;\r\n    private String jobDesc;\r\n    private String status;\r\n    private boolean isScheduled;\r\n    private String cronExpression;\r\n    private InputSourceDto inputSource;\r\n    private OutputSourceDto outputSource;\r\n}\r\n```\r\n\r\n\r\n```\r\n        jobBinder.bind(jobName, JobDto::getJobName, JobDto::setJobName);\r\n        jobBinder.bind(jobDesc, JobDto::getJobDesc, JobDto::setJobDesc);\r\n        jobBinder.forField(jobType).bind(job -&gt; job.getOutputSource().getType(),(job,jobType) -&gt; job.getOutputSource().setType(jobType));\r\n        jobBinder.forField(dbUrl).bind(job -&gt; job.getOutputSource().getConnection().getDbUrl(),(job,dbUrl) -&gt; job.getOutputSource().getConnection().setDbUrl(dbUrl));\r\n        jobBinder.forField(dbUserName).bind(job -&gt; job.getOutputSource().getConnection().getDbUserName(),(job,dbUserName) -&gt; job.getOutputSource().getConnection().setDbUserName(dbUserName));\r\n        jobBinder.forField(dbUserPassword).bind(job -&gt; job.getOutputSource().getConnection().getDbUserPassword(),(job,dbUserPassword) -&gt; job.getOutputSource().getConnection().setDbUserPassword(dbUserPassword));\r\n        jobBinder.forField(dbDriverClass).bind(job -&gt; job.getOutputSource().getConnection().getDbDriverClass(),(job,dbDriverClass) -&gt; job.getOutputSource().getConnection().setDbDriverClass(dbDriverClass));\r\n        etCronExpression, JobDto ::setCronExpression);\r\n     \r\n```\r\n**my binder worked perfectly when I connected directly with the entity classes directly. Now after using the dtos it gives me a null pointer error when I try to get a nested attribute**\r\n\r\n**I want to know solutions when using vaadin binder with nested dtos**","title":"How to use vaadin binder when dto&#39;s consist of nested dtos in vaadin 23","body":"<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class JobDto {\n    private Long JobId;\n    private String jobName;\n    private String jobDesc;\n    private String status;\n    private boolean isScheduled;\n    private String cronExpression;\n    private InputSourceDto inputSource;\n    private OutputSourceDto outputSource;\n}\n</code></pre>\n<pre><code>        jobBinder.bind(jobName, JobDto::getJobName, JobDto::setJobName);\n        jobBinder.bind(jobDesc, JobDto::getJobDesc, JobDto::setJobDesc);\n        jobBinder.forField(jobType).bind(job -&gt; job.getOutputSource().getType(),(job,jobType) -&gt; job.getOutputSource().setType(jobType));\n        jobBinder.forField(dbUrl).bind(job -&gt; job.getOutputSource().getConnection().getDbUrl(),(job,dbUrl) -&gt; job.getOutputSource().getConnection().setDbUrl(dbUrl));\n        jobBinder.forField(dbUserName).bind(job -&gt; job.getOutputSource().getConnection().getDbUserName(),(job,dbUserName) -&gt; job.getOutputSource().getConnection().setDbUserName(dbUserName));\n        jobBinder.forField(dbUserPassword).bind(job -&gt; job.getOutputSource().getConnection().getDbUserPassword(),(job,dbUserPassword) -&gt; job.getOutputSource().getConnection().setDbUserPassword(dbUserPassword));\n        jobBinder.forField(dbDriverClass).bind(job -&gt; job.getOutputSource().getConnection().getDbDriverClass(),(job,dbDriverClass) -&gt; job.getOutputSource().getConnection().setDbDriverClass(dbDriverClass));\n        etCronExpression, JobDto ::setCronExpression);\n     \n</code></pre>\n<p><strong>my binder worked perfectly when I connected directly with the entity classes directly. Now after using the dtos it gives me a null pointer error when I try to get a nested attribute</strong></p>\n<p><strong>I want to know solutions when using vaadin binder with nested dtos</strong></p>\n"},{"tags":["java","algorithm","search","search-engine","levenshtein-distance"],"comments":[{"owner":{"account_id":552869,"reputation":6545,"user_id":918124,"accept_rate":89,"display_name":"DrYap"},"score":2,"creation_date":1447608289,"post_id":33722217,"comment_id":55214810,"body_markdown":"You have said `jakob` is not related but that required understanding of the meaning of the word. You will not be able to do much better with simple techniques such as Levenshtein distance and will need to start looking into natural language processing techniques.","body":"You have said <code>jakob</code> is not related but that required understanding of the meaning of the word. You will not be able to do much better with simple techniques such as Levenshtein distance and will need to start looking into natural language processing techniques."},{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":2,"creation_date":1447608593,"post_id":33722217,"comment_id":55214923,"body_markdown":"Why don&#39;t you sort by the distance that the Levenshtein algorithm returns?","body":"Why don&#39;t you sort by the distance that the Levenshtein algorithm returns?"},{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":8,"creation_date":1447608748,"post_id":33722217,"comment_id":55214989,"body_markdown":"Unless you define &quot;relevant&quot; you may never come to a satisfactory solution.","body":"Unless you define &quot;relevant&quot; you may never come to a satisfactory solution."},{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":0,"creation_date":1447609612,"post_id":33722217,"comment_id":55215326,"body_markdown":"What you compute is words from the list that contain the letters of the search word in the original order. This can be computed without this Levenshtein magic, and I don&#39;t know what you would like to infer from those words.","body":"What you compute is words from the list that contain the letters of the search word in the original order. This can be computed without this Levenshtein magic, and I don&#39;t know what you would like to infer from those words."},{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":1,"creation_date":1447610034,"post_id":33722217,"comment_id":55215468,"body_markdown":"Regarding bhspencer&#39;s proposal: since all the returned words have the same value, sorting them by that value may not enlighten you.","body":"Regarding bhspencer&#39;s proposal: since all the returned words have the same value, sorting them by that value may not enlighten you."},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":1,"creation_date":1483394534,"post_id":33722217,"comment_id":70073466,"body_markdown":"The technology you&#39;re probably looking for is a semantic network. Implementing one is a big task because it must be created and trained. There are thousands of papers. Here&#39;s an example service: http://swoogle.umbc.edu/SimService/index.html","body":"The technology you&#39;re probably looking for is a semantic network. Implementing one is a big task because it must be created and trained. There are thousands of papers. Here&#39;s an example service: <a href=\"http://swoogle.umbc.edu/SimService/index.html\" rel=\"nofollow noreferrer\">swoogle.umbc.edu/SimService/index.html</a>"},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1483405711,"post_id":33722217,"comment_id":70076216,"body_markdown":"jacob might have been what the user is looking for if he is typing very fast and missed the a and c. You could ignore this fact and just look for words where the string is present, it&#39;s also faster than the calculating the distance. But if (sorry don&#39;t have a better example now) you are looking for &quot;asses&quot; then you probably don&#39;t want words related to &quot;assess&quot;, &quot;masses&quot;, &quot;classes&quot; etc. but you would still get those unless you are using a method which understands semantics (very complex).","body":"jacob might have been what the user is looking for if he is typing very fast and missed the a and c. You could ignore this fact and just look for words where the string is present, it&#39;s also faster than the calculating the distance. But if (sorry don&#39;t have a better example now) you are looking for &quot;asses&quot; then you probably don&#39;t want words related to &quot;assess&quot;, &quot;masses&quot;, &quot;classes&quot; etc. but you would still get those unless you are using a method which understands semantics (very complex)."},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1483564724,"post_id":33722217,"comment_id":70152516,"body_markdown":"Do you have a limited dictionary? Like 1000 words related to the job market. Or is it basically all English words?","body":"Do you have a limited dictionary? Like 1000 words related to the job market. Or is it basically all English words?"},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1483565603,"post_id":33722217,"comment_id":70152943,"body_markdown":"I was asking, because the easiest semantic aproach is probably tag-based (like stackoverflow). So you would need to tag each word and also create tag synonyms. Then you can search via the tags and use the Levenshtein distance to get the closest tags for unknown words. But that doesn&#39;t seem feasible for you.","body":"I was asking, because the easiest semantic aproach is probably tag-based (like stackoverflow). So you would need to tag each word and also create tag synonyms. Then you can search via the tags and use the Levenshtein distance to get the closest tags for unknown words. But that doesn&#39;t seem feasible for you."},{"owner":{"account_id":10010550,"reputation":346,"user_id":9465588,"display_name":"DGoiko"},"score":0,"creation_date":1559145460,"post_id":33722217,"comment_id":99332109,"body_markdown":"No. This is one of the most complex problems in NLP.","body":"No. This is one of the most complex problems in NLP."}],"answers":[{"comments":[{"owner":{"account_id":3711000,"reputation":31801,"user_id":3088349,"accept_rate":100,"display_name":"Maytham Fahmi"},"score":0,"creation_date":1470262971,"post_id":33723626,"comment_id":64883005,"body_markdown":"thx for your contribution, if you read @laune comments this does not help at all, it sorts distance but do not solve the problem.","body":"thx for your contribution, if you read @laune comments this does not help at all, it sorts distance but do not solve the problem."}],"tags":[],"owner":{"account_id":895662,"reputation":356,"user_id":933012,"display_name":"AnishT"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483791730,"creation_date":1447613845,"answer_id":33723626,"question_id":33722217,"body_markdown":"I tried the suggestion from the comments about sorting the matches by the distance returned by Levenshtein algo, and it seems it does produce better results.\r\n\r\n(As I could not find how I could not find the Searcher class from your code, I took the liberty of using a different source of wordlist, Levenshtein implementation, and language.)\r\n\r\nUsing the word list provided in Ubuntu, and Levenshtein algo implementation from - https://github.com/ztane/python-Levenshtein,\r\nI created a small script that asks for a word and prints all closest words and distance as tuple.\r\n\r\nCode - https://gist.github.com/atdaemon/9f59ad886c35024bdd28\r\n\r\n    from Levenshtein import distance\r\n    import os\r\n    \r\n    def read_dict() :\r\n    \twith open(&#39;/usr/share/dict/words&#39;,&#39;r&#39;) as f : \r\n    \t\tfor line in f :\r\n    \t\t\tyield str(line).strip()\r\n    \r\n    inp = str(raw_input(&#39;Enter a word : &#39;))\r\n    \r\n    wordlist = read_dict()\r\n    matches = []\r\n    for word in wordlist :\r\n    \tdist = distance(inp,word)\r\n    \tif dist &lt; 3 :\r\n    \t\tmatches.append((dist,word))\r\n    print os.linesep.join(map(str,sorted(matches)))\r\n\r\nSample output - \r\n\r\n\r\n    Enter a word : job\r\n    (0, &#39;job&#39;)\r\n    (1, &#39;Bob&#39;)\r\n    (1, &#39;Job&#39;)\r\n    (1, &#39;Rob&#39;)\r\n    (1, &#39;bob&#39;)\r\n    (1, &#39;cob&#39;)\r\n    (1, &#39;fob&#39;)\r\n    (1, &#39;gob&#39;)\r\n    (1, &#39;hob&#39;)\r\n    (1, &#39;jab&#39;)\r\n    (1, &#39;jib&#39;)\r\n    (1, &#39;jobs&#39;)\r\n    (1, &#39;jog&#39;)\r\n    (1, &#39;jot&#39;)\r\n    (1, &#39;joy&#39;)\r\n    (1, &#39;lob&#39;)\r\n    (1, &#39;mob&#39;)\r\n    (1, &#39;rob&#39;)\r\n    (1, &#39;sob&#39;)\r\n    ...\r\n\r\n    Enter a word : checker\r\n    (0, &#39;checker&#39;)\r\n    (1, &#39;checked&#39;)\r\n    (1, &#39;checkers&#39;)\r\n    (2, &#39;Becker&#39;)\r\n    (2, &#39;Decker&#39;)\r\n    (2, &#39;cheaper&#39;)\r\n    (2, &#39;cheater&#39;)\r\n    (2, &#39;check&#39;)\r\n    (2, &quot;check&#39;s&quot;)\r\n    (2, &quot;checker&#39;s&quot;)\r\n    (2, &#39;checkered&#39;)\r\n    (2, &#39;checks&#39;)\r\n    (2, &#39;checkup&#39;)\r\n    (2, &#39;cheeked&#39;)\r\n    (2, &#39;cheekier&#39;)\r\n    (2, &#39;cheer&#39;)\r\n    (2, &#39;chewer&#39;)\r\n    (2, &#39;chewier&#39;)\r\n    (2, &#39;chicer&#39;)\r\n    (2, &#39;chicken&#39;)\r\n    (2, &#39;chocked&#39;)\r\n    (2, &#39;choker&#39;)\r\n    (2, &#39;chucked&#39;)\r\n    (2, &#39;cracker&#39;)\r\n    (2, &#39;hacker&#39;)\r\n    (2, &#39;heckler&#39;)\r\n    (2, &#39;shocker&#39;)\r\n    (2, &#39;thicker&#39;)\r\n    (2, &#39;wrecker&#39;)\r\n\r\n\r\n","title":"Improving search result using Levenshtein distance in Java","body":"<p>I tried the suggestion from the comments about sorting the matches by the distance returned by Levenshtein algo, and it seems it does produce better results.</p>\n\n<p>(As I could not find how I could not find the Searcher class from your code, I took the liberty of using a different source of wordlist, Levenshtein implementation, and language.)</p>\n\n<p>Using the word list provided in Ubuntu, and Levenshtein algo implementation from - <a href=\"https://github.com/ztane/python-Levenshtein\" rel=\"nofollow noreferrer\">https://github.com/ztane/python-Levenshtein</a>,\nI created a small script that asks for a word and prints all closest words and distance as tuple.</p>\n\n<p>Code - <a href=\"https://gist.github.com/atdaemon/9f59ad886c35024bdd28\" rel=\"nofollow noreferrer\">https://gist.github.com/atdaemon/9f59ad886c35024bdd28</a></p>\n\n<pre><code>from Levenshtein import distance\nimport os\n\ndef read_dict() :\n    with open('/usr/share/dict/words','r') as f : \n        for line in f :\n            yield str(line).strip()\n\ninp = str(raw_input('Enter a word : '))\n\nwordlist = read_dict()\nmatches = []\nfor word in wordlist :\n    dist = distance(inp,word)\n    if dist &lt; 3 :\n        matches.append((dist,word))\nprint os.linesep.join(map(str,sorted(matches)))\n</code></pre>\n\n<p>Sample output - </p>\n\n<pre><code>Enter a word : job\n(0, 'job')\n(1, 'Bob')\n(1, 'Job')\n(1, 'Rob')\n(1, 'bob')\n(1, 'cob')\n(1, 'fob')\n(1, 'gob')\n(1, 'hob')\n(1, 'jab')\n(1, 'jib')\n(1, 'jobs')\n(1, 'jog')\n(1, 'jot')\n(1, 'joy')\n(1, 'lob')\n(1, 'mob')\n(1, 'rob')\n(1, 'sob')\n...\n\nEnter a word : checker\n(0, 'checker')\n(1, 'checked')\n(1, 'checkers')\n(2, 'Becker')\n(2, 'Decker')\n(2, 'cheaper')\n(2, 'cheater')\n(2, 'check')\n(2, \"check's\")\n(2, \"checker's\")\n(2, 'checkered')\n(2, 'checks')\n(2, 'checkup')\n(2, 'cheeked')\n(2, 'cheekier')\n(2, 'cheer')\n(2, 'chewer')\n(2, 'chewier')\n(2, 'chicer')\n(2, 'chicken')\n(2, 'chocked')\n(2, 'choker')\n(2, 'chucked')\n(2, 'cracker')\n(2, 'hacker')\n(2, 'heckler')\n(2, 'shocker')\n(2, 'thicker')\n(2, 'wrecker')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4787547,"reputation":5568,"user_id":3867574,"accept_rate":43,"display_name":"Serg M Ten"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1483715537,"creation_date":1483460124,"answer_id":41447725,"question_id":33722217,"body_markdown":"Without understanding the meaning of the words like @DrYap suggests, the next logical unit to compare two words (if you are not looking for misspellings) is syllables. It is very easy to modify Levenshtein to compare syllables instead of characters. The hard part is breaking the words into syllables. There is a Java implementation [TeXHyphenator-J][1] which can be used to split the words. Based on this hyphenation library, here is a modified version of Levenshtein function written by [Michael Gilleland &amp; Chas Emerick][2]. More about syllable detection [here][3] and [here][4]. Of course, you&#39;ll want to avoid syllable comparison of two single syllable words probably handling this case with standard Levenshtein.\r\n\r\n    import net.davidashen.text.Hyphenator;\r\n    \r\n    public class WordDistance {\r\n    \r\n    \tpublic static void main(String args[]) throws Exception {\r\n    \t\tHyphenator h = new Hyphenator();\r\n    \t\th.loadTable(WordDistance.class.getResourceAsStream(&quot;hyphen.tex&quot;));\r\n    \t\tgetSyllableLevenshteinDistance(h, args[0], args[1]);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * &lt;p&gt;\r\n    \t * Calculate Syllable Levenshtein distance between two words &lt;/p&gt;\r\n    \t * The Syllable Levenshtein distance is defined as the minimal number of\r\n    \t * case-insensitive syllables you have to replace, insert or delete to transform word1 into word2.\r\n    \t * @return int\r\n    \t * @throws IllegalArgumentException if either str1 or str2 is &lt;b&gt;null&lt;/b&gt;\r\n         */\r\n    \tpublic static int getSyllableLevenshteinDistance(Hyphenator h, String s, String t) {\r\n    \t\tif (s == null || t == null)\r\n    \t\t\tthrow new NullPointerException(&quot;Strings must not be null&quot;);\r\n    \r\n    \t\tfinal String hyphen = Character.toString((char) 173);\r\n    \t\tfinal String[] ss = h.hyphenate(s).split(hyphen);\r\n    \t\tfinal String[] st = h.hyphenate(t).split(hyphen);\r\n    \r\n    \t\tfinal int n = ss.length;\r\n    \t\tfinal int m = st.length;\r\n    \r\n    \t\tif (n == 0)\r\n    \t\t\treturn m;\r\n    \t\telse if (m == 0)\r\n    \t\t\treturn n;\r\n    \r\n    \t\tint p[] = new int[n + 1]; // &#39;previous&#39; cost array, horizontally\r\n    \t\tint d[] = new int[n + 1]; // cost array, horizontally\r\n    \r\n    \t\tfor (int i = 0; i &lt;= n; i++)\r\n    \t\t\tp[i] = i;\r\n    \r\n    \t\tfor (int j = 1; j &lt;= m; j++) {\r\n    \t\t\td[0] = j;\r\n    \t\t\tfor (int i = 1; i &lt;= n; i++) {\r\n    \t\t\t\tint cost = ss[i - 1].equalsIgnoreCase(st[j - 1]) ? 0 : 1;\r\n    \t\t\t\t// minimum of cell to the left+1, to the top+1, diagonally left and up +cost\r\n    \t\t\t\td[i] = Math.min(Math.min(d[i - 1] + 1, p[i] + 1), p[i - 1] + cost);\r\n    \t\t\t}\r\n    \t\t\t// copy current distance counts to &#39;previous row&#39; distance counts\r\n    \t\t\tint[] _d = p;\r\n    \t\t\tp = d;\r\n    \t\t\td = _d;\r\n    \t\t}\r\n    \r\n    \t\t// our last action in the above loop was to switch d and p, so p now actually has the most recent cost counts\r\n    \t\treturn p[n];\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://sourceforge.net/projects/texhyphj/\r\n  [2]: http://www.merriampark.com/ldjava.htm\r\n  [3]: https://stackoverflow.com/questions/405161/detecting-syllables-in-a-word\r\n  [4]: https://stackoverflow.com/questions/9096228/counting-syllables-in-a-word\r\n","title":"Improving search result using Levenshtein distance in Java","body":"<p>Without understanding the meaning of the words like @DrYap suggests, the next logical unit to compare two words (if you are not looking for misspellings) is syllables. It is very easy to modify Levenshtein to compare syllables instead of characters. The hard part is breaking the words into syllables. There is a Java implementation <a href=\"https://sourceforge.net/projects/texhyphj/\" rel=\"nofollow noreferrer\">TeXHyphenator-J</a> which can be used to split the words. Based on this hyphenation library, here is a modified version of Levenshtein function written by <a href=\"http://www.merriampark.com/ldjava.htm\" rel=\"nofollow noreferrer\">Michael Gilleland &amp; Chas Emerick</a>. More about syllable detection <a href=\"https://stackoverflow.com/questions/405161/detecting-syllables-in-a-word\">here</a> and <a href=\"https://stackoverflow.com/questions/9096228/counting-syllables-in-a-word\">here</a>. Of course, you'll want to avoid syllable comparison of two single syllable words probably handling this case with standard Levenshtein.</p>\n\n<pre><code>import net.davidashen.text.Hyphenator;\n\npublic class WordDistance {\n\n    public static void main(String args[]) throws Exception {\n        Hyphenator h = new Hyphenator();\n        h.loadTable(WordDistance.class.getResourceAsStream(\"hyphen.tex\"));\n        getSyllableLevenshteinDistance(h, args[0], args[1]);\n    }\n\n    /**\n     * &lt;p&gt;\n     * Calculate Syllable Levenshtein distance between two words &lt;/p&gt;\n     * The Syllable Levenshtein distance is defined as the minimal number of\n     * case-insensitive syllables you have to replace, insert or delete to transform word1 into word2.\n     * @return int\n     * @throws IllegalArgumentException if either str1 or str2 is &lt;b&gt;null&lt;/b&gt;\n     */\n    public static int getSyllableLevenshteinDistance(Hyphenator h, String s, String t) {\n        if (s == null || t == null)\n            throw new NullPointerException(\"Strings must not be null\");\n\n        final String hyphen = Character.toString((char) 173);\n        final String[] ss = h.hyphenate(s).split(hyphen);\n        final String[] st = h.hyphenate(t).split(hyphen);\n\n        final int n = ss.length;\n        final int m = st.length;\n\n        if (n == 0)\n            return m;\n        else if (m == 0)\n            return n;\n\n        int p[] = new int[n + 1]; // 'previous' cost array, horizontally\n        int d[] = new int[n + 1]; // cost array, horizontally\n\n        for (int i = 0; i &lt;= n; i++)\n            p[i] = i;\n\n        for (int j = 1; j &lt;= m; j++) {\n            d[0] = j;\n            for (int i = 1; i &lt;= n; i++) {\n                int cost = ss[i - 1].equalsIgnoreCase(st[j - 1]) ? 0 : 1;\n                // minimum of cell to the left+1, to the top+1, diagonally left and up +cost\n                d[i] = Math.min(Math.min(d[i - 1] + 1, p[i] + 1), p[i - 1] + cost);\n            }\n            // copy current distance counts to 'previous row' distance counts\n            int[] _d = p;\n            p = d;\n            d = _d;\n        }\n\n        // our last action in the above loop was to switch d and p, so p now actually has the most recent cost counts\n        return p[n];\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3538073,"reputation":1826,"user_id":2955869,"display_name":"uSeemSurprised"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1483586120,"creation_date":1483537483,"answer_id":41465315,"question_id":33722217,"body_markdown":"You can modify Levenshtein Distance by adjusting the scoring when consecutive characters match.\r\n\r\nWhenever there are consecutive characters that match, the score can then be reduced thus making the search more relevent.\r\n\r\neg : Lets say the factor by which we want to reduce score by is 10 then if in a word we find the substring &quot;job&quot; we can reduce the score by 10 when we encounter &quot;j&quot; furthur reduce it by (10 + 20) when we find the string &quot;jo&quot; and finally reduce the score by (10 + 20 + 30) when we find &quot;job&quot;.\r\n\r\nI have written a c++ code below : \r\n\r\n    #include &lt;bits/stdc++.h&gt;\r\n    \r\n    #define INF -10000000\r\n    #define FACTOR 10\r\n    \r\n    using namespace std;\r\n    \r\n    double memo[100][100][100];\r\n    \r\n    double Levenshtein(string inputWord, string checkWord, int i, int j, int count){\r\n    \tif(i == inputWord.length() &amp;&amp; j == checkWord.length()) return 0;\t\r\n    \tif(i == inputWord.length()) return checkWord.length() - j;\r\n    \tif(j == checkWord.length()) return inputWord.length() - i;\r\n    \tif(memo[i][j][count] != INF) return memo[i][j][count];\r\n    \t\r\n    \tdouble ans1 = 0, ans2 = 0, ans3 = 0, ans = 0;\r\n    \tif(inputWord[i] == checkWord[j]){\r\n    \t\tans1 = Levenshtein(inputWord, checkWord, i+1, j+1, count+1) - (FACTOR*(count+1));\r\n    \t\tans2 = Levenshtein(inputWord, checkWord, i+1, j, 0) + 1;\r\n    \t\tans3 = Levenshtein(inputWord, checkWord, i, j+1, 0) + 1;\r\n    \t\tans = min(ans1, min(ans2, ans3));\r\n    \t}else{\r\n    \t\tans1 = Levenshtein(inputWord, checkWord, i+1, j, 0) + 1;\r\n    \t\tans2 = Levenshtein(inputWord, checkWord, i, j+1, 0) + 1;\r\n    \t\tans = min(ans1, ans2);\r\n    \t}\r\n    \treturn memo[i][j][count] = ans;\r\n    }\r\n    \r\n    int main(void) {\r\n    \t// your code goes here\r\n    \tstring word = &quot;job&quot;;\r\n    \tstring wordList[40];\r\n    \tvector&lt; pair &lt;double, string&gt; &gt; ans;\r\n    \tfor(int i = 0;i &lt; 40;i++){\r\n    \t\tcin &gt;&gt; wordList[i];\r\n    \t\tfor(int j = 0;j &lt; 100;j++) for(int k = 0;k &lt; 100;k++){\r\n    \t\t\tfor(int m = 0;m &lt; 100;m++) memo[j][k][m] = INF;\r\n    \t\t}\r\n    \t\tans.push_back( make_pair(Levenshtein(word, wordList[i], \r\n    \t\t\t0, 0, 0), wordList[i]) );\r\n    \t}\r\n    \tsort(ans.begin(), ans.end());\r\n    \tfor(int i = 0;i &lt; ans.size();i++){\r\n    \t\tcout &lt;&lt; ans[i].second &lt;&lt; &quot; &quot; &lt;&lt; ans[i].first &lt;&lt; endl;\r\n    \t}\r\n    \treturn 0;\r\n    }\r\n\r\nLink to demo : http://ideone.com/4UtCX3\r\n\r\nHere the FACTOR is taken as 10, you can experiment with other words and choose the appropriate value.\r\n\r\nAlso note that the complexity of the above Levenshtein Distance has also increased, it is now `O(n^3)` instead of `O(n^2)` as now we are also keeping track of the counter that counts how many consecutive characters we have encountered.\r\n\r\nYou can further play with the score by increasing it gradually after you find some consecutive substring and then a mismatch, instead of the current way where we have a fixed score of 1 that is added to the overall score.\r\n\r\nAlso in the above solution you can remove the strings that have score &gt;=0 as they are not at all releavent you can also choose some other threshold for that to have a more accurate search.\r\n","title":"Improving search result using Levenshtein distance in Java","body":"<p>You can modify Levenshtein Distance by adjusting the scoring when consecutive characters match.</p>\n\n<p>Whenever there are consecutive characters that match, the score can then be reduced thus making the search more relevent.</p>\n\n<p>eg : Lets say the factor by which we want to reduce score by is 10 then if in a word we find the substring \"job\" we can reduce the score by 10 when we encounter \"j\" furthur reduce it by (10 + 20) when we find the string \"jo\" and finally reduce the score by (10 + 20 + 30) when we find \"job\".</p>\n\n<p>I have written a c++ code below : </p>\n\n<pre><code>#include &lt;bits/stdc++.h&gt;\n\n#define INF -10000000\n#define FACTOR 10\n\nusing namespace std;\n\ndouble memo[100][100][100];\n\ndouble Levenshtein(string inputWord, string checkWord, int i, int j, int count){\n    if(i == inputWord.length() &amp;&amp; j == checkWord.length()) return 0;    \n    if(i == inputWord.length()) return checkWord.length() - j;\n    if(j == checkWord.length()) return inputWord.length() - i;\n    if(memo[i][j][count] != INF) return memo[i][j][count];\n\n    double ans1 = 0, ans2 = 0, ans3 = 0, ans = 0;\n    if(inputWord[i] == checkWord[j]){\n        ans1 = Levenshtein(inputWord, checkWord, i+1, j+1, count+1) - (FACTOR*(count+1));\n        ans2 = Levenshtein(inputWord, checkWord, i+1, j, 0) + 1;\n        ans3 = Levenshtein(inputWord, checkWord, i, j+1, 0) + 1;\n        ans = min(ans1, min(ans2, ans3));\n    }else{\n        ans1 = Levenshtein(inputWord, checkWord, i+1, j, 0) + 1;\n        ans2 = Levenshtein(inputWord, checkWord, i, j+1, 0) + 1;\n        ans = min(ans1, ans2);\n    }\n    return memo[i][j][count] = ans;\n}\n\nint main(void) {\n    // your code goes here\n    string word = \"job\";\n    string wordList[40];\n    vector&lt; pair &lt;double, string&gt; &gt; ans;\n    for(int i = 0;i &lt; 40;i++){\n        cin &gt;&gt; wordList[i];\n        for(int j = 0;j &lt; 100;j++) for(int k = 0;k &lt; 100;k++){\n            for(int m = 0;m &lt; 100;m++) memo[j][k][m] = INF;\n        }\n        ans.push_back( make_pair(Levenshtein(word, wordList[i], \n            0, 0, 0), wordList[i]) );\n    }\n    sort(ans.begin(), ans.end());\n    for(int i = 0;i &lt; ans.size();i++){\n        cout &lt;&lt; ans[i].second &lt;&lt; \" \" &lt;&lt; ans[i].first &lt;&lt; endl;\n    }\n    return 0;\n}\n</code></pre>\n\n<p>Link to demo : <a href=\"http://ideone.com/4UtCX3\" rel=\"noreferrer\">http://ideone.com/4UtCX3</a></p>\n\n<p>Here the FACTOR is taken as 10, you can experiment with other words and choose the appropriate value.</p>\n\n<p>Also note that the complexity of the above Levenshtein Distance has also increased, it is now <code>O(n^3)</code> instead of <code>O(n^2)</code> as now we are also keeping track of the counter that counts how many consecutive characters we have encountered.</p>\n\n<p>You can further play with the score by increasing it gradually after you find some consecutive substring and then a mismatch, instead of the current way where we have a fixed score of 1 that is added to the overall score.</p>\n\n<p>Also in the above solution you can remove the strings that have score >=0 as they are not at all releavent you can also choose some other threshold for that to have a more accurate search.</p>\n"},{"tags":[],"owner":{"account_id":6797889,"reputation":1242,"user_id":5471574,"accept_rate":100,"display_name":"D. Kov&#225;cs"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483611619,"creation_date":1483611619,"answer_id":41482427,"question_id":33722217,"body_markdown":"This really is an open-ended question, but I would suggest an alternative approach which uses for example the [Smith-Waterman algorithm][1] as described in [this SO][2].\r\n\r\nAnother (more light-weight) solution would be to use other distance/similarity  metrics from NLP (e.g., [Cosine similarity][3] or [DamerauLevenshtein distance][4]).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Smith%E2%80%93Waterman_algorithm\r\n  [2]: https://stackoverflow.com/questions/41096810/removing-similar-elements-from-array\r\n  [3]: https://en.wikipedia.org/wiki/Cosine_similarity#Soft_cosine_measure\r\n  [4]: https://en.wikipedia.org/wiki/Damerau%E2%80%93Levenshtein_distance","title":"Improving search result using Levenshtein distance in Java","body":"<p>This really is an open-ended question, but I would suggest an alternative approach which uses for example the <a href=\"https://en.wikipedia.org/wiki/Smith%E2%80%93Waterman_algorithm\" rel=\"nofollow noreferrer\">Smith-Waterman algorithm</a> as described in <a href=\"https://stackoverflow.com/questions/41096810/removing-similar-elements-from-array\">this SO</a>.</p>\n\n<p>Another (more light-weight) solution would be to use other distance/similarity  metrics from NLP (e.g., <a href=\"https://en.wikipedia.org/wiki/Cosine_similarity#Soft_cosine_measure\" rel=\"nofollow noreferrer\">Cosine similarity</a> or <a href=\"https://en.wikipedia.org/wiki/Damerau%E2%80%93Levenshtein_distance\" rel=\"nofollow noreferrer\">DamerauLevenshtein distance</a>).</p>\n"},{"tags":[],"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1483681287,"creation_date":1483671380,"answer_id":41498206,"question_id":33722217,"body_markdown":"Since you asked, I&#39;ll show how the [UMBC semantic network][1] can do at this kind of thing. Not sure it&#39;s what you really want:\r\n\r\n    import static java.lang.String.format;\r\n    import static java.util.Comparator.comparingDouble;\r\n    import static java.util.stream.Collectors.toMap;\r\n    import static java.util.function.Function.identity;\r\n    \r\n    import java.util.Map.Entry;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    import java.util.Arrays;\r\n    import java.util.regex.Pattern;\r\n\r\n    public class SemanticSimilarity {\r\n      private static final String GET_URL_FORMAT\r\n          = &quot;http://swoogle.umbc.edu/SimService/GetSimilarity?&quot;\r\n              + &quot;operation=api&amp;phrase1=%s&amp;phrase2=%s&quot;;\r\n      private static final Pattern VALID_WORD_PATTERN = Pattern.compile(&quot;\\\\w+&quot;);\r\n      private static final String[] DICT = {\r\n        &quot;cat&quot;,\r\n        &quot;building&quot;,\r\n        &quot;girl&quot;,\r\n        &quot;ranch&quot;,\r\n        &quot;drawing&quot;,\r\n        &quot;wool&quot;,\r\n        &quot;gear&quot;,\r\n        &quot;question&quot;,\r\n        &quot;information&quot;,\r\n        &quot;tank&quot; \r\n      };\r\n\r\n      public static String httpGetLine(String urlToRead) throws IOException {\r\n        URL url = new URL(urlToRead);\r\n        HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n        conn.setRequestMethod(&quot;GET&quot;);\r\n        try (BufferedReader reader = new BufferedReader(\r\n            new InputStreamReader(conn.getInputStream()))) {\r\n          return reader.readLine();\r\n        }\r\n      }\r\n\r\n      public static double getSimilarity(String a, String b) {\r\n        if (!VALID_WORD_PATTERN.matcher(a).matches()\r\n            || !VALID_WORD_PATTERN.matcher(b).matches()) {\r\n          throw new RuntimeException(&quot;Bad word&quot;);\r\n        }\r\n        try {\r\n          return Double.parseDouble(httpGetLine(format(GET_URL_FORMAT, a, b)));\r\n        } catch (IOException | NumberFormatException ex) {\r\n          return -1.0;\r\n        }\r\n      }\r\n\r\n      public static void test(String target) throws IOException {\r\n        System.out.println(&quot;Target: &quot; + target);\r\n        Arrays.stream(DICT)\r\n            .collect(toMap(identity(), word -&gt; getSimilarity(target, word)))\r\n            .entrySet().stream()\r\n            .sorted((a, b) -&gt; Double.compare(b.getValue(), a.getValue()))\r\n            .forEach(System.out::println);\r\n        System.out.println();\r\n      }\r\n\r\n      public static void main(String[] args) throws Exception {\r\n        test(&quot;sheep&quot;);\r\n        test(&quot;vehicle&quot;);\r\n        test(&quot;house&quot;);\r\n        test(&quot;data&quot;);\r\n        test(&quot;girlfriend&quot;);\r\n      }\r\n    }\r\n\r\nThe results are kind of fascinating:\r\n\r\n    Target: sheep\r\n    ranch=0.38563728\r\n    cat=0.37816614\r\n    wool=0.36558008\r\n    question=0.047607\r\n    girl=0.0388761\r\n    information=0.027191084\r\n    drawing=0.0039623436\r\n    tank=0.0\r\n    building=0.0\r\n    gear=0.0\r\n\r\n    Target: vehicle\r\n    tank=0.65860236\r\n    gear=0.2673374\r\n    building=0.20197356\r\n    cat=0.06057514\r\n    information=0.041832563\r\n    ranch=0.017701812\r\n    question=0.017145569\r\n    girl=0.010708235\r\n    wool=0.0\r\n    drawing=0.0\r\n\r\n    Target: house\r\n    building=1.0\r\n    ranch=0.104496084\r\n    tank=0.103863\r\n    wool=0.059761923\r\n    girl=0.056549154\r\n    drawing=0.04310725\r\n    cat=0.0418914\r\n    gear=0.026439993\r\n    information=0.020329408\r\n    question=0.0012588014\r\n\r\n    Target: data\r\n    information=0.9924584\r\n    question=0.03476312\r\n    gear=0.029112043\r\n    wool=0.019744944\r\n    tank=0.014537057\r\n    drawing=0.013742204\r\n    ranch=0.0\r\n    cat=0.0\r\n    girl=0.0\r\n    building=0.0\r\n  \r\n    Target: girlfriend\r\n    girl=0.70060706\r\n    ranch=0.11062875\r\n    cat=0.09766617\r\n    gear=0.04835723\r\n    information=0.02449007\r\n    wool=0.0\r\n    question=0.0\r\n    drawing=0.0\r\n    tank=0.0\r\n    building=0.0\r\n\r\n\r\n  [1]: http://swoogle.umbc.edu/SimService/index.html","title":"Improving search result using Levenshtein distance in Java","body":"<p>Since you asked, I'll show how the <a href=\"http://swoogle.umbc.edu/SimService/index.html\" rel=\"nofollow noreferrer\">UMBC semantic network</a> can do at this kind of thing. Not sure it's what you really want:</p>\n\n<pre><code>import static java.lang.String.format;\nimport static java.util.Comparator.comparingDouble;\nimport static java.util.stream.Collectors.toMap;\nimport static java.util.function.Function.identity;\n\nimport java.util.Map.Entry;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.Arrays;\nimport java.util.regex.Pattern;\n\npublic class SemanticSimilarity {\n  private static final String GET_URL_FORMAT\n      = \"http://swoogle.umbc.edu/SimService/GetSimilarity?\"\n          + \"operation=api&amp;phrase1=%s&amp;phrase2=%s\";\n  private static final Pattern VALID_WORD_PATTERN = Pattern.compile(\"\\\\w+\");\n  private static final String[] DICT = {\n    \"cat\",\n    \"building\",\n    \"girl\",\n    \"ranch\",\n    \"drawing\",\n    \"wool\",\n    \"gear\",\n    \"question\",\n    \"information\",\n    \"tank\" \n  };\n\n  public static String httpGetLine(String urlToRead) throws IOException {\n    URL url = new URL(urlToRead);\n    HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n    conn.setRequestMethod(\"GET\");\n    try (BufferedReader reader = new BufferedReader(\n        new InputStreamReader(conn.getInputStream()))) {\n      return reader.readLine();\n    }\n  }\n\n  public static double getSimilarity(String a, String b) {\n    if (!VALID_WORD_PATTERN.matcher(a).matches()\n        || !VALID_WORD_PATTERN.matcher(b).matches()) {\n      throw new RuntimeException(\"Bad word\");\n    }\n    try {\n      return Double.parseDouble(httpGetLine(format(GET_URL_FORMAT, a, b)));\n    } catch (IOException | NumberFormatException ex) {\n      return -1.0;\n    }\n  }\n\n  public static void test(String target) throws IOException {\n    System.out.println(\"Target: \" + target);\n    Arrays.stream(DICT)\n        .collect(toMap(identity(), word -&gt; getSimilarity(target, word)))\n        .entrySet().stream()\n        .sorted((a, b) -&gt; Double.compare(b.getValue(), a.getValue()))\n        .forEach(System.out::println);\n    System.out.println();\n  }\n\n  public static void main(String[] args) throws Exception {\n    test(\"sheep\");\n    test(\"vehicle\");\n    test(\"house\");\n    test(\"data\");\n    test(\"girlfriend\");\n  }\n}\n</code></pre>\n\n<p>The results are kind of fascinating:</p>\n\n<pre><code>Target: sheep\nranch=0.38563728\ncat=0.37816614\nwool=0.36558008\nquestion=0.047607\ngirl=0.0388761\ninformation=0.027191084\ndrawing=0.0039623436\ntank=0.0\nbuilding=0.0\ngear=0.0\n\nTarget: vehicle\ntank=0.65860236\ngear=0.2673374\nbuilding=0.20197356\ncat=0.06057514\ninformation=0.041832563\nranch=0.017701812\nquestion=0.017145569\ngirl=0.010708235\nwool=0.0\ndrawing=0.0\n\nTarget: house\nbuilding=1.0\nranch=0.104496084\ntank=0.103863\nwool=0.059761923\ngirl=0.056549154\ndrawing=0.04310725\ncat=0.0418914\ngear=0.026439993\ninformation=0.020329408\nquestion=0.0012588014\n\nTarget: data\ninformation=0.9924584\nquestion=0.03476312\ngear=0.029112043\nwool=0.019744944\ntank=0.014537057\ndrawing=0.013742204\nranch=0.0\ncat=0.0\ngirl=0.0\nbuilding=0.0\n\nTarget: girlfriend\ngirl=0.70060706\nranch=0.11062875\ncat=0.09766617\ngear=0.04835723\ninformation=0.02449007\nwool=0.0\nquestion=0.0\ndrawing=0.0\ntank=0.0\nbuilding=0.0\n</code></pre>\n"}],"owner":{"account_id":3711000,"reputation":31801,"user_id":3088349,"accept_rate":100,"display_name":"Maytham Fahmi"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5745,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":41447725,"answer_count":5,"score":32,"last_activity_date":1679130147,"creation_date":1447606230,"question_id":33722217,"body_markdown":"I have the following working Java code for searching for a word against a list of words and it works perfectly and as expected:\r\n\r\n    public class Levenshtein {\r\n        private int[][] wordMartix;\r\n    \r\n        public Set similarExists(String searchWord) {\r\n    \r\n            int maxDistance = searchWord.length();\r\n            int curDistance;\r\n            int sumCurMax;\r\n            String checkWord;\r\n    \r\n            // preventing double words on returning list\r\n            Set&lt;String&gt; fuzzyWordList = new HashSet&lt;&gt;();\r\n    \r\n            for (Object wordList : Searcher.wordList) {\r\n                checkWord = String.valueOf(wordList);\r\n                curDistance = calculateDistance(searchWord, checkWord);\r\n                sumCurMax = maxDistance + curDistance;\r\n                if (sumCurMax == checkWord.length()) {\r\n                    fuzzyWordList.add(checkWord);\r\n                }\r\n            }\r\n            return fuzzyWordList;\r\n        }\r\n    \r\n        public int calculateDistance(String inputWord, String checkWord) {\r\n            wordMartix = new int[inputWord.length() + 1][checkWord.length() + 1];\r\n    \r\n            for (int i = 0; i &lt;= inputWord.length(); i++) {\r\n                wordMartix[i][0] = i;\r\n            }\r\n    \r\n            for (int j = 0; j &lt;= checkWord.length(); j++) {\r\n                wordMartix[0][j] = j;\r\n            }\r\n    \r\n            for (int i = 1; i &lt; wordMartix.length; i++) {\r\n                for (int j = 1; j &lt; wordMartix[i].length; j++) {\r\n                    if (inputWord.charAt(i - 1) == checkWord.charAt(j - 1)) {\r\n                        wordMartix[i][j] = wordMartix[i - 1][j - 1];\r\n                    } else {\r\n                        int minimum = Integer.MAX_VALUE;\r\n                        if ((wordMartix[i - 1][j]) + 1 &lt; minimum) {\r\n                            minimum = (wordMartix[i - 1][j]) + 1;\r\n                        }\r\n    \r\n                        if ((wordMartix[i][j - 1]) + 1 &lt; minimum) {\r\n                            minimum = (wordMartix[i][j - 1]) + 1;\r\n                        }\r\n    \r\n                        if ((wordMartix[i - 1][j - 1]) + 1 &lt; minimum) {\r\n                            minimum = (wordMartix[i - 1][j - 1]) + 1;\r\n                        }\r\n    \r\n                        wordMartix[i][j] = minimum;\r\n                    }\r\n                }\r\n            }\r\n    \r\n            return wordMartix[inputWord.length()][checkWord.length()];\r\n        }\r\n    \r\n    }\r\n\r\nRight now when I search for a word like `job` it returns a list:\r\n\r\n**Output**\r\n\r\n    joborienterede\r\n    jobannoncer\r\n    jobfunktioner\r\n    perjacobsen\r\n    jakobsen\r\n    jobprofiler\r\n    jacob\r\n    jobtitler\r\n    jobbet\r\n    jobdatabaserne\r\n    jobfunktion\r\n    jakob\r\n    jobs\r\n    studenterjobber\r\n    johannesburg\r\n    jobmuligheder\r\n    jobannoncerne\r\n    jobbaser\r\n    job\r\n    joberfaringer\r\n\r\nAs you can see the output has a lot of related words but has also non-related ones like `jakob`, `jacob` etc., which is correct regarding the Levenshtein formula, but I would like to build further and write a method that can fine-tune my search so I can get more relevant and related words.\r\n\r\nI have worked a few hours on it and lost sight of creativity.\r\n\r\n**My Question:** Is it possible to fine-tune the existing method to return relevant/related words Or should I take another approach Or??? in all cases YES or NO, I appreciated it if can get input and inspiration regarding improving searching results.\r\n\r\n&lt;hr&gt;\r\n\r\n**UPDATE**\r\n\r\nAfter asking this question a long time back I have not really found a solution and I am back to it because it is the time when I need a useful answer, **it is fine to supply the answer with JAVA code samples, but what is most important is a detailed answer with a description of available methods and approaches used to index best and most relevant search results and ignoring none appropriate words**. I know this is an open and endless area, but I need the inspiration to start somewhere.\r\n\r\n&gt; Note: The oldest answer right now is based on one of the comment inputs and is\r\n&gt; not helpful (useless), it just sorts the distance, which does not mean getting better search results/quality.\r\n\r\nSo I did distance sorting and the results was like this:\r\n\r\n    job\r\n    jobs\r\n    jacob\r\n    jakob\r\n    jobbet\r\n    jakobsen\r\n    jobbaser\r\n    jobtitler\r\n    jobannoncer\r\n    jobfunktion\r\n    jobprofiler\r\n    perjacobsen\r\n    johannesburg\r\n    jobannoncerne\r\n    joberfaringer\r\n    jobfunktioner\r\n    jobmuligheder\r\n    jobdatabaserne\r\n    joborienterede\r\n    studenterjobber\r\n\r\nso the word jobbaser is relevant and jacob/jakob is not relevant, but the distance for jobbaser is more considerable than jacob/jakob. So that did not really help.\r\n\r\n&lt;hr&gt;\r\n\r\n**General feedback regarding answers**\r\n\r\n- @SergioMontoro, it solves almost the problem.\r\n- @uSeemSurprised, it solves the problem but needs continual manipulation.\r\n- @Gene concept is excellent, but it is relaying on an external URL.\r\n\r\n&lt;hr&gt;\r\n\r\n**Thanks**\r\nI would like to personally thank all of you who contributed to this question, I have got nice answers and useful comments. \r\n\r\nSpecial thanks to answers from @SergioMontoro, @uSeemSurprised, and @Gene, those are different but valid and useful answers.\r\n\r\n@D.Kov&#225;cs is pointing out some interesting solutions.\r\n\r\nI wish I could give a bounty to all of those answers.\r\nChose one answer and give it a bounty, that does not mean the other answers are not valid, but that only means that the particular answer I chose was useful for me.\r\n\r\n\r\n","title":"Improving search result using Levenshtein distance in Java","body":"<p>I have the following working Java code for searching for a word against a list of words and it works perfectly and as expected:</p>\n<pre><code>public class Levenshtein {\n    private int[][] wordMartix;\n\n    public Set similarExists(String searchWord) {\n\n        int maxDistance = searchWord.length();\n        int curDistance;\n        int sumCurMax;\n        String checkWord;\n\n        // preventing double words on returning list\n        Set&lt;String&gt; fuzzyWordList = new HashSet&lt;&gt;();\n\n        for (Object wordList : Searcher.wordList) {\n            checkWord = String.valueOf(wordList);\n            curDistance = calculateDistance(searchWord, checkWord);\n            sumCurMax = maxDistance + curDistance;\n            if (sumCurMax == checkWord.length()) {\n                fuzzyWordList.add(checkWord);\n            }\n        }\n        return fuzzyWordList;\n    }\n\n    public int calculateDistance(String inputWord, String checkWord) {\n        wordMartix = new int[inputWord.length() + 1][checkWord.length() + 1];\n\n        for (int i = 0; i &lt;= inputWord.length(); i++) {\n            wordMartix[i][0] = i;\n        }\n\n        for (int j = 0; j &lt;= checkWord.length(); j++) {\n            wordMartix[0][j] = j;\n        }\n\n        for (int i = 1; i &lt; wordMartix.length; i++) {\n            for (int j = 1; j &lt; wordMartix[i].length; j++) {\n                if (inputWord.charAt(i - 1) == checkWord.charAt(j - 1)) {\n                    wordMartix[i][j] = wordMartix[i - 1][j - 1];\n                } else {\n                    int minimum = Integer.MAX_VALUE;\n                    if ((wordMartix[i - 1][j]) + 1 &lt; minimum) {\n                        minimum = (wordMartix[i - 1][j]) + 1;\n                    }\n\n                    if ((wordMartix[i][j - 1]) + 1 &lt; minimum) {\n                        minimum = (wordMartix[i][j - 1]) + 1;\n                    }\n\n                    if ((wordMartix[i - 1][j - 1]) + 1 &lt; minimum) {\n                        minimum = (wordMartix[i - 1][j - 1]) + 1;\n                    }\n\n                    wordMartix[i][j] = minimum;\n                }\n            }\n        }\n\n        return wordMartix[inputWord.length()][checkWord.length()];\n    }\n\n}\n</code></pre>\n<p>Right now when I search for a word like <code>job</code> it returns a list:</p>\n<p><strong>Output</strong></p>\n<pre><code>joborienterede\njobannoncer\njobfunktioner\nperjacobsen\njakobsen\njobprofiler\njacob\njobtitler\njobbet\njobdatabaserne\njobfunktion\njakob\njobs\nstudenterjobber\njohannesburg\njobmuligheder\njobannoncerne\njobbaser\njob\njoberfaringer\n</code></pre>\n<p>As you can see the output has a lot of related words but has also non-related ones like <code>jakob</code>, <code>jacob</code> etc., which is correct regarding the Levenshtein formula, but I would like to build further and write a method that can fine-tune my search so I can get more relevant and related words.</p>\n<p>I have worked a few hours on it and lost sight of creativity.</p>\n<p><strong>My Question:</strong> Is it possible to fine-tune the existing method to return relevant/related words Or should I take another approach Or??? in all cases YES or NO, I appreciated it if can get input and inspiration regarding improving searching results.</p>\n<hr>\n<p><strong>UPDATE</strong></p>\n<p>After asking this question a long time back I have not really found a solution and I am back to it because it is the time when I need a useful answer, <strong>it is fine to supply the answer with JAVA code samples, but what is most important is a detailed answer with a description of available methods and approaches used to index best and most relevant search results and ignoring none appropriate words</strong>. I know this is an open and endless area, but I need the inspiration to start somewhere.</p>\n<blockquote>\n<p>Note: The oldest answer right now is based on one of the comment inputs and is\nnot helpful (useless), it just sorts the distance, which does not mean getting better search results/quality.</p>\n</blockquote>\n<p>So I did distance sorting and the results was like this:</p>\n<pre><code>job\njobs\njacob\njakob\njobbet\njakobsen\njobbaser\njobtitler\njobannoncer\njobfunktion\njobprofiler\nperjacobsen\njohannesburg\njobannoncerne\njoberfaringer\njobfunktioner\njobmuligheder\njobdatabaserne\njoborienterede\nstudenterjobber\n</code></pre>\n<p>so the word jobbaser is relevant and jacob/jakob is not relevant, but the distance for jobbaser is more considerable than jacob/jakob. So that did not really help.</p>\n<hr>\n<p><strong>General feedback regarding answers</strong></p>\n<ul>\n<li>@SergioMontoro, it solves almost the problem.</li>\n<li>@uSeemSurprised, it solves the problem but needs continual manipulation.</li>\n<li>@Gene concept is excellent, but it is relaying on an external URL.</li>\n</ul>\n<hr>\n<p><strong>Thanks</strong>\nI would like to personally thank all of you who contributed to this question, I have got nice answers and useful comments.</p>\n<p>Special thanks to answers from @SergioMontoro, @uSeemSurprised, and @Gene, those are different but valid and useful answers.</p>\n<p>@D.Kovcs is pointing out some interesting solutions.</p>\n<p>I wish I could give a bounty to all of those answers.\nChose one answer and give it a bounty, that does not mean the other answers are not valid, but that only means that the particular answer I chose was useful for me.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1679129352,"post_id":75774726,"comment_id":133668569,"body_markdown":"Try `.flatMap()` instead of `map`, that&#39;ll flatten the results down to just one Set of Strings","body":"Try <code>.flatMap()</code> instead of <code>map</code>, that&#39;ll flatten the results down to just one Set of Strings"},{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1679129718,"post_id":75774726,"comment_id":133668615,"body_markdown":"@SIMULATAN would appreciate if you can post answer showing how?","body":"@SIMULATAN would appreciate if you can post answer showing how?"}],"answers":[{"comments":[{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1679130277,"post_id":75774802,"comment_id":133668703,"body_markdown":"Thank you, there is a problem I just noticed that NavigableSet&lt;String&gt; is not compatible with Set&lt;String&gt;, do you know if there is a way to make the Collector return NavigableSet? If not it is okay I will just use Set&lt;String&gt;, think im not losing anything from the NavigableSet, was using it mostly for the thread safety with the ConcurrentSkipListSet, but I believe Collectors will take care of thread safety","body":"Thank you, there is a problem I just noticed that NavigableSet&lt;String&gt; is not compatible with Set&lt;String&gt;, do you know if there is a way to make the Collector return NavigableSet? If not it is okay I will just use Set&lt;String&gt;, think im not losing anything from the NavigableSet, was using it mostly for the thread safety with the ConcurrentSkipListSet, but I believe Collectors will take care of thread safety"},{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":1,"creation_date":1679131282,"post_id":75774802,"comment_id":133668831,"body_markdown":"In that case, use `Collectors.toCollection(NavigableSet::new)` (but make sure to actually use your *implementation*, not the *interface*).","body":"In that case, use <code>Collectors.toCollection(NavigableSet::new)</code> (but make sure to actually use your <i>implementation</i>, not the <i>interface</i>)."},{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":1,"creation_date":1679131427,"post_id":75774802,"comment_id":133668850,"body_markdown":"Thank you, yes it worked: Collectors.toCollection(ConcurrentSkipListSet&lt;String&gt;::new)","body":"Thank you, yes it worked: Collectors.toCollection(ConcurrentSkipListSet&lt;String&gt;::new)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1679306983,"post_id":75774802,"comment_id":133691756,"body_markdown":"@BugsOverflow do you really need a `ConcurrentSkipListSet` or would a plain `TreeSet` also do?","body":"@BugsOverflow do you really need a <code>ConcurrentSkipListSet</code> or would a plain <code>TreeSet</code> also do?"},{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1679432505,"post_id":75774802,"comment_id":133720935,"body_markdown":"@Holger I think TreeSet would also work with this approach, because Collectors is taking care of the thread safeness, the only reason I was using ConcurrentSkipListSet is because of the Thread safe attribute it has when doing the inserts while using parallelStream","body":"@Holger I think TreeSet would also work with this approach, because Collectors is taking care of the thread safeness, the only reason I was using ConcurrentSkipListSet is because of the Thread safe attribute it has when doing the inserts while using parallelStream"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1679471236,"post_id":75774802,"comment_id":133726025,"body_markdown":"@BugsOverflow thats why I asked. If you dont need thread safety after the stream operation, you can use `Collectors.toCollection(TreeSet::new)`. The collector doesnt have the [`CONCURRENT`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.Characteristics.html#CONCURRENT) characteristic, so it wouldnt exploit concurrency abilities of a `ConcurrentSkipListSet` during the Stream operation anyway. Youd have to construct your own collector (or use `toConcurrentMap` and take the `keySet` afterwards) if you want to collect concurrently.","body":"@BugsOverflow thats why I asked. If you dont need thread safety after the stream operation, you can use <code>Collectors.toCollection(TreeSet::new)</code>. The collector doesnt have the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.Characteristics.html#CONCURRENT\" rel=\"nofollow noreferrer\"><code>CONCURRENT</code></a> characteristic, so it wouldnt exploit concurrency abilities of a <code>ConcurrentSkipListSet</code> during the Stream operation anyway. Youd have to construct your own collector (or use <code>toConcurrentMap</code> and take the <code>keySet</code> afterwards) if you want to collect concurrently."}],"tags":[],"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679129851,"creation_date":1679129851,"answer_id":75774802,"question_id":75774726,"body_markdown":"Try this:\r\n```java\r\ntrees.parallelStream()\r\n  .flatMap(tree -&gt; tree.getNodes().stream().map(node -&gt; node.getId() + node.getVersion()))\r\n  .collect(Collectors.toSet());\r\n```\r\n\r\nThat will flatten down the result from the `map` to have all results in one long `Set` rather than in a `Set` of `Stream`s.","title":"How could I properly Collect a Set&lt;String&gt; by using streams and map in this operation?","body":"<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>trees.parallelStream()\n  .flatMap(tree -&gt; tree.getNodes().stream().map(node -&gt; node.getId() + node.getVersion()))\n  .collect(Collectors.toSet());\n</code></pre>\n<p>That will flatten down the result from the <code>map</code> to have all results in one long <code>Set</code> rather than in a <code>Set</code> of <code>Stream</code>s.</p>\n"}],"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75774802,"answer_count":1,"score":0,"last_activity_date":1679129851,"creation_date":1679129017,"question_id":75774726,"body_markdown":"I think I can make this simplier but can not figure out how to properly use .map() here and then Collect to a Set, can you help?\r\n\r\nI am using parallel stream so that this operation is done faster, each tree has nodes but I just want all their names without repeating (using Set&lt;String&gt;)... The nodeName is composed of the id+version\r\n\r\n**My working code which correctly returns `Set&lt;String&gt;`:**\r\n\r\n\t// Set for not repeating node names between trees\r\n\tNavigableSet&lt;String&gt; nodeNames = new ConcurrentSkipListSet&lt;&gt;();\r\n\ttrees.parallelStream().forEach(\r\n\t\t\ttree -&gt; tree.getNodes().forEach(node -&gt; nodeNames.add(node.getId() + node.getVersion())));\r\n\r\n**I was trying the following to achieve .map() usage:**\r\n\r\n\t\r\n\r\n    trees.parallelStream()\r\n    \t\t\t.map(tree -&gt; tree.getNodes().stream().map(node -&gt; node.getId() + node.getVersion()))\r\n    \t\t\t.collect(Collectors.toSet());\r\n\r\nBut the collection returned is `Set&lt;Stream&lt;String&gt;&gt;`, I need `Set&lt;String&gt;`","title":"How could I properly Collect a Set&lt;String&gt; by using streams and map in this operation?","body":"<p>I think I can make this simplier but can not figure out how to properly use .map() here and then Collect to a Set, can you help?</p>\n<p>I am using parallel stream so that this operation is done faster, each tree has nodes but I just want all their names without repeating (using Set)... The nodeName is composed of the id+version</p>\n<p><strong>My working code which correctly returns <code>Set&lt;String&gt;</code>:</strong></p>\n<pre><code>// Set for not repeating node names between trees\nNavigableSet&lt;String&gt; nodeNames = new ConcurrentSkipListSet&lt;&gt;();\ntrees.parallelStream().forEach(\n        tree -&gt; tree.getNodes().forEach(node -&gt; nodeNames.add(node.getId() + node.getVersion())));\n</code></pre>\n<p><strong>I was trying the following to achieve .map() usage:</strong></p>\n<pre><code>trees.parallelStream()\n            .map(tree -&gt; tree.getNodes().stream().map(node -&gt; node.getId() + node.getVersion()))\n            .collect(Collectors.toSet());\n</code></pre>\n<p>But the collection returned is <code>Set&lt;Stream&lt;String&gt;&gt;</code>, I need <code>Set&lt;String&gt;</code></p>\n"},{"tags":["java","amazon-web-services","sdk","amazon-sqs","aws-sqs-fifo"],"owner":{"account_id":7530503,"reputation":33,"user_id":5718912,"display_name":"Keerthi Kumar S G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679129041,"creation_date":1679129041,"question_id":75774731,"body_markdown":"I&#39;m trying to migrate my codebase, from aws sqs v1 sdk to aws sqs v2 sdk. \r\n\r\nHere&#39;s my old code. \r\n```\r\nCompletableFuture&lt;String&gt; sendMessage(String url, String message){\r\n\r\n       CompletableFuture&lt;SendMessageResult&gt; future = new CompletableFuture&lt;&gt;();\r\n\r\n       amazonSQSAsync.sendMessageAsync(url, message, new ResponseHandler.SendMessageHandler(future));\r\n       // this responseHandler simply completes the future on success.\r\n\r\n       return future.thenApply(\r\n           x-&gt; \r\n           {\r\n              return x.getMessageId();\r\n           }\r\n        );\r\n}\r\n```\r\n\r\nHere&#39;s my new code.\r\n``` \r\nCompletableFuture&lt;String&gt; sendMessage(String url, String message){\r\n\r\n     SendMessageRequest sendMessageRequest = \r\n             SendMessageRequest\r\n               .builder()\r\n               .queueUrl(url)\r\n               .messageBody(message)\r\n               .build();\r\n\r\n    CompletableFuture&lt;SendMessageResponse&gt; sendMessageResponseCompletableFuture =\r\n        sqsAsyncClient.sendMessage(sendMessageRequest);\r\n    return sendMessageResponseCompletableFuture.thenApply(\r\n      x -&gt; {\r\n        return x.messageId();\r\n      }\r\n    );\r\n}\r\n```\r\n\r\nHere&#39;s my initialisation of v1 and v2 clients.\r\n\r\nV1\r\n```\r\n  return AmazonSQSAsyncClientBuilder\r\n        .standard()\r\n        .withRegion(cloudRegion)\r\n        .withCredentials(credentialsProvider)\r\n        .withExecutorFactory(() -&gt; executor).build();\r\n```\r\n\r\nV2 \r\n```\r\nreturn SqsAsyncClient\r\n        .builder()\r\n        .region(Region.of(cloudRegion))\r\n        .credentialsProvider(credentialsProvider)\r\n        .httpClientBuilder(\r\n            NettyNioAsyncHttpClient.builder().maxConcurrency(100).connectionTimeout(\r\n                Duration.ofMinutes(5)\r\n            ))\r\n        .build();\r\n```\r\n\r\nWith V1 I&#39;ve tried pushing 2k messages/second, and it worked fine (In fact I can push more also). Whereas, with V2 I&#39;m only able to push ~700 messages/second. \r\n\r\nI know that sqs v2 performance cannot go down compared to sqs v1. But I&#39;m doing something wrong, and not able to find out what it is..\r\n\r\nAny help is really appreciated. ","title":"AWS JAVA SDK V2 decreasing the queue push performance?","body":"<p>I'm trying to migrate my codebase, from aws sqs v1 sdk to aws sqs v2 sdk.</p>\n<p>Here's my old code.</p>\n<pre><code>CompletableFuture&lt;String&gt; sendMessage(String url, String message){\n\n       CompletableFuture&lt;SendMessageResult&gt; future = new CompletableFuture&lt;&gt;();\n\n       amazonSQSAsync.sendMessageAsync(url, message, new ResponseHandler.SendMessageHandler(future));\n       // this responseHandler simply completes the future on success.\n\n       return future.thenApply(\n           x-&gt; \n           {\n              return x.getMessageId();\n           }\n        );\n}\n</code></pre>\n<p>Here's my new code.</p>\n<pre><code>CompletableFuture&lt;String&gt; sendMessage(String url, String message){\n\n     SendMessageRequest sendMessageRequest = \n             SendMessageRequest\n               .builder()\n               .queueUrl(url)\n               .messageBody(message)\n               .build();\n\n    CompletableFuture&lt;SendMessageResponse&gt; sendMessageResponseCompletableFuture =\n        sqsAsyncClient.sendMessage(sendMessageRequest);\n    return sendMessageResponseCompletableFuture.thenApply(\n      x -&gt; {\n        return x.messageId();\n      }\n    );\n}\n</code></pre>\n<p>Here's my initialisation of v1 and v2 clients.</p>\n<p>V1</p>\n<pre><code>  return AmazonSQSAsyncClientBuilder\n        .standard()\n        .withRegion(cloudRegion)\n        .withCredentials(credentialsProvider)\n        .withExecutorFactory(() -&gt; executor).build();\n</code></pre>\n<p>V2</p>\n<pre><code>return SqsAsyncClient\n        .builder()\n        .region(Region.of(cloudRegion))\n        .credentialsProvider(credentialsProvider)\n        .httpClientBuilder(\n            NettyNioAsyncHttpClient.builder().maxConcurrency(100).connectionTimeout(\n                Duration.ofMinutes(5)\n            ))\n        .build();\n</code></pre>\n<p>With V1 I've tried pushing 2k messages/second, and it worked fine (In fact I can push more also). Whereas, with V2 I'm only able to push ~700 messages/second.</p>\n<p>I know that sqs v2 performance cannot go down compared to sqs v1. But I'm doing something wrong, and not able to find out what it is..</p>\n<p>Any help is really appreciated.</p>\n"},{"tags":["java","jsp","jdbc"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679145824,"post_id":75774678,"comment_id":133670979,"body_markdown":"(1) I guess your connection is null.\nYou are using `connection.createStatement()` without first checking whether the connection is null. (2) `Connection connection = DatabaseConnection.getConnection();\nif (connection == null) System.err.println(&quot;connection is null&quot;);\nStatement statement = connection.createStatement();` (3) `if (connection == null) System.err.println(&quot;connection is null&quot;);` is only for debug.","body":"(1) I guess your connection is null. You are using <code>connection.createStatement()</code> without first checking whether the connection is null. (2) <code>Connection connection = DatabaseConnection.getConnection(); if (connection == null) System.err.println(&quot;connection is null&quot;); Statement statement = connection.createStatement();</code> (3) <code>if (connection == null) System.err.println(&quot;connection is null&quot;);</code> is only for debug."}],"owner":{"account_id":28045052,"reputation":1,"user_id":21421979,"display_name":"achiever17"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679163939,"answer_count":0,"score":0,"last_activity_date":1679128695,"creation_date":1679128247,"question_id":75774678,"body_markdown":"I&#39;m getting this error..\r\n\r\n```lang-none\r\nexception   \r\norg.apache.jasper.JasperException: An exception occurred processing [/admin-login.jsp] at line [52]\r\n\r\n49:                                 &lt;%\r\n50:                                     //Connecting to the database\r\n51:                                     Connection connection = DatabaseConnection.getConnection();\r\n52:                                     Statement statement = connection.createStatement();\r\n53:                                     String credential = (String) session.getAttribute(&quot;credential&quot;);\r\n54:                                     //Checking creditionals whether there are null or not\r\n55:                                     if (credential != null) {\r\n\r\n\r\n\r\nStacktrace:\r\n\torg.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:610)\r\n\torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:499)\r\n\torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379)\r\n\torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:327)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:596)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n```","title":"The server encountered an unexpected condition that prevented it from fulfilling the request. why am i getting this error","body":"<p>I'm getting this error..</p>\n<pre class=\"lang-none prettyprint-override\"><code>exception   \norg.apache.jasper.JasperException: An exception occurred processing [/admin-login.jsp] at line [52]\n\n49:                                 &lt;%\n50:                                     //Connecting to the database\n51:                                     Connection connection = DatabaseConnection.getConnection();\n52:                                     Statement statement = connection.createStatement();\n53:                                     String credential = (String) session.getAttribute(&quot;credential&quot;);\n54:                                     //Checking creditionals whether there are null or not\n55:                                     if (credential != null) {\n\n\n\nStacktrace:\n    org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:610)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:499)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:327)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:596)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679127185,"post_id":75774093,"comment_id":133668360,"body_markdown":"This is not an address, it is the the type identifier (`[I` for an `int[]`, followed by @, followed by an identity hashcode. In theory an identity hashcode could be derived from a memory address, but in practice, Java garbage collectors move objects around in memory, so using a memory address wouldn&#39;t make sense (it either wouldn&#39;t be stable, or if the initial location was used, it would easily lead to duplicate identity hashcodes).","body":"This is not an address, it is the the type identifier (<code>[I</code> for an <code>int[]</code>, followed by @, followed by an identity hashcode. In theory an identity hashcode could be derived from a memory address, but in practice, Java garbage collectors move objects around in memory, so using a memory address wouldn&#39;t make sense (it either wouldn&#39;t be stable, or if the initial location was used, it would easily lead to duplicate identity hashcodes)."}],"owner":{"account_id":28048001,"reputation":1,"user_id":21424411,"display_name":"Rupnar Dutta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679118910,"answer_count":0,"score":0,"last_activity_date":1679127381,"creation_date":1679118822,"question_id":75774093,"body_markdown":"When compiling this below code I&#39;m receiving this output. I&#39;m not sure where I&#39;m making the mistake as the output should be the content of the array rather than its address. Appreciate any help!!\r\n\r\n\r\n```\r\nimport java.util.*;\r\npublic class insert_intervals{\r\n    public static void main(String[] args) {\r\n        int[][] intervals = {{1, 3} , {6 , 9}};\r\n        int[] newInterval = {2, 5};\r\n        List&lt;int[]&gt; ans = new ArrayList&lt;&gt;();\r\n        int newBegin = newInterval[0];\r\n        int newEnd = newInterval[1];\r\n\r\n        for(int[] interval : intervals){\r\n            int currentBegin = interval[0];\r\n            int currentEnd = interval[1];\r\n\r\n            if((currentBegin &lt; newBegin &amp;&amp; currentEnd &lt; newEnd) || (currentBegin &gt; newBegin &amp;&amp; currentEnd &gt; newEnd)){\r\n                ans.add(interval);\r\n            }else if(currentEnd &gt;= newBegin){\r\n                newBegin = Math.min(currentBegin, newBegin);\r\n                newEnd = Math.max(currentEnd, newEnd);\r\n                int[] arr = {newBegin, newEnd};\r\n                ans.add(arr);\r\n            }\r\n        }\r\n        for(int[] ar : ans){\r\n            System.out.println(ar);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nOutput : \r\n[I@2c7b84de\r\n[I@3fee733d\r\n\r\nI tried to get the elements of the array using for each loop but it provides me the address of the array. I have tried in online compilers as well and receiving similar output. ","title":"println(array) prints the address of the element rather than the element","body":"<p>When compiling this below code I'm receiving this output. I'm not sure where I'm making the mistake as the output should be the content of the array rather than its address. Appreciate any help!!</p>\n<pre><code>import java.util.*;\npublic class insert_intervals{\n    public static void main(String[] args) {\n        int[][] intervals = {{1, 3} , {6 , 9}};\n        int[] newInterval = {2, 5};\n        List&lt;int[]&gt; ans = new ArrayList&lt;&gt;();\n        int newBegin = newInterval[0];\n        int newEnd = newInterval[1];\n\n        for(int[] interval : intervals){\n            int currentBegin = interval[0];\n            int currentEnd = interval[1];\n\n            if((currentBegin &lt; newBegin &amp;&amp; currentEnd &lt; newEnd) || (currentBegin &gt; newBegin &amp;&amp; currentEnd &gt; newEnd)){\n                ans.add(interval);\n            }else if(currentEnd &gt;= newBegin){\n                newBegin = Math.min(currentBegin, newBegin);\n                newEnd = Math.max(currentEnd, newEnd);\n                int[] arr = {newBegin, newEnd};\n                ans.add(arr);\n            }\n        }\n        for(int[] ar : ans){\n            System.out.println(ar);\n        }\n    }\n}\n</code></pre>\n<p>Output :\n[I@2c7b84de\n[I@3fee733d</p>\n<p>I tried to get the elements of the array using for each loop but it provides me the address of the array. I have tried in online compilers as well and receiving similar output.</p>\n"},{"tags":["java","multithreading","java.util.concurrent","completable-future"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1679118734,"post_id":75774030,"comment_id":133667651,"body_markdown":"The `supplyAsync` overload that _does not_ accept an `Executor` executes the given `Supplier` using the common `ForkJoinPool`. Then `acceptEither`, as stated by the documentation you linked, will execute the `Consumer` using the thread that completed one of the two previous stages or the caller thread.","body":"The <code>supplyAsync</code> overload that <i>does not</i> accept an <code>Executor</code> executes the given <code>Supplier</code> using the common <code>ForkJoinPool</code>. Then <code>acceptEither</code>, as stated by the documentation you linked, will execute the <code>Consumer</code> using the thread that completed one of the two previous stages or the caller thread."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1679118939,"post_id":75774030,"comment_id":133667669,"body_markdown":"In other words, the &quot;actions&quot; talked about in that documentation is not, in the context of `acceptEither`, the other `CompletableFuture` but rather the `Consumer`.","body":"In other words, the &quot;actions&quot; talked about in that documentation is not, in the context of <code>acceptEither</code>, the other <code>CompletableFuture</code> but rather the <code>Consumer</code>."},{"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"score":0,"creation_date":1679118964,"post_id":75774030,"comment_id":133667670,"body_markdown":"@slaw the pauses are commented and hence I removed them now","body":"@slaw the pauses are commented and hence I removed them now"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679119055,"post_id":75774030,"comment_id":133667681,"body_markdown":"I ended up deleting that part of my comment. Regardless, &quot;stage 2&quot; is executed on &quot;worker-5&quot; because you&#39;ve told it to be executed by one of the threads in the common `ForkJoinPool` by using `#supplyAsync(Supplier)`.","body":"I ended up deleting that part of my comment. Regardless, &quot;stage 2&quot; is executed on &quot;worker-5&quot; because you&#39;ve told it to be executed by one of the threads in the common <code>ForkJoinPool</code> by using <code>#supplyAsync(Supplier)</code>."},{"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"score":0,"creation_date":1679119260,"post_id":75774030,"comment_id":133667697,"body_markdown":"@Slaw i am not bothered about `supplyAsync` i.e stage1 and `consumer` thread. I am more concerned about `acceptEither` i.e stage2 thread.","body":"@Slaw i am not bothered about <code>supplyAsync</code> i.e stage1 and <code>consumer</code> thread. I am more concerned about <code>acceptEither</code> i.e stage2 thread."},{"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"score":0,"creation_date":1679119447,"post_id":75774030,"comment_id":133667713,"body_markdown":"@Slaw -  You(slaw) said, `you&#39;ve told it to be executed by one of the thread in the common ForkJoinPool`.  &lt;-  by using `supplyAsync` i.e stage1 which got executed in worker-3, I can only infer that subsequent non Async stages can get executed in `main` or `worker-3` but not from the thread pool of which `worker-3` is part of.","body":"@Slaw -  You(slaw) said, <code>you&#39;ve told it to be executed by one of the thread in the common ForkJoinPool</code>.  &lt;-  by using <code>supplyAsync</code> i.e stage1 which got executed in worker-3, I can only infer that subsequent non Async stages can get executed in <code>main</code> or <code>worker-3</code> but not from the thread pool of which <code>worker-3</code> is part of."}],"answers":[{"comments":[{"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"score":0,"creation_date":1679120197,"post_id":75774144,"comment_id":133667756,"body_markdown":"`You used &#39;supplyAsync&#39; *again*, which means the &#39;Supplier&#39; will be executed\nusing the common ForkJoinPool`. I should have considered this. +1 thanks.","body":"<code>You used &#39;supplyAsync&#39; *again*, which means the &#39;Supplier&#39; will be executed using the common ForkJoinPool</code>. I should have considered this. +1 thanks."}],"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679120482,"creation_date":1679119872,"answer_id":75774144,"question_id":75774030,"body_markdown":"This might be clearer if you don&#39;t do everything inline. For example:\r\n\r\n```lang-java\r\n// You used &#39;supplyAsync&#39;, which means the &#39;Supplier&#39; will be executed\r\n// using the common ForkJoinPool (any available thread from that pool)\r\nCompletableFuture&lt;Integer&gt; stage1 = CompletableFuture.supplyAsync(() -&gt; {\r\n    System.out.println(&quot;Stage 1: &quot; + Thread.currentThread().getName());\r\n    return 40;\r\n});\r\n\r\n// You used &#39;supplyAsync&#39; *again*, which means the &#39;Supplier&#39; will be executed\r\n// using the common ForkJoinPool (any available thread from that pool)\r\nCompletableFuture&lt;Integer&gt; stage2 = CompletableFuture.supplyAsync(() -&gt; {\r\n    System.out.println(&quot;Stage 2: &quot; + Thread.currentThread().getName());\r\n    return 80;\r\n});\r\n\r\n/*\r\n * Both &#39;stage1&#39; and &#39;stage2&#39; have been set to execute using the common\r\n * ForkJoinPool. The use of &#39;acceptEither&#39;, or even &#39;acceptEitherAsync&#39;,\r\n * has no bearing on that. Because you used &#39;acceptEither&#39;, the\r\n * **CONSUMER** will be executed by the same thread which finished &#39;stage1&#39;\r\n * or the same thread that finished &#39;stage2&#39;, whichever happens first,\r\n * or the caller thread (typically if &#39;stage1&#39; and/or &#39;stage2&#39; are already\r\n * complete by the time &#39;acceptEither&#39; is invoked).\r\n */\r\nstage1.acceptEither(stage2, result -&gt; {\r\n    System.out.println(&quot;Stage acceptEither: &quot; + Thread.currentThread().getName());\r\n    System.out.println(&quot;Result = &quot; + result);\r\n});\r\n```\r\n\r\nNote: `supplyAsync` has an overload that accepts an `Executor`, allowing you to specify a thread pool other than the common `ForkJoinPool`. The same is true for all the `xxxAsync` methods.","title":"what is the difference between CompletableFuture methods acceptEither vs acceptEitherAsync?","body":"<p>This might be clearer if you don't do everything inline. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// You used 'supplyAsync', which means the 'Supplier' will be executed\n// using the common ForkJoinPool (any available thread from that pool)\nCompletableFuture&lt;Integer&gt; stage1 = CompletableFuture.supplyAsync(() -&gt; {\n    System.out.println(&quot;Stage 1: &quot; + Thread.currentThread().getName());\n    return 40;\n});\n\n// You used 'supplyAsync' *again*, which means the 'Supplier' will be executed\n// using the common ForkJoinPool (any available thread from that pool)\nCompletableFuture&lt;Integer&gt; stage2 = CompletableFuture.supplyAsync(() -&gt; {\n    System.out.println(&quot;Stage 2: &quot; + Thread.currentThread().getName());\n    return 80;\n});\n\n/*\n * Both 'stage1' and 'stage2' have been set to execute using the common\n * ForkJoinPool. The use of 'acceptEither', or even 'acceptEitherAsync',\n * has no bearing on that. Because you used 'acceptEither', the\n * **CONSUMER** will be executed by the same thread which finished 'stage1'\n * or the same thread that finished 'stage2', whichever happens first,\n * or the caller thread (typically if 'stage1' and/or 'stage2' are already\n * complete by the time 'acceptEither' is invoked).\n */\nstage1.acceptEither(stage2, result -&gt; {\n    System.out.println(&quot;Stage acceptEither: &quot; + Thread.currentThread().getName());\n    System.out.println(&quot;Result = &quot; + result);\n});\n</code></pre>\n<p>Note: <code>supplyAsync</code> has an overload that accepts an <code>Executor</code>, allowing you to specify a thread pool other than the common <code>ForkJoinPool</code>. The same is true for all the <code>xxxAsync</code> methods.</p>\n"}],"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75774144,"answer_count":1,"score":0,"last_activity_date":1679126936,"creation_date":1679117325,"question_id":75774030,"body_markdown":"For example - \r\n\r\n    CompletableFuture.supplyAsync(stage1).acceptEither(stage2, consumer );\r\n\r\nstage1 and stage2 are supposed to run in parallel in above code as it is using `acceptEither`\r\n\r\nIf I change to `acceptEitherAsync`, i see I can get more control over which thread (thread from ForkJoin pool or thread from custom executor pool) runs stage2. \r\n\r\nBut on running below code ([jdoddle link)][1] I found that **stage2** `is not running in `main` thread but in a ForkJoin pool. How is it possible. \r\nFrom [Java Doc][2] - \r\n\r\n&gt; Actions supplied for dependent completions of non-async methods may be\r\n&gt; performed by the thread that completes the current CompletableFuture,\r\n&gt; or by any other caller of a completion method.\r\n\r\n\r\n    import java.util.concurrent.CompletableFuture;\r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n                    System.out.println(&quot;hello world, CompletableFuturesRightHere&quot;);\r\n    \r\n         CompletableFuture.supplyAsync(() -&gt; {\r\n                System.out.println(&quot;log-sA: &quot; + Thread.currentThread().getName());\r\n                System.out.println(&quot;log-sA post: &quot; + Thread.currentThread().getName());\r\n                return 40;\r\n            }).acceptEither(CompletableFuture.supplyAsync(() -&gt; {\r\n                System.out.println(&quot;log-aE: &quot; + Thread.currentThread().getName());\r\n                System.out.println(&quot;log-aE post: &quot; + Thread.currentThread().getName());\r\n                return 80;\r\n            }), a -&gt; { System.out.println(a); } );\r\n      }\r\n    }\r\n\r\nOutput:\r\n\r\n    hello world, CompletableFuturesRightHere\r\n    log-aE: ForkJoinPool.commonPool-worker-5\r\n    log-sA: ForkJoinPool.commonPool-worker-3\r\n    log-aE post: ForkJoinPool.commonPool-worker-5\r\n    log-sA post: ForkJoinPool.commonPool-worker-3\r\n    40\r\n    \r\n\r\nHow can **stage2** i.e **log-aE** run in worker-5, it should run in main or worker-3. But Since stage1 and stage2 are supposed to run in parallel and worker-3 is already running stage1, the only thread left for stage2 is `main`. \r\n**How could stage2 run in worker-5.**\r\n\r\n  [1]: https://www.jdoodle.com/iembed/v0/Fnb\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html","title":"what is the difference between CompletableFuture methods acceptEither vs acceptEitherAsync?","body":"<p>For example -</p>\n<pre><code>CompletableFuture.supplyAsync(stage1).acceptEither(stage2, consumer );\n</code></pre>\n<p>stage1 and stage2 are supposed to run in parallel in above code as it is using <code>acceptEither</code></p>\n<p>If I change to <code>acceptEitherAsync</code>, i see I can get more control over which thread (thread from ForkJoin pool or thread from custom executor pool) runs stage2.</p>\n<p>But on running below code (<a href=\"https://www.jdoodle.com/iembed/v0/Fnb\" rel=\"nofollow noreferrer\">jdoddle link)</a> I found that <strong>stage2</strong> <code>is not running in </code>main` thread but in a ForkJoin pool. How is it possible.\nFrom <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">Java Doc</a> -</p>\n<blockquote>\n<p>Actions supplied for dependent completions of non-async methods may be\nperformed by the thread that completes the current CompletableFuture,\nor by any other caller of a completion method.</p>\n</blockquote>\n<pre><code>import java.util.concurrent.CompletableFuture;\n\npublic class MyClass {\n    public static void main(String args[]) {\n                System.out.println(&quot;hello world, CompletableFuturesRightHere&quot;);\n\n     CompletableFuture.supplyAsync(() -&gt; {\n            System.out.println(&quot;log-sA: &quot; + Thread.currentThread().getName());\n            System.out.println(&quot;log-sA post: &quot; + Thread.currentThread().getName());\n            return 40;\n        }).acceptEither(CompletableFuture.supplyAsync(() -&gt; {\n            System.out.println(&quot;log-aE: &quot; + Thread.currentThread().getName());\n            System.out.println(&quot;log-aE post: &quot; + Thread.currentThread().getName());\n            return 80;\n        }), a -&gt; { System.out.println(a); } );\n  }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>hello world, CompletableFuturesRightHere\nlog-aE: ForkJoinPool.commonPool-worker-5\nlog-sA: ForkJoinPool.commonPool-worker-3\nlog-aE post: ForkJoinPool.commonPool-worker-5\nlog-sA post: ForkJoinPool.commonPool-worker-3\n40\n</code></pre>\n<p>How can <strong>stage2</strong> i.e <strong>log-aE</strong> run in worker-5, it should run in main or worker-3. But Since stage1 and stage2 are supposed to run in parallel and worker-3 is already running stage1, the only thread left for stage2 is <code>main</code>.\n<strong>How could stage2 run in worker-5.</strong></p>\n"},{"tags":["javascript","java","screen-capture","image-capture","get-display-media"],"owner":{"account_id":28048453,"reputation":11,"user_id":21424773,"display_name":"Syed Toheed Gillani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679126210,"creation_date":1679125551,"question_id":75774505,"body_markdown":"I have written a code that will take the screenshot after some time interval.\r\n**The code is:**\r\n\r\n```\r\nfunction captureScreenshot() {\r\n    if (screenStream) {\r\n        screenStream.getTracks().forEach(track =&gt; {\r\n            track.stop();\r\n        });\r\n    }\r\n    navigator.mediaDevices.getDisplayMedia({video: true})\r\n    .then(stream =&gt; {\r\n        track = stream.getVideoTracks()[0];\r\n        screenStream = track;\r\n        track.applyConstraints();\r\n        (function(delay, callback){\r\n            var loop = function(){\r\n                callback();\r\n                setTimeout(loop, delay);\r\n            }; loop();\r\n        })(5000, function(){\r\n            imageCapture = new ImageCapture(track);\r\n            imageCapture.grabFrame()\r\n            .then(imageBitmap =&gt; {\r\n                const canvas = document.querySelector(&#39;#image&#39;);\r\n                drawCanvas(canvas, imageBitmap);\r\n            })\r\n            .catch(err =&gt; {\r\n                console.error(&quot;Error grabbing frame: &quot;, err);\r\n            });\r\n        });\r\n    })\r\n    .catch(err =&gt; {\r\n        console.error(&quot;Error getting display media: &quot;, err);\r\n    });\r\n}\r\n```\r\n\r\n**Problem is:**\r\nWhenever I try to run this code by using an external button it shows this error:\r\n&quot;DOMException: The associated Track is in an invalid state&quot;.\r\n\r\nWe have tried to change the timer of the loop from 5000 to 800.\r\nIt takes the screenshot and don&#39;t give the errors for some time but will show the error at the end.\r\n\r\nIt changes the state to track.muted = true.\r\nI want it to stay at the track.muted=false state.\r\nSo, my loop must taking the screenshot continuously.\r\n\r\nIs there any method that can make &quot;track.muted=false&quot; forcefully.","title":"getDisplayMedia is giving &quot;DOMException: The associated Track is in an invalid state&quot;","body":"<p>I have written a code that will take the screenshot after some time interval.\n<strong>The code is:</strong></p>\n<pre><code>function captureScreenshot() {\n    if (screenStream) {\n        screenStream.getTracks().forEach(track =&gt; {\n            track.stop();\n        });\n    }\n    navigator.mediaDevices.getDisplayMedia({video: true})\n    .then(stream =&gt; {\n        track = stream.getVideoTracks()[0];\n        screenStream = track;\n        track.applyConstraints();\n        (function(delay, callback){\n            var loop = function(){\n                callback();\n                setTimeout(loop, delay);\n            }; loop();\n        })(5000, function(){\n            imageCapture = new ImageCapture(track);\n            imageCapture.grabFrame()\n            .then(imageBitmap =&gt; {\n                const canvas = document.querySelector('#image');\n                drawCanvas(canvas, imageBitmap);\n            })\n            .catch(err =&gt; {\n                console.error(&quot;Error grabbing frame: &quot;, err);\n            });\n        });\n    })\n    .catch(err =&gt; {\n        console.error(&quot;Error getting display media: &quot;, err);\n    });\n}\n</code></pre>\n<p><strong>Problem is:</strong>\nWhenever I try to run this code by using an external button it shows this error:\n&quot;DOMException: The associated Track is in an invalid state&quot;.</p>\n<p>We have tried to change the timer of the loop from 5000 to 800.\nIt takes the screenshot and don't give the errors for some time but will show the error at the end.</p>\n<p>It changes the state to track.muted = true.\nI want it to stay at the track.muted=false state.\nSo, my loop must taking the screenshot continuously.</p>\n<p>Is there any method that can make &quot;track.muted=false&quot; forcefully.</p>\n"},{"tags":["java","curl"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1679122872,"post_id":75774305,"comment_id":133667979,"body_markdown":"Your question lacks evidence of any research. Consider including what you&#39;ve tried so far.","body":"Your question lacks evidence of any research. Consider including what you&#39;ve tried so far."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1679131858,"post_id":75774305,"comment_id":133668907,"body_markdown":"&quot;image/jpg&quot; may not be correct. Better use the predefined constant ContentType.IMAGE_JPEG","body":"&quot;image/jpg&quot; may not be correct. Better use the predefined constant ContentType.IMAGE_JPEG"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1679139072,"post_id":75774305,"comment_id":133669949,"body_markdown":"Can you show the response body? Because usually it tells you _why_ the request is rejected.","body":"Can you show the response body? Because usually it tells you <i>why</i> the request is rejected."}],"owner":{"account_id":1284837,"reputation":407,"user_id":1238134,"accept_rate":25,"display_name":"RazorMx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679124408,"creation_date":1679122758,"question_id":75774305,"body_markdown":"How can I convert the following CURL to Java?\r\n\r\n    curl &quot;https://api.upload.io/v2/accounts/{accountId}/uploads/binary&quot; \\\r\n         -H &quot;Authorization: Bearer YOUR_API_KEY&quot; \\\r\n         -H &quot;Content-Type: img/jpg&quot; \\\r\n         --data-binary @file.jpg`\r\n\r\nWhat I&#39;ve tried to do (answers me 400 bad request)\r\n\r\n    HttpPost post = new HttpPost(&quot;https://api.upload.io/v2/accounts/{my account ID}/uploads/binary&quot;);\r\n    \t\t\tpost.setHeader(&quot;Authorization&quot;, &quot;Bearer {my API key}&quot;);\r\n    \t\t\tpost.setHeader(&quot;Content-Type&quot;, &quot;image/jpg&quot;);\r\n    \t\t\tpost.setEntity(new FileEntity(new File(&quot;image.jpg&quot;), ContentType.create(&quot;image/jpg&quot;)));\r\n    \r\n    \t\t\tCloseableHttpClient httpClient = HttpClients.createDefault();\r\n    \t\t\tHttpResponse httpResponse = httpClient.execute(post);\r\n\r\n","title":"Convert curl for image upload to Java","body":"<p>How can I convert the following CURL to Java?</p>\n<pre><code>curl &quot;https://api.upload.io/v2/accounts/{accountId}/uploads/binary&quot; \\\n     -H &quot;Authorization: Bearer YOUR_API_KEY&quot; \\\n     -H &quot;Content-Type: img/jpg&quot; \\\n     --data-binary @file.jpg`\n</code></pre>\n<p>What I've tried to do (answers me 400 bad request)</p>\n<pre><code>HttpPost post = new HttpPost(&quot;https://api.upload.io/v2/accounts/{my account ID}/uploads/binary&quot;);\n            post.setHeader(&quot;Authorization&quot;, &quot;Bearer {my API key}&quot;);\n            post.setHeader(&quot;Content-Type&quot;, &quot;image/jpg&quot;);\n            post.setEntity(new FileEntity(new File(&quot;image.jpg&quot;), ContentType.create(&quot;image/jpg&quot;)));\n\n            CloseableHttpClient httpClient = HttpClients.createDefault();\n            HttpResponse httpResponse = httpClient.execute(post);\n</code></pre>\n"},{"tags":["java","resttemplate","riot-games-api"],"comments":[{"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"score":1,"creation_date":1651486054,"post_id":72084962,"comment_id":127368074,"body_markdown":"Have you verified the request via cURL or Postman?","body":"Have you verified the request via cURL or Postman?"},{"owner":{"account_id":25171497,"reputation":21,"user_id":19014282,"display_name":"vofak"},"score":0,"creation_date":1651486544,"post_id":72084962,"comment_id":127368196,"body_markdown":"@thinkgruen I previsously only tried the browser and Intellij Idea http client. Now I also tried to call the same URL using curl from command line. All three methods work fine and I receive a correct json response","body":"@thinkgruen I previsously only tried the browser and Intellij Idea http client. Now I also tried to call the same URL using curl from command line. All three methods work fine and I receive a correct json response"},{"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"score":0,"creation_date":1651489250,"post_id":72084962,"comment_id":127368902,"body_markdown":"could it be that the servers are just down atm? https://developer.riotgames.com/api-status/ \nMATCH-V4 is down completely, SUMMONER is up however.","body":"could it be that the servers are just down atm? <a href=\"https://developer.riotgames.com/api-status/\" rel=\"nofollow noreferrer\">developer.riotgames.com/api-status</a>  MATCH-V4 is down completely, SUMMONER is up however."},{"owner":{"account_id":25171497,"reputation":21,"user_id":19014282,"display_name":"vofak"},"score":0,"creation_date":1651491650,"post_id":72084962,"comment_id":127369562,"body_markdown":"@thinkgruen MATCH-V4 is deprecated I think. I use MATCH-V5. The servers are not down because the same request works when sent from browser or curl. It just does not work from Java","body":"@thinkgruen MATCH-V4 is deprecated I think. I use MATCH-V5. The servers are not down because the same request works when sent from browser or curl. It just does not work from Java"}],"answers":[{"tags":[],"owner":{"account_id":9441868,"reputation":21,"user_id":7022044,"display_name":"Ruby"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679124350,"creation_date":1679124350,"answer_id":75774430,"question_id":72084962,"body_markdown":"I spent an afternoon finally solving this problem. You just need to use this request header.\r\n\r\n`\r\nHttpHeaders headers = new HttpHeaders();\r\nheaders.add(&quot;Accept&quot;,&quot;*/*&quot;);\r\n`","title":"How can I get LOL match detail using RIOT API from Java&#39;s RestTemplate?","body":"<p>I spent an afternoon finally solving this problem. You just need to use this request header.</p>\n<p><code>HttpHeaders headers = new HttpHeaders(); headers.add(&quot;Accept&quot;,&quot;*/*&quot;);</code></p>\n"}],"owner":{"account_id":25171497,"reputation":21,"user_id":19014282,"display_name":"vofak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679124350,"creation_date":1651484779,"question_id":72084962,"body_markdown":"I am trying to access [RIOT API][1] in Java using Spring&#39;s RestTemplate class. For some reason, I get a response code 500 and I can&#39;t determine why.\r\n\r\n\r\n----------\r\n\r\n\r\nThe code trying to call the api:\r\n\r\n```\r\nRestTemplate restTemplate = new RestTemplate();\r\n\r\nString matchString = restTemplate.getForObject(\r\n    URI.create(&quot;https://europe.api.riotgames.com/lol/match/v5/matches/EUN1_3119578792/timeline?api_key=&quot; + Consts.API_KEY),\r\n    String.class);\r\n\r\nSystem.out.println(matchString);\r\n```\r\n\r\nThe exception is:\r\n```\r\nException in thread &quot;main&quot; org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Server Error: [{&quot;status&quot;:{&quot;message&quot;:&quot;Internal server error&quot;,&quot;status_code&quot;:500}}]\r\n\tat org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:100)\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:172)\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:112)\r\n\tat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\r\n\tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:782)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:740)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:714)\r\n\tat org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:333)\r\n\tat Main.main(Main.java:11)\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nThis looks strange to me because when I call the same URL using the browser or Intellij Idea&#39;s http client, I get the correct json response without any internal server error.\r\n\r\n```\r\n{&quot;metadata&quot;:{&quot;dataVersion&quot;:&quot;2&quot;,&quot;matchId&quot;:&quot;EUN1_3119578792&quot;,&quot;participants&quot;:[&quot;9oLEhIbu5RP6HITfkJDnEy5WKOEof4Zg4TJ7GLI7ysxjzSsCpAOyyiFitA86RBpW6Tjm6l1hJHql1g&quot;,&quot;2G74UyXYGrgzOVJyhlnLvL-MBqSCOW59o1uX8KmmvDsjMeiQhrye1X6ByjmpBcIBzjNOLDZ0bExw5Q&quot;,&quot;YCqBU2zeTXQhKd9LyNn048Orj8zn2ePa2JoB7U66ql0HsVpurENBRN39HfwnmVCAr0iPX6YnvgFLFA&quot;,...\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nMoreover, using the same java code for a different RIOT API&#39;s endpoint works fine:\r\n\r\n```\r\nRestTemplate restTemplate = new RestTemplate();\r\n\r\nString matchString = restTemplate.getForObject(\r\n                URI.create(&quot;https://eun1.api.riotgames.com/lol/summoner/v4/summoners/by-name/GargamelSmrdi?api_key=&quot; + Consts.API_KEY),\r\n                String.class);\r\nSystem.out.println(matchString);\r\n```\r\n\r\nStandart output:\r\n```\r\n{&quot;id&quot;:&quot;_M1uK8Th4G262XkT0f9PVjUk_Dx96C4R3e7vSidKs0z5mfg&quot;,&quot;accountId&quot;:&quot;QW10TRynWV0Zw48DrYqvO_KerzFepBCNOoUWtQHP2BFgdJZNlhtEPKXk&quot;,...\r\n```\r\n\r\n\r\n----------\r\n\r\nI am lost. Do you have any idea what could be causing this internal server error and how to fix it?\r\n\r\n  [1]: https://developer.riotgames.com/apis","title":"How can I get LOL match detail using RIOT API from Java&#39;s RestTemplate?","body":"<p>I am trying to access <a href=\"https://developer.riotgames.com/apis\" rel=\"nofollow noreferrer\">RIOT API</a> in Java using Spring's RestTemplate class. For some reason, I get a response code 500 and I can't determine why.</p>\n<hr />\n<p>The code trying to call the api:</p>\n<pre><code>RestTemplate restTemplate = new RestTemplate();\n\nString matchString = restTemplate.getForObject(\n    URI.create(&quot;https://europe.api.riotgames.com/lol/match/v5/matches/EUN1_3119578792/timeline?api_key=&quot; + Consts.API_KEY),\n    String.class);\n\nSystem.out.println(matchString);\n</code></pre>\n<p>The exception is:</p>\n<pre><code>Exception in thread &quot;main&quot; org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Server Error: [{&quot;status&quot;:{&quot;message&quot;:&quot;Internal server error&quot;,&quot;status_code&quot;:500}}]\n    at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:100)\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:172)\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:112)\n    at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\n    at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:782)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:740)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:714)\n    at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:333)\n    at Main.main(Main.java:11)\n</code></pre>\n<hr />\n<p>This looks strange to me because when I call the same URL using the browser or Intellij Idea's http client, I get the correct json response without any internal server error.</p>\n<pre><code>{&quot;metadata&quot;:{&quot;dataVersion&quot;:&quot;2&quot;,&quot;matchId&quot;:&quot;EUN1_3119578792&quot;,&quot;participants&quot;:[&quot;9oLEhIbu5RP6HITfkJDnEy5WKOEof4Zg4TJ7GLI7ysxjzSsCpAOyyiFitA86RBpW6Tjm6l1hJHql1g&quot;,&quot;2G74UyXYGrgzOVJyhlnLvL-MBqSCOW59o1uX8KmmvDsjMeiQhrye1X6ByjmpBcIBzjNOLDZ0bExw5Q&quot;,&quot;YCqBU2zeTXQhKd9LyNn048Orj8zn2ePa2JoB7U66ql0HsVpurENBRN39HfwnmVCAr0iPX6YnvgFLFA&quot;,...\n</code></pre>\n<hr />\n<p>Moreover, using the same java code for a different RIOT API's endpoint works fine:</p>\n<pre><code>RestTemplate restTemplate = new RestTemplate();\n\nString matchString = restTemplate.getForObject(\n                URI.create(&quot;https://eun1.api.riotgames.com/lol/summoner/v4/summoners/by-name/GargamelSmrdi?api_key=&quot; + Consts.API_KEY),\n                String.class);\nSystem.out.println(matchString);\n</code></pre>\n<p>Standart output:</p>\n<pre><code>{&quot;id&quot;:&quot;_M1uK8Th4G262XkT0f9PVjUk_Dx96C4R3e7vSidKs0z5mfg&quot;,&quot;accountId&quot;:&quot;QW10TRynWV0Zw48DrYqvO_KerzFepBCNOoUWtQHP2BFgdJZNlhtEPKXk&quot;,...\n</code></pre>\n<hr />\n<p>I am lost. Do you have any idea what could be causing this internal server error and how to fix it?</p>\n"},{"tags":["java","selenium-webdriver","listener","alert"],"answers":[{"tags":[],"owner":{"account_id":28048425,"reputation":1,"user_id":21424749,"display_name":"Kundan yalangi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679123586,"creation_date":1679123586,"answer_id":75774383,"question_id":38230879,"body_markdown":"Custom class implements webdrivereventlistener\r\nOverride find\r\nWait for element (from method arg)\r\nIf element not present \r\nDriver.switch.to.alert != null\r\nAlert accept or enter auth whatever\r\n\r\n\r\nMain class\r\nEventfiringwebdriver driver instantiate\r\n&lt;p&gt;Create earlier custom class instance listener\r\nDriver.register above custom class \r\ndo your stuff for every find listener activates and check for alert\r\nDriver.unregister\r\nYou might want to check cypress where in listeners to alerts are handled easily \r\n&lt;/p&gt;\r\n","title":"Create a listener to detect the presence of an alert popup (using Selenium WebDriver)","body":"<p>Custom class implements webdrivereventlistener\nOverride find\nWait for element (from method arg)\nIf element not present\nDriver.switch.to.alert != null\nAlert accept or enter auth whatever</p>\n<p>Main class\nEventfiringwebdriver driver instantiate</p>\n<p>Create earlier custom class instance listener\nDriver.register above custom class \ndo your stuff for every find listener activates and check for alert\nDriver.unregister\nYou might want to check cypress where in listeners to alerts are handled easily \n</p>\n"}],"owner":{"account_id":6619590,"reputation":109,"user_id":5111766,"display_name":"DaftDeath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679123586,"creation_date":1467828521,"question_id":38230879,"body_markdown":"I need to create a listener that checks whether an alert is present or not. This alert pops up randomly while navigating the site, asking for credentials, and if it receives no response it causes the driver to timeout. We&#39;re currently entering the credentials by hand to allow the code to continue, but later this will run without being monitored so this won&#39;t work much longer. ","title":"Create a listener to detect the presence of an alert popup (using Selenium WebDriver)","body":"<p>I need to create a listener that checks whether an alert is present or not. This alert pops up randomly while navigating the site, asking for credentials, and if it receives no response it causes the driver to timeout. We're currently entering the credentials by hand to allow the code to continue, but later this will run without being monitored so this won't work much longer. </p>\n"},{"tags":["java","jboss","ejb","wildfly","elytron"],"comments":[{"owner":{"account_id":2642985,"reputation":131,"user_id":2286277,"accept_rate":0,"display_name":"Fr&#233;d&#233;ric Nell"},"score":0,"creation_date":1678444927,"post_id":65255348,"comment_id":133537883,"body_markdown":"Same Problem exactly with Wildfly 26 and elytron, I tried to reach out the developpers but nobody could help me, looked at similar question, already in 2018, still no answers =&gt; https://developer.jboss.org/thread/277957 . The elytron Documentation has aswell since many years an empty &quot;pseudo-code&quot; callback example. I don&#39;t know why but it seems that there&#39;s no active community :( If I found something I will let you know. But issue still present in Wildfly 26.","body":"Same Problem exactly with Wildfly 26 and elytron, I tried to reach out the developpers but nobody could help me, looked at similar question, already in 2018, still no answers =&gt; <a href=\"https://developer.jboss.org/thread/277957\" rel=\"nofollow noreferrer\">developer.jboss.org/thread/277957</a> . The elytron Documentation has aswell since many years an empty &quot;pseudo-code&quot; callback example. I don&#39;t know why but it seems that there&#39;s no active community :( If I found something I will let you know. But issue still present in Wildfly 26."},{"owner":{"account_id":2642985,"reputation":131,"user_id":2286277,"accept_rate":0,"display_name":"Fr&#233;d&#233;ric Nell"},"score":0,"creation_date":1678452312,"post_id":65255348,"comment_id":133539787,"body_markdown":"Ok I&#39;ve two proposition for you:\n1. Create a TaskExecutor with &#39;@RunAs&#39;, inject your resources inside, with &#39;@Permitall&#39;, like this you can call the secured resources from another Bean, or Test. \n2. If you&#39;re using the principal into a managed bean, you can for testing purpose for example simulate the bean by a dummy implementation\n\nI don&#39;t have any callback solution and I could never get the security domain too.","body":"Ok I&#39;ve two proposition for you: 1. Create a TaskExecutor with &#39;@RunAs&#39;, inject your resources inside, with &#39;@Permitall&#39;, like this you can call the secured resources from another Bean, or Test.  2. If you&#39;re using the principal into a managed bean, you can for testing purpose for example simulate the bean by a dummy implementation  I don&#39;t have any callback solution and I could never get the security domain too."}],"answers":[{"tags":[],"owner":{"account_id":1720985,"reputation":11,"user_id":3484548,"display_name":"Vithun Venugopalan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679121922,"creation_date":1679121922,"answer_id":75774258,"question_id":65255348,"body_markdown":"I found this here developer.jboss.org/thread/277957\r\n\r\n SecurityDomain currentSecurityDomain = SecurityDomain.getCurrent();\r\n\r\n                Evidence evidence = new PasswordGuessEvidence(runWith.password().toCharArray());\r\n\r\n                SecurityIdentity identity = currentSecurityDomain.authenticate(runWith.username(), evidence);\r\n\r\n                return identity.runAs(new Callable(){\r\n\r\n                    @Override\r\n                    public Object call() throws Exception {\r\n\r\n                        LOG.warn(&quot;This should be runWith#username()? &quot; + sessionCtx.getCallerPrincipal().getName());\r\n\r\n                        return context.proceed();\r\n\r\n                    }\r\n\r\n                });\r\n\r\n","title":"Programmatic Login With Wildfly Elytron Security","body":"<p>I found this here developer.jboss.org/thread/277957</p>\n<p>SecurityDomain currentSecurityDomain = SecurityDomain.getCurrent();</p>\n<pre><code>            Evidence evidence = new PasswordGuessEvidence(runWith.password().toCharArray());\n\n            SecurityIdentity identity = currentSecurityDomain.authenticate(runWith.username(), evidence);\n\n            return identity.runAs(new Callable(){\n\n                @Override\n                public Object call() throws Exception {\n\n                    LOG.warn(&quot;This should be runWith#username()? &quot; + sessionCtx.getCallerPrincipal().getName());\n\n                    return context.proceed();\n\n                }\n\n            });\n</code></pre>\n"}],"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1315,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1679121922,"creation_date":1607705277,"question_id":65255348,"body_markdown":"I&#39;m in the process of migrating some legacy applications from Jboss AS 6 to Wildfly. Since the legacy (picketbox) security system is deprecated, I want to switch over to using elytron. I followed along with the quickstart examples and I think I have my configuration set up correctly, but I&#39;m running into a problem with migrating my actual code.\r\n\r\nThere are time where we want to authorize a user directly rather than relying on a call from the client or a servlet. This is especially important in integration tests where we want to test ejb methods that require a certain permission. Currently, my login method for doing a manual authorization looks like this:\r\n\r\n    public boolean login(String domain, Credentials credentials)\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tlc = new javax.security.auth.login.LoginContext(domain,\r\n    \t\t\t\t\tnew PassiveCallbackHandler(credentials.getUsername(), credentials.getPassword()));\r\n    \t\t\tlc.login();\r\n    \t\t\tSubject subject = lc.getSubject();\r\n    \t\t\tpushSubjectContext(credentials.getUsername(), credentials.getPassword());\r\n    \t\t\tif (sessionActivityService != null)\r\n    \t\t\t{\r\n    \t\t\t\tsessionActivityId = sessionActivityService.activateSession(applicationName, &quot;127.0.0.1&quot;);\r\n    \t\t\t}\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\tcatch (LoginException e)\r\n    \t\t{\r\n    \t\t\te.printStackTrace();\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n\r\nWhen I try to call that method using the security domain defined in the elytron subsystem it fails. Debugging through the code, I can see that the LoginContext doesn&#39;t see any of the security domains from elytron. Only the legacy (jboss.as:security) domains are visible, so it defaults to a security domain of &#39;other&#39;.\r\n\r\nIs there any way to do what I want using elytron? \r\n\r\n\r\nFYI, here are some snippets from my configuration:\r\n\r\n**standalone.xml:**\r\n\r\n    &lt;subsystem xmlns=&quot;urn:wildfly:elytron:8.0&quot; final-providers=&quot;combined-providers&quot; disallowed-providers=&quot;OracleUcrypto&quot;&gt;         \r\n                &lt;security-domains&gt;\r\n                    ...           \r\n                    &lt;security-domain name=&quot;TestOptics&quot; default-realm=&quot;testRealm&quot; permission-mapper=&quot;default-permission-mapper&quot;&gt;\r\n                        &lt;realm name=&quot;testRealm&quot; role-decoder=&quot;groups-to-roles&quot;/&gt;\r\n                    &lt;/security-domain&gt;\r\n                &lt;/security-domains&gt;\r\n                &lt;security-realms&gt;\r\n                    &lt;identity-realm name=&quot;local&quot; identity=&quot;$local&quot;/&gt;              \r\n                    &lt;jdbc-realm name=&quot;testRealm&quot;&gt;\r\n                        &lt;principal-query sql=&quot;SELECT password FROM&amp;#x9;persons WHERE username=?&quot; data-source=&quot;TestOpticsDS&quot;&gt;\r\n                            &lt;clear-password-mapper password-index=&quot;1&quot;/&gt;\r\n                        &lt;/principal-query&gt;\r\n                        &lt;principal-query sql=&quot;select roles.name,&#39;Roles&#39; from persons join persons_to_roles on persons_to_roles.person_id=persons.id join roles on roles.id=persons_to_roles.role_id where persons.username=? and persons.enabled=1 and persons.password is not null union select &#39;authenticated&#39;,&#39;Roles&#39;&quot; data-source=&quot;OpticsDS&quot;&gt;\r\n                            &lt;attribute-mapping&gt;\r\n                                &lt;attribute to=&quot;Roles&quot; index=&quot;1&quot;/&gt;\r\n                            &lt;/attribute-mapping&gt;\r\n                        &lt;/principal-query&gt;\r\n                    &lt;/jdbc-realm&gt;\r\n                    ...\r\n                &lt;/security-realms&gt;\r\n               ...\r\n                &lt;http&gt;\r\n                    ...\r\n                    &lt;http-authentication-factory name=&quot;test-http-auth&quot; security-domain=&quot;TestOptics&quot; http-server-mechanism-factory=&quot;global&quot;&gt;\r\n                        &lt;mechanism-configuration&gt;\r\n                            &lt;mechanism mechanism-name=&quot;BASIC&quot;&gt;\r\n                                &lt;mechanism-realm realm-name=&quot;testRealm&quot;/&gt;\r\n                            &lt;/mechanism&gt;\r\n                        &lt;/mechanism-configuration&gt;\r\n                    &lt;/http-authentication-factory&gt;\r\n                    &lt;provider-http-server-mechanism-factory name=&quot;global&quot;/&gt;\r\n                &lt;/http&gt;\r\n                &lt;sasl&gt;\r\n                   ...\r\n                    &lt;sasl-authentication-factory name=&quot;test-app-sasl-auth&quot; sasl-server-factory=&quot;configured&quot; security-domain=&quot;TestOptics&quot;&gt;\r\n                        &lt;mechanism-configuration&gt;\r\n                            &lt;mechanism mechanism-name=&quot;JBOSS-LOCAL-USER&quot; realm-mapper=&quot;local&quot;/&gt;\r\n                            &lt;mechanism mechanism-name=&quot;BASIC&quot;&gt;\r\n                                &lt;mechanism-realm realm-name=&quot;testRealm&quot;/&gt;\r\n                            &lt;/mechanism&gt;\r\n                        &lt;/mechanism-configuration&gt;\r\n                    &lt;/sasl-authentication-factory&gt;\r\n                    ...\r\n                &lt;/sasl&gt;\r\n            &lt;/subsystem&gt;\r\n            &lt;subsystem xmlns=&quot;urn:jboss:domain:ejb3:6.0&quot;&gt;\r\n                ...\r\n                &lt;default-security-domain value=&quot;other&quot;/&gt;\r\n                &lt;application-security-domains&gt;\r\n                    &lt;application-security-domain name=&quot;TestOptics&quot; security-domain=&quot;TestOptics&quot;/&gt;\r\n                &lt;/application-security-domains&gt;\r\n                &lt;default-missing-method-permissions-deny-access value=&quot;true&quot;/&gt;\r\n                &lt;statistics enabled=&quot;${wildfly.ejb3.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;/&gt;\r\n                &lt;log-system-exceptions value=&quot;true&quot;/&gt;\r\n            &lt;/subsystem&gt;\r\n\r\n\r\n**jboss-web.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE jboss-web&gt;\r\n    &lt;jboss-web xmlns=&quot;http://www.jboss.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://www.jboss.com/xml/ns/javaee http://www.jboss.org/schema/jbossas/jboss-web_14_0.xsd&quot; version=&quot;14.0&quot;&gt;\r\n    \t&lt;!-- &lt;context-root&gt;person/test&lt;/context-root&gt; --&gt;\r\n    \t&lt;security-domain&gt;TestOptics&lt;/security-domain&gt;\r\n    &lt;/jboss-web&gt;\r\n\r\n**web.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee  http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n          version=&quot;3.0&quot;&gt; \r\n    \t\r\n    \t&lt;login-config&gt;\r\n    \t&lt;auth-method&gt;BASIC&lt;/auth-method&gt;\r\n    \t&lt;realm-name&gt;TestOptics&lt;/realm-name&gt;\r\n    \t&lt;/login-config&gt;\r\n    &lt;/web-app&gt;","title":"Programmatic Login With Wildfly Elytron Security","body":"<p>I'm in the process of migrating some legacy applications from Jboss AS 6 to Wildfly. Since the legacy (picketbox) security system is deprecated, I want to switch over to using elytron. I followed along with the quickstart examples and I think I have my configuration set up correctly, but I'm running into a problem with migrating my actual code.</p>\n<p>There are time where we want to authorize a user directly rather than relying on a call from the client or a servlet. This is especially important in integration tests where we want to test ejb methods that require a certain permission. Currently, my login method for doing a manual authorization looks like this:</p>\n<pre><code>public boolean login(String domain, Credentials credentials)\n    {\n        try\n        {\n            lc = new javax.security.auth.login.LoginContext(domain,\n                    new PassiveCallbackHandler(credentials.getUsername(), credentials.getPassword()));\n            lc.login();\n            Subject subject = lc.getSubject();\n            pushSubjectContext(credentials.getUsername(), credentials.getPassword());\n            if (sessionActivityService != null)\n            {\n                sessionActivityId = sessionActivityService.activateSession(applicationName, &quot;127.0.0.1&quot;);\n            }\n            return true;\n        }\n        catch (LoginException e)\n        {\n            e.printStackTrace();\n            return false;\n        }\n    }\n</code></pre>\n<p>When I try to call that method using the security domain defined in the elytron subsystem it fails. Debugging through the code, I can see that the LoginContext doesn't see any of the security domains from elytron. Only the legacy (jboss.as:security) domains are visible, so it defaults to a security domain of 'other'.</p>\n<p>Is there any way to do what I want using elytron?</p>\n<p>FYI, here are some snippets from my configuration:</p>\n<p><strong>standalone.xml:</strong></p>\n<pre><code>&lt;subsystem xmlns=&quot;urn:wildfly:elytron:8.0&quot; final-providers=&quot;combined-providers&quot; disallowed-providers=&quot;OracleUcrypto&quot;&gt;         \n            &lt;security-domains&gt;\n                ...           \n                &lt;security-domain name=&quot;TestOptics&quot; default-realm=&quot;testRealm&quot; permission-mapper=&quot;default-permission-mapper&quot;&gt;\n                    &lt;realm name=&quot;testRealm&quot; role-decoder=&quot;groups-to-roles&quot;/&gt;\n                &lt;/security-domain&gt;\n            &lt;/security-domains&gt;\n            &lt;security-realms&gt;\n                &lt;identity-realm name=&quot;local&quot; identity=&quot;$local&quot;/&gt;              \n                &lt;jdbc-realm name=&quot;testRealm&quot;&gt;\n                    &lt;principal-query sql=&quot;SELECT password FROM&amp;#x9;persons WHERE username=?&quot; data-source=&quot;TestOpticsDS&quot;&gt;\n                        &lt;clear-password-mapper password-index=&quot;1&quot;/&gt;\n                    &lt;/principal-query&gt;\n                    &lt;principal-query sql=&quot;select roles.name,'Roles' from persons join persons_to_roles on persons_to_roles.person_id=persons.id join roles on roles.id=persons_to_roles.role_id where persons.username=? and persons.enabled=1 and persons.password is not null union select 'authenticated','Roles'&quot; data-source=&quot;OpticsDS&quot;&gt;\n                        &lt;attribute-mapping&gt;\n                            &lt;attribute to=&quot;Roles&quot; index=&quot;1&quot;/&gt;\n                        &lt;/attribute-mapping&gt;\n                    &lt;/principal-query&gt;\n                &lt;/jdbc-realm&gt;\n                ...\n            &lt;/security-realms&gt;\n           ...\n            &lt;http&gt;\n                ...\n                &lt;http-authentication-factory name=&quot;test-http-auth&quot; security-domain=&quot;TestOptics&quot; http-server-mechanism-factory=&quot;global&quot;&gt;\n                    &lt;mechanism-configuration&gt;\n                        &lt;mechanism mechanism-name=&quot;BASIC&quot;&gt;\n                            &lt;mechanism-realm realm-name=&quot;testRealm&quot;/&gt;\n                        &lt;/mechanism&gt;\n                    &lt;/mechanism-configuration&gt;\n                &lt;/http-authentication-factory&gt;\n                &lt;provider-http-server-mechanism-factory name=&quot;global&quot;/&gt;\n            &lt;/http&gt;\n            &lt;sasl&gt;\n               ...\n                &lt;sasl-authentication-factory name=&quot;test-app-sasl-auth&quot; sasl-server-factory=&quot;configured&quot; security-domain=&quot;TestOptics&quot;&gt;\n                    &lt;mechanism-configuration&gt;\n                        &lt;mechanism mechanism-name=&quot;JBOSS-LOCAL-USER&quot; realm-mapper=&quot;local&quot;/&gt;\n                        &lt;mechanism mechanism-name=&quot;BASIC&quot;&gt;\n                            &lt;mechanism-realm realm-name=&quot;testRealm&quot;/&gt;\n                        &lt;/mechanism&gt;\n                    &lt;/mechanism-configuration&gt;\n                &lt;/sasl-authentication-factory&gt;\n                ...\n            &lt;/sasl&gt;\n        &lt;/subsystem&gt;\n        &lt;subsystem xmlns=&quot;urn:jboss:domain:ejb3:6.0&quot;&gt;\n            ...\n            &lt;default-security-domain value=&quot;other&quot;/&gt;\n            &lt;application-security-domains&gt;\n                &lt;application-security-domain name=&quot;TestOptics&quot; security-domain=&quot;TestOptics&quot;/&gt;\n            &lt;/application-security-domains&gt;\n            &lt;default-missing-method-permissions-deny-access value=&quot;true&quot;/&gt;\n            &lt;statistics enabled=&quot;${wildfly.ejb3.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;/&gt;\n            &lt;log-system-exceptions value=&quot;true&quot;/&gt;\n        &lt;/subsystem&gt;\n</code></pre>\n<p><strong>jboss-web.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE jboss-web&gt;\n&lt;jboss-web xmlns=&quot;http://www.jboss.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://www.jboss.com/xml/ns/javaee http://www.jboss.org/schema/jbossas/jboss-web_14_0.xsd&quot; version=&quot;14.0&quot;&gt;\n    &lt;!-- &lt;context-root&gt;person/test&lt;/context-root&gt; --&gt;\n    &lt;security-domain&gt;TestOptics&lt;/security-domain&gt;\n&lt;/jboss-web&gt;\n</code></pre>\n<p><strong>web.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n      xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee  http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\n      version=&quot;3.0&quot;&gt; \n    \n    &lt;login-config&gt;\n    &lt;auth-method&gt;BASIC&lt;/auth-method&gt;\n    &lt;realm-name&gt;TestOptics&lt;/realm-name&gt;\n    &lt;/login-config&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","excel","database","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1679253801,"post_id":75774184,"comment_id":133684222,"body_markdown":"Check the data formatter pattern applied to the cells? Internally Excel basically just has strings and floats, everything else it faked using formatting","body":"Check the data formatter pattern applied to the cells? Internally Excel basically just has strings and floats, everything else it faked using formatting"}],"owner":{"account_id":21785244,"reputation":25,"user_id":16086394,"display_name":"Esmaeil Chitgar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679120917,"creation_date":1679120671,"question_id":75774184,"body_markdown":"I need to parse excel sheets and create a database table using column value types.\r\nMy plan to decide on a table column type is to check the majority type of the number of rows in each column. For example, min(col. [number of rows], a constant value) rows in each column. The majority of the type in each column is the type of table column.\r\nSo, I need to know the exact type of excel cells to decide about the DB-tables field definition.\r\nBut I see it&#39;s hard to distinguish between the following types:\r\n\r\n - date\r\n - time\r\n - date-time\r\n\r\nand\r\n\r\n - int\r\n - float\r\n\r\nIn other words, I only detect float and date type using the following method:\r\n\r\n    private static Column.DataTypeEnum getDataTypeEnum(Cell cell) {\r\n        switch (cell.getCellType()) {\r\n            case STRING:\r\n                return Column.DataTypeEnum.STRING;\r\n            case BOOLEAN:\r\n                return DataTypeEnum.BOOLEAN;\r\n            case FORMULA:\r\n                return DataTypeEnum.FORMULA;\r\n            case BLANK:\r\n                return DataTypeEnum.BLANK;\r\n            case NUMERIC:\r\n                if (HSSFDateUtil.isCellDateFormatted(cell))\r\n                    return DataTypeEnum.DATE;\r\n                if (String.valueOf(cell.getNumericCellValue()).matches(&quot;^\\\\d+$&quot;))\r\n                    return DataTypeEnum.INT;//never rich here, because it sees all numbers with floating point (i.e. see value 5 in excel cell as 5.0)\r\n                if (String.valueOf(cell.getNumericCellValue()).matches(&quot;[-+]?[0-9]*\\\\.?[0-9]+&quot;))\r\n                    return DataTypeEnum.FLOAT;\r\n                return DataTypeEnum.INT;\r\n        }\r\n\r\n        return DataTypeEnum.STRING;\r\n    }\r\n\r\n","title":"Detect exact cell type when parsing excel file (date, time, datetime) and (int, flow) using apache.poi","body":"<p>I need to parse excel sheets and create a database table using column value types.\nMy plan to decide on a table column type is to check the majority type of the number of rows in each column. For example, min(col. [number of rows], a constant value) rows in each column. The majority of the type in each column is the type of table column.\nSo, I need to know the exact type of excel cells to decide about the DB-tables field definition.\nBut I see it's hard to distinguish between the following types:</p>\n<ul>\n<li>date</li>\n<li>time</li>\n<li>date-time</li>\n</ul>\n<p>and</p>\n<ul>\n<li>int</li>\n<li>float</li>\n</ul>\n<p>In other words, I only detect float and date type using the following method:</p>\n<pre><code>private static Column.DataTypeEnum getDataTypeEnum(Cell cell) {\n    switch (cell.getCellType()) {\n        case STRING:\n            return Column.DataTypeEnum.STRING;\n        case BOOLEAN:\n            return DataTypeEnum.BOOLEAN;\n        case FORMULA:\n            return DataTypeEnum.FORMULA;\n        case BLANK:\n            return DataTypeEnum.BLANK;\n        case NUMERIC:\n            if (HSSFDateUtil.isCellDateFormatted(cell))\n                return DataTypeEnum.DATE;\n            if (String.valueOf(cell.getNumericCellValue()).matches(&quot;^\\\\d+$&quot;))\n                return DataTypeEnum.INT;//never rich here, because it sees all numbers with floating point (i.e. see value 5 in excel cell as 5.0)\n            if (String.valueOf(cell.getNumericCellValue()).matches(&quot;[-+]?[0-9]*\\\\.?[0-9]+&quot;))\n                return DataTypeEnum.FLOAT;\n            return DataTypeEnum.INT;\n    }\n\n    return DataTypeEnum.STRING;\n}\n</code></pre>\n"},{"tags":["java","google-cloud-firestore","gcloud"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1679148889,"post_id":75774195,"comment_id":133671425,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":13044604,"reputation":1,"user_id":9426844,"display_name":"Kuni Shiina"},"score":0,"creation_date":1679302891,"post_id":75774195,"comment_id":133690554,"body_markdown":"The problem is that though I&#39;m using a service account to create the firestoreOptions instance, when I try to get the data using .getService() method, the error that I&#39;m using the end user credentials instead of service account.","body":"The problem is that though I&#39;m using a service account to create the firestoreOptions instance, when I try to get the data using .getService() method, the error that I&#39;m using the end user credentials instead of service account."},{"owner":{"account_id":13044604,"reputation":1,"user_id":9426844,"display_name":"Kuni Shiina"},"score":0,"creation_date":1680249296,"post_id":75774195,"comment_id":133869409,"body_markdown":"I was able to download data from Firestore normally with Eclipse and java8, but with VSCode and java17 using Service account, although it was the same code, I was able to upload data, but when I downloaded the data, permission was denied. By rewriting the code with reference to the following site, it became possible to download normally and it self-solved.  https://firebase.google.com/docs/firestore/query-data/queries?hl=ja","body":"I was able to download data from Firestore normally with Eclipse and java8, but with VSCode and java17 using Service account, although it was the same code, I was able to upload data, but when I downloaded the data, permission was denied. By rewriting the code with reference to the following site, it became possible to download normally and it self-solved.  <a href=\"https://firebase.google.com/docs/firestore/query-data/queries?hl=ja\" rel=\"nofollow noreferrer\">firebase.google.com/docs/firestore/query-data/queries?hl=ja</a>"}],"owner":{"account_id":13044604,"reputation":1,"user_id":9426844,"display_name":"Kuni Shiina"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679120788,"creation_date":1679120788,"question_id":75774195,"body_markdown":"I get an GoogleCredentials instance as below.\r\n- GoogleCredentials Gcredentials = GoogleCredentials.fromStream(new FileInputStream(&quot;C:\\Users\\k...\\service230314\\steprate200901-9...00.json&quot;))\r\n        .createScoped(Lists.newArrayList(&quot;https://www.googleapis.com/auth/cloud-platform&quot;)); -\r\nThe principal is active as below.\r\n- gcloud auth list -\r\n     Credentialed Accounts\r\nACTIVE  ACCOUNT\r\n*       quehoraesxxxx@gmail.com\r\n- -\r\nThen, Firestore instance as below.\r\n- FirestoreOptions firestoreOptions_custom54 =FirestoreOptions.getDefaultInstance().toBuilder()\r\n\t\t\t\t\t\t.setProjectId(&quot;steprate220901&quot;)\r\n                        .setCredentials(Gcredentials)  \r\n                        .build();\r\n                Firestore db_custom54 = firestoreOptions_custom54.getService(); -\r\nThis works properly when saving data. And firestoreOptions_custom54 has ServiceAccountCredentials@66 as below. But when downloading data, I can not to access using service accounts.  \r\n- gclud comment -\r\nc.g.a.oauth2.DefaultCredentialsProvider  : Your application has authenticated using end user credentials from Google Cloud SDK. We recommend that most server applications use service accounts instead.\r\n- firestoreOptions_custom54 -\r\nFirestoreOptions@118\r\nchannelProvider:\r\nInstantiatingGrpcChannelProvider@121\r\nclientLibToken:\r\n&quot;gccl&quot;\r\nclock:\r\nCurrentMillisClock@123\r\ncredentials:\r\nServiceAccountCredentials@66\r\ncredentialsProvider:\r\nAutoValue_FixedCredentialsProvider@124\r\ndatabaseId:\r\n&quot;(default)&quot;\r\nemulatorHost:\r\nnull\r\nheaderProvider:\r\nNoHeaderProvider@126\r\nhost:\r\n&quot;firestore.googleapis.com:443&quot;\r\nprojectId:\r\n&quot;steprate220901&quot;\r\nquotaProjectId:\r\nnull\r\nretrySettings:\r\nAutoValue_RetrySettings@129\r\nrpc:\r\nnull\r\nservice:\r\nnull\r\nserviceFactory:\r\nFirestoreOptions$DefaultFirestoreF -\r\nI expect to be able to access my data in firestore using my service accounts.\r\n ","title":"authenticated using end user credentials from Google Cloud SDK","body":"<p>I get an GoogleCredentials instance as below.</p>\n<ul>\n<li>GoogleCredentials Gcredentials = GoogleCredentials.fromStream(new FileInputStream(&quot;C:\\Users\\k...\\service230314\\steprate200901-9...00.json&quot;))\n.createScoped(Lists.newArrayList(&quot;https://www.googleapis.com/auth/cloud-platform&quot;)); -\nThe principal is active as below.</li>\n<li>gcloud auth list -\nCredentialed Accounts\nACTIVE  ACCOUNT</li>\n</ul>\n<ul>\n<li>\n<pre><code>  quehoraesxxxx@gmail.com\n</code></pre>\n</li>\n</ul>\n<ul>\n<li>\n<ul>\n<li></li>\n</ul>\n</li>\n</ul>\n<p>Then, Firestore instance as below.</p>\n<ul>\n<li>FirestoreOptions firestoreOptions_custom54 =FirestoreOptions.getDefaultInstance().toBuilder()\n.setProjectId(&quot;steprate220901&quot;)\n.setCredentials(Gcredentials)<br />\n.build();\nFirestore db_custom54 = firestoreOptions_custom54.getService(); -\nThis works properly when saving data. And firestoreOptions_custom54 has ServiceAccountCredentials@66 as below. But when downloading data, I can not to access using service accounts.</li>\n<li>gclud comment -\nc.g.a.oauth2.DefaultCredentialsProvider  : Your application has authenticated using end user credentials from Google Cloud SDK. We recommend that most server applications use service accounts instead.</li>\n<li>firestoreOptions_custom54 -\nFirestoreOptions@118\nchannelProvider:\nInstantiatingGrpcChannelProvider@121\nclientLibToken:\n&quot;gccl&quot;\nclock:\nCurrentMillisClock@123\ncredentials:\nServiceAccountCredentials@66\ncredentialsProvider:\nAutoValue_FixedCredentialsProvider@124\ndatabaseId:\n&quot;(default)&quot;\nemulatorHost:\nnull\nheaderProvider:\nNoHeaderProvider@126\nhost:\n&quot;firestore.googleapis.com:443&quot;\nprojectId:\n&quot;steprate220901&quot;\nquotaProjectId:\nnull\nretrySettings:\nAutoValue_RetrySettings@129\nrpc:\nnull\nservice:\nnull\nserviceFactory:\nFirestoreOptions$DefaultFirestoreF -\nI expect to be able to access my data in firestore using my service accounts.</li>\n</ul>\n"},{"tags":["java","swagger","openapi","openapi-generator"],"answers":[{"comments":[{"owner":{"account_id":22827163,"reputation":23,"user_id":16976240,"display_name":"it_ctw"},"score":0,"creation_date":1679133240,"post_id":75774142,"comment_id":133669113,"body_markdown":"thank you! can i ask you one more question: I&#39;m using xml:wrapped = true to wrap NonAdult within NON_ADULTS element. but it doesn&#39;t work. I use Unmarshaller to convert NonAdult -&gt; XML string but the result i get that is array of NonAdult, not within  NON_ADULTS element","body":"thank you! can i ask you one more question: I&#39;m using xml:wrapped = true to wrap NonAdult within NON_ADULTS element. but it doesn&#39;t work. I use Unmarshaller to convert NonAdult -&gt; XML string but the result i get that is array of NonAdult, not within  NON_ADULTS element"},{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1679135342,"post_id":75774142,"comment_id":133669387,"body_markdown":"@it_ctw I assume your array schema is similar to the last example [on this page](https://swagger.io/docs/specification/data-models/representing-xml/)? Maybe there are some additional Jackson annotations or configs to help with the serialization, I don&#39;t know. I suggest you [ask a new question](/questions/ask).","body":"@it_ctw I assume your array schema is similar to the last example <a href=\"https://swagger.io/docs/specification/data-models/representing-xml/\" rel=\"nofollow noreferrer\">on this page</a>? Maybe there are some additional Jackson annotations or configs to help with the serialization, I don&#39;t know. I suggest you <a href=\"/questions/ask\">ask a new question</a>."}],"tags":[],"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1679120270,"creation_date":1679119837,"answer_id":75774142,"question_id":75773899,"body_markdown":"Some YAML parsers treat unquoted `yes`, `y`, `no`, `n`, `on`, and `off` [as boolean values](https://stackoverflow.com/a/53648738/113116).\r\n\r\nTo avoid this, add quotes around `no` in your OpenAPI file:\r\n\r\n```yaml\r\n        &#39;no&#39;:   # &lt;---\r\n          type: string\r\n          xml:\r\n            name: &#39;NO&#39;   # &lt;---\r\n```","title":"OpenAPI Generator converts &quot;no&quot; to &quot;false&quot;","body":"<p>Some YAML parsers treat unquoted <code>yes</code>, <code>y</code>, <code>no</code>, <code>n</code>, <code>on</code>, and <code>off</code> <a href=\"https://stackoverflow.com/a/53648738/113116\">as boolean values</a>.</p>\n<p>To avoid this, add quotes around <code>no</code> in your OpenAPI file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>        'no':   # &lt;---\n          type: string\n          xml:\n            name: 'NO'   # &lt;---\n</code></pre>\n"}],"owner":{"account_id":22827163,"reputation":23,"user_id":16976240,"display_name":"it_ctw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":599,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75774142,"answer_count":1,"score":2,"last_activity_date":1679120270,"creation_date":1679114494,"question_id":75773899,"body_markdown":"I created this OpenAPI YAML definition:\r\n\r\n```yaml\r\nopenapi: 3.0.3\r\ninfo:\r\n  title: NonAdult API\r\n  version: 1.0.0\r\npaths:\r\n  /api/v1/components/schemas/NonAdult:\r\n    description: &#39;Waiting for 3.1.0 spec to have &quot;paths&quot; optional.&#39;\r\n    get:\r\n      tags:\r\n        - schemas-controller\r\n      operationId: getSchemaDefinition\r\n      responses:\r\n        &quot;200&quot;:\r\n          description: OK\r\n          content:\r\n            &#39;application/xml&#39;:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/NonAdult&#39;\r\ncomponents:\r\n  schemas:\r\n    NonAdult:\r\n      type: object\r\n      properties:\r\n        ageRange:\r\n          type: string\r\n          description: The age range of the non-adult\r\n          xml:\r\n            name: AGE_RANGE\r\n        no:\r\n          type: string\r\n          xml:\r\n            name: NO\r\n        basePrice:\r\n          type: number\r\n          format: BigDecimal\r\n          description: The base price for the non-adults\r\n          xml:\r\n            name: BASE_PRICE\r\n        tax:\r\n          type: number\r\n          format: BigDecimal\r\n          description: The tax for the non-adults\r\n          xml:\r\n            name: TAX\r\n      xml:\r\n        name: NON_ADULT\r\n...\r\n```\r\nI use OpenAPI Generator Maven plugin to generate a Spring server from it.\r\n\r\nMy pom build is:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n        &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;configuration&gt;\r\n              &lt;configOptions&gt;\r\n                &lt;additionalModelTypeAnnotations&gt;\r\n                  @lombok.Data\r\n                  @lombok.NoArgsConstructor\r\n                  @lombok.AllArgsConstructor\r\n                  @lombok.Builder\r\n                &lt;/additionalModelTypeAnnotations&gt;\r\n                &lt;additionalProperty&gt;jackson=false&lt;/additionalProperty&gt;\r\n                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n                &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n                &lt;java8&gt;false&lt;/java8&gt;\r\n                &lt;modelPropertyNaming&gt;original&lt;/modelPropertyNaming&gt;\r\n                &lt;serializableModel&gt;true&lt;/serializableModel&gt;\r\n                &lt;skipDefaultInterface&gt;true&lt;/skipDefaultInterface&gt;\r\n                &lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\r\n                &lt;useTags&gt;true&lt;/useTags&gt;\r\n                &lt;withXml&gt;true&lt;/withXml&gt;\r\n              &lt;/configOptions&gt;\r\n              &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\r\n              &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n              &lt;generateApis&gt;false&lt;/generateApis&gt;\r\n              &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n              &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\r\n              &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n              &lt;importMappings&gt;\r\n              &lt;/importMappings&gt;\r\n              &lt;inputSpec&gt;NonAdult.yaml&lt;/inputSpec&gt;\r\n              &lt;library&gt;spring-boot&lt;/library&gt;\r\n              &lt;modelPackage&gt;com.demo.business.domains.Demo&lt;/modelPackage&gt;\r\n              &lt;typeMappings/&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;id&gt;domain-commons-classes&lt;/id&gt;\r\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n        &lt;version&gt;5.1.1&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n```\r\n\r\nBut when I run `mvn clean package`, I get an error about the &quot;no&quot; property. It was converted to `false` in the Java class like this:\r\n\r\n```java\r\n@JsonProperty(&quot;ageRange&quot;)\r\n  @JacksonXmlProperty(localName = &quot;AGE_RANGE&quot;)\r\n  private String ageRange;\r\n\r\n  @JsonProperty(&quot;false&quot;)\r\n  @JacksonXmlProperty(localName = &quot;false&quot;)\r\n  private String false;\r\n```\r\n\r\nHow can I fix this? I don&#39;t want to change the name of the property because I want to map the data with an XML response.","title":"OpenAPI Generator converts &quot;no&quot; to &quot;false&quot;","body":"<p>I created this OpenAPI YAML definition:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>openapi: 3.0.3\ninfo:\n  title: NonAdult API\n  version: 1.0.0\npaths:\n  /api/v1/components/schemas/NonAdult:\n    description: 'Waiting for 3.1.0 spec to have &quot;paths&quot; optional.'\n    get:\n      tags:\n        - schemas-controller\n      operationId: getSchemaDefinition\n      responses:\n        &quot;200&quot;:\n          description: OK\n          content:\n            'application/xml':\n              schema:\n                $ref: '#/components/schemas/NonAdult'\ncomponents:\n  schemas:\n    NonAdult:\n      type: object\n      properties:\n        ageRange:\n          type: string\n          description: The age range of the non-adult\n          xml:\n            name: AGE_RANGE\n        no:\n          type: string\n          xml:\n            name: NO\n        basePrice:\n          type: number\n          format: BigDecimal\n          description: The base price for the non-adults\n          xml:\n            name: BASE_PRICE\n        tax:\n          type: number\n          format: BigDecimal\n          description: The tax for the non-adults\n          xml:\n            name: TAX\n      xml:\n        name: NON_ADULT\n...\n</code></pre>\n<p>I use OpenAPI Generator Maven plugin to generate a Spring server from it.</p>\n<p>My pom build is:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n        &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;configuration&gt;\n              &lt;configOptions&gt;\n                &lt;additionalModelTypeAnnotations&gt;\n                  @lombok.Data\n                  @lombok.NoArgsConstructor\n                  @lombok.AllArgsConstructor\n                  @lombok.Builder\n                &lt;/additionalModelTypeAnnotations&gt;\n                &lt;additionalProperty&gt;jackson=false&lt;/additionalProperty&gt;\n                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n                &lt;java8&gt;false&lt;/java8&gt;\n                &lt;modelPropertyNaming&gt;original&lt;/modelPropertyNaming&gt;\n                &lt;serializableModel&gt;true&lt;/serializableModel&gt;\n                &lt;skipDefaultInterface&gt;true&lt;/skipDefaultInterface&gt;\n                &lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\n                &lt;useTags&gt;true&lt;/useTags&gt;\n                &lt;withXml&gt;true&lt;/withXml&gt;\n              &lt;/configOptions&gt;\n              &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\n              &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n              &lt;generateApis&gt;false&lt;/generateApis&gt;\n              &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n              &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\n              &lt;generatorName&gt;spring&lt;/generatorName&gt;\n              &lt;importMappings&gt;\n              &lt;/importMappings&gt;\n              &lt;inputSpec&gt;NonAdult.yaml&lt;/inputSpec&gt;\n              &lt;library&gt;spring-boot&lt;/library&gt;\n              &lt;modelPackage&gt;com.demo.business.domains.Demo&lt;/modelPackage&gt;\n              &lt;typeMappings/&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;id&gt;domain-commons-classes&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n        &lt;version&gt;5.1.1&lt;/version&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>But when I run <code>mvn clean package</code>, I get an error about the &quot;no&quot; property. It was converted to <code>false</code> in the Java class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonProperty(&quot;ageRange&quot;)\n  @JacksonXmlProperty(localName = &quot;AGE_RANGE&quot;)\n  private String ageRange;\n\n  @JsonProperty(&quot;false&quot;)\n  @JacksonXmlProperty(localName = &quot;false&quot;)\n  private String false;\n</code></pre>\n<p>How can I fix this? I don't want to change the name of the property because I want to map the data with an XML response.</p>\n"},{"tags":["java","string","hashmap"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1679119190,"post_id":75773722,"comment_id":133667695,"body_markdown":"Sidequestion: if this is new code, why use java 8? The current JRE is 19, and the current LTS version is 17.","body":"Sidequestion: if this is new code, why use java 8? The current JRE is 19, and the current LTS version is 17."}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679119983,"creation_date":1679119362,"answer_id":75774119,"question_id":75773722,"body_markdown":"In this solution, I&#39;ve split the input string by `,` and using `Arrays.stream` create a `Stream&lt;String&gt;`. Then, I&#39;ve used `Collectors.groupingBy` to create a map with year as the key and with a *mapping* collector extract the month (as an Integer) and collect them into a `TreeSet` (to collect the months in ascending order).\r\n```\r\nMap&lt;String, Set&lt;Integer&gt;&gt; yearToMonths = Arrays.stream(str.split(&quot;,&quot;))\r\n        .collect(Collectors.groupingBy(s -&gt; s.substring(0, 4),\r\n                Collectors.mapping(s -&gt; Integer.parseInt(s.substring(4)),\r\n                        Collectors.toCollection(TreeSet::new))));\r\n```\r\nWith this temporary result, we again stream on the map and by using `Collectors.toMap` build the final map where we take the value (`Set&lt;Integer&gt;`) and join them as a string by `,`.\r\n```\r\nMap&lt;String, String&gt; result = yearToMonths.entrySet()\r\n        .stream()\r\n        .collect(Collectors.toMap(Map.Entry::getKey, e -&gt; e.getValue()\r\n                .stream()\r\n                .map(String::valueOf)\r\n                .collect(Collectors.joining(&quot;,&quot;))));\r\n\r\nresult.forEach((key, value) -&gt; System.out.println(&quot;[Key] : &quot; + key + &quot; [Value] : &quot; + value));\r\n```\r\n\r\n---\r\n\r\nIf you are beginner and find it difficult to understand Java streams and Collectors, here it a beginner-friendly approach.\r\n\r\n    Map&lt;String, Set&lt;Integer&gt;&gt; yearToMonths = new HashMap&lt;&gt;();\r\n    Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\r\n\r\n    String lst[] = selDatesStr.split(&quot;,&quot;);\r\n\r\n    for (int i = 0; i &lt; lst.length; i++) {\r\n        String year = lst[i].substring(0, 4);\r\n        Integer month = Integer.parseInt(lst[i].substring(4));\r\n        if (!yearToMonths.containsKey(year)) {\r\n            yearToMonths.put(year, new TreeSet&lt;&gt;());\r\n        }\r\n        yearToMonths.get(year)\r\n               .add(month);\r\n    }\r\n    for (Map.Entry&lt;String, Set&lt;Integer&gt;&gt; entry : yearToMonths.entrySet()) {\r\n        String year = entry.getKey();\r\n        Set&lt;Integer&gt; months = entry.getValue();\r\n        StringJoiner stringJoiner = new StringJoiner(&quot;,&quot;);\r\n        for (Integer month : months) {\r\n            stringJoiner.add(String.valueOf(month));\r\n        }\r\n        result.put(year, stringJoiner.toString());\r\n    }\r\n  \r\n\r\nI&#39;ve used a `StringJoiner` to join the elements of the Set into a String (rather than a `StringBuilder`) as it will be easier to avoid adding a `,` at the end.","title":"Java split string and construct a Map","body":"<p>In this solution, I've split the input string by <code>,</code> and using <code>Arrays.stream</code> create a <code>Stream&lt;String&gt;</code>. Then, I've used <code>Collectors.groupingBy</code> to create a map with year as the key and with a <em>mapping</em> collector extract the month (as an Integer) and collect them into a <code>TreeSet</code> (to collect the months in ascending order).</p>\n<pre><code>Map&lt;String, Set&lt;Integer&gt;&gt; yearToMonths = Arrays.stream(str.split(&quot;,&quot;))\n        .collect(Collectors.groupingBy(s -&gt; s.substring(0, 4),\n                Collectors.mapping(s -&gt; Integer.parseInt(s.substring(4)),\n                        Collectors.toCollection(TreeSet::new))));\n</code></pre>\n<p>With this temporary result, we again stream on the map and by using <code>Collectors.toMap</code> build the final map where we take the value (<code>Set&lt;Integer&gt;</code>) and join them as a string by <code>,</code>.</p>\n<pre><code>Map&lt;String, String&gt; result = yearToMonths.entrySet()\n        .stream()\n        .collect(Collectors.toMap(Map.Entry::getKey, e -&gt; e.getValue()\n                .stream()\n                .map(String::valueOf)\n                .collect(Collectors.joining(&quot;,&quot;))));\n\nresult.forEach((key, value) -&gt; System.out.println(&quot;[Key] : &quot; + key + &quot; [Value] : &quot; + value));\n</code></pre>\n<hr />\n<p>If you are beginner and find it difficult to understand Java streams and Collectors, here it a beginner-friendly approach.</p>\n<pre><code>Map&lt;String, Set&lt;Integer&gt;&gt; yearToMonths = new HashMap&lt;&gt;();\nMap&lt;String, String&gt; result = new HashMap&lt;&gt;();\n\nString lst[] = selDatesStr.split(&quot;,&quot;);\n\nfor (int i = 0; i &lt; lst.length; i++) {\n    String year = lst[i].substring(0, 4);\n    Integer month = Integer.parseInt(lst[i].substring(4));\n    if (!yearToMonths.containsKey(year)) {\n        yearToMonths.put(year, new TreeSet&lt;&gt;());\n    }\n    yearToMonths.get(year)\n           .add(month);\n}\nfor (Map.Entry&lt;String, Set&lt;Integer&gt;&gt; entry : yearToMonths.entrySet()) {\n    String year = entry.getKey();\n    Set&lt;Integer&gt; months = entry.getValue();\n    StringJoiner stringJoiner = new StringJoiner(&quot;,&quot;);\n    for (Integer month : months) {\n        stringJoiner.add(String.valueOf(month));\n    }\n    result.put(year, stringJoiner.toString());\n}\n</code></pre>\n<p>I've used a <code>StringJoiner</code> to join the elements of the Set into a String (rather than a <code>StringBuilder</code>) as it will be easier to avoid adding a <code>,</code> at the end.</p>\n"}],"owner":{"account_id":1000404,"reputation":1347,"user_id":1015388,"accept_rate":15,"display_name":"user1015388"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679119983,"creation_date":1679110339,"question_id":75773722,"body_markdown":"In my java application, I am using Java8. I have a string representation like below.\r\n\r\n    20232,20221,20222,20223,20224,20225,20226,20227,20228,20229,202210,202211,202212,20231\r\n\r\nHere, first 4 digits refer to Year and next 2 digits refer to Month.\r\nI want to make a Map where key is YEAR and value as all the months that are available in the string.\r\ni.e; I want something like\r\n\r\n     2023 -&gt; 1,2\r\n     2022 -&gt; 1,2,3,4,5,6,7,8,9,10,11,12 (In ascending order)\r\n\r\nI tried something like this: it gives output as\r\n\r\n    [Key] : 2023 [Value] : 2,1,2,3,4,5,6,7,8,9,10,11,12,1\r\n    [Key] : 2022 [Value] : 2,1,2,3,4,5,6,7,8,9,10,11,12,1\r\n\r\n    public class TestJava {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tString str =&quot;20232,20221,20222,20223,20224,20225,20226,20227,20228,20229,202210,202211,202212,20231&quot;;\r\n    \t\tString lst[] = selDatesStr.split(&quot;,&quot;);\r\n    \t\tHashMap map = new HashMap();\r\n    \t\tStringBuilder stb = new StringBuilder();\r\n    \t\tfor(int i=0; i &lt; lst.length; i++) {\r\n    \t\t\tString year = lst[i].substring(0, 4);\r\n    \t\t\tif(!map.isEmpty()) {\r\n    \t\t\t\tif(map.containsKey(year)) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\tString month = lst[i].substring(4, lst[i].length());\r\n    \t\t\t\t\r\n    \t\t\t\tif(stb.toString().length() == 0) {\r\n    \t\t\t\t\tstb = stb.append(month);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tstb = stb.append(&quot;,&quot;+month);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tmap.put(year, stb);\t\r\n    \t\t\t}\r\n    \t\t\r\n    \t\tmap.forEach((key, value) -&gt; System.out.println(&quot;[Key] : &quot; + key + &quot; [Value] : &quot; + value));\r\n    \t}\r\n    }\r\n","title":"Java split string and construct a Map","body":"<p>In my java application, I am using Java8. I have a string representation like below.</p>\n<pre><code>20232,20221,20222,20223,20224,20225,20226,20227,20228,20229,202210,202211,202212,20231\n</code></pre>\n<p>Here, first 4 digits refer to Year and next 2 digits refer to Month.\nI want to make a Map where key is YEAR and value as all the months that are available in the string.\ni.e; I want something like</p>\n<pre><code> 2023 -&gt; 1,2\n 2022 -&gt; 1,2,3,4,5,6,7,8,9,10,11,12 (In ascending order)\n</code></pre>\n<p>I tried something like this: it gives output as</p>\n<pre><code>[Key] : 2023 [Value] : 2,1,2,3,4,5,6,7,8,9,10,11,12,1\n[Key] : 2022 [Value] : 2,1,2,3,4,5,6,7,8,9,10,11,12,1\n\npublic class TestJava {\n    public static void main(String[] args) {\n        \n        String str =&quot;20232,20221,20222,20223,20224,20225,20226,20227,20228,20229,202210,202211,202212,20231&quot;;\n        String lst[] = selDatesStr.split(&quot;,&quot;);\n        HashMap map = new HashMap();\n        StringBuilder stb = new StringBuilder();\n        for(int i=0; i &lt; lst.length; i++) {\n            String year = lst[i].substring(0, 4);\n            if(!map.isEmpty()) {\n                if(map.containsKey(year)) {\n                    \n                }\n            }\n                String month = lst[i].substring(4, lst[i].length());\n                \n                if(stb.toString().length() == 0) {\n                    stb = stb.append(month);\n                } else {\n                    stb = stb.append(&quot;,&quot;+month);\n                }\n                \n                map.put(year, stb); \n            }\n        \n        map.forEach((key, value) -&gt; System.out.println(&quot;[Key] : &quot; + key + &quot; [Value] : &quot; + value));\n    }\n}\n</code></pre>\n"},{"tags":["java","loops"],"answers":[{"comments":[{"owner":{"account_id":28017588,"reputation":1,"user_id":21399063,"display_name":"PJ Pasta"},"score":0,"creation_date":1679118625,"post_id":75774020,"comment_id":133667645,"body_markdown":"After these corrections I am still receiving &quot;Index 6 out of bounds for length 6&quot; - please check out revised question.","body":"After these corrections I am still receiving &quot;Index 6 out of bounds for length 6&quot; - please check out revised question."},{"owner":{"account_id":28017588,"reputation":1,"user_id":21399063,"display_name":"PJ Pasta"},"score":0,"creation_date":1679119099,"post_id":75774020,"comment_id":133667686,"body_markdown":"Ah, whoops, your corrections were correct. I had to add (char) but I accidentally did the opposite of what you recommended at first. Thanks!","body":"Ah, whoops, your corrections were correct. I had to add (char) but I accidentally did the opposite of what you recommended at first. Thanks!"},{"owner":{"account_id":28017588,"reputation":1,"user_id":21399063,"display_name":"PJ Pasta"},"score":0,"creation_date":1679119171,"post_id":75774020,"comment_id":133667693,"body_markdown":"I misread your answer, didn&#39;t expect you to reply so fast before I corrected myself!","body":"I misread your answer, didn&#39;t expect you to reply so fast before I corrected myself!"}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679119243,"creation_date":1679117099,"answer_id":75774020,"question_id":75774017,"body_markdown":"The correct `for` loop is `for(i = 0; i &lt; text.length(); i++)`. And you need to change\r\n\r\n    } else if (text.charAt(i) + rule &lt;= 255) {\r\n        code = code + text.charAt(i + rule);\r\n    }\r\n\r\nto\r\n\r\n    } else if (text.charAt(i) + rule &lt;= 255) {\r\n        code = code + text.charAt(i) + rule;\r\n    }\r\n\r\nAfter your corrections, you moved the mistake you made once and did the same mistake again. **Four times**. This\r\n\r\n    if (text.charAt(i + rule) &gt; 255) {\r\n        code = code + (char) (text.charAt(i + rule) - 255);\r\n    } else if (text.charAt(i + rule) &lt;= 255) {\r\n        code = code + text.charAt(i + rule);\r\n    }\r\n\r\nIs wrong. `i + rule` is always going to give you an out of bounds exception when `rule` is greater than `0` because `i` is the range of all valid indices in `text`.\r\n\r\n    if (text.charAt(i) + rule &gt; 255) {\r\n        code = code + (char) (text.charAt(i) + rule - 255);\r\n    } else if (text.charAt(i) + rule &lt;= 255) {\r\n        code = code + text.charAt(i) + rule;\r\n    }\r\n\r\nJust make your life simpler like\r\n\r\n    char ch = text.charAt(i);\r\n    if (ch + rule &gt; 255) {\r\n        code += ch + rule - 255;\r\n    } else {\r\n        code += ch + rule;\r\n    }","title":"For loop not reading last character in String","body":"<p>The correct <code>for</code> loop is <code>for(i = 0; i &lt; text.length(); i++)</code>. And you need to change</p>\n<pre><code>} else if (text.charAt(i) + rule &lt;= 255) {\n    code = code + text.charAt(i + rule);\n}\n</code></pre>\n<p>to</p>\n<pre><code>} else if (text.charAt(i) + rule &lt;= 255) {\n    code = code + text.charAt(i) + rule;\n}\n</code></pre>\n<p>After your corrections, you moved the mistake you made once and did the same mistake again. <strong>Four times</strong>. This</p>\n<pre><code>if (text.charAt(i + rule) &gt; 255) {\n    code = code + (char) (text.charAt(i + rule) - 255);\n} else if (text.charAt(i + rule) &lt;= 255) {\n    code = code + text.charAt(i + rule);\n}\n</code></pre>\n<p>Is wrong. <code>i + rule</code> is always going to give you an out of bounds exception when <code>rule</code> is greater than <code>0</code> because <code>i</code> is the range of all valid indices in <code>text</code>.</p>\n<pre><code>if (text.charAt(i) + rule &gt; 255) {\n    code = code + (char) (text.charAt(i) + rule - 255);\n} else if (text.charAt(i) + rule &lt;= 255) {\n    code = code + text.charAt(i) + rule;\n}\n</code></pre>\n<p>Just make your life simpler like</p>\n<pre><code>char ch = text.charAt(i);\nif (ch + rule &gt; 255) {\n    code += ch + rule - 255;\n} else {\n    code += ch + rule;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20325330,"reputation":1,"user_id":14908943,"display_name":"Saman Aba"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679117582,"creation_date":1679117582,"answer_id":75774038,"question_id":75774017,"body_markdown":"If you want to iterate on a string called text, you must start from 0 to text.length -1, in this case your condition will be like : i &lt;= text.length\r\notherwise if you use just &quot;&lt;&quot; , the last index doesn&#39;t count, and it should be like this : for(i = 0; i &lt; text.length(); i++)","title":"For loop not reading last character in String","body":"<p>If you want to iterate on a string called text, you must start from 0 to text.length -1, in this case your condition will be like : i &lt;= text.length\notherwise if you use just &quot;&lt;&quot; , the last index doesn't count, and it should be like this : for(i = 0; i &lt; text.length(); i++)</p>\n"}],"owner":{"account_id":28017588,"reputation":1,"user_id":21399063,"display_name":"PJ Pasta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679119243,"creation_date":1679116965,"question_id":75774017,"body_markdown":"I am trying to write a basic key cipher, but I&#39;m having an issue with the for loop not reading the last character:\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        BasicEncrypt.encrypt(&quot;abcdef&quot;, 1);}\r\n\r\n    public class BasicEncrypt {\r\n\r\n        public static String encrypt(String text, int rule) {\r\n\r\n            String code = &quot;&quot;;\r\n            int i;\r\n            for(i = 0; i &lt; text.length() -1; i++) {\r\n                if ((text.charAt(i) + rule) &gt; 255) {\r\n                    code = code + (char) (text.charAt(i) + rule - 255);\r\n                } else if (text.charAt(i) + rule &lt;= 255) {\r\n                    code = code + text.charAt(i) + rule);\r\n                }\r\n            }\r\n\r\n            return code;\r\n        }\r\n    }\r\n\r\n\r\n\r\nThe code returns everything but the last character. If the input string is one character (&#39;a&#39;) the return is empty.\r\n\r\nI change the loop to the following and get an index out of bounds error (which ofc makes sense):\r\n\r\n            for(i = 0; i &lt; text.length(); i++)\r\n\r\nI realize this is a very basic question but I could not find my answer on here after about an hour of searching.\r\n","title":"For loop not reading last character in String","body":"<p>I am trying to write a basic key cipher, but I'm having an issue with the for loop not reading the last character:</p>\n<pre><code>public static void main(String[] args) {\n\n    BasicEncrypt.encrypt(&quot;abcdef&quot;, 1);}\n\npublic class BasicEncrypt {\n\n    public static String encrypt(String text, int rule) {\n\n        String code = &quot;&quot;;\n        int i;\n        for(i = 0; i &lt; text.length() -1; i++) {\n            if ((text.charAt(i) + rule) &gt; 255) {\n                code = code + (char) (text.charAt(i) + rule - 255);\n            } else if (text.charAt(i) + rule &lt;= 255) {\n                code = code + text.charAt(i) + rule);\n            }\n        }\n\n        return code;\n    }\n}\n</code></pre>\n<p>The code returns everything but the last character. If the input string is one character ('a') the return is empty.</p>\n<p>I change the loop to the following and get an index out of bounds error (which ofc makes sense):</p>\n<pre><code>        for(i = 0; i &lt; text.length(); i++)\n</code></pre>\n<p>I realize this is a very basic question but I could not find my answer on here after about an hour of searching.</p>\n"},{"tags":["java","android-studio","jitsi-meet"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679138861,"post_id":75774096,"comment_id":133669915,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28042711,"reputation":1,"user_id":21420005,"display_name":"Deepan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679118868,"creation_date":1679118868,"question_id":75774096,"body_markdown":"i am working in android studio\r\n\r\njitsimeet version-7.0.1\r\n\r\nerror log below\r\n\r\n\r\n\r\nhelp bro\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.mediocre.mscasvideocallingapp, PID: 10453\r\n    java.lang.RuntimeException: Unable to start service org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService@416d006 with Intent { cmp=com.mediocre.mscasvideocallingapp/org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService (has extras) }: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(channel=JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate=null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\r\n        at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4344)\r\n        at android.app.ActivityThread.access$1800(ActivityThread.java:237)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1951)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(channel=JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate=null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\r\n        at android.app.NotificationManager.fixNotification(NotificationManager.java:603)\r\n        at android.app.NotificationManager.notifyAsUser(NotificationManager.java:582)\r\n        at android.app.NotificationManager.notify(NotificationManager.java:531)\r\n        at android.app.NotificationManager.notify(NotificationManager.java:507)\r\n        at org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService.onStartCommand(JitsiMeetOngoingConferenceService.java:135)\r\n        at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4326)\r\n        at android.app.ActivityThread.access$1800(ActivityThread.java:237)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1951)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;\r\nE/JitsiMeetSDK: JitsiMeetUncaughtExceptionHandler FATAL ERROR\r\n    java.lang.RuntimeException: Unable to start service org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService@416d006 with Intent { cmp=com.mediocre.mscasvideocallingapp/org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService (has extras) }: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(channel=JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate=null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\r\n        at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4344)\r\n        at android.app.ActivityThread.access$1800(ActivityThread.java:237)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1951)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(channel=JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate=null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\r\n        at android.app.NotificationManager.fixNotification(NotificationManager.java:603)\r\n        at android.app.NotificationManager.notifyAsUser(NotificationManager.java:582)\r\n        at android.app.NotificationManager.notify(NotificationManager.java:531)\r\n        at android.app.NotificationManager.notify(NotificationManager.java:507)\r\n        at org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService.onStartCommand(JitsiMeetOngoingConferenceService.java:135)\r\n        at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4326)\r\n        at android.app.ActivityThread.access$1800(ActivityThread.java:237)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1951)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;\r\n    \r\n    java.lang.RuntimeException: Unable to start service org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService@416d006 with Intent { cmp=com.mediocre.mscasvideocallingapp/org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService (has extras) }: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(channel=JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate=null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\r\n        at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4344)\r\n        at android.app.ActivityThread.access$1800(ActivityThread.java:237)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1951)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(channel=JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate=null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\r\n        at android.app.NotificationManager.fixNotification(NotificationManager.java:603)\r\n        at android.app.NotificationManager.notifyAsUser(NotificationManager.java:582)\r\n        at android.app.NotificationManager.notify(NotificationManager.java:531)\r\n        at android.app.NotificationManager.notify(NotificationManager.java:507)\r\n        at org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService.onStartCommand(JitsiMeetOngoingConferenceService.java:135)\r\n        at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4326)\r\n        at android.app.ActivityThread.access$1800(ActivityThread.java:237)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1951)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;\r\nI/JitsiMeetSDK: JitsiConnectionService onAbort 0C8B3AB3-6349-4AC9-99C1-38AAC303AEC8\r\nD/JitsiMeetSDK: JitsiConnectionService onStateChanged: DISCONNECTED 0C8B3AB3-6349-4AC9-99C1-38AAC303AEC8\r\nI/Process: Sending signal. PID: 10453 SIG: 9\r\n","title":"jitsi meet api not working join meeting restart from join meeting","body":"<p>i am working in android studio</p>\n<p>jitsimeet version-7.0.1</p>\n<p>error log below</p>\n<p>help bro\nE/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.mediocre.mscasvideocallingapp, PID: 10453\njava.lang.RuntimeException: Unable to start service org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService@416d006 with Intent { cmp=com.mediocre.mscasvideocallingapp/org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService (has extras) }: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(channel=JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate=null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\nat android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4344)\nat android.app.ActivityThread.access$1800(ActivityThread.java:237)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1951)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:223)\nat android.app.ActivityThread.main(ActivityThread.java:7656)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\nCaused by: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(channel=JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate=null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\nat android.app.NotificationManager.fixNotification(NotificationManager.java:603)\nat android.app.NotificationManager.notifyAsUser(NotificationManager.java:582)\nat android.app.NotificationManager.notify(NotificationManager.java:531)\nat android.app.NotificationManager.notify(NotificationManager.java:507)\nat org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService.onStartCommand(JitsiMeetOngoingConferenceService.java:135)\nat android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4326)\nat android.app.ActivityThread.access$1800(ActivityThread.java:237)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1951)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:223)\nat android.app.ActivityThread.main(ActivityThread.java:7656)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\nE/JitsiMeetSDK: JitsiMeetUncaughtExceptionHandler FATAL ERROR\njava.lang.RuntimeException: Unable to start service org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService@416d006 with Intent { cmp=com.mediocre.mscasvideocallingapp/org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService (has extras) }: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(channel=JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate=null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\nat android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4344)\nat android.app.ActivityThread.access$1800(ActivityThread.java:237)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1951)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:223)\nat android.app.ActivityThread.main(ActivityThread.java:7656)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\nCaused by: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(channel=JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate=null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\nat android.app.NotificationManager.fixNotification(NotificationManager.java:603)\nat android.app.NotificationManager.notifyAsUser(NotificationManager.java:582)\nat android.app.NotificationManager.notify(NotificationManager.java:531)\nat android.app.NotificationManager.notify(NotificationManager.java:507)\nat org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService.onStartCommand(JitsiMeetOngoingConferenceService.java:135)\nat android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4326)\nat android.app.ActivityThread.access$1800(ActivityThread.java:237)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1951)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:223)\nat android.app.ActivityThread.main(ActivityThread.java:7656)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)</p>\n<pre><code>java.lang.RuntimeException: Unable to start service org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService@416d006 with Intent { cmp=com.mediocre.mscasvideocallingapp/org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService (has extras) }: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(channel=JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate=null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\n    at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4344)\n    at android.app.ActivityThread.access$1800(ActivityThread.java:237)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1951)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:223)\n    at android.app.ActivityThread.main(ActivityThread.java:7656)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n Caused by: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(channel=JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate=null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\n    at android.app.NotificationManager.fixNotification(NotificationManager.java:603)\n    at android.app.NotificationManager.notifyAsUser(NotificationManager.java:582)\n    at android.app.NotificationManager.notify(NotificationManager.java:531)\n    at android.app.NotificationManager.notify(NotificationManager.java:507)\n    at org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService.onStartCommand(JitsiMeetOngoingConferenceService.java:135)\n    at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4326)\n    at android.app.ActivityThread.access$1800(ActivityThread.java:237)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1951)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:223)\n    at android.app.ActivityThread.main(ActivityThread.java:7656)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n<p>I/JitsiMeetSDK: JitsiConnectionService onAbort 0C8B3AB3-6349-4AC9-99C1-38AAC303AEC8\nD/JitsiMeetSDK: JitsiConnectionService onStateChanged: DISCONNECTED 0C8B3AB3-6349-4AC9-99C1-38AAC303AEC8\nI/Process: Sending signal. PID: 10453 SIG: 9</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":21341673,"reputation":79,"user_id":15712058,"display_name":"Alireza "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679117792,"creation_date":1679117792,"question_id":75774047,"body_markdown":"I used `TransitionManager` for change constraints in `ConstraintLayout`:\r\n\r\n    TransitionManager.beginDelayedTransition(binding.columnsContainer, transition)\r\n\r\nMy animation not displaying if the user changes the animation duration scale in the phone developer settings. How can I set the duration scale on `TransitionManager`?","title":"Ignore global animation duration scale for TransitionManager","body":"<p>I used <code>TransitionManager</code> for change constraints in <code>ConstraintLayout</code>:</p>\n<pre><code>TransitionManager.beginDelayedTransition(binding.columnsContainer, transition)\n</code></pre>\n<p>My animation not displaying if the user changes the animation duration scale in the phone developer settings. How can I set the duration scale on <code>TransitionManager</code>?</p>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679115908,"creation_date":1679114927,"answer_id":75773919,"question_id":75773891,"body_markdown":"Let&#39;s say `flag` is `Boolean.TRUE` to start an iteration of the loop. So, this:\r\n\r\n    synchronized (flag) {\r\n\r\nwill acquire the lock on `Boolean.TRUE`. Then, in the first thread, you do:\r\n\r\n    flag = false;\r\n    flag.notify();\r\n\r\nThis means you&#39;re trying to call `notify` on `Boolean.FALSE`, even though you never acquired the lock for that object. A similar thing happens in the second loop, just with `TRUE` and `FALSE` switched.\r\n\r\nYour working example succeeds because you never re-assign `obj`, meaning that each thread always calls `notify()` on the same object that it locked on within the `synchronized` statement.\r\n\r\nMore generally, acquiring a lock on a mutable variable is problematic. For example, this would let you have two threads enter the `synchronized` block at the same time: one enters it by locking on `TRUE`, and the other enters it by locking on `FALSE`. That&#39;s almost always a bug (the whole reason you have the `synchronized` is to prevent multiple threads from entering the block at the same time!), and when it _is_ what you want, a higher-level abstraction like [`java.util.concurrent.Semaphore`][1] is clearer and easier to use in a bug-free way.\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/Semaphore.html","title":"java.lang.IllegalMonitorStateException: current thread is not owner","body":"<p>Let's say <code>flag</code> is <code>Boolean.TRUE</code> to start an iteration of the loop. So, this:</p>\n<pre><code>synchronized (flag) {\n</code></pre>\n<p>will acquire the lock on <code>Boolean.TRUE</code>. Then, in the first thread, you do:</p>\n<pre><code>flag = false;\nflag.notify();\n</code></pre>\n<p>This means you're trying to call <code>notify</code> on <code>Boolean.FALSE</code>, even though you never acquired the lock for that object. A similar thing happens in the second loop, just with <code>TRUE</code> and <code>FALSE</code> switched.</p>\n<p>Your working example succeeds because you never re-assign <code>obj</code>, meaning that each thread always calls <code>notify()</code> on the same object that it locked on within the <code>synchronized</code> statement.</p>\n<p>More generally, acquiring a lock on a mutable variable is problematic. For example, this would let you have two threads enter the <code>synchronized</code> block at the same time: one enters it by locking on <code>TRUE</code>, and the other enters it by locking on <code>FALSE</code>. That's almost always a bug (the whole reason you have the <code>synchronized</code> is to prevent multiple threads from entering the block at the same time!), and when it <em>is</em> what you want, a higher-level abstraction like <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/Semaphore.html\" rel=\"nofollow noreferrer\"><code>java.util.concurrent.Semaphore</code></a> is clearer and easier to use in a bug-free way.</p>\n"}],"owner":{"account_id":28047683,"reputation":23,"user_id":21424139,"display_name":"SomeOne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":943,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75773919,"answer_count":1,"score":1,"last_activity_date":1679115908,"creation_date":1679114340,"question_id":75773891,"body_markdown":"I get `java.lang.IllegalMonitorStateException: current thread is not owner` on `notify` when I try to print &quot;1a2b3c...&quot; even `flag.nofity()` is in the syncrhonized block.\r\nHowever, if I use another object to synchronize and notify, it works as expected.\r\nCan someone explain why?\r\n```\r\nclass Main{\r\n    static volatile Boolean flag = true;\r\n    static int cnt = 26;\r\n\r\n    public static void main(String[] args) {\r\n        new Thread(() -&gt; {\r\n            for (int i = 1; i &lt;= cnt; i++) {\r\n                synchronized (flag) {\r\n                    try {\r\n                        while(!flag) flag.wait();\r\n                        System.out.print(i);\r\n                        flag = false;\r\n                        flag.notify();\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }\r\n        }).start();\r\n\r\n        new Thread(() -&gt; {\r\n            for (int i = 0; i &lt; cnt; i++) {\r\n                synchronized (flag) {\r\n                    try {\r\n                        while(flag) flag.wait();\r\n                        System.out.print((char) (i + &#39;a&#39;));\r\n                        flag = true;\r\n                        flag.notify();\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }\r\n        }).start();\r\n    }\r\n}\r\n```\r\n\r\n\r\nA working example\r\n```\r\nclass Main{\r\n    static volatile Boolean flag = true;\r\n    static Object obj = new Object();\r\n    static int cnt = 26;\r\n\r\n    public static void main(String[] args) {\r\n        new Thread(() -&gt; {\r\n            for (int i = 1; i &lt;= cnt; i++) {\r\n                synchronized (obj) {\r\n                    try {\r\n                        while(!flag) obj.wait();\r\n                        System.out.print(i);\r\n                        flag = false;\r\n                        obj.notify();\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }\r\n        }).start();\r\n\r\n        new Thread(() -&gt; {\r\n            for (int i = 0; i &lt; cnt; i++) {\r\n                synchronized (obj) {\r\n                    try {\r\n                        while(flag) obj.wait();\r\n                        System.out.print((char) (i + &#39;a&#39;));\r\n                        flag = true;\r\n                        obj.notify();\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }\r\n        }).start();\r\n    }\r\n}\r\n```\r\n","title":"java.lang.IllegalMonitorStateException: current thread is not owner","body":"<p>I get <code>java.lang.IllegalMonitorStateException: current thread is not owner</code> on <code>notify</code> when I try to print &quot;1a2b3c...&quot; even <code>flag.nofity()</code> is in the syncrhonized block.\nHowever, if I use another object to synchronize and notify, it works as expected.\nCan someone explain why?</p>\n<pre><code>class Main{\n    static volatile Boolean flag = true;\n    static int cnt = 26;\n\n    public static void main(String[] args) {\n        new Thread(() -&gt; {\n            for (int i = 1; i &lt;= cnt; i++) {\n                synchronized (flag) {\n                    try {\n                        while(!flag) flag.wait();\n                        System.out.print(i);\n                        flag = false;\n                        flag.notify();\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }\n        }).start();\n\n        new Thread(() -&gt; {\n            for (int i = 0; i &lt; cnt; i++) {\n                synchronized (flag) {\n                    try {\n                        while(flag) flag.wait();\n                        System.out.print((char) (i + 'a'));\n                        flag = true;\n                        flag.notify();\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }\n        }).start();\n    }\n}\n</code></pre>\n<p>A working example</p>\n<pre><code>class Main{\n    static volatile Boolean flag = true;\n    static Object obj = new Object();\n    static int cnt = 26;\n\n    public static void main(String[] args) {\n        new Thread(() -&gt; {\n            for (int i = 1; i &lt;= cnt; i++) {\n                synchronized (obj) {\n                    try {\n                        while(!flag) obj.wait();\n                        System.out.print(i);\n                        flag = false;\n                        obj.notify();\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }\n        }).start();\n\n        new Thread(() -&gt; {\n            for (int i = 0; i &lt; cnt; i++) {\n                synchronized (obj) {\n                    try {\n                        while(flag) obj.wait();\n                        System.out.print((char) (i + 'a'));\n                        flag = true;\n                        obj.notify();\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }\n        }).start();\n    }\n}\n</code></pre>\n"},{"tags":["java","vector","graphics","perlin-noise"],"owner":{"account_id":24550126,"reputation":82,"user_id":18459374,"display_name":"akaBryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679115083,"creation_date":1679115083,"question_id":75773927,"body_markdown":"I am creating a vector flow field program in java, and I have implemented my on Vector and Perlin Noise in Java. In my Noise class, which I built off of p5.js&#39; Perlin Noise class, I think everything thing is correct, however, when using it how I want implemented in my flow field program, as I increment the zoff (z coordinate) parameter, for animation, there are lots of skips in the actual animation as if the Perlin Noise is not generating smoothly. \r\n\r\nI tried comparing the Noise class to the p5.js library&#39;s Noise class and they are seemingly exact. The Vector class I have used has been used in plenty of other projects before seemingly perfectly, so I assume it&#39;s in how I am trying to animate, or the Noise class itself.\r\n\r\nHere are my classes for the program itself and the noise class.\r\n```\r\nimport java.awt.BasicStroke;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.MouseInfo;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport java.awt.event.MouseMotionListener;\r\nimport java.awt.geom.AffineTransform;\r\nimport java.util.Random;\r\n\r\nimport javax.swing.JPanel;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class FlowFieldPanel extends JPanel implements MouseMotionListener, MouseListener {\r\n\r\n\tprivate int displayWidth;\r\n\tprivate int displayHeight;\r\n\r\n\tprivate int cols;\r\n\tprivate int rows;\r\n\r\n\tprivate int scale;\r\n\tprivate double inc;\r\n\t\r\n\tprivate double zoff;\r\n\r\n\tprivate Random random;\r\n\r\n\tpublic FlowFieldPanel(int displayWidth, int displayHeight) {\r\n\r\n\t\tthis.displayWidth = displayWidth;\r\n\t\tthis.displayHeight = displayHeight;\r\n\t\tthis.setBackground(Color.white);\r\n\r\n\t\tscale = 15;\r\n\t\tinc = 0.01;\r\n\r\n\t\tcols = displayWidth / scale + 1;\r\n\t\trows = displayHeight / scale + 1;\r\n\t\t\r\n\t\tzoff=0;\r\n\r\n\t\trandom = new Random();\r\n\t}\r\n\r\n\tpublic Dimension getPreferredSize() {\r\n\t\treturn new Dimension(this.displayWidth, this.displayHeight);\r\n\t}\r\n\r\n\t// repaint\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\tGraphics2D g2d = (Graphics2D) g;\r\n\t\tsuper.paintComponent(g);\r\n\r\n\t\tdouble yoff = 0;\r\n\t\tfor (int y = 0; y &lt; rows; y++) {\r\n\t\t\tdouble xoff = 0;\r\n\t\t\tfor (int x = 0; x &lt; cols; x++) {\r\n\t\t\t\tdouble angle = Noise.noise(xoff, yoff, zoff) * Math.PI * 2;\r\n\t\t\t\tVector v = Vector.fromAngle(angle, 1);\r\n\r\n\t\t\t\txoff += inc;\r\n\r\n\t\t\t\tg2d.setColor(Color.black);\r\n\t\t\t\tg2d.setStroke(new BasicStroke(2));\r\n\t\t\t\tAffineTransform settings = g2d.getTransform();\r\n\r\n\t\t\t\tg2d.translate(x * scale, y * scale);\r\n\t\t\t\tg2d.rotate(v.heading(true));\r\n\t\t\t\tg2d.drawLine(0, 0, scale, 0);\r\n\r\n\t\t\t\tg2d.setStroke(new BasicStroke());\r\n\t\t\t\tg2d.setTransform(settings);\r\n\t\t\t}\r\n\t\t\tyoff += inc;\r\n\t\t\t\r\n\t\t}\r\n\t\tzoff += 0.005;\r\n\t\t\r\n\t}\r\n\r\n\t// update function if using ticks\r\n\tpublic void update() {\r\n\t}\r\n\r\n\tpublic void drawMouse(Graphics g) {\r\n\t\tint width = 48;\r\n\t\tint height = 48;\r\n\t\tGraphics2D g2d = (Graphics2D) g;\r\n\t\tg2d.setColor(new Color(200, 200, 200));\r\n\t\tg2d.setStroke(new BasicStroke(2));\r\n\t\tg2d.setColor(new Color(127, 127, 127));\r\n\t\tg2d.fillOval((int) (getMouseRelativeToPanel().getX()) - width / 2,\r\n\t\t\t\t(int) (getMouseRelativeToPanel().getY()) - height / 2, width, height);\r\n\t\tg2d.setStroke(new BasicStroke());\r\n\t}\r\n\r\n\tpublic void drawMouseCoordinates(Graphics g) {\r\n\r\n\t}\r\n\r\n\t// getters and setters\r\n\tpublic Vector getMouseRelativeToPanel() {\r\n\t\treturn new Vector((int) (MouseInfo.getPointerInfo().getLocation().getX() - this.getLocationOnScreen().getX()),\r\n\t\t\t\t(int) (MouseInfo.getPointerInfo().getLocation().getY() - this.getLocationOnScreen().getY()));\r\n\t}\r\n\r\n\tpublic void setDisplayWidth(int displayWidth) {\r\n\t\tthis.displayWidth = displayWidth;\r\n\t}\r\n\r\n\tpublic int getDisplayWidth() {\r\n\t\treturn this.displayWidth;\r\n\t}\r\n\r\n\tpublic void setDisplayHeight(int displayHeight) {\r\n\t\tthis.displayHeight = displayHeight;\r\n\t}\r\n\r\n\tpublic int getDisplayHeight() {\r\n\t\treturn this.displayHeight;\r\n\t}\r\n\t// end getters and setters\r\n\r\n    //mouse listener and motion listener methods\r\n\t@Override\r\n\tpublic void mouseDragged(MouseEvent e) {\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseMoved(MouseEvent e) {\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseClicked(MouseEvent e) {\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mousePressed(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseReleased(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseEntered(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseExited(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```\r\n\r\npublic class Noise {\r\n\r\n\tprivate static final int PERLIN_YWRAPB = 4;\r\n\tprivate static final int PERLIN_YWRAP = 1 &lt;&lt; PERLIN_YWRAPB;\r\n\tprivate static final int PERLIN_ZWRAPB = 8;\r\n\tprivate static final int PERLIN_ZWRAP = 4 &lt;&lt; PERLIN_ZWRAPB;\r\n\tprivate static final int PERLIN_SIZE = 4095;\r\n\r\n\tprivate static double perlinOctaves = 4;\r\n\tprivate static double perlinAmpFalloff = 0.5;\r\n\r\n\tprivate static final long m = 4294967296l;\r\n    // a - 1 should be divisible by m&#39;s prime factors\r\n\tprivate static final long a = 1664525l;\r\n    // c and m should be co-prime\r\n\tprivate static final long c = 1013904223l;\r\n\t\r\n\tpublic static long seed, z;\r\n\t\r\n\tprivate static double[] perlin;\r\n\r\n\r\n\r\n\tpublic static double noise(double x, double y, double z) {\r\n\t\tif (perlin == null) {\r\n\t\t\tperlin = new double[PERLIN_SIZE + 1];\r\n\t\t\tfor (int i = 0; i &lt; PERLIN_SIZE + 1; i++) {\r\n\t\t\t\tperlin[i] = Math.random();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (x &lt; 0) {\r\n\t\t\tx = -x;\r\n\t\t}\r\n\t\tif (y &lt; 0) {\r\n\t\t\ty = -y;\r\n\t\t}\r\n\t\tif (z &lt; 0) {\r\n\t\t\tz = -z;\r\n\t\t}\r\n\r\n\t\tint xi = (int) Math.floor(x);\r\n\t\tint yi = (int) Math.floor(y);\r\n\t\tint zi = (int) Math.floor(z);\r\n\r\n\t\tdouble xf = x - xi;\r\n\t\tdouble yf = y - yi;\r\n\t\tdouble zf = z - zi;\r\n\r\n\t\tdouble rxf, ryf;\r\n\t\t\r\n\t\tdouble r = 0;\r\n\t\tdouble ampl = 0.5;\r\n\r\n\t\tdouble n1, n2, n3;\r\n\t\t\r\n\t\tfor (int o = 0; o &lt; perlinOctaves; o++) {\r\n\t\t\tint of = xi + (yi &lt;&lt; PERLIN_YWRAPB) + (zi &lt;&lt; PERLIN_ZWRAPB);\r\n\r\n\t\t\trxf = scaledCosine(xf);\r\n\t\t\tryf = scaledCosine(yf);\r\n\r\n\t\t\tn1 = perlin[of &amp; PERLIN_SIZE];\r\n\t\t\tn1 += rxf * (perlin[(of + 1) &amp; PERLIN_SIZE] - n1);\r\n\t\t\tn2 = perlin[(of + PERLIN_YWRAP) &amp; PERLIN_SIZE];\r\n\t\t\tn2 += rxf * (perlin[(of + PERLIN_YWRAP + 1) &amp; PERLIN_SIZE] - n2);\r\n\t\t\tn1 += ryf * (n2 - n1);\r\n\r\n\t\t\tof += PERLIN_ZWRAP;\r\n\t\t\tn2 = perlin[of &amp; PERLIN_SIZE];\r\n\t\t\tn2 += rxf * (perlin[(of + 1) &amp; PERLIN_SIZE] - n2);\r\n\t\t\tn3 = perlin[(of + PERLIN_YWRAP) &amp; PERLIN_SIZE];\r\n\t\t\tn3 += rxf * (perlin[(of + PERLIN_YWRAP + 1) &amp; PERLIN_SIZE] - n3);\r\n\t\t\tn2 += ryf * (n3 - n2);\r\n\r\n\t\t\tn1 += scaledCosine(zf) * (n2 - n1);\r\n\r\n\t\t\tr += n1 * ampl;\r\n\t\t\tampl *= perlinAmpFalloff;\r\n\t\t\txi &lt;&lt;= 1;\r\n\t\t\txf *= 2;\r\n\t\t\tyi &lt;&lt;= 1;\r\n\t\t\tyf *= 2;\r\n\t\t\tzi &lt;&lt;= 1;\r\n\t\t\tzf *= 2;\r\n\r\n\t\t\tif (xf &gt;= 1.0) {\r\n\t\t\t\txi++;\r\n\t\t\t\txf--;\r\n\t\t\t}\r\n\t\t\tif (yf &gt;= 1.0) {\r\n\t\t\t\tyi++;\r\n\t\t\t\tyf--;\r\n\t\t\t}\r\n\t\t\tif (zf &gt;= 1.0) {\r\n\t\t\t\tzi++;\r\n\t\t\t\tzf--;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn r;\r\n\t}\r\n\r\n\tpublic static void noiseDetail(double lod, double falloff) {\r\n\t\tif (lod &gt; 0) {\r\n\t\t\tNoise.perlinOctaves = lod;\r\n\t\t}\r\n\t\tif (falloff &gt; 0) {\r\n\t\t\tNoise.perlinAmpFalloff = falloff;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void noiseSeed(long seed) {\r\n\t\tlcgSetSeed(seed);\r\n\t\tperlin = new double[PERLIN_SIZE+1];\r\n\t\tfor(int i = 0; i&lt;PERLIN_SIZE+1; i++) {\r\n\t\t\tperlin[i] = lcgRand();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void lcgSetSeed(long value) {\r\n\t\tz = seed = (long)(Math.random() * m) &gt;&gt;&gt; 0;\r\n\t}\r\n\t\r\n\tpublic static long lcgGetSeed() {\r\n\t\treturn seed;\r\n\t}\r\n\t\r\n\tpublic static double lcgRand() {\r\n\t\tz = (a * z + c) % m;\r\n\t\treturn z/m;\r\n\t}\r\n\r\n\tpublic static double scaledCosine(double i) {\r\n\t\treturn 0.5 * (1.0 - Math.cos(i * Math.PI));\r\n\t}\r\n}\r\n\r\n```","title":"&quot;Skipping&quot; in Perlin Noise Generator in Java Flow Field Program","body":"<p>I am creating a vector flow field program in java, and I have implemented my on Vector and Perlin Noise in Java. In my Noise class, which I built off of p5.js' Perlin Noise class, I think everything thing is correct, however, when using it how I want implemented in my flow field program, as I increment the zoff (z coordinate) parameter, for animation, there are lots of skips in the actual animation as if the Perlin Noise is not generating smoothly.</p>\n<p>I tried comparing the Noise class to the p5.js library's Noise class and they are seemingly exact. The Vector class I have used has been used in plenty of other projects before seemingly perfectly, so I assume it's in how I am trying to animate, or the Noise class itself.</p>\n<p>Here are my classes for the program itself and the noise class.</p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.MouseInfo;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\nimport java.awt.geom.AffineTransform;\nimport java.util.Random;\n\nimport javax.swing.JPanel;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class FlowFieldPanel extends JPanel implements MouseMotionListener, MouseListener {\n\n    private int displayWidth;\n    private int displayHeight;\n\n    private int cols;\n    private int rows;\n\n    private int scale;\n    private double inc;\n    \n    private double zoff;\n\n    private Random random;\n\n    public FlowFieldPanel(int displayWidth, int displayHeight) {\n\n        this.displayWidth = displayWidth;\n        this.displayHeight = displayHeight;\n        this.setBackground(Color.white);\n\n        scale = 15;\n        inc = 0.01;\n\n        cols = displayWidth / scale + 1;\n        rows = displayHeight / scale + 1;\n        \n        zoff=0;\n\n        random = new Random();\n    }\n\n    public Dimension getPreferredSize() {\n        return new Dimension(this.displayWidth, this.displayHeight);\n    }\n\n    // repaint\n    public void paintComponent(Graphics g) {\n        Graphics2D g2d = (Graphics2D) g;\n        super.paintComponent(g);\n\n        double yoff = 0;\n        for (int y = 0; y &lt; rows; y++) {\n            double xoff = 0;\n            for (int x = 0; x &lt; cols; x++) {\n                double angle = Noise.noise(xoff, yoff, zoff) * Math.PI * 2;\n                Vector v = Vector.fromAngle(angle, 1);\n\n                xoff += inc;\n\n                g2d.setColor(Color.black);\n                g2d.setStroke(new BasicStroke(2));\n                AffineTransform settings = g2d.getTransform();\n\n                g2d.translate(x * scale, y * scale);\n                g2d.rotate(v.heading(true));\n                g2d.drawLine(0, 0, scale, 0);\n\n                g2d.setStroke(new BasicStroke());\n                g2d.setTransform(settings);\n            }\n            yoff += inc;\n            \n        }\n        zoff += 0.005;\n        \n    }\n\n    // update function if using ticks\n    public void update() {\n    }\n\n    public void drawMouse(Graphics g) {\n        int width = 48;\n        int height = 48;\n        Graphics2D g2d = (Graphics2D) g;\n        g2d.setColor(new Color(200, 200, 200));\n        g2d.setStroke(new BasicStroke(2));\n        g2d.setColor(new Color(127, 127, 127));\n        g2d.fillOval((int) (getMouseRelativeToPanel().getX()) - width / 2,\n                (int) (getMouseRelativeToPanel().getY()) - height / 2, width, height);\n        g2d.setStroke(new BasicStroke());\n    }\n\n    public void drawMouseCoordinates(Graphics g) {\n\n    }\n\n    // getters and setters\n    public Vector getMouseRelativeToPanel() {\n        return new Vector((int) (MouseInfo.getPointerInfo().getLocation().getX() - this.getLocationOnScreen().getX()),\n                (int) (MouseInfo.getPointerInfo().getLocation().getY() - this.getLocationOnScreen().getY()));\n    }\n\n    public void setDisplayWidth(int displayWidth) {\n        this.displayWidth = displayWidth;\n    }\n\n    public int getDisplayWidth() {\n        return this.displayWidth;\n    }\n\n    public void setDisplayHeight(int displayHeight) {\n        this.displayHeight = displayHeight;\n    }\n\n    public int getDisplayHeight() {\n        return this.displayHeight;\n    }\n    // end getters and setters\n\n    //mouse listener and motion listener methods\n    @Override\n    public void mouseDragged(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseMoved(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n\n}\n</code></pre>\n<pre><code>\npublic class Noise {\n\n    private static final int PERLIN_YWRAPB = 4;\n    private static final int PERLIN_YWRAP = 1 &lt;&lt; PERLIN_YWRAPB;\n    private static final int PERLIN_ZWRAPB = 8;\n    private static final int PERLIN_ZWRAP = 4 &lt;&lt; PERLIN_ZWRAPB;\n    private static final int PERLIN_SIZE = 4095;\n\n    private static double perlinOctaves = 4;\n    private static double perlinAmpFalloff = 0.5;\n\n    private static final long m = 4294967296l;\n    // a - 1 should be divisible by m's prime factors\n    private static final long a = 1664525l;\n    // c and m should be co-prime\n    private static final long c = 1013904223l;\n    \n    public static long seed, z;\n    \n    private static double[] perlin;\n\n\n\n    public static double noise(double x, double y, double z) {\n        if (perlin == null) {\n            perlin = new double[PERLIN_SIZE + 1];\n            for (int i = 0; i &lt; PERLIN_SIZE + 1; i++) {\n                perlin[i] = Math.random();\n            }\n        }\n\n        if (x &lt; 0) {\n            x = -x;\n        }\n        if (y &lt; 0) {\n            y = -y;\n        }\n        if (z &lt; 0) {\n            z = -z;\n        }\n\n        int xi = (int) Math.floor(x);\n        int yi = (int) Math.floor(y);\n        int zi = (int) Math.floor(z);\n\n        double xf = x - xi;\n        double yf = y - yi;\n        double zf = z - zi;\n\n        double rxf, ryf;\n        \n        double r = 0;\n        double ampl = 0.5;\n\n        double n1, n2, n3;\n        \n        for (int o = 0; o &lt; perlinOctaves; o++) {\n            int of = xi + (yi &lt;&lt; PERLIN_YWRAPB) + (zi &lt;&lt; PERLIN_ZWRAPB);\n\n            rxf = scaledCosine(xf);\n            ryf = scaledCosine(yf);\n\n            n1 = perlin[of &amp; PERLIN_SIZE];\n            n1 += rxf * (perlin[(of + 1) &amp; PERLIN_SIZE] - n1);\n            n2 = perlin[(of + PERLIN_YWRAP) &amp; PERLIN_SIZE];\n            n2 += rxf * (perlin[(of + PERLIN_YWRAP + 1) &amp; PERLIN_SIZE] - n2);\n            n1 += ryf * (n2 - n1);\n\n            of += PERLIN_ZWRAP;\n            n2 = perlin[of &amp; PERLIN_SIZE];\n            n2 += rxf * (perlin[(of + 1) &amp; PERLIN_SIZE] - n2);\n            n3 = perlin[(of + PERLIN_YWRAP) &amp; PERLIN_SIZE];\n            n3 += rxf * (perlin[(of + PERLIN_YWRAP + 1) &amp; PERLIN_SIZE] - n3);\n            n2 += ryf * (n3 - n2);\n\n            n1 += scaledCosine(zf) * (n2 - n1);\n\n            r += n1 * ampl;\n            ampl *= perlinAmpFalloff;\n            xi &lt;&lt;= 1;\n            xf *= 2;\n            yi &lt;&lt;= 1;\n            yf *= 2;\n            zi &lt;&lt;= 1;\n            zf *= 2;\n\n            if (xf &gt;= 1.0) {\n                xi++;\n                xf--;\n            }\n            if (yf &gt;= 1.0) {\n                yi++;\n                yf--;\n            }\n            if (zf &gt;= 1.0) {\n                zi++;\n                zf--;\n            }\n\n        }\n        return r;\n    }\n\n    public static void noiseDetail(double lod, double falloff) {\n        if (lod &gt; 0) {\n            Noise.perlinOctaves = lod;\n        }\n        if (falloff &gt; 0) {\n            Noise.perlinAmpFalloff = falloff;\n        }\n    }\n    \n    public static void noiseSeed(long seed) {\n        lcgSetSeed(seed);\n        perlin = new double[PERLIN_SIZE+1];\n        for(int i = 0; i&lt;PERLIN_SIZE+1; i++) {\n            perlin[i] = lcgRand();\n        }\n    }\n    \n    public static void lcgSetSeed(long value) {\n        z = seed = (long)(Math.random() * m) &gt;&gt;&gt; 0;\n    }\n    \n    public static long lcgGetSeed() {\n        return seed;\n    }\n    \n    public static double lcgRand() {\n        z = (a * z + c) % m;\n        return z/m;\n    }\n\n    public static double scaledCosine(double i) {\n        return 0.5 * (1.0 - Math.cos(i * Math.PI));\n    }\n}\n\n</code></pre>\n"},{"tags":["java","max","min"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1511135888,"post_id":47383316,"comment_id":81719366,"body_markdown":"You&#39;ve got two nested for loops.  You don&#39;t need that.  One would be enough.","body":"You&#39;ve got two nested for loops.  You don&#39;t need that.  One would be enough."},{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":0,"creation_date":1511135892,"post_id":47383316,"comment_id":81719370,"body_markdown":"you only need one loop to find the minimum and maximum numbers.","body":"you only need one loop to find the minimum and maximum numbers."},{"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"score":0,"creation_date":1511136039,"post_id":47383316,"comment_id":81719398,"body_markdown":"Basic debugging (or even just a code read through) would sort this out.","body":"Basic debugging (or even just a code read through) would sort this out."},{"owner":{"account_id":2774190,"reputation":13369,"user_id":3195526,"accept_rate":71,"display_name":"Paul Hicks"},"score":0,"creation_date":1511136056,"post_id":47383316,"comment_id":81719401,"body_markdown":"There are min and max methods already on the `Stream` class. See if you can convert your array to a Stream, that might be easier.","body":"There are min and max methods already on the <code>Stream</code> class. See if you can convert your array to a Stream, that might be easier."}],"answers":[{"tags":[],"owner":{"account_id":9333756,"reputation":53,"user_id":8458437,"display_name":"danwalkerdev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1511136269,"creation_date":1511136269,"answer_id":47383387,"question_id":47383316,"body_markdown":"Let&#39;s go through the process. Because this is an int array the values are initialized to `0`. In the first for loop we assign the first int to `a[0]`. Then in the second for loop we check every value in the array if it is maximal (so checking the first value against a load of zeros) then you exit the nested for loop and print the statement (with the value of `a[0]`, if it was positive).\r\n\r\nNow we go through the second cycle of the outer loop, if this was bigger again this value will be printed, otherwise the first value will be reprinted (was your array in ascending order by any chance?) and so on for each value.\r\n\r\nAs was commented, a single loop would be enough, and ensure your print statement is outside of the outer for loop\r\n\r\n    \r\n\r\nHope this helps","title":"Finding a minimum and maximum value in an array","body":"<p>Let's go through the process. Because this is an int array the values are initialized to <code>0</code>. In the first for loop we assign the first int to <code>a[0]</code>. Then in the second for loop we check every value in the array if it is maximal (so checking the first value against a load of zeros) then you exit the nested for loop and print the statement (with the value of <code>a[0]</code>, if it was positive).</p>\n\n<p>Now we go through the second cycle of the outer loop, if this was bigger again this value will be printed, otherwise the first value will be reprinted (was your array in ascending order by any chance?) and so on for each value.</p>\n\n<p>As was commented, a single loop would be enough, and ensure your print statement is outside of the outer for loop</p>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"display_name":"user8828810"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511136287,"creation_date":1511136287,"answer_id":47383391,"question_id":47383316,"body_markdown":"You only need one loop to check through the array.\r\n\r\nBelow is an example\r\n\r\n    int[] arr = {2, 3, 1, 6, 4, 7, 8, 5};\r\n    \r\n    int max = arr[0];\r\n    int min = arr[0];\r\n    \r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n        if (arr[i] &gt; max) {\r\n            max = arr[i];\r\n        }\r\n        if (arr[i] &lt; min) {\r\n            min = arr[i];\r\n        }\r\n    }","title":"Finding a minimum and maximum value in an array","body":"<p>You only need one loop to check through the array.</p>\n\n<p>Below is an example</p>\n\n<pre><code>int[] arr = {2, 3, 1, 6, 4, 7, 8, 5};\n\nint max = arr[0];\nint min = arr[0];\n\nfor (int i = 0; i &lt; arr.length; i++) {\n    if (arr[i] &gt; max) {\n        max = arr[i];\n    }\n    if (arr[i] &lt; min) {\n        min = arr[i];\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511136489,"creation_date":1511136489,"answer_id":47383410,"question_id":47383316,"body_markdown":"You aren&#39;t fully populating the array before you search for more values. You shouldn&#39;t be searching forward. Also, you shouldn&#39;t print until after you determine the `min` and `max`. If you&#39;re using Java 8+, this problem is much easier to solve; map the args to int(s) and get the summary statistics. Like,\r\n\r\n\tIntSummaryStatistics stats = Stream.of(args).mapToInt(Integer::parseInt)\r\n\t\t\t.summaryStatistics();\r\n\tSystem.out.printf(&quot;The minimum value is %d%n&quot;, stats.getMin());\r\n\tSystem.out.printf(&quot;The maximum value is %d%n&quot;, stats.getMax());\r\n\r\n**or** fixing your current code, declare `min` and `max` outside the loop. Update them on each value. Then display the result. Like,\r\n\r\n\tint min = Integer.MAX_VALUE, max = Integer.MIN_VALUE;\r\n\tint[] a = new int[args.length];\r\n\tfor (int i = 0; i &lt; args.length; i++) {\r\n\t\ta[i] = Integer.parseInt(args[i]);\r\n\t\tmax = Math.max(a[i], max);\r\n\t\tmin = Math.min(a[i], min);\r\n\t}\r\n\tSystem.out.printf(&quot;The minimum value is %d%n&quot;, min);\r\n\tSystem.out.printf(&quot;The maximum value is %d%n&quot;, max);\r\n\r\n","title":"Finding a minimum and maximum value in an array","body":"<p>You aren't fully populating the array before you search for more values. You shouldn't be searching forward. Also, you shouldn't print until after you determine the <code>min</code> and <code>max</code>. If you're using Java 8+, this problem is much easier to solve; map the args to int(s) and get the summary statistics. Like,</p>\n\n<pre><code>IntSummaryStatistics stats = Stream.of(args).mapToInt(Integer::parseInt)\n        .summaryStatistics();\nSystem.out.printf(\"The minimum value is %d%n\", stats.getMin());\nSystem.out.printf(\"The maximum value is %d%n\", stats.getMax());\n</code></pre>\n\n<p><strong>or</strong> fixing your current code, declare <code>min</code> and <code>max</code> outside the loop. Update them on each value. Then display the result. Like,</p>\n\n<pre><code>int min = Integer.MAX_VALUE, max = Integer.MIN_VALUE;\nint[] a = new int[args.length];\nfor (int i = 0; i &lt; args.length; i++) {\n    a[i] = Integer.parseInt(args[i]);\n    max = Math.max(a[i], max);\n    min = Math.min(a[i], min);\n}\nSystem.out.printf(\"The minimum value is %d%n\", min);\nSystem.out.printf(\"The maximum value is %d%n\", max);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11213263,"reputation":761,"user_id":8226733,"display_name":"TheQuestioner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564775666,"creation_date":1511140030,"answer_id":47383765,"question_id":47383316,"body_markdown":"You do not need loops at all, try Streams:\r\n\r\n    int[] a = { 1, 2, 3, 4, 5 };\r\n    \r\n    int max = Arrays.stream(a).max().getAsInt();\r\n    int min = Arrays.stream(a).min().getAsInt();\r\n    \r\n    System.out.println(&quot;max value is: &quot; + max);\r\n    System.out.println(&quot;min value is: &quot; + min);\r\n\r\n\r\nOutput is :\r\n\r\n    max value is: 5\r\n    min value is: 1","title":"Finding a minimum and maximum value in an array","body":"<p>You do not need loops at all, try Streams:</p>\n\n<pre><code>int[] a = { 1, 2, 3, 4, 5 };\n\nint max = Arrays.stream(a).max().getAsInt();\nint min = Arrays.stream(a).min().getAsInt();\n\nSystem.out.println(\"max value is: \" + max);\nSystem.out.println(\"min value is: \" + min);\n</code></pre>\n\n<p>Output is :</p>\n\n<pre><code>max value is: 5\nmin value is: 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16300382,"reputation":1,"user_id":11771657,"display_name":"Karthik Gunasekaran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679114245,"creation_date":1679112648,"answer_id":75773819,"question_id":47383316,"body_markdown":"```\r\nint value = {5, 1, 6, 9, 10};\r\nArrayList&lt;Integer&gt; listValues = Arrays.stream(value).boxed().collect(Collectors.toCollection(ArrayList::new));\r\n\r\n// Collections class &#39;min&#39; and &#39;max&#39; method\r\nint min = Collections.min(listValues);\r\nint max = Collections.max(listValues);\r\n          (OR) \r\n// Java8\r\nint min = listVlaues.stream().min(Integer::compare).get();\r\nint max = listValues.stream().max(Integer::compare).get();\r\n```","title":"Finding a minimum and maximum value in an array","body":"<pre><code>int value = {5, 1, 6, 9, 10};\nArrayList&lt;Integer&gt; listValues = Arrays.stream(value).boxed().collect(Collectors.toCollection(ArrayList::new));\n\n// Collections class 'min' and 'max' method\nint min = Collections.min(listValues);\nint max = Collections.max(listValues);\n          (OR) \n// Java8\nint min = listVlaues.stream().min(Integer::compare).get();\nint max = listValues.stream().max(Integer::compare).get();\n</code></pre>\n"}],"owner":{"account_id":12113956,"reputation":65,"user_id":8849297,"accept_rate":100,"display_name":"A.Bg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4103,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":47383387,"answer_count":5,"score":-1,"last_activity_date":1679114245,"creation_date":1511135733,"question_id":47383316,"body_markdown":"So I&#39;m trying to find a min and max of an array which are put in by the user.\r\n\r\nThis is my code\r\n\r\n    public static void main(String[] args) {\r\n       \r\n        int[] a = new int[args.length];\r\n        for (int i = 0; i &lt; args.length; i++) {\r\n            a[i] = Integer.parseInt(args[i]);\r\n            int max = a[0];\r\n            for (int j = 1; j &lt; args.length; j++) {\r\n                if (a[j] &gt; max) {\r\n                    max = a[j];\r\n                }\r\n            } \r\n            System.out.println(&quot;the maximum value of the array is &quot; + max);\r\n        }\r\n    }\r\n\r\nBut the output I am getting is every single number I have put in. What is my mistake here?\r\n\r\n","title":"Finding a minimum and maximum value in an array","body":"<p>So I'm trying to find a min and max of an array which are put in by the user.</p>\n\n<p>This is my code</p>\n\n<pre><code>public static void main(String[] args) {\n\n    int[] a = new int[args.length];\n    for (int i = 0; i &lt; args.length; i++) {\n        a[i] = Integer.parseInt(args[i]);\n        int max = a[0];\n        for (int j = 1; j &lt; args.length; j++) {\n            if (a[j] &gt; max) {\n                max = a[j];\n            }\n        } \n        System.out.println(\"the maximum value of the array is \" + max);\n    }\n}\n</code></pre>\n\n<p>But the output I am getting is every single number I have put in. What is my mistake here?</p>\n"},{"tags":["java","kotlin","junit5","parameterized-unit-test"],"comments":[{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1679093256,"post_id":46712485,"comment_id":133665565,"body_markdown":"You say &quot;three parameters: `string`, `string` and `list&lt;string&gt;`&quot;, but your example has `Int, String, List&lt;String&gt;`.  Were those intended to be consistent with each other?","body":"You say &quot;three parameters: <code>string</code>, <code>string</code> and <code>list&lt;string&gt;</code>&quot;, but your example has <code>Int, String, List&lt;String&gt;</code>.  Were those intended to be consistent with each other?"}],"answers":[{"comments":[{"owner":{"account_id":2570598,"reputation":13282,"user_id":2229438,"accept_rate":94,"display_name":"Grzegorz Piwowarek"},"score":0,"creation_date":1507822249,"post_id":46712826,"comment_id":80373365,"body_markdown":"Well, I&#39;m doing this already - just hoped for something less &quot;hacky&quot;","body":"Well, I&#39;m doing this already - just hoped for something less &quot;hacky&quot;"},{"owner":{"account_id":26177,"reputation":7590,"user_id":67872,"accept_rate":86,"display_name":"StefanE"},"score":1,"creation_date":1507823018,"post_id":46712826,"comment_id":80373880,"body_markdown":"I am using only one value providing a JSON string instead for flexibility and no hacks needed. The Test parameter function is still in Beta, hopefully support for objects will come later on..","body":"I am using only one value providing a JSON string instead for flexibility and no hacks needed. The Test parameter function is still in Beta, hopefully support for objects will come later on.."},{"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"score":0,"creation_date":1507903133,"post_id":46712826,"comment_id":80409434,"body_markdown":"FYI: there is no need for a hack. Please see my answer for details.","body":"FYI: there is no need for a hack. Please see my answer for details."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1679090706,"post_id":46712826,"comment_id":133665194,"body_markdown":"&quot;At this point I&#39;m pretty sure Junit5 Test Parameters does not support anything else than primitive types&quot; &#160;I don&#39;t think that&#39;s quite true.  I think it&#39;s limited to anything that [`DefaultArgumentConverter`](https://junit.org/junit5/docs/5.9.2/api/org.junit.jupiter.params/org/junit/jupiter/params/converter/DefaultArgumentConverter.html) can handle.  That is primitives and their wrappers, String, `java.time` date/time types, a handful of other common types (`File`, `BigDecimal`, etc.), and anything with a single String factory method or a single String constructor.","body":"&quot;At this point I&#39;m pretty sure Junit5 Test Parameters does not support anything else than primitive types&quot;  I don&#39;t think that&#39;s quite true.  I think it&#39;s limited to anything that <a href=\"https://junit.org/junit5/docs/5.9.2/api/org.junit.jupiter.params/org/junit/jupiter/params/converter/DefaultArgumentConverter.html\" rel=\"nofollow noreferrer\"><code>DefaultArgumentConverter</code></a> can handle.  That is primitives and their wrappers, String, <code>java.time</code> date/time types, a handful of other common types (<code>File</code>, <code>BigDecimal</code>, etc.), and anything with a single String factory method or a single String constructor."}],"tags":[],"owner":{"account_id":26177,"reputation":7590,"user_id":67872,"accept_rate":86,"display_name":"StefanE"},"comment_count":4,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1507820269,"creation_date":1507820269,"answer_id":46712826,"question_id":46712485,"body_markdown":"Provide the third element as a comma separated string and the split the string into a List&lt;String&gt; inside you test.\r\n\r\nAt this point I&#39;m pretty sure Junit5 Test Parameters does not support anything else than primitive types and CsvSource only one allowing mixing of the types.","title":"How to pass a list as a JUnit5&#39;s parameterized test parameter?","body":"<p>Provide the third element as a comma separated string and the split the string into a List inside you test.</p>\n\n<p>At this point I'm pretty sure Junit5 Test Parameters does not support anything else than primitive types and CsvSource only one allowing mixing of the types.</p>\n"},{"comments":[{"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"score":6,"creation_date":1507905823,"post_id":46731651,"comment_id":80411312,"body_markdown":"FYI: I updated the User Guide for JUnit 5.1 to include such an example. https://github.com/junit-team/junit5/commit/eb6e401fde681d7da649025391691ff5a45ca0f0","body":"FYI: I updated the User Guide for JUnit 5.1 to include such an example. <a href=\"https://github.com/junit-team/junit5/commit/eb6e401fde681d7da649025391691ff5a45ca0f0\" rel=\"nofollow noreferrer\">github.com/junit-team/junit5/commit/&hellip;</a>"},{"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"score":2,"creation_date":1507906323,"post_id":46731651,"comment_id":80411633,"body_markdown":"The resulting documentation change is already visible in the latest snapshots: http://junit.org/junit5/docs/snapshot/user-guide/#writing-tests-parameterized-tests-sources-MethodSource","body":"The resulting documentation change is already visible in the latest snapshots: <a href=\"http://junit.org/junit5/docs/snapshot/user-guide/#writing-tests-parameterized-tests-sources-MethodSource\" rel=\"nofollow noreferrer\">junit.org/junit5/docs/snapshot/user-guide/&hellip;</a>"},{"owner":{"account_id":3784660,"reputation":1471,"user_id":3143009,"accept_rate":4,"display_name":"soung"},"score":4,"creation_date":1662657577,"post_id":46731651,"comment_id":130062506,"body_markdown":"Using MethodSource for this need is overkill. This is a common requirement for so much application. JUnit should provide a simpler way to inject a list of argument without having to deal with MethodSource. Something like @ListSource(&quot;value1&quot; , &quot;value2&quot;, &quot;value3&quot;) would be perfect","body":"Using MethodSource for this need is overkill. This is a common requirement for so much application. JUnit should provide a simpler way to inject a list of argument without having to deal with MethodSource. Something like @ListSource(&quot;value1&quot; , &quot;value2&quot;, &quot;value3&quot;) would be perfect"},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1679090542,"post_id":46731651,"comment_id":133665158,"body_markdown":"&quot;`@CsvSource` is limited to a few primitive types and `String`&quot; &#160;I don&#39;t think that&#39;s quite true.  I think it&#39;s limited to anything that [`DefaultArgumentConverter`](https://junit.org/junit5/docs/5.9.2/api/org.junit.jupiter.params/org/junit/jupiter/params/converter/DefaultArgumentConverter.html) can handle.  That is primitives and their wrappers, String, `java.time` date/time types, a handful of other common types (`File`, `BigDecimal`, etc.), and anything with a single String factory method or a single String constructor.","body":"&quot;<code>@CsvSource</code> is limited to a few primitive types and <code>String</code>&quot;  I don&#39;t think that&#39;s quite true.  I think it&#39;s limited to anything that <a href=\"https://junit.org/junit5/docs/5.9.2/api/org.junit.jupiter.params/org/junit/jupiter/params/converter/DefaultArgumentConverter.html\" rel=\"nofollow noreferrer\"><code>DefaultArgumentConverter</code></a> can handle.  That is primitives and their wrappers, String, <code>java.time</code> date/time types, a handful of other common types (<code>File</code>, <code>BigDecimal</code>, etc.), and anything with a single String factory method or a single String constructor."}],"tags":[],"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"comment_count":4,"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1507903101,"creation_date":1507903101,"answer_id":46731651,"question_id":46712485,"body_markdown":"There is no reason to use a _hack_ as suggested by StefanE.\r\n\r\n&gt; At this point I&#39;m pretty sure Junit5 Test Parameters does not support anything else than primitive types and CsvSource only one allowing mixing of the types.\r\n\r\nActually, JUnit Jupiter supports parameters of any type. It&#39;s just that the `@CsvSource` is limited to a few primitive types and `String`.\r\n\r\nThus instead of using a `@CsvSource`, you should use a `@MethodSource` as follows.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\t\r\n\t@ParameterizedTest\r\n\t@MethodSource(&quot;generateData&quot;)\r\n\tvoid shouldGetDataBit(int first, String second, List&lt;String&gt; third) {\r\n\t\tSystem.out.println(first);\r\n\t\tSystem.out.println(second);\r\n\t\tSystem.out.println(third);\r\n\t}\r\n\t\r\n\tstatic Stream&lt;Arguments&gt; generateData() {\r\n\t\treturn Stream.of(\r\n\t\t\tArguments.of(1, &quot;foo&quot;, Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)),\r\n\t\t\tArguments.of(2, &quot;bar&quot;, Arrays.asList(&quot;x&quot;, &quot;y&quot;, &quot;z&quot;))\r\n\t\t);\r\n\t}\r\n","title":"How to pass a list as a JUnit5&#39;s parameterized test parameter?","body":"<p>There is no reason to use a <em>hack</em> as suggested by StefanE.</p>\n\n<blockquote>\n  <p>At this point I'm pretty sure Junit5 Test Parameters does not support anything else than primitive types and CsvSource only one allowing mixing of the types.</p>\n</blockquote>\n\n<p>Actually, JUnit Jupiter supports parameters of any type. It's just that the <code>@CsvSource</code> is limited to a few primitive types and <code>String</code>.</p>\n\n<p>Thus instead of using a <code>@CsvSource</code>, you should use a <code>@MethodSource</code> as follows.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@ParameterizedTest\n@MethodSource(\"generateData\")\nvoid shouldGetDataBit(int first, String second, List&lt;String&gt; third) {\n    System.out.println(first);\n    System.out.println(second);\n    System.out.println(third);\n}\n\nstatic Stream&lt;Arguments&gt; generateData() {\n    return Stream.of(\n        Arguments.of(1, \"foo\", Arrays.asList(\"a\", \"b\", \"c\")),\n        Arguments.of(2, \"bar\", Arrays.asList(\"x\", \"y\", \"z\"))\n    );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679114074,"creation_date":1679094925,"answer_id":75772909,"question_id":46712485,"body_markdown":"If you really want to pass in a delimited list as part of the CSV (for instance, maybe it really does make the code look a lot cleaner), you can use the [explicit conversion](https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-argument-conversion-explicit) functionality of JUnit using a custom [`ArgumentConverter`](https://junit.org/junit5/docs/5.9.2/api/org.junit.jupiter.params/org/junit/jupiter/params/converter/ArgumentConverter.html).\r\n\r\n```lang-java\r\n@CsvSource({\r\n        &quot;First,A;B&quot;,\r\n        &quot;Second,C&quot;,\r\n        &quot;,&quot;,\r\n        &quot;&#39;&#39;,&#39;&#39;&quot;\r\n})\r\n@ParameterizedTest\r\npublic void testMethod(String string,\r\n                       @ConvertWith(StringToStringListArgumentConverter.class)\r\n                       List&lt;String&gt; list) {\r\n    // ...\r\n}\r\n\r\n@SuppressWarnings(&quot;rawtypes&quot;)\r\npublic static class StringToStringListArgumentConverter\r\n        extends TypedArgumentConverter&lt;String, List&gt; {\r\n    protected StringToStringListArgumentConverter() {\r\n        super(String.class, List.class);\r\n    }\r\n\r\n    @Override\r\n    protected List convert(String source)\r\n            throws ArgumentConversionException {\r\n        if (source == null) {\r\n            return null;\r\n        } else if (source.isEmpty()) {\r\n            return List.of();\r\n        } else {\r\n            return List.of(source.split(&quot;;&quot;));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## Fully generic list conversion\r\n\r\nIf you&#39;re planning on using the list conversion in multiple places with different element types in each place (e.g. `List&lt;String&gt;`, `List&lt;Integer&gt;`, `List&lt;LocalDate&gt;`), you could create a generic argument converter that delegates to a different argument converter to convert the different element types).\r\n\r\nThe following is an example that uses the Google Guava [`TypeToken`](https://guava.dev/releases/31.1-jre/api/docs/com/google/common/reflect/TypeToken.html) class to determine the list element type, and the built-in internal JUnit [`DefaultArgumentConverter`](https://junit.org/junit5/docs/5.9.2/api/org.junit.jupiter.params/org/junit/jupiter/params/converter/DefaultArgumentConverter.html) to perform the element conversions:\r\n\r\n```lang-java\r\n@CsvSource({\r\n        &quot;First,1;2&quot;,\r\n        &quot;Second,3&quot;,\r\n        &quot;,&quot;,\r\n        &quot;&#39;&#39;,&#39;&#39;&quot;\r\n})\r\n@ParameterizedTest\r\npublic void testMethod(String string,\r\n                       @ConvertWith(StringToListArgumentConverter.class)\r\n                       List&lt;Integer&gt; list) {\r\n    // ...\r\n}\r\n\r\npublic static class StringToListArgumentConverter\r\n        implements ArgumentConverter {\r\n    @Override\r\n    public Object convert(Object source, ParameterContext context)\r\n            throws ArgumentConversionException {\r\n        if (source != null &amp;&amp; !(source instanceof String)) {\r\n            throw new ArgumentConversionException(&quot;Source must be a string&quot;);\r\n        }\r\n        if (!List.class.isAssignableFrom(context.getParameter().getType())) {\r\n            throw new ArgumentConversionException(&quot;Target must be a list&quot;);\r\n        }\r\n        String sourceString = (String) source;\r\n        if (sourceString == null) {\r\n            return null;\r\n        } else if (sourceString.isEmpty()) {\r\n            return List.of();\r\n        }\r\n\r\n        @SuppressWarnings(&quot;UnstableApiUsage&quot;)\r\n        Class&lt;?&gt; elementType =\r\n                TypeToken.of(context.getParameter().getParameterizedType())\r\n                        .resolveType(List.class.getTypeParameters()[0])\r\n                        .getRawType();\r\n\r\n        return Arrays.stream(sourceString.split(&quot;;&quot;))\r\n                .map(s -&gt; DefaultArgumentConverter.INSTANCE\r\n                        .convert(s, elementType))\r\n                .toList();\r\n    }\r\n}\r\n```","title":"How to pass a list as a JUnit5&#39;s parameterized test parameter?","body":"<p>If you really want to pass in a delimited list as part of the CSV (for instance, maybe it really does make the code look a lot cleaner), you can use the <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-argument-conversion-explicit\" rel=\"nofollow noreferrer\">explicit conversion</a> functionality of JUnit using a custom <a href=\"https://junit.org/junit5/docs/5.9.2/api/org.junit.jupiter.params/org/junit/jupiter/params/converter/ArgumentConverter.html\" rel=\"nofollow noreferrer\"><code>ArgumentConverter</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CsvSource({\n        &quot;First,A;B&quot;,\n        &quot;Second,C&quot;,\n        &quot;,&quot;,\n        &quot;'',''&quot;\n})\n@ParameterizedTest\npublic void testMethod(String string,\n                       @ConvertWith(StringToStringListArgumentConverter.class)\n                       List&lt;String&gt; list) {\n    // ...\n}\n\n@SuppressWarnings(&quot;rawtypes&quot;)\npublic static class StringToStringListArgumentConverter\n        extends TypedArgumentConverter&lt;String, List&gt; {\n    protected StringToStringListArgumentConverter() {\n        super(String.class, List.class);\n    }\n\n    @Override\n    protected List convert(String source)\n            throws ArgumentConversionException {\n        if (source == null) {\n            return null;\n        } else if (source.isEmpty()) {\n            return List.of();\n        } else {\n            return List.of(source.split(&quot;;&quot;));\n        }\n    }\n}\n</code></pre>\n<h2>Fully generic list conversion</h2>\n<p>If you're planning on using the list conversion in multiple places with different element types in each place (e.g. <code>List&lt;String&gt;</code>, <code>List&lt;Integer&gt;</code>, <code>List&lt;LocalDate&gt;</code>), you could create a generic argument converter that delegates to a different argument converter to convert the different element types).</p>\n<p>The following is an example that uses the Google Guava <a href=\"https://guava.dev/releases/31.1-jre/api/docs/com/google/common/reflect/TypeToken.html\" rel=\"nofollow noreferrer\"><code>TypeToken</code></a> class to determine the list element type, and the built-in internal JUnit <a href=\"https://junit.org/junit5/docs/5.9.2/api/org.junit.jupiter.params/org/junit/jupiter/params/converter/DefaultArgumentConverter.html\" rel=\"nofollow noreferrer\"><code>DefaultArgumentConverter</code></a> to perform the element conversions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CsvSource({\n        &quot;First,1;2&quot;,\n        &quot;Second,3&quot;,\n        &quot;,&quot;,\n        &quot;'',''&quot;\n})\n@ParameterizedTest\npublic void testMethod(String string,\n                       @ConvertWith(StringToListArgumentConverter.class)\n                       List&lt;Integer&gt; list) {\n    // ...\n}\n\npublic static class StringToListArgumentConverter\n        implements ArgumentConverter {\n    @Override\n    public Object convert(Object source, ParameterContext context)\n            throws ArgumentConversionException {\n        if (source != null &amp;&amp; !(source instanceof String)) {\n            throw new ArgumentConversionException(&quot;Source must be a string&quot;);\n        }\n        if (!List.class.isAssignableFrom(context.getParameter().getType())) {\n            throw new ArgumentConversionException(&quot;Target must be a list&quot;);\n        }\n        String sourceString = (String) source;\n        if (sourceString == null) {\n            return null;\n        } else if (sourceString.isEmpty()) {\n            return List.of();\n        }\n\n        @SuppressWarnings(&quot;UnstableApiUsage&quot;)\n        Class&lt;?&gt; elementType =\n                TypeToken.of(context.getParameter().getParameterizedType())\n                        .resolveType(List.class.getTypeParameters()[0])\n                        .getRawType();\n\n        return Arrays.stream(sourceString.split(&quot;;&quot;))\n                .map(s -&gt; DefaultArgumentConverter.INSTANCE\n                        .convert(s, elementType))\n                .toList();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2570598,"reputation":13282,"user_id":2229438,"accept_rate":94,"display_name":"Grzegorz Piwowarek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27895,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":46731651,"answer_count":3,"score":18,"last_activity_date":1679114074,"creation_date":1507819293,"question_id":46712485,"body_markdown":"I want to parameterize my JUnit5 tests using three parameters: `string`, `string` and `list&lt;string&gt;`.\r\n\r\nNo luck so far when using `@CsvSource`, which is the most convenient way of passing params for my use case:\r\n\r\n&gt; No implicit conversion to convert object of type java.lang.String to\r\n&gt; type java.util.List\r\n\r\nThe actual test is:\r\n\r\n    @ParameterizedTest()\r\n    @CsvSource(\r\n      &quot;2,1&quot;\r\n     )\r\n    fun shouldGetDataBit(first: Int, second: String, third: List&lt;String&gt;) {\r\n        ...\r\n    }\r\n\r\nAny idea if this is possible? I&#39;m using Kotlin here but it should be irrelevant.","title":"How to pass a list as a JUnit5&#39;s parameterized test parameter?","body":"<p>I want to parameterize my JUnit5 tests using three parameters: <code>string</code>, <code>string</code> and <code>list&lt;string&gt;</code>.</p>\n\n<p>No luck so far when using <code>@CsvSource</code>, which is the most convenient way of passing params for my use case:</p>\n\n<blockquote>\n  <p>No implicit conversion to convert object of type java.lang.String to\n  type java.util.List</p>\n</blockquote>\n\n<p>The actual test is:</p>\n\n<pre><code>@ParameterizedTest()\n@CsvSource(\n  \"2,1\"\n )\nfun shouldGetDataBit(first: Int, second: String, third: List&lt;String&gt;) {\n    ...\n}\n</code></pre>\n\n<p>Any idea if this is possible? I'm using Kotlin here but it should be irrelevant.</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":1,"creation_date":1678731545,"post_id":75723742,"comment_id":133587136,"body_markdown":"Welcome on StackOverflow, can you show your code to make a [mre] ?","body":"Welcome on StackOverflow, can you show your code to make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> ?"}],"answers":[{"comments":[{"owner":{"account_id":28006932,"reputation":1,"user_id":21390173,"display_name":"Wes0_0"},"score":0,"creation_date":1678823576,"post_id":75735848,"comment_id":133607519,"body_markdown":"you can still use the enchantment on a bow and the arrow will still poison the enemy","body":"you can still use the enchantment on a bow and the arrow will still poison the enemy"}],"tags":[],"owner":{"account_id":22166369,"reputation":198,"user_id":16412496,"display_name":"baggiogiacomo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678831914,"creation_date":1678810942,"answer_id":75735848,"question_id":75723742,"body_markdown":"To make the enchantment only work on melee attacks and not on bows, you need to modify the `canApplyTogether` method of your enchantment class.\r\n\r\nHere&#39;s how you can do it:\r\n\r\n```java\r\n@Override\r\npublic boolean canApplyTogether(Enchantment ench) {\r\n    // Don&#39;t apply if the other enchantment is an arrow-based enchantment\r\n    if (ench instanceof EnchantmentArrowDamage || ench instanceof EnchantmentArrowFire || ench instanceof EnchantmentArrowInfinite) {\r\n        return false;\r\n    }\r\n    return super.canApplyTogether(ench);\r\n}\r\n```\r\n\r\nThis method checks if the other enchantment is an arrow-based enchantment (such as `EnchantmentArrowDamage`, `EnchantmentArrowFire`, or `EnchantmentArrowInfinite`) and returns false if it is. Otherwise, it calls the super implementation to check if the enchantment can be applied together with other enchantments.\r\n\r\nBy overriding this method, you can control which enchantments can be applied together with your custom enchantment. In this case, by preventing arrow-based enchantments from being combined with your poison enchantment, you ensure that it only affects melee attacks.","title":"How do you stop a custom enchantment from working whe applied to a bow and arrow?","body":"<p>To make the enchantment only work on melee attacks and not on bows, you need to modify the <code>canApplyTogether</code> method of your enchantment class.</p>\n<p>Here's how you can do it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean canApplyTogether(Enchantment ench) {\n    // Don't apply if the other enchantment is an arrow-based enchantment\n    if (ench instanceof EnchantmentArrowDamage || ench instanceof EnchantmentArrowFire || ench instanceof EnchantmentArrowInfinite) {\n        return false;\n    }\n    return super.canApplyTogether(ench);\n}\n</code></pre>\n<p>This method checks if the other enchantment is an arrow-based enchantment (such as <code>EnchantmentArrowDamage</code>, <code>EnchantmentArrowFire</code>, or <code>EnchantmentArrowInfinite</code>) and returns false if it is. Otherwise, it calls the super implementation to check if the enchantment can be applied together with other enchantments.</p>\n<p>By overriding this method, you can control which enchantments can be applied together with your custom enchantment. In this case, by preventing arrow-based enchantments from being combined with your poison enchantment, you ensure that it only affects melee attacks.</p>\n"}],"owner":{"account_id":28006932,"reputation":1,"user_id":21390173,"display_name":"Wes0_0"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679112583,"creation_date":1678720508,"question_id":75723742,"body_markdown":"I made an enchantment in Minecraft Forge that poisons the entity that you hit, but it also works with a bow. I don&#39;t want that. I want it to work like the fire aspect enchantment. Does anyone know how to fix this?\r\n\r\nI tried to look into the fire aspect code but I couldn&#39;t find anything about a bow.","title":"How do you stop a custom enchantment from working whe applied to a bow and arrow?","body":"<p>I made an enchantment in Minecraft Forge that poisons the entity that you hit, but it also works with a bow. I don't want that. I want it to work like the fire aspect enchantment. Does anyone know how to fix this?</p>\n<p>I tried to look into the fire aspect code but I couldn't find anything about a bow.</p>\n"},{"tags":["java","minecraft","spigot"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678968578,"creation_date":1678968578,"answer_id":75756064,"question_id":75755873,"body_markdown":"You need to filter if you are waiting for player confirmation. You can do it in lot of way, but I suggest you to create a list, and put all players that need to confirm. For example:\r\n```java\r\npublic static List&lt;Player&gt; waitingConfirmations = new ArrayList&lt;&gt;(); // create the list\r\n\r\npublic static void jlvlup(Player player,int currentLevel) {\r\n    if(currentLevel == 1) {\r\n         player.sendMessage(ChatColor.DARK_RED + &quot;Do you confirm upgrade spawner to Level 2 for 5000000$ ? (Y/N) Write to chat.&quot;);\r\n         player.closeInventory(); \r\n         waitingConfirmations.add(player); // here add to list\r\n    }\r\n}\r\n```\r\nThen, for the chat, do:\r\n```java\r\nif(message.equalsIgnoreCase(&quot;Y&quot;) &amp;&amp; waitingConfirmations.contains(player)) { // check if in list\r\n    // here pass to level 2\r\n}\r\n```\r\nNote: `message` is the chat message. I didn&#39;t wrote full method as you didn&#39;t give it","title":"How can I confirm an event when the player types a key word?","body":"<p>You need to filter if you are waiting for player confirmation. You can do it in lot of way, but I suggest you to create a list, and put all players that need to confirm. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;Player&gt; waitingConfirmations = new ArrayList&lt;&gt;(); // create the list\n\npublic static void jlvlup(Player player,int currentLevel) {\n    if(currentLevel == 1) {\n         player.sendMessage(ChatColor.DARK_RED + &quot;Do you confirm upgrade spawner to Level 2 for 5000000$ ? (Y/N) Write to chat.&quot;);\n         player.closeInventory(); \n         waitingConfirmations.add(player); // here add to list\n    }\n}\n</code></pre>\n<p>Then, for the chat, do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(message.equalsIgnoreCase(&quot;Y&quot;) &amp;&amp; waitingConfirmations.contains(player)) { // check if in list\n    // here pass to level 2\n}\n</code></pre>\n<p>Note: <code>message</code> is the chat message. I didn't wrote full method as you didn't give it</p>\n"}],"owner":{"account_id":27201205,"reputation":1,"user_id":20733433,"display_name":"Archuleus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679112512,"creation_date":1678967431,"question_id":75755873,"body_markdown":"I&#39;ve a problem about typing confirmation.\r\nI&#39;m doing Virtual Spawner plugin.\r\n\r\nIf player has enough money and typing Y his spawner gonna upgrade to Lvl2.\r\n\r\nMy question is how can I do this Y or N confirmation? I thought with AsyncPlayerChatEvent. But this time every Y or N trigger Upgrading.\r\n```\r\npublic static void jlvlup(Player player,int currentLevel) {\r\n    String lvlup2= ChatColor.DARK_RED+&quot;Do you confirm upgrade spawner to Level 2 for 5000000$ ?(Y/N) Write to chat.&quot;;\r\n    if(currentLevel==1) {\r\n         player.sendMessage(lvlup2);\r\n         player.closeInventory(); \r\n    }\r\n}\r\n```","title":"How can I confirm an event when the player types a key word?","body":"<p>I've a problem about typing confirmation.\nI'm doing Virtual Spawner plugin.</p>\n<p>If player has enough money and typing Y his spawner gonna upgrade to Lvl2.</p>\n<p>My question is how can I do this Y or N confirmation? I thought with AsyncPlayerChatEvent. But this time every Y or N trigger Upgrading.</p>\n<pre><code>public static void jlvlup(Player player,int currentLevel) {\n    String lvlup2= ChatColor.DARK_RED+&quot;Do you confirm upgrade spawner to Level 2 for 5000000$ ?(Y/N) Write to chat.&quot;;\n    if(currentLevel==1) {\n         player.sendMessage(lvlup2);\n         player.closeInventory(); \n    }\n}\n</code></pre>\n"},{"tags":["java","string","arraylist","converters"],"answers":[{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":15,"creation_date":1315489370,"post_id":7347895,"comment_id":8865420,"body_markdown":"+1: The `new ArrayList&lt;String&gt;()` may be redundant depending on how it is used. (as it is in your example ;)","body":"+1: The <code>new ArrayList&lt;String&gt;()</code> may be redundant depending on how it is used. (as it is in your example ;)"},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":1,"creation_date":1315489645,"post_id":7347895,"comment_id":8865515,"body_markdown":"Hehe, yeah, +1 :-) It may actually even just be the `split` his after :P","body":"Hehe, yeah, +1 :-) It may actually even just be the <code>split</code> his after :P"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1315490303,"post_id":7347895,"comment_id":8865747,"body_markdown":"He would have to use `Arrays.toString()` to print it, but yes.","body":"He would have to use <code>Arrays.toString()</code> to print it, but yes."},{"owner":{"account_id":1727816,"reputation":1326,"user_id":1582099,"accept_rate":77,"display_name":"Clocker"},"score":0,"creation_date":1415983904,"post_id":7347895,"comment_id":42414377,"body_markdown":"The new ArrayList&lt;String&gt;() causes a new list to be created with the returned list inside of it. Arrays.asList(a) returns a List object thus don&#39;t call new ArrayList you will get unwanted behavior.","body":"The new ArrayList&lt;String&gt;() causes a new list to be created with the returned list inside of it. Arrays.asList(a) returns a List object thus don&#39;t call new ArrayList you will get unwanted behavior."},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":8,"creation_date":1415986647,"post_id":7347895,"comment_id":42415835,"body_markdown":"Note that you can&#39;t add elements to the list returned by Arrays.asList. The OP wanted to have an ArrayList (which is completely reasonable) and the the ArrayList construction *is* necessary.","body":"Note that you can&#39;t add elements to the list returned by Arrays.asList. The OP wanted to have an ArrayList (which is completely reasonable) and the the ArrayList construction <i>is</i> necessary."},{"owner":{"account_id":3168272,"reputation":1568,"user_id":2677801,"accept_rate":67,"display_name":"mehmet"},"score":0,"creation_date":1518449895,"post_id":7347895,"comment_id":84500469,"body_markdown":"is that posibble to convert string to byte with this method?","body":"is that posibble to convert string to byte with this method?"},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1518457334,"post_id":7347895,"comment_id":84505430,"body_markdown":"@mehmet, no. Use `String.getBytes`.","body":"@mehmet, no. Use <code>String.getBytes</code>."},{"owner":{"account_id":1092764,"reputation":143,"user_id":1087029,"display_name":"AlejandroHernandez.Inc"},"score":0,"creation_date":1697411944,"post_id":7347895,"comment_id":136273011,"body_markdown":"`List&lt;Integer&gt; x = Arrays.asList(S.split(&quot;&quot;)).stream()\n                            .map(Integer::valueOf)\n                            .collect(Collectors.toList()); `","body":"<code>List&lt;Integer&gt; x = Arrays.asList(S.split(&quot;&quot;)).stream()                             .map(Integer::valueOf)                             .collect(Collectors.toList()); </code>"},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1697438591,"post_id":7347895,"comment_id":136275050,"body_markdown":"@AlejandroHernandez.Inc splitting `S` on `&quot;&quot;`, wrapping it in a `List` and calling `.stream()` is basically a long way of doing `S.chars()`. Then there&#39;s a actually a method available specifically to go from chars such as `&#39;6&#39;` to integers `6`: [`Character::getNumericValue`](https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#getNumericValue-char-) so I would rather express your snippet as follows: `S.chars().mapToObj(Character::getNumericValue).collect(Collectors.toList())` or, if you&#39;re on Java 16+, simply `.toList()` in the end.","body":"@AlejandroHernandez.Inc splitting <code>S</code> on <code>&quot;&quot;</code>, wrapping it in a <code>List</code> and calling <code>.stream()</code> is basically a long way of doing <code>S.chars()</code>. Then there&#39;s a actually a method available specifically to go from chars such as <code>&#39;6&#39;</code> to integers <code>6</code>: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#getNumericValue-char-\" rel=\"nofollow noreferrer\"><code>Character::getNumericValue</code></a> so I would rather express your snippet as follows: <code>S.chars().mapToObj(Character::getNumericValue).collect(Colle&zwnj;&#8203;ctors.toList())</code> or, if you&#39;re on Java 16+, simply <code>.toList()</code> in the end."}],"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":9,"down_vote_count":1,"up_vote_count":333,"is_accepted":true,"score":332,"last_activity_date":1477926680,"creation_date":1315484319,"answer_id":7347895,"question_id":7347856,"body_markdown":"Try something like\r\n\r\n    List&lt;String&gt; myList = new ArrayList&lt;String&gt;(Arrays.asList(s.split(&quot;,&quot;)));\r\n\r\n- [`Arrays.asList` documentation](http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29)\r\n- [`String.split` documentation](http://download.oracle.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String%29)\r\n- [`ArrayList(Collection)` constructor documentation](http://download.oracle.com/javase/6/docs/api/java/util/ArrayList.html#ArrayList%28java.util.Collection%29)\r\n\r\n----------\r\n\r\nDemo:\r\n\r\n    String s = &quot;lorem,ipsum,dolor,sit,amet&quot;;\r\n    \r\n    List&lt;String&gt; myList = new ArrayList&lt;String&gt;(Arrays.asList(s.split(&quot;,&quot;)));\r\n    \r\n    System.out.println(myList);  // prints [lorem, ipsum, dolor, sit, amet]\r\n\r\n\r\n----------\r\n\r\nThis post has been rewritten as an article [here](http://programming.guide/java/split-string-into-arraylist.html).","title":"How to convert a String into an ArrayList?","body":"<p>Try something like</p>\n\n<pre><code>List&lt;String&gt; myList = new ArrayList&lt;String&gt;(Arrays.asList(s.split(\",\")));\n</code></pre>\n\n<ul>\n<li><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29\" rel=\"noreferrer\"><code>Arrays.asList</code> documentation</a></li>\n<li><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String%29\" rel=\"noreferrer\"><code>String.split</code> documentation</a></li>\n<li><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/ArrayList.html#ArrayList%28java.util.Collection%29\" rel=\"noreferrer\"><code>ArrayList(Collection)</code> constructor documentation</a></li>\n</ul>\n\n<hr>\n\n<p>Demo:</p>\n\n<pre><code>String s = \"lorem,ipsum,dolor,sit,amet\";\n\nList&lt;String&gt; myList = new ArrayList&lt;String&gt;(Arrays.asList(s.split(\",\")));\n\nSystem.out.println(myList);  // prints [lorem, ipsum, dolor, sit, amet]\n</code></pre>\n\n<hr>\n\n<p>This post has been rewritten as an article <a href=\"http://programming.guide/java/split-string-into-arraylist.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"score":12,"creation_date":1477927317,"post_id":7347999,"comment_id":67944647,"body_markdown":"If you have to trim brackets, you could do it in one step with `replace = s1.replaceAll(&quot;^\\\\[|]$&quot;, &quot;&quot;);`","body":"If you have to trim brackets, you could do it in one step with <code>replace = s1.replaceAll(&quot;^\\\\[|]$&quot;, &quot;&quot;);</code>"},{"owner":{"account_id":3377694,"reputation":4854,"user_id":2835520,"accept_rate":100,"display_name":"IgniteCoders"},"score":0,"creation_date":1603977301,"post_id":7347999,"comment_id":114210316,"body_markdown":"I used this answer, but my user sometimes uses `&quot;,&quot;` and others `&quot;, &quot;` as separators, so I added a `.replaceAll(&quot;, &quot;, &quot;,&quot;)` before `split` function.","body":"I used this answer, but my user sometimes uses <code>&quot;,&quot;</code> and others <code>&quot;, &quot;</code> as separators, so I added a <code>.replaceAll(&quot;, &quot;, &quot;,&quot;)</code> before <code>split</code> function."}],"tags":[],"owner":{"account_id":186312,"reputation":9244,"user_id":423620,"accept_rate":88,"display_name":"Sameek Mishra"},"comment_count":2,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1507403308,"creation_date":1315484881,"answer_id":7347999,"question_id":7347856,"body_markdown":"     String s1=&quot;[a,b,c,d]&quot;;\r\n     String replace = s1.replace(&quot;[&quot;,&quot;&quot;);\r\n     System.out.println(replace);\r\n     String replace1 = replace.replace(&quot;]&quot;,&quot;&quot;);\r\n     System.out.println(replace1);\r\n     List&lt;String&gt; myList = new ArrayList&lt;String&gt;(Arrays.asList(replace1.split(&quot;,&quot;)));\r\n     System.out.println(myList.toString());","title":"How to convert a String into an ArrayList?","body":"<pre><code> String s1=\"[a,b,c,d]\";\n String replace = s1.replace(\"[\",\"\");\n System.out.println(replace);\n String replace1 = replace.replace(\"]\",\"\");\n System.out.println(replace1);\n List&lt;String&gt; myList = new ArrayList&lt;String&gt;(Arrays.asList(replace1.split(\",\")));\n System.out.println(myList.toString());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":426974,"reputation":363,"user_id":808498,"display_name":"Steve"},"score":0,"creation_date":1315488642,"post_id":7348024,"comment_id":8865170,"body_markdown":"A simpler character based approach would be:                    \t\t     ArrayList&lt;String&gt; myList = new ArrayList&lt;String&gt;();\nfor(Character c :s.toCharArray() ) {\n myList.add(c.toString());\n} But I don&#39;t think this is what the person is looking for. The solution by aioobe is what is required. cheers","body":"A simpler character based approach would be:                    \t\t     ArrayList&lt;String&gt; myList = new ArrayList&lt;String&gt;(); for(Character c :s.toCharArray() ) {  myList.add(c.toString()); } But I don&#39;t think this is what the person is looking for. The solution by aioobe is what is required. cheers"}],"tags":[],"owner":{"account_id":895026,"reputation":764,"user_id":932506,"display_name":"denolk"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1315485036,"creation_date":1315485036,"answer_id":7348024,"question_id":7347856,"body_markdown":"If you want to convert a **string** into a **ArrayList** try this:\r\n\r\n    public ArrayList&lt;Character&gt; convertStringToArraylist(String str) {\r\n        ArrayList&lt;Character&gt; charList = new ArrayList&lt;Character&gt;();      \r\n        for(int i = 0; i&lt;str.length();i++){\r\n            charList.add(str.charAt(i));\r\n        }\r\n        return charList;\r\n    }\r\n    \r\n    \r\n\r\n\r\nBut i see a string array in your example, so if you wanted to convert a **string array** into **ArrayList** use this:\r\n\r\n    public static ArrayList&lt;String&gt; convertStringArrayToArraylist(String[] strArr){\r\n        ArrayList&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\r\n        for (String s : strArr) {\r\n            stringList.add(s);\r\n        }\r\n        return stringList;\r\n    }","title":"How to convert a String into an ArrayList?","body":"<p>If you want to convert a <strong>string</strong> into a <strong>ArrayList</strong> try this:</p>\n\n<pre><code>public ArrayList&lt;Character&gt; convertStringToArraylist(String str) {\n    ArrayList&lt;Character&gt; charList = new ArrayList&lt;Character&gt;();      \n    for(int i = 0; i&lt;str.length();i++){\n        charList.add(str.charAt(i));\n    }\n    return charList;\n}\n</code></pre>\n\n<p>But i see a string array in your example, so if you wanted to convert a <strong>string array</strong> into <strong>ArrayList</strong> use this:</p>\n\n<pre><code>public static ArrayList&lt;String&gt; convertStringArrayToArraylist(String[] strArr){\n    ArrayList&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\n    for (String s : strArr) {\n        stringList.add(s);\n    }\n    return stringList;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5362679,"reputation":189,"user_id":4273461,"display_name":"Andy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1417696889,"creation_date":1417695869,"answer_id":27294033,"question_id":7347856,"body_markdown":"If you are importing or you have an array (of type string) in your code and you have to convert it into arraylist (offcourse string) then use of collections is better. like this:\r\n\r\n    String array1[] = getIntent().getExtras().getStringArray(&quot;key1&quot;); or String array1[] = ... then\r\n    \r\n    List allEds = new ArrayList(); Collections.addAll(allEds, array1);","title":"How to convert a String into an ArrayList?","body":"<p>If you are importing or you have an array (of type string) in your code and you have to convert it into arraylist (offcourse string) then use of collections is better. like this:</p>\n\n<pre><code>String array1[] = getIntent().getExtras().getStringArray(\"key1\"); or String array1[] = ... then\n\nList allEds = new ArrayList(); Collections.addAll(allEds, array1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5641224,"reputation":2476,"user_id":4465028,"accept_rate":68,"display_name":"Gherbi Hicham"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1466952722,"creation_date":1466939077,"answer_id":38037855,"question_id":7347856,"body_markdown":"Ok i&#39;m going to extend on the answers here since a lot of the people who come here want to split the string by a **whitespace**. This is how it&#39;s done:\r\n\r\n    List&lt;String&gt; List = new ArrayList&lt;String&gt;(Arrays.asList(s.split(&quot;\\\\s+&quot;)));","title":"How to convert a String into an ArrayList?","body":"<p>Ok i'm going to extend on the answers here since a lot of the people who come here want to split the string by a <strong>whitespace</strong>. This is how it's done:</p>\n\n<pre><code>List&lt;String&gt; List = new ArrayList&lt;String&gt;(Arrays.asList(s.split(\"\\\\s+\")));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4563985,"reputation":3964,"user_id":3705478,"accept_rate":33,"display_name":"sofs1"},"score":0,"creation_date":1555714502,"post_id":43852973,"comment_id":98211478,"body_markdown":"Why doesn&#39;t this work       \n\n```List&lt;Character&gt; word1 = new ArrayList&lt;Character&gt;(Arrays.asList(A[0].toCharArray()));```\nI&#39;m trying to get first String of an string array, and convert that string into charArray and that charArray to List&lt;Character&gt;","body":"Why doesn&#39;t this work         <code>List&lt;Character&gt; word1 = new ArrayList&lt;Character&gt;(Arrays.asList(A[0].toCharArray()));</code> I&#39;m trying to get first String of an string array, and convert that string into charArray and that charArray to List&lt;Character&gt;"},{"owner":{"account_id":2729652,"reputation":5593,"user_id":2353713,"accept_rate":69,"display_name":"Andy"},"score":0,"creation_date":1555870532,"post_id":43852973,"comment_id":98241470,"body_markdown":"that&#39;s because, asList method in Arrays class takes only Object array, not primitive arrays. If you convert char[] to Character[] array it will work.","body":"that&#39;s because, asList method in Arrays class takes only Object array, not primitive arrays. If you convert char[] to Character[] array it will work."},{"owner":{"account_id":2729652,"reputation":5593,"user_id":2353713,"accept_rate":69,"display_name":"Andy"},"score":0,"creation_date":1555870555,"post_id":43852973,"comment_id":98241473,"body_markdown":"public static Character[] boxToCharacter(char[] charArray) {\n\tCharacter[] newArray = new Character[charArray.length];\n    int i = 0;\n    for (char value : charArray) {\n        newArray[i++] = Character.valueOf(value);\n    }\n    return newArray;\n}","body":"public static Character[] boxToCharacter(char[] charArray) { \tCharacter[] newArray = new Character[charArray.length];     int i = 0;     for (char value : charArray) {         newArray[i++] = Character.valueOf(value);     }     return newArray; }"}],"tags":[],"owner":{"account_id":2729652,"reputation":5593,"user_id":2353713,"accept_rate":69,"display_name":"Andy"},"comment_count":3,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1494261750,"creation_date":1494261750,"answer_id":43852973,"question_id":7347856,"body_markdown":"**Option1**: \r\n\r\n    List&lt;String&gt; list = Arrays.asList(&quot;hello&quot;);\r\n\r\n**Option2**:\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(&quot;hello&quot;));\r\n\r\nIn my opinion, Option1 is better because \r\n\r\n 1. we can reduce the number of ArrayList objects being created from 2 to 1. `asList` method creates and returns an ArrayList Object.\r\n 2. its performance is much better (but it returns a fixed-size list).\r\n\r\n \r\nPlease refer to the documentation [here][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#asList(T...)","title":"How to convert a String into an ArrayList?","body":"<p><strong>Option1</strong>: </p>\n\n<pre><code>List&lt;String&gt; list = Arrays.asList(\"hello\");\n</code></pre>\n\n<p><strong>Option2</strong>:</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(\"hello\"));\n</code></pre>\n\n<p>In my opinion, Option1 is better because </p>\n\n<ol>\n<li>we can reduce the number of ArrayList objects being created from 2 to 1. <code>asList</code> method creates and returns an ArrayList Object.</li>\n<li>its performance is much better (but it returns a fixed-size list).</li>\n</ol>\n\n<p>Please refer to the documentation <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#asList(T...)\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":219831,"reputation":1136,"user_id":476942,"display_name":"AbuNassar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507498578,"creation_date":1507384502,"answer_id":46620983,"question_id":7347856,"body_markdown":"You could use:          \r\n\r\n    List&lt;String&gt; tokens = Arrays.stream(s.split(&quot;\\\\s+&quot;)).collect(Collectors.toList());\r\n\r\nYou should ask yourself if you really need the ArrayList in the first place. Very often, you&#39;re going to filter the list based on additional criteria, for which a Stream is perfect. You may want a set; you may want to filter them by means of another regular expression, etc. Java 8 provides this very useful extension, by the way, which will  work on any `CharSequence`: https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#splitAsStream-java.lang.CharSequence-. Since you don&#39;t need the array at all, avoid creating it thus: \r\n\r\n    // This will presumably be a static final field somewhere.\r\n    Pattern splitter = Pattern.compile(&quot;\\\\s+&quot;);\r\n    // ...\r\n    String untokenized = reader.readLine();\r\n    Stream&lt;String&gt; tokens = splitter.splitAsStream(untokenized);\r\n","title":"How to convert a String into an ArrayList?","body":"<p>You could use:          </p>\n\n<pre><code>List&lt;String&gt; tokens = Arrays.stream(s.split(\"\\\\s+\")).collect(Collectors.toList());\n</code></pre>\n\n<p>You should ask yourself if you really need the ArrayList in the first place. Very often, you're going to filter the list based on additional criteria, for which a Stream is perfect. You may want a set; you may want to filter them by means of another regular expression, etc. Java 8 provides this very useful extension, by the way, which will  work on any <code>CharSequence</code>: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#splitAsStream-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#splitAsStream-java.lang.CharSequence-</a>. Since you don't need the array at all, avoid creating it thus: </p>\n\n<pre><code>// This will presumably be a static final field somewhere.\nPattern splitter = Pattern.compile(\"\\\\s+\");\n// ...\nString untokenized = reader.readLine();\nStream&lt;String&gt; tokens = splitter.splitAsStream(untokenized);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2444253,"reputation":465,"user_id":2132004,"display_name":"Vishwajit R. Shinde"},"score":0,"creation_date":1597380319,"post_id":46621142,"comment_id":112119196,"body_markdown":"`s.split(&quot;\\\\s*,\\\\s*&quot;)` can be added for extra care","body":"<code>s.split(&quot;\\\\s*,\\\\s*&quot;)</code> can be added for extra care"}],"tags":[],"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1589944346,"creation_date":1507385529,"answer_id":46621142,"question_id":7347856,"body_markdown":"In Java 9, using [**`List#of`][1]**, which is an Immutable List Static Factory Methods, become more simpler.\r\n\r\n     String s = &quot;a,b,c,d,e,.........&quot;;\r\n     List&lt;String&gt; lst = List.of(s.split(&quot;,&quot;));\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/List.html#immutable","title":"How to convert a String into an ArrayList?","body":"<p>In Java 9, using <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html#immutable\" rel=\"noreferrer\"><strong><code>List#of</code></a></strong>, which is an Immutable List Static Factory Methods, become more simpler.</p>\n\n<pre><code> String s = \"a,b,c,d,e,.........\";\n List&lt;String&gt; lst = List.of(s.split(\",\"));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7173699,"reputation":2839,"user_id":5480409,"display_name":"Francesco B."},"score":1,"creation_date":1521370949,"post_id":49346912,"comment_id":85693884,"body_markdown":"so... you are using the accepted solution to make an example about a different problem? why?","body":"so... you are using the accepted solution to make an example about a different problem? why?"}],"tags":[],"owner":{"account_id":8004185,"reputation":1391,"user_id":6037956,"display_name":"Soudipta Dutta"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521369453,"creation_date":1521369453,"answer_id":49346912,"question_id":7347856,"body_markdown":"Let&#39;s take a question : Reverse a String. I shall do this using stream().collect(). But first I shall change the string into an ArrayList .\r\n\r\n            \r\n        public class StringReverse1 {\r\n        public static void main(String[] args) {\r\n        \t\r\n        \tString a = &quot;Gini Gina  Proti&quot;;\r\n        \t\r\n        \tList&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(a.split(&quot;&quot;)));\r\n        \t\r\n        \tlist.stream()\r\n        \t.collect(Collectors.toCollection( LinkedList :: new ))\r\n        \t.descendingIterator()\r\n        \t.forEachRemaining(System.out::println);\r\n        \t\r\n        \t\r\n        \r\n        }}\r\n    /*\r\n    The output :\r\n    i\r\n    t\r\n    o\r\n    r\r\n    P\r\n     \r\n     \r\n    a\r\n    n\r\n    i\r\n    G\r\n     \r\n    i\r\n    n\r\n    i\r\n    G\r\n    */\r\n\r\n","title":"How to convert a String into an ArrayList?","body":"<p>Let's take a question : Reverse a String. I shall do this using stream().collect(). But first I shall change the string into an ArrayList .</p>\n\n<pre><code>    public class StringReverse1 {\n    public static void main(String[] args) {\n\n        String a = \"Gini Gina  Proti\";\n\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(a.split(\"\")));\n\n        list.stream()\n        .collect(Collectors.toCollection( LinkedList :: new ))\n        .descendingIterator()\n        .forEachRemaining(System.out::println);\n\n\n\n    }}\n/*\nThe output :\ni\nt\no\nr\nP\n\n\na\nn\ni\nG\n\ni\nn\ni\nG\n*/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8514103,"reputation":71,"user_id":6383203,"display_name":"Abay"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1538603307,"creation_date":1538603307,"answer_id":52636154,"question_id":7347856,"body_markdown":"Easier to understand is like this:\r\n\r\n    String s = &quot;a,b,c,d,e&quot;;\r\n    String[] sArr = s.split(&quot;,&quot;);\r\n    List&lt;String&gt; sList = Arrays.asList(sArr);","title":"How to convert a String into an ArrayList?","body":"<p>Easier to understand is like this:</p>\n\n<pre><code>String s = \"a,b,c,d,e\";\nString[] sArr = s.split(\",\");\nList&lt;String&gt; sList = Arrays.asList(sArr);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7364659,"reputation":515,"user_id":5606736,"display_name":"Philippe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543526125,"creation_date":1543526125,"answer_id":53547708,"question_id":7347856,"body_markdown":"I recommend use the StringTokenizer, is very efficient \r\n\r\n         List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\r\n         StringTokenizer token = new StringTokenizer(value, LIST_SEPARATOR);\r\n         while (token.hasMoreTokens()) {\r\n               list.add(token.nextToken());\r\n         }","title":"How to convert a String into an ArrayList?","body":"<p>I recommend use the StringTokenizer, is very efficient </p>\n\n<pre><code>     List&lt;String&gt; list = new ArrayList&lt;&gt;();\n\n     StringTokenizer token = new StringTokenizer(value, LIST_SEPARATOR);\n     while (token.hasMoreTokens()) {\n           list.add(token.nextToken());\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8627516,"reputation":213,"user_id":6910529,"display_name":"Felix A Marrero Pent&#243;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544628778,"creation_date":1544628778,"answer_id":53746384,"question_id":7347856,"body_markdown":" This is using Gson in Kotlin   \r\n   \r\n\r\n     val listString = &quot;[uno,dos,tres,cuatro,cinco]&quot;\r\n     val gson = Gson()\r\n     val lista = gson.fromJson(listString , Array&lt;String&gt;::class.java).toList()\r\n     Log.e(&quot;GSON&quot;, lista[0])","title":"How to convert a String into an ArrayList?","body":"<p>This is using Gson in Kotlin   </p>\n\n<pre><code> val listString = \"[uno,dos,tres,cuatro,cinco]\"\n val gson = Gson()\n val lista = gson.fromJson(listString , Array&lt;String&gt;::class.java).toList()\n Log.e(\"GSON\", lista[0])\n</code></pre>\n"},{"tags":[],"owner":{"account_id":123906,"reputation":989,"user_id":318673,"display_name":"sabujp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548475006,"creation_date":1548475006,"answer_id":54375551,"question_id":7347856,"body_markdown":"If you&#39;re using guava (and you should be, see [effective java item #15][1]):\r\n\r\n    ImmutableList&lt;String&gt; list = ImmutableList.copyOf(s.split(&quot;,&quot;));\r\n\r\n\r\n  [1]: https://www.google.com/search?q=effective%20java%20immutable","title":"How to convert a String into an ArrayList?","body":"<p>If you're using guava (and you should be, see <a href=\"https://www.google.com/search?q=effective%20java%20immutable\" rel=\"nofollow noreferrer\">effective java item #15</a>):</p>\n\n<pre><code>ImmutableList&lt;String&gt; list = ImmutableList.copyOf(s.split(\",\"));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":2,"creation_date":1679156437,"post_id":75773719,"comment_id":133672754,"body_markdown":"You need to explain your code, so beginners reading it will have an easy time understanding it. An answer should consist educatory information, which is even more important than the solution itself.","body":"You need to explain your code, so beginners reading it will have an easy time understanding it. An answer should consist educatory information, which is even more important than the solution itself."}],"tags":[],"owner":{"account_id":16300382,"reputation":1,"user_id":11771657,"display_name":"Karthik Gunasekaran"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679110464,"creation_date":1679110306,"answer_id":75773719,"question_id":7347856,"body_markdown":"```\r\nString value = &quot;java spring springboot microservices&quot;;\r\n\r\nArrayList&lt;String&gt; listValue = new ArrayList&lt;&gt;(Arrays.asList(value.split(&quot; &quot;));\r\n```","title":"How to convert a String into an ArrayList?","body":"<pre><code>String value = &quot;java spring springboot microservices&quot;;\n\nArrayList&lt;String&gt; listValue = new ArrayList&lt;&gt;(Arrays.asList(value.split(&quot; &quot;));\n</code></pre>\n"}],"owner":{"account_id":186312,"reputation":9244,"user_id":423620,"accept_rate":88,"display_name":"Sameek Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":685858,"favorite_count":0,"down_vote_count":1,"up_vote_count":145,"accepted_answer_id":7347895,"answer_count":14,"score":144,"last_activity_date":1679110464,"creation_date":1315484200,"question_id":7347856,"body_markdown":"In my String, I can have an arbitrary number of words which are comma separated. I wanted each word added into an ArrayList. E.g.:\r\n\r\n    String s = &quot;a,b,c,d,e,.........&quot;;\r\n","title":"How to convert a String into an ArrayList?","body":"<p>In my String, I can have an arbitrary number of words which are comma separated. I wanted each word added into an ArrayList. E.g.:</p>\n\n<pre><code>String s = \"a,b,c,d,e,.........\";\n</code></pre>\n"},{"tags":["java","memory-leaks","sonarqube","number-formatting","thread-local"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1567376231,"post_id":57749185,"comment_id":101937003,"body_markdown":"Have you actually profiled whether there is a difference between using a `ThreadLocal`, and simply creating a new instance and returning it each time `getFormatter` is invoked? It seems like it would be an awful lot easier to reason about the life cycle of the instances if you were to do that.","body":"Have you actually profiled whether there is a difference between using a <code>ThreadLocal</code>, and simply creating a new instance and returning it each time <code>getFormatter</code> is invoked? It seems like it would be an awful lot easier to reason about the life cycle of the instances if you were to do that."}],"answers":[{"tags":[],"owner":{"account_id":3270036,"reputation":285,"user_id":2753622,"display_name":"Peter Lamby"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1567370186,"creation_date":1567370186,"answer_id":57749348,"question_id":57749185,"body_markdown":"You should **not** call `#remove` directly after you used the formatter. As you wrote that would defeat the purpose.\r\n\r\nYou only need to call `#remove` in the following case. Your web application is unloaded from the application server e.g. Tomcat. But the application server itself keeps on running.\r\n\r\nIn this case the application server probably keeps the threads it created for your application around and these threads will still have each an instance of `NumberFormat` associated with them. **That&#39;s your memory leak**.\r\n\r\nSo if you always restart the entire app server you probably don&#39;t need to care about this problem.\r\n\r\nIf you want to clean up the `ThreadLocal` properly you would want to call `#remove` once your application is starting to shut down. This way you reused the `NumberFormat` instance a maximum of times while still cleaning up properly.","title":"How to clean up Java ThreadLocals in accordance with Sonar?","body":"<p>You should <strong>not</strong> call <code>#remove</code> directly after you used the formatter. As you wrote that would defeat the purpose.</p>\n\n<p>You only need to call <code>#remove</code> in the following case. Your web application is unloaded from the application server e.g. Tomcat. But the application server itself keeps on running.</p>\n\n<p>In this case the application server probably keeps the threads it created for your application around and these threads will still have each an instance of <code>NumberFormat</code> associated with them. <strong>That's your memory leak</strong>.</p>\n\n<p>So if you always restart the entire app server you probably don't need to care about this problem.</p>\n\n<p>If you want to clean up the <code>ThreadLocal</code> properly you would want to call <code>#remove</code> once your application is starting to shut down. This way you reused the <code>NumberFormat</code> instance a maximum of times while still cleaning up properly.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1679109820,"creation_date":1567370242,"answer_id":57749354,"question_id":57749185,"body_markdown":"Sonar is right here.   \r\n\r\nEach thread will have its own `ThreadLocal` state and so its own instance of `NumberFormat`.   \r\nSo in the general case it may be undesirable to not clear data from the state since the thread may be reused (recycled by the server) and the state valued for the previous client may be inconsistent for the current client.    \r\nFor example some clients could have the format `US`, others the format `FR`, and so for... \r\nBesides some threads could instantiate that ThreadLocal class, other no. But by not cleaning the state, the state will still use memory for threads that may not need them.   \r\n\r\nWell, in your code, there is not variability of the `ThreadLocal` state since you set the state  for any instance, so no inconsistency risk is likely, just memory &quot;waste&quot;.   \r\n\r\n\r\n&gt; Now, I adopted the ThreadLocal approach in order to reuse NumberFormat\r\n&gt; instances as much as possible, avoiding the creation of one instance\r\n&gt; per call\r\n\r\nYou reuse the `ThreadLocal` state by a thread request basis.  \r\nSo if you have 50 threads, you have 50 states.   \r\nIn web applications, the server maps the client HTTP request to one thread.  \r\nSo you don&#39;t create multiple instances of the formatter only in the scope of 1 http request.  It means that If you use the formatter one or two time by request processing, the `ThreadLocal` cache doesn&#39;t bring a great value.   But if you use it more, using it makes sense.\r\n\r\n&gt; so I think if I called remove() somewhere in the code, I\r\n&gt; would lose all the advantages of this solution\r\n\r\nCalling `remove()` will not hurt performance if you do that when the request processing is done. You don&#39;t lose any advantage since you may use the formatter dozen of times in the scope of the  request and it will be cleaned only at the end.  \r\n\r\nYou have Request Listener in the servlet specification :\r\nhttps://docs.oracle.com/javaee/7/api/javax/servlet/ServletRequestListener.html.   \r\nYou could do that in `void requestDestroyed(ServletRequestEvent sre)`.\r\n","title":"How to clean up Java ThreadLocals in accordance with Sonar?","body":"<p>Sonar is right here.</p>\n<p>Each thread will have its own <code>ThreadLocal</code> state and so its own instance of <code>NumberFormat</code>.<br />\nSo in the general case it may be undesirable to not clear data from the state since the thread may be reused (recycled by the server) and the state valued for the previous client may be inconsistent for the current client.<br />\nFor example some clients could have the format <code>US</code>, others the format <code>FR</code>, and so for...\nBesides some threads could instantiate that ThreadLocal class, other no. But by not cleaning the state, the state will still use memory for threads that may not need them.</p>\n<p>Well, in your code, there is not variability of the <code>ThreadLocal</code> state since you set the state  for any instance, so no inconsistency risk is likely, just memory &quot;waste&quot;.</p>\n<blockquote>\n<p>Now, I adopted the ThreadLocal approach in order to reuse NumberFormat\ninstances as much as possible, avoiding the creation of one instance\nper call</p>\n</blockquote>\n<p>You reuse the <code>ThreadLocal</code> state by a thread request basis.<br />\nSo if you have 50 threads, you have 50 states.<br />\nIn web applications, the server maps the client HTTP request to one thread.<br />\nSo you don't create multiple instances of the formatter only in the scope of 1 http request.  It means that If you use the formatter one or two time by request processing, the <code>ThreadLocal</code> cache doesn't bring a great value.   But if you use it more, using it makes sense.</p>\n<blockquote>\n<p>so I think if I called remove() somewhere in the code, I\nwould lose all the advantages of this solution</p>\n</blockquote>\n<p>Calling <code>remove()</code> will not hurt performance if you do that when the request processing is done. You don't lose any advantage since you may use the formatter dozen of times in the scope of the  request and it will be cleaned only at the end.</p>\n<p>You have Request Listener in the servlet specification :\n<a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/ServletRequestListener.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/7/api/javax/servlet/ServletRequestListener.html</a>.<br />\nYou could do that in <code>void requestDestroyed(ServletRequestEvent sre)</code>.</p>\n"},{"tags":[],"owner":{"account_id":3730804,"reputation":1169,"user_id":3103271,"accept_rate":75,"display_name":"Charlie"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567370560,"creation_date":1567370560,"answer_id":57749381,"question_id":57749185,"body_markdown":"The [link][1] you provided says the following:\r\n\r\n&gt; Memory leaks can occur when holding threads are re-used which is the case on application servers using pool of threads.\r\n\r\nFor example you build a pool with 7 threads because your CPU has 8 cores. Then you submit a task to the pool and it would be solved by one of the threads. Afterwards the thread may do not have other tasks to do, but the thread still holds the ThreadLocal object. This would be a waste of memory and because ThreadLocal has a reference to the containing object the garbage collector can not remove the containing object (could result in a memory leak).\r\n\r\nIf you do not reuse the thread and cleanup all references to the thread , then there will not be a memory leak. If you reuse the thread later the threadLocal object will be in-memory until it is overwritten or cleaned up or until the thread is destroyed.  \r\n\r\n\r\n  [1]: https://rules.sonarsource.com/java/tag/leak/RSPEC-5164","title":"How to clean up Java ThreadLocals in accordance with Sonar?","body":"<p>The <a href=\"https://rules.sonarsource.com/java/tag/leak/RSPEC-5164\" rel=\"nofollow noreferrer\">link</a> you provided says the following:</p>\n\n<blockquote>\n  <p>Memory leaks can occur when holding threads are re-used which is the case on application servers using pool of threads.</p>\n</blockquote>\n\n<p>For example you build a pool with 7 threads because your CPU has 8 cores. Then you submit a task to the pool and it would be solved by one of the threads. Afterwards the thread may do not have other tasks to do, but the thread still holds the ThreadLocal object. This would be a waste of memory and because ThreadLocal has a reference to the containing object the garbage collector can not remove the containing object (could result in a memory leak).</p>\n\n<p>If you do not reuse the thread and cleanup all references to the thread , then there will not be a memory leak. If you reuse the thread later the threadLocal object will be in-memory until it is overwritten or cleaned up or until the thread is destroyed.  </p>\n"}],"owner":{"account_id":3949403,"reputation":1141,"user_id":3260495,"display_name":"Robert Hume"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5007,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":57749354,"answer_count":3,"score":12,"last_activity_date":1679109820,"creation_date":1567368926,"question_id":57749185,"body_markdown":"A [Sonar][1] rule available since Aug 21, 2019 ([squid:S5164][2] / [RSPEC-5164][2]) mandates to clean up &quot;ThreadLocal&quot; variables when no longer used. So, let&#39;s take the following class (JDK6 compatible):\r\n\r\n    public class ThreadLocalExample {\r\n    \r\n    \tprivate static final ThreadLocal&lt;NumberFormat&gt; formats = new ThreadLocal&lt;NumberFormat&gt;() {\r\n    \t\t@Override\r\n    \t\tprotected NumberFormat initialValue() {\r\n    \t\t\tfinal NumberFormat nf = NumberFormat.getNumberInstance(Locale.US);\r\n    \t\t\tnf.setMinimumFractionDigits(2);\r\n    \t\t\tnf.setMaximumFractionDigits(2);\r\n    \t\t\tnf.setGroupingUsed(false);\r\n    \t\t\treturn nf;\r\n    \t\t}\r\n    \t};\r\n    \r\n    \tpublic static NumberFormat getFormatter() {\r\n    \t\treturn formats.get();\r\n    \t}\r\n    }\r\n\r\nSonar reports a **major bug** on the `ThreadLocal` declaration, with the following explanation:\r\n\r\n&gt; &quot;ThreadLocal&quot; variables should be cleaned up when no longer used\r\n&gt; \r\n&gt; `ThreadLocal` variables are supposed to be garbage collected once the\r\n&gt; holding thread is no longer alive. Memory leaks can occur when holding\r\n&gt; threads are re-used which is the case on application servers using\r\n&gt; pool of threads.\r\n&gt; \r\n&gt; To avoid such problems, it is recommended to always clean up\r\n&gt; `ThreadLocal` variables using the `remove()` method to remove the current\r\n&gt; threads value for the `ThreadLocal` variable.\r\n\r\nNow, I adopted the `ThreadLocal` approach in order to reuse `NumberFormat` instances as much as possible, avoiding the creation of one instance per call, so I think if I called `remove()` somewhere in the code, I would lose all the advantages of this solution. Am I missing something? Thanks a lot.\r\n\r\n\r\n  [1]: https://sonarcloud.io\r\n  [2]: https://rules.sonarsource.com/java/RSPEC-5164","title":"How to clean up Java ThreadLocals in accordance with Sonar?","body":"<p>A <a href=\"https://sonarcloud.io\" rel=\"noreferrer\">Sonar</a> rule available since Aug 21, 2019 (<a href=\"https://rules.sonarsource.com/java/RSPEC-5164\" rel=\"noreferrer\">squid:S5164</a> / <a href=\"https://rules.sonarsource.com/java/RSPEC-5164\" rel=\"noreferrer\">RSPEC-5164</a>) mandates to clean up \"ThreadLocal\" variables when no longer used. So, let's take the following class (JDK6 compatible):</p>\n\n<pre><code>public class ThreadLocalExample {\n\n    private static final ThreadLocal&lt;NumberFormat&gt; formats = new ThreadLocal&lt;NumberFormat&gt;() {\n        @Override\n        protected NumberFormat initialValue() {\n            final NumberFormat nf = NumberFormat.getNumberInstance(Locale.US);\n            nf.setMinimumFractionDigits(2);\n            nf.setMaximumFractionDigits(2);\n            nf.setGroupingUsed(false);\n            return nf;\n        }\n    };\n\n    public static NumberFormat getFormatter() {\n        return formats.get();\n    }\n}\n</code></pre>\n\n<p>Sonar reports a <strong>major bug</strong> on the <code>ThreadLocal</code> declaration, with the following explanation:</p>\n\n<blockquote>\n  <p>\"ThreadLocal\" variables should be cleaned up when no longer used</p>\n  \n  <p><code>ThreadLocal</code> variables are supposed to be garbage collected once the\n  holding thread is no longer alive. Memory leaks can occur when holding\n  threads are re-used which is the case on application servers using\n  pool of threads.</p>\n  \n  <p>To avoid such problems, it is recommended to always clean up\n  <code>ThreadLocal</code> variables using the <code>remove()</code> method to remove the current\n  threads value for the <code>ThreadLocal</code> variable.</p>\n</blockquote>\n\n<p>Now, I adopted the <code>ThreadLocal</code> approach in order to reuse <code>NumberFormat</code> instances as much as possible, avoiding the creation of one instance per call, so I think if I called <code>remove()</code> somewhere in the code, I would lose all the advantages of this solution. Am I missing something? Thanks a lot.</p>\n"},{"tags":["java","spring-boot","kubernetes"],"answers":[{"tags":[],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679107942,"creation_date":1679107942,"answer_id":75773598,"question_id":75762561,"body_markdown":"As described in the question:\r\n\r\n&gt; To get around the error, I did a workaround:\r\n&gt; \r\n&gt;     @Value(&quot;${greeting_from_environment_variable:default}&quot;)\r\n&gt;     String greeting;","title":"SpringBoot and Kubernetes error &quot;IntegrationTest.contextLoads &#187; IllegalState Failed to load.. IllegalArgumentException: Could not resolve placeholder&quot;","body":"<p>As described in the question:</p>\n<blockquote>\n<p>To get around the error, I did a workaround:</p>\n<pre><code>@Value(&quot;${greeting_from_environment_variable:default}&quot;)\nString greeting;\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679107942,"creation_date":1679009962,"question_id":75762561,"body_markdown":"I want to inject this value `greeting_from_environment_variable` from a ConfigMap in kubernetes.\r\nBut it is not passing the unit integration tests.\r\n\r\n    @Value(&quot;${greeting_from_environment_variable}&quot;)\r\n    String greeting;\r\n\r\n\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;encouragerController&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;greeting_from_environment_variable&#39; in value &quot;${greeting_from_environment_variable}&quot;\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties\r\n\r\n\r\n....\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;greeting_from_environment_variable&#39; in value &quot;${greeting_from_environment_variable}&quot;\r\n    \tat org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver\r\n\r\n....\r\n\r\n    [ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 2.531 s &lt;&lt;&lt; FAILURE! - in com.dropaflame.encourage.EncourageApplicationIntegrationTest\r\n    [ERROR] contextLoads  Time elapsed: 0.004 s  &lt;&lt;&lt; ERROR!\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;encouragerController&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;greeting_from_environment_variable&#39; in value &quot;${greeting_from_environment_variable}&quot;\r\n    Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;greeting_from_environment_variable&#39;\r\n\r\n...\r\n\r\n    [INFO] \r\n    [INFO] Results:\r\n    [INFO] \r\n    [ERROR] Errors: \r\n    [ERROR]   EncourageApplicationIntegrationTest.contextLoads &#187; IllegalState Failed to load...\r\n    [INFO] \r\n    [ERROR] Tests run: 7, Failures: 0, Errors: 1, Skipped: 0\r\n    [INFO] \r\n\r\nThe IntegrationTest class:\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    class EncourageApplicationIntegrationTest {\r\n        @Autowired\r\n        private TestRestTemplate restTemplate;\r\n    \r\n        @Test\r\n        void contextLoads() {\r\n            ResponseEntity&lt;List&lt;Encouragement&gt;&gt; responseEntity;\r\n            responseEntity = restTemplate.exchange(&quot;/all-quotes&quot;, HttpMethod.GET, null, new ParameterizedTypeReference&lt;List&lt;Encouragement&gt;&gt;(){});\r\n            System.out.println(Arrays.asList(responseEntity.getBody()));\r\n        }\r\n    }\r\n\r\nTo get around the error, I did a workaround:\r\n\r\n    @Value(&quot;${greeting_from_environment_variable:default}&quot;)\r\n    String greeting;\r\n\r\nbut this is not a solution IMHO\r\n\r\n\r\n","title":"SpringBoot and Kubernetes error &quot;IntegrationTest.contextLoads &#187; IllegalState Failed to load.. IllegalArgumentException: Could not resolve placeholder&quot;","body":"<p>I want to inject this value <code>greeting_from_environment_variable</code> from a ConfigMap in kubernetes.\nBut it is not passing the unit integration tests.</p>\n<pre><code>@Value(&quot;${greeting_from_environment_variable}&quot;)\nString greeting;\n\n\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'encouragerController': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'greeting_from_environment_variable' in value &quot;${greeting_from_environment_variable}&quot;\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties\n</code></pre>\n<p>....</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'greeting_from_environment_variable' in value &quot;${greeting_from_environment_variable}&quot;\n    at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-5.3.23.jar:5.3.23]\n    at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-5.3.23.jar:5.3.23]\n    at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver\n</code></pre>\n<p>....</p>\n<pre><code>[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 2.531 s &lt;&lt;&lt; FAILURE! - in com.dropaflame.encourage.EncourageApplicationIntegrationTest\n[ERROR] contextLoads  Time elapsed: 0.004 s  &lt;&lt;&lt; ERROR!\njava.lang.IllegalStateException: Failed to load ApplicationContext\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'encouragerController': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'greeting_from_environment_variable' in value &quot;${greeting_from_environment_variable}&quot;\nCaused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'greeting_from_environment_variable'\n</code></pre>\n<p>...</p>\n<pre><code>[INFO] \n[INFO] Results:\n[INFO] \n[ERROR] Errors: \n[ERROR]   EncourageApplicationIntegrationTest.contextLoads  IllegalState Failed to load...\n[INFO] \n[ERROR] Tests run: 7, Failures: 0, Errors: 1, Skipped: 0\n[INFO] \n</code></pre>\n<p>The IntegrationTest class:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\nclass EncourageApplicationIntegrationTest {\n    @Autowired\n    private TestRestTemplate restTemplate;\n\n    @Test\n    void contextLoads() {\n        ResponseEntity&lt;List&lt;Encouragement&gt;&gt; responseEntity;\n        responseEntity = restTemplate.exchange(&quot;/all-quotes&quot;, HttpMethod.GET, null, new ParameterizedTypeReference&lt;List&lt;Encouragement&gt;&gt;(){});\n        System.out.println(Arrays.asList(responseEntity.getBody()));\n    }\n}\n</code></pre>\n<p>To get around the error, I did a workaround:</p>\n<pre><code>@Value(&quot;${greeting_from_environment_variable:default}&quot;)\nString greeting;\n</code></pre>\n<p>but this is not a solution IMHO</p>\n"},{"tags":["java","windows","jna"],"answers":[{"tags":[],"owner":{"account_id":27788699,"reputation":34,"user_id":21215561,"display_name":"Nils Hoffmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679086834,"creation_date":1679086240,"answer_id":75772120,"question_id":75771805,"body_markdown":"you can get your pointer from the reference: \r\n\r\n`Pointer pointer = phToken.getValue();`\r\n\r\ngetValue() returns a Pointer\r\n\r\n(https://javadoc.io/static/net.java.dev.jna/jna/5.13.0/com/sun/jna/ptr/PointerByReference.html)\r\n\r\nand then convert the arguments to strings as needed, this is for the first argument:\r\n   \r\n`String Value1 = ptrParam1.getString(0)`\r\n\r\ngetXXX(offset) can be used to get a data type by offset\r\n(https://javadoc.io/static/net.java.dev.jna/jna/5.13.0/com/sun/jna/Pointer.html)","title":"How to extract String value from com.sun.jna.ptr.PointerByReference in Java?","body":"<p>you can get your pointer from the reference:</p>\n<p><code>Pointer pointer = phToken.getValue();</code></p>\n<p>getValue() returns a Pointer</p>\n<p>(<a href=\"https://javadoc.io/static/net.java.dev.jna/jna/5.13.0/com/sun/jna/ptr/PointerByReference.html\" rel=\"nofollow noreferrer\">https://javadoc.io/static/net.java.dev.jna/jna/5.13.0/com/sun/jna/ptr/PointerByReference.html</a>)</p>\n<p>and then convert the arguments to strings as needed, this is for the first argument:</p>\n<p><code>String Value1 = ptrParam1.getString(0)</code></p>\n<p>getXXX(offset) can be used to get a data type by offset\n(<a href=\"https://javadoc.io/static/net.java.dev.jna/jna/5.13.0/com/sun/jna/Pointer.html\" rel=\"nofollow noreferrer\">https://javadoc.io/static/net.java.dev.jna/jna/5.13.0/com/sun/jna/Pointer.html</a>)</p>\n"},{"tags":[],"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679107197,"creation_date":1679107197,"answer_id":75773556,"question_id":75771805,"body_markdown":"As Nils Hoffman indicated in [their answer](https://stackoverflow.com/a/75772120/1161484), the first step is dereferencing the pointer from the ByReference, which would be\r\n```java\r\nPointer tokenPointer = phToken.getValue();\r\n```\r\nIf that pointer represents a `String`, on Windows you&#39;d use `getWideString()` for the UTF16 version.  However, the Windows API docs don&#39;t indicate that this is a string.  The [LogonUserW](https://learn.microsoft.com/en-us/windows/win32/api/winbase/nf-winbase-logonuserw) function you used says:\r\n&gt; `[out] phToken`\r\n&gt; \r\n&gt; A pointer to a handle variable that receives a handle to a token that represents the specified user.\r\n&gt; \r\n&gt; You can use the returned handle in calls to the ImpersonateLoggedOnUser function.\r\n&gt; \r\n&gt; In most cases, the returned handle is a primary token that you can use in calls to the CreateProcessAsUser function. However, if you specify the LOGON32_LOGON_NETWORK flag, LogonUser returns an impersonation token that you cannot use in CreateProcessAsUser unless you call DuplicateTokenEx to convert it to a primary token.\r\n&gt; \r\n&gt; When you no longer need this handle, close it by calling the CloseHandle function.\r\n\r\nSo what you really have is a `HANDLE` which has internal meaning to Windows, but is not a String.  A [HANDLE](https://learn.microsoft.com/en-us/windows/win32/winprog/windows-data-types?redirectedfrom=MSDN#handle) is just a fancy name for a pointer:\r\n&gt; HANDLE\t A handle to an object.\r\n&gt; \r\n&gt; This type is declared in WinNT.h as follows:\r\n&gt; \r\n&gt; typedef PVOID HANDLE;\r\n\r\nSo while it represents a user (the `username` you passed as a parameter to the function), it&#39;s just a 64-bit number, and not a String.\r\n\r\nGiven that you know the final parameter is a handle, you would probably want to pass a `HANDLEByReference` to begin with, as is already mapped in JNA&#39;s [user contributions](https://github.com/java-native-access/jna/blob/e96f30192e9455e7cc4117cce06fc3fa80bead55/contrib/platform/src/com/sun/jna/platform/win32/Advapi32.java#L632).","title":"How to extract String value from com.sun.jna.ptr.PointerByReference in Java?","body":"<p>As Nils Hoffman indicated in <a href=\"https://stackoverflow.com/a/75772120/1161484\">their answer</a>, the first step is dereferencing the pointer from the ByReference, which would be</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pointer tokenPointer = phToken.getValue();\n</code></pre>\n<p>If that pointer represents a <code>String</code>, on Windows you'd use <code>getWideString()</code> for the UTF16 version.  However, the Windows API docs don't indicate that this is a string.  The <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/winbase/nf-winbase-logonuserw\" rel=\"nofollow noreferrer\">LogonUserW</a> function you used says:</p>\n<blockquote>\n<p><code>[out] phToken</code></p>\n<p>A pointer to a handle variable that receives a handle to a token that represents the specified user.</p>\n<p>You can use the returned handle in calls to the ImpersonateLoggedOnUser function.</p>\n<p>In most cases, the returned handle is a primary token that you can use in calls to the CreateProcessAsUser function. However, if you specify the LOGON32_LOGON_NETWORK flag, LogonUser returns an impersonation token that you cannot use in CreateProcessAsUser unless you call DuplicateTokenEx to convert it to a primary token.</p>\n<p>When you no longer need this handle, close it by calling the CloseHandle function.</p>\n</blockquote>\n<p>So what you really have is a <code>HANDLE</code> which has internal meaning to Windows, but is not a String.  A <a href=\"https://learn.microsoft.com/en-us/windows/win32/winprog/windows-data-types?redirectedfrom=MSDN#handle\" rel=\"nofollow noreferrer\">HANDLE</a> is just a fancy name for a pointer:</p>\n<blockquote>\n<p>HANDLE     A handle to an object.</p>\n<p>This type is declared in WinNT.h as follows:</p>\n<p>typedef PVOID HANDLE;</p>\n</blockquote>\n<p>So while it represents a user (the <code>username</code> you passed as a parameter to the function), it's just a 64-bit number, and not a String.</p>\n<p>Given that you know the final parameter is a handle, you would probably want to pass a <code>HANDLEByReference</code> to begin with, as is already mapped in JNA's <a href=\"https://github.com/java-native-access/jna/blob/e96f30192e9455e7cc4117cce06fc3fa80bead55/contrib/platform/src/com/sun/jna/platform/win32/Advapi32.java#L632\" rel=\"nofollow noreferrer\">user contributions</a>.</p>\n"}],"owner":{"account_id":5684060,"reputation":1093,"user_id":4494166,"accept_rate":0,"display_name":"Ravi Soni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679107197,"creation_date":1679083619,"question_id":75771805,"body_markdown":"I&#39;m using \r\n\r\nDependency:\r\n`\r\nimplementation group: &quot;net.java.dev.jna&quot;, name: &quot;jna&quot;\r\n`\r\n\r\nCode:\r\n\r\n    PointerByReference phToken = new PointerByReference();\r\n    advapi32.LogonUserW(new WString(username), new WString(domain), new WString(password), 3, 0, phToken);\r\n\r\n\r\nnow i need to extract String value from this phToken, how to do that ?","title":"How to extract String value from com.sun.jna.ptr.PointerByReference in Java?","body":"<p>I'm using</p>\n<p>Dependency:\n<code>implementation group: &quot;net.java.dev.jna&quot;, name: &quot;jna&quot;</code></p>\n<p>Code:</p>\n<pre><code>PointerByReference phToken = new PointerByReference();\nadvapi32.LogonUserW(new WString(username), new WString(domain), new WString(password), 3, 0, phToken);\n</code></pre>\n<p>now i need to extract String value from this phToken, how to do that ?</p>\n"},{"tags":["java","arrays","sorting","quicksort"],"answers":[{"comments":[{"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"score":0,"creation_date":1679153482,"post_id":75773343,"comment_id":133672193,"body_markdown":"pfff... thank you so much! You are a genius. I wasted my whole Friday trying to do that one on my own for nothing because I gave up at the end, but hopefully you helped. Now I have more things to put in my IEEE about sorting algorithms","body":"pfff... thank you so much! You are a genius. I wasted my whole Friday trying to do that one on my own for nothing because I gave up at the end, but hopefully you helped. Now I have more things to put in my IEEE about sorting algorithms"},{"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"score":0,"creation_date":1679157076,"post_id":75773343,"comment_id":133672866,"body_markdown":"I analized the code for a bit, and I&#39;d like to know why we don&#39;t do pivot - 1 in `quickSort(arr, start, pivot);     // not pivot-1`?","body":"I analized the code for a bit, and I&#39;d like to know why we don&#39;t do pivot - 1 in <code>quickSort(arr, start, pivot);     &#47;&#47; not pivot-1</code>?"},{"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"score":1,"creation_date":1679181660,"post_id":75773343,"comment_id":133676133,"body_markdown":"@Sheep_Walker - with Hoare partition scheme, to avoid a check for scanning past either end of the partition, the scans stop at values equal to the pivot. This means the pivot and values equal to the pivot get swapped and can end up anywhere in the partition. The index returned by Hoare partition just separates values &lt;= pivot and values &gt;= pivot, and needs to be included in one of the sub-partitions on the next level of recursion.","body":"@Sheep_Walker - with Hoare partition scheme, to avoid a check for scanning past either end of the partition, the scans stop at values equal to the pivot. This means the pivot and values equal to the pivot get swapped and can end up anywhere in the partition. The index returned by Hoare partition just separates values &lt;= pivot and values &gt;= pivot, and needs to be included in one of the sub-partitions on the next level of recursion."},{"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"score":1,"creation_date":1679181828,"post_id":75773343,"comment_id":133676151,"body_markdown":"@Sheep_Walker - If Lomuto partition scheme is used  instead, it returns an index to the pivot, so that index can be excluded from the next level of recursion, but the Lomuto partition scheme is usually a bit slower than Hoare partition scheme.","body":"@Sheep_Walker - If Lomuto partition scheme is used  instead, it returns an index to the pivot, so that index can be excluded from the next level of recursion, but the Lomuto partition scheme is usually a bit slower than Hoare partition scheme."}],"tags":[],"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679106604,"creation_date":1679102423,"answer_id":75773343,"question_id":75772703,"body_markdown":"The question&#39;s code is a mix of Hoare and Lomuto partition schemes. I changed the code to typical Hoare partition scheme that pre-increments and pre-decrements the indexes in `partition()`.\r\n\r\n        private static void quickSort(String[] arr, int start, int end) {\r\n            if (end &lt;= start) return;\r\n            int pivot = partition(arr, start, end);\r\n            quickSort(arr, start, pivot);     // not pivot-1\r\n            quickSort(arr, pivot + 1, end);\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;empty-statement&quot;)\r\n        private static int partition(String[] arr, int start, int end) {\r\n            String pivot = arr[start + (end - start) / 2];\r\n            int i = start-1;\r\n            int j = end+1;\r\n            while(true)\r\n            {\r\n                while (arr[++i].compareTo(pivot) &lt; 0);\r\n                while (arr[--j].compareTo(pivot) &gt; 0);\r\n                if(i &gt;= j)\r\n                    break;\r\n                String temp = arr[i];\r\n                arr[i] = arr[j];\r\n                arr[j] = temp;\r\n            }\r\n            return j;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            String[] arr = {&quot;D&quot;, &quot;C&quot;, &quot;B&quot;, &quot;a&quot;, &quot;A&quot;, &quot;Z&quot;, &quot;g&quot;, &quot;f&quot;, &quot;e&quot;, &quot;d&quot;, &quot;c&quot;, &quot;b&quot;};\r\n            int i;\r\n            quickSort(arr, 0, arr.length-1);\r\n            for(i = 1; i &lt; arr.length; i++){\r\n                if(arr[i-1].compareTo(arr[i]) &gt; 0){\r\n                    break;\r\n                }\r\n            }\r\n            if(i == arr.length)\r\n                System.out.println(&quot;passed&quot;);\r\n            else\r\n                System.out.println(&quot;failed&quot;);\r\n        }\r\n","title":"Quicksort with middle element as the pivot","body":"<p>The question's code is a mix of Hoare and Lomuto partition schemes. I changed the code to typical Hoare partition scheme that pre-increments and pre-decrements the indexes in <code>partition()</code>.</p>\n<pre><code>    private static void quickSort(String[] arr, int start, int end) {\n        if (end &lt;= start) return;\n        int pivot = partition(arr, start, end);\n        quickSort(arr, start, pivot);     // not pivot-1\n        quickSort(arr, pivot + 1, end);\n    }\n\n    @SuppressWarnings(&quot;empty-statement&quot;)\n    private static int partition(String[] arr, int start, int end) {\n        String pivot = arr[start + (end - start) / 2];\n        int i = start-1;\n        int j = end+1;\n        while(true)\n        {\n            while (arr[++i].compareTo(pivot) &lt; 0);\n            while (arr[--j].compareTo(pivot) &gt; 0);\n            if(i &gt;= j)\n                break;\n            String temp = arr[i];\n            arr[i] = arr[j];\n            arr[j] = temp;\n        }\n        return j;\n    }\n\n    public static void main(String[] args) {\n        String[] arr = {&quot;D&quot;, &quot;C&quot;, &quot;B&quot;, &quot;a&quot;, &quot;A&quot;, &quot;Z&quot;, &quot;g&quot;, &quot;f&quot;, &quot;e&quot;, &quot;d&quot;, &quot;c&quot;, &quot;b&quot;};\n        int i;\n        quickSort(arr, 0, arr.length-1);\n        for(i = 1; i &lt; arr.length; i++){\n            if(arr[i-1].compareTo(arr[i]) &gt; 0){\n                break;\n            }\n        }\n        if(i == arr.length)\n            System.out.println(&quot;passed&quot;);\n        else\n            System.out.println(&quot;failed&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":75773343,"answer_count":1,"score":0,"last_activity_date":1679106604,"creation_date":1679092269,"question_id":75772703,"body_markdown":"I have been trying to implement a quicksort in Java, but I can&#39;t find a way to make it with a pivot as the middle element.\r\n\r\nArray: `String[] arr = {&quot;D&quot;, &quot;C&quot;, &quot;B&quot;, &quot;A&quot;, &quot;A&quot;, &quot;Z&quot;, &quot;g&quot;, &quot;F&quot;, &quot;e&quot;, &quot;d&quot;, &quot;c&quot;, &quot;b&quot;};`\r\n\r\nOutput: `A A B C D F g Z b c d e`\r\n\r\n    private static void quickSort(String[] arr, int start, int end) {\r\n        if (end &lt;= start) return;\r\n    \r\n        int pivot = partition(arr, start, end);\r\n        quickSort(arr, start, pivot - 1);\r\n        quickSort(arr, pivot + 1, end);\r\n    }\r\n    \r\n    private static int partition(String[] arr, int start, int end) {\r\n        String pivot = arr[start + (end - start) / 2];\r\n        int i = start;\r\n        int j = end;\r\n    \r\n        while (i &lt; j)\r\n        {\r\n            if (arr[i].compareTo(pivot) &lt; 0)\r\n                ++i;\r\n            \r\n            else if (arr[j].compareTo(pivot) &gt; 0)\r\n                --j;\r\n\r\n            else if (arr[i].equals(pivot))\r\n                ++i;\r\n\r\n            else if (arr[j].equals(pivot))\r\n                --j;\r\n\r\n            else\r\n            {\r\n                String temp = arr[i];\r\n                arr[i] = arr[j];\r\n                arr[j] = temp;\r\n            }\r\n        }\r\n        \r\n        String temp = arr[i];\r\n        arr[i] = pivot;\r\n        arr[start + (end - start) / 2] = temp;\r\n\r\n        return i;\r\n    }\r\n\r\nWhen I do other arrays where elements smaller than the pivot are not on the right side, it works well. As in:\r\n\r\nArray: `String[] arr = {&quot;D&quot;, &quot;C&quot;, &quot;B&quot;, &quot;a&quot;, &quot;A&quot;, &quot;Z&quot;, &quot;g&quot;, &quot;f&quot;, &quot;e&quot;, &quot;d&quot;, &quot;c&quot;, &quot;b&quot;};`\r\n\r\nOutput: `A B C D Z a b c d e f g`\r\n\r\nAny solutions?","title":"Quicksort with middle element as the pivot","body":"<p>I have been trying to implement a quicksort in Java, but I can't find a way to make it with a pivot as the middle element.</p>\n<p>Array: <code>String[] arr = {&quot;D&quot;, &quot;C&quot;, &quot;B&quot;, &quot;A&quot;, &quot;A&quot;, &quot;Z&quot;, &quot;g&quot;, &quot;F&quot;, &quot;e&quot;, &quot;d&quot;, &quot;c&quot;, &quot;b&quot;};</code></p>\n<p>Output: <code>A A B C D F g Z b c d e</code></p>\n<pre><code>private static void quickSort(String[] arr, int start, int end) {\n    if (end &lt;= start) return;\n\n    int pivot = partition(arr, start, end);\n    quickSort(arr, start, pivot - 1);\n    quickSort(arr, pivot + 1, end);\n}\n\nprivate static int partition(String[] arr, int start, int end) {\n    String pivot = arr[start + (end - start) / 2];\n    int i = start;\n    int j = end;\n\n    while (i &lt; j)\n    {\n        if (arr[i].compareTo(pivot) &lt; 0)\n            ++i;\n        \n        else if (arr[j].compareTo(pivot) &gt; 0)\n            --j;\n\n        else if (arr[i].equals(pivot))\n            ++i;\n\n        else if (arr[j].equals(pivot))\n            --j;\n\n        else\n        {\n            String temp = arr[i];\n            arr[i] = arr[j];\n            arr[j] = temp;\n        }\n    }\n    \n    String temp = arr[i];\n    arr[i] = pivot;\n    arr[start + (end - start) / 2] = temp;\n\n    return i;\n}\n</code></pre>\n<p>When I do other arrays where elements smaller than the pivot are not on the right side, it works well. As in:</p>\n<p>Array: <code>String[] arr = {&quot;D&quot;, &quot;C&quot;, &quot;B&quot;, &quot;a&quot;, &quot;A&quot;, &quot;Z&quot;, &quot;g&quot;, &quot;f&quot;, &quot;e&quot;, &quot;d&quot;, &quot;c&quot;, &quot;b&quot;};</code></p>\n<p>Output: <code>A B C D Z a b c d e f g</code></p>\n<p>Any solutions?</p>\n"},{"tags":["java","spring","mapstruct"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1679004515,"post_id":75762040,"comment_id":133647967,"body_markdown":"You need to add the mapstruct annotation processor to your Maven file https://mapstruct.org/documentation/installation/","body":"You need to add the mapstruct annotation processor to your Maven file <a href=\"https://mapstruct.org/documentation/installation/\" rel=\"nofollow noreferrer\">mapstruct.org/documentation/installation</a>"},{"owner":{"account_id":16094270,"reputation":5,"user_id":11616878,"display_name":"&#196;Li D Y&#235;ss"},"score":0,"creation_date":1679006451,"post_id":75762040,"comment_id":133648331,"body_markdown":"still have the problem.","body":"still have the problem."},{"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"score":0,"creation_date":1679020622,"post_id":75762040,"comment_id":133650119,"body_markdown":"@&#196;LiDY&#235;ss can you provide the codes of the classes `SourcingController` and `SourcingDto`?","body":"@&#196;LiDY&#235;ss can you provide the codes of the classes <code>SourcingController</code> and <code>SourcingDto</code>?"},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1679036756,"post_id":75762040,"comment_id":133652060,"body_markdown":"before all `@Component` on mapper is not necessary.\nafter that, follow this guide (https://examples.javacodegeeks.com/spring-boot-mapstruct-example/) and adjust your pom.xml because often is just a matter of configuration","body":"before all <code>@Component</code> on mapper is not necessary. after that, follow this guide (<a href=\"https://examples.javacodegeeks.com/spring-boot-mapstruct-example/\" rel=\"nofollow noreferrer\">examples.javacodegeeks.com/spring-boot-mapstruct-example</a>) and adjust your pom.xml because often is just a matter of configuration"}],"answers":[{"tags":[],"owner":{"account_id":14544626,"reputation":129,"user_id":10505187,"display_name":"fixcer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679037912,"creation_date":1679037912,"answer_id":75764761,"question_id":75762040,"body_markdown":"I think you are missing `lombok-mapstruct-binding` in pom.xml file, please refer [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/47676369/mapstruct-and-lombok-not-working-together","title":"Error creating instance from MapStruct interface","body":"<p>I think you are missing <code>lombok-mapstruct-binding</code> in pom.xml file, please refer <a href=\"https://stackoverflow.com/questions/47676369/mapstruct-and-lombok-not-working-together\">here</a></p>\n"},{"tags":[],"owner":{"account_id":16094270,"reputation":5,"user_id":11616878,"display_name":"&#196;Li D Y&#235;ss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679054261,"creation_date":1679054261,"answer_id":75767343,"question_id":75762040,"body_markdown":"Thanks, I fixed the issue by adding some attributes to my pom.xml file:\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.immobilia&lt;/groupId&gt;\r\n    &lt;artifactId&gt;immobilia-app&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;immobilia-app&lt;/name&gt;\r\n    &lt;description&gt;immobilia-app&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;19&lt;/java.version&gt;\r\n        &lt;org.mapstruct.version&gt;1.5.3.Final&lt;/org.mapstruct.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.18.20&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                            &lt;version&gt;0.2.0&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```","title":"Error creating instance from MapStruct interface","body":"<p>Thanks, I fixed the issue by adding some attributes to my pom.xml file:</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.immobilia&lt;/groupId&gt;\n    &lt;artifactId&gt;immobilia-app&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;immobilia-app&lt;/name&gt;\n    &lt;description&gt;immobilia-app&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n        &lt;org.mapstruct.version&gt;1.5.3.Final&lt;/org.mapstruct.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;1.18.20&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                            &lt;version&gt;0.2.0&lt;/version&gt;\n                        &lt;/path&gt;\n\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"}],"owner":{"account_id":16094270,"reputation":5,"user_id":11616878,"display_name":"&#196;Li D Y&#235;ss"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75764761,"answer_count":2,"score":0,"last_activity_date":1679103962,"creation_date":1679004353,"question_id":75762040,"body_markdown":"I&#39;m working on a Spring Boot application and I&#39;m trying to inject a `SourcingMapper` bean into my `SourcingServiceImpl` class using the `@Autowired` annotation, but I keep getting an error when I try to start the application:\r\n\r\n&gt; Field sourcingMapper in\r\n&gt; com.immobilia.immobiliaapp.service.SourcingServiceImpl required a bean\r\n&gt; of type &#39;com.immobilia.immobiliaapp.mapper.SourcingMapper&#39; that could\r\n&gt; not be found.\r\n\r\nMy MapStruct Interface:\r\n\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\n@Component\r\npublic interface SourcingMapper {\r\n    SourcingDto toSourcingDto(SourcingController sourcing);\r\n    SourcingController toSourcing(SourcingDto sourcingDto);\r\n\r\n    List&lt;SourcingDto&gt; toSourcingDto(List&lt;SourcingController&gt; sourcings);\r\n\r\n    List&lt;SourcingController&gt; toSourcing(List&lt;SourcingDto&gt; sourcingDtos);\r\n}\r\n```\r\n\r\nMy Service:\r\n```\r\n@Service\r\npublic class SourcingServiceImpl implements SourcingService {\r\n\r\n    @Autowired\r\n    SourcingRepo sourcingRepo;\r\n\r\n    @Autowired\r\n    SourcingMapper sourcingMapper;\r\n    @Override\r\n    public SourcingDto addSourcing(SourcingDto sourcing) {\r\n        return sourcingRepo.save(sourcing);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nMy `pom.xml`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.immobilia&lt;/groupId&gt;\r\n    &lt;artifactId&gt;immobilia-app&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;immobilia-app&lt;/name&gt;\r\n    &lt;description&gt;immobilia-app&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;19&lt;/java.version&gt;\r\n        &lt;org.mapstruct.version&gt;1.5.3.Final&lt;/org.mapstruct.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n","title":"Error creating instance from MapStruct interface","body":"<p>I'm working on a Spring Boot application and I'm trying to inject a <code>SourcingMapper</code> bean into my <code>SourcingServiceImpl</code> class using the <code>@Autowired</code> annotation, but I keep getting an error when I try to start the application:</p>\n<blockquote>\n<p>Field sourcingMapper in\ncom.immobilia.immobiliaapp.service.SourcingServiceImpl required a bean\nof type 'com.immobilia.immobiliaapp.mapper.SourcingMapper' that could\nnot be found.</p>\n</blockquote>\n<p>My MapStruct Interface:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\n@Component\npublic interface SourcingMapper {\n    SourcingDto toSourcingDto(SourcingController sourcing);\n    SourcingController toSourcing(SourcingDto sourcingDto);\n\n    List&lt;SourcingDto&gt; toSourcingDto(List&lt;SourcingController&gt; sourcings);\n\n    List&lt;SourcingController&gt; toSourcing(List&lt;SourcingDto&gt; sourcingDtos);\n}\n</code></pre>\n<p>My Service:</p>\n<pre><code>@Service\npublic class SourcingServiceImpl implements SourcingService {\n\n    @Autowired\n    SourcingRepo sourcingRepo;\n\n    @Autowired\n    SourcingMapper sourcingMapper;\n    @Override\n    public SourcingDto addSourcing(SourcingDto sourcing) {\n        return sourcingRepo.save(sourcing);\n    }\n}\n\n\n</code></pre>\n<p>My <code>pom.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.immobilia&lt;/groupId&gt;\n    &lt;artifactId&gt;immobilia-app&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;immobilia-app&lt;/name&gt;\n    &lt;description&gt;immobilia-app&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n        &lt;org.mapstruct.version&gt;1.5.3.Final&lt;/org.mapstruct.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","c#","c++","dll","java-native-interface"],"comments":[{"owner":{"account_id":8238102,"reputation":20388,"user_id":6196568,"display_name":"shingo"},"score":0,"creation_date":1675766374,"post_id":75371396,"comment_id":132994766,"body_markdown":"Is C++&lt;--&gt;C# working fine too? Where does StackOverflowException throw? How does the stack look like?","body":"Is C++&lt;--&gt;C# working fine too? Where does StackOverflowException throw? How does the stack look like?"},{"owner":{"account_id":22376463,"reputation":33,"user_id":16590657,"display_name":"Felix D"},"score":0,"creation_date":1675769124,"post_id":75371396,"comment_id":132995699,"body_markdown":"Unfortunately I&#39;m not quite familar with setting up Visual Studio projects. At the moment the C++ project is not defined as a console application. As a next step I will create a new project with a C++ console application in VS and adding the existing SharpAuthenticator project to be able to reply to your question. I let you know as soon as I manage to do it. But C++ &lt;--&gt; C# is something worth to check, I agree!","body":"Unfortunately I&#39;m not quite familar with setting up Visual Studio projects. At the moment the C++ project is not defined as a console application. As a next step I will create a new project with a C++ console application in VS and adding the existing SharpAuthenticator project to be able to reply to your question. I let you know as soon as I manage to do it. But C++ &lt;--&gt; C# is something worth to check, I agree!"},{"owner":{"account_id":22376463,"reputation":33,"user_id":16590657,"display_name":"Felix D"},"score":0,"creation_date":1675771193,"post_id":75371396,"comment_id":132996331,"body_markdown":"Ok... C++ &lt;--&gt; C# works. I printed the return value (bool) onto the console in my C++ application and it showed &quot;0&quot; or &quot;1&quot;.","body":"Ok... C++ &lt;--&gt; C# works. I printed the return value (bool) onto the console in my C++ application and it showed &quot;0&quot; or &quot;1&quot;."},{"owner":{"account_id":22376463,"reputation":33,"user_id":16590657,"display_name":"Felix D"},"score":0,"creation_date":1675781258,"post_id":75371396,"comment_id":132999761,"body_markdown":"Does anyone sees an obvious mistake in the code or in the property parameters in one of the screenshots? I would appreachiate every little help. Thanks a lot!","body":"Does anyone sees an obvious mistake in the code or in the property parameters in one of the screenshots? I would appreachiate every little help. Thanks a lot!"}],"answers":[{"tags":[],"owner":{"account_id":22376463,"reputation":33,"user_id":16590657,"display_name":"Felix D"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679103780,"creation_date":1675847514,"answer_id":75383466,"question_id":75371396,"body_markdown":"It was a stupid mistake... It cost me 1.5 days figuring out that I forgot to increment `i` in the while loop in `toString` method of &quot;CppAuthenticator.cpp&quot;.\r\nHere the correct working method:\r\n\r\n    String^ toString(const char* chars) {\r\n        int len = (int)strlen(chars);\r\n        array&lt;unsigned char&gt;^ a = gcnew array&lt;unsigned char&gt; (len);\r\n        int i = 0;\r\n        while (i &lt; len) {\r\n            a[i] = chars[i];\r\n            i++;\r\n        }\r\n        return Encoding::UTF8-&gt;GetString(a);\r\n    }","title":"Java to C# using JNI results in StackOverflowException","body":"<p>It was a stupid mistake... It cost me 1.5 days figuring out that I forgot to increment <code>i</code> in the while loop in <code>toString</code> method of &quot;CppAuthenticator.cpp&quot;.\nHere the correct working method:</p>\n<pre><code>String^ toString(const char* chars) {\n    int len = (int)strlen(chars);\n    array&lt;unsigned char&gt;^ a = gcnew array&lt;unsigned char&gt; (len);\n    int i = 0;\n    while (i &lt; len) {\n        a[i] = chars[i];\n        i++;\n    }\n    return Encoding::UTF8-&gt;GetString(a);\n}\n</code></pre>\n"}],"owner":{"account_id":22376463,"reputation":33,"user_id":16590657,"display_name":"Felix D"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75383466,"answer_count":1,"score":0,"last_activity_date":1679103780,"creation_date":1675762540,"question_id":75371396,"body_markdown":"***1. Summarize the problem:***\r\n\r\nI would like to invoke a C# method by invoking a Java method to check license file. This license check is performed by using a C# dll. I&#39;m using JNI and a C++ wrapper. I will provide necessary source code below.\r\nThe C# dll has a method `public static string GetLicenseStatus()` implemented which I wrote a wrapper for and now I&#39;m trying to invoke this method from Java application.\r\nI&#39;m using jdk-17.0.2.8-hotspot from Eclipse Adoptium (64-bit) and IntelliJ IDEA as Java IDE and Visual Studio 2022 for C# project. \r\n\r\nAfter Java method invocation I expect that it returns a String (number from 0-4, not valid, valid, expired, ...) but it results in a StackOverflowException when C# code is being executed/accessed.\r\n\r\n\r\n***2. Describe what you&#39;ve tried***\r\n\r\nI also tried to return just a value in the C++ method without calling any C# code; this worked fine. So **JNI &lt;--&gt; C++ wrapper is working fine**.\r\n\r\nAlso I tried to run C# source code within a C# main class, that was also working fine. So **there&#39;s no faulty C# code.**\r\n\r\nGood to know is maybe also that I tried to create an own C# dll to confirm that the issue is not related to the license dll (that&#39;s why I writing before about a &quot;C# project in Visual Studio&quot;). This dll is very basic and is just checking for dummy username &amp; password. Even When I tried to just return true in the function, when invoking it from Java it resulted again in a StackOverflowException in Java IDE. Its running into this error when attempting to instantiate an object with `gcnew`. My own created C# class and also the C# license dll were added as reference in the C++ project.\r\n\r\nMaybe also worth to mention:\r\n\r\n- The C# dll is relying on another dll to process license checking I assume. \r\n- I observed that Visual Studio for some reason doesn&#39;t recognise imported header files. I have to add them manually in visual Studio and copy paste code into the manual created file.\r\n\r\n\r\n***3. Show some code***\r\n\r\n&quot;Authenticator.java&quot;:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\tpackage org.example;\r\n\r\n\tpublic class Authenticator {\r\n\t\tstatic {\r\n\t\t\tSystem.loadLibrary(&quot;CppAuthenticator&quot;);\r\n\t\t}\r\n\r\n\t\tpublic native boolean authenticate(String username, String password);\r\n\t\tpublic native String getLicenseStatus();\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSystem.out.println(&quot;Program start&quot;);\r\n\t\t\tAuthenticator authenticator = new Authenticator();\r\n\t\t\tSystem.out.println(&quot;Authenticator created&quot;);\r\n\t\t\t/**boolean valid = authenticator.authenticate(args[0], args[1]);\r\n\t\t\tSystem.out.println(&quot;Is valid?: &quot;+valid);\r\n\t\t\tif(!valid) {\r\n\t\t\t\tSystem.err.println(&quot;Not valid!&quot;);\r\n\t\t\t\tSystem.exit(1);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(&quot;Valid&quot;);\r\n\t\t\t}**/\r\n\t\t\tSystem.out.println(&quot;License Check...&quot;);\r\n\t\t\tSystem.out.println(&quot;Status: &quot;+authenticator.getLicenseStatus());\r\n\t\t}\r\n\t}\r\n\r\n\r\n&quot;CppAuthenticator.cpp&quot;\r\n\r\n&lt;!-- language: lang-cpp --&gt;\r\n\r\n\t#include &quot;pch.h&quot;\r\n\r\n\t#include &lt;msclr\\marshal.h&gt;\r\n\t#include &quot;CppAuthenticator.h&quot;\r\n\t#include &quot;org_example_Authenticator.h&quot;\r\n\t// this is the main DLL file.\r\n\t#include &lt;string&gt;\r\n\r\n\tusing System::Text::Encoding;\r\n\r\n\tString^ toString(const char* chars) {\r\n\t\tint len = (int)strlen(chars);\r\n\t\tarray&lt;unsigned char&gt;^ a = gcnew array&lt;unsigned char&gt; (len);\r\n\t\tint i = 0;\r\n\t\twhile (i &lt; len) {\r\n\t\t\ta[i] = chars[i];\r\n\t\t}\r\n\t\treturn Encoding::UTF8-&gt;GetString(a);\r\n\t}\r\n\r\n\tbool authenticate(const char* username, const char* password) {\r\n\t\tSharpAuthenticator::Authenticator^ a = gcnew SharpAuthenticator::Authenticator();\t// Fails here\r\n\t\treturn a-&gt;Authenticate(toString(username), toString(password));\r\n\t}\r\n\r\n\tJNIEXPORT jboolean JNICALL Java_org_example_Authenticator_authenticate\r\n\t(JNIEnv* env, jobject c, jstring username, jstring password) {\r\n\t\tjboolean isCopyUsername;\r\n\t\tconst char *c_username = env-&gt;GetStringUTFChars(username, &amp;isCopyUsername);\r\n\t\tjboolean isCopyPassword;\r\n\t\tconst char* c_password = env-&gt;GetStringUTFChars(password, &amp;isCopyPassword);\r\n\t\tjboolean result = authenticate(c_username, c_password);\r\n\t\tenv-&gt;ReleaseStringUTFChars(username, c_username);\r\n\t\tenv-&gt;ReleaseStringUTFChars(password, c_password);\r\n\t\treturn result;\r\n\t}\r\n\r\n\r\n\tString^ getLicenseStatus() {\r\n\t\treturn LicenseCheck::ValidateLicense::GetLicenseStatus();\t\t\t\t\t\t// Fails here\r\n\t}\r\n\r\n\tJNIEXPORT jstring JNICALL Java_org_example_Authenticator_getLicenseStatus\r\n\t(JNIEnv* env, jobject c) {\r\n\t\tString^ cliString = getLicenseStatus();\r\n\t\tmsclr::interop::marshal_context context;\r\n\t\tconst char* utf8String = context.marshal_as&lt;const char*&gt;(cliString);\r\n\t\tjstring result = env-&gt;NewStringUTF(utf8String);\r\n\t\treturn result;\r\n\t}\r\n\r\n\r\n&quot;SharpAuthenticator.cs&quot;:\r\n\r\n&lt;!-- language: lang-cs --&gt;\r\n    \r\n\tusing System;\r\n\tusing System.Collections.Generic;\r\n\tusing System.Linq;\r\n\tusing System.Text;\r\n\tusing System.Threading.Tasks;\r\n\r\n\tnamespace SharpAuthenticator\r\n\t{\r\n\t\tpublic class Authenticator\r\n\t\t{\r\n\t\t\tpublic bool Authenticate(String username, String password)\r\n\t\t\t{\r\n\t\t\t\treturn username == &quot;user&quot; &amp;&amp; password == &quot;pass&quot;;\r\n\t\t\t}\r\n\t\t\tpublic bool Authenticate1()\r\n\t\t\t{\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\nHere is the project structure I have in Visual Studio (&quot;org_example_Authenticator.h&quot; code was created with &quot;javac -h ...&quot;-command located in bin folder of JDK mentioned above.) \r\n[![Project structure in Visual Studio 2022][1]][1]\r\n\r\nHere are the C++ project properties in Visual Studio:\r\n[![General][2]][2]\r\n[![VC++ Directories][3]][3]\r\n\r\nHere are C# project properties for my own created dummy dll mentioned above:\r\n[![C# project properties][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vHHwX.png\r\n  [2]: https://i.stack.imgur.com/RU9VK.png\r\n  [3]: https://i.stack.imgur.com/5oTUY.png\r\n  [4]: https://i.stack.imgur.com/vUSS5.png","title":"Java to C# using JNI results in StackOverflowException","body":"<p><em><strong>1. Summarize the problem:</strong></em></p>\n<p>I would like to invoke a C# method by invoking a Java method to check license file. This license check is performed by using a C# dll. I'm using JNI and a C++ wrapper. I will provide necessary source code below.\nThe C# dll has a method <code>public static string GetLicenseStatus()</code> implemented which I wrote a wrapper for and now I'm trying to invoke this method from Java application.\nI'm using jdk-17.0.2.8-hotspot from Eclipse Adoptium (64-bit) and IntelliJ IDEA as Java IDE and Visual Studio 2022 for C# project.</p>\n<p>After Java method invocation I expect that it returns a String (number from 0-4, not valid, valid, expired, ...) but it results in a StackOverflowException when C# code is being executed/accessed.</p>\n<p><em><strong>2. Describe what you've tried</strong></em></p>\n<p>I also tried to return just a value in the C++ method without calling any C# code; this worked fine. So <strong>JNI &lt;--&gt; C++ wrapper is working fine</strong>.</p>\n<p>Also I tried to run C# source code within a C# main class, that was also working fine. So <strong>there's no faulty C# code.</strong></p>\n<p>Good to know is maybe also that I tried to create an own C# dll to confirm that the issue is not related to the license dll (that's why I writing before about a &quot;C# project in Visual Studio&quot;). This dll is very basic and is just checking for dummy username &amp; password. Even When I tried to just return true in the function, when invoking it from Java it resulted again in a StackOverflowException in Java IDE. Its running into this error when attempting to instantiate an object with <code>gcnew</code>. My own created C# class and also the C# license dll were added as reference in the C++ project.</p>\n<p>Maybe also worth to mention:</p>\n<ul>\n<li>The C# dll is relying on another dll to process license checking I assume.</li>\n<li>I observed that Visual Studio for some reason doesn't recognise imported header files. I have to add them manually in visual Studio and copy paste code into the manual created file.</li>\n</ul>\n<p><em><strong>3. Show some code</strong></em></p>\n<p>&quot;Authenticator.java&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\npublic class Authenticator {\n    static {\n        System.loadLibrary(&quot;CppAuthenticator&quot;);\n    }\n\n    public native boolean authenticate(String username, String password);\n    public native String getLicenseStatus();\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Program start&quot;);\n        Authenticator authenticator = new Authenticator();\n        System.out.println(&quot;Authenticator created&quot;);\n        /**boolean valid = authenticator.authenticate(args[0], args[1]);\n        System.out.println(&quot;Is valid?: &quot;+valid);\n        if(!valid) {\n            System.err.println(&quot;Not valid!&quot;);\n            System.exit(1);\n        }\n        else {\n            System.out.println(&quot;Valid&quot;);\n        }**/\n        System.out.println(&quot;License Check...&quot;);\n        System.out.println(&quot;Status: &quot;+authenticator.getLicenseStatus());\n    }\n}\n</code></pre>\n<p>&quot;CppAuthenticator.cpp&quot;</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &quot;pch.h&quot;\n\n#include &lt;msclr\\marshal.h&gt;\n#include &quot;CppAuthenticator.h&quot;\n#include &quot;org_example_Authenticator.h&quot;\n// this is the main DLL file.\n#include &lt;string&gt;\n\nusing System::Text::Encoding;\n\nString^ toString(const char* chars) {\n    int len = (int)strlen(chars);\n    array&lt;unsigned char&gt;^ a = gcnew array&lt;unsigned char&gt; (len);\n    int i = 0;\n    while (i &lt; len) {\n        a[i] = chars[i];\n    }\n    return Encoding::UTF8-&gt;GetString(a);\n}\n\nbool authenticate(const char* username, const char* password) {\n    SharpAuthenticator::Authenticator^ a = gcnew SharpAuthenticator::Authenticator();   // Fails here\n    return a-&gt;Authenticate(toString(username), toString(password));\n}\n\nJNIEXPORT jboolean JNICALL Java_org_example_Authenticator_authenticate\n(JNIEnv* env, jobject c, jstring username, jstring password) {\n    jboolean isCopyUsername;\n    const char *c_username = env-&gt;GetStringUTFChars(username, &amp;isCopyUsername);\n    jboolean isCopyPassword;\n    const char* c_password = env-&gt;GetStringUTFChars(password, &amp;isCopyPassword);\n    jboolean result = authenticate(c_username, c_password);\n    env-&gt;ReleaseStringUTFChars(username, c_username);\n    env-&gt;ReleaseStringUTFChars(password, c_password);\n    return result;\n}\n\n\nString^ getLicenseStatus() {\n    return LicenseCheck::ValidateLicense::GetLicenseStatus();                       // Fails here\n}\n\nJNIEXPORT jstring JNICALL Java_org_example_Authenticator_getLicenseStatus\n(JNIEnv* env, jobject c) {\n    String^ cliString = getLicenseStatus();\n    msclr::interop::marshal_context context;\n    const char* utf8String = context.marshal_as&lt;const char*&gt;(cliString);\n    jstring result = env-&gt;NewStringUTF(utf8String);\n    return result;\n}\n</code></pre>\n<p>&quot;SharpAuthenticator.cs&quot;:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace SharpAuthenticator\n{\n    public class Authenticator\n    {\n        public bool Authenticate(String username, String password)\n        {\n            return username == &quot;user&quot; &amp;&amp; password == &quot;pass&quot;;\n        }\n        public bool Authenticate1()\n        {\n            return false;\n        }\n    }\n}\n</code></pre>\n<p>Here is the project structure I have in Visual Studio (&quot;org_example_Authenticator.h&quot; code was created with &quot;javac -h ...&quot;-command located in bin folder of JDK mentioned above.)\n<a href=\"https://i.stack.imgur.com/vHHwX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vHHwX.png\" alt=\"Project structure in Visual Studio 2022\" /></a></p>\n<p>Here are the C++ project properties in Visual Studio:\n<a href=\"https://i.stack.imgur.com/RU9VK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RU9VK.png\" alt=\"General\" /></a>\n<a href=\"https://i.stack.imgur.com/5oTUY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5oTUY.png\" alt=\"VC++ Directories\" /></a></p>\n<p>Here are C# project properties for my own created dummy dll mentioned above:\n<a href=\"https://i.stack.imgur.com/vUSS5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vUSS5.png\" alt=\"C# project properties\" /></a></p>\n"},{"tags":["java","nosuchelementexception","replit"],"comments":[{"owner":{"account_id":28046763,"reputation":1,"user_id":21423378,"display_name":"Shane Woloszyn"},"score":0,"creation_date":1679100263,"post_id":75773135,"comment_id":133666343,"body_markdown":"I checked the file and there are 11 different values seperated by spaces:  Boeing Boston Portland 40 10 4 true 49 500 100 15. There are 11 calls for data and all the types match up.","body":"I checked the file and there are 11 different values seperated by spaces:  Boeing Boston Portland 40 10 4 true 49 500 100 15. There are 11 calls for data and all the types match up."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1679100702,"post_id":75773135,"comment_id":133666377,"body_markdown":"OK, found the problem - check the [documentation](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Scanner.html#%3Cinit%3E(java.lang.String)}) of the constructor used to create the `Scanner`: &quot;*Constructs a new Scanner that produces values scanned from the specified string.*&quot; - it is reading `name` as `&quot;Planes.out&quot;` and nothing else left for `destination`","body":"OK, found the problem - check the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Scanner.html#%3Cinit%3E(java.lang.String)%7D\" rel=\"nofollow noreferrer\">documentation</a> of the constructor used to create the <code>Scanner</code>: &quot;<i>Constructs a new Scanner that produces values scanned from the specified string.</i>&quot; - it is reading <code>name</code> as <code>&quot;Planes.out&quot;</code> and nothing else left for <code>destination</code>"},{"owner":{"account_id":28046763,"reputation":1,"user_id":21423378,"display_name":"Shane Woloszyn"},"score":0,"creation_date":1679101198,"post_id":75773135,"comment_id":133666419,"body_markdown":"I&#39;m not sure what you mean, I tried to create a new file out of the scanner and I&#39;d just input data manually into it but it didn&#39;t work, returned filenotfoundexception.","body":"I&#39;m not sure what you mean, I tried to create a new file out of the scanner and I&#39;d just input data manually into it but it didn&#39;t work, returned filenotfoundexception."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679101354,"post_id":75773135,"comment_id":133666435,"body_markdown":"If `Panes.out` is a _file_, then use `new Scanner(new File(&quot;Planes.out&quot;))`. That will scan a file named `Planes.out` in the working directory. Obviously, that file has to exist in that location for it to work.","body":"If <code>Panes.out</code> is a <i>file</i>, then use <code>new Scanner(new File(&quot;Planes.out&quot;))</code>. That will scan a file named <code>Planes.out</code> in the working directory. Obviously, that file has to exist in that location for it to work."},{"owner":{"account_id":28046763,"reputation":1,"user_id":21423378,"display_name":"Shane Woloszyn"},"score":0,"creation_date":1679101616,"post_id":75773135,"comment_id":133666457,"body_markdown":"Using new Scanner(new File(&quot;Planes.txt&quot;)); returns FileNotFoundException, despite having a file named Planes.txt with the data inside","body":"Using new Scanner(new File(&quot;Planes.txt&quot;)); returns FileNotFoundException, despite having a file named Planes.txt with the data inside"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679101651,"post_id":75773135,"comment_id":133666460,"body_markdown":"And that text file is located in the current working directory?","body":"And that text file is located in the current working directory?"},{"owner":{"account_id":28046763,"reputation":1,"user_id":21423378,"display_name":"Shane Woloszyn"},"score":0,"creation_date":1679101675,"post_id":75773135,"comment_id":133666461,"body_markdown":"Yes, I&#39;ll add a screenshot to the post of my screen with the directory on the left","body":"Yes, I&#39;ll add a screenshot to the post of my screen with the directory on the left"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679101861,"post_id":75773135,"comment_id":133666485,"body_markdown":"Ah, that is not a run-time error as I assumed. You&#39;re getting a compiler error. `FileNotFoundException` is a checked exception, and thus must be explicitly handled. See https://stackoverflow.com/questions/19788989/error-unreported-exception-filenotfoundexception-must-be-caught-or-declared-to","body":"Ah, that is not a run-time error as I assumed. You&#39;re getting a compiler error. <code>FileNotFoundException</code> is a checked exception, and thus must be explicitly handled. See <a href=\"https://stackoverflow.com/questions/19788989/error-unreported-exception-filenotfoundexception-must-be-caught-or-declared-to\" title=\"error unreported exception filenotfoundexception must be caught or declared to\">stackoverflow.com/questions/19788989/&hellip;</a>"},{"owner":{"account_id":28046763,"reputation":1,"user_id":21423378,"display_name":"Shane Woloszyn"},"score":0,"creation_date":1679101872,"post_id":75773135,"comment_id":133666487,"body_markdown":"/home/runner/Airline-Reservation-System/Planes.txt is printed from new File(&quot;Planes.txt&quot;).getAbsolutePath()","body":"/home/runner/Airline-Reservation-System/Planes.txt is printed from new File(&quot;Planes.txt&quot;).getAbsolutePath()"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679101992,"post_id":75773135,"comment_id":133666494,"body_markdown":"The duplicate of the Q&amp;A I linked is more comprehensive: https://stackoverflow.com/questions/72751842/what-does-error-unreported-exception-xxx-must-be-caught-or-declared-to-be-t","body":"The duplicate of the Q&amp;A I linked is more comprehensive: <a href=\"https://stackoverflow.com/questions/72751842/what-does-error-unreported-exception-xxx-must-be-caught-or-declared-to-be-t\" title=\"what does error unreported exception xxx must be caught or declared to be t\">stackoverflow.com/questions/72751842/&hellip;</a>"},{"owner":{"account_id":28046763,"reputation":1,"user_id":21423378,"display_name":"Shane Woloszyn"},"score":0,"creation_date":1679102079,"post_id":75773135,"comment_id":133666496,"body_markdown":"I tried to use throws FileNotFoundException earlier but it just spat out more errors, Whatever I changed in the time between then and now made it work, thanks.","body":"I tried to use throws FileNotFoundException earlier but it just spat out more errors, Whatever I changed in the time between then and now made it work, thanks."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679109403,"post_id":75773135,"comment_id":133667038,"body_markdown":".........plan.add(new Plane..................   Why are you calling an instance inside a static context !!!!!        -w       Also, you do not store any variable information globally as you aquire it.","body":".........plan.add(new Plane..................   Why are you calling an instance inside a static context !!!!!        -w       Also, you do not store any variable information globally as you aquire it."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679156268,"post_id":75773135,"comment_id":133672731,"body_markdown":"@SamuelMarchant The OP declared and initialized `plan` inside the method (i.e., it&#39;s local to the method). And calling a constructor inside a static method is perfectly legal. There&#39;s no problem there. Also, the method returns the list (i.e., `plan`), allowing it to be used elsewhere (e.g., the OP passes the list to `modIn`). So, there&#39;s no reason to &quot;store any variable information globally&quot;.","body":"@SamuelMarchant The OP declared and initialized <code>plan</code> inside the method (i.e., it&#39;s local to the method). And calling a constructor inside a static method is perfectly legal. There&#39;s no problem there. Also, the method returns the list (i.e., <code>plan</code>), allowing it to be used elsewhere (e.g., the OP passes the list to <code>modIn</code>). So, there&#39;s no reason to &quot;store any variable information globally&quot;."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679417176,"post_id":75773135,"comment_id":133717036,"body_markdown":"Then it probably means it either oversteps for another next() and there is no way to break and or safely count the inputs.","body":"Then it probably means it either oversteps for another next() and there is no way to break and or safely count the inputs."}],"owner":{"account_id":28046763,"reputation":1,"user_id":21423378,"display_name":"Shane Woloszyn"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679101740,"creation_date":1679098321,"question_id":75773135,"body_markdown":"[Screen Image][1]\r\nI began to make an airline reservation system where Planes.out is a list of plane variables and moderators.in is different moderator passwords. When I run the code I get the exception in the title:\r\n```\r\nException in thread &quot;main&quot; java.util.NoSuchElementException\r\n    at java.base/java.util.Scanner.throwFor(Scanner.java:937)\r\n    at java.base/java.util.Scanner.next(Scanner.java:1478)\r\n    at Main.initializePlanes(Main.java:59)\r\n    at Main.main(Main.java:83)\r\nexit status 1\r\n```\r\n\r\nI&#39;ve never heard of this and I&#39;m not sure how to fix it, here is my code:\r\n\r\n```\r\nimport java.util.*;\r\nimport java.io.*;\r\nclass Main {\r\n  public static void planeMaker(ArrayList&lt;Plane&gt; planes) throws IOException {\r\n    boolean tvs;\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.println(&quot;PLANE MAKER\\n\\n&quot;);\r\n    System.out.println(&quot;\\nEnter the name:\\t&quot;);\r\n    String name = input.nextLine();\r\n    System.out.println(&quot;\\nEnter the destination:\\t&quot;); \r\n    String destination = input.nextLine();\r\n    System.out.println(&quot;\\nEnter the depart location:\\t&quot;); \r\n    String departLocation = input.nextLine();\r\n    System.out.println(&quot;\\nEnter the amount of seats:\\t&quot;); \r\n    int seats = input.nextInt();\r\n    System.out.println(&quot;\\nEnter the amount of rows:\\t&quot;); \r\n    int rows = input.nextInt();\r\n    System.out.println(&quot;\\nEnter the amount of columns:\\t&quot;); \r\n    int columns = input.nextInt();\r\n    System.out.println(&quot;\\nAre there tvs?:\\t&quot;); \r\n    String buffer = input.nextLine();\r\n    String qr = input.nextLine();\r\n    if(qr.equalsIgnoreCase(&quot;yes&quot;)) {\r\n      tvs = true;\r\n    } else {\r\n      tvs = false;\r\n    }\r\n    System.out.println(&quot;\\nEnter the seat cost:\\t&quot;); \r\n    int seatCost = input.nextInt();\r\n    System.out.println(&quot;\\nEnter the boarding time (7:30 -&gt; 730):\\t&quot;); \r\n    int boardingTime = input.nextInt();\r\n    System.out.println(&quot;\\nEnter the flight duration (in mins):\\t&quot;); \r\n    int flightDuration = input.nextInt();\r\n    System.out.println(&quot;\\nEnter the day of the month of takeoff:\\t&quot;); \r\n    int dayOfTheMonth = input.nextInt();\r\n    FileWriter fw = new FileWriter(&quot;Planes.out&quot;);\r\n    PrintWriter output = new PrintWriter(fw);\r\n    output.print(name + &quot; &quot; + destination + &quot; &quot; + departLocation + &quot; &quot; + seats + &quot; &quot; + rows + &quot; &quot; + columns + &quot; &quot;+ tvs+ &quot; &quot;+ seatCost+&quot; &quot;+boardingTime+&quot; &quot;+flightDuration+&quot; &quot;+dayOfTheMonth);\r\n  }\r\n  public static void modIn(ArrayList&lt;Plane&gt; planes) throws IOException {\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.println(&quot;What would you like to do?\\n&quot;);\r\n    System.out.println(&quot;\\n\\t1.) Create a Plane\\n\\t2.) Change a flight time&quot;);\r\n    int qeu = input.nextInt();\r\n    if(qeu == 1) {\r\n      planeMaker(planes);\r\n    } else if(qeu == 2){\r\n      changeBoardingTime(planes);\r\n    }\r\n  }\r\n  public static ArrayList&lt;Plane&gt; initializePlanes() {\r\n    Scanner initialize = new Scanner(&quot;Planes.out&quot;);\r\n    String name, destination, departLocation;\r\n    int seats, rows, columns, seatCost, boardingTime, flightDuration, dayOfTheMonth;\r\n    boolean tvs;\r\n    ArrayList&lt;Plane&gt; plan = new ArrayList&lt;Plane&gt;();\r\n    while(initialize.hasNext()) {\r\n      name = initialize.next();\r\n      destination = initialize.next();\r\n      departLocation = initialize.next();\r\n      seats = initialize.nextInt();\r\n      rows = initialize.nextInt();\r\n      columns = initialize.nextInt();\r\n      tvs = initialize.nextBoolean();\r\n      seatCost = initialize.nextInt();\r\n      boardingTime = initialize.nextInt();\r\n      flightDuration = initialize.nextInt();\r\n      dayOfTheMonth = initialize.nextInt();\r\n      plan.add(new Plane(name,destination,departLocation,seats,rows,columns,tvs,seatCost, boardingTime, flightDuration, dayOfTheMonth));\r\n    }\r\n    initialize.close();\r\n    return plan;\r\n  }\r\n  public static void changeBoardingTime(ArrayList&lt;Plane&gt; planes) {\r\n    System.out.println(&quot;What plane would you like to change the boarding time of?&quot;);\r\n    System.out.println(&quot;PLANES:&quot;);\r\n    for(int i = 0; i &lt; planes.size(); i++) {\r\n      System.out.println(&quot;\\t&quot;+planes.get(i).getName());\r\n    }\r\n  }\r\n  public static void main(String[] args) throws IOException{\r\n    ArrayList&lt;Plane&gt; planes = new ArrayList&lt;Plane&gt;();\r\n    planes = initializePlanes();\r\n    boolean qr = false;\r\n    FileWriter fw = new FileWriter(&quot;Output1.out&quot;);\r\n    PrintWriter output = new PrintWriter(fw);\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.println(&quot;Hello, welcome to Airway Airline reservation system.\\nPlease enter what you would like to do next: &quot;);\r\n    System.out.println(&quot;\\t1.) Book a seat\\n\\t2.) View your reservation\\n\\t3.) Sign into moderator&quot;);\r\n    int question = input.nextInt();\r\n    if(question == 1) {\r\n      \r\n    } else if(question == 2) {\r\n      \r\n    } else if(question == 3) {\r\n      Scanner modPass = new Scanner(new File(&quot;Moderators.in&quot;));\r\n      System.out.println(&quot;\\nPlease enter your moderator password: &quot;);\r\n      String buffer = input.nextLine();\r\n      String modAsk = input.nextLine();\r\n      while(modPass.hasNext()) {\r\n        if(modPass.next().equals(modAsk)) {\r\n          modIn(planes);\r\n          qr = true;\r\n        }\r\n      }\r\n      if(qr == false) {\r\n          System.out.println(&quot;YOU ARE NOT A MODERATOR!!!&quot;);\r\n          System.exit(0);\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI&#39;ve researched and checked other articles but I can&#39;t find a solution, I&#39;ve also tried closing all the different filewriters, to no luck.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WBQHF.png","title":"Exception in thread &quot;main&quot; java.util.NoSuchElementException, AP Comp Sci A teacher couldn&#39;t find error","body":"<p><a href=\"https://i.stack.imgur.com/WBQHF.png\" rel=\"nofollow noreferrer\">Screen Image</a>\nI began to make an airline reservation system where Planes.out is a list of plane variables and moderators.in is different moderator passwords. When I run the code I get the exception in the title:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.NoSuchElementException\n    at java.base/java.util.Scanner.throwFor(Scanner.java:937)\n    at java.base/java.util.Scanner.next(Scanner.java:1478)\n    at Main.initializePlanes(Main.java:59)\n    at Main.main(Main.java:83)\nexit status 1\n</code></pre>\n<p>I've never heard of this and I'm not sure how to fix it, here is my code:</p>\n<pre><code>import java.util.*;\nimport java.io.*;\nclass Main {\n  public static void planeMaker(ArrayList&lt;Plane&gt; planes) throws IOException {\n    boolean tvs;\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;PLANE MAKER\\n\\n&quot;);\n    System.out.println(&quot;\\nEnter the name:\\t&quot;);\n    String name = input.nextLine();\n    System.out.println(&quot;\\nEnter the destination:\\t&quot;); \n    String destination = input.nextLine();\n    System.out.println(&quot;\\nEnter the depart location:\\t&quot;); \n    String departLocation = input.nextLine();\n    System.out.println(&quot;\\nEnter the amount of seats:\\t&quot;); \n    int seats = input.nextInt();\n    System.out.println(&quot;\\nEnter the amount of rows:\\t&quot;); \n    int rows = input.nextInt();\n    System.out.println(&quot;\\nEnter the amount of columns:\\t&quot;); \n    int columns = input.nextInt();\n    System.out.println(&quot;\\nAre there tvs?:\\t&quot;); \n    String buffer = input.nextLine();\n    String qr = input.nextLine();\n    if(qr.equalsIgnoreCase(&quot;yes&quot;)) {\n      tvs = true;\n    } else {\n      tvs = false;\n    }\n    System.out.println(&quot;\\nEnter the seat cost:\\t&quot;); \n    int seatCost = input.nextInt();\n    System.out.println(&quot;\\nEnter the boarding time (7:30 -&gt; 730):\\t&quot;); \n    int boardingTime = input.nextInt();\n    System.out.println(&quot;\\nEnter the flight duration (in mins):\\t&quot;); \n    int flightDuration = input.nextInt();\n    System.out.println(&quot;\\nEnter the day of the month of takeoff:\\t&quot;); \n    int dayOfTheMonth = input.nextInt();\n    FileWriter fw = new FileWriter(&quot;Planes.out&quot;);\n    PrintWriter output = new PrintWriter(fw);\n    output.print(name + &quot; &quot; + destination + &quot; &quot; + departLocation + &quot; &quot; + seats + &quot; &quot; + rows + &quot; &quot; + columns + &quot; &quot;+ tvs+ &quot; &quot;+ seatCost+&quot; &quot;+boardingTime+&quot; &quot;+flightDuration+&quot; &quot;+dayOfTheMonth);\n  }\n  public static void modIn(ArrayList&lt;Plane&gt; planes) throws IOException {\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;What would you like to do?\\n&quot;);\n    System.out.println(&quot;\\n\\t1.) Create a Plane\\n\\t2.) Change a flight time&quot;);\n    int qeu = input.nextInt();\n    if(qeu == 1) {\n      planeMaker(planes);\n    } else if(qeu == 2){\n      changeBoardingTime(planes);\n    }\n  }\n  public static ArrayList&lt;Plane&gt; initializePlanes() {\n    Scanner initialize = new Scanner(&quot;Planes.out&quot;);\n    String name, destination, departLocation;\n    int seats, rows, columns, seatCost, boardingTime, flightDuration, dayOfTheMonth;\n    boolean tvs;\n    ArrayList&lt;Plane&gt; plan = new ArrayList&lt;Plane&gt;();\n    while(initialize.hasNext()) {\n      name = initialize.next();\n      destination = initialize.next();\n      departLocation = initialize.next();\n      seats = initialize.nextInt();\n      rows = initialize.nextInt();\n      columns = initialize.nextInt();\n      tvs = initialize.nextBoolean();\n      seatCost = initialize.nextInt();\n      boardingTime = initialize.nextInt();\n      flightDuration = initialize.nextInt();\n      dayOfTheMonth = initialize.nextInt();\n      plan.add(new Plane(name,destination,departLocation,seats,rows,columns,tvs,seatCost, boardingTime, flightDuration, dayOfTheMonth));\n    }\n    initialize.close();\n    return plan;\n  }\n  public static void changeBoardingTime(ArrayList&lt;Plane&gt; planes) {\n    System.out.println(&quot;What plane would you like to change the boarding time of?&quot;);\n    System.out.println(&quot;PLANES:&quot;);\n    for(int i = 0; i &lt; planes.size(); i++) {\n      System.out.println(&quot;\\t&quot;+planes.get(i).getName());\n    }\n  }\n  public static void main(String[] args) throws IOException{\n    ArrayList&lt;Plane&gt; planes = new ArrayList&lt;Plane&gt;();\n    planes = initializePlanes();\n    boolean qr = false;\n    FileWriter fw = new FileWriter(&quot;Output1.out&quot;);\n    PrintWriter output = new PrintWriter(fw);\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;Hello, welcome to Airway Airline reservation system.\\nPlease enter what you would like to do next: &quot;);\n    System.out.println(&quot;\\t1.) Book a seat\\n\\t2.) View your reservation\\n\\t3.) Sign into moderator&quot;);\n    int question = input.nextInt();\n    if(question == 1) {\n      \n    } else if(question == 2) {\n      \n    } else if(question == 3) {\n      Scanner modPass = new Scanner(new File(&quot;Moderators.in&quot;));\n      System.out.println(&quot;\\nPlease enter your moderator password: &quot;);\n      String buffer = input.nextLine();\n      String modAsk = input.nextLine();\n      while(modPass.hasNext()) {\n        if(modPass.next().equals(modAsk)) {\n          modIn(planes);\n          qr = true;\n        }\n      }\n      if(qr == false) {\n          System.out.println(&quot;YOU ARE NOT A MODERATOR!!!&quot;);\n          System.exit(0);\n      }\n    }\n  }\n}\n</code></pre>\n<p>I've researched and checked other articles but I can't find a solution, I've also tried closing all the different filewriters, to no luck.</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","browser-automation"],"comments":[{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1679065252,"post_id":75769060,"comment_id":133659268,"body_markdown":"Can you either share the text based HTML or the URL of the application? Also, share the error stack.","body":"Can you either share the text based HTML or the URL of the application? Also, share the error stack."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1679080106,"post_id":75769060,"comment_id":133663042,"body_markdown":"You might try xpath of: //div[contains(@class, &quot;ant-select-item&quot;)]","body":"You might try xpath of: //div[contains(@class, &quot;ant-select-item&quot;)]"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679099287,"creation_date":1679099287,"answer_id":75773184,"question_id":75769060,"body_markdown":"Given the HTML...\r\n\r\n![html](https://i.stack.imgur.com/1VilV.png)\r\n\r\nto print the item texts ideally you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_visibilityOfAllElementsLocatedBy()_](https://stackoverflow.com/a/55707593/7429447) and you can use the following [locator strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver):\r\n\r\n- Using _cssSelector_:\r\n\r\n\t  List&lt;WebElement&gt; elements = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.cssSelector(&quot;div.rc-virtual-list-holder-inner div[title] &gt; div&quot;)));\r\n\t  for(WebElement element : elements)\r\n\t  {\r\n\t  \tSystem.out.println(element.getText());\r\n\t  }\r\n\r\n- Using _xpath_:\r\n\r\n\t  List&lt;WebElement&gt; elements = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.xpath(&quot;//div[@class=&quot;rc-virtual-list-holder-inner&quot;]//div[@title]/div&quot;)));\r\n\t  for(WebElement element : elements)\r\n\t  {\r\n\t  \tSystem.out.println(element.getText());\r\n\t  }\r\n\t  \r\nUsing Java8&#39;s [`stream()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html) and [`map()`](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html) you can use the following [_locator strategies_](https://stackoverflow.com/questions/48054321/of-the-many-findelements-by-functions-in-selenium-when-would-you-use-one-over):\r\n\r\n- Using _cssSelector_:\r\n\r\n\t  System.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.cssSelector(&quot;div.rc-virtual-list-holder-inner div[title] &gt; div&quot;))).stream().map(element-&gt;element.getText()).collect(Collectors.toList()));\r\n\t\r\n- Using _xpath_:\r\n\r\n\t  System.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.xpath(&quot;//div[@class=&quot;rc-virtual-list-holder-inner&quot;]//div[@title]/div&quot;))).stream().map(element-&gt;element.getText()).collect(Collectors.toList()));","title":"Trying to use a custom css selector to get all options in a dropdown list using Selenium and Java","body":"<p>Given the HTML...</p>\n<p><img src=\"https://i.stack.imgur.com/1VilV.png\" alt=\"html\" /></p>\n<p>to print the item texts ideally you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/55707593/7429447\"><em>visibilityOfAllElementsLocatedBy()</em></a> and you can use the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver\">locator strategies</a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>List&lt;WebElement&gt; elements = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.cssSelector(&quot;div.rc-virtual-list-holder-inner div[title] &gt; div&quot;)));\nfor(WebElement element : elements)\n{\n  System.out.println(element.getText());\n}\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>List&lt;WebElement&gt; elements = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.xpath(&quot;//div[@class=&quot;rc-virtual-list-holder-inner&quot;]//div[@title]/div&quot;)));\nfor(WebElement element : elements)\n{\n  System.out.println(element.getText());\n}\n</code></pre>\n</li>\n</ul>\n<p>Using Java8's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\"><code>stream()</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>map()</code></a> you can use the following <a href=\"https://stackoverflow.com/questions/48054321/of-the-many-findelements-by-functions-in-selenium-when-would-you-use-one-over\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>System.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.cssSelector(&quot;div.rc-virtual-list-holder-inner div[title] &gt; div&quot;))).stream().map(element-&gt;element.getText()).collect(Collectors.toList()));\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>System.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.xpath(&quot;//div[@class=&quot;rc-virtual-list-holder-inner&quot;]//div[@title]/div&quot;))).stream().map(element-&gt;element.getText()).collect(Collectors.toList()));\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":7226752,"reputation":39,"user_id":5515043,"display_name":"Tunan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75773184,"answer_count":1,"score":1,"last_activity_date":1679099287,"creation_date":1679064969,"question_id":75769060,"body_markdown":"The dropdowns in our webpage do not use the common select tags or Li tags. this is making it difficult to extract and store the list items text in a WebElement list. Here is an image of the DOM and drop down list Vs and I also provide the code I am trying to write\r\n\r\n`WebDriver driver = getDriver();\r\n\r\n\t\tList&lt;WebElement&gt; teachers = driver.findElements(By.cssSelector(&quot;.rc-virtual-list-holder-inner&gt;div&gt;div&quot;));\r\n\t\tfor (WebElement myElement : teachers) {\r\n\t\t\t\r\n\t\t\tSystem.out.println(myElement.getText());`\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1VilV.png","title":"Trying to use a custom css selector to get all options in a dropdown list using Selenium and Java","body":"<p>The dropdowns in our webpage do not use the common select tags or Li tags. this is making it difficult to extract and store the list items text in a WebElement list. Here is an image of the DOM and drop down list Vs and I also provide the code I am trying to write</p>\n<p>`WebDriver driver = getDriver();</p>\n<pre><code>    List&lt;WebElement&gt; teachers = driver.findElements(By.cssSelector(&quot;.rc-virtual-list-holder-inner&gt;div&gt;div&quot;));\n    for (WebElement myElement : teachers) {\n        \n        System.out.println(myElement.getText());`\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/1VilV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1VilV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","awt"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679097452,"creation_date":1679096087,"answer_id":75772987,"question_id":75772847,"body_markdown":"The issue is that you are trying to add layout management logic in the ComponentListener. \r\n\r\nYes, the ComponentListener sets the preferred size, but the `getPreferredSize()` method can be called on the panel by Swing separately when required. The default getPreferredSize() logic will return a size of (10, 10) so you see a small rectangle painted for a brief moment.\r\n\r\nThe solution is to move the preferred size logic to the component:\r\n\r\n    import java.awt.*;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ComponentEvent;\r\n    import java.awt.event.ComponentListener;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    \r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class TestApp extends JFrame{\r\n        private JPanel panel;\r\n        private JPanel container;\r\n    \r\n        public TestApp() {\r\n            setSize(800, 600);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n            this.container = new JPanel(new GridBagLayout());\r\n    \r\n            this.panel = new JPanel()\r\n            {\r\n    \t\t\t@Override\r\n    \t\t\tpublic Dimension getPreferredSize()\r\n    \t\t\t{\r\n                    int reswidth = 800;\r\n                    int resheight = 600;\r\n                    Dimension parent_size = container.getSize();\r\n    \r\n                    double scale = Math.min((double) parent_size.height / resheight,\r\n                                            (double) parent_size.width / reswidth);\r\n    \r\n                    return new Dimension((int) (reswidth * scale), (int) (resheight * scale));\r\n    \r\n    \t\t\t}\r\n            };\r\n            this.panel.setBackground(Color.black);\r\n    \r\n            this.container.add(this.panel);\r\n    \r\n            add(this.container);\r\n        }\r\n    \r\n        static public void main(String[] args) {\r\n            TestApp app = new TestApp();\r\n            app.setVisible(true);\r\n        }\r\n    }\r\n\r\n","title":"JPanel flicking when component resized","body":"<p>The issue is that you are trying to add layout management logic in the ComponentListener.</p>\n<p>Yes, the ComponentListener sets the preferred size, but the <code>getPreferredSize()</code> method can be called on the panel by Swing separately when required. The default getPreferredSize() logic will return a size of (10, 10) so you see a small rectangle painted for a brief moment.</p>\n<p>The solution is to move the preferred size logic to the component:</p>\n<pre><code>import java.awt.*;\nimport java.awt.Dimension;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ComponentEvent;\nimport java.awt.event.ComponentListener;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class TestApp extends JFrame{\n    private JPanel panel;\n    private JPanel container;\n\n    public TestApp() {\n        setSize(800, 600);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        this.container = new JPanel(new GridBagLayout());\n\n        this.panel = new JPanel()\n        {\n            @Override\n            public Dimension getPreferredSize()\n            {\n                int reswidth = 800;\n                int resheight = 600;\n                Dimension parent_size = container.getSize();\n\n                double scale = Math.min((double) parent_size.height / resheight,\n                                        (double) parent_size.width / reswidth);\n\n                return new Dimension((int) (reswidth * scale), (int) (resheight * scale));\n\n            }\n        };\n        this.panel.setBackground(Color.black);\n\n        this.container.add(this.panel);\n\n        add(this.container);\n    }\n\n    static public void main(String[] args) {\n        TestApp app = new TestApp();\n        app.setVisible(true);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17782618,"reputation":232,"user_id":12913664,"display_name":"Dante S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75772987,"answer_count":1,"score":0,"last_activity_date":1679097452,"creation_date":1679094009,"question_id":75772847,"body_markdown":"First of all, I want to clarify that I am aware that this has been asked many times. However, I haven&#39;t found an answer that has worked for me.\r\n\r\nI&#39;m trying to make a game in which resolution is needed. So I got to work and made one component adapt to the size of another while maintaining the aspect ratio.\r\n\r\nBut I ran into a problem, and that is that a kind of flick or a resize of the object occurs particularly when the JFrame is made smaller.\r\n\r\nIn addition to investigating, I checked that the scale gave numbers that made sense and I did not detect anything unusual. I also tried to activate double buffering (despite knowing that it is enabled by default in JPanels) and nothing....\r\n\r\nI&#39;ve written similar code below so you can see and test what&#39;s going on. What is the mistake?\r\n\r\n    package novely;\r\n    \r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ComponentEvent;\r\n    import java.awt.event.ComponentListener;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    \r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class TestApp extends JFrame{\r\n    \tprivate JPanel panel; \r\n    \tprivate JPanel container;\r\n    \t\r\n    \tpublic TestApp() {\r\n        \tsetSize(800, 600);\r\n        \tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        \t\r\n        \tthis.container = new JPanel(new GridBagLayout());\r\n        \t\r\n        \tthis.panel = new JPanel();\r\n        \tthis.panel.setBackground(Color.black);\r\n        \t\r\n        \tthis.container.addComponentListener(new ComponentListener() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void componentResized(ComponentEvent e) {\r\n    \t\t\t\tint reswidth = 800;\r\n    \t\t\t\tint resheight = 600;\r\n    \t\t\t\tDimension parent_size = container.getSize();\r\n    \t\t\t\t\r\n    \t\t\t\tdouble scale = Math.min((double) parent_size.height / resheight,\r\n    \t\t\t\t\t\t                (double) parent_size.width / reswidth);\r\n    \t\t\t\t\r\n    \t\t\t\tpanel.setPreferredSize(new Dimension((int) (reswidth * scale), (int) (resheight * scale)));\r\n    \t\t\t\tpanel.revalidate();\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void componentMoved(ComponentEvent e) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void componentShown(ComponentEvent e) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void componentHidden(ComponentEvent e) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\r\n    \t\t\t}\r\n        \t\t\r\n        \t});\r\n        \t\r\n        \tthis.container.add(this.panel);\r\n        \t\r\n        \tadd(this.container);\r\n    \t}\r\n    \t\r\n        static public void main(String[] args) {\r\n        \tTestApp app = new TestApp();\r\n        \tapp.setVisible(true);\r\n        }\r\n    }","title":"JPanel flicking when component resized","body":"<p>First of all, I want to clarify that I am aware that this has been asked many times. However, I haven't found an answer that has worked for me.</p>\n<p>I'm trying to make a game in which resolution is needed. So I got to work and made one component adapt to the size of another while maintaining the aspect ratio.</p>\n<p>But I ran into a problem, and that is that a kind of flick or a resize of the object occurs particularly when the JFrame is made smaller.</p>\n<p>In addition to investigating, I checked that the scale gave numbers that made sense and I did not detect anything unusual. I also tried to activate double buffering (despite knowing that it is enabled by default in JPanels) and nothing....</p>\n<p>I've written similar code below so you can see and test what's going on. What is the mistake?</p>\n<pre><code>package novely;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ComponentEvent;\nimport java.awt.event.ComponentListener;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class TestApp extends JFrame{\n    private JPanel panel; \n    private JPanel container;\n    \n    public TestApp() {\n        setSize(800, 600);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        this.container = new JPanel(new GridBagLayout());\n        \n        this.panel = new JPanel();\n        this.panel.setBackground(Color.black);\n        \n        this.container.addComponentListener(new ComponentListener() {\n\n            @Override\n            public void componentResized(ComponentEvent e) {\n                int reswidth = 800;\n                int resheight = 600;\n                Dimension parent_size = container.getSize();\n                \n                double scale = Math.min((double) parent_size.height / resheight,\n                                        (double) parent_size.width / reswidth);\n                \n                panel.setPreferredSize(new Dimension((int) (reswidth * scale), (int) (resheight * scale)));\n                panel.revalidate();\n            }\n\n            @Override\n            public void componentMoved(ComponentEvent e) {\n                // TODO Auto-generated method stub\n                \n            }\n\n            @Override\n            public void componentShown(ComponentEvent e) {\n                // TODO Auto-generated method stub\n                \n            }\n\n            @Override\n            public void componentHidden(ComponentEvent e) {\n                // TODO Auto-generated method stub\n                \n            }\n            \n        });\n        \n        this.container.add(this.panel);\n        \n        add(this.container);\n    }\n    \n    static public void main(String[] args) {\n        TestApp app = new TestApp();\n        app.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","ssl","websocket"],"answers":[{"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679097325,"creation_date":1679097325,"answer_id":75773065,"question_id":75712634,"body_markdown":"Probably application is starting in https on 8080 if you open http://localhost:8080/ in browser you will see\r\n\r\n[![local https on port8080 called with http protocl][1]][1]\r\n\r\nif you go with https://localhost:8080/ will show the page, you may need to accept self signed certificate, example below\r\n[![https localhost][2]][2]\r\n\r\nyou can find working code [here](https://github.com/ozkanpakdil/spring-examples/tree/master/local-ssl-websocket) for this test. And I took the chat system from [here](https://spring.io/guides/gs/messaging-stomp-websocket/).\r\n\r\n  [1]: https://i.stack.imgur.com/U6D8C.png\r\n  [2]: https://i.stack.imgur.com/k2li7.png","title":"Trying to set my Spring websocket run over TLS","body":"<p>Probably application is starting in https on 8080 if you open http://localhost:8080/ in browser you will see</p>\n<p><a href=\"https://i.stack.imgur.com/U6D8C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U6D8C.png\" alt=\"local https on port8080 called with http protocl\" /></a></p>\n<p>if you go with https://localhost:8080/ will show the page, you may need to accept self signed certificate, example below\n<a href=\"https://i.stack.imgur.com/k2li7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k2li7.png\" alt=\"https localhost\" /></a></p>\n<p>you can find working code <a href=\"https://github.com/ozkanpakdil/spring-examples/tree/master/local-ssl-websocket\" rel=\"nofollow noreferrer\">here</a> for this test. And I took the chat system from <a href=\"https://spring.io/guides/gs/messaging-stomp-websocket/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":9226350,"reputation":13,"user_id":6854035,"display_name":"babilon1210"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679097325,"creation_date":1678618688,"question_id":75712634,"body_markdown":"I have created a Spring websocket using Intellij community using Maven. \r\nThe websocket works, however it runs on HTTP, while I want it to run over TLS/SSL (HTTPS). \r\n\r\nI&#39;ve tried adding the below properties to the application.properties file (I have obtained a Certificate and created the keystore.JKS file, its path is the same path as the application.properties path):\r\n\r\n    # Enable HTTPS\r\n    server.ssl.key-store-type=JKS\r\n    server.ssl.key-store=classpath:keystore.jks \r\n    server.ssl.key-store-password=*****\r\n    server.ssl.key-alias=tomcat\r\n    server.ssl.enabled-protocols=TLSv1.2\r\n    server.ssl.protocol=TLS\r\n    server.ssl.enabled=true\r\n\r\nAfter running the application, nothing changed and the Tomcat still started on port 8080 (http).\r\nI am struggling for days now on making my websocket run over TLS, and I would appreciate some assistance.\r\nI would be happy to accept other suggestions for making my websocket run over TLS, instead of the application.properties file.\r\n\r\n**My Spring websocket code:**\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n    package com.chess.web;\r\n\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.socket.config.annotation.EnableWebSocket;\r\n    import org.springframework.web.socket.config.annotation.WebSocketConfigurer;\r\n    import org.springframework.web.socket.config.annotation.WebSocketHandlerRegistry;\r\n\r\n    @Configuration\r\n    @EnableWebSocket\r\n    public class WebSocketConfig implements WebSocketConfigurer{\r\n\r\n        @Override\r\n        public void registerWebSocketHandlers(WebSocketHandlerRegistry registry){\r\n            registry.addHandler(new ChessWebSocketHandler(), &quot;/chess&quot;).setAllowedOrigins(&quot;*&quot;);\r\n        }\r\n    }\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n    package com.chess.web;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.PropertySource;\r\n\r\n    @SpringBootApplication\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public class ChessGameApplication {\r\n\r\n        public static void main(String[] args){\r\n            SpringApplication.run(ChessGameApplication.class,args);\r\n        }\r\n    }\r\n&lt;/code&gt;&lt;/pre&gt;\r\n","title":"Trying to set my Spring websocket run over TLS","body":"<p>I have created a Spring websocket using Intellij community using Maven.\nThe websocket works, however it runs on HTTP, while I want it to run over TLS/SSL (HTTPS).</p>\n<p>I've tried adding the below properties to the application.properties file (I have obtained a Certificate and created the keystore.JKS file, its path is the same path as the application.properties path):</p>\n<pre><code># Enable HTTPS\nserver.ssl.key-store-type=JKS\nserver.ssl.key-store=classpath:keystore.jks \nserver.ssl.key-store-password=*****\nserver.ssl.key-alias=tomcat\nserver.ssl.enabled-protocols=TLSv1.2\nserver.ssl.protocol=TLS\nserver.ssl.enabled=true\n</code></pre>\n<p>After running the application, nothing changed and the Tomcat still started on port 8080 (http).\nI am struggling for days now on making my websocket run over TLS, and I would appreciate some assistance.\nI would be happy to accept other suggestions for making my websocket run over TLS, instead of the application.properties file.</p>\n<p><strong>My Spring websocket code:</strong></p>\n<pre><code>\n    package com.chess.web;\n\n    import org.springframework.context.annotation.Configuration;\n    import org.springframework.web.socket.config.annotation.EnableWebSocket;\n    import org.springframework.web.socket.config.annotation.WebSocketConfigurer;\n    import org.springframework.web.socket.config.annotation.WebSocketHandlerRegistry;\n\n    @Configuration\n    @EnableWebSocket\n    public class WebSocketConfig implements WebSocketConfigurer{\n\n        @Override\n        public void registerWebSocketHandlers(WebSocketHandlerRegistry registry){\n            registry.addHandler(new ChessWebSocketHandler(), \"/chess\").setAllowedOrigins(\"*\");\n        }\n    }\n</code></pre>\n<pre><code>\n    package com.chess.web;\n\n    import org.springframework.boot.SpringApplication;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n    import org.springframework.context.annotation.PropertySource;\n\n    @SpringBootApplication\n    @PropertySource(\"classpath:application.properties\")\n    public class ChessGameApplication {\n\n        public static void main(String[] args){\n            SpringApplication.run(ChessGameApplication.class,args);\n        }\n    }\n</code></pre>\n"},{"tags":["java","quarkus"],"comments":[{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1679156207,"post_id":75772819,"comment_id":133672723,"body_markdown":"You shouldn&#39;t post the answer in the question, better post it as separate answer and approve so others can find it","body":"You shouldn&#39;t post the answer in the question, better post it as separate answer and approve so others can find it"}],"owner":{"account_id":6781164,"reputation":1,"user_id":5221358,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679093711,"creation_date":1679093619,"question_id":75772819,"body_markdown":"I followed documentation https://quarkus.io/guides/opentelemetry#id-generator, but this way is either incomplete or just does not work. According to the doc that is suppose to work somehow auto-magically, but application continue to use default random generator instead of using AwsXrayIdGenerator that I&#39;m trying to provide.\r\nSo, should I register this class in parameters? What am I supposed to do if I&#39;m not getting the expected result?\r\n\r\nThe Answer:\r\nOK, after hours of searching and debugging I finally figured out that I had to formally inject IdGenerator class somewhere, that will kick in corresponding logic in Instances.resolveBeans() and get the instance of IdGenerator from the CustomConfig.idGenerator() method (or any other method annotated as @Produces).\r\nIt was interesting, but not so pleasant learning. A little bit more help from the doc would be nice.","title":"How do I set my custom IdGenerator for OpenTelemetry extension in Quarkus?","body":"<p>I followed documentation <a href=\"https://quarkus.io/guides/opentelemetry#id-generator\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/opentelemetry#id-generator</a>, but this way is either incomplete or just does not work. According to the doc that is suppose to work somehow auto-magically, but application continue to use default random generator instead of using AwsXrayIdGenerator that I'm trying to provide.\nSo, should I register this class in parameters? What am I supposed to do if I'm not getting the expected result?</p>\n<p>The Answer:\nOK, after hours of searching and debugging I finally figured out that I had to formally inject IdGenerator class somewhere, that will kick in corresponding logic in Instances.resolveBeans() and get the instance of IdGenerator from the CustomConfig.idGenerator() method (or any other method annotated as @Produces).\nIt was interesting, but not so pleasant learning. A little bit more help from the doc would be nice.</p>\n"},{"tags":["java","windows","locale","lcid"],"answers":[{"comments":[{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":0,"creation_date":1248766531,"post_id":1192398,"comment_id":1015030,"body_markdown":"We found that too, but it looks rather suboptimal solution for this - it&#39;s a &quot;utility class that helps with decoding the names of *OpenType and TrueType fonts*&quot;. And looking at the source, the conversion methods seem to be quite lacking - it only knows how to map a couple of the most common locales!","body":"We found that too, but it looks rather suboptimal solution for this - it&#39;s a &quot;utility class that helps with decoding the names of <i>OpenType and TrueType fonts</i>&quot;. And looking at the source, the conversion methods seem to be quite lacking - it only knows how to map a couple of the most common locales!"},{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":2,"creation_date":1248766899,"post_id":1192398,"comment_id":1015055,"body_markdown":"Here&#39;s the source: http://classpath.sourcearchive.com/documentation/0.91/NameDecoder_8java-source.html See the method which &quot;Maps a Windows LCID into a Java Locale&quot;, and note the comment &quot;FIXME: This is grossly incomplete.&quot; :P","body":"Here&#39;s the source: <a href=\"http://classpath.sourcearchive.com/documentation/0.91/NameDecoder_8java-source.html\" rel=\"nofollow noreferrer\">classpath.sourcearchive.com/documentation/0.91/&hellip;</a> See the method which &quot;Maps a Windows LCID into a Java Locale&quot;, and note the comment &quot;FIXME: This is grossly incomplete.&quot; :P"}],"tags":[],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1248766133,"creation_date":1248766133,"answer_id":1192398,"question_id":1192361,"body_markdown":"[The was the first hit on google][1] for &quot;Java LCID&quot; is this javadoc:\r\n\r\n    gnu.java.awt.font.opentype.NameDecoder\r\n\r\n&gt; private static java.util.Locale\r\n&gt; getWindowsLocale(int lcid)\r\n&gt; \r\n&gt;     Maps a Windows LCID into a Java Locale.\r\n&gt; \r\n&gt;     Parameters:\r\n&gt;         lcid - the Windows language ID whose Java locale is to be retrieved. \r\n&gt;     Returns:\r\n&gt;         an suitable Locale, or null if the mapping cannot be performed.\r\n\r\nI&#39;m not sure where to go about downloading this library, but it&#39;s GNU, so it shouldn&#39;t be too hard to find.\r\n\r\n\r\n  [1]: http://www.brawer.ch/software/fonts/doc/gnu/java/awt/font/opentype/NameDecoder.html\r\n","title":"How to convert Microsoft Locale ID (LCID) into language code or Locale object in Java","body":"<p><a href=\"http://www.brawer.ch/software/fonts/doc/gnu/java/awt/font/opentype/NameDecoder.html\" rel=\"nofollow noreferrer\">The was the first hit on google</a> for \"Java LCID\" is this javadoc:</p>\n\n<pre><code>gnu.java.awt.font.opentype.NameDecoder\n</code></pre>\n\n<blockquote>\n  <p>private static java.util.Locale\n  getWindowsLocale(int lcid)</p>\n\n<pre><code>Maps a Windows LCID into a Java Locale.\n\nParameters:\n    lcid - the Windows language ID whose Java locale is to be retrieved. \nReturns:\n    an suitable Locale, or null if the mapping cannot be performed.\n</code></pre>\n</blockquote>\n\n<p>I'm not sure where to go about downloading this library, but it's GNU, so it shouldn't be too hard to find.</p>\n"},{"comments":[{"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":0,"creation_date":1248776097,"post_id":1192856,"comment_id":1015773,"body_markdown":"Mapping using English-only names may cause problems. See this answer: http://stackoverflow.com/questions/958178/in-java-is-there-any-way-to-get-a-locale-given-its-display-name/958600#958600","body":"Mapping using English-only names may cause problems. See this answer: <a href=\"http://stackoverflow.com/questions/958178/in-java-is-there-any-way-to-get-a-locale-given-its-display-name/958600#958600\" title=\"in java is there any way to get a locale given its display name\">stackoverflow.com/questions/958178/&hellip;</a>"},{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":0,"creation_date":1248777873,"post_id":1192856,"comment_id":1015911,"body_markdown":"In general that&#39;s true - but for our particular case those language/country names in English are fine (we&#39;re pulling some software information out of an SCCM database, and simply want something more human-readable than the numeric codes)","body":"In general that&#39;s true - but for our particular case those language/country names in English are fine (we&#39;re pulling some software information out of an SCCM database, and simply want something more human-readable than the numeric codes)"}],"tags":[],"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1272914919,"creation_date":1248771913,"answer_id":1192856,"question_id":1192361,"body_markdown":"As it started to look like there is no ready Java solution to do this mapping, we took the ~20 minutes to roll something of our own, at least for now.\r\n\r\nWe took the information from the horse&#39;s mouth, i.e. http://msdn.microsoft.com/en-us/goglobal/bb964664.aspx, and copy-pasted it (through Excel) into a .properties file like this: \r\n\r\n    1078 = Afrikaans - South Africa\r\n    1052 = Albanian - Albania\r\n    1118 = Amharic - Ethiopia\r\n    1025 = Arabic - Saudi Arabia\r\n    5121 = Arabic - Algeria\t\r\n    ...\r\n\r\n(You can download the file [here][1] if you have similar needs.)\r\n\r\nThen there&#39;s a very simple class that reads the information from the .properties file into a map, and has a method for doing the conversion.\r\n\r\n    Map&lt;String, String&gt; lcidToDescription;\r\n\r\n    public String getDescription(String lcid) { ... }\r\n\r\nAnd yes, this doesn&#39;t actually map to *language code* or *Locale object* (which is what I originally asked), but to Microsoft&#39;s &quot;Language - Country/Region&quot; description. It turned out this was sufficient for our current need.\r\n\r\nDisclaimer: this really is a minimalistic, &quot;dummy&quot; way of doing it yourself in Java, and obviously keeping (and maintaining) a copy of the LCID mapping information in your own codebase is not very elegant. (On the other hand, neither would I want to include a huge library jar or do anything overly complicated just for this simple mapping.) So despite this answer, **feel free to post more elegant solutions or existing libraries** if you know of anything like that.\r\n\r\n\r\n  [1]: http://dl.dropbox.com/u/2896691/stack/lcid-codes.properties","title":"How to convert Microsoft Locale ID (LCID) into language code or Locale object in Java","body":"<p>As it started to look like there is no ready Java solution to do this mapping, we took the ~20 minutes to roll something of our own, at least for now.</p>\n\n<p>We took the information from the horse's mouth, i.e. <a href=\"http://msdn.microsoft.com/en-us/goglobal/bb964664.aspx\" rel=\"noreferrer\">http://msdn.microsoft.com/en-us/goglobal/bb964664.aspx</a>, and copy-pasted it (through Excel) into a .properties file like this: </p>\n\n<pre><code>1078 = Afrikaans - South Africa\n1052 = Albanian - Albania\n1118 = Amharic - Ethiopia\n1025 = Arabic - Saudi Arabia\n5121 = Arabic - Algeria \n...\n</code></pre>\n\n<p>(You can download the file <a href=\"http://dl.dropbox.com/u/2896691/stack/lcid-codes.properties\" rel=\"noreferrer\">here</a> if you have similar needs.)</p>\n\n<p>Then there's a very simple class that reads the information from the .properties file into a map, and has a method for doing the conversion.</p>\n\n<pre><code>Map&lt;String, String&gt; lcidToDescription;\n\npublic String getDescription(String lcid) { ... }\n</code></pre>\n\n<p>And yes, this doesn't actually map to <em>language code</em> or <em>Locale object</em> (which is what I originally asked), but to Microsoft's \"Language - Country/Region\" description. It turned out this was sufficient for our current need.</p>\n\n<p>Disclaimer: this really is a minimalistic, \"dummy\" way of doing it yourself in Java, and obviously keeping (and maintaining) a copy of the LCID mapping information in your own codebase is not very elegant. (On the other hand, neither would I want to include a huge library jar or do anything overly complicated just for this simple mapping.) So despite this answer, <strong>feel free to post more elegant solutions or existing libraries</strong> if you know of anything like that.</p>\n"},{"comments":[{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":0,"creation_date":1248782286,"post_id":1193174,"comment_id":1016248,"body_markdown":"Thanks! In our case the code needs to run on other platforms (e.g. Linux) too, even though the information we&#39;re handling is Windows-centric and comes from an SCCM database. But maybe in some cases this is the best option - I do agree that it&#39;s not nice to have to maintain the mappings in a file (even if they rarely change). Btw, if anyone considers doing this using the Windows API, this might be of help: http://stackoverflow.com/questions/1000723/what-is-the-easiest-way-to-call-a-windows-kernel-function-from-java","body":"Thanks! In our case the code needs to run on other platforms (e.g. Linux) too, even though the information we&#39;re handling is Windows-centric and comes from an SCCM database. But maybe in some cases this is the best option - I do agree that it&#39;s not nice to have to maintain the mappings in a file (even if they rarely change). Btw, if anyone considers doing this using the Windows API, this might be of help: <a href=\"http://stackoverflow.com/questions/1000723/what-is-the-easiest-way-to-call-a-windows-kernel-function-from-java\" title=\"what is the easiest way to call a windows kernel function from java\">stackoverflow.com/questions/1000723/&hellip;</a>"}],"tags":[],"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1248775890,"creation_date":1248775890,"answer_id":1193174,"question_id":1192361,"body_markdown":"You could use [GetLocaleInfo][1] to do this (assuming you were running on Windows (win2k+)).\r\n\r\nThis C++ code demonstrates how to use the function:\r\n\r\n    #include &quot;windows.h&quot;\r\n    \r\n    int main()\r\n    {\r\n      HANDLE stdout = GetStdHandle(STD_OUTPUT_HANDLE);\r\n      if(INVALID_HANDLE_VALUE == stdout) return 1;\r\n    \r\n      LCID Locale = 0x0c01; //Arabic - Egypt\r\n      int nchars = GetLocaleInfoW(Locale, LOCALE_SISO639LANGNAME, NULL, 0);\r\n      wchar_t* LanguageCode = new wchar_t[nchars];\r\n      GetLocaleInfoW(Locale, LOCALE_SISO639LANGNAME, LanguageCode, nchars);\r\n    \r\n      WriteConsoleW(stdout, LanguageCode, nchars, NULL, NULL);\r\n      delete[] LanguageCode;\r\n      return 0;\r\n    }\r\n\r\nIt would not take much work to turn this into a [JNA][2] call. (Tip: emit constants as ints to find their values.)\r\n\r\nSample JNA code:\r\n\r\n - [draw a Windows cursor][3]\r\n - [print Unicode on a Windows console][4]\r\n\r\nUsing JNI is a bit more involved, but is manageable for a relatively trivial task.\r\n\r\nAt the very least, I would look into using native calls to build your conversion database. I&#39;m not sure if Windows has a way to enumerate the LCIDs, but there&#39;s bound to be something in .Net. As a build-level thing, this isn&#39;t a huge burden. I would want to avoid manual maintenance of the list.\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/dd318101(VS.85).aspx\r\n  [2]: https://github.com/twall/jna/\r\n  [3]: https://stackoverflow.com/questions/739870/extract-cursor-image-in-java/740528#740528\r\n  [4]: http://illegalargumentexception.blogspot.com/2009/04/java-unicode-on-windows-command-line.html","title":"How to convert Microsoft Locale ID (LCID) into language code or Locale object in Java","body":"<p>You could use <a href=\"http://msdn.microsoft.com/en-us/library/dd318101(VS.85).aspx\" rel=\"nofollow noreferrer\">GetLocaleInfo</a> to do this (assuming you were running on Windows (win2k+)).</p>\n\n<p>This C++ code demonstrates how to use the function:</p>\n\n<pre><code>#include \"windows.h\"\n\nint main()\n{\n  HANDLE stdout = GetStdHandle(STD_OUTPUT_HANDLE);\n  if(INVALID_HANDLE_VALUE == stdout) return 1;\n\n  LCID Locale = 0x0c01; //Arabic - Egypt\n  int nchars = GetLocaleInfoW(Locale, LOCALE_SISO639LANGNAME, NULL, 0);\n  wchar_t* LanguageCode = new wchar_t[nchars];\n  GetLocaleInfoW(Locale, LOCALE_SISO639LANGNAME, LanguageCode, nchars);\n\n  WriteConsoleW(stdout, LanguageCode, nchars, NULL, NULL);\n  delete[] LanguageCode;\n  return 0;\n}\n</code></pre>\n\n<p>It would not take much work to turn this into a <a href=\"https://github.com/twall/jna/\" rel=\"nofollow noreferrer\">JNA</a> call. (Tip: emit constants as ints to find their values.)</p>\n\n<p>Sample JNA code:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/739870/extract-cursor-image-in-java/740528#740528\">draw a Windows cursor</a></li>\n<li><a href=\"http://illegalargumentexception.blogspot.com/2009/04/java-unicode-on-windows-command-line.html\" rel=\"nofollow noreferrer\">print Unicode on a Windows console</a></li>\n</ul>\n\n<p>Using JNI is a bit more involved, but is manageable for a relatively trivial task.</p>\n\n<p>At the very least, I would look into using native calls to build your conversion database. I'm not sure if Windows has a way to enumerate the LCIDs, but there's bound to be something in .Net. As a build-level thing, this isn't a huge burden. I would want to avoid manual maintenance of the list.</p>\n"},{"tags":[],"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1441174885,"creation_date":1441084839,"answer_id":32324060,"question_id":1192361,"body_markdown":"The following code will programmatically create a mapping between Microsoft LCID codes and Java Locales, making it easier to keep the mapping up-to-date:\r\n\r\n\timport java.io.IOException;\r\n\timport java.util.HashMap;\r\n\timport java.util.Locale;\r\n\timport java.util.Map;\r\n\r\n\t/**\r\n\t * @author Gili Tzabari\r\n\t */\r\n\tpublic final class Locales\r\n\t{\r\n\t\t/**\r\n\t\t * Maps a Microsoft LCID to a Java Locale.\r\n\t\t */\r\n\t\tprivate final Map&lt;Integer, Locale&gt; lcidToLocale = new HashMap&lt;&gt;(LcidToLocaleMapping.NUM_LOCALES);\r\n\r\n\t\tpublic Locales()\r\n\t\t{\r\n\t\t\t// Try loading the mapping from cache\r\n\t\t\tFile file = new File(&quot;lcid-to-locale.properties&quot;);\r\n\t\t\tProperties properties = new Properties();\r\n\t\t\ttry (FileInputStream in = new FileInputStream(file))\r\n\t\t\t{\r\n\t\t\t\tproperties.load(in);\r\n\t\t\t\tfor (Object key: properties.keySet())\r\n\t\t\t\t{\r\n\t\t\t\t\tString keyString = key.toString();\r\n\t\t\t\t\tInteger lcid = Integer.parseInt(keyString);\r\n\t\t\t\t\tString languageTag = properties.getProperty(keyString);\r\n\t\t\t\t\tlcidToLocale.put(lcid, Locale.forLanguageTag(languageTag));\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tcatch (IOException unused)\r\n\t\t\t{\r\n\t\t\t\t// Cache does not exist or is invalid, regenerate...\r\n\t\t\t\tlcidToLocale.clear();\r\n\t\t\t}\r\n\r\n\t\t\tLcidToLocaleMapping mapping;\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tmapping = new LcidToLocaleMapping();\r\n\t\t\t}\r\n\t\t\tcatch (IOException e)\r\n\t\t\t{\r\n\t\t\t\t// Unrecoverable runtime failure\r\n\t\t\t\tthrow new AssertionError(e);\r\n\t\t\t}\r\n\t\t\tfor (Locale locale: Locale.getAvailableLocales())\r\n\t\t\t{\r\n\t\t\t\tif (locale == Locale.ROOT)\r\n\t\t\t\t{\r\n\t\t\t\t\t// Special case that doesn&#39;t map to a real locale\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tString language = locale.getDisplayLanguage(Locale.ENGLISH);\r\n\t\t\t\tString country = locale.getDisplayCountry(Locale.ENGLISH);\r\n\t\t\t\tcountry = mapping.getCountryAlias(country);\r\n\t\t\t\tString script = locale.getDisplayScript();\r\n\t\t\t\tfor (Integer lcid: mapping.listLcidFor(language, country, script))\r\n\t\t\t\t{\r\n\t\t\t\t\tlcidToLocale.put(lcid, locale);\r\n\t\t\t\t\tproperties.put(lcid.toString(), locale.toLanguageTag());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Cache the mapping\r\n\t\t\ttry (FileOutputStream out = new FileOutputStream(file))\r\n\t\t\t{\r\n\t\t\t\tproperties.store(out, &quot;LCID to Locale mapping&quot;);\r\n\t\t\t}\r\n\t\t\tcatch (IOException e)\r\n\t\t\t{\r\n\t\t\t\t// Unrecoverable runtime failure\r\n\t\t\t\tthrow new AssertionError(e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @param lcid a Microsoft LCID code\r\n\t\t * @return a Java locale\r\n\t\t * @see https://msdn.microsoft.com/en-us/library/cc223140.aspx\r\n\t\t */\r\n\t\tpublic Locale fromLcid(int lcid)\r\n\t\t{\r\n\t\t\treturn lcidToLocale.get(lcid);\r\n\t\t}\r\n\t}\r\n\r\n\timport com.google.common.collect.HashMultimap;\r\n\timport com.google.common.collect.ImmutableList;\r\n\timport com.google.common.collect.ImmutableMap;\r\n\timport com.google.common.collect.SetMultimap;\r\n\timport com.google.common.collect.Sets;\r\n\timport java.io.IOException;\r\n\timport java.util.ArrayList;\r\n\timport java.util.Collection;\r\n\timport java.util.Collections;\r\n\timport java.util.List;\r\n\timport java.util.Map;\r\n\timport java.util.Set;\r\n\timport java.util.regex.Matcher;\r\n\timport java.util.regex.Pattern;\r\n\timport java.util.stream.Collectors;\r\n\timport org.bitbucket.cowwoc.preconditions.Preconditions;\r\n\timport org.jsoup.Jsoup;\r\n\timport org.jsoup.nodes.Document;\r\n\timport org.jsoup.nodes.Element;\r\n\timport org.jsoup.select.Elements;\r\n\timport org.slf4j.Logger;\r\n\timport org.slf4j.LoggerFactory;\r\n\r\n\t/**\r\n\t * Generates a mapping between Microsoft LCIDs and Java Locales.\r\n\t * &lt;p&gt;\r\n\t * @see http://stackoverflow.com/a/32324060/14731\r\n\t * @author Gili Tzabari\r\n\t */\r\n\tfinal class LcidToLocaleMapping\r\n\t{\r\n\t\tprivate static final int NUM_COUNTRIES = 194;\r\n\t\tprivate static final int NUM_LANGUAGES = 13;\r\n\t\tprivate static final int NUM_SCRIPTS = 5;\r\n\t\t/**\r\n\t\t * The number of locales we are expecting. This value is only used for performance optimization.\r\n\t\t */\r\n\t\tpublic static final int NUM_LOCALES = 238;\r\n\t\tprivate static final List&lt;String&gt; EXPECTED_HEADERS = ImmutableList.of(&quot;lcid&quot;, &quot;language&quot;, &quot;location&quot;);\r\n\t\t// [language] - [comment] ([script])\r\n\t\tprivate static final Pattern languagePattern = Pattern.compile(&quot;^(.+?)(?: - (.*?))?(?: \\\\((.+)\\\\))?$&quot;);\r\n\t\t/**\r\n\t\t * Maps a country to a list of entries.\r\n\t\t */\r\n\t\tprivate static final SetMultimap&lt;String, Mapping&gt; COUNTRY_TO_ENTRIES = HashMultimap.create(NUM_COUNTRIES,\r\n\t\t\tNUM_LOCALES / NUM_COUNTRIES);\r\n\t\t/**\r\n\t\t * Maps a language to a list of entries.\r\n\t\t */\r\n\t\tprivate static final SetMultimap&lt;String, Mapping&gt; LANGUAGE_TO_ENTRIES = HashMultimap.create(NUM_LANGUAGES,\r\n\t\t\tNUM_LOCALES / NUM_LANGUAGES);\r\n\t\t/**\r\n\t\t * Maps a language script to a list of entries.\r\n\t\t */\r\n\t\tprivate static final SetMultimap&lt;String, Mapping&gt; SCRIPT_TO_ENTRIES = HashMultimap.create(NUM_SCRIPTS,\r\n\t\t\tNUM_LOCALES / NUM_SCRIPTS);\r\n\t\t/**\r\n\t\t * Maps a Locale country name to a LCID country name.\r\n\t\t */\r\n\t\tprivate static final Map&lt;String, String&gt; countryAlias = ImmutableMap.&lt;String, String&gt;builder().\r\n\t\t\tput(&quot;United Arab Emirates&quot;, &quot;U.A.E.&quot;).\r\n\t\t\tbuild();\r\n\r\n\t\t/**\r\n\t\t * A mapping between a country, language, script and LCID.\r\n\t\t */\r\n\t\tprivate static final class Mapping\r\n\t\t{\r\n\t\t\tpublic final String country;\r\n\t\t\tpublic final String language;\r\n\t\t\tpublic final String script;\r\n\t\t\tpublic final int lcid;\r\n\r\n\t\t\tMapping(String country, String language, String script, int lcid)\r\n\t\t\t{\r\n\t\t\t\tPreconditions.requireThat(country, &quot;country&quot;).isNotNull();\r\n\t\t\t\tPreconditions.requireThat(language, &quot;language&quot;).isNotNull().isNotEmpty();\r\n\t\t\t\tPreconditions.requireThat(script, &quot;script&quot;).isNotNull();\r\n\t\t\t\tthis.country = country;\r\n\t\t\t\tthis.language = language;\r\n\t\t\t\tthis.script = script;\r\n\t\t\t\tthis.lcid = lcid;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic int hashCode()\r\n\t\t\t{\r\n\t\t\t\treturn country.hashCode() + language.hashCode() + script.hashCode() + lcid;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic boolean equals(Object obj)\r\n\t\t\t{\r\n\t\t\t\tif (!(obj instanceof Locales))\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tMapping other = (Mapping) obj;\r\n\t\t\t\treturn country.equals(other.country) &amp;&amp; language.equals(other.language) &amp;&amp; script.equals(other.script) &amp;&amp;\r\n\t\t\t\t\tlcid == other.lcid;\r\n\t\t\t}\r\n\t\t}\r\n\t\tprivate final Logger log = LoggerFactory.getLogger(LcidToLocaleMapping.class);\r\n\r\n\t\t/**\r\n\t\t * Creates a new LCID to Locale mapping.\r\n\t\t * &lt;p&gt;\r\n\t\t * @throws IOException if an I/O error occurs while reading the LCID table\r\n\t\t */\r\n\t\tLcidToLocaleMapping() throws IOException\r\n\t\t{\r\n\t\t\tDocument doc = Jsoup.connect(&quot;https://msdn.microsoft.com/en-us/library/cc223140.aspx&quot;).get();\r\n\t\t\tElement mainBody = doc.getElementById(&quot;mainBody&quot;);\r\n\t\t\tElements elements = mainBody.select(&quot;table&quot;);\r\n\t\t\tassert (elements.size() == 1): elements;\r\n\t\t\tfor (Element table: elements)\r\n\t\t\t{\r\n\t\t\t\tboolean firstRow = true;\r\n\t\t\t\tfor (Element row: table.select(&quot;tr&quot;))\r\n\t\t\t\t{\r\n\t\t\t\t\tif (firstRow)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// Make sure that columns are ordered as expected\r\n\t\t\t\t\t\tList&lt;String&gt; headers = new ArrayList&lt;&gt;(3);\r\n\t\t\t\t\t\tElements columns = row.select(&quot;th&quot;);\r\n\t\t\t\t\t\tfor (Element column: columns)\r\n\t\t\t\t\t\t\theaders.add(column.text().toLowerCase());\r\n\t\t\t\t\t\tassert (headers.equals(EXPECTED_HEADERS)): headers;\r\n\t\t\t\t\t\tfirstRow = false;\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tElements columns = row.select(&quot;td&quot;);\r\n\t\t\t\t\tassert (columns.size() == 3): columns;\r\n\t\t\t\t\tInteger lcid = Integer.parseInt(columns.get(0).text(), 16);\r\n\t\t\t\t\tMatcher languageMatcher = languagePattern.matcher(columns.get(1).text());\r\n\t\t\t\t\tif (!languageMatcher.find())\r\n\t\t\t\t\t\tthrow new AssertionError();\r\n\t\t\t\t\tString language = languageMatcher.group(1);\r\n\t\t\t\t\tString script = languageMatcher.group(2);\r\n\t\t\t\t\tif (script == null)\r\n\t\t\t\t\t\tscript = &quot;&quot;;\r\n\t\t\t\t\tString country = columns.get(2).text();\r\n\t\t\t\t\tMapping mapping = new Mapping(country, language, script, lcid);\r\n\t\t\t\t\tCOUNTRY_TO_ENTRIES.put(country, mapping);\r\n\t\t\t\t\tLANGUAGE_TO_ENTRIES.put(language, mapping);\r\n\t\t\t\t\tif (!script.isEmpty())\r\n\t\t\t\t\t\tSCRIPT_TO_ENTRIES.put(script, mapping);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Returns the LCID codes associated with a [country, language, script] combination.\r\n\t\t * &lt;p&gt;\r\n\t\t * @param language a language\r\n\t\t * @param country  a country (empty string if any country should match)\r\n\t\t * @param script   a language script (empty string if any script should match)\r\n\t\t * @return an empty list if no matches are found\r\n\t\t * @throws NullPointerException     if any of the arguments are null\r\n\t\t * @throws IllegalArgumentException if language is empty\r\n\t\t */\r\n\t\tpublic Collection&lt;Integer&gt; listLcidFor(String language, String country, String script)\r\n\t\t\tthrows NullPointerException, IllegalArgumentException\r\n\t\t{\r\n\t\t\tPreconditions.requireThat(language, &quot;language&quot;).isNotNull().isNotEmpty();\r\n\t\t\tPreconditions.requireThat(country, &quot;country&quot;).isNotNull();\r\n\t\t\tPreconditions.requireThat(script, &quot;script&quot;).isNotNull();\r\n\t\t\tSet&lt;Mapping&gt; result = LANGUAGE_TO_ENTRIES.get(language);\r\n\t\t\tif (result == null)\r\n\t\t\t{\r\n\t\t\t\tlog.warn(&quot;Language &#39;&quot; + language + &quot;&#39; had no corresponding LCID&quot;);\r\n\t\t\t\treturn Collections.emptyList();\r\n\t\t\t}\r\n\t\t\tif (!country.isEmpty())\r\n\t\t\t{\r\n\t\t\t\tSet&lt;Mapping&gt; entries = COUNTRY_TO_ENTRIES.get(country);\r\n\t\t\t\tresult = Sets.intersection(result, entries);\r\n\t\t\t}\r\n\r\n\t\t\tif (!script.isEmpty())\r\n\t\t\t{\r\n\t\t\t\tSet&lt;Mapping&gt; entries = SCRIPT_TO_ENTRIES.get(script);\r\n\t\t\t\tresult = Sets.intersection(result, entries);\r\n\t\t\t}\r\n\t\t\treturn result.stream().map(entry -&gt; entry.lcid).collect(Collectors.toList());\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @param name the locale country name\r\n\t\t * @return the LCID country name\r\n\t\t */\r\n\t\tpublic String getCountryAlias(String name)\r\n\t\t{\r\n\t\t\tString result = countryAlias.get(name);\r\n\t\t\tif (result == null)\r\n\t\t\t\treturn name;\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n\r\nMaven dependencies:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;18.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.bitbucket.cowwoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;preconditions&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.25&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nUsage:\r\n\r\n    System.out.println(&quot;Language: &quot; + new Locales().fromLcid(1033).getDisplayLanguage());\r\n\r\nwill print &quot;Language: English&quot;.\r\n\r\nMeaning, LCID 1033 maps to the English language.\r\n\r\n**NOTE**: This only generates mappings for locales available on your runtime JVM. Meaning, you will only get a subset of all possible Locales. That said, I don&#39;t think it is technically possible to instantiate Locales that your JVM doesn&#39;t support, so this is probably the best we can do...","title":"How to convert Microsoft Locale ID (LCID) into language code or Locale object in Java","body":"<p>The following code will programmatically create a mapping between Microsoft LCID codes and Java Locales, making it easier to keep the mapping up-to-date:</p>\n\n<pre><code>import java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Locale;\nimport java.util.Map;\n\n/**\n * @author Gili Tzabari\n */\npublic final class Locales\n{\n    /**\n     * Maps a Microsoft LCID to a Java Locale.\n     */\n    private final Map&lt;Integer, Locale&gt; lcidToLocale = new HashMap&lt;&gt;(LcidToLocaleMapping.NUM_LOCALES);\n\n    public Locales()\n    {\n        // Try loading the mapping from cache\n        File file = new File(\"lcid-to-locale.properties\");\n        Properties properties = new Properties();\n        try (FileInputStream in = new FileInputStream(file))\n        {\n            properties.load(in);\n            for (Object key: properties.keySet())\n            {\n                String keyString = key.toString();\n                Integer lcid = Integer.parseInt(keyString);\n                String languageTag = properties.getProperty(keyString);\n                lcidToLocale.put(lcid, Locale.forLanguageTag(languageTag));\n            }\n            return;\n        }\n        catch (IOException unused)\n        {\n            // Cache does not exist or is invalid, regenerate...\n            lcidToLocale.clear();\n        }\n\n        LcidToLocaleMapping mapping;\n        try\n        {\n            mapping = new LcidToLocaleMapping();\n        }\n        catch (IOException e)\n        {\n            // Unrecoverable runtime failure\n            throw new AssertionError(e);\n        }\n        for (Locale locale: Locale.getAvailableLocales())\n        {\n            if (locale == Locale.ROOT)\n            {\n                // Special case that doesn't map to a real locale\n                continue;\n            }\n            String language = locale.getDisplayLanguage(Locale.ENGLISH);\n            String country = locale.getDisplayCountry(Locale.ENGLISH);\n            country = mapping.getCountryAlias(country);\n            String script = locale.getDisplayScript();\n            for (Integer lcid: mapping.listLcidFor(language, country, script))\n            {\n                lcidToLocale.put(lcid, locale);\n                properties.put(lcid.toString(), locale.toLanguageTag());\n            }\n        }\n\n        // Cache the mapping\n        try (FileOutputStream out = new FileOutputStream(file))\n        {\n            properties.store(out, \"LCID to Locale mapping\");\n        }\n        catch (IOException e)\n        {\n            // Unrecoverable runtime failure\n            throw new AssertionError(e);\n        }\n    }\n\n    /**\n     * @param lcid a Microsoft LCID code\n     * @return a Java locale\n     * @see https://msdn.microsoft.com/en-us/library/cc223140.aspx\n     */\n    public Locale fromLcid(int lcid)\n    {\n        return lcidToLocale.get(lcid);\n    }\n}\n\nimport com.google.common.collect.HashMultimap;\nimport com.google.common.collect.ImmutableList;\nimport com.google.common.collect.ImmutableMap;\nimport com.google.common.collect.SetMultimap;\nimport com.google.common.collect.Sets;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.util.stream.Collectors;\nimport org.bitbucket.cowwoc.preconditions.Preconditions;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n/**\n * Generates a mapping between Microsoft LCIDs and Java Locales.\n * &lt;p&gt;\n * @see http://stackoverflow.com/a/32324060/14731\n * @author Gili Tzabari\n */\nfinal class LcidToLocaleMapping\n{\n    private static final int NUM_COUNTRIES = 194;\n    private static final int NUM_LANGUAGES = 13;\n    private static final int NUM_SCRIPTS = 5;\n    /**\n     * The number of locales we are expecting. This value is only used for performance optimization.\n     */\n    public static final int NUM_LOCALES = 238;\n    private static final List&lt;String&gt; EXPECTED_HEADERS = ImmutableList.of(\"lcid\", \"language\", \"location\");\n    // [language] - [comment] ([script])\n    private static final Pattern languagePattern = Pattern.compile(\"^(.+?)(?: - (.*?))?(?: \\\\((.+)\\\\))?$\");\n    /**\n     * Maps a country to a list of entries.\n     */\n    private static final SetMultimap&lt;String, Mapping&gt; COUNTRY_TO_ENTRIES = HashMultimap.create(NUM_COUNTRIES,\n        NUM_LOCALES / NUM_COUNTRIES);\n    /**\n     * Maps a language to a list of entries.\n     */\n    private static final SetMultimap&lt;String, Mapping&gt; LANGUAGE_TO_ENTRIES = HashMultimap.create(NUM_LANGUAGES,\n        NUM_LOCALES / NUM_LANGUAGES);\n    /**\n     * Maps a language script to a list of entries.\n     */\n    private static final SetMultimap&lt;String, Mapping&gt; SCRIPT_TO_ENTRIES = HashMultimap.create(NUM_SCRIPTS,\n        NUM_LOCALES / NUM_SCRIPTS);\n    /**\n     * Maps a Locale country name to a LCID country name.\n     */\n    private static final Map&lt;String, String&gt; countryAlias = ImmutableMap.&lt;String, String&gt;builder().\n        put(\"United Arab Emirates\", \"U.A.E.\").\n        build();\n\n    /**\n     * A mapping between a country, language, script and LCID.\n     */\n    private static final class Mapping\n    {\n        public final String country;\n        public final String language;\n        public final String script;\n        public final int lcid;\n\n        Mapping(String country, String language, String script, int lcid)\n        {\n            Preconditions.requireThat(country, \"country\").isNotNull();\n            Preconditions.requireThat(language, \"language\").isNotNull().isNotEmpty();\n            Preconditions.requireThat(script, \"script\").isNotNull();\n            this.country = country;\n            this.language = language;\n            this.script = script;\n            this.lcid = lcid;\n        }\n\n        @Override\n        public int hashCode()\n        {\n            return country.hashCode() + language.hashCode() + script.hashCode() + lcid;\n        }\n\n        @Override\n        public boolean equals(Object obj)\n        {\n            if (!(obj instanceof Locales))\n                return false;\n            Mapping other = (Mapping) obj;\n            return country.equals(other.country) &amp;&amp; language.equals(other.language) &amp;&amp; script.equals(other.script) &amp;&amp;\n                lcid == other.lcid;\n        }\n    }\n    private final Logger log = LoggerFactory.getLogger(LcidToLocaleMapping.class);\n\n    /**\n     * Creates a new LCID to Locale mapping.\n     * &lt;p&gt;\n     * @throws IOException if an I/O error occurs while reading the LCID table\n     */\n    LcidToLocaleMapping() throws IOException\n    {\n        Document doc = Jsoup.connect(\"https://msdn.microsoft.com/en-us/library/cc223140.aspx\").get();\n        Element mainBody = doc.getElementById(\"mainBody\");\n        Elements elements = mainBody.select(\"table\");\n        assert (elements.size() == 1): elements;\n        for (Element table: elements)\n        {\n            boolean firstRow = true;\n            for (Element row: table.select(\"tr\"))\n            {\n                if (firstRow)\n                {\n                    // Make sure that columns are ordered as expected\n                    List&lt;String&gt; headers = new ArrayList&lt;&gt;(3);\n                    Elements columns = row.select(\"th\");\n                    for (Element column: columns)\n                        headers.add(column.text().toLowerCase());\n                    assert (headers.equals(EXPECTED_HEADERS)): headers;\n                    firstRow = false;\n                    continue;\n                }\n                Elements columns = row.select(\"td\");\n                assert (columns.size() == 3): columns;\n                Integer lcid = Integer.parseInt(columns.get(0).text(), 16);\n                Matcher languageMatcher = languagePattern.matcher(columns.get(1).text());\n                if (!languageMatcher.find())\n                    throw new AssertionError();\n                String language = languageMatcher.group(1);\n                String script = languageMatcher.group(2);\n                if (script == null)\n                    script = \"\";\n                String country = columns.get(2).text();\n                Mapping mapping = new Mapping(country, language, script, lcid);\n                COUNTRY_TO_ENTRIES.put(country, mapping);\n                LANGUAGE_TO_ENTRIES.put(language, mapping);\n                if (!script.isEmpty())\n                    SCRIPT_TO_ENTRIES.put(script, mapping);\n            }\n        }\n    }\n\n    /**\n     * Returns the LCID codes associated with a [country, language, script] combination.\n     * &lt;p&gt;\n     * @param language a language\n     * @param country  a country (empty string if any country should match)\n     * @param script   a language script (empty string if any script should match)\n     * @return an empty list if no matches are found\n     * @throws NullPointerException     if any of the arguments are null\n     * @throws IllegalArgumentException if language is empty\n     */\n    public Collection&lt;Integer&gt; listLcidFor(String language, String country, String script)\n        throws NullPointerException, IllegalArgumentException\n    {\n        Preconditions.requireThat(language, \"language\").isNotNull().isNotEmpty();\n        Preconditions.requireThat(country, \"country\").isNotNull();\n        Preconditions.requireThat(script, \"script\").isNotNull();\n        Set&lt;Mapping&gt; result = LANGUAGE_TO_ENTRIES.get(language);\n        if (result == null)\n        {\n            log.warn(\"Language '\" + language + \"' had no corresponding LCID\");\n            return Collections.emptyList();\n        }\n        if (!country.isEmpty())\n        {\n            Set&lt;Mapping&gt; entries = COUNTRY_TO_ENTRIES.get(country);\n            result = Sets.intersection(result, entries);\n        }\n\n        if (!script.isEmpty())\n        {\n            Set&lt;Mapping&gt; entries = SCRIPT_TO_ENTRIES.get(script);\n            result = Sets.intersection(result, entries);\n        }\n        return result.stream().map(entry -&gt; entry.lcid).collect(Collectors.toList());\n    }\n\n    /**\n     * @param name the locale country name\n     * @return the LCID country name\n     */\n    public String getCountryAlias(String name)\n    {\n        String result = countryAlias.get(name);\n        if (result == null)\n            return name;\n        return result;\n    }\n}\n</code></pre>\n\n<p>Maven dependencies:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;18.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bitbucket.cowwoc&lt;/groupId&gt;\n        &lt;artifactId&gt;preconditions&lt;/artifactId&gt;\n        &lt;version&gt;1.25&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n        &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n        &lt;version&gt;1.8.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>System.out.println(\"Language: \" + new Locales().fromLcid(1033).getDisplayLanguage());\n</code></pre>\n\n<p>will print \"Language: English\".</p>\n\n<p>Meaning, LCID 1033 maps to the English language.</p>\n\n<p><strong>NOTE</strong>: This only generates mappings for locales available on your runtime JVM. Meaning, you will only get a subset of all possible Locales. That said, I don't think it is technically possible to instantiate Locales that your JVM doesn't support, so this is probably the best we can do...</p>\n"},{"tags":[],"owner":{"account_id":3464648,"reputation":1899,"user_id":2900590,"display_name":"frevd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607710185,"creation_date":1607710185,"answer_id":65256494,"question_id":1192361,"body_markdown":"Here is a script to paste into the F12 console and extract the mapping for the currently 273 languages to their lcid (to be used on https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-lcid/a9eac961-e77d-41a6-90a5-ce1a8b0cdb9c): \r\n\r\n```javascript\r\n// extract data from https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-lcid/a9eac961-e77d-41a6-90a5-ce1a8b0cdb9c\r\nconst locales = {}, dataTable = document.querySelector(&#39;div.table-scroll-wrapper:nth-of-type(2)&gt;table.protocol-table&#39;); \r\nfor (let i=1, l=dataTable.rows.length; i&lt;l; i++) {\r\n    const row = dataTable.rows[i]; \r\n    let locale = Number(row.cells[2].textContent.trim());  // hex to decimal\r\n    let name = row.cells[3].textContent.trim();  // cc-LL\r\n    if ((locale &gt; 1024) &amp;&amp; (name.indexOf(&#39;-&#39;) &gt; 0))  // only cc-LL (languages, not countries)\r\n        locales[locale] = name; \r\n} \r\nconsole.table(locales);  // 273 entries\r\n```\r\n","title":"How to convert Microsoft Locale ID (LCID) into language code or Locale object in Java","body":"<p>Here is a script to paste into the F12 console and extract the mapping for the currently 273 languages to their lcid (to be used on <a href=\"https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-lcid/a9eac961-e77d-41a6-90a5-ce1a8b0cdb9c\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-lcid/a9eac961-e77d-41a6-90a5-ce1a8b0cdb9c</a>):</p>\n<pre class=\"lang-js prettyprint-override\"><code>// extract data from https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-lcid/a9eac961-e77d-41a6-90a5-ce1a8b0cdb9c\nconst locales = {}, dataTable = document.querySelector('div.table-scroll-wrapper:nth-of-type(2)&gt;table.protocol-table'); \nfor (let i=1, l=dataTable.rows.length; i&lt;l; i++) {\n    const row = dataTable.rows[i]; \n    let locale = Number(row.cells[2].textContent.trim());  // hex to decimal\n    let name = row.cells[3].textContent.trim();  // cc-LL\n    if ((locale &gt; 1024) &amp;&amp; (name.indexOf('-') &gt; 0))  // only cc-LL (languages, not countries)\n        locales[locale] = name; \n} \nconsole.table(locales);  // 273 entries\n</code></pre>\n"},{"tags":[],"owner":{"account_id":135067,"reputation":9676,"user_id":337621,"accept_rate":70,"display_name":"G&#225;bor Lipt&#225;k"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679093519,"creation_date":1679093519,"answer_id":75772812,"question_id":1192361,"body_markdown":"It is easily possible with Apache POI using the [org.apache.poi.util.LocaleID][1] class. \r\n\r\nJava Locale to LCID:\r\n\r\n    LocaleID.lookupByLanguageTag(new Locale(&quot;en&quot;, &quot;US&quot;).toLanguageTag()).getLcid()\r\n\r\nLCID to Java Locale:\r\n\r\n    new Locale(LocaleID.lookupByLcid(1033).getLanguageTag())\r\n\r\n\r\n  [1]: https://poi.apache.org/apidocs/dev/org/apache/poi/util/LocaleID.html\r\n","title":"How to convert Microsoft Locale ID (LCID) into language code or Locale object in Java","body":"<p>It is easily possible with Apache POI using the <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/util/LocaleID.html\" rel=\"nofollow noreferrer\">org.apache.poi.util.LocaleID</a> class.</p>\n<p>Java Locale to LCID:</p>\n<pre><code>LocaleID.lookupByLanguageTag(new Locale(&quot;en&quot;, &quot;US&quot;).toLanguageTag()).getLcid()\n</code></pre>\n<p>LCID to Java Locale:</p>\n<pre><code>new Locale(LocaleID.lookupByLcid(1033).getLanguageTag())\n</code></pre>\n"}],"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34712,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":1192856,"answer_count":6,"score":11,"last_activity_date":1679093519,"creation_date":1248765590,"question_id":1192361,"body_markdown":"I need to translate a [Microsoft locale ID][1], such as 1033 (for US English), into either an [ISO 639 language code][2] or directly into a Java [Locale][3] instance. (Edit: or even simply into the &quot;Language - Country/Region&quot; in Microsoft&#39;s table.)\r\n\r\nIs this possible, and what&#39;s the easiest way? Preferably using only JDK standard libraries, of course, but if that&#39;s not possible, with a 3rd party library.\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/goglobal/bb964664.aspx\r\n  [2]: http://en.wikipedia.org/wiki/ISO_639\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/util/Locale.html","title":"How to convert Microsoft Locale ID (LCID) into language code or Locale object in Java","body":"<p>I need to translate a <a href=\"http://msdn.microsoft.com/en-us/goglobal/bb964664.aspx\" rel=\"noreferrer\">Microsoft locale ID</a>, such as 1033 (for US English), into either an <a href=\"http://en.wikipedia.org/wiki/ISO_639\" rel=\"noreferrer\">ISO 639 language code</a> or directly into a Java <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Locale.html\" rel=\"noreferrer\">Locale</a> instance. (Edit: or even simply into the \"Language - Country/Region\" in Microsoft's table.)</p>\n\n<p>Is this possible, and what's the easiest way? Preferably using only JDK standard libraries, of course, but if that's not possible, with a 3rd party library.</p>\n"},{"tags":["java","android","alarmmanager"],"answers":[{"tags":[],"owner":{"account_id":2528220,"reputation":43,"user_id":2197106,"display_name":"Code Rad Design"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1382476205,"creation_date":1382476205,"answer_id":19528417,"question_id":17893098,"body_markdown":"My guess is that you&#39;re using the same ID for your regular alarm.  In this line...\r\n\r\n&gt;PendingIntent pi = PendingIntent.getBroadcast(AlarmSnooze.this, **0**, intent, 0);\r\n\r\n...the first &quot;0&quot; in bold is the alarm ID.  If you&#39;re using &quot;0&quot; for your other alarm ID then your snooze code will overwrite that previous alarm.  Change the &quot;0&quot; to &quot;1&quot; (or any other unused value) for the snooze alarm and you should be fine!","title":"Snooze function in alarm android","body":"<p>My guess is that you're using the same ID for your regular alarm.  In this line...</p>\n\n<blockquote>\n  <p>PendingIntent pi = PendingIntent.getBroadcast(AlarmSnooze.this, <strong>0</strong>, intent, 0);</p>\n</blockquote>\n\n<p>...the first \"0\" in bold is the alarm ID.  If you're using \"0\" for your other alarm ID then your snooze code will overwrite that previous alarm.  Change the \"0\" to \"1\" (or any other unused value) for the snooze alarm and you should be fine!</p>\n"}],"owner":{"account_id":1550551,"reputation":5924,"user_id":1443051,"accept_rate":54,"display_name":"TheDevMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5490,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679092623,"creation_date":1374885583,"question_id":17893098,"body_markdown":"I have created multiple alarm app. This alarm triggers on time everything works fine. While saving alarm I have add, weekly, daily and once feature, user will be able to set alarm accordingly. \r\n\r\nOn alarm trigger. I have snooze and cancel.\r\n\r\nSnooze: I have added 10 minutes from current time to snooze\r\ncancel: Just finish() - so that it can trigger the next day or Next week (accordingly)\r\n\r\nWhen click on Snooze button all the alarm that I have set gets cancelled and only one get triggered after 10 minutes. This is something strange? Not sure where the problem is?\r\n\r\nHere is what I tried in my Snoozeactivity (which gets called from broadcast receiver)\r\n\r\nOnCreate of SnoozeActivity:\r\n\r\nI am getting hour, mins, am/pm and adding 10 mins to it and setting the alarm.\r\n\r\n\tif (ampm.equalsIgnoreCase(&quot;AM&quot;))\r\n\t  {\r\n\t    ampm = &quot;0&quot;;\r\n\t\t\t}\r\n\t else if (ampm.equalsIgnoreCase(&quot;PM&quot;))\r\n\t  {\r\n\t    ampm = &quot;1&quot;;\r\n\t\t}\r\n\t\t\tCalendar alarmCalendar = Calendar.getInstance();\r\n\t\t\talarmCalendar.set(Calendar.HOUR, Integer.valueOf(hours));\r\n\t\t\talarmCalendar.set(Calendar.MINUTE, Integer.valueOf(mins));\r\n\t\t\talarmCalendar.set(Calendar.SECOND, 0);\r\n\t\t\talarmCalendar.set(Calendar.AM_PM, Integer.valueOf(ampm));\r\n\r\n\t\t\tcurrenttime = alarmCalendar.getTimeInMillis() + 600000;\r\n\r\n\t\t\tAlarmManager am = (AlarmManager) getSystemService(Activity.ALARM_SERVICE);\r\n\r\n\t\t\tIntent intent = new Intent(SnoozeActivity.this, AlarmReciever.class);\r\n\t\t\tintent.putExtra(&quot;keyValue&quot;, key);\r\n\t\t\tPendingIntent pi = PendingIntent.getBroadcast(AlarmSnooze.this, 0, intent, 0);\r\n\t\t\tam.set(AlarmManager.RTC_WAKEUP, currenttime, pi); \r\n\t\t\tfinish();\r\n\r\nIs it because of PendingIntent (Flag?)","title":"Snooze function in alarm android","body":"<p>I have created multiple alarm app. This alarm triggers on time everything works fine. While saving alarm I have add, weekly, daily and once feature, user will be able to set alarm accordingly. </p>\n\n<p>On alarm trigger. I have snooze and cancel.</p>\n\n<p>Snooze: I have added 10 minutes from current time to snooze\ncancel: Just finish() - so that it can trigger the next day or Next week (accordingly)</p>\n\n<p>When click on Snooze button all the alarm that I have set gets cancelled and only one get triggered after 10 minutes. This is something strange? Not sure where the problem is?</p>\n\n<p>Here is what I tried in my Snoozeactivity (which gets called from broadcast receiver)</p>\n\n<p>OnCreate of SnoozeActivity:</p>\n\n<p>I am getting hour, mins, am/pm and adding 10 mins to it and setting the alarm.</p>\n\n<pre><code>if (ampm.equalsIgnoreCase(\"AM\"))\n  {\n    ampm = \"0\";\n        }\n else if (ampm.equalsIgnoreCase(\"PM\"))\n  {\n    ampm = \"1\";\n    }\n        Calendar alarmCalendar = Calendar.getInstance();\n        alarmCalendar.set(Calendar.HOUR, Integer.valueOf(hours));\n        alarmCalendar.set(Calendar.MINUTE, Integer.valueOf(mins));\n        alarmCalendar.set(Calendar.SECOND, 0);\n        alarmCalendar.set(Calendar.AM_PM, Integer.valueOf(ampm));\n\n        currenttime = alarmCalendar.getTimeInMillis() + 600000;\n\n        AlarmManager am = (AlarmManager) getSystemService(Activity.ALARM_SERVICE);\n\n        Intent intent = new Intent(SnoozeActivity.this, AlarmReciever.class);\n        intent.putExtra(\"keyValue\", key);\n        PendingIntent pi = PendingIntent.getBroadcast(AlarmSnooze.this, 0, intent, 0);\n        am.set(AlarmManager.RTC_WAKEUP, currenttime, pi); \n        finish();\n</code></pre>\n\n<p>Is it because of PendingIntent (Flag?)</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":2,"creation_date":1679065460,"post_id":75768835,"comment_id":133659355,"body_markdown":"minimum reproducable example?","body":"minimum reproducable example?"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1679078496,"post_id":75768835,"comment_id":133662703,"body_markdown":"Please [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.","body":"Please <a href=\"https://stackoverflow.com/posts/75768835/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."}],"answers":[{"tags":[],"owner":{"account_id":2297171,"reputation":341,"user_id":2018340,"display_name":"madhav-turangi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679092589,"creation_date":1679092589,"answer_id":75772736,"question_id":75768835,"body_markdown":"Your output depends on how you are generating the output. The `Document` object is an in memory representation of the XML document. Using JAXP API, you parsed the XML to create a `Document` object, then you iterated through the `Nodes` and modified your in memory `Elements` as per your requirement.\r\n\r\nThe output XML is a result of generating XML from your modified in memory `Document` object.\r\n\r\nThe missing part of generating output also has significant role on what you are seeing as output, because some aspects of output can be configured. Given you are dealing with JAXP API, this can be achieved by below code snippet. I put it as a method that prints the XML output to console, but this can be adapted as required. This did not generate `xmlns` attribute.  \r\n\r\nI have tested your code by printing the output using below method, and it did not have `xmlns` attributes in the output.\r\n\r\n```\r\n    static void printDoc(Document doc)  throws  Exception{\r\n        Transformer transformer = TransformerFactory.newInstance().newTransformer();\r\n        transformer.setOutputProperty(OutputKeys.ENCODING, &quot;UTF-8&quot;);\r\n        transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\r\n        transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n\r\n        Writer out = new StringWriter();\r\n        transformer.transform(new DOMSource(doc), new StreamResult(out));\r\n\r\n        System.out.println(out.toString());\r\n    }\r\n```\r\n\r\nHaving said this, I recommend you to use `XSLT` for your use case, if it is a project, that does not mandate you to use `Document` object to perform your transformations. May be you have to learn `XSLT`, but this is a correct tool for what you are trying to achieve. You can find lot of help on internet to get started and work your way through using XSLT.\r\n\r\nHere is an example of how to put your transformations into XSLT. This has a few elements mapped (or transformed), but you can expand on this as you wish.\r\n\r\n```\r\n&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:xsL=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n    &lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot; omit-xml-declaration=&quot;yes&quot;/&gt;\r\n\r\n    &lt;!-- This is called an identity template, which means it copies all XML elements and attributes as it is into output XML --&gt;\r\n    &lt;xsl:template match=&quot;node()|@*&quot;&gt;\r\n        &lt;xsl:copy&gt;\r\n            &lt;xsl:apply-templates select=&quot;node()|@*&quot;/&gt;\r\n        &lt;/xsl:copy&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\n    &lt;xsl:template match=&quot;title&quot;&gt;\r\n        &lt;xsl:copy&gt;\r\n            &lt;xsl:text&gt;Discard Medication Dispensed&lt;/xsl:text&gt;\r\n        &lt;/xsl:copy&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\n    &lt;xsl:template match=&quot;code/@code&quot;&gt;\r\n        &lt;xsl:attribute name=&quot;{name()}&quot;&gt;\r\n            &lt;xsl:value-of select=&quot;concat(&#39;DISAORD-&#39;, .)&quot;/&gt;\r\n        &lt;/xsl:attribute&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\n    &lt;xsl:template match=&quot;code/@displayName&quot;&gt;\r\n        &lt;xsl:attribute name=&quot;{name()}&quot;&gt;\r\n            &lt;xsl:text&gt;Discard Medication Dispensed&lt;/xsl:text&gt;\r\n        &lt;/xsl:attribute&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\nAs you can see the transformations are defined as templates for matching nodes and attributes. The `match` attribute of the `template` defines, to what elements of the input XML this transformation will be applied to. \r\n\r\nFew basic things to understand here, are how to refer to a node or XML element and how to refer to an attribute and so on (what else you have for so on? well you can even refer to comment in the input XML, but don&#39;t worry too much about it for now).\r\n\r\nThe first template (called identity template) says for any `node()` or attribute referred as `@*`, copy that element and apply other matching templates for the child elements. If no other templates are defined then this template works as a recursion template (conceptually to understand), ultimately copying all input to output as it is, that is why the name `identity template`. \r\n\r\nBut, if you define other templates that match the particular elements in your input XML, then they take precedence, therefore you can tell what transformation to apply on that particular matching elements. This is where next simple templates come in. \r\n\r\n```\r\n    &lt;xsl:template match=&quot;title&quot;&gt;\r\n        &lt;xsl:copy&gt;\r\n            &lt;xsl:text&gt;Discard Medication Dispensed&lt;/xsl:text&gt;\r\n        &lt;/xsl:copy&gt;\r\n    &lt;/xsl:template&gt;\r\n```\r\nmatches the `title` node or XML element in your input document, and transformation is,\r\n- copy the element name \r\n- but change the text to `Discard Medication Dispensed`\r\n\r\nNext template with a little variation is \r\n```\r\n    &lt;xsl:template match=&quot;code/@code&quot;&gt;\r\n        &lt;xsl:attribute name=&quot;{name()}&quot;&gt;\r\n            &lt;xsl:value-of select=&quot;concat(&#39;DISAORD-&#39;, .)&quot;/&gt;\r\n        &lt;/xsl:attribute&gt;\r\n    &lt;/xsl:template&gt;\r\n```\r\n\r\nThis will match for an attribute `code` of node `code` (basically `&lt;code code=&#39;60593-1&#39; ....&gt;`. The transformation as defined inside the template will be applied. Based on what you have done in your `Document` object manipulation, this has been effectively prepended with `DISCARD-`. So I used the `concat` function. So this template says to \r\n- copy the name of attribute as it is (`{name()}`, here refers to attribute name)\r\n- concatenate `DISCARD-` and the value in input (referred by `.`)\r\n\r\nSimilarly the next template `&lt;xsl:template match=&quot;code/@displayName&quot;&gt;` , defining transformation of same `code` node, but for `displayName` attribute.\r\n\r\nOne important point is, the `XPath` value of `match` applies to all elements that matches in the XML. For example, the template `&lt;xsl:template match=&quot;title&quot;&gt;` applies to any XML element `title` anywhere in the XML in the hierarchy. Because in your specific input XML, it only occurs once and as a child of root element `ClinicalDocument`, it works as expected here. In case, if you have `title` in another part of the input XML, then this template will be applied that `title` also. In such cases, if this is not intended, then frame your XPath accordingly to refer to specific element, for example include `parent/title`, so this refers to `title` child under `parent` element. Depending upon input XML structure, this can be simple or complex. This complexity comes with input XML structure, not because of using XSLT. \r\n\r\nYou might have understood by now, that XML elements are referred just by there name `&lt;code ....&gt;` as `code` and attributes by prefix of `@` like `@displayName`. The slashes are used similar to file paths on disk. In XML world it is called `XPath`. If you can grasp the hierarchical structure or  parent-child structure of the XML document elements (I mean node, attribute, text, etc.), then defined path to specific parts in input XML as XPath.\r\n\r\nBased on you have dealt with navigating through `Document` object using `Element` `Attribute`, etc at Java code level, I guess you can mentally map XML as hierarchical structure. Referring to parts of you XML in `XPath` should not be that difficult.\r\n\r\n\r\n#### How is this XSLT plugged in into the code: ####  \r\nVery simple, mostly the same steps as in the `printDoc` method, but the transformer is created with our XSLT, instead of empty transformer (by empty, I mean `TransformerFactory.newInstance().newTransformer()`, with no argument to `newTransformer` method). \r\nSo, this will change to `TransformerFactory.newInstance().newTransformer(new StreamSource(new File(&quot;path/to/xslt/file/dir/my-clinical-transformer.xslt&quot;)));`, assuming the XSLT is a separate file containing above template defintions. `StreamSource` has different constructors that take different types of arguments. You can work out how to use them if need to use different approach. \r\n\r\nIn a nutshell, you can replace your transformation Java code with below method call.\r\n\r\n```\r\nstatic void xsltTrans(Document doc)  throws  Exception{\r\n        Transformer transformer = TransformerFactory.newInstance().newTransformer(new StreamSource(new File(&quot;src/com/mad/test/xml/trans.xslt&quot;)));\r\n\r\n        Writer out = new StringWriter();\r\n        transformer.transform(new DOMSource(doc), new StreamResult(out));\r\n\r\n        System.out.println(out.toString());\r\n    }\r\n```\r\n\r\nThe `doc` argument is the `Document` object created by parsing your input XML using `DocumentBuilder`. \r\nIf you have observed, the output properties of transformer are removed in Java code, as they are specified in the XSLT as `&lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot; omit-xml-declaration=&quot;yes&quot;/&gt;`.\r\n\r\nJust for information, the `xmlns` represents namespaces in the world of XML, somewhat like packages in Java. I guess you are not worried about that, as you wanted to eliminate `xmlns`, and that is OK.\r\n\r\nI hope this helps!   \r\n","title":"When I edit an xml in Java, the updated xml contains xmlns=&quot;&quot;","body":"<p>Your output depends on how you are generating the output. The <code>Document</code> object is an in memory representation of the XML document. Using JAXP API, you parsed the XML to create a <code>Document</code> object, then you iterated through the <code>Nodes</code> and modified your in memory <code>Elements</code> as per your requirement.</p>\n<p>The output XML is a result of generating XML from your modified in memory <code>Document</code> object.</p>\n<p>The missing part of generating output also has significant role on what you are seeing as output, because some aspects of output can be configured. Given you are dealing with JAXP API, this can be achieved by below code snippet. I put it as a method that prints the XML output to console, but this can be adapted as required. This did not generate <code>xmlns</code> attribute.</p>\n<p>I have tested your code by printing the output using below method, and it did not have <code>xmlns</code> attributes in the output.</p>\n<pre><code>    static void printDoc(Document doc)  throws  Exception{\n        Transformer transformer = TransformerFactory.newInstance().newTransformer();\n        transformer.setOutputProperty(OutputKeys.ENCODING, &quot;UTF-8&quot;);\n        transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\n        transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n\n        Writer out = new StringWriter();\n        transformer.transform(new DOMSource(doc), new StreamResult(out));\n\n        System.out.println(out.toString());\n    }\n</code></pre>\n<p>Having said this, I recommend you to use <code>XSLT</code> for your use case, if it is a project, that does not mandate you to use <code>Document</code> object to perform your transformations. May be you have to learn <code>XSLT</code>, but this is a correct tool for what you are trying to achieve. You can find lot of help on internet to get started and work your way through using XSLT.</p>\n<p>Here is an example of how to put your transformations into XSLT. This has a few elements mapped (or transformed), but you can expand on this as you wish.</p>\n<pre><code>&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:xsL=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n    &lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot; omit-xml-declaration=&quot;yes&quot;/&gt;\n\n    &lt;!-- This is called an identity template, which means it copies all XML elements and attributes as it is into output XML --&gt;\n    &lt;xsl:template match=&quot;node()|@*&quot;&gt;\n        &lt;xsl:copy&gt;\n            &lt;xsl:apply-templates select=&quot;node()|@*&quot;/&gt;\n        &lt;/xsl:copy&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;xsl:template match=&quot;title&quot;&gt;\n        &lt;xsl:copy&gt;\n            &lt;xsl:text&gt;Discard Medication Dispensed&lt;/xsl:text&gt;\n        &lt;/xsl:copy&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;xsl:template match=&quot;code/@code&quot;&gt;\n        &lt;xsl:attribute name=&quot;{name()}&quot;&gt;\n            &lt;xsl:value-of select=&quot;concat('DISAORD-', .)&quot;/&gt;\n        &lt;/xsl:attribute&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;xsl:template match=&quot;code/@displayName&quot;&gt;\n        &lt;xsl:attribute name=&quot;{name()}&quot;&gt;\n            &lt;xsl:text&gt;Discard Medication Dispensed&lt;/xsl:text&gt;\n        &lt;/xsl:attribute&gt;\n    &lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>As you can see the transformations are defined as templates for matching nodes and attributes. The <code>match</code> attribute of the <code>template</code> defines, to what elements of the input XML this transformation will be applied to.</p>\n<p>Few basic things to understand here, are how to refer to a node or XML element and how to refer to an attribute and so on (what else you have for so on? well you can even refer to comment in the input XML, but don't worry too much about it for now).</p>\n<p>The first template (called identity template) says for any <code>node()</code> or attribute referred as <code>@*</code>, copy that element and apply other matching templates for the child elements. If no other templates are defined then this template works as a recursion template (conceptually to understand), ultimately copying all input to output as it is, that is why the name <code>identity template</code>.</p>\n<p>But, if you define other templates that match the particular elements in your input XML, then they take precedence, therefore you can tell what transformation to apply on that particular matching elements. This is where next simple templates come in.</p>\n<pre><code>    &lt;xsl:template match=&quot;title&quot;&gt;\n        &lt;xsl:copy&gt;\n            &lt;xsl:text&gt;Discard Medication Dispensed&lt;/xsl:text&gt;\n        &lt;/xsl:copy&gt;\n    &lt;/xsl:template&gt;\n</code></pre>\n<p>matches the <code>title</code> node or XML element in your input document, and transformation is,</p>\n<ul>\n<li>copy the element name</li>\n<li>but change the text to <code>Discard Medication Dispensed</code></li>\n</ul>\n<p>Next template with a little variation is</p>\n<pre><code>    &lt;xsl:template match=&quot;code/@code&quot;&gt;\n        &lt;xsl:attribute name=&quot;{name()}&quot;&gt;\n            &lt;xsl:value-of select=&quot;concat('DISAORD-', .)&quot;/&gt;\n        &lt;/xsl:attribute&gt;\n    &lt;/xsl:template&gt;\n</code></pre>\n<p>This will match for an attribute <code>code</code> of node <code>code</code> (basically <code>&lt;code code='60593-1' ....&gt;</code>. The transformation as defined inside the template will be applied. Based on what you have done in your <code>Document</code> object manipulation, this has been effectively prepended with <code>DISCARD-</code>. So I used the <code>concat</code> function. So this template says to</p>\n<ul>\n<li>copy the name of attribute as it is (<code>{name()}</code>, here refers to attribute name)</li>\n<li>concatenate <code>DISCARD-</code> and the value in input (referred by <code>.</code>)</li>\n</ul>\n<p>Similarly the next template <code>&lt;xsl:template match=&quot;code/@displayName&quot;&gt;</code> , defining transformation of same <code>code</code> node, but for <code>displayName</code> attribute.</p>\n<p>One important point is, the <code>XPath</code> value of <code>match</code> applies to all elements that matches in the XML. For example, the template <code>&lt;xsl:template match=&quot;title&quot;&gt;</code> applies to any XML element <code>title</code> anywhere in the XML in the hierarchy. Because in your specific input XML, it only occurs once and as a child of root element <code>ClinicalDocument</code>, it works as expected here. In case, if you have <code>title</code> in another part of the input XML, then this template will be applied that <code>title</code> also. In such cases, if this is not intended, then frame your XPath accordingly to refer to specific element, for example include <code>parent/title</code>, so this refers to <code>title</code> child under <code>parent</code> element. Depending upon input XML structure, this can be simple or complex. This complexity comes with input XML structure, not because of using XSLT.</p>\n<p>You might have understood by now, that XML elements are referred just by there name <code>&lt;code ....&gt;</code> as <code>code</code> and attributes by prefix of <code>@</code> like <code>@displayName</code>. The slashes are used similar to file paths on disk. In XML world it is called <code>XPath</code>. If you can grasp the hierarchical structure or  parent-child structure of the XML document elements (I mean node, attribute, text, etc.), then defined path to specific parts in input XML as XPath.</p>\n<p>Based on you have dealt with navigating through <code>Document</code> object using <code>Element</code> <code>Attribute</code>, etc at Java code level, I guess you can mentally map XML as hierarchical structure. Referring to parts of you XML in <code>XPath</code> should not be that difficult.</p>\n<h4>How is this XSLT plugged in into the code:</h4>\n<p>Very simple, mostly the same steps as in the <code>printDoc</code> method, but the transformer is created with our XSLT, instead of empty transformer (by empty, I mean <code>TransformerFactory.newInstance().newTransformer()</code>, with no argument to <code>newTransformer</code> method).\nSo, this will change to <code>TransformerFactory.newInstance().newTransformer(new StreamSource(new File(&quot;path/to/xslt/file/dir/my-clinical-transformer.xslt&quot;)));</code>, assuming the XSLT is a separate file containing above template defintions. <code>StreamSource</code> has different constructors that take different types of arguments. You can work out how to use them if need to use different approach.</p>\n<p>In a nutshell, you can replace your transformation Java code with below method call.</p>\n<pre><code>static void xsltTrans(Document doc)  throws  Exception{\n        Transformer transformer = TransformerFactory.newInstance().newTransformer(new StreamSource(new File(&quot;src/com/mad/test/xml/trans.xslt&quot;)));\n\n        Writer out = new StringWriter();\n        transformer.transform(new DOMSource(doc), new StreamResult(out));\n\n        System.out.println(out.toString());\n    }\n</code></pre>\n<p>The <code>doc</code> argument is the <code>Document</code> object created by parsing your input XML using <code>DocumentBuilder</code>.\nIf you have observed, the output properties of transformer are removed in Java code, as they are specified in the XSLT as <code>&lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot; omit-xml-declaration=&quot;yes&quot;/&gt;</code>.</p>\n<p>Just for information, the <code>xmlns</code> represents namespaces in the world of XML, somewhat like packages in Java. I guess you are not worried about that, as you wanted to eliminate <code>xmlns</code>, and that is OK.</p>\n<p>I hope this helps!</p>\n"}],"owner":{"account_id":1488087,"reputation":4476,"user_id":1395874,"accept_rate":85,"display_name":"zinon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679092589,"creation_date":1679063520,"question_id":75768835,"body_markdown":"I have an xml file where I need to edit the values for some attributes. When I remove attributes and add again the same attributes using new values, the result \r\ncontains `xmlns=&quot;&quot;`. \r\n\r\nInitial xml:\r\n\r\n    &lt;ClinicalDocument xmlns=&quot;urn:hl7-org:v3&quot; classCode=&quot;DOCCLIN&quot; moodCode=&quot;EVN&quot; xmlns:pharm=&quot;urn:hl7-org:pharm&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    \t&lt;realmCode code=&quot;CY&quot;/&gt;\r\n    \t&lt;typeId extension=&quot;POCD_HD000040&quot; root=&quot;2.16.840.1.113883.1.3&quot;/&gt;\r\n    \t&lt;templateId root=&quot;1.3.6.1.4.1.12559.11.10.1.3.1.1.2&quot;/&gt;\r\n    \t&lt;templateId root=&quot;1.3.6.1.4.1.19376.1.5.3.1.1.1&quot;/&gt;\r\n    \t&lt;id extension=&quot;1.2.3.4.5.6&quot; root=&quot;2.16.840.1.113883.3.9143.3.1.3&quot;/&gt;\r\n    \t&lt;code code=&quot;60593-1&quot; codeSystem=&quot;2.16.840.1.113883.6.1&quot; codeSystemName=&quot;LOINC&quot; codeSystemVersion=&quot;2.59&quot; displayName=&quot;Medication dispensed.extended Document&quot;&gt;\r\n    \t\t&lt;translation code=&quot;60593-1&quot; codeSystem=&quot;2.16.840.1.113883.6.1&quot; codeSystemName=&quot;LOINC&quot; displayName=&quot;eDispensation&quot;/&gt;\r\n    \t&lt;/code&gt;\r\n    \t&lt;title&gt;Medication dispensed&lt;/title&gt;\r\n    \t&lt;effectiveTime value=&quot;20221130152655+0000&quot;/&gt;\r\n    \t&lt;confidentialityCode code=&quot;N&quot; codeSystem=&quot;2.16.840.1.113883.5.25&quot; codeSystemName=&quot;Confidentiality&quot; codeSystemVersion=&quot;913-20091020&quot; displayName=&quot;normal&quot;/&gt;\r\n    \t&lt;languageCode code=&quot;en-GB&quot;/&gt;\r\n    \t&lt;setId extension=&quot;22015711.1&quot; root=&quot;2.16.840.1.113883.3.9143.3.1.3&quot;/&gt;\r\n    \t&lt;recordTarget&gt;\r\n    \t\t&lt;patientRole classCode=&quot;PAT&quot;&gt;\r\n    \t\t\t&lt;id extension=&quot;x1x2x2&quot; root=&quot;2.16.840.1.113883.2.25.3.4.1.1.2&quot;/&gt;\r\n    \t\t\t&lt;addr&gt;\r\n    \t\t\t\t&lt;country&gt;GR&lt;/country&gt;\r\n    \t\t\t\t&lt;streetAddressLine&gt; 10&lt;/streetAddressLine&gt;\r\n    \t\t\t&lt;/addr&gt;\r\n    \t\t\t&lt;telecom use=&quot;H&quot; value=&quot;tel:12344&quot;/&gt;\r\n    \t\t\t&lt;patient&gt;\r\n    \t\t\t\t&lt;name&gt;\r\n    \t\t\t\t\t&lt;given&gt;MARINA&lt;/given&gt;\r\n    \t\t\t\t\t&lt;family&gt;FILIP&lt;/family&gt;\r\n    \t\t\t\t&lt;/name&gt;\r\n    \t\t\t\t&lt;administrativeGenderCode code=&quot;F&quot; codeSystem=&quot;2.16.840.1.113883.5.1&quot; codeSystemName=&quot;AdministrativeGender&quot; codeSystemVersion=&quot;913-20091020&quot; displayName=&quot;Female&quot;/&gt;\r\n    \t\t\t\t&lt;birthTime value=&quot;20150101&quot;/&gt;\r\n    \t\t\t\t&lt;languageCommunication&gt;\r\n    \t\t\t\t\t&lt;templateId root=&quot;1.3.6.1.4.1.19376.1.5.3.1.2.1&quot;/&gt;\r\n    \t\t\t\t\t&lt;languageCode code=&quot;en-GB&quot;/&gt;\r\n    \t\t\t\t&lt;/languageCommunication&gt;\r\n    \t\t\t&lt;/patient&gt;\r\n    \t\t&lt;/patientRole&gt;\r\n    \t&lt;/recordTarget&gt;\r\n    &lt;/ClinicalDocument&gt;\r\n\r\n\r\nCode:\r\n\r\n    String eD = &quot;previous_xml_value&quot;.\r\n    \t\t\t\t\r\n    DocumentBuilder db = null;\r\n    try {\r\n    \tdb = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n    } catch (ParserConfigurationException e1) {\r\n    \t// TODO Auto-generated catch block\r\n    \te1.printStackTrace();\r\n    }\r\n    InputSource is = new InputSource();\r\n    is.setCharacterStream(new StringReader(eD));\r\n    \r\n    Document doc = null;\r\n    try {\r\n    \tdoc = db.parse(is);\r\n    } catch (SAXException e1) {\r\n    \t// TODO Auto-generated catch block\r\n    \te1.printStackTrace();\r\n    }\r\n    \r\n    \r\n    // Change info from eD to create eD discard\r\n    NodeList node_to_change_code_id_title = doc.getElementsByTagName(&quot;ClinicalDocument&quot;);\r\n    Element element_to_change_code_id_title = null;\r\n    NodeList eD_id_to_set_eD_id = null;\r\n    Element eD_id_extension = null;\r\n    \r\n    NodeList eD_id_to_set_eD_code = null;\r\n    Element eD_set_code = null;\r\n    NodeList eD_id_to_set_eD_title = null;\r\n    Element eD_set_title = null;\r\n    \r\n    if (node_to_change_code_id_title.getLength()&gt; 0) {\r\n    \telement_to_change_code_id_title = (Element) node_to_change_code_id_title.item(0);\r\n    \t\r\n    \teD_id_to_set_eD_id = element_to_change_code_id_title.getElementsByTagName(&quot;id&quot;);\r\n    \teD_id_extension = (Element) eD_id_to_set_eD_id.item(0);\r\n    \teD_id_extension.removeAttribute(&quot;extension&quot;);\r\n    \teD_id_extension.setAttribute(&quot;extension&quot;, discard_eD_id_full);\r\n    \t\r\n    \teD_id_to_set_eD_code = element_to_change_code_id_title.getElementsByTagName(&quot;code&quot;);\r\n    \teD_set_code = (Element) eD_id_to_set_eD_code.item(0);\r\n    \teD_set_code.setAttribute(&quot;xmlns&quot;, &quot;urn:hl7-org:v3&quot;);\r\n    \teD_set_code.removeAttribute(&quot;code&quot;);\r\n    \teD_set_code.setAttribute(&quot;code&quot;, &quot;DISCARD-60593-1&quot;);\r\n    \teD_set_code.removeAttribute(&quot;codeSystem&quot;);\r\n    \teD_set_code.setAttribute(&quot;codeSystem&quot;, &quot;2.16.840.1.113883.6.1&quot;);\r\n    \teD_set_code.removeAttribute(&quot;codeSystemName&quot;);\r\n    \teD_set_code.setAttribute(&quot;codeSystemName&quot;, &quot;LOINC&quot;);\r\n    \teD_set_code.removeAttribute(&quot;displayName&quot;);\r\n    \teD_set_code.setAttribute(&quot;displayName&quot;, &quot;Discard Medication Dispensed&quot;);\r\n    \t\r\n    \teD_id_to_set_eD_title = element_to_change_code_id_title.getElementsByTagName(&quot;title&quot;);\r\n    \teD_set_title = (Element) eD_id_to_set_eD_title.item(0);\r\n    \teD_set_title.setTextContent(&quot;Discard Medication Dispensed&quot;);\r\n    }\r\n\r\nThis is the result:\r\n\r\n    &lt;ClinicalDocument xmlns=&quot;urn:hl7-org:v3&quot; xmlns:pharm=&quot;urn:hl7-org:pharm&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; classCode=&quot;DOCCLIN&quot; moodCode=&quot;EVN&quot;&gt;\r\n    \t&lt;realmCode xmlns=&quot;&quot; code=&quot;CY&quot;/&gt;\r\n    \t&lt;typeId xmlns=&quot;&quot; extension=&quot;POCD_HD000040&quot; root=&quot;2.16.840.1.113883.1.3&quot;/&gt;\r\n    \t&lt;templateId xmlns=&quot;&quot; root=&quot;1.3.6.1.4.1.12559.11.10.1.3.1.1.2&quot;/&gt;\r\n    \t&lt;templateId xmlns=&quot;&quot; root=&quot;1.3.6.1.4.1.19376.1.5.3.1.1.1&quot;/&gt;\r\n    \t&lt;id extension=&quot;eDDiscId.CY202303170000002&quot; root=&quot;2.16.840.1.113883.3.9143.3.1.3&quot;/&gt;\r\n    \t&lt;code code=&quot;DISCARD-60593-1&quot; codeSystem=&quot;2.16.840.1.113883.6.1&quot; codeSystemName=&quot;LOINC&quot; codeSystemVersion=&quot;2.59&quot; displayName=&quot;Discard Medication Dispensed&quot;&gt;\r\n    \t\t&lt;translation xmlns=&quot;&quot; code=&quot;60593-1&quot; codeSystem=&quot;2.16.840.1.113883.6.1&quot; codeSystemName=&quot;LOINC&quot; displayName=&quot;eDispensation&quot;/&gt;\r\n    \t&lt;/code&gt;\r\n    \t&lt;title xmlns=&quot;&quot;&gt;Discard Medication Dispensed&lt;/title&gt;\r\n    \t&lt;effectiveTime xmlns=&quot;&quot; value=&quot;20221130152655+0000&quot;/&gt;\r\n    \t&lt;confidentialityCode xmlns=&quot;&quot; code=&quot;N&quot; codeSystem=&quot;2.16.840.1.113883.5.25&quot; codeSystemName=&quot;Confidentiality&quot; codeSystemVersion=&quot;913-20091020&quot; displayName=&quot;normal&quot;/&gt;\r\n    \t&lt;languageCode xmlns=&quot;&quot; code=&quot;en-GB&quot;/&gt;\r\n    \t&lt;setId xmlns=&quot;&quot; extension=&quot;22015711.1&quot; root=&quot;2.16.840.1.113883.3.9143.3.1.3&quot;/&gt;\r\n    \t&lt;recordTarget xmlns=&quot;&quot;&gt;\r\n    \t\t&lt;patientRole classCode=&quot;PAT&quot;&gt;\r\n    \t\t\t&lt;id extension=&quot;x1x2x2&quot; root=&quot;2.16.840.1.113883.2.25.3.4.1.1.2&quot;/&gt;\r\n    \t\t\t&lt;addr&gt;\r\n    \t\t\t\t&lt;country&gt;GR&lt;/country&gt;\r\n    \t\t\t\t&lt;streetAddressLine&gt; 10&lt;/streetAddressLine&gt;\r\n    \t\t\t&lt;/addr&gt;\r\n    \t\t\t&lt;telecom use=&quot;H&quot; value=&quot;tel:12344&quot;/&gt;\r\n    \t\t\t&lt;patient&gt;\r\n    \t\t\t\t&lt;name&gt;\r\n    \t\t\t\t\t&lt;given&gt;MARINA&lt;/given&gt;\r\n    \t\t\t\t\t&lt;family&gt;FILIP&lt;/family&gt;\r\n    \t\t\t\t&lt;/name&gt;\r\n    \t\t\t\t&lt;administrativeGenderCode code=&quot;F&quot; codeSystem=&quot;2.16.840.1.113883.5.1&quot; codeSystemName=&quot;AdministrativeGender&quot; codeSystemVersion=&quot;913-20091020&quot; displayName=&quot;Female&quot;/&gt;\r\n    \t\t\t\t&lt;birthTime value=&quot;20150101&quot;/&gt;\r\n    \t\t\t\t&lt;languageCommunication&gt;\r\n    \t\t\t\t\t&lt;templateId root=&quot;1.3.6.1.4.1.19376.1.5.3.1.2.1&quot;/&gt;\r\n    \t\t\t\t\t&lt;languageCode code=&quot;en-GB&quot;/&gt;\r\n    \t\t\t\t&lt;/languageCommunication&gt;\r\n    \t\t\t&lt;/patient&gt;\r\n    \t\t&lt;/patientRole&gt;\r\n    \t&lt;/recordTarget&gt;\r\n    &lt;/ClinicalDocument&gt;\r\n\r\n","title":"When I edit an xml in Java, the updated xml contains xmlns=&quot;&quot;","body":"<p>I have an xml file where I need to edit the values for some attributes. When I remove attributes and add again the same attributes using new values, the result\ncontains <code>xmlns=&quot;&quot;</code>.</p>\n<p>Initial xml:</p>\n<pre><code>&lt;ClinicalDocument xmlns=&quot;urn:hl7-org:v3&quot; classCode=&quot;DOCCLIN&quot; moodCode=&quot;EVN&quot; xmlns:pharm=&quot;urn:hl7-org:pharm&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n    &lt;realmCode code=&quot;CY&quot;/&gt;\n    &lt;typeId extension=&quot;POCD_HD000040&quot; root=&quot;2.16.840.1.113883.1.3&quot;/&gt;\n    &lt;templateId root=&quot;1.3.6.1.4.1.12559.11.10.1.3.1.1.2&quot;/&gt;\n    &lt;templateId root=&quot;1.3.6.1.4.1.19376.1.5.3.1.1.1&quot;/&gt;\n    &lt;id extension=&quot;1.2.3.4.5.6&quot; root=&quot;2.16.840.1.113883.3.9143.3.1.3&quot;/&gt;\n    &lt;code code=&quot;60593-1&quot; codeSystem=&quot;2.16.840.1.113883.6.1&quot; codeSystemName=&quot;LOINC&quot; codeSystemVersion=&quot;2.59&quot; displayName=&quot;Medication dispensed.extended Document&quot;&gt;\n        &lt;translation code=&quot;60593-1&quot; codeSystem=&quot;2.16.840.1.113883.6.1&quot; codeSystemName=&quot;LOINC&quot; displayName=&quot;eDispensation&quot;/&gt;\n    &lt;/code&gt;\n    &lt;title&gt;Medication dispensed&lt;/title&gt;\n    &lt;effectiveTime value=&quot;20221130152655+0000&quot;/&gt;\n    &lt;confidentialityCode code=&quot;N&quot; codeSystem=&quot;2.16.840.1.113883.5.25&quot; codeSystemName=&quot;Confidentiality&quot; codeSystemVersion=&quot;913-20091020&quot; displayName=&quot;normal&quot;/&gt;\n    &lt;languageCode code=&quot;en-GB&quot;/&gt;\n    &lt;setId extension=&quot;22015711.1&quot; root=&quot;2.16.840.1.113883.3.9143.3.1.3&quot;/&gt;\n    &lt;recordTarget&gt;\n        &lt;patientRole classCode=&quot;PAT&quot;&gt;\n            &lt;id extension=&quot;x1x2x2&quot; root=&quot;2.16.840.1.113883.2.25.3.4.1.1.2&quot;/&gt;\n            &lt;addr&gt;\n                &lt;country&gt;GR&lt;/country&gt;\n                &lt;streetAddressLine&gt; 10&lt;/streetAddressLine&gt;\n            &lt;/addr&gt;\n            &lt;telecom use=&quot;H&quot; value=&quot;tel:12344&quot;/&gt;\n            &lt;patient&gt;\n                &lt;name&gt;\n                    &lt;given&gt;MARINA&lt;/given&gt;\n                    &lt;family&gt;FILIP&lt;/family&gt;\n                &lt;/name&gt;\n                &lt;administrativeGenderCode code=&quot;F&quot; codeSystem=&quot;2.16.840.1.113883.5.1&quot; codeSystemName=&quot;AdministrativeGender&quot; codeSystemVersion=&quot;913-20091020&quot; displayName=&quot;Female&quot;/&gt;\n                &lt;birthTime value=&quot;20150101&quot;/&gt;\n                &lt;languageCommunication&gt;\n                    &lt;templateId root=&quot;1.3.6.1.4.1.19376.1.5.3.1.2.1&quot;/&gt;\n                    &lt;languageCode code=&quot;en-GB&quot;/&gt;\n                &lt;/languageCommunication&gt;\n            &lt;/patient&gt;\n        &lt;/patientRole&gt;\n    &lt;/recordTarget&gt;\n&lt;/ClinicalDocument&gt;\n</code></pre>\n<p>Code:</p>\n<pre><code>String eD = &quot;previous_xml_value&quot;.\n                \nDocumentBuilder db = null;\ntry {\n    db = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n} catch (ParserConfigurationException e1) {\n    // TODO Auto-generated catch block\n    e1.printStackTrace();\n}\nInputSource is = new InputSource();\nis.setCharacterStream(new StringReader(eD));\n\nDocument doc = null;\ntry {\n    doc = db.parse(is);\n} catch (SAXException e1) {\n    // TODO Auto-generated catch block\n    e1.printStackTrace();\n}\n\n\n// Change info from eD to create eD discard\nNodeList node_to_change_code_id_title = doc.getElementsByTagName(&quot;ClinicalDocument&quot;);\nElement element_to_change_code_id_title = null;\nNodeList eD_id_to_set_eD_id = null;\nElement eD_id_extension = null;\n\nNodeList eD_id_to_set_eD_code = null;\nElement eD_set_code = null;\nNodeList eD_id_to_set_eD_title = null;\nElement eD_set_title = null;\n\nif (node_to_change_code_id_title.getLength()&gt; 0) {\n    element_to_change_code_id_title = (Element) node_to_change_code_id_title.item(0);\n    \n    eD_id_to_set_eD_id = element_to_change_code_id_title.getElementsByTagName(&quot;id&quot;);\n    eD_id_extension = (Element) eD_id_to_set_eD_id.item(0);\n    eD_id_extension.removeAttribute(&quot;extension&quot;);\n    eD_id_extension.setAttribute(&quot;extension&quot;, discard_eD_id_full);\n    \n    eD_id_to_set_eD_code = element_to_change_code_id_title.getElementsByTagName(&quot;code&quot;);\n    eD_set_code = (Element) eD_id_to_set_eD_code.item(0);\n    eD_set_code.setAttribute(&quot;xmlns&quot;, &quot;urn:hl7-org:v3&quot;);\n    eD_set_code.removeAttribute(&quot;code&quot;);\n    eD_set_code.setAttribute(&quot;code&quot;, &quot;DISCARD-60593-1&quot;);\n    eD_set_code.removeAttribute(&quot;codeSystem&quot;);\n    eD_set_code.setAttribute(&quot;codeSystem&quot;, &quot;2.16.840.1.113883.6.1&quot;);\n    eD_set_code.removeAttribute(&quot;codeSystemName&quot;);\n    eD_set_code.setAttribute(&quot;codeSystemName&quot;, &quot;LOINC&quot;);\n    eD_set_code.removeAttribute(&quot;displayName&quot;);\n    eD_set_code.setAttribute(&quot;displayName&quot;, &quot;Discard Medication Dispensed&quot;);\n    \n    eD_id_to_set_eD_title = element_to_change_code_id_title.getElementsByTagName(&quot;title&quot;);\n    eD_set_title = (Element) eD_id_to_set_eD_title.item(0);\n    eD_set_title.setTextContent(&quot;Discard Medication Dispensed&quot;);\n}\n</code></pre>\n<p>This is the result:</p>\n<pre><code>&lt;ClinicalDocument xmlns=&quot;urn:hl7-org:v3&quot; xmlns:pharm=&quot;urn:hl7-org:pharm&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; classCode=&quot;DOCCLIN&quot; moodCode=&quot;EVN&quot;&gt;\n    &lt;realmCode xmlns=&quot;&quot; code=&quot;CY&quot;/&gt;\n    &lt;typeId xmlns=&quot;&quot; extension=&quot;POCD_HD000040&quot; root=&quot;2.16.840.1.113883.1.3&quot;/&gt;\n    &lt;templateId xmlns=&quot;&quot; root=&quot;1.3.6.1.4.1.12559.11.10.1.3.1.1.2&quot;/&gt;\n    &lt;templateId xmlns=&quot;&quot; root=&quot;1.3.6.1.4.1.19376.1.5.3.1.1.1&quot;/&gt;\n    &lt;id extension=&quot;eDDiscId.CY202303170000002&quot; root=&quot;2.16.840.1.113883.3.9143.3.1.3&quot;/&gt;\n    &lt;code code=&quot;DISCARD-60593-1&quot; codeSystem=&quot;2.16.840.1.113883.6.1&quot; codeSystemName=&quot;LOINC&quot; codeSystemVersion=&quot;2.59&quot; displayName=&quot;Discard Medication Dispensed&quot;&gt;\n        &lt;translation xmlns=&quot;&quot; code=&quot;60593-1&quot; codeSystem=&quot;2.16.840.1.113883.6.1&quot; codeSystemName=&quot;LOINC&quot; displayName=&quot;eDispensation&quot;/&gt;\n    &lt;/code&gt;\n    &lt;title xmlns=&quot;&quot;&gt;Discard Medication Dispensed&lt;/title&gt;\n    &lt;effectiveTime xmlns=&quot;&quot; value=&quot;20221130152655+0000&quot;/&gt;\n    &lt;confidentialityCode xmlns=&quot;&quot; code=&quot;N&quot; codeSystem=&quot;2.16.840.1.113883.5.25&quot; codeSystemName=&quot;Confidentiality&quot; codeSystemVersion=&quot;913-20091020&quot; displayName=&quot;normal&quot;/&gt;\n    &lt;languageCode xmlns=&quot;&quot; code=&quot;en-GB&quot;/&gt;\n    &lt;setId xmlns=&quot;&quot; extension=&quot;22015711.1&quot; root=&quot;2.16.840.1.113883.3.9143.3.1.3&quot;/&gt;\n    &lt;recordTarget xmlns=&quot;&quot;&gt;\n        &lt;patientRole classCode=&quot;PAT&quot;&gt;\n            &lt;id extension=&quot;x1x2x2&quot; root=&quot;2.16.840.1.113883.2.25.3.4.1.1.2&quot;/&gt;\n            &lt;addr&gt;\n                &lt;country&gt;GR&lt;/country&gt;\n                &lt;streetAddressLine&gt; 10&lt;/streetAddressLine&gt;\n            &lt;/addr&gt;\n            &lt;telecom use=&quot;H&quot; value=&quot;tel:12344&quot;/&gt;\n            &lt;patient&gt;\n                &lt;name&gt;\n                    &lt;given&gt;MARINA&lt;/given&gt;\n                    &lt;family&gt;FILIP&lt;/family&gt;\n                &lt;/name&gt;\n                &lt;administrativeGenderCode code=&quot;F&quot; codeSystem=&quot;2.16.840.1.113883.5.1&quot; codeSystemName=&quot;AdministrativeGender&quot; codeSystemVersion=&quot;913-20091020&quot; displayName=&quot;Female&quot;/&gt;\n                &lt;birthTime value=&quot;20150101&quot;/&gt;\n                &lt;languageCommunication&gt;\n                    &lt;templateId root=&quot;1.3.6.1.4.1.19376.1.5.3.1.2.1&quot;/&gt;\n                    &lt;languageCode code=&quot;en-GB&quot;/&gt;\n                &lt;/languageCommunication&gt;\n            &lt;/patient&gt;\n        &lt;/patientRole&gt;\n    &lt;/recordTarget&gt;\n&lt;/ClinicalDocument&gt;\n</code></pre>\n"},{"tags":["java","hibernate","annotations"],"answers":[{"comments":[{"owner":{"account_id":21659086,"reputation":1338,"user_id":15978450,"display_name":"Damoiskii"},"score":0,"creation_date":1678716524,"post_id":75720955,"comment_id":133582517,"body_markdown":"I have tried using the entity field names with the `@OrderBy` annotation but I&#39;m still getting the same error as I posted.","body":"I have tried using the entity field names with the <code>@OrderBy</code> annotation but I&#39;m still getting the same error as I posted."},{"owner":{"account_id":21659086,"reputation":1338,"user_id":15978450,"display_name":"Damoiskii"},"score":0,"creation_date":1679091624,"post_id":75720955,"comment_id":133665333,"body_markdown":"I ended up finding out the issue and it&#39;s now fixed.  But +1 for the correct way to use the `@OrderBy`  annotation.","body":"I ended up finding out the issue and it&#39;s now fixed.  But +1 for the correct way to use the <code>@OrderBy</code>  annotation."}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678705050,"creation_date":1678705050,"answer_id":75720955,"question_id":75719840,"body_markdown":"In `@OrderBy` annotation you should use the entity field and not the database column name:\r\n\r\n    @OrderBy(&quot;responseDate DESC&quot;)","title":"Hibernate: Unknown column &#39;column_name&#39; in &#39;order clause&#39;","body":"<p>In <code>@OrderBy</code> annotation you should use the entity field and not the database column name:</p>\n<pre><code>@OrderBy(&quot;responseDate DESC&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21659086,"reputation":1338,"user_id":15978450,"display_name":"Damoiskii"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679091479,"creation_date":1679091479,"answer_id":75772639,"question_id":75719840,"body_markdown":"After taking a break and then going back through all the classes relating to the `Message` class, I saw what I did wrong. \r\n    \r\n    @Entity\r\n    @Table(name = &quot;Student&quot;)\r\n    @PrimaryKeyJoinColumn(name = &quot;user_id&quot;)\r\n    public class Student extends User implements Serializable {\r\n        @Transient\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        @Column(name = &quot;email&quot;, length = 255)\r\n        private String email;\r\n\r\n        @Column(name = &quot;telephone&quot;, length = 255)\r\n        private String telephone;\r\n\r\n        @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;student_id&quot;)\r\n        @OrderBy(&quot;dateCreated DESC&quot;) // I had right here -&gt; @OrderBy(&quot;dateCreated DESC, responseDate DESC&quot;)\r\n        private List&lt;Message&gt; messagesSubmitted;\r\n\r\n        // Constructors\r\n        // Setters &amp; Getters\r\n    }\r\n\r\n\r\nSo in the `Student` class, the error occurred apparently because I didn&#39;t remove `responseDate` from the `@OrderBy` annotation for some reason. I&#39;ve recently updated the `Message` class by creating a `Response` class and linking them. \r\n\r\nWhat I had initially was: \r\n\r\n    @Entity\r\n    @Table(name = &quot;Message&quot;)\r\n    public class Message implements Serializable {\r\n        ...\r\n        @Column(name = &quot;response&quot;, nullable = false, length = 2000)\r\n        private String response;\r\n\r\n        @Column(name = &quot;response_date&quot;, nullable = false)\r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        private Date responseDate;\r\n        ...\r\n    }\r\n\r\nTo:\r\n\r\n    @Entity\r\n    @Table(name = &quot;Message&quot;)\r\n    public class Message implements Serializable {\r\n        ...\r\n        @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;message_id&quot;)\r\n        @OrderBy(&quot;responseDate DESC&quot;)\r\n        private List&lt;Response&gt; responses;\r\n        ...\r\n    }\r\n\r\nSo with that update, the `responseDate` went in the unknown, hence the reason for the error I was getting. \r\n","title":"Hibernate: Unknown column &#39;column_name&#39; in &#39;order clause&#39;","body":"<p>After taking a break and then going back through all the classes relating to the <code>Message</code> class, I saw what I did wrong.</p>\n<pre><code>@Entity\n@Table(name = &quot;Student&quot;)\n@PrimaryKeyJoinColumn(name = &quot;user_id&quot;)\npublic class Student extends User implements Serializable {\n    @Transient\n    private static final long serialVersionUID = 1L;\n\n    @Column(name = &quot;email&quot;, length = 255)\n    private String email;\n\n    @Column(name = &quot;telephone&quot;, length = 255)\n    private String telephone;\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;student_id&quot;)\n    @OrderBy(&quot;dateCreated DESC&quot;) // I had right here -&gt; @OrderBy(&quot;dateCreated DESC, responseDate DESC&quot;)\n    private List&lt;Message&gt; messagesSubmitted;\n\n    // Constructors\n    // Setters &amp; Getters\n}\n</code></pre>\n<p>So in the <code>Student</code> class, the error occurred apparently because I didn't remove <code>responseDate</code> from the <code>@OrderBy</code> annotation for some reason. I've recently updated the <code>Message</code> class by creating a <code>Response</code> class and linking them.</p>\n<p>What I had initially was:</p>\n<pre><code>@Entity\n@Table(name = &quot;Message&quot;)\npublic class Message implements Serializable {\n    ...\n    @Column(name = &quot;response&quot;, nullable = false, length = 2000)\n    private String response;\n\n    @Column(name = &quot;response_date&quot;, nullable = false)\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date responseDate;\n    ...\n}\n</code></pre>\n<p>To:</p>\n<pre><code>@Entity\n@Table(name = &quot;Message&quot;)\npublic class Message implements Serializable {\n    ...\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;message_id&quot;)\n    @OrderBy(&quot;responseDate DESC&quot;)\n    private List&lt;Response&gt; responses;\n    ...\n}\n</code></pre>\n<p>So with that update, the <code>responseDate</code> went in the unknown, hence the reason for the error I was getting.</p>\n"}],"owner":{"account_id":21659086,"reputation":1338,"user_id":15978450,"display_name":"Damoiskii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75772639,"answer_count":2,"score":0,"last_activity_date":1679091763,"creation_date":1678698553,"question_id":75719840,"body_markdown":"I&#39;ve been learning Hibernate for the past two weeks, but I&#39;m now experiencing an issue I can&#39;t solve nor am I lucky to find a solution online.\r\n\r\n**My problem**: I would like a message to have multiple responses. I have `@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)`, `@JoinColumn(name = &quot;message_id&quot;)`, `@OrderBy(&quot;responseDate DESC&quot;)` for a list of responses. The `responseDate` belongs to the response table. I keep seeing the following error whenever I try to look up a message: \r\n\r\n&gt; [ERROR] [13-March-2023 3:14:28.025 am | GMT-05:00] [main] [org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions(SqlExceptionHelper.java:142)] - Unknown column &#39;messagessu0_.response_date&#39; in &#39;order clause&#39; \r\n\r\n&gt; Exception in thread &quot;main&quot; org.hibernate.exception.SQLGrammarException: could not extract ResultSet...\r\n\r\nI deleted the tables from the database then went ahead and commented out the `@OrderBy(&quot;responseDate DESC&quot;)` annotation, add a message then try to look up that message again, but the same error still shows.\r\n\r\nWhat am I doing wrong here?\r\n\r\n\r\n**Message.java**\r\n\r\n    @Entity\r\n    @Table(name = &quot;Message&quot;)\r\n    public class Message implements Serializable {\r\n        @Transient\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.TABLE)\r\n        @Column(name = &quot;message_id&quot;, nullable = false)\r\n        private int messageID;\r\n\r\n        @Column(name = &quot;type&quot;, nullable = false, length = 50)\r\n        private String messageType;\r\n\r\n        @Column(name = &quot;category&quot;, nullable = false, length = 100)\r\n        private String category;\r\n\r\n        @Column(name = &quot;details&quot;, nullable = false, length = 2000)\r\n        private String details;\r\n\r\n        @Column(name = &quot;date_created&quot;, nullable = false)\r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        private Date dateCreated;\r\n\r\n        @Column(name = &quot;resolved&quot;)\r\n        private boolean resolved;\r\n\r\n        @OneToOne(cascade = CascadeType.MERGE)\r\n        @JoinColumn(name = &quot;student_id&quot;)\r\n        private Student student;\r\n \r\n        @OneToOne(cascade = CascadeType.MERGE)\r\n        @JoinColumn(name = &quot;staff_id&quot;)\r\n        private Staff staff;\r\n\r\n        @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;message_id&quot;)\r\n        @OrderBy(&quot;responseDate DESC&quot;) // commented out here and still seeing the same error about unknown column\r\n        private List&lt;Response&gt; responses;\r\n\r\n        // Constructors\r\n        // Getters &amp; Setters\r\n    }\r\n\r\n\r\n**Response.java**\r\n\r\n    @Entity\r\n    @Table(name = &quot;Response&quot;)\r\n    public class Response implements Serializable {\r\n        @Transient\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.TABLE)\r\n        @Column(name = &quot;response_id&quot;, nullable = false)\r\n        private int responseID;\r\n\r\n        @Column(name = &quot;content&quot;, nullable = false, length = 2000)\r\n        private String content;\r\n\r\n        @Column(name = &quot;response_date&quot;, nullable = false)\r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        private Date responseDate;\r\n\r\n        @OneToOne(cascade = CascadeType.MERGE)\r\n        @JoinColumn(name = &quot;message_id&quot;)\r\n        private Message message;\r\n\r\n        // Constructors\r\n        // Getters &amp; Setters\r\n    }\r\n\r\n\r\nWhat I used as a reference was another class of mine...\r\n\r\n**Staff.java**\r\n\r\n    @Entity\r\n    @Table(name = &quot;Staff&quot;)\r\n    @PrimaryKeyJoinColumn(name = &quot;user_id&quot;)\r\n    public class Staff extends User implements Serializable {\r\n        @Transient\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        @Column(name = &quot;role&quot;, length = 255)\r\n        private String role;\r\n\r\n        @OneToMany(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;staff_id&quot;)\r\n        @OrderBy(&quot;dateCreated DESC&quot;) // order by date_created which is from the message table and it worked\r\n        private List&lt;Message&gt; assignedMessages;\r\n\r\n        // Constructors \r\n        // Getters &amp; Setters\r\n    }\r\n\r\n\r\nBefore I added the list of responses to the message class, everything was working fine. When I look up a staff member, I get back the list of messages that were sent by that staff member. \r\n\r\nWhere have I gone wrong? Any help or explanation would be greatly appreciated.","title":"Hibernate: Unknown column &#39;column_name&#39; in &#39;order clause&#39;","body":"<p>I've been learning Hibernate for the past two weeks, but I'm now experiencing an issue I can't solve nor am I lucky to find a solution online.</p>\n<p><strong>My problem</strong>: I would like a message to have multiple responses. I have <code>@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)</code>, <code>@JoinColumn(name = &quot;message_id&quot;)</code>, <code>@OrderBy(&quot;responseDate DESC&quot;)</code> for a list of responses. The <code>responseDate</code> belongs to the response table. I keep seeing the following error whenever I try to look up a message:</p>\n<blockquote>\n<p>[ERROR] [13-March-2023 3:14:28.025 am | GMT-05:00] [main] [org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions(SqlExceptionHelper.java:142)] - Unknown column 'messagessu0_.response_date' in 'order clause'</p>\n</blockquote>\n<blockquote>\n<p>Exception in thread &quot;main&quot; org.hibernate.exception.SQLGrammarException: could not extract ResultSet...</p>\n</blockquote>\n<p>I deleted the tables from the database then went ahead and commented out the <code>@OrderBy(&quot;responseDate DESC&quot;)</code> annotation, add a message then try to look up that message again, but the same error still shows.</p>\n<p>What am I doing wrong here?</p>\n<p><strong>Message.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;Message&quot;)\npublic class Message implements Serializable {\n    @Transient\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.TABLE)\n    @Column(name = &quot;message_id&quot;, nullable = false)\n    private int messageID;\n\n    @Column(name = &quot;type&quot;, nullable = false, length = 50)\n    private String messageType;\n\n    @Column(name = &quot;category&quot;, nullable = false, length = 100)\n    private String category;\n\n    @Column(name = &quot;details&quot;, nullable = false, length = 2000)\n    private String details;\n\n    @Column(name = &quot;date_created&quot;, nullable = false)\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date dateCreated;\n\n    @Column(name = &quot;resolved&quot;)\n    private boolean resolved;\n\n    @OneToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;student_id&quot;)\n    private Student student;\n\n    @OneToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;staff_id&quot;)\n    private Staff staff;\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;message_id&quot;)\n    @OrderBy(&quot;responseDate DESC&quot;) // commented out here and still seeing the same error about unknown column\n    private List&lt;Response&gt; responses;\n\n    // Constructors\n    // Getters &amp; Setters\n}\n</code></pre>\n<p><strong>Response.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;Response&quot;)\npublic class Response implements Serializable {\n    @Transient\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.TABLE)\n    @Column(name = &quot;response_id&quot;, nullable = false)\n    private int responseID;\n\n    @Column(name = &quot;content&quot;, nullable = false, length = 2000)\n    private String content;\n\n    @Column(name = &quot;response_date&quot;, nullable = false)\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date responseDate;\n\n    @OneToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;message_id&quot;)\n    private Message message;\n\n    // Constructors\n    // Getters &amp; Setters\n}\n</code></pre>\n<p>What I used as a reference was another class of mine...</p>\n<p><strong>Staff.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;Staff&quot;)\n@PrimaryKeyJoinColumn(name = &quot;user_id&quot;)\npublic class Staff extends User implements Serializable {\n    @Transient\n    private static final long serialVersionUID = 1L;\n\n    @Column(name = &quot;role&quot;, length = 255)\n    private String role;\n\n    @OneToMany(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;staff_id&quot;)\n    @OrderBy(&quot;dateCreated DESC&quot;) // order by date_created which is from the message table and it worked\n    private List&lt;Message&gt; assignedMessages;\n\n    // Constructors \n    // Getters &amp; Setters\n}\n</code></pre>\n<p>Before I added the list of responses to the message class, everything was working fine. When I look up a staff member, I get back the list of messages that were sent by that staff member.</p>\n<p>Where have I gone wrong? Any help or explanation would be greatly appreciated.</p>\n"},{"tags":["java","apache","tar","archiving"],"answers":[{"tags":[],"owner":{"account_id":212263,"reputation":136304,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1410284273,"creation_date":1410284273,"answer_id":25750724,"question_id":25750509,"body_markdown":"Your problem is here:\r\n\r\n    TarArchiveEntry tarArchiveEntry = new TarArchiveEntry(file, file.getName());\r\n\r\nBecause you put each file with only it&#39;s name, not his path, in the tar.\r\n\r\nYou need to pass the relative path from your path entries to this file instead of `file.getName()`.","title":"Tar a directory preserving structure with Apache in java","body":"<p>Your problem is here:</p>\n\n<pre><code>TarArchiveEntry tarArchiveEntry = new TarArchiveEntry(file, file.getName());\n</code></pre>\n\n<p>Because you put each file with only it's name, not his path, in the tar.</p>\n\n<p>You need to pass the relative path from your path entries to this file instead of <code>file.getName()</code>.</p>\n"},{"tags":[],"owner":{"account_id":26681786,"reputation":1,"user_id":20291626,"display_name":"John kerich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679091641,"creation_date":1679091027,"answer_id":75772600,"question_id":25750509,"body_markdown":"The library has a character limit of 100 characters if you are doing full directory path to the file.  You need to modify TarArchiveOutputStream for long paths.  Then it works.\r\n\r\n    TarArchiveOutputStream tOut = new TarArchiveOutputStream(gzOut)) \r\n    // set format to posix so it handles long file name paths\r\n    tOut.setLongFileMode(TarArchiveOutputStream.LONGFILE_POSIX);","title":"Tar a directory preserving structure with Apache in java","body":"<p>The library has a character limit of 100 characters if you are doing full directory path to the file.  You need to modify TarArchiveOutputStream for long paths.  Then it works.</p>\n<pre><code>TarArchiveOutputStream tOut = new TarArchiveOutputStream(gzOut)) \n// set format to posix so it handles long file name paths\ntOut.setLongFileMode(TarArchiveOutputStream.LONGFILE_POSIX);\n</code></pre>\n"}],"owner":{"account_id":188810,"reputation":33950,"user_id":427763,"accept_rate":92,"display_name":"prolink007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3473,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":25750724,"answer_count":2,"score":4,"last_activity_date":1679091641,"creation_date":1410283305,"question_id":25750509,"body_markdown":"How can i `tar` a directory and preserve the directory structure using the `org.apache.commons.compress` libraries?\r\n\r\nWith what i am doing below, i am just getting a package that has everything flattened.\r\n\r\nThanks!\r\n___\r\n\r\nHere is what i have been trying and it is not working.\r\n\r\n    public static void createTar(final String tarName, final List&lt;File&gt; pathEntries) throws IOException {\r\n        OutputStream tarOutput = new FileOutputStream(new File(tarName));\r\n\r\n        ArchiveOutputStream tarArchive = new TarArchiveOutputStream(tarOutput);\r\n\r\n        List&lt;File&gt; files = new ArrayList&lt;File&gt;();\r\n\r\n        for (File file : pathEntries) {\r\n            files.addAll(recurseDirectory(file));\r\n        }\r\n\r\n        for (File file : files) {\r\n\r\n            TarArchiveEntry tarArchiveEntry = new TarArchiveEntry(file, file.getName());\r\n            tarArchiveEntry.setSize(file.length());\r\n            tarArchive.putArchiveEntry(tarArchiveEntry);\r\n            FileInputStream fileInputStream = new FileInputStream(file);\r\n            IOUtils.copy(fileInputStream, tarArchive);\r\n            fileInputStream.close();\r\n            tarArchive.closeArchiveEntry();\r\n        }\r\n\r\n        tarArchive.finish();\r\n        tarOutput.close();\r\n    }\r\n\r\n    public static List&lt;File&gt; recurseDirectory(final File directory) {\r\n\r\n        List&lt;File&gt; files = new ArrayList&lt;File&gt;();\r\n\r\n        if (directory != null &amp;&amp; directory.isDirectory()) {\r\n\r\n            for (File file : directory.listFiles()) {\r\n\r\n                if (file.isDirectory()) {\r\n                    files.addAll(recurseDirectory(file));\r\n                } else {\r\n                    files.add(file);\r\n                }\r\n            }\r\n        }\r\n\r\n        return files;\r\n    }","title":"Tar a directory preserving structure with Apache in java","body":"<p>How can i <code>tar</code> a directory and preserve the directory structure using the <code>org.apache.commons.compress</code> libraries?</p>\n\n<p>With what i am doing below, i am just getting a package that has everything flattened.</p>\n\n<p>Thanks!</p>\n\n<hr>\n\n<p>Here is what i have been trying and it is not working.</p>\n\n<pre><code>public static void createTar(final String tarName, final List&lt;File&gt; pathEntries) throws IOException {\n    OutputStream tarOutput = new FileOutputStream(new File(tarName));\n\n    ArchiveOutputStream tarArchive = new TarArchiveOutputStream(tarOutput);\n\n    List&lt;File&gt; files = new ArrayList&lt;File&gt;();\n\n    for (File file : pathEntries) {\n        files.addAll(recurseDirectory(file));\n    }\n\n    for (File file : files) {\n\n        TarArchiveEntry tarArchiveEntry = new TarArchiveEntry(file, file.getName());\n        tarArchiveEntry.setSize(file.length());\n        tarArchive.putArchiveEntry(tarArchiveEntry);\n        FileInputStream fileInputStream = new FileInputStream(file);\n        IOUtils.copy(fileInputStream, tarArchive);\n        fileInputStream.close();\n        tarArchive.closeArchiveEntry();\n    }\n\n    tarArchive.finish();\n    tarOutput.close();\n}\n\npublic static List&lt;File&gt; recurseDirectory(final File directory) {\n\n    List&lt;File&gt; files = new ArrayList&lt;File&gt;();\n\n    if (directory != null &amp;&amp; directory.isDirectory()) {\n\n        for (File file : directory.listFiles()) {\n\n            if (file.isDirectory()) {\n                files.addAll(recurseDirectory(file));\n            } else {\n                files.add(file);\n            }\n        }\n    }\n\n    return files;\n}\n</code></pre>\n"},{"tags":["java","javascript","jsp"],"comments":[{"owner":{"account_id":1266491,"reputation":58077,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"score":0,"creation_date":1367454566,"post_id":16328550,"comment_id":23385018,"body_markdown":"Please post some code. -1","body":"Please post some code. -1"},{"owner":{"account_id":226479,"reputation":2627,"user_id":487554,"accept_rate":92,"display_name":"CodingInCircles"},"score":0,"creation_date":1367455129,"post_id":16328550,"comment_id":23385144,"body_markdown":"Question edited. Please take a look.","body":"Question edited. Please take a look."}],"answers":[{"comments":[{"owner":{"account_id":226479,"reputation":2627,"user_id":487554,"accept_rate":92,"display_name":"CodingInCircles"},"score":1,"creation_date":1367455845,"post_id":16328583,"comment_id":23385299,"body_markdown":"I don&#39;t want it to go to blank. I want it remain in the same page that it is getting clicked from. I tried the code you posted, but to no avail. What could be wrong?","body":"I don&#39;t want it to go to blank. I want it remain in the same page that it is getting clicked from. I tried the code you posted, but to no avail. What could be wrong?"},{"owner":{"account_id":1298020,"reputation":776,"user_id":1248565,"display_name":"fbiagi"},"score":0,"creation_date":1367460782,"post_id":16328583,"comment_id":23386328,"body_markdown":"_blank will open a new tab/window","body":"_blank will open a new tab/window"},{"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"score":0,"creation_date":1676473352,"post_id":16328583,"comment_id":133144024,"body_markdown":"this will redirect wont work as per requirement","body":"this will redirect wont work as per requirement"}],"tags":[],"owner":{"account_id":1529623,"reputation":27083,"user_id":1427161,"accept_rate":86,"display_name":"doublesharp"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1367454708,"creation_date":1367454708,"answer_id":16328583,"question_id":16328550,"body_markdown":"It sounds like you are using an on click event, make sure that it returns false to stay on the same page.\r\n\r\n    &lt;a href=&quot;#&quot; onclick=&quot;window.open(/* http://example.com/file.txt */); return false&quot;&gt;click me&lt;/a&gt;\r\n\r\n\r\nIf you are not using javascript, set the target to a blank page using `_blank`.\r\n\r\n    &lt;a href=&quot;http://example.com/file.txt&quot; target=&quot;_blank&quot;&gt;click me&lt;/a&gt;","title":"How to make a page remain and not redirect when downloading a file?","body":"<p>It sounds like you are using an on click event, make sure that it returns false to stay on the same page.</p>\n\n<pre><code>&lt;a href=\"#\" onclick=\"window.open(/* http://example.com/file.txt */); return false\"&gt;click me&lt;/a&gt;\n</code></pre>\n\n<p>If you are not using javascript, set the target to a blank page using <code>_blank</code>.</p>\n\n<pre><code>&lt;a href=\"http://example.com/file.txt\" target=\"_blank\"&gt;click me&lt;/a&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679034165,"creation_date":1679034165,"answer_id":75764344,"question_id":16328550,"body_markdown":"I have following code that wont redirect and download following is working code\r\n\r\n    function DownloadFileWithoutRedirect() {\r\n    \r\n    \t//url must be hosted else cors issue will come\r\n    \t//url is entire file url - http://doman.com/test.pdf\r\n    \tvar url = window.location.origin+&quot;/docs/test.pdf&quot;;\r\n    \tvar request = new XMLHttpRequest();\r\n    \t\r\n    \trequest.open(&#39;GET&#39;, url, true);\r\n    \trequest.responseType = &#39;blob&#39;;\r\n    \trequest.setRequestHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;)\r\n    \t\r\n    \trequest.onload = function() {\r\n    \t\tvar reader = new FileReader();\r\n    \t\treader.readAsDataURL(request.response);\r\n    \t\treader.onload =  function(e){\r\n    \t\t\tvar link = document.createElement(&quot;a&quot;)\r\n    \t\t\tlink.href = e.target.result;\r\n    \t\t\tlink.download = &quot;download.pdf&quot;;//filename that is kept for dowloading file\r\n    \t\t\tlink.click();\r\n    \t\t\tURL.revokeObjectURL(link.href);\r\n    \t\t};\r\n    \t};\r\n    \trequest.send();\r\n    \t\r\n    }\r\n\r\nThis solution makes a get call and a blob response which will be downloading the file without redirect. Further full code is illustrated in Spring Boot + Thymeleaf \r\n(Solution is not dependent on Java) For avoiding cors its tested in such a way. I hope following will be helpfull\r\n\r\n\r\nStartWebApplication.java\r\n\r\n    package com.mkyong;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class StartWebApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(StartWebApplication.class, args);\r\n        }\r\n    \r\n    }\r\n\r\nWelcomeController.java\r\n\r\n    package com.mkyong.controller;\r\n    \r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    \r\n    @Controller\r\n    public class WelcomeController {\r\n    \t\r\n        @Value(&quot;${welcome.message}&quot;)\r\n        private String message;\r\n        \r\n        @GetMapping(&quot;/&quot;)\r\n        public String main(Model model) {\r\n            model.addAttribute(&quot;message&quot;, message);\r\n            return &quot;welcome&quot;; //view\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nWelcome.html\r\n\r\n    &lt;!DOCTYPE HTML&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;utf-8&quot;&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\r\n        &lt;title&gt;Spring Boot Thymeleaf Hello World Example&lt;/title&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{webjars/bootstrap/4.2.1/css/bootstrap.min.css}&quot;/&gt;\r\n    &lt;/head&gt;\r\n    \r\n    &lt;body&gt;\r\n    \r\n    &lt;main role=&quot;main&quot; class=&quot;container&quot;&gt;\r\n    \r\n        &lt;div class=&quot;starter-template&quot;&gt;\r\n            &lt;button class=&quot;btn&quot; value=&quot;download&quot; onClick=&quot;DownloadFileWithoutRedirect()&quot; &gt;Download&lt;/button&gt;\r\n        &lt;/div&gt;\r\n    \t\r\n    &lt;/main&gt;\r\n    &lt;!-- /.container --&gt;\r\n    \r\n    \r\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{webjars/jquery/3.6.4/jquery.min.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{webjars/bootstrap/4.2.1/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\r\n    \r\n    &lt;script&gt;\r\n    \r\n    function DownloadFileWithoutRedirect() {\r\n    \r\n    \t//url must be hosted else cors issue will come\r\n    \t//url is entire file url - http://localhost:1818/docs/test.pdf\r\n    \tvar url = window.location.origin+&quot;/docs/test.pdf&quot;;\r\n    \tvar request = new XMLHttpRequest();\r\n    \t\r\n    \trequest.open(&#39;GET&#39;, url, true);\r\n    \trequest.responseType = &#39;blob&#39;;\r\n    \trequest.setRequestHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;)\r\n    \t\r\n    \trequest.onload = function() {\r\n    \t\tvar reader = new FileReader();\r\n    \t\treader.readAsDataURL(request.response);\r\n    \t\treader.onload =  function(e){\r\n    \t\t\tvar link = document.createElement(&quot;a&quot;)\r\n    \t\t\tlink.href = e.target.result;\r\n    \t\t\tlink.download = &quot;download.pdf&quot;;//filename that is kept for dowloading file\r\n    \t\t\tlink.click();\r\n    \t\t\tURL.revokeObjectURL(link.href);\r\n    \t\t};\r\n    \t};\r\n    \trequest.send();\r\n    \t\r\n    }\r\n    &lt;/script&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nand pom\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;artifactId&gt;web-thymeleaf&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;name&gt;Spring Boot Web Thymeleaf Example&lt;/name&gt;\r\n    \t&lt;description&gt;Spring Boot Web Thymeleaf Example&lt;/description&gt;\r\n    \t&lt;version&gt;1.0&lt;/version&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;bootstrap.version&gt;4.2.1&lt;/bootstrap.version&gt;\r\n    \t\t&lt;jquery.version&gt;3.6.4&lt;/jquery.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-devtools --&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- web mvc --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- thymeleaf --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- test --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- hot swapping, disable cache for template, enable live reload --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Optional, for bootstrap --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${bootstrap.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.webjars/jquery --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jquery&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jquery.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \r\n    \t\t\t&lt;!-- Package as an executable jar/war --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;addResources&gt;true&lt;/addResources&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.22.0&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t&lt;/plugins&gt;\r\n    \r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThis is a sample project from [mkyong][1] in which onclick file download is incorporated \r\n\r\n\r\n  [1]: https://mkyong.com/spring-boot/spring-boot-hello-world-example-thymeleaf/","title":"How to make a page remain and not redirect when downloading a file?","body":"<p>I have following code that wont redirect and download following is working code</p>\n<pre><code>function DownloadFileWithoutRedirect() {\n\n    //url must be hosted else cors issue will come\n    //url is entire file url - http://doman.com/test.pdf\n    var url = window.location.origin+&quot;/docs/test.pdf&quot;;\n    var request = new XMLHttpRequest();\n    \n    request.open('GET', url, true);\n    request.responseType = 'blob';\n    request.setRequestHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;)\n    \n    request.onload = function() {\n        var reader = new FileReader();\n        reader.readAsDataURL(request.response);\n        reader.onload =  function(e){\n            var link = document.createElement(&quot;a&quot;)\n            link.href = e.target.result;\n            link.download = &quot;download.pdf&quot;;//filename that is kept for dowloading file\n            link.click();\n            URL.revokeObjectURL(link.href);\n        };\n    };\n    request.send();\n    \n}\n</code></pre>\n<p>This solution makes a get call and a blob response which will be downloading the file without redirect. Further full code is illustrated in Spring Boot + Thymeleaf\n(Solution is not dependent on Java) For avoiding cors its tested in such a way. I hope following will be helpfull</p>\n<p>StartWebApplication.java</p>\n<pre><code>package com.mkyong;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class StartWebApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(StartWebApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>WelcomeController.java</p>\n<pre><code>package com.mkyong.controller;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class WelcomeController {\n    \n    @Value(&quot;${welcome.message}&quot;)\n    private String message;\n    \n    @GetMapping(&quot;/&quot;)\n    public String main(Model model) {\n        model.addAttribute(&quot;message&quot;, message);\n        return &quot;welcome&quot;; //view\n    }\n\n\n}\n</code></pre>\n<p>Welcome.html</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\n    &lt;title&gt;Spring Boot Thymeleaf Hello World Example&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{webjars/bootstrap/4.2.1/css/bootstrap.min.css}&quot;/&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;main role=&quot;main&quot; class=&quot;container&quot;&gt;\n\n    &lt;div class=&quot;starter-template&quot;&gt;\n        &lt;button class=&quot;btn&quot; value=&quot;download&quot; onClick=&quot;DownloadFileWithoutRedirect()&quot; &gt;Download&lt;/button&gt;\n    &lt;/div&gt;\n    \n&lt;/main&gt;\n&lt;!-- /.container --&gt;\n\n\n&lt;script type=&quot;text/javascript&quot; th:src=&quot;@{webjars/jquery/3.6.4/jquery.min.js}&quot;&gt;&lt;/script&gt;\n&lt;script type=&quot;text/javascript&quot; th:src=&quot;@{webjars/bootstrap/4.2.1/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\n\n&lt;script&gt;\n\nfunction DownloadFileWithoutRedirect() {\n\n    //url must be hosted else cors issue will come\n    //url is entire file url - http://localhost:1818/docs/test.pdf\n    var url = window.location.origin+&quot;/docs/test.pdf&quot;;\n    var request = new XMLHttpRequest();\n    \n    request.open('GET', url, true);\n    request.responseType = 'blob';\n    request.setRequestHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;)\n    \n    request.onload = function() {\n        var reader = new FileReader();\n        reader.readAsDataURL(request.response);\n        reader.onload =  function(e){\n            var link = document.createElement(&quot;a&quot;)\n            link.href = e.target.result;\n            link.download = &quot;download.pdf&quot;;//filename that is kept for dowloading file\n            link.click();\n            URL.revokeObjectURL(link.href);\n        };\n    };\n    request.send();\n    \n}\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>and pom</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;web-thymeleaf&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;Spring Boot Web Thymeleaf Example&lt;/name&gt;\n    &lt;description&gt;Spring Boot Web Thymeleaf Example&lt;/description&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;bootstrap.version&gt;4.2.1&lt;/bootstrap.version&gt;\n        &lt;jquery.version&gt;3.6.4&lt;/jquery.version&gt;\n    &lt;/properties&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-devtools --&gt;\n\n    &lt;dependencies&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- web mvc --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- thymeleaf --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- hot swapping, disable cache for template, enable live reload --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Optional, for bootstrap --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;${bootstrap.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.webjars/jquery --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;jquery&lt;/artifactId&gt;\n            &lt;version&gt;${jquery.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n\n            &lt;!-- Package as an executable jar/war --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;addResources&gt;true&lt;/addResources&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is a sample project from <a href=\"https://mkyong.com/spring-boot/spring-boot-hello-world-example-thymeleaf/\" rel=\"nofollow noreferrer\">mkyong</a> in which onclick file download is incorporated</p>\n"},{"tags":[],"owner":{"account_id":25629836,"reputation":21,"user_id":19400377,"display_name":"JM."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679091486,"creation_date":1679091486,"answer_id":75772642,"question_id":16328550,"body_markdown":"Is not that hard if the file is already up and you are not generating it on your server side.\r\n\r\nCall an href an set a name to the file:\r\n\r\n    &lt;a class=&quot;badge text-bg-primary&quot; href=&quot;your_file_link.txt&quot; download=&quot;suggested_file_name&quot;&gt;Button text&lt;/a&gt;\r\n\r\nIs this helpful? Let me know.","title":"How to make a page remain and not redirect when downloading a file?","body":"<p>Is not that hard if the file is already up and you are not generating it on your server side.</p>\n<p>Call an href an set a name to the file:</p>\n<pre><code>&lt;a class=&quot;badge text-bg-primary&quot; href=&quot;your_file_link.txt&quot; download=&quot;suggested_file_name&quot;&gt;Button text&lt;/a&gt;\n</code></pre>\n<p>Is this helpful? Let me know.</p>\n"}],"owner":{"account_id":226479,"reputation":2627,"user_id":487554,"accept_rate":92,"display_name":"CodingInCircles"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4551,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":16328583,"answer_count":3,"score":2,"last_activity_date":1679091486,"creation_date":1367454468,"question_id":16328550,"body_markdown":"I have a JSP that has a link, which, when clicked, downloads a file. My problem is that when I click on the link, it goes to blank page and remains there. I would either like for it to return to the page the link was clicked from, or for it download without going to the blank page. Any ideas?\r\n\r\nCurrently, this is what my code looks like:\r\n\r\n    Please &lt;a href=&quot;https://webpath/filename.xls&quot;&gt;click here&lt;/a&gt; to see an example of a valid file.","title":"How to make a page remain and not redirect when downloading a file?","body":"<p>I have a JSP that has a link, which, when clicked, downloads a file. My problem is that when I click on the link, it goes to blank page and remains there. I would either like for it to return to the page the link was clicked from, or for it download without going to the blank page. Any ideas?</p>\n\n<p>Currently, this is what my code looks like:</p>\n\n<pre><code>Please &lt;a href=\"https://webpath/filename.xls\"&gt;click here&lt;/a&gt; to see an example of a valid file.\n</code></pre>\n"},{"tags":["java","android","javadoc"],"comments":[{"owner":{"account_id":17903324,"reputation":136,"user_id":13007101,"display_name":"Jo Bo"},"score":0,"creation_date":1633082736,"post_id":68429687,"comment_id":122671102,"body_markdown":"this isn&#39;t really a solution so I will not answer my own question, but it worked for a buddy of mine after he deinstalled and reinstalled Java completely (all his versions) and I suppose I could have tried that too","body":"this isn&#39;t really a solution so I will not answer my own question, but it worked for a buddy of mine after he deinstalled and reinstalled Java completely (all his versions) and I suppose I could have tried that too"}],"answers":[{"tags":[],"owner":{"account_id":19344277,"reputation":38,"user_id":14143168,"display_name":"TechFence"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679091426,"creation_date":1679091426,"answer_id":75772635,"question_id":68429687,"body_markdown":"Had the same issue. Here is how I solved it:\r\n1. In your build.gradle file, add this line\r\n\r\n    ````implementation files(pathtosdk)````\r\n\r\n2. Go to Tools -&gt; Generate Javadocs. In the command line args, add this line\r\n\r\n    ````-sourcepath pathtosdk````\r\n\r\nTo find the pathtosdk;\r\n\r\n- Change from Android to Project.\r\n- Open up External Libraries\r\n- Open up the directory that&#39;s named like &quot;Android  &lt;API Level&gt;&quot;\r\n- You should see an android.jar file\r\n- Right click and copy the absolute path. That is your pathtosdk.","title":"Android Studio Javadoc Generation error: cannot find symbol R","body":"<p>Had the same issue. Here is how I solved it:</p>\n<ol>\n<li><p>In your build.gradle file, add this line</p>\n<p><code>implementation files(pathtosdk)</code></p>\n</li>\n<li><p>Go to Tools -&gt; Generate Javadocs. In the command line args, add this line</p>\n<p><code>-sourcepath pathtosdk</code></p>\n</li>\n</ol>\n<p>To find the pathtosdk;</p>\n<ul>\n<li>Change from Android to Project.</li>\n<li>Open up External Libraries</li>\n<li>Open up the directory that's named like &quot;Android  &quot;</li>\n<li>You should see an android.jar file</li>\n<li>Right click and copy the absolute path. That is your pathtosdk.</li>\n</ul>\n"}],"owner":{"account_id":17903324,"reputation":136,"user_id":13007101,"display_name":"Jo Bo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":853,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75772635,"answer_count":1,"score":2,"last_activity_date":1679091426,"creation_date":1626615762,"question_id":68429687,"body_markdown":"I am trying to generate javadocs for a larger android project - using android studios built-in &quot;Tools &gt; Generate JavaDoc&quot;. I have tried different scopes (my module, a custom scope containing only the java files I created, Project Files, ...) but everytime there is a class included which uses `import com.my-app.R;` or a generated class such as `SomeFragmentBinding` for ViewBinding, I get an \r\n\r\n`error: cannot find symbol` from javadoc...\r\n\r\nApart from this problem the usual building and executing of the app is completely successful and works like a charm, although I get some some warnings regarding my database layout. Also I am using Hilt for Dependency Injection, but I don&#39;t really think that is related?\r\n\r\nNow I am a complete noob using gradle and my attempts to configure the javadoc task myself have failed - and from what I have found online this should generally work out-of-the-box.","title":"Android Studio Javadoc Generation error: cannot find symbol R","body":"<p>I am trying to generate javadocs for a larger android project - using android studios built-in &quot;Tools &gt; Generate JavaDoc&quot;. I have tried different scopes (my module, a custom scope containing only the java files I created, Project Files, ...) but everytime there is a class included which uses <code>import com.my-app.R;</code> or a generated class such as <code>SomeFragmentBinding</code> for ViewBinding, I get an</p>\n<p><code>error: cannot find symbol</code> from javadoc...</p>\n<p>Apart from this problem the usual building and executing of the app is completely successful and works like a charm, although I get some some warnings regarding my database layout. Also I am using Hilt for Dependency Injection, but I don't really think that is related?</p>\n<p>Now I am a complete noob using gradle and my attempts to configure the javadoc task myself have failed - and from what I have found online this should generally work out-of-the-box.</p>\n"},{"tags":["java","string","escaping","ansi-escape","color-codes"],"answers":[{"comments":[{"owner":{"account_id":16659185,"reputation":73,"user_id":12039606,"display_name":"Slayer Of Whales"},"score":0,"creation_date":1605504141,"post_id":64677848,"comment_id":114660656,"body_markdown":"I stopped needing a solution to this months ago, but thanks for the response to such an old question anyways! You my friend, are dedicated to helping those in need.","body":"I stopped needing a solution to this months ago, but thanks for the response to such an old question anyways! You my friend, are dedicated to helping those in need."},{"owner":{"account_id":6628105,"reputation":556,"user_id":5117772,"display_name":"EricChen1248"},"score":0,"creation_date":1605602703,"post_id":64677848,"comment_id":114693725,"body_markdown":"Yeah, I was looking for a solution to this problem myself. Came across your question, and no other solution, so devised one myself. Posted anyway for future people that have the same problem.","body":"Yeah, I was looking for a solution to this problem myself. Came across your question, and no other solution, so devised one myself. Posted anyway for future people that have the same problem."}],"tags":[],"owner":{"account_id":6628105,"reputation":556,"user_id":5117772,"display_name":"EricChen1248"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604483978,"creation_date":1604483978,"answer_id":64677848,"question_id":62300216,"body_markdown":"This isn&#39;t a very optimal way, but it should work if regex performance isn&#39;t a very big issue.\r\n\r\n```java\r\npublic static int getStringLengthWithoutANSI(String str) {\r\n    return str.replaceAll(&quot;(\\\\x9B|\\\\x1B\\\\[)[0-?]*[ -\\\\/]*[@-~]&quot;, &quot;&quot;).length();\r\n}\r\n```","title":"ANSI color escape sequence chars appearing inside String.length();","body":"<p>This isn't a very optimal way, but it should work if regex performance isn't a very big issue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int getStringLengthWithoutANSI(String str) {\n    return str.replaceAll(&quot;(\\\\x9B|\\\\x1B\\\\[)[0-?]*[ -\\\\/]*[@-~]&quot;, &quot;&quot;).length();\n}\n</code></pre>\n"}],"owner":{"account_id":16659185,"reputation":73,"user_id":12039606,"display_name":"Slayer Of Whales"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":864,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679091421,"creation_date":1591781378,"question_id":62300216,"body_markdown":"When coloring a String with an ANSI escape sequence, then taking the .length() of the String in question, it does not give the length of the visible part of the String, instead including part of the escape sequence. \n\n    import java.util.*;\n    \n    public class ColorTest {\n        public static void main(String[] args){\n            String RED    = &quot;\\u001B[31m&quot;;\n            String test = &quot;Test&quot;;\n    \n            // Prints length with color\n            System.out.println(test);\n            System.out.println(&quot;Length: &quot;+test.length());\n            \n            // Prints length with color\n            test = RED+test;\n            System.out.println(test);\n            System.out.println(&quot;Length: &quot;+test.length());\n    \n            // Prints every char found in the String\n            char[] testCharList = test.toCharArray();\n            for(char x : testCharList){\n                System.out.print(x+&quot; &quot;);\n            }\n            System.out.println(&quot; &quot;);\n    \n        }\n    }\n\noutput:\n[output][1]\n\nDue to the many different colors having different amounts of digits in their escape sequences, (Red being 31, and a bright red background being 101) a total subtraction of a set number from the String.length() number is not feasible. I am seeking a universal solution to this issue that will work for all colors, and combinations of them, where it only shows the displayed String&#39;s length. \n\n  [1]: https://i.stack.imgur.com/RGe25.png","title":"ANSI color escape sequence chars appearing inside String.length();","body":"<p>When coloring a String with an ANSI escape sequence, then taking the .length() of the String in question, it does not give the length of the visible part of the String, instead including part of the escape sequence.</p>\n<pre><code>import java.util.*;\n\npublic class ColorTest {\n    public static void main(String[] args){\n        String RED    = &quot;\\u001B[31m&quot;;\n        String test = &quot;Test&quot;;\n\n        // Prints length with color\n        System.out.println(test);\n        System.out.println(&quot;Length: &quot;+test.length());\n        \n        // Prints length with color\n        test = RED+test;\n        System.out.println(test);\n        System.out.println(&quot;Length: &quot;+test.length());\n\n        // Prints every char found in the String\n        char[] testCharList = test.toCharArray();\n        for(char x : testCharList){\n            System.out.print(x+&quot; &quot;);\n        }\n        System.out.println(&quot; &quot;);\n\n    }\n}\n</code></pre>\n<p>output:\n<a href=\"https://i.stack.imgur.com/RGe25.png\" rel=\"nofollow noreferrer\">output</a></p>\n<p>Due to the many different colors having different amounts of digits in their escape sequences, (Red being 31, and a bright red background being 101) a total subtraction of a set number from the String.length() number is not feasible. I am seeking a universal solution to this issue that will work for all colors, and combinations of them, where it only shows the displayed String's length.</p>\n"},{"tags":["java","terminal","printing","ansi-escape"],"comments":[{"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"score":0,"creation_date":1618213802,"post_id":67054407,"comment_id":118524405,"body_markdown":"You can replace the System.err with your own PrintStream with System.setErr(). In your own PrintStream you can append ANSI_RED and ANSI_RESET at the start and end of every line of output.","body":"You can replace the System.err with your own PrintStream with System.setErr(). In your own PrintStream you can append ANSI_RED and ANSI_RESET at the start and end of every line of output."},{"owner":{"account_id":19941048,"reputation":1475,"user_id":14911094,"display_name":"Jaysmito Mukherjee"},"score":0,"creation_date":1618214041,"post_id":67054407,"comment_id":118524525,"body_markdown":"@Alex yeah i think i would override the print method","body":"@Alex yeah i think i would override the print method"}],"answers":[{"comments":[{"owner":{"account_id":5719288,"reputation":51945,"user_id":4518274,"display_name":"Thomas Dickey"},"score":0,"creation_date":1618254573,"post_id":67054862,"comment_id":118542147,"body_markdown":"That can only work if you can guarantee that the `print` calls are flushed before any `println` (or other, related output method) is called.","body":"That can only work if you can guarantee that the <code>print</code> calls are flushed before any <code>println</code> (or other, related output method) is called."}],"tags":[],"owner":{"account_id":19941048,"reputation":1475,"user_id":14911094,"display_name":"Jaysmito Mukherjee"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1618215483,"creation_date":1618215483,"answer_id":67054862,"question_id":67054407,"body_markdown":"So, as suggested in the comments i made a class extending PrintStream and override `print and `println` methods.\r\n\r\nMy `PrintStream` class:\r\n\r\n    public class ErrorStreamPrinter extends PrintStream {\r\n    \r\n        public ErrorStreamPrinter(OutputStream out) {\r\n            super(out, true);\r\n        }\r\n    \r\n        @Override\r\n        public void print(String s) {\r\n            super.print(Constants.ANSI_RED);\r\n            super.print(s);\r\n            super.print(Constants.ANSI_RESET);\r\n        }\r\n    \r\n        @Override\r\n        public void println(String s) {\r\n            super.print(Constants.ANSI_RED);\r\n            super.print(s);\r\n            super.println(Constants.ANSI_RESET);\r\n        }\r\n    }\r\n\r\n","title":"Change color of output for different stream in terminal","body":"<p>So, as suggested in the comments i made a class extending PrintStream and override <code>print and </code>println` methods.</p>\n<p>My <code>PrintStream</code> class:</p>\n<pre><code>public class ErrorStreamPrinter extends PrintStream {\n\n    public ErrorStreamPrinter(OutputStream out) {\n        super(out, true);\n    }\n\n    @Override\n    public void print(String s) {\n        super.print(Constants.ANSI_RED);\n        super.print(s);\n        super.print(Constants.ANSI_RESET);\n    }\n\n    @Override\n    public void println(String s) {\n        super.print(Constants.ANSI_RED);\n        super.print(s);\n        super.println(Constants.ANSI_RESET);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19941048,"reputation":1475,"user_id":14911094,"display_name":"Jaysmito Mukherjee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67054862,"answer_count":1,"score":0,"last_activity_date":1679091195,"creation_date":1618213540,"question_id":67054407,"body_markdown":"First to clarify i am not talking about changing color in some ide&#39;s attached terminal but the normal terminal.\r\n\r\nSecondly My problem:\r\n\r\nI have 2 outputstreams both printing to system.out and system.err but i want the system.err one to print in red but the code just takes a stream and calls print and it is too big to change individually all the lines so is there a way that all the outputs to System.err will be red and System.out will be normal\r\n\r\nI tried adding ANSI RED escape code before the code segment for System.err but then out also prints red how can i do have only err as red output!\r\n\r\nMy code now:\r\n\r\n    public class Main {\r\n        public static final String ANSI_RED = &quot;\\u001B[31m&quot;;\r\n        public static final String ANSI_RESET = &quot;\\033[0m&quot;;\r\n        public static void main(String[] args) {\r\n            System.err.print(ANSI_RED);        \r\n            doSomePrinting(System.out, System.err); // This is some method which prints both to System.out and System.err\r\n            System.err.print(ANSI_RESET);        \r\n        }\r\n    }\r\n\r\nBut inside the do something method when i print to System.err it is red but System.out also becomes red!\r\n\r\nHow to solve this issue?\r\n\r\nNote : Please do not suggest to print ANSI_RED and ANSI_RESET before and after everything i print to System.err i know thats a solution but there are a lost of prints thus it will be very difficult to do it and it will be my last option if there are no other possible ways!","title":"Change color of output for different stream in terminal","body":"<p>First to clarify i am not talking about changing color in some ide's attached terminal but the normal terminal.</p>\n<p>Secondly My problem:</p>\n<p>I have 2 outputstreams both printing to system.out and system.err but i want the system.err one to print in red but the code just takes a stream and calls print and it is too big to change individually all the lines so is there a way that all the outputs to System.err will be red and System.out will be normal</p>\n<p>I tried adding ANSI RED escape code before the code segment for System.err but then out also prints red how can i do have only err as red output!</p>\n<p>My code now:</p>\n<pre><code>public class Main {\n    public static final String ANSI_RED = &quot;\\u001B[31m&quot;;\n    public static final String ANSI_RESET = &quot;\\033[0m&quot;;\n    public static void main(String[] args) {\n        System.err.print(ANSI_RED);        \n        doSomePrinting(System.out, System.err); // This is some method which prints both to System.out and System.err\n        System.err.print(ANSI_RESET);        \n    }\n}\n</code></pre>\n<p>But inside the do something method when i print to System.err it is red but System.out also becomes red!</p>\n<p>How to solve this issue?</p>\n<p>Note : Please do not suggest to print ANSI_RED and ANSI_RESET before and after everything i print to System.err i know thats a solution but there are a lost of prints thus it will be very difficult to do it and it will be my last option if there are no other possible ways!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9659,"page":566,"page_size":100}
